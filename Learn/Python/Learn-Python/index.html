<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/blog.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/blog.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/yqq/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Python查缺补漏">
<meta property="og:type" content="article">
<meta property="og:title" content="Python-Note">
<meta property="og:url" content="http://example.com/Learn/Python/Learn-Python/index.html">
<meta property="og:site_name" content="QiYun">
<meta property="og:description" content="Python查缺补漏">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-02-09T07:38:38.000Z">
<meta property="article:modified_time" content="2024-09-27T07:33:47.595Z">
<meta property="article:author" content="Qi Yun">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/Learn/Python/Learn-Python/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Python-Note | QiYun</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">QiYun</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Note</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/Learn/Python/Learn-Python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Qi Yun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QiYun">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python-Note
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-09 15:38:38" itemprop="dateCreated datePublished" datetime="2020-02-09T15:38:38+08:00">2020-02-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-27 15:33:47" itemprop="dateModified" datetime="2024-09-27T15:33:47+08:00">2024-09-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index"><span itemprop="name">Learn</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>6k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>22 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Python查缺补漏</p>
<span id="more"></span>
<h1 id="Python-with-matlab"><a href="#Python-with-matlab" class="headerlink" title="Python (with matlab)"></a>Python (with matlab)</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://ww2.mathworks.cn/help/matlab/matlab_external/install-the-matlab-engine-for-python.html">安装用于 Python 的 MATLAB Engine API - MATLAB &amp; Simulink - MathWorks 中国</a></p>
</blockquote>
<ul>
<li>要从 MATLAB 文件夹安装，请在 Windows® 上键入：<ul>
<li><code>cd &quot;_matlabroot_\extern\engines\python&quot;</code></li>
<li><code>python -m pip install .</code></li>
</ul>
</li>
<li>使用以下命令从 <a target="_blank" rel="noopener" href="https://pypi.org/project/matlabengine">https://pypi.org/project/matlabengine</a> 安装引擎 API：<ul>
<li><code>python -m pip install matlabengine</code></li>
</ul>
</li>
</ul>
<h3 id="启动-MATLAB-Engine"><a href="#启动-MATLAB-Engine" class="headerlink" title="启动 MATLAB Engine"></a>启动 MATLAB Engine</h3><p>启动 Python。在 Python 提示符下键入以下命令，以导入 MATLAB 模块并启动引擎：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matlab.engine</span><br><span class="line">eng = matlab.engine.start_matlab()</span><br></pre></td></tr></table></figure>
<p>matlab2023 最低python版本为 3.9<br>matlab2019 最高python版本为 3.7</p>
<h1 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h1><div class="table-container">
<table>
<thead>
<tr>
<th>Project introduction</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>许多 <strong>Linux</strong> 发行版都用 <strong>systemd 来管理系统的服务</strong>，比如开机启动、自动重启、守护进程等。该项目讲解了如何入门 systemd，并提供了一个 Python 脚本和 systemd unit 文件，可以在此基础上快速开发出 systemd 服务。</td>
<td><a target="_blank" rel="noopener" href="https://github.com/torfsen/python-systemd-tutorial">torfsen/python-systemd-tutorial: A tutorial for writing a systemd service in Python</a></td>
</tr>
<tr>
<td>基于 OpenCV 的拼接模块开发的用于<strong>快速拼接图片的 Python 库</strong></td>
<td><a target="_blank" rel="noopener" href="https://github.com/OpenStitching/stitching">OpenStitching/stitching: A Python package for fast and robust Image Stitching</a></td>
</tr>
<tr>
<td>手写实现李航《统计学习方法》书中全部算法</td>
<td><a target="_blank" rel="noopener" href="https://github.com/Dod-o/Statistical-Learning-Method_Code">Dod-o/Statistical-Learning-Method_Code: 手写实现李航《统计学习方法》书中全部算法</a></td>
</tr>
<tr>
<td>使用 Python 和 Matplotlib 进行科学可视化的开源书籍</td>
<td><a target="_blank" rel="noopener" href="https://github.com/rougier/scientific-visualization-book">rougier/scientific-visualization-book: An open access book on scientific visualization using python and matplotlib</a></td>
</tr>
<tr>
<td>Python 写的人脸识别和面部属性分析框架，可根据人脸图像智能识别年龄、性别、情绪等信息</td>
<td><a target="_blank" rel="noopener" href="https://github.com/serengil/deepface">serengil/deepface: A Lightweight Face Recognition and Facial Attribute Analysis (Age, Gender, Emotion and Race) Library for Python</a></td>
</tr>
</tbody>
</table>
</div>
<h1 id="积累编写技巧"><a href="#积累编写技巧" class="headerlink" title="积累编写技巧"></a>积累编写技巧</h1><h2 id="元组索引列表"><a href="#元组索引列表" class="headerlink" title="元组索引列表"></a>元组索引列表</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">topk_freq</span>(<span class="params">self, x_freq</span>):</span><br><span class="line">  length = x_freq.shape[<span class="number">1</span>]</span><br><span class="line">  top_k = <span class="built_in">int</span>(self.factor * math.log(length))</span><br><span class="line">  <span class="comment"># print(top_k)</span></span><br><span class="line">  values, indices = torch.topk(x_freq.<span class="built_in">abs</span>(), top_k, dim=<span class="number">1</span>, largest=<span class="literal">True</span>, <span class="built_in">sorted</span>=<span class="literal">True</span>) <span class="comment"># (b, top_k, d)</span></span><br><span class="line">  <span class="comment"># print(values.shape, indices.shape); print(values); print(indices)</span></span><br><span class="line">  mesh_a, mesh_b = torch.meshgrid(torch.arange(x_freq.size(<span class="number">0</span>)), torch.arange(x_freq.size(<span class="number">2</span>)), indexing=<span class="string">&#x27;ij&#x27;</span>) <span class="comment"># (b, d)</span></span><br><span class="line">  index_tuple = (mesh_a.unsqueeze(<span class="number">1</span>), indices, mesh_b.unsqueeze(<span class="number">1</span>)) <span class="comment"># (b, 1, d) (b, top_k, d) (b, 1, d)</span></span><br><span class="line">  x_freq = x_freq[index_tuple] <span class="comment"># (b, top_k, d)</span></span><br><span class="line"><span class="keyword">return</span> x_freq, index_tuple</span><br></pre></td></tr></table></figure>
<ul>
<li>变量的交换<code>a,b = b,a</code></li>
<li>字符串格式化</li>
</ul>
<p><code>print(&quot;Hi, I&#39;m %s . I&#39;m from %s . And I&#39;m %d&quot; % (name,country,age))</code><br><code>print(&quot;Hi, I&#39;m &#123;&#125; . I&#39;m from &#123;&#125; . And I&#39;m &#123;&#125;&quot;.format(name,country,age))</code><br><code>print(f&quot;Hi, I&#39;m &#123;name&#125; . I&#39;m from &#123;country&#125; . And I&#39;m &#123;age+1&#125;&quot;</code></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ux4y1179J/?vd_source=1dba7493016a36a32b27a14ed2891088">[双字] {Python}中5个好用的&lt;字符串格式化&gt;技巧_哔哩哔哩_bilibili</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">n: <span class="built_in">int</span> = <span class="number">1000000000</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:_&#125;</span>&#x27;</span>) <span class="comment"># 1_000_000_000</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:,&#125;</span>&#x27;</span>) <span class="comment"># 1,000,000,000</span></span><br><span class="line"></span><br><span class="line">var: <span class="built_in">str</span> = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:&gt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># 一共20个空格，右对齐</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># 左对齐</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:&lt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># 左对齐</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:^<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># 居中</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:_&gt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># 空格变成下划线</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:#&gt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># 空格变成#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">now: datetime = datetime.now()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%d.%m.%y (%H:%M:%S)&#125;</span>&#x27;</span>) <span class="comment"># 17.02.24 (11:20:56)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%c&#125;</span>&#x27;</span>) <span class="comment"># Sat Feb 17 11:20:56 2024</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%I%p&#125;</span>&#x27;</span>) <span class="comment"># 11AM</span></span><br><span class="line"></span><br><span class="line">n: <span class="built_in">float</span> = <span class="number">1234.5678</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:<span class="number">.2</span>f&#125;</span>&#x27;</span>) <span class="comment"># 1234.57</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:<span class="number">.0</span>f&#125;</span>&#x27;</span>) <span class="comment"># 1235</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:,<span class="number">.3</span>f&#125;</span>&#x27;</span>) <span class="comment"># 123,4.568</span></span><br><span class="line"></span><br><span class="line">a: <span class="built_in">int</span> = <span class="number">5</span></span><br><span class="line">b: <span class="built_in">int</span> = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;a+b=&#125;</span>&#x27;</span>) <span class="comment"># a+b=15</span></span><br><span class="line"></span><br><span class="line">my_var: <span class="built_in">str</span> = <span class="string">&#x27;my variable&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;my_var=&#125;</span>&#x27;</span>) <span class="comment"># my_var=&#x27;my variable&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;my_var=<span class="subst">&#123;my_var&#125;</span>&#x27;</span>) <span class="comment"># my_var=my variable</span></span><br></pre></td></tr></table></figure>
<h2 id="Yield"><a href="#Yield" class="headerlink" title="Yield"></a>Yield</h2><p>yield不需要整个列表生成完毕后再输出，可以一个一个输出。每当一个数据生成时，可以直接输出</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fibonacci</span>(<span class="params">n</span>):</span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    b = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">yield</span> a</span><br><span class="line">        a, b = b, a+b</span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> fibonacci(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>
<h2 id="map和zip"><a href="#map和zip" class="headerlink" title="map和zip"></a>map和zip</h2><p><code>map(function,sequence)</code><br>对序列sequence中每个元素都执行函数function操作，如<code>map(str,mylist)</code>：将列表中的每一项转换成字符串。<br>list()将每一项转换成列表</p>
<p><code>zip(*list)</code>返回的是一个元组，转置<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line">t = <span class="built_in">zip</span>(*<span class="built_in">list</span>)</span><br><span class="line"><span class="built_in">print</span> t</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>), (<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>), (<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>)]</span><br><span class="line"></span><br><span class="line">x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">y = [<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line">a = <span class="built_in">zip</span>(x,y)</span><br><span class="line"><span class="built_in">print</span> a</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">6</span>), (<span class="number">2</span>, <span class="number">7</span>), (<span class="number">3</span>, <span class="number">8</span>), (<span class="number">4</span>, <span class="number">9</span>), (<span class="number">5</span>, <span class="number">10</span>)]</span><br></pre></td></tr></table></figure></p>
<p>eg：将多个列表合并创建json数组</p>
<p>new_list = list(map(list, zip(address, temp)))<br>jsonify({<br>    ‘data’: new_list<br>})</p>
<h2 id="partial"><a href="#partial" class="headerlink" title="partial"></a>partial</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果 clip_x_start 则创建一个maybe_clip函数，根据输入的x_ 输出 torch.clamp(x_, min=-1., max=1.)</span></span><br><span class="line">maybe_clip = partial(torch.clamp, <span class="built_in">min</span>=-<span class="number">1.</span>, <span class="built_in">max</span>=<span class="number">1.</span>) <span class="keyword">if</span> clip_x_start <span class="keyword">else</span> identity</span><br></pre></td></tr></table></figure>
<h1 id="Python基础"><a href="#Python基础" class="headerlink" title="Python基础"></a>Python基础</h1><h2 id="try…except"><a href="#try…except" class="headerlink" title="try…except"></a>try…except</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python 异常处理</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">&lt;语句&gt;        <span class="comment">#运行别的代码</span></span><br><span class="line"><span class="keyword">except</span> &lt;名字&gt;：</span><br><span class="line">&lt;语句&gt;        <span class="comment">#如果在try部份引发了&#x27;name&#x27;异常</span></span><br><span class="line"><span class="keyword">except</span> &lt;名字&gt;，&lt;数据&gt;:</span><br><span class="line">&lt;语句&gt;        <span class="comment">#如果引发了&#x27;name&#x27;异常，获得附加的数据</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">&lt;语句&gt;        <span class="comment">#如果没有异常发生</span></span><br></pre></td></tr></table></figure>
<p>单个 try-except 语句捕获所有发生的异常，不是一个很好的方式。可以使用多个except异常语句</p>
<ul>
<li>finally 退出try时总会执行<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">&lt;语句&gt;</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">&lt;语句&gt;    <span class="comment">#退出try时总会执行</span></span><br><span class="line"><span class="keyword">raise</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    正常的操作</span><br><span class="line">   ......................</span><br><span class="line"><span class="keyword">except</span> ExceptionType, Argument:</span><br><span class="line">    你可以在这输出 Argument 的值...</span><br></pre></td></tr></table></figure>
<h3 id="用户自定义异常"><a href="#用户自定义异常" class="headerlink" title="用户自定义异常"></a>用户自定义异常</h3><ul>
<li>通过创建一个新的异常类，程序可以命名它们自己的异常。异常应该是典型的继承自 Exception 类，通过直接或间接的方式</li>
<li>以下为与 RuntimeError 相关的实例,实例中创建了一个类，基类为 RuntimeError，用于在异常触发时输出更多的信息</li>
<li>在 try 语句块中，用户自定义的异常后执行 except 块语句，变量 e 是用于创建 Networkerror 类的实例</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Networkerror</span>(<span class="title class_ inherited__">RuntimeError</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, arg</span>):</span><br><span class="line">        self.args = arg</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>在你定义以上类后，你可以触发该异常，如下所示：</strong></li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">raise</span> Networkerror(<span class="string">&quot;Bad hostname&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> Networkerror,e:</span><br><span class="line">    <span class="built_in">print</span> e.args</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">异常名称</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">BaseException</td>
<td style="text-align:center">所有异常的基类</td>
</tr>
<tr>
<td style="text-align:center">SystemExit</td>
<td style="text-align:center">解释器请求退出</td>
</tr>
<tr>
<td style="text-align:center">KeyboardInterrupt</td>
<td style="text-align:center">用户中断执行(通常是输入^C)</td>
</tr>
<tr>
<td style="text-align:center">Exception</td>
<td style="text-align:center">常规错误的基类</td>
</tr>
<tr>
<td style="text-align:center">StopIteration</td>
<td style="text-align:center">迭代器没有更多的值</td>
</tr>
<tr>
<td style="text-align:center">GeneratorExit</td>
<td style="text-align:center">生成器(generator)发生异常来通知退出</td>
</tr>
<tr>
<td style="text-align:center">StandardError</td>
<td style="text-align:center">所有的内建标准异常的基类</td>
</tr>
<tr>
<td style="text-align:center">ArithmeticError</td>
<td style="text-align:center">所有数值计算错误的基类</td>
</tr>
<tr>
<td style="text-align:center">FloatingPointError</td>
<td style="text-align:center">浮点计算错误</td>
</tr>
<tr>
<td style="text-align:center">OverflowError</td>
<td style="text-align:center">数值运算超出最大限制</td>
</tr>
<tr>
<td style="text-align:center">ZeroDivisionError</td>
<td style="text-align:center">除(或取模)零 (所有数据类型)</td>
</tr>
<tr>
<td style="text-align:center">AssertionError</td>
<td style="text-align:center">断言语句失败</td>
</tr>
<tr>
<td style="text-align:center">AttributeError</td>
<td style="text-align:center">对象没有这个属性</td>
</tr>
<tr>
<td style="text-align:center">EOFError</td>
<td style="text-align:center">没有内建输入,到达 EOF 标记</td>
</tr>
<tr>
<td style="text-align:center">EnvironmentError</td>
<td style="text-align:center">操作系统错误的基类</td>
</tr>
<tr>
<td style="text-align:center">IOError</td>
<td style="text-align:center">输入/输出操作失败</td>
</tr>
<tr>
<td style="text-align:center">OSError</td>
<td style="text-align:center">操作系统错误</td>
</tr>
<tr>
<td style="text-align:center">WindowsError</td>
<td style="text-align:center">系统调用失败</td>
</tr>
<tr>
<td style="text-align:center">ImportError</td>
<td style="text-align:center">导入模块/对象失败</td>
</tr>
<tr>
<td style="text-align:center">LookupError</td>
<td style="text-align:center">无效数据查询的基类</td>
</tr>
<tr>
<td style="text-align:center">IndexError</td>
<td style="text-align:center">序列中没有此索引(index)</td>
</tr>
<tr>
<td style="text-align:center">KeyError</td>
<td style="text-align:center">映射中没有这个键</td>
</tr>
<tr>
<td style="text-align:center">MemoryError</td>
<td style="text-align:center">内存溢出错误(对于 Python 解释器不是致命的)</td>
</tr>
<tr>
<td style="text-align:center">NameError</td>
<td style="text-align:center">未声明/初始化对象 (没有属性)</td>
</tr>
<tr>
<td style="text-align:center">UnboundLocalError</td>
<td style="text-align:center">访问未初始化的本地变量</td>
</tr>
<tr>
<td style="text-align:center">ReferenceError</td>
<td style="text-align:center">弱引用(Weak reference)试图访问已经垃圾回收了的对象</td>
</tr>
<tr>
<td style="text-align:center">RuntimeError</td>
<td style="text-align:center">一般的运行时错误</td>
</tr>
<tr>
<td style="text-align:center">NotImplementedError</td>
<td style="text-align:center">尚未实现的方法</td>
</tr>
<tr>
<td style="text-align:center">SyntaxError Python</td>
<td style="text-align:center">语法错误</td>
</tr>
<tr>
<td style="text-align:center">IndentationError</td>
<td style="text-align:center">缩进错误</td>
</tr>
<tr>
<td style="text-align:center">TabError Tab</td>
<td style="text-align:center">和空格混用</td>
</tr>
<tr>
<td style="text-align:center">SystemError</td>
<td style="text-align:center">一般的解释器系统错误</td>
</tr>
<tr>
<td style="text-align:center">TypeError</td>
<td style="text-align:center">对类型无效的操作</td>
</tr>
<tr>
<td style="text-align:center">ValueError</td>
<td style="text-align:center">传入无效的参数</td>
</tr>
<tr>
<td style="text-align:center">UnicodeError Unicode</td>
<td style="text-align:center">相关的错误</td>
</tr>
<tr>
<td style="text-align:center">UnicodeDecodeError Unicode</td>
<td style="text-align:center">解码时的错误</td>
</tr>
<tr>
<td style="text-align:center">UnicodeEncodeError Unicode</td>
<td style="text-align:center">编码时错误</td>
</tr>
<tr>
<td style="text-align:center">UnicodeTranslateError Unicode</td>
<td style="text-align:center">转换时错误</td>
</tr>
<tr>
<td style="text-align:center">Warning</td>
<td style="text-align:center">警告的基类</td>
</tr>
<tr>
<td style="text-align:center">DeprecationWarning</td>
<td style="text-align:center">关于被弃用的特征的警告</td>
</tr>
<tr>
<td style="text-align:center">FutureWarning</td>
<td style="text-align:center">关于构造将来语义会有改变的警告</td>
</tr>
<tr>
<td style="text-align:center">OverflowWarning</td>
<td style="text-align:center">旧的关于自动提升为长整型(long)的警告</td>
</tr>
<tr>
<td style="text-align:center">PendingDeprecationWarning</td>
<td style="text-align:center">关于特性将会被废弃的警告</td>
</tr>
<tr>
<td style="text-align:center">RuntimeWarning</td>
<td style="text-align:center">可疑的运行时行为(runtime behavior)的警告</td>
</tr>
<tr>
<td style="text-align:center">SyntaxWarning</td>
<td style="text-align:center">可疑的语法的警告</td>
</tr>
<tr>
<td style="text-align:center">UserWarning</td>
<td style="text-align:center">用户代码生成的警告</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>参考<a target="_blank" rel="noopener" href="https://www.runoob.com/python/python-exceptions.html">教程</a></p>
</blockquote>
<h2 id="加减乘除"><a href="#加减乘除" class="headerlink" title="加减乘除"></a>加减乘除</h2><h3 id="python-保留小数位"><a href="#python-保留小数位" class="headerlink" title="python 保留小数位"></a>python 保留小数位</h3><p>保留两位小数 <code>a=2.32424</code><br><code>round(a,2)</code><br><code>&quot;%.2f&quot; %a</code><br><code>f&#39;&#123;a:.2f&#125;&#39;</code></p>
<h3 id="除法和取模"><a href="#除法和取模" class="headerlink" title="除法和取模"></a>除法和取模</h3><p>Python中<br>// ：地板除，即向负无穷取整</p>
<ul>
<li>8//3 结果为2</li>
<li>-8//3 结果为-3</li>
</ul>
<p>Python中：% 取模（modulus）<strong>与取余数有很大区别</strong></p>
<ul>
<li>-10%3 结果为2</li>
<li>-90%8结果为6</li>
</ul>
<p>C++中：% 取余</p>
<ul>
<li>-10%3 结果为-1</li>
<li>-90%8结果为-2</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 取模，Python中可直接用%，计算模，r = a % b</span><br><span class="line">def mod(a, b):    </span><br><span class="line">    c = a // b</span><br><span class="line">    r = a - c * b</span><br><span class="line">    return r</span><br><span class="line"> </span><br><span class="line"># 取余 </span><br><span class="line">def rem(a, b):</span><br><span class="line">    c = int(a / b)</span><br><span class="line">    r = a - c * b</span><br><span class="line">    return r</span><br></pre></td></tr></table></figure>
<h2 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h2><ul>
<li><code>str.split()</code> 对字符串进行切片—返回一个列表<ul>
<li>语法<code>str.split(str=&quot;&quot;, num=string.count(str)).</code><ul>
<li>str：分隔符，默认为所有的空字符，包括空格、换行、指标</li>
<li>num：分割次数，默认为-1，即分割所有</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><code>str.find()</code> <strong>检测字符串中是否包含子字符串 str</strong><ul>
<li>_如果包含子字符串返回开始的索引值，否则返回-1_</li>
</ul>
<ul>
<li>语法<code>str.find(str, beg=0, end=len(string))</code><ul>
<li>str — 指定检索的字符串</li>
<li>beg — 开始索引，默认为 0</li>
<li>end — 结束索引，默认为字符串的长度</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><code>string.join()</code><ul>
<li>语法 <code>&#39;sep&#39;.join(seq)</code>以 sep 作为分隔符，将 seq 所有的元素合并成一个新的字符串 返回值：返回一个以分隔符 sep 连接各个元素后生成的字符串<ul>
<li>sep：分隔符。可以为空</li>
<li>seq：要连接的元素序列、字符串、元组、字典</li>
</ul>
</li>
</ul>
</li>
<li>ord() &amp; chr()<ul>
<li>ord()将字符转化为ascii码</li>
<li>chr()将ascii码转化为字母或实际数字</li>
</ul>
</li>
</ul>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h3 id="txt文件"><a href="#txt文件" class="headerlink" title="txt文件"></a>txt文件</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fd = <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)      <span class="comment">#utf-8 or GBK</span></span><br><span class="line">fd.write(content)</span><br><span class="line">fd.close()</span><br></pre></td></tr></table></figure>
<p>其中 content 可以是字符串，变量，\t ……</p>
<hr/>

<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">r</th>
<th style="text-align:center">w</th>
<th style="text-align:center">a</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">只读</td>
<td style="text-align:center">覆盖写</td>
<td style="text-align:center">添加写</td>
</tr>
</tbody>
</table>
</div>
<h4 id="读取txt行"><a href="#读取txt行" class="headerlink" title="读取txt行"></a>读取txt行</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f.readlines()<span class="comment"># 全部读取最后返回一个列表存所有的类,每行后面都会带有“\n”</span></span><br><span class="line">f.readline()<span class="comment"># 读取一列数据</span></span><br></pre></td></tr></table></figure>
<h3 id="csv文件"><a href="#csv文件" class="headerlink" title="csv文件"></a>csv文件</h3><h4 id="写入列表"><a href="#写入列表" class="headerlink" title="写入列表"></a>写入列表</h4><ul>
<li>headers :表头</li>
<li>rows :内容</li>
<li><code>f*csv = csv.writer(f)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\_f 为 open(&#39;file.txt&#39;,&#39;w&#39;,encoding=&#39;utf-8&#39;)*</code></li>
<li>f_csv.writerow(headers)</li>
<li>f_csv.writerows(rows)</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">headers = [<span class="string">&#x27;class&#x27;</span>,<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;height&#x27;</span>,<span class="string">&#x27;year&#x27;</span>]</span><br><span class="line"></span><br><span class="line">rows = [</span><br><span class="line">        [<span class="number">1</span>,<span class="string">&#x27;xiaoming&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">168</span>,<span class="number">23</span>],</span><br><span class="line">        [<span class="number">1</span>,<span class="string">&#x27;xiaohong&#x27;</span>,<span class="string">&#x27;female&#x27;</span>,<span class="number">162</span>,<span class="number">22</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="string">&#x27;xiaozhang&#x27;</span>,<span class="string">&#x27;female&#x27;</span>,<span class="number">163</span>,<span class="number">21</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="string">&#x27;xiaoli&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">158</span>,<span class="number">21</span>]</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.writer(f)</span><br><span class="line">    f_csv.writerow(headers)</span><br><span class="line">    f_csv.writerows(rows)</span><br></pre></td></tr></table></figure>
<p>_注意：如果打开 csv 文件出现空行的情况，那么需要添加一个参数 newline=”_<br><code>with open(&#39;test.csv&#39;,&#39;w&#39;,newline=&#39;&#39;)as f:</code></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">class</th>
<th style="text-align:center">name</th>
<th style="text-align:center">sex</th>
<th style="text-align:center">height</th>
<th style="text-align:center">year</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">xiaoming</td>
<td style="text-align:center">male</td>
<td style="text-align:center">168</td>
<td style="text-align:center">23</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">xiaohong</td>
<td style="text-align:center">female</td>
<td style="text-align:center">162</td>
<td style="text-align:center">22</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">xiaozhang</td>
<td style="text-align:center">female</td>
<td style="text-align:center">163</td>
<td style="text-align:center">21</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">xiaoli</td>
<td style="text-align:center">male</td>
<td style="text-align:center">158</td>
<td style="text-align:center">21</td>
</tr>
</tbody>
</table>
</div>
<h4 id="写入字典"><a href="#写入字典" class="headerlink" title="写入字典"></a>写入字典</h4><ul>
<li>headers :表头</li>
<li>rows :内容</li>
<li>f_csv = DictWriter(f,headers)</li>
<li>f_csv.writeheader()</li>
<li>f_csv.writerows(rows)</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">headers = [<span class="string">&#x27;class&#x27;</span>,<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;height&#x27;</span>,<span class="string">&#x27;year&#x27;</span>]</span><br><span class="line"></span><br><span class="line">rows = [</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaoming&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">168</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">23</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaohong&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;female&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">162</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">22</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaozhang&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;female&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">163</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">21</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaoli&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">158</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">21</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test2.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.DictWriter(f,headers)</span><br><span class="line">    f_csv.writeheader()</span><br><span class="line">    f_csv.writerows(rows)</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">class</th>
<th style="text-align:center">name</th>
<th style="text-align:center">sex</th>
<th style="text-align:center">height</th>
<th style="text-align:center">year</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">xiaoming</td>
<td style="text-align:center">male</td>
<td style="text-align:center">168</td>
<td style="text-align:center">23</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">xiaohong</td>
<td style="text-align:center">female</td>
<td style="text-align:center">162</td>
<td style="text-align:center">22</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">xiaozhang</td>
<td style="text-align:center">female</td>
<td style="text-align:center">163</td>
<td style="text-align:center">21</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">xiaoli</td>
<td style="text-align:center">male</td>
<td style="text-align:center">158</td>
<td style="text-align:center">21</td>
</tr>
</tbody>
</table>
</div>
<h4 id="csv读取"><a href="#csv读取" class="headerlink" title="# csv读取"></a># csv读取</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.csv&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.reader(f)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_csv:</span><br><span class="line">        <span class="built_in">print</span>(row)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;result</span></span><br><span class="line"><span class="string">[&#x27;class&#x27;, &#x27;name&#x27;, &#x27;sex&#x27;, &#x27;height&#x27;, &#x27;year&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;1&#x27;, &#x27;xiaoming&#x27;, &#x27;male&#x27;, &#x27;168&#x27;, &#x27;23&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;1&#x27;, &#x27;xiaohong&#x27;, &#x27;female&#x27;, &#x27;162&#x27;, &#x27;22&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;2&#x27;, &#x27;xiaozhang&#x27;, &#x27;female&#x27;, &#x27;163&#x27;, &#x27;21&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;2&#x27;, &#x27;xiaoli&#x27;, &#x27;male&#x27;, &#x27;158&#x27;, &#x27;21&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.csv&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.reader(f)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_csv:</span><br><span class="line">        <span class="built_in">print</span>(row[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;result</span></span><br><span class="line"><span class="string">class</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/katyusha1/article/details/81606175" title="CSDN">网站</a></p>
</blockquote>
<ul>
<li>with open () as 读写文件</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())</span><br><span class="line"><span class="comment"># 不需调用f.close()</span></span><br><span class="line"><span class="comment"># 如果文件过大则用read(size)比较保险</span></span><br><span class="line"><span class="comment"># 如果文件是配置文件readlines()较为方便</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&#x27;Hello World !&#x27;</span>)</span><br><span class="line"><span class="comment"># 文本文件    encoding 字符编码：gbk，utf-8</span></span><br><span class="line"><span class="comment"># 二进制文件  rb模式读取:图片,视频</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/xrinosvip/article/details/82019844" title="CSDN">网站</a></p>
</blockquote>
<h3 id="os文件夹"><a href="#os文件夹" class="headerlink" title="os文件夹"></a>os文件夹</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">main_path = <span class="string">&#x27;E:/os/&#x27;</span>    <span class="comment">#创建一个路径</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):   <span class="comment">#如果该路径不存在</span></span><br><span class="line">    os.makedirs(main_path)  <span class="comment">#则新建一个路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者直接</span></span><br><span class="line">os.makedirs(path, exist_ok=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>删除文件: <code>os.remove(path)</code></li>
<li>获取绝对路径: <code>os.path.abspath</code></li>
<li>路径拼接：<code>os.path.join()</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(os.path.abspath(&#x27;.&#x27;))</span><br><span class="line"></span><br><span class="line">运行PS E:\BaiduSyncdisk\NeRF_Proj\NeRO&gt; &amp; F:/miniconda/envs/nero/python.exe e:/BaiduSyncdisk/NeRF_Proj/NeRO/blender_backend/relight_backend.py</span><br><span class="line"></span><br><span class="line">输出：E:\BaiduSyncdisk\NeRF_Proj\NeRO</span><br></pre></td></tr></table></figure>
<h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39478403/article/details/105746952">【Python】详解 collections.defaultdict-CSDN博客</a></p>
</blockquote>
<p><strong>collections</strong> 作为 Python 的内建集合模块，实现了许多十分高效的特殊容器数据类型，即除了 Python 通用内置容器： dict、list、set 和 tuple 等的替代方案</p>
<h1 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017451662295584">装饰器 - 廖雪峰的官方网站 (liaoxuefeng.com)</a></p>
</blockquote>
<p>eg：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def metric(fn):</span><br><span class="line">    # print(&#x27;%s executed in %s ms&#x27; % (fn.__name__, 10.24))</span><br><span class="line">    @functools.wraps(fn)</span><br><span class="line">    def wrapper(*args, **kw):</span><br><span class="line">        start = time.time()</span><br><span class="line">        res = fn(*args, **kw)</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(&#x27;&#123;:s&#125; executed in &#123;:5f&#125; ms, &#x27; &#x27;and the result is &#123;:d&#125;&#x27;.format(fn.__name__, (end - start), res))</span><br><span class="line">        return fn(*args, **kw)</span><br><span class="line">    return wrapper</span><br><span class="line"></span><br><span class="line"># 测试</span><br><span class="line">@metric</span><br><span class="line">def fast(x, y):</span><br><span class="line">    time.sleep(0.0012)</span><br><span class="line">    return x + y;</span><br><span class="line"></span><br><span class="line">@metric</span><br><span class="line">def slow(x, y, z):</span><br><span class="line">    time.sleep(0.1234)</span><br><span class="line">    return x * y * z;</span><br><span class="line"></span><br><span class="line">f = fast(11, 22)</span><br><span class="line">s = slow(11, 22, 33)</span><br><span class="line">if f != 33:</span><br><span class="line">    print(&#x27;测试失败!&#x27;)</span><br><span class="line">elif s != 7986:</span><br><span class="line">    print(&#x27;测试失败!&#x27;)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">print(fast.__name__)</span><br><span class="line">如果有@functools.wraps(fn)，则返回fast</span><br><span class="line">如果没有@functools.wraps(fn)，则返回wrapper</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">print(fast.__name__)</span><br><span class="line"></span><br><span class="line">output: </span><br><span class="line">fast executed in 0.013472 ms, and the result is 33</span><br><span class="line">slow executed in 0.124733 ms, and the result is 7986</span><br><span class="line">fast</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def log(func):</span><br><span class="line">    def wrapper(*args, **kw):</span><br><span class="line">        print(&#x27;call %s():&#x27; % func.__name__)</span><br><span class="line">        return func(*args, **kw)</span><br><span class="line">    return wrapper</span><br><span class="line"></span><br><span class="line">@log</span><br><span class="line">def now():</span><br><span class="line">    print(&#x27;2015-3-25&#x27;)</span><br><span class="line"></span><br><span class="line">执行：now()</span><br><span class="line">output:</span><br><span class="line">call now():</span><br><span class="line">2015-3-25</span><br></pre></td></tr></table></figure>
<p>把<code>@log</code>放到<code>now()</code>函数的定义处，相当于执行了语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">now = log(now)</span><br></pre></td></tr></table></figure>
<p>由于log()是一个decorator，返回一个函数，所以，原来的now()函数仍然存在，只是现在同名的now变量指向了新的函数，于是调用now()将执行新函数，即在log()函数中返回的wrapper()函数。</p>
<h2 id="装饰器需要参数"><a href="#装饰器需要参数" class="headerlink" title="装饰器需要参数"></a>装饰器需要参数</h2><p>如果decorator本身需要传入参数，那就需要编写一个返回decorator的高阶函数，写出来会更复杂。比如，要自定义log的文本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def log(text):</span><br><span class="line">    def decorator(func):</span><br><span class="line">        def wrapper(*args, **kw):</span><br><span class="line">            print(&#x27;%s %s():&#x27; % (text, func.__name__))</span><br><span class="line">            return func(*args, **kw)</span><br><span class="line">        return wrapper</span><br><span class="line">    return decorator</span><br></pre></td></tr></table></figure>
<p>这个3层嵌套的decorator用法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@log(&#x27;execute&#x27;)</span><br><span class="line">def now():</span><br><span class="line">    print(&#x27;2015-3-25&#x27;)</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; now()</span><br><span class="line">execute now():</span><br><span class="line">2015-3-25</span><br></pre></td></tr></table></figure>
<p>和两层嵌套的decorator相比，3层嵌套的效果是这样的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; now = log(&#x27;execute&#x27;)(now)</span><br></pre></td></tr></table></figure>
<h2 id="原始函数属性复制到装饰后的函数中"><a href="#原始函数属性复制到装饰后的函数中" class="headerlink" title="原始函数属性复制到装饰后的函数中"></a>原始函数属性复制到装饰后的函数中</h2><p>以上两种decorator的定义都没有问题，但还差最后一步。因为我们讲了函数也是对象，它有<code>__name__</code>等属性，但你去看经过decorator装饰之后的函数，它们的<code>__name__</code>已经从原来的<code>&#39;now&#39;</code>变成了<code>&#39;wrapper&#39;</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; now.__name__</span><br><span class="line">&#x27;wrapper&#x27;</span><br></pre></td></tr></table></figure>
<p>因为返回的那个<code>wrapper()</code>函数名字就是<code>&#39;wrapper&#39;</code>，所以，需要把原始函数的<code>__name__</code>等属性复制到<code>wrapper()</code>函数中，否则，有些依赖函数签名的代码执行就会出错。</p>
<p>不需要编写<code>wrapper.__name__ = func.__name__</code>这样的代码，Python内置的<code>functools.wraps</code>就是干这个事的，所以，一个完整的decorator的写法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def log(func):</span><br><span class="line">    @functools.wraps(func)</span><br><span class="line">    def wrapper(*args, **kw):</span><br><span class="line">        print(&#x27;call %s():&#x27; % func.__name__)</span><br><span class="line">        return func(*args, **kw)</span><br><span class="line">    return wrapper</span><br></pre></td></tr></table></figure>
<p>或者针对带参数的decorator：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def log(text):</span><br><span class="line">    def decorator(func):</span><br><span class="line">        @functools.wraps(func)</span><br><span class="line">        def wrapper(*args, **kw):</span><br><span class="line">            print(&#x27;%s %s():&#x27; % (text, func.__name__))</span><br><span class="line">            return func(*args, **kw)</span><br><span class="line">        return wrapper</span><br><span class="line">    return decorator</span><br></pre></td></tr></table></figure>
<p><code>import functools</code>是导入<code>functools</code>模块。模块的概念稍候讲解。现在，只需记住在定义<code>wrapper()</code>的前面加上<code>@functools.wraps(func)</code>即可。</p>
<h2 id="类的定义和实例创建"><a href="#类的定义和实例创建" class="headerlink" title="类的定义和实例创建"></a>类的定义和实例创建</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义类，类名为Cname</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建cname1实例</span></span><br><span class="line">cname1 = Cname()</span><br></pre></td></tr></table></figure>
<h2 id="类中的实例属性与类属性"><a href="#类中的实例属性与类属性" class="headerlink" title="类中的实例属性与类属性"></a>类中的实例属性与类属性</h2><ul>
<li>实例属性：用于区分不同的实例，不同的类有不同的实例属性</li>
<li>类属性：是每个实例共有的属性，每个实例共有的属性</li>
</ul>
<p>实例属性，每个实例有各自的属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例属性（复杂）</span></span><br><span class="line">cname1.name = y</span><br><span class="line">cname2.name = q</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例属性（统一添加）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):  <span class="comment"># 初始化一个属性r</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">cname1 = Cname(y)</span><br><span class="line"><span class="built_in">print</span>(cname1.name)</span><br></pre></td></tr></table></figure>
<p>类的属性绑定后，所有实例都可以访问，而且<strong>实例访问的类属性都相同</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    zhongz = <span class="string">&#x27;people&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">cname1 = Cname(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">cname2 = Cname(<span class="string">&#x27;q&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># people</span></span><br><span class="line"><span class="built_in">print</span>(cname2.zhongz)    <span class="comment"># people</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过类名修改了类属性后</span></span><br><span class="line">Cname.zhongz = <span class="string">&#x27;tenshi&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># tenshi</span></span><br><span class="line"><span class="built_in">print</span>(cname2.zhongz)    <span class="comment"># tenshi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过实例名修改了类属性</span></span><br><span class="line">cname1.zhongz = <span class="string">&#x27;mea&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># mea</span></span><br><span class="line"><span class="built_in">print</span>(cname2.zhongz)    <span class="comment"># tenshi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除了cname1的类属性zhongz后</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># mea</span></span><br><span class="line"><span class="keyword">del</span> cname1.zhongz</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># tenshi</span></span><br></pre></td></tr></table></figure>
<p><strong>要修改类属性，不要再实例上修改，而是在类名上修改</strong></p>
<h2 id="类的实例方法"><a href="#类的实例方法" class="headerlink" title="类的实例方法"></a>类的实例方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    zhongz = <span class="string">&#x27;people&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printname</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name) <span class="comment"># 打印名字</span></span><br><span class="line"></span><br><span class="line">cname1 = Cname(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">cname2 = Cname(<span class="string">&#x27;q&#x27;</span>)</span><br><span class="line">cname1.printname()  <span class="comment"># y</span></span><br><span class="line">cname2.printname()  <span class="comment"># q</span></span><br></pre></td></tr></table></figure>
<p><code>printname(self)</code>就是一个最简单的方法</p>
<h2 id="类中的访问限制"><a href="#类中的访问限制" class="headerlink" title="类中的访问限制"></a>类中的访问限制</h2><h3 id="属性的访问限制"><a href="#属性的访问限制" class="headerlink" title="属性的访问限制"></a>属性的访问限制</h3><p>python的类中的属性，如果有些属性不希望被外部访问，我们可以属性命名时以双下划线开头 <code>__</code>，如 <code>__age</code></p>
<blockquote>
<p>但，如果一个属性以”__xxx__“的形式定义，那么它可以被外部访问。以”__xxx__“定义的属性在Python的类中被称为特殊属性，有很多预定义的特殊属性是以“__xxx__”定义，所以我们不要把普通属性用”__xxx__“定义。</p>
<p><strong>加双下划线__xx 的属性，可以通过“ _类名__xx ”可以访问到属性的值 如<code>Cname._Cname__age</code></strong></p>
</blockquote>
<h3 id="方法的访问限制"><a href="#方法的访问限制" class="headerlink" title="方法的访问限制"></a>方法的访问限制</h3><p>双下划线，如<code>def __printage():</code></p>
<ul>
<li>此时，该方法只能在类的内部使用，而无法被外部调用</li>
</ul>
<p>单下划线，不能通过 from module import * 这种方式导入，可以通过其他方式：</p>
<ul>
<li>import A</li>
<li><code>b = A._B()</code></li>
</ul>
<h2 id="类中的装饰方法"><a href="#类中的装饰方法" class="headerlink" title="类中的装饰方法"></a>类中的装饰方法</h2><ul>
<li><code>@classmethod</code>    用来修饰类方法。使用在与类进行交互，但不和其实例进行交互的函数方法上</li>
<li><code>@staticmethod</code>   用来修饰静态方法。使用在有些与类相关函数，但不使用该类或该类的实例。如更改环境变量、修改其他类的属性等</li>
</ul>
<p><em>classmethod必须使用类的对象作为第一个参数，而staticmethod则可以不传递任何参数</em></p>
<h3 id="classmethod-修饰方法——类方法"><a href="#classmethod-修饰方法——类方法" class="headerlink" title="@classmethod 修饰方法——类方法"></a>@classmethod 修饰方法——类方法</h3><p>类方法，我们不用通过实例化类就能访问的方法。而且@classmethod 装饰的方法不能使用实例属性，只能是类属性。它主要使用在和类进行交互，但不和其实例进行交互的函数方法上。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    zhongz = <span class="string">&#x27;people&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printname</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name)</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printwe</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="built_in">print</span>(cls.zhongz)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cname.printname()   # 没有实例化 ，会发生错误</span></span><br><span class="line">Cname.printwe()     <span class="comment"># 没有实例化也可以访问</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>printwe(cls)中cls表示的是类，它和self类实例有一定的差别。类方法中都是使用cls，实例方法中使用self</p>
</blockquote>
<h3 id="staticmethod-修饰方法——静态方法"><a href="#staticmethod-修饰方法——静态方法" class="headerlink" title="@staticmethod 修饰方法——静态方法"></a>@staticmethod 修饰方法——静态方法</h3><p><code>@staticmethod</code> 不强制要求传递参数（它做的事与类方法或实例方法一样）<br><code>@staticmethod</code> 使用在有些和类相关函数，但不使用该类或者该类的实例。如更改环境变量、修改其他类的属性等<br><code>@staticmethod</code> 修饰的方法是放在类外的函数，我们为了方便将他移动到了类里面，它对类的运行无影响</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   day = <span class="number">0</span></span><br><span class="line">   month = <span class="number">0</span></span><br><span class="line">   year = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, year=<span class="number">0</span>, month=<span class="number">0</span>, day=<span class="number">0</span></span>):</span><br><span class="line">       self.day = day</span><br><span class="line">       self.month = month</span><br><span class="line">       self.year = year</span><br><span class="line"></span><br><span class="line"><span class="meta">   @classmethod</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">from_string</span>(<span class="params">cls, date_as_string</span>):</span><br><span class="line">       year, month, day = date_as_string.split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">       date = cls(year, month, day)</span><br><span class="line">       <span class="keyword">return</span> date</span><br><span class="line">    <span class="comment"># 返回的是类的实例</span></span><br><span class="line"></span><br><span class="line"><span class="meta">   @staticmethod</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">is_date_valid</span>(<span class="params">date_as_string</span>):</span><br><span class="line">       <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">      用来校验日期的格式是否正确</span></span><br><span class="line"><span class="string">       &quot;&quot;&quot;</span></span><br><span class="line">       year, month, day = date_as_string.split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">int</span>(year) &lt;= <span class="number">3999</span> <span class="keyword">and</span> <span class="built_in">int</span>(month) &lt;= <span class="number">12</span> <span class="keyword">and</span> <span class="built_in">int</span>(day) &lt;= <span class="number">31</span></span><br><span class="line"></span><br><span class="line">date1 = Date.from_string(<span class="string">&#x27;2012-05-10&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.year, date1.month, date1.day)</span><br><span class="line">is_date = Date.is_date_valid(<span class="string">&#x27;2012-09-18&#x27;</span>) <span class="comment"># 格式正确 返回True</span></span><br></pre></td></tr></table></figure>
<p>is_date_valid(date_as_string) 只有一个参数，它的运行不会影响类的属性</p>
<blockquote>
<p>@staticmethod修饰方法 is_date_valid(date_as_string)中无实例化参数self或者cls；而@classmethod修饰的方法中有from_string(cls, date_as_string) 类参数cls</p>
</blockquote>
<h2 id="python中的property的使用"><a href="#python中的property的使用" class="headerlink" title="python中的property的使用"></a>python中的property的使用</h2><p>property的作用</p>
<ul>
<li>作为装饰器 @property将类方法转换为类属性（只读）</li>
<li>property重新实现一个属性的setter和getter方法</li>
</ul>
<h3 id="property将类方法转换为只读属性"><a href="#property将类方法转换为只读属性" class="headerlink" title="@property将类方法转换为只读属性"></a>@property将类方法转换为只读属性</h3><p>经常使用，将类的属性设置为不可修改</p>
<p>将一个类方法转变成一个类属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   __pi = <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, r</span>):</span><br><span class="line">       self.r = r</span><br><span class="line"></span><br><span class="line"><span class="meta">   @property</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">pi</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self.__pi</span><br><span class="line"></span><br><span class="line">circle1 = Circle(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(circle1.pi)</span><br><span class="line">circle1.pi=<span class="number">3.14159</span>  <span class="comment"># 出现AttributeError异常</span></span><br></pre></td></tr></table></figure>
<p>创建实例后我们可以使用circle1.pi 自己获取方法的返回值，而且他只能读不能修改</p>
<h3 id="property重新实现setter和getter方法"><a href="#property重新实现setter和getter方法" class="headerlink" title="property重新实现setter和getter方法"></a>property重新实现setter和getter方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   __pi = <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, r</span>):</span><br><span class="line">       self.r = r</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">get_pi</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self.__pi</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">set_pi</span>(<span class="params">self, pi</span>):</span><br><span class="line">       Circle.__pi = pi</span><br><span class="line"></span><br><span class="line">   pi = <span class="built_in">property</span>(get_pi, set_pi)</span><br><span class="line"></span><br><span class="line">circle1 = Circle(<span class="number">2</span>)</span><br><span class="line">circle1.pi = <span class="number">3.14</span>  <span class="comment"># 设置 pi的值</span></span><br><span class="line"><span class="built_in">print</span>(circle1.pi)  <span class="comment"># 访问 pi的值</span></span><br></pre></td></tr></table></figure>
<p>当我们以这种方式使用属性函数时，它允许pi属性设置并获取值本身而不破坏原有代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   __pi = <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, r</span>):</span><br><span class="line">       self.r = r</span><br><span class="line"></span><br><span class="line"><span class="meta">   @property</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">pi</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self.__pi</span><br><span class="line"></span><br><span class="line"><span class="meta">   @pi.setter</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">pi</span>(<span class="params">self, pi</span>):</span><br><span class="line">       Circle.__pi = pi</span><br><span class="line"></span><br><span class="line">circle1 = Circle(<span class="number">2</span>)</span><br><span class="line">circle1.pi = <span class="number">3.14</span>  <span class="comment"># 设置 pi的值</span></span><br><span class="line"><span class="built_in">print</span>(circle1.pi)  <span class="comment"># 访问 pi的值</span></span><br></pre></td></tr></table></figure>
<p>把一个getter方法变成属性，只需要加上@property就可以了，如上此时pi(self)方法，@property本身又创建了另一个装饰器@pi.setter，负责把一个setter方法变成属性赋值，于是，将@pi.setter加到pi(self, pi)上，我们就拥有一个可控的属性操作</p>
<blockquote>
<p>参考<a target="_blank" rel="noopener" href="https://www.zhihu.com/people/lyzf">知乎大佬</a>的<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/30223570">教程</a><br>感谢大佬让我搞懂了python的类，虽然最后的不太懂，但是基础是懂了</p>
</blockquote>
<h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><h3 id="类的继承-1"><a href="#类的继承-1" class="headerlink" title="类的继承"></a>类的继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):  <span class="comment">#  python3中所有类都可以继承于object基类</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">       self.name = name</span><br><span class="line">       self.age = age</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;会叫&#x27;</span>)</span><br><span class="line"><span class="comment"># 现在我们需要定义一个Cat猫类继承于Animal，猫类比动物类多一个sex属性。</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age,sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Cat, self).__init__(name,age)  <span class="comment"># 不要忘记从Animal类引入属性</span></span><br><span class="line">       self.sex=sex</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:  <span class="comment"># 单模块被引用时下面代码不会受影响，用于调试</span></span><br><span class="line">    c = Cat(<span class="string">&#x27;喵喵&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;男&#x27;</span>)  <span class="comment">#  Cat继承了父类Animal的属性</span></span><br><span class="line">    c.call()  <span class="comment"># 输出 喵喵 会叫 ，Cat继承了父类Animal的方法 </span></span><br></pre></td></tr></table></figure>
<p>类的继承一般都是object，然后如果想要继承自己的类，则可以把object继承对象改一下，原来类名后括号里的东西是继承对象</p>
<p>一定要用 <code>super(Cat, self).__init__(name,age)</code> 去初始化父类，否则，继承自 Animal的 Cat子类将没有 <code>name</code> 和 <code>age</code> 两个属性</p>
<p>函数<code>super(Cat, self)</code>将返回当前类继承的父类，即 Animal，然后调用<code>__init__()</code>方法，注意self参数已在<code>super()</code>中传入，在<code>__init__()</code>中将隐式传递，不能再写出self</p>
<h3 id="Python对子类方法的重构"><a href="#Python对子类方法的重构" class="headerlink" title="Python对子类方法的重构"></a>Python对子类方法的重构</h3><p>子类中的方法要求跟父类中的方法不同时，可以在子类中重构方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Cat, self).__init__(name,age)</span><br><span class="line">       self.sex = sex</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name,<span class="string">&#x27;会“喵喵”叫&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">   c = Cat(<span class="string">&#x27;喵喵&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;男&#x27;</span>)</span><br><span class="line">   c.call()  <span class="comment"># 输出：喵喵 会“喵喵”叫</span></span><br></pre></td></tr></table></figure>
<p>当我们在子类中重构父类的方法后，Cat子类的实例先会在自己的类Cat中查找该方法，当找不到该方法时才会去父类Animal中查找对应的方法</p>
<h3 id="Python中子类与父类的关系"><a href="#Python中子类与父类的关系" class="headerlink" title="Python中子类与父类的关系"></a>Python中子类与父类的关系</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">A= Animal()</span><br><span class="line">C = Cat()</span><br></pre></td></tr></table></figure>
<ul>
<li>“A”是Animal类的实例，但，“A”不是Cat类的实例。</li>
<li>“C”是Animal类的实例，“C”也是Cat类的实例。</li>
</ul>
<p>函数 <code>isinstance(变量,类型)</code><br>判断变量的类型，判断对象之间的关系</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;A&quot; IS Animal?&#x27;</span>, <span class="built_in">isinstance</span>(A, Animal))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;A&quot; IS Cat?&#x27;</span>, <span class="built_in">isinstance</span>(A, Cat))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;C&quot; IS Animal?&#x27;</span>, <span class="built_in">isinstance</span>(C, Animal))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;C&quot; IS Cat?&#x27;</span>, <span class="built_in">isinstance</span>(C, Cat))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="string">&quot;A&quot;</span> IS Animal? <span class="literal">True</span></span><br><span class="line"><span class="string">&quot;A&quot;</span> IS Cat? <span class="literal">False</span></span><br><span class="line"><span class="string">&quot;C&quot;</span> IS Animal? <span class="literal">True</span></span><br><span class="line"><span class="string">&quot;C&quot;</span> IS Cat? <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="python中多态"><a href="#python中多态" class="headerlink" title="python中多态"></a>python中多态</h3><p>类具有继承关系，并且子类类型可以向上转型看做父类类型，如果我们从 Animal派生出 Cat和Dog，并都写了一个 call() 方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):  </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">       self.name = name</span><br><span class="line">       self.age = age</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;会叫&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Cat, self).__init__(name, age)</span><br><span class="line">       self.sex = sex</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;会“喵喵”叫&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Dog, self).__init__(name, age)</span><br><span class="line">       self.sex = sex</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;会“汪汪”叫&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>我们定义一个do函数，接收一个变量 ‘all’,如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">do</span>(<span class="params"><span class="built_in">all</span></span>):</span><br><span class="line">   <span class="built_in">all</span>.call()</span><br><span class="line"></span><br><span class="line">A = Animal(<span class="string">&#x27;小黑&#x27;</span>,<span class="number">4</span>)</span><br><span class="line">C = Cat(<span class="string">&#x27;喵喵&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;男&#x27;</span>)</span><br><span class="line">D = Dog(<span class="string">&#x27;旺财&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;女&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> (A,C,D):</span><br><span class="line">   do(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="comment"># 小黑 会叫</span></span><br><span class="line"><span class="comment"># 喵喵 会“喵喵”叫</span></span><br><span class="line"><span class="comment"># 旺财 会“汪汪”叫</span></span><br></pre></td></tr></table></figure>
<p>这种行为称为多态。也就是说，方法调用将作用在 all 的实际类型上。C 是 Cat 类型，它实际上拥有自己的 call() 方法以及从 Animal 继承的 call 方法<br><strong>而调用 C .call() 总是先查找它自身的定义，如果没有定义，则顺着继承链向上查找，直到在某个父类中找到为止</strong></p>
<blockquote>
<p>注意事项</p>
<ul>
<li>在继承中基类的构造方法（<code>__init__()方法</code>）不会被自动调用，它需要在其派生类的构造方法中亲自专门调用。</li>
<li>在调用基类的方法时，需要加上基类的类名前缀，且需要带上self参数变量。而在类中调用普通函数时并不需要带上self参数</li>
<li>Python总是首先查找对应类的方法，如果它不能在派生类中找到对应的方法，它才开始到基类中逐个查找。（先在本类中查找调用的方法，找不到才去基类中找）</li>
</ul>
</blockquote>
<h2 id="类的实例可调用"><a href="#类的实例可调用" class="headerlink" title="类的实例可调用"></a>类的实例可调用</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/609832956">【python】特殊函数 <strong>call</strong> - 知乎</a></p>
<p>可以模糊对象和函数的关系</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name=name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;hello &quot;</span>+self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    a = People(<span class="string">&#x27;abc!&#x27;</span>)</span><br><span class="line">    a.__call__()</span><br><span class="line">    a()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
    </div>

    
    
    
        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://t.me/+1ZnNxFWnEbk5YzRl">
            <span class="icon">
              <i class="fab fa-telegram"></i>
            </span>

            <span class="label">Telegram</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/Learn/Blog%20Basic/Learn-Markdown/" rel="prev" title="Markdown基本知识">
      <i class="fa fa-chevron-left"></i> Markdown基本知识
    </a></div>
      <div class="post-nav-item">
    <a href="/Project/Python%20Spider/" rel="next" title="自己写的几个爬虫程序(入门)">
      自己写的几个爬虫程序(入门) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Python-with-matlab"><span class="nav-text">Python (with matlab)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8-MATLAB-Engine"><span class="nav-text">启动 MATLAB Engine</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Project"><span class="nav-text">Project</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A7%AF%E7%B4%AF%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7"><span class="nav-text">积累编写技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%83%E7%BB%84%E7%B4%A2%E5%BC%95%E5%88%97%E8%A1%A8"><span class="nav-text">元组索引列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Yield"><span class="nav-text">Yield</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#map%E5%92%8Czip"><span class="nav-text">map和zip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#partial"><span class="nav-text">partial</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Python%E5%9F%BA%E7%A1%80"><span class="nav-text">Python基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#try%E2%80%A6except"><span class="nav-text">try…except</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="nav-text">用户自定义异常</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A0%E5%87%8F%E4%B9%98%E9%99%A4"><span class="nav-text">加减乘除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#python-%E4%BF%9D%E7%95%99%E5%B0%8F%E6%95%B0%E4%BD%8D"><span class="nav-text">python 保留小数位</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%99%A4%E6%B3%95%E5%92%8C%E5%8F%96%E6%A8%A1"><span class="nav-text">除法和取模</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C"><span class="nav-text">字符串操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-text">文件操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#txt%E6%96%87%E4%BB%B6"><span class="nav-text">txt文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96txt%E8%A1%8C"><span class="nav-text">读取txt行</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#csv%E6%96%87%E4%BB%B6"><span class="nav-text">csv文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%99%E5%85%A5%E5%88%97%E8%A1%A8"><span class="nav-text">写入列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%99%E5%85%A5%E5%AD%97%E5%85%B8"><span class="nav-text">写入字典</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#csv%E8%AF%BB%E5%8F%96"><span class="nav-text"># csv读取</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-text">os文件夹</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-text">概念</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-text">装饰器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8%E9%9C%80%E8%A6%81%E5%8F%82%E6%95%B0"><span class="nav-text">装饰器需要参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E5%A7%8B%E5%87%BD%E6%95%B0%E5%B1%9E%E6%80%A7%E5%A4%8D%E5%88%B6%E5%88%B0%E8%A3%85%E9%A5%B0%E5%90%8E%E7%9A%84%E5%87%BD%E6%95%B0%E4%B8%AD"><span class="nav-text">原始函数属性复制到装饰后的函数中</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%AE%9E%E4%BE%8B%E5%88%9B%E5%BB%BA"><span class="nav-text">类的定义和实例创建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E4%B8%AD%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E4%B8%8E%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="nav-text">类中的实例属性与类属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="nav-text">类的实例方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="nav-text">类中的访问限制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="nav-text">属性的访问限制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6"><span class="nav-text">方法的访问限制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%A3%85%E9%A5%B0%E6%96%B9%E6%B3%95"><span class="nav-text">类中的装饰方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#classmethod-%E4%BF%AE%E9%A5%B0%E6%96%B9%E6%B3%95%E2%80%94%E2%80%94%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="nav-text">@classmethod 修饰方法——类方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#staticmethod-%E4%BF%AE%E9%A5%B0%E6%96%B9%E6%B3%95%E2%80%94%E2%80%94%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="nav-text">@staticmethod 修饰方法——静态方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#python%E4%B8%AD%E7%9A%84property%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">python中的property的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#property%E5%B0%86%E7%B1%BB%E6%96%B9%E6%B3%95%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7"><span class="nav-text">@property将类方法转换为只读属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#property%E9%87%8D%E6%96%B0%E5%AE%9E%E7%8E%B0setter%E5%92%8Cgetter%E6%96%B9%E6%B3%95"><span class="nav-text">property重新实现setter和getter方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="nav-text">类的继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF-1"><span class="nav-text">类的继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python%E5%AF%B9%E5%AD%90%E7%B1%BB%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E6%9E%84"><span class="nav-text">Python对子类方法的重构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Python%E4%B8%AD%E5%AD%90%E7%B1%BB%E4%B8%8E%E7%88%B6%E7%B1%BB%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-text">Python中子类与父类的关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python%E4%B8%AD%E5%A4%9A%E6%80%81"><span class="nav-text">python中多态</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8F%AF%E8%B0%83%E7%94%A8"><span class="nav-text">类的实例可调用</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Qi Yun"
      src="/images/avatar.jpeg">
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">164</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">60</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/qiyun71" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;qiyun71" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/29010355" title="Bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;29010355" rel="noopener" target="_blank"><i class="fa fa-star fa-fw"></i>Bilibili</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qi Yun</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">553k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">33:29</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/yqq/anime.min.js"></script>
  <script src="/yqq/velocity/velocity.min.js"></script>
  <script src="/yqq/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
