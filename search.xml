<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>3D Model</title>
      <link href="/3DReconstruction/3D%20Model/"/>
      <url>/3DReconstruction/3D%20Model/</url>
      
        <content type="html"><![CDATA[<p>ä¸‰ç»´æ¨¡å‹çš„å„ç§å½¢å¼</p><span id="more"></span><p>3D Represent</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241010195323.png" alt="image.png|555"></p><blockquote><p><a href="http://www.bimant.com/blog/top10-popular-3d-file-formats/">10ç§æœ€æµè¡Œçš„3Dæ–‡ä»¶æ ¼å¼ - BimAnt</a></p></blockquote><p>ç›®å‰ï¼Œæœºæ¢°è¡Œä¸šä¸­ä¸åŒçš„æ¨¡å‹å½¢å¼ï¼š</p><ul><li>æ„é€ å®ä½“å‡ ä½•<a href="https://en.wikipedia.org/wiki/Constructive_solid_geometry">Constructive solid geometry - Wikipedia</a>ï¼Œæ„é€ å®ä½“å‡ ä½•å…è®¸å»ºæ¨¡è€…é€šè¿‡ä½¿ç”¨å¸ƒå°”è¿ç®—ç¬¦ç»„åˆæ›´ç®€å•çš„å¯¹è±¡æ¥åˆ›å»ºå¤æ‚çš„è¡¨é¢æˆ–å¯¹è±¡ï¼Œä»è€Œå¯èƒ½é€šè¿‡ç»„åˆä¸€äº›åŸå§‹å¯¹è±¡æ¥ç”Ÿæˆè§†è§‰ä¸Šå¤æ‚çš„å¯¹è±¡ã€‚(Solidworksã€AutoCADç­‰æœºæ¢°è®¾è®¡çš„ä¸‰ç»´æ¨¡å‹)</li><li>å¤šè¾¹å½¢ç½‘æ ¼<a href="https://en.wikipedia.org/wiki/Polygon_mesh">Polygon mesh - Wikipedia</a>ï¼Œé¢é€šå¸¸ç”±ä¸‰è§’å½¢ï¼ˆtriangle meshï¼‰ã€å››è¾¹å½¢ï¼ˆquadsï¼‰æˆ–å…¶ä»–ç®€å•å‡¸å¤šè¾¹å½¢ï¼ˆn-gonsï¼‰ç»„æˆã€‚å¤šè¾¹å½¢ç½‘æ ¼ä¹Ÿå¯èƒ½æ›´é€šå¸¸ç”±å‡¹å¤šè¾¹å½¢æˆ–å¸¦æœ‰å­”çš„å¶æ•°å¤šè¾¹å½¢ç»„æˆã€‚ä½“ç§¯ç½‘æ ¼ä¸å¤šè¾¹å½¢ç½‘æ ¼çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬æ˜¾å¼è¡¨ç¤ºç»“æ„çš„è¡¨é¢å’Œå†…éƒ¨åŒºåŸŸï¼Œè€Œå¤šè¾¹å½¢ç½‘æ ¼ä»…æ˜¾å¼è¡¨ç¤ºè¡¨é¢ï¼ˆä½“ç§¯æ˜¯éšå¼çš„ï¼‰ã€‚(3Dæ‰“å°ã€CAEä»¿çœŸ)<ul><li>è¿‘ä¼¼ç½‘æ ¼ç¼–ç ï¼Œ3D æ¨¡å‹çš„è¡¨é¢è¦†ç›–æœ‰å¾®å°å¤šè¾¹å½¢ï¼ˆé€šå¸¸æ˜¯ä¸‰è§’å½¢ï¼‰çš„ç½‘æ ¼ã€‚ æ­¤è¿‡ç¨‹ä¹Ÿç§°ä¸ºâ€œæ›²é¢ç»†åˆ†â€ï¼Œå› æ­¤è¿™äº›æ–‡ä»¶æ ¼å¼ä¹Ÿç§°ä¸ºæ›²é¢ç»†åˆ†æ ¼å¼ã€‚</li><li>ç²¾ç¡®ç½‘æ ¼ç¼–ç ï¼Œç²¾ç¡®æ–‡ä»¶æ ¼å¼ä½¿ç”¨éå‡åŒ€æœ‰ç†åŸºæ ·æ¡ (NURBSï¼Œä¸€ç§è®¡ç®—æœºç”Ÿæˆçš„æ•°å­¦æ¨¡å‹ï¼‰å½¢æˆçš„æ›²é¢ï¼Œè€Œä¸æ˜¯å¤šè¾¹å½¢ã€‚å¯¹äºä¸€äº›å¤æ‚çš„è¿æ¥å¤„éœ€è¦ç”¨åˆ°æ ·æ¡æ¥è¡¨ç¤º </li></ul></li><li>ç®±ä½“å»ºæ¨¡<a href="https://en.wikipedia.org/wiki/Box_modeling">Box modeling - Wikipedia</a>ï¼Œé•¿æ–¹ä½“å»ºæ¨¡æ˜¯ 3D å»ºæ¨¡ä¸­çš„ä¸€ç§æŠ€æœ¯ï¼Œå…¶ä¸­ä½¿ç”¨åŸºæœ¬å½¢çŠ¶ï¼ˆä¾‹å¦‚é•¿æ–¹ä½“ã€åœ†æŸ±ä½“ã€çƒä½“ç­‰ï¼‰æ¥åˆ¶ä½œæœ€ç»ˆæ¨¡å‹çš„åŸºæœ¬å½¢çŠ¶ã€‚ç„¶åä½¿ç”¨è¿™ä¸ªåŸºæœ¬å½¢çŠ¶æ¥é›•åˆ»æœ€ç»ˆæ¨¡å‹ã€‚è¯¥è¿‡ç¨‹ä½¿ç”¨è®¸å¤šé‡å¤çš„æ­¥éª¤æ¥è¾¾åˆ°æœ€ç»ˆäº§å“ï¼Œè¿™å¯ä»¥å¯¼è‡´æ›´é«˜æ•ˆã€æ›´å¯æ§çš„å»ºæ¨¡è¿‡ç¨‹ã€‚(è‰ºæœ¯å®¶é›•åˆ»è¿‡ç¨‹)</li></ul><h1 id="Solid"><a href="#Solid" class="headerlink" title="Solid"></a>Solid</h1><p>ç›®å‰æœºæ¢°è¡Œä¸šä½¿ç”¨æœ€å¤šçš„æ¨¡å‹å½¢å¼</p><h3 id="è·å–"><a href="#è·å–" class="headerlink" title="è·å–"></a>è·å–</h3><p>äººå·¥å»ºæ¨¡Solidworksã€Creoã€Rhinoâ€¦</p><p>å¼ºåŒ–å­¦ä¹ é‡å»ºCADæ¨¡å‹ï¼š<a href="https://content.iospress.com/download/integrated-computer-aided-engineering/ica230710?id=integrated-computer-aided-engineering%2Fica230710#page=4.49">3D reconstruction based on hierarchical reinforcement learning with transferabilit</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241127191609.png" alt="image.png|444"></p><p>ä»FE surface mesh modelä¸­æå– free-form B-spline surfaceï¼š<a href="https://watermark.silverchair.com/j.jcde.2018.05.004.pdf?token=AQECAHi208BE49Ooan9kkhW_Ercy7Dm3ZL_9Cf3qfKAc485ysgAAA18wggNbBgkqhkiG9w0BBwagggNMMIIDSAIBADCCA0EGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMwUnyFsLtbCJdBtjiAgEQgIIDEp9LVU5TBBEEUkKl4THHIULKGCsKlH7EI7pdhfNxxfX3umFNAxqNhmlpCigHdbo7gx0CRKO_NA7al7Fy1LN_nNc8b4OhJseTFj_7XbJ-PyyNl7uZgXUZypV9xgU2ZDrY3B6nxfs8GDsGfL2ralz-H1HGGatgOG6FWENXD6pSOD6-pUp7h7-REU_he6dFVXQ9sQUuNL-vjOESZgOdsJ3l6kFmsLfcKy_jLGbdnnrVkYY-uasnWOSU0btcbstWj6RYa0AXu_gjXf4f54BEKLPh1jMhKlJMaooADaL76r933yPRWJQJ-qGIlqqPNUoGJrJ5GBFNwud2le0y5BRJZQb3xBMFT8DrAKc1sw86ANa1jsuoqdOhSyueemJcVexQTo9ZS8J21YlAyTkQ09nQMpmBMsTwIRQq1nLsx7ZbShkOUj8W-1ocoPGb0H78t_XJcFEuFyJdryIc9skBF2AYGeSfmrromZvXc4Z34X5tVZtdJx29mLhIcrXb7KLdSnYDH0lM8XYt97bI1cceATNUcIFaSWKiIGerFIzCe4uoNrjX2MdaLTX8054um36E5XEWY7y6CvNK7jNjevSbdhJholMYAwuAJs76CuGHiALBg-6l6Qra6dRTC4B3cDalc8aIzMqQ3Sd_qjkJ_Sp315znKRRnJoYPTWLrd2S6y2in5k3KPTxrb7Ijs0-8bsaYbvwRtkWRwx-DW62UwNQHhszOBr0o9iaAxYm2GLTKc-EWp5ZeBfmlTLnEyjzQsjWJl1KwzNxt98o8DEreSjOfogI2mt3kL_QC-GFKYK3SyaWO5NdVcyTDi7dFbGgi1ptl8TVyBKEuPHLuSAEdUo4OK6CLCh8TZido1zMpbp3vZGUquDR2VTNJIRS2kzd9kdf5jKEnZyaLf9qCmEXNCEDn_qmWvtPwPMMfMWfFkVrv9bPsFcnKDVrhdgLA-NqIxbtF3iz03j0MZTRlvxnl1Aeh6Yl1s3jjAM8YJO-A_hAV6M8x0pnalcSnQHbfw5KuxR3J_fTdrRfDBKJ8hQc-ZZZ8DnNzQJAHq6IiZA">Surface reconstruction from FE mesh model</a></p><p><img src="https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/jcde/6/2/10.1016_j.jcde.2018.05.004/4/m_j.jcde.2018.05.004-fx1.jpeg?Expires=1734581105&amp;Signature=i7UokZKU8T5xAmC83tU~dAHWaA-7um29yiNNZeaPzn4KaXilULv7WShmgCXG2Uvb0Kmflw5lCCJIjZXo9nzfyv25KMqbCfwn82lMiE0vhUVaQfIQlIpU7L~RqIPQDZynWOEYHv~8v-G65Pd7vumZOcuwA5UU~ZkZbd6WyOfu8e6gxqEB2GwIe9IyriC~cyVQt1R6bEyV6j8QhyZ3E62IGtWR5F-JcJ8-fj2fiuohaDrLRb1DXknn7fcDwtjVgqiARuth9axhnLS-6rGWuqUWqMjeeilknqbbprToQ~yar-rauzMqa44S-kgc7r0LlkS5x~o14GeGzaEa8~WbJ92EZw__&amp;Key-Pair-Id=APKAIE5G5CRDK6RD3PGA" alt="m_j.jcde.2018.05.004-fx1.jpeg (520Ã—297)"></p><h1 id="Polygon-mesh"><a href="#Polygon-mesh" class="headerlink" title="Polygon mesh"></a>Polygon mesh</h1><p>å…¶ä¸­ç½‘æ ¼(mesh)ä¸ºå„ä¸ªé¢†åŸŸæœ€å¸¸ç”¨çš„è¡¨ç¤ºæ–¹æ³•ï¼Œå…¶å¯ä»¥åˆ†ä¸ºsurface meshå’Œvolume meshï¼š</p><ul><li>è¡¨é¢meshï¼šé€šè¿‡å¤šä¸ªä¸‰è§’å½¢/å››è¾¹å½¢ç»„æˆç‰©ä½“è¡¨é¢ï¼Œå¯ç”¨äº3Dæ‰“å°</li><li>ä½“meshï¼šé€šè¿‡å¤šä¸ªå››é¢ä½“ç½‘æ ¼tet/å…­é¢ä½“ç½‘æ ¼hex/å…¶ä»–ç½‘æ ¼ç»„æˆå®ä½“æ¨¡å‹ï¼Œå¯ç”¨äºCAE</li></ul><h2 id="surface-mesh"><a href="#surface-mesh" class="headerlink" title="surface mesh"></a>surface mesh</h2><h3 id="è·å–-1"><a href="#è·å–-1" class="headerlink" title="è·å–"></a>è·å–</h3><ul><li>äººå·¥å»ºæ¨¡ï¼šé€šè¿‡ç›´æ¥æ“çºµé¡¶ç‚¹ã€è¾¹å’Œé¢æ¥åˆ›å»ºå’Œç¼–è¾‘æ¨¡å‹ã€‚å¸¸è§çš„æ‰‹åŠ¨å»ºæ¨¡å·¥å…·æœ‰Autodesk 3ds Maxã€Blenderã€Mayaç­‰ï¼Œæ”¯æŒå¤šè¾¹å½¢å»ºæ¨¡ã€ç»†åˆ†æ›²é¢å»ºæ¨¡ã€NURBSå»ºæ¨¡(éå‡åŒ€æœ‰ç†Bæ ·æ¡æ›²çº¿å’Œæ›²é¢)ç­‰å¤šç§æŠ€æœ¯</li><li>æ‰«æå»ºæ¨¡ï¼šé€šè¿‡3Dæ‰«æè®¾å¤‡ï¼ˆå¦‚æ¿€å…‰æ‰«æä»ªã€ç»“æ„å…‰æ‰«æä»ªã€æ·±åº¦ç›¸æœºï¼‰è·å–å®ç‰©çš„ç‚¹äº‘æ•°æ®ï¼Œå†é€šè¿‡è½¯ä»¶ï¼ˆå¦‚Meshlabã€CloudCompareã€Geomagicï¼‰è¿›è¡Œç‚¹äº‘å¤„ç†ã€ç½‘æ ¼åŒ–ï¼Œç”Ÿæˆç²¾ç¡®çš„ä¸‰ç»´æ¨¡å‹</li><li>æ ¹æ®å›¾ç‰‡ä½¿ç”¨ç®—æ³•è¿›è¡Œå»ºæ¨¡(æˆæœ¬ä½) <a href="Paper%20About%203D%20Reconstruction.md">Paper About 3D Reconstruction</a><ul><li>æ˜¾ç¤ºè¡¨ç¤ºï¼Œè·å–ç‚¹äº‘/ä½“ç´ /æ·±åº¦å›¾ç­‰åç„¶åè½¬meshï¼Œæˆ–è€…ç›´æ¥è·å–mesh<ul><li>COLMAPé€šè¿‡SFMè·å–ç›¸æœºä½å§¿+<strong>ç¨€ç–ç‚¹äº‘</strong>ï¼Œå¹¶ä½¿ç”¨MVSæ¥ä¼°è®¡æ·±åº¦å›¾å¹¶é€šè¿‡depth fusionæ¥è·å–ç¨ å¯†ç‚¹äº‘ï¼Œæœ€åé€šè¿‡screened poisson surface reconstructionè·å–mesh</li><li>3DGS(SuGaR) é«˜æ–¯ä½“çš„ä¸­å¿ƒç‚¹å³ä¸ºç‰©ä½“ç‚¹äº‘ï¼Œç„¶åå¯ä»¥è½¬mesh</li></ul></li><li>éšå¼è¡¨ç¤ºï¼šIDR/DVRã€NeRF(VolSDFã€NeuS)ä½¿ç”¨MCç®—æ³•ä»éšå¼åœºä¸­æå–ç‰©ä½“è¡¨é¢mesh</li><li>â€¦.</li></ul></li></ul><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><p>ä»ä½è´¨é‡çš„dense mesh/ç‚¹äº‘ä¸­ç”Ÿæˆé«˜è´¨é‡äººé€ Mesh(ç½‘æ ¼è§„å¾‹ï¼Œç¼ºé™·å°‘)ï¼š</p><ul><li><a href="https://buaacyw.github.io/mesh-anything/">MeshAnything</a></li><li><a href="https://buaacyw.github.io/meshanything-v2/">MeshAnything V2</a></li></ul><p><img src="https://buaacyw.github.io/meshanything-v2/teaser.png" alt="teaser.png (6507Ã—6449)|666"></p><h3 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h3><p>è®¡ç®—3D surface meshçš„ä½“ç§¯<br><a href="https://stackoverflow.com/questions/1406029/how-to-calculate-the-volume-of-a-3d-mesh-object-the-surface-of-which-is-made-up">math - How to calculate the volume of a 3D mesh object the surface of which is made up triangles - Stack Overflow</a> | <a href="http://chenlab.ece.cornell.edu/Publication/Cha/icip01_Cha.pdf">chenlab.ece.cornell.edu/Publication/Cha/icip01_Cha.pdf</a></p><h2 id="volume-mesh"><a href="#volume-mesh" class="headerlink" title="volume mesh"></a>volume mesh</h2><h3 id="è·å–-2"><a href="#è·å–-2" class="headerlink" title="è·å–"></a>è·å–</h3><p>æœ‰é™å…ƒç½‘æ ¼åˆ’åˆ†ï¼š<a href="Finite%20Element%20Model%203D%20Reconstruction.md">Finite Element Model 3D Reconstruction</a> | <a href="Anime%20Image%203D%20Reconstruction.md">Anime Image 3D Reconstruction</a></p><ul><li><a href="https://gmsh.info/">Gmsh: a three-dimensional finite element mesh generator with built-in pre- and post-processing facilities</a>ï¼Œå…¶ä¹Ÿå¯ä»¥å°†surface meshè½¬åŒ–ä¸ºvolume mesh <a href="https://mbarzegary.github.io/2022/06/27/surface-to-volume-mesh-using-gmsh/">Generate volume mesh from a surface mesh using GMSH Â· Mojtaba Barzegari</a></li><li><a href="https://github.com/wildmeshing/fTetWild">wildmeshing/fTetWild: Fast Tetrahedral Meshing in the Wild</a> <a href="https://yixin-hu.github.io/ftetwild.pdf">yixin-hu.github.io/ftetwild.pdf</a></li><li><a href="https://www.ntop.com/software/products/">Engineering, Design, and Simulation Software | nTop | nTop</a> å•†ä¸šè½¯ä»¶ <a href="https://support.ntop.com/hc/en-us/articles/360037005234-How-to-create-an-FE-Volume-Mesh">How to create an FE Volume Mesh â€“ nTop Support</a></li></ul><p>surface meshè½¬volume mesh</p><ul><li><a href="https://github.com/mdolab/pyhyp">mdolab/pyhyp: pyHyp generates volume meshes from surface meshes using hyperbolic marching.</a></li><li><a href="https://iso2mesh.sourceforge.net/cgi-bin/index.cgi">iso2mesh: a Matlab/Octave-based mesh generator: Home</a> surface mesh/3D binary/ gray scalevolumetric images(segmented MRI/CT scans)</li></ul><p><img src="https://iso2mesh.sourceforge.net/upload/iso2mesh_workflow_v2.png" alt="iso2mesh_workflow_v2.png (1096Ã—934)|666"></p><p><a href="https://bennyguo.github.io/vmesh/">VMesh: Hybrid Volume-Mesh Representation for Efficient View Synthesis</a><br>è¿™ç¯‡æ–‡ç« æ˜¯ä½¿ç”¨æ··åˆvolume meshè¡¨ç¤ºæ¥é«˜æ•ˆåœ°ç”Ÿæˆæ–°è¯•å›¾ï¼Œ<strong>é‚£ä¹ˆç”¨ä½“æ¸²æŸ“æ€è·¯æ¥ä¼˜åŒ–volume meshå¯è¡Œå¦</strong>ï¼Ÿ</p><p>ç”Ÿæˆå¼æ–¹æ³•ï¼š</p><ul><li><a href="https://dl.acm.org/doi/pdf/10.1145/3554920">Hex-Mesh Generation and Processing: A Survey</a></li></ul><h3 id="ä¼˜åŒ–-1"><a href="#ä¼˜åŒ–-1" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><p><a href="https://arxiv.org/pdf/2410.11656">Fast and Robust Hexahedral Mesh Optimization via Augmented Lagrangian, L-BFGS, and Line Search | PDF</a><br><a href="https://x.com/zhenjun_zhao/status/1846392374425276748">X ä¸Šçš„ Zhenjun Zhaoï¼šâ€œFast and Robust Hexahedral Mesh Optimization via Augmented Lagrangian, L-BFGS, and Line Search Hua Tong, Yongjie Jessica Zhang https://t.co/XAjGcAZxMp https://t.co/yu7zDYbdHYâ€ / X</a></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Learn-Cpp</title>
      <link href="/Learn/Other%20Interest/Learn-Cpp/"/>
      <url>/Learn/Other%20Interest/Learn-Cpp/</url>
      
        <content type="html"><![CDATA[<p><a href="https://runestone.academy/ns/books/published/cpp4python/index.html">C++ for Python Programmers â€” C++ for Python Programmers</a></p><span id="more"></span><p>Plan:</p><div class="table-container"><table><thead><tr><th>Timeline</th><th>Chapter</th></tr></thead><tbody><tr><td>2024.11</td><td>Data Types</td></tr><tr><td></td><td>Control Structures</td></tr><tr><td></td><td>Functions</td></tr><tr><td></td><td>Collection Data Types</td></tr><tr><td></td><td>Input and Output</td></tr><tr><td></td><td>Exception Handling</td></tr><tr><td></td><td>Graphics</td></tr></tbody></table></div><h2 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h2><ul><li>Pythonä¸­æ¯ä¸ªå˜é‡è¢«å­˜å‚¨ä¸ºä¸€ä¸ªobjectï¼Œéœ€è¦ä¸¤å—å†…å­˜ç©ºé—´ï¼š reference and valueã€‚å˜é‡åœ¨å£°æ˜åå¯ä»¥åŠ¨æ€ä¿®æ”¹(åŠ¨æ€è¯­è¨€)</li><li>Cppä¸­æ¯ä¸ªå˜é‡çš„å€¼è¢«å­˜åœ¨å†…å­˜ä¸­ï¼Œæ ¹æ®åœ°å€æ¥è¿›è¡Œè®¿é—®ï¼Œå› æ­¤å¿…é¡»æå‰å£°æ˜ï¼Œå¹¶ä¸”ä¹‹åå˜é‡çš„æ•°æ®ç±»å‹æ— æ³•æ›´æ”¹(é™æ€è¯­è¨€)</li></ul><p>æŒ‡é’ˆå®šä¹‰ï¼š</p><ul><li>&amp;varN è·å–å˜é‡çš„åœ°å€</li><li><code>*ptrN</code> ä¸ºæ ¹æ®åœ°å€è·å–çš„å€¼ï¼Œä¸ <code>varN</code>å«ä¹‰ç›¸åŒ</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *ptrx;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> varN = <span class="number">9</span>;</span><br><span class="line"><span class="type">int</span> *ptrN = &amp;varN; <span class="comment">// ptrN points to varN address</span></span><br></pre></td></tr></table></figure><p>ç©ºæŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•å†…å®¹</p><p><code>ptrx = nullptr;</code></p>]]></content>
      
      
      <categories>
          
          <category> Learn/Other Interest </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Learn-Rust</title>
      <link href="/Learn/Other%20Interest/Learn-Rust/"/>
      <url>/Learn/Other%20Interest/Learn-Rust/</url>
      
        <content type="html"><![CDATA[<p>Start from:</p><ul><li><a href="https://course.rs/first-try/installation.html">å®‰è£… Rust ç¯å¢ƒ - Rustè¯­è¨€åœ£ç»(Rust Course)</a></li><li><a href="https://www.rust-lang.org/zh-CN/tools/install">å®‰è£… Rust - Rust ç¨‹åºè®¾è®¡è¯­è¨€</a></li></ul><span id="more"></span><h1 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h1><p><strong>1. <code>x86_64-pc-windows-msvc</code>ï¼ˆå®˜æ–¹æ¨èï¼‰</strong></p><p>å…ˆå®‰è£… <a href="https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/">Microsoft C++ Build Tools</a>ï¼Œå‹¾é€‰å®‰è£… C++ ç¯å¢ƒå³å¯ã€‚å®‰è£…æ—¶å¯è‡ªè¡Œä¿®æ”¹ç¼“å­˜è·¯å¾„ä¸å®‰è£…è·¯å¾„ï¼Œé¿å…å ç”¨è¿‡å¤š C ç›˜ç©ºé—´ã€‚å®‰è£…å®Œæˆåï¼ŒRust æ‰€éœ€çš„ msvc å‘½ä»¤è¡Œç¨‹åºéœ€è¦æ‰‹åŠ¨æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œå¦åˆ™å®‰è£… Rust æ—¶ <code>rustup-init</code> ä¼šæç¤ºæœªå®‰è£… Microsoft C++ Build Toolsï¼Œå…¶ä½äºï¼š<code>%Visual Studio å®‰è£…ä½ç½®%\VC\Tools\MSVC\%version%\bin\Hostx64\x64</code>ï¼ˆè¯·è‡ªè¡Œæ›¿æ¢å…¶ä¸­çš„ %Visual Studio å®‰è£…ä½ç½®%ã€%version% å­—æ®µï¼‰ä¸‹ã€‚</p><p>å¦‚æœä½ ä¸æƒ³è¿™ä¹ˆåšï¼Œå¯ä»¥é€‰æ‹©å®‰è£… Microsoft C++ Build Tools æ–°å¢çš„â€œå®šåˆ¶â€ç»ˆç«¯ <code>Developer Command Prompt for %Visual Studio version%</code> æˆ– <code>Developer PowerShell for %Visual Studio version%</code>ï¼Œåœ¨å…¶ä¸­è¿è¡Œ <code>rustup-init.exe</code>ã€‚</p><p>å‡†å¤‡å¥½ C++ ç¯å¢ƒåå¼€å§‹å®‰è£… Rustï¼š</p><p>åœ¨ <a href="https://www.rust-lang.org/learn/get-started">RUSTUP-INIT</a> ä¸‹è½½ç³»ç»Ÿç›¸å¯¹åº”çš„ Rust å®‰è£…ç¨‹åºï¼Œä¸€è·¯é»˜è®¤å³å¯ã€‚</p><p><code>PS C:\Users\Hehongyuan&gt; rustup-init.exe ...... Current installation options:     default host triple: x86_64-pc-windows-msvc      default toolchain: stable (default)                profile: default   modify PATH variable: yes  1) Proceed with installation (default) 2) Customize installation 3) Cancel installation</code></p><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># udpate</span></span><br><span class="line">rustup update</span><br></pre></td></tr></table></figure><h1 id="Proj"><a href="#Proj" class="headerlink" title="Proj"></a>Proj</h1><h2 id="3DGS"><a href="#3DGS" class="headerlink" title="3DGS"></a>3DGS</h2><blockquote><p><a href="https://github.com/ArthurBrussee/brush?tab=readme-ov-file">ArthurBrussee/brush: 3D Reconstruction for all</a>Brush is a 3D reconstruction engine, using <a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/">Gaussian splatting</a>. It aims to be highly portable, flexible and fast.</p></blockquote><p><code>git clone https://github.com/ArthurBrussee/brush.git</code></p><p>Install rust 1.81+ and run <code>cargo run</code> or <code>cargo run --release</code>. You can run tests with <code>cargo test --all</code>. Brush uses the wonderful <a href="https://github.com/ArthurBrussee/brush/blob/main/rerun.io">rerun</a> for additional visualizations while training. It currently requires rerun 0.19 however, which isnâ€™t released yet.</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241028144213.png" alt="image.png|444"></p><h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h2><p><a href="https://github.com/emilk/egui">emilk/egui: egui: an easy-to-use immediate mode GUI in Rust that runs on both web and native</a></p>]]></content>
      
      
      <categories>
          
          <category> Learn/Other Interest </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>NeuralWarp</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeuralWarp/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeuralWarp/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Improving neural implicit surfaces geometry with patch warping</th></tr></thead><tbody><tr><td>Author</td><td>FranÃ§ois Darmon1, 2 â€ƒ BÃ©nÃ©dicte Bascle1 â€ƒ Jean-ClÃ©ment Devaux1 â€ƒ Pascal Monasse2 â€ƒ Mathieu Aubry2</td></tr><tr><td>Conf/Jour</td><td>2022</td></tr><tr><td>Year</td><td>CVPR</td></tr><tr><td>Project</td><td><a href="https://imagine.enpc.fr/~darmonf/NeuralWarp/">Improving neural implicit surfaces geometry with patch warping</a></td></tr><tr><td>Paper</td><td><a href="https://arxiv.org/pdf/2112.09648">Improving neural implicit surfaces geometry with patch warping</a></td></tr></tbody></table></div><p><img src="https://imagine.enpc.fr/~darmonf/NeuralWarp/teaser.jpg" alt="teaser.jpg (1304Ã—708)|666"></p><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>In this paper, we argue that this comes from the difficulty to learn and render high frequency textures with neural network. We thus propose to add to the standard neural rendering optimization <strong>a direct photo-consistency term across the different views</strong>. Intuitively, we optimize the implicit geometry so that it warps views on each other in a consistent way.</p><p>We demonstrate that <strong>two elements are key</strong> to the success of such an approach: </p><ul><li>(i) warping entire patches, using the predicted occupancy and normals of the 3D points along each ray, and measuring their similarity with a robust structural similarity (SSIM); </li><li>(ii) handling visibility and occlusion in such a way that incorrect warps are not given too much importance while encouraging a reconstruction as complete as possible.</li></ul><p>ä¸»è¦è´¡çŒ®ï¼š<br>â€¢ a method to warp patches using implicit geometry;<br>â€¢ a loss function able to handle incorrect reprojections;<br>â€¢ an experimental evaluation demonstrating the very significant accuracy gain on two standard benchmarks and validating each element of our approach.</p><p>Related Works</p><ul><li>Multi-view stereo (MVS)</li><li>Neural implicit surfacesï¼š UNISURF VolSDF NeuS</li><li>Image warping and neural implicit surfacesï¼šMVSDF </li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Volumetric-rendering-of-radiance-field"><a href="#Volumetric-rendering-of-radiance-field" class="headerlink" title="Volumetric rendering of radiance field"></a>Volumetric rendering of radiance field</h2><p>The rendered color is approximated with an alpha blending of the point color $\mathbf{c}_{i}$:<br>$\mathbf{R}[\mathbf{p}]=\sum_{i=1}^N\alpha_i\prod_{j&lt;i}(1-\alpha_j)\mathbf{c}_i,$</p><h2 id="Warping-images-with-implicit-geometry"><a href="#Warping-images-with-implicit-geometry" class="headerlink" title="Warping images with implicit geometry"></a>Warping images with implicit geometry</h2><p><strong>Pixel warping</strong><br>ä½¿ç”¨ source imageçš„æŠ•å½±æ¥ä»£æ›¿radiance networkè®¡ç®—æ¯ä¸ª3D point çš„é¢œè‰²ï¼š<br>$\mathbf{W}_s[\mathbf{p}]=\sum_{i=1}^N\alpha_i\prod_{j&lt;i}(1-\alpha_j)\mathbf{I}_s[\pi_s(\mathbf{x}_i)],$<br>$\mathbf{I}_s[\pi_s(\mathbf{x}_i)]$ä¸ºä½¿ç”¨3Dç‚¹æŠ•å½±åˆ°$\mathbf{I}_{s}$ä¸Šç‚¹é¢œè‰²çš„åŒçº¿æ€§æ’å€¼</p><p><strong>Patch warping</strong><br>2D homogeneous coordinates: $H_{i}=K_{s}\left(R_{rs}+\frac{\mathbf{t}_{rs}\mathbf{n}_{i}^{T}R_{r}^{T}}{\mathbf{n}_{i}^{T}(\mathbf{x}_{i}+R_{r}^{T}\mathbf{t}_{r})}\right)K_{r}^{-1}$<br>$\mathbf{W}_s[\mathbf{P}]=\sum_{i=1}^N\alpha_i\prod_{j&lt;i}(1-\alpha_j)\mathbf{I}_s[H_i\mathbf{P}]$</p><h2 id="Optimizing-geometry-from-warped-patches"><a href="#Optimizing-geometry-from-warped-patches" class="headerlink" title="Optimizing geometry from warped patches"></a>Optimizing geometry from warped patches</h2><p>3Dç‚¹æŠ•å½±æ—¶å¯èƒ½ä¸åœ¨source imageä¸Šï¼Œè¿™ç§æƒ…å†µä¸‹$\mathbf{I}_s[H_i\mathbf{P}]$ä¸ºNANï¼Œæœ¬æ–‡ä½¿ç”¨ä¸€ä¸ªconstant padding color(gray color)ä»£æ›¿</p><p>Warping-based loss:<br>$\mathcal{L}_{\mathrm{warp}}=\sum_{\mathbf{P}\in\mathcal{V}}\frac{\sum_{s\in\mathcal{S}}M_s[\mathbf{P}] d(\mathbf{I}_r[\mathbf{P}],\mathbf{W}_s[\mathbf{P}])}{\sum_{s\in\mathcal{S}}M_s[\mathbf{P}]}$</p><ul><li>$d$ è¡¨ç¤ºreference image ä¸­patchçš„é¢œè‰²ä¸ wraped souce imaged ä¸­ patch é¢œè‰²ä¹‹é—´çš„photometric distanceï¼Œä½¿ç”¨SSIMè¿›è¡Œè®¡ç®—</li><li>$M_s[\mathbf{P}]\in[0,1]$ è¡¨ç¤ºä¸ºreference image ä¸­patchå¯¹åº”çš„æ¯ä¸ªsouce image åˆ†é…ä¸€ä¸ªmask value</li></ul><p>Validity masks: We now explain how we define the validity maskï¼š<br>è€ƒè™‘å¯¼è‡´wrapsæ— æ•ˆçš„ä¸¤ä¸ªåŸå› ï¼š</p><ul><li>$M_s^\text{proj}[\mathbf{P}]=\sum_{i=1}^N\alpha_i\prod_{j&lt;i}(1-\alpha_j)V_i^s$ the projection is not valid for geometric<br>reasons</li><li>$M_s^\text{occ}[\mathbf{P}]=T_s\left(\sum_{i=1}^N\alpha_i\prod_{j&lt;i}(1-\alpha_j)\mathbf{x}_i\right)$ the patch is occluded by the reconstructed scene in the source image.</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ActiveNeRF</title>
      <link href="/3DReconstruction/Multi-view/Uncertainty/ActiveNeRF/"/>
      <url>/3DReconstruction/Multi-view/Uncertainty/ActiveNeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>ActiveNeRF</th></tr></thead><tbody><tr><td>Author</td><td>Pan, Xuran and Lai, Zihang and Song, Shiji and Huang, Gao</td></tr><tr><td>Conf/Jour</td><td>ECCV</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://github.com/LeapLabTHU/ActiveNeRF">LeapLabTHU/ActiveNeRF: Official repository of ActiveNeRF (ECCV2022)</a></td></tr><tr><td>Paper</td><td><a href="https://arxiv.org/pdf/2209.08546v1">ActiveNeRF: Learning where to See with Uncertainty Estimation</a></td></tr></tbody></table></div><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>If with incomplete scene observation, the original NeRF framework tends to collapse to trivial solutions by predicting the volume density as 0 for the unobserved regions. MLPåœ¨è®­ç»ƒé›†ä¸­æ²¡åŒ…å«çš„åŒºåŸŸé¢„æµ‹çš„ volume density å€¾å‘äºä¸º0</p><p><strong><em>è¿™ç§æ–¹æ³•ç½‘ç»œä¸ä¼šå°†é«˜æ–¯åˆ†å¸ƒçš„meanå€¼é¢„æµ‹ä¸ºGT colorï¼Œç„¶åå°†variance é¢„æµ‹ä¸º0å—?</em></strong></p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æœ¬æ–‡å°†emitted radiance value of each location in the sceneå»ºæ¨¡ä¸ºä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒï¼Œé¢„æµ‹çš„varianceå¯ä»¥çœ‹ä½œaleatoric uncertaintyçš„åæ˜ . Through this, the model is imposed to provide larger variances<br>in the unobserved region instead of collapsing to the trivial solution</p><p>åœ¨ $r(t)$ä½ç½®çš„colorè¢«å®šä¹‰ä¸ºé«˜æ–¯åˆ†å¸ƒï¼šmean=$\bar{c}(r(t))$, variance=$\bar{\beta}^{2}(r(t))$ï¼Œå¹¶åˆ†åˆ«ç”¨ä¸¤ä¸ªç½‘ç»œæ¥è¿›è¡Œé¢„æµ‹</p><p>$[\sigma,f,\beta^{2}(\mathrm{r}(t))]=\mathrm{MLP}_{\theta_{1},\theta_{3}}(\gamma_{\mathrm{x}}(\mathrm{r}(t)))$<br>$\bar{c}(\mathrm{r}(t))=\mathrm{MLP}_{\theta_{2}}(f,\gamma_{\mathrm{d}}(\mathrm{d}))$</p><p>å¦‚æœ each point color æœä»é«˜æ–¯åˆ†å¸ƒï¼Œåˆ™rendered pixel color ä¹Ÿæœä»é«˜æ–¯åˆ†å¸ƒï¼š<br>$\begin{aligned}\hat{C}(\mathrm{r})&amp;\sim\mathcal{N}(\sum_{i=1}^{N_s}\alpha_i\bar{c}(\mathrm{r}(t_i)),\sum_{i=1}^{N_s}\alpha_i^2\bar{\beta}^2(\mathrm{r}(t_i)))\sim\mathcal{N}(\bar{C}(\mathrm{r}),\bar{\beta}^2(\mathrm{r})),\end{aligned}$</p><h2 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h2><p>ä¼˜åŒ–çš„ç›®æ ‡æ˜¯è®© â€œpixel color mean ä¸ GTä¹‹é—´çš„å·®å¼‚â€ ä¸ â€œpixel color varianceâ€ æœ€å°ï¼š</p><p>å‡è®¾ä¸¤æ¡å…‰çº¿ä¹‹é—´ç›¸äº¤çš„å¯èƒ½æ€§å¾ˆå°ï¼Œåˆ™rendered rayså¯ä»¥è¢«å‡è®¾ä¸ºæ˜¯ç‹¬ç«‹çš„ï¼Œå› æ­¤the negative log likelihoodæœ€å°ï¼š<br>$\min\limits_{\theta}-\log p_{\theta}(\mathcal{B}) =-\frac{1}{N}\sum\limits_{i=1}^{N}\log p_{\theta}(C(r_{i})) = \frac{1}{N}\sum\limits_{i=1}^{N}\frac{\mid\mid C(r_{i})-\bar{C}(r_{i})\mid\mid_{2}^{2}}{2\bar{\beta}^{2}(r_{i})}+\frac{\log\bar\beta^{2}(r_{i})}{2}$</p><ul><li>å¯»æ‰¾åˆ°æœ€ä¼˜çš„ç½‘ç»œå‚æ•°$\theta$ï¼Œä½¿å¾—åœ¨è¿™ä¸ª$\theta$ä¸‹ä¼°è®¡çš„colorçš„ä¼¼ç„¶æœ€å¤§ï¼Œå³negative log likelihoodæœ€å°</li><li>ä½†æ˜¯å•çº¯ä½¿ç”¨negative log likelihoodä½œä¸ºæŸå¤±å‡½æ•°ï¼Œä¼šå‡ºç°ï¼šç½‘ç»œé¢„æµ‹çš„ä¸€æ¡å…‰çº¿ä¸Šçš„ç‚¹çš„weight $\alpha_{i}$ç›¸è¿‘ï¼Œ<strong>å¯¼è‡´åœ¨ç‰©ä½“è¡¨é¢å‡ºç°blur</strong>ï¼ŒåŠ å…¥æ­£åˆ™åŒ–é¡¹ï¼Œè®©æ¯æ¡å…‰çº¿ä¸Šçš„å¹³å‡å¯†åº¦$\sigma(r(t))$æœ€å°</li></ul><p>åŠ å…¥æ­£åˆ™åŒ–é¡¹åçš„loss functionï¼š<br>$\mathcal{L}^{uct}=\frac1N\sum_{i=1}^N\left(\frac{|C(\mathrm{r}_i)-\bar{C}(\mathrm{r}_i)|_2^2}{2\bar{\beta}^2(\mathrm{r}_i)}+\frac{\log\bar{\beta}^2(\mathrm{r}_i)}{2}+\frac\lambda{N_s}\sum_{j=1}^{N_s}\sigma_i(\mathrm{r}_i(t_j))\right),$</p><p>æ­¤å¤–æœ€ç»ˆçš„lossè¿˜è¦æ·»åŠ  color çš„ MAE æŸå¤±ï¼š<br>$\mathcal{L}^{uct}(C(\mathrm{r}),\bar{C}^f(\mathrm{r}))+\frac1N\sum_{i=1}^N|C(\mathrm{r}_i)-\hat{C}^c(\mathrm{r}_i)|_2^2.$</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Sources of Uncertainty in 3D Scene Reconstruction</title>
      <link href="/3DReconstruction/Multi-view/Uncertainty/Sources%20of%20Uncertainty%20in%203D%20Scene%20Reconstruction/"/>
      <url>/3DReconstruction/Multi-view/Uncertainty/Sources%20of%20Uncertainty%20in%203D%20Scene%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Sources of Uncertainty in 3D Scene Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Marcus Klasson and Riccardo Mereu and Juho Kannala and Arno Solin</td></tr><tr><td>Conf/Jour</td><td>ECCV Workshop on Uncertainty Quantification for Computer Vision.</td></tr><tr><td>Year</td><td>2024</td></tr><tr><td>Project</td><td><a href="https://github.com/AaltoML/uncertainty-nerf-gs">AaltoML/uncertainty-nerf-gs: Code release for the paper â€œSources of Uncertainty in 3D Scene Reconstructionâ€</a></td></tr><tr><td>Paper</td><td><a href="https://arxiv.org/pdf/2409.06407">Sources of Uncertainty in 3D Scene Reconstruction</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240929204911.png" alt="image.png|666"></p><span id="more"></span><p>Q: ç¯å¢ƒå…‰ç…§å¯ä»¥å»ºæ¨¡ä¸ºä¸ç¡®å®šæ€§å—ï¼Ÿ</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><ul><li>Aleatoric Uncertainty<ul><li>random effects in the observations include varying lighting and motion blur</li></ul></li><li>Epistemic Uncertainty<ul><li>lack of information in the scene such as occluded (can be reduced by observing more data from new poses)</li><li>challenging scenes ï¼š low texture, repetitive patterns and insufficient overlap in images</li></ul></li><li>Confounding outliers<ul><li>non-static scenes (passers by, moving object)<ul><li>non-static elements in a scene, such as moving people or vegetation, introduce variability that is often interpreted as aleatoric noise. However, these elements can also obscure parts of the scene, acting as a source<br>of occlusion for parts of the scene</li></ul></li></ul></li><li>Pose Uncertainty<ul><li>Sensitivity to the camera poses in the scene</li></ul></li></ul><p>Contributionï¼š</p><ul><li><strong>identify and categorize</strong> sources of uncertainties in 3D scene reconstruction and <strong>propose methods for systematically evaluating their impact</strong>.</li><li>perform an empirical study using efficient NeRF and GS models from <strong>Nerfstudio</strong> [49] to <strong>compare the performance of various uncertainty estimation techniques</strong> on the sources of uncertainty.</li></ul><p>RelatedWorkï¼š</p><ul><li>Uncertainty Estimation in Deep Learning: <ul><li>Aleatoric Uncertainty commonly is modeled to predict a Probability Distribution from the network (mean and variance). However, this modification is insufficient to model epistemic uncertainty in the model parameters,</li><li>Epistemic Uncertainty<ul><li>Bayesian deep learning methods give means to quantify epistemic uncertainty through posterior approximations to obtain the predictive distribution.</li><li>nsembles estimate uncertainty by predictions from multiple networks trained with different weight initializations</li><li>MC-Dropout performs predictions by masking weights in the network by enabling dropout at test time.</li><li>the Laplace approximation has been shown to be a scalable and fast option to obtain predictive uncertainties from already-trained networks in a post-hoc fashion</li></ul></li></ul></li><li>Uncertainty Estimation in NeRFs and GS<ul><li>ActiveNeRF models <strong>a Gaussian distribution over rendered RGB pixels</strong> with the goal of next-best view selection, which spurred interest in this application as well as exploring more flexible probability distributions.</li><li>Estimating <strong>epistemic uncertainty in few-view settings</strong> was studied, which require significant modifications to the NeRF architecture as they <strong>use variational inference for optimization</strong>.</li><li>Later works have focused on architecture agnosticä¸å¯çŸ¥è®º approaches, used <strong>ensembles</strong> of efficient NeRF backbones to estimate uncertaintie</li><li><strong>a calibration method</strong> for correcting uncalibrated predictions on novel scenes of already-trained NeRFs</li><li>Bayesâ€™ Rays uses <strong>perturbations</strong> in a spatial grid to define a NeRF architecture-agnostic spatial uncertainty estimated using the Laplace approximation,</li><li>while FisherRF [14] computes <strong>the Fisher information</strong> over the parameters in both NeRF- and GS-based methods to quantify the uncertainty of novel views.</li><li>Recently, <strong>robustness to confounding outliers and removing distractors</strong> has been studied<ul><li>using view-specific embeddings</li><li>leveraging pre-trained networks</li><li>using robust optimization to learn what scene parts are static and dynamic</li></ul></li><li>Other works have aimed to consider aleatoric noise, motion blur and rolling shutter effects, by explicitly modeling for these</li><li>Furthermore, camera pose optimizers have been proposed to correct inaccurate camera parameters alongside optimizing the scen</li></ul></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>In particular, <strong>for the aleatoric ones</strong>, we adapt the approach proposed in Active-NeRF [30], while, <strong>for the epistemic approaches</strong>, we use MC-Dropout [7], the Laplace approximations [6] and ensembles [19].</p><ul><li>ActiveNeRF: Learning where to see with uncertainty estimation.</li><li>Dropout as a Bayesian approximation: Representing model uncertainty in deep learning.</li><li>Laplace redux-effortless Bayesian deep learning. </li><li>Simple and scalable predictive uncertainty estimation using deep ensembles.</li></ul><p><strong>limit the use of MC-Dropout and LA to NeRFs</strong> since both are Bayesian deep learning methods and, thus, non-trivial to extend to GS. <strong>ä¸¤ä¸ªéƒ½æ˜¯é€šè¿‡é¢„æµ‹ä¸€æ¡å…‰çº¿ä¸Šçš„ç‚¹é¢œè‰²(NeRFè¿ç»­)ï¼Œæ— æ³•ç®€å•çš„ç”¨åˆ°3DGSä¸­*</strong>ï¼Œä¸¤å¤–ä¸¤ä¸ªActive-NeRF å’Œ Ensemble å¯ä»¥ç”¨æ˜¯å› ä¸ºä»–ä»¬ç”¨ä¸åŒçš„trained ç½‘ç»œæ¥å»ºæ¨¡ä¸ç¡®å®šæ€§</p><h2 id="Active-NeRF-GS"><a href="#Active-NeRF-GS" class="headerlink" title="Active-NeRF/GS"></a>Active-NeRF/GS</h2><p>é¢œè‰²è¢«å¤„ç†æˆgaussian random variable  $\mathbf{c}\sim\mathcal{N}(\mathbf{c};\bar{\mathbf{c}},\beta)$ $\bar{\mathbf{c}}\in\mathbb{R}^3$ï¼Œ$\beta\in\mathbb{R}^+$ å¹¶å­¦ä¹ å‡å€¼å’Œæ–¹å·®ï¼Œæ–¹å·®ç”±å¦ä¸€ä¸ªç½‘ç»œè¿›è¡Œé¢„æµ‹</p><p><strong><em>æ–¹å·®è¢«è¡¨è¿°ä¸ºå•ä¸ªé‡ï¼Œæ²¡æœ‰è€ƒè™‘ä¸åŒé€šé“çš„coloræ–¹å·®ä¸åŒ</em></strong></p><p>$\mathbf{c}_{\text{Active-NeRF}}=\sum_{i=1}^{N_s}T_i\alpha_i\bar{\mathbf{c}}_i\quad\mathrm{and}\quad\mathrm{Var}(\mathbf{c}_{\text{Active-NeRF}})=\sum_{i=1}^{N_s}T_i^2\alpha_i^2\beta_i,$</p><p>$\mathbf{c}_{\text{Active-GS}}=\sum_{i=1}^{N_p}T_i\alpha_i\bar{\mathbf{c}}_i\mathrm{~and~}\mathrm{~Var}(\mathbf{c}_{\text{Active-GS}})=\sum_{i=1}^{N_p}T_i\alpha_i\beta_i,$</p><h2 id="MC-Dropout-NeRF"><a href="#MC-Dropout-NeRF" class="headerlink" title="MC-Dropout NeRF"></a>MC-Dropout NeRF</h2><p>The uncertainty is estimated by applying dropout M times during inference to obtain M rendered RGB predictionsï¼Œç„¶åè®¡ç®—è¿™Mä¸ªrendered colorçš„å‡å€¼ä¸æ–¹å·®</p><script type="math/tex; mode=display">\begin{gathered}c_{MC-Dropout} =\frac{1}{M}\sum_{m=1}^{M}\mathbf{c}_{\mathrm{NeRF}}^{(m)}=\frac{1}{M}\sum_{m=1}^{M}\sum_{i=1}^{N_{s}}T_{i}^{(m)}\alpha_{i}^{(m)}\mathbf{c}_{i}^{(m)}, \\\mathrm{Var}(\mathbf{c}_{\mathrm{MC-Dropout}}) \approx\frac1M\sum_{m=1}^M\mathbf{c}_{\text{MC-Dropout}}^2-\left(\frac1M\sum_{m=1}^M\mathbf{c}_{\text{MC-Dropout}}\right)^2. \end{gathered}</script><p><strong>å‡å€¼å°±æ˜¯å‡åŒ€åˆ†å¸ƒçš„æœŸæœ›</strong><br>è¿™é‡Œæ–¹å·®å…¬å¼åº”è¯¥æ˜¯å†™é”™äº†å§ï¼Œåº”è¯¥æ˜¯ï¼š$\mathrm{Var}(\mathbf{c}_{\mathrm{MC-Dropout}}) \approx\frac1M\sum_{m=1}^M\mathbf{c}_{\text{NeRF}}^2-\left(\frac1M\sum_{m=1}^M\mathbf{c}_{\text{NeRF}}\right)^2.$</p><h2 id="Laplace-NeRF"><a href="#Laplace-NeRF" class="headerlink" title="Laplace NeRF"></a>Laplace NeRF</h2><p>The idea is to approximate the intractable posterior distribution over the weights with a Gaussian distribution centered around the mode of $p(\mathbf{\theta|\mathcal{D}})$, where $\mathcal{D}$ is the training data set.</p><ul><li>Mean is set as a local maximum of the posterior $\mathbf{\theta^{*}}=\arg\max_{\mathbf{\theta}}\log p(\mathbf{\theta|\mathcal{D}})$ is obtained by training the network until convergence.</li><li>Covariance matrix $\log h(\mathbf{\theta})\approx \log h\left( \mathbf{\theta^{<em>}}-\frac{1}{2}(\mathbf{\theta}-\mathbf{\theta^{</em>}})^{\top}\mathrm{H}(\mathbf{\theta}-\mathbf{\theta^{*}}) \right)$<ul><li>by Taylor expanding $\log p(\mathbf{\theta}|\mathcal{D})$ around $\mathbf{\theta^{*}}$</li><li>$\mathrm{H}=-\nabla^{2}_{\mathbf{\theta}\log h(\mathbf{\theta})|_{\mathbf{\theta^{<em>}}}}$ is the Hessian matrix of the unnormalized log-posterior at $\mathbf{\theta^{</em>}}$ </li></ul></li></ul><p>the Laplace posterior approximation as the Gaussian distribution $p(\boldsymbol{\theta}\mid\mathcal{D}) \approx q(\boldsymbol{\theta}) = \mathcal{N}(\boldsymbol{\theta}\mid\boldsymbol{\theta}^*,\mathbf{H}^{-1})$</p><p>pointcloud color mean $\hat{\mathbf{c}}$ and variance $\hat{\beta}$ for every input $\mathbf{x}$ along the ray via MC sampling from approximate posterior<br>$\mathbf{c}_{\text{Laplace}}=\sum_{i=1}^{N_s}T_i\alpha_i\hat{\mathbf{c}}_i\quad\text{and}\quad\text{Var}(\mathbf{c}_{\text{Laplace}})=\sum_{i=1}^{N_s}T_i^2\alpha_i^2\hat{\beta}_i.$</p><h2 id="Ensemble-NeRF-GS"><a href="#Ensemble-NeRF-GS" class="headerlink" title="Ensemble NeRF/GS"></a>Ensemble NeRF/GS</h2><p>training M network with different weight initialization to different local minima</p><p>$\mathbf{c}_{\mathrm{ens}}=\frac1M\sum_{m=1}^M\mathbf{c}_{\mathrm{NeRF/GS}}^{(m)}\text{ and Var}(\mathbf{c}_{\mathrm{ens}})\approx\frac1M\sum_{m=1}^M\mathbf{c}_{\mathrm{ens}}^2-\left(\frac1M\sum_{m=1}^M\mathbf{c}_{\mathrm{ens}}\right)^2.$</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Dynamic Response Prediction</title>
      <link href="/Other%20Interest/Dynamic%20Response%20Prediction%20(Deterministic)/"/>
      <url>/Other%20Interest/Dynamic%20Response%20Prediction%20(Deterministic)/</url>
      
        <content type="html"><![CDATA[<p>FE Surrogate Model:<br>How to get dynamic response (time domain) through structural parameters?</p><span id="more"></span><h1 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h1><h2 id=""><a href="#" class="headerlink" title=" "></a> </h2><h2 id="SM-for-DR-ğŸ’§"><a href="#SM-for-DR-ğŸ’§" class="headerlink" title="SM for DR ğŸ’§"></a><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=10143077">SM for DR</a> ğŸ’§</h2><p>Title: A Machine Learning-Based Surrogate Finite Element Model for Estimating Dynamic Response of Mechanical Systems</p><ul><li>Decision trees (DTs) and deep neural networks, ç›´æ¥è¾“å…¥ç»“æ„å‚æ•°ï¼Œè¾“å‡ºtime-domain seriesï¼Œç²¾åº¦ä¸ä¼šå¾ˆé«˜<ul><li>XGBoost Decision trees</li><li>AdaBoost Decision trees</li><li>RF: random fores</li><li>DNNs: deep NN</li></ul></li></ul><h1 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h1><h2 id="GNN-LSTM-based"><a href="#GNN-LSTM-based" class="headerlink" title="GNN-LSTM-based"></a><a href="https://www.sciencedirect.com/science/article/pii/S0141029624002955">GNN-LSTM-based</a></h2><p>ä½¿ç”¨GNNä»ç»“æ„ graphä¸­æå–ç»“æ„ä¿¡æ¯ï¼Œä¸æŒ¯åŠ¨ä¿¡æ¯fusionåï¼Œè¾“å…¥LSTMè¿›è¡Œé¢„æµ‹ ä½ç§»+é€Ÿåº¦+åŠ é€Ÿåº¦åºåˆ—æ•°æ®</p><p>LSTMçš„è¾“å…¥åŒ…æ‹¬ï¼š</p><ul><li>å›¾åµŒå…¥ç½‘ç»œæå–çš„ç»“æ„ä¿¡æ¯</li><li>ground-motion motion sequenceï¼Œç”¨äº†åœ°éœ‡æ•°æ®ä½œä¸ºè¾“å…¥, Most of the ground-motion records used in the simulations did not contain <a href="https://www.sciencedirect.com/topics/engineering/pulse-velocity" title="Learn more about velocity pulses from ScienceDirect&#39;s AI-generated Topic Pages">velocity pulses</a>.</li></ul><p>The LSTM model is thus capable of not only <strong>retaining the long-term dependencies inherent in the ground-motion data</strong> but also leveraging the structural features derived from graph embeddings.</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240924221607.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> Other Interest </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Structural Dynamics</title>
      <link href="/Learn/Finite%20Element/Structural%20Dynamics/"/>
      <url>/Learn/Finite%20Element/Structural%20Dynamics/</url>
      
        <content type="html"><![CDATA[<p>Structural Dynamics Basic Knowledge.</p><blockquote><p><a href="https://chrystalchern.github.io/mdof/">mdof</a> provides fast and friendly system identification for structures.</p></blockquote><span id="more"></span><p>Book ToDoï¼š</p><ul><li>[ ] Dynamics of Structures by Anil K. Chopra</li><li>[ ] Mechanical Vibrations Theory and Application to Structural Dynamics (Michel Geradin, Daniel J. Rixen) ğŸ¤“</li><li>[ ] æœºæ¢°æŒ¯åŠ¨ å¼ ä¹‰æ°‘</li></ul><p>Nice Video</p><ul><li>[x] <a href="https://www.youtube.com/watch?v=vLaFAKnaRJU">Understanding Vibration and Resonance - YouTube</a> ä¸‰è‡ªç”±åº¦å¼¹ç°§ç³»ç»Ÿä¸­æ¯ä¸ªè´¨é‡å—éƒ½æœ‰è‡ªå·±çš„ä½ç§»$x_{1}(t),x_{2}(t),x_{3}(t)$ï¼Œå› æ­¤è¯¥ç³»ç»Ÿä¼šæœ‰ä¸‰ä¸ªå›ºæœ‰é¢‘ç‡å’Œæ¨¡æ€æŒ¯å‹</li><li>[ ] <a href="https://www.bilibili.com/video/BV1rM411k7Ja/?spm_id_from=333.337.search-card.all.click&amp;vd_source=1dba7493016a36a32b27a14ed2891088">ã€Šéçº¿æ€§åŠ¨åŠ›å­¦ä¸æ··æ²Œã€‹â€”â€”åº·å¥ˆå°”å¤§å­¦ ä¸­è‹±å­—å¹•_å“”å“©å“”å“©_bilibili</a></li></ul><p>Blog:</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/377733382">ã€Œç»“æ„åŠ¨åŠ›å­¦å…¥é—¨ã€å¼•å…¥ - çŸ¥ä¹</a></p></blockquote><p>å®é™…å·¥ç¨‹ä¸­ï¼ŒåŠ›æ˜¯å˜åŒ–çš„$P(t)$ï¼Œä¸”è¦è€ƒè™‘æƒ¯æ€§ï¼Œå› æ­¤åœ¨åŠ¨åŠ›å¹³è¡¡æ–¹ç¨‹ä¸­è¦æ·»åŠ æƒ¯æ€§åŠ›:<br>æƒ¯æ€§åŠ›ï¼š$\boldsymbol{F}\left(t\right)=-\boldsymbol{Ma}\left(t\right)=-\boldsymbol{M \ddot{u}}\left(t\right)$<br>åŠ¨åŠ›å¹³è¡¡æ–¹ç¨‹ï¼š$\boldsymbol{M\ddot{u}}\left(t\right)+\boldsymbol{Ku}\left(t\right)=\boldsymbol{P}\left(t\right)$ </p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/594067837">ä¸€ç»´è´¨é‡å¼¹ç°§ç³»ç»Ÿé˜»å°¼ç®€è°è¿åŠ¨ - çŸ¥ä¹</a></p></blockquote><p>æ— å¤–åŠ›: $P(t)=0$</p><ul><li>$u(t)=A\cos(\omega_0t+\varphi)$<ul><li>$\omega_{0}=\sqrt{ \frac{k}{m} }$ ç³»ç»Ÿçš„å›ºæœ‰é¢‘ç‡åªä¸åˆšåº¦è´¨é‡æœ‰å…³</li><li>$\varphi=\arctan(-\frac{\dot{x}_0}{\omega_0x_0})-\omega_0t_0$ </li><li>$A=\sqrt{x_0^2+\frac{\dot{x}_0^2}{\omega_0^2}}$ </li></ul></li></ul><p>æœ‰å¤–åŠ›ï¼š$P(t)=F_{0}\sin(\omega_{f}t)$ $\omega_{f}$æ˜¯å¤–åŠ åŠ›çš„é¢‘ç‡</p><ul><li>$u(t)=Ae^{-\xi\omega t}\sin(\omega_0 t+\phi) + \frac{F_0/k \sin(w_ft-\theta)}{\sqrt{ (1-r^{2})^{2}+(2r \xi)^{2} }}$</li></ul><blockquote><p><a href="https://blog.csdn.net/qq_37083038/article/details/113624209">éçº¿æ€§åŠ¨åŠ›å­¦ nonlinear dynamics-CSDNåšå®¢</a></p></blockquote><p>çº¿æ€§å¼¹ç°§ï¼š$kx$<br>éçº¿æ€§å¼¹ç°§ï¼š$kx+hx^{3}$</p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Data Analysis</title>
      <link href="/Learn/Python/Data%20Analysis/"/>
      <url>/Learn/Python/Data%20Analysis/</url>
      
        <content type="html"><![CDATA[<p>sklearn | numpy | pandas<br>seaborn | matplotlib</p><span id="more"></span><h1 id="æ•°æ®é™ç»´"><a href="#æ•°æ®é™ç»´" class="headerlink" title="æ•°æ®é™ç»´"></a>æ•°æ®é™ç»´</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.manifold <span class="keyword">import</span> TSNE</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"></span><br><span class="line"><span class="comment"># n_samples, seq_length, feature_dim</span></span><br><span class="line"><span class="comment"># ori_data 3000,24,6</span></span><br><span class="line"><span class="comment"># generate_data 3000,24,6</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># compareè®¾ç½®çš„æ¯”ori_data.shape[0]å°ä¸€ç‚¹æ–¹ä¾¿è®¡ç®—</span></span><br><span class="line">anal_sample_no = <span class="built_in">min</span>([compare, ori_data.shape[<span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line">idx = np.random.permutation(ori_data.shape[<span class="number">0</span>])[:anal_sample_no]</span><br><span class="line">ori_data = ori_data[idx]</span><br><span class="line">generated_data = generated_data[idx]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹ feature_dim å–å¹³å‡ 3000,24,6 --&gt; 3000,24</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(anal_sample_no):</span><br><span class="line">  <span class="keyword">if</span> (i == <span class="number">0</span>):</span><br><span class="line">    prep_data = np.reshape(np.mean(ori_data[<span class="number">0</span>, :, :], <span class="number">1</span>), [<span class="number">1</span>, seq_len])</span><br><span class="line">    prep_data_hat = np.reshape(np.mean(generated_data[<span class="number">0</span>, :, :], <span class="number">1</span>), [<span class="number">1</span>, seq_len])</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    prep_data = np.concatenate((prep_data,np.reshape(np.mean(ori_data[i, :, :], <span class="number">1</span>), [<span class="number">1</span>, seq_len])))</span><br><span class="line">    prep_data_hat = np.concatenate((prep_data_hat,np.reshape(np.mean(generated_data[i, :, :], <span class="number">1</span>), [<span class="number">1</span>, seq_len])))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®é™ç»´</span></span><br><span class="line"><span class="comment"># # prep_data 3000,24</span></span><br><span class="line"><span class="comment"># # prep_data_hat 3000,24</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## PCA</span></span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">pca.fit(prep_data) <span class="comment"># å¯¹`prep_data`è¿›è¡Œè®­ç»ƒï¼Œè®¡ç®—ä¸»æˆåˆ†ï¼ˆæ–¹å‘å‘é‡ï¼‰</span></span><br><span class="line"><span class="comment">### å°†åŸå§‹æ•°æ®æŠ•å½±åˆ°2ä¸ªä¸»æˆåˆ†çš„ç©ºé—´ä¸Šï¼Œ`pca_results`æ˜¯é™ç»´åçš„æ•°æ®</span></span><br><span class="line">pca_results = pca.transform(prep_data) <span class="comment"># (3000, 2) ori</span></span><br><span class="line">pca_hat_results = pca.transform(prep_data_hat) <span class="comment"># (3000, 2) gen</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## t-SNE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### Do t-SNE Analysis together</span></span><br><span class="line">prep_data_final = np.concatenate((prep_data, prep_data_hat), axis=<span class="number">0</span>) <span class="comment"># 6000, 24</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### TSNE anlaysis</span></span><br><span class="line">tsne = TSNE(n_components=<span class="number">2</span>, verbose=<span class="number">1</span>, perplexity=<span class="number">40</span>, n_iter=<span class="number">300</span>)</span><br><span class="line">tsne_results = tsne.fit_transform(prep_data_final) <span class="comment"># 6000,2</span></span><br><span class="line"><span class="comment">### é™ç»´åçš„æ•°æ®</span></span><br><span class="line">tsne_results = tsne_results[:anal_sample_no, :] <span class="comment"># 3000,2</span></span><br><span class="line">pca_hat_results = tsne_results[anal_sample_no:, :] <span class="comment"># 3000,2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Time Series Generation (Uncertainty)</title>
      <link href="/Other%20Interest/Time%20Series%20Generation/"/>
      <url>/Other%20Interest/Time%20Series%20Generation/</url>
      
        <content type="html"><![CDATA[<p><a href="https://paperswithcode.com/task/time-series-generation/latest">Time Series Generation | Papers With Code</a></p><ul><li>ç”Ÿæˆæ ·æœ¬ï¼Œè§£å†³æ ·æœ¬ä¸è¶³çš„é—®é¢˜</li></ul><span id="more"></span><h1 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h1><h2 id="GAN"><a href="#GAN" class="headerlink" title="GAN"></a><a href="https://dl.acm.org/doi/pdf/10.1145/3559540">GAN</a></h2><blockquote><p><a href="https://dl.acm.org/doi/pdf/10.1145/3559540">Generative Adversarial Networks in Time Series: A Systematic Literature Review</a></p></blockquote><ul><li>Autoregressive (AR) to forecast data point of time seriesï¼š$x_{t+1} = c + \theta_1x_t + \theta_2x_{t-1} + \epsilon$ã€‚ç„¶è€Œå…¶å†…åœ¨æ˜¯ç¡®å®šæ€§çš„ç”±äºæ²¡æœ‰åœ¨æœªæ¥ç³»ç»ŸçŠ¶æ€çš„è®¡ç®—ä¸­å¼•å…¥éšæœºæ€§</li><li>Generative Methodsï¼š<ul><li>Autoencoder (AE)</li><li>variational autoencoders (VAEs)</li><li>recurrent neural network (RNN)</li><li>GAN is inherent instability, suffer from issues: <ul><li>non-convergence, A non-converging model does not stabilize and continuously oscillates, causing it to diverge. </li><li>diminishing/vanishing gradients, Diminishing gradients prevent the generator from learning anything, as the discriminator becomes too successful. </li><li>mode collapse. Mode collapse is when the generator collapses, producing only uniform samples with little to no variety.</li><li>æ²¡æœ‰æ¯”è¾ƒå¥½çš„è¯„ä»·æŒ‡æ ‡</li></ul></li></ul></li></ul><p>GAN Model task: ç”Ÿæˆå™¨Gè¦æœ€å¤§åŒ–åˆ¤åˆ«å™¨Dçš„é”™è¯¯ç‡ï¼Œè€Œåˆ¤åˆ«å™¨Dåˆ™æ˜¯è¦æœ€å°åŒ–å…¶é”™è¯¯ç‡</p><script type="math/tex; mode=display">\min_{G}\max_{D}V(G,D)=\mathbb{E}_{x\sim p_{data}(x)}[logD(\mathbf{x})]+\mathbb{E}_{z\sim p_{z}(z)}[log(1-D(G(\mathbf{z})))]</script><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240924163352.png" alt="image.png|666"></p><p>åº”ç”¨ï¼š</p><ul><li>Data Augumentation</li><li>Imputation</li><li>Denoising</li><li>Anomaly Detectionå¼‚å¸¸æ£€æµ‹</li></ul><h1 id="Diffusion"><a href="#Diffusion" class="headerlink" title="Diffusion"></a>Diffusion</h1><h2 id="Diffusion-TS-2024"><a href="#Diffusion-TS-2024" class="headerlink" title="Diffusion TS 2024"></a><a href="https://openreview.net/pdf?id=4h1apFjO99">Diffusion TS</a> 2024</h2><p>Diffusion + Transformer</p><p>UNCONDITIONAL TIME SERIES GENERATIONï¼Œè¾“å…¥çš„æ˜¯å™ªå£°æ•°æ® <code>img = torch.randn(shape, device=device)</code><br>CONDITIONAL TIME SERIES GENERATIONï¼šè¿™é‡Œçš„æ¡ä»¶ä»£è¡¨çš„ä¹Ÿæ˜¯time series(ç¼ºå¤±éƒ¨åˆ†æ•°æ®)</p><ul><li>Imputation è¡¥å…¨</li><li>Forecasting é¢„æµ‹</li></ul><blockquote><p><a href="https://github.com/y-debug-sys/diffusion-ts">Y-debug-sys/Diffusion-TS: [ICLR 2024] Official Implementation of â€œDiffusion-TS: Interpretable Diffusion for General Time Series Generationâ€</a> code</p></blockquote><p>æ—¶é—´åºåˆ—æ•°æ®å¯åˆ†ä¸º: </p><ul><li>è¶‹åŠ¿é¡¹ Trend+å‘¨æœŸé¡¹ Seasonality+è¯¯å·®é¡¹ Error</li><li>$x_j=\zeta_j+\sum_{i=1}^ms_{i,j}+e_j,\quad j=0,1,\ldots,\tau-1,$</li><li>$\hat{x}_0(x_t,t,\theta)=V_{tr}^t+\sum_{i=1}^DS_{i,t}+R$</li></ul><p>Trend: $V_{tr}^t=\sum_{i=1}^D(\boldsymbol{C}\cdot\mathrm{Linear}(w_{tr}^{i,t})+\mathcal{X}_{tr}^{i,t}),\quad\boldsymbol{C}=[1,c,\ldots,c^p]$</p><ul><li>D ä»£è¡¨ç”± D ä¸ª Decoder block</li><li>$\mathcal{X}_{tr}^{i,t}$ æ˜¯ i-th ä¸ª Decoder block è¾“å‡ºçš„å‡å€¼ï¼Œ<em>è¶‹åŠ¿é¡¹åŠ ä¸Šè¿™ä¸ªå¯ä»¥è®©å…¶åœ¨yè½´ä¸Šä¸‹ç§»åŠ¨</em>ï¼Œè¯¥é¡¹çš„ç´¯åŠ åœ¨ä»£ç ä¸­å¹¶ä¸æ˜¯ç®€å•çš„æ±‚å’Œï¼Œ è€Œæ˜¯é€šè¿‡ä¸€ä¸ªconv1dæ¥åŠ¨æ€è°ƒæ•´æ±‚å’Œæ—¶çš„æƒé‡ï¼Œæ­¤å¤–è¿˜ä¼šåŠ ä¸Šæœ€åä¸€ä¸ªdecoder blockè¾“å‡ºçš„å‡å€¼</li><li>C is the matrix of powers of vector $c=\frac{[0,1,2,\dots,\tau-2,\tau-1]^{T}}{\tau}$ $\tau$ is the time series length<ul><li>$y=a_{0}+a_{1}x+a_{2}x^{2}+a_{3}x^{3}+\dots+a_{p}x^{p}$ , <ul><li>ç³»æ•°aå³ç½‘ç»œçš„è¾“å‡º$\mathrm{Linear}(w_{tr}^{i,t})$</li><li>$x,x^{2},x^{3}\dots,x^{p}$  <strong>æœ¬è´¨ä¸Šæ˜¯é€šè¿‡Cæ¥è¡¨ç¤º</strong></li></ul></li></ul></li><li>P is a small degree (p=3) to model low frequency behavior  p=3ä»£è¡¨ç”¨3é˜¶æ¥æ‹Ÿåˆè¶‹åŠ¿é¡¹å·²ç»è¶³å¤Ÿ</li></ul><p>TrendBlock:</p><ul><li>Input: input $w_{tr}^{i,t}$ </li><li>Output: trend_vals $\boldsymbol{C}\cdot\mathrm{Linear}(w_{tr}^{i,t})$</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###### TrendBlock ######</span></span><br><span class="line"><span class="comment"># forward:</span></span><br><span class="line">b, c, h = <span class="built_in">input</span>.shape <span class="comment"># (batch_size, seq_len, d_model)</span></span><br><span class="line">x = self.trend(<span class="built_in">input</span>).transpose(<span class="number">1</span>, <span class="number">2</span>) <span class="comment"># (batch_size, trend_poly, out_feat)</span></span><br><span class="line">trend_vals = torch.matmul(x.transpose(<span class="number">1</span>, <span class="number">2</span>), self.poly_space.to(x.device))</span><br><span class="line">trend_vals = trend_vals.transpose(<span class="number">1</span>, <span class="number">2</span>) <span class="comment"># (batch_size, seq_len, out_feat)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># __init__: </span></span><br><span class="line">trend_poly = <span class="number">3</span></span><br><span class="line">self.trend = nn.Sequential(</span><br><span class="line">    nn.Conv1d(in_channels=in_dim, out_channels=trend_poly, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">    act,</span><br><span class="line">    Transpose(shape=(<span class="number">1</span>, <span class="number">2</span>)),</span><br><span class="line">    nn.Conv1d(in_feat, out_feat, <span class="number">3</span>, stride=<span class="number">1</span>, padding=<span class="number">1</span>)</span><br><span class="line">)</span><br><span class="line">lin_space = torch.arange(<span class="number">1</span>, out_dim + <span class="number">1</span>, <span class="number">1</span>) / (out_dim + <span class="number">1</span>) <span class="comment"># out_dim = seq_len = time series length</span></span><br><span class="line">self.poly_space = torch.stack([lin_space ** <span class="built_in">float</span>(p + <span class="number">1</span>) <span class="keyword">for</span> p <span class="keyword">in</span> <span class="built_in">range</span>(trend_poly)], dim=<span class="number">0</span>) <span class="comment"># trend_poly, out_dim</span></span><br></pre></td></tr></table></figure><p>Seasonality: $S_{i,t}=\sum_{k=1}^{K}A_{i,t}^{\kappa_{i,t}^{(k)}}\left[\cos(2\pi f_{\kappa_{i,t}^{(k)}}\tau c+\Phi_{i,t}^{\kappa_{i,t}^{(k)}})+\cos(2\pi\bar{f}_{\kappa_{i,t}^{(k)}}\tau c+\bar{\Phi}_{i,t}^{\kappa_{i,t}^{(k)}})\right],$  </p><ul><li>Amplitude $A_{i,t}^{(k)}=\left|\mathcal{F}(w_{seas}^{i,t})_{k}\right|$</li><li>Phase $\Phi_{i,t}^{(k)}=\phi\left(\mathcal{F}(w_{seas}^{i,t})_{k}\right)$</li><li>$\mathcal{F}$ is the discrete Fourier transform</li><li>$\kappa_{i,t}^{(1)},\cdots,\kappa_{i,t}^{(K)}=\arg\text{TopK}\\k\in\{1,\cdots,\lfloor\tau/2\rfloor+1\}$ é€‰æ‹© top K çš„å¹…å€¼å’Œç›¸ä½ï¼ŒK is a hyperparameter</li><li>$f_{k}$ represents the Fourier frequency of the corresponding index k, $\bar{f}_{k}$ ä¸º $f_{k}$ çš„å…±è½­</li><li>$\tau c=\tau \cdot\frac{[0,1,2,\dots,\tau-2,\tau-1]^{T}}{\tau}=[0,1,2,\dots,\tau-2,\tau-1]^{T}$</li></ul><p>FourierLayer:</p><ul><li>Input: x $w_{seas}^{i,t}$ </li><li>Output:  x_time $S_{i,t}$ <ul><li><code>x_freq, x_freq.conj()</code> æ˜¯$\mathcal{F}(w_{seas}^{i,t})_{k}$ å’Œå…¶å…±è½­ï¼Œé€šè¿‡abs å’Œ angle å¾—åˆ°å¹…å€¼å’Œç›¸ä½</li><li><code>f, -f</code> is $f_{k}$ and $\bar{f}_{k}$</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###### FourierLayer ######</span></span><br><span class="line"><span class="keyword">from</span> einops <span class="keyword">import</span> rearrange, reduce, repeat</span><br><span class="line"></span><br><span class="line"><span class="comment"># forward:</span></span><br><span class="line">b, t, d = x.shape</span><br><span class="line">x_freq = torch.fft.rfft(x, dim=<span class="number">1</span>)  <span class="comment"># (b, t, d) -&gt; (b, t//2+1, d)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> t % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">    x_freq = x_freq[:, self.low_freq:-<span class="number">1</span>]</span><br><span class="line">    f = torch.fft.rfftfreq(t)[self.low_freq:-<span class="number">1</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    x_freq = x_freq[:, self.low_freq:]</span><br><span class="line">    f = torch.fft.rfftfreq(t)[self.low_freq:]</span><br><span class="line"><span class="comment"># print(x_freq.shape) # (b, t//2 - sel.low_freq, d)</span></span><br><span class="line"><span class="comment"># print(f.shape) # (t//2 - sel.low_freq)</span></span><br><span class="line">x_freq, index_tuple = self.topk_freq(x_freq) <span class="comment"># (b, top_k, d)</span></span><br><span class="line">f = repeat(f, <span class="string">&#x27;f -&gt; b f d&#x27;</span>, b=x_freq.size(<span class="number">0</span>), d=x_freq.size(<span class="number">2</span>)).to(x_freq.device) <span class="comment"># (b, t//2 - sel.low_freq, d)</span></span><br><span class="line">f = rearrange(f[index_tuple], <span class="string">&#x27;b f d -&gt; b f () d&#x27;</span>).to(x_freq.device) <span class="comment"># (b, top_k, 1, d)</span></span><br><span class="line">x_freq = torch.cat([x_freq, x_freq.conj()], dim=<span class="number">1</span>)</span><br><span class="line">f = torch.cat([f, -f], dim=<span class="number">1</span>)</span><br><span class="line">t = rearrange(torch.arange(t, dtype=torch.<span class="built_in">float</span>),</span><br><span class="line">              <span class="string">&#x27;t -&gt; () () t ()&#x27;</span>).to(x_freq.device)</span><br><span class="line">amp = rearrange(x_freq.<span class="built_in">abs</span>(), <span class="string">&#x27;b f d -&gt; b f () d&#x27;</span>)</span><br><span class="line">phase = rearrange(x_freq.angle(), <span class="string">&#x27;b f d -&gt; b f () d&#x27;</span>)</span><br><span class="line">x_time = amp * torch.cos(<span class="number">2</span> * math.pi * f * t + phase)</span><br><span class="line"><span class="keyword">return</span> reduce(x_time, <span class="string">&#x27;b f t d -&gt; b t d&#x27;</span>, <span class="string">&#x27;sum&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># __init__ and function:</span></span><br><span class="line">self.d_model = d_model</span><br><span class="line">self.factor = factor</span><br><span class="line">self.low_freq = low_freq</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">topk_freq</span>(<span class="params">self, x_freq</span>):</span><br><span class="line">  length = x_freq.shape[<span class="number">1</span>]</span><br><span class="line">  top_k = <span class="built_in">int</span>(self.factor * math.log(length))</span><br><span class="line">  <span class="comment"># print(top_k)</span></span><br><span class="line">  values, indices = torch.topk(x_freq.<span class="built_in">abs</span>(), top_k, dim=<span class="number">1</span>, largest=<span class="literal">True</span>, <span class="built_in">sorted</span>=<span class="literal">True</span>) <span class="comment"># (b, top_k, d)</span></span><br><span class="line">  <span class="comment"># print(values.shape, indices.shape); print(values); print(indices)</span></span><br><span class="line">  mesh_a, mesh_b = torch.meshgrid(torch.arange(x_freq.size(<span class="number">0</span>)), torch.arange(x_freq.size(<span class="number">2</span>)), indexing=<span class="string">&#x27;ij&#x27;</span>) <span class="comment"># (b, d)</span></span><br><span class="line">  index_tuple = (mesh_a.unsqueeze(<span class="number">1</span>), indices, mesh_b.unsqueeze(<span class="number">1</span>)) <span class="comment"># (b, 1, d) (b, top_k, d) (b, 1, d)</span></span><br><span class="line">  x_freq = x_freq[index_tuple] <span class="comment"># (b, top_k, d) ğŸ¤”é«˜çº§ç´¢å¼•æ–¹æ³•(å…ƒç»„)</span></span><br><span class="line">  <span class="keyword">return</span> x_freq, index_tuple</span><br></pre></td></tr></table></figure><p>Error: R is the output of the last decoder block, which can be regarded as the sum of residual<br>periodicity and other noise. ä»£ç ä¸­çš„Rä¸ºæœ€åä¸€ä¸ªdecoder blockè¾“å‡ºå‡å»å…¶å¹³å‡å€¼ï¼Œå¹¶å°†å¹³å‡å€¼åŠ åˆ°è¶‹åŠ¿é¡¹ä¸­ï¼Œè®©å‘¨æœŸé¡¹ä¸åŒ…å«ä»»ä½•çš„yè½´æ–¹å‘ä¿¡æ¯</p><p>æ—¶é—´åºåˆ—æ•°æ®è¢«è¡¨ç¤ºä¸º $\hat{x}_0(x_t,t,\theta)=V_{tr}^t+\sum_{i=1}^DS_{i,t}+R$ï¼Œç„¶åé€šè¿‡DDPMæ¥ç›´æ¥é¢„æµ‹åŸå§‹æ ·æœ¬ï¼Œåå‘ç”Ÿæˆè¿‡ç¨‹è¢«è¡¨ç¤ºä¸ºï¼š$x_{t-1}=\frac{\sqrt{\bar{\alpha}_{t-1}}\beta_t}{1-\bar{\alpha}_t}\hat{x}_0(x_t,t,\theta)+\frac{\sqrt{\alpha_t}(1-\bar{\alpha}_{t-1})}{1-\bar{\alpha}_t}x_t+\frac{1-\bar{\alpha}_{t-1}}{1-\bar{\alpha}_t}\beta_tz_t,$ </p><ul><li>$z_t\sim\mathcal{N}(0,\mathbf{I}), \alpha_t=1-\beta_t\text{ and }\bar{\alpha}_t=\prod_{s=1}^t\alpha_s$</li></ul><p>æŸå¤±å‡½æ•°ï¼š<br>æ—¶åŸŸ+FFTé¢‘åŸŸç›‘ç£ï¼š$\mathcal{L}_\theta=\mathbb{E}_{t,x_0}\left[w_t\left[\lambda_1|x_0-\hat{x}_0(x_t,t,\theta)|^2+\lambda_2|\mathcal{F}\mathcal{FT}(x_0)-\mathcal{FFT}(\hat{x}_0(x_t,t,\theta))|^2\right]\right]$</p><ul><li>$\mathcal{L}_{simple}=\mathbb{E}_{t,x_{0}}\left[w_{t}|x_{0}-\hat{x}_{0}(x_{t},t,\theta)|^{2}\right],\quad w_{t}=\frac{\lambda\alpha_{t}(1-\bar{\alpha}_{t})}{\beta_{t}^{2}}$<ul><li>å…¶ä¸­æƒé‡è¢«è®¾ç½®ä¸ºå½“åœ¨ small t æ—¶æƒé‡å˜å°ï¼Œè®©ç½‘ç»œé›†ä¸­åœ¨æ›´å¤§çš„ diffusion step t(å™ªå£°è¾ƒå¤šçš„æ—¶å€™)</li><li>ç”± $x_t=\sqrt{\bar{\alpha}_t}x_0+\sqrt{1-\bar{\alpha}_t}\epsilon.$ï¼Œéšç€tçš„å¢å¤§ï¼Œ$\alpha_{t}$ åœ¨é€æ¸å˜å°</li></ul></li></ul><p>ä¸Šè¿°è¿‡ç¨‹ä¸ºæ— æ¡ä»¶ time series generationï¼Œæœ¬æ–‡è¿˜æè¿°äº†conditional extensions of Diffusion-TSï¼Œå³the modeled $x_{0}$ ä»¥ targets y ä¸ºæ¡ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240923180228.png" alt="image.png|666"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920223417.png" alt="image.png|666"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240921202408.png" alt="image.png|666"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¯å¢ƒé…ç½®</span></span><br><span class="line">conda create -n Diffusion-TS</span><br><span class="line">conda activate Diffusion-TS</span><br><span class="line"></span><br><span class="line">pip install torch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 --index-url https://download.pytorch.org/whl/cu118</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># train with stocks dataset with gpu 0</span></span><br><span class="line">python main.py --name stocks_exp1 --config_file ./Config/stocks.yaml --gpu 0 --train</span><br></pre></td></tr></table></figure><h1 id="GANs"><a href="#GANs" class="headerlink" title="GANs"></a>GANs</h1><h2 id="RGANs-Mostâ­2017"><a href="#RGANs-Mostâ­2017" class="headerlink" title="RGANs Mostâ­2017"></a><a href="https://arxiv.org/pdf/1706.02633v2">RGANs</a> Mostâ­2017</h2><blockquote><p><a href="https://github.com/ratschlab/RGAN">ratschlab/RGAN: Recurrent (conditional) generative adversarial networks for generating real-valued time series data.</a> code</p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920224613.png" alt="image.png|666"></p><h2 id="SigCGANs"><a href="#SigCGANs" class="headerlink" title="SigCGANs"></a><a href="https://arxiv.org/pdf/2006.05421v2">SigCGANs</a></h2><blockquote><p><a href="https://github.com/SigCGANs/Conditional-Sig-Wasserstein-GANs">SigCGANs/Conditional-Sig-Wasserstein-GANs</a> code</p></blockquote><h2 id="TimeGAN"><a href="#TimeGAN" class="headerlink" title="TimeGAN"></a><a href="https://papers.nips.cc/paper/2019/file/c9efe5f26cd17ba6216bbe2a7d26d490-Paper.pdf">TimeGAN</a></h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240923145250.png" alt="image.png|666"></p><h1 id="VAE"><a href="#VAE" class="headerlink" title="VAE"></a>VAE</h1><h2 id="TimeVAE"><a href="#TimeVAE" class="headerlink" title="TimeVAE"></a><a href="https://arxiv.org/pdf/2111.08095v3">TimeVAE</a></h2><blockquote><p><a href="https://github.com/abudesai/timeVAE">abudesai/timeVAE: TimeVAE implementation in keras/tensorflow</a><br><a href="https://github.com/abudesai/syntheticdatagen">abudesai/syntheticdatagen: synthetic data generation of time-series data</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920224735.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920224814.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> Other Interest </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Code of Multi-view 3D Reconstruction based on SDF and volume rendering</title>
      <link href="/3DReconstruction/Multi-view/Code%20of%20Multi-view%203D%20Reconstruction%20based%20on%20SDF%20and%20volume%20rendering/"/>
      <url>/3DReconstruction/Multi-view/Code%20of%20Multi-view%203D%20Reconstruction%20based%20on%20SDF%20and%20volume%20rendering/</url>
      
        <content type="html"><![CDATA[<p>è®ºæ–‡ä»£ç å¤ç°(Linux OS)</p><span id="more"></span><h1 id="åŸºæœ¬å¿…å¤‡å·¥å…·"><a href="#åŸºæœ¬å¿…å¤‡å·¥å…·" class="headerlink" title="åŸºæœ¬å¿…å¤‡å·¥å…·"></a>åŸºæœ¬å¿…å¤‡å·¥å…·</h1><h2 id="tiny-cuda-nn"><a href="#tiny-cuda-nn" class="headerlink" title="tiny-cuda-nn"></a>tiny-cuda-nn</h2><blockquote><p><a href="https://github.com/NVlabs/tiny-cuda-nn#requirements">NVlabs/tiny-cuda-nn: Lightning fast C++/CUDA neural network framework</a></p></blockquote><p>ç¯å¢ƒéœ€æ±‚</p><ul><li>A <strong>C++14</strong> capable compiler. The following choices are recommended and have been tested:<ul><li><strong>Windows:</strong> Visual Studio 2019 or 2022</li><li><strong>Linux:</strong> GCC/G++ 8 or higher</li></ul></li><li>A recent version of <strong><a href="https://developer.nvidia.com/cuda-toolkit">CUDA</a></strong>. The following choices are recommended and have been tested:<ul><li><strong>Windows:</strong> CUDA 11.5 or higher</li><li><strong>Linux:</strong> CUDA 10.2 or higher</li></ul></li><li><strong><a href="https://cmake.org/">CMake</a> v3.21 or higher</strong>.</li></ul><p>å¦‚æœgccã€cmakeçš„ç‰ˆæœ¬æ­£ç¡®ï¼Œåˆ™ç›´æ¥å®‰è£…ï¼š</p><ol><li><code>sudo apt-get install build-essential git</code></li><li>ç„¶åå¯¹tiny-cuda-nnè¿›è¡Œç¼–è¯‘ï¼Œæ­¤å¤„éœ€è¦ç”¨åˆ°cudaï¼Œå› æ­¤éœ€è¦å¸¦GPUæ¨¡å¼å¼€æœº</li><li><code>git clone --recursive &quot;https://github.com/nvlabs/tiny-cuda-nn&quot;</code><ol><li><code>cd tiny-cuda-nn</code></li><li><code>cmake . -B build -DCMAKE_BUILD_TYPE=RelWithDebInfo</code></li><li><code>cmake --build build --config RelWithDebInfo -j</code> If compilation fails inexplicably or takes longer than an hour, you might be running <strong>out of memory</strong>. Try running the above command without <code>-j</code> in that case.</li></ol></li><li>æœ€åè¿è¡Œsetup.pyï¼Œå¦‚æœä¸åœ¨å…¨å±€ç¯å¢ƒå®‰è£…ï¼Œäº¦å¯åœ¨condaè™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…<ol><li><code>cd bindings/torch</code></li><li><code>python setup.py install</code></li></ol></li></ol><p>in wsl2 with Ubuntu:</p><blockquote><p><a href="https://developer.nvidia.com/cuda-11-3-1-download-archive?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=WSL-Ubuntu&amp;target_version=2.0&amp;target_type=deb_network">CUDA Toolkit 11.3 Update 1 Downloads | NVIDIA Developer</a><br><a href="https://developer.nvidia.com/cuda-12-6-1-download-archive?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=WSL-Ubuntu&amp;target_version=2.0&amp;target_type=deb_network">CUDA Toolkit 12.6 Update 1 Downloads | NVIDIA Developer</a><br><a href="https://forums.developer.nvidia.com/t/notice-cuda-linux-repository-key-rotation/212772">Notice: CUDA Linux Repository Key Rotation - Accelerated Computing / Announcements - NVIDIA Developer Forums</a> keyå¤±æ•ˆäº†</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cuda 11.3</span></span><br><span class="line">sudo apt install gcc</span><br><span class="line">sudo apt install cmake</span><br><span class="line">sudo apt install nvidia-cuda-toolkit <span class="comment"># unknown source</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cuda å®˜ç½‘</span></span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-wsl-ubuntu.pin</span><br><span class="line">sudo <span class="built_in">mv</span> cuda-wsl-ubuntu.pin /etc/apt/preferences.d/cuda-repository-pin-600</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¸ªkey æ— æ³•ä½¿ç”¨äº† </span></span><br><span class="line">sudo apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/7fa2af80.pub </span><br><span class="line"><span class="comment"># æ¢æˆè¿™ä¸ªkeyï¼š</span></span><br><span class="line">sudo apt-key del 7fa2af80</span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/repos/<span class="variable">$distro</span>/<span class="variable">$arch</span>/cuda-keyring_1.0-1_all.deb</span><br><span class="line">sudo dpkg -i cuda-keyring_1.0-1_all.deb</span><br><span class="line"></span><br><span class="line"><span class="comment"># $distro/$archï¼š</span></span><br><span class="line">debian10/x86_64</span><br><span class="line">debian11/x86_64</span><br><span class="line">ubuntu1604/x86_64</span><br><span class="line">ubuntu1804/cross-linux-sbsa</span><br><span class="line">ubuntu1804/ppc64el</span><br><span class="line">ubuntu1804/sbsa</span><br><span class="line">ubuntu1804/x86_64</span><br><span class="line">ubuntu2004/cross-linux-sbsa</span><br><span class="line">ubuntu2004/sbsa</span><br><span class="line">ubuntu2004/x86_64</span><br><span class="line">ubuntu2204/sbsa</span><br><span class="line">ubuntu2204/x86_64</span><br><span class="line">wsl-ubuntu/x86_64</span><br><span class="line"></span><br><span class="line">sudo add-apt-repository <span class="string">&quot;deb https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/ /&quot;</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install cuda <span class="comment"># é»˜è®¤å®‰è£…æœ€é«˜ç‰ˆæœ¬</span></span><br><span class="line">sudo apt-get -y install cuda-toolkit-11-3</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´é«˜ç‰ˆæœ¬ 12.6</span></span><br><span class="line"></span><br><span class="line">wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-keyring_1.1-1_all.deb</span><br><span class="line">sudo dpkg -i cuda-keyring_1.1-1_all.deb</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install cuda-toolkit-12-6</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># cudann å¯¹åº”cudaç‰ˆæœ¬ 11.3</span><br><span class="line">tar -zxvf cudnn-è‡ªå·±è¡¥å…¨ç‰ˆæœ¬å·.tgz</span><br><span class="line">sudo cp -P cuda/lib64/libcudnn* /usr/local/cuda-11.3/lib64/</span><br><span class="line">sudo cp cuda/include/cudnn.h /usr/local/cuda-11.3/include/</span><br><span class="line"> </span><br><span class="line">#ä¸ºæ›´æ”¹è¯»å–æƒé™ï¼š</span><br><span class="line">sudo chmod a+r /usr/local/cuda-11.3/include/cudnn.h</span><br><span class="line">sudo chmod a+r /usr/local/cuda-11.3/lib64/libcudnn*</span><br><span class="line"></span><br><span class="line">## test</span><br><span class="line">cd /usr/local/cuda/samples/4_Finance/BlackScholes</span><br><span class="line">sudo make</span><br><span class="line">./BlackScholes</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/wohu1104/article/details/107371779">é€šè¿‡ä¿®æ”¹è½¯é“¾æ¥å‡é«˜ gcc ç‰ˆæœ¬ã€é™ä½ gcc ç‰ˆæœ¬_gccè½¯è¿æ¥-CSDNåšå®¢</a><br><a href="https://stackoverflow.com/questions/6622454/cuda-incompatible-with-my-gcc-version">CUDA incompatible with my gcc version - Stack Overflow</a> CUDAå¯¹åº”gccç‰ˆæœ¬</p><ul><li><code>sudo apt install gcc-$MAX_GCC_VERSION g++-$MAX_GCC_VERSION</code></li><li><code>sudo rm gcc g++</code> in /usr/bin/</li><li><code>sudo ln -s gcc-$MAX_GCC_VERSION gcc</code><ul><li><code>sudo ln -s /usr/bin/gcc-$MAX_GCC_VERSION /usr/local/cuda/bin/gcc</code></li><li><code>sudo ln -s /usr/bin/g++-$MAX_GCC_VERSION /usr/local/cuda/bin/g++</code></li></ul></li></ul><h3 id="gcc-install-update"><a href="#gcc-install-update" class="headerlink" title="gcc install/update"></a>gcc install/update</h3><p>ç®€å•æ–¹æ³•ï¼š<a href="https://segmentfault.com/a/1190000044587299">linux - ã€Ubuntu20.04ã€‘å®‰è£…gcc11 g++11, Ubuntu18.04 - ä¸ªäººæ–‡ç«  - SegmentFault æ€å¦</a></p><p>åŸå§‹æ–¹æ³•ï¼š</p><ol><li>ä¸‹è½½ <a href="https://ftp.gnu.org/gnu/gcc/gcc-9.4.0/">Index of /gnu/gcc/gcc-9.4.0</a> çš„ gcc-9.4.0.tar.gz</li><li>å°†æ–‡ä»¶è§£å‹åˆ°/usr/localç›®å½•ä¸‹é¢ <code>tar -zvxf gcc-9.4.0.tar.gz --directory=/usr/local/</code></li><li><code>vim /usr/local/gcc-9.4.0/contrib/download_prerequisites</code> æŸ¥çœ‹gccæ‰€éœ€ä¾èµ–åŠå…¶ç‰ˆæœ¬<ol><li>gmp=â€™gmp-6.1.0.tar.bz2â€™</li><li>mpfr=â€™mpfr-3.1.4.tar.bz2â€™</li><li>mpc=â€™mpc-1.0.3.tar.gzâ€™</li><li>isl=â€™isl-0.18.tar.bz2â€™</li></ol></li><li>ä¸‹è½½æ‰€æœ‰ä¾èµ– <a href="https://gcc.gnu.org/pub/gcc/infrastructure/">Index of /pub/gcc/infrastructure</a> </li><li>è§£å‹ä¾èµ–<ol><li><code>tar -jvxf gmp-6.1.0.tar.bz2 --directory=/usr/local/gcc-9.4.0/</code></li><li><code>tar -jvxf mpfr-3.1.4.tar.bz2 --directory=/usr/local/gcc-9.4.0/</code></li><li><code>tar -zvxf mpc-1.0.3.tar.gz --directory=/usr/local/gcc-9.4.0/</code></li><li><code>tar -jvxf isl-0.18.tar.bz2 --directory=/usr/local/gcc-9.4.0/</code></li></ol></li><li>ä¸ºæ–°ä¸‹è½½çš„ä¾èµ–å»ºç«‹è½¯é“¾æ¥ <strong>gcc-9.4.0ç›®å½•ä¸‹</strong><ol><li><code>cd /usr/local/gcc-9.4.0/</code></li><li>sudo ln -sf gmp-6.1.0 gmp</li><li>sudo ln -sf isl-0.18 isl</li><li>sudo ln -sf mpc-1.0.3 mpc</li><li>sudo ln -sf mpfr-3.1.4 mpfr</li><li>æŸ¥çœ‹è½¯è¿æ¥<code>ls -l | grep ^l</code></li></ol></li><li>ç¼–è¯‘å¹¶å®‰è£…gcc <ol><li><code>mkdir build &amp;&amp; cd build</code></li><li><code>../configure -enable-checking=release -enable-languages=c,c++ -disable-multilib --disable-nls</code> NOTE: éœ€è¦ç¦ç”¨ NLS</li><li>æˆåŠŸåä¼šå‡ºç° config.log config.status Makefile serdep.tmp</li><li><code>sudo make -j4 &amp;&amp; sudo make install</code></li></ol></li><li>æ›´æ–°gcc (å®‰è£…å®Œågcc -version,ä½ ä¼šå‘ç°æ˜¾ç¤ºçš„è¿˜æ˜¯åŸæ¥çš„ç‰ˆæœ¬eg: 7.5.0)<ol><li>å¤‡ä»½ä¸€ä¸‹åŸæ¥çš„gcc<ol><li><code>sudo mv /usr/bin/gcc /usr/bin/gcc750</code></li><li><code>sudo mv /usr/bin/g++ /usr/bin/g++750</code></li><li><code>sudo mv /usr/bin/c++ /usr/bin/c++750</code></li><li><code>sudo mv /usr/bin/cc /usr/bin/cc750</code></li><li><code>sudo mv /usr/local/lib64/libstdc++.so.6 /usr/local/lib64/libstdc++.so.6.bak</code> # mv: cannot stat â€˜/usr/lib64/libstdc++.so.6â€™: No such file or directory</li></ol></li><li>è½¯è¿æ¥ # å®‰è£…çš„gccæ–°ç‰ˆæœ¬ä½äº/usr/local/bin<ol><li><code>sudo ln -s /usr/local/bin/gcc /usr/bin/gcc</code></li><li><code>sudo ln -s /usr/local/bin/g++ /usr/bin/g++</code></li><li><code>sudo ln -s /usr/local/bin/c++ /usr/bin/c++</code></li><li><code>sudo ln -s /usr/local/bin/gcc /usr/bin/cc</code></li><li><code>sudo ln -s /usr/local/lib64/libstdc++.so.6.0.28 /usr/local/lib64/libstdc++.so.6</code></li></ol></li></ol></li></ol><p>Error:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">make -j4 &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">*** LIBRARY_PATH shouldn&#x27;t contain the current directory when</span><br><span class="line">*** building gcc. Please change the environment variable</span><br><span class="line">*** and run configure again.V</span><br><span class="line">Makefile:4371: recipe for target &#x27;configure-stage1-gcc&#x27; failedR</span><br><span class="line">make[2]: *** [configure-stage1-gcc] Error 1_</span><br><span class="line">make[2]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;L</span><br><span class="line">Makefile:25683: recipe for target &#x27;stage1-bubble&#x27; failedI</span><br><span class="line">make[1]: *** [stage1-bubble] Error 2O</span><br><span class="line">make[1]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;U</span><br><span class="line">Makefile:999: recipe for target &#x27;all&#x27; failedA</span><br><span class="line">make: *** [all] Error 2</span><br><span class="line"></span><br><span class="line">echo $LIBRARY_PATHR</span><br><span class="line">:/usr/local/cuda-10.0/lib64</span><br><span class="line"></span><br><span class="line">`LIBRARY_PATH` ä¸­çš„ç©ºæ¡ç›®æ˜¯ç”±å‰å¯¼çš„å†’å· `:` äº§ç”Ÿçš„ã€‚å‰å¯¼çš„å†’å·è¡¨ç¤ºè·¯å¾„åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªæ¡ç›®ä¸ºç©ºï¼Œè¿™ç­‰ä»·äºå½“å‰ç›®å½• `.`</span><br><span class="line"></span><br><span class="line">è§£å†³æ–¹æ³•ï¼š</span><br><span class="line">export LIBRARY_PATH=/usr/local/cuda-10.0/lib64</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">make -j4 &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">/usr/bin/msgfmt: error while opening &quot;../../gcc/po/ru.po&quot; for reading: PermissiR</span><br><span class="line">on denied_</span><br><span class="line">Makefile:4222: recipe for target &#x27;po/ru.gmo&#x27; failedL</span><br><span class="line">make[3]: *** [po/ru.gmo] Error 1I</span><br><span class="line">make[3]: *** Waiting for unfinished jobs....O</span><br><span class="line">make[3]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build/gcc&#x27;U</span><br><span class="line">Makefile:4672: recipe for target &#x27;all-stage1-gcc&#x27; failedA</span><br><span class="line">make[2]: *** [all-stage1-gcc] Error 2_</span><br><span class="line">make[2]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;l</span><br><span class="line">Makefile:25683: recipe for target &#x27;stage1-bubble&#x27; failed </span><br><span class="line">make[1]: *** [stage1-bubble] Error 2</span><br><span class="line">make[1]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;_</span><br><span class="line">Makefile:999: recipe for target &#x27;all&#x27; failedV</span><br><span class="line">make: *** [all] Error 2</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">sudo make -j4 &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">/usr/bin/msgfmt: found 2 fatal errors_</span><br><span class="line">Makefile:4222: recipe for target &#x27;po/ru.gmo&#x27; failedI</span><br><span class="line">make[3]: *** [po/ru.gmo] Error 11</span><br><span class="line">make[3]: *** Waiting for unfinished jobs....-</span><br><span class="line">/bin/bash ../../gcc/../move-if-change tmp-optionlist optionlistl</span><br><span class="line">echo timestamp &gt; s-options</span><br><span class="line">make[3]: *** wait: No child processes.  Stop._</span><br><span class="line">Makefile:4672: recipe for target &#x27;all-stage1-gcc&#x27; failedV</span><br><span class="line">make[2]: *** [all-stage1-gcc] Error 2A</span><br><span class="line">make[2]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;1</span><br><span class="line">Makefile:25683: recipe for target &#x27;stage1-bubble&#x27; failedT</span><br><span class="line">make[1]: *** [stage1-bubble] Error 2F</span><br><span class="line">make[1]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;_</span><br><span class="line">Makefile:999: recipe for target &#x27;all&#x27; failedI</span><br><span class="line">make: *** [all] Error 2</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">rm -rf build</span><br><span class="line">mkdir build &amp;&amp; cd build</span><br><span class="line">../configure -enable-checking=release -enable-languages=c,c++ -disable-multilib --disable-nls</span><br><span class="line">sudo make -j4 &amp;&amp; make install</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">sudo make -j4 &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">mkdir: cannot create directory â€˜/usr/local/libexecâ€™: Permission denied</span><br><span class="line">Makefile:181: recipe for target &#x27;install&#x27; failed</span><br><span class="line">make[2]: *** [install] Error 1_</span><br><span class="line">make[2]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build/fixincludes&#x27;V</span><br><span class="line">Makefile:3815: recipe for target &#x27;install-fixincludes&#x27; failedA</span><br><span class="line">make[1]: *** [install-fixincludes] Error 21</span><br><span class="line">make[1]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;T</span><br><span class="line">Makefile:2382: recipe for target &#x27;install&#x27; failedF</span><br><span class="line">make: *** [install] Error 2</span><br><span class="line"></span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line">å®‰è£…æˆåŠŸï¼š</span><br><span class="line">----------------------------------------------------------------------_</span><br><span class="line">Libraries have been installed in:I</span><br><span class="line">   /usr/local/lib/../lib641</span><br><span class="line">-</span><br><span class="line">If you ever happen to want to link against installed libraries</span><br><span class="line">in a given directory, LIBDIR, you must either use libtool, and</span><br><span class="line">specify the full pathname of the library, or use the `-LLIBDIR&#x27;V</span><br><span class="line">flag during linking and do at least one of the following:R</span><br><span class="line">   - add LIBDIR to the `LD_LIBRARY_PATH&#x27; environment variable_</span><br><span class="line">     during executionL</span><br><span class="line">   - add LIBDIR to the `LD_RUN_PATH&#x27; environment variableI</span><br><span class="line">     during linkingO</span><br><span class="line">   - use the `-Wl,-rpath -Wl,LIBDIR&#x27; linker flagU</span><br><span class="line">   - have your system administrator add LIBDIR to `/etc/ld.so.conf&#x27;A</span><br><span class="line">_</span><br><span class="line">See any operating system documentation about shared libraries forl</span><br><span class="line">more information, such as the ld(1) and ld.so(8) manual pages.i</span><br><span class="line">----------------------------------------------------------------------</span><br><span class="line">make[4]: Nothing to be done for &#x27;install-data-am&#x27;.</span><br><span class="line">make[4]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build/x86_64-pc-linux-gnu/liba</span><br><span class="line">tomic&#x27;V</span><br><span class="line">make[3]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build/x86_64-pc-linux-gnu/libaR</span><br><span class="line">tomic&#x27;_</span><br><span class="line">make[2]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build/x86_64-pc-linux-gnu/libaL</span><br><span class="line">tomic&#x27;I</span><br><span class="line">make[1]: Leaving directory &#x27;/usr/local/gcc-9.4.0/build&#x27;</span><br></pre></td></tr></table></figure><h3 id="cmake"><a href="#cmake" class="headerlink" title="cmake"></a>cmake</h3><ol><li><code>wget https://cmake.org/files/v3.21/cmake-3.21.0.tar.gz</code></li><li><code>tar -zxvf cmake-3.21.0.tar.gz</code></li><li><code>cd cmake-3.21.0</code></li><li><code>./bootstrap &amp;&amp; make &amp;&amp; sudo make install</code></li><li><code>cmake --version</code></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">./bootstrap &amp;&amp; make &amp;&amp; sudo make install</span><br><span class="line"></span><br><span class="line">/home/user/Torch_projects/NeuRodin/cmake-3.21.0/Bootstrap.cmk/cmake: /usr/lib/V</span><br><span class="line">x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.26&#x27; not found (required bR</span><br><span class="line">y /home/user/Torch_projects/NeuRodin/cmake-3.21.0/Bootstrap.cmk/cmake)</span><br><span class="line"></span><br><span class="line">ls -l /usr/lib/x86_64-linux-gnu/libstdc++.so.6</span><br><span class="line"></span><br><span class="line">lrwxrwxrwx 1 root root 19 Mar 10  2020 /usr/lib/x86_64-linux-gnu/libstdc++.so.6R</span><br><span class="line"> -&gt; libstdc++.so.6.0.25</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">ä¸´æ—¶è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œè®©å…¶ä¼˜å…ˆä½¿ç”¨/usr/local/lib64ä¸­çš„libstdc++.so.6.0.28</span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH</span><br><span class="line">./bootstrap &amp;&amp; make &amp;&amp; sudo make install</span><br><span class="line"></span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line">/home/user/Torch_projects/NeuRodin/cmake-3.21.0/Bootstrap.cmk/cmake: /usr/lib/</span><br><span class="line">x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.26&#x27; not found (required b1</span><br><span class="line">y /home/user/Torch_projects/NeuRodin/cmake-3.21.0/Bootstrap.cmk/cmake)-</span><br><span class="line">Makefile:1396: recipe for target &#x27;cmake_check_build_system&#x27; failed</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">å°†/usr/lib/x86_64-linux-gnu/libstdc++.so.6 è¿æ¥åˆ°æ–°çš„libstdc++</span><br><span class="line">å¤‡ä»½ sudo mv /usr/lib/x86_64-linux-gnu/libstdc++.so.6 /usr/lib/x86_64-linux-gnu/libstdc++.so.6.bak</span><br><span class="line">sudo ln -s /usr/local/lib64/libstdc++.so.6 /usr/lib/x86_64-linux-gnu/libstdc++.so.6 </span><br><span class="line"></span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h2 id="torch"><a href="#torch" class="headerlink" title="torch"></a>torch</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121</span><br></pre></td></tr></table></figure><h2 id="pytorch3d"><a href="#pytorch3d" class="headerlink" title="pytorch3d"></a>pytorch3d</h2><p>ä½¿ç”¨pipå®‰è£…torchä¸ä½¿ç”¨condaå®‰è£…torchä¸åŒ</p><blockquote><p> <a href="https://blog.csdn.net/whc18858/article/details/127135973">å…¨é¢æ€»ç»“ pip install ä¸ conda install çš„ä½¿ç”¨åŒºåˆ«_pytorchå®‰è£…pipå’Œcondaçš„åŒºåˆ«-CSDNåšå®¢</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121</span><br><span class="line">conda install pytorch=2.4.1 torchvision pytorch-cuda=12.1 -c pytorch -c nvidia -y</span><br><span class="line">conda install -c iopath iopath</span><br><span class="line">conda install pytorch3d -c pytorch3d <span class="comment"># ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment"># ç›´æ¥ä»githubå®‰è£… ğŸ˜Š</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/facebookresearch/pytorch3d.git</span><br><span class="line"><span class="built_in">cd</span> pytorch3d</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/facebookresearch/pytorch3d/blob/main/INSTALL.md">pytorch3d/INSTALL.md at main Â· facebookresearch/pytorch3d</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¡Œä¸é€šğŸ˜µ</span></span><br><span class="line">conda install -c fvcore -c iopath -c conda-forge fvcore iopath</span><br><span class="line">conda install pytorch3d=0.7.5 -c pytorch3d <span class="comment"># å¯èƒ½torchç‰ˆæœ¬å¤ªé«˜äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># torch 2.4.1 ä½¿ç”¨é¢„ç¼–è¯‘çš„pytorch3d è¡Œä¸é€šğŸ˜µ</span></span><br><span class="line">pip install torch==2.4.1</span><br><span class="line">pip install --extra-index-url https://miropsota.github.io/torch_packages_builder pytorch3d==0.7.8+pt2.4.1cu121</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/open-mmlab/mmdetection3d/issues/438">ImportError: libtorch_cuda_cu.so: cannot open shared object file Â· Issue #438 Â· open-mmlab/mmdetection3d</a> ä¸æ˜¯pytorch3dçš„é—®é¢˜<br><a href="https://github.com/facebookresearch/pytorch3d/discussions/1752">Prebuilt wheels provided via 3rd party repository Â· facebookresearch/pytorch3d Â· Discussion #1752</a> ç”¨å¤§ä½¬ç¼–è¯‘å¥½çš„pytorch3d</p></blockquote><h2 id="visual-in-Jupyter"><a href="#visual-in-Jupyter" class="headerlink" title="visual in Jupyter"></a>visual in Jupyter</h2><h3 id="pyvista"><a href="#pyvista" class="headerlink" title="pyvista"></a>pyvista</h3><p><code>pip install ipywidgets widgetsnbextension pandas-profiling</code></p><blockquote><p><a href="https://discourse.vtk.org/t/pyvista-trame-jupyter-3d-visualization/10610">PyVista + Trame = Jupyter 3D Visualization - Announcements - VTK</a></p></blockquote><p><code>pip install &#39;pyvista[jupyter]&gt;=0.38.1&#39;</code></p><blockquote><p><a href="https://askubuntu.com/questions/1517352/issues-installing-libgl1-mesa-glx">apt - Issues installing libgl1-mesa-glx - Ask Ubuntu</a></p></blockquote><p>this solve my problem in Ubuntu 24.04LTS libgl1-mesa-glx_23.0.4-0ubuntu1.22.04.1_amd64.deb DOWNLOAD <a href="https://github.com/PetrusNoleto/Error-in-install-cisco-packet-tracer-in-ubuntu-23.10-unmet-dependencies/releases/tag/CiscoPacketTracerFixUnmetDependenciesUbuntu23.10">https://github.com/PetrusNoleto/Error-in-install-cisco-packet-tracer-in-ubuntu-23.10-unmet-dependencies/releases/tag/CiscoPacketTracerFixUnmetDependenciesUbuntu23.10</a></p><p>exec :</p><p><code>sudo dpkg -i libgl1-mesa-glx_23.0.4-0ubuntu1.22.04.1_amd64.deb</code></p><blockquote><p><a href="https://askubuntu.com/questions/1516040/mesa-and-glx-errors-when-running-glxinfo-ubuntu-24-04">MESA and glx errors when running glxinfo Ubuntu 24.04 - Ask Ubuntu</a></p></blockquote><p>MESA: error: ZINK: failed to choose pdev glx: failed to create drisw screen</p><p>Kisak-mesa PPA æä¾›äº† Mesa çš„æœ€æ–°å°ç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯ä¸­é€ä¸ªè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥ä½¿ç”¨å®ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:kisak/kisak-mesa</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure><h2 id="ipywidgets"><a href="#ipywidgets" class="headerlink" title="ipywidgets"></a>ipywidgets</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: IProgress not found. Please update jupyter and ipywidgets. See [https://ipywidgets.readthedocs.io/en/stable/user_install.html](https://ipywidgets.readthedocs.io/en/stable/user_install.html)</span><br></pre></td></tr></table></figure><p><a href="https://stackoverflow.com/questions/67998191/importerror-iprogress-not-found-please-update-jupyter-and-ipywidgets-although">pandas - ImportError: IProgress not found. Please update jupyter and ipywidgets although it is installed - Stack Overflow</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyter</span><br><span class="line">pip install ipywidgets widgetsnbextension pandas-profiling</span><br></pre></td></tr></table></figure><h1 id="NeuRodin"><a href="#NeuRodin" class="headerlink" title="NeuRodin"></a>NeuRodin</h1><blockquote><p><a href="https://github.com/Open3DVLab/NeuRodin">Open3DVLab/NeuRodin: NeuRodin: A Two-stage Framework for High-Fidelity Neural Surface Reconstruction</a></p></blockquote><h2 id="DTU-SDFStudio"><a href="#DTU-SDFStudio" class="headerlink" title="DTU(SDFStudio)"></a>DTU(SDFStudio)</h2><p>ç‰©ä½“çº§åˆ«ç›´æ¥é‡å»ºæ•ˆæœå¾ˆå·®ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Stage 1</span><br><span class="line">ns-train neurodin-stage1-indoor-small --experiment_name neurodin-21d970d8de-stage1 --pipeline.datamanager.camera_res_scale_factor 0.5 sdfstudio-data --data data/scan114 --scale_factor 0.8</span><br><span class="line"></span><br><span class="line"># Stage 2</span><br><span class="line">ns-train neurodin-stage2-indoor-small --experiment_name neurodin-21d970d8de-stage2 --trainer.load_dir ./outputs/neurodin-21d970d8de-stage1/neurodin/2024-09-03_221947/sdfstudio_models/ --pipeline.datamanager.camera_res_scale_factor 0.5 sdfstudio-data --data data/scan114 --scale_factor 0.8</span><br><span class="line"></span><br><span class="line"># Evaluation</span><br><span class="line">python zoo/extract_surface.py --conf ./outputs/neurodin-21d970d8de-stage2/neurodin/2024-09-04_091549/config.yml --resolution 2048</span><br></pre></td></tr></table></figure><h2 id="TNT-SDFStudio"><a href="#TNT-SDFStudio" class="headerlink" title="TNT(SDFStudio)"></a>TNT(SDFStudio)</h2><p><strong>(3090) scan4</strong></p><p>åœºæ™¯ç»è¿‡ä¸¤é˜¶æ®µè®­ç»ƒå(22h)ï¼Œæ•ˆæœä¹Ÿä¸æ˜¯å¾ˆå¥½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Stage 1</span><br><span class="line">ns-train neurodin-stage1-indoor-large --experiment_name neurodin-Meetingroom-stage1 --pipeline.datamanager.eval_camera_res_scale_factor 0.5 sdfstudio-data --data data/scan4</span><br><span class="line"></span><br><span class="line">python zoo/extract_surface.py --conf ./outputs/neurodin-Meetingroom-stage1/neurodin/2024-09-04_161300/config.yml --resolution 2048</span><br><span class="line"></span><br><span class="line"># Stage 2</span><br><span class="line">ns-train neurodin-stage2-indoor-large --experiment_name neurodin-Meetingroom-stage2 --pipeline.datamanager.eval_camera_res_scale_factor 0.5 --trainer.load_dir ./outputs/neurodin-Meetingroom-stage1/neurodin/2024-09-04_161300/sdfstudio_models sdfstudio-data --data data/scan4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">python zoo/extract_surface.py --conf ./outputs/neurodin-Meetingroom-stage2/neurodin/2024-09-04_205800/config.yml --resolution 2048</span><br></pre></td></tr></table></figure><p><strong>(V100) scan1</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Stage 1</span><br><span class="line">ns-train neurodin-stage1-indoor-large --experiment_name neurodin-Meetingroom-stage1 --pipeline.datamanager.eval_camera_res_scale_factor 0.5 sdfstudio-data --data data/scan1</span><br><span class="line"></span><br><span class="line">python zoo/extract_surface.py --conf ./outputs/neurodin-Meetingroom-stage1/neurodin/2024-09-04_205249/config.yml --resolution 2048</span><br><span class="line"></span><br><span class="line"># Stage 2</span><br><span class="line">ns-train neurodin-stage2-indoor-large --experiment_name neurodin-Meetingroom-stage2 --pipeline.datamanager.eval_camera_res_scale_factor 0.5 --trainer.load_dir outputs/neurodin-Meetingroom-stage1/neurodin/2024-09-04_205249/sdfstudio_models sdfstudio-data --data data/scan1</span><br><span class="line"></span><br><span class="line">python zoo/extract_surface.py --conf ./outputs/neurodin-Meetingroom-stage2/neurodin/2024-09-05_125813/config.yml --resolution 2048</span><br></pre></td></tr></table></figure><p><strong>(V100) scan2</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Stage 1</span><br><span class="line">ns-train neurodin-stage1-indoor-large --experiment_name neurodin-scan2-stage1 --pipeline.datamanager.eval_camera_res_scale_factor 0.5 sdfstudio-data --data data/scan2</span><br><span class="line"></span><br><span class="line">python zoo/extract_surface.py --conf ./outputs/neurodin-Meetingroom-stage1/neurodin/2024-09-04_205249/config.yml --resolution 2048</span><br><span class="line"></span><br><span class="line"># Stage 2</span><br><span class="line">ns-train neurodin-stage2-indoor-large --experiment_name neurodin-scan2-stage2 --pipeline.datamanager.eval_camera_res_scale_factor 0.5 --trainer.load_dir outputs/neurodin-scan2-stage1/neurodin/2024-09-07_144834/sdfstudio_models sdfstudio-data --data data/scan2</span><br><span class="line"></span><br><span class="line">python zoo/extract_surface.py --conf ./outputs/neurodin-Meetingroom-stage2/neurodin/2024-09-05_125813/config.yml --resolution 2048</span><br></pre></td></tr></table></figure><h1 id="Instant-nsr-pl"><a href="#Instant-nsr-pl" class="headerlink" title="Instant-nsr-pl"></a>Instant-nsr-pl</h1><blockquote><p><a href="https://github.com/bennyguo/instant-nsr-pl">bennyguo/instant-nsr-pl: Neural Surface reconstruction based on Instant-NGP. Efficient and customizable boilerplate for your research projects. Train NeuS in 10min!</a></p></blockquote><h2 id="NeRF-Synthetic"><a href="#NeRF-Synthetic" class="headerlink" title="NeRF-Synthetic"></a>NeRF-Synthetic</h2><h2 id="Blended-MVS"><a href="#Blended-MVS" class="headerlink" title="Blended_MVS"></a>Blended_MVS</h2><h2 id="DTU"><a href="#DTU" class="headerlink" title="DTU"></a>DTU</h2><h2 id="è‡ªå®šä¹‰æ•°æ®é›†"><a href="#è‡ªå®šä¹‰æ•°æ®é›†" class="headerlink" title="è‡ªå®šä¹‰æ•°æ®é›†"></a>è‡ªå®šä¹‰æ•°æ®é›†</h2><h1 id="Geo-Neus-AutoDL-long-time"><a href="#Geo-Neus-AutoDL-long-time" class="headerlink" title="Geo-Neus (AutoDL long time)"></a>Geo-Neus (AutoDL long time)</h1><blockquote><p><a href="https://github.com/GhiXu/Geo-Neus">GhiXu/Geo-Neus: Geo-Neus: Geometry-Consistent Neural Implicit Surfaces Learning for Multi-view Reconstruction (NeurIPS 2022)</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/GhiXu/Geo-Neus.git</span><br><span class="line">conda create -n geoneus python=3.7  </span><br><span class="line">conda activate geoneus  </span><br><span class="line">conda install pytorch==1.11.0 torchvision==0.12.0 cudatoolkit=11.3 -c pytorch  </span><br><span class="line">conda install fvcore iopath  </span><br><span class="line">conda install -c bottler nvidiacub  </span><br><span class="line">conda install pytorch3d -c pytorch3d  </span><br><span class="line">pip install -r requirements.txt</span><br><span class="line">pip install torch==1.11.0+cu113 torchvision==0.12.0+cu113 torchaudio==0.11.0 --extra-index-url https://download.pytorch.org/whl/cu113</span><br><span class="line">pip install tensorboard tqdm pytorch3d pickle5</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/facebookresearch/pytorch3d.git</span><br><span class="line"><span class="built_in">cd</span> pytorch3d</span><br><span class="line">pip install -e .</span><br><span class="line"></span><br><span class="line">unzip DTU.zip -d ./data/</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦ä¿®æ”¹ womask.conf ä¸­çš„ data_dir = ./data/DTU/CASE_NAME</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment">#106 #105 #97 #83 #69 #65 #63 #55 #40 #37 #24</span></span><br><span class="line">dtu_scenes = [<span class="string">&#x27;scan24&#x27;</span>, <span class="string">&#x27;scan37&#x27;</span>, <span class="string">&#x27;scan40&#x27;</span>, <span class="string">&#x27;scan55&#x27;</span>, <span class="string">&#x27;scan63&#x27;</span>, <span class="string">&#x27;scan65&#x27;</span>, <span class="string">&#x27;scan69&#x27;</span>, <span class="string">&#x27;scan83&#x27;</span>, <span class="string">&#x27;scan97&#x27;</span>, <span class="string">&#x27;scan105&#x27;</span>, <span class="string">&#x27;scan106&#x27;</span>, <span class="string">&#x27;scan110&#x27;</span>, <span class="string">&#x27;scan114&#x27;</span>, <span class="string">&#x27;scan118&#x27;</span>, <span class="string">&#x27;scan122&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> scene <span class="keyword">in</span> dtu_scenes:</span><br><span class="line">    os.system(<span class="string">f&quot;python exp_runner.py --mode train --conf ./confs/womask.conf --case <span class="subst">&#123;scene&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">åˆšå¼€å§‹è·‘scan69ï¼Œä¸­æœŸæ¥ä¸åŠäº†ï¼Œå…ˆåœæ‰</span><br></pre></td></tr></table></figure><h1 id="MonoSDF"><a href="#MonoSDF" class="headerlink" title="MonoSDF"></a>MonoSDF</h1><p>Given Mesh!!! Nice Author!!!</p><h1 id="NeuS2-wsl"><a href="#NeuS2-wsl" class="headerlink" title="NeuS2 (wsl)"></a>NeuS2 (wsl)</h1><ul><li>[x] Given weight!!! Test â€”&gt; no background (with mask)</li></ul><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/19reborn/NeuS2</span><br><span class="line"><span class="built_in">cd</span> NeuS2</span><br><span class="line"></span><br><span class="line">git submodule update --init --recursive</span><br><span class="line">cmake . -D TCNN_CUDA_ARCHITECTURES=86 -D CMAKE_CUDA_COMPILER=$(<span class="built_in">which</span> nvcc) -B build</span><br><span class="line">cmake --build build --config RelWithDebInfo -j</span><br><span class="line"></span><br><span class="line">conda create -n neus2 python=3.9</span><br><span class="line">conda activate neus2</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line"></span><br><span class="line">conda install -c conda-forge gcc=12.1.0</span><br><span class="line">pip install commentjson imageio scipy trimesh termcolor </span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/facebookresearch/pytorch3d.git</span><br><span class="line"><span class="built_in">cd</span> pytorch3d</span><br><span class="line">pip install -e . <span class="string">&#x27;OR&#x27;</span> python3 setup.py install</span><br></pre></td></tr></table></figure><figure class="highlight bash"><figcaption><span>error</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Compiling the CUDA compiler identification <span class="built_in">source</span> file</span><br><span class="line"><span class="string">&quot;CMakeCUDACompilerId.cu&quot;</span> failed.</span><br><span class="line"></span><br><span class="line">Compiler: /usr/bin/nvcc</span><br><span class="line"></span><br><span class="line">Build flags:</span><br><span class="line"></span><br><span class="line">Id flags: --keep;--keep-dir;tmp -v</span><br><span class="line"></span><br><span class="line">è§£å†³æ–¹æ³•ï¼šcmake . -D TCNN_CUDA_ARCHITECTURES=86 -D CMAKE_CUDA_COMPILER=$(<span class="built_in">which</span> nvcc) -B build</span><br></pre></td></tr></table></figure><p>Pytorch3dä¸€ç›´å®‰è£…ä¸ä¸Šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pip install torch==2.4.1 torchvision==0.19.1 torchaudio==2.4.1 --index-url https://download.pytorch.org/whl/cu124</span></span><br><span class="line"><span class="comment">#pip install torch==2.4.0 torchvision==0.19.0 torchaudio==2.4.0 --index-url https://download.pytorch.org/whl/cu124</span></span><br><span class="line"></span><br><span class="line">pip install torch==2.1.0 torchvision==0.16.0 torchaudio==2.1.0 --index-url https://download.pytorch.org/whl/cu121</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/facebookresearch/pytorch3d.git</span><br><span class="line"><span class="built_in">cd</span> pytorch3d</span><br><span class="line">pip install -e . <span class="string">&#x27;OR&#x27;</span> python3 setup.py install</span><br><span class="line"><span class="comment"># ä¸çŸ¥é“ä¸ºå•¥ä¸è¡Œä¸è¡Œç€å°±è£…ä¸Šäº†ğŸ˜µÂ  Â  command = [&#x27;ninja&#x27;, &#x27;-v&#x27;]æ”¹äº†ä¸€ä¸‹è¿™ä¸ªï¼Œåˆè¯¥å›å»</span></span><br><span class="line"><span class="comment"># command = [&#x27;ninja&#x27;, &#x27;--version&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conda install -c iopath iopath</span></span><br><span class="line"><span class="comment"># pip install --no-index --no-cache-dir pytorch3d -f https://dl.fbaipublicfiles.com/pytorch3d/packaging/wheels/py39_cu121_pyt210/download.html</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><figcaption><span>error</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ImportError: /home/qi/miniconda3/envs/neus2/lib/python3.9/site-packages/numpy/_core/../../../../libstdc++.so.6: version `GLIBCXX_3.4.30<span class="string">&#x27; not found (required by /home/qi/Project/NeuS2/build/pyngp.cpython-39-x86_64-linux-gnu.so)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">pip install --upgrade numpy</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ImportError: /home/qi/miniconda3/envs/neus2/bin/../lib/libstdc++.so.6: version `GLIBCXX_3.4.30&#x27;</span> not found (required by /home/qi/Project/NeuS2/build/pyngp.cpython-39-x86_64-linux-gnu.so)</span><br><span class="line"></span><br><span class="line"><span class="comment"># çœŸæ­£è§£æ³•ï¼šæ›¿æ¢ä¸ºé«˜ç‰ˆæœ¬çš„ libstdc++.so.6.0.33</span></span><br><span class="line"><span class="built_in">rm</span> /home/qi/miniconda3/envs/neus2/bin/../lib/libstdc++.so.6.0.33</span><br><span class="line"><span class="built_in">cp</span> /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.33 /home/qi/miniconda3/envs/neus2/bin/../lib</span><br><span class="line"><span class="built_in">ln</span> -s /home/qi/miniconda3/envs/neus2/bin/../lib/libstdc++.so.6.0.33 /home/qi/miniconda3/envs/neus2/bin/../lib/libstdc++.so.6</span><br><span class="line">strings /home/qi/miniconda3/envs/neus2/bin/../lib/libstdc++.so.6 | grep GLIBCXX_3.4.29</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```bash</span><br><span class="line">python scripts/run.py --scene $&#123;data_path&#125;/transform.json --name $&#123;your_experiment_name&#125; --network $&#123;config_name&#125; --n_steps $&#123;training_steps&#125;</span><br><span class="line"></span><br><span class="line">python scripts/run.py --test --save_mesh --load_snapshot ./dtu_neus2_release/checkpoints/scan24.msgpack --network dtu.json --name scan24</span><br></pre></td></tr></table></figure><h1 id="COLMAP-Known-camera-pose"><a href="#COLMAP-Known-camera-pose" class="headerlink" title="COLMAP (Known camera pose)"></a>COLMAP (Known camera pose)</h1><h2 id="ç¯å¢ƒé…ç½®-1"><a href="#ç¯å¢ƒé…ç½®-1" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><blockquote><p><a href="https://colmap.github.io/install.html#linux">Installation â€” COLMAP 3.11.0.dev0 documentation</a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install \</span><br><span class="line">    git \</span><br><span class="line">    cmake \</span><br><span class="line">    ninja-build \</span><br><span class="line">    build-essential \</span><br><span class="line">    libboost-program-options-dev \</span><br><span class="line">    libboost-filesystem-dev \</span><br><span class="line">    libboost-graph-dev \</span><br><span class="line">    libboost-system-dev \</span><br><span class="line">    libeigen3-dev \</span><br><span class="line">    libflann-dev \</span><br><span class="line">    libfreeimage-dev \</span><br><span class="line">    libmetis-dev \</span><br><span class="line">    libgoogle-glog-dev \</span><br><span class="line">    libgtest-dev \</span><br><span class="line">    libgmock-dev \</span><br><span class="line">    libsqlite3-dev \</span><br><span class="line">    libglew-dev \</span><br><span class="line">    qtbase5-dev \</span><br><span class="line">    libqt5opengl5-dev \</span><br><span class="line">    libcgal-dev \</span><br><span class="line">    libceres-dev</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo apt-get install -y \</span><br><span class="line">    nvidia-cuda-toolkit \</span><br><span class="line">    nvidia-cuda-toolkit-gcc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/colmap/colmap.git</span><br><span class="line"><span class="built_in">cd</span> colmap</span><br><span class="line"><span class="built_in">mkdir</span> build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake .. -GNinja <span class="comment"># -DCMAKE_CUDA_ARCHITECTURES=native ä»£è¡¨åªåœ¨æœ¬æœºä¸Šè¿è¡Œ</span></span><br><span class="line">ninja</span><br><span class="line">sudo ninja install</span><br><span class="line"></span><br><span class="line"><span class="comment"># cmake .. -GNinjaæ—¶ wslæŠ¥é”™&quot;CMakeCUDACompilerId.cu&quot; failed. è§£å†³æ–¹æ³•ï¼š</span></span><br><span class="line">cmake .. -GNinja -D TCNN_CUDA_ARCHITECTURES=86 -D CMAKE_CUDA_COMPILER=$(<span class="built_in">which</span> nvcc) -DCMAKE_CUDA_ARCHITECTURES=native</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu 22.04 è¿˜éœ€è¦ï¼š</span></span><br><span class="line">sudo apt-get install gcc-10 g++-10</span><br><span class="line"><span class="built_in">export</span> CC=/usr/bin/gcc-10</span><br><span class="line"><span class="built_in">export</span> CXX=/usr/bin/g++-10</span><br><span class="line"><span class="built_in">export</span> CUDAHOSTCXX=/usr/bin/g++-10</span><br></pre></td></tr></table></figure><h2 id="å·²çŸ¥ç›¸æœºå‚æ•°çš„é‡å»º"><a href="#å·²çŸ¥ç›¸æœºå‚æ•°çš„é‡å»º" class="headerlink" title="å·²çŸ¥ç›¸æœºå‚æ•°çš„é‡å»º"></a>å·²çŸ¥ç›¸æœºå‚æ•°çš„é‡å»º</h2><p><a href="https://www.cnblogs.com/li-minghao/p/11865794.html">COLMAPå·²çŸ¥ç›¸æœºå†…å¤–å‚æ•°é‡å»ºç¨€ç–/ç¨ å¯†æ¨¡å‹ - thronsbird - åšå®¢å›­</a></p><p>ç¨€ç–é‡å»ºï¼š</p><ul><li>feature_extractor</li><li>æ‰‹åŠ¨æˆ–è€…ä»£ç ç”Ÿæˆ cameras.txt images.txtå’Œpoints3D.txtæ–‡ä»¶ï¼Œå¹¶å°†å…¶å¯¼å…¥dbæ–‡ä»¶ä¸­</li><li>exhaustive_matcher</li><li>point_triangulator</li><li>bundle_adjuster</li></ul><p>ç¨ å¯†é‡å»ºï¼š</p><ul><li>image_undistorter æŒ‡å®šç›®å½•ä¸ºdenseæ—¶ï¼š<ul><li>åœ¨ <strong>dense/sparse/</strong> ç›®å½•ä¸‹çš„.binæ–‡ä»¶çš„å†…å®¹ä¸ä¹‹å‰å»ºç«‹çš„.txtæ–‡ä»¶å†…å®¹ç›¸åŒã€‚åœ¨ <strong>dense/stereo/</strong> ç›®å½•ä¸‹çš„ <strong>patch-match.cfg</strong> è§„å®šäº†æºå›¾åƒè¿›è¡Œå—åŒ¹é…çš„å‚è€ƒå›¾åƒï¼Œé»˜è®¤çš„<code>__auto__, 20</code>ä»£è¡¨è‡ªåŠ¨æœ€ä¼˜çš„20å¼ ï¼Œå¿…é¡»è¦è¿›è¡Œäº†point_triangulatoræ‰å¯ç”¨ã€‚æˆ–è€…ï¼š<code>__all__</code>æŒ‡å®šæ‰€æœ‰å›¾åƒä¸ºå‚è€ƒå›¾åƒï¼Œ<code>image001.jpg, image003.jpg, image004.jpg, image007.jpg</code>æ‰‹åŠ¨æŒ‡å®šå‚è€ƒå›¾åƒ</li></ul></li><li>patch_match_stereo<ul><li>å¦‚æœåŒæ ·æ²¡æœ‰ç¨€ç–ç‚¹äº‘ï¼Œåˆ™éœ€è¦æ ¹æ®åœºæ™¯æ‰‹åŠ¨æŒ‡å®šæœ€å°å’Œæœ€å¤§æ·±åº¦ï¼šâ€”PatchMatchStereo.depth_min 0.0 â€”PatchMatchStereo.depth_max 20.0</li></ul></li><li>stereo_fusion</li><li>poisson_mesher</li></ul><p><strong><em>å¦‚æœç›¸æœºä½å§¿å¯¼å…¥çš„æ—¶å€™ä¸æ­£ç¡®ï¼Œåˆ™ç¨€ç–é‡å»ºpoint_triangulatorçš„ç‚¹äº‘æ•°é‡å¾ˆå°‘ï¼Œç»“æœå¾ˆå·®</em></strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241117040617.png" alt="image.png|444"></p><p>DTUæ•°æ®é›†ä¸­ç»™çš„çŸ©é˜µä¸ºpixel2worldçŸ©é˜µï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2607.429996</span> -<span class="number">3.844898</span> <span class="number">1498.178098</span> -<span class="number">533936.661373</span></span><br><span class="line">-<span class="number">192.076910</span> <span class="number">2862.552532</span> <span class="number">681.798177</span> <span class="number">23434.686572</span></span><br><span class="line">-<span class="number">0.241605</span> -<span class="number">0.030951</span> <span class="number">0.969881</span> <span class="number">22.540121</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">camera_poses = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">64</span>):</span><br><span class="line">  poses = []</span><br><span class="line">  pose_file = os.path.join(pose_dir, <span class="string">f&quot;pos_<span class="subst">&#123;i+<span class="number">1</span>:03d&#125;</span>.txt&quot;</span>)</span><br><span class="line">  <span class="comment"># print(pose_file)</span></span><br><span class="line">  <span class="keyword">with</span> <span class="built_in">open</span>(pose_file, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">      pose = f.readlines()</span><br><span class="line">  <span class="keyword">for</span> l <span class="keyword">in</span> pose:</span><br><span class="line">      l = l.strip().split()</span><br><span class="line">      poses.append([<span class="built_in">float</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> l])</span><br><span class="line">  poses_np = np.array(poses)</span><br><span class="line">  P = poses_np</span><br><span class="line">  <span class="comment"># pose is the c2w to COLMAP</span></span><br><span class="line">  intrinsics, pose = load_K_Rt_from_P(P)</span><br><span class="line">  camera_poses.append(pose)</span><br><span class="line">camera_poses = np.array(camera_poses)</span><br><span class="line">np.savez(<span class="string">&quot;xxx.npz&quot;</span>, camera_poses=camera_poses)</span><br></pre></td></tr></table></figure><h1 id="Mine"><a href="#Mine" class="headerlink" title="Mine"></a>Mine</h1><h2 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy"></a>Accuracy</h2><p>å¤šç±»å‡ ä½•å…ˆéªŒæ··åˆç›‘ç£çš„æ–¹æ³•ï¼š Depth | Normal | SFM points</p><h3 id="Data-Generation"><a href="#Data-Generation" class="headerlink" title="Data Generation"></a>Data Generation</h3><p>Colmap ç”Ÿæˆç‚¹äº‘çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ GT camera poseï¼ˆcameras.npzï¼‰ è¿›è¡Œç›‘ç£ï¼Ÿ</p><blockquote><p>Method1:<a href="https://github.com/hbb1/2d-gaussian-splatting/issues/5">DTU camera Poses Â· Issue #5 Â· hbb1/2d-gaussian-splatting</a>  <a href="https://github.com/NVlabs/neuralangelo/blob/main/projects/neuralangelo/scripts/convert_tnt_to_json.py">https://github.com/NVlabs/neuralangelo/blob/main/projects/neuralangelo/scripts/convert_tnt_to_json.py</a><br>Method2: <a href="https://github.com/dunbar12138/DSNeRF/issues/20">How to run COLMAP with ground truth camera poses on DTU? Â· Issue #20 Â· dunbar12138/DSNeRF</a> <a href="https://colmap.github.io/faq.html#reconstruct-sparse-dense-model-from-known-camera-poses">Frequently Asked Questions â€” COLMAP 3.11.0.dev0 documentation</a></p></blockquote><h3 id="RUN"><a href="#RUN" class="headerlink" title="RUN"></a>RUN</h3><p>Geo-Neusçš„æ•°æ®é›†ï¼Œç›¸æœºä½å§¿å’Œworldåæ ‡ç³»ä¸‹çš„ç‚¹äº‘ä¸DTUæ•°æ®é›†ä¸­çš„ä¸€è‡´ï¼Œå¯ä»¥è¯„ä»·CDæŒ‡æ ‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># no cue</span></span><br><span class="line">python run.py --conf confs/neus-dtu_geo.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span></span><br><span class="line"><span class="comment"># with depth</span></span><br><span class="line">python run.py --conf confs/neus-dtu_geo.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> tag=<span class="string">&#x27;depth&#x27;</span> dataset.apply_depth=True</span><br><span class="line"><span class="comment"># with normal</span></span><br><span class="line">python run.py --conf confs/neus-dtu_geo.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> tag=<span class="string">&#x27;normal&#x27;</span> dataset.apply_normal=True</span><br><span class="line"><span class="comment"># with sfm points</span></span><br><span class="line">python run.py --conf confs/neus-dtu_geo.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> tag=<span class="string">&#x27;sfm&#x27;</span> dataset.apply_sfm=True</span><br></pre></td></tr></table></figure><p>dtu_likeè‡ªå®šä¹‰æ•°æ®é›†ï¼Œcolmapç”Ÿæˆçš„ç‚¹äº‘åæ ‡ç³»å¯èƒ½ä¸DTUçš„GTç‚¹äº‘åæ ‡ç³»ä¸åŒ(<strong>ç›¸æœºä½å§¿ä¹Ÿä¸åŒ</strong>)ï¼Œå› æ­¤æ— æ³•è¯„ä»·CDæŒ‡æ ‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># no cue</span></span><br><span class="line">python run.py --conf confs/neus-dtu.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> dataset.name=<span class="string">&#x27;dtu_like&#x27;</span></span><br><span class="line"><span class="comment"># with depth</span></span><br><span class="line">python run.py --conf confs/neus-dtu.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> dataset.name=<span class="string">&#x27;dtu_like&#x27;</span> tag=<span class="string">&#x27;depth&#x27;</span> dataset.apply_depth=True</span><br><span class="line"><span class="comment"># with normal</span></span><br><span class="line">python run.py --conf confs/neus-dtu.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> dataset.name=<span class="string">&#x27;dtu_like&#x27;</span> tag=<span class="string">&#x27;normal&#x27;</span> dataset.apply_normal=True</span><br><span class="line"><span class="comment"># with sfm points</span></span><br><span class="line">python run.py --conf confs/neus-dtu.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> dataset.name=<span class="string">&#x27;dtu_like&#x27;</span> tag=<span class="string">&#x27;sfm&#x27;</span> dataset.apply_sfm=True</span><br></pre></td></tr></table></figure><h3 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h3><p>å¯¹æ¯”å¯ç”¨ä¸åŒå…ˆéªŒï¼š</p><ul><li>no cue</li><li>with depth</li><li>with normal</li><li>with sfm points</li><li>with all</li></ul><p>ä¸åŒæ·±åº¦å…ˆéªŒï¼š</p><ul><li><a href="https://github.com/DepthAnything/Depth-Anything-V2">DepthAnything/Depth-Anything-V2: [NeurIPS 2024] Depth Anything V2. A More Capable Foundation Model for Monocular Depth Estimation</a></li><li><a href="https://github.com/LiheYoung/Depth-Anything">LiheYoung/Depth-Anything: [CVPR 2024] Depth Anything: Unleashing the Power of Large-Scale Unlabeled Data. Foundation Model for Monocular Depth Estimation</a></li><li><a href="https://github.com/apple/ml-depth-pro">apple/ml-depth-pro: Depth Pro: Sharp Monocular Metric Depth in Less Than a Second.</a></li><li><a href="https://github.com/VisualComputingInstitute/diffusion-e2e-ft">VisualComputingInstitute/diffusion-e2e-ft: Fine-Tuning Image-Conditional Diffusion Models is Easier than You Think</a></li><li><a href="https://github.com/noahzn/Lite-Mono">noahzn/Lite-Mono: [CVPR2023] Lite-Mono: A Lightweight CNN and Transformer Architecture for Self-Supervised Monocular Depth Estimation</a></li><li><a href="https://github.com/shariqfarooq123/AdaBins">shariqfarooq123/AdaBins: Official implementation of Adabins: Depth Estimation using adaptive bins</a></li><li><a href="https://github.com/SysCV/P3Depth">SysCV/P3Depth</a></li></ul><p>ä¸åŒæ³•å‘é‡å…ˆéªŒï¼š</p><ul><li><a href="https://github.com/Stable-X/StableNormal">Stable-X/StableNormal: [SIGGRAPH Asia 2024 (Journal Track)] StableNormal: Reducing Diffusion Variance for Stable and Sharp Normal</a></li><li><a href="https://github.com/VisualComputingInstitute/diffusion-e2e-ft">VisualComputingInstitute/diffusion-e2e-ft: Fine-Tuning Image-Conditional Diffusion Models is Easier than You Think</a></li><li><a href="https://github.com/EPFL-VILAB/omnidata">EPFL-VILAB/omnidata: A Scalable Pipeline for Making Steerable Multi-Task Mid-Level Vision Datasets from 3D Scans [ICCV 2021]</a> å›¾ç‰‡å°ºå¯¸é™åˆ¶</li><li><a href="https://github.com/baegwangbin/DSINE">baegwangbin/DSINE: [CVPR 2024 Oral] Rethinking Inductive Biases for Surface Normal Estimation</a></li><li><a href="https://github.com/yvanyin/metric3d">YvanYin/Metric3D: The repo for â€œMetric3D: Towards Zero-shot Metric 3D Prediction from A Single Imageâ€ and â€œMetric3Dv2: A Versatile Monocular Geometric Foundation Modelâ€¦â€</a></li></ul><h2 id="Efficiency"><a href="#Efficiency" class="headerlink" title="Efficiency"></a>Efficiency</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lmc</span></span><br><span class="line">python run.py --conf confs/neus-dtu_geo.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> dataset.sampling_type=<span class="string">&#x27;lmc&#x27;</span></span><br><span class="line"><span class="comment"># uniform</span></span><br><span class="line">python run.py --conf confs/neus-dtu_geo.yaml --train dataset.root_dir=<span class="string">&quot;scene_dir&quot;</span> dataset.sampling_type=<span class="string">&#x27;uniform&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Uncertainty"><a href="#Uncertainty" class="headerlink" title="Uncertainty"></a>Uncertainty</h2>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Learning-based Multi-View Stereo: A Survey</title>
      <link href="/3DReconstruction/Multi-view/Depth%20Estimation/Learning-based%20Multi-View%20Stereo%20A%20Survey/"/>
      <url>/3DReconstruction/Multi-view/Depth%20Estimation/Learning-based%20Multi-View%20Stereo%20A%20Survey/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Learning-based Multi-View Stereo A Survey</th></tr></thead><tbody><tr><td>Author</td><td>Fangjinhua Wang<em>â€ , Qingtian Zhu</em>, Di Chang*, Quankai Gao, Junlin Han, Tong Zhang,<br>Richard Hartley, Fellow, IEEE, Marc Pollefeys, Fellow, IEEE</td></tr><tr><td>Conf/Jour</td><td></td></tr><tr><td>Year</td><td>2024</td></tr><tr><td>Project</td><td></td></tr><tr><td>Paper</td><td><a href="https://arxiv.org/pdf/2408.15235">Learning-based Multi-View Stereo: A Survey</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240902182108.png" alt="image.png|666"></p><span id="more"></span><p>Multi-view Stero: </p><ul><li>SUPERVISED METHOD WITH DEPTH ESTIMATION</li><li>UNSUPERVISED &amp; SEMI-SUPERVISED METHODS WITH DEPTH ESTIMATION</li><li>LEARNING-BASED MVS WITHOUT DEPTH ESTIMATION</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Visualize Interval uncertainty quantification metrics</title>
      <link href="/Project/Visualize%20Interval%20uncertainty%20quantification%20metrics/"/>
      <url>/Project/Visualize%20Interval%20uncertainty%20quantification%20metrics/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨Pygameå¯è§†åŒ–åŒºé—´UQæŒ‡æ ‡</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240828182827.png" alt="image.png|666"></p><span id="more"></span><h1 id="åŒºé—´ä¸ç¡®å®šæ€§é‡åŒ–æŒ‡æ ‡"><a href="#åŒºé—´ä¸ç¡®å®šæ€§é‡åŒ–æŒ‡æ ‡" class="headerlink" title="åŒºé—´ä¸ç¡®å®šæ€§é‡åŒ–æŒ‡æ ‡"></a>åŒºé—´ä¸ç¡®å®šæ€§é‡åŒ–æŒ‡æ ‡</h1><p>ä½œç”¨ï¼šç”¨æ¥é‡åŒ–ä¸¤ä¸ªåŒºé—´ä¹‹é—´çš„å·®å¼‚ï¼Œæ–¹ä¾¿è¿›è¡Œä¼˜åŒ–</p><div class="table-container"><table><thead><tr><th>UQ metrics</th><th>Source Paper</th></tr></thead><tbody><tr><td>ISF by RPO</td><td><a href="https://www.sciencedirect.com/science/article/pii/S0888327022004575?via%3Dihub">The sub-interval similarity: A general uncertainty quantification metric for both stochastic and interval model updating - ScienceDirect</a></td></tr><tr><td>IOR</td><td><a href="https://www.sciencedirect.com/science/article/pii/S096599781731164X?via%3Dihub">Interval identification of structural parameters using interval overlap ratio and Monte Carlo simulation - ScienceDirect</a></td></tr><tr><td>IDD</td><td><a href="https://worldscientific.com/doi/abs/10.1142/S0219876218501037">Interval Identification of Structural Parameters Using Interval Deviation Degree and Monte Carlo Simulation International Journal of Computational Methods</a></td></tr><tr><td>ISL</td><td>1-RPO</td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240828183505.png" alt="image.png|333"></p><h2 id="ISF"><a href="#ISF" class="headerlink" title="ISF"></a>ISF</h2><p>$ISF=\frac{1}{1+\exp\{-RPO(A,B)\}}, RPO(A,B)=\frac{min\{\overline a ,\overline b\}-max\{\underline a,\underline b\}}{max\{L(A),L(B)\}}$ </p><p>or $\left.\mathrm{RPO}(A,B)=\begin{cases}\frac{(\overline{a}-\underline{b})}{\max\{len(A),len(B)\}},&amp;\quad\text{Case 1,2}\\\\\frac{(\overline{a}-\underline{a})}{\max\{len(A),len(B)\}},&amp;\quad\text{Case 3}\\\\\frac{(\overline{b}-\underline{b})}{\max\{len(A),len(B)\}},&amp;\quad\text{Case 4}\\\\\frac{(\overline{b}-\underline{a})}{\max\{len(A),len(B)\}},&amp;\quad\text{Case 5,6}\end{cases}\right.$</p><h2 id="IOR"><a href="#IOR" class="headerlink" title="IOR"></a>IOR</h2><p>$\mathrm{IOR}(A|B)=\begin{cases}\frac{-[(\overline{a}-a)+(\overline{b}-\underline{b})]}{\overline{b}-\underline{b}},\text{ Case1and6}\\\frac{(\overline{a}-\underline{b})-[(\underline{b}-\underline{a})+(\overline{b}-\overline{a})]}{\overline{b}-\underline{b}},\text{ Case2}\\\frac{(\overline{a}-\underline{a})-[(\underline{a}-\underline{b})+(\overline{b}-\overline{a})]}{\overline{b}-\underline{b}},\text{ Case3}\\\frac{(\overline{b}-\underline{b})-[(\underline{b}-\underline{a})+(\overline{a}-\overline{b})]}{\overline{b}-\underline{b}},\text{ Case4}\\\frac{(\overline{b}-\underline{a})-[(\underline{a}-\underline{b})+(\overline{a}-\overline{b})]}{\overline{b}-\underline{b}},\text{ Case5}\end{cases}$ </p><p>or $\mathrm{IOR}(A|B)=\frac{\mathrm{len}(A\cap B)-\mathrm{len}((A\cup B)-(A\cap B))}{\mathrm{len}(B)}$</p><h2 id="IDD"><a href="#IDD" class="headerlink" title="IDD"></a>IDD</h2><p>$\mathrm{IDD}(A\mid B)=\frac{\mathrm{len}((A\cup B)-(A\cap B))}{\mathrm{len}(B)}$</p><h2 id="ISL"><a href="#ISL" class="headerlink" title="ISL"></a>ISL</h2><p>$L_{is}(A,B)=1-RPO(A,B)=1-\frac{min\{\overline{a},\overline{b}\}-max\{\underline{a},\underline{b}\}}{max\{len(A),len(B)\}}$</p><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>æ‰“åŒ…ï¼š</p><ol><li><code>pip install pyinstaller</code></li><li><code>pyinstaller -F -w (-i icofile) filename</code> -Få•ä¸ªæ–‡ä»¶ -wéšè—cmd -i å›¾æ ‡æ–‡ä»¶</li><li>å°†ç¼–å†™Pygameç”¨åˆ°çš„æ‰€æœ‰èµ„æºåŒ…æ”¾å…¥dist</li></ol><h2 id="Version-1"><a href="#Version-1" class="headerlink" title="Version 1"></a>Version 1</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240828182827.png" alt="image.png|666"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Calculate_RPO</span>(<span class="params">interval1, interval2</span>):</span><br><span class="line">    interval1_len = interval1.right - interval1.left</span><br><span class="line">    interval2_len = interval2.right - interval2.left</span><br><span class="line">    max_len = <span class="built_in">max</span>(interval1_len, interval2_len)</span><br><span class="line"></span><br><span class="line">    RPO = (<span class="built_in">min</span>(interval1.right, interval2.right) - <span class="built_in">max</span>(interval1.left, interval2.left)) / max_len</span><br><span class="line">    <span class="keyword">return</span> RPO</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">interval_similarity_function</span>(<span class="params">interval1, interval2</span>):</span><br><span class="line">    RPO = Calculate_RPO(interval1, interval2)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span> + np.exp(-RPO))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">interval_similarity_loss</span>(<span class="params">interval1, interval2</span>):</span><br><span class="line">    RPO = Calculate_RPO(interval1, interval2)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> - RPO</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">interval_overlap_ratio</span>(<span class="params">interval1, interval2</span>):</span><br><span class="line">    interval1_len = interval1.right - interval1.left</span><br><span class="line">    interval2_len = interval2.right - interval2.left</span><br><span class="line">    <span class="keyword">if</span> interval1.right &lt;= interval2.left <span class="keyword">or</span> interval1.left &gt;= interval2.right: <span class="comment"># case 1 and 6</span></span><br><span class="line">        ior = - ((interval1.right - interval1.left) + (interval2.right - interval2.left)) / interval2_len</span><br><span class="line">    <span class="keyword">elif</span> interval1.left &lt;= interval2.left <span class="keyword">and</span> interval1.right &gt;= interval2.right: <span class="comment"># case 4</span></span><br><span class="line">        ior = - (interval1.right - interval1.left) / interval2_len</span><br><span class="line">    <span class="keyword">elif</span> interval1.left &gt;= interval2.left <span class="keyword">and</span> interval1.right &lt;= interval2.right: <span class="comment"># case 3</span></span><br><span class="line">        ior = - (interval2.right - interval2.left) / interval2_len</span><br><span class="line">    <span class="keyword">elif</span> interval1.left &lt;= interval2.left <span class="keyword">and</span> interval1.right &lt;= interval2.right: <span class="comment"># case 2</span></span><br><span class="line">        ior = ((interval1.right - interval2.left)-(interval2.left-interval1.left+interval2.right-interval1.right)) / interval2_len</span><br><span class="line">    <span class="keyword">else</span>: <span class="comment"># case 5</span></span><br><span class="line">        ior = ((interval2.right - interval1.left)-(interval1.left-interval2.left+interval1.right-interval2.right)) / interval2_len</span><br><span class="line">    <span class="keyword">return</span> ior</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">interval_deviation_degree</span>(<span class="params">interval1, interval2</span>):</span><br><span class="line">    interval1_len = interval1.right - interval1.left</span><br><span class="line">    interval2_len = interval2.right - interval2.left</span><br><span class="line">    <span class="keyword">if</span> interval1.right &lt;= interval2.left <span class="keyword">or</span> interval1.left &gt;= interval2.right:</span><br><span class="line">        idd = - ((interval1.right - interval1.left) + (interval2.right - interval2.left)) / interval2_len</span><br><span class="line">    <span class="keyword">elif</span> interval1.left &lt;= interval2.left <span class="keyword">and</span> interval1.right &gt;= interval2.right: <span class="comment"># case 4</span></span><br><span class="line">        idd = - (interval2.left-interval1.left+interval1.right-interval2.right) / interval2_len</span><br><span class="line">    <span class="keyword">elif</span> interval1.left &gt;= interval2.left <span class="keyword">and</span> interval1.right &lt;= interval2.right: <span class="comment"># case 3</span></span><br><span class="line">        idd = - (interval1.left-interval2.left+interval2.right-interval1.right) / interval2_len</span><br><span class="line">    <span class="keyword">elif</span> interval1.left &lt;= interval2.left <span class="keyword">and</span> interval1.right &lt;= interval2.right:</span><br><span class="line">        idd = - (interval2.left-interval1.left+interval2.right-interval1.right) / interval2_len</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        idd = - (interval1.left-interval2.left+interval1.right-interval2.right) / interval2_len</span><br><span class="line">    <span class="keyword">return</span> idd</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> - ior</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–Pygame</span></span><br><span class="line">pygame.init()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å±å¹•å°ºå¯¸</span></span><br><span class="line">screen_width = <span class="number">800</span></span><br><span class="line">screen_height = <span class="number">400</span></span><br><span class="line">screen = pygame.display.set_mode((screen_width, screen_height))</span><br><span class="line">pygame.display.set_caption(<span class="string">&#x27;å¯è§†åŒ–é‡åŒ–æŒ‡æ ‡&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰é¢œè‰²</span></span><br><span class="line">white = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">black = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">red = (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">blue = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line"></span><br><span class="line">font = pygame.font.SysFont(<span class="literal">None</span>, <span class="number">24</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰æ»‘å—åˆå§‹å±æ€§</span></span><br><span class="line">slider_height = <span class="number">20</span></span><br><span class="line">slider1 = pygame.Rect(<span class="number">200</span>, (screen_height - slider_height) // <span class="number">2</span> - <span class="number">10</span>, <span class="number">100</span>, slider_height+<span class="number">10</span>)</span><br><span class="line">slider2 = pygame.Rect(<span class="number">500</span>, (screen_height - slider_height) // <span class="number">2</span>, <span class="number">100</span>, slider_height)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿½è¸ªå½“å‰æ­£åœ¨è°ƒæ•´çš„æ»‘å—åŠå…¶è°ƒæ•´æ¨¡å¼</span></span><br><span class="line">selected_slider = <span class="literal">None</span></span><br><span class="line">resizing = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸¸æˆä¸»å¾ªç¯</span></span><br><span class="line">running = <span class="literal">True</span></span><br><span class="line"><span class="keyword">while</span> running:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.QUIT:</span><br><span class="line">            pygame.quit()</span><br><span class="line">            sys.exit()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¤„ç†é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.MOUSEBUTTONDOWN:</span><br><span class="line">            <span class="keyword">if</span> slider1.collidepoint(event.pos):</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">abs</span>(slider1.right - event.pos[<span class="number">0</span>]) &lt; <span class="number">10</span>:</span><br><span class="line">                    resizing = <span class="literal">True</span></span><br><span class="line">                selected_slider = slider1</span><br><span class="line">            <span class="keyword">elif</span> slider2.collidepoint(event.pos):</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">abs</span>(slider2.right - event.pos[<span class="number">0</span>]) &lt; <span class="number">10</span>:</span><br><span class="line">                    resizing = <span class="literal">True</span></span><br><span class="line">                selected_slider = slider2</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¤„ç†é¼ æ ‡æ¾å¼€äº‹ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.MOUSEBUTTONUP:</span><br><span class="line">            selected_slider = <span class="literal">None</span></span><br><span class="line">            resizing = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¤„ç†é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.MOUSEMOTION:</span><br><span class="line">            <span class="keyword">if</span> selected_slider <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> <span class="keyword">not</span> resizing:</span><br><span class="line">                selected_slider.x = event.pos[<span class="number">0</span>] - selected_slider.width // <span class="number">2</span></span><br><span class="line">            <span class="keyword">elif</span> selected_slider <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> resizing:</span><br><span class="line">                selected_slider.width = <span class="built_in">max</span>(<span class="number">10</span>, event.pos[<span class="number">0</span>] - selected_slider.x)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(slider2.width)</span></span><br><span class="line">    <span class="comment"># é˜²æ­¢æ»‘å—è¶…å‡ºå±å¹•è¾¹ç•Œ</span></span><br><span class="line">    slider1.x = <span class="built_in">max</span>(<span class="number">0</span>, <span class="built_in">min</span>(slider1.x, screen_width - slider1.width))</span><br><span class="line">    slider2.x = <span class="built_in">max</span>(<span class="number">0</span>, <span class="built_in">min</span>(slider2.x, screen_width - slider2.width))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç»˜åˆ¶å±å¹•</span></span><br><span class="line">    screen.fill(white)</span><br><span class="line">    pygame.draw.line(screen, black, (<span class="number">0</span>, screen_height // <span class="number">2</span>), (screen_width, screen_height // <span class="number">2</span>), <span class="number">2</span>)</span><br><span class="line">    pygame.draw.rect(screen, red , slider1)</span><br><span class="line">    pygame.draw.rect(screen, blue, slider2)</span><br><span class="line"></span><br><span class="line">    slider_A_text = font.render(<span class="string">&quot;A&quot;</span>, <span class="literal">True</span>, black)</span><br><span class="line">    slider_B_text = font.render(<span class="string">&quot;B&quot;</span>, <span class="literal">True</span>, black)</span><br><span class="line">    screen.blit(slider_A_text, (slider1.left + slider1.width//<span class="number">2</span> - <span class="number">5</span>, screen_height//<span class="number">2</span> - <span class="number">10</span>))</span><br><span class="line">    screen.blit(slider_B_text, (slider2.left + slider2.width//<span class="number">2</span> - <span class="number">5</span>, screen_height//<span class="number">2</span> - <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºæ»‘å—1çš„å·¦å³ç«¯ç‚¹åæ ‡</span></span><br><span class="line">    slider1_left_text = font.render(<span class="string">f&quot;<span class="subst">&#123;slider1.left&#125;</span>&quot;</span>, <span class="literal">True</span>, red)</span><br><span class="line">    slider1_right_text = font.render(<span class="string">f&quot;<span class="subst">&#123;slider1.right&#125;</span>&quot;</span>, <span class="literal">True</span>, red)</span><br><span class="line">    screen.blit(slider1_left_text, (slider1.left, slider1.top - <span class="number">25</span>))</span><br><span class="line">    screen.blit(slider1_right_text, (slider1.right - slider1_right_text.get_width(), slider1.top - <span class="number">25</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºæ»‘å—2çš„å·¦å³ç«¯ç‚¹åæ ‡</span></span><br><span class="line">    slider2_left_text = font.render(<span class="string">f&quot;<span class="subst">&#123;slider2.left&#125;</span>&quot;</span>, <span class="literal">True</span>, blue)</span><br><span class="line">    slider2_right_text = font.render(<span class="string">f&quot;<span class="subst">&#123;slider2.right&#125;</span>&quot;</span>, <span class="literal">True</span>, blue)</span><br><span class="line">    screen.blit(slider2_left_text, (slider2.left, slider2.bottom + <span class="number">15</span>))</span><br><span class="line">    screen.blit(slider2_right_text, (slider2.right - slider2_right_text.get_width(), slider2.bottom + <span class="number">15</span>))</span><br><span class="line"></span><br><span class="line">    rpo = Calculate_RPO(slider1, slider2)</span><br><span class="line">    rpo_text = font.render(<span class="string">f&quot;Relative Position Overlap (RPO): <span class="subst">&#123;rpo:<span class="number">.4</span>f&#125;</span>&quot;</span>, <span class="literal">True</span>, black)</span><br><span class="line">    screen.blit(rpo_text, (<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"></span><br><span class="line">    isf = interval_similarity_function(slider1, slider2)</span><br><span class="line">    similarity_text = font.render(<span class="string">f&quot;Interval similarity Function (ISF): <span class="subst">&#123;isf:<span class="number">.4</span>f&#125;</span>&quot;</span>, <span class="literal">True</span>, black)</span><br><span class="line">    screen.blit(similarity_text, (<span class="number">10</span>, <span class="number">40</span>))</span><br><span class="line"></span><br><span class="line">    isl = interval_similarity_loss(slider1, slider2)</span><br><span class="line">    similarity_loss_text = font.render(<span class="string">f&quot;Interval similarity Loss (ISL): <span class="subst">&#123;isl:<span class="number">.4</span>f&#125;</span>&quot;</span>, <span class="literal">True</span>, black)</span><br><span class="line">    screen.blit(similarity_loss_text, (<span class="number">10</span>, <span class="number">70</span>))</span><br><span class="line"></span><br><span class="line">    ior = interval_overlap_ratio(slider1, slider2)</span><br><span class="line">    overlap_ratio_text = font.render(<span class="string">f&quot;Interval Overlap Ratio (IOR): <span class="subst">&#123;ior:<span class="number">.4</span>f&#125;</span>&quot;</span>, <span class="literal">True</span>, black)</span><br><span class="line">    screen.blit(overlap_ratio_text, (<span class="number">10</span>, <span class="number">100</span>))</span><br><span class="line"></span><br><span class="line">    idd = interval_deviation_degree(slider1, slider2)</span><br><span class="line">    deviation_degree_text = font.render(<span class="string">f&quot;Interval Deviation Degree (IDD): <span class="subst">&#123;idd:<span class="number">.4</span>f&#125;</span>&quot;</span>, <span class="literal">True</span>, black)</span><br><span class="line">    screen.blit(deviation_degree_text, (<span class="number">10</span>, <span class="number">130</span>))</span><br><span class="line"></span><br><span class="line">    pygame.display.flip()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å¸§ç‡</span></span><br><span class="line">    pygame.time.Clock().tick(<span class="number">60</span>)</span><br></pre></td></tr></table></figure><h2 id="Version-2"><a href="#Version-2" class="headerlink" title="Version 2"></a>Version 2</h2><ul><li>[ ] æ·»åŠ é‡ç½®æŒ‰é’®</li><li>[ ] ä¼˜åŒ–å¤–è§‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Finite Element Model 3D Reconstruction</title>
      <link href="/3DReconstruction/Finite%20Element%20Model%203D%20Reconstruction/"/>
      <url>/3DReconstruction/Finite%20Element%20Model%203D%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<p>é€šè¿‡å¤šè§†å›¾ä¸‰ç»´é‡å»ºè·å¾—ä¸‰ç»´æ¨¡å‹ï¼Œç”¨äºæœ‰é™å…ƒåˆ†æ/å·¥ä¸šè®¾è®¡æŒ‡å¯¼</p><span id="more"></span><h1 id="IDEA"><a href="#IDEA" class="headerlink" title="IDEA"></a>IDEA</h1><h2 id="ç›´æ¥é‡å»ºæ¨¡å‹"><a href="#ç›´æ¥é‡å»ºæ¨¡å‹" class="headerlink" title="ç›´æ¥é‡å»ºæ¨¡å‹"></a>ç›´æ¥é‡å»ºæ¨¡å‹</h2><p>ä¸‰ç»´é‡å»ºå‡ºç‚¹äº‘æ¨¡å‹ï¼Œç„¶åæ ¹æ®ç‚¹äº‘å¾—åˆ°æœ‰é™å…ƒæ¨¡å‹ï¼Œå¹¶å¯¹æœ‰é™å…ƒæ¨¡å‹è¿›è¡Œä¿®æ­£ã€‚éš¾ç‚¹åœ¨äºï¼š</p><ul><li><strong>ä¸‰ç»´é‡å»º</strong>ï¼šä¸‰ç»´é‡å»ºå‡ºæ¥çš„ç‚¹äº‘ç²¾åº¦è¦é«˜ï¼Œè¦èƒ½å‡†ç¡®å¾—åˆ°é‡å»ºç‰©ä½“çš„å°ºå¯¸(æ‘„å½±æµ‹é‡)</li><li>æ ¼å¼è½¬æ¢ï¼šç‚¹äº‘æ¨¡å‹å¦‚ä½•è½¬æ¢æˆæœ‰é™å…ƒæ¨¡å‹(ä¾‹å¦‚Patrançš„.x_tæ ¼å¼æ–‡ä»¶ï¼Œæˆ–è€…ç»è¿‡å¤„ç†ç›´æ¥ç”¨ç‚¹äº‘åæ ‡æ›¿æ¢bdfæ–‡ä»¶ä¸­çš„ç½‘æ ¼èŠ‚ç‚¹åæ ‡)<ul><li>ç±»ä¼¼DMTetè¾“å…¥ç‚¹äº‘æ¥ä¼˜åŒ–meshæ¨¡å‹ï¼Œ</li><li>Surface mesh to Volume meshï¼Œç„¶åé€šè¿‡ä»meshæ¨¡å‹ä¸­å¾—åˆ°ä½“ç½‘æ ¼æ¨¡å‹ <ul><li>å¿…é¡»é¦–å…ˆä¿è¯ surface mesh æ˜¯æ°´å¯†çš„ å†…éƒ¨ç»“æ„ä¸èƒ½å¤æ‚ <a href="https://github.com/wildmeshing/fTetWild">wildmeshing/fTetWild: Fast Tetrahedral Meshing in the Wild</a> <a href="https://blog.csdn.net/weixin_43693967/article/details/134026594">ã€ä¸‰ç»´è§†è§‰ã€‘TetWild / fTetWildå­¦ä¹ ï¼šå°†ä»»æ„meshå¤„ç†æˆæµå½¢æ°´å¯†çš„mesh-CSDNåšå®¢</a></li><li>ç„¶åå°†æ°´å¯†meshä½“ç½‘æ ¼åŒ–<a href="https://gmsh.info/#Documentation">Gmsh: a three-dimensional finite element mesh generator with built-in pre- and post-processing facilities</a> <a href="https://mbarzegary.github.io/2022/06/27/surface-to-volume-mesh-using-gmsh/">https://mbarzegary.github.io/2022/06/27/surface-to-volume-mesh-using-gmsh/</a></li></ul></li></ul></li><li>æ¨¡å‹ä¿®æ­£ï¼šç¡®å®šçš„oråŒºé—´çš„oréšæœºçš„ï¼Œä¿®æ­£å‡ºæ¥çš„æœ‰é™å…ƒä»¿çœŸå“åº”èƒ½å¦çœŸå®åæ˜ å®é™…æµ‹é‡çš„å“åº”ç‰¹å¾</li><li>æ•°æ®é›†ï¼š<ul><li>å›¾ç‰‡æ•°æ®ï¼Œè¦æ‹æ‘„å“ªäº›ç§ç±»çš„ç‰©ä½“(å·¥å†µ)ï¼Œè¦æœ‰å®é™…çš„æ„ä¹‰(ä¾‹å¦‚æœºæ¢°ç»“æ„ã€åœŸæœ¨ç»“æ„ç­‰)</li><li>æ¨¡å‹ä¿®æ­£å“åº”ï¼Œå¾—åˆ°æœ‰é™å…ƒæ¨¡å‹åï¼Œé€šè¿‡Nastranä»¿çœŸè®¡ç®—è¾“å‡ºå“åº”ï¼Œå“åº”ç‰¹å¾çš„é€‰å–</li></ul></li></ul><blockquote><p><a href="https://support.ntop.com/hc/en-us/articles/360037005234-How-to-create-an-FE-Volume-Mesh">How to create an FE Volume Mesh â€“ nTop</a> Design Analysis è®¾è®¡åˆ†æ + Topology Optimization æ‹“æ‰‘ä¼˜åŒ–(<a href="https://www.ntop.com/software/products/">nTop</a>è½¯ä»¶ä¸é”™)</p></blockquote><h2 id="é—´æ¥é‡å»ºæ¨¡å‹"><a href="#é—´æ¥é‡å»ºæ¨¡å‹" class="headerlink" title="é—´æ¥é‡å»ºæ¨¡å‹"></a>é—´æ¥é‡å»ºæ¨¡å‹</h2><p>é¦–å…ˆè·å¾—ç‰©ä½“çš„è¾¹ç¼˜ï¼Œç„¶åæ ¹æ®CADæˆ–è€…Solidworkså»ºç«‹å‡†ç¡®çš„ä¸‰ç»´æ¨¡å‹</p><h1 id="æ–‡çŒ®è°ƒç ”"><a href="#æ–‡çŒ®è°ƒç ”" class="headerlink" title="æ–‡çŒ®è°ƒç ”"></a>æ–‡çŒ®è°ƒç ”</h1><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>Overview</th><th>Important for me</th></tr></thead><tbody><tr><td>2024</td><td><a href="https://academic.oup.com/jcde/article/6/2/197/5732318?login=false">Surface reconstruction from FE mesh model</a><br></td><td><img src="https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/jcde/6/2/10.1016_j.jcde.2018.05.004/4/m_j.jcde.2018.05.004-fx1.jpeg?Expires=1732527016&amp;Signature=Eb9Hsdk5dB0etDgtIp-urXmxXTQgtqLRv1aiQzuPxjU13coGiq~HSSAAtHgWUCMhqBxBDil5xolFmPLIsrDmXtG4AogoqwFl~SHRKUrcdl7QcDpBE3fbp1mHR2Se9pMyOFfjWYu88IUjSrJMx-Z1vIJhCKVL0PwX0kdO81rR5c4AepKjlyEV-lJ3OEOzVP5sxmO9pPH72DdWvxE9sHWdA0foQxkcfU7WVcETuh1g3epYuP7wvRLdUprJQi5~snVCZiqWanqRGE~c4Loh7RydigL3ZBOdBNkzcFWBk833N2iT0yY9yIBaWhjfSjM3eyKOuHJXC-cWaJ0w6g6aTALNew__&amp;Key-Pair-Id=APKAIE5G5CRDK6RD3PGA" alt="m_j.jcde.2018.05.004-fx1.jpeg (520Ã—297"></td><td>æœ¬æ–‡æå‡ºäº†ä¸€ç§ä»FEç½‘æ ¼æ¨¡å‹ä¸­æå–è‡ªç”±å½¢çŠ¶ B æ ·æ¡æ›²é¢å’ŒæŸäº›ç‰¹å¾æ›²çº¿çš„æ–¹æ³•</td></tr><tr><td>2024</td><td><a href="https://arxiv.org/pdf/2405.19295">3D Neural Edge Reconstruction</a></td><td><img src="https://neural-edge-map.github.io/resources/overview.jpg" alt="overview.jpg (1294Ã—699)"></td><td>3D æ¨¡å‹è¾¹ç¼˜é‡å»º</td></tr><tr><td>2020</td><td><a href="https://www.frontiersin.org/journals/bioengineering-and-biotechnology/articles/10.3389/fbioe.2020.00967/full">A Review on Finite Element Modeling and Simulation of the Anterior Cruciate Ligament Reconstruction</a></td><td><img src="https://www.frontiersin.org/files/Articles/546485/fbioe-08-00967-HTML/image_m/fbioe-08-00967-g003.jpg" alt="fbioe-08-00967-g003.jpg (3353Ã—817)"></td><td></td></tr><tr><td>2020</td><td><a href="https://ieeexplore.ieee.org/document/9042322">Personalized Knee Geometry Modeling Based on Multi-Atlas Segmentation and Mesh Refinement</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241023144706.png" alt="image.png"></td><td></td></tr><tr><td>2020</td><td><a href="https://pasithee.library.upatras.gr/iisa/article/view/3329">SafeACL: Ligament reconstruction based on subject-specific musculoskeletal and finite element models </a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241023144838.png" alt="image.png"></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div><h2 id="CAD-æŒ‡ä»¤æµ"><a href="#CAD-æŒ‡ä»¤æµ" class="headerlink" title="CAD æŒ‡ä»¤æµ"></a>CAD æŒ‡ä»¤æµ</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td>2023</td><td><a href="https://content.iospress.com/articles/integrated-computer-aided-engineering/ica230710">3D reconstruction based on hierarchical reinforcement learning with transferability - IOS Press</a><br></td><td>3Dæ¨¡å‹</td><td>3Dé‡å»º CAD æŒ‡ä»¤</td><td>Reinforcement Learning (RL), CAD</td><td>å¼ºåŒ–å­¦ä¹ ã€CADæŒ‡ä»¤å­¦ä¹ </td></tr></tbody></table></div><h2 id="æ¿€å…‰é›·è¾¾æ‰«æä»ª"><a href="#æ¿€å…‰é›·è¾¾æ‰«æä»ª" class="headerlink" title="æ¿€å…‰é›·è¾¾æ‰«æä»ª"></a>æ¿€å…‰é›·è¾¾æ‰«æä»ª</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td>2023</td><td><a href="Concrete%20spalling%20damage%20detection%20and%20seismic%20performance%20evaluation%20for%20RC%20shear%20walls%20via%203D%20reconstruction%20technique%20and%20numerical%20model%20updating.md">Concrete spalling damage detection and seismic performance evaluation for RC shear walls via 3D reconstruction technique and numerical model updating</a><br>Automation in Construction<br></td><td>é’¢ç­‹æ··å‡åœŸ<em>RC</em>å‰ªåŠ›å¢™<br></td><td>æŸä¼¤æ£€æµ‹ï¼ŒæŠ—éœ‡æ€§èƒ½è¯„ä¼°</td><td>Numerical model updating+3D reconstruction(æ™ºèƒ½æ‰‹æœºå†…ç½®çš„æ¿€å…‰é›·è¾¾æ‰«æä»ª)</td><td>é€šè¿‡<strong>ä¿¡æ¯è½¬ç§»ç‚¹çŸ©é˜µ</strong>çš„æ–°æ¦‚å¿µï¼Œå»ºç«‹äº†è¢«æ£€å¢™é‡æ„çš„ä¸‰ç»´ç‚¹äº‘æ¨¡å‹ä¸­éšè—çš„ç¼ºé™·ä¿¡æ¯ä¸å…¶å¯¹åº”æœ‰é™å…ƒæ¨¡å‹çš„æ€§èƒ½å˜åŒ–ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œæ‰€æå‡ºçš„æ–¹æ³•èƒ½å¤ŸæˆåŠŸå®šä½æ··å‡åœŸå‰¥è½æŸä¼¤ï¼Œé‡åŒ–è¢«æ£€æµ‹è¯•ä»¶çš„æ‰¿è½½åŠ›å˜åŒ–<br>åˆ›æ–°ï¼šä¹‹å‰å¾ˆå°‘ç ”ç©¶æ··å‡åœŸå‰¥è½æŸä¼¤ä¸é’¢ç­‹æ··å‡åœŸå‰ªåŠ›å¢™æ®‹ä½™æ‰¿è½½åŠ›ä¹‹é—´çš„å…³ç³»</td></tr><tr><td>2021<br><br></td><td><a href="https://journals.sagepub.com/doi/10.1177/14759217211010238">A novel intelligent inspection robot with deep stereo vision for three-dimensional concrete damage detection and quantification - Cheng Yuan, Bing Xiong, Xiuquan Li, Xiaohan Sang, Qingzhao Kong, 2022</a> <br>Structural Health Monitoring</td><td><em>RC</em><br>reinforced concrete structures</td><td>è£‚çº¹è¯„ä¼°</td><td>æ™ºèƒ½æ£€æµ‹æœºå™¨äºº with deep stereo vision</td><td></td></tr><tr><td>2021</td><td><a href="https://onlinelibrary.wiley.com/doi/10.1002/suco.202100194">Automated finite element modeling and analysis of cracked reinforced concrete beams from three dimensional point cloud - Yu - 2021 - Structural Concrete - Wiley Online Library</a><br>Structural Concrete<br></td><td>è£‚çº¹RCæ¢</td><td>è‡ªåŠ¨æœ‰é™å…ƒå»ºæ¨¡å’Œåˆ†æ</td><td>ç‚¹äº‘ä¸‰ç»´å»ºæ¨¡</td><td>åˆ©ç”¨æ”¶é›†åˆ°çš„ä¸‰ç»´ç‚¹æ•°æ®è‡ªåŠ¨ç”Ÿæˆäº†è¢«æ£€æµ‹æ¢çš„æ•°å€¼æ¨¡å‹</td></tr><tr><td>2021</td><td><a href="https://link.springer.com/article/10.1007/s13349-021-00525-5">Automated generation of FE models of cracked RC beams based on 3D point clouds and 2D images Journal of Civil Structural Health Monitoring</a><br>Journal Article</td><td>è£‚çº¹RCæ¢</td><td>è‡ªåŠ¨æœ‰é™å…ƒæ¨¡å‹</td><td>3Dç‚¹äº‘å’Œ2Då›¾åƒï¼Œç‚¹äº‘é…å‡†ç®—æ³•ICP-based DLT</td><td>ç‚¹äº‘é…å‡†ç®—æ³•ICP-based DLTå°†å›¾åƒä¸Šçš„è£‚çº¹é…å‡†åˆ°3Dç‚¹äº‘ä¸Šï¼Œä»è€Œè‡ªåŠ¨ç”Ÿæˆæœ‰é™å…ƒæ¨¡å‹</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td>2022</td><td><a href="https://pubs.aip.org/aip/adv/article/12/10/105111/2819776/Laser-based-finite-element-model-reconstruction">Laser-based finite element model reconstruction for structural mechanics</a><br>åŒ—äº¬ç§‘æŠ€å¤§å­¦åœŸæœ¨ä¸èµ„æºå·¥ç¨‹å­¦é™¢åŸå¸‚åœ°ä¸‹ç©ºé—´å·¥ç¨‹åŒ—äº¬å¸‚é‡ç‚¹å®éªŒå®¤<br></td><td>structural mechanics</td><td>finite element model reconstruction, è‡ªåŠ¨è¯†åˆ«æŸåéƒ¨ä»¶,The non-destructive evaluation (NDEæ— æŸè¯„ä¼°)</td><td>Laser-basedï¼ŒHLS(æ‰‹æŒæ¿€å…‰æ‰«æä»ªå‹å·ï¼šCreaform Handyscan 3D 700)</td><td>å°†æ¥è‡ª 3D æ¿€å…‰æ‰«æç³»ç»Ÿçš„æ¡ä»¶æ•°æ®è½¬æ¢ä¸ºèƒ½å¤Ÿæè¿°ç»„ä»¶æœºæ¢°å“åº”çš„ FEMã€‚å¯¹å¦‚æ¡¥æ¢ç­‰å¤§å‹ç‰©ä½“ï¼Œè‡ªåŠ¨è¯†åˆ«å—æŸéƒ¨ä½å¹¶å±€éƒ¨æ›´æ–°åˆ°æœ‰é™å…ƒæ¨¡å‹ä¸­<br></td></tr><tr><td>2016</td><td><a href="https://ascelibrary.org/doi/10.1061/%28ASCE%29CF.1943-5509.0000807">Exploitation of Geometric Data provided by Laser Scanning to Create FEM Structural Models of Bridges</a></td><td></td><td></td><td></td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td>2024</td><td><a href="https://www.sciencedirect.com/science/article/pii/S167477552300272X">Three-dimensional finite element simulation and reconstruction of jointed rock models using CT scanning and photogrammetry - ScienceDirect</a><br></td><td></td><td></td><td></td></tr></tbody></table></div><h2 id="ç”Ÿæˆå¼æ–¹æ³•"><a href="#ç”Ÿæˆå¼æ–¹æ³•" class="headerlink" title="ç”Ÿæˆå¼æ–¹æ³•"></a>ç”Ÿæˆå¼æ–¹æ³•</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td><strong>2022R</strong></td><td><a href="https://dl.acm.org/doi/10.1145/3554920">Hex-Mesh Generation and Processing: A Survey</a></td><td>FE Volume Mesh(Hex-Mesh)</td><td>Mesh Generation and Processing</td><td>Review</td><td>å…­é¢ä½“ç½‘æ ¼ç”ŸæˆæŠ€æœ¯ç»¼è¿°</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><h2 id="æ ¹æ®ä¸‰è§’ç½‘æ ¼ä¼˜åŒ–ä½“ç½‘æ ¼"><a href="#æ ¹æ®ä¸‰è§’ç½‘æ ¼ä¼˜åŒ–ä½“ç½‘æ ¼" class="headerlink" title="æ ¹æ®ä¸‰è§’ç½‘æ ¼ä¼˜åŒ–ä½“ç½‘æ ¼"></a>æ ¹æ®ä¸‰è§’ç½‘æ ¼ä¼˜åŒ–ä½“ç½‘æ ¼</h2><p>å¯ä»¥æ— ç¼åœ°ä»meshç›´æ¥å¾—åˆ°hex mesh</p><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td>2024</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><ul><li>idea fromï¼š<ul><li><a href="https://arxiv.org/pdf/2410.11656">Fast and Robust Hexahedral Mesh Optimization via Augmented Lagrangian, L-BFGS, and Line Search | PDF</a></li><li><a href="https://x.com/zhenjun_zhao/status/1846392374425276748">X ä¸Šçš„ Zhenjun Zhaoï¼šâ€œFast and Robust Hexahedral Mesh Optimization via Augmented Lagrangian, L-BFGS, and Line Search Hua Tong, Yongjie Jessica Zhang https://t.co/XAjGcAZxMp https://t.co/yu7zDYbdHYâ€ / X</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unpack Game File (Snowbreak)</title>
      <link href="/Project/Unpack%20Snowbreak%20File/"/>
      <url>/Project/Unpack%20Snowbreak%20File/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cbjq.com/"><img src="https://www.cbjq.com/uploadfile/2024/0326/20240326082703156.jpg" alt="172|666"></a></p><span id="more"></span><blockquote><p><a href="https://www.gildor.org/smf/index.php?topic=7914.0">[UE4] Snowbreak: Containment Zone</a> å‚è€ƒå¤§ä½¬çš„è§£åŒ…æ•™ç¨‹</p></blockquote><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><blockquote><p><a href="https://www.gildor.org/en/projects/umodel">UE Viewer | Gildorâ€™s Homepage</a><br><a href="https://aluigi.altervista.org/quickbms.htm">Luigi Auriemma</a><br><a href="https://cs.rin.ru/forum/viewtopic.php?f=10&amp;t=100672">CS.RIN.RU - Steam Underground Community â€¢ View topic - Collection of AES encryption keys for UE4/5 games</a> <strong>AES key and quickbms scripts</strong></p></blockquote><ol><li>ä¸‹è½½ <a href="https://www.gildor.org/en/projects/umodel">UE Viewer</a></li><li>ä¸‹è½½ <a href="https://aluigi.altervista.org/quickbms.htm">quickbms</a></li><li>è·å–å°˜ç™½ç¦åŒºçš„ AES key å’Œ quickbms scriptsï¼Œæ–‡æœ«æä¾›çš„å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œå› æ­¤å»ºè®®å»<a href="https://cs.rin.ru/forum/viewtopic.php?f=10&amp;t=100672">åŸç½‘ç«™</a>æŸ¥æ‰¾ä¸‹è½½</li></ol><p>è¯´æ˜ï¼šUE Viewerå¯ä»¥å¯¹UEå¼€å‘çš„æ¸¸æˆè¿›è¡Œè§£åŒ…</p><ul><li>å¤§éƒ¨åˆ†æ¸¸æˆè§£åŒ…æ—¶è¿˜éœ€è¦AES Key</li><li>æœ‰çš„æ¸¸æˆä½¿ç”¨customized packagesï¼Œåˆ™è¿˜éœ€è¦æå‰ä½¿ç”¨quickbmsè„šæœ¬æå–èµ„äº§ã€‚</li></ul><blockquote><p>æ¸¸æˆç›®å½•ä¸‹<code>\data\game\Game\Binaries\Win64\Game.exe</code> â€”&gt;Propertiesâ€”&gt;Details</p></blockquote><p>å¯ä»¥çœ‹åˆ°å°˜ç™½ç¦åŒºä½¿ç”¨UE4å¼€å‘ï¼Œç‰ˆæœ¬ä¸º4.26.2(File Version)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240824210353.png" alt="image.png|222"></p><h1 id="å¼€å§‹è§£åŒ…"><a href="#å¼€å§‹è§£åŒ…" class="headerlink" title="å¼€å§‹è§£åŒ…"></a>å¼€å§‹è§£åŒ…</h1><p>å…ˆå°†å°˜ç™½ç¦åŒºçš„èµ„æºæ–‡ä»¶ä½¿ç”¨quickbms scriptsæå–å‡ºæ¥ï¼Œéœ€è¦ç”¨åˆ°<code>quickbms_4gb_files.exe</code>ï¼Œ<code>AES Key</code>å’Œ<code>unreal_tournament_4_0.4.27e_snowbreak.bms</code></p><p>æ³¨æ„ï¼šå¦‚æœæ˜¯ä»åŸç½‘ç«™ä¸‹è½½çš„<code>unreal_tournament_4_0.4.27e_snowbreak.bms</code>æ–‡ä»¶ï¼Œåˆ™éœ€è¦ä¿®æ”¹<code>set AES_KEY binary &quot;&quot;</code>è¿™ä¸€è¡Œï¼Œå°†AES key å¡«å…¥<code>&quot; &quot;</code>ä¹‹ä¸­</p><p>ç„¶åcmdä¸­è¿è¡Œï¼š(è¿™ä¸€æ­¥æœ‰ç‚¹ä¹…ï¼Œè€å¿ƒç­‰å¾…â€¦)<br><code>.\quickbms_4gb_files.exe -o -F &quot;&#123;&#125;.pak&quot; .\unreal_tournament_4_0.4.27e_snowbreak.bms &quot;input folder with paks&quot; &quot;output folder&quot;</code></p><p>è¿è¡Œç»“æŸåï¼Œæ‰“å¼€UE Viewerï¼Œåœ¨<code>Path to game files:</code> ä¸­å¡«å…¥<code>output folder</code>çš„è·¯å¾„ï¼ŒOvenide game detectioné€‰æ‹©æ¸¸æˆæ‰€ä¾èµ–çš„UEç‰ˆæœ¬ï¼Œç„¶åç›´æ¥okã€‚(ä½¿ç”¨quickbmsåå°±ä¸éœ€è¦åœ¨å¡«å†™AES keyäº†)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240824214527.png" alt="image.png|333"></p><p>å¦‚æœä¸åœ¨Ovenide game detectioné€‰æ‹©UEç‰ˆæœ¬ï¼Œåˆ™åç»­åŠ è½½èµ„æºæ—¶éœ€è¦é€‰æ‹©</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240824214121.png" alt="image.png|333"></p><p>æˆ‘å‹’ä¸ªå¤§é›·å•Šï¼</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240824214041.png" alt="image.png|666"></p><h1 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h1><h1 id="AES-key-and-quickbms-scripts"><a href="#AES-key-and-quickbms-scripts" class="headerlink" title="AES key and quickbms scripts"></a>AES key and quickbms scripts</h1><p>AES keyï¼š0xC14735FB5A872D2AFA76A5C38521AB8B8E21072C08525B913307608BD1182FA7<br>quickbms scriptsï¼š(æ–‡ä»¶å: unreal_tournament_4_0.4.27e_snowbreak.bms)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br></pre></td><td class="code"><pre><span class="line"># Unreal Engine 4 - Unreal Tournament 4 (*WindowsNoEditor.pak) (script 0.4.27e)</span><br><span class="line"># script for QuickBMS http://quickbms.aluigi.org</span><br><span class="line"></span><br><span class="line">math NO_TAIL_INFO = 0   # set it to 1 for archives with corrupt/missing tail information (extract without index)</span><br><span class="line">math VERSION = 3        # set it to 3 if NO_TAIL_INFO = 1 for most of modern games</span><br><span class="line">math NEW = 1       # set to 0 for old Snowbreak versions</span><br><span class="line"></span><br><span class="line">quickbmsver &quot;0.12&quot;</span><br><span class="line">callfunction QUICKBMS_4GB_CHECK 1</span><br><span class="line"></span><br><span class="line"># set your AES_KEY here as umodel hex (&quot;0x1122...&quot;) or C string (&quot;\x11\x22...&quot;)</span><br><span class="line"># don&#x27;t change AES_KEY_IS_SET, it will be handled automatically</span><br><span class="line">set AES_KEY binary &quot;0xC14735FB5A872D2AFA76A5C38521AB8B8E21072C08525B913307608BD1182FA7&quot;</span><br><span class="line"></span><br><span class="line">math TOC_FILE = 0</span><br><span class="line">math ALTERNATIVE_MODE = 0</span><br><span class="line">math AES_KEY_IS_SET = 0</span><br><span class="line">math BASE_PATH_INCLUDED = 1</span><br><span class="line">math DIR_FLAG = 1</span><br><span class="line">math NAME_FROM_ARRAY = 0</span><br><span class="line">math SKIP_COUNT = 0</span><br><span class="line"></span><br><span class="line">get ARCHIVE_NAME basename</span><br><span class="line">get ARCHIVE_PATH FILEPATH</span><br><span class="line"></span><br><span class="line">math CHUNK_OFFSET_ABSOLUTE = -1 # default, enabled</span><br><span class="line"></span><br><span class="line"># 1 = HIT</span><br><span class="line">math WORKAROUND = 0</span><br><span class="line"></span><br><span class="line">if NO_TAIL_INFO != 0</span><br><span class="line">    get OFFSET asize</span><br><span class="line">    math ALTERNATIVE_MODE = 1</span><br><span class="line">else</span><br><span class="line">  goto -0xcc  # version 11 (4.26-4.27)</span><br><span class="line">  savepos MAGIC_OFF</span><br><span class="line">  get MAGIC long</span><br><span class="line"></span><br><span class="line">    get VERSION long</span><br><span class="line">    endian guess VERSION</span><br><span class="line">    get OFFSET longlong</span><br><span class="line">    get SIZE longlong</span><br><span class="line">    getdstring HASH 20</span><br><span class="line">  math OFFSET ^ 0x1C1D1E1F</span><br><span class="line">  xmath SIZE &quot;MAGIC_OFF - OFFSET - 1&quot;  </span><br><span class="line">  </span><br><span class="line">  get FSIZE asize</span><br><span class="line">  savepos CUR_POS</span><br><span class="line">  if CUR_POS = FSIZE</span><br><span class="line">    string COMP1 = &quot;&quot;</span><br><span class="line">  else</span><br><span class="line">    get CHECK byte</span><br><span class="line">    if CHECK &gt; 1</span><br><span class="line">      goto -1 0 SEEK_CUR</span><br><span class="line">    endif</span><br><span class="line">    getdstring COMP1 32</span><br><span class="line">    getdstring COMP2 32</span><br><span class="line">    string COMP1 l COMP1</span><br><span class="line">    string COMP2 l COMP2</span><br><span class="line">  endif</span><br><span class="line"></span><br><span class="line">    if VERSION &gt;= 3</span><br><span class="line">        goto MAGIC_OFF</span><br><span class="line">        goto -1 0 SEEK_CUR</span><br><span class="line">        get ENCRYPTED byte</span><br><span class="line">        if ENCRYPTED != 0</span><br><span class="line">            callfunction SET_AES_KEY 1</span><br><span class="line">            log MEMORY_FILE5 OFFSET SIZE</span><br><span class="line">            encryption &quot;&quot; &quot;&quot;</span><br><span class="line">        else</span><br><span class="line">      log MEMORY_FILE5 OFFSET SIZE</span><br><span class="line">        endif</span><br><span class="line">    math TOC_FILE5 = -5</span><br><span class="line">    endif</span><br><span class="line"></span><br><span class="line">    goto 0</span><br><span class="line">    callfunction GET_BASE_PATH 1</span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line">get FILES long TOC_FILE5</span><br><span class="line">getdstring DUMMY 12 TOC_FILE5</span><br><span class="line">get HASHES_OFFSET longlong TOC_FILE5</span><br><span class="line">math HASHES_OFFSET - OFFSET</span><br><span class="line">get HASHES_SIZE longlong TOC_FILE5</span><br><span class="line">getdstring DUMMY 24 TOC_FILE5</span><br><span class="line">get NAMES_OFFSET longlong TOC_FILE5</span><br><span class="line">math NAMES_OFFSET - OFFSET</span><br><span class="line">get NAMES_SIZE longlong TOC_FILE5</span><br><span class="line">getdstring DUMMY 24 TOC_FILE5</span><br><span class="line">savepos BASE_INDEX_OFF TOC_FILE5</span><br><span class="line">goto NAMES_OFFSET TOC_FILE5</span><br><span class="line"></span><br><span class="line">math CHUNK_SIZE = 0x10000   # just in case...</span><br><span class="line">for i = 0 &lt; FILES</span><br><span class="line">  callfunction GET_NAME_AND_OFFSET 1</span><br><span class="line">  if NAME = &quot;&quot;</span><br><span class="line">    continue NEXT0</span><br><span class="line">  endif</span><br><span class="line">  </span><br><span class="line">  savepos TMP_OFF TOC_FILE</span><br><span class="line">  </span><br><span class="line">  get OFFSET longlong TOC_FILE</span><br><span class="line">  get ZSIZE longlong TOC_FILE</span><br><span class="line">  get SIZE longlong TOC_FILE</span><br><span class="line">  get ZIP long TOC_FILE</span><br><span class="line">    getdstring HASH 20 TOC_FILE</span><br><span class="line">  </span><br><span class="line">    math CHUNKS = 0</span><br><span class="line">    math ENCRYPTED = 0</span><br><span class="line">    if VERSION &gt;= 3</span><br><span class="line">        if ZIP != 0</span><br><span class="line">            get CHUNKS long TOC_FILE</span><br><span class="line">            for x = 0 &lt; CHUNKS</span><br><span class="line">                get CHUNK_OFFSET longlong TOC_FILE</span><br><span class="line">                get CHUNK_END_OFFSET longlong TOC_FILE</span><br><span class="line">                putarray 0 x CHUNK_OFFSET</span><br><span class="line">                putarray 1 x CHUNK_END_OFFSET</span><br><span class="line">            next x</span><br><span class="line">        endif</span><br><span class="line">        get ENCRYPTED byte TOC_FILE</span><br><span class="line">        get CHUNK_SIZE long TOC_FILE</span><br><span class="line">    endif</span><br><span class="line">  </span><br><span class="line">    #if ALTERNATIVE_MODE != 0</span><br><span class="line">        savepos TMP_OFF TOC_FILE</span><br><span class="line">        math OFFSET + TMP_OFF</span><br><span class="line">    #endif</span><br><span class="line"></span><br><span class="line">    #comtype copy    </span><br><span class="line">  callfunction COMPRESSION_TYPE 1</span><br><span class="line"></span><br><span class="line">    if CHUNKS &gt; 0</span><br><span class="line">        log NAME 0 0</span><br><span class="line">        append</span><br><span class="line">        math TMP_SIZE = SIZE</span><br><span class="line">    if CHUNK_OFFSET_ABSOLUTE &lt; 0 &amp;&amp; OFFSET != 0</span><br><span class="line">      getarray CHUNK_OFFSET 0 0</span><br><span class="line">      if CHUNK_OFFSET u&lt; OFFSET</span><br><span class="line">        math CHUNK_OFFSET_ABSOLUTE = 0</span><br><span class="line">      else</span><br><span class="line">        math CHUNK_OFFSET_ABSOLUTE = 1</span><br><span class="line">      endif</span><br><span class="line">    endif</span><br><span class="line">        for x = 0 &lt; CHUNKS</span><br><span class="line">            getarray CHUNK_OFFSET 0 x</span><br><span class="line">            getarray CHUNK_END_OFFSET 1 x</span><br><span class="line">            math CHUNK_ZSIZE = CHUNK_END_OFFSET</span><br><span class="line">            math CHUNK_ZSIZE - CHUNK_OFFSET</span><br><span class="line">            math CHUNK_XSIZE = CHUNK_ZSIZE</span><br><span class="line">            if ENCRYPTED != 0</span><br><span class="line">                callfunction SET_AES_KEY 1</span><br><span class="line">                math CHUNK_XSIZE x 16</span><br><span class="line">            endif</span><br><span class="line">            if TMP_SIZE u&lt; CHUNK_SIZE</span><br><span class="line">                math CHUNK_SIZE = TMP_SIZE</span><br><span class="line">            endif</span><br><span class="line">            math CHUNK_OFFSET = OFFSET</span><br><span class="line"></span><br><span class="line">      if ZIP == 0</span><br><span class="line">        log NAME CHUNK_OFFSET CHUNK_SIZE 0 CHUNK_XSIZE  </span><br><span class="line">      else</span><br><span class="line">        clog NAME CHUNK_OFFSET CHUNK_ZSIZE CHUNK_SIZE 0 CHUNK_XSIZE</span><br><span class="line">      endif      </span><br><span class="line">      </span><br><span class="line">            math TMP_SIZE - CHUNK_SIZE</span><br><span class="line">      math OFFSET + CHUNK_XSIZE</span><br><span class="line">        next x</span><br><span class="line">        append</span><br><span class="line">    </span><br><span class="line">    else</span><br><span class="line">        # the file offset points to an entry containing</span><br><span class="line">        # the &quot;same&quot; OFFSET ZSIZE SIZE ZIP HASH ZERO fields,</span><br><span class="line">        # just an additional backup... so let&#x27;s skip them</span><br><span class="line">        savepos BASE_OFF TOC_FILE</span><br><span class="line">        math BASE_OFF - TMP_OFF</span><br><span class="line">        math OFFSET + BASE_OFF</span><br><span class="line">        math XSIZE = ZSIZE</span><br><span class="line">        if ENCRYPTED != 0</span><br><span class="line">            callfunction SET_AES_KEY 1</span><br><span class="line">            math XSIZE x 16</span><br><span class="line">        endif  </span><br><span class="line">    if ZIP == 0</span><br><span class="line">      math BLOCK = 0x40000000</span><br><span class="line">      xmath FSIZE &quot;OFFSET + ZSIZE&quot; </span><br><span class="line">      log NAME 0 0</span><br><span class="line">      append</span><br><span class="line">      for OFFSET = OFFSET &lt; FSIZE</span><br><span class="line">        xmath DIFF &quot;FSIZE - OFFSET&quot;</span><br><span class="line">        if DIFF &lt; BLOCK</span><br><span class="line">          math XSIZE = DIFF</span><br><span class="line">          if ENCRYPTED != 0</span><br><span class="line">            math XSIZE x 16</span><br><span class="line">          endif</span><br><span class="line">          log NAME OFFSET DIFF 0 XSIZE</span><br><span class="line">        else</span><br><span class="line">          log NAME OFFSET BLOCK</span><br><span class="line">        endif</span><br><span class="line">        math OFFSET + BLOCK</span><br><span class="line">      next</span><br><span class="line">      append</span><br><span class="line">    else</span><br><span class="line">      clog NAME OFFSET ZSIZE SIZE 0 XSIZE</span><br><span class="line">    endif</span><br><span class="line">    endif</span><br><span class="line">    encryption &quot;&quot; &quot;&quot;</span><br><span class="line"></span><br><span class="line">    if ALTERNATIVE_MODE != 0</span><br><span class="line">    if CHUNKS == 0</span><br><span class="line">      math OFFSET + XSIZE</span><br><span class="line">    endif</span><br><span class="line">    goto OFFSET</span><br><span class="line"></span><br><span class="line">    get TMP1 longlong</span><br><span class="line">    get CHECK byte</span><br><span class="line">    if TMP1 == 0 &amp;&amp; CHECK != 0</span><br><span class="line">      goto OFFSET</span><br><span class="line">      continue NEXT1</span><br><span class="line">    else</span><br><span class="line">      goto OFFSET</span><br><span class="line">    endif</span><br><span class="line">    xmath CHECK &quot;0x800 - (OFFSET % 0x800)&quot;</span><br><span class="line">    if CHECK &lt;= 16</span><br><span class="line">      padding 0x800</span><br><span class="line">    endif  </span><br><span class="line">    </span><br><span class="line">    savepos OFFSET</span><br><span class="line">    get TMP1 longlong</span><br><span class="line">    get TMP2 longlong</span><br><span class="line">    if TMP2 == 0</span><br><span class="line">      padding 0x800</span><br><span class="line">    else</span><br><span class="line">      goto OFFSET</span><br><span class="line">    endif</span><br><span class="line">    </span><br><span class="line">    label NEXT1</span><br><span class="line">    endif</span><br><span class="line">  </span><br><span class="line">  label NEXT0</span><br><span class="line">next i</span><br><span class="line"></span><br><span class="line">print &quot;\nEntries ignored: %SKIP_COUNT%&quot;</span><br><span class="line">for i = 0 &lt; SKIP_COUNT</span><br><span class="line">  getarray NAME 7 i</span><br><span class="line">  print &quot;Ignored entry: %NAME%&quot;</span><br><span class="line">next i</span><br><span class="line"></span><br><span class="line">startfunction SET_AES_KEY_ASK</span><br><span class="line">    math AES_KEY_IS_SET = 1</span><br><span class="line">    print &quot;The archive is encrypted, you need to provide the key&quot;</span><br><span class="line">  if AES_KEY == &quot;&quot;</span><br><span class="line">    set KEY unknown &quot;???&quot;</span><br><span class="line">  else</span><br><span class="line">    set KEY binary AES_KEY</span><br><span class="line">  endif</span><br><span class="line">  </span><br><span class="line">    if KEY == &quot;&quot;</span><br><span class="line">        math AES_KEY_IS_SET = -1</span><br><span class="line">        set AES_KEY string &quot;No key provided, encryption disabled&quot;</span><br><span class="line">    elif KEY strncmp &quot;0x&quot;</span><br><span class="line">        string KEY &lt;&lt; 2</span><br><span class="line">        string AES_KEY h KEY</span><br><span class="line">    else</span><br><span class="line">        set AES_KEY binary KEY</span><br><span class="line">    endif</span><br><span class="line">  </span><br><span class="line">  if NEW = 1</span><br><span class="line">    callfunction CONVERT 1</span><br><span class="line">  endif</span><br><span class="line">    print &quot;KEY: %AES_KEY%&quot;</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">startfunction SET_AES_KEY</span><br><span class="line">    if AES_KEY_IS_SET == 0</span><br><span class="line">        callfunction SET_AES_KEY_ASK 1</span><br><span class="line">    endif</span><br><span class="line">    if AES_KEY_IS_SET &gt; 0</span><br><span class="line">        encryption aes AES_KEY &quot;&quot; 0 32</span><br><span class="line">    endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">startfunction GET_BASE_PATH</span><br><span class="line">    get NAMESZ long TOC_FILE5</span><br><span class="line">  getdstring BASE_PATH NAMESZ TOC_FILE5</span><br><span class="line">  if NAMESZ != 0x0A &amp;&amp; NAMESZ &lt; 0xFF</span><br><span class="line">    string BASE_PATH | &quot;../../../&quot;</span><br><span class="line">    math BASE_PATH_INCLUDED = 0</span><br><span class="line">  endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">startfunction CHECK_UNICODE</span><br><span class="line">  if NAMESZ &gt;= 0</span><br><span class="line">    getdstring RESULT NAMESZ TOC_FILE5</span><br><span class="line">  else</span><br><span class="line">    math NAMESZ n NAMESZ</span><br><span class="line">    math NAMESZ * 2</span><br><span class="line">    getdstring RESULT NAMESZ TOC_FILE5</span><br><span class="line">    set RESULT unicode RESULT</span><br><span class="line">  endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">startfunction GET_NAME_AND_OFFSET</span><br><span class="line">  if NAME_FROM_ARRAY = 1</span><br><span class="line">    if CURR_NAME &lt; DIR_FILES</span><br><span class="line">      getarray NAME 5 CURR_NAME</span><br><span class="line">      getarray OFFSET 6 CURR_NAME</span><br><span class="line">      goto OFFSET</span><br><span class="line">      math CURR_NAME + 1</span><br><span class="line">      if CURR_NAME = DIR_FILES</span><br><span class="line">        math NAME_FROM_ARRAY = 0</span><br><span class="line">      endif</span><br><span class="line">    endif</span><br><span class="line">  else  </span><br><span class="line">    if DIR_FLAG = 1</span><br><span class="line">      get DIR_COUNT long TOC_FILE5</span><br><span class="line">      math DIR_FLAG = 0</span><br><span class="line">    endif</span><br><span class="line">    </span><br><span class="line">    if DIR_COUNT = 0</span><br><span class="line">      math DIR_FLAG = 1</span><br><span class="line">      callfunction GET_NAME_AND_OFFSET 1</span><br><span class="line">    else</span><br><span class="line">      math DIR_COUNT - 1</span><br><span class="line">      get NAMESZ signed_long TOC_FILE5</span><br><span class="line">      callfunction CHECK_UNICODE 1</span><br><span class="line">      string DIR_NAME = RESULT</span><br><span class="line">      get DIR_FILES long TOC_FILE5</span><br><span class="line">      if DIR_FILES = 0</span><br><span class="line">        callfunction GET_NAME_AND_OFFSET 1</span><br><span class="line">      else </span><br><span class="line">        for y = 0 &lt; DIR_FILES</span><br><span class="line">          get NAMESZ signed_long TOC_FILE5</span><br><span class="line">          callfunction CHECK_UNICODE 1</span><br><span class="line">          string NAME = RESULT</span><br><span class="line">          string NAME p &quot;%s%s&quot; DIR_NAME NAME</span><br><span class="line">          if BASE_PATH_INCLUDED == 0</span><br><span class="line">            string NAME p &quot;%s%s&quot; BASE_PATH NAME</span><br><span class="line">          endif</span><br><span class="line">          putarray 5 y NAME</span><br><span class="line">          </span><br><span class="line">          get OFFSET long TOC_FILE5</span><br><span class="line">          savepos TMP_INDEX_OFF TOC_FILE5</span><br><span class="line">          if OFFSET != 0x80000000 &amp;&amp; OFFSET != 0x7FFFFFFF </span><br><span class="line">            xmath INDEX_OFF &quot;BASE_INDEX_OFF + OFFSET&quot;</span><br><span class="line">            goto INDEX_OFF TOC_FILE5</span><br><span class="line">            get FLAGS long TOC_FILE5</span><br><span class="line">            xmath HAS_SIZE &quot;FLAGS &amp; 0x3F&quot;  </span><br><span class="line">            xmath IS_64 &quot;FLAGS &gt;&gt; 28&quot;</span><br><span class="line">            if HAS_SIZE = 0x3F</span><br><span class="line">              get CHUNK_SIZE long TOC_FILE5</span><br><span class="line">            endif</span><br><span class="line">            if IS_64 = 0xE</span><br><span class="line">              get OFFSET long TOC_FILE5</span><br><span class="line">            else</span><br><span class="line">              get OFFSET longlong TOC_FILE5        </span><br><span class="line">            endif</span><br><span class="line">            math OFFSET ^ 0x1F1E1D1C</span><br><span class="line">          else </span><br><span class="line">            putarray 7 SKIP_COUNT NAME</span><br><span class="line">            math SKIP_COUNT + 1</span><br><span class="line">            string NAME = &quot;&quot;</span><br><span class="line">            putarray 5 y NAME</span><br><span class="line">          endif</span><br><span class="line">          putarray 6 y OFFSET</span><br><span class="line">          goto TMP_INDEX_OFF TOC_FILE5</span><br><span class="line">        next y</span><br><span class="line">        math NAME_FROM_ARRAY = 1</span><br><span class="line">        math CURR_NAME = 0</span><br><span class="line">        callfunction GET_NAME_AND_OFFSET 1</span><br><span class="line">      endif</span><br><span class="line">    endif</span><br><span class="line">  endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">startfunction COMPRESSION_TYPE</span><br><span class="line">  if COMP1 = &quot;&quot;</span><br><span class="line">    comtype zlib</span><br><span class="line">  endif</span><br><span class="line">  </span><br><span class="line">  if ZIP = 1 &amp;&amp; COMP1 = &quot;zlib&quot;</span><br><span class="line">    comtype zlib</span><br><span class="line">  elif ZIP = 1 &amp;&amp; COMP1 = &quot;zstd&quot;</span><br><span class="line">    comtype zstd</span><br><span class="line">  elif ZIP = 1 &amp;&amp; COMP1 = &quot;oodle&quot;</span><br><span class="line">    comtype oodle</span><br><span class="line">  elif ZIP = 1 &amp;&amp; COMP1 = &quot;lz4&quot;</span><br><span class="line">    comtype lz4</span><br><span class="line">  elif ZIP = 1 &amp;&amp; COMP1 = &quot;gzip&quot;</span><br><span class="line">    comtype gzip</span><br><span class="line">  elif ZIP = 2 &amp;&amp; COMP2 = &quot;zlib&quot;</span><br><span class="line">    comtype zlib</span><br><span class="line">  elif ZIP = 2 &amp;&amp; COMP2 = &quot;zstd&quot;</span><br><span class="line">    comtype zstd</span><br><span class="line">  elif ZIP = 2 &amp;&amp; COMP2 = &quot;oodle&quot;</span><br><span class="line">    comtype oodle</span><br><span class="line">  elif ZIP = 2 &amp;&amp; COMP2 = &quot;lz4&quot;</span><br><span class="line">    comtype lz4</span><br><span class="line">  elif ZIP = 2 &amp;&amp; COMP2 = &quot;gzip&quot;</span><br><span class="line">    comtype gzip</span><br><span class="line">  elif ZIP = 3 || ZIP = 4 || ZIP = 0x10 # 3 - Faith of Danschant, 4 - Days Gone, 10 - Ashen</span><br><span class="line">    comtype oodle</span><br><span class="line">    if WORKAROUND == 2</span><br><span class="line">      comtype lz4</span><br><span class="line">    endif</span><br><span class="line">  endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">startfunction QUICKBMS_4GB_CHECK</span><br><span class="line">    math TMP64 = 0x10000000</span><br><span class="line">    math TMP64 * 16</span><br><span class="line">    if TMP64 == 0</span><br><span class="line">        print &quot;You must use quickbms_4gb_files.exe with this script!&quot;</span><br><span class="line">        cleanexit</span><br><span class="line">    endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">startfunction CONVERT</span><br><span class="line">  get TMP_NAME basename</span><br><span class="line">  string TMP_NAME l TMP_NAME</span><br><span class="line">  encryption md5 TMP_NAME</span><br><span class="line">  encryption &quot;&quot; &quot;&quot;</span><br><span class="line">  set MEMORY_FILE binary QUICKBMS_HEXHASHL</span><br><span class="line">  </span><br><span class="line">  encryption aes AES_KEY &quot;&quot; 1 32</span><br><span class="line">  log MEMORY_FILE2 0 32 MEMORY_FILE</span><br><span class="line">  encryption &quot;&quot; &quot;&quot;</span><br><span class="line">  goto 0 MEMORY_FILE2</span><br><span class="line">  getdstring AES_KEY 32 MEMORY_FILE2</span><br><span class="line">endfunction</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Anime Image 3D Reconstruction</title>
      <link href="/3DReconstruction/Anime%20Image%203D%20Reconstruction/"/>
      <url>/3DReconstruction/Anime%20Image%203D%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<p>é‡å»ºåŠ¨æ¼«è§’è‰²æ¨¡å‹</p><blockquote><p><a href="https://charactergen.github.io/">CharacterGen: Efficient 3D Character Generation from Single Images</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240825220242.png" alt="image.png|666"></p><span id="more"></span><h1 id="ç›®å‰çš„ç”Ÿäº§æ–¹å¼-æ‰‹åŠ-æ¨¡å‹"><a href="#ç›®å‰çš„ç”Ÿäº§æ–¹å¼-æ‰‹åŠ-æ¨¡å‹" class="headerlink" title="ç›®å‰çš„ç”Ÿäº§æ–¹å¼(æ‰‹åŠ/æ¨¡å‹)"></a>ç›®å‰çš„ç”Ÿäº§æ–¹å¼(æ‰‹åŠ/æ¨¡å‹)</h1><blockquote><p><a href="https://www.bilibili.com/video/BV1SJ411t7TK/?spm_id_from=333.999.0.0&amp;vd_source=1dba7493016a36a32b27a14ed2891088">å¥³æ­¦ç¥è„‰å†² è‘µæ¥æ – å»ºæ¨¡è¿‡ç¨‹</a></p></blockquote><p>å»ºç«‹æ•°å­—åŒ–3Dæ¨¡å‹(mesh)â€”&gt;<strong>æ¨¡å‹æ‹†ä»¶</strong></p><ul><li>è½¯ä»¶ï¼šBlender, ZBrush</li></ul><h2 id="3Dæ‰“å°-å°æ‰¹é‡ï¼Œæœªæ¥è¶‹åŠ¿"><a href="#3Dæ‰“å°-å°æ‰¹é‡ï¼Œæœªæ¥è¶‹åŠ¿" class="headerlink" title="3Dæ‰“å°(å°æ‰¹é‡ï¼Œæœªæ¥è¶‹åŠ¿)"></a>3Dæ‰“å°(å°æ‰¹é‡ï¼Œæœªæ¥è¶‹åŠ¿)</h2><blockquote><p><a href="https://www.bilibili.com/video/BV1AJ411a7q4/?spm_id_from=333.788.recommend_more_video.4&amp;vd_source=1dba7493016a36a32b27a14ed2891088">å¦‚ä½•æŠŠ3dæ¨¡å‹å˜æˆå®ç‰© è‘µæ¥æ –æ‰‹åŠæ‰“ç£¨ç¯‡_å“”å“©å“”å“©_bilibili</a></p></blockquote><p>ä½¿ç”¨3Dæ‰“å°å·¥è‰ºï¼Œè¿›è¡Œæ¨¡å‹æ‹†ä»¶è¦é™¤äº†ä¾¿äºç»„è£…å¤–ï¼Œè¿˜è¦æœ‰ä¸€å®šåšåº¦(3Dæ‰“å°çš„æ¨¡å‹å¿…é¡»è¦æœ‰è¶³å¤Ÿçš„åšåº¦)ï¼Œå¯ä»¥èåˆä½¿ç”¨ä¸€äº›å…¶ä»–çš„ç»„è£…ä»¶å¦‚é“œæŸ±ç­‰ï¼Œæ‹†ä»¶å®Œåï¼Œåœ¨3Dæ‰“å°æœºè½¯ä»¶ä¸­åšæ”¯æ’‘ï¼Œç„¶åè¿›è¡Œæ‰“å°(å…‰å›ºåŒ–æ ‘è„‚)</p><p><strong>æ•´ä½“æµç¨‹</strong>ï¼š<br>å»ºæ¨¡â€”&gt;æ‹†ä»¶â€”&gt;(åšæ”¯æ’‘)â€”&gt;3Dæ‰“å°â€”&gt;æ‰“ç£¨â€”&gt;ç»„è£…â€”&gt;ä¸Šè‰²(æ¶‚è£…)</p><ol><li>å»ºæ¨¡å¸ˆæ ¹æ®2Då›¾åƒè¿›è¡Œå»ºæ¨¡(éœ€è¦å¤§é‡ç»éªŒ) ==&gt; å¤šè§†å›¾ä¸‰ç»´é‡å»ºï¼Œä¸”æ ¹æ®2Dè™šæ‹Ÿå›¾åƒè¿›è¡Œé‡å»ºæ‰æœ‰æ„ä¹‰ï¼Œå¦‚stable diffusionç­‰æ–‡ç”Ÿå›¾AIç”Ÿæˆå‡ºæ¥çš„å›¾åƒ(å¯ä»¥åšåˆ°å¤šè§†å›¾)ï¼Œæˆ–è€…ç”»å¸ˆæ‰‹å·¥ç»˜åˆ¶çš„å›¾åƒ(å•è§†å›¾è¾ƒä¸ºæ–¹ä¾¿)ã€‚<em>éœ€è¦ä¿è¯åšå‡ºæ¥çš„æ¨¡å‹å…·æœ‰ä¸€å®šçš„ç¨³å®šæ€§ï¼Œä¸èƒ½ä¸€ç¢°å°±å€’ï¼Œè¦æ‰¾å¥½é‡å¿ƒ</em></li><li>æ‹†ä»¶ä¹Ÿéœ€è¦ä¸€å®šçš„ç»éªŒï¼Œå“ªé‡Œåšå‡¹é™·ï¼Œå“ªé‡Œè¿æ¥ç”¨é“œæŸ±ç­‰ç­‰é—®é¢˜éœ€è¦è€ƒè™‘</li><li>åšæ”¯æ’‘å¯ä»¥é˜²æ­¢é›¶ä»¶è¢«æ‚¬ç©ºæ‰“å°</li><li>3Dæ‰“å°æœ‰å¾ˆå¤šç§æ–¹å¼<strong>FDMå¸¸è§æˆæœ¬ä½</strong>ã€<strong>SLAæˆæœ¬é«˜ä½†ç²¾åº¦é«˜</strong>ã€SLSã€SLMã€‚æœªæ¥è¶‹åŠ¿å…¨å½©3Dæ‰“å°æœºï¼š<a href="https://www.bilibili.com/read/cv25588645/">2023å¹´5æ¬¾æœ€ä½³å…¨å½©3Dæ‰“å°æœº</a></li></ol><p>å±•æœ›ï¼š</p><ul><li><strong>ä½¿ç”¨å…¨å½©3Dæ‰“å°æœºä¸€ä½“åŒ–åœ°æ‰“å°æ¨¡å‹ï¼Œçœå»äº†æ‹†ä»¶ã€ç»„è£…ã€ä¸Šè‰²ç­‰æ­¥éª¤</strong>ï¼Œé€šè¿‡æ”¹è¿›è¿˜å¯ä»¥çœå»åšæ”¯æ’‘(æˆ–è€…è‡ªåŠ¨åšæ”¯æ’‘)</li><li>ä½¿ç”¨<strong>ä¸‰ç»´é‡å»º</strong>ç®—æ³•å¯ä»¥æ›´é«˜æ•ˆåœ°è·å–ä¸‰ç»´æ¨¡å‹ï¼Œä¸‰ç»´é‡å»ºç®—æ³•çš„æœ€é«˜å½¢æ€æ˜¯å¯ä»¥æ ¹æ®ç‰©ä½“å‡ å¼ å›¾ç‰‡ç”šè‡³ä¸€å¼ å›¾ç‰‡ï¼Œé‡å»ºå‡ºé«˜è´¨é‡çš„æ¨¡å‹ã€‚å›¾ç‰‡æ¥æºå¯ä»¥æ˜¯ç”»å¸ˆæ‰‹ç»˜çš„ä¸€å¼ å›¾ã€éšä¾¿æ‹çš„çœŸå®ç‰©ä½“ç…§ç‰‡ã€ç½‘ç«™ä¸Šçš„å„ç§ç‰©ä½“å›¾ç‰‡ç­‰ç­‰</li></ul><blockquote><p><a href="https://www.sailner.com/web/product/41/detail">èµ›çº³ä¸‰ç»´ J402PLUS</a> SLA ç«‹ä½“å…‰å›ºåŒ–æ‰“å°æœº<br><a href="https://www.chitubox.com/zh-Hans/academy/advanced/a-complete-guide-about-adding-supports-in-sladlplcd-3d-printing">SLA/DLP/LCD 3D æ‰“å°æ”¯æ’‘æ·»åŠ å…¨è§£</a></p></blockquote><h2 id="é’¢æ¨¡-æ³¨å¡‘-å¤§æ‰¹é‡"><a href="#é’¢æ¨¡-æ³¨å¡‘-å¤§æ‰¹é‡" class="headerlink" title="é’¢æ¨¡+æ³¨å¡‘(å¤§æ‰¹é‡)"></a>é’¢æ¨¡+æ³¨å¡‘(å¤§æ‰¹é‡)</h2><blockquote><p><a href="https://www.bilibili.com/video/BV1eJ411E7Et/?spm_id_from=333.337.search-card.all.click&amp;vd_source=1dba7493016a36a32b27a14ed2891088">æ‰‹åŠåˆ¶ä½œå·¥å‚å¤§æ­ç§˜!~æ¥çœ‹è‡ªå·±çš„è€å©†æ˜¯å¦‚ä½•è¯ç”Ÿçš„!!!</a></p></blockquote><p>ä½¿ç”¨é’¢æ¨¡+æ³¨å¡‘çš„è¯ï¼Œæ‹†ä»¶</p><p><strong>æ•´ä½“æµç¨‹</strong>ï¼š<br>å»ºæ¨¡â€”&gt;æ‹†ä»¶â€”&gt;å¼€æ¨¡(åšé’¢æ¨¡)â€”&gt;æ‰¹é‡æ³¨å¡‘â€”&gt;ç­›é€‰â€”&gt;æ‰“ç£¨â€”&gt;ä¸Šè‰²(æ‰‹å·¥+å–·æ¶‚)â€”&gt;åˆ†ä»¶åˆ†ç±»+ç»„è£…â€”&gt;é™¤å°˜+æ‰“åŒ…</p><h1 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h1><h2 id="æ‰‹åŠå›¾åƒç”Ÿæˆ"><a href="#æ‰‹åŠå›¾åƒç”Ÿæˆ" class="headerlink" title="æ‰‹åŠå›¾åƒç”Ÿæˆ"></a>æ‰‹åŠå›¾åƒç”Ÿæˆ</h2><blockquote><p><a href="https://civitai.com/models/400329?modelVersionId=675843">[PVC Style Model]Movable figure model Pony - Pony1.60 | Stable Diffusion Checkpoint | Civitai</a> Stable Diffusion PVC model</p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240824144446.png" alt="image.png|222"> </p><p>é€‰æ‹©PVCï¼Œå¤–æŒ‚VAEé€‰æ‹©None</p><ul><li>Prompt: <ul><li>(score_9, score_8_up, score_7_up), source anime, figure</li><li>surreal,amazing quality,masterpiece,best quality,awesome,inspiring,cinematic composition,soft shadows,Film grain,shallow depth of field,highly detailed,high budget,cinemascope,epic,color graded cinematic,atmospheric lighting,natural,figure,natural lighting,exqusite visual effect,delicate details</li></ul></li><li>Negative: <ul><li>engrish text, low quality, worst quality, score_4,score_3,score_2,score_1,ugly,bad feet, bad hands</li><li>lowres,(bad),text,error,fewer,extra,missing,worst quality,jpeg artifacts,low quality,watermark,unfinished,displeasing,oldest,early,chromatic aberration,artistic error,username,english text,scan,[abstract],</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">1.æ›´å€¾å‘äºPVCçš„èµ·å§‹æ ‡ç­¾ï¼ˆStarting tags that lean more towards PVCï¼‰ï¼š</span><br><span class="line">figure,natural lighting,exqusite visual effect,delicate details,fully body</span><br><span class="line"></span><br><span class="line">Negative prompt: </span><br><span class="line">NSFW, cleavage, breasts, bad image, worst dquality</span><br><span class="line"></span><br><span class="line">2.æ›´å€¾å‘äº2.5dçš„æ ‡ç­¾ï¼ˆTags that lean more towards 2.5dï¼‰ï¼š</span><br><span class="line"></span><br><span class="line">surreal,amazing quality,masterpiece,best quality,awesome,inspiring,cinematic composition,soft shadows,Film grain,shallow depth of field,highly detailed,high budget,cinemascope,epic,color graded cinematic,atmospheric lighting,natural,figure,natural lighting,exqusite visual effect,delicate details</span><br><span class="line"></span><br><span class="line">Negative promptï¼š</span><br><span class="line">lowres,(bad),text,error,fewer,extra,missing,worst quality,jpeg artifacts,low quality,watermark,unfinished,displeasing,oldest,early,chromatic aberration,artistic error,username,english text,scan,[abstract],</span><br><span class="line"></span><br><span class="line">Suggest drawing parameters</span><br><span class="line">sampler:</span><br><span class="line"></span><br><span class="line">Euler a: 30 steps</span><br><span class="line"></span><br><span class="line">hires.fix: 4x-ultrasharp ,</span><br><span class="line"></span><br><span class="line">High score iteration steps 10</span><br><span class="line"></span><br><span class="line">Redraw amplitude 0.3</span><br><span class="line"></span><br><span class="line">cfg scale: 7.0  </span><br><span class="line"></span><br><span class="line">Resolution of portrait charactersï¼š 768x1280 ï¼Œ1024x1024</span><br><span class="line"></span><br><span class="line">clip skip: 2</span><br><span class="line"></span><br><span class="line">Local map generation can be enabledï¼šADetailer</span><br></pre></td></tr></table></figure><p>ControlNet: </p><ul><li>Unit0 Cannyï¼Œ Pixel Perfectï¼ŒAllow Previewï¼ŒCannyï¼Œé¢„å¤„ç†å™¨é€‰cannyï¼ŒMy prompt is more important</li><li>Unit1 tilecolorfixï¼Œ Pixel Perfectï¼ŒAllow Previewï¼Œtilecolorfixï¼Œé¢„å¤„ç†å™¨é€‰tilecolorfixï¼ŒMy prompt is more important</li></ul><p>éš¾ç‚¹ï¼š</p><ul><li>ç°æœ‰çš„å›¾ç”Ÿå›¾æ¨¡å‹æ— æ³•æ ¹æ®æ‰‹ç»˜å›¾ç‰‡åˆç†çš„(ä¿ç•™åŸå§‹é£æ ¼)ç”Ÿæˆæ‰‹åŠ(PVC)é£æ ¼å›¾ç‰‡</li><li>å¿…é¡»è¦æœ‰é’ˆå¯¹Full Bodyçš„å¼ºæ§åˆ¶ </li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240824201522.png" alt="image.png|444"></p><h2 id="èƒŒæ™¯ç§»é™¤"><a href="#èƒŒæ™¯ç§»é™¤" class="headerlink" title="èƒŒæ™¯ç§»é™¤"></a>èƒŒæ™¯ç§»é™¤</h2><blockquote><p><a href="https://arxiv.org/pdf/2401.03407">Bilateral Reference for High-Resolution Dichotomous Image Segmentation | PDF</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240823152932.png" alt="image.png|666"></p><blockquote><p><a href="https://github.com/facebookresearch/segment-anything?tab=readme-ov-file">(SAM) facebookresearch/segment-anything: The repository provides code for running inference with the SegmentAnything Model</a><br><a href="https://github.com/facebookresearch/segment-anything-2?tab=readme-ov-file">(SAM 2) facebookresearch/segment-anything-2: The repository provides code for running inference with the Meta Segment Anything Model 2</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240824160034.png" alt="image.png|666"></p><h2 id="é¢å¤–å…ˆéªŒä¼°è®¡"><a href="#é¢å¤–å…ˆéªŒä¼°è®¡" class="headerlink" title="é¢å¤–å…ˆéªŒä¼°è®¡"></a>é¢å¤–å…ˆéªŒä¼°è®¡</h2><h3 id="Normal-Image"><a href="#Normal-Image" class="headerlink" title="Normal Image"></a>Normal Image</h3><blockquote><p><a href="https://github.com/Stable-X/StableNormal">Stable-X/StableNormal: StableNormal: Reducing Diffusion Variance for Stable and Sharp Normal</a></p></blockquote><h3 id="Depth-Image"><a href="#Depth-Image" class="headerlink" title="Depth Image"></a>Depth Image</h3><blockquote><p><a href="https://light.princeton.edu/publication/soap/">Shakes on a Plane: Unsupervised Depth Estimation from Unstabilized Photography â€“ Princeton Computing Imaging Lab</a> æ‰‹æŒå¾®æŠ–çš„å›¾åƒåºåˆ—</p><p><a href="https://gonzalomartingarcia.github.io/diffusion-e2e-ft/">Fine-Tuning Image-Conditional Diffusion Models is Easier than You Think</a>æ‰©æ•£æ¨¡å‹</p></blockquote><h2 id="ä¸€è‡´æ€§å¤šè§†å›¾ç”Ÿæˆ"><a href="#ä¸€è‡´æ€§å¤šè§†å›¾ç”Ÿæˆ" class="headerlink" title="ä¸€è‡´æ€§å¤šè§†å›¾ç”Ÿæˆ"></a>ä¸€è‡´æ€§å¤šè§†å›¾ç”Ÿæˆ</h2><blockquote><p><a href="https://aigc3d.github.io/VideoMV/">VideoMV</a></p></blockquote><p>ä¸è®­ç»ƒçš„è§†é¢‘ç”Ÿæˆæ¨¡å‹+ä½å§¿(å¾®è°ƒ)ç”Ÿæˆå¤šè§†å›¾å›¾åƒ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240823202814.png" alt="image.png|666"></p><blockquote><p><a href="https://kxhit.github.io/EscherNet">EscherNet: A Generative Model for Scalable View Synthesis</a></p></blockquote><p>å®ƒå¯ä»¥åœ¨å•ä¸ªæ¶ˆè´¹çº§ GPU ä¸ŠåŒæ—¶ç”Ÿæˆ 100 å¤šä¸ªä¸€è‡´çš„ç›®æ ‡è§†å›¾ï¼Œä»¥ä»»ä½•ç›¸æœºå§¿åŠ¿çš„ä»»æ„æ•°é‡çš„å‚è€ƒè§†å›¾ä¸ºæ¡ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240914150918.png" alt="image.png|666"></p><blockquote><p><a href="https://pku-yuangroup.github.io/Cycle3D/">Cycle3D: High-quality and Consistent Image-to-3D Generation via Generation-Reconstruction Cycle</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920110142.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920110225.png" alt="image.png|666"></p><h2 id="å¤šè§†å›¾ä¸‰ç»´é‡å»º"><a href="#å¤šè§†å›¾ä¸‰ç»´é‡å»º" class="headerlink" title="å¤šè§†å›¾ä¸‰ç»´é‡å»º"></a>å¤šè§†å›¾ä¸‰ç»´é‡å»º</h2><p>NeRF-based çš„ NeuS ç³»åˆ—<br>3DGS-based çš„ æ˜¾ç¤ºé«˜æ–¯ä½“ä¼˜åŒ–</p><h1 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h1><p>some github repo:</p><blockquote><p><a href="https://github.com/emanuelevivoli/awesome-comics-understanding">emanuelevivoli/aswesome-comics-understanding: The official repo of the Comics Survey: â€œA missing piece in Vision and Language: A Survey on Comics Understandingâ€</a></p></blockquote><h2 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h2><blockquote><p><a href="https://github.com/kangyeolk/AnimeCeleb?tab=readme-ov-file">kangyeolk/AnimeCeleb: Official implementation of â€œAnimeCeleb: Large-Scale Animation CelebHeads Dataset for Head Reenactmentâ€ (ECCV 2022)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/kangyeolk/AnimeCeleb/main/assets/teaser.png" alt="raw.githubusercontent.com/kangyeolk/AnimeCeleb/main/assets/teaser.png"></p><h2 id="PAniC-3D"><a href="#PAniC-3D" class="headerlink" title="PAniC-3D"></a>PAniC-3D</h2><blockquote><p><a href="https://github.com/shuhongchen/panic3d-anime-reconstruction">ShuhongChen/panic3d-anime-reconstruction: CVPR 2023: PAniC-3D Stylized Single-view 3D Reconstruction from Portraits of Anime Characters</a></p></blockquote><p>ç”¨å»é™¤çº¿æ¡åçš„2D imageè¿›è¡Œå»ºæ¨¡ï¼Œå¾—åˆ°3D radiance field</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806132746.png" alt="image.png"></p><h2 id="NOVA-3D"><a href="#NOVA-3D" class="headerlink" title="NOVA-3D"></a>NOVA-3D</h2><blockquote><p><a href="https://wanghongsheng01.github.io/NOVA-3D/">NOVA-3D: Non-overlapped Views for 3D Anime Character Reconstruction</a></p></blockquote><p>GANç½‘ç»œï¼Œä»Non-overlapped Views(Sparse-view)ä¸­é‡å»ºæ¨¡å‹</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240822174904.png" alt="image.png|666"></p><h2 id="CharacterGen"><a href="#CharacterGen" class="headerlink" title="CharacterGen"></a>CharacterGen</h2><blockquote><p><a href="https://charactergen.github.io/">CharacterGen: Efficient 3D Character Generation from Single Images</a></p></blockquote><ul><li>å¤šè§†å›¾å›¾åƒç”Ÿæˆï¼Œç”±äºç‰¹æ®Šå§¿åŠ¿çš„ä¸€è‡´æ€§å¤šè§†å›¾å¾ˆéš¾ï¼Œæœ¬æ–‡æå‡ºäº†å°†è¾“å…¥çš„å›¾åƒè½¬æ¢åˆ°canonical spaceä¸­</li><li>ä¸‰ç»´é‡å»ºï¼šåŸºäºNeRFå’ŒTransformerå‚è€ƒäº†<a href="https://yiconghong.me/LRM/">LRM: Large Reconstruction Model for Single Image to 3D</a><ul><li>åœ¨Objaverse datasetä¸Špre-trainï¼Œç„¶åå†æœ¬æ–‡æ•°æ®é›†Anime3Dä¸ŠFine-tuneï¼Œä¸ºäº†å¼•å…¥æ›´å¤šçš„äººä½“å…ˆéªŒ</li><li>ä¸ºäº†å¾—åˆ°è·Ÿå¥½çš„æ¨¡å‹ï¼Œä½¿ç”¨ Triplane <strong>SDF</strong> æ›¿æ¢å¯†åº¦åœº</li></ul></li><li>ç½‘ç»œæå–å’ŒUV mapè·å–ï¼Œå‚è€ƒäº†<a href="https://research.nvidia.com/labs/toronto-ai/DMTet/">Deep Marching Tetrahedra: a Hybrid Representation for High-Resolution 3D Shape Synthesis</a>ï¼Œä½†æ˜¯DMTetçš„UVå±•å¼€è¿‡ç¨‹ä¸­ä¼šæŸå¤±å¤–è§‚ä¿¡æ¯ã€‚æ­¤å¤–ï¼ŒUVçš„åˆ†è¾¨ç‡æ¯”ç›´æ¥æ¸²æŸ“çš„åˆ†è¾¨ç‡å¤§ï¼Œå¤šä¸ªtexelså¯èƒ½æŠ•å½±åˆ°ç›¸åŒçš„åƒç´ ä¸Šï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæœ¬æ–‡å°†å››ä¸ªè§†å›¾æŠ•å½±åˆ°UV mapä¸Š(<em>é€šè¿‡depth testæ¶ˆé™¤occluded texels</em>æ²¡ç†è§£)<ul><li>å•çº¯çš„å åŠ è¿˜ä¸è¡Œ(ä¼šå¯¼è‡´è§’è‰²èº«ä½“è½®å»“å‡ºç°å™ªå£°texels)ï¼Œæœ¬æ–‡ä½¿ç”¨ç›¸æœºæ–¹å‘å‘é‡ä¸normal texture mapä½œå†…ç§¯ï¼Œå†…ç§¯å¤§äº-0.2çš„texelsæŠ›å¼ƒæ‰</li><li>å¯¹äºoverlappingçš„texelsï¼Œé€‰æ‹©backæŠ•å½±åRGBæœ€æ¥è¿‘coarse textureçš„å€¼</li><li>æœ€åä½¿ç”¨Poisson Blendingå°†projected texelsä¸åŸå§‹texelsæ··åˆï¼Œä»¥å‡å°‘seams</li></ul></li><li>ä½¿ç”¨äº†<a href="https://arxiv.org/pdf/2011.03277">Modular Primitives for High-Performance Differentiable Rendering | PDF</a> NvDiffRastæ¸²æŸ“å™¨è¿›è¡Œé«˜æ•ˆå…‰æ …åŒ–</li></ul><p>texels(çº¹ç†å…ƒç´ ï¼Œçº¹ç´ )</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240822202233.png" alt="image.png|666"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240822202244.png" alt="image.png|666"></p><h2 id="CoNR"><a href="#CoNR" class="headerlink" title="CoNR"></a>CoNR</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/565391665">CoNRï¼šäºŒæ¬¡å…ƒè§†é¢‘ç”ŸæˆAIèƒŒåçš„æ•…äº‹ - çŸ¥ä¹</a> <strong>ä¸ç®—Reconstructionï¼Œå› ä¸ºæœ€ç»ˆç›®æ ‡ä¸æ˜¯æ¨¡å‹ï¼Œè€Œæ˜¯ç”¨æ¨¡å‹å¾—åˆ°çš„æ–°è§†å›¾å›¾åƒ</strong><br><a href="https://transpchan.github.io/live3d/">Collaborative Neural Rendering using Anime Character Sheets (CoNR)</a></p></blockquote><ul><li>ç½‘ç»œ1æ˜¯UDP Detectorï¼Œç›¸å½“äºç»™ä¸€å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥ç²—ç•¥ä¼°è®¡3Dæ¨¡å‹ (UDPæ£€æµ‹å™¨åæ¥æ³Šæ¾è¡¨é¢é‡å»ºç®—æ³•ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªç²—ç•¥ç°æ¨¡)ã€‚<ul><li>è¿™æ ·é™æ€çš„â€œå•å¼ â€3Dç°æ¨¡å¯ä»¥å˜æˆä¸€ä¸ªè¿åŠ¨çš„â€œåºåˆ—â€ã€‚(æ¯”å¦‚ï¼Œå¯ä»¥é€šè¿‡ç°æœ‰çš„è‡ªåŠ¨åŒ–ç»‘å®šæŠ€æœ¯ï¼ˆRigNetæˆ–åŸºäºæ¨¡æ¿çš„æ–¹æ³•ï¼‰æˆ–è€…å…¶ä»–ç½‘ä¸Šçš„åŠè‡ªåŠ¨ç»‘å®šå·¥å…·ï¼ˆæ¯”å¦‚Adobe Mixamoï¼‰å¾—åˆ°ä¸€ä¸ªå¯æ“ä½œçš„æ¨¡å‹ï¼Œç„¶åé€šè¿‡ç°æœ‰çš„åŸºäºç‰©ç†çš„ä»¿çœŸæŠ€æœ¯æˆ–åŸºäºè§†è§‰çš„åŠ¨ä½œæ•æ‰ï¼ˆå¦‚OpenPoseï¼ŒPosenetç­‰ï¼‰æ¥å¥—ç”¨å„ç§çœŸäººè§†é¢‘ä¸­åŠ¨ä½œç­‰ç­‰ã€‚)</li></ul></li><li>ç½‘ç»œ2æ˜¯CoNRï¼Œç›¸å½“äºä»æ‰‹ç»˜äººè®¾å›¾å’Œ3Dæ¨¡å‹ä¸Šè¿›è¡Œâ€œè½¬æâ€</li></ul><p>ç‰¹è‰²æ˜¯å¯ä»¥å¤„ç†å¼ æ•°è¾ƒå°‘çš„æ‰‹ç»˜çš„äºŒæ¬¡å…ƒäººç‰©ï¼ˆä¸åƒ3Dæ‰«æã€Nerfé‚£æ ·éœ€è¦è½¬å°å’Œä¸Šç™¾ä¸ªè§†è§’çš„å›¾åƒï¼‰ï¼Œå¹¶ä¸”è¾“å‡ºçš„ç»“æœæ˜¯äººç‰©åœ¨A-Poseä¸‹çš„ç°æ¨¡</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240822195911.png" alt="image.png|666"></p><h2 id="Toon3D"><a href="#Toon3D" class="headerlink" title="Toon3D"></a>Toon3D</h2><blockquote><p><a href="https://toon3d.studio/">Toon3D</a></p></blockquote><p>åŠ¨æ¼«ä¸­çš„ç¯å¢ƒåœºæ™¯ï¼ŒåŠ¨æ¼«ä¸­çš„æ‰‹ç»˜å›¾åƒæ²¡æœ‰3Dä¸€è‡´æ€§ï¼Œæœ¬æ–‡è‡´åŠ›è§£å†³è¿™ä¸€é—®é¢˜</p><p><img src="https://toon3d.studio/static/images/teaser.png" alt="teaser.png (1828Ã—464)"></p><p>æ•°æ®é›†ç”Ÿæˆ</p><ul><li>Marigold è¿›è¡Œæ·±åº¦ä¼°è®¡</li><li>SAM è¿›è¡Œmaskè·å–</li><li>è‡ªåˆ¶çš„Toon3D Labelerè¿›è¡Œ</li></ul><h2 id="Sketch-A-Shape"><a href="#Sketch-A-Shape" class="headerlink" title="Sketch-A-Shape"></a>Sketch-A-Shape</h2><blockquote><p><a href="https://arxiv.org/pdf/2307.03869">Sketch-A-Shape: Zero-Shot Sketch-to-3D Shape Generation</a></p></blockquote><p>ä»è‰å›¾ä¸­ç”Ÿæˆ3D shape (across voxel, implicit, and CAD representations and synthesize consistent 3D shapes)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241011110424.png" alt="image.png|666"></p><h2 id="ShapeFromSketches"><a href="#ShapeFromSketches" class="headerlink" title="ShapeFromSketches"></a>ShapeFromSketches</h2><p><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=8374559&amp;tag=1">3D Shape Reconstruction from Sketches via Multi-view Convolutional Networks:</a></p><p>å¾ˆç®€å•çš„æ€è·¯ï¼Œå°±æ˜¯ç›´æ¥è¾“å…¥sketches ç„¶åä½¿ç”¨å·ç§¯æ„å»ºå•ä¸ªç¼–ç å™¨å’Œä¸¤ä¸ªè§£ç å™¨ï¼Œç”Ÿæˆå¤šä¸ªè§†å›¾çš„depth å’Œ normal mapsï¼Œç„¶åå‡ºç‚¹äº‘</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241011141941.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Loss Functions</title>
      <link href="/Learn/Neural%20Network/Loss%20Functions/"/>
      <url>/Learn/Neural%20Network/Loss%20Functions/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://arxiv.org/pdf/2307.02694">Loss Functions and Metrics in Deep Learning</a> è¿™ç¯‡<strong>Review</strong>ä¸­æåˆ°çš„losså‡½æ•°æ¯”è¾ƒå…¨é¢</p></blockquote><p><strong>Loss Functions vs. Performance Metrics</strong><br><strong>æŸå¤±å‡½æ•°</strong>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç”¨äºä¼˜åŒ–æ¨¡å‹å‚æ•°ã€‚å®ƒè¡¡é‡çš„æ˜¯æ¨¡å‹é¢„æµ‹è¾“å‡ºä¸é¢„æœŸè¾“å‡ºä¹‹é—´çš„å·®å€¼ï¼Œè€Œè®­ç»ƒçš„ç›®æ ‡å°±æ˜¯å°½é‡å‡å°è¿™ä¸€å·®å€¼ã€‚(<strong>å¯å¾®</strong>)<br><strong>æ€§èƒ½æŒ‡æ ‡</strong>ç”¨äºè¯„ä¼°è®­ç»ƒåçš„æ¨¡å‹ã€‚å®ƒè¡¡é‡çš„æ˜¯æ¨¡å‹å¯¹æ–°æ•°æ®çš„æ³›åŒ–ç¨‹åº¦ä»¥åŠé¢„æµ‹çš„å‡†ç¡®æ€§ã€‚æ€§èƒ½æŒ‡æ ‡è¿˜å¯ä»¥å¯¹ä¸åŒçš„æ¨¡å‹æˆ–é…ç½®è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šæ€§èƒ½æœ€ä½³çš„æ¨¡å‹æˆ–é…ç½®ã€‚(<strong>ä¸éœ€è¦å¯å¾®</strong>)</p><span id="more"></span><h1 id="å¸¸ç”¨çš„loss"><a href="#å¸¸ç”¨çš„loss" class="headerlink" title="å¸¸ç”¨çš„loss"></a>å¸¸ç”¨çš„loss</h1><h2 id="L1-Loss-MAE-Mean-Absolute-Error"><a href="#L1-Loss-MAE-Mean-Absolute-Error" class="headerlink" title="L1 Loss(MAE, Mean Absolute Error)"></a>L1 Loss(MAE, Mean Absolute Error)</h2><script type="math/tex; mode=display">MAE =\sum_{i=1}^n|y_i-\hat{y_{i}}|</script><ul><li>$y_i$ä¸ºçœŸå®å€¼</li><li>$\hat{y_{i}}$ä¸ºé¢„æµ‹å€¼</li></ul><h2 id="L2-Loss-MSE-Mean-Squared-Error"><a href="#L2-Loss-MSE-Mean-Squared-Error" class="headerlink" title="L2 Loss(MSE, Mean Squared Error)"></a>L2 Loss(MSE, Mean Squared Error)</h2><script type="math/tex; mode=display">MSE=\sum_{i=1}^n(y_i-\hat{y_{i}})^2</script><h2 id="äº¤å¹¶æ¯”æŸå¤±-IoU-Intersection-over-Union"><a href="#äº¤å¹¶æ¯”æŸå¤±-IoU-Intersection-over-Union" class="headerlink" title="äº¤å¹¶æ¯”æŸå¤±(IoU, Intersection over Union)"></a>äº¤å¹¶æ¯”æŸå¤±(IoU, Intersection over Union)</h2><script type="math/tex; mode=display">IoU=\frac1n\sum_{i=1}^n\frac{y_i\cap\hat{y_i}}{y_i\cup\hat{y_i}}</script><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240522110145.png" alt="image.png|666"></p><h2 id="äº¤å‰ç†µæŸå¤±-Cross-Entropy-Loss"><a href="#äº¤å‰ç†µæŸå¤±-Cross-Entropy-Loss" class="headerlink" title="äº¤å‰ç†µæŸå¤±(Cross Entropy Loss)"></a>äº¤å‰ç†µæŸå¤±(Cross Entropy Loss)</h2><blockquote><p><a href="https://www.zhihu.com/tardis/zm/art/35709485?source_id=1003">æŸå¤±å‡½æ•°ï½œäº¤å‰ç†µæŸå¤±å‡½æ•°</a></p></blockquote><h3 id="äºŒåˆ†ç±»-BCE-Binary-Cross-Entropy-Loss"><a href="#äºŒåˆ†ç±»-BCE-Binary-Cross-Entropy-Loss" class="headerlink" title="äºŒåˆ†ç±»(BCE, Binary Cross-Entropy Loss)"></a>äºŒåˆ†ç±»(BCE, Binary Cross-Entropy Loss)</h3><script type="math/tex; mode=display">L=\frac{1}{N}\sum_{i}L_{i}=\frac{1}{N}\sum_{i}-[y_{i}\cdot log(p_{i})+(1-y_{i})\cdot log(1-p_{i})]</script><ul><li>$y_i$è¡¨ç¤ºæ ·æœ¬$i$çš„labelï¼Œæ­£ç±»ä¸º1ï¼Œè´Ÿç±»ä¸º0</li><li>$p_i$æ ·æœ¬$i$é¢„æµ‹ä¸ºæ­£ç±»çš„æ¦‚ç‡</li></ul><h3 id="å¤šåˆ†ç±»-CCE-Categorical-Cross-entropy-Loss"><a href="#å¤šåˆ†ç±»-CCE-Categorical-Cross-entropy-Loss" class="headerlink" title="å¤šåˆ†ç±»(CCE, Categorical Cross-entropy Loss)"></a>å¤šåˆ†ç±»(CCE, Categorical Cross-entropy Loss)</h3><script type="math/tex; mode=display">L=\frac{1}{N}\sum_iL_i=-\frac{1}{N}\sum_i\sum_{c=1}^My_{ic}\log(p_{ic})</script><hr><h1 id="Time-series-Loss"><a href="#Time-series-Loss" class="headerlink" title="Time series Loss"></a>Time series Loss</h1><h2 id="FFT-Loss"><a href="#FFT-Loss" class="headerlink" title="FFT Loss"></a>FFT Loss</h2><p>(Fast fourier transform and convolution algorithms)</p><p><a href="https://openreview.net/pdf?id=4h1apFjO99">DIFFUSION-TS: INTERPRETABLE DIFFUSION FOR GENERAL TIME SERIES GENERATION</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># target: batch_size, seq_length, feature_dim</span></span><br><span class="line"><span class="comment"># loss_fn is L1 loss or L2 loss</span></span><br><span class="line"></span><br><span class="line">train_loss = self.loss_fn(model_out, target, reduction=<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fft1 = torch.fft.fft(model_out.transpose(<span class="number">1</span>, <span class="number">2</span>), norm=<span class="string">&#x27;forward&#x27;</span>)</span><br><span class="line">fft2 = torch.fft.fft(target.transpose(<span class="number">1</span>, <span class="number">2</span>), norm=<span class="string">&#x27;forward&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fft1, fft2 = fft1.transpose(<span class="number">1</span>, <span class="number">2</span>), fft2.transpose(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">fourier_loss = self.loss_fn(torch.real(fft1), torch.real(fft2), reduction=<span class="string">&#x27;none&#x27;</span>)\</span><br><span class="line">               + self.loss_fn(torch.imag(fft1), torch.imag(fft2), reduction=<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">train_loss +=  self.ff_weight * fourier_loss</span><br></pre></td></tr></table></figure><h1 id="ä¸‰ç»´é‡å»º-Loss-Functions"><a href="#ä¸‰ç»´é‡å»º-Loss-Functions" class="headerlink" title="ä¸‰ç»´é‡å»º Loss Functions"></a>ä¸‰ç»´é‡å»º Loss Functions</h1><h2 id="Eikonal-loss"><a href="#Eikonal-loss" class="headerlink" title="Eikonal loss"></a>Eikonal loss</h2><blockquote><p><a href="https://arxiv.org/pdf/2002.10099">Implicit Geometric Regularization for Learning Shapes</a></p></blockquote><p>ç¡®ä¿SDFåœ¨ç©ºé—´ä¸­çš„æ¢¯åº¦å¤§å°ä¿æŒæ’å®šï¼Œè¿™æœ‰åŠ©äºä¿æŒSDFåœºçš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§</p><script type="math/tex; mode=display">\mathcal{L}_{r e g}=\frac{1}{n m}\sum_{k,i}(\|\nabla f(\hat{\mathbf{p}}_{k,i})\|_{2}-1)^{2}.</script><h2 id="RGB-Loss"><a href="#RGB-Loss" class="headerlink" title="RGB Loss"></a>RGB Loss</h2><p>L2 æŸå¤±ï¼š<code>F.mse_loss(pred_rgb, gt_rgb)</code> $L=\sum_{i=1}^n(y_i-f(x_i))^2$<br>L1 æŸå¤±ï¼š<code>F.l1_loss(pred_rgb, gt_rgb)</code>æ›´ç¨³å®šï¼Ÿ $L=\sum_{i=1}^n|y_i-f(x_i)|$</p><h2 id="Mask-Loss"><a href="#Mask-Loss" class="headerlink" title="Mask Loss"></a>Mask Loss</h2><p>$\mathcal{L}_{mask}=\mathrm{BCE}(M_k,\hat{O}_k)$</p><ul><li>$\hat{O}_k=\sum_{i=1}^n T_{k,i}\alpha_{k,i}$</li><li>$M_{k} âˆˆ {0, 1}$</li></ul><p>BCE äºŒå€¼äº¤å‰ç†µæŸå¤±ï¼šè®©è¾“å‡º$\hat{O}_k$å»é€¼è¿‘ label $M_{k}$</p><p>Spatial-BCE</p><blockquote><p>ä¸€ç§æ–°çš„ BCE loss<a href="https://zhuanlan.zhihu.com/p/593711934">ECCVâ€™22 ï½œ Spatial-BCE - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><h2 id="Opacity-Loss"><a href="#Opacity-Loss" class="headerlink" title="Opacity Loss"></a>Opacity Loss</h2><p><code>loss_opaque = -(opacity * torch.log(opacity) + (1 - opacity) * torch.log(1 - opacity)).mean()</code><br>$opaque = BCE(opaque,opaque) = -[opaque <em> ln(opaque) + (1-opaque) </em>ln(1-opaque)]$</p><p>ä½¿å¾— opacity æ›´åŠ æ¥è¿‘ 0 æˆ–è€… 1</p><h2 id="Sparsity-Loss"><a href="#Sparsity-Loss" class="headerlink" title="Sparsity Loss"></a>Sparsity Loss</h2><p><code>loss_sparsity = torch.exp(-self.conf.loss.sparsity_scale * out[&#39;sdf_samples&#39;].abs()).mean()</code><br>$sparsity = \frac{1}{N} \sum e^{-scale * sdf}$<br>è®© sdf çš„å¹³å‡å€¼æ›´å°ï¼Œå‰æ™¯ç‰©ä½“æ›´åŠ ç¨€ç–ï¼Œç‰©ä½“å†…çš„ç‚¹å¾€å¤–å‘æ•£</p><h2 id="Geo-Neus"><a href="#Geo-Neus" class="headerlink" title="Geo-Neus"></a>Geo-Neus</h2><ul><li>sdf loss<ul><li><code>sdf_loss = F.l1_loss(pts2sdf, torch.zeros_like(pts2sdf), reduction=&#39;sum&#39;) / pts2sdf.shape[0]</code></li><li>$\mathcal{L}_{sdf} = \frac{1}{N} \sum |sdf(spoint) - 0|$</li></ul></li></ul><h2 id="Other-loss"><a href="#Other-loss" class="headerlink" title="Other loss"></a>Other loss</h2><h3 id="åŠ å¼ºEikonalå¯¹SDFçš„ä¼˜åŒ–"><a href="#åŠ å¼ºEikonalå¯¹SDFçš„ä¼˜åŒ–" class="headerlink" title="åŠ å¼ºEikonalå¯¹SDFçš„ä¼˜åŒ–"></a>åŠ å¼ºEikonalå¯¹SDFçš„ä¼˜åŒ–</h3><p><a href="https://github.com/sunyx523/StEik">sunyx523/StEik (github.com)</a><br><a href="https://zhuanlan.zhihu.com/p/649921965">NeurIPS 2023 | ä¸‰ç»´é‡å»ºä¸­çš„Neural SDF(Neural Implicit Surface) - çŸ¥ä¹ (zhihu.com)</a><br>ä¸€ä¸ªå¥½çš„SDFå…¶å®åªéœ€è¦å…¶æ³•çº¿æ–¹å‘ä¸Šçš„äºŒé˜¶å¯¼æ•°ä¸º0ï¼Œå¦‚æœåœ¨åˆ‡çº¿æ–¹å‘ä¸Šçš„äºŒé˜¶å¯¼æ•°ä¸º0çš„è¯ï¼Œå¾—åˆ°çš„SDFè½®å»“ä¼šéå¸¸å¹³æ»‘ï¼Œä¸åˆ©äºå­¦ä¹ åˆ°ä¸€äº›ç»†èŠ‚ã€‚</p><p>$L_\text{L. n.}(u)=\int_{\Omega}|\nabla u(x)^TD^2u(x)\cdot\nabla u(x)|dx.$</p><h3 id="éšæœºç»“æ„ç›¸ä¼¼æ€§æŸå¤±-S3IM-Stochastic-Structural-SIMilarity-loss"><a href="#éšæœºç»“æ„ç›¸ä¼¼æ€§æŸå¤±-S3IM-Stochastic-Structural-SIMilarity-loss" class="headerlink" title="éšæœºç»“æ„ç›¸ä¼¼æ€§æŸå¤±(S3IM, Stochastic Structural SIMilarity loss)"></a>éšæœºç»“æ„ç›¸ä¼¼æ€§æŸå¤±(S3IM, Stochastic Structural SIMilarity loss)</h3><blockquote><p>Project Page <a href="https://madaoer.github.io/s3im_nerf/">S3IM Stochastic Structural SIMilarity and Its Unreasonable Effectiveness for Neural Fields</a><br>Paper <a href="https://arxiv.org/pdf/2308.07032">S3IM: Stochastic Structural SIMilarity and Its Unreasonable Effectiveness for Neural Fields</a></p></blockquote><script type="math/tex; mode=display">\begin{aligned}L_{\mathrm{S3IM}}(\Theta,\mathcal{R})=&1-\mathrm{S3IM}(\hat{\mathcal{R}},\mathcal{R})\\=&1-\frac1M\sum_{m=1}^M\mathrm{SSIM}(\mathcal{P}^{(m)}(\hat{\mathcal{C}}),\mathcal{P}^{(m)}(\mathcal{C})).\end{aligned}</script><h3 id="Smoothness-Loss"><a href="#Smoothness-Loss" class="headerlink" title="Smoothness Loss"></a>Smoothness Loss</h3><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230919194046.png" alt="image.png|666"></p><h3 id="å¯å­¦ä¹ å€’è§’è·ç¦»-LCN-Learnable-Chamfer-Distance"><a href="#å¯å­¦ä¹ å€’è§’è·ç¦»-LCN-Learnable-Chamfer-Distance" class="headerlink" title="å¯å­¦ä¹ å€’è§’è·ç¦»(LCN, Learnable Chamfer Distance)"></a>å¯å­¦ä¹ å€’è§’è·ç¦»(LCN, Learnable Chamfer Distance)</h3><blockquote><p><a href="https://arxiv.org/pdf/2312.16582">Learnable Chamfer Distance for Point Cloud Reconstruction</a></p></blockquote><script type="math/tex; mode=display">\begin{aligned}L_{R}(S_{i},S_{o})&=\frac12(\frac1{|S_i|}\sum_{x\in S_i}W_i\cdot\min_{y\in S_o}\|x-y\|_2\\&+\frac1{|S_o|}\sum_{x\in S_o}W_o\cdot\min_{y\in S_i}\|x-y\|_2).\end{aligned}</script><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç®€å•ä½†æœ‰æ•ˆçš„é‡å»ºæŸå¤±ï¼Œç§°ä¸ºå¯å­¦ä¹ å€’è§’è·ç¦»ï¼ˆLCDï¼‰ï¼Œé€šè¿‡åŠ¨æ€å…³æ³¨ç”±ä¸€ç»„å¯å­¦ä¹ ç½‘ç»œæ§åˆ¶çš„ä¸åŒæƒé‡åˆ†å¸ƒçš„åŒ¹é…è·ç¦»</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240104172937.png" alt="image.png|666"></p><h3 id="DirDist"><a href="#DirDist" class="headerlink" title="DirDist"></a>DirDist</h3><p><a href="https://arxiv.org/abs/2401.09736">[2401.09736] Measuring the Discrepancy between 3D Geometric Models using Directional Distance Fields (arxiv.org)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240122183451.png" alt="image.png|666"></p><hr><h1 id="ä¸‰ç»´é‡å»º-Performance-Metrics"><a href="#ä¸‰ç»´é‡å»º-Performance-Metrics" class="headerlink" title="ä¸‰ç»´é‡å»º Performance Metrics"></a>ä¸‰ç»´é‡å»º Performance Metrics</h1><h2 id="å€’è§’è·ç¦»-CDâ†“-Chamfer-Distance"><a href="#å€’è§’è·ç¦»-CDâ†“-Chamfer-Distance" class="headerlink" title="å€’è§’è·ç¦»(CDâ†“, Chamfer Distance)"></a>å€’è§’è·ç¦»(CDâ†“, Chamfer Distance)</h2><blockquote><p><a href="https://github.com/jzhangbs/DTUeval-python">jzhangbs/DTUeval-python: A fast python implementation of DTU MVS 2014 evaluation (github.com)</a></p></blockquote><p>ç‚¹äº‘æˆ– mesh é‡å»ºæ¨¡å‹è¯„ä¼°æŒ‡æ ‡ï¼Œå®ƒåº¦é‡ä¸¤ä¸ªç‚¹é›†ä¹‹é—´çš„è·ç¦»ï¼Œå…¶ä¸­ä¸€ä¸ªç‚¹é›†æ˜¯å‚è€ƒç‚¹é›†ï¼Œå¦ä¸€ä¸ªç‚¹é›†æ˜¯å¾…è¯„ä¼°ç‚¹é›†</p><script type="math/tex; mode=display">d_{\mathrm{CD}}(S_1,S_2)=\frac{1}{S_1}\sum_{x\in S_1}\min_{y\in S_2}\lVert x-y\rVert_2^2+\frac{1}{S_2}\sum_{y\in S_2}\min_{x\in S_1}\lVert y-x\rVert_2^2</script><ul><li>$S_{1}$ å’Œ $S_{2}$ åˆ†åˆ«è¡¨ç¤ºä¸¤ç»„ 3D ç‚¹äº‘ï¼Œç¬¬ä¸€é¡¹ä»£è¡¨ $S_{1}$ ä¸­ä»»æ„ä¸€ç‚¹ x åˆ° $S_{2}$ çš„æœ€å°è·ç¦»ä¹‹å’Œï¼Œç¬¬äºŒé¡¹åˆ™è¡¨ç¤º $S_{2}$ ä¸­ä»»æ„ä¸€ç‚¹ y åˆ° $S_{1}$ çš„æœ€å°è·ç¦»ä¹‹å’Œã€‚</li></ul><p>å¦‚æœè¯¥è·ç¦»è¾ƒå¤§ï¼Œåˆ™è¯´æ˜ä¸¤ç»„ç‚¹äº‘åŒºåˆ«è¾ƒå¤§ï¼›å¦‚æœè·ç¦»è¾ƒå°ï¼Œåˆ™è¯´æ˜é‡å»ºæ•ˆæœè¾ƒå¥½ã€‚</p><p>$\begin{aligned}\mathcal{L}_{CD}&amp;=\sum_{yâ€™\in Yâ€™}min_{y\in Y}||yâ€™-y||_2^2+\sum_{y\in Y}min_{yâ€™\in Yâ€™}||y-yâ€™||_2^2,\end{aligned}$</p><h2 id="PSNRâ†‘"><a href="#PSNRâ†‘" class="headerlink" title="PSNRâ†‘"></a>PSNRâ†‘</h2><p>å³°å€¼ä¿¡å™ªæ¯” Peak Signal to Noise Ratio<br>PSNR æ˜¯ä¸€ä¸ªæ— å‚è€ƒçš„è´¨é‡è¯„ä¼°æŒ‡æ ‡<br>$PSNR(I)=10\cdot\log_{10}(\dfrac{MAX(I)^2}{MSE(I)})$<br>$MSE=\frac1{mn}\sum_{i=0}^{m-1}\sum_{j=0}^{n-1}[I(i,j)-K(i,j)]^2$<br>$MAX(I)^{2}$ï¼ˆåŠ¨æ€èŒƒå›´å¯èƒ½çš„æœ€å¤§åƒç´ å€¼ï¼Œb ä½ï¼š$2^{b}-1$ï¼‰ï¼Œeg: 8 ä½å›¾åƒåˆ™$MAX(I)^{2} = 255$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Neus</span></span><br><span class="line">psnr = <span class="number">20.0</span> * torch.log10(<span class="number">1.0</span> / (((color_fine - true_rgb)**<span class="number">2</span> * mask).<span class="built_in">sum</span>() / (mask_sum * <span class="number">3.0</span>)).sqrt())</span><br><span class="line"></span><br><span class="line"><span class="comment"># instant-nsr-pl</span></span><br><span class="line">psnr = -<span class="number">10.</span> * torch.log10(torch.mean((pred_rgb.to(gt_rgb)-gt_rgb)**<span class="number">2</span>))</span><br></pre></td></tr></table></figure><h2 id="SSIMâ†‘"><a href="#SSIMâ†‘" class="headerlink" title="SSIMâ†‘"></a>SSIMâ†‘</h2><p><a href="https://github.com/VainF/pytorch-msssim">VainF/pytorch-msssim: Fast and differentiable MS-SSIM and SSIM for pytorch. (github.com)</a></p><p>ç»“æ„ç›¸ä¼¼æ€§ Structural Similarity Index Measure<br>SSIM æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‚è€ƒè´¨é‡è¯„ä¼°æŒ‡æ ‡ã€‚<br>$SSIM(x,y)=\dfrac{(2\mu_x\mu_y+C_1)(2\sigma_{xy}+C_2)}{(\mu_x^2+\mu_y^2+C_1)(\sigma_x^2+\sigma_y^2+C_2)}$<br>è¡¡é‡äº†ä¸¤å¼ å›¾ç‰‡ä¹‹é—´ç›¸ä¼¼åº¦ï¼š($C_1,C_2$ä¸ºå¸¸æ•°é˜²æ­¢é™¤ä»¥ 0)</p><p>$S(x,y)=l(x,y)^{\alpha}\cdot c(x,y)^{\beta}\cdot s(x,y)^{\gamma}$</p><p>$C_1=(K_1L)^2,C_2=(K_2L)^2,C_3=C_2/2$<br>$K_{1}= 0.01 , K_{2} = 0.03 , L = 2^{b}-1$</p><ul><li>äº®åº¦ï¼Œå›¾åƒ x ä¸å›¾åƒ y äº®åº¦ $l(x,y) =\frac{2\mu_x\mu_y+C_1}{\mu_x^2+\mu_y^2+C_1}$<ul><li>$\mu_{x} =\frac1N\sum_{i=1}^Nx_i$åƒç´ å‡å€¼<ul><li>$x_i$åƒç´ å€¼ï¼ŒN æ€»åƒç´ æ•°</li></ul></li><li>å½“ x ä¸ y ç›¸åŒæ—¶ï¼Œ$l(x,y) = 1$</li></ul></li><li>å¯¹æ¯”åº¦ï¼Œ$c(x,y)=\frac{2\sigma_x\sigma_y+C_2}{\sigma_x^2+\sigma_y^2+C_2}$<ul><li>å›¾åƒæ ‡å‡†å·®$\sigma_x=(\frac1{N-1}\sum_{i=1}^N(x_i-\mu_x)^2)^{\frac12}$</li></ul></li><li>ç»“æ„å¯¹æ¯”ï¼Œ$s(x,y)=\frac{\sigma_{xy}+C_3}{\sigma_x\sigma_y+C_3}$ - å›¾åƒçš„åæ–¹å·®$\sigma_{xy}=\frac1{N-1}\sum_{i=1}^N(x_i-\mu_x)(y_i-\mu_y)$<br>å®é™…ä½¿ç”¨ä¸­(åœ†å¯¹ç§°é«˜æ–¯åŠ æƒå…¬å¼)ï¼Œä½¿ç”¨ä¸€ä¸ªé«˜æ–¯æ ¸å¯¹å±€éƒ¨åƒç´ æ±‚ SSIMï¼Œæœ€åå¯¹æ‰€æœ‰çš„å±€éƒ¨ SSIM æ±‚å¹³å‡å¾—åˆ° MSSIM</li></ul><p>ä½¿ç”¨é«˜æ–¯æ ¸ï¼Œå‡å€¼ã€æ ‡å‡†å·®å’Œåæ–¹å·®å˜ä¸ºï¼š<br>$\mu_{x}=\sum_{i}w_{i}x_{i}$<br>$\sigma_{x}=(\sum_{i}w_{i}(x_{i}-\mu_{x})^{2})^{1/2}$<br>$\sigma_{xy}=\sum_{i}w_{i}(x_{i}-\mu_{x})(y_{i}-\mu_{y})$</p><h2 id="å­¦ä¹ æ„ŸçŸ¥å›¾åƒå—ç›¸ä¼¼åº¦-LPIPSâ†“-Learned-Perceptual-Image-Patch-Similarity"><a href="#å­¦ä¹ æ„ŸçŸ¥å›¾åƒå—ç›¸ä¼¼åº¦-LPIPSâ†“-Learned-Perceptual-Image-Patch-Similarity" class="headerlink" title="å­¦ä¹ æ„ŸçŸ¥å›¾åƒå—ç›¸ä¼¼åº¦(LPIPSâ†“, Learned Perceptual Image Patch Similarity)"></a>å­¦ä¹ æ„ŸçŸ¥å›¾åƒå—ç›¸ä¼¼åº¦(LPIPSâ†“, Learned Perceptual Image Patch Similarity)</h2><blockquote><p><a href="https://arxiv.org/pdf/1801.03924">The Unreasonable Effectiveness of Deep Features as a Perceptual Metric</a></p></blockquote><p><strong>LPIPS æ¯”ä¼ ç»Ÿæ–¹æ³•ï¼ˆæ¯”å¦‚ L2/PSNR, SSIM, FSIMï¼‰æ›´ç¬¦åˆäººç±»çš„æ„ŸçŸ¥æƒ…å†µ</strong>ã€‚<strong>LPIPS çš„å€¼è¶Šä½è¡¨ç¤ºä¸¤å¼ å›¾åƒè¶Šç›¸ä¼¼ï¼Œåä¹‹ï¼Œåˆ™å·®å¼‚è¶Šå¤§ã€‚</strong>ã€‚LPIPS æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‚è€ƒè´¨é‡è¯„ä¼°æŒ‡æ ‡ï¼Œå®ƒä½¿ç”¨äº†å­¦ä¹ çš„å·ç§¯ç‰¹å¾ã€‚åˆ†æ•°æ˜¯ç”±å¤šå±‚ç‰¹å¾æ˜ å°„çš„åŠ æƒåƒç´ çº§ MSE ç»™å‡ºçš„ã€‚</p><script type="math/tex; mode=display">LPIPS(x,y)=\sum\limits_{l}^{L}\dfrac{1}{H_lW_l}\sum\limits_{h,w}^{H_l,W_l}||w_l\odot(x^l_{hw}-y^l_{hw})||^2_2</script><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230801170138.png" alt="image.png|666"></p><h2 id="å¹³å‡ç‚¹åˆ°é¢è·ç¦»-P2Sâ†“-average-point-to-surface-distance"><a href="#å¹³å‡ç‚¹åˆ°é¢è·ç¦»-P2Sâ†“-average-point-to-surface-distance" class="headerlink" title="å¹³å‡ç‚¹åˆ°é¢è·ç¦»(P2Sâ†“, average point-to-surface distance)"></a>å¹³å‡ç‚¹åˆ°é¢è·ç¦»(P2Sâ†“, average point-to-surface distance)</h2><blockquote><p><a href="https://arxiv.org/pdf/2112.09127">ICON: Implicit Clothed humans Obtained from Normals</a></p></blockquote><p><strong>P2Sè·ç¦»ï¼š</strong> æ˜¯CDçš„å•å‘ç‰ˆæœ¬ã€‚(CAPEæ•°æ®é›†scanåŒ…å«å¤§çš„ç©ºæ´ï¼Œä¸ºäº†æ’é™¤å­”æ´å½±å“ï¼ŒICONè®ºæ–‡è®°å½•scanç‚¹åˆ°æœ€è¿‘é‡æ„è¡¨é¢ç‚¹ä¹‹é—´è·ç¦»)</p><h2 id="Normalâ†“"><a href="#Normalâ†“" class="headerlink" title="Normalâ†“"></a>Normalâ†“</h2><p>average surface normal errorå¹³å‡è¡¨é¢æ³•å‘æŸå¤±</p><p><strong>Normal difference:</strong> è¡¨ç¤ºä½¿ç”¨é‡æ„çš„åŠçœŸå€¼surfaceåˆ†åˆ«è¿›è¡Œæ¸²æŸ“normalå›¾ç‰‡ï¼Œè®¡ç®—ä¸¤è€…ä¹‹é—´L2è·ç¦»ï¼Œç”¨äºæ•è·é«˜é¢‘å‡ ä½•ç»†èŠ‚è¯¯å·®ã€‚<br>For both reconstructed and ground truth surfaces, we <strong>render their normal maps</strong> in the image space from the input viewpoint respectively. We then <strong>calculate the L2 error</strong> between these two normal maps.</p><h2 id="IoUâ†‘"><a href="#IoUâ†‘" class="headerlink" title="IoUâ†‘"></a>IoUâ†‘</h2><p>Intersection over Union(IoU)äº¤å¹¶æ¯”<br>åœ¨ç›®æ ‡æ£€æµ‹ä¸­ç”¨åˆ°çš„æŒ‡æ ‡$IOU = \frac{A \cap B}{A \cup B}$<br>ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªæ¯”å€¼ ï¼ 0.5 å°±å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªä¸é”™çš„ç»“æœäº†ã€‚</p><ul><li>A: GT bounding box</li><li>B: Predicted bounding box</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231010101549.png" alt="image.png|333"></p><h2 id="æ¨åœŸè·ç¦»-EMDâ†“-Earth-Moverâ€™s-distance"><a href="#æ¨åœŸè·ç¦»-EMDâ†“-Earth-Moverâ€™s-distance" class="headerlink" title="æ¨åœŸè·ç¦»(EMDâ†“, Earth Moverâ€™s distance)"></a>æ¨åœŸè·ç¦»(EMDâ†“, Earth Moverâ€™s distance)</h2><blockquote><p><a href="https://arxiv.org/abs/2102.12833">[2102.12833] Diffusion Earth Moverâ€™s Distance and Distribution Embeddings</a><br><a href="https://zhuanlan.zhihu.com/p/145739750">EMD(earth moverâ€™s distances)è·ç¦» - çŸ¥ä¹ (zhihu.com)</a><br><a href="https://github.com/facebookresearch/pytorch3d/issues/211">Earth Moverâ€™s Distance (EMD) loss Â· Issue #211 Â· facebookresearch/pytorch3d</a><br><strong>EMDæŒ‡æ ‡å¯ä»¥ç”¨æ¥è¯„ä»·ç»“æœï¼Œä½†æ˜¯æ— æ³•ç”¨ä½œæŸå¤±loss</strong>ï¼Œå·²æœ‰çš„loss_EDæ— æ³•ç”¨äºä¸­å‹è§„æ¨¡ä»¥ä¸Šçš„ç‚¹äº‘ä¸­</p></blockquote><p>åº¦é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»ï¼Œ$\phi$ indicates a parameter of bijection.</p><script type="math/tex; mode=display">d_{EMD}(S_1,S_2)=\min_{\phi:S_1\to S_2}\sum_{x\in S_1}\|x-\phi(x)\|_2</script><p>$\mathcal{L}_{EMD}=min_{\phi:Y\rightarrow Y^{\prime}}\sum_{x\in Y}||x-\phi(x)||_{2}$ , Ï† indicates a parameter of bijection.</p><h2 id="Accuracyã€Precisionã€Recall-amp-F-score"><a href="#Accuracyã€Precisionã€Recall-amp-F-score" class="headerlink" title="Accuracyã€Precisionã€Recall &amp; F-score"></a>Accuracyã€Precisionã€Recall &amp; F-score</h2><p><a href="https://www.zhihu.com/question/19645541/answer/379024071">å¦‚ä½•è§£é‡Šå¬å›ç‡ä¸ç²¾ç¡®ç‡ï¼Ÿ - æœæš¾çš„å›ç­” - çŸ¥ä¹</a><br><a href="https://zhuanlan.zhihu.com/p/364253497">æœºå™¨å­¦ä¹ çš„è¯„ä»·æŒ‡æ ‡ï¼ˆä¸€ï¼‰ï¼šAccuracyã€Precisionã€Recallã€F1 Score - çŸ¥ä¹ (zhihu.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240124100320.png" alt="image.png|666"></p><h3 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy"></a>Accuracy</h3><p>é¢„æµ‹æ­£ç¡®çš„æ ·æœ¬æ•°Ã·æ ·æœ¬æ•°æ€»æ•°<br>$accuracy=\frac{TP+TN}{TP+TN+FP+FN}$</p><h3 id="Precision"><a href="#Precision" class="headerlink" title="Precision"></a>Precision</h3><p>ç²¾ç¡®ç‡æ˜¯<strong>é’ˆå¯¹æˆ‘ä»¬é¢„æµ‹ç»“æœè€Œè¨€çš„</strong>ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯<strong>é¢„æµ‹ä¸ºæ­£çš„æ ·æœ¬ä¸­æœ‰å¤šå°‘æ˜¯çœŸæ­£çš„æ­£æ ·æœ¬</strong>ã€‚<br>$precision=\frac{TP}{TP+FP}$</p><h3 id="Recall"><a href="#Recall" class="headerlink" title="Recall"></a>Recall</h3><p>å¬å›ç‡æ˜¯<strong>é’ˆå¯¹æˆ‘ä»¬åŸæ¥çš„æ ·æœ¬è€Œè¨€çš„</strong>ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯<strong>åŸæ¥æ ·æœ¬ä¸­çš„æ­£ä¾‹æœ‰å¤šå°‘è¢«é¢„æµ‹æ­£ç¡®</strong>äº†ï¼Œä¹Ÿå³ çœŸå®å‡†ç¡®çš„æ­£é¢„æµ‹åœ¨åŸæ¥æ ·æœ¬çš„æ­£ä¾‹ä¸­æ‰€å çš„ç™¾åˆ†æ¯”ã€‚<br>$recall=sensitivity=\frac{TP}{TP+FN}$</p><h3 id="F-score"><a href="#F-score" class="headerlink" title="F-score"></a>F-score</h3><p>F-Measureæ˜¯Precisionå’ŒRecallçš„åŠ æƒè°ƒå’Œå¹³å‡<br>$F=\frac{(a^2+1)<em>precision</em>recall}{a^2*precision+recall}$</p><p>å½“å‚æ•°Î±=1æ—¶ï¼Œå°±æ˜¯æœ€å¸¸è§çš„F1ï¼Œä¹Ÿå³$F1=\frac{2<em>precision</em>recall}{precision+recall}$</p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Multi-view 3D Reconstruction based on SDF and volume rendering</title>
      <link href="/3DReconstruction/Multi-view/NeuS-based%203D%20Reconstruction/"/>
      <url>/3DReconstruction/Multi-view/NeuS-based%203D%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<ul><li><strong>Accuracy</strong> é‡å»ºçš„æ¨¡å‹ç²¾åº¦ä¸å¥½ï¼Œå½±å“å› ç´ ï¼š<ul><li>æ•°æ®é›†è´¨é‡ï¼šç…§ç‰‡æ‹æ‘„è´¨é‡(è®¾å¤‡)ã€ç›¸æœºä½å§¿ä¼°è®¡ç²¾åº¦(COLMAP)<ul><li>ç…§ç‰‡è´¨é‡é—®é¢˜ï¼šæ··å ã€æ¨¡ç³Šã€æ»šåŠ¨å¿«é—¨ (RS) æ•ˆåº”ã€HDR/LDRã€è¿åŠ¨æ¨¡ç³Šã€ä½å…‰ç…§</li><li>ç›¸æœºä½å§¿è¯¯å·®ï¼šSFMä½å§¿ä¼°è®¡æ—¶çš„è¯¯å·®</li></ul></li><li>NeuSæ–¹æ³•çš„é—®é¢˜ï¼šä½“æ¸²æŸ“å…¬å¼çš„è¿‡åº¦ç®€åŒ–ã€è¡¨é¢å‡ ä½•ä¸é¢œè‰²çš„åå·®ã€ç¼ºå°‘å‡ ä½•çº¦æŸ(<em>æ·±åº¦oræ³•å‘é‡</em>)</li><li>ç½‘æ ¼æå–æ–¹æ³•(Marching Cube)ï¼šåˆ†è¾¨ç‡å¤ªä½</li></ul></li><li><strong>Efficiency</strong> è®­ç»ƒ/æ¸²æŸ“çš„é€Ÿåº¦å¤ªæ…¢ï¼Œå½±å“å› ç´ ï¼š<ul><li>MLPè®¡ç®—æ¬¡æ•°å¤š â€”&gt; MIMO MLPã€NGP-RTã€</li><li>MLPå±‚æ•°å¤šè®¡ç®—æ…¢â€”&gt; InstantNGP</li></ul></li></ul><span id="more"></span><p><em>Other link about 3D Reconstruction: (need to add â€œ ../ â€œ in obsidian)</em></p><ul><li><a href="../../Paper%20About%203D%20Reconstruction">Paper About 3D Reconstruction</a> <a href="Implicit%20Function/NeRF-based/NeRF%20Other%20Research/NeRF-review.md">NeRF-review</a><ul><li><a href="../../Finite%20Element%20Model%203D%20Reconstruction">Finite Element Model 3D Reconstruction</a> ä¸‰ç»´é‡å»ºå‡ºæœ‰é™å…ƒæ¨¡å‹ (åŒ»å­¦é¢†åŸŸè¾ƒå¤šç ”ç©¶, å·¥ä¸šé¢†åŸŸç›®å‰ç ”ç©¶æ¯”è¾ƒå°‘âœŠ)</li><li><a href="../../Anime%20Image%203D%20Reconstruction">Anime Image 3D Reconstruction</a> æ ¹æ®åŠ¨æ¼«å›¾åƒé‡å»ºä¸‰ç»´æ¨¡å‹ (ç»“åˆ3Då½©è‰²æ‰“å°å®ç°æ‰‹åŠè‡ªç”±ğŸ˜Š)</li><li><a href="Multi-view%20Human%20Body%20Reconstruction">Multi-view Human Body Reconstruction</a> é‡å»ºä¸‰ç»´äººä½“æ¨¡å‹ (æ•°å­—äººç›´æ’­, çœŸäººæ‰‹åŠğŸ˜Š)</li></ul></li><li><a href="../../Basics%20about%203D%20Reconstruction">Basics about 3D Reconstruction</a></li><li><a href="../../Datasets">Datasets</a></li><li><a href="Code%20of%20Multi-view%203D%20Reconstruction%20based%20on%20SDF%20and%20volume%20rendering">Code of Multi-view 3D Reconstruction based on SDF and volume rendering</a> ä¸€äº›ç¯å¢ƒé…ç½®è®°å½•</li></ul><p><a href="../../Blog&amp;Book&amp;Paper/Write/Write%20Paper/3D%20Reconstruction/Master%20Paper(3DReconstruction">Master Paper(3DReconstruction)</a>) ç¡•è®ºæ€è·¯ï¼Œæ‰“ç®—æ²¿ç€NeuSçš„è·¯çº¿è¿›è¡Œç›¸å…³æ”¹è¿›</p><p><strong>å¤šè§†å›¾ä¸‰ç»´é‡å»ºæ–¹æ³•çš„å…³é”®åœ¨äº</strong>:</p><ol><li>å¦‚ä½•è¡¨ç¤º3D model: mesh, voxel, pointcloud, RGBD, occupancy function,  Implicit Density Field, SDF or Other Primitive(é«˜æ–¯ä½“, æ¤­åœ†ä½“, çƒ)</li><li>å¦‚ä½•å°†3D model å¯å¾®åœ°æ¸²æŸ“æˆ2Då›¾åƒ: Volume Rendering or Rasterization?</li></ol><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241010195323.png" alt="image.png|555"></p><div class="table-container"><table><thead><tr><th>Method</th><th>3D represent</th><th>Rendering method</th></tr></thead><tbody><tr><td>NeRF</td><td>Implicit Density Field (MLP)</td><td>Volume Rendering</td></tr><tr><td><strong>NeuS</strong></td><td>Implicit SDF (MLP)</td><td>Volume Rendering</td></tr><tr><td>3DGS</td><td>é«˜æ–¯ä½“<br>å½¢çŠ¶/æ–¹å‘â€”â€”ä¸­å¿ƒç‚¹+åæ–¹å·® <br>é¢œè‰²â€”â€”çƒè°å‡½æ•°, ä¸é€æ˜åº¦</td><td>Splatting (Rasterization)</td></tr><tr><td>EVER</td><td>æ¤­åœ†ä½“</td><td>Volume Rendering</td></tr></tbody></table></div><h1 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy"></a>Accuracy</h1><h2 id="Camera-Pose-Estimation"><a href="#Camera-Pose-Estimation" class="headerlink" title="Camera Pose Estimation"></a>Camera Pose Estimation</h2><h2 id="3D-Point-Sampling"><a href="#3D-Point-Sampling" class="headerlink" title="3D Point Sampling"></a>3D Point Sampling</h2><h3 id="NerfAcc"><a href="#NerfAcc" class="headerlink" title="NerfAcc"></a>NerfAcc</h3><p>NerfAccï¼šå æ®+é€†å˜æ¢é‡‡æ · æ··åˆé‡‡æ ·æ–¹å¼<br>å…ˆä½¿ç”¨å æ®ç½‘æ ¼ç¡®å®šå“ªäº›åŒºåŸŸéœ€è¦é‡‡æ ·ï¼Œå†é€šè¿‡ç²—é‡‡æ ·å¾—åˆ°çš„æƒé‡ä½¿ç”¨é€†å˜æ¢é‡‡æ ·è¿›è¡Œç²¾é‡‡æ ·å¾—åˆ°é‡‡æ ·ç‚¹</p><h2 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h2><h3 id="S3IM"><a href="#S3IM" class="headerlink" title="S3IM"></a>S3IM</h3><blockquote><p><a href="https://arxiv.org/pdf/2308.07032">S3IM: Stochastic Structural SIMilarity and Its Unreasonable Effectiveness for Neural Fields</a></p></blockquote><p>MSE loss æ˜¯ point-wise çš„ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°ä¸€ç»„pixelçš„ç»“æ„ç‰¹å¾ï¼Œè€ŒSSIMé€šè¿‡ä¸€ä¸ªKxKçš„æ ¸å’Œstrideæ‰«è¿‡æ•´ä¸ªå›¾åƒï¼Œæœ€åæ±‚å¹³å‡MSSIMï¼Œå¯ä»¥è€ƒè™‘å›¾åƒçš„ç»“æ„ä¿¡æ¯ã€‚</p><ul><li>$\mathrm{SSIM}(a,b)=l(\boldsymbol{a},\boldsymbol{b})c(\boldsymbol{a},\boldsymbol{b})s(\boldsymbol{a},\boldsymbol{b}).$  ä¸€ä¸ªæ ¸è¦†ç›–çš„å›¾åƒï¼Œ$C_{1},C_{2},C_{3}$ æ˜¯å°çš„å¸¸æ•°<ul><li>luminanceäº®åº¦ï¼š$l(\boldsymbol{a},\boldsymbol{b})=\frac{2\mu_a\mu_b+C_1}{\mu_a^2+\mu_b^2+C_1},$</li><li>contrastå¯¹æ¯”åº¦ï¼š$c(\boldsymbol{a},\boldsymbol{b})=\frac{2\sigma_a\sigma_b+C_2}{\sigma_a^2+\sigma_b^2+C_2},$</li><li>structureç»“æ„ï¼š$s(\boldsymbol{a},\boldsymbol{b})=\frac{\sigma_{ab}+C_3}{\sigma_a\sigma_b+C_3}.$<br><em>ä½†æ˜¯åœ¨NeRFè®­ç»ƒè¿‡ç¨‹ä¸­pixelåœ¨ä¸€ä¸ªbatchæ˜¯éšæœºçš„ï¼Œä¸¢å¤±äº†å±€éƒ¨patchçš„åƒç´ ä¸­ä½ç½®ç›¸å…³çš„ä¿¡æ¯</em>ï¼Œæœ¬æ–‡æå‡ºçš„S3IMï¼Œæ˜¯SSIMçš„éšæœºå˜ä½“ã€‚æ¯ä¸ªminibatchæœ‰Bä¸ªåƒç´ ï¼Œæ ¸å¤§å°KxKï¼Œæ­¥é•¿s=K(å› ä¸ºåœ¨minibatchä¸­çš„éšæœºpatchæ˜¯ç‹¬ç«‹çš„ï¼Œè€Œä¸”ä¸éœ€è¦é‡å çš„æƒ…å†µ)</li></ul></li><li>å°†Bä¸ªåƒç´ /å…‰çº¿æ„æˆä¸€ä¸ªrendered patch $\mathcal{P}(\hat{\mathcal{C}})$ï¼ŒåŒæ—¶æœ‰ä¸€ä¸ªgt image patch $\mathcal{P}(\mathcal{C})$</li><li>è®¡ç®—renderedå’Œgt patchä¹‹é—´çš„$SSIM(\mathcal{P}(\hat{\mathcal{C}}),\mathcal{P}(\mathcal{C}))$ with kernel si ze KxK and stride size s =K</li><li>ç”±äºpatchæ˜¯éšæœºçš„ï¼Œé‡å¤Mæ¬¡ä¸Šè¿°ä¸¤æ­¥ï¼Œå¹¶è®¡ç®—Mæ¬¡SSIMçš„å¹³å‡å€¼</li></ul><p>$\mathrm{S3IM}(\hat{\mathcal{R}},\mathcal{R})=\frac{1}{M}\sum_{m=1}^{M}\mathrm{SSIM}(\mathcal{P}^{(m)}(\hat{\mathcal{C}}),\mathcal{P}^{(m)}(\mathcal{C}))$</p><p>$L_{\mathrm{S3IM}}(\Theta,\mathcal{R})=1-\mathrm{S3IM}(\hat{\mathcal{R}},\mathcal{R}) = =1-\frac1M\sum_{m=1}^M\mathrm{SSIM}(\mathcal{P}^{(m)}(\hat{\mathcal{C}}),\mathcal{P}^{(m)}(\mathcal{C}))$</p><h2 id="Volume-Rendering-SDF2Density"><a href="#Volume-Rendering-SDF2Density" class="headerlink" title="Volume Rendering (SDF2Density)"></a>Volume Rendering (SDF2Density)</h2><h3 id="VolSDF"><a href="#VolSDF" class="headerlink" title="VolSDF"></a>VolSDF</h3><p>$\sigma(\mathbf{r}(t))=\Psi_s(f(\mathbf{r}(t)))=\begin{cases}\frac{1}{2s}\exp\left(\frac{-f(\mathbf{r}(t))}{s}\right)&amp;\text{if }f(\mathbf{r}(t))\geq0,\\\frac{1}{s}\left(1-\frac{1}{2}\exp\left(\frac{f(\mathbf{r}(t))}{s}\right)\right)&amp;\text{if }f(\mathbf{r}(t))&lt;0.\end{cases}$</p><h3 id="NeuS"><a href="#NeuS" class="headerlink" title="NeuS"></a>NeuS</h3><blockquote><p><a href="https://arxiv.org/pdf/2106.10689">NeuS: Learning Neural Implicit Surfaces by Volume Rendering for Multi-view Reconstruction</a></p></blockquote><p>SDFå†…éƒ¨-1ï¼Œå¤–éƒ¨1ï¼Œè¡¨é¢0<br>$f(x)=\left\{\begin{matrix}d(x,\partial\Omega)&amp;\mathrm{if~}x\in\Omega\-d(x,\partial\Omega)&amp;\mathrm{if~}x\not\in\Omega.\end{matrix}\right.$</p><p>NeuSæ²¡æœ‰ä¸NeRFä¸€æ ·ç›´æ¥ä½¿ç”¨MLPè¾“å‡ºçš„ä¸é€æ˜åº¦$\sigma$ä½œä¸º$\rho$ï¼Œè€Œæ˜¯ä½¿ç”¨é¢„æµ‹çš„sdfè¿›è¡Œç›¸åº”è®¡ç®—å¾—åˆ°$\rho$ï¼Œä»¥åŠæƒé‡</p><ul><li>$C(\mathbf{o},\mathbf{v})=\int_{0}^{+\infty}w(t)c(\mathbf{p}(t),\mathbf{v})\mathrm{d}t$  $\omega(t)=T(t)\rho(t),\text{where}T(t)=\exp\left(-\int_0^t\rho(u)\mathrm{d}u\right)$</li><li>$\rho(t)=\max\left(\frac{-\frac{\mathrm{d}\Phi_s}{\mathrm{d}t}(f(\mathbf{p}(t)))}{\Phi_s(f(\mathbf{p}(t)))},0\right)$ , MLPé¢„æµ‹çš„sdfå³$f(\mathbf{p}(t))$ </li><li>$\phi_s(x) =\frac{se^{-sx}}{(1+e^{-sx})^{2}}$, $\Phi_s(x)=(1+e^{-sx})^{-1},\text{i.e.,}\phi_s(x)=\Phi_sâ€™(x)$</li></ul><p>ç¦»æ•£åŒ–ï¼š</p><ul><li>$\hat{C}=\sum_{i=1}^nT_i\alpha_ic_i,$ $\alpha_i=1-\exp\left(-\int_{t_i}^{t_{i+1}}\rho(t)\mathrm{d}t\right),$ $T_i=\prod_{j=1}^{i-1}(1-\alpha_j)$</li><li>$\alpha_i=\max\left(\frac{\Phi_s(f(\mathbf{p}(t_i)))-\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right).$</li><li>$\alpha_{i}=max()$</li></ul><p>é™¤äº†$\mathcal{L}1$å’Œ$\mathcal{L}_{mask}$æŸå¤±ä¹‹å¤–è¿˜ä½¿ç”¨äº†$\mathcal{L}_{r e g}=\frac{1}{n m}\sum_{k,i}(|\nabla f(\hat{\mathbf{p}}_{k,i})|_{2}-1)^{2}.$ (Eikonal term)</p><ul><li>where m is batch size(ray scalar), n is the point sampling size</li></ul><h3 id="TUVR"><a href="#TUVR" class="headerlink" title="TUVR"></a>TUVR</h3><p>$\sigma(t)=\begin{cases}\frac{1}{s(t)}\exp\left(\frac{-f(t)}{s(t)|fâ€™(t)|}\right)&amp;\text{if}f(t)\geq0,\\\frac{2}{s(t)}\left(1-\frac{1}{2}\exp\left(\frac{f(t)}{s(t)|fâ€™(t)|}\right)\right)&amp;\text{if}f(t)&lt;0.\end{cases}$</p><h3 id="NeuRodin"><a href="#NeuRodin" class="headerlink" title="NeuRodin"></a>NeuRodin</h3><blockquote><p><a href="https://open3dvlab.github.io/NeuRodin/">NeuRodin: A Two-stage Framework for High-Fidelity Neural Surface Reconstruction</a><br><a href="https://arxiv.org/pdf/2408.10178">arxiv.org/pdf/2408.10178</a></p></blockquote><p>å®¤å†…å¤–å¤§åœºæ™¯ï¼Œä¹‹å‰æ–¹æ³•å­˜åœ¨çš„é—®é¢˜ï¼š</p><ul><li>è¿‡åº¦å‡ ä½•æ­£åˆ™åŒ–a); </li><li>æ²¡æœ‰å¯¹å‡ ä½•æ‹“æ‰‘çº¦æŸb); </li><li>æœ¬æ–‡Two-stageçš„æƒ³æ³•ï¼šé¦–å…ˆå¯¹SDFä¸è¿›è¡Œçº¦æŸ(ä¸ç”¨$\mathcal{L}_{eik}$ï¼Œç±»ä¼¼densityè¿›è¡Œè®­ç»ƒ)ï¼Œç„¶åä½¿ç”¨å‡ ä½•æ­£åˆ™åŒ–æ¥refineå…‰æ»‘è¡¨é¢</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240902141345.png" alt="image.png|666"></p><p>å…ˆå‰ SDF-based volume rendering æ–¹æ³•çš„ä¸è¶³ï¼š</p><ul><li>SDFåˆ°å¯†åº¦è½¬æ¢çš„ä¸åˆé€‚å‡è®¾ï¼š$\sigma(\mathbf{r}(t))=\Psi_s(f(\mathbf{r}(t)))=\begin{cases}\frac{1}{2s}\exp\left(\frac{-f(\mathbf{r}(t))}{s}\right)&amp;\text{if }f(\mathbf{r}(t))\geq0,\\\frac{1}{s}\left(1-\frac{1}{2}\exp\left(\frac{f(\mathbf{r}(t))}{s}\right)\right)&amp;\text{if }f(\mathbf{r}(t))&lt;0.\end{cases}$<ul><li>SDFå€¼ç›¸åŒçš„åŒºåŸŸå¯†åº¦å€¼ä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œé™åˆ¶äº†å¯†åº¦åœº(derived from SDF)çš„è¡¨è¾¾èƒ½åŠ›ã€‚</li><li>åŸå…ˆçš„å¯†åº¦åœºæ–¹æ³•(NeRF)çš„å¯†åº¦å€¼èŒƒå›´å¯ä»¥æ˜¯$[0,+\infty]$ï¼Œè€ŒSDFè®¡ç®—å¾—åˆ°çš„å¯†åº¦èŒƒå›´åœ¨$\left(0,\frac{1}{s} \right]$ <a href="https://www.desmos.com/calculator/u8gnwtp7jf?lang=zh-CN">Function Desmos</a></li></ul></li><li>å¯†åº¦åå·®(SDF to Densityè¿‡ç¨‹ä¸­)ï¼Œè™½æœ‰å¾ˆå¤šæ”¹è¿›ä½†æ˜¯åå·®ä»å­˜åœ¨ï¼Œ<strong>ä¸”å‡ ä½•æ­£åˆ™åŒ–ä¼šäº§ç”Ÿä¸€äº›ä¸å¥½å½±å“</strong> (exacerbates this bias, complicating model convergence and resulting in the creation of inaccurate surfaces)ï¼Œä¸€äº›æ”¹è¿›çš„æ–¹æ³•ï¼š<ul><li><a href="https://openaccess.thecvf.com/content/CVPR2023/papers/Zhang_Towards_Unbiased_Volume_Rendering_of_Neural_Implicit_Surfaces_With_Geometry_CVPR_2023_paper.pdf">TUVR</a>: Towards Unbiased Volume Rendering of Neural Implicit Surfaces with Geometry Priors</li><li>Debsdf: Delving into the details and bias of neural indoor scene reconstruction</li><li>Recovering fine details for neural implicit surface reconstruction.</li></ul></li><li>å‡ ä½•è¿‡åº¦æ­£åˆ™åŒ–ï¼Œsuch as Eikonal loss or smoothness constraintsï¼Œ<strong>å¯¼è‡´ç¼ºé™·ï¼š</strong><ul><li>åœ¨æ‰€æœ‰åŒºåŸŸè¿‡åº¦å…‰æ»‘, both flat and intricate, leading to a loss of fine details)ã€‚</li><li>å½“ä¼˜åŒ–Normaläº§ç”Ÿçš„é¢œè‰²å’Œé€šè¿‡å‡ ä½•æ­£åˆ™åŒ–æ˜¾å¼åœ°çº¦æŸSDFæ—¶ï¼Œä¼˜åŒ–è¿‡ç¨‹ä¼šé˜»ç¢æ‹“æ‰‘ç»“æ„çš„äº§ç”Ÿã€‚</li></ul></li></ul><p>æœ¬æ–‡è§£å†³æ–¹æ³•ï¼š</p><ul><li><strong>Uniform SDF, Diverse Densities</strong> <ul><li>ç©ºé—´ä¸­æ¯ä¸€ç‚¹éƒ½æœ‰ç‹¬è‡ªçš„ç¼©æ”¾å› å­ï¼šä½¿ç”¨éçº¿æ€§æ˜ å°„æ¥æ ¹æ®ä¸‰ç»´ç©ºé—´ä¸­ä¸€ç‚¹åæ ‡è·å–ç‹¬ä¸€æ— äºŒçš„ç¼©æ”¾å› å­s (local scale $s(t)$)  (ç±»ä¼¼Adaptive shells for efficient neural radiance field rendering.çš„å·¥ä½œï¼Œéœ€è¦ç»“åˆSDFå’Œdensityçš„ç‰¹æ€§)</li><li>$(f(\mathbf{r}(t)),s(\mathbf{r}(t)),\mathbf{z}(\mathbf{r}(t)))=\phi_\text{geo}(\mathbf{r}(t)),\quad\sigma(\mathbf{r}(t))=\Psi_{s(\mathbf{r}(t))}\left(f(\mathbf{r}(t))\right).$ è§£é‡Šï¼š<strong>(SDF, s, å‡ ä½•ç‰¹å¾)=éçº¿æ€§æ˜ å°„(ç‚¹åæ ‡)</strong> and <strong>å¯†åº¦=å‡½æ•°(SDF, s)</strong></li></ul></li><li><strong>Explicit Bias Correction</strong> <ul><li>å­˜åœ¨çš„åå·® <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240902132257.png" alt="image.png|333"><ul><li>A: maximum probability distance$\hat{D}_{\text{prob}}(\mathbf{r})=\arg\max_{t\in(0,+\infty)}w(t)=\arg\max_{t\in(0,+\infty)}T(t)\sigma(\mathbf{r}(t)).$</li><li>B: rendered distance $\hat{D}_{\text{rendered}}(\mathbf{r})=\int_0^{+\infty}T(t)\sigma(\mathbf{r}(t))t \mathrm{d}t.$ ç›¸å½“äºå¯¹æƒé‡æ±‚äº†å‡å€¼</li><li>C: SDF zero level set</li></ul></li><li>æœ¬æ–‡è§£å†³æ–¹æ³•:  <script type="math/tex">\mathcal{L}_{\mathrm{bias}}=\frac1m\sum_{\mathbf{r}\in\mathcal{R}}\max\left(f(\mathbf{r}(t^*+\epsilon_{\mathrm{bias}})),0\right),\quad t^{*}=\arg\max_{t\in(0,+\infty)}T(t)\sigma(\mathbf{r}(t))</script> <ul><li>é€šè¿‡çº¦æŸæ¯æ¡å…‰çº¿ä¸ŠA($t^*$ with bias correction factor $\epsilon_{\mathrm{bias}}$)ä¸Cçš„å·®å¼‚ï¼Œä¸”ä»…çº¦æŸsdfä¸ºæ­£(å³æ¨¡å‹å¤–éƒ¨)çš„éƒ¨åˆ† </li><li><strong><em>ä¸ºä»€ä¹ˆä¸çº¦æŸæ¨¡å‹å†…éƒ¨å‘¢ï¼Ÿï¼šé¼“åŠ±SDFåœ¨Aä½ç½®ä¹‹åå–è´Ÿå€¼ï¼Œç»éªŒæµ‹è¯•å‡ºæ¥çš„(é™„å½•C)ï¼Œä¸”æä¾›äº†<a href="https://www.desmos.com/calculator/k1jklfvd5y?lang=zh-CN">æ•°å­¦è§£é‡Š</a>:</em></strong> å½“Aåœ¨Cä¹‹å‰æ—¶ï¼Œéšç€$\theta$ çš„å˜åŒ–ACä¹‹é—´å·®å¼‚å˜åŒ–çš„æ›´å¤§ï¼›å½“Aåœ¨Cä¹‹åæ—¶ï¼Œéšç€$\theta$çš„å˜åŒ–ACä¹‹é—´å·®å¼‚å˜åŒ–è¾ƒå° </li><li>$\epsilon_{\mathrm{bias}}$ æ˜¯ç”±äºé€‰å–maximumçš„æ–¹æ³•å¯¼è‡´çš„ï¼šç›´æ¥ä½¿ç”¨é‡‡æ ·ç‚¹çš„æœ€å¤§æƒé‡æ¥è¿‘ä¼¼$t^*$</li></ul></li></ul></li><li><strong>Two-Stage Optimization to Tackle Geometry Over-Regularization</strong><ul><li><strong>Stage 1</strong>â€”â€”Geometry Over-Regularization (estimated gradients + local scale s(VolSDF SDF2Density) + $\mathcal{L}_{\mathrm{bias}}$)<ul><li>ç›´è§‚è§£æ³•ï¼šæ¶ˆé™¤å‡ ä½•çº¦æŸæˆ–è€…é™ä½æƒé‡ï¼Œä¸”é¿å…conditioné¢œè‰²(predicted normal)ã€‚ ä½†æ˜¯ä¼šäº§ç”Ÿéè‡ªç„¶çš„SDF zero-level set</li><li>ç®€å•é«˜æ•ˆçš„è§£æ³•æ˜¯ï¼šä¸ç›´æ¥ä½¿ç”¨æ¢¯åº¦${\nabla f(\mathbf{r}(t))}$è¿›è¡Œå‡ ä½•æ­£åˆ™ï¼Œè€Œæ˜¯ä½¿ç”¨ä¼°è®¡æ¢¯åº¦$\hat{\nabla}f(\mathbf{r}(t))$é€šè¿‡ç‰¹æ®Šè®¾è®¡æ¥å¼•å…¥ä¸ç¡®å®šæ€§ï¼Œ<ul><li>xåˆ†é‡çš„ä¼°è®¡æ¢¯åº¦ä¸ºï¼š$\hat{\nabla}_xf(\mathbf{r}(t))=\frac{f\left(\mathbf{r}(t)+\boldsymbol{\epsilon}_x\right)-f\left(\mathbf{r}(t)-\boldsymbol{\epsilon}_x\right)}{2\epsilon},\quad\text{where }\epsilon_x=(\epsilon,0,0)\text{ and }\epsilon\sim U(0,\epsilon_{\max}).$</li><li>é€šè¿‡æœ‰é™å·®åˆ†æ³•ä¼°è®¡æ¢¯åº¦çš„step size $\epsilon$æ˜¯ä¸€ä¸ªéšæœºé‡‡æ ·çš„æ•°ï¼Œè¿™æ ·åœ¨æ›´å¤§çš„åœºæ™¯çš„estimated normalä¸­æœ‰å¾ˆå°çš„varianceï¼Œåœ¨fine detailsçš„normalä¸­æœ‰æ›´å¤§çš„varianceã€‚<strong>è¿™æ ·çš„ä¸ç¡®å®šæ€§ç¡®ä¿äº†æ›´å¤§ç‰¹å¾çš„ç¨³å®šæ€§å’Œå¤æ‚ç»†èŠ‚çš„çµæ´»æ€§</strong></li></ul></li><li>æ€»ç»“:<ul><li>$\mathcal{L}_{\mathrm{coarse}}=\mathcal{L}_{\mathrm{color}}+\lambda_{\mathrm{eik}}\mathcal{L}_{\mathrm{eik}}(\hat{\nabla}f)+\lambda_{\mathrm{bias}}\mathcal{L}_{\mathrm{bias}}.$</li><li>VolSDFçš„SDF-to-densityæ–¹æ³•ï¼š<ul><li>$\sigma(\mathbf{r}(t))=\Psi_s(f(\mathbf{r}(t)))=\begin{cases}\frac{1}{2s}\exp\left(\frac{-f(\mathbf{r}(t))}{s}\right)&amp;\text{if }f(\mathbf{r}(t))\geq0,\\\frac{1}{s}\left(1-\frac{1}{2}\exp\left(\frac{f(\mathbf{r}(t))}{s}\right)\right)&amp;\text{if }f(\mathbf{r}(t))&lt;0.\end{cases}$</li></ul></li></ul></li></ul></li><li><strong>Stage 2</strong>â€”â€”Refinement (estimated gradients + TUVR SDF2Density + $\mathcal{L}_{\mathrm{smooth}}$)<ul><li>ä½¿ç”¨PermutoSDFçš„æŸå¤±$\mathcal{L}_{\mathrm{smooth}}=\frac1{mn}\sum_{\mathbf{r},t}\left(\mathbf{n}\left(\mathbf{r}(t)\right)\cdot\mathbf{n}\left(\mathbf{r}(t)+\epsilon_s\boldsymbol{\eta}(\mathbf{r}(t))\right)-1\right)^2,$ æ¥å¢åŠ å±€éƒ¨å…‰æ»‘åº¦ï¼Œ$\boldsymbol{\eta}(\mathbf{r}(t)) = \mathbf{n}(\mathbf{r}(t)) \times \boldsymbol{\tau}$ å…¶ä¸­$\tau$æ˜¯éšæœºå•ä½å‘é‡</li><li>æ€»ç»“:<ul><li>é‡‡ç”¨TUVRçš„ SDF-to-densityæ–¹æ³•ï¼Œä¿è¯æœ€å°åŒ–biasä¸”ä¿å­˜fineçš„ç‰©ä½“ç»†èŠ‚<ul><li>$\sigma(t)=\begin{cases}\frac{1}{s(t)}\exp\left(\frac{-f(t)}{s(t)|fâ€™(t)|}\right)&amp;\text{if}f(t)\geq0,\\\frac{2}{s(t)}\left(1-\frac{1}{2}\exp\left(\frac{f(t)}{s(t)|fâ€™(t)|}\right)\right)&amp;\text{if}f(t)&lt;0.\end{cases}$</li></ul></li><li>$\mathcal{L}_{\mathrm{fine}}=\mathcal{L}_{\mathrm{color}}+\lambda_{\mathrm{eik}}\mathcal{L}_{\mathrm{eik}}(\nabla f)+\lambda_{\mathrm{smooth}}\mathcal{L}_{\mathrm{smooth}}.$</li></ul></li></ul></li></ul></li></ul><p>é™„å½•çš„ç†è®ºåˆ†æ:</p><ol><li>æ ¹æ®æƒé‡æœ€å¤§çš„ç‚¹$t^*=\arg\max_{t\in(0,+\infty)}T(t)\sigma(\mathbf{r}(t))$</li><li>åœ¨è¯¥ç‚¹åº”è¯¥æ»¡è¶³$\frac{\partial w(t)}{\partial t}\Bigg|_{t=t^*}=0$</li><li>å¯ä»¥æ¨å¯¼å‡º<script type="math/tex">\sigma^2(\mathbf{r}(t^*))=\left.\frac{\partial\sigma(\mathbf{r}(t))}{\partial t}\right|_{t=t^*}</script></li></ol><p>å› æ­¤æ„å»ºçš„SDF-to-densityå‡½æ•°å¿…é¡»æ»¡è¶³ï¼š</p><ul><li>æ¡ä»¶1 <script type="math/tex">\sigma^2(\mathbf{r}(t^*))=\left.\frac{\partial\sigma(\mathbf{r}(t))}{\partial t}\right|_{t=t^*}</script></li><li>æ¡ä»¶2 (SDF=0çš„ç‚¹ï¼ŒåŒæ—¶æƒé‡æœ€å¤§) <script type="math/tex">f(r(t^0))=0</script><br>ç„¶è€Œï¼š</li><li>NeuSåªæœ‰åœ¨æ²¿ç€å…‰çº¿çš„SDFåˆ†å¸ƒçš„ä¸€é˜¶è¿‘ä¼¼æ¡ä»¶ä¸‹æ‰æ»¡è¶³æ­¤æ¡ä»¶</li><li>TUVRæ‰©å±•åˆ°äº†ä»»æ„åˆ†å¸ƒï¼Œä½†æ˜¯ä»æœ‰é—®é¢˜å°±æ˜¯ä¸ä¸€å®š$t^{0} \neq t^{*}$ï¼Œ(åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œæ²¿ç€å…‰çº¿çš„æƒé‡åˆ†å¸ƒæ˜¯ä¸€ä¸ªå¤æ‚çš„non-convexå‡½æ•°ï¼Œåªèƒ½æ‹…ä¿$t^{0}$æ˜¯åœ¨å±€éƒ¨æœ€å¤§å€¼ä¸Š)</li></ul><h3 id="ReTR"><a href="#ReTR" class="headerlink" title="ReTR"></a>ReTR</h3><blockquote><p><a href="https://arxiv.org/pdf/2305.18832">ReTR: Modeling Rendering Via Transformer for Generalizable Neural Surface Reconstruction</a></p></blockquote><p><strong>ä½¿ç”¨Transformer ä»£æ›¿æ¸²æŸ“è¿‡ç¨‹ï¼Œå¹¶ä¸”æ·»åŠ äº†æ·±åº¦ç›‘ç£</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231109094904.png" alt="image.png|666"></p><h2 id="Mixture-of-Experts-MoE"><a href="#Mixture-of-Experts-MoE" class="headerlink" title="Mixture of Experts (MoE)"></a>Mixture of Experts (MoE)</h2><h3 id="Boost-Your-NeRF"><a href="#Boost-Your-NeRF" class="headerlink" title="Boost Your NeRF"></a>Boost Your NeRF</h3><blockquote><p><a href="https://arxiv.org/pdf/2407.10389#page=20.42">Boost Your NeRF: A Model-Agnostic Mixture of Experts Framework for High Quality and Efficient Rendering</a></p><p><a href="https://huggingface.co/blog/zh/moe#%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B7%E5%90%88%E4%B8%93%E5%AE%B6%E6%A8%A1%E5%9E%8B">æ··åˆä¸“å®¶æ¨¡å‹ï¼ˆMoEï¼‰è¯¦è§£</a> MoE å±‚ç”±ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†ç»„æˆ: ä¸€ä¸ªé—¨æ§ç½‘ç»œ(ç”¨äºå†³å®šå“ªäº›ä»¤ç‰Œ (token) è¢«å‘é€åˆ°å“ªä¸ªä¸“å®¶)å’Œè‹¥å¹²æ•°é‡çš„ä¸“å®¶(æ¯ä¸ªä¸“å®¶æœ¬èº«æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¥ç»ç½‘ç»œ)</p></blockquote><ul><li>é—¨æ§ç½‘ç»œæ¥å†³å®šé‡‡æ ·ç‚¹è¢«è¾“å…¥å“ª Top-Kä¸ªä¸“å®¶ç½‘ç»œ(å¹¶ä¸”åœ¨filtering stepæŠ›å¼ƒlow-densityçš„ç‚¹ï¼Œå¯†åº¦å€¼æ ¹æ®lowest resolution model è¿›è¡Œè®¡ç®—)</li><li>æ¯ä¸ªä¸“å®¶ç½‘ç»œä»¥é‡‡æ ·ç‚¹ä½ç½®å’Œæ–¹å‘ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºé¢œè‰²å’Œå¯†åº¦</li><li>æ ¹æ®è¯¥ç‚¹åˆ°æ¯ä¸ªä¸“å®¶ç½‘ç»œçš„æƒé‡(æ¦‚ç‡Probability Field)å’Œé¢œè‰²å¯†åº¦å€¼ï¼Œè®¡ç®—è¯¥ç‚¹æœ€ç»ˆçš„é¢œè‰²å’Œå¯†åº¦å€¼ã€‚æœ€åé€šè¿‡ä½“æ¸²æŸ“å¾—åˆ°pixel colorï¼Œå¹¶è”åˆä¼˜åŒ–resolution-weighted auxiliary loss(ç”¨äºé€‰å–ä¸“å®¶ç½‘ç»œ)</li></ul><p>ä¸»è¦æ€æƒ³æ˜¯åœ¨è®­ç»ƒäº†ä¸€æ‰¹ä¸åŒåˆ†è¾¨ç‡çš„NeRF modelsåï¼Œä¼˜å…ˆä½¿ç”¨low-resolution modelsï¼Œå‡å°‘high-resolution models çš„ä½¿ç”¨</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240806202919.png" alt="image.png|666"></p><h1 id="Efficiency"><a href="#Efficiency" class="headerlink" title="Efficiency"></a>Efficiency</h1><ol><li>å®Œå…¨æŠ›å¼ƒMLPï¼Œå­˜å‚¨æ˜¾ç¤ºçš„é¢œè‰²/å¯†åº¦</li><li>åŠ é€Ÿæ¸²æŸ“ï¼šå¯¹å‡ ä½•ä»£ç†è¿›è¡Œå…‰æ …åŒ–å¤„ç†</li><li>åŠ é€Ÿæ¸²æŸ“ï¼šä½¿ç”¨å‰ä¸€ä¸ªè§†å›¾çš„ä¿¡æ¯æ¥å‡å°‘æ¸²æŸ“åƒç´ çš„æ•°é‡</li></ol><h2 id="Explicit-Grids"><a href="#Explicit-Grids" class="headerlink" title="Explicit Grids"></a>Explicit Grids</h2><p><strong>Explicit Grids with features(Efficiency of T&amp;R)</strong></p><p><strong>(å‡è½»MLPæ¶æ„)</strong></p><div class="table-container"><table><thead><tr><th>Explicit Grids</th><th>Related Works</th></tr></thead><tbody><tr><td>Feature grids</td><td><a href="https://arxiv.org/pdf/2112.05131">Plenoxels</a>, <a href="https://arxiv.org/pdf/2111.11215">DirectVoxGo</a>, <a href="https://arxiv.org/pdf/2201.05989">InstantNGP</a></td></tr><tr><td>Tri-planes</td><td><a href="https://arxiv.org/pdf/2307.11335">Tri-MipRF</a></td></tr><tr><td>Multi-plane images</td><td><a href="https://arxiv.org/pdf/2310.00249">MMPI</a>, <a href="https://arxiv.org/pdf/2312.16109">fMPI</a></td></tr><tr><td>Tensorial vectors</td><td><a href="https://arxiv.org/pdf/2203.09517">TensoRF</a>, <a href="https://arxiv.org/pdf/2307.13226">Strivec</a></td></tr></tbody></table></div><h3 id="NGP-RT"><a href="#NGP-RT" class="headerlink" title="NGP-RT"></a>NGP-RT</h3><blockquote><p><a href="https://arxiv.org/pdf/2407.10482">NGP-RT: Fusing Multi-Level Hash Features with Lightweight Attention for Real-Time Novel View Synthesis</a></p></blockquote><p>InstantNGP è™½ç„¶è®­ç»ƒé€Ÿåº¦(æŸ¥è¯¢ç½‘æ ¼)å¾ˆå¿«ï¼Œä½†æ˜¯æ¸²æŸ“çš„æ—¶å€™ä»ç„¶éœ€è¦å¤§é‡çš„3D PointæŸ¥è¯¢MLPï¼Œè€—è´¹å¤§é‡æ—¶é—´</p><p>(<em>Deferred neural rendering</em>) SNeRG [12] å’Œ MERF [32] é€šè¿‡å°†é¢œè‰²å’Œå¯†åº¦å­˜åœ¨æ˜¾ç¤ºç½‘æ ¼ä¸­ï¼Œ<strong>åªå¯¹æ¯æ¡æŠ•å°„å…‰çº¿æ‰§è¡Œä¸€æ¬¡ MLP</strong>ï¼Œä»è€Œå¤§å¤§åŠ å¿«äº†æ¸²æŸ“è¿‡ç¨‹ã€‚ç„¶è€Œï¼Œä»–ä»¬å¯¹æ˜¾å¼ç‰¹å¾çš„å¤„ç†æ˜¾ç¤ºå‡ºæœ‰é™çš„è¡¨è¾¾èƒ½åŠ›ï¼Œä¸é€‚åˆ Instant-NGP çš„å¤šçº§ç‰¹å¾ã€‚<strong>å°†è¿™äº›ç‰¹å¾æ„å»ºæ–¹æ³•ç›´æ¥åº”ç”¨äº Instant-NGP ä¸­çš„å¤šçº§ç‰¹å¾å¯èƒ½ä¼šå¯¼è‡´å…¶è¡¨ç¤ºèƒ½åŠ›å—æŸï¼Œå¹¶å¯¼è‡´æ¸²æŸ“è´¨é‡ä¸‹é™</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240718142648.png" alt="image.png|666"></p><p>æå‡ºäº† NGP-RTï¼Œä¸€ç§åˆ©ç”¨è½»é‡çº§æ³¨æ„åŠ›æœºåˆ¶é«˜æ•ˆæ¸²æŸ“é«˜ä¿çœŸæ–°è§†å›¾çš„æ–°æ–¹æ³•ã€‚NGP-RT çš„æ³¨æ„åŠ›æœºåˆ¶é‡‡ç”¨äº†ç®€å•è€Œæœ‰æ•ˆçš„åŠ æƒå’Œè¿ç®—ï¼Œå¯å­¦ä¹ çš„æ³¨æ„åŠ›å‚æ•°å¯è‡ªé€‚åº”åœ°ä¼˜å…ˆå¤„ç†æ˜¾å¼å¤šçº§å“ˆå¸Œç‰¹å¾</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240718142838.png" alt="image.png|666"></p><h2 id="MIMO-MLP"><a href="#MIMO-MLP" class="headerlink" title="MIMO MLP"></a>MIMO MLP</h2><p><strong>Multi input and Multi output MLP(Efficiency of T&amp;R)</strong></p><p><strong>(å‡å°‘MLPè®¡ç®—æ¬¡æ•°)</strong></p><h3 id="MIMO-NeRF"><a href="#MIMO-NeRF" class="headerlink" title="MIMO-NeRF"></a>MIMO-NeRF</h3><blockquote><p><a href="https://arxiv.org/pdf/2310.01821">MIMO-NeRF: Fast Neural Rendering with Multi-input Multi-output Neural Radiance Fields</a></p></blockquote><p>å¤šè¾“å…¥å¤šè¾“å‡ºçš„MLPï¼ŒåŒæ—¶è¾“å…¥å¤šä¸ªä¸‰ç»´ç‚¹æ¥è¿›è¡Œè®¡ç®—</p><h2 id="Points-Sampling"><a href="#Points-Sampling" class="headerlink" title="Points Sampling"></a>Points Sampling</h2><p><strong>Points Sampling(Efficiency of T&amp;R)</strong></p><p><strong>(å‡å°‘é‡‡æ ·ç‚¹æ•°é‡ per ray)</strong></p><h3 id="HashPoint"><a href="#HashPoint" class="headerlink" title="HashPoint"></a><a href="https://jiahao-ma.github.io/hashpoint/">HashPoint</a></h3><p>Primary surface point sampling</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240823163840.png" alt="image.png|666"></p><h2 id="Pixel-Sampling"><a href="#Pixel-Sampling" class="headerlink" title="Pixel Sampling"></a>Pixel Sampling</h2><p><strong>Pixel Sampling (Efficiency of Training)</strong></p><p><strong>(å‡å°‘MLPè®¡ç®—æ¬¡æ•°)</strong></p><p>ä¹‹å‰æ–¹æ³•å¯¹train_dataä¸­æ‰€æœ‰çš„åƒç´ rgbä¸‰ä¸ªå€¼ï¼Œè¿›è¡Œé¢„æµ‹+l1 loss+åå‘ä¼ æ’­ï¼Œè®­ç»ƒé€Ÿåº¦å¾ˆæ…¢</p><h3 id="Uniform-sampling"><a href="#Uniform-sampling" class="headerlink" title="Uniform sampling"></a>Uniform sampling</h3><figure class="highlight python"><figcaption><span>pseudocode</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">  <span class="comment"># æ¯ä¸ªepochå¯¹æ¯å¼ å›¾ç‰‡è¿›è¡Œè®­ç»ƒä¸€è½®ï¼Œæ¯å¼ å›¾ç‰‡æŒ‘é€‰n_raysä¸ªåƒç´ </span></span><br><span class="line">  <span class="keyword">for</span> batch_data <span class="keyword">in</span> dataloader: <span class="comment"># batch_size = n_images</span></span><br><span class="line">    batch_rays = n_images * n_rays <span class="comment"># é€‰å–åƒç´ ä½ç½®ä¸ªæ•°</span></span><br><span class="line">    gt_rgb = Select_rgb(batch_rays) <span class="comment"># æ ¹æ®ä½ç½®è·å¾— gt rgb</span></span><br><span class="line">    render_rgb = F(batch_rays) <span class="comment"># æ ¹æ®ä½ç½®æ¸²æŸ“ render rgb</span></span><br><span class="line">    loss = <span class="built_in">abs</span>(render_rgb, gt_rgb) <span class="comment"># æ±‚loss</span></span><br><span class="line">    backward() <span class="comment"># åå‘ä¼ æ’­</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡é‡åŒ–rendering image ä¸ g.t. image ä¹‹é—´çš„å·®å¼‚ï¼Œæ¥æŒ‡å¯¼åœ¨å›¾åƒä¸Šé‡‡æ ·åƒç´ çš„ä½ç½®/æ•°é‡ï¼šæ ¹æ®error map between rendering image and g.t. imageï¼Œæ¶ˆé™¤lossæ¯”è¾ƒå°çš„åŒºåŸŸï¼Œå¯¹losså¤§çš„åŒºåŸŸè¿›è¡Œæ›´å¤šçš„é‡‡æ ·</p><p><strong>idea</strong>ï¼š</p><ul><li>Other sampling method å¦‚æœè¦åŠ é€Ÿè®­ç»ƒçš„è¯ï¼Œå°±è¦ä½¿ç”¨æ›´é«˜æ•ˆçš„é‡‡æ ·æ–¹æ³•<ul><li>LHS (Latin hypercube sampling)</li></ul></li><li>è¿™ç§æ–¹æ³•åªèƒ½å¯¹Trainè¿‡ç¨‹è¿›è¡ŒåŠ é€Ÿ</li><li>ç”±äºä¼˜åŒ–çš„æ˜¯MLPæ•´ä½“çš„å‚æ•°ï¼Œå› æ­¤å¯èƒ½å‡ºç°å¯¹è¯¯å·®å¤§çš„åƒç´ ä¼˜åŒ–æ—¶ï¼Œé™ä½è¯¯å·®å°çš„åƒç´ çš„é¢„æµ‹ç²¾åº¦ã€‚</li><li>å¯èƒ½ä¼šå¯¹errorå¤§ä½†æ˜¯éé‡è¦åŒºåŸŸçš„åƒç´ è¿›è¡Œå¤šæ¬¡é‡‡æ ·</li></ul><blockquote><p><a href="https://zhuanlan.zhihu.com/p/37121528">é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡ç½—ç®—æ³•ï¼ˆMCMCï¼‰ - çŸ¥ä¹</a> Basic<br><a href="https://coderlemon17.github.io/posts/2022/05-11-mcmc/">è¯¦è§£Markov Chain Monte Carlo (MCMC): ä»æ‹’ç»-æ¥å—é‡‡æ ·åˆ°Gibbs Sampling | Lemonâ€™s Blog</a> <strong>æ›´æ¸…æ¥šä¸€ç‚¹</strong><br><a href="https://blog.csdn.net/u012290039/article/details/105696097">MCMCè¯¦è§£2â€”â€”MCMCé‡‡æ ·ã€M-Hé‡‡æ ·ã€Gibbsé‡‡æ ·ï¼ˆé™„ä»£ç ï¼‰</a><br><a href="https://allenwind.github.io/blog/10466/">é‡‡æ ·ï¼ˆä¸‰ï¼‰ï¼šé‡è¦æ€§é‡‡æ ·ä¸æ¥å—æ‹’ç»é‡‡æ · | Erwin Feng Blog</a><br><a href="https://chi-feng.github.io/mcmc-demo/">The Markov-chain Monte Carlo Interactive Gallery</a> <strong>å¤šç§MCMCé‡‡æ ·æ–¹æ³•</strong></p></blockquote><p>Monte Carloé‡‡æ ·æ— æ³•å¾—åˆ°å¤æ‚çš„åˆ†å¸ƒ(äºŒç»´åˆ†å¸ƒ)ï¼ŒåŠ å…¥Markov Chainï¼Œé©¬å°”ç§‘å¤«é“¾æ¨¡å‹çš„çŠ¶æ€è½¬ç§»çŸ©é˜µæ”¶æ•›åˆ°çš„ç¨³å®šæ¦‚ç‡åˆ†å¸ƒä¸æˆ‘ä»¬çš„åˆå§‹çŠ¶æ€æ¦‚ç‡åˆ†å¸ƒæ— å…³$\pi(j)=\sum_{i=0}^\infty\pi(i)P_{ij}$(åªä¸çŠ¶æ€è½¬ç§»çŸ©é˜µæœ‰å…³)ï¼Œå¦‚æœå¯ä»¥å¾—åˆ°çŠ¶æ€è½¬ç§»çŸ©é˜µï¼Œå°±å¯ä»¥é‡‡æ ·å¾—åˆ°å¹³ç¨³åˆ†å¸ƒçš„æ ·æœ¬é›†ã€‚å¦‚ä½•å¾—åˆ°çŠ¶æ€è½¬ç§»çŸ©é˜µï¼Ÿ<br>â€”&gt; MCMCæ–¹æ³•(ä¸æ‹’ç»-æ¥å—é‡‡æ ·çš„æ€è·¯ç±»ä¼¼ï¼Œå…¶é€šè¿‡æ‹’ç»-æ¥å—æ¦‚ç‡æ‹Ÿåˆä¸€ä¸ªå¤æ‚åˆ†å¸ƒ, MCMCæ–¹æ³•åˆ™é€šè¿‡æ‹’ç»-æ¥å—æ¦‚ç‡å¾—åˆ°ä¸€ä¸ªæ»¡è¶³ç»†è‡´å¹³ç¨³æ¡ä»¶çš„è½¬ç§»çŸ©é˜µ.)</p><ul><li>Metropolis-Hastings Samplingï¼šéœ€è¦è®¡ç®—æ¥å—ç‡, åœ¨é«˜ç»´æ—¶è®¡ç®—é‡å¤§, å¹¶ä¸”ç”±äºæ¥å—ç‡çš„åŸå› å¯¼è‡´ç®—æ³•æ”¶æ•›æ—¶é—´å˜é•¿. å¯¹äºé«˜ç»´æ•°æ®, å¾€å¾€æ•°æ®çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒæ˜“å¾—, è€Œè”åˆæ¦‚ç‡åˆ†å¸ƒä¸æ˜“å¾—.</li><li>Gibbs Samplingï¼š</li></ul><h3 id="LMC-sampling"><a href="#LMC-sampling" class="headerlink" title="LMC sampling"></a>LMC sampling</h3><figure class="highlight python"><figcaption><span>pseudocode</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">  <span class="comment"># æ¯ä¸ªepochå¯¹æ¯å¼ å›¾ç‰‡è¿›è¡Œè®­ç»ƒä¸€è½®ï¼Œæ¯å¼ å›¾ç‰‡æŒ‘é€‰n_raysä¸ªåƒç´ </span></span><br><span class="line">  <span class="keyword">for</span> batch_data <span class="keyword">in</span> dataloader: <span class="comment"># batch_size = 1 æœ€å‡†ç¡®</span></span><br><span class="line">    <span class="keyword">for</span> sample_t <span class="keyword">in</span> <span class="built_in">range</span>(sa)</span><br><span class="line">      batch_rays = n_images * n_rays <span class="comment"># é€‰å–åƒç´ ä½ç½®ä¸ªæ•°</span></span><br><span class="line">      gt_rgb = Select_rgb(batch_rays) <span class="comment"># æ ¹æ®ä½ç½®è·å¾— gt rgb</span></span><br><span class="line">      render_rgb = F(batch_rays) <span class="comment"># æ ¹æ®ä½ç½®æ¸²æŸ“ render rgb</span></span><br><span class="line">      loss = <span class="built_in">abs</span>(render_rgb, gt_rgb) <span class="comment"># æ±‚loss</span></span><br><span class="line">      backward() <span class="comment"># åå‘ä¼ æ’­</span></span><br></pre></td></tr></table></figure><h3 id="Soft-Mining"><a href="#Soft-Mining" class="headerlink" title="Soft Mining"></a>Soft Mining</h3><blockquote><p><a href="https://arxiv.org/pdf/2312.00075">Accelerating Neural Field Training via Soft Mining</a></p><p><a href="https://www.sciencedirect.com/science/article/pii/S0262885623000446">EGRA-NeRF: Edge-Guided Ray Allocation for Neural Radiance Fields</a> NeRF çš„æ¸²æŸ“æ˜¾å¾—è¿‡äºæ¨¡ç³Šï¼Œå¹¶ä¸”åœ¨æŸäº›çº¹ç†æˆ–è¾¹ç¼˜ä¸­åŒ…å«é”¯é½¿ä¼ªå½±ï¼Œä¸ºæ­¤æå‡ºäº†è¾¹ç¼˜å¼•å¯¼å…‰çº¿åˆ†é…ï¼ˆEGRA-NeRFï¼‰æ¨¡å—ï¼Œä»¥<strong>åœ¨è®­ç»ƒé˜¶æ®µå°†æ›´å¤šå…‰çº¿é›†ä¸­åœ¨åœºæ™¯çš„çº¹ç†å’Œè¾¹ç¼˜ä¸Š</strong> <strong>(æ²¡æœ‰åŠ é€Ÿ)</strong></p></blockquote><p>To implement our idea we use Langevin Monte-Carlo sampling. We show that by doing so, regions with higher error are being selected more frequently, leading to more than 2x improvement in convergence speed.<br>$\mathcal{L}=\frac{1}{N}\sum_{n=1}^{N}\mathrm{err}(\mathbf{x}_{n})\approx\mathbb{E}_{\mathbf{x}\sim P(\mathbf{x})}\left[\mathrm{err}(\mathbf{x})\right]=\int\mathrm{err}(\mathbf{x})P(\mathbf{x})d\mathbf{x}$. P is the distribution of the sampled data points $x_{n}$. ä¹‹å‰æ–¹æ³•å¤§å¤šæ˜¯å‡åŒ€åˆ†å¸ƒ<br>å…·ä½“åšæ³•ï¼š</p><ol><li>Soft mining with <strong>importance sampling</strong>. å¼•å…¥äº† importance distribution$Q(x)$</li></ol><blockquote><p>è¡¥å……çŸ¥è¯† <a href="https://www.bilibili.com/video/BV1SV4y1i7bW/?spm_id_from=333.788&amp;vd_source=1dba7493016a36a32b27a14ed2891088">[è’™ç‰¹å¡æ´›æ–¹æ³•] 02 é‡è¦æ€§é‡‡æ ·ï¼ˆimportance samplingï¼‰åŠ python å®ç°_å“”å“©å“”å“©_bilibili</a> å¯ä»¥ä»ä¸€ä¸ªä»»æ„åˆ†å¸ƒä¸­è¿›è¡Œé‡‡æ ·</p></blockquote><p>è¯¯å·®å¯ä»¥é‡å†™ä¸ºï¼š$\int\operatorname{err}(\mathbf{x})P(\mathbf{x})d\mathbf{x} =\int\frac{\mathrm{err}(\mathbf{x})P(\mathbf{x})}{Q(\mathbf{x})}Q(\mathbf{x})d\mathbf{x}  =\mathbb{E}_{\mathbf{x}\sim Q(\mathbf{x})}\left[\frac{\mathrm{err}(\mathbf{x})P(\mathbf{x})}{Q(\mathbf{x})}\right].$ ç”±äºå‡åŒ€åˆ†å¸ƒ$P(x)$çš„PDFé€šå¸¸ä¸ºå¸¸æ•°ï¼Œå› æ­¤$\mathcal{L}=\frac{1}{N}\sum_{n=1}^{N}\frac{\mathrm{err}(\mathbf{x}_{n})}{Q(\mathbf{x}_{n})}$ $\mathrm{where} \quad\mathbf{x}_{n}\sim Q(\mathbf{x}).$<br>ä½†æ˜¯$\mathcal{L}$æ— æ³•ç”¨äºè®­ç»ƒï¼Œé‡‡ç”¨<a href="https://arxiv.org/pdf/1711.00937">stop gradient operator</a>(åœ¨æ­£å‘è®¡ç®—æ—¶å®šä¹‰ä¸ºåŒä¸€å€¼ï¼Œä¸”åå¯¼æ•°ä¸ºé›¶)<br>$\mathcal{L}\approx\mathbb{E}_{\mathbf{x}\sim\mathrm{sg}(Q(\mathbf{x}))}\left[\frac{\mathrm{err}(\mathbf{x})}{\mathrm{sg}(Q(\mathbf{x}))}\right].$<br>é€‰æ‹©çš„$Q(x)$å¿…é¡»ä¸$err(x)$æˆæ¯”ä¾‹å…³ç³»(æ¶ˆé™¤errorå°ºåº¦çš„å½±å“)ï¼š$\mathrm{err}(\mathbf{x})=|f_{\boldsymbol{\psi}}(\mathbf{x})-f_{\mathrm{gt}}(\mathbf{x})|_{2}^{2},\\Q(\mathbf{x})=|f_{\boldsymbol{\psi}}(\mathbf{x})-f_{\mathrm{gt}}(\mathbf{x})|_{1}.$<br><strong>æ ¹æ®</strong>$Q(x)$çš„å®šä¹‰ï¼Œä¼šåœ¨errorå¤§çš„åœ°æ–¹å¤šé‡‡æ ·ä¸€äº›$x$å³åƒç´ ç‚¹<br>Soft mining. $\mathcal{L}=\frac1N\sum_{n=1}^N\left[\frac{\mathrm{err}(\mathbf{x}_n)}{\mathrm{sg}(Q(\mathbf{x}_n))^\alpha}\right],\quad\text{where }\alpha\in[0,1]$(åœ¨å…³æ³¨errorå¤§çš„åŒºåŸŸçš„åŒæ—¶ä¹Ÿè¦å…³æ³¨ä¸€ä¸‹å…¶ä»–åŒºåŸŸï¼Œä¸ç„¶å¯èƒ½ä¼šå­¦æ­ª)</p><ul><li>$\alpha = 0$ï¼šhard mining</li><li>$\alpha = 1$ï¼š(pure) importance sampling</li></ul><ol><li>Sampling via <strong>Langevin Monte Carlo</strong></li></ol><blockquote><p><a href="https://arxiv.org/pdf/1811.10072">The promises and pitfalls of Stochastic Gradient Langevin Dynamics</a> æ•°å­¦åˆ†æLMC, SGLD, SGLDFP and SGD<br><a href="https://arxiv.org/pdf/1206.1901">MCMC using Hamiltonian dynamics</a> </p></blockquote><p>ä»ä»»æ„åˆ†å¸ƒ$Q(x)$ä¸­é‡‡æ ·ï¼Œä½¿ç”¨MCMCæ–¹æ³•ä¸­çš„Langevin Monte Carlo (LMC)<br>$\mathbf{x}_{t+1}=\mathbf{x}_t+a\nabla\log Q(\mathbf{x}_t)+b\boldsymbol{\eta}_{t+1},$</p><ul><li>a&gt;0 is a hyperparameter defining the step size for the gradient-based walks</li><li>b&gt;0 is a hyperparameter defining the step size for the random walk $\boldsymbol{\eta}_{t\boldsymbol{+}1}\boldsymbol{\sim}\mathcal{N}(0,\mathbf{1})$</li><li>é‡‡æ ·æ˜¯å±€éƒ¨çš„ï¼Œå› æ­¤é‡‡æ ·çš„å¼€é”€å¾ˆå°</li><li>logçš„ä½œç”¨åº”è¯¥æ˜¯æŠŠä¹˜é™¤è½¬æ¢æˆåŠ å‡, eg: $w_i=\frac{p(x_i)}{q(x_i)}, \log w_i=\log p(x_i)-\log q(x_i)$</li></ul><h4 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h4><p>Hello, I have the same question about the code in line 280 of â€œexamples/train_ngp_nerf_prop.pyâ€.</p><p>According to the previous code, the <code>correction</code> and <code>loss_per_pix</code> are respectively:</p><script type="math/tex; mode=display">correction = \frac{1}{sg(Q(\mathbf{x}))^{\alpha}}</script><script type="math/tex; mode=display">loss\_per\_pix=\frac{Q(\mathbf{x})^{2}}{sg(Q(\mathbf{x}))^{\alpha}}</script><p>Then the <code>net_grad</code> should be:</p><script type="math/tex; mode=display">\begin{align} {netgrad} &= \frac{\partial loss\_per\_pix}{\partial\mathbf{x}} = \frac{2Q(\mathbf{x})}{sg(Q(\mathbf{x}))^{\alpha}} \nabla Q(\mathbf{x}) \\\end{align}</script><script type="math/tex; mode=display">\begin{align}\nabla\log Q(\mathbf{x}) &= \frac{1}{Q(\mathbf{x})} \nabla Q(\mathbf{x}) \\&=\frac{1}{Q(\mathbf{x})} \frac{netgrad \cdot sg(Q(\mathbf{x}))^{\alpha}}{2Q(\mathbf{x})} \\&=\frac{netgrad}{2\cdot loss\_per\_pix}\end{align}</script><p>I donâ€™t know why <code>net_grad</code> in the code is need to divide by <code>correction</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net_grad = net_grad / ((grad_scaler._scale * (correction * loss_per_pix).unsqueeze(<span class="number">1</span>))+ torch.finfo(net_grad.dtype).eps)</span><br></pre></td></tr></table></figure><p>Maybe my understanding about the partial of <code>loss_per_pix</code> is wrongâ€¦ Could u give me some advice about that, thank u very much.</p><h4 id="Other-tricks"><a href="#Other-tricks" class="headerlink" title="Other tricks"></a>Other tricks</h4><p>Sample (re-)initialization.(é‡‡æ ·çš„åˆå§‹åŒ–å¾ˆé‡è¦)ï¼šWe first initialize the sampling distribution to be uniform over the domain of interest as $\mathbf{x}_{0}{\sim}\mathcal{U}(\mathcal{R})$. We further re-initialize samples that either move out of $\mathcal{R}$ or have too low error value causing samples to get â€˜stuckâ€™. We use uniform sampling as well as edge-based sampling for 2D workloads.<br>Warming up soft mining. Start with $\alpha=0$, i.e., no correction, then linearly increase it to the desired $\alpha$ value at 1k iterations.<br>Alternative: multinomial sampling. To use multinomial sampling, one needs to do a forward pass of all data points to build a probability density function, which is computationally expensive. Hence an alternative strategy, such as those based on Markov Chain Monte Carlo (MCMC) is required. ä¸ºäº†é˜²æ­¢å¯¹æ‰€æœ‰åƒç´ ç‚¹è¿›è¡Œå‰å‘è®¡ç®—ä»¥è®¡ç®—PDFçš„é«˜è€—è´¹ï¼Œä½¿ç”¨MCMCé‡‡æ ·</p><p>Ablation studiesä¸­: å³ä½¿LMCé‡‡æ ·çš„ç²¾åº¦æ¯”multinomial samplingä½ä¸€ç‚¹ï¼Œä½†ä»ç„¶æ¯”Uniform samplingæ›´é«˜ï¼Œä¸”æ›´effective(æ•ˆç‡ä¸ç²¾åº¦çš„æŠ˜ä¸­(compromise/trade-off))</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240708102314.png" alt="image.png|666"></p><h3 id="Shooting-Much-Fewer-Rays"><a href="#Shooting-Much-Fewer-Rays" class="headerlink" title="Shooting Much Fewer Rays"></a>Shooting Much Fewer Rays</h3><blockquote><p><a href="https://arxiv.org/pdf/2208.06821">Fast Learning Radiance Fields by Shooting Much Fewer Rays</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240620160134.png" alt="image.png|888"><br>ä¹‹å‰çš„ä»å›¾ç‰‡ä¸­é‡‡æ ·åƒç´ orå…‰çº¿çš„æ–¹æ³•ï¼š$\mathbf{r}_i(u,v)\sim U(I_i),u\in[0,H_i],v\in[0,W_i],$ æŒ‰å‡åŒ€åˆ†å¸ƒéšæœºé‡‡æ ·</p><ul><li>trivial areasï¼šå¯¹äºèƒŒæ™¯(å¤§éƒ¨åˆ†é¢œè‰²ç›¸åŒ)ï¼Œè¿™æ ·å›¾ç‰‡çš„åƒç´ å°±æ˜¯éå‡åŒ€çš„åˆ†å¸ƒï¼Œå‡åŒ€é‡‡æ ·æ–¹å¼ä¼šå¯¼è‡´é‡‡æ ·åˆ°ä¸€äº›æ— æ„ä¹‰çš„åƒç´ ã€‚ <strong>Therefore</strong>, we only need to shoot fewer rays in the trivial areas where the color changes slightly to perceive the radiance fields</li><li>nontrivial areasï¼šcolor changes greatly contain more information, so more rays are required to capture the detailed information and learn how to distinguish these pixelsâ€™ colors from its neighboring ones</li></ul><p>trivial areasä¼šå¾ˆå¿«æ”¶æ•›ï¼Œè€Œnontrivial areasä¸å®¹æ˜“æ”¶æ•›<br>Based on the above observation, we propose two strategies to optimize ray distribution on input images. </p><ul><li>The first one is to calculate a <strong>prior probability distribution based on the image context</strong> GTå›¾ç‰‡çš„å…ˆéªŒåˆ†å¸ƒ</li><li>the second one is to apply an <strong>adaptive quadtree subdivision algorithm</strong> to dynamically adjust ray distribution. è‡ªé€‚åº”çš„QSA</li></ul><p>å…·ä½“åšæ³•ï¼š</p><ol><li>Context based Probability Distributionï¼šwe use the color variation of pixels relative to their surroundings to quantitatively identify the image context.</li></ol><p>è®¡ç®—æ¯ä¸ªåƒç´ ç‚¹è·Ÿå‘¨å›´å…«ä¸ªç‚¹çš„stdï¼š$g(u,v)=\operatorname{std}(\mathbf{c}(u,v))=\sqrt{\frac19\sum_{x,y}[\mathbf{c}(x,y)-\overline{\mathbf{c}}]^2},\\x\in\{u-1,u,u+1\},y\in\{v-1,v,v+1\}.$ gè¶Šé«˜è¡¨ç¤ºåƒç´ é¢œè‰²/å¯†åº¦å˜åŒ–è¶Šå‰§çƒˆï¼Œé€šå¸¸åœ¨3Dç‰©ä½“çš„è¡¨é¢è¾¹ç•Œå¤„ã€‚ä¼˜åŠ¿ï¼šour image context based probability distribution function naturally helps to estimate where surfaces are located.<br>ä¸ºäº†å¹³è¡¡$g_{max}$ä¸$g_{min}$ä¹‹é—´çš„å·®å¼‚ï¼Œclampåè¿›è¡Œå½’ä¸€åŒ–ï¼š$g^{\prime}(u,v)=\frac{\mathrm{clamp}(s,\max(g(u,v)))}{\mathrm{max}(g(u,v))}$ï¼Œwe typically define threshold $\begin{aligned}s=0.01\times\text{mean}(g(u,v))\end{aligned}$. Values less than s will be clamped to s to avoid sampling too few rays at the corresponding positions.<br><strong>Sampling strategy</strong>. In the lines of â€œSampled Rays Distributionâ€, we sample 50% rays according to the context based probability distribution and randomly sample the other 50% rays, where each red point represents a sampled ray(<strong>ä¸ºä»€ä¹ˆè¦è®¾ç½®æˆ50%</strong>)</p><ol><li>Adaptive QuadTree Subdivisionï¼šå¯¹äºrendering errorï¼Œåªåœ¨errorå¤§çš„åœ°æ–¹ç»†åˆ†ï¼Œåœ¨errorå°çš„åœ°æ–¹ä¸åœ¨ç»†åˆ†(æ ¹æ®pre-defined threshold aæ¥åˆ¤æ–­å¤§å°)</li></ol><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240620170649.png" alt="image.png|666"><br>å›¾ç‰‡$I_{i}(H_{i} \times W_{i})$ä¸Šæ€»çš„é‡‡æ ·æ•°é‡ï¼š$M_i^l=Q_1^l\times\frac{H_i}{2^l}\times\frac{W_i}{2^l}+Q_2^l\times n_0,$ $l$ denote the times of subdivision, $Q_1^l$ and $Q_2^l$ denote the number of unmarked leaf nodes (error&gt;a) and marked leaf nodes (error&lt;a) separately. $n_{0} = 10(constant)$</p><blockquote><p><a href="https://arxiv.org/pdf/2103.12352">iMAP: Implicit Mapping and Positioning in Real-Time</a></p></blockquote><p>åŒæ—¶<a href="https://arxiv.org/pdf/2103.12352">iMap</a>ä¹Ÿä½¿ç”¨rendering erroræ¥å¼•å¯¼é‡‡æ ·ï¼Œä¸åŒç‚¹ï¼š</p><ul><li>The applications of rendering loss are different. iMap uses the rendering loss distribution on image blocks to decide how many points should be sampled on each block, while we use the <strong>rendering loss</strong> on each leaf node to decide whether this node should be subdivided into 4 child nodes.</li><li>The number of sampled points and image blocks are different. In our method, the number of sampled points in each leaf node is identical, but the number and area of the image blocks (i.e. leaf nodes) changes during training. In contrast, iMap samples different numbers of rays according to a render loss based distribution in each one of the same size blocks.</li><li>The sampling strategies in image blocks are different. In each image block, iMap uniformly samples points for rendering, while we sample points according to the image context. More points are sampled in the nontrivial areas where color changes a lot, while fewer points are sampled in the trivial areas where color changes slightly. Our sampling strategy helps to capture the detailed information in the nontrivial areas and reduce the training burden in the trivial areas.</li></ul><ol><li>Implementation Details</li></ol><ul><li>åœ¨æ¯ä¸ªepochç»“æŸåï¼Œä¹Ÿå°±æ˜¯å¯¹æ•°æ®é›†ä¸­æ‰€æœ‰å›¾åƒçš„åƒç´ éƒ½è¿›è¡Œä¸€æ¬¡renderingï¼Œç„¶åä¸g.t.è¿›è¡Œå¯¹æ¯”å¾—åˆ°rendering error</li><li>In practice, we initially subdivide the quadtrees into 2 or 3 depths at the begin of training. This helps our method to distinguish the trivial and nontrivial areas faster among the quadtree leaf nodes</li></ul><p>å­˜åœ¨çš„é—®é¢˜ï¼š</p><ul><li>All-Pixel Samplingä¸­ï¼Œä½œè€…ä¸ºäº†é˜²æ­¢MLPå¯¹unmarked leaf nodesè¿›è¡Œæ‹Ÿåˆçš„åŒæ—¶ä¼šæ”¹å˜å·²ç»æ‹Ÿåˆå¥½çš„marked leaf nodesï¼Œåœ¨æ¥è¿‘æœ€åçš„epochï¼Œä½¿ç”¨äº†randomly sample rays from the whole image instead of using quadtrees for sampling, where the number of sampled rays is equal to the total number of pixels. <strong>å¦‚ä½•freezeå·²ç»æ‹Ÿåˆå¥½çš„marked leaf nodes???</strong></li></ul><h3 id="iNeRF"><a href="#iNeRF" class="headerlink" title="iNeRF"></a>iNeRF</h3><blockquote><p><a href="https://arxiv.org/pdf/2012.05877">iNeRF: Inverting Neural Radiance Fields for Pose Estimation</a></p></blockquote><p>ä¸€ç§åŸºäºNeRFé¢„è®­ç»ƒæ¨¡å‹çš„å§¿æ€ä¼°è®¡çš„æ–¹æ³•. æœ‰äº†NeRF(MLP), å»refineä½å§¿</p><ul><li>Sampling Rays: è®¡ç®—æ‰€æœ‰pixelæ˜¯éå¸¸è€—æ—¶è€—åŠ›çš„ã€‚ç›®çš„æ˜¯æƒ³è¦é‡‡æ ·çš„ç‚¹å¯ä»¥æ›´å¥½çš„åŒ…å«åœ¨observed imageså’Œrendered imagesä¸Šã€‚ä¸‰ç§ç­–ç•¥ï¼š<ul><li>Random Sampling</li><li>Interest Point Sampling: employ interest point detectors to localize a set of candidate pixel locations in the observed image, this strategy makes optimization converge faster since less stochasticity is introduced. <strong>But</strong> we found that it is prone to local minima as it only considers interest points on the observed image instead of interest points from both the observed and rendered images.</li><li>Interest Region Sampling: After the interest point detector localizes the interest points, we apply a 5 Ã— 5 <strong>morphological dilation</strong> for I iterations to enlarge the sampled region.</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240620151248.png" alt="image.png|666"></p><h3 id="Expansive-Supervision"><a href="#Expansive-Supervision" class="headerlink" title="Expansive Supervision"></a>Expansive Supervision</h3><blockquote><p><a href="https://arxiv.org/pdf/2409.08056">Expansive Supervision for Neural Radiance Field | PDF</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240928172853.png" alt="image.png|333"></p><p>æœ¬æ–‡æ€è·¯ï¼špixels within the same batch must derive from identical input views</p><ul><li><strong>Strict Sequential order</strong> in imageï¼šthis approach results in a significant decrease in model performance due to the <strong>reduced entropy of the training data</strong> This reduction in entropy negatively impacts the learning performance during each iteration.</li><li><strong>Permutation algorithm</strong>(maximizes the entropy) å°†ä»åŒä¸€å¼ å›¾ç‰‡ä¸­é‡‡æ ·å¾—åˆ°çš„batchè¿›è¡Œæ‰“ä¹±é¡ºåºï¼š$P^<em>=\arg\max_PH(P(\mathcal{D}))$ æ‰¾åˆ°ç†µ$H(\cdot)$æœ€å¤§æ—¶çš„ permutation $P^{</em>}$<ul><li>$\text{s.t.}C:B\cap I=B,\forall B\in\mathcal{B},\exists I\in I$ ç”¨æ•°å­¦å…¬å¼æè¿° Batch B of Batch set $\mathcal{B}$ ä¸­çš„æ‰€æœ‰åƒç´ åœ¨ image set $\mathcal{I}$ ä¸­çš„å›¾ç‰‡$I$ä¸­ </li><li>$\mathcal{D} = g(\mathcal{B}) = g(\mathcal{I})$ å…¶ä¸­ $g(\cdot)$è¡¨ç¤ºreshape function å°†å¤šç»´é›†æ˜ å°„ä¸ºå•ä½é›†å¹¶ä¿å­˜element order: å°†ä»å•ä¸ªå›¾ç‰‡$I$ä¸­æŠ½å–å¾—åˆ°çš„$\mathcal{B}$ ä¸­çš„å¤šä¸ª$B$ å±•æˆä¸€ç»´æ•°æ®ï¼Œæœ€ç»ˆè·å¾—å•ç»´é›†$\mathcal{D}$ï¼Œç„¶åè¿›è¡ŒPæ’åˆ—ï¼Œå¾—åˆ°$P(\mathcal{D})$</li><li>æœ€ç»ˆå¾—åˆ°shuffledçš„batch set $\mathcal{B}=P^{*}(\mathcal{D})$ å’Œ the image set $\mathcal{I}$</li></ul></li></ul><p><strong>Section 3.2 Content-aware Permutation</strong></p><p>$\hat{P}_{\mathrm{intra}}^{I}(B)$è¡¨ç¤ºå¯¹ä»ç›¸åŒçš„è¾“å…¥è§†å›¾ä¸­æŠ½å–çš„ä¸åŒbatchçš„åƒç´ è¿›è¡Œæ’åº<br>$\hat{P}_{\mathrm{inter}}^{\mathcal{B}}(\mathcal{D})$è¡¨ç¤ºå¯¹åŒä¸€ä¸ªbatchçš„åƒç´ è¿›è¡Œæ’åº</p><p><strong>Section 3.3 Expansive Supervision</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240928172804.png" alt="image.png|666"></p><ul><li>The anchor area are computed by the light-wight edge detector to displays prominent error patterns. è¿™ä¸€åŒºåŸŸä»where patterns exhibit larger errorsè¿›è¡Œé€‰æ‹©</li><li>And source area are sampled to expand its values to the reaming area. ğŸ¤”ä¸ºä»€ä¹ˆè¿˜è¦æœ‰sorce areaï¼Œé™¤äº†é‡è¦è¾¹ç¼˜åŒºåŸŸï¼Œè¿˜è€ƒè™‘ä¸€ä¸‹å…¶ä»–åŒºåŸŸï¼ŸIn my opinionï¼š<ul><li>The source set is composed of sampled points, and the error is estimated based on these source points, which expand to cover all remaining areasã€‚<strong>é€šè¿‡é‡‡æ ·ä¸€äº›é™¤äº†anchor setä¹‹å¤–çš„åƒç´ ï¼Œç”¨è¿™äº›åƒç´ çš„erroræ¥ä»£è¡¨å…¶ä»–åœ°æ–¹çš„errorï¼Œä»è€Œä¸éœ€è¦è®¡ç®—æ‰€æœ‰åƒç´ çš„errorï¼ŒèŠ‚çœäº†æ—¶é—´</strong></li></ul></li></ul><p>æœ€ç»ˆçš„æŸå¤±ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\hat{L}=& \frac1{|A^*|}\sum_{r_A\in A^*}||\hat{C}(r_A)-C(r_A)||_2^2+ \\&\frac{1}{|S|}(\frac{1}{\beta_{A}+\beta_{S}}-1)\sum_{r_{S}\in S}||\hat{C}(r_{S})-C(r_{S})||_{2}^{2},\end{aligned}</script><ul><li>$\beta_{A}$å’Œ$\beta_{S}$åˆ†åˆ«ç”¨æ¥æ§åˆ¶anchor area å’Œ source areaçš„å¤§å°</li></ul><h1 id="Uncertainty"><a href="#Uncertainty" class="headerlink" title="Uncertainty"></a>Uncertainty</h1><p>Basic Paper:</p><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th></tr></thead><tbody><tr><td>2021</td><td><a href="https://arxiv.org/pdf/2110.12122v1">Quantifying Epistemic Uncertainty in Deep Learning</a></td></tr><tr><td>2021</td><td><a href="https://link.springer.com/article/10.1007/s10994-021-05946-3">Aleatoric and epistemic uncertainty in machine learning: an introduction to concepts and methods</a></td></tr><tr><td>2022</td><td><a href="https://arxiv.org/pdf/2107.03342#page=21.35">A Survey of Uncertainty in Deep Neural Networks</a></td></tr></tbody></table></div><p>ä¸‰ç»´æ¨¡å‹ä¸ç¡®å®šæ€§ï¼š</p><ul><li><a href="https://blog.csdn.net/m0_50910915/article/details/134133658">ã€è®ºæ–‡é˜…è¯»ã€‘ä½¿ç”¨ç¥ç»å½¢çŠ¶å…ˆéªŒçš„å¤šè§†å›¾ä¸‰ç»´é‡å»ºå’Œä¸ç¡®å®šæ€§å»ºæ¨¡-CSDNåšå®¢</a></li></ul><h2 id="Sources-of-Uncertainty"><a href="#Sources-of-Uncertainty" class="headerlink" title="Sources of Uncertainty"></a>Sources of Uncertainty</h2><p><a href="Sources%20of%20Uncertainty%20in%203D%20Scene%20Reconstruction.md">Sources of Uncertainty in 3D Scene Reconstruction</a></p><ul><li>ç¯å¢ƒå…‰ç…§æ˜¯å¦å¯ä»¥é€šè¿‡ä¸ç¡®å®šæ€§è¿›è¡Œé‡åŒ–</li><li>ä¸åŒçš„cuda/æ˜¾å¡ç¯å¢ƒæ˜¯å¦ä¹Ÿæ˜¯ä¸ç¡®å®šæ€§</li></ul><h2 id="Ensembles"><a href="#Ensembles" class="headerlink" title="Ensembles"></a>Ensembles</h2><p><a href="https://arxiv.org/pdf/2209.08718">Density-aware NeRF Ensembles: Quantifying Predictive Uncertainty in Neural Radiance Fields</a> 2022</p><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td>2021</td><td><a href="https://arxiv.org/pdf/2109.02123">Stochastic Neural Radiance Fields: Quantifying Uncertainty in Implicit 3D Representations</a></td><td></td><td></td><td></td><td></td></tr><tr><td>2024â­</td><td><a href="https://arxiv.org/abs/2404.06727">[2404.06727] Bayesian NeRF: Quantifying Uncertainty with Volume Density in Neural Radiance Fields</a></td><td>Volume Density in Neural Radiance Fields</td><td>quantifying uncertainty based on the geometric structure</td><td>Bayesian</td><td>å‡ ä½•ä½“ç§¯ç»“æ„ä¸­çš„ä¸ç¡®å®šæ€§ï¼Œä¸ä»…RGBï¼Œè¿˜æœ‰æ·±åº¦</td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2405.02568">[2405.02568] ActiveNeuS: Active 3D Reconstruction using Neural Implicit Surface Uncertainty</a></td><td>3D scene reconstruction</td><td>Active learningä¸»åŠ¨å­¦ä¹ </td><td>Neural Implicit Surface Uncertainty</td><td>å›¾åƒæ¸²æŸ“æˆ–å‡ ä½•ä¸ç¡®å®šæ€§<br>åˆ©ç”¨ä¸åŒç±»å‹çš„ä¸ç¡®å®šæ€§å¯ä»¥å‡å°‘åœ¨æ—©æœŸè®­ç»ƒé˜¶æ®µå› è¾“å…¥ç¨€ç–è€Œå‡ºç°çš„åå·®</td></tr><tr><td>2024</td><td><a href="https://bayesrays.github.io/">Bayesâ€™ Rays</a></td><td>NeRF</td><td>BaysRays</td><td>Uncertainty Quantification</td><td>Bayes, åæ ‡perturbation</td></tr><tr><td>2024<br>â­</td><td>[Sources of Uncertainty in 3D Scene Reconstruction \</td><td>PDF](<a href="https://arxiv.org/pdf/2409.06407">https://arxiv.org/pdf/2409.06407</a>)</td><td>NeRF and 3DGS</td><td><br></td><td></td><td></td></tr><tr><td>2024</td><td><a href="https://actnerf.github.io/">ActNeRF</a></td><td>Robot Manipulators</td><td>Uncertainty-aware Active Learning of NeRF-based Object Models</td><td>Visual and Re-orientation Actions</td><td>å…è®¸æœºå™¨äººåœ¨æ”¶é›†è§†è§‰è§‚å¯Ÿç»“æœçš„åŒæ—¶é‡æ–°å®šå‘ç‰©ä½“</td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2404.01400">[2404.01400] NVINS: Robust Visual Inertial Navigation Fused with NeRF-augmented Camera Pose Regressor and Uncertainty Quantification</a></td><td>real-time and robust robotic tasks(æœºå™¨äººå®æ—¶å¯¼èˆª)</td><td>NeRF-augmented Camera Pose Regressor and Uncertainty Quantification</td><td>Fused</td><td></td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2403.18476">[2403.18476] Modeling uncertainty for Gaussian Splatting</a></td><td>Gaussian Splatting</td><td>Modeling uncertainty</td><td>Variational Inference-based approach +  Area Under Sparsification Error (AUSE)</td><td>åœ¨<strong>å›¾åƒæ¸²æŸ“è´¨é‡</strong>å’Œä¸ç¡®å®šæ€§ä¼°è®¡ç²¾åº¦æ–¹é¢éƒ½ä¼˜äºç°æœ‰æ–¹æ³•</td></tr><tr><td>2024</td><td><a href="https://sites.google.com/view/nvf-cvpr24/">Neural Visibility Field for Uncertainty-Driven Active Mapping</a></td><td></td><td></td><td></td><td>NVF è‡ªç„¶ä¼šä¸ºæœªè§‚å¯ŸåŒºåŸŸåˆ†é…æ›´é«˜çš„ä¸ç¡®å®šæ€§ï¼Œå¸®åŠ©æœºå™¨äººé€‰æ‹©æœ€å…·ä¿¡æ¯é‡çš„ä¸‹ä¸€ä¸ªè§†ç‚¹</td></tr><tr><td>2024</td><td><a href="https://arxiv.org/pdf/2407.08154">Bayesian uncertainty analysis for underwater 3D reconstruction with neural radiance fields</a></td><td></td><td></td><td></td></tr></tbody></table></div><h2 id="ActiveNeRF"><a href="#ActiveNeRF" class="headerlink" title="ActiveNeRF"></a>ActiveNeRF</h2><p><a href="ActiveNeRF.md">ActiveNeRF</a></p><h2 id="FisherRF"><a href="#FisherRF" class="headerlink" title="FisherRF"></a>FisherRF</h2><p><a href="https://jiangwenpl.github.io/FisherRF/">FisherRF: Active View Selection and Uncertainty Quantification for Radiance Fields using Fisher Information</a></p><p>limited availability of 2D images poses uncertainties stemming from occlusions, depth ambiguities, and imaging errors</p><p>FisherRF computes the Fisher Information for the model and could select next best views or quantify pixel-wise uncertainty for its renderings.</p><p><img src="https://jiangwenpl.github.io/FisherRF/static/images/teaser-cropped.gif" alt="teaser-cropped.gif (1320Ã—1080)|333"><br><img src="https://jiangwenpl.github.io/FisherRF/static/images/teaser.jpg" alt="teaser.jpg (986Ã—863)|555"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Finite Element Learning Note</title>
      <link href="/Learn/Finite%20Element/Learn-FEA/"/>
      <url>/Learn/Finite%20Element/Learn-FEA/</url>
      
        <content type="html"><![CDATA[<p>Basic of Finite Element Analysis</p><span id="more"></span><h1 id="Finite-Element"><a href="#Finite-Element" class="headerlink" title="Finite Element"></a>Finite Element</h1><blockquote><p><a href="https://www.bilibili.com/read/cv15083732/?spm_id_from=333.788.0.0">æœ‰é™å…ƒè®¨è®ºç­å¤§çº² - å“”å“©å“”å“©</a></p></blockquote><p>æœ‰é™å…ƒåˆ†æï¼ˆFinite Element Analysisï¼ŒFEAï¼‰æœ‰æ—¶åˆè¢«ç§°ä½œæœ‰é™å…ƒæ–¹æ³•ï¼ˆFinite Element Methodï¼ŒFEMï¼‰ï¼ŒäºŒè€…åŸºæœ¬å¯ä»¥æ··ç”¨ï¼Œå¾®å°çš„åŒºåˆ«åœ¨äºï¼ŒFEM ä¾§é‡äºæ•´å¥—ç†è®ºè€Œ FEA ä¾§é‡äºåº”ç”¨ FEM äºå…·ä½“å·¥ç¨‹é—®é¢˜ã€‚</p><h2 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/681621600">æœ‰é™å…ƒå…¥é—¨â€”Understanding the Finite Element Method | The Efficient Engineerçš„éƒ¨åˆ†ç¬”è®° - çŸ¥ä¹</a><br><a href="https://zhuanlan.zhihu.com/p/348729395">ç½‘æ ¼åˆ’åˆ†ï¼šå…­é¢ä½“å’Œå››é¢ä½“è¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ - çŸ¥ä¹</a> å…­é¢ä½“è®¡ç®—æ”¶æ•›é€Ÿåº¦å¿«ï¼Œå››é¢ä½“è®¡ç®—æ”¶æ•›æ…¢ã€‚<br><a href="https://zhuanlan.zhihu.com/p/56326567">æœ‰é™å…ƒåˆ†æï¼ˆFEAï¼‰æ˜¯ä¸ªä»€ä¹ˆä¸œä¸œ - çŸ¥ä¹</a> <strong>æœ‰é™å…ƒæ³•å°±æ˜¯ä¸ºäº†æ±‚è§£åå¾®åˆ†æ–¹ç¨‹ï¼</strong> <strong>è·å¾—å¾®åˆ†æ–¹ç¨‹çš„â€œå¼±å½¢å¼â€è§£</strong></p></blockquote><p>æœ‰é™å…ƒæ¨¡å‹ï¼š</p><ul><li>èŠ‚ç‚¹nodeså’Œå…ƒç´ /å•å…ƒelementsçš„é›†åˆç§°ä¸ºæœ‰é™å…ƒç½‘æ ¼(finite element mesh)<ul><li>å…ƒç´ elementsï¼šçº¿å…ƒç´ line elementsç”¨äºå»ºæ¨¡æ†ç­‰ä¸€ç»´ç»“æ„ã€è¡¨é¢å…ƒç´ surface elementsç”¨äºæ¨¡æ‹Ÿè–„å£³ç­‰è–„è¡¨é¢ã€å®ä½“å…ƒç´ solid elementsç”¨äºå»ºæ¨¡ä¸‰ç»´å®ä½“ï¼Œå¦‚å››é¢ä½“Tetï¼Œå…­é¢ä½“Hex</li><li><strong>å¤æ‚çš„å‡ ä½•ä½“é€šå¸¸åªèƒ½ä½¿ç”¨triä¸‰è§’å½¢å’Œtetå››é¢ä½“å…ƒç´ è¿›è¡Œç½‘æ ¼åˆ’åˆ†ã€‚å››è¾¹å½¢quadå’Œå…­é¢ä½“hexå…ƒç´ æœ€é€‚åˆè§„åˆ™å‡ ä½•å›¾å½¢ï¼Œåœ¨è§„åˆ™å‡ ä½•å›¾å½¢ä¸­ï¼Œå®ƒä»¬ä¼˜äºä¸‰è§’å½¢å’Œä¸‰è§’å½¢å…ƒç´ ï¼Œå› ä¸ºå®ƒä»¬æ•ˆç‡æ›´é«˜ä¸”éœ€è¦çš„èŠ‚ç‚¹æ›´å°‘</strong></li><li>å…ƒç´ å¯ä»¥æ˜¯çº¿æ€§çš„ï¼ˆä¹Ÿç§°ä¸ºä¸€é˜¶å…ƒç´ ï¼Œlinear or first-order elementsï¼‰æˆ–äºŒæ¬¡çš„ï¼ˆäºŒé˜¶å…ƒç´ ï¼Œquadratic or second-order elementsï¼‰ã€‚<strong>äºŒæ¬¡å…ƒç´ åœ¨å…ƒç´ çš„æ¯ä¸€ä¾§éƒ½æœ‰é™„åŠ çš„ä¸­é—´èŠ‚ç‚¹</strong>ã€‚å®ƒä»¬éœ€è¦æ›´å¤šçš„è®¡ç®—èƒ½åŠ›ï¼Œä½†é€šå¸¸æ¯”çº¿æ€§å…ƒç´ äº§ç”Ÿæ›´å‡†ç¡®çš„ç»“æœã€‚çº¿æ€§å››é¢ä½“å…ƒç´ ï¼ˆä¾‹å¦‚<strong>TET4</strong>ï¼Œä¸€ç§4èŠ‚ç‚¹å››é¢ä½“å…ƒç´ ï¼‰å¯èƒ½è¡¨ç°å‡ºè¿‡åº¦åƒµç¡¬çš„è¡Œä¸ºï¼Œåº”é¿å…ä½¿ç”¨å®ƒä»¬-é€šå¸¸åº”ä½¿ç”¨<strong>TET10</strong>äºŒæ¬¡å››é¢ä½“å…ƒç´ </li></ul></li><li>è‡ªç”±åº¦ï¼šæœ‰é™å…ƒç½‘æ ¼ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€å®šæ•°é‡çš„è‡ªç”±åº¦ï¼Œ<em>åœ¨äºŒç»´åº”åŠ›åˆ†æä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰3ä¸ªè‡ªç”±åº¦â€”â€”åœ¨Xè½´å’ŒYè½´ä¸Šå¹³ç§»ï¼Œä»¥åŠç»•Zè½´æ—‹è½¬ã€‚å¯¹äºçƒ­åˆ†æï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªè‡ªç”±åº¦ï¼Œå³èŠ‚ç‚¹æ¸©åº¦ã€‚</em></li></ul><blockquote><p><a href="https://zhuanlan.zhihu.com/p/55816169">é€šä¿—æ˜“æ‡‚çš„æœ‰é™å…ƒåŸºç¡€åŸç† - çŸ¥ä¹</a></p></blockquote><ol><li>å¾®åˆ†æ–¹ç¨‹å¤§å¤§é™ä½äº†ä½¿ç”¨å›ºä½“åŠ›å­¦æ³•çš„æ•ˆç‡ï¼Œç”šè‡³è®©æ±‚è§£æˆä¸ºä¸å¯èƒ½</li><li>é‚£ä¹ˆæ€æ ·æ‰èƒ½ç»•å¼€å¾®åˆ†æ–¹ç¨‹å‘¢ï¼Ÿç­”æ¡ˆæ˜¯åœ¨è®¡ç®—ä¸€å¼€å§‹å°±å»<strong>çŒœç»“æ„å—åŠ›åçš„ä½ç§»</strong>ã€‚è¿™ä¸ªä½ç§»æœ€å¥½æ»¡è¶³è¾¹ç•Œæ¡ä»¶ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œæ˜¯â€œæœ€å¥½â€ï¼‰ï¼Œä¹‹åç®—å‡ºç»“æ„åœ¨å‡è®¾ä½ç§»ä¸‹çš„å†…å¤–åŠ›è™šåŠŸï¼Œæˆ–è€…æ˜¯åº”å˜èƒ½ï¼Œä»¤å…¶æ»¡è¶³å¯¹åº”çš„èƒ½é‡åŸç†ã€‚<strong>äººä»¬é€šè¿‡çŒœä½ç§»å¹¶å¼•å…¥èƒ½é‡åŸç†çš„æ–¹å¼ç»ˆäºæ‘†è„±äº†å¾®åˆ†æ–¹ç¨‹ï¼Œå¯ä»¥é€šè¿‡ç§¯åˆ†æ¥åˆ†æç»“æ„äº†</strong>ã€‚</li><li>ç”¨ä¼ ç»Ÿä¹¦å†™æ–¹å¼è¿›è¡Œè®¡ç®—æ•ˆç‡è´¼ä½ï¼Œä¸€å¤§å †ç±»ä¼¼çš„æ–¹ç¨‹ç®—æ¥ç®—å»ï¼Œå¥½ä¸è‡ªåœ¨ã€‚äºæ˜¯æœ‰äººå¼•å…¥äº†çŸ©é˜µï¼ˆMatrixï¼‰æ¥æ”¹å–„è®¡ç®—æ•ˆç‡ï¼ŒæŠŠç›¸ä¼¼è®¡ç®—å†™æˆçŸ©é˜µå½¢å¼ï¼Œä½¿å¾—ä¹¦å†™æ›´åŠ ç®€æ´ï¼Œæ•ˆç‡ä¹Ÿæ›´é«˜ã€‚</li><li><strong>æŠŠç»“æ„åˆ†æˆå¾ˆå¤šå¾ˆå¤šä»½ï¼Œå»çŒœæ¯ä¸€ä»½ä¸Šçš„ä½ç§»</strong>ï¼Œæ¯”å¦‚éƒ½çŒœæˆçº¿æ€§ï¼Œåªè¦ç»“æ„è¢«åˆ’åˆ†çš„å¤Ÿå¤šï¼Œæ¯ä¸€ä»½ä¸ŠçŒœçš„å‡†ä¸å‡†å°±æ— æ‰€è°“ï¼Œåœ¨æ»¡è¶³æ”¶æ•›æ¡ä»¶çš„å‰æä¸‹ï¼Œç®—å‡ºæ¥çš„ä½ç§»å°±ä¼šå¾ˆé è¿‘çœŸå®çš„ä½ç§»</li></ol><blockquote><p><a href="https://www.zhihu.com/question/27696855/answer/3276666220">æœ‰é™å…ƒæ–¹æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ - æ…¢æ…¢é—²è€…çš„å›ç­” - çŸ¥ä¹</a></p></blockquote><p><strong>è¯•å‡½æ•°</strong>ï¼ˆ_trial function_ï¼‰ä½œä¸ºæœ‰é™å…ƒåˆ†æçš„æ•°å­¦åŸºç¡€ï¼Œå…¶åŸºæœ¬åŸç†æ˜¯ï¼šå…ˆå‡å®šæ»¡è¶³ä¸€å®šè¾¹ç•Œæ¡ä»¶çš„è¯•å‡½æ•°ï¼Œç„¶åå°†å…¶ä»£å…¥éœ€è¦æ±‚è§£çš„<strong>æ§åˆ¶æ–¹ç¨‹</strong>ï¼ˆ_governing equation_ï¼‰ï¼Œé€šè¿‡ä½¿ç”¨ä¸åŸæ–¹ç¨‹çš„è¯¯å·®æ®‹å€¼æœ€å°æ¥ç¡®å®šè¯•å‡½æ•°ä¸­çš„å¾…å®šç³»æ•°ã€‚</p><blockquote><p><a href="https://www.youtube.com/watch?v=se1MergCnh8&amp;list=PLLwttJaA6dBJGd1FaLziRqXXCefZbOfX8">1 3 å¾®åˆ†æ–¹ç¨‹æ±‚è§£çš„æ–¹æ³• - YouTube</a></p></blockquote><p>æ±‚è§£å¾®åˆ†æ–¹ç¨‹æ–¹æ³•ï¼š</p><ul><li>è§£ææ–¹æ³•</li><li>è¿‘ä¼¼æ–¹æ³•(å·®åˆ†)ï¼Œå°†æ•´ä½“åˆ†ä¸ºå¾ˆå¤šå°éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†è¿›è¡Œæ±‚è§£ï¼Œç»†åˆ†è¶Šå¤šè¶Šæ¥è¿‘è§£æè§£</li><li>è¿‘ä¼¼æ–¹æ³•(è¯•å‡½æ•°)ï¼Œé€‰æ‹©æ»¡è¶³è¾¹ç•Œæ¡ä»¶çš„è¯•å‡½æ•°(æœ‰å¾…å®šç³»æ•°)ï¼Œå¸¦å…¥æ§åˆ¶æ–¹ç¨‹(å¾®åˆ†æ–¹ç¨‹)ï¼Œå¤§æ¦‚ç‡ä¸æ»¡è¶³æ–¹ç¨‹ï¼Œå¸¦å…¥æ§åˆ¶æ–¹ç¨‹å¾—åˆ°æ®‹å·®å‡½æ•°å¹¶è®©æ®‹å·®æœ€å°ã€‚åŠ æƒä½™é‡æ³•â€”â€”(æ®‹å·®å‡½æ•°ä¸åŸºåº•å‡½æ•°åŠ æƒæ±‚å’Œ/æ±‚ç§¯åˆ†å¹¶ä»¤å…¶ä¸º0ï¼Œç¡®å½“å¾…å®šç³»æ•°) å½“æ®‹å·®ä¸åŸºå‡½æ•°çš„ç§¯åˆ†ä¸ºé›¶æ—¶ï¼Œæ„å‘³ç€åœ¨è¿™äº›æ–¹å‘ä¸Šçš„æ®‹å·®æŠ•å½±ä¸ºé›¶ã€‚</li></ul><blockquote><p><a href="https://ethz.ch/content/dam/ethz/special-interest/mavt/mechanical-systems/mm-dam/documents/Notes/IntroToFEA_red.pdf">ethz.ch/content/dam/ethz/special-interest/mavt/mechanical-systems/mm-dam/documents/Notes/IntroToFEA_red.pdf</a> </p></blockquote><p>Really nice book!!!</p><blockquote><p><a href="https://chaoskey.github.io/notes/docs/fem/0097/">æœ‰é™å…ƒæ–¹æ³•ï¼ˆä¸€ï¼‰ã€ç¿»è¯‘ã€‘ | å­¦ä¹ ç¬”è®°</a><br>ã€ŠAutomated Solution of Differential Equations by the Finite Element Methodã€‹è¯»ä¹¦ç¬”è®° by chaoskey</p></blockquote><h2 id="PINN"><a href="#PINN" class="headerlink" title="PINN"></a>PINN</h2><blockquote><p><a href="https://www.zhihu.com/question/523893840">(72 å°ç§ä¿¡ / 80 æ¡æ¶ˆæ¯) æ•°å€¼pdeä¸æ·±åº¦å­¦ä¹ ç»“åˆæ˜¯æœªæ¥å‘å±•æ–¹å‘å—ï¼Ÿ - çŸ¥ä¹</a> PINN <a href="https://zhuanlan.zhihu.com/p/468748367">â€‹å†…åµŒç‰©ç†çŸ¥è¯†ç¥ç»ç½‘ç»œï¼ˆPINNï¼‰æ˜¯ä¸ªå‘å—ï¼Ÿ - çŸ¥ä¹</a><br>  <a href="https://www.zhihu.com/question/523893840/answer/2961123949">æ•°å€¼pdeä¸æ·±åº¦å­¦ä¹ ç»“åˆæ˜¯æœªæ¥å‘å±•æ–¹å‘å—ï¼Ÿ - Martingaleçš„å›ç­” - çŸ¥ä¹</a></p></blockquote><p><img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcommunity.altair.com%2F82dc6cb8db978d90e8863978f496193d.iix&amp;f=1&amp;nofb=1&amp;ipt=e29041e57c827ed2faf008c7ddd57993d080f93b25ead70858bd52bf7800e97c&amp;ipo=images" alt="iu (1172Ã—464)"></p><h2 id="VEM-Virtual-Element-Method"><a href="#VEM-Virtual-Element-Method" class="headerlink" title="VEM (Virtual Element Method)"></a>VEM (Virtual Element Method)</h2><blockquote><p><a href="https://space.bilibili.com/76753039/dynamic">è‰è“Yeå­é…±ä¸ªäººåŠ¨æ€-è‰è“Yeå­é…±åŠ¨æ€è®°å½•-å“”å“©å“”å“©è§†é¢‘</a> <a href="https://github.com/Qinxiaoye/xpfem?tab=readme-ov-file">Qinxiaoye/xpfem: A python package for finite element method (FEM) in solid mechanics</a> Bingbing Xuå¤§ä½¬<br><a href="https://maths.dur.ac.uk/lms/101/talks/0493daveiga.pdf">An introduction to the Virtual Element Method</a></p></blockquote><h1 id="Software-about-FE"><a href="#Software-about-FE" class="headerlink" title="Software (about FE)"></a>Software (about FE)</h1><h2 id="Solidworks"><a href="#Solidworks" class="headerlink" title="Solidworks"></a>Solidworks</h2><p>å»ºç«‹å¥½çš„æ¨¡å‹å¯¼å‡ºä¸º<code>.x_t</code>æ ¼å¼</p><p>å°†Solid è½¬æ¢æˆSurfaceï¼š</p><ul><li><strong>Delete Face</strong></li><li>Offset</li></ul><blockquote><p><a href="https://www.youtube.com/watch?v=Fx0jX_7aJHM">How To Convert Solid To Surface Body In SolidWorks - YouTube</a></p></blockquote><h2 id="Patran"><a href="#Patran" class="headerlink" title="Patran"></a>Patran</h2><p>Preferences â€”&gt; Geometry å•ä½åˆ¶ inches/m/mmï¼Œä¸åŒçš„å•ä½è®¾ç½®ææ–™ç‰¹æ€§æ—¶ä¼šæœ‰å·®å¼‚</p><p>eg(é’¢æ¿): E = 210GPaï¼Œ$\rho = 7860 Kg/m^{3}$<br>mmåˆ¶ï¼š</p><ul><li>Elastic Modulus/Shear Modulusï¼š(210000)MPa/(83000)MPa</li><li>Poisson Ratio(0.25)ï¼šæ³¨æ„è®¾ç½®äº†Eå’ŒGåï¼ŒPoisson Ratioä¼šè‡ªåŠ¨è®¡ç®—(æ ¹æ®é’¢æ¿ç®—ä¾‹æµ‹è¯•å‡ºæ¥çš„)</li><li>Densityï¼š(7.8599998E-09)$Kgf \cdot s^{2} /mm^{4}$ $(Kg/m^{3} =kgf \cdot s^{2}/m^{4})$ $(1Kgf = 9.8N = 9.8 Kg \cdot m/s^{2})$</li></ul><blockquote><p><a href="https://wenku.baidu.com/view/9f2572f37c1cfad6195fa7d6.html?fr=income1-doc-search&amp;_wkts_=1714641483975&amp;wkQuery=patran%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%8D%95%E4%BD%8D">patranä¸­æ•°æ®çš„è¾“å…¥è¾“å‡ºå•ä½ - ç™¾åº¦æ–‡åº“</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240708153849.png" alt="image.png|666"></p><h3 id="Mode-Frequency"><a href="#Mode-Frequency" class="headerlink" title="Mode Frequency"></a>Mode Frequency</h3><p>â€”&gt;ç”Ÿæˆ <strong>bdf</strong></p><ol><li>File â€”&gt; New â€”&gt; <code>*.db</code></li><li>Menu â€”&gt; Preferences â€”&gt; Geometry â€”&gt; 1000.0 (Millimeters) â€”&gt; <strong>Apply</strong></li><li>File â€”&gt; Import â€”&gt; <code>*.x_t</code> â€”&gt; <strong>Apply</strong> (Display â€”&gt; Smooth Shade)</li><li>Meshing â€”&gt;(RHS) Mesh â€”&gt; Solid â€”&gt;(Main window) select solid â€”&gt; Automatic Calculation  â€”&gt; <strong>Apply</strong></li><li>Properties â€”&gt; Isotropic â€”&gt;(RHS) <em>Material Name</em> â€”&gt; Input properties (Elastic Modulus: 210000MPa, Shear Modulus: 83000, Density: 7.86E-09 Kg/m^3) â€”&gt; <strong>Apply</strong></li><li>Properties â€”&gt; Solid â€”&gt; Propert Set Name â€”&gt;(RHS) Input properties â€”&gt; Mat Prop Name select <em>gangban(Material Name)</em> â€”&gt;  Select Application Region â€”&gt;(Main window) select solid â€”&gt; Add â€”&gt; <strong>Apply</strong></li><li>Analysis â€”&gt; Solution Type â€”&gt; NORMAL MODES â€”&gt; Solution Type â€”&gt; Solution Parameters â€”&gt; Results Output Format(XDB or OP2) â€”&gt; Subcase â€”&gt; Subcase Parameters â€”&gt; Number of Desired Roots : 20 â€”&gt; <strong>Apply</strong> Run nastran â€”&gt; Get .bdf</li></ol><h2 id="Nastran"><a href="#Nastran" class="headerlink" title="Nastran"></a>Nastran</h2><p><a href="https://zhuanlan.zhihu.com/p/33538970">å¦‚ä½•ç”¨matlabè¢«nastranç»™æ•´çš„æ˜æ˜ç™½ç™½ PART 1 KNOW YOUR ENEMYâ€”â€”.bdfæ–‡ä»¶ - çŸ¥ä¹ (zhihu.com)</a></p><p>Nastrançš„Pythonåº“ï¼š<a href="https://pynastran-git.readthedocs.io/en/1.3/index.html">Welcome to pyNastranâ€™s documentation for v1.3! â€” pyNastran 1.3 1.3 documentation (pynastran-git.readthedocs.io)</a></p><p>Debug: <a href="https://www.scribd.com/doc/70652924/Nastran-Error-List-1">Nastran Error List 1. | PDF</a></p><p><code>D:\Software\Nastran\Nastran_install\bin\nastranw.exe *.bdf</code></p><h3 id="å«æ˜Ÿç®—ä¾‹-bdf"><a href="#å«æ˜Ÿç®—ä¾‹-bdf" class="headerlink" title="å«æ˜Ÿç®—ä¾‹.bdf"></a>å«æ˜Ÿç®—ä¾‹.bdf</h3><p>ä¸åŒç»“æ„å‚æ•°ç”Ÿæˆç»“æ„ç‰¹å¾é‡FR</p><figure class="highlight plaintext"><figcaption><span>file</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ Elements and Element Properties for region : Shear_Panels</span><br><span class="line">PSHELL   1       1      .003     1               1</span><br><span class="line"></span><br><span class="line">- 36  è¡Œ .003 Shear_Panels åšåº¦ theta5</span><br><span class="line">- 429 è¡Œ .002 Central_Cylinder åšåº¦ theta3</span><br><span class="line">- 666 è¡Œ .001 Adapter åšåº¦ theta2 æœ¬æ¥åº”è¯¥æ˜¯å¯†åº¦2.7</span><br><span class="line">- 723 è¡Œ .002 Upper_platform åšåº¦ theta6</span><br><span class="line">- 864 è¡Œ .001 Lower_platform åšåº¦ theta4</span><br><span class="line">- 1020è¡Œ 7.   mat_N å¼¹æ€§æ¨¡é‡  theta1  </span><br><span class="line">- 1023è¡Œ 7.   mat_CC</span><br><span class="line">- 1026è¡Œ 7.   mat_L</span><br><span class="line">- 1029è¡Œ 7.   mat_SP</span><br><span class="line">- 1032è¡Œ 7.   mat_U</span><br><span class="line">- </span><br></pre></td></tr></table></figure><ul><li><strong>ä¸»å¼¹æ€§æ¨¡é‡</strong>$\theta_1$ 70Gpaï¼Œ</li><li><strong>ä¸»å¯†åº¦</strong> $\theta_2$  ï¼Œå¯†åº¦2.7x $10^{3} kg/m^{3}$ (è‹±æ–‡è®ºæ–‡) or é€‚é…å™¨åšåº¦ 1mm(æœ¬ 1)</li><li><strong>ä¸­å¿ƒç­’åšåº¦</strong>$\theta_3$ 2mm</li><li>åº•æ¿åšåº¦ $\theta_4$ 1mm</li><li><strong>å‰ªåˆ‡æ¿åšåº¦</strong>$\theta_5$ 2mm</li><li>é¡¶æ¿åšåº¦ $\theta_6$ 2.5mm</li></ul><h1 id="FEAäºŒæ¬¡å¼€å‘-Python"><a href="#FEAäºŒæ¬¡å¼€å‘-Python" class="headerlink" title="FEAäºŒæ¬¡å¼€å‘(Python)"></a>FEAäºŒæ¬¡å¼€å‘(Python)</h1><p>Ansys: </p><blockquote><p><a href="https://www.reddit.com/r/ANSYS/comments/14pak2j/ansys_with_python/">Ansysä¸Pythonï¼šr/ANSYS â€”- Ansys with Python : r/ANSYS</a><br><a href="https://docs.pyansys.com/version/stable/">PyAnsys â€” PyAnsys</a></p></blockquote><p>Nastran: </p><blockquote><p><a href="https://pynastran-git.readthedocs.io/en/1.3/index.html">Welcome to pyNastranâ€™s documentation for v1.3! â€” pyNastran 1.3 1.3 documentation (pynastran-git.readthedocs.io)</a></p></blockquote><p>pynastranGUI æ”¯æŒå¯¹æœ‰é™å…ƒæ¨¡å‹å’Œä»¿çœŸç»“æœçš„å¯è§†åŒ–ï¼Œæ”¯æŒçš„æ¨¡å‹æ–‡ä»¶æ ¼å¼ï¼š</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241016122523.png" alt="image.png|666"></p><h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h2 id="FE-amp-Blender"><a href="#FE-amp-Blender" class="headerlink" title="FE &amp; Blender"></a>FE &amp; Blender</h2><p>å¯å¦æŒ‡æ•™ä¸€ä¸‹blenderå¦‚ä½•æ¸²æŸ“abaqusæ±‚è§£æ–‡ä»¶odbï¼Ÿ</p><p>odbå†™ä¸ªè„šæœ¬å¯¼å‡ºobjæ–‡ä»¶ï¼Œç„¶åå¯¼è¿›blenderä¸€å¼ å¼ æ¸²æŸ“å°±å¥½</p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Nastran by python</title>
      <link href="/Project/PyNastran/"/>
      <url>/Project/PyNastran/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://pynastran-git.readthedocs.io/en/1.3/index.html">Welcome to pyNastranâ€™s documentation for v1.3! â€” pyNastran 1.3 1.3 documentation (pynastran-git.readthedocs.io)</a></p></blockquote><p>ä½¿ç”¨PyNastranåº“å¯¹ Patran&amp;Nastranæœ‰é™å…ƒåˆ†æè½¯ä»¶è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œå¯ä»¥è‡ªåŠ¨å¯¹ç›®æ ‡æ¨¡å‹è¿›è¡Œæœ‰é™å…ƒåˆ†æ</p><span id="more"></span><h1 id="BDF-file"><a href="#BDF-file" class="headerlink" title="BDF file"></a>BDF file</h1><p>BDFæ–‡ä»¶æ˜¯ä½¿ç”¨Patranå¯¹æ¨¡å‹è¿›è¡Œå‰å¤„ç†äº§ç”Ÿçš„ï¼ŒåŒ…æ‹¬åˆ’ç½‘æ ¼ã€å®šä¹‰ç»“æ„å‚æ•°ã€æ·»åŠ çº¦æŸç­‰æ“ä½œ</p><ul><li>xrefï¼šCross-referencingï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿½è¸ªå¯¹è±¡ï¼Œå¦‚æœxref=Falseï¼Œåªä¼šè¿”å›æ•°æ®å¯¹è±¡çš„raw dataï¼Œéœ€è¦åˆ†åˆ«å¯¹bdfçš„elementå’Œnodeåšç´¢å¼•</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># read</span></span><br><span class="line">model = BDF()</span><br><span class="line">bdf = read_bdf(bdf_filename, xref=<span class="literal">False</span>,debug=<span class="literal">False</span>)</span><br><span class="line">cquad = bdf.elements[<span class="number">1</span>]</span><br><span class="line">nid1 = cquad.nodes[<span class="number">0</span>]</span><br><span class="line">n1 = bdf.nodes[nid1]</span><br><span class="line">cd4 = n1.cd</span><br><span class="line">c4 = bdf.coords[cd4]</span><br><span class="line"></span><br><span class="line">bdf_xref = read_bdf(bdf_filename, xref=<span class="literal">True</span>,debug=<span class="literal">False</span>)</span><br><span class="line">bdf_xref.elements[<span class="number">1</span>].nodes_ref[<span class="number">0</span>].cd_ref.i</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bdf.nodes.items()</span><br><span class="line"></span><br><span class="line">node.get_position() <span class="comment"># get xyz</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹å‡ ä½•å°ºå¯¸"><a href="#ä¿®æ”¹å‡ ä½•å°ºå¯¸" class="headerlink" title="ä¿®æ”¹å‡ ä½•å°ºå¯¸"></a>ä¿®æ”¹å‡ ä½•å°ºå¯¸</h2><p>ç¼©æ”¾ä¿®æ”¹BDFæ–‡ä»¶ä¸­nodesçš„åæ ‡ï¼Œå°±å¯ä»¥å®ç°ä¿®æ”¹ç»“æ„çš„åšåº¦/é•¿åº¦ç­‰å‡ ä½•å°ºå¯¸å‚æ•°</p><p>é—®é¢˜1ï¼šåªæœ‰å•ä¸ªé›¶ä»¶çš„ç»“æ„æ¯”è¾ƒå®¹æ˜“ä¿®æ”¹ï¼Œä½†æ˜¯å¦‚æœç»“æ„ä¸­æœ‰è®¸å¤šå­ç»“æ„ï¼Œåœ¨BDFæ–‡ä»¶ä¸­å¾ˆéš¾åŒºåˆ†å“ªäº›æ˜¯å­ç»“æ„1ï¼Œå“ªäº›æ˜¯å­ç»“æ„2çš„<br>å°è¯•1ï¼šå¯ä»¥ç»™æ¯ä¸ªå­ç»“æ„è®¾ç½®ä¸åŒçš„åæ ‡ç³»coordsï¼Œ(Patran)</p><blockquote><p><a href="https://pynastran-git.readthedocs.io/en/1.4/reference/bdf/cards/pyNastran.bdf.cards.nodes.html#pyNastran.bdf.cards.nodes.GRID">nodes Module â€” pyNastran 1.4 1.4 documentation</a></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">eid100 = bdf_xref.elements[<span class="number">100</span>]</span><br><span class="line"><span class="built_in">print</span>(eid100)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;nodes = %s&quot;</span> % eid100.nodes)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--node0--\n%s&quot;</span> % eid100.nodes_ref[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--cd--\n%s&quot;</span> % eid100.nodes_ref[<span class="number">0</span>].cd)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;cd.cid = %s&quot;</span> % eid100.nodes_ref[<span class="number">0</span>].cd_ref.cid)</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr></thead><tbody><tr><td>GRID</td><td>NID</td><td>CP</td><td>X1</td><td>X2</td><td>X3</td><td>CD</td><td>PS</td><td>SEID</td></tr></tbody></table></div><h1 id="Example-Steel-Plate-Structure"><a href="#Example-Steel-Plate-Structure" class="headerlink" title="Example (Steel Plate Structure)"></a>Example (Steel Plate Structure)</h1><p>Generate simulation datasets by FE (solidworks &amp; patran &amp; nastran &amp; python)</p><p>Model and Simulate to get <code>.bdf</code> file</p><ul><li>solidworks project Part.SLDPRT, export <code>.x_t</code> file</li><li>patran ææ–™å±æ€§å‚æ•°è®¾ç½®+ç½‘æ ¼åˆ’åˆ†+çº¦æŸ+è´Ÿè½½ï¼Œå¹¶å®šä¹‰å¥½è¾“å‡ºçš„ç±»å‹(mode shape/FRFâ€¦) to get <code>.bdf</code> file(å…¶ä¸­ä¿å­˜ç€æœ‰é™å…ƒæ¨¡å‹å‰å¤„ç†çš„ç»“æœï¼ŒåŒ…æ‹¬ç½‘æ ¼èŠ‚ç‚¹ç¼–å·ã€åæ ‡ï¼Œææ–™å±æ€§)</li><li>run nastran<ul><li>input: <code>.bdf</code> file ä½¿ç”¨pythonä¿®æ”¹bdfä¸­çš„å‚æ•°ï¼Œå¯ä»¥è·å¾—å¤šä¸ªbdfï¼Œç„¶åè¾“å…¥åˆ°nastranä¸­è¿›è¡Œä»¿çœŸè®¡ç®—</li><li>output: <code>.f06</code> file åŒ…å«ä»¿çœŸè¾“å‡ºçš„ç»“æœ</li></ul></li></ul><h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><p>ä¿®æ”¹é’¢æ¿åšåº¦ Ticknessæ€è·¯ï¼š</p><ul><li>è¯»å–æ‰€æœ‰èŠ‚ç‚¹åæ ‡ nodes</li><li>è®¡ç®—åšåº¦ç¼©æ”¾æ¯”ä¾‹ <code>ratio = T / T_origin</code>ï¼ŒTæ˜¯éœ€è¦ä¿®æ”¹çš„åšåº¦ï¼ŒTæ˜¯bdfæ–‡ä»¶ä¸­åˆå§‹çš„åšåº¦</li><li>å°†nodesåæ ‡æ²¿ç€åšåº¦åå‘è¿›è¡Œç¼©æ”¾ï¼Œå¾—åˆ°nodes_modify</li><li>å°†ä¿®æ”¹åçš„nodesåæ ‡å†™å…¥bdfæ–‡ä»¶ä¸­</li><li>ç„¶åè¿è¡Œnastranæ ¹æ®ä¿®æ”¹åçš„bdfæ–‡ä»¶ä»¿çœŸè®¡ç®—å¾—åˆ°f06æ–‡ä»¶</li><li>è¯»å–f06æ–‡ä»¶ä¸­çš„ç»“æœå¹¶ä¿å­˜</li></ul><p>main code</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_output</span>(<span class="params">bdf_path,input_path,nastran_path,save_dir</span>):</span><br><span class="line">  N_samples = <span class="number">1000</span></span><br><span class="line">  Tickness = np.random.uniform(<span class="number">2</span>, <span class="number">4</span>, N_samples) <span class="comment"># 2~4 mm</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(Tickness)):</span><br><span class="line">      T = Tickness[i]</span><br><span class="line">      bdf_copy_path = <span class="string">f&#x27;gangban_<span class="subst">&#123;i&#125;</span>.bdf&#x27;</span></span><br><span class="line">      status_copy = shutil.copyfile(bdf_path, bdf_copy_path)</span><br><span class="line">      <span class="keyword">if</span> status_copy == bdf_copy_path:</span><br><span class="line">          nodes = read_bdf_nodes(bdf_copy_path)</span><br><span class="line">          T_origin = nodes[:, <span class="number">1</span>].<span class="built_in">max</span>() - nodes[:, <span class="number">1</span>].<span class="built_in">min</span>() <span class="comment"># 3mm</span></span><br><span class="line">          ratio_T = T / T_origin</span><br><span class="line">          ratio = [<span class="number">1</span>, ratio_T, <span class="number">1</span>]</span><br><span class="line">          nodes_modify = nodes * ratio</span><br><span class="line">          write_bdf_nodes(bdf_copy_path, nodes_modify)</span><br><span class="line">  </span><br><span class="line">          p = subprocess.Popen(nastran_path+<span class="string">&#x27; &#x27;</span>+bdf_copy_path, shell=<span class="literal">True</span>)</span><br><span class="line">          return_code = p.wait(timeout=<span class="number">1000</span>)</span><br><span class="line">          <span class="comment"># time.sleep(15)</span></span><br><span class="line">          time.sleep(<span class="number">7</span>)</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">f&#x27;Finished running Nastran for <span class="subst">&#123;i+<span class="number">1</span>&#125;</span>th sample, T_origin: <span class="subst">&#123;T_origin&#125;</span>mm, T: <span class="subst">&#123;T&#125;</span>mm&#x27;</span>)</span><br><span class="line">          </span><br><span class="line">          modes = get_modes(bdf_copy_path.replace(<span class="string">&#x27;.bdf&#x27;</span>, <span class="string">&#x27;.f06&#x27;</span>))</span><br><span class="line">          <span class="comment"># all_modes.append(modes)</span></span><br><span class="line">          <span class="comment"># create a new txt file to store the modes</span></span><br><span class="line">          save_txt = <span class="built_in">open</span>(bdf_path.replace(<span class="string">&#x27;.bdf&#x27;</span>, <span class="string">&#x27;.txt&#x27;</span>), <span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">          save_txt.write(<span class="built_in">str</span>(modes) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">          save_txt.close()</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">f&#x27;Error in copying file <span class="subst">&#123;bdf_copy_path&#125;</span>&#x27;</span>)</span><br><span class="line">  </span><br><span class="line">      bdf_copy_path_prefix = bdf_copy_path.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">      <span class="keyword">for</span> suffix <span class="keyword">in</span> [<span class="string">&#x27;.bdf&#x27;</span>, <span class="string">&#x27;.f04&#x27;</span>, <span class="string">&#x27;.f06&#x27;</span>, <span class="string">&#x27;.log&#x27;</span>, <span class="string">&#x27;.op2&#x27;</span>,<span class="string">&#x27;.h5&#x27;</span>]:</span><br><span class="line">          os.remove(bdf_copy_path_prefix + suffix)</span><br><span class="line">  </span><br><span class="line">  <span class="comment"># all_modes = np.array(all_modes)</span></span><br><span class="line">  read_save_txt = <span class="built_in">open</span>(bdf_path.replace(<span class="string">&#x27;.bdf&#x27;</span>, <span class="string">&#x27;.txt&#x27;</span>), <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">  all_modes = read_save_txt.readlines()</span><br><span class="line">  read_save_txt.close()</span><br><span class="line">  </span><br><span class="line">  all_modes = np.array([<span class="built_in">eval</span>(mode) <span class="keyword">for</span> mode <span class="keyword">in</span> all_modes])</span><br><span class="line">  <span class="keyword">if</span> <span class="string">&quot;updated&quot;</span> <span class="keyword">in</span> input_path:</span><br><span class="line">      np.savez(os.path.join(save_dir, <span class="string">&#x27;modes_updated.npz&#x27;</span>), modes = all_modes)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">      np.savez(os.path.join(save_dir, <span class="string">&#x27;modes.npz&#x27;</span>), modes = all_modes)</span><br><span class="line">  <span class="comment"># np.savez(os.path.join(save_dir, &#x27;modes_updated.npz&#x27;), modes = all_modes)</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Finished saving modes, shape is &quot;</span>, all_modes.shape)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">read_bdf_nodes</span>(<span class="params">bdf_filename:<span class="built_in">str</span></span>) -&gt; np.ndarray:</span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  Read the node information from the bdf file</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">  model = BDF()</span><br><span class="line">  bdf = read_bdf(bdf_filename, xref=<span class="literal">False</span>,debug=<span class="literal">False</span>)</span><br><span class="line">  <span class="comment"># print(bdf.get_bdf_stats())</span></span><br><span class="line">  <span class="comment"># print(&#x27;____________________________________________________________________________&#x27;)</span></span><br><span class="line">  <span class="comment"># print(object_attributes(bdf))</span></span><br><span class="line">  <span class="comment"># print(object_methods(bdf))</span></span><br><span class="line">  node_pos_all = []</span><br><span class="line">  <span class="keyword">for</span> nid,node <span class="keyword">in</span> <span class="built_in">sorted</span>(bdf.nodes.items()):</span><br><span class="line">      <span class="comment"># print(bdf.nodes[nid].xyz)</span></span><br><span class="line">      <span class="comment"># print(node)</span></span><br><span class="line">      <span class="comment"># print(node.get_position())</span></span><br><span class="line">      <span class="comment"># exit()</span></span><br><span class="line">      node_pos = node.get_position()</span><br><span class="line">      node_pos_all.append(node_pos)</span><br><span class="line">  </span><br><span class="line">  node_pos_all = np.array(node_pos_all)</span><br><span class="line">  <span class="comment"># print(&#x27;Nodes shape:&#x27;, node_pos_all.shape)</span></span><br><span class="line">  <span class="comment"># exit()</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> node_pos_all</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_bdf_nodes</span>(<span class="params">bdf_filename:<span class="built_in">str</span>, nodes:np.ndarray</span>):</span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  Write the node information to the bdf file</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">  model = BDF()</span><br><span class="line">  bdf_xref = read_bdf(bdf_filename, xref=<span class="literal">True</span>,debug=<span class="literal">False</span>)</span><br><span class="line">  <span class="comment"># wrte the nodes to the bdf file</span></span><br><span class="line">  <span class="keyword">for</span> nid,node <span class="keyword">in</span> <span class="built_in">sorted</span>(bdf_xref.nodes.items()):</span><br><span class="line">      node_pos = nodes[nid-<span class="number">1</span>]</span><br><span class="line">      <span class="comment"># print(node.xyz)</span></span><br><span class="line">      node.xyz = node_pos</span><br><span class="line">      <span class="comment"># print(node.xyz)</span></span><br><span class="line">  bdf_xref.write_bdf(bdf_filename)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_modes</span>(<span class="params">f06_copy_path:<span class="built_in">str</span></span>):</span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  Get the modes from the f06 file</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">  find_txt = <span class="string">&quot;NO.       ORDER                                                                       MASS              STIFFNESS&quot;</span></span><br><span class="line">  line_num = <span class="number">0</span></span><br><span class="line">  f = <span class="built_in">open</span>(f06_copy_path, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">  lines_mode = f.readlines()</span><br><span class="line">  <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">      line = lines_mode[line_num]</span><br><span class="line">      <span class="keyword">if</span> find_txt <span class="keyword">in</span> line:</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">      line_num += <span class="number">1</span> <span class="comment"># python ä»0å¼€å§‹è®¡æ•°</span></span><br><span class="line">  <span class="comment"># print(line_num)</span></span><br><span class="line">  modes = []</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(line_num+<span class="number">7</span>, line_num+<span class="number">7</span>+<span class="number">5</span>):</span><br><span class="line">      line_mode = lines_mode[i]</span><br><span class="line">      modes.append(<span class="built_in">float</span>(line_mode[<span class="number">67</span>:<span class="number">80</span>]))</span><br><span class="line">  <span class="keyword">return</span> modes</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Concrete spalling damage detection and seismic performance evaluation for RC shear walls via 3D reconstruction technique and numerical model updating</title>
      <link href="/3DReconstruction/Other%20Methods/Laser%20Scanning/Concrete%20spalling%20damage%20detection%20and%20seismic%20performance%20evaluation%20for%20RC%20shear%20walls%20via%203D%20reconstruction%20technique%20and%20numerical%20model%20updating/"/>
      <url>/3DReconstruction/Other%20Methods/Laser%20Scanning/Concrete%20spalling%20damage%20detection%20and%20seismic%20performance%20evaluation%20for%20RC%20shear%20walls%20via%203D%20reconstruction%20technique%20and%20numerical%20model%20updating/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Concrete spalling damage detection and seismic performance evaluation for RC shear walls via 3D reconstruction technique and numerical model updating</th></tr></thead><tbody><tr><td>Author</td><td>Weihang Gao; Caiyan Zhang; Xilin Lu; Wensheng Lu</td></tr><tr><td>Conf/Jour</td><td>Automation in Construction</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://www.sciencedirect.com/science/article/pii/S0926580523004065">Concrete spalling damage detection and seismic performance evaluation for RC shear walls via 3D reconstruction technique and numerical model updating - ScienceDirect</a></td></tr><tr><td>Paper</td></tr></tbody></table></div><p>3D reconstruction+Numerical model updating</p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>ä¸»è¦è´¡çŒ®åœ¨äºï¼Œé€šè¿‡ä¿¡æ¯è½¬ç§»ç‚¹çŸ©é˜µçš„æ–°æ¦‚å¿µï¼Œè¯¥æ–¹æ³•èƒ½å¤Ÿè¯†åˆ«æ··å‡åœŸå‰¥è½æŸä¼¤çš„ç©ºé—´ç¼ºé™·ç‰¹å¾ä¿¡æ¯ï¼Œå¹¶å°†ç¼ºé™·ä¿¡æ¯è½¬åŒ–ä¸ºå·²å»ºç«‹çš„å¤šå±‚å£³å•å…ƒæ•°å€¼æ¨¡å‹ï¼Œå®ç°é’¢ç­‹æ··å‡åœŸå‰ªåŠ›å¢™çš„æ®‹ä½™æ‰¿è½½åŠ›è¯„ä»·ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™æ˜¯é¦–æ¬¡å°è¯•åœ¨è¢«æ£€æµ‹å¢™çš„é‡å»ºä¸‰ç»´ç‚¹äº‘æ¨¡å‹ä¸­éšè—çš„ç¼ºé™·ä¿¡æ¯ä¸å…¶ç›¸åº”æœ‰é™å…ƒæ¨¡å‹çš„æ€§èƒ½å˜åŒ–ä¹‹é—´å»ºç«‹æ˜ å°„å…³ç³»ã€‚<br>é€šè¿‡å®éªŒå®¤æ¡ä»¶ä¸‹ç›´å½¢å‰ªåŠ›å¢™çš„å¾ªç¯è½½è·è¯•éªŒï¼Œè¯æ˜äº†æ‰€ææ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚ç»“æœè¡¨æ˜ï¼ŒåŸºäºä¾¿æºå¼æ™ºèƒ½æ‰‹æœºå’ŒLiDARæ‰«æä»ªé‡‡é›†çš„ä¸‰ç»´ç‚¹äº‘æ•°æ®ï¼Œè¯¥æ–¹æ³•èƒ½å¤ŸæˆåŠŸæ£€æµ‹è¢«æµ‹è¯•ä»¶ä¸Šæ–°å‡ºç°çš„æ··å‡åœŸå‰¥è½æŸä¼¤çš„ç©ºé—´ä½ç½®å’Œä¼¸å±•æ·±åº¦ã€‚åŒæ—¶ï¼Œè¯¥æ–¹æ³•å¯é‡åŒ–è·å–æ–°å‡ºç°çš„æ··å‡åœŸå‰¥è½æŸä¼¤å¼•èµ·çš„è¢«æ£€æŸ¥å‰ªåŠ›å¢™è¯•ä»¶çš„æ‰¿è½½åŠ›å˜åŒ–ã€‚è€ƒè™‘åˆ°å…¶å·¨å¤§çš„å®¹é‡ï¼Œæ‰€ææ–¹æ³•åœ¨é’¢ç­‹æ··å‡åœŸå‰ªåŠ›å¢™æ„ä»¶çš„æŠ—éœ‡æ€§èƒ½è¯„ä»·ä¸­å…·æœ‰æå¥½çš„åº”ç”¨æ½œåŠ›ï¼Œä¸ºé’¢ç­‹æ··å‡åœŸå‰ªåŠ›å¢™ç»“æ„çš„ç¾åæ•‘æ´å’Œç»“æ„ç»´æŠ¤æä¾›å†³ç­–ä¾æ®ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240506200043.png" alt="image.png|666"></p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>é€šè¿‡æ‰‹æœºçš„é›·è¾¾æ‰«æä»ªæ¥è¿›è¡Œ3D Reconstructionï¼Œåˆ©ç”¨æ”¶é›†åˆ°çš„LiDARç‚¹äº‘æ•°æ®åœ¨ä¿¡æ¯è½¬æ¢ç‚¹çŸ©é˜µä¸­æ ‡è®°æš´éœ²ç‚¹ï¼Œå¹¶æ£€æµ‹è¢«æ£€æµ‹å£ä¸Šçš„å‰¥è½æŸå</p><h2 id="Information-transition-point-matrix"><a href="#Information-transition-point-matrix" class="headerlink" title="Information transition point matrix"></a>Information transition point matrix</h2><p>ä¿¡æ¯è¿‡æ¸¡ç‚¹çŸ©é˜µç”±è¢«æ£€æµ‹å¢™å¤–è¡¨é¢æ‰€åŒ…å›´çš„å‡ ä½•ç©ºé—´ä¸­å‡åŒ€åˆ†å¸ƒçš„ç‚¹æ„æˆï¼Œå¯é€šè¿‡è®¾è®¡å›¾çº¸ç¡®å®šï¼ˆ<strong>å°±æ˜¯ç”¨å‡åŒ€é—´éš”å°†LWHåˆ†ä¸ºmneç­‰ä»½</strong>ï¼‰</p><p>$\begin{cases}\Delta l_x=L\Big/_{m-1}\\\Delta l_y=W\Big/_{n-1}\\\Delta l_z=H\Big/_{e-1}\end{cases}$</p><p>ä¿¡æ¯è¿‡æ¸¡ç‚¹çŸ©é˜µï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240506201724.png" alt="image.png|666"></p><p>ä¸ºäº†å®ç°æŸä¼¤æ£€æµ‹ï¼Œåº”é€šè¿‡æ—‹è½¬ã€å¹³ç§»å’Œç¼©æ”¾æ“ä½œï¼Œå°†LiDARæ‰«æä»ªå»ºç«‹çš„ä¸‰ç»´ç‚¹äº‘æ¨¡å‹çš„åæ ‡ç³»ä¸ä¿¡æ¯è½¬æ¢ç‚¹çŸ©é˜µçš„åæ ‡ç³»è¿›è¡ŒåŒ¹é…ï¼š</p><ul><li>R é¦–å…ˆï¼Œå°†ç‚¹äº‘æ¨¡å‹æ—‹è½¬ä¸¤åœˆï¼Œç¡®ä¿å…¶åº•éƒ¨ä¸ xy å¹³é¢å¹³è¡Œï¼Œå‰ç«¯ä¸ yz å¹³é¢å¹³è¡Œã€‚</li><li>T ç„¶åï¼Œå°†æ—‹è½¬åçš„ç‚¹äº‘æ¨¡å‹è¿›è¡Œå¹³ç§»ï¼Œç¡®ä¿å…¶ä¸‹ä¸€è§’èƒ½ç²¾ç¡®å®šä½åœ¨åŸç‚¹ä¸Šï¼Œä¸¤è¾¹èƒ½ä¸æ­£è±¡é™çš„åæ ‡è½´é‡åˆã€‚</li><li>S æœ€åï¼Œè¿›è¡Œç¼©æ”¾å˜æ¢ï¼Œä»¥å‡å°‘ç‚¹äº‘æ¨¡å‹ä¸å®é™…ç»„ä»¶å°ºå¯¸ä¹‹é—´çš„è¯¯å·®ã€‚</li></ul><p>$\mathbf{C}_q=\left(\widehat{\mathbf{C}}_q\mathbf{R}+\mathbf{T}\right)\mathbf{S}$ å¯¹é‡å»ºå‡ºæ¥çš„ç‚¹äº‘è¿›è¡Œæ“ä½œ</p><p>$\left.\left\{\begin{array}{c}\mathbf{R}=\cos(\beta)\mathbf{I}+(1-\cos(\beta))\mathbf{n}\mathbf{n}^T+\sin(\beta)Skew(\mathbf{n})\\\mathbf{T}=[t_x,t_y,t_z]\\\mathbf{S}=Diag(s_x,s_y,s_z)\end{array}\right.\right.$</p><p>å¹³ç§»+ç¼©æ”¾å¾ˆå¥½ç†è§£ï¼Œé‡ç‚¹æ˜¯æ—‹è½¬<br>$\mathbf{n}$: normalized rotation axis column vector $\mathbf{n}=[n_{x},n_{y},n_{z}]^{\mathrm{T}}$<br>$\mathbf{I}$: å•ä½çŸ©é˜µ<br>$Skew(\mathbf{n})=\begin{bmatrix}0&amp;-n_z&amp;n_y\\n_z&amp;0&amp;-n_x\-n_y&amp;n_x&amp;0\end{bmatrix}$</p><p>ç‚¹äº‘å˜æ¢ç»“æŸåï¼Œä»ç†è®ºä¸Šè®²ï¼Œåœ¨æœªæŸåæ¡ä»¶ä¸‹ï¼Œä¿¡æ¯è½¬ç§»ç‚¹çŸ©é˜µçš„æ‰€æœ‰ç‚¹éƒ½åº”è¢«ç‚¹äº‘æ¨¡å‹æ‹Ÿåˆçš„ç©ºé—´è¡¨é¢æ‰€åŒ…å›´ã€‚ç„¶è€Œï¼Œå½“æ··å‡åœŸå‰¥è½æŸåå‘ç”Ÿæ—¶ï¼Œå—æŸåŒºåŸŸçš„è¡¨é¢æ··å‡åœŸç¼ºå¤±ï¼Œä¸€äº›æ··å‡åœŸå†…éƒ¨æˆä¸º LiDAR æ‰«æä»ªæ‰«æçš„è¡¨é¢ã€‚å› æ­¤ï¼Œå¯¹äºå—æŸåŒºåŸŸï¼Œç‚¹äº‘å°†å‡¹å…¥æ¨¡å‹ä¸­ï¼Œå¹¶æš´éœ²ä¿¡æ¯è½¬æ¢ç‚¹çŸ©é˜µä¸­çš„ç‚¹</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Other Methods </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Learn-Matlab</title>
      <link href="/Learn/Finite%20Element/Learn-Matlab/"/>
      <url>/Learn/Finite%20Element/Learn-Matlab/</url>
      
        <content type="html"><![CDATA[<p>Matlab</p><span id="more"></span><h1 id="Plotå¸¸ç”¨å±æ€§"><a href="#Plotå¸¸ç”¨å±æ€§" class="headerlink" title="Plotå¸¸ç”¨å±æ€§"></a>Plotå¸¸ç”¨å±æ€§</h1><p>è°ƒæ•´æ•´ä½“å­—ä½“ï¼š<code>set(gca,&#39;FontSize&#39;,16)</code></p><ul><li>FontSize</li><li>FontName</li><li>FontWeight: â€˜boldâ€™ or â€˜normalâ€™</li></ul><p>Legendå›¾ä¾‹ï¼šlgd = legend;</p><ul><li>â€˜DisplayNameâ€™ ç»™plotç»˜åˆ¶æ—¶æ·»åŠ å›¾ä¾‹<code>plot(x,Y_updated_cdf,&#39;Color&#39;,cl,&#39;DisplayName&#39;,label);</code></li><li>å¿½ç•¥æŸæ¡plotçš„å›¾ä¾‹<code>&#39;HandleVisibility&#39;,&#39;off&#39; æˆ– HandleVisibility=&#39;off&#39;</code>ï¼Œæˆ–è€…ç›´æ¥<code>legend(&#39;off&#39;)</code></li></ul><h2 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h2><p>å¡«å……ä¸¤æ¡æ›²çº¿ä¸­é—´çš„åŒºåŸŸï¼š<code>fill([x_plot&#39;,fliplr(x_plot&#39;)],[result_data_y_min&#39;,fliplr(result_data_y_max&#39;)],&#39;b&#39;,&#39;edgealpha&#39;, 0, &#39;facealpha&#39;, 0.4);</code> ä¿è¯xä¸ºè¡Œå‘é‡</p><h2 id="plotmatrix"><a href="#plotmatrix" class="headerlink" title="plotmatrix"></a>plotmatrix</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% samples_ftheta_BD(300,4) --&gt; ax(4,4)</span></span><br><span class="line">[~,ax] = plotmatrix(samples_ftheta_BD);</span><br><span class="line">ax(<span class="number">1</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;\mu_E&#x27;</span>;</span><br><span class="line">ax(<span class="number">2</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;\mu_\rho&#x27;</span>;</span><br><span class="line">ax(<span class="number">3</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;\sigma_E&#x27;</span>;</span><br><span class="line">ax(<span class="number">4</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;\sigma_\rho&#x27;</span>;</span><br><span class="line">ax(<span class="number">4</span>,<span class="number">1</span>).XLabel.String = <span class="string">&#x27;\mu_E&#x27;</span>;</span><br><span class="line">ax(<span class="number">4</span>,<span class="number">2</span>).XLabel.String = <span class="string">&#x27;\mu_\rho&#x27;</span>;</span><br><span class="line">ax(<span class="number">4</span>,<span class="number">3</span>).XLabel.String = <span class="string">&#x27;\sigma_E&#x27;</span>;</span><br><span class="line">ax(<span class="number">4</span>,<span class="number">4</span>).XLabel.String = <span class="string">&#x27;\sigma_\rho&#x27;</span>;</span><br><span class="line"></span><br><span class="line">set(ax,<span class="string">&quot;FontName&quot;</span>,<span class="string">&quot;Times New Roman&quot;</span>,<span class="string">&#x27;FontSize&#x27;</span>,<span class="number">16</span>,<span class="string">&#x27;FontWeight&#x27;</span>,<span class="string">&#x27;bold&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="gplotmatrix"><a href="#gplotmatrix" class="headerlink" title="gplotmatrix"></a>gplotmatrix</h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% Ysample_result(300,4), Ysample_exp(1000,4) --&gt; axx(4,4)</span></span><br><span class="line">[~,axx] = gplotmatrix([Ysample_result; Ysample_exp],[],[<span class="built_in">ones</span>(<span class="number">300</span>,<span class="number">1</span>); <span class="number">2</span>*<span class="built_in">ones</span>(<span class="number">1000</span>,<span class="number">1</span>)],[],[],<span class="number">10</span>);</span><br><span class="line">h = findobj(<span class="string">&#x27;Tag&#x27;</span>,<span class="string">&#x27;legend&#x27;</span>); <span class="comment">% set legend Text</span></span><br><span class="line">set(h, <span class="string">&#x27;String&#x27;</span>, &#123;<span class="string">&#x27;Updated&#x27;</span>, <span class="string">&#x27;Target&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">axx(<span class="number">1</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;f_1&#x27;</span>;</span><br><span class="line">axx(<span class="number">2</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;f_2&#x27;</span>;</span><br><span class="line">axx(<span class="number">3</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;f_3&#x27;</span>;</span><br><span class="line">axx(<span class="number">4</span>,<span class="number">1</span>).YLabel.String = <span class="string">&#x27;f_4&#x27;</span>;</span><br><span class="line">axx(<span class="number">4</span>,<span class="number">1</span>).XLabel.String = <span class="string">&#x27;f_1&#x27;</span>;</span><br><span class="line">axx(<span class="number">4</span>,<span class="number">2</span>).XLabel.String = <span class="string">&#x27;f_2&#x27;</span>;</span><br><span class="line">axx(<span class="number">4</span>,<span class="number">3</span>).XLabel.String = <span class="string">&#x27;f_3&#x27;</span>;</span><br><span class="line">axx(<span class="number">4</span>,<span class="number">4</span>).XLabel.String = <span class="string">&#x27;f_4&#x27;</span>;</span><br><span class="line">set(axx,<span class="string">&quot;FontName&quot;</span>,<span class="string">&quot;Times New Roman&quot;</span>,<span class="string">&#x27;FontSize&#x27;</span>,<span class="number">16</span>,<span class="string">&#x27;FontWeight&#x27;</span>,<span class="string">&#x27;bold&#x27;</span>)</span><br></pre></td></tr></table></figure><h1 id="ç¼–ç æ–¹å¼"><a href="#ç¼–ç æ–¹å¼" class="headerlink" title="ç¼–ç æ–¹å¼"></a>ç¼–ç æ–¹å¼</h1><p><del>ä½ç‰ˆæœ¬ä¿®æ”¹ç¼–ç æ–¹å¼ (é˜²æ­¢æŸ¥çœ‹é«˜ç‰ˆæœ¬matlab è„šæœ¬æ–‡ä»¶æ—¶å‡ºç°ä¹±ç )</del> è¿˜æ˜¯ä¼šä¹±ç <br><a href="https://blog.csdn.net/yu1581274988/article/details/127271923">Matlab: ä¿®æ”¹ç¼–ç æ–¹å¼, å¦‚GBK-ï¼UTF-8_matlabç¼–ç è®¾ç½®utf8-CSDNåšå®¢</a></p><h1 id="Parallel"><a href="#Parallel" class="headerlink" title="Parallel"></a>Parallel</h1><ul><li>[x] å®‰è£…VMwareåï¼ŒMatlab2023bç‰ˆæœ¬æ— æ³•ä½¿ç”¨parallelï¼Œå¯åŠ¨å¾ˆæ…¢  win(win10çš„é—®é¢˜ï¼Œå‡çº§win11ç³»ç»Ÿåæ²¡å‡ºç°è¿‡è¯¥é—®é¢˜)</li></ul>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Gaustudio</title>
      <link href="/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/Gaustudio/"/>
      <url>/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/Gaustudio/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>GauStudio: A Modular Framework for 3D Gaussian Splatting and Beyond</th></tr></thead><tbody><tr><td>Author</td><td>Chongjie Ye1,2âˆ—, Yinyu Nie3âˆ—, Jiahao Chang1, 2âˆ—, Yuantao Chen2, Yihao Zhi1,2, Xiaoguang Han2,1â€ </td></tr><tr><td>Conf/Jour</td><td></td></tr><tr><td>Year</td><td>2024</td></tr><tr><td>Project</td><td><a href="https://github.com/GAP-LAB-CUHK-SZ/gaustudio">GAP-LAB-CUHK-SZ/gaustudio: A Modular Framework for 3D Gaussian Splatting and Beyond</a></td></tr><tr><td>Paper</td><td><a href="https://drive.google.com/file/d/1mizzZSXn-YToww7kW3OV0lUbfME9Mobg/view">GauStudio-v1.pdf - Google äº‘ç«¯ç¡¬ç›˜</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240330205610.png" alt="image.png|666"></p><span id="more"></span><p>é€šè¿‡å¯¹å¤šä¸ª3DGSçš„é¡¹ç›®è¿›è¡Œäº†ç»¼åˆï¼Œä¸»è¦å­¦ä¹ <a href="https://github.com/hugoycj">hugoycj (YeChongjie)</a>å¤§ä½¬çš„ä»£ç </p><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2DGS</title>
      <link href="/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/2DGS/"/>
      <url>/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/2DGS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>2D Gaussian Splatting for Geometrically Accurate Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td>Binbin Huang, Zehao Yu, Anpei Chen, Andreas Geiger, Shenghua Gao</td></tr><tr><td>Conf/Jour</td><td></td></tr><tr><td>Year</td><td>2024</td></tr><tr><td>Project</td><td><a href="https://surfsplatting.github.io/">2D Gaussian Splatting</a></td></tr><tr><td>Paper</td><td><a href="https://arxiv.org/abs/2403.17888">[2403.17888] 2D Gaussian Splatting for Geometrically Accurate Radiance Fields</a></td></tr></tbody></table></div><span id="more"></span><p>å°†3DGSè½¬åŒ–ä¸º2DGS</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Math</title>
      <link href="/Learn/Math/Math%20Basic/"/>
      <url>/Learn/Math/Math%20Basic/</url>
      
        <content type="html"><![CDATA[<p>MATH $e^{i\pi}+1=0$</p><span id="more"></span><h1 id="æ³›å‡½"><a href="#æ³›å‡½" class="headerlink" title="æ³›å‡½"></a>æ³›å‡½</h1><blockquote><p><a href="https://www.zhihu.com/question/21938224">(72 å°ç§ä¿¡ / 80 æ¡æ¶ˆæ¯) ã€Œæ³›å‡½ã€ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ - çŸ¥ä¹</a><br><a href="https://www.pynumerical.com/archives/48/">Calculus of Variationsï¼šå˜åˆ†è®¡ç®— - åˆ†äº«æˆ‘çš„å­¦ä¹ å¿ƒå¾—</a> å˜åˆ†ï¼šè‡ªå˜é‡xä¸å˜ï¼Œå‡½æ•°$y(\cdot)$æ”¹å˜</p></blockquote><p>ç ”ç©¶ä¸åŒçš„å‡½æ•°ï¼Œå¯¹è¾“å‡ºçš„å½±å“ã€‚<br>ä¾‹å¦‚MLPè¦æ‹Ÿåˆä¸€ä¸ªå‡½æ•°ï¼Œè®©é¢„æµ‹çš„è¾“å‡ºä¸æ ‡ç­¾éå¸¸ç›¸è¿‘ã€‚åˆå¦‚æœ‰é™å…ƒæ±‚è§£åå¾®åˆ†æ–¹ç¨‹ï¼Œæ˜¯è¦æ ¹æ®<strong>æœ€å°ä½œç”¨é‡åŸç†</strong>ï¼Œæ±‚å¾—ä¸€ä¸ªæ»¡è¶³è¾¹ç•Œæ¡ä»¶çš„ã€ç›¸å¯¹å‡†ç¡®çš„è¿‘ä¼¼è§£</p><h2 id="èŒƒæ•°"><a href="#èŒƒæ•°" class="headerlink" title="èŒƒæ•°"></a>èŒƒæ•°</h2><blockquote><p><a href="https://blog.csdn.net/u013066730/article/details/83013885">L0,L1,L2èŒƒæ•°ï¼ˆåŒç«–çº¿ï¼Œæœ‰ä¸‹æ ‡ï¼‰_æ•°å­¦å…¬å¼ä¸¤å¯¹ç«–çº¿å³ä¸‹è§’åŠ ä¸ª2-CSDNåšå®¢</a></p></blockquote><h1 id="æ•°å­¦åŸºç¡€"><a href="#æ•°å­¦åŸºç¡€" class="headerlink" title="æ•°å­¦åŸºç¡€"></a>æ•°å­¦åŸºç¡€</h1><h2 id="åå¾®åˆ†æ–¹ç¨‹"><a href="#åå¾®åˆ†æ–¹ç¨‹" class="headerlink" title="åå¾®åˆ†æ–¹ç¨‹"></a>åå¾®åˆ†æ–¹ç¨‹</h2><p>æ‹‰æ™®æ‹‰æ–¯ç®—å­ $\Delta = \frac{\partial^{2}}{\partial x^{2}} + \frac{\partial^{2}}{\partial y^{2}}$</p><p>Laplace eqn: $\Delta u = u_{xx}+u_{yy}=\nabla \cdot \nabla u = \nabla ^{2} u = 0$<br>Possion eqn: $\Delta u = F(x,y)$</p><p>äºŒç»´å¹³é¢Dï¼Œè¾¹ç•Œä¸º$\partial D$ï¼š$u(x,y)$<br>è¾¹ç•Œæ¡ä»¶ï¼š$(x,y) \in \partial D$</p><ul><li>Dirichletï¼š$u(x,y)=g(x,y)$</li><li>Neumannï¼š$\partial n u(x,y)=g(x,y)$ $where \partial n = \hat n \cdot \nablaï¼Œ\hat{n}$ä¸ºè¡¨é¢æ³•å‘é‡</li><li>Robinï¼š$u(x,y)+\alpha(x,y)\partial n u(x,y)=g(x,y)$</li></ul><h2 id="å·ç§¯"><a href="#å·ç§¯" class="headerlink" title="å·ç§¯"></a>å·ç§¯</h2><blockquote><p><a href="https://www.youtube.com/watch?v=KuXjwB4LzSA">ä½†ä»€ä¹ˆæ˜¯å·ç§¯å‘¢ï¼Ÿ - YouTube</a></p></blockquote><p>$f\left(t\right)*g\left(t\right)=\int_{0}^{t}f\left(\tau\right)g\left(t-\tau\right)d\tau$</p><p>Example1ï¼šå·²çŸ¥$f(x) = a_{0}+a_{1}x+\dots+a_{n}x^{n}$ å’Œ $g(x)=b_{0}+b_{1}x+\dots b_{n}x^{n}$ï¼Œæ±‚$h(x)=f(x) \cdot g(x)$</p><ul><li>$h(x)$çš„ç³»æ•°cæ˜¯abä¸¤ç³»æ•°çš„å·ç§¯ç»“æœï¼šç›´æ¥è®¡ç®—çš„è¯æ—¶é—´å¤æ‚åº¦ä¸º$\mathcal{O}(n^{2})$</li></ul><script type="math/tex; mode=display">\left.\mathbf{a}*\mathbf{b}=\left[\begin{array}{c}a_0b_0,\\a_0b_1+a_1b_0,\\a_0b_2+a_1b_1+a_2b_0,\\\vdots\\a_{n-1}b_{m-1}\end{array}\right.\right]</script><ul><li>å¦ä¸€ç§æ€è·¯æ˜¯å…ˆå°†$f(x)$äº$g(x)$è¿›è¡ŒFFT$f(\omega),g(\omega)$ï¼Œé¢‘åŸŸçš„ç³»æ•°$\hat{\mathbf{a}}=[\hat{a}_0,\hat{a}_1,\hat{a}_2,\ldots,\hat{a}_{m+n-1}]$ å’Œ$\hat{\mathbf{b}}=[\hat{b}_0,\hat{b}_1,\hat{b}_2,\ldots,\hat{b}_{m+n-1}]$ï¼Œä¸¤è€…ç›´æ¥ç›¸ä¹˜å¾—åˆ°$\hat{\mathbf{a}}\cdot\hat{\mathbf{b}}=[\hat{a}_0\hat{b}_0,\hat{a}_1\hat{b}_1,\hat{a}_2\hat{b}_2,\ldots,]$ï¼Œç„¶åè¿›è¡Œé€†FFTï¼Œå¾—åˆ°çš„$h(x)$ç³»æ•°å³æƒ³è¦çš„ç»“æœï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$\mathcal{O}(n\log n)$</li></ul><blockquote><p><a href="https://www.bilibili.com/video/BV1Yk4y1K7Az/?spm_id_from=333.999.0.0&amp;vd_source=1dba7493016a36a32b27a14ed2891088">ã€å®˜æ–¹åŒè¯­ã€‘å·ç§¯çš„ä¸¤ç§å¯è§†åŒ–|æ¦‚ç‡è®ºä¸­çš„X+Yæ—¢ç¾å¦™åˆå¤æ‚_å“”å“©å“”å“©_bilibili</a> æœ€å¥½çš„åŠ¨ç”»â­</p></blockquote><h2 id="æ‘„åŠ¨æ³•"><a href="#æ‘„åŠ¨æ³•" class="headerlink" title="æ‘„åŠ¨æ³•"></a>æ‘„åŠ¨æ³•</h2><blockquote><p><a href="https://kexue.fm/archives/1878">è½»å¾®çš„æ‰°åŠ¨â€”â€”æ‘„åŠ¨æ³•ç®€ä»‹(1) - ç§‘å­¦ç©ºé—´|Scientific Spaces</a> </p></blockquote><h2 id="æ³°å‹’"><a href="#æ³°å‹’" class="headerlink" title="æ³°å‹’"></a>æ³°å‹’</h2><blockquote><p><a href="https://dezeming.top/wp-content/uploads/2021/06/%E5%A4%9A%E5%85%83%E5%87%BD%E6%95%B0%EF%BC%88%E5%8F%8A%E5%90%91%E9%87%8F%E5%87%BD%E6%95%B0%EF%BC%89%E7%9A%84%E6%B3%B0%E5%8B%92%E5%B1%95%E5%BC%80.pdf">dezeming.top/wp-content/uploads/2021/06/å¤šå…ƒå‡½æ•°ï¼ˆåŠå‘é‡å‡½æ•°ï¼‰çš„æ³°å‹’å±•å¼€.pdf</a></p></blockquote><p>æ³°å‹’å±•å¼€æœ¬è´¨ä¸Šæ˜¯æ±‚è¿‘ä¼¼</p><h2 id="Domain-Transform"><a href="#Domain-Transform" class="headerlink" title="Domain Transform"></a>Domain Transform</h2><blockquote><p><a href="https://www.youtube.com/watch?v=3gjJDuCAEQQ">The intuition behind Fourier and Laplace transforms I was never taught in school - YouTube</a></p></blockquote><h3 id="Fourier-Transform"><a href="#Fourier-Transform" class="headerlink" title="Fourier Transform"></a>Fourier Transform</h3><blockquote><p><a href="https://yangwc.com/2019/10/24/FFT/">é¢‘åŸŸå¤„ç†Frequency domain processingï¼šå‚…é‡Œå¶å˜æ¢ | YangWCâ€™s Blog</a></p></blockquote><p>$Fourier: F(\omega)=\int_{-\infty}^{\infty}f(t)e^{-i\omega t}dt$<br>$F(\omega)=\int_{-\infty}^{\infty}f(t)\cos{(\omega t)}dt-i\int_{-\infty}^{\infty}f(t)\sin{(\omega t)}dt$ </p><p>å‚…é‡Œå¶å˜æ¢å¯ä»¥çœ‹ä½œä½¿ç”¨ä¸åŒé¢‘ç‡$\omega$çš„sinå’Œcoså¯¹åŸå§‹æ—¶åŸŸä¿¡å·è¿›è¡Œç§¯åˆ†ï¼Œsinå’Œcosç§¯åˆ†å¾—åˆ°çš„å€¼è¶Šå¤§ï¼Œåˆ™è™šéƒ¨å’Œå®éƒ¨çš„å€¼è¶Šå¤§ï¼Œç›´è§‚çš„æ¨¡/æŒ¯å¹… magnitude ä¹Ÿè¶Šå¤§ï¼Œè¯¥é¢‘ç‡$\omega$æˆåˆ†ä¸‹çš„å€¼ä¹Ÿè¶Šå¤§</p><p>å¯¹äºä¿¡å·$cos\pi t$ è¿›è¡ŒFTï¼Œå…¶è™šéƒ¨$\cos \pi t \cdot \sin \omega t$ä¸€ç›´ä¸º0ï¼Œå®éƒ¨$\sin \pi t \cdot \sin \omega t$åœ¨å…¶ä»–åœ°æ–¹ä¸º0ï¼Œåœ¨$\omega =\pi$æ—¶è¾¾åˆ°æ­£æ— ç©·</p><h4 id="DFT"><a href="#DFT" class="headerlink" title="DFT"></a>DFT</h4><blockquote><p><a href="https://blog.demofox.org/2016/08/11/understanding-the-discrete-fourier-transform/">Understanding The Discrete Fourier Transform Â« The blog at the bottom of the sea</a></p></blockquote><p>$X_{k}=\sum_{n=0}^{N-1}x_{n}\cdot e^{-2\pi ikn/N}$</p><h4 id="FFT"><a href="#FFT" class="headerlink" title="FFT"></a>FFT</h4><h4 id="STFT"><a href="#STFT" class="headerlink" title="STFT"></a>STFT</h4><blockquote><p><a href="https://www.zhihu.com/question/26673889/answer/3292923354">çŸ­æ—¶å‚…é‡Œå¶å˜æ¢å’Œå°æ³¢å˜æ¢æœ‰ä½•ä¸åŒï¼Ÿ - Mr.çœ‹æµ·çš„å›ç­” - çŸ¥ä¹</a></p></blockquote><p>å¯è§å½“ä¿¡å·çš„é¢‘ç‡æˆåˆ†éšæ—¶é—´æ˜¾è‘—å˜åŒ–æ—¶ï¼Œå³æ‰€è°“çš„éå¹³ç¨³ä¿¡å·ï¼Œä¼ ç»Ÿé¢‘è°±åˆ†æå°±ä¸å¤ªåˆé€‚äº†ã€‚<br>ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><ul><li>ç ”ç©¶ä¿¡å·çš„å±€éƒ¨ç‰¹æ€§ï¼šå¦‚çˆ†ç‚¸å£°ã€æœºå™¨çš„æ•…éšœå™ªå£°ç­‰ï¼Œè¿™äº›ä¿¡å·çš„ç‰¹æ€§åœ¨çŸ­æ—¶é—´å†…å˜åŒ–å¾ˆå¤§ã€‚</li><li>è¯­éŸ³å¤„ç†ï¼šåœ¨è‡ªåŠ¨è¯­éŸ³è¯†åˆ«å’Œè¯­éŸ³åˆæˆä¸­ï¼Œè¯­éŸ³çš„ç‰¹å¾å¦‚éŸ³é«˜å’ŒéŸ³é‡éšç€æ—¶é—´è€Œå˜åŒ–ã€‚</li><li>é›·è¾¾å’Œæ— çº¿ç”µä¿¡å·åˆ†æï¼šé›·è¾¾ä¿¡å·çš„ç‰¹æ€§ä¾èµ–äºæ—¶é—´å’Œè§‚æµ‹çš„è§’åº¦ï¼Œéœ€åˆ†æè¿™äº›ä¿¡å·éšæ—¶é—´çš„å˜åŒ–ã€‚</li><li>ç”Ÿç‰©åŒ»å­¦ä¿¡å·åˆ†æï¼šæ¯”å¦‚å¿ƒç”µå›¾ï¼ˆECGï¼‰å’Œè„‘ç”µå›¾ï¼ˆEEGï¼‰è¿™æ ·çš„ç”Ÿç†ä¿¡å·ï¼Œå®ƒä»¬çš„é¢‘ç‡ç‰¹æ€§éšæ—¶é—´æ”¹å˜ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241001123745.png" alt="image.png|333"></p><p>åœ¨çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ï¼ˆSTFTï¼‰ä¸­ï¼Œçª—å£å‡½æ•°åŠå…¶å¤§å°é€‰æ‹©æ˜¯åˆ†æçš„å…³é”®ã€‚çª—å£å‡½æ•°å†³å®šäº†åœ¨ä»»ä½•ç»™å®šæ—¶é—´ç‚¹ï¼Œä¿¡å·çš„å“ªä¸€éƒ¨åˆ†è¢«ç”¨äºåˆ†æã€‚çª—å£å¤§å°çš„é€‰æ‹©ç›´æ¥å½±å“äº†åˆ†æç»“æœçš„æ—¶é—´åˆ†è¾¨ç‡å’Œé¢‘ç‡åˆ†è¾¨ç‡ï¼Œè¿™æ˜¯è¿›è¡Œæœ‰æ•ˆSTFTåˆ†æçš„æœ€é‡è¦çš„æƒè¡¡ã€‚</p><p>çª—å£å¤§å°çš„æ—¶é—´åˆ†è¾¨ç‡å½±å“ï¼šæ—¶é—´åˆ†è¾¨ç‡ä¸çª—å£çš„å®½åº¦å¯†åˆ‡ç›¸å…³ã€‚ä¸€ä¸ªçª„çª—å£æä¾›è¾ƒé«˜çš„æ—¶é—´åˆ†è¾¨ç‡ï¼Œå› ä¸ºå®ƒæ•æ‰äº†ä¿¡å·åœ¨å¾ˆçŸ­æ—¶é—´å†…çš„å˜åŒ–ã€‚è¿™å¯¹äºåˆ†æåŒ…å«å¿«é€Ÿå˜åŒ–çš„ç¬æ€äº‹ä»¶ï¼Œå¦‚æ•²å‡»å£°æˆ–çˆ†ç‚¸å£°ï¼Œæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ç„¶è€Œï¼Œè¾ƒå°çš„çª—å£å°†é™åˆ¶é¢‘ç‡åˆ†è¾¨ç‡ï¼Œå› ä¸ºé¢‘ç‡åˆ†æéœ€è¦è¶³å¤Ÿçš„å‘¨æœŸæ¥å‡†ç¡®ä¼°è®¡ã€‚</p><p>çª—å£å¤§å°çš„é¢‘ç‡åˆ†è¾¨ç‡å½±å“ï¼šé¢‘ç‡åˆ†è¾¨ç‡ä¸çª—å£çš„å®½åº¦å‘ˆåæ¯”ã€‚ä¸€ä¸ªå®½çª—å£è¦†ç›–äº†ä¿¡å·çš„è¾ƒé•¿æ—¶é—´æ®µï¼Œæä¾›äº†è¾ƒé«˜çš„é¢‘ç‡åˆ†è¾¨ç‡ã€‚è¿™æ˜¯å› ä¸ºæ›´å¤šçš„å‘¨æœŸå¯ä»¥åœ¨çª—å£å†…è¢«åˆ†æï¼Œä»è€Œæ›´å‡†ç¡®åœ°ç¡®å®šä½é¢‘æˆåˆ†ã€‚ä½†æ˜¯ï¼Œè¿™ä¼šç‰ºç‰²æ—¶é—´åˆ†è¾¨ç‡ï¼Œå› ä¸ºçª—å£ä¸­çš„ä¿¡å·è¢«å‡å®šåœ¨è¿™æ®µæ—¶é—´å†…æ˜¯å¹³ç¨³çš„ã€‚</p><p><strong>é‚£æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œçª—å£å¤§å°æ˜¯å¯è°ƒçš„å‘¢ï¼Ÿ</strong></p><h4 id="Wavelet-Transform"><a href="#Wavelet-Transform" class="headerlink" title="Wavelet Transform"></a>Wavelet Transform</h4><p>å¯ä»¥å‘ç°å…¶ç‰¹ç‚¹ï¼šé«˜é¢‘éƒ¨åˆ†å…·æœ‰è¾ƒé«˜çš„æ—¶é—´åˆ†è¾¨ç‡å’Œè¾ƒä½çš„é¢‘ç‡åˆ†è¾¨ç‡ï¼Œè€Œä½é¢‘éƒ¨åˆ†å…·æœ‰è¾ƒé«˜çš„é¢‘ç‡åˆ†è¾¨ç‡å’Œè¾ƒä½çš„æ—¶é—´åˆ†è¾¨ç‡ï¼Œè¿™å°±æ°å¥½è§£å†³äº†STFTçš„ç—›ç‚¹</p><h3 id="Laplace-Transform"><a href="#Laplace-Transform" class="headerlink" title="Laplace Transform"></a>Laplace Transform</h3><blockquote><p><a href="https://www.youtube.com/watch?v=n2y7n6jw5d0">What does the Laplace Transform really tell us? A visual explanation (plus applications) - YouTube</a></p></blockquote><p>$X(s)=\int_0^\infty x(t)e^{-st}dt$</p><p>$Laplace:F(s)=\int_0^\infty f(t)e^{-st}dt$</p><p>$s=\alpha+i\omega$</p><p>$F(s)=\int_0^\infty f(t)e^{-i\omega t}e^{-\alpha t}dt$</p><ul><li>$e^{-i\omega t}$ scans for sinusoids</li><li>$e^{-\alpha t}$ scans for exponentials</li></ul><p>æ—¶åŸŸçš„å¾®ç§¯åˆ†åœ¨såŸŸä¸­å¯ä»¥å¾ˆå¥½åœ°è®¡ç®—</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240925100202.png" alt="image.png|666"></p><h2 id="å¤æ•°-Complex-Number"><a href="#å¤æ•°-Complex-Number" class="headerlink" title="å¤æ•° Complex Number"></a>å¤æ•° Complex Number</h2><blockquote><p><a href="https://www.longluo.me/blog/2021/12/29/fourier-transform/">å‚…é‡Œå¶å˜æ¢(Fourier Transform) | Long Luoâ€™s Life Notes</a></p></blockquote><p>åœ¨å¤å¹³é¢ä¸Šï¼Œ1 æœ‰ n ä¸ªä¸åŒçš„ n æ¬¡æ–¹æ ¹ï¼Œå®ƒä»¬ä½äºå¤å¹³é¢çš„å•ä½åœ†ä¸Šï¼Œæ„æˆ<strong>æ­£å¤šè¾¹å½¢çš„é¡¶ç‚¹</strong>ï¼Œä½†æœ€å¤šåªå¯æœ‰ä¸¤ä¸ªé¡¶ç‚¹åŒæ—¶æ ‡åœ¨å®æ•°çº¿ä¸Š</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240921212004.png" alt="image.png|666"></p><h2 id="KL-æ•£åº¦"><a href="#KL-æ•£åº¦" class="headerlink" title="KL æ•£åº¦"></a>KL æ•£åº¦</h2><blockquote><p><a href="https://www.vectorexplore.com/tech/loss-functions/kl-divergence/">KL æ•£åº¦ï¼ˆKullback-Leibler Divergenceï¼‰ï¼šå›¾ç¤º+å…¬å¼+ä»£ç </a><br><a href="https://zhuanlan.zhihu.com/p/45131536">æœºå™¨å­¦ä¹ ä¸­çš„æ•£åº¦ - çŸ¥ä¹</a></p></blockquote><p>æ¦‚ç‡åˆ†å¸ƒPçš„æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸º $p(x_i)$<br>ä¿¡æ¯ç†è®ºçš„ä¸»è¦ç›®æ ‡æ˜¯é‡åŒ–æ•°æ®ä¸­çš„ä¿¡æ¯é‡ã€‚ä¿¡æ¯ç†è®ºä¸­æœ€é‡è¦çš„åº¦é‡æ ‡å‡†ç§°ä¸ºç†µï¼ˆEntropyï¼‰ï¼Œé€šå¸¸è¡¨ç¤ºä¸º Hå…¶ä¿¡æ¯ç†µï¼š$H(X)=-\sum_{i=1}^np(x_i)\log p(x_i)$ , <strong><em>å¯ä»¥å°†-log(p)çœ‹æˆæƒé‡ï¼Œæ¦‚ç‡pè¶Šå¤§ï¼Œæƒé‡è¶Šå°</em></strong> (å¦‚æœæœ‰äººå‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªç›¸å½“ä¸å¯èƒ½çš„äº‹ä»¶å‘ç”Ÿäº†ï¼Œæˆ‘ä»¬æ”¶åˆ°çš„ä¿¡æ¯è¦å¤šäºæˆ‘ä»¬è¢«å‘ŠçŸ¥æŸä¸ªå¾ˆå¯èƒ½å‘ç”Ÿçš„äº‹ä»¶å‘ç”Ÿæ—¶æ”¶åˆ°çš„ä¿¡æ¯ã€‚å¦‚æœæˆ‘ä»¬çŸ¥é“æŸä»¶äº‹æƒ…ä¸€å®šä¼šå‘ç”Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸ä¼šæ¥æ”¶åˆ°ä¿¡æ¯ã€‚)</p><ul><li>å¦‚æœæˆ‘ä»¬åœ¨è®¡ç®—ä¸­ä½¿ç”¨ $log_{2}$â€‹ æˆ‘ä»¬å¯ä»¥å°†ç†µè§£é‡Šä¸ºâ€œç¼–ç æˆ‘ä»¬çš„ä¿¡æ¯æ‰€éœ€çš„æœ€å°æ¯”ç‰¹æ•°â€ã€‚<ul><li>ã€ä¾‹1ã€‘Aã€Bã€Cã€D å››ä¸ªå­—æ¯åˆ†åˆ«å  1/2ï¼ˆ4096ä¸ªï¼‰ï¼Œ1/4ï¼ˆ2048ä¸ªï¼‰ï¼Œ1/8ï¼ˆ1024ä¸ªï¼‰ï¼Œ1/8ï¼ˆ1024ä¸ªï¼‰ã€‚é‚£ä¹ˆæœ€æœ‰æ•ˆçš„ä¸€ç§ç¼–ç æ–¹å¼ä¸º A(0)ï¼ŒBï¼ˆ10ï¼‰ï¼ŒCï¼ˆ110ï¼‰ï¼ŒD(111)ã€‚æ•´ä¸ªè¯­æ–™åº“çš„é•¿åº¦ 4096 x 1 + 2048 x 2 + 1024 x 3 x 2 = 14336ï¼Œå¹³å‡é•¿åº¦ä¸º 14336/8192 = 1.75ã€‚å’Œä¸‹é¢ä»£ç ä¸­çš„ã€ç»“æœ1ã€‘ä¸€è‡´ã€‚<em>å¦‚æœä½¿ç”¨å¦ä¸€ç§ç¼–ç æ–¹å¼(ä¾‹2)å³  Aï¼ˆ110ï¼‰ï¼ŒBï¼ˆ111ï¼‰ï¼ŒCï¼ˆ0ï¼‰ï¼ŒDï¼ˆ10ï¼‰ï¼Œåˆ™ç†µä¸º(4096 </em> 3 + 2048 <em> 3 + 1024 </em> 1 + 1024 <em> 2 )/8192 = 2.625</em><ul><li>å…¶ä¸­å¦‚æœp(x)=0.5ï¼Œåˆ™åªéœ€è¦$-log_{2}(0.5)=1$ä¸ªbitçš„ç¼–ç ï¼›å¦‚æœp(x)=0.25ï¼Œåˆ™éœ€è¦2 bitçš„ç¼–ç ï¼Œä»¥æ­¤ç±»æ¨</li><li>ä¾ç…§è¿™ç§è§„å¾‹çš„ç¼–ç ï¼Œå¯ä»¥ä¿è¯ä¿¡æ¯ä¸­çš„ç†µæœ€å°</li></ul></li><li>ã€ä¾‹2ã€‘ABCD å››ä¸ªå­—æ¯å æ¯”å˜æˆäº†1/8ï¼ˆ1024 ä¸ªï¼‰ï¼Œ1/8ï¼ˆ1024 ä¸ªï¼‰ï¼Œ1/2ï¼ˆ4096 ä¸ªï¼‰ï¼Œ1/4ï¼ˆ2048 ä¸ªï¼‰ï¼Œè¿™æ ·æœ€æœ‰æ•ˆçš„ä¸€ç§ç¼–ç æ–¹å¼ä¸º Aï¼ˆ110ï¼‰ï¼ŒBï¼ˆ111ï¼‰ï¼ŒCï¼ˆ0ï¼‰ï¼ŒDï¼ˆ10ï¼‰ï¼Œè®¡ç®—å¹³å‡é•¿åº¦ä¸º1.75ï¼Œå’Œä»£ç ä¸­çš„ã€ç»“æœ3ã€‘ä¸€è‡´ã€‚ <em>å¦‚æœä½¿ç”¨å¦ä¸€ç§ç¼–ç æ–¹å¼(ä¾‹1)å³  A(0)ï¼ŒBï¼ˆ10ï¼‰ï¼ŒCï¼ˆ110ï¼‰ï¼ŒD(111)ï¼Œåˆ™ç†µä¸º(1024 </em> 1 + 1024 <em> 2 + 4096 </em> 3 + 2048 <em> 3 )/8192 = 2.625</em></li><li>ç›¸å¯¹ç†µ(KLæ•£åº¦)ï¼š<ul><li>ä¾‹1 ç›¸å¯¹äº ä¾‹2 çš„ç›¸å¯¹ç†µä¸º $p(x)\log_{2}\left( \frac{p(x)}{q(x)} \right)$=(4096 <em> -(1-3) + 2048 </em> -(2-3) + 1024 <em> -(3-1) + 1024 </em> -(3-2) )/8192 = 0.875 = 2.625 - 1.75ã€‚ è¿™è¯´æ˜é’ˆå¯¹ä¾‹å­ä¸­çš„è¿™ä¸€åˆ†å¸ƒï¼Œä½¿ç”¨æ³•1ç¼–ç ç›¸å¯¹äºæ³•2æ¥è¯´ï¼Œå¹³å‡å¯ä»¥çœä¸‹0.875bit</li><li>ä¾‹2 ç›¸å¯¹äº ä¾‹1 çš„ç›¸å¯¹ç†µä¸º $q(x)\log_{2}\left( \frac{q(x)}{p(x)} \right)$=(1024 <em> -(3-1) + 1024 </em> -(3-2) + 4096 <em> -(1-3) + 2048 </em> -(2-3) )/8192 =0.875 = 2.625 - 1.75</li><li>ä¸¤ä¸ªä¾‹å­å°½ç®¡ç¼–ç æ–¹å¼ä¸åŒï¼Œä½†å­—æ¯çš„é¢‘ç‡åˆ†å¸ƒæ˜¯ä¸€è‡´çš„ã€‚å› æ­¤ï¼Œåœ¨è®¡ç®—KLæ•£åº¦æ—¶ï¼Œç”±äº p(x) å’Œ q(x) å®é™…ä¸Šæ˜¯ç›¸åŒçš„ï¼Œå¯¼è‡´ KLæ•£åº¦çš„ä¸¤ä¸ªæ–¹å‘ç›¸ç­‰ã€‚<strong>ä¸ºä»€ä¹ˆæ˜¯0.875è€Œä¸æ˜¯0ï¼Ÿ</strong> è¿™è¯´æ˜å³ä½¿ä¸¤ç§ç¼–ç æ–¹æ¡ˆéƒ½èƒ½æè¿°ç›¸åŒçš„æ¦‚ç‡åˆ†å¸ƒï¼Œ<strong>ä½†ç”±äºå®ƒä»¬åœ¨ä¿¡æ¯è¡¨ç¤ºæ–¹å¼ä¸Šçš„å·®å¼‚</strong>ï¼Œå¯¼è‡´äº†æ¯ç§ç¼–ç æ–¹å¼åœ¨å¦ä¸€ç§åˆ†å¸ƒä¸‹éƒ½æœ‰é¢å¤–çš„å†—ä½™ã€‚KLæ•£åº¦åæ˜ äº†è¿™ç§å†—ä½™ï¼šå³ä½¿åˆ†å¸ƒç›¸åŒï¼Œç¼–ç æ–¹å¼çš„å·®å¼‚ä¼šå¯¼è‡´ä½ ç”¨ä¸€ç§æ–¹å¼æ¥ç¼–ç å¦ä¸€ç§ä¿¡æ¯æ—¶éœ€è¦é¢å¤–çš„0.875 bitsã€‚<strong>KLæ•£åº¦çœŸæ­£è¡¡é‡çš„æ˜¯æ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚ï¼Œè€Œä¸æ˜¯ç¼–ç æ–¹æ¡ˆä¹‹é—´çš„å·®å¼‚ã€‚</strong></li></ul></li></ul></li></ul><p>KLæ•£åº¦çš„å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºç”¨ä¸€ä¸ªåˆ†å¸ƒè¿‘ä¼¼å¦ä¸€ä¸ªåˆ†å¸ƒæ—¶å¼•å…¥çš„ä¿¡æ¯æŸå¤±æˆ–è¯¯å·®è¶Šå¤§ï¼š</p><ul><li>éå¯¹ç§°æ€§ï¼šKLæ•£åº¦æ˜¯éå¯¹ç§°çš„ï¼Œå³ä» P åˆ†å¸ƒåˆ° Q åˆ†å¸ƒçš„ KL æ•£åº¦ä¸ä» Q åˆ†å¸ƒåˆ° P åˆ†å¸ƒçš„ KL æ•£åº¦å¯èƒ½ä¸åŒã€‚<ul><li>è™½ç„¶KLæ•£åº¦é€šå¸¸æ˜¯éå¯¹ç§°çš„ï¼Œä½†åœ¨ç‰¹å®šæ¡ä»¶ä¸‹<strong>KLæ•£åº¦ä» P åˆ° Q</strong> ä¸ <strong>ä» Q åˆ° P</strong> çš„å€¼å¯ä»¥ç›¸ç­‰ï¼š<ul><li><strong>åœ¨æŸäº›ç‰¹å®šçš„ç¦»æ•£åˆ†å¸ƒæƒ…å†µä¸‹</strong>ï¼Œå½“ P(x)å’Œ Q(x)çš„æ¦‚ç‡è´¨é‡å‡½æ•°å…·æœ‰æŸç§å¯¹ç§°ç»“æ„æ—¶ï¼Œå®ƒä»¬çš„KLæ•£åº¦å¯èƒ½ç›¸ç­‰ï¼ˆä½†è¿™ä»æ˜¯æ¦‚ç‡åˆ†å¸ƒçš„ç‰¹æ®Šæƒ…å†µï¼Œè€Œä¸æ˜¯æ™®éç°è±¡ï¼‰ã€‚</li><li>ã€‚å½“ä¸”ä»…å½“ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒå®Œå…¨ç›¸åŒæ—¶ï¼ŒKLæ•£åº¦çš„å€¼ä¸ºé›¶</li></ul></li></ul></li><li>éè´Ÿæ€§ï¼šKLæ•£åº¦çš„å€¼å§‹ç»ˆä¸ºéè´Ÿæ•°ã€‚KLæ•£åº¦å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒè¶Šä¸ç›¸ä¼¼ã€‚</li><li>éåº¦é‡æ€§ï¼šKLæ•£åº¦å¹¶ä¸æ»¡è¶³åº¦é‡ç©ºé—´çš„æ€§è´¨ï¼Œç‰¹åˆ«æ˜¯ä¸‰è§’ä¸ç­‰å¼ã€‚ç”±äºéå¯¹ç§°æ€§å’Œéåº¦é‡æ€§ï¼ŒKL æ•£åº¦ä¸èƒ½ç”¨äºè®¡ç®—ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„â€œè·ç¦»â€æˆ–â€œç›¸ä¼¼åº¦â€ã€‚</li></ul><blockquote><p><a href="https://wuli.wiki/online/KLD.html">KL æ•£åº¦ï¼ˆç›¸å¯¹ç†µï¼‰ - å°æ—¶ç™¾ç§‘ (wuli.wiki)</a></p></blockquote><p><strong>KL æ•£åº¦</strong>ï¼ˆKullbackâ€“Leibler divergenceï¼Œç¼©å†™ KLDï¼‰æ˜¯ä¸€ç§ç»Ÿè®¡å­¦åº¦é‡ï¼Œ<strong>è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒç›¸å¯¹äºå¦ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„å·®å¼‚ç¨‹åº¦</strong>ï¼Œåœ¨ä¿¡æ¯è®ºä¸­åˆç§°ä¸º<strong>ç›¸å¯¹ç†µ</strong>ï¼ˆRelative entropyï¼‰ã€‚å¯¹äºéšæœºå˜é‡Qçš„æ¦‚ç‡åˆ†å¸ƒï¼Œç›¸å¯¹äºéšæœºå˜é‡Pçš„æ¦‚ç‡åˆ†å¸ƒçš„KLæ•£åº¦å®šä¹‰ä¸ºï¼š $D_{KL}(P||Q)=H(P,Q)-H(P)$</p><script type="math/tex; mode=display">\begin{equation}D_{KL}(P||Q)=\sum_{x\in X}P(x)ln(\frac{P(x)}{Q(x)})=\sum_{x\in X}P(x)(ln(P(x))-ln(Q(x)))~.\end{equation}</script><p>å¯¹äºè¿ç»­å‹éšæœºå˜é‡ï¼Œè®¾æ¦‚ç‡ç©ºé—´ X ä¸Šæœ‰ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒ P å’Œ Qï¼Œå…¶æ¦‚ç‡å¯†åº¦åˆ†åˆ«ä¸º p å’Œ qï¼Œé‚£ä¹ˆï¼ŒP ç›¸å¯¹äº Q çš„ KL æ•£åº¦å®šä¹‰å¦‚ä¸‹ï¼š</p><script type="math/tex; mode=display">\begin{equation}D_{KL}(P||Q)=\int_{-\infty}^{+\infty}p(x)ln(\frac{p(x)}{q(x)})dx~.\end{equation}</script><p> æ˜¾ç„¶ï¼Œå½“ P=Q æ—¶ï¼Œ$D_{KL}=0$</p><p>ä¸¤ä¸ªä¸€ç»´é«˜æ–¯åˆ†å¸ƒçš„ KL æ•£åº¦å…¬å¼ï¼š</p><blockquote><p><a href="https://hsinjhao.github.io/2019/05/22/KL-DivergenceIntroduction/">KLæ•£åº¦(Kullback-Leibler Divergence)ä»‹ç»åŠè¯¦ç»†å…¬å¼æ¨å¯¼ | HsinJhaoâ€™s Blogs</a></p></blockquote><script type="math/tex; mode=display">\begin{aligned}KL(p,q)& =\int[\left.p(x)\log(p(x))-p(x)\log(q(x))\right]dx  \\&=-\frac12\left[1+\log(2\pi\sigma_1^2)\right]-\left[-\frac12\log(2\pi\sigma_2^2)-\frac{\sigma_1^2+(\mu_1-\mu_2)^2}{2\sigma_2^2}\right] \\&=\log\frac{\sigma_2}{\sigma_1}+\frac{\sigma_1^2+(\mu_1-\mu_2)^2}{2\sigma_2^2}-\frac12\end{aligned}</script><h2 id="å‡¸å‡½æ•°ä¸Jensenä¸ç­‰å¼"><a href="#å‡¸å‡½æ•°ä¸Jensenä¸ç­‰å¼" class="headerlink" title="å‡¸å‡½æ•°ä¸Jensenä¸ç­‰å¼"></a>å‡¸å‡½æ•°ä¸Jensenä¸ç­‰å¼</h2><p>å‡¸å‡½æ•°æ˜¯ä¸€ä¸ªå®šä¹‰åœ¨æŸä¸ªå‘é‡ç©ºé—´çš„å‡¸å­é›† Cï¼ˆåŒºé—´ï¼‰ä¸Šçš„å®å€¼å‡½æ•° fï¼Œå¦‚æœåœ¨å…¶å®šä¹‰åŸŸ C ä¸Šçš„ä»»æ„ä¸¤ç‚¹$x_{1},x_{2}$ï¼Œ$0\leq t\leq 1$ï¼Œæœ‰ï¼š<br>æ»¡è¶³$tf(x_1)+(1-t)f(x_2)\geq f\left(tx_1+(1-t)x_2\right)$<br>ä¹Ÿå°±æ˜¯è¯´å‡¸å‡½æ•°ä»»æ„ä¸¤ç‚¹çš„å‰²çº¿ä½äºå‡½æ•°å›¾å½¢ä¸Šæ–¹ï¼Œ <strong>è¿™ä¹Ÿæ˜¯Jensenä¸ç­‰å¼çš„ä¸¤ç‚¹å½¢å¼</strong></p><p>è‹¥å¯¹äºä»»æ„ç‚¹é›† $\{x_{i}\}$ï¼Œè‹¥ $\lambda_iâ‰¥0$ä¸” $âˆ‘_{i}\lambda_{i}=1$ ï¼Œä½¿ç”¨<strong>æ•°å­¦å½’çº³æ³•</strong>ï¼Œå¯ä»¥è¯æ˜å‡¸å‡½æ•° f (x) æ»¡è¶³ï¼š<br>$f(\sum_{i=1}^M\lambda_ix_i)\leq\sum_{i=1}^M\lambda_if(x_i)$ å³ä¸ºJesenä¸ç­‰å¼</p><p><strong>åœ¨æ¦‚ç‡è®ºä¸­</strong>ï¼Œå¦‚æœæŠŠ $\lambda_i$ çœ‹æˆå–å€¼ä¸º $x_{i}$çš„ç¦»æ•£å˜é‡ x çš„æ¦‚ç‡åˆ†å¸ƒ$p_{i}$ï¼Œé‚£ä¹ˆå…¬å¼(2)å°±å¯ä»¥å†™æˆ<br>$f(E[x])\leq E[f(x)]$ , $E[\cdot]$ä»£è¡¨æœŸæœ›</p><p>å¯¹äºè¿ç»­å˜é‡ï¼ŒJensenä¸ç­‰å¼ç»™å‡ºäº†ç§¯åˆ†çš„å‡¸å‡½æ•°å€¼å’Œå‡¸å‡½æ•°çš„ç§¯åˆ†å€¼é—´çš„å…³ç³»ï¼š<br>$f(\int xp(x)dx)\leq\int f(x)p(x)dx$</p><h1 id="æ¦‚ç‡è®º"><a href="#æ¦‚ç‡è®º" class="headerlink" title="æ¦‚ç‡è®º"></a>æ¦‚ç‡è®º</h1><h2 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h2><h3 id="å‡å€¼æ–¹å·®"><a href="#å‡å€¼æ–¹å·®" class="headerlink" title="å‡å€¼æ–¹å·®"></a>å‡å€¼æ–¹å·®</h3><p>ä¸ºä»€ä¹ˆæ ·æœ¬ä¼°è®¡æ–¹å·®è¦é™¤ä»¥n-1 <a href="https://zhuanlan.zhihu.com/p/550427703">ã€æµ…è°ˆã€‘æ ·æœ¬æ–¹å·®çš„åˆ†æ¯â€œnâ€ä¸ºä»€ä¹ˆè¦æ”¹ä¸ºâ€œn-1â€ - çŸ¥ä¹</a></p><p>å…¶å®å°±æ˜¯è‡ªç”±åº¦ï¼Œå½“ä½ ç®—æ ‡å‡†å·®çš„æ—¶å€™ï¼Œå·²ç»çŸ¥é“å‡å€¼äº†ï¼Œé‚£ä¹ˆå°±åªæœ‰n-1ä¸ªæ•°å­—æ˜¯è‡ªç”±çš„ï¼Œç¬¬nä¸ªæ•°å€¼å¯ä»¥ç”±å‰é¢çš„n-1ä¸ªæ•°å­—å’Œå‡å€¼ç®—å‡ºæ¥äº†ï¼Œæ‰€ä»¥ä»–å®é™…ä¸Šä¸åŒ…å«ä»»ä½•å…³äºæ•°æ®æ³¢åŠ¨çš„ä¿¡æ¯</p><p>æ— åä¼°è®¡çš„æ–¹å·®ï¼š<br>$\left\{\begin{array}{c}M_n=\frac{X_1+X_2+\cdots+X_n}n\\\hat{S}_n^2=\frac{\sum_{i=1}^n(X_i-M_n)^2}{n-1}\end{array}\right.$</p><p><a href="https://zhuanlan.zhihu.com/p/64859161">ã€APç»Ÿè®¡ã€‘æœŸæœ›E(X)ä¸æ–¹å·®Var(X) - çŸ¥ä¹</a></p><h3 id="æ¦‚ç‡-ä¼¼ç„¶"><a href="#æ¦‚ç‡-ä¼¼ç„¶" class="headerlink" title="æ¦‚ç‡/ä¼¼ç„¶"></a>æ¦‚ç‡/ä¼¼ç„¶</h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/334890990">é€šä¿—ç†è§£â€œæå¤§ä¼¼ç„¶ä¼°è®¡â€ - çŸ¥ä¹</a></p></blockquote><p>æ¦‚ç‡å‡½æ•°ï¼šç”±å› åˆ°æœï¼Œå·²çŸ¥å‚æ•°(æ¦‚ç‡)ï¼Œæ ¹æ®çœŸå®å‚æ•°ï¼ˆæˆ–å·²ç»å‘ç”Ÿçš„è§‚æµ‹ç»“æœï¼‰å»æ¨æµ‹æœªæ¥çš„è§‚æµ‹ç»“æœ<br>ä¼¼ç„¶å‡½æ•°ï¼šç”±æœåˆ°å› ï¼Œæ ¹æ®å·²ç»å‘ç”Ÿçš„è§‚æµ‹ç»“æœå»çŒœæƒ³çœŸå®å‚æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åš<strong>ä¼°è®¡</strong>ï¼›ä¼°è®¡æ­£ç¡®çš„å¯èƒ½æ€§å«åš<strong>ä¼¼ç„¶æ€§</strong>ã€‚ä¼°è®¡å‚æ•°çš„ä¼¼ç„¶æ€§ï¼Œå…¶ç›®çš„æ˜¯å¸®åŠ©æˆ‘ä»¬æ ¹æ®å·²è§‚æµ‹çš„ç»“æœï¼Œæ¨æµ‹å‡ºæœ€ç¬¦åˆè§‚æµ‹ç»“æœã€æœ€åˆç†çš„å‚æ•°ã€‚</p><p>å‡è®¾ä¸€ä¸ªå‚æ•°pï¼Œåˆ™åœ¨è¿™ä¸€å‚æ•°åŸºç¡€ä¸Šå‡ºç°ç»“æœçš„æ¦‚ç‡å³ä¸ºä¼¼ç„¶</p><script type="math/tex; mode=display">\begin{aligned}&L(p)=L(p|x_1,\ldots,x_n) \\&=P(X_1=x_1|p)â€¢\ldotsâ€¢P(X_n=x_n|p) \\&=\prod_{i=1}^nP(X_i=x_i|p)\end{aligned}</script><p>æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆmaximum likelihood estimationï¼Œç¼©å†™ä¸ºMLEï¼‰ï¼Œä¹Ÿç§°<a href="https://zhida.zhihu.com/search?content_id=162550522&amp;content_type=Article&amp;match_order=2&amp;q=%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1&amp;zhida_source=entity">æœ€å¤§ä¼¼ç„¶ä¼°è®¡</a>ã€‚<br>$\arg\max_pL(p)=\arg\max_p\prod_{i=1}^nP(X_i=x_i|p)$<br>å°†$L(p)$çœ‹ä½œpçš„å‡½æ•°ï¼Œå¯¹å…¶æ±‚å¯¼ï¼Œå¯¼æ•°ä¸º0ï¼Œå³å¯å¾—åˆ°æœ€å¤§çš„ä¼¼ç„¶å€¼å¯¹åº”çš„å‚æ•°p</p><p>æ±‚å¯¼å‰ä¸ºä»€ä¹ˆè¦å–å¯¹æ•°ï¼Ÿï¼š<strong>ï¼ˆ1ï¼‰é¿å…ä¸‹æº¢å‡º</strong> <strong>ï¼ˆ2ï¼‰ä¾¿äºè®¡ç®—</strong> å°†ç´¯ç§¯ä¹˜æ³•è½¬æ¢æˆç´¯åŠ </p><h2 id="Bayes"><a href="#Bayes" class="headerlink" title="Bayes"></a>Bayes</h2><p><img src="https://pbs.twimg.com/media/GZsfHmbaAAE1ZFD?format=jpg&amp;name=large" alt="GZsfHmbaAAE1ZFD (1264Ã—1128)|555"></p><p>Follow:</p><blockquote><p><a href="https://www.zhihu.com/people/chenxran0916/posts">KERO - çŸ¥ä¹</a></p></blockquote><ul><li>æœ€å¤§ä¼¼ç„¶</li></ul><p>æœ€å¤§ä¼¼ç„¶ä¼°è®¡(Maximum Likelihood Estimation, MLE)ï¼Œå°±æ˜¯åˆ©ç”¨å·²çŸ¥çš„æ ·æœ¬ç»“æœä¿¡æ¯ï¼Œåæ¨æœ€å…·æœ‰å¯èƒ½ï¼ˆæœ€å¤§æ¦‚ç‡ï¼‰å¯¼è‡´è¿™äº›æ ·æœ¬ç»“æœå‡ºç°çš„æ¨¡å‹å‚æ•°å€¼ï¼æ ·æœ¬ä»æŸä¸€ä¸ªå®¢è§‚å­˜åœ¨çš„æ¨¡å‹ä¸­æŠ½æ ·å¾—æ¥ï¼Œç„¶åæ ¹æ®æ ·æœ¬æ¥è®¡ç®—è¯¥æ¨¡å‹çš„æ•°å­¦å‚æ•°ï¼Œå³ï¼šæ¨¡å‹å·²å®šï¼Œå‚æ•°æœªçŸ¥ï¼</p><script type="math/tex; mode=display">\begin{aligned}\widehat{\theta}_{\mathrm{MLE}}& =\arg\max P(X;\theta)  \\&=\arg\max P(x_1;\theta)P(x_2;\theta)\cdot\cdots P(x_n;\theta) \\&=\arg\max\log\prod_{i=1}^nP(x_i;\theta) \\&=\arg\max\sum_{i=1}^n\log P(x_i;\theta) \\&=\arg\min-\sum_{i=1}^n\log P(x_i;\theta)\end{aligned}</script><ul><li>æœ€å¤§åéªŒ</li></ul><script type="math/tex; mode=display">\begin{aligned}\hat{\theta}_{\mathrm{MAP}}& =\arg\max P(\theta|X)  \\&=\arg\min-\log P(\theta|X) \\&=\arg\min-\log P(X|\theta)-\log P(\theta)+\log P(X) \\&=\arg\min-\log P(X|\theta)-\log P(\theta)\end{aligned}</script><blockquote><p><a href="https://www.youtube.com/watch?v=HZGCoVF3YvM">è´å¶æ–¯å®šç†ï¼Œæ”¹å˜ä¿¡å¿µçš„å‡ ä½•å­¦ - YouTube</a> â€”â€”æ•°å½¢ç»“åˆ<br><a href="https://zhuanlan.zhihu.com/p/401258319">èµ°è¿›è´å¶æ–¯ç»Ÿè®¡ï¼ˆä¸€ï¼‰â€”â€” å…ˆéªŒåˆ†å¸ƒä¸åéªŒåˆ†å¸ƒ - çŸ¥ä¹</a><br><a href="https://www.cnblogs.com/USTC-ZCC/p/12786860.html">è¶…è¯¦ç»†è®²è§£è´å¶æ–¯ç½‘ç»œ(Bayesian network) - USTCä¸¶ZCC - åšå®¢å›­</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240316151511.png" alt="image.png|666"></p><p>å…¨æ¦‚ç‡å…¬å¼ï¼š$\mathbf{P(H)}=\mathbf{P(H|A)P(A)}+\mathbf{P(H|B)P(B)}$ï¼Œç»“æœHå‘ç”Ÿçš„æ¦‚ç‡</p><p>è´å¶æ–¯å…¬å¼ï¼š$\mathbf{P}(\mathbf{A}|\mathbf{H})=\frac{P(A)P(H|A)}{P(H)}$ï¼ŒHç»“æœå‘ç”Ÿæ—¶ï¼Œæ˜¯ç”±Aå¯¼è‡´çš„æ¦‚ç‡</p><ul><li>è¿ç»­$p(y_0|x)=\frac{p(x|y_0)p(y_0)}{\int_{-\infty}^{+\infty}p(x|y)p(y)dy}$</li><li>ç¦»æ•£$p(y_j|x)=\frac{p(x|y_j)p(y_j)}{\sum_{i=0}^np(x|y_i)p(y_i)}$</li></ul><p>åœ¨ä½¿ç”¨æ•°æ®ä¼°è®¡å‚æ•°$\theta$ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç»™è¿™ä¸ªå‚æ•°è®¾å®šä¸€ä¸ªåˆ†å¸ƒï¼Œå³å…ˆéªŒåˆ†å¸ƒ$p(\theta)$ï¼ˆæ ¹æ®ç»éªŒå¾—åˆ°ï¼‰</p><p>$p(\theta|X)=\frac{p(\theta,X)}{p(X)}=\frac{p(X|\theta)p(\theta)}{\int_{-\infty}^{+\infty}p(X|\theta)p(\theta)d\theta}.$</p><ul><li>$p(\theta|X)$æ˜¯$\theta$çš„åéªŒåˆ†å¸ƒ</li><li>$p(X|\theta)$æ˜¯åœ¨ç»™å®š$\theta$ä¸‹å…³äºæ•°æ®æ ·æœ¬çš„ä¼¼ç„¶å‡½æ•°</li><li>$\int_{-\infty}^{+\infty}p(X|\theta)p(\theta)d\theta$ ä¸ºå¸¸æ•°cï¼Œå¯ä»¥å†™ä¸º$p(\theta|X)\propto p(X|\theta)p(\theta).$</li></ul><h2 id="Distribution"><a href="#Distribution" class="headerlink" title="Distribution"></a>Distribution</h2><h3 id="æ ¸å¯†åº¦ä¼°è®¡"><a href="#æ ¸å¯†åº¦ä¼°è®¡" class="headerlink" title="æ ¸å¯†åº¦ä¼°è®¡"></a>æ ¸å¯†åº¦ä¼°è®¡</h3><blockquote><p><a href="https://viruspc.github.io/blog/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/2021/09/27/kde.html">æ ¸å¯†åº¦ä¼°è®¡ (KDE, Kernel Density Estimation) | Blog</a></p></blockquote><h3 id="Gamma-åˆ†å¸ƒ"><a href="#Gamma-åˆ†å¸ƒ" class="headerlink" title="Gamma åˆ†å¸ƒ"></a>Gamma åˆ†å¸ƒ</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Gamma_distribution">Gamma distribution - Wikipedia</a></p></blockquote><p>Gamma Functionï¼š$\Gamma(z)=\int_0^\infty t^{z-1}e^{-t}\mathrm{d}t,\quad\Re(z)&gt;0.$ or $\Gamma(n)=(n-1)!.$</p><p>$f(x)=\frac{\beta^{\alpha}}{\Gamma(\alpha)}x^{\alpha-1}e^{-\beta x}$</p><p>å›¾ä¸­kå¯¹åº”$\alpha$ï¼Œ$\theta$å¯¹åº”$\beta$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240328193106.png" alt="image.png|333"></p><h3 id="Beta-åˆ†å¸ƒ"><a href="#Beta-åˆ†å¸ƒ" class="headerlink" title="Beta åˆ†å¸ƒ"></a>Beta åˆ†å¸ƒ</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Beta_distribution">Beta distribution - Wikipedia</a></p></blockquote><p>é€šå¸¸æ˜¯æ¦‚ç‡åˆ†å¸ƒçš„åˆ†å¸ƒ</p><p>$\mathbf{B}(\alpha,\beta)={\frac{\Gamma(\alpha)\Gamma(\beta)}{\Gamma(\alpha+\beta)}}$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240328193446.png" alt="image.png|333"></p><h3 id="é«˜æ–¯åˆ†å¸ƒ"><a href="#é«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="é«˜æ–¯åˆ†å¸ƒ"></a>é«˜æ–¯åˆ†å¸ƒ</h3><p>$X\sim N(\mu,\sigma^2)$</p><p>PDFï¼š$f(x)=\frac1{\sigma\sqrt{2\pi}} e^{-\frac{(x-\mu)^2}{2\sigma^2}}$</p><h3 id="å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ"><a href="#å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ"></a>å¤šå…ƒé«˜æ–¯åˆ†å¸ƒ</h3><blockquote><p><a href="https://www.cnblogs.com/kailugaji/p/15542845.html">å¤šå…ƒ/å¤šç»´é«˜æ–¯/æ­£æ€åˆ†å¸ƒæ¦‚ç‡å¯†åº¦å‡½æ•°æ¨å¯¼ (Derivation of the Multivariate/Multidimensional Normal/Gaussian Density) - å‡¯é²å˜å‰ - åšå®¢å›­</a><br><a href="https://www.cnblogs.com/bingjianing/p/9117330.html">å¤šå…ƒé«˜æ–¯åˆ†å¸ƒï¼ˆThe Multivariate normal distributionï¼‰ - bingjianing - åšå®¢å›­</a></p></blockquote><p>æ¦‚ç‡å¯†åº¦å‡½æ•°<br>$p(x)=p(x_{1},x_{2},\ldots,x_{D})=\frac{1}{(2\pi)^{D/2}}\exp\left(-\frac{1}{2}(x-\mu)^{T}\Sigma^{-1}(x-\mu)\right)$</p><h3 id="æ··åˆé«˜æ–¯åˆ†å¸ƒ"><a href="#æ··åˆé«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="æ··åˆé«˜æ–¯åˆ†å¸ƒ"></a>æ··åˆé«˜æ–¯åˆ†å¸ƒ</h3><p>GMM</p><h3 id="è”åˆé«˜æ–¯åˆ†å¸ƒ"><a href="#è”åˆé«˜æ–¯åˆ†å¸ƒ" class="headerlink" title="è”åˆé«˜æ–¯åˆ†å¸ƒ"></a>è”åˆé«˜æ–¯åˆ†å¸ƒ</h3><p>å¦‚ä½•æ„é€ ä¸¤ä¸ªåæ–¹å·®æ ‡å‡†åˆ†å¸ƒ</p><blockquote><p><a href="https://blog.csdn.net/kdazhe/article/details/104599229">ç”Ÿæˆä¸€å®šç›¸å…³æ€§çš„äºŒå…ƒæ­£æ€åˆ†å¸ƒ_æ€ä¹ˆäº§ç”ŸäºŒå…ƒæ­£æ€åˆ†å¸ƒçš„éšæœºæ•°-CSDNåšå®¢</a></p></blockquote><p>ABä¸ºä¸¤ä¸ªç‹¬ç«‹çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼š</p><p>$\begin{aligned}\mathrm{X}&amp;=\alpha\mathrm{A}+\beta\mathrm{B},\\\\\mathrm{Y}&amp;=\gamma\mathrm{A}+\delta\mathrm{B}\end{aligned}$</p><p>$\alpha,\beta,\gamma,\delta$æ˜¯å››ä¸ªå¾…ç¡®å®šçš„å‚æ•°ï¼Œå¸Œæœ›æ‰¾åˆ°è¿™å››ä¸ªå‚æ•°ï¼Œä½¿å¾—Xå’ŒYä¹Ÿæœä»æ ‡å‡†æ­£æ€åˆ†å¸ƒ$N(0,1)$ï¼Œå¹¶ä¸”ç›¸å…³ç³»æ•°$Cor(X,Y)=\rho$ã€‚</p><p>ç”±æ ‡å‡†æ­£æ€åˆ†å¸ƒæ€§è´¨å¯å¾—ï¼š$\mathrm{X}\sim\mathrm{N}(0,\alpha^2+\beta^2),\mathrm{Y}\sim\mathrm{N}(0,\gamma^2+\delta^2)ã€‚$<br>è¦æƒ³ï¼š$\bar{\alpha}^{2}+\beta^{2}=1,\gamma^{2}+\delta^{2}=1$<br>åˆ™å¯ä»¥å‡è®¾ï¼š$\alpha=\cos\theta,\beta=\sin\theta;\gamma=\sin\theta,\delta=\cos\theta,$</p><p>ç”±ç›¸å…³ç³»æ•°ï¼š$\mathrm{Cor(X,~Y)}=\frac{\mathrm{Cov(X,~Y)}}{\sqrt{\mathrm{Var(X)Var(Y)}}}$ï¼Œ$\operatorname{Var}(\mathrm{X})=1$ï¼Œ$\operatorname{Var}(\mathrm{Y})=1$<br>å› æ­¤ä½¿å¾—ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\mathrm{Cov}(\mathrm{X,Y})& =\mathrm{Cov}\Big((\cos\theta)\mathrm{A}+(\sin\theta)\mathrm{B},(\sin\theta)\mathrm{A}+(\cos\theta)\mathrm{B}\Big)  \\&=\cos\theta\sin\theta+\sin\theta\cos\theta  \\&=\sin2\theta \end{aligned}</script><ul><li>ï¼ˆ$Cov(A,A)=1,Cov(A,B)=0$ï¼‰</li><li>$\text{Cov}(x_1 + x_2, y_1 + y_2) = \text{Cov}(x_1, y_1) + \text{Cov}(x_2, y_1) + \text{Cov}(x_1, y_2) + \text{Cov}(x_2, y_2)$</li><li>$\mathrm{Cov}(aX,Y)=a\mathrm{Cov}(X,Y)$</li></ul><p>åˆ™æœ‰ï¼š$\theta=\frac{\arcsin\rho}2$ï¼Œç„¶åä»¤$\begin{cases}\mathrm X=(\cos\theta)\mathrm A+(\sin\theta)\mathrm B\\\mathrm Y=(\sin\theta)\mathrm A+(\cos\theta)\mathrm B\end{cases}$ï¼Œåˆ™è®¡ç®—å‡ºæ¥çš„Xå’ŒYå°±æ˜¯ç›¸å…³æ€§ä¸º$\rho$çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">bivariateNormal</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, rho: <span class="string">&#x27;float&#x27;</span>, m: <span class="built_in">int</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Suppose we want to generate a pair of </span></span><br><span class="line"><span class="string">        random variables X, Y, with X ~ N(0, 1), </span></span><br><span class="line"><span class="string">        Y ~ N(0, 1), and Cor(X, Y) = rho. m is </span></span><br><span class="line"><span class="string">        the number of data pairs we want to generate.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.rho = rho</span><br><span class="line">        self.m = m</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">generateBivariate</span>(<span class="params">self</span>) -&gt; <span class="string">&#x27;tuple(np.array, np.array)&#x27;</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Generate two random variables X, Y, with X ~ N(0, 1), </span></span><br><span class="line"><span class="string">        Y ~ N(0, 1), and Cor(X, Y) = rho. </span></span><br><span class="line"><span class="string">        self.m is the number of sample points we generated.</span></span><br><span class="line"><span class="string">        We return a tuple (X, Y). </span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        theta = np.arcsin(self.rho) / <span class="number">2</span></span><br><span class="line">        A = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, self.m)</span><br><span class="line">        B = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, self.m)</span><br><span class="line">        X = np.cos(theta) * A + np.sin(theta) * B</span><br><span class="line">        Y = np.sin(theta) * A + np.cos(theta) * B</span><br><span class="line">        <span class="keyword">return</span> X, Y</span><br><span class="line"></span><br><span class="line">m = <span class="number">10</span> ** <span class="number">3</span></span><br><span class="line">rho = -<span class="number">0.4</span></span><br><span class="line">a = bivariateNormal(rho, m)</span><br><span class="line">X, Y = a.generateBivariate()</span><br><span class="line">np.corrcoef(X, Y)</span><br></pre></td></tr></table></figure><h3 id="P-box"><a href="#P-box" class="headerlink" title="P-box"></a>P-box</h3><h2 id="Markov-Chains"><a href="#Markov-Chains" class="headerlink" title="Markov Chains"></a>Markov Chains</h2><blockquote><p><a href="https://setosa.io/ev/markov-chains/">Markov Chains explained visually</a> å…¥é—¨</p></blockquote><h2 id="Sampling"><a href="#Sampling" class="headerlink" title="Sampling"></a>Sampling</h2><p>å¦‚ä½•åœ¨ä¸çŸ¥é“ç›®æ ‡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æƒ…å†µä¸‹ï¼ŒæŠ½å–æ‰€éœ€æ•°é‡çš„æ ·æœ¬ï¼Œä½¿å¾—è¿™äº›æ ·æœ¬ç¬¦åˆç›®æ ‡æ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚è¿™ä¸ªé—®é¢˜ç®€ç§°ä¸ºæŠ½æ ·</p><blockquote><p><a href="https://onlinelibrary.wiley.com/doi/full/10.1155/2018/8980756">Finite Element Model Updating in Bridge Structures Using Kriging Model and Latin Hypercube Sampling Method - Wu - 2018 - Advances in Civil Engineering - Wiley Online Library</a> ä¸åŒé‡‡æ ·æ–¹æ³•çš„è®¨è®º(simple random sampling (SRS), stratified sampling method, cluster sampling method, and systematic sampling) <strong>Latin Hypercube Sampling å±äº =åˆ†å±‚é‡‡æ ·</strong><br><a href="https://huangc.top/2019/03/24/sampling-2019/">Itâ€™s all about Sampling - å­æ·³çš„åšå®¢ | Just Me</a></p></blockquote><h3 id="Monte-Carlo"><a href="#Monte-Carlo" class="headerlink" title="Monte Carlo"></a>Monte Carlo</h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/338103692">ä¸€æ–‡çœ‹æ‡‚è’™ç‰¹å¡æ´›é‡‡æ ·æ–¹æ³• - çŸ¥ä¹ (zhihu.com)</a><br><a href="https://zhuanlan.zhihu.com/p/39628670">ç®€æ˜ä¾‹æè’™ç‰¹å¡æ´›ï¼ˆMonte Carloï¼‰æŠ½æ ·æ–¹æ³• - çŸ¥ä¹ (zhihu.com)</a><br><a href="https://zhuanlan.zhihu.com/p/406256344">èµ°è¿›è´å¶æ–¯ç»Ÿè®¡ï¼ˆå››ï¼‰â€”â€” è’™ç‰¹å¡æ´›æ–¹æ³• - çŸ¥ä¹</a><br><a href="https://www.cnblogs.com/barwe/p/14140681.html">é€†å˜æ¢é‡‡æ ·å’Œæ‹’ç»é‡‡æ · - barwe - åšå®¢å›­ (cnblogs.com)</a><br><a href="https://en.wikipedia.org/wiki/Monte_Carlo_method">Monte Carlo method - Wikipedia</a><br><a href="https://www.youtube.com/watch?v=c2WrJY8tnGE">ã€æ•°ä¹‹é“ 22ã€‘å·§å¦™ä½¿ç”¨â€æ¥å—-æ‹’ç»â€æ–¹æ³•ï¼Œç©è½¬å¤æ‚åˆ†å¸ƒæŠ½æ · - YouTube</a></p></blockquote><p>MC Sampling<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/v2-eb0945aa2185df958f4568e58300e77a_1440w.gif" alt="v2-eb0945aa2185df958f4568e58300e77a_1440w.gif|222"></p><p>å¯¹æŸä¸€ç§æ¦‚ç‡åˆ†å¸ƒp(x)è¿›è¡Œè’™ç‰¹å¡æ´›é‡‡æ ·çš„æ–¹æ³•ä¸»è¦åˆ†ä¸ºç›´æ¥é‡‡æ ·ã€æ‹’ç»é‡‡æ ·ä¸é‡è¦æ€§é‡‡æ ·ä¸‰ç§:</p><ul><li>Naive Method<ul><li>æ ¹æ®æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œé‡‡æ ·ã€‚å¯¹ä¸€ä¸ªå·²çŸ¥æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸ç´¯ç§¯æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æ¦‚ç‡åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆcdfï¼‰è¿›è¡Œé‡‡æ ·ï¼ˆç±»ä¼¼é€†å˜æ¢é‡‡æ ·ï¼‰</li></ul></li><li>Acceptance-Rejection Method <ul><li>é€†å˜æ¢é‡‡æ ·è™½ç„¶ç®€å•æœ‰æ•ˆï¼Œä½†æ˜¯å½“ç´¯ç§¯åˆ†å¸ƒå‡½æ•°æˆ–è€…åå‡½æ•°éš¾æ±‚æ—¶å´éš¾ä»¥å®æ–½ï¼Œå¯ä½¿ç”¨MCçš„æ¥å—æ‹’ç»é‡‡æ ·</li><li>å¯¹äºç´¯ç§¯åˆ†å¸ƒå‡½æ•°æœªçŸ¥çš„åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ¥å—-æ‹’ç»é‡‡æ ·ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œp(z)æ˜¯æˆ‘ä»¬å¸Œæœ›é‡‡æ ·çš„åˆ†å¸ƒï¼Œq(z)æ˜¯æˆ‘ä»¬æè®®çš„åˆ†å¸ƒ(proposal distribution)ï¼Œä»¤kq(z)&gt;p(z)ï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨kq(z)ä¸­æŒ‰ç…§ç›´æ¥é‡‡æ ·çš„æ–¹æ³•é‡‡æ ·ç²’å­ï¼Œæ¥ä¸‹æ¥åˆ¤æ–­è¿™ä¸ªç²’å­è½åœ¨é€”ä¸­ä»€ä¹ˆåŒºåŸŸï¼Œå¯¹äºè½åœ¨ç°è‰²åŒºåŸŸçš„ç²’å­äºˆä»¥æ‹’ç»ï¼Œè½åœ¨çº¢çº¿ä¸‹çš„ç²’å­æ¥å—ï¼Œæœ€ç»ˆå¾—åˆ°ç¬¦åˆp(z)çš„Nä¸ªç²’å­</li><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230801135729.png" alt="image.png|333"></li><li>æ•°å­¦æ¨å¯¼ï¼š<ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230801135800.png" alt="image.png|500"></li></ul><ol><li>ä» $f_r(x)$ è¿›è¡Œä¸€æ¬¡é‡‡æ · $x_i$</li><li>è®¡ç®— $x_i$ çš„ <strong>æ¥å—æ¦‚ç‡</strong> $\alpha$ï¼ˆAcceptance Probabilityï¼‰:$\alpha=\frac{f\left(x_i\right)}{f_r\left(x_i\right)}$</li><li>ä» (0,1) å‡åŒ€åˆ†å¸ƒä¸­è¿›è¡Œä¸€æ¬¡é‡‡æ · u</li><li>å¦‚æœ $\alpha$â‰¥uï¼Œæ¥å— $x_i$ ä½œä¸ºä¸€ä¸ªæ¥è‡ª f(x) çš„é‡‡æ ·ï¼›å¦åˆ™ï¼Œé‡å¤ç¬¬1æ­¥</li></ol></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">N=<span class="number">1000</span> <span class="comment">#number of samples needed</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">X = np.array([])</span><br><span class="line"><span class="keyword">while</span> i &lt; N:</span><br><span class="line">    u = np.random.rand()</span><br><span class="line">    x = (np.random.rand()-<span class="number">0.5</span>)*<span class="number">8</span></span><br><span class="line">    res = u &lt; <span class="built_in">eval</span>(x)/ref(x)</span><br><span class="line">    <span class="keyword">if</span> res:</span><br><span class="line">        X = np.hstack((X,x[res])) <span class="comment">#accept</span></span><br><span class="line">        ++i</span><br></pre></td></tr></table></figure><ul><li><strong>Importance Sampling</strong><ul><li>æ¥å—æ‹’ç»é‡‡æ ·å®Œç¾çš„è§£å†³äº†ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ä¸å¯æ±‚æ—¶çš„é‡‡æ ·é—®é¢˜ã€‚ä½†æ˜¯æ¥å—æ‹’ç»é‡‡æ ·éå¸¸ä¾èµ–äºæè®®åˆ†å¸ƒ(proposal distribution)çš„é€‰æ‹©ï¼Œå¦‚æœæè®®åˆ†å¸ƒé€‰æ‹©çš„ä¸å¥½ï¼Œå¯èƒ½é‡‡æ ·æ—¶é—´å¾ˆé•¿å´è·å¾—å¾ˆå°‘æ»¡è¶³åˆ†å¸ƒçš„ç²’å­ã€‚</li><li>$E_{p(x)}[f(x)]=\int_a^bf(x)\frac{p(x)}{q(x)}q(x)dx=E_{q(x)}[f(x)\frac{p(x)}{q(x)}]$</li><li>æˆ‘ä»¬ä»æè®®åˆ†å¸ƒq(x)ä¸­é‡‡æ ·å¤§é‡ç²’å­$x_1,x_2,â€¦,x_n$ï¼Œæ¯ä¸ªç²’å­çš„æƒé‡æ˜¯ $\frac{p(x_i)}{q(x_i)}$ï¼Œé€šè¿‡åŠ æƒå¹³å‡çš„æ–¹å¼å¯ä»¥è®¡ç®—å‡ºæœŸæœ›:</li><li>$E_{p(x)}[f(x)]=\frac{1}{N}\sum f(x_i)\frac{p(x_i)}{q(x_i)}$<ul><li>qæè®®çš„åˆ†å¸ƒï¼Œpå¸Œæœ›çš„é‡‡æ ·åˆ†å¸ƒ</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">N=<span class="number">100000</span></span><br><span class="line">M=<span class="number">5000</span></span><br><span class="line">x = (np.random.rand(N)-<span class="number">0.5</span>)*<span class="number">16</span></span><br><span class="line">w_x = <span class="built_in">eval</span>(x)/ref(x)</span><br><span class="line">w_x = w_x/<span class="built_in">sum</span>(w_x)</span><br><span class="line">w_xc = np.cumsum(w_x) <span class="comment">#accumulate</span></span><br><span class="line"></span><br><span class="line">X=np.array([])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(M):</span><br><span class="line">    u = np.random.rand()</span><br><span class="line">    X = np.hstack((X,x[w_xc&gt;u][<span class="number">0</span>])) <span class="comment"># å…¶ä¸­ï¼Œw_xcæ˜¯å¯¹å½’ä¸€åŒ–åçš„æƒé‡è®¡ç®—çš„ç´¯è®¡åˆ†å¸ƒæ¦‚ç‡ã€‚æ¯æ¬¡å–æœ€ç»ˆæ ·æœ¬æ—¶ï¼Œéƒ½ä¼šå…ˆéšæœºä¸€ä¸ª(0,1)ä¹‹é—´çš„éšæœºæ•°ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªç´¯è®¡åˆ†å¸ƒæ¦‚ç‡åšé€‰æ‹©ã€‚æ ·æœ¬çš„æƒé‡è¶Šå¤§ï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡å°±è¶Šé«˜ã€‚</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure><h3 id="åˆ†å±‚é‡‡æ ·"><a href="#åˆ†å±‚é‡‡æ ·" class="headerlink" title="åˆ†å±‚é‡‡æ ·"></a>åˆ†å±‚é‡‡æ ·</h3><h4 id="åˆ†å±‚æŠ–åŠ¨é‡‡æ ·"><a href="#åˆ†å±‚æŠ–åŠ¨é‡‡æ ·" class="headerlink" title="åˆ†å±‚æŠ–åŠ¨é‡‡æ ·"></a>åˆ†å±‚æŠ–åŠ¨é‡‡æ ·</h4><blockquote><p><a href="https://yangwc.com/2020/04/11/Sampling2/">Physically Based Renderingï¼šé‡‡æ ·å’Œé‡å»ºï¼ˆäºŒï¼‰ | YangWCâ€™s Blog</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240722141841.png" alt="image.png|666"></p><ul><li>éšæœºé‡‡æ ·</li><li>åˆ†å±‚å‡åŒ€é‡‡æ ·</li><li>åˆ†å±‚æŠ–åŠ¨é‡‡æ ·ã€‚ç†æƒ³çš„åˆ†å±‚æŠ–åŠ¨é‡‡æ ·å¾ˆå®¹æ˜“é™·å…¥<strong>ç»´æ•°ç¾éš¾</strong>ï¼Œå› æ­¤æœ‰äººæå‡ºäº†é«˜ç»´è½¬ä½ç»´é‡‡æ ·+éšæœºä¸²è”(oréšæœºé…å¯¹)çš„æ–¹æ³•</li></ul><h4 id="Latin-Hypercube-Sampling"><a href="#Latin-Hypercube-Sampling" class="headerlink" title="Latin Hypercube Sampling"></a>Latin Hypercube Sampling</h4><ol><li>å°†æ¯ä¸ªç»´åº¦çš„åŒºé—´åˆ’åˆ†ä¸ºmä¸ªä¸é‡å çš„åŒºé—´ï¼Œæ¯ä¸ªåŒºé—´æ¦‚ç‡ç›¸ç­‰ï¼ˆå–å‡åŒ€åˆ†å¸ƒï¼ŒåŒºé—´å¤§å°åº”ç›¸ç­‰ï¼‰</li><li>ä»å‡åŒ€åˆ†å¸ƒä¸­éšæœºé‡‡æ ·ï¼Œæ¯ä¸ªç»´åº¦çš„æ¯ä¸ªé—´éš”ä¸­çš„ä¸€ä¸ªç‚¹</li><li>å°†æ¯ä¸ªç»´åº¦çš„ç‚¹éšæœºé…å¯¹ï¼ˆç›¸åŒå¯èƒ½çš„ç»„åˆï¼‰</li></ol><p>ç›¸è¾ƒäºSimple Random Samplingï¼ŒLHSçš„æ–¹æ³•æ›´åŠ åˆ†æ•£ï¼Œä¸”ä¸å­˜åœ¨èšç±»æ•ˆåº”</p><h3 id="MCMC"><a href="#MCMC" class="headerlink" title="MCMC"></a>MCMC</h3><p>(Markov Chain Monte Carlo)</p><p>Blog:</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/37121528">é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡ç½—ç®—æ³•ï¼ˆMCMCï¼‰ - çŸ¥ä¹</a><br>åŠ¨ç”» <a href="https://chi-feng.github.io/mcmc-demo/">The Markov-chain Monte Carlo Interactive Gallery</a> | ä»£ç  <a href="https://github.com/chi-feng/mcmc-demo">Javascript demos</a><br><a href="https://prappleizer.github.io/Tutorials/MCMC/MCMC_Tutorial.html">MCMC</a> MCMC: A (very) Beginnnerâ€™s Guide</p></blockquote><p>Paper:</p><blockquote><p><a href="https://arxiv.org/pdf/2204.10145">An effective introduction to the Markov Chain Monte Carlo method</a> <strong>For physics</strong><br><a href="https://arxiv.org/pdf/1909.12313">A Conceptual Introduction to Markov Chain Monte Carlo Methods</a><br><a href="https://www.taylorfrancis.com/books/mono/10.1201/b14835/markov-chain-monte-carlo-practice-david-spiegelhalter-gilks-richardson">Markov Chain Monte Carlo in Practice | W.R. Gilks, S. Richardson, Davi</a> MCMCéœ€è¦å°å¿ƒåœ°åˆå§‹åŒ–ï¼Œæ—©æœŸé˜¶æ®µéœ€è¦warm-up time</p></blockquote><h4 id="M-Hé‡‡æ ·"><a href="#M-Hé‡‡æ ·" class="headerlink" title="M-Hé‡‡æ ·"></a>M-Hé‡‡æ ·</h4><blockquote><p><a href="https://zhuanlan.zhihu.com/p/411689417">èµ°è¿›è´å¶æ–¯ç»Ÿè®¡ï¼ˆäº”ï¼‰â€”â€” Metropolis-Hasting ç®—æ³• - çŸ¥ä¹</a></p></blockquote><h4 id="Gibbsé‡‡æ ·"><a href="#Gibbsé‡‡æ ·" class="headerlink" title="Gibbsé‡‡æ ·"></a>Gibbsé‡‡æ ·</h4><blockquote><p><a href="https://zhuanlan.zhihu.com/p/416670115">èµ°è¿›è´å¶æ–¯ç»Ÿè®¡ï¼ˆå…­ï¼‰â€”â€” å‰å¸ƒæ–¯æŠ½æ · ï¼ˆGibbs Samplingï¼‰ - çŸ¥ä¹</a></p></blockquote><h4 id="TMCMC"><a href="#TMCMC" class="headerlink" title="TMCMC"></a>TMCMC</h4><blockquote><p><a href="Transitional%20Markov%20Chain%20Monte%20Carlo%20Method%20for%20Bayesian%20Model%20Updating,%20Model%20Class%20Selection,%20and%20Model%20Averaging.md">Transitional Markov Chain Monte Carlo Method for Bayesian Model Updating, Model Class Selection, and Model Averaging</a></p></blockquote><h4 id="æ‹‰ä¸è¶…ç«‹æ–¹é‡‡æ ·-Latin-hypercube-sampling-LHS"><a href="#æ‹‰ä¸è¶…ç«‹æ–¹é‡‡æ ·-Latin-hypercube-sampling-LHS" class="headerlink" title="æ‹‰ä¸è¶…ç«‹æ–¹é‡‡æ ·(Latin hypercube sampling, LHS)"></a>æ‹‰ä¸è¶…ç«‹æ–¹é‡‡æ ·(Latin hypercube sampling, LHS)</h4><blockquote><p><a href="https://zhuanlan.zhihu.com/p/385966408">æ‹‰ä¸è¶…ç«‹æ–¹é‡‡æ ·(Latin hypercube sampling, LHS)åŠè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿç®€ä»‹ - çŸ¥ä¹</a></p></blockquote><p>æ‹‰ä¸è¶…ç«‹æ–¹é‡‡æ ·å…ˆæŠŠæ ·æœ¬ç©ºé—´åˆ†å±‚ï¼Œåœ¨æ­¤é—®é¢˜ä¸‹è¦åˆ†ä¸º5å±‚ï¼Œäºæ˜¯ä¾¿æœ‰äº† [1,20],[21,40],[41,60],[61,80],[81,100] å…±5ä¸ªæ ·æœ¬ç©ºé—´ï¼Œåœ¨å„æ ·æœ¬ç©ºé—´å†…è¿›è¡ŒéšæœºæŠ½æ ·ï¼Œç„¶åå†æ‰“ä¹±é¡ºåºï¼Œå¾—åˆ°ç»“æœã€‚è¿™æ ·å°±ç»“æŸäº†~</p><p>å¯ä»¥çœ‹å‡ºæ‹‰ä¸è¶…ç«‹æ–¹é‡‡æ ·åˆ†ä¸ºäº†ä¸‰æ­¥â€”â€”<strong>åˆ†å±‚ã€é‡‡æ ·ã€ä¹±åº</strong>ã€‚</p><h4 id="Langevin-Monte-Carlo-LMC"><a href="#Langevin-Monte-Carlo-LMC" class="headerlink" title="Langevin Monte Carlo(LMC)"></a>Langevin Monte Carlo(LMC)</h4><blockquote><p><a href="https://www.zhihu.com/question/613579202/answer/3310826408">ä»€ä¹ˆæ˜¯diffusion model? å®ƒä¸ºä»€ä¹ˆå¥½ç”¨ï¼Ÿ - Zephyrçš„å›ç­” - çŸ¥ä¹</a></p></blockquote><h4 id="Hamiltonian-Monte-Carlo-HMC"><a href="#Hamiltonian-Monte-Carlo-HMC" class="headerlink" title="Hamiltonian Monte Carlo(HMC)"></a>Hamiltonian Monte Carlo(HMC)</h4><h2 id="ç½®ä¿¡åŒºé—´"><a href="#ç½®ä¿¡åŒºé—´" class="headerlink" title="ç½®ä¿¡åŒºé—´"></a>ç½®ä¿¡åŒºé—´</h2><p><a href="https://zh.wikipedia.org/wiki/68%E2%80%9395%E2%80%9399.7%E6%B3%95%E5%89%87">68â€“95â€“99.7æ³•åˆ™ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240401085715.png" alt="image.png|444"></p><h2 id="å›¾åƒå±•ç¤º"><a href="#å›¾åƒå±•ç¤º" class="headerlink" title="å›¾åƒå±•ç¤º"></a>å›¾åƒå±•ç¤º</h2><h3 id="ç®±å‹å›¾"><a href="#ç®±å‹å›¾" class="headerlink" title="ç®±å‹å›¾"></a>ç®±å‹å›¾</h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/347067055">å¦‚ä½•æ·±åˆ»ç†è§£ç®±çº¿å›¾ï¼ˆboxplotï¼‰ - çŸ¥ä¹</a></p></blockquote><h3 id="t-SNE-æ•°æ®é™ç»´"><a href="#t-SNE-æ•°æ®é™ç»´" class="headerlink" title="t-SNE æ•°æ®é™ç»´"></a>t-SNE æ•°æ®é™ç»´</h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/426068503">é™ç»´æ–¹æ³•ä¹‹t-SNE - çŸ¥ä¹</a><br><a href="https://medium.com/swlh/everything-about-t-sne-dde964f0a8c1">Everything About t-SNE. t-SNE means t-distribution Stochasticâ€¦ | by Ram Thiagu | The Startup | Medium</a></p></blockquote><p>PCAæ˜¯ä¸€ç§å¸¸ç”¨çš„é™ç»´æ–¹å¼ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿å±•ç¤ºç»“æœã€‚ä¾‹å¦‚å¯¹ä¸¤ç±»æ•°æ®è¿›è¡Œé™ç»´(äºŒç»´)ï¼ŒPCAå’Œt-SNEä¸¤ç§æ–¹æ³•çš„å±•ç¤ºç»“æœä¸ºï¼š</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240921142810.png" alt="image.png|666"></p><h1 id="çº¿æ€§ä»£æ•°"><a href="#çº¿æ€§ä»£æ•°" class="headerlink" title="çº¿æ€§ä»£æ•°"></a>çº¿æ€§ä»£æ•°</h1><h2 id="ç‰¹æ®ŠçŸ©é˜µå®šä¹‰"><a href="#ç‰¹æ®ŠçŸ©é˜µå®šä¹‰" class="headerlink" title="ç‰¹æ®ŠçŸ©é˜µå®šä¹‰"></a>ç‰¹æ®ŠçŸ©é˜µå®šä¹‰</h2><p><strong>æ­£äº¤çŸ©é˜µ</strong> <a href="https://zh.wikipedia.org/wiki/%E6%AD%A3%E4%BA%A4%E7%9F%A9%E9%98%B5">æ­£äº¤çŸ©é˜µ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a></p><ul><li>$Q^T=Q^{-1}\Leftrightarrow Q^TQ=QQ^T=I.$ å…¶ä¸­$I$ä¸ºå•ä½çŸ©é˜µ</li><li>æ­£äº¤çŸ©é˜µçš„è¡Œåˆ—å¼å€¼å¿…å®šä¸º+1æˆ–âˆ’1ã€‚</li><li>è¡Œåˆ—å¼å€¼ä¸º+1çš„æ­£äº¤çŸ©é˜µï¼Œç§°ä¸º<strong>ç‰¹æ®Šæ­£äº¤çŸ©é˜µ</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ—‹è½¬çŸ©é˜µã€‚</li><li>è¡Œåˆ—å¼å€¼ä¸º-1çš„æ­£äº¤çŸ©é˜µï¼Œç§°ä¸ºç‘•æ—‹è½¬çŸ©é˜µã€‚ç‘•æ—‹è½¬æ˜¯æ—‹è½¬åŠ ä¸Šé•œå°„ã€‚é•œå°„ä¹Ÿæ˜¯ä¸€ç§ç‘•æ—‹è½¬ã€‚</li></ul><p><strong>æ­£å®šçŸ©é˜µ</strong><a href="https://zhuanlan.zhihu.com/p/234967628">ã€çº¿æ€§ä»£æ•°ã€‘è¯¦è§£æ­£å®šçŸ©é˜µã€å®å¯¹ç§°çŸ©é˜µã€çŸ©é˜µç‰¹å¾å€¼åˆ†è§£ã€çŸ©é˜µ SVD åˆ†è§£ - çŸ¥ä¹</a></p><ul><li>ä»»æ„éé›¶å‘é‡$\mathbf{x}$ï¼Œè‹¥$\mathbf{x}^{T}\mathbf{A}\mathbf{x}&gt;0$æ’æˆç«‹ï¼Œåˆ™$\mathbf{A}$ä¸ºæ­£å®šçŸ©é˜µã€‚è‹¥$\mathbf{x}^{T}\mathbf{A}\mathbf{x}\geq0$æ’æˆç«‹ï¼Œåˆ™$\mathbf{A}$ä¸ºåŠæ­£å®šçŸ©é˜µ</li><li></li></ul><h2 id="å˜æ¢"><a href="#å˜æ¢" class="headerlink" title="å˜æ¢"></a>å˜æ¢</h2><h3 id="2D"><a href="#2D" class="headerlink" title="2D"></a>2D</h3><p>ä»¿å°„å˜æ¢</p><h3 id="3D"><a href="#3D" class="headerlink" title="3D"></a>3D</h3><p>åƒç´ Pixel | ç›¸æœºCamera | ä¸–ç•ŒWorld</p><p>å†…å‚çŸ©é˜µ = c2p<br>å¤–å‚çŸ©é˜µ = w2c<br>æ ¹æ®ä¸–ç•Œåæ ‡è®¡ç®—åƒç´ åæ ‡ = <code>c2p * w2c * world_position</code></p><h3 id="Homography"><a href="#Homography" class="headerlink" title="Homography"></a>Homography</h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/74597564">å•åº”æ€§Homographyä¼°è®¡ï¼šä»ä¼ ç»Ÿç®—æ³•åˆ°æ·±åº¦å­¦ä¹  - ä½ å†å¥½å¥½æƒ³æƒ³çš„æ–‡ç«  - çŸ¥ä¹</a></p></blockquote><p>å•åº”æ€§ä¸ä¸¥è°¨çš„å®šä¹‰ï¼šç”¨ <strong>[æ— é•œå¤´ç•¸å˜]</strong> çš„ç›¸æœºä»ä¸åŒä½ç½®æ‹æ‘„ <strong>[åŒä¸€å¹³é¢ç‰©ä½“]</strong> çš„å›¾åƒä¹‹é—´å­˜åœ¨å•åº”æ€§ï¼Œå¯ä»¥ç”¨ <strong>[é€è§†å˜æ¢]</strong> è¡¨ç¤º ã€‚</p><p>åˆšä½“å˜æ¢ï¼šå¹³ç§»+æ—‹è½¬ï¼Œåªæ”¹å˜ç‰©ä½“ä½ç½®ï¼Œä¸æ”¹å˜ç‰©ä½“å½¢çŠ¶ã€‚</p><script type="math/tex; mode=display">\begin{pmatrix}x'\\y'\\1\end{pmatrix}=\begin{bmatrix}\mathrm{cos}\theta&-\mathrm{sin}\theta&t_x\\\mathrm{sin}\theta&\mathrm{cos}\theta&t_y\\0&0&1\end{bmatrix}\begin{pmatrix}x\\y\\1\end{pmatrix}=\begin{bmatrix}R_{2\times2}&T_{2\times1}\\0^T&1\end{bmatrix}\begin{pmatrix}x\\y\\1\end{pmatrix}</script><p>ä»¿å°„å˜æ¢ï¼šæ”¹å˜ç‰©ä½“ä½ç½®å’Œå½¢çŠ¶ï¼Œä½†æ˜¯åŸæ¥å¹³è¡Œçš„è¾¹ä¾ç„¶å¹³è¡Œã€‚</p><script type="math/tex; mode=display">\begin{pmatrix}x'\\y'\\1\end{pmatrix}=\begin{bmatrix}A_{2\times2}&T_{2\times1}\\0^T&1\end{bmatrix}\begin{pmatrix}x\\y\\1\end{pmatrix}</script><p>é€è§†å˜æ¢ï¼ˆä¹Ÿç§°æŠ•å½±å˜æ¢ï¼‰ï¼šå½»åº•æ”¹å˜ç‰©ä½“ä½ç½®å’Œå½¢çŠ¶</p><script type="math/tex; mode=display">\begin{pmatrix}x'\\y'\\1\end{pmatrix}=\begin{bmatrix}A_{2\times2}&T_{2\times1}\\V^T&s\end{bmatrix}\begin{pmatrix}x\\y\\1\end{pmatrix}=H_{3\times3}\begin{pmatrix}x\\y\\1\end{pmatrix}</script><h1 id="Computer-Graphics"><a href="#Computer-Graphics" class="headerlink" title="Computer Graphics"></a>Computer Graphics</h1><h2 id="SDFè®¡ç®—ä¸æ±‚å¯¼"><a href="#SDFè®¡ç®—ä¸æ±‚å¯¼" class="headerlink" title="SDFè®¡ç®—ä¸æ±‚å¯¼"></a>SDFè®¡ç®—ä¸æ±‚å¯¼</h2><p>ç©ºé—´ä¸­çš„å­é›†$\partial\Omega$ï¼ŒSDFå€¼å®šä¹‰ä¸ºï¼š$\left.f(x)=\left\{\begin{array}{ll}d(x,\partial\Omega)&amp;\mathrm{~if~}x\in\Omega\-d(x,\partial\Omega)&amp;\mathrm{~if~}x\in\Omega^c\end{array}\right.\right.$<br>å…¶ä¸­$d(x,\partial\Omega):=\inf_{y\in\partial\Omega}d(x,y)$è¡¨ç¤ºxåˆ°è¡¨é¢å­é›†ä¸Šä¸€ç‚¹çš„è·ç¦»ï¼Œinfè¡¨ç¤ºinfimumæœ€å¤§ä¸‹ç•Œ</p><h1 id="Computer-Vision"><a href="#Computer-Vision" class="headerlink" title="Computer Vision"></a>Computer Vision</h1><h2 id="å·ç§¯å›¾åƒå¤§å°è®¡ç®—å…¬å¼"><a href="#å·ç§¯å›¾åƒå¤§å°è®¡ç®—å…¬å¼" class="headerlink" title="å·ç§¯å›¾åƒå¤§å°è®¡ç®—å…¬å¼"></a>å·ç§¯å›¾åƒå¤§å°è®¡ç®—å…¬å¼</h2><p>å›¾åƒå·ç§¯åçš„å¤§å°è®¡ç®—å…¬å¼ï¼š $N=\left\lfloor\frac{W-F+2P}{Step}\right\rfloor+1$</p><ul><li>è¾“å…¥å›¾ç‰‡å¤§å° $W \times W$</li><li>Filterï¼ˆå·ç§¯æ ¸ï¼‰å¤§å° $F \times F$</li><li>æ­¥é•¿ Step</li><li>paddingï¼ˆå¡«å……ï¼‰çš„åƒç´ æ•° $P$</li><li>è¾“å‡ºå›¾ç‰‡çš„å¤§å°ä¸º$N \times N$</li></ul><h2 id="linearColor-2-sRGB"><a href="#linearColor-2-sRGB" class="headerlink" title="linearColor 2 sRGB"></a>linearColor 2 sRGB</h2><p>(Why)ä¸ºä»€ä¹ˆè¦å°†çº¿æ€§RGBè½¬æ¢æˆsRGB</p><blockquote><p><a href="https://www.zhangxinxu.com/wordpress/2017/12/linear-rgb-srgb-js-convert/">å°tip: äº†è§£LinearRGBå’ŒsRGBä»¥åŠä½¿ç”¨JSç›¸äº’è½¬æ¢ Â« å¼ é‘«æ—­-é‘«ç©ºé—´-é‘«ç”Ÿæ´» (zhangxinxu.com)</a></p></blockquote><p><strong>äººè¿™ç§åŠ¨ç‰©ï¼Œå¯¹äºçœŸå®ä¸–ç•Œçš„é¢œè‰²æ„Ÿå—ï¼Œå¹¶ä¸æ˜¯çº¿æ€§çš„ï¼Œè€Œæ˜¯æ›²çº¿çš„</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810162118.png" alt="image.png|444"></p><p>(How)çº¿æ€§RGBä¸sRGBç›¸äº’è½¬åŒ–</p><blockquote><p><a href="https://blog.csdn.net/bby1987/article/details/109522126">RGBä¸Labè½¬æ¢_rgbè½¬lab-CSDNåšå®¢</a></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">linear_to_srgb</span>(<span class="params">linear</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(linear, torch.Tensor):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Assumes `linear` is in [0, 1], see https://en.wikipedia.org/wiki/SRGB.&quot;&quot;&quot;</span></span><br><span class="line">        eps = torch.finfo(torch.float32).eps</span><br><span class="line">        srgb0 = <span class="number">323</span> / <span class="number">25</span> * linear</span><br><span class="line">        srgb1 = (<span class="number">211</span> * torch.clamp(linear, <span class="built_in">min</span>=eps)**(<span class="number">5</span> / <span class="number">12</span>) - <span class="number">11</span>) / <span class="number">200</span></span><br><span class="line">        <span class="keyword">return</span> torch.where(linear &lt;= <span class="number">0.0031308</span>, srgb0, srgb1)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(linear, np.ndarray):</span><br><span class="line">        eps = np.finfo(np.float32).eps</span><br><span class="line">        srgb0 = <span class="number">323</span> / <span class="number">25</span> * linear</span><br><span class="line">        srgb1 = (<span class="number">211</span> * np.maximum(eps, linear) ** (<span class="number">5</span> / <span class="number">12</span>) - <span class="number">11</span>) / <span class="number">200</span></span><br><span class="line">        <span class="keyword">return</span> np.where(linear &lt;= <span class="number">0.0031308</span>, srgb0, srgb1)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">srgb_to_linear</span>(<span class="params">srgb</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(srgb, torch.Tensor):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Assumes `srgb` is in [0, 1], see https://en.wikipedia.org/wiki/SRGB.&quot;&quot;&quot;</span></span><br><span class="line">        eps = torch.finfo(torch.float32).eps</span><br><span class="line">        linear0 = <span class="number">25</span> / <span class="number">323</span> * srgb</span><br><span class="line">        linear1 = torch.clamp(((<span class="number">200</span> * srgb + <span class="number">11</span>) / (<span class="number">211</span>)), <span class="built_in">min</span>=eps)**(<span class="number">12</span> / <span class="number">5</span>)</span><br><span class="line">        <span class="keyword">return</span> torch.where(srgb &lt;= <span class="number">0.04045</span>, linear0, linear1)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(srgb, np.ndarray):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;Assumes `srgb` is in [0, 1], see https://en.wikipedia.org/wiki/SRGB.&quot;&quot;&quot;</span></span><br><span class="line">        eps = np.finfo(np.float32).eps</span><br><span class="line">        linear0 = <span class="number">25</span> / <span class="number">323</span> * srgb</span><br><span class="line">        linear1 = np.maximum(((<span class="number">200</span> * srgb + <span class="number">11</span>) / (<span class="number">211</span>)), eps)**(<span class="number">12</span> / <span class="number">5</span>)</span><br><span class="line">        <span class="keyword">return</span> np.where(srgb &lt;= <span class="number">0.04045</span>, linear0, linear1)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br></pre></td></tr></table></figure><h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><p><a href="DeepLearning.md">DeepLearning</a></p><h2 id="æ•°æ®å¤„ç†æ–¹æ³•"><a href="#æ•°æ®å¤„ç†æ–¹æ³•" class="headerlink" title="æ•°æ®å¤„ç†æ–¹æ³•"></a>æ•°æ®å¤„ç†æ–¹æ³•</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/73534694">SOM(è‡ªç»„ç»‡æ˜ å°„ç¥ç»ç½‘ç»œ)â€”â€”ç†è®ºç¯‡ - çŸ¥ä¹</a><br><a href="https://nice-ai.top/posts/SelfOrganizingMaps-SOM.html">è‡ªç»„ç»‡æ˜ å°„ï¼ˆSOMï¼‰ç†è®ºåŸºç¡€ä¸Python NumPyå®ç° | ç¾ç¾æ™ºèƒ½åšå®¢ç«™</a><br>é’ˆå¯¹æ•°æ®é‡å¤§çš„æƒ…å†µ</p></blockquote><p>è‡ªç»„ç»‡æ˜ å°„(Self-organizing map, SOM)é€šè¿‡å­¦ä¹ è¾“å…¥ç©ºé—´ä¸­çš„æ•°æ®ï¼Œç”Ÿæˆä¸€ä¸ªä½ç»´ã€ç¦»æ•£çš„æ˜ å°„(Map)ï¼Œä»æŸç§ç¨‹åº¦ä¸Šä¹Ÿå¯çœ‹æˆä¸€ç§é™ç»´ç®—æ³•ã€‚ï¼ˆ<em>é™ç»´æˆ–è€…å‡ä¸ºå¯ä»¥ç”±è¾“å…¥å’Œè¾“å‡ºå°ºå¯¸å†³å®š</em>ï¼ŒSOMè¾“å…¥ä¸º1E6ï¼Œè¾“å‡ºä¸º70x70ï¼Œæœ¬è´¨ä¸Šæ•°æ®é‡å˜å°‘ï¼Œå› æ­¤ä¸ºé™ç»´ç®—æ³•ï¼‰</p><h2 id="å¸Œè…Šå­—æ¯"><a href="#å¸Œè…Šå­—æ¯" class="headerlink" title="å¸Œè…Šå­—æ¯"></a>å¸Œè…Šå­—æ¯</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240503135053.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux</title>
      <link href="/Learn/Python/Linux%20OS/"/>
      <url>/Learn/Python/Linux%20OS/</url>
      
        <content type="html"><![CDATA[<p>Linux ä¸‡ç‰©çš†å¯æ–‡ä»¶</p><blockquote><p><a href="https://www.cherryservers.com/blog/a-complete-guide-to-understanding-linux-file-system-tree">A Complete Guide to Understanding Linux File System Tree | Cherry Servers</a></p></blockquote><span id="more"></span><h1 id="æ¡Œé¢"><a href="#æ¡Œé¢" class="headerlink" title="æ¡Œé¢"></a>æ¡Œé¢</h1><h2 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h2><p>æŸ¥çœ‹ï¼š<code>echo $LD_LIBRARY_PATH</code></p><p>ä¸´æ—¶è®¾ç½®ï¼š</p><ul><li><code>export LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH</code></li></ul><p>æ°¸ä¹…è®¾ç½®ï¼š</p><ul><li><code>echo &#39;export LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH&#39; &gt;&gt; ~/.bashrc</code></li><li><code>source ~/.bashrc</code> ä½¿ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ</li></ul><p>ä¸ºç‰¹å®šç¨‹åºè®¾ç½®ï¼š</p><ul><li><code>LD_LIBRARY_PATH=/usr/local/lib64:$LD_LIBRARY_PATH your_program</code></li></ul><h2 id="zipå‹ç¼©"><a href="#zipå‹ç¼©" class="headerlink" title="zipå‹ç¼©"></a>zipå‹ç¼©</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‹ç¼©ã€‚å¦‚æœæ²¡æœ‰zipå‘½ä»¤ï¼Œå®‰è£…å‘½ä»¤ï¼šapt-get update &amp;&amp; apt-get install -y zip</span></span><br><span class="line">zip -r &lt;è‡ªå®šä¹‰å‹ç¼©åŒ…åç§°&gt;.zip &lt;å¾…å‹ç¼©ç›®å½•çš„è·¯å¾„&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹ã€‚å¦‚æœæ²¡æœ‰zipå‘½ä»¤ï¼Œå®‰è£…å‘½ä»¤ï¼šapt-get update &amp;&amp; apt-get install -y unzip</span></span><br><span class="line">unzip  &lt;å¾…è§£å‹å‹ç¼©åŒ…åç§°&gt;.zip -d &lt;è§£å‹åˆ°å“ªä¸ªè·¯å¾„&gt;</span><br></pre></td></tr></table></figure><h2 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># å‹ç¼©ï¼ˆå…·ä½“æ˜¯æŒ‡æ‰“åŒ…ï¼Œæœªå‹ç¼©ï¼Œéå¸¸æ¨èè¿™ç§æ–¹å¼ï¼Œå› ä¸ºå‹ç¼©/è§£å‹éƒ½è€—æ—¶ï¼Œä½†æ˜¯å›¾ç‰‡ç­‰éƒ½æ— æ³•å†å‹ç¼©ï¼‰</span><br><span class="line">tar -cf &lt;è‡ªå®šä¹‰å‹ç¼©åŒ…åç§°&gt;.tar &lt;å¾…å‹ç¼©ç›®å½•çš„è·¯å¾„&gt;</span><br><span class="line"></span><br><span class="line"># è§£å‹</span><br><span class="line">tar -xf &lt;å¾…è§£å‹å‹ç¼©åŒ…åç§°&gt;.tar -C &lt;è§£å‹åˆ°å“ªä¸ªè·¯å¾„&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># å‹ç¼©</span><br><span class="line">tar -czf &lt;è‡ªå®šä¹‰å‹ç¼©åŒ…åç§°&gt;.tar &lt;å¾…å‹ç¼©ç›®å½•çš„è·¯å¾„&gt;</span><br><span class="line"></span><br><span class="line"># è§£å‹</span><br><span class="line">tar -xzf &lt;å¾…è§£å‹å‹ç¼©åŒ…åç§°&gt;.tar -C &lt;è§£å‹åˆ°å“ªä¸ªè·¯å¾„&gt;</span><br></pre></td></tr></table></figure><h2 id="gdm"><a href="#gdm" class="headerlink" title="gdm"></a>gdm</h2><p>åŠ¨ä½œï¼šå…³é—­gdm <code>sudo systemctl disable gdm.service</code> | æ›´æ–°é™„åŠ é©±åŠ¨ï¼Œä½¿ç”¨Nvidiaä¸“æœ‰é©±åŠ¨é‡å¯</p><p>é—®é¢˜ï¼šé‡å¯ååªæœ‰å‘½ä»¤è¡Œç•Œé¢</p><p>è§£å†³ï¼šå¼€å¯gdm <code>sudo /etc/init.d/gdm start</code> or <code>sudo /etc/init.d/gdm3 start</code></p><h2 id="V100è”ç½‘"><a href="#V100è”ç½‘" class="headerlink" title="V100è”ç½‘"></a>V100è”ç½‘</h2><p>sudo curl â€œ202.204.48.82/â€œ -X POST -d â€œDDDDD=b20200267&amp;upass=11241113&amp;v6ip=&amp;0MKKey=123456789â€ -v</p><p>sunyuanbo0287</p><h2 id="chmod-ä¿®æ”¹æƒé™"><a href="#chmod-ä¿®æ”¹æƒé™" class="headerlink" title="chmod ä¿®æ”¹æƒé™"></a>chmod ä¿®æ”¹æƒé™</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/255000117">ä»ä»Šå¾€åï¼Œè°å†å‘Šè¯‰ä½ Linuxä¸Šchmod -R 777è§£å†³æƒé™ï¼Œæœæ–­ç»äº¤ - çŸ¥ä¹</a></p></blockquote><p>chmod -a+r file</p><p>u Userï¼Œå³æ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…ï¼›<br>g Groupï¼Œå³æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ï¼›<br>o Otherï¼Œé™¤äº†æ–‡ä»¶æˆ–ç›®å½•æ‹¥æœ‰è€…æˆ–æ‰€å±ç¾¤ç»„ä¹‹å¤–ï¼Œå…¶ä»–ç”¨æˆ·çš†å±äºè¿™ä¸ªèŒƒå›´ï¼›<br>a Allï¼Œå³å…¨éƒ¨çš„ç”¨æˆ·ï¼ŒåŒ…å«æ‹¥æœ‰è€…ï¼Œæ‰€å±ç¾¤ç»„ä»¥åŠå…¶ä»–ç”¨æˆ·ï¼›<br>r è¯»å–æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ4â€;<br>w å†™å…¥æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ2â€ï¼›<br>x æ‰§è¡Œæˆ–åˆ‡æ¢æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ1â€ï¼›</p><ul><li>ä¸å…·ä»»ä½•æƒé™ï¼Œæ•°å­—ä»£å·ä¸ºâ€œ0â€ï¼›<br>s ç‰¹æ®ŠåŠŸèƒ½è¯´æ˜ï¼šå˜æ›´æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ã€‚</li></ul><h2 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h2><p><code>å‘½ä»¤æ ¼å¼ï¼šln -s [æºæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•]</code></p><ul><li>-s â€”- å‚æ•°ï¼Œè½¯é“¾æ¥(ç¬¦å·é“¾æ¥)</li><li>æºæ–‡ä»¶æˆ–ç›®å½• â€”- æŒ‡çš„æ˜¯éœ€è¦è¿æ¥çš„æºæ–‡ä»¶ï¼Œè‹¥ä¸åœ¨å½“å‰ç›®å½•ä¸‹éœ€è¦æŒ‡æ˜è·¯å¾„</li><li>ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½• â€”- æŒ‡çš„æ˜¯æœŸæœ›ä½¿ç”¨æ—¶ç³»ç»Ÿæˆ–ç¨‹åºéœ€è¦å¯»æ‰¾çš„æ–‡ä»¶</li></ul><p>è½¯é“¾æ¥<br>ln -s /usr/local/cuda /usr/local/cuda-11.3</p><p>-s, â€”symbolic              å¯¹æºæ–‡ä»¶å»ºç«‹ç¬¦å·é“¾æ¥ï¼Œè€Œéç¡¬é“¾æ¥ï¼›</p><h2 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h2><p>$ ls       # ä»…åˆ—å‡ºå½“å‰ç›®å½•å¯è§æ–‡ä»¶<br>$ ls -l    # åˆ—å‡ºå½“å‰ç›®å½•å¯è§æ–‡ä»¶è¯¦ç»†ä¿¡æ¯<br>$ ls -hl   # åˆ—å‡ºè¯¦ç»†ä¿¡æ¯å¹¶ä»¥å¯è¯»å¤§å°æ˜¾ç¤ºæ–‡ä»¶å¤§å°ï¼Œç›¸å½“äº ll å‘½ä»¤<br>$ ls -al   # åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—ï¼‰çš„è¯¦ç»†ä¿¡æ¯</p><h2 id="du"><a href="#du" class="headerlink" title="du"></a>du</h2><blockquote><p><a href="https://blog.csdn.net/inthat/article/details/108802061">linuxå‘½ä»¤-æŸ¥çœ‹å½“å‰ç›®å½•å½“å‰ç›®å½•å‰©ä½™ç©ºé—´ä»¥åŠç›®å½•æ–‡ä»¶å¤§å°å’Œä¸ªæ•°ï¼ˆpgæ¸…ç†å¤§æ•°æ®é‡è¡¨ï¼‰_linuxæŸ¥çœ‹æ–‡ä»¶å¤§å°-CSDNåšå®¢</a></p></blockquote><p>du<br>-h æˆ–â€”human-readable ä»¥Kï¼ŒMï¼ŒGä¸ºå•ä½ï¼Œæé«˜ä¿¡æ¯çš„å¯è¯»æ€§ã€‚<br>-aæˆ–-all æ˜¾ç¤ºç›®å½•ä¸­ä¸ªåˆ«æ–‡ä»¶çš„å¤§å°<br>-sæˆ–â€”summarize ä»…æ˜¾ç¤ºæ€»è®¡<br>â€”max-depth=&lt;ç›®å½•å±‚æ•°&gt; è¶…è¿‡æŒ‡å®šå±‚æ•°çš„ç›®å½•åï¼Œäºˆä»¥å¿½ç•¥</p><ul><li>æŸ¥çœ‹å½“å‰ç›®å½•å‰©ä½™ç©ºé—´ï¼š<code>df -h .</code></li><li>åªæŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ–‡ä»¶å¤§å°: <code>du -sh * | sort -nr</code></li><li>æŸ¥çœ‹æœ¬ç›®å½•ä¸‹å ç”¨å¤§å°ï¼š<code>du -sh</code></li></ul><h2 id="æŸ¥çœ‹è¿›ç¨‹"><a href="#æŸ¥çœ‹è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹è¿›ç¨‹"></a>æŸ¥çœ‹è¿›ç¨‹</h2><p>è½¯ä»¶?<br>sudo snap install htop<br>htop </p><h2 id="æŸ¥çœ‹os"><a href="#æŸ¥çœ‹os" class="headerlink" title="æŸ¥çœ‹os"></a>æŸ¥çœ‹os</h2><p>æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ï¼š<br>lsb_release -a</p><p>æŸ¥çœ‹æ“ä½œç³»ç»Ÿæ¶æ„<br>$ dpkg â€”print-architecture<br>amd64</p><p>$ arch<br>x86_64</p><h1 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h1><ul><li><code>screen</code>ï¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„ <code>screen</code> ä¼šè¯ã€‚</li><li><code>screen -r</code>ï¼šæ¢å¤ä¹‹å‰çš„ <code>screen</code> ä¼šè¯ã€‚åé¢æ¥åå­—å¯ä»¥æ¢å¤æŒ‡å®šçš„çª—å£</li><li><code>screen -ls</code>ï¼šåˆ—å‡ºå½“å‰å­˜åœ¨çš„ <code>screen</code> ä¼šè¯ã€‚</li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Single-view Reconstruction Review</title>
      <link href="/3DReconstruction/Single-view/Single-view%20Reconstruction%20Review/"/>
      <url>/3DReconstruction/Single-view/Single-view%20Reconstruction%20Review/</url>
      
        <content type="html"><![CDATA[<p>The review about 3D Reconstruction from a single image.</p><span id="more"></span><p><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=9095839">3D Reconstruction from A Single Image</a></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LoD-NeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/LoD-NeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/LoD-NeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>LoD-NeuS: Anti-Aliased Neural Implicit Surfaces with<br>Encoding Level of Detail</th></tr></thead><tbody><tr><td>Author</td><td>Zhuang, Yiyu and Zhang, Qi and Feng, Ying and Zhu, Hao and Yao, Yao and Li, Xiaoyu and Cao, Yan-Pei and Shan, Ying and Cao, Xun</td></tr><tr><td>Conf/Jour</td><td>arXiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://nju-3dv.github.io/projects/lodneus/">NeIF (nju-3dv.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4802119418473611265&amp;noteId=2141875483197729280">Anti-Aliased Neural Implicit Surfaces with Encoding Level of Detail (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240104132053.png" alt="image.png|666"></p><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æˆ‘ä»¬æå‡ºäº†LoD-NeuSï¼Œä¸€ç§ç”¨äºé«˜é¢‘å‡ ä½•ç»†èŠ‚æ¢å¤å’ŒæŠ—é”¯é½¿æ–°è§†å›¾æ¸²æŸ“çš„é«˜æ•ˆç¥ç»è¡¨ç¤ºã€‚ä»å…·æœ‰ç»†èŠ‚æ°´å¹³(LoD)çš„åŸºäºä½“ç´ çš„è¡¨ç¤ºä¸­è·å¾—çµæ„Ÿï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§åŸºäº<strong>å¤šå°ºåº¦ä¸‰å¹³é¢çš„åœºæ™¯è¡¨ç¤º</strong>ï¼Œè¯¥åœºæ™¯è¡¨ç¤ºèƒ½å¤Ÿæ•è·ç¬¦å·è·ç¦»å‡½æ•°(SDF)çš„LoDå’Œç©ºé—´äº®åº¦ã€‚æˆ‘ä»¬çš„è¡¨ç¤ºä»æ²¿å°„çº¿çš„æˆªé”¥å†…çš„<strong>å¤šå·ç§¯ç‰¹å¾ä¸­èšé›†ç©ºé—´ç‰¹å¾</strong>ï¼Œå¹¶é€šè¿‡å¯å¾®åˆ†æ¸²æŸ“ä¼˜åŒ–LoDç‰¹å¾ä½“ç§¯ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§<strong>è¯¯å·®å¼•å¯¼é‡‡æ ·ç­–ç•¥</strong>æ¥æŒ‡å¯¼ä¼˜åŒ–è¿‡ç¨‹ä¸­SDFçš„å¢é•¿ã€‚å®šæ€§å’Œå®šé‡è¯„ä¼°è¡¨æ˜ï¼Œä¸æœ€å…ˆè¿›çš„æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å®ç°äº†æ›´å¥½çš„è¡¨é¢é‡å»ºå’Œé€¼çœŸçš„è§†å›¾åˆæˆã€‚</p><ul><li>In particular, we firstly present a novel position encoding based on <strong>multi-scale tri-planes</strong> to enable continuous levels of details </li><li>To alleviate aliasing, we consider the size of <strong>cast cone rays</strong> and specifically design <strong>multi-convolved features to approximate the cone sampling</strong></li><li>Meanwhile, we observe that thin surface reconstruction using SDF is challenging, thus propose a refined solution involving an <strong>error-guided sampling strategy</strong> to facilitate SDF growth</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Multi-scale-Tri-plane-Encoding"><a href="#Multi-scale-Tri-plane-Encoding" class="headerlink" title="Multi-scale Tri-plane Encoding"></a>Multi-scale Tri-plane Encoding</h2><p>InstantNGP å“ˆå¸Œå†²çªã€å†…å­˜å ç”¨å¤§</p><p>TensoRF ä¸‰å¹³é¢ç¼–ç  åœ¨å¤„ç†å¤æ‚å‡ ä½•å’Œæœ‰æ•ˆçš„ç©ºé—´æ­£åˆ™åŒ–æ–¹é¢æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œæœ¬æ–‡å°†å¤šå°ºåº¦ä¸‰å¹³é¢è¡¨ç¤ºåˆå¹¶åˆ°ä¸€ä¸ªåŸºäºneusçš„æ¡†æ¶ä¸­ï¼Œç”¨äºå¤æ‚çš„è¡¨é¢é‡å»ºå’Œé«˜è´¨é‡çš„æ¸²æŸ“ã€‚</p><p>å¤šåˆ†è¾¨ç‡ä¸‰å¹³é¢ï¼š$\{R_{l}\}_{l=1}^{L}$<br>çº§è”ç‰¹å¾ä¸è¾“å…¥çš„xï¼š$\mathbf{\vec{F}}=(\mathbf{x},\mathbf{F}_1,â€¦,\mathbf{F}_L),$</p><h2 id="Anti-aliasing-Rendering-of-Implicit-Surfaces"><a href="#Anti-aliasing-Rendering-of-Implicit-Surfaces" class="headerlink" title="Anti-aliasing Rendering of Implicit Surfaces"></a>Anti-aliasing Rendering of Implicit Surfaces</h2><p>NeuSæ²¡æœ‰è€ƒè™‘åƒç´ çš„å½¢çŠ¶ï¼Œè¿™ç§è¿‘ä¼¼å¯èƒ½å¯¼è‡´é«˜é¢‘ä¿¡æ¯çš„æ¬ é‡‡æ ·æˆ–æ¨¡ç³Šè¡¨ç¤ºï¼Œå¹¶å¯¼è‡´æ··å ä¼ªå½±ã€‚ä¸ºäº†ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡å°†å°„çº¿å®šä¹‰ä¸ºåœ†é”¥ä½“æ¥é‡æ–°åˆ¶å®šä½“æ¸²æŸ“ï¼ŒåŒæ—¶è€ƒè™‘åˆ°åƒç´ å¤§å°ã€‚è¿™æ ·å¯ä»¥å®ç°è¿ç»­çš„LoDï¼Œå¹¶ä»æ¬ é‡‡æ ·å›¾åƒä¸­æ¢å¤é«˜è´¨é‡çš„SDFï¼Œä»è€Œæ›´å‡†ç¡®åœ°æ•è·å’Œé‡å»ºåœºæ™¯çš„ç»†èŠ‚ã€‚</p><ul><li>è¶…é‡‡æ ·ï¼Œå°†é”¥ä½“å…‰çº¿ç¦»æ•£æˆä¸€æ‰¹å…‰çº¿ï¼Œè®¡ç®—æˆæœ¬å’Œæ—¶é—´æˆæœ¬é«˜</li><li>Cone Discrete Sampling.é”¥é‡‡æ ·ï¼šé€šè¿‡ç›¸æœºåƒç´ çš„æŠ•å°„é”¥å°„çº¿è¢«åˆ’åˆ†ä¸ºä¸€ç³»åˆ—é”¥å½¢æˆªä½“<ul><li>Mip-NeRFä¾§é‡äºä»¥ä¸åŒåˆ†è¾¨ç‡æ¸²æŸ“åœºæ™¯ï¼Œè€Œä¸æ˜¯æ¢å¤åœºæ™¯ç»†èŠ‚</li><li>åˆ©ç”¨æˆ‘ä»¬åŸºäºä¸‰å¹³é¢çš„è¡¨ç¤ºï¼Œæˆ‘ä»¬é€šè¿‡åƒç´ è§’æŠ•å°„äº†å››æ¡é¢å¤–çš„å…‰çº¿ï¼Œä»è€Œè€ƒè™‘äº†åƒç´ çš„å¤§å°å’Œå½¢çŠ¶ã€‚ç„¶åï¼Œæ²¿é”¥ä½“çš„<strong>æ¯ä¸ªé”¥å½¢æˆªé”¥ç”±å…«ä¸ªé¡¶ç‚¹è¡¨ç¤º</strong>ã€‚ç»™å®šä»»ä½•ä¸‰ç»´é‡‡æ ·ä½ç½®xåœ¨ä¸€ä¸ªé”¥å½¢æˆªä½“å†…ï¼Œæˆ‘ä»¬ä½¿ç”¨é€’å‡æƒå€¼æ··åˆæ¯ä¸ªé¡¶ç‚¹$x_ğ‘£$çš„ä¸‰å¹³é¢ç‰¹å¾ï¼Œ$W(\mathbf{x},\mathbf{x}_{\boldsymbol{\upsilon}})=\exp(-k|\mathbf{x}_{\boldsymbol{\upsilon}}-\mathbf{x}|),$ å®ƒéšç€é¡¶ç‚¹xğ‘£ä¸é‡‡æ ·ç‚¹xä¹‹é—´çš„è·ç¦»è€Œå‡å°ã€‚ğ‘˜æ˜¯ä¸€ä¸ªå¯å­¦ä¹ çš„å‚æ•°ï¼Œæˆ‘ä»¬æœ€åˆå°†å…¶è®¾ç½®ä¸º80ï¼Œå¹¶åœ¨è®­ç»ƒæœŸé—´ä¸å…¶ä»–å‚æ•°ä¸€èµ·æ›´æ–°ã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œé€’å‡å‡½æ•°åº”è¯¥æ„è¯†åˆ°é”¥å½¢æˆªé”¥ä½“çš„å¤§å°ã€‚é”¥å°è¶Šå°ï¼Œå‡½æ•°è¡°å‡è¶Šå¿«</li></ul></li><li>Mulit-convolved Featurization.<ul><li>è™½ç„¶åˆ©ç”¨ç›¸é‚»é¡¶ç‚¹æ²¿ç›¸é‚»å°„çº¿çš„å¤šå°ºåº¦ç‰¹å¾è¿›è¡Œåœ†é”¥é‡‡æ ·ï¼Œä½†ç”±äºåœ†é”¥æˆªä½“å†…çš„æ ·æœ¬ç¨€ç–ï¼Œè¿™ç§è¿‘ä¼¼å¯èƒ½ä¸å¤Ÿã€‚ä¸€ç§ç›´æ¥çš„æ–¹æ³•æ˜¯å¼•å…¥æ›´å¤šç¦»æ•£æ ·æœ¬ï¼Œä½†è¿™ä¼šå¢åŠ è®¡ç®—æˆæœ¬å’Œå†…å­˜è´Ÿæ‹…ã€‚</li><li>åˆ©ç”¨æ¯ä¸ªä¸‰å¹³é¢çš„äºŒç»´é«˜æ–¯å‡½æ•°æ¥è¡¨ç¤ºåœ†é”¥æˆªé”¥ä½“åº”è¯¥é›†æˆçš„åŒºåŸŸã€‚ç»“åˆæˆ‘ä»¬çš„é”¥å½¢ç¦»æ•£é‡‡æ ·ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå¤šé‡é«˜æ–¯å·ç§¯ç‰¹å¾æ¥è¡¨ç¤ºé‚»è¿‘é¡¶ç‚¹çš„ç‰¹å¾ï¼Œè¿™äº›é¡¶ç‚¹è¿‘ä¼¼äºé‡‡æ ·ç‚¹åŠå…¶ç›¸åº”çš„é”¥å½¢æˆªé”¥ä½“</li><li>$\mathbf{G}_{\boldsymbol{\upsilon}}(\mathbf{x}_{\boldsymbol{\upsilon}})=G(\vec{\mathbf{F}}_{\boldsymbol{\upsilon}},\{\tau_{\boldsymbol{\upsilon}}\}_{\boldsymbol{l}=1}^{L})=\sqcup_{\boldsymbol{l}=1}^{L}\mathcal{G}\left(\mathbf{F}_{\boldsymbol{l}},\tau_{\boldsymbol{l}}\right),$</li></ul></li><li>$\mathrm{Z}(\mathrm{x})=\sum_{v=1}^VW(\mathrm{x},\mathrm{x}_v)\mathrm{G}_v(\mathrm{x}_v),$ V=8ä¸ºåœ†é”¥ä½“çš„é¡¶ç‚¹æ•°</li></ul><h2 id="Training-and-Loss"><a href="#Training-and-Loss" class="headerlink" title="Training and Loss"></a>Training and Loss</h2><p>$L_{rgb}=\frac{1}{n}\sum_{p}\left|\hat{C_{p}}-C_{p}\right|_{1}.$<br>$L_{eikonal}=\frac{1}{nm}\sum_{i}(|\nabla f(x_{i})|_{2}-1)^{2}.$<br>$L_{mask}=\frac{1}{n}\sum_{p}\mathrm{BCE}(M_{p},\hat{O}_{p}),$<br>å…¶ä¸­opacityï¼š$\hat{O}_k=\sum_j^mT_j(1-\exp(-\sigma_j\delta_j))$</p><h2 id="SDF-Growth-Refinement"><a href="#SDF-Growth-Refinement" class="headerlink" title="SDF Growth Refinement"></a>SDF Growth Refinement</h2><ul><li>è¡¨ç¤ºä¸€ä¸ªè–„ç‰©ä½“éœ€è¦åœ¨SDFä¸­å¿«é€Ÿç¿»è½¬ï¼Œè¿™å¯¹äºç¥ç»ç½‘ç»œæ¥è¯´æ˜¯å›°éš¾çš„</li><li>ä¸å…¶ä»–åŒºåŸŸç›¸æ¯”ï¼Œè–„ç‰©ä½“å¯¹åº”çš„å›¾åƒåŒºåŸŸå¯èƒ½å…·æœ‰æ›´å°‘çš„æ ·æœ¬ï¼Œä½¿å…¶æ›´éš¾å­¦ä¹ </li></ul><p>ä¸€ä¸ªç›´æ¥çš„è§£å†³æ–¹æ¡ˆå¯èƒ½æ˜¯å¢åŠ è¯¥åŒºåŸŸå‘¨å›´çš„é‡‡æ ·é¢‘ç‡ï¼Œä½†åªæœ‰ä½äºè¯¥åŒºåŸŸå‘¨å›´çš„é‡‡æ ·å°„çº¿è¢«è¯æ˜æœ‰åŠ©äºè¿™ç§é‡å»º</p><p>æœ¬æ–‡åˆ©ç”¨æ¥è‡ª2Då›¾åƒçš„ä¿¡æ¯ï¼Œä»ç¼ºå¤±çš„ç»†æ®µä¸è¡¨é¢ç›¸é‡çš„ç©ºé—´ç‚¹å¼•å¯¼SDFç”Ÿé•¿</p><ul><li>æˆ‘ä»¬åœ¨æ¯ä¸ªè®­ç»ƒè§†ç‚¹å‘ˆç°è®­ç»ƒåçš„SDFï¼Œä½¿ç”¨L1è·ç¦»å¯¹è¾“å…¥è®¡ç®—è¯¯å·®å›¾ï¼Œé¡ºåºäºŒå€¼åŒ–è¯¥å›¾å¹¶å°†å…¶æ‰©å±•åˆ°å€™é€‰åŒºåŸŸğ‘€ğ‘’ã€‚ä¸ºäº†æ‰¾åˆ°æˆ‘ä»¬çš„ç”Ÿé•¿æ–¹æ³•çš„èµ·ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨Zhouç­‰äººæ–¹æ³•(End-to-End Wireframe Parsing)æ¥æ£€æµ‹çº¿ç«¯ç‚¹å¹¶å°†å…¶æ‰©å±•åˆ°æˆ‘ä»¬é€‰æ‹©çš„åŒºåŸŸğ‘€ğ‘ </li></ul><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Baselineï¼šNeuSã€HF-NeuSã€NeRF<br>Metricsï¼šPSNRã€CD<br>Datasetsï¼šDTU(with mask)</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>NeuSurf</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/NeuSurf/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/NeuSurf/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeuSurf: On-Surface Priors for Neural Surface Reconstruction from Sparse Input Views</th></tr></thead><tbody><tr><td>Author</td><td>Han Huang1,2, Yulun Wu1,2, Junsheng Zhou1,2, Ge Gao1,2*, Ming Gu1,2, Yu-Shen Liu2</td></tr><tr><td>Conf/Jour</td><td>arXiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4839146633492955137&amp;noteId=2119047229104843264">NeuSurf: On-Surface Priors for Neural Surface Reconstruction from Sparse Input Views (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240117182026.png" alt="image.png|666"></p><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>è¿‘å¹´æ¥ï¼Œç¥ç»éšå¼å‡½æ•°åœ¨å¤šè§†å›¾é‡å»ºé¢†åŸŸå–å¾—äº†æ˜¾è‘—çš„æˆæœã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°ç°æœ‰æ–¹æ³•éƒ½æ˜¯ä¸ºå¯†é›†è§†å›¾é‡èº«å®šåˆ¶çš„ï¼Œåœ¨å¤„ç†ç¨€ç–è§†å›¾æ—¶è¡¨ç°å‡ºä»¤äººä¸æ»¡æ„çš„æ€§èƒ½ã€‚ä¸ºäº†è§£å†³ç¨€ç–è§†å›¾é‡å»ºé—®é¢˜ï¼Œ<strong>å·²ç»æå‡ºäº†å‡ ç§æœ€æ–°çš„æ³›åŒ–éšå¼é‡å»ºæ–¹æ³•ï¼Œä½†å®ƒä»¬ä»ç„¶å­˜åœ¨è®­ç»ƒæˆæœ¬é«˜ï¼Œå¹¶ä¸”ä»…åœ¨ç²¾å¿ƒé€‰æ‹©çš„è§†è§’ä¸‹æœ‰æ•ˆçš„é—®é¢˜</strong>ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç¨€ç–è§†å›¾é‡å»ºæ¡†æ¶ï¼Œåˆ©ç”¨è¡¨é¢å…ˆéªŒæ¥å®ç°é«˜åº¦å¿ å®çš„è¡¨é¢é‡å»ºã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬è®¾è®¡äº†å‡ ä¸ªå…¨å±€å‡ ä½•å¯¹é½å’Œå±€éƒ¨å‡ ä½•ç»†åŒ–çº¦æŸï¼Œä»¥å…±åŒä¼˜åŒ–ç²—å½¢çŠ¶å’Œç²¾ç»†ç»†èŠ‚ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬è®­ç»ƒäº†ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œä»SfMè·å¾—çš„è¡¨é¢ç‚¹ä¸­å­¦ä¹ å…¨å±€éšå¼åŸŸï¼Œç„¶åå°†å…¶ä½œä¸ºç²—å‡ ä½•çº¦æŸã€‚ä¸ºäº†åˆ©ç”¨å±€éƒ¨å‡ ä½•ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬å°†è¡¨é¢ä¸Šçš„ç‚¹æŠ•å½±åˆ°å¯è§å’Œä¸å¯è§çš„è§†å›¾ä¸Šï¼Œå°†æŠ•å½±ç‰¹å¾çš„ä¸€è‡´æŸå¤±è§†ä¸ºç²¾ç»†çš„å‡ ä½•çº¦æŸã€‚åœ¨ä¸¤ç§æµè¡Œçš„ç¨€ç–è®¾ç½®ä¸‹ï¼ŒDTUå’ŒBlendedMVSæ•°æ®é›†çš„å®éªŒç»“æœè¡¨æ˜ï¼Œä¸æœ€å…ˆè¿›çš„æ–¹æ³•ç›¸æ¯”ï¼Œæœ‰æ˜¾è‘—çš„æ”¹è¿›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Sparse </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Stereo Matching Review</title>
      <link href="/3DReconstruction/Other%20Methods/Stereo%20Matching/Stereo%20Matching%20Review/"/>
      <url>/3DReconstruction/Other%20Methods/Stereo%20Matching/Stereo%20Matching%20Review/</url>
      
        <content type="html"><![CDATA[<p>åŒç›®ç«‹ä½“åŒ¹é…</p><span id="more"></span><p>å‚è€ƒï¼š</p><ul><li><a href="https://cloud.tencent.com/developer/article/1824593">ä¸€ç¯‡æ–‡ç« è®¤è¯†ã€ŠåŒç›®ç«‹ä½“è§†è§‰ã€‹-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Other Methods </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SuGaR</title>
      <link href="/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/SuGaR/"/>
      <url>/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/SuGaR/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>SuGaR</th></tr></thead><tbody><tr><td>Author</td><td><code>Gu&#123;\&#39;e&#125;don, Antoine and Lepetit, Vincent</code></td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2024</td></tr><tr><td>Project</td><td><a href="https://github.com/Anttwo/SuGaR">Anttwo/SuGaR: Official implementation of SuGaR: Surface-Aligned Gaussian Splatting for Efficient 3D Mesh Reconstruction and High-Quality Mesh Rendering (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://arxiv.org/pdf/2311.12775">SuGaR: Surface-Aligned Gaussian Splatting for Efficient 3D Mesh Reconstruction and High-Quality Mesh Rendering</a></td></tr></tbody></table></div><span id="more"></span><h1 id="å®éªŒ-win10"><a href="#å®éªŒ-win10" class="headerlink" title="å®éªŒ(win10)"></a>å®éªŒ(win10)</h1><p><del>conda env create -f environment.yml</del><br>å¤åˆ¶environment.ymlä¸­pipåŒ…åˆ°requirements.txtä¸­ï¼Œé€šè¿‡pipå®‰è£…<br><code>conda create -n sugar</code><br><code>pip install -r requirements.txt</code><br>add:</p><ul><li>plyfile</li><li>tqdm</li><li>rich</li></ul><p><code>pip install torch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 --index-url https://download.pytorch.org/whl/cu118</code></p><p>pytorch3d: <a href="https://blog.csdn.net/m0_70229101/article/details/127196699">pytorch3D Windowsä¸‹å®‰è£…ç»éªŒæ€»ç»“_windowså®‰è£…pytorch3d-CSDNåšå®¢</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> gaussian_splatting/submodules/diff-gaussian-rasterization/</span><br><span class="line">pip install -e .</span><br><span class="line"><span class="built_in">cd</span> ../simple-knn/</span><br><span class="line">pip install -e .</span><br><span class="line"><span class="built_in">cd</span> ../../../</span><br></pre></td></tr></table></figure><h2 id="run"><a href="#run" class="headerlink" title="run"></a>run</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GS</span></span><br><span class="line">python gaussian_splatting/train.py -s &lt;path to COLMAP or NeRF Synthetic dataset&gt; --iterations 7000 -m &lt;path to the desired output directory&gt;</span><br><span class="line"></span><br><span class="line">-</span><br><span class="line"></span><br><span class="line"><span class="comment">## eg</span></span><br><span class="line">python gaussian_splatting/train.py -s inputs/dtu_scan114 --iterations 7000 -m exp/dtu_scan114</span><br><span class="line">python gaussian_splatting/train.py -s inputs/Miku --iterations 7000 -m exp/Miku</span><br><span class="line"></span><br><span class="line"><span class="comment"># SuGaR</span></span><br><span class="line">python train.py -s &lt;path to COLMAP or NeRF Synthetic dataset&gt; -c &lt;path to the Gaussian Splatting checkpoint&gt; -r &lt;<span class="string">&quot;density&quot;</span> or <span class="string">&quot;sdf&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">##eg</span></span><br><span class="line">python train.py -s inputs/dtu_scan114 -c exp/dtu_scan114/ -r sdf</span><br><span class="line">python train.py -s inputs/Miku -c exp/Miku/ -r sdf</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>MonoSDF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Loss/MonoSDF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Loss/MonoSDF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>MonoSDF: Exploring Monocular Geometric Cues for Neural Implicit Surface Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Zehao Yu1     Songyou Peng2,3     Michael Niemeyer1,3     Torsten Sattler4     Andreas Geiger1,3</td></tr><tr><td>Conf/Jour</td><td>NeurIPS</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://niujinshuchong.github.io/monosdf/">MonoSDF (niujinshuchong.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4678115703736238081&amp;noteId=2084231918355671808">MonoSDF: Exploring Monocular Geometric Cues for Neural Implicit Surface Reconstruction (readpaper.com)</a><br>[MonoSDF: Exploring Monocular Geometric Cues for Neural Implicit Surface Reconstruction \</td><td>PDF](<a href="https://arxiv.org/pdf/2206.00665">https://arxiv.org/pdf/2206.00665</a>)</td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231219132905.png" alt="image.png|666"></p><p>æ·±åº¦+æ³•å‘é‡ç›‘ç£</p><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ç›®å‰çš„ neural implicit surface reconstructionæ–¹æ³•æ— æ³•å¤„ç†å¤§çš„ã€å¤æ‚çš„å’Œç¨€ç–è§†å›¾çš„åœºæ™¯é‡å»ºã€‚ä¸»è¦æ˜¯ç”±äºRGB é‡å»ºlossçš„å†…åœ¨æ¨¡ç³Šæ€§æ— æ³•æä¾›è¶³å¤Ÿçš„çº¦æŸï¼Œin particular in less-observed and textureless areas</p><p>æœ¬æ–‡ demonstrate that <strong>depth and normal cues, predicted by general-purpose monocular estimators</strong>, significantly <strong>improve reconstruction quality and optimization time</strong>. éƒ½æœ‰ç€æå‡</p><ul><li>ä¸ç®¡æ˜¯ä»€ä¹ˆè¡¨ç¤ºæ–¹æ³•ï¼šmonolithic MLP models over single-grid to multi-resolution grid representations.</li><li>ä¹Ÿä¸ç®¡æ˜¯ä»€ä¹ˆåœºæ™¯ï¼šsmall-scale single-object as well as large-scale multi-object scenes</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>Implicit scene representationsï¼š$f:\mathbb{R}^3\to\mathbb{R}\quad\mathrm{~x}\mapsto s=\mathrm{SDF}(\mathbf{x})$ æ ¹æ®3Dpoint åæ ‡å¾—åˆ°è¯¥ç‚¹çš„SDFå€¼</p><p>SDF Prediction</p><ul><li>Dense SDF Grid</li><li>Single MLP</li><li>Single-Resolution Feature Grid with MLP Decoder</li><li>Multi-Resolution Feature Grid with MLP Decoder</li></ul><p>Color Predictionï¼š$\hat{\mathbf{c}}=\mathbf{c}_\theta(\mathbf{x},\mathbf{v},\hat{\mathbf{n}},\hat{\mathbf{z}})$</p><ul><li>å…¶ä¸­$\hat{\mathbf{n}}$ä¸ºSDFå‡½æ•°çš„åˆ†ææ¢¯åº¦ torch.autograd.grad</li><li>ç‰¹å¾å‘é‡$\hat{\mathbf{z}}$ä¸ºSDFç½‘ç»œçš„è¾“å‡º</li></ul><p>Volume Rendering of Implicit Surfaces (VolSDF)</p><ul><li>Density values $\sigma_\beta(s)=\begin{cases}\frac{1}{2\beta}\exp\left(\frac{s}{\beta}\right)&amp;\text{if} s\leq0\\\frac{1}{\beta}\left(1-\frac{1}{2}\exp\left(-\frac{s}{\beta}\right)\right)&amp;\text{if} s&gt;0\end{cases}$  $\beta$ æ˜¯ä¸€ä¸ªå¯å­¦ä¹ çš„å‚æ•°</li><li>$\hat{C}(\mathbf{r})=\sum_{i=1}^MT_\mathbf{r}^i\alpha_\mathbf{r}^i\hat{\mathbf{c}}_\mathbf{r}^i$ </li><li>$T_\mathbf{r}^i=\prod_{j=1}^{i-1}\left(1-\alpha_\mathbf{r}^j\right)$</li><li>$\alpha_\mathbf{r}^i=1-\exp\left(-\sigma_\mathbf{r}^i\delta_\mathbf{r}^i\right)$</li></ul><p>rendering æ·±åº¦oræ³•å‘é‡</p><ul><li>$\hat{D}(\mathbf{r})=\sum_{i=1}^MT_\mathbf{r}^i \alpha_\mathbf{r}^i t_\mathbf{r}^i$</li><li>$\hat{N}(\mathbf{r})=\sum_{i=1}^MT_\mathbf{r}^i \alpha_\mathbf{r}^i \hat{\mathbf{n}}_\mathbf{r}^i$</li></ul><p>guided æ·±åº¦oræ³•å‘é‡ï¼šä½¿ç”¨ pretrained Omnidata model æ¥å½“ä½œ monocular depth/normal map predictor</p><p>æŸå¤±å‡½æ•°ï¼š$\mathcal{L}=\mathcal{L}_\mathrm{rgb}+\lambda_1\mathcal{L}_\mathrm{eikonal}+\lambda_2\mathcal{L}_\mathrm{depth}+\lambda_3\mathcal{L}_\mathrm{normal}$</p><ul><li>$\mathcal{L}_{\mathrm{rgb}}=\sum_{\mathbf{r}\in\mathcal{R}}\left|\hat{C}(\mathbf{r})-C(\mathbf{r})\right|_1$</li><li>$\mathcal{L}_{\mathrm{eikonal}}=\sum_{\mathbf{x}\in\mathcal{X}}(\left|\nabla f_\theta(\mathbf{x})\right|_2-1)^2$</li><li>$\mathcal{L}_{\mathrm{depth}}=\sum_{\mathbf{r}\in\mathcal{R}}\left|(w\hat{D}(\mathbf{r})+q)-\bar{D}(\mathbf{r})\right|^2$<ul><li>$w$ and $q$ are scale and shift used to aligh $\hat{D}$ä¸$\bar{D}$ <strong><em>æ¯ä¸ªbatchéœ€è¦è¢«ç‹¬ç«‹ä¼°è®¡??</em></strong></li><li>$(w,q)=\underset{w,q}{\arg\min}\sum\limits_{\mathbf{r}\in\mathcal{R}}\Big(w\hat{D}(\mathbf{r})+q-\bar{D}(\mathbf{r})\Big)^2$ solve w and q with a least-squares criterion</li><li>$\mathbf{h}^{\mathrm{opt}}=\underset{\mathbf{h}}{\operatorname*{\arg\min}}\sum_{\mathbf{r}\in\mathcal{R}}\left(\mathbf{d}_{\mathbf{r}}^T\mathbf{h}-\bar{D}(\mathbf{r})\right)^2$  $:\text{Let h}=(w,q)^T\text{ and }\mathbf{d_r}=(\hat{D}(\mathbf{r}),1)^T$</li><li>$\mathbf{h}=\left(\sum_\mathbf{r}\mathbf{d_r}\mathbf{d_r}^T\right)^{-1}\left(\sum_\mathbf{r}\mathbf{d_r}\bar{D}(\mathbf{r})\right)$</li><li>å¯¹ä¸€ä¸ªä»å•å¼ å›¾ä¸­éšæœºé‡‡æ ·å…‰çº¿çš„ä¸€ä¸ªbatchå¿…é¡»è¢«ç‹¬ç«‹ä¼°è®¡ ç”±äºdepth maps predicted by the monocular depth predictor can differ in scale and shift and the underlying scene geometry changes at each iteration.</li></ul></li><li>$\mathcal{L}_{\mathrm{normal}}=\sum_{\mathrm{r}\in\mathcal{R}}|\hat{N}(\mathbf{r})-\bar{N}(\mathbf{r})|_1+|1-\hat{N}(\mathbf{r})^\top\bar{N}(\mathbf{r})|_1$</li></ul><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241022151811.png" alt="image.png|666"></p><p>æ·±åº¦å›¾çš„ä½œç”¨æ²¡é‚£ä¹ˆæ˜æ˜¾ï¼Œå¹¶ä¸”depthå’Œnormalå…ˆéªŒéƒ½æ— æ³•é‡å»ºå‡ºå¼€å…³å¤„çš„ç»†èŠ‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241022151937.png" alt="image.png|666"></p><h1 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h1><p>Futureï¼š</p><ul><li>ä½¿ç”¨æ›´åŠ ç²¾ç¡®çš„ depth or normal estimator</li><li>exploring other cues such as occlusion edges, plane, or curvature is an interesting future direction</li><li>æ›´åŠ é«˜åˆ†è¾¨ç‡çš„ depth or normal cues</li><li>ç›¸æœºå™ªå£°Joint optimization of scene representations and camera parameters [4, 92] is another interesting direction, especially for multi-resolution grids, in order to better handle noisy camera poses.</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Loss </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> NeRF </tag>
            
            <tag> Loss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RegNeRF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Loss/RegNeRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Loss/RegNeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>RegNeRF: Regularizing Neural Radiance Fields for View Synthesis from Sparse Inputs</th></tr></thead><tbody><tr><td>Author</td><td>Michael Niemeyer and Jonathan T. Barron and Ben Mildenhall and Mehdi S. M. Sajjadi and Andreas Geiger and Noha Radwan</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://m-niemeyer.github.io/regnerf/">RegNeRF (m-niemeyer.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://drive.google.com/file/d/1S_NnmhypZjyMfwqcHg-YbWSSYNWdqqlo/view">https://drive.google.com/file/d/1S_NnmhypZjyMfwqcHg-YbWSSYNWdqqlo/view</a></td></tr></tbody></table></div><p>æ·±åº¦å…ˆéªŒ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240827225000.png" alt="image.png|666"></p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Loss </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>SDFStudio</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/SDFStudio/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/SDFStudio/</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231211203625.png" alt="image.png|666"></p><span id="more"></span><h1 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h1><h3 id="Create-environment"><a href="#Create-environment" class="headerlink" title="Create environment"></a>Create environment</h3><p>SDFStudio requires <code>python &gt;= 3.7</code>. We recommend using conda to manage dependencies. Make sure to install <a href="https://docs.conda.io/en/latest/miniconda.html">Conda</a> before proceeding.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda create --name sdfstudio -y python=3.8</span><br><span class="line">conda activate sdfstudio</span><br><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure><h3 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h3><p>Install pytorch with CUDA (this repo has been tested with CUDA 11.3) and <a href="https://github.com/NVlabs/tiny-cuda-nn">tiny-cuda-nn</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install torch==1.12.1+cu113 torchvision==0.13.1+cu113 -f https://download.pytorch.org/whl/torch_stable.html</span><br><span class="line"><span class="comment"># ä»¥ä¸‹win10éœ€è¦åœ¨vsçš„x64 Native Tools Command Prompt for VS 2019ä¸­è¿›è¡Œç¼–è¯‘å’Œå®‰è£…PyTorch extension</span></span><br><span class="line">pip install git+https://github.com/NVlabs/tiny-cuda-nn/<span class="comment">#subdirectory=bindings/torch</span></span><br></pre></td></tr></table></figure><h3 id="Installing-SDFStudio"><a href="#Installing-SDFStudio" class="headerlink" title="Installing SDFStudio"></a>Installing SDFStudio</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/autonomousvision/sdfstudio.git</span><br><span class="line"><span class="built_in">cd</span> sdfstudio</span><br><span class="line">pip install --upgrade pip setuptools</span><br><span class="line">pip install -e .</span><br><span class="line"><span class="comment"># install tab completion</span></span><br><span class="line">ns-install-cli</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h1><p><code>ns-download-data sdfstudio</code> å¦‚æœç½‘ç»œæ— æ³•è¿æ¥ï¼Œç›´æ¥ä½¿ç”¨amazonawsåœ°å€ä¸‹è½½</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ns-download-data sdfstudio --dataset-name DATASET_NAME</span><br><span class="line"></span><br><span class="line"><span class="comment"># pylint: disable=line-too-long</span></span><br><span class="line">sdfstudio_downloads = &#123;</span><br><span class="line">    <span class="string">&quot;sdfstudio-demo-data&quot;</span>: <span class="string">&quot;https://s3.eu-central-1.amazonaws.com/avg-projects/monosdf/data/sdfstudio-demo-data.tar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;dtu&quot;</span>: <span class="string">&quot;https://s3.eu-central-1.amazonaws.com/avg-projects/monosdf/data/DTU.tar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;replica&quot;</span>: <span class="string">&quot;https://s3.eu-central-1.amazonaws.com/avg-projects/monosdf/data/Replica.tar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;scannet&quot;</span>: <span class="string">&quot;https://s3.eu-central-1.amazonaws.com/avg-projects/monosdf/data/scannet.tar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tanks-and-temple&quot;</span>: <span class="string">&quot;https://s3.eu-central-1.amazonaws.com/avg-projects/monosdf/data/tnt_advanced.tar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tanks-and-temple-highres&quot;</span>: <span class="string">&quot;https://s3.eu-central-1.amazonaws.com/avg-projects/monosdf/data/highresTNT.tar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;heritage&quot;</span>: <span class="string">&quot;https://s3.eu-central-1.amazonaws.com/avg-projects/monosdf/data/Heritage-Recon.tar&quot;</span>,</span><br><span class="line">    <span class="string">&quot;neural-rgbd-data&quot;</span>: <span class="string">&quot;http://kaldir.vc.in.tum.de/neural_rgbd/neural_rgbd_data.zip&quot;</span>,</span><br><span class="line">    <span class="string">&quot;all&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­RGBDæ•°æ®éœ€è¦è½¬æ¢ä¸ºSDFStudioæ•°æ®æ ¼å¼<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># kitchen scene for example, replca the scene path to convert other scenes</span></span><br><span class="line">python scripts/datasets/process_neuralrgbd_to_sdfstudio.py --input_path data/neural-rgbd-data/kitchen/ --output_path data/neural_rgbd/kitchen_sensor_depth --<span class="built_in">type</span> sensor_depth</span><br></pre></td></tr></table></figure></p><h2 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€ scan65</span><br><span class="line">  â””â”€â”€ meta_data.json</span><br><span class="line">  â”œâ”€â”€ pairs.txt</span><br><span class="line">  â”œâ”€â”€ 000000_rgb.png</span><br><span class="line">  â”œâ”€â”€ 000000_normal.npy</span><br><span class="line">  â”œâ”€â”€ 000000_depth.npy</span><br><span class="line">  â”œâ”€â”€ .....</span><br></pre></td></tr></table></figure><p><code>meta_data.json like:</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  &#x27;camera_model&#x27;<span class="punctuation">:</span> &#x27;OPENCV&#x27;<span class="punctuation">,</span> # camera model (currently only OpenCV is supported)</span><br><span class="line">  &#x27;height&#x27;<span class="punctuation">:</span> <span class="number">384</span><span class="punctuation">,</span> # height of the images</span><br><span class="line">  &#x27;width&#x27;<span class="punctuation">:</span> <span class="number">384</span><span class="punctuation">,</span> # width of the images</span><br><span class="line">  &#x27;has_mono_prior&#x27;<span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> # use monocular cues or not</span><br><span class="line">  &#x27;pairs&#x27;<span class="punctuation">:</span> &#x27;pairs.txt&#x27;<span class="punctuation">,</span> # pairs file used for multi-view photometric consistency loss</span><br><span class="line">  &#x27;worldtogt&#x27;<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span> # world to gt transformation (useful for evauation)</span><br><span class="line">      <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  &#x27;scene_box&#x27;<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      &#x27;aabb&#x27;<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">[</span><span class="number">-1</span><span class="punctuation">,</span> <span class="number">-1</span><span class="punctuation">,</span> <span class="number">-1</span><span class="punctuation">]</span><span class="punctuation">,</span> # aabb for the bbox</span><br><span class="line">          <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      &#x27;near&#x27;<span class="punctuation">:</span> <span class="number">0.5</span><span class="punctuation">,</span> # near plane for each image</span><br><span class="line">      &#x27;far&#x27;<span class="punctuation">:</span> <span class="number">4.5</span><span class="punctuation">,</span> # far plane for each image</span><br><span class="line">      &#x27;radius&#x27;<span class="punctuation">:</span> <span class="number">1.0</span><span class="punctuation">,</span> # radius of ROI region in scene</span><br><span class="line">      &#x27;collider_type&#x27;<span class="punctuation">:</span> &#x27;near_far&#x27;<span class="punctuation">,</span></span><br><span class="line">      # collider_type can be <span class="string">&quot;near_far&quot;</span><span class="punctuation">,</span> <span class="string">&quot;box&quot;</span><span class="punctuation">,</span> <span class="string">&quot;sphere&quot;</span><span class="punctuation">,</span></span><br><span class="line">      # it indicates how do we determine the near and far for each ray</span><br><span class="line">      # <span class="number">1.</span> near_far means we use the same near and far value for each ray</span><br><span class="line">      # <span class="number">2.</span> box means we compute the intersection with the bounding box</span><br><span class="line">      # <span class="number">3.</span> sphere means we compute the intersection with the sphere</span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  &#x27;frames&#x27;<span class="punctuation">:</span> <span class="punctuation">[</span> # this contains information for each image</span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        # note that all paths are relateive path</span><br><span class="line">        # path of rgb image</span><br><span class="line">        &#x27;rgb_path&#x27;<span class="punctuation">:</span> &#x27;<span class="number">000000</span>_rgb.png&#x27;<span class="punctuation">,</span></span><br><span class="line">        # camera to world transform</span><br><span class="line">        &#x27;camtoworld&#x27;<span class="punctuation">:</span></span><br><span class="line">          <span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">[</span></span><br><span class="line">              <span class="number">0.9702627062797546</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">-0.014742869883775711</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">-0.2416049987077713</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">0.6601868867874146</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">[</span></span><br><span class="line">              <span class="number">0.007479910273104906</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">0.9994929432868958</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">-0.03095100075006485</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">0.07803472131490707</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">[</span></span><br><span class="line">              <span class="number">0.2419387847185135</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">0.028223417699337006</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">0.9698809385299683</span><span class="punctuation">,</span></span><br><span class="line">              <span class="number">-2.6397712230682373</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">[</span><span class="number">0.0</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">,</span> <span class="number">1.0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        # intrinsic of current image</span><br><span class="line">        &#x27;intrinsics&#x27;<span class="punctuation">:</span></span><br><span class="line">          <span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">[</span><span class="number">925.5457763671875</span><span class="punctuation">,</span> <span class="number">-7.8512319305446e-05</span><span class="punctuation">,</span> <span class="number">199.4256591796875</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">[</span><span class="number">0.0</span><span class="punctuation">,</span> <span class="number">922.6160278320312</span><span class="punctuation">,</span> <span class="number">198.10269165039062</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">[</span><span class="number">0.0</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">,</span> <span class="number">1.0</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">[</span><span class="number">0.0</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">,</span> <span class="number">0.0</span><span class="punctuation">,</span> <span class="number">1.0</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        # path of monocular depth prior</span><br><span class="line">        &#x27;mono_depth_path&#x27;<span class="punctuation">:</span> &#x27;<span class="number">000000</span>_depth.npy&#x27;<span class="punctuation">,</span></span><br><span class="line">        # path of monocular normal prior</span><br><span class="line">        &#x27;mono_normal_path&#x27;<span class="punctuation">:</span> &#x27;<span class="number">000000</span>_normal.npy&#x27;<span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      ...<span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><code>pairs.txt like:</code><br>for multi-view photometric consistency loss</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># ref image, source image 1, source image 2, ..., source image N, note source image are listed in ascending order, which means last image has largest score</span><br><span class="line">000000.png 000032.png 000023.png 000028.png 000031.png 000029.png 000030.png 000024.png 000002.png 000015.png 000025.png ...</span><br><span class="line">000001.png 000033.png 000003.png 000022.png 000016.png 000027.png 000023.png 000007.png 000011.png 000026.png 000024.png ...</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰æ•°æ®é›†"><a href="#è‡ªå®šä¹‰æ•°æ®é›†" class="headerlink" title="è‡ªå®šä¹‰æ•°æ®é›†"></a>è‡ªå®šä¹‰æ•°æ®é›†</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python scripts/datasets/process_scannet_to_sdfstudio.py --input_path /your_path/datasets/scannet/scene0050_00 --output_path data/custom/scannet_scene0050_00</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨<a href="https://github.com/EPFL-VILAB/omnidata">omnidata:</a>æå–å•ç›®æ·±åº¦å’Œæ³•å‘ç”¨äºç›‘ç£<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python scripts/datasets/extract_monocular_cues.py --task normal --img_path data/custom/scannet_scene0050_00/ --output_path data/custom/scannet_scene0050_00 --omnidata_path YOUR_OMNIDATA_PATH --pretrained_models PRETRAINED_MODELS</span><br><span class="line"></span><br><span class="line">python scripts/datasets/extract_monocular_cues.py --task depth --img_path data/custom/scannet_scene0050_00/ --output_path data/custom/scannet_scene0050_00 --omnidata_path YOUR_OMNIDATA_PATH --pretrained_models PRETRAINED_MODELS</span><br></pre></td></tr></table></figure></p><h1 id="Train"><a href="#Train" class="headerlink" title="Train"></a>Train</h1><p>eg: sdfstudio-demo-data</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Train model on the dtu dataset scan65</span></span><br><span class="line">ns-train neus-facto --pipeline.model.sdf-field.inside-outside False --vis viewer --experiment-name neus-facto-dtu65 sdfstudio-data --data data/sdfstudio-demo-data/dtu-scan65</span><br><span class="line"></span><br><span class="line"><span class="comment"># Or you could also train model on the Replica dataset room0 with monocular priors</span></span><br><span class="line">ns-train neus-facto --pipeline.model.sdf-field.inside-outside True --pipeline.model.mono-depth-loss-mult 0.1 --pipeline.model.mono-normal-loss-mult 0.05 --vis viewer --experiment-name neus-facto-replica1 sdfstudio-data --data data/sdfstudio-demo-data/replica-room0 --include_mono_prior True</span><br><span class="line"></span><br><span class="line"><span class="comment"># resume checkpoint æ ¹æ®æ¨¡å‹å‚æ•°æ¢å¤è®­ç»ƒ</span></span><br><span class="line">ns-train neus-facto --trainer.load-dir &#123;outputs/neus-facto-dtu65/neus-facto/XXX/sdfstudio_models&#125; sdfstudio-data --data data/sdfstudio-demo-data/dtu-scan65 </span><br></pre></td></tr></table></figure><h2 id="å›¾ç‰‡-mask"><a href="#å›¾ç‰‡-mask" class="headerlink" title="å›¾ç‰‡(+mask)"></a>å›¾ç‰‡(+mask)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ns-train unisurf --pipeline.model.sdf-field.inside-outside False sdfstudio-data --data data/sdfstudio-demo-data/dtu-scan65</span><br><span class="line"></span><br><span class="line">ns-train volsdf --pipeline.model.sdf-field.inside-outside False sdfstudio-data --data data/sdfstudio-demo-data/dtu-scan65</span><br><span class="line"></span><br><span class="line">ns-train neus --pipeline.model.sdf-field.inside-outside False sdfstudio-data --data data/sdfstudio-demo-data/dtu-scan65</span><br></pre></td></tr></table></figure><h2 id="mono-prior"><a href="#mono-prior" class="headerlink" title="mono-prior"></a>mono-prior</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ns-train monosdf --pipeline.model.sdf-field.inside-outside True sdfstudio-data --data data/sdfstudio-demo-data/replica-room0 --include-mono-prior True</span><br><span class="line"></span><br><span class="line">ns-train mono-unisurf --pipeline.model.sdf-field.inside-outside True sdfstudio-data --data data/sdfstudio-demo-data/replica-room0 --include-mono-prior True</span><br><span class="line"></span><br><span class="line">ns-train mono-neus --pipeline.model.sdf-field.inside-outside True sdfstudio-data --data data/sdfstudio-demo-data/replica-room0 --include-mono-prior True</span><br></pre></td></tr></table></figure><h2 id="Geo-Neusâ€™s-pairs"><a href="#Geo-Neusâ€™s-pairs" class="headerlink" title="Geo-Neusâ€™s pairs"></a>Geo-Neusâ€™s pairs</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ns-train geo-neus --pipeline.model.sdf-field.inside-outside False sdfstudio-data -data data/dtu/scan24 --load-pairs True</span><br><span class="line"></span><br><span class="line">ns-train geo-unisurf --pipeline.model.sdf-field.inside-outside False sdfstudio-data -data data/dtu/scan24 --load-pairs True</span><br><span class="line"></span><br><span class="line">ns-train geo-volsdf --pipeline.model.sdf-field.inside-outside False sdfstudio-data -data data/dtu/scan24 --load-pairs True</span><br></pre></td></tr></table></figure><h2 id="Neus"><a href="#Neus" class="headerlink" title="Neus"></a>Neus</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ns-train neus-acc --pipeline.model.sdf-field.inside-outside False sdfstudio-data -data data/dtu/scan65</span><br><span class="line"></span><br><span class="line">ns-train neus-facto --pipeline.model.sdf-field.inside-outside False sdfstudio-data -data data/dtu/scan65</span><br></pre></td></tr></table></figure><h2 id="NeuralReconW"><a href="#NeuralReconW" class="headerlink" title="NeuralReconW"></a>NeuralReconW</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ns-train neusW --pipeline.model.sdf-field.inside-outside False heritage-data --data data/heritage/brandenburg_gate</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h2><h3 id="Representations"><a href="#Representations" class="headerlink" title="Representations"></a>Representations</h3><p>MLPã€HashGridã€Tri-plane</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Representations</span></span><br><span class="line"><span class="comment">## MLPs</span></span><br><span class="line">ns-train volsdf --pipeline.model.sdf-field.use-grid-feature False sdfstudio-data --data YOUR_DATA</span><br><span class="line"></span><br><span class="line"><span class="comment">## Multi-res Feature Grids</span></span><br><span class="line">ns-train volsdf --pipeline.model.sdf-field.use-grid-feature True --pipeline.model.sdf-field.encoding-type <span class="built_in">hash</span> sdfstudio-data --data YOUR_DATA</span><br><span class="line"></span><br><span class="line"><span class="comment">## Tri-plane</span></span><br><span class="line">ns-train volsdf --pipeline.model.sdf-field.use-grid-feature True  --pipeline.model.sdf-field.encoding-type tri-plane sdfstudio-data --data YOUR_DATA</span><br><span class="line"></span><br><span class="line"><span class="comment">## Geometry Initialization</span></span><br><span class="line">ns-train volsdf  --pipeline.model.sdf-field.geometric-init True --pipeline.model.sdf-field.bias 0.5 --pipeline.model.sdf-field.inside-outside False</span><br><span class="line">ns-train volsdf --pipeline.model.sdf-field.geometric-init True --pipeline.model.sdf-field.bias 0.8 --pipeline.model.sdf-field.inside-outside True</span><br><span class="line"></span><br><span class="line"><span class="comment">## Color Network</span></span><br><span class="line">ns-train volsdf --pipeline.model.sdf-field.num-layers-color 2 --pipeline.model.sdf-field.hidden-dim-color 512</span><br></pre></td></tr></table></figure><h3 id="Supervision"><a href="#Supervision" class="headerlink" title="Supervision"></a>Supervision</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## RGB Loss é»˜è®¤ä½¿ç”¨L1æŸå¤±</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Mask Loss</span></span><br><span class="line">--pipeline.model.fg-mask-loss-mult 0.001</span><br><span class="line"></span><br><span class="line"><span class="comment">## Eikonal Loss</span></span><br><span class="line">--pipeline.model.eikonal-loss-mult 0.01</span><br><span class="line"></span><br><span class="line"><span class="comment">## Smoothness Loss</span></span><br><span class="line">--pipeline.model.smooth-loss-multi 0.01</span><br><span class="line"></span><br><span class="line"><span class="comment">## Monocular Depth Consistency</span></span><br><span class="line">--pipeline.model.mono-depth-loss-mult 0.1</span><br><span class="line"></span><br><span class="line"><span class="comment">## Monocular Normal Consistency</span></span><br><span class="line">--pipeline.model.mono-normal-loss-mult 0.05</span><br><span class="line"></span><br><span class="line"><span class="comment">## Multi-view Photometric Consistencyï¼ˆGeo-NeuS.ï¼‰</span></span><br><span class="line">--pipeline.model.patch-size 11 --pipeline.model.patch-warp-loss-mult 0.1 --pipeline.model.topk 4</span><br><span class="line"></span><br><span class="line"><span class="comment">## Sensor Depth Lossï¼ˆfor RGBD dataï¼‰</span></span><br><span class="line"><span class="comment"># truncation is set to 5cm with a rough scale value 0.3 (0.015 = 0.05 * 0.3)</span></span><br><span class="line">--pipeline.model.sensor-depth-truncation 0.015 --pipeline.model.sensor-depth-l1-loss-mult 0.1 --pipeline.model.sensor-depth-freespace-loss-mult 10.0 --pipeline.model.sensor-depth-sdf-loss-mult 6000.0</span><br></pre></td></tr></table></figure><h3 id="viså¯è§†åŒ–è·Ÿè¸ª"><a href="#viså¯è§†åŒ–è·Ÿè¸ª" class="headerlink" title="viså¯è§†åŒ–è·Ÿè¸ª"></a>viså¯è§†åŒ–è·Ÿè¸ª</h3><p><code>--vis &#123;viewer, tensorboard, wandb&#125;</code></p><h1 id="æå–å’Œæ¸²æŸ“mesh"><a href="#æå–å’Œæ¸²æŸ“mesh" class="headerlink" title="æå–å’Œæ¸²æŸ“mesh"></a>æå–å’Œæ¸²æŸ“mesh</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ns-extract-mesh --load-config outputs/neus-facto-dtu65/neus-facto/XXX/config.yml --output-path meshes/neus-facto-dtu65.ply</span><br><span class="line"></span><br><span class="line">ns-render-mesh --meshfile meshes/neus-facto-dtu65.ply --traj interpolate  --output-path renders/neus-facto-dtu65.mp4 sdfstudio-data --data data/sdfstudio-demo-data/dtu-scan65</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> SurfaceReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DVR</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/DVR/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/DVR/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Differentiable Volumetric Rendering: Learning Implicit 3D Representations without 3D Supervision</th></tr></thead><tbody><tr><td>Author</td><td>Michael Niemeyer1,2 Lars Mescheder1,2,3â€  Michael Oechsle1,2,4 Andreas Geiger1,2</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2020</td></tr><tr><td>Project</td><td><a href="https://github.com/autonomousvision/differentiable_volumetric_rendering">autonomousvision/differentiable_volumetric_rendering: This repository contains the code for the CVPR 2020 paper â€œDifferentiable Volumetric Rendering: Learning Implicit 3D Representations without 3D Supervisionâ€ (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4556205053120094209&amp;noteId=1967822994669366784">Differentiable Volumetric Rendering: Learning Implicit 3D Representations without 3D Supervision (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231208100556.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>åŸºäºå­¦ä¹ çš„ä¸‰ç»´é‡å»ºæ–¹æ³•å·²ç»æ˜¾ç¤ºå‡ºä»¤äººå°è±¡æ·±åˆ»çš„ç»“æœã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°æ–¹æ³•éœ€è¦3Dç›‘ç£ï¼Œè¿™é€šå¸¸å¾ˆéš¾è·å¾—çœŸå®ä¸–ç•Œçš„æ•°æ®é›†ã€‚æœ€è¿‘ï¼Œä¸€äº›ç ”ç©¶æå‡ºäº†å¯å¾®åˆ†æ¸²æŸ“æŠ€æœ¯æ¥è®­ç»ƒRGBå›¾åƒçš„é‡å»ºæ¨¡å‹ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™äº›æ–¹æ³•ç›®å‰ä»…é™äºåŸºäºä½“ç´ å’Œç½‘æ ¼çš„è¡¨ç¤ºï¼Œå—åˆ°ç¦»æ•£åŒ–æˆ–ä½åˆ†è¾¨ç‡çš„å½±å“ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç”¨äºéšå¼å½¢çŠ¶å’Œçº¹ç†è¡¨ç¤ºçš„å¯å¾®åˆ†æ¸²æŸ“å…¬å¼ã€‚éšå¼è¡¨å¾æœ€è¿‘è¶Šæ¥è¶Šå—æ¬¢è¿ï¼Œå› ä¸ºå®ƒä»¬è¿ç»­åœ°è¡¨ç¤ºå½¢çŠ¶å’Œçº¹ç†ã€‚æˆ‘ä»¬çš„å…³é”®è§‚ç‚¹æ˜¯æ·±åº¦æ¢¯åº¦å¯ä»¥ä½¿ç”¨éšå¼å¾®åˆ†çš„æ¦‚å¿µè§£æåœ°æ¨å¯¼å‡ºæ¥ã€‚è¿™å…è®¸æˆ‘ä»¬ç›´æ¥ä»RGBå›¾åƒä¸­å­¦ä¹ éšå«çš„å½¢çŠ¶å’Œçº¹ç†è¡¨ç¤ºã€‚æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„å•è§†å›¾é‡å»ºå¯ä»¥ä¸é‚£äº›å®Œå…¨3Dç›‘ç£çš„å­¦ä¹ ç›¸åª²ç¾ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥ç”¨äºå¤šè§†å›¾ä¸‰ç»´é‡å»ºï¼Œç›´æ¥äº§ç”Ÿæ°´å¯†ç½‘æ ¼ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>è¿‘å¹´æ¥ï¼ŒåŸºäºå­¦ä¹ çš„ä¸‰ç»´é‡å»ºæ–¹æ³•å–å¾—äº†ä»¤äººç©ç›®çš„æˆæœ[12,13,17,24,41,48,49,56,64,80]ã€‚é€šè¿‡ä½¿ç”¨åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è·å¾—çš„ä¸°å¯Œçš„å…ˆéªŒçŸ¥è¯†ï¼Œä»–ä»¬èƒ½å¤Ÿä»å•ä¸ªå›¾åƒä¸­æ¨æ–­å‡º3Dæ¨¡å‹ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°åŸºäºå­¦ä¹ çš„æ–¹æ³•éƒ½å±€é™äºåˆæˆæ•°æ®ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä»¬éœ€è¦ç²¾ç¡®çš„ä¸‰ç»´åœ°é¢çœŸå€¼æ¨¡å‹ä½œä¸ºè®­ç»ƒçš„ç›‘ç£ã€‚</p><p>ä¸ºäº†å…‹æœè¿™ä¸€éšœç¢ï¼Œæœ€è¿‘çš„ç ”ç©¶å·¥ä½œå·²ç»ç ”ç©¶äº†åªéœ€è¦ä»¥æ·±åº¦å›¾æˆ–å¤šè§†å›¾å›¾åƒå½¢å¼è¿›è¡Œ2Dç›‘ç£çš„æ–¹æ³•ã€‚å¤§å¤šæ•°ç°æœ‰æ–¹æ³•é€šè¿‡ä¿®æ”¹æ¸²æŸ“è¿‡ç¨‹ä½¿å…¶å¯å¾®æ¥å®ç°è¿™ä¸€ç‚¹[4,11,15,21,33,36,43,44,47,50,58,59,62,75,76,79,88]ã€‚è™½ç„¶äº§ç”Ÿä»¤äººä¿¡æœçš„ç»“æœï¼Œä½†å®ƒä»¬ä»…é™äºç‰¹å®šçš„3Dè¡¨ç¤º(ä¾‹å¦‚ä½“ç´ æˆ–ç½‘æ ¼)ï¼Œè¿™äº›è¡¨ç¤ºå—åˆ°ç¦»æ•£åŒ–ä¼ªå½±çš„å½±å“ï¼Œå¹¶ä¸”è®¡ç®—æˆæœ¬å°†å®ƒä»¬é™åˆ¶åœ¨å°åˆ†è¾¨ç‡æˆ–å˜å½¢å›ºå®šæ¨¡æ¿ç½‘æ ¼ã€‚åŒæ—¶ï¼Œå·²ç»æå‡ºäº†å½¢çŠ¶å’Œçº¹ç†çš„éšå¼è¡¨ç¤º[12,48,56][54,66]ï¼Œå®ƒä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¸éœ€è¦ç¦»æ•£åŒ–ï¼Œå¹¶ä¸”å…·æœ‰æ’å®šçš„å†…å­˜å ç”¨ã€‚ç„¶è€Œï¼Œä½¿ç”¨éšå¼è¡¨ç¤ºçš„ç°æœ‰æ–¹æ³•éœ€è¦3D ground truthè¿›è¡Œè®­ç»ƒï¼Œå¹¶ä¸”å¦‚ä½•ä»…ä»å›¾åƒæ•°æ®ä¸­å­¦ä¹ éšå¼è¡¨ç¤ºä»ç„¶ä¸æ¸…æ¥š</p><p>è´¡çŒ®:åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†å¯å¾®åˆ†ä½“ç§¯æ¸²æŸ“(DVR)ã€‚æˆ‘ä»¬çš„å…³é”®è§è§£æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éšå¼å½¢çŠ¶å’Œçº¹ç†è¡¨ç¤ºçš„ç½‘ç»œå‚æ•°æ¨å¯¼å‡ºé¢„æµ‹æ·±åº¦å›¾çš„åˆ†ææ¢¯åº¦(è§å›¾1)ã€‚è¿™ä¸€è§è§£ä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸ºéšå¼å½¢çŠ¶å’Œçº¹ç†è¡¨ç¤ºè®¾è®¡ä¸€ä¸ªå¯å¾®åˆ†çš„æ¸²æŸ“å™¨ï¼Œå¹¶å…è®¸æˆ‘ä»¬ä»…ä»å¤šè§†å›¾å›¾åƒå’Œå¯¹è±¡è’™ç‰ˆä¸­å­¦ä¹ è¿™äº›è¡¨ç¤ºã€‚ç”±äºæˆ‘ä»¬çš„æ–¹æ³•ä¸éœ€è¦åœ¨å‰å‘ä¼ é€’ä¸­å­˜å‚¨ä½“ç§¯æ•°æ®ï¼Œå› æ­¤å…¶å†…å­˜å ç”¨ä¸æ·±åº¦é¢„æµ‹æ­¥éª¤çš„é‡‡æ ·ç²¾åº¦æ— å…³ã€‚æˆ‘ä»¬è¡¨æ˜ï¼Œæˆ‘ä»¬çš„å…¬å¼å¯ä»¥ç”¨äºå„ç§ä»»åŠ¡ï¼Œå¦‚å•è§†å›¾å’Œå¤šè§†å›¾é‡å»ºï¼Œå¹¶é€‚ç”¨äºåˆæˆå’ŒçœŸå®æ•°æ®ã€‚ä¸[54]ç›¸åï¼Œæˆ‘ä»¬ä¸éœ€è¦å°†çº¹ç†è¡¨ç¤ºé™åˆ¶åœ¨å‡ ä½•ä¸Šï¼Œè€Œæ˜¯å­¦ä¹ ä¸€ä¸ªå…·æœ‰è¡¨ç¤ºå‡ ä½•å’Œçº¹ç†çš„å…±äº«å‚æ•°çš„å•ä¸€æ¨¡å‹ã€‚æˆ‘ä»¬çš„ä»£ç å’Œæ•°æ®æä¾›åœ¨<a href="https://github.com/autonomousvision/å¯å¾®åˆ†ä½“ç»˜åˆ¶ã€‚">https://github.com/autonomousvision/å¯å¾®åˆ†ä½“ç»˜åˆ¶ã€‚</a></p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>3D Representations<br>åŸºäºå­¦ä¹ çš„ä¸‰ç»´é‡å»ºæ–¹æ³•å¯ä»¥åˆ†ä¸ºä¸‰ç±»ã€‚å®ƒä»¬ä½¿ç”¨çš„è¡¨ç¤ºæ–¹å¼æœ‰åŸºäºä½“ç´ çš„[8,13,19,61,64,73,82,83]ï¼ŒåŸºäºç‚¹çš„[2,17,31,40,77,85]ï¼ŒåŸºäºç½‘æ ¼çš„[24,32,41,45,55,80]ï¼Œæˆ–è€…éšå¼è¡¨ç¤º[3,12,22,30,48,49,56,66,81]ã€‚ä½“ç´ å¯ä»¥é€šè¿‡æ ‡å‡†æ·±åº¦å­¦ä¹ æ¶æ„è½»æ¾å¤„ç†ï¼Œä½†å³ä½¿åœ¨ç¨€ç–æ•°æ®ç»“æ„ä¸Šæ“ä½œ[23,64,74]ï¼Œå®ƒä»¬ä¹Ÿä»…é™äºç›¸å¯¹è¾ƒå°çš„åˆ†è¾¨ç‡ã€‚è™½ç„¶åŸºäºç‚¹çš„æ–¹æ³•[2,17,40,77,85]çš„å†…å­˜æ•ˆç‡æ›´é«˜ï¼Œä½†ç”±äºç¼ºå°‘è¿æ¥ä¿¡æ¯ï¼Œå®ƒä»¬éœ€è¦å¯†é›†çš„åå¤„ç†ã€‚å¤§å¤šæ•°åŸºäºç½‘æ ¼çš„æ–¹æ³•ä¸è¿›è¡Œåå¤„ç†ï¼Œä½†å®ƒä»¬é€šå¸¸éœ€è¦ä¸€ä¸ªå¯å˜å½¢çš„æ¨¡æ¿ç½‘æ ¼[80]æˆ–å°†å‡ ä½•å½¢çŠ¶è¡¨ç¤ºä¸º3Dè¡¥ä¸çš„é›†åˆ[24]ï¼Œè¿™ä¼šå¯¼è‡´è‡ªç›¸äº¤å’Œéæ°´å¯†ç½‘æ ¼ã€‚<br>ä¸ºäº†ç¼“è§£è¿™äº›é—®é¢˜ï¼Œéšå¼è¡¨ç¤ºè¶Šæ¥è¶Šå—æ¬¢è¿[3,12,22,30,48,49,53,54,56,66,81]ã€‚é€šè¿‡éšå¼æè¿°ä¸‰ç»´å‡ ä½•å’Œçº¹ç†ï¼Œä¾‹å¦‚ï¼Œä½œä¸ºäºŒå€¼åˆ†ç±»å™¨çš„å†³ç­–è¾¹ç•Œ[12,48]ï¼Œå®ƒä»¬ä¸ä¼šç¦»æ•£ç©ºé—´ï¼Œå¹¶ä¸”å…·æœ‰å›ºå®šçš„å†…å­˜å ç”¨ã€‚<br>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¯æ˜äº†éšå¼è¡¨ç¤ºçš„ä½“ç§¯æ¸²æŸ“æ­¥éª¤æ˜¯å›ºæœ‰å¯å¾®çš„ã€‚ä¸ä¹‹å‰çš„ä½œå“ç›¸æ¯”ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨2Dç›‘ç£å­¦ä¹ éšå«çš„3Då½¢çŠ¶å’Œçº¹ç†è¡¨ç¤ºã€‚</p><p>3D Reconstruction<br>æ¢å¤åœ¨å›¾åƒæ•è·è¿‡ç¨‹ä¸­ä¸¢å¤±çš„3Dä¿¡æ¯æ˜¯è®¡ç®—æœºè§†è§‰çš„é•¿æœŸç›®æ ‡ä¹‹ä¸€[25]ã€‚ç»å…¸çš„å¤šè§†å›¾ç«‹ä½“(MVS)æ–¹æ³•[5 - 7,20,37,60,68 - 70]é€šå¸¸åœ¨ç›¸é‚»è§†å›¾ä¹‹é—´åŒ¹é…ç‰¹å¾[5,20,68]æˆ–åœ¨ä½“ç´ ç½‘æ ¼ä¸­é‡å»ºä¸‰ç»´å½¢çŠ¶[6,7,37,60,70]ã€‚è™½ç„¶å‰ä¸€ç§æ–¹æ³•äº§ç”Ÿæ·±åº¦å›¾ä½œä¸ºè¾“å‡ºï¼Œä½†å¿…é¡»åœ¨æœ‰æŸçš„åå¤„ç†æ­¥éª¤ä¸­è¿›è¡Œèåˆï¼Œä¾‹å¦‚ä½¿ç”¨ä½“ç§¯èåˆ[14]ï¼Œåä¸€ç§æ–¹æ³•å—åˆ°3Dä½“ç´ ç½‘æ ¼è¿‡åº¦å†…å­˜è¦æ±‚çš„é™åˆ¶ã€‚ä¸è¿™äº›é«˜åº¦å·¥ç¨‹åŒ–çš„æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„é€šç”¨æ–¹æ³•ç›´æ¥åœ¨3Dç©ºé—´ä¸­è¾“å‡ºä¸€è‡´çš„è¡¨ç¤ºï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°è½¬æ¢ä¸ºæ°´å¯†ç½‘æ ¼ï¼ŒåŒæ—¶å…·æœ‰æ’å®šçš„å†…å­˜å ç”¨ã€‚<br>æœ€è¿‘ï¼ŒåŸºäºå­¦ä¹ çš„æ–¹æ³•[16,29,39,58,63,86,87]è¢«æå‡ºï¼Œè¦ä¹ˆå­¦ä¹ åŒ¹é…å›¾åƒç‰¹å¾[39]ï¼Œç²¾ç‚¼æˆ–èåˆæ·±åº¦å›¾[16,63]ï¼Œä¼˜åŒ–ç»å…¸MVSç®¡é“çš„éƒ¨åˆ†[57]ï¼Œè¦ä¹ˆç”¨ç«¯åˆ°ç«¯è®­ç»ƒçš„ç¥ç»ç½‘ç»œæ›¿æ¢æ•´ä¸ªMVSç®¡é“[29,86,87]ã€‚ä¸è¿™äº›åŸºäºå­¦ä¹ çš„æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥ä»…ä»2Då›¾åƒè¿›è¡Œç›‘ç£ï¼Œå¹¶è¾“å‡ºä¸€è‡´çš„3Dè¡¨ç¤ºã€‚</p><p>Differentiable Rendering<br>æˆ‘ä»¬ä¸“æ³¨äºé€šè¿‡å¯å¾®æ¸²æŸ“å­¦ä¹ 3Då‡ ä½•çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯æœ€è¿‘çš„ç¥ç»æ¸²æŸ“æ–¹æ³•[42,51,52,71]ï¼Œåè€…åˆæˆé«˜è´¨é‡çš„æ–°è§†å›¾ï¼Œä½†ä¸æ¨æ–­3Dç‰©ä½“ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥æ ¹æ®å®ƒä»¬æ‰€ä½¿ç”¨çš„3Då‡ ä½•å›¾å½¢çš„åº•å±‚è¡¨ç¤ºè¿›è¡Œåˆ†ç±»ã€‚<br>Loperç­‰äºº[47]æå‡ºäº†OpenDRï¼Œå®ƒè¿‘ä¼¼äºä¼ ç»Ÿçš„åŸºäºç½‘æ ¼çš„å›¾å½¢ç®¡é“çš„å‘åä¼ é€’ï¼Œå¹¶å¯å‘äº†åç»­çš„ä¸€äº›å·¥ä½œ[11,21,27,28,33,44,88]ã€‚Liuç­‰äºº[44]ç”¨è½¯ç‰ˆæœ¬æ›¿æ¢æ …æ ¼åŒ–æ­¥éª¤ï¼Œä½¿å…¶å¯å¾®ã€‚è™½ç„¶åœ¨é‡å»ºä»»åŠ¡ä¸­äº§ç”Ÿä»¤äººä¿¡æœçš„ç»“æœï¼Œä½†è¿™äº›æ–¹æ³•éœ€è¦ä¸€ä¸ªå¯å˜å½¢çš„æ¨¡æ¿ç½‘æ ¼è¿›è¡Œè®­ç»ƒï¼Œé™åˆ¶äº†è¾“å‡ºçš„æ‹“æ‰‘ç»“æ„ã€‚<br>å¦ä¸€æ¡å·¥ä½œçº¿åœ¨ä½“ç´ ç½‘æ ¼ä¸Šè¿è¡Œ[46,50,57,79]ã€‚Paschalidouç­‰äºº[57]å’ŒTulsianiç­‰äºº[79]æå‡ºäº†ä¸€ç§æ¦‚ç‡å°„çº¿åŠ¿å…¬å¼ã€‚è™½ç„¶æä¾›äº†ä¸€ä¸ªåšå®çš„æ•°å­¦æ¡†æ¶ï¼Œä½†æ‰€æœ‰ä¸­é—´è¯„ä¼°éƒ½éœ€è¦ä¿å­˜ä»¥è¿›è¡Œåå‘ä¼ æ’­ï¼Œè¿™å°†è¿™äº›æ–¹æ³•é™åˆ¶åœ¨ç›¸å¯¹å°åˆ†è¾¨ç‡çš„ä½“ç´ ç½‘æ ¼ä¸­ã€‚<br>Liuç­‰äºº[45]æå‡ºé€šè¿‡åœ¨å…·æœ‰ç¨€ç–æ•°é‡æ”¯æŒåŒºåŸŸçš„å…‰çº¿äº¤å‰ç‚¹ä¸Šæ‰§è¡Œmax-poolingæ¥æ¨æ–­å¤šè§†å›¾è½®å»“çš„éšå¼è¡¨ç¤ºã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¹ç†ä¿¡æ¯ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ”¹å–„è§†è§‰èˆ¹ä½“å’Œé‡å»ºå‡¹å½¢çŠ¶ã€‚Sitzmannç­‰äºº[72]é€šè¿‡åŸºäºlstmçš„å¯å¾®åˆ†æ¸²æŸ“å™¨ä»RGBå›¾åƒä¸­æ¨æ–­å‡ºéšå«çš„åœºæ™¯è¡¨ç¤ºã€‚åœ¨ç”Ÿæˆé«˜è´¨é‡çš„æ¸²æŸ“å›¾æ—¶ï¼Œä¸èƒ½ç›´æ¥æå–å‡ ä½•å›¾å½¢ï¼Œéœ€è¦å­˜å‚¨ä¸­é—´ç»“æœä»¥ä¾¿è®¡ç®—æ¢¯åº¦ã€‚ç›¸åï¼Œæˆ‘ä»¬è¯æ˜äº†ä½“ç»˜åˆ¶å¯¹äºéšå¼è¡¨ç¤ºæ˜¯å›ºæœ‰å¯å¾®çš„ã€‚å› æ­¤ï¼Œä¸éœ€è¦ä¸ºå‘åä¼ é€’ä¿å­˜ä¸­é—´ç»“æœã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†æˆ‘ä»¬çš„å¯å¾®åˆ†ä½“ç§¯æ¸²æŸ“(DVR)æ–¹æ³•ã€‚æˆ‘ä»¬é¦–å…ˆå®šä¹‰ç”¨äºè¡¨ç¤ºä¸‰ç»´å½¢çŠ¶å’Œçº¹ç†çš„éšå¼ç¥ç»è¡¨ç¤ºã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æä¾›äº†DVRçš„æ­£å¼æè¿°å’Œæ‰€æœ‰ç›¸å…³çš„å®ç°ç»†èŠ‚ã€‚å›¾2æ¦‚è¿°äº†æˆ‘ä»¬çš„æ–¹æ³•</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†å¯å¾®åˆ†ä½“ç§¯æ¸²æŸ“(DVR)ã€‚è§‚å¯Ÿåˆ°ä½“ç»˜åˆ¶å¯¹äºéšå¼è¡¨ç¤ºæ˜¯å›ºæœ‰å¯å¾®çš„ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸ºç›¸å¯¹äºç½‘ç»œå‚æ•°çš„æ·±åº¦æ¢¯åº¦åˆ¶å®šä¸€ä¸ªè§£æè¡¨è¾¾å¼ã€‚æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼ŒDVRä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨æ²¡æœ‰3Dç›‘ç£çš„æƒ…å†µä¸‹ä»å¤šè§†å›¾å›¾åƒä¸­å­¦ä¹ éšå¼3Då½¢çŠ¶è¡¨ç¤ºï¼Œä¸å®Œå…¨3Dç›‘ç£å­¦ä¹ çš„æ¨¡å‹ç›¸åª²ç¾ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„æ¨¡å‹ä¹Ÿå¯ä»¥ç”¨äºå¤šè§†å›¾ä¸‰ç»´é‡å»ºã€‚æˆ‘ä»¬è®¤ä¸ºDVRæ˜¯ä¸€ç§æœ‰ç”¨çš„æŠ€æœ¯ï¼Œå®ƒæ‹“å®½äº†éšå¼å½¢çŠ¶å’Œçº¹ç†è¡¨ç¤ºçš„åº”ç”¨èŒƒå›´ã€‚åœ¨æœªæ¥ï¼Œæˆ‘ä»¬è®¡åˆ’ç ”ç©¶å¦‚ä½•è§„é¿å¯¹ç‰©ä½“è’™ç‰ˆå’Œç›¸æœºä¿¡æ¯çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡é¢„æµ‹è½¯è’™ç‰ˆï¼Œä»¥åŠå¦‚ä½•ä¸ä»…ä¼°è®¡çº¹ç†ï¼Œè¿˜ä¼°è®¡æ›´å¤æ‚çš„ææ–™å±æ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Image-Based 3D Object Reconstruction</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/Image-Based%203D%20Object%20Reconstruction/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/Image-Based%203D%20Object%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Image-based 3D Object Reconstruction: State-of-the-Art and Trends in the Deep Learning Era</th></tr></thead><tbody><tr><td>Author</td><td>Xian-Feng Han<em>, Hamid Laga</em>, Mohammed Bennamoun Senior Member, IEEE</td></tr><tr><td>Conf/Jour</td><td>IEEE Transactions on Pattern Analysis and Machine Intelligence</td></tr><tr><td>Year</td><td>2019</td></tr><tr><td>Project</td><td></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4500339722630619137&amp;noteId=2082170288520054016">Image-Based 3D Object Reconstruction: State-of-the-Art and Trends in the Deep Learning Era (readpaper.com)</a></td></tr></tbody></table></div><span id="more"></span><p><a href="https://cloud.tencent.com/developer/article/2127922">æœ€æ–°ç»¼è¿°ï¼šæ·±åº¦å­¦ä¹ å›¾åƒä¸‰ç»´é‡å»ºæœ€æ–°æ–¹æ³•åŠæœªæ¥è¶‹åŠ¿-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Structured Light Review</title>
      <link href="/3DReconstruction/Other%20Methods/Structured%20Light/Structured%20Light%20Review/"/>
      <url>/3DReconstruction/Other%20Methods/Structured%20Light/Structured%20Light%20Review/</url>
      
        <content type="html"><![CDATA[<p>ç»“æ„å…‰ä¸‰ç»´é‡å»º</p><span id="more"></span><p>å‚è€ƒï¼š<br><a href="https://zhuanlan.zhihu.com/p/54761392">ç»“æ„å…‰ç»¼è¿° - çŸ¥ä¹ (zhihu.com)</a></p><ul><li><a href="http://www.rtbasics.com/Downloads/IEEE_structured_light.pdf">http://www.rtbasics.com/Downloads/IEEE_structured_light.pdf</a></li><li><a href="http://www.sci.utah.edu/~gerig/CS6320-S2015/CS6320_3D_Computer_Vision.html">CS6320 3D Computer Vision (utah.edu)</a></li><li><a href="http://mesh.brown.edu/byo3d/source.html">Build Your Own 3D Scanner: Optical Triangulation for Beginners (brown.edu)</a><br><a href="https://www.oakchina.cn/2023/05/16/3_depth_cams/">åŒç›®ã€ç»“æ„å…‰ã€tofï¼Œä¸‰ç§æ·±åº¦ç›¸æœºçš„åŸç†åŒºåˆ«çœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼ - (oakchina.cn)</a><br><a href="https://zhuanlan.zhihu.com/p/103702759">ä¸‰ç§ä¸»æµæ·±åº¦ç›¸æœºä»‹ç» - çŸ¥ä¹ (zhihu.com)</a> ç»“æ„å…‰ç›¸æœºä»£è¡¨å…¬å¸æœ‰å¥¥æ¯”ä¸­å…‰ï¼Œè‹¹æœ(Prime Sense)ï¼Œå¾®è½¯ Kinect-1ï¼Œè‹±ç‰¹å°” RealSense, Mantis Vision ç­‰ã€‚<br><a href="https://github.com/jiayuzhang128/FourStepPhaseShifting/blob/master/support/%E7%BB%93%E6%9E%84%E5%85%89%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BA.pdf">FourStepPhaseShifting/support/ç»“æ„å…‰ä¸‰ç»´é‡å»º.pdf</a><br><a href="https://zhuanlan.zhihu.com/p/29971801">ç»“æ„å…‰ç®€å² - çŸ¥ä¹ (zhihu.com)</a></li></ul><h1 id="ç»“æ„å…‰åŸç†"><a href="#ç»“æ„å…‰åŸç†" class="headerlink" title="ç»“æ„å…‰åŸç†"></a>ç»“æ„å…‰åŸç†</h1><p>ç»“æ„å…‰ä¸»è¦å¯ä»¥åˆ†ä¸ºä¸¤ç±»</p><ol><li>çº¿æ‰«æç»“æ„å…‰ï¼›çº¿æ‰«æç»“æ„å…‰è¾ƒä¹‹é¢é˜µç»“æ„å…‰è¾ƒä¸ºç®€å•ï¼Œç²¾åº¦ä¹Ÿæ¯”è¾ƒé«˜ï¼Œåœ¨å·¥ä¸šä¸­å¹¿æ³›ç”¨äºç‰©ä½“ä½“ç§¯æµ‹é‡ã€ä¸‰ç»´æˆåƒç­‰é¢†åŸŸã€‚</li><li>é¢é˜µç»“æ„å…‰ï¼›</li></ol><h2 id="çº¿æ‰«æç»“æ„å…‰"><a href="#çº¿æ‰«æç»“æ„å…‰" class="headerlink" title="çº¿æ‰«æç»“æ„å…‰"></a>çº¿æ‰«æç»“æ„å…‰</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231202200426.png" alt="image.png|666"></p><p>ç”±å°å­”æˆåƒæ¨¡å‹æœ‰ $\frac Xx=\frac Zf=\frac Yy$<br>ç”±ä¸‰è§’æµ‹é‡åŸç†åˆæœ‰ $\tan\alpha=\frac Z{b-X}$<br>ä¸¤å¼è”ç«‹åˆ™æœ‰<br>$\begin{aligned}&amp;Z=\frac Xx\cdot f=\tan\alpha\cdot(b-X)\\&amp;X\cdot(\frac fx+\tan\alpha)=\tan\alpha\cdot b\end{aligned}$</p><p>å¯å¾—ï¼Œæ‰€æµ‹ç‰©ä½“ç‚¹çš„ä¸‰ç»´åæ ‡ä¸ä¿¯ä»°è§’ $\gamma$ æ— å…³<br>$\begin{aligned}X&amp;=\frac{\tan\alpha\cdot b\cdot x}{f+x\cdot\tan\alpha}\\Y&amp;=\frac{\tan\alpha\cdot b\cdot y}{f+x\cdot\tan\alpha}\\Z&amp;=\frac{\tan\alpha\cdot b\cdot f}{f+x\cdot\tan\alpha}\end{aligned}$</p><h2 id="é¢é˜µç»“æ„å…‰"><a href="#é¢é˜µç»“æ„å…‰" class="headerlink" title="é¢é˜µç»“æ„å…‰"></a>é¢é˜µç»“æ„å…‰</h2><p>é¢é˜µç»“æ„å…‰å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š<strong>éšæœºç»“æ„å…‰</strong>å’Œ<strong>ç¼–ç ç»“æ„å…‰</strong>ã€‚</p><ul><li>éšæœºç»“æ„å…‰è¾ƒä¸ºç®€å•ï¼Œä¹Ÿæ›´åŠ å¸¸ç”¨ã€‚é€šè¿‡æŠ•å½±å™¨å‘è¢«æµ‹ç©ºé—´ä¸­æŠ•å°„<strong>äº®åº¦ä¸å‡</strong>å’Œ<strong>éšæœºåˆ†å¸ƒ</strong>çš„ç‚¹çŠ¶ç»“æ„å…‰ï¼Œé€šè¿‡åŒç›®ç›¸æœºæˆåƒï¼Œæ‰€å¾—çš„åŒç›®å½±åƒç»è¿‡æçº¿æ ¡æ­£åå†è¿›è¡ŒåŒç›®ç¨ å¯†åŒ¹é…ï¼Œå³å¯é‡å»ºå‡ºå¯¹åº”çš„æ·±åº¦å›¾ã€‚å¦‚ä¸‹å›¾ä¸ºæŸç§é¢é˜µçš„çº¢å¤–ç»“æ„å…‰ã€‚(å’Œæ™®é€šåŒç›®ç®—æ³•å¾ˆç›¸ä¼¼)</li><li>ç¼–ç ç»“æ„å…‰å¯åˆ†ä¸ºï¼š<ul><li>æ—¶åºç¼–ç ï¼šé«˜ç²¾åº¦ï¼Œ<strong>ä½†åªé€‚ç”¨äºé™æ€åœºæ™¯ä¸”éœ€è¦æ‹æ‘„å¤§é‡å½±åƒ</strong></li><li>ç©ºé—´ç¼–ç ï¼šæ— éœ€å¤šå¼ ç…§ç‰‡ï¼Œåªéœ€è¦ä¸€å¯¹å½±åƒå³å¯è¿›è¡Œä¸‰ç»´é‡å»ºã€‚å¯ä»¥æ»¡è¶³å®æ—¶å¤„ç†ï¼Œç”¨åœ¨åŠ¨æ€ç¯å¢ƒä¸­ï¼Œ<strong>ä½†æ˜“å—å™ªå£°å¹²æ‰°</strong>ï¼šç”±äºåå…‰ã€ç…§æ˜ç­‰åŸå› å¯èƒ½å¯¼è‡´æˆåƒæ—¶éƒ¨åˆ†åŒºåŸŸç­‰ç¼–ç ä¿¡æ¯ç¼ºå¤±ï¼›<strong>å¯¹äºç©ºé—´ä¸­çš„é®æŒ¡æ¯”è¾ƒæ•æ„Ÿ</strong>ï¼›ç›¸è¾ƒäºæ—¶åºç¼–ç ç»“æ„å…‰<strong>ç²¾åº¦è¾ƒä½</strong></li></ul></li></ul><p><strong>æ—¶åºç¼–ç ç»“æ„å…‰</strong><br>åœ¨ä¸€å®šæ—¶é—´èŒƒå›´å†…ï¼Œé€šè¿‡æŠ•å½±å™¨å‘è¢«æµ‹ç©ºé—´æŠ•å°„<strong>ä¸€ç³»åˆ—</strong>æ˜æš—ä¸åŒçš„ç»“æ„å…‰ï¼Œæ¯æ¬¡æŠ•å½±éƒ½é€šè¿‡ç›¸æœºè¿›è¡Œæˆåƒã€‚åˆ™é€šè¿‡æŸ¥æ‰¾å…·æœ‰ç›¸åŒç¼–ç å€¼çš„åƒç´ ï¼Œæ¥è¿›è¡ŒåŒç›®åŒ¹é…</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231202204148.png" alt="image.png|666"></p><p><strong>ç©ºé—´ç¼–ç ç»“æ„å…‰</strong><br>ä¸ºæ»¡è¶³åŠ¨æ€åœºæ™¯çš„éœ€è¦ï¼Œå¯ä»¥é‡‡ç”¨ç©ºé—´ç¼–ç ç»“æ„å…‰ã€‚ç©ºé—´ç¼–ç ç»“æ„å…‰ç‰¹æŒ‡å‘è¢«æµ‹ç©ºé—´ä¸­æŠ•å½±ç»è¿‡æ•°å­¦ç¼–ç çš„ã€ä¸€å®šèŒƒå›´å†…çš„å…‰æ–‘ä¸å…·å¤‡é‡å¤æ€§çš„ç»“æ„å…‰ã€‚ç”±æ­¤ï¼ŒæŸä¸ªç‚¹çš„ç¼–ç å€¼å¯ä»¥é€šè¿‡å…¶ä¸´åŸŸè·å¾—ã€‚å…¶ä¸­ï¼ŒåŒ…å«ä¸€ä¸ªå®Œæ•´çš„ç©ºé—´ç¼–ç çš„åƒç´ æ•°é‡ï¼ˆçª—å£å¤§å°ï¼‰å°±å†³å®šäº†é‡å»ºçš„ç²¾åº¦</p><p>De Bruijn sequence</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231202204800.png" alt="image.png|666"></p><p>2D Spatial Grid Patterns<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231202204925.png" alt="image.png|666"></p><h1 id="ç»“æ„å…‰ä¸‰ç»´é‡å»ºé¡¹ç›®"><a href="#ç»“æ„å…‰ä¸‰ç»´é‡å»ºé¡¹ç›®" class="headerlink" title="ç»“æ„å…‰ä¸‰ç»´é‡å»ºé¡¹ç›®"></a>ç»“æ„å…‰ä¸‰ç»´é‡å»ºé¡¹ç›®</h1><p>å‡ ä¸ª Github é¡¹ç›®ï¼š</p><ul><li><a href="https://github.com/Tang1705/Happy-Reconstruction">Tang1705/Happy-Reconstruction</a></li><li><a href="https://github.com/jiayuzhang128/FourStepPhaseShifting">jiayuzhang128/FourStepPhaseShifting</a></li><li><a href="https://github.com/timbrist/structure-light">3D reconstruction with Structure Light</a></li><li><a href="https://github.com/casparji1018921/-Structured-Light-3D-Reconstruction-">Structured-Light-3D-Reconstructionåˆ†äº«å’Œäº¤æµ</a></li></ul><h2 id="FourStepPhaseShifting"><a href="#FourStepPhaseShifting" class="headerlink" title="FourStepPhaseShifting"></a>FourStepPhaseShifting</h2><p><a href="https://github.com/jiayuzhang128/FourStepPhaseShifting">jiayuzhang128/FourStepPhaseShifting</a></p><p>ä½¿ç”¨â€äº’è¡¥æ ¼é›·ç +ç›¸ç§»ç â€æ–¹æ³•è·å–è¢«æµ‹ç‰©ä½“çš„ä¸‰ç»´ä¿¡æ¯<br>ç›¸æœºæ ‡å®šè·å¾—ç›¸æœºå†…å¤–å‚</p><h3 id="ç¡¬ä»¶è®¾å¤‡æ­å»º"><a href="#ç¡¬ä»¶è®¾å¤‡æ­å»º" class="headerlink" title="ç¡¬ä»¶è®¾å¤‡æ­å»º"></a>ç¡¬ä»¶è®¾å¤‡æ­å»º</h3><ul><li>DLP æŠ•å½±ä»ªï¼šé—»äº­ PRO6500</li><li>ç°åº¦ç›¸æœºï¼šFLIR BFS-U3-50S5</li><li>æ—‹è½¬å¹³å°</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231203175408.png" alt="image.png|666"></p><h3 id="æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š"><a href="#æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š" class="headerlink" title="æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š"></a>æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š</h3><p><a href="https://blog.csdn.net/qq_40918859/article/details/122503156">æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®šæ–¹æ³•_æŠ•å½±ä»ªæ ‡å®š-CSDNåšå®¢</a><br><a href="http://mesh.brown.edu/calibration/">Projector-Camera Calibration / 3D Scanning Software (brown.edu)</a></p><h4 id="ä¸€èˆ¬ç›¸æœºæ ‡å®š"><a href="#ä¸€èˆ¬ç›¸æœºæ ‡å®š" class="headerlink" title="ä¸€èˆ¬ç›¸æœºæ ‡å®š"></a>ä¸€èˆ¬ç›¸æœºæ ‡å®š</h4><p>â€”&gt;å¾—åˆ°ç²¾ç¡®çš„ç›¸æœºå†…å¤–å‚å’Œç•¸å˜å‚æ•°<br><a href="https://zhuanlan.zhihu.com/p/136827980">å¼ æ­£å‹æ ‡å®šæ³•-å®Œæ•´å­¦ä¹ ç¬”è®°-ä»åŸç†åˆ°å®æˆ˜ - çŸ¥ä¹ (zhihu.com)</a></p><ul><li>ç›¸æœºæ ‡å®šçš„ç›®çš„æ˜¯ï¼š<strong>å»ºç«‹ç›¸æœºæˆåƒå‡ ä½•æ¨¡å‹å¹¶çŸ«æ­£é€é•œç•¸å˜</strong><ul><li>å»ºç«‹ç‰©ä½“ä»ä¸‰ç»´ä¸–ç•Œæ˜ å°„åˆ°ç›¸æœºæˆåƒå¹³é¢è¿™ä¸€è¿‡ç¨‹ä¸­çš„å‡ ä½•æ¨¡å‹éå¸¸é‡è¦ï¼Œè€Œè¿™ä¸€è¿‡ç¨‹æœ€å…³é”®çš„éƒ¨åˆ†å°±æ˜¯è¦å¾—åˆ°ç›¸æœºçš„å†…å‚å’Œå¤–å‚</li><li>ç”±äºå°å­”æˆåƒåªæœ‰å°å­”éƒ¨åˆ†èƒ½é€è¿‡å…‰çº¿å°±ä¼šå¯¼è‡´ç‰©ä½“çš„æˆåƒäº®åº¦å¾ˆä½ï¼Œå› æ­¤å‘æ˜äº†é€é•œï¼Œä½†ç”±äºé€é•œçš„åˆ¶é€ å·¥è‰ºï¼Œä¼šä½¿æˆåƒäº§ç”Ÿå¤šç§å½¢å¼çš„ç•¸å˜</li></ul></li></ul><p>é€é•œçš„ç•¸å˜ä¸»è¦åˆ†ä¸ºå¾„å‘ç•¸å˜å’Œåˆ‡å‘ç•¸å˜ï¼Œæˆ‘ä»¬ä¸€å…±éœ€è¦ 5 ä¸ª 3 ä¸ªç•¸å˜å‚æ•°ï¼ˆk1ã€k2ã€k3ã€p1 å’Œ p2 ï¼‰æ¥æè¿°é€é•œç•¸å˜</p><ul><li>å¾„å‘ç•¸å˜æ˜¯ç”±äºé€é•œå½¢çŠ¶çš„åˆ¶é€ å·¥è‰ºå¯¼è‡´ã€‚ä¸”è¶Šå‘é€é•œè¾¹ç¼˜ç§»åŠ¨å¾„å‘ç•¸å˜è¶Šä¸¥é‡</li><li>åˆ‡å‘ç•¸å˜æ˜¯ç”±äºé€é•œå’Œ CMOS æˆ–è€… CCD çš„å®‰è£…ä½ç½®è¯¯å·®å¯¼è‡´ã€‚å› æ­¤ï¼Œå¦‚æœå­˜åœ¨åˆ‡å‘ç•¸å˜ï¼Œä¸€ä¸ªçŸ©å½¢è¢«æŠ•å½±åˆ°æˆåƒå¹³é¢ä¸Šæ—¶ï¼Œå¾ˆå¯èƒ½ä¼šå˜æˆä¸€ä¸ªæ¢¯å½¢</li></ul><p>æ ‡å®šè¿‡ç¨‹ï¼šå›ºå®šç›¸æœºï¼Œæ”¹å˜æ£‹ç›˜æ ‡å®šæ¿çš„ä½å§¿ï¼Œä¸€èˆ¬æ‹æ‘„ 20 ç»„ä»¥ä¸Šç…§ç‰‡</p><ul><li>æ ¹æ®ä¸¤å¼ å›¾ç‰‡ä¸­æ£‹ç›˜ç‰¹å¾ç‚¹çš„ä¸–ç•Œåæ ‡ä½ç½®å’Œåƒç´ åæ ‡ä½ç½®ï¼Œå¯ä»¥å¾—åˆ°å•åº”æ€§çŸ©é˜µ(ç‰¹å¾ç‚¹ä»ä¸€å¼ å›¾ç‰‡å˜æ¢åˆ°å¦ä¸€å¼ å›¾ç‰‡çš„<strong>å˜æ¢çŸ©é˜µ</strong>ï¼Œå•åº”æ€§çŸ©é˜µ<strong>H æ˜¯å†…å‚çŸ©é˜µå’Œå¤–å‚çŸ©é˜µçš„æ··åˆä½“</strong>)</li><li>å…ˆä¸è€ƒè™‘é•œå¤´ç•¸å˜ï¼Œæ ¹æ®æ—‹è½¬å‘é‡ä¹‹é—´çš„ä¸¤ä¸ªçº¦æŸå…³ç³»å’Œå•åº”æ€§çŸ©é˜µï¼Œå¾—åˆ°ç›¸æœºçš„å†…å‚<ul><li>å¦‚æœå›¾ç‰‡æ•°é‡ n&gt;=3ï¼Œå°±å¯ä»¥å¾—åˆ°å”¯ä¸€è§£ b(ç›¸æœºå†…å‚)</li></ul></li><li>ä¸Šè¿°åªæ˜¯ç†è®ºè¿‡ç¨‹ï¼Œåœ¨å®é™…æ ‡å®šè¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬ä½¿ç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡è¿›è¡Œä¼˜åŒ–</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231203104443.png" alt="image.png|666"></p><p>æ ‡å®šå®æˆ˜<br>MATLAB è‡ªå¸¦ç›¸æœºæ ‡å®šåº”ç”¨ç¨‹åºï¼Œæœ‰ camera calibrator å’Œ stereo camera calibrator ä¸¤ç±»ç›¸æœºæ ‡å®šåº”ç”¨ç¨‹åºã€‚å…¶æ“ä½œç®€å•ã€ç›´è§‚ï¼Œèƒ½å¤Ÿè·å¾—ç›¸æœºçš„å†…ã€å¤–å‚æ•°ä»¥åŠç•¸å˜å‚æ•°ç­‰</p><h4 id="æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š-1"><a href="#æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š-1" class="headerlink" title="æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š"></a>æŠ•å½±ä»ª-ç›¸æœºç³»ç»Ÿæ ‡å®š</h4><p><a href="http://mesh.brown.edu/calibration/">Projector-Camera Calibration / 3D Scanning Software (brown.edu)</a></p><p>ç”¨å¸¦æœ‰å¾„å‘å’Œåˆ‡å‘ç•¸å˜çš„<strong>å°å­”æ¨¡å‹</strong>æè¿°ç›¸æœºå’ŒæŠ•å½±ä»ª <a href="https://blog.csdn.net/qq_40918859/article/details/122271381">ç›¸æœºæ¨¡å‹</a></p><h3 id="åŸºäºç›¸ç§»æ³•çš„ç»“æ„å…‰ä¸‰ç»´é‡å»º"><a href="#åŸºäºç›¸ç§»æ³•çš„ç»“æ„å…‰ä¸‰ç»´é‡å»º" class="headerlink" title="åŸºäºç›¸ç§»æ³•çš„ç»“æ„å…‰ä¸‰ç»´é‡å»º"></a>åŸºäºç›¸ç§»æ³•çš„ç»“æ„å…‰ä¸‰ç»´é‡å»º</h3><p>äº’è¡¥æ ¼é›·ç +ç›¸ç§»ç  <a href="https://github.com/jiayuzhang128/FourStepPhaseShifting/blob/master/support/%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D.pdf">FourStepPhaseShifting/support/åŸç†ä»‹ç».pdf</a> or <a href="https://blog.csdn.net/qq_40918859/article/details/120575820">CSDN1</a> + <a href="https://blog.csdn.net/qq_40918859/article/details/127763190">CSDN2</a></p><p>ç›¸ç§»æ³•çš„ç»“æ„å…‰é€šè¿‡æŠ•å½±ä»ªæŠ•å°„ä¸€ç³»åˆ—æ­£å¼¦ç¼–ç çš„æ¡çº¹å›¾æ¡ˆåˆ°è¢«æµ‹ç‰©ä½“è¡¨é¢ï¼Œç„¶åé€šè¿‡ç›¸æœºé‡‡é›†å‘ç”Ÿå½¢å˜çš„æ¡çº¹å›¾åƒï¼Œç»§è€Œæ ¹æ®ç›¸ç§»ç®—æ³•è¿›è¡Œè§£ç è·å¾—å¾…æµ‹ç‰©ä½“è¡¨é¢çš„æ·±åº¦ä¿¡æ¯</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231203111427.png" alt="image.png|666"></p><h4 id="ç”Ÿæˆå››æ­¥ç›¸ç§»å›¾åƒ"><a href="#ç”Ÿæˆå››æ­¥ç›¸ç§»å›¾åƒ" class="headerlink" title="ç”Ÿæˆå››æ­¥ç›¸ç§»å›¾åƒ"></a>ç”Ÿæˆå››æ­¥ç›¸ç§»å›¾åƒ</h4><p>N æ­¥ç›¸ç§»ç ï¼šé¦–å…ˆç›¸ç§»ç çš„åŸç†æ˜¯åˆ©ç”¨ N å¹…æ­£å¼¦æ¡çº¹å›¾é€šè¿‡æŠ•å½±ä»ªæŠ•å°„åˆ°ç‰©ä½“è¡¨é¢å†é€šè¿‡ç›¸æœºæ‹æ‘„è·å–å›¾åƒï¼Œé€šè¿‡æ‰€å¾—å›¾åƒè®¡ç®—æ¯ä¸ªä½ç½®çš„ç›¸ä½å·®ï¼Œç„¶åé€šè¿‡ç›¸ä½â€”æ·±åº¦çš„æ˜ å°„å…³ç³»è·å–ç‰©ä½“çš„æ·±åº¦ä¿¡æ¯ã€‚</p><p>æŠ•å½±å…‰æ …çš„å…‰å¼ºå‡½æ•°<br>$\begin{aligned}&amp;I_n(x,y)=A(x,y)+B(x,y)cos[\varphi(x,y)+\Delta\varphi_n]\\{}\\&amp;\Delta\varphi_n=2\pi(n-1)/N(n\in[1,N])\end{aligned}$</p><ul><li>A(x,y)è¡¨ç¤ºèƒŒæ™¯å…‰å¼ºï¼ŒB(x,y)è¡¨ç¤ºè°ƒåˆ¶å¹…å€¼</li><li>$\varphi(x,y)$ è¡¨ç¤ºåŒ…è£¹ç›¸ä½ï¼ˆç›¸å¯¹ç›¸ä½ï¼‰</li><li>$\Delta\varphi_n$ è¡¨ç¤ºå¹³ç§»ç›¸ä½</li></ul><p>ç”±äºé€‰ç”¨ 4 ä½æ ¼é›·ç +å››æ­¥ç›¸ç§»ï¼Œç¼–ç åŒºåŸŸå¯ä»¥åˆ†ä¸º 16ï¼Œå› æ­¤ç›¸ç§»ç çš„å‘¨æœŸæ•°ï¼Œå‘¨æœŸ $T=Width/f$<br>$\varphi(x,y)=\frac{2\pi fx}{Width}$ Width è¡¨ç¤ºå›¾åƒå®½åº¦(å•ä½:åƒç´ )</p><p>ç›¸ç§»æ¡çº¹å›¾(ä¸‹)ç”Ÿæˆå…¬å¼ï¼Œ$u_p,v_p$ è¡¨ç¤ºæŠ•å½±ä»ªåƒç´ åæ ‡ï¼›T è¡¨ç¤ºå•æ ¹æ¡çº¹åœ¨ä¸€ä¸ªå‘¨æœŸå†…çš„åƒç´ æ•°é‡<br>$\begin{gathered}\begin{aligned}&amp;I_0(u_p,\nu_p)=0.5+0.5\cos(2\pi\frac{u_p}T) \\&amp;I_{1}(u_{p},\nu_{p})=0.5+0.5\cos(2\pi\frac{u_{p}}{T}+\frac{\pi}{2}) \\&amp;I_2(u_p,\nu_p)=0.5+0.5\cos(2\pi\frac{u_p}T+\pi) \\&amp;I_{3}(u_{p},\nu_{p})=0.5+0.5\cos(2\pi\frac{u_{p}}{T}+\frac{3\pi}{2})\end{aligned} \end{gathered}$</p><p>ä»£ç ç”Ÿæˆï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆä¸€ä¸ª 1920 ç»´çš„è¡Œå‘é‡ï¼› </li><li>ç¬¬äºŒæ­¥ï¼šåˆ©ç”¨å…¬å¼ $I(x,y)=128+127cos[2\pi(\frac{fx}{Width}+\frac{n-1}N)]$ å¯¹æ¯ä¸€ä¸ªå‘é‡å…ƒç´ è¿›è¡Œå¡«å……ï¼› </li><li>ç¬¬ä¸‰æ­¥ï¼šåˆ©ç”¨ <code>np.Tile()</code> å‡½æ•°ç”Ÿæˆ 1080 è¡Œï¼Œå¾—åˆ° <code>1920*1080</code> çš„çŸ©é˜µï¼› </li><li>ç¬¬å››æ­¥ï¼šåˆ©ç”¨ <code>cv2.imshow()</code> å‡½æ•°æ˜¾ç¤ºã€‚</li></ul><h4 id="æ ¼é›·ç -ä¸­"><a href="#æ ¼é›·ç -ä¸­" class="headerlink" title="æ ¼é›·ç (ä¸­)"></a>æ ¼é›·ç (ä¸­)</h4><p>ä¸€ç§äºŒè¿›åˆ¶ç åˆ¶ï¼Œæ˜¯ä¸€ç§æ— æƒç ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯å‰åç›¸é‚»ç å€¼åªæ”¹å˜ä¸€ä½æ•°ï¼Œè¿™æ ·å¯ä»¥å‡å°é”™ä½è¯¯å·®ï¼Œå› æ­¤åˆç§°ä¸ºæœ€å°é”™ä½è¯¯å·®ç ã€‚</p><div class="table-container"><table><thead><tr><th>åè¿›åˆ¶æ•°</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th></tr></thead><tbody><tr><td>æ ¼é›·ç </td><td>0000</td><td>0001</td><td>0011</td><td>0010</td><td>0110</td><td>0111</td><td>0101</td><td>0100</td><td>1100</td><td>1101</td><td>1111</td><td>1110</td><td>1010</td><td>1011</td><td>1001</td><td>1000</td></tr></tbody></table></div><p>ç”Ÿæˆ n ä½æ ¼é›·ç :</p><ul><li>ä¼ ç»Ÿæ–¹æ³•<ul><li>ç¬¬ä¸€æ­¥ï¼Œç”Ÿæˆ n ä½å…¨é›¶ç  </li><li>ç¬¬äºŒæ­¥ï¼Œæ”¹å˜æœ€å³ç«¯çš„ç å€¼ </li><li>ç¬¬ä¸‰æ­¥ï¼Œæ”¹å˜è‡ªå³èµ·ç¬¬ä¸€ä¸ªâ€œ1â€ç å…ƒå·¦è¾¹çš„ç å…ƒ </li><li>é‡å¤ç¬¬äºŒã€ä¸‰æ­¥ç›´è‡³å¾—åˆ° 2^n ä¸ªæ ¼é›·ç </li></ul></li><li>é€’å½’æ³•ï¼šn ä½æ ¼é›·ç å¯ä»¥ç”±ï¼ˆn-1ï¼‰ä½æ ¼é›·ç å¾—åˆ°<ul><li>ç¬¬ä¸€æ­¥ï¼šï¼ˆn-1ï¼‰ä½æ ¼é›·ç æ­£åºæ’åˆ—æœ€å·¦ä¾§ï¼ˆå‰ç¼€ï¼‰è¡¥ 0 </li><li>ç¬¬äºŒæ­¥ï¼šï¼ˆn-1ï¼‰ä½æ ¼é›·ç é€†åºæ’åˆ—æœ€å·¦ä¾§ï¼ˆå‰ç¼€ï¼‰è¡¥ 1 </li><li>ç¬¬ä¸‰æ­¥ï¼šä¸€ã€äºŒæ­¥å¾—åˆ°ç»“æœä¾æ¬¡æ’åˆ—å¾—åˆ° n ä½æ ¼é›·ç </li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">é€’å½’æ³•ï¼š</span><br><span class="line">1ä½ï¼š0 1 </span><br><span class="line">æ­£åº 00 01 </span><br><span class="line">é€†åº 11 10 </span><br><span class="line">2ä½ï¼š00 01 11 10 </span><br><span class="line">æ­£åº 000 001 011 010 </span><br><span class="line">é€†åº 110 111 101 100 </span><br><span class="line">3ä½ï¼š000 001 011 010 110 111 101 100</span><br><span class="line">æ­£åº 0000 0001 0011 0010 0110 0111 0101 0100</span><br><span class="line">é€†åº 1100 1101 1111 1110 1010 1011 1001 1000</span><br><span class="line">4ä½ï¼š0000 0001 0011 0010 0110 0111 0101 0100 1100 1101 1111 1110 1010 1011 1001 1000</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>æ ¼é›·ç ä¸æ™®é€šäºŒè¿›åˆ¶ç çš„è½¬æ¢</p><ul><li>ä¼ ç»Ÿæ–¹æ³•ï¼š<ul><li>äºŒè¿›åˆ¶ç â€”&gt;æ ¼é›·ç ï¼šäºŒè¿›åˆ¶ç ä¸å…¶å³ç§»ä¸€ä½é«˜ä½è¡¥é›¶åçš„æ•°ç å¼‚æˆ–åå¾—åˆ°æ ¼é›·ç </li><li>æ ¼é›·ç â€”&gt;äºŒè¿›åˆ¶ç ï¼šæœ€å·¦è¾¹çš„ä¸€ä½ä¸å˜ï¼Œä»å·¦è¾¹ç¬¬äºŒä½èµ·ï¼Œå°†æ¯ä½ä¸å·¦è¾¹ä¸€ä½è§£ç åçš„å€¼å¼‚æˆ–ï¼Œä½œä¸ºè¯¥ä½è§£ç åçš„å€¼ã€‚ä¾æ¬¡å¼‚æˆ–ï¼Œç›´åˆ°æœ€ä½ä½ã€‚ä¾æ¬¡å¼‚æˆ–è½¬æ¢åçš„å€¼ï¼ˆäºŒè¿›åˆ¶æ•°ï¼‰å°±æ˜¯æ ¼é›·ç è½¬æ¢åäºŒè¿›åˆ¶ç çš„å€¼</li></ul></li></ul><p>åœ¨ç”Ÿæˆæ ¼é›·ç çš„åŒæ—¶ï¼Œå°†æ¯ä¸€ä½æ ¼é›·ç ä¸å…¶å¯¹åº”çš„åè¿›åˆ¶æ•°ç»„æˆé”®å€¼å¯¹å‚¨å­˜åœ¨å­—å…¸ä¸­ï¼Œè¿™æ ·åœ¨è¿›è¡ŒäºŒè¿›åˆ¶ç ã€æ ¼é›·ç ã€åè¿›åˆ¶ç›¸äº’è½¬æ¢æ—¶å¯ä»¥ç›´æ¥æŸ¥è¯¢å­—å…¸å®Œæˆæ¯”è¾ƒæ–¹ä¾¿<br>æœ¬é¡¹ç›®é‡‡ç”¨çš„äº’è¡¥æ ¼é›·ç ï¼Œéœ€è¦ 4 ä½æ ¼é›·ç å›¾å’Œ 5 ä½æ ¼é›·ç çš„æœ€åä¸€å¼ ï¼Œè¯¦ç»†ä»£ç å¯ä»¥æŸ¥çœ‹ python ç‰ˆæœ¬ä»£ç ã€‚</p><h4 id="æŠ•å½±è·å¾—å›¾åƒ"><a href="#æŠ•å½±è·å¾—å›¾åƒ" class="headerlink" title="æŠ•å½±è·å¾—å›¾åƒ"></a>æŠ•å½±è·å¾—å›¾åƒ</h4><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231203111447.png" alt="image.png|666"></p><h4 id="æ±‚è§£ç›¸å¯¹ç›¸ä½-åŒ…è£¹ç›¸ä½"><a href="#æ±‚è§£ç›¸å¯¹ç›¸ä½-åŒ…è£¹ç›¸ä½" class="headerlink" title="æ±‚è§£ç›¸å¯¹ç›¸ä½(åŒ…è£¹ç›¸ä½)"></a>æ±‚è§£ç›¸å¯¹ç›¸ä½(åŒ…è£¹ç›¸ä½)</h4><p><a href="https://blog.csdn.net/qq_44408326/article/details/114838649?spm=1001.2014.3001.5501">æ•°å­—æ¡çº¹æŠ•å½±~æ ‡å‡†Næ­¥ç›¸ç§»ä¸»å€¼ç›¸ä½è®¡ç®—å¼æ¨å¯¼è¿‡ç¨‹_upå…­æœˆä¸Šçš„åšå®¢-CSDNåšå®¢</a></p><p>$\begin{aligned}I_2(u_c,\nu_c)-I_0(u_c,\nu_c)=&amp;0.5\left(\cos[\phi(u_c,\nu_c)+\pi]-\cos[\phi(u_c,\nu_c)]\right)=-\cos[\phi(u_c,\nu_c)]\\I_3(u_c,\nu_c)-I_1(u_c,\nu_c)=&amp;0.5\left\{\cos\left[\phi(u_c,\nu_c)+\frac{3\pi}2\right]-\cos\left[\phi(u_c,\nu_c)+\frac\pi2\right]\right\}=\sin[\phi(u_c,\nu_c)]\end{aligned}$</p><p>$\phi(u_c,\nu_c)=-\arctan\frac{I_3(u_c,\nu_c)-I_1(u_c,\nu_c)}{I_2(u_c,v_c)-I_0(u_c,\nu_c)},\phi(u_c,\nu_c)\in\left[-\pi,\pi\right]$<br>$ğ‘¢_ğ‘$ã€$ğ‘£_ğ‘$ è¡¨ç¤ºç›¸æœºè·å–å›¾åƒçš„åƒç´ æ ‡, $\phi(u_c, v_c)$ è¡¨ç¤ºè¯¥åƒç´ ç‚¹çš„åŒ…è£¹ç›¸ä½</p><p>å°†æ¯ä¸€ä¸ªåƒç´ åˆ©ç”¨ä¸Šè¿°æ–¹æ³•æ±‚å¾—åŒ…è£¹ç›¸ä½å¹¶å‚¨å­˜åœ¨å¯¹åº”ä½ç½®ï¼Œå¯ä»¥å¾—åˆ°æ‰€æœ‰å¯¹åº”ä½ç½®çš„æ•°å€¼å¤§å°éƒ½åœ¨ $[0,2\pi]$,ç„¶åå¯¹å…¶è¿›è¡Œçº¿æ€§æ”¾ç¼©åˆ° $[0,255]$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231203165120.png" alt="image.png|666"></p><h4 id="æ±‚ç»å¯¹ç›¸ä½"><a href="#æ±‚ç»å¯¹ç›¸ä½" class="headerlink" title="æ±‚ç»å¯¹ç›¸ä½"></a>æ±‚ç»å¯¹ç›¸ä½</h4><p>ç›¸ä½å±•å¼€è·å¾—ç»å¯¹ç›¸ä½(å¾—åˆ°äº†æŠ•å½±ä»ªåƒç´ åæ ‡ä¸ç›¸æœºåƒç´ åæ ‡çš„å…³ç³»)<br><strong>GC è¡¨ç¤ºæ ¼é›·ç å›¾ï¼Œk1ã€k2 è¡¨ç¤ºå¯¹åº”çš„ç¼–ç å€¼</strong><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231203165131.png" alt="image.png|666"></p><p>åŒ…è£¹ç›¸ä½Ï•å¦‚ä¸Šå›¾ï¼Œè¦æƒ³å°†ä¸Šé¢çš„åŒ…è£¹ç›¸ä½è¿˜åŸæˆè¿ç»­çš„ç»å¯¹ç›¸ä½ï¼Œåªè¦åœ¨æ¯ä¸€ä¸ªæˆªæ–­å¤„åŠ ä¸Š2kÏ€(k è¡¨ç¤ºå‘¨æœŸçš„çº§æ¬¡),å°±å¯ä»¥æ¢å¤æˆè¿ç»­çš„ç›¸ä½ã€‚($\phi(x,y) = \varphi(x,y) + 2 \pi k_1(x,y)$)å› æ­¤æˆ‘ä»¬ç”¨å››å¹…æ ¼é›·ç å›¾åƒå°†æ•´ä¸ªæœ‰æ•ˆè§†åŒºåˆ†æˆ 16 ä»½å¹¶åˆ†åˆ«ç¼–ç ï¼Œå› æ­¤è¿™é‡Œçš„<strong>å‘¨æœŸçº§æ¬¡ K å°±ç­‰äºæ ¼é›·ç çš„ç¼–ç å€¼ï¼ˆk1ï¼‰ï¼Œä½†æ˜¯ç”±äºå®é™…è¿‡ç¨‹ä¸­ï¼Œç”±äºæŠ•å½±ä»ªå’Œç›¸æœºçš„ç•¸å˜æ•ˆåº”ï¼Œæ‰€æŠ•çš„æ ¼é›·ç å›¾åƒä¸ç›¸ç§»ç å›¾åƒä¼šäº§ç”Ÿé”™ä½ï¼š</strong><br>ç”±äºé”™ä½å‘ç”Ÿåœ¨åŒ…è£¹ç›¸ä½çš„<strong>æˆªæ–­å¤„</strong>ï¼Œä¸ºäº†è§£å†³é”™ä½é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€å¼ 5ä½æ ¼é›·ç ï¼Œä¸4ä½æ ¼é›·ç å½¢æˆäº’è¡¥ï¼Œk2çš„è®¡ç®—å…¬å¼ï¼š$K2=INT[(V2+1)/2]$ï¼ŒINT:å‘ä¸‹å–æ•´ï¼ŒV2ï¼šGC0-GC5 æ ¼é›·ç å¯¹åº”çš„åè¿›åˆ¶æ•°ã€‚</p><p>åˆ©ç”¨ä»¥ä¸‹å…¬å¼å°±å¯ä»¥é¿å…æˆªæ–­å¤„äº§ç”Ÿé”™ä½ï¼š<br>$\phi(x,y)=\begin{cases}\varphi(x,y)+2\pi k_2(x,y),~\varphi(x,y)\leq\frac\pi2\\\\\varphi(x,y)+2\pi k_1(x,y),~\frac\pi2&lt;\varphi(x,y)&lt;\frac{3\pi}2\\\\\varphi(x,y)+2\pi[k_2(x,y)-1],~\varphi(x,y)\geq\frac{3\pi}2&amp;\end{cases}$</p><p>åœ¨ç›¸æœºå®é™…æ‹æ‘„çš„å›¾ç‰‡ä¸­ç”±äºç¯å¢ƒå…‰çš„å½±å“ï¼Œæ‹æ‘„åˆ°çš„æ ¼é›·ç å€¼å¹¶ä¸æ˜¯æ ‡å‡†çš„äºŒå€¼å›¾ï¼Œéœ€è¦äºŒå€¼åŒ–:</p><ul><li>é¦–å…ˆè¦å°†æ ¼é›·ç å›¾åƒè¿›è¡ŒäºŒå€¼åŒ–å¤„ç†</li><li>ç„¶åè®¡ç®— k1ã€k2 çš„å€¼</li><li>æœ€åå¸¦å…¥å…¬å¼æ±‚è§£ç»å¯¹ç›¸ä½ $\phi(x,y)$</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231203175500.png" alt="image.png|666"></p><p><strong>ç„¶åæ±‚è§£ä¸‰ç»´åæ ‡</strong>ï¼Œè·å¾—ä¸‰ç»´ç‚¹äº‘(æ ¹æ®å„åæ ‡ç³»çš„å…³ç³»ä»¥åŠç›¸æœºå’ŒæŠ•å½±ä»ªçš„å‚æ•°)</p><h4 id="è·å¾—ç›¸æœº-æŠ•å½±ä»ªåƒç´ åæ ‡ä¹‹é—´çš„å¯¹åº”å…³ç³»"><a href="#è·å¾—ç›¸æœº-æŠ•å½±ä»ªåƒç´ åæ ‡ä¹‹é—´çš„å¯¹åº”å…³ç³»" class="headerlink" title="è·å¾—ç›¸æœº-æŠ•å½±ä»ªåƒç´ åæ ‡ä¹‹é—´çš„å¯¹åº”å…³ç³»"></a>è·å¾—ç›¸æœº-æŠ•å½±ä»ªåƒç´ åæ ‡ä¹‹é—´çš„å¯¹åº”å…³ç³»</h4><p>ç”±ç›¸æœºåƒç´ åæ ‡ $u_c,v_c$ï¼ŒæŠ•å½±ä»ªåƒç´ åæ ‡ $(u_p,v_p)$</p><p>$\Phi(\operatorname{u_P},\operatorname{v_P})=\Phi(\operatorname{u_C},\operatorname{v_C})$<br>$\Phi(\operatorname{u_P},\operatorname{v_P})=\frac{2\pi\operatorname{u_p}}{\operatorname{T}}$</p><p>å¯å¾—ï¼š<script type="math/tex">\mathrm{u_p~=~\frac{\Phi(u_p,v_p)*T}{2\pi}~=~\frac{\Phi(u_c,v_c)*T}{2\pi}}</script></p><h4 id="æ ¹æ®æ ‡å®šå‚æ•°è·å¾—é‡å»ºç‚¹äº‘ä¿¡æ¯"><a href="#æ ¹æ®æ ‡å®šå‚æ•°è·å¾—é‡å»ºç‚¹äº‘ä¿¡æ¯" class="headerlink" title="æ ¹æ®æ ‡å®šå‚æ•°è·å¾—é‡å»ºç‚¹äº‘ä¿¡æ¯"></a>æ ¹æ®æ ‡å®šå‚æ•°è·å¾—é‡å»ºç‚¹äº‘ä¿¡æ¯</h4><p>ç”±ç›¸æœºå†…å¤–å‚çŸ©é˜µï¼Œå¯ä»¥å¾—åˆ°åƒç´ åæ ‡ä¸ä¸–ç•Œåæ ‡ä¹‹é—´çš„å…³ç³»ï¼š</p><script type="math/tex; mode=display">\left.\left\{\begin{array}{c}\mathrm{X_c=x_c*Z_c}\\\mathrm{Y_c=y_c*Z_c}\\\mathrm{Z_c=Z_c}\end{array}\right.\right.</script><script type="math/tex; mode=display">\left.\left\{\begin{array}{rl}\mathrm{x_c~=~(u_c~-u_{c0}~)/f_{cx}}\\\mathrm{y_c~=~(v_c~-v_{c0}~)/f_{cy}}\end{array}\right.\right.</script><p>$x_c,y_c$ ä¸º $u_c,v_c$ çš„ç›¸æœºåæ ‡ï¼Œä¸–ç•Œåæ ‡ $X_w,Y_w,Z_w$ æ—‹è½¬å¹³ç§»å¾—åˆ° $X_c,Y_c,Z_c$</p><p>åŒç†æŠ•å½±ä»ªï¼š</p><script type="math/tex; mode=display">\left.\left\{\begin{array}{l}X_p=x_p*Z_p\\Y_p=y_p*Z_p\\Z_p=Z_p\end{array}\right.\right.</script><script type="math/tex; mode=display">\left.\left\{\begin{array}{l}x_p=(u_p-u_{p0})/f_{px}\\y_p=(v_p-v_{p0})/f_{py}\end{array}\right.\right.</script><p>ç”±ç›¸æœºå’ŒæŠ•å½±ä»ªå¤–å‚å…³ç³»ï¼š</p><script type="math/tex; mode=display">\left.\left[\begin{array}{c}X_p\\Y_p\\Z_p\end{array}\right.\right]=R_{c\to p}\left[\begin{array}{c}X_c\\Y_c\\Z_c\end{array}\right]+t_{c\to p}</script><p>å¯å¾—ï¼š</p><script type="math/tex; mode=display">\left.\left\{\begin{array}{l}X_p=r_{11}X_c+r_{12}Y_c+r_{13}Z_c+t_x=(r_{11}x_c+r_{12}y_c+r_{13})Z_c+t_x\\Y_p=r_{21}X_c+r_{22}Y_c+r_{23}Z_c+t_y=(r_{21}x_c+r_{22}y_c+r_{23})Z_c+t_y\\Z_p=r_{31}X_c+r_{32}Y_c+r_{33}Z_c+t_z=(r_{31}x_c+r_{32}y_c+r_{33})Z_c+t_z\end{array}\right.\right.</script><p>ç”±ç›¸æœºæŠ•å½±ä»ªåƒç´ åæ ‡å…³ç³»ï¼š</p><script type="math/tex; mode=display">\left.\left\{\begin{array}{l}u_p=f_{px}*x_p+u_{p0}\\u_p=\frac{\Phi(u_c,v_c)*T}{2\pi}\end{array}\right.\right.\Rightarrow f_{px}*x_p+u_{p0}=\frac{\Phi(u_c,v_c)*T}{2\pi}</script><p>è”ç«‹ä¸Šè¿°ä¸¤å¼ï¼š</p><script type="math/tex; mode=display">\left.\left\{\begin{array}{l}x_p*Z_p=(r_{11}x_c+r_{12}y_c+r_{13})Z_c+t_x\\Z_p=(r_{31}x_c+r_{32}y_c+r_{33})Z_c+t_z\\f_{px}*x_p+u_{p0}=\frac{\Phi(u_c,v_c)*T}{2\pi}\end{array}\right.\right.</script><p>å¯å¾—ï¼š$Z_{c}=\frac{x_{p}t_{z}-t_{x}}{J_{x}-J_{z}x_{p}}$</p><p>å…¶ä¸­</p><script type="math/tex; mode=display">\begin{aligned}&\begin{aligned}J_x=(r_{11}x_c+r_{12}y_c+r_{13})\end{aligned}\text{;} \\&\begin{aligned}J_z=(r_{31}x_c+r_{32}y_c+r_{33})\end{aligned}{;} \\&x_{p}=(\frac{\Phi(u_{c},v_{c})*T}{2\pi}-u_{p0})/f_{px}ã€‚\end{aligned}</script><p>åˆ™ç›¸æœºåæ ‡ç³»ä¸‹ï¼Œæ¯ä¸ªåƒç´ çš„ä¸–ç•Œåæ ‡ä¸ºï¼š</p><script type="math/tex; mode=display">\left.\left\{\begin{array}{l}X_c=x_c*Z_c\\Y_c=y_c*Zc\\Z_c=\frac{x_pt_z-t_x}{J_x-J_zx_p}\end{array}\right.\right.</script>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Other Methods </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Voxurf</title>
      <link href="/3DReconstruction/Multi-view/Explicit%20Volumetric/Voxurf/"/>
      <url>/3DReconstruction/Multi-view/Explicit%20Volumetric/Voxurf/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Voxurf: Voxel-based Efficient and Accurate Neural Surface Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Tong Wu and Jiaqi Wang and Xingang Pan and Xudong Xu and Christian Theobalt and Ziwei Liu and Dahua Lin</td></tr><tr><td>Conf/Jour</td><td>ICLR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/wutong16/Voxurf">wutong16/Voxurf: [ ICLR 2023 Spotlight ] Pytorch implementation for â€œVoxurf: Voxel-based Efficient and Accurate Neural Surface Reconstructionâ€ (github.Com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4789011193549291521&amp;noteId=2073894198108795136">Voxurf: Voxel-based Efficient and Accurate Neural Surface Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231201171502.png" alt="image.png|666"></p><p>ä¾èµ– mask å³ rembg æŠ€æœ¯</p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç¥ç»è¡¨é¢é‡å»ºçš„ç›®çš„æ˜¯åŸºäºå¤šè§†å›¾å›¾åƒé‡å»ºç²¾ç¡®çš„ä¸‰ç»´è¡¨é¢ã€‚ä»¥å‰åŸºäºç¥ç»ä½“ç»˜åˆ¶çš„æ–¹æ³•å¤§å¤šæ˜¯ç”¨ mlp è®­ç»ƒä¸€ä¸ªå®Œå…¨éšå¼çš„æ¨¡å‹ï¼Œè¿™é€šå¸¸éœ€è¦æ•°å°æ—¶çš„è®­ç»ƒæ¥å¤„ç†å•ä¸ªåœºæ™¯ã€‚æœ€è¿‘çš„ç ”ç©¶æ¢ç´¢äº†æ˜¾å¼ä½“ç§¯è¡¨ç¤ºï¼Œé€šè¿‡è®°å¿†å…·æœ‰å¯å­¦ä¹ ä½“ç´ ç½‘æ ¼çš„é‡è¦ä¿¡æ¯æ¥åŠ é€Ÿä¼˜åŒ–ã€‚ç„¶è€Œï¼Œç°æœ‰çš„åŸºäºä½“ç´ çš„æ–¹æ³•å¾€å¾€éš¾ä»¥é‡å»ºç»†ç²’åº¦çš„å‡ ä½•å½¢çŠ¶ï¼Œå³ä½¿ä¸åŸºäº sdf çš„ä½“ç»˜åˆ¶æ–¹æ¡ˆç›¸ç»“åˆä¹Ÿæ˜¯å¦‚æ­¤ã€‚æˆ‘ä»¬å‘ç°è¿™æ˜¯å› ä¸º 1)ä½“ç´ ç½‘æ ¼å€¾å‘äºæ‰“ç ´æœ‰åˆ©äºç²¾ç»†å‡ ä½•å­¦ä¹ çš„é¢œè‰²å‡ ä½•ä¾èµ–;2)çº¦æŸä¸è¶³çš„ä½“ç´ ç½‘æ ¼ç¼ºä¹ç©ºé—´ä¸€è‡´æ€§ï¼Œå®¹æ˜“å—åˆ°å±€éƒ¨æå°å€¼çš„å½±å“ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº† Voxurfï¼Œä¸€ç§åŸºäºä½“ç´ çš„è¡¨é¢é‡å»ºæ–¹æ³•ï¼Œæ—¢é«˜æ•ˆåˆå‡†ç¡®ã€‚Voxurf é€šè¿‡å‡ ä¸ªå…³é”®è®¾è®¡è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼ŒåŒ…æ‹¬ 1)ä¸€ä¸ªä¸¤é˜¶æ®µçš„è®­ç»ƒè¿‡ç¨‹ï¼Œè·å¾—è¿è´¯çš„ç²—å½¢çŠ¶å¹¶è¿ç»­æ¢å¤ç²¾ç»†ç»†èŠ‚ï¼Œ2)ä¸€ä¸ªä¿æŒé¢œè‰²å‡ ä½•ä¾èµ–æ€§çš„åŒè‰²ç½‘ç»œï¼Œä»¥åŠ 3)ä¸€ä¸ªåˆ†å±‚å‡ ä½•ç‰¹å¾ï¼Œä»¥é¼“åŠ±ä¿¡æ¯è·¨ä½“ç´ ä¼ æ’­ã€‚å¤§é‡çš„å®éªŒè¡¨æ˜ï¼ŒVoxurf åŒæ—¶å®ç°äº†é«˜æ•ˆç‡å’Œé«˜è´¨é‡ã€‚åœ¨ DTU åŸºå‡†æµ‹è¯•ä¸­ï¼Œä¸ä¹‹å‰çš„å…¨éšå¼æ–¹æ³•ç›¸æ¯”ï¼ŒVoxurf ä»¥ 20 å€çš„è®­ç»ƒåŠ é€Ÿå®ç°äº†æ›´é«˜çš„é‡å»ºè´¨é‡ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong>åŸºäºå¤šè§†å›¾å›¾åƒçš„ç¥ç»è¡¨é¢é‡å»º + å®Œå…¨éšå¼ MLP</strong><br>è¿‘å¹´æ¥ï¼ŒåŸºäºå¤šè§†å›¾å›¾åƒçš„ç¥ç»è¡¨é¢é‡å»ºå–å¾—äº†å·¨å¤§è¿›å±•ã€‚å— Neural Radiance Fields (NeRF) (Mildenhall et al.ï¼Œ 2020)åœ¨ Novel View Synthesis (NVS)ä¸Šçš„æˆåŠŸå¯å‘ï¼Œæœ€è¿‘çš„ä½œå“éµå¾ªç¥ç»ä½“æ¸²æŸ“æ–¹æ¡ˆï¼Œé€šè¿‡å®Œå…¨éšå¼æ¨¡å‹(Oechsle et al.ï¼Œ 2021)ä½¿ç”¨æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)æˆ–å ç”¨åœºè¡¨ç¤º 3D å‡ ä½•å½¢çŠ¶ã€‚Yariv ç­‰ï¼Œ2021;Wang ç­‰äººï¼Œ2021)ã€‚è¿™äº›æ–¹æ³•è®­ç»ƒäº†ä¸€ä¸ªæ·±åº¦å¤šå±‚æ„ŸçŸ¥å™¨(MLP)ï¼Œå®ƒåœ¨æ¯ä¸ªç›¸æœºå…‰çº¿ä¸Šé‡‡é›†æ•°ç™¾ä¸ªé‡‡æ ·ç‚¹ï¼Œå¹¶è¾“å‡ºç›¸åº”çš„é¢œè‰²å’Œå‡ ä½•ä¿¡æ¯ã€‚ç„¶åé€šè¿‡æµ‹é‡æ¯æ¡å…‰çº¿ä¸Šç´¯ç§¯çš„é¢œè‰²ä¸åœ°é¢çœŸå®å€¼ä¹‹é—´çš„å·®å¼‚æ¥åº”ç”¨é€åƒç´ ç›‘ç£ã€‚ä½¿ç”¨çº¯åŸºäº mlp çš„æ¡†æ¶å­¦ä¹ æ‰€æœ‰å‡ ä½•å’Œé¢œè‰²ç»†èŠ‚ï¼Œè¿™äº›æ–¹æ³•éœ€è¦å¯¹å•ä¸ªåœºæ™¯è¿›è¡Œæ•°å°æ—¶çš„è®­ç»ƒï¼Œè¿™å¤§å¤§é™åˆ¶äº†å®ƒä»¬åœ¨ç°å®ä¸–ç•Œä¸­çš„åº”ç”¨ã€‚</p><p><strong>NeRF æ˜¾ç¤ºä½“ç§¯æ–¹æ³•</strong><br>NeRF çš„æœ€æ–°è¿›å±•å€ŸåŠ©æ˜¾å¼ä½“ç§¯è¡¨ç¤ºåŠ é€Ÿäº†è®­ç»ƒè¿‡ç¨‹(Sun et al.ï¼Œ 2022a;Yu et al.ï¼Œ 2022a;Chen et al.ï¼Œ 2022)ã€‚è¿™äº›ä½œå“é€šè¿‡æ˜¾å¼ä½“ç´ ç½‘æ ¼ç›´æ¥å­˜å‚¨å’Œä¼˜åŒ–å‡ ä½•å’Œé¢œè‰²ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼ŒæŸ¥è¯¢ç‚¹çš„å¯†åº¦å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»å…«ä¸ªç›¸é‚»ç‚¹ä¸­æ’å€¼å‡ºæ¥ï¼Œå¹¶ä¸”ä¸è§†å›¾ç›¸å…³çš„é¢œè‰²è¦ä¹ˆç”¨çƒé¢è°æ³¢ç³»æ•°è¡¨ç¤º(Yu ç­‰äººï¼Œ2022a)ï¼Œè¦ä¹ˆç”¨å°†å¯å­¦ä¹ çš„ç½‘æ ¼ç‰¹å¾ä½œä¸ºè¾…åŠ©è¾“å…¥çš„æµ… mlp é¢„æµ‹(Sun ç­‰äººï¼Œ2022a)ã€‚è¿™äº›æ–¹æ³•ä»¥æ›´ä½çš„è®­ç»ƒæˆæœ¬(&lt; 20 åˆ†é’Ÿ)è·å¾—å…·æœ‰ç«äº‰åŠ›çš„æ¸²æŸ“æ€§èƒ½ã€‚<strong>ç„¶è€Œï¼Œå®ƒä»¬çš„ä¸‰ç»´è¡¨é¢é‡å»ºç»“æœä¸èƒ½å¿ å®åœ°åæ˜ ç²¾ç¡®çš„å‡ ä½•å½¢çŠ¶ï¼Œå­˜åœ¨æ˜æ˜¾çš„å™ªå£°å’Œå­”æ´</strong>(å›¾ 1 (a))ã€‚è¿™æ˜¯ç”±äºåŸºäºå¯†åº¦çš„ä½“ç»˜åˆ¶æ–¹æ¡ˆå›ºæœ‰çš„æ¨¡ç³Šæ€§ï¼Œè€Œæ˜ç¡®çš„ä½“è¡¨ç¤ºå¼•å…¥äº†é¢å¤–çš„æŒ‘æˆ˜ã€‚</p><p><strong>æœ¬æ–‡ Voxurf</strong><br>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åˆ©ç”¨æ˜¾å¼ä½“ç§¯è¡¨ç¤ºè¿›è¡Œæœ‰æ•ˆçš„è®­ç»ƒï¼Œå¹¶æå‡ºå®šåˆ¶è®¾è®¡æ¥è·å¾—é«˜è´¨é‡çš„è¡¨é¢é‡å»ºã€‚ä¸ºæ­¤ï¼Œä¸€ä¸ªç®€å•çš„æƒ³æ³•æ˜¯åµŒå…¥åŸºäº sdf çš„ä½“ç»˜åˆ¶æ–¹æ¡ˆ(Wang et al.ï¼Œ 2021;Yariv ç­‰äººï¼Œ2021)å°†å…¶è½¬åŒ–ä¸ºæ˜ç¡®çš„ä½“ç§¯è¡¨ç¤ºæ¡†æ¶(Sun ç­‰äººï¼Œ2022a)ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ª naive åŸºçº¿æ¨¡å‹ä¸èƒ½å¾ˆå¥½åœ°å·¥ä½œï¼Œå› ä¸ºå®ƒä¸¢å¤±äº†å¤§éƒ¨åˆ†å‡ ä½•ç»†èŠ‚å¹¶äº§ç”Ÿäº†ä¸å¸Œæœ›çš„å™ªå£°(å›¾ 1 (c))ã€‚æˆ‘ä»¬æ­ç¤ºäº†è¿™ä¸ªæ¡†æ¶çš„å‡ ä¸ªå…³é”®é—®é¢˜å¦‚ä¸‹ã€‚</p><ul><li>é¦–å…ˆï¼Œåœ¨å®Œå…¨éšå¼æ¨¡å‹ä¸­ï¼Œé¢œè‰²ç½‘ç»œå°†è¡¨é¢æ³•çº¿ä½œä¸ºè¾“å…¥ï¼Œæœ‰æ•ˆåœ°å»ºç«‹é¢œè‰²å‡ ä½•ä¾èµ–å…³ç³»ï¼Œä¿ƒè¿›ç²¾ç»†å‡ ä½•å­¦ä¹ ã€‚ç„¶è€Œï¼Œåœ¨åŸºçº¿æ¨¡å‹ä¸­ï¼Œé¢œè‰²ç½‘ç»œå€¾å‘äºæ›´å¤šåœ°ä¾èµ–äºé¢å¤–çš„æ¬ çº¦æŸä½“ç´ ç‰¹å¾ç½‘æ ¼è¾“å…¥ï¼Œä»è€Œæ‰“ç ´äº†é¢œè‰²å‡ ä½•ä¾èµ–æ€§ã€‚</li><li>å…¶æ¬¡ï¼Œç”±äºä¼˜åŒ–ä½“ç´ ç½‘æ ¼çš„è‡ªç”±åº¦å¾ˆé«˜ï¼Œå¦‚æœæ²¡æœ‰é¢å¤–çš„çº¦æŸï¼Œå¾ˆéš¾ä¿æŒå…¨å±€ä¸€è‡´çš„å½¢çŠ¶ã€‚æ¯ä¸ªä½“ç´ ç‚¹çš„å•ç‹¬ä¼˜åŒ–é˜»ç¢äº†æ•´ä¸ªä½“ç´ ç½‘æ ¼çš„ä¿¡æ¯å…±äº«ï¼Œè¿™æŸå®³äº†è¡¨é¢çš„å¹³æ»‘æ€§å¹¶å¼•å…¥äº†å±€éƒ¨æœ€å°å€¼ã€‚</li></ul><p>ä¸ºäº†åº”å¯¹æŒ‘æˆ˜ï¼Œæˆ‘ä»¬å¼•å…¥äº† Voxurfï¼Œè¿™æ˜¯ä¸€ç§é«˜æ•ˆçš„åŸºäºä½“ç´ çš„ç²¾ç¡®è¡¨é¢é‡å»ºç®¡é“:<br>1)æˆ‘ä»¬åˆ©ç”¨ä¸¤é˜¶æ®µçš„è®­ç»ƒè¿‡ç¨‹ï¼Œè·å¾—è¿è´¯çš„ç²—å½¢çŠ¶å¹¶è¿ç»­æ¢å¤ç²¾ç»†ç»†èŠ‚ã€‚<br>2)æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªåŒè‰²ç½‘ç»œï¼Œå®ƒèƒ½å¤Ÿé€šè¿‡ä½“ç´ ç½‘æ ¼è¡¨ç¤ºå¤æ‚çš„é¢œè‰²åœºï¼Œå¹¶ä¸ååŒå·¥ä½œçš„ä¸¤ä¸ªå­ç½‘ç»œä¿æŒé¢œè‰²å‡ ä½•ä¾èµ–æ€§ã€‚<br>3)æˆ‘ä»¬è¿˜æå‡ºäº†åŸºäº SDF ä½“ç´ ç½‘æ ¼çš„åˆ†å±‚å‡ ä½•ç‰¹å¾ï¼Œä»¥ä¿ƒè¿›æ›´å¤§åŒºåŸŸçš„ä¿¡æ¯å…±äº«ï¼Œä»è€Œå®ç°ç¨³å®šçš„ä¼˜åŒ–ã€‚<br>4)æˆ‘ä»¬å¼•å…¥äº†å‡ ä¸ªæœ‰æ•ˆçš„æ­£åˆ™åŒ–é¡¹æ¥æé«˜å¹³æ»‘æ€§å’Œé™ä½å™ªå£°ã€‚</p><p><strong>å…·ä½“å®æ–½+æ›´å¥½çš„ç»“æœ</strong><br>æˆ‘ä»¬å¯¹ DTU (Jensen et al.ï¼Œ 2014)å’Œ BlendedMVS (Yao et al.ï¼Œ 2020)æ•°æ®é›†è¿›è¡Œäº†å®éªŒï¼Œä»¥è¿›è¡Œå®šé‡å’Œå®šæ€§è¯„ä¼°ã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒVoxurf åœ¨ DTU (Jensen et al.ï¼Œ 2014)åŸºå‡†ä¸Šå®ç°äº†æ¯”ç«äº‰æ€§å…¨éšå¼æ–¹æ³• news (Wang et al.ï¼Œ 2021)æ›´ä½çš„å€’è§’è·ç¦»ï¼ŒåŠ é€Ÿé€Ÿåº¦çº¦ä¸º 20 å€ã€‚åœ¨ NVS çš„è¾…åŠ©ä»»åŠ¡ä¸Šä¹Ÿå–å¾—äº†æ˜¾è‘—çš„æ•ˆæœã€‚å¦‚å›¾ 1 æ‰€ç¤ºï¼Œä¸ä¹‹å‰çš„æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨å‡ ä½•é‡å»ºå’Œå›¾åƒæ¸²æŸ“ä¸­éƒ½å…·æœ‰ä¿ç•™é«˜é¢‘ç»†èŠ‚çš„ä¼˜åŠ¿ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬çš„è´¡çŒ®å¦‚ä¸‹:</p><ul><li>ä¸ SOTA æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä½¿è®­ç»ƒé€Ÿåº¦æé«˜äº†çº¦ 20 å€ï¼Œåœ¨å•ä¸ª Nvidia A100 GPU ä¸Šå°†è®­ç»ƒæ—¶é—´ä» 5 ä¸ªå¤šå°æ—¶å‡å°‘åˆ° 15 åˆ†é’Ÿã€‚</li><li>æˆ‘ä»¬çš„æ–¹æ³•å®ç°äº†æ›´é«˜çš„è¡¨é¢é‡å»ºä¿çœŸåº¦å’Œæ–°é¢–çš„è§†å›¾åˆæˆè´¨é‡ï¼Œä¸ä»¥å‰çš„æ–¹æ³•ç›¸æ¯”ï¼Œåœ¨è¡¨é¢æ¢å¤å’Œå›¾åƒæ¸²æŸ“æ–¹é¢éƒ½å…·æœ‰æ›´å¥½çš„ç»†èŠ‚è¡¨ç°ã€‚</li><li>æˆ‘ä»¬çš„ç ”ç©¶ä¸ºè¡¨é¢é‡å»ºçš„æ˜¾å¼ä½“è¡¨ç¤ºæ¡†æ¶çš„æ¶æ„è®¾è®¡æä¾›äº†æ·±åˆ»çš„è§‚å¯Ÿå’Œåˆ†æã€‚</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>Multi-view 3D reconstruction<br>æœ€è¿‘ï¼Œé€šè¿‡ç¥ç»ç½‘ç»œç¼–ç  3D åœºæ™¯çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚çš„éšå¼è¡¨ç¤ºå¼•èµ·äº†äººä»¬çš„å…³æ³¨(Park ç­‰äººï¼Œ2019;Chen &amp; Zhang, 2019;Lombardi ç­‰äººï¼Œ2019;Mescheder ç­‰äººï¼Œ2019;Sitzmann et al.ï¼Œ 2019b;Saito ç­‰äººï¼Œ2019;Atzmon ç­‰äººï¼Œ2019;Jiang et al.ï¼Œ 2020;Zhang et al.ï¼Œ 2021;Toussaint et al.ï¼Œ 2022)ã€‚<br>å…¶ä¸­ï¼Œå¤§é‡çš„è®ºæ–‡æ¢è®¨äº†ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºç¥ç»è¡¨é¢ã€‚åŸºäºè¡¨é¢æ¸²æŸ“çš„æ–¹æ³•(Niemeyer et al.ï¼Œ 2020;Yariv ç­‰ï¼Œ2020;åˆ˜ç­‰ï¼Œ2020b;Kellnhofer et al.ï¼Œ 2021)å°†å…‰çº¿ä¸è¡¨é¢äº¤ç‚¹çš„é¢œè‰²ä½œä¸ºæœ€ç»ˆæ¸²æŸ“çš„é¢œè‰²ï¼ŒåŒæ—¶è¦æ±‚ç²¾ç¡®çš„å¯¹è±¡è’™ç‰ˆå’Œä»”ç»†çš„æƒé‡åˆå§‹åŒ–ã€‚<br>æœ€è¿‘çš„ç ”ç©¶æ–¹æ³•(Wang et al.ï¼Œ 2021;Yariv ç­‰ï¼Œ2021;Oechsle ç­‰äººï¼Œ2021;Darmon et al.ï¼Œ 2022;Zhang et al.ï¼Œ 2022;åˆ˜ç­‰ï¼Œ2020a;Sitzmann et al.ï¼Œ 2019a)åŸºäºä½“ç»˜åˆ¶(Max, 1995)åœ¨ç»Ÿä¸€æ¨¡å‹ä¸­åˆ¶å®šäº†è¾å°„åœºå’Œéšå¼è¡¨é¢è¡¨ç¤ºï¼Œä»è€Œå®ç°äº†ä¸¤ç§æŠ€æœ¯çš„ä¼˜ç‚¹ã€‚<br><strong>ç„¶è€Œï¼Œåœ¨çº¯ MLP ç½‘ç»œä¸­å¯¹æ•´ä¸ªåœºæ™¯è¿›è¡Œç¼–ç éœ€è¦å¾ˆé•¿çš„è®­ç»ƒæ—¶é—´</strong>ã€‚ä¸è¿™äº›ä½œå“ä¸åŒï¼Œæˆ‘ä»¬åˆ©ç”¨å¯å­¦ä¹ çš„ä½“ç´ ç½‘æ ¼å’Œæµ…é¢œè‰²ç½‘ç»œè¿›è¡Œå¿«é€Ÿæ”¶æ•›ï¼Œå¹¶åœ¨è¡¨é¢å’Œæ¸²æŸ“å›¾åƒä¸­è¿½æ±‚ç²¾ç»†ç»†èŠ‚ã€‚</p><p>Explicit volumetric representation<br>å°½ç®¡éšå¼ç¥ç»è¡¨å¾åœ¨ 3D å»ºæ¨¡ä¸­å–å¾—äº†æˆåŠŸï¼Œä½†æœ€è¿‘çš„è¿›å±•å·²ç»é›†æˆäº†æ˜¾å¼ 3D è¡¨å¾ï¼Œä¾‹å¦‚ç‚¹äº‘ã€ä½“ç´ å’Œ MPIs (Mildenhall ç­‰äººï¼Œ2019)ï¼Œå¹¶å—åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨(Wizadwongsa ç­‰äººï¼Œ2021;Xu et al.ï¼Œ 2022;Lombardi ç­‰äººï¼Œ2019;Wang et al.ï¼Œ 2022;Fang ç­‰äººï¼Œ2022)ã€‚<br>Instant-ngp ä½¿ç”¨å¤šåˆ†è¾¨ç‡å“ˆå¸Œè¿›è¡Œé«˜æ•ˆç¼–ç ï¼Œå¹¶å®ç°äº†å®Œå…¨èåˆçš„ CUDA å†…æ ¸ã€‚<br>Plenoxels (Yu et al.ï¼Œ 2022a)å°†åœºæ™¯è¡¨ç¤ºä¸ºå…·æœ‰çƒé¢è°æ³¢çš„ç¨€ç– 3D ç½‘æ ¼ï¼Œå…¶ä¼˜åŒ–é€Ÿåº¦æ¯” NeRF (Mildenhall et al.ï¼Œ 2020)å¿«ä¸¤ä¸ªæ•°é‡çº§ã€‚<br>TensoRF (Chen et al.ï¼Œ 2022)å°†å…¨ä½“ç§¯åœºè§†ä¸º 4D å¼ é‡ï¼Œå¹¶å°†å…¶åˆ†è§£ä¸ºå¤šä¸ªç´§å‡‘çš„ä½ç§©å¼ é‡åˆ†é‡ä»¥æé«˜æ•ˆç‡ã€‚<br>ä¸æˆ‘ä»¬æœ€ç›¸å…³çš„æ–¹æ³•æ˜¯ DVGO (Sun et al.ï¼Œ 2022a)ï¼Œå®ƒé‡‡ç”¨æ··åˆæ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬ä½“ç´ ç½‘æ ¼å’Œæµ… MLPã€‚å°½ç®¡å®ƒä»¬åœ¨æ–°è§†å›¾åˆæˆæ–¹é¢å–å¾—äº†æ˜¾è‘—çš„æˆæœï¼Œ<strong>ä½†å®ƒä»¬éƒ½ä¸æ˜¯ä¸ºäº†å¿ å®åœ°é‡å»ºåœºæ™¯çš„å‡ ä½•å½¢çŠ¶è€Œè®¾è®¡çš„</strong>ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡ä¸ä»…æ˜¯ä»æ–°é¢–çš„è§†ç‚¹ç»˜åˆ¶é€¼çœŸçš„å›¾åƒï¼Œè€Œä¸”è¿˜é‡å»ºå…·æœ‰ç²¾ç»†ç»†èŠ‚çš„é«˜è´¨é‡è¡¨é¢ã€‚</p><h2 id="PRELIMINARIES"><a href="#PRELIMINARIES" class="headerlink" title="PRELIMINARIES"></a>PRELIMINARIES</h2><p>Volume rendering with SDF representation: <strong>NeuS</strong><br>Eq1,2<br>$\hat{C}(r)=\sum_{i=1}^NT_i\alpha_ic_i,T_i=\prod_{j=1}^{i-1}(1-\alpha_j),$<br>$\alpha_i=\max\left(\frac{\Phi_s(f(p(t_i)))-\Phi_s(f(p(t_{i+1})))}{\Phi_s(f(p(t_i)))},0\right)$</p><p>Explicit volumetric representation: <strong>DVGO</strong><br>Eq3,4<br>$\sigma=\operatorname{interp}(p,V^{(density)}),$ ä¸‰çº¿æ€§æ’å€¼<br>$c=\mathrm{MLP}_{\Theta}(\mathrm{interp}(p,V^{(feat)}),p,v),$</p><p>Naive ç»„åˆã€‚è¿™ä¸¤ç§æŠ€æœ¯çš„ç›´æ¥ç»“åˆæ˜¯ç”¨åŸºäº sdf çš„ä½“ç»˜åˆ¶æ–¹æ¡ˆå–ä»£ DVGO ä¸­çš„ä½“ç»˜åˆ¶ï¼Œå¦‚ Eqn. 1 å’Œ Eqn. 2 æ‰€ç¤ºã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œå®ƒä½œä¸º naive åŸºçº¿ï¼Œå¾ˆéš¾äº§ç”Ÿä»¤äººæ»¡æ„çš„ç»“æœï¼Œå¦‚å›¾ 1 (c)æ‰€ç¤ºã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡å®è¯ç ”ç©¶æ¥é˜æ˜è¿™ä¸€ç°è±¡ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231202102731.png" alt="image.png|666"></p><h1 id="STUDY-ON-ARCHITECTURE-DESIGN-FOR-GEOMETRY-LEARNING"><a href="#STUDY-ON-ARCHITECTURE-DESIGN-FOR-GEOMETRY-LEARNING" class="headerlink" title="STUDY ON ARCHITECTURE DESIGN FOR GEOMETRY LEARNING"></a>STUDY ON ARCHITECTURE DESIGN FOR GEOMETRY LEARNING</h1><p>å‡ ä½•å­¦ä¹ çš„ç»“æ„è®¾è®¡ç ”ç©¶</p><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å¯¹åŸºçº¿æ¨¡å‹çš„å˜ä½“è¿›è¡Œäº†ä¸€äº›å…ˆå‰çš„å®éªŒï¼Œæ—¨åœ¨æ‰¾å‡ºæœ¬ä»»åŠ¡ä¸­æ¶æ„è®¾è®¡çš„å…³é”®å› ç´ ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª SDF ä½“ç´ ç½‘æ ¼ V (SDF)ï¼Œå¹¶åº”ç”¨ Eqn. 2 è¿›è¡ŒÎ±è®¡ç®—ï¼Œæ‰‹åŠ¨å®šä¹‰ s çš„è°ƒåº¦ã€‚æˆ‘ä»¬ä»ä¸€ä¸ªæµ… MLP ä½œä¸ºé¢œè‰²ç½‘ç»œå¼€å§‹ï¼Œå…¶ä¸­ 1)ä» $V^{(feat)}$ æ’å€¼çš„å±€éƒ¨ç‰¹å¾ f å’Œ 2) $V^{(sdf)}$ è®¡ç®—çš„æ³•å‘é‡ n éƒ½æ˜¯å¯é€‰çš„è¾“å…¥ã€‚è‰¯å¥½çš„è¡¨é¢é‡å»ºåº”å…·æœ‰<strong>è¿è´¯çš„ç²—ç»“æ„</strong>ã€<strong>ç²¾ç¡®çš„ç²¾ç»†ç»†èŠ‚</strong>å’Œ<strong>å…‰æ»‘çš„è¡¨é¢</strong>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†å…³æ³¨è¿™äº›å› ç´ ï¼Œå¹¶åˆ†æä¸åŒæ¶æ„è®¾è®¡çš„å½±å“ã€‚</p><p>The key to maintaining a <strong>coherent coarse shape</strong>.<br>ç›´è§‚ä¸Šï¼Œæµ…å±‚ MLP çš„å®¹é‡æ˜¯æœ‰é™çš„ï¼Œå®ƒå¾ˆéš¾è¡¨ç¤ºå…·æœ‰ä¸åŒæè´¨ã€é«˜é¢‘çº¹ç†å’Œè§†ä¾èµ–å…‰ç…§ä¿¡æ¯çš„å¤æ‚åœºæ™¯ã€‚å½“ ground truth å›¾åƒé‡åˆ°å¿«é€Ÿçš„é¢œè‰²ç§»åŠ¨æ—¶ï¼Œåœ¨æœªæ‹Ÿåˆçš„é¢œè‰²åœºä¸Šè¿›è¡Œä½“ç»˜åˆ¶é›†æˆä¼šå¯¼è‡´å‡ ä½•ç»“æ„æŸåï¼Œå¦‚å›¾ 2 æ¡ˆä¾‹(1)(a)å’Œ(b)æ‰€ç¤ºã€‚ç»“åˆå±€éƒ¨ç‰¹å¾ f å¯ä»¥å®ç°å¿«é€Ÿçš„é¢œè‰²å­¦ä¹ å¹¶æé«˜ç½‘ç»œçš„è¡¨ç¤ºèƒ½åŠ›ï¼Œå¹¶ä¸”é—®é¢˜å¾—åˆ°æ˜æ˜¾ç¼“è§£ï¼Œå¦‚å›¾ 2 æ¡ˆä¾‹(1)æ‰€ç¤ºï¼Œ(a)å’Œ(c)ï¼Œ (b)å’Œ(d)ä¹‹é—´çš„å·®å¼‚ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231202104332.png" alt="image.png|666"></p><p>The key to reconstructing <strong>accurate geometry details</strong>.<br>ç„¶åï¼Œæˆ‘ä»¬åœ¨å›¾ 2 ä¸­å¼•å…¥å¦ä¸€ç§æƒ…å†µ(2)ã€‚å®ƒçš„çº¹ç†å˜åŒ–é€‚åº¦ï¼Œç”±äºæ¼«åå°„ï¼Œé¢œè‰²ä¸è¡¨é¢æ³•çº¿ä¸»è¦ç›¸å…³ã€‚å°½ç®¡åœ¨å›¾ 2 æƒ…å½¢(2)(a)ä¸­ï¼Œåœ¨æ²¡æœ‰æ³•å‘ n æˆ–ç‰¹å¾ fas è¾“å…¥çš„æƒ…å†µä¸‹ï¼Œå‡ ä½•å›¾å½¢ä»ç„¶ä¼šå´©æºƒï¼Œä½†åœ¨å›¾ 2 æƒ…å½¢(2)(b)ä¸­ï¼Œå³ä½¿åªæœ‰ n ä½œä¸ºè¾“å…¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°ä¸€äº›å‡ ä½•ç»†èŠ‚çš„åˆç†é‡æ„ã€‚åŠ å…¥ç‰¹å¾ f ä¸ä¼šè¿›ä¸€æ­¥å‡å°å€’è§’è·ç¦»(CD);ç›¸åï¼Œç”±äºå¯å­¦ä¹ ç‰¹å¾å¹²æ‰°äº†å‡ ä½•-é¢œè‰²ä¾èµ–å…³ç³»ï¼Œå³é¢œè‰²ä¸è¡¨é¢æ³•çº¿ä¹‹é—´å»ºç«‹çš„å…³ç³»ï¼Œå¦‚å›¾ 2 æ¡ˆä¾‹(2)æ‰€ç¤ºï¼Œ(b)ä¸(d)ä¹‹é—´çš„å·®å¼‚ã€‚è€ƒè™‘åˆ°å¯å­¦ä¹ å±€éƒ¨ç‰¹å¾çš„ä¼˜ç¼ºç‚¹ï¼Œè®¾è®¡ä¸€ä¸ªæ¡†æ¶æ˜¯æœ‰ä»·å€¼çš„ï¼Œåˆ©ç”¨å®ƒæ¥å®ç°ä¸€è‡´çš„å½¢çŠ¶ï¼Œå¹¶<strong>ä¿æŒé¢œè‰²-å‡ ä½•ä¾èµ–äºç²¾ç»†çš„ç»†èŠ‚</strong>ã€‚</p><p><strong>ä½œè€…è§‚ç‚¹</strong>ï¼šå±€éƒ¨ç‰¹å¾åˆ©äºå¾—åˆ°è¿è´¯çš„ç²—ç»“æ„ï¼Œä½†åŒæ—¶ä¹Ÿä¼šç ´åé¢œè‰²ä¸è¡¨é¢æ³•çº¿ä¹‹é—´çš„å…³ç³»ï¼Œå¯¼è‡´ç²¾ç¡®çš„ç»†èŠ‚è¢«ç ´å</p><p>The reason for <strong>noisy surfaces</strong>.<br>å¯¹äºä¸Šè¿°æ‰€æœ‰æƒ…å†µï¼Œç»“æœéƒ½å—åˆ°è¡¨é¢æ˜æ˜¾å™ªå£°çš„å½±å“ã€‚ä¸å…¨å±€å­¦ä¹ éšå¼è¡¨ç¤ºç›¸æ¯”ï¼Œ<strong>çº¦æŸä¸è¶³çš„ä½“ç´ ç½‘æ ¼ç¼ºä¹ç©ºé—´ä¸€è‡´æ€§ï¼Œå®¹æ˜“å—åˆ°å±€éƒ¨æå°å€¼çš„å½±å“</strong>ï¼Œä»è€ŒæŸå®³äº†è¡¨é¢çš„è¿ç»­æ€§å’Œå…‰æ»‘æ€§ã€‚ä¸€ä¸ªç›´è§‚çš„æƒ³æ³•æ˜¯åˆ©ç”¨æ¥è‡ªä¸€ä¸ªåŒºåŸŸè€Œä¸æ˜¯å±€éƒ¨ç‚¹çš„å‡ ä½•çº¿ç´¢ï¼Œè¿™å¯ä»¥å¼•å…¥æ¨¡å‹è¾“å…¥ã€ç½‘ç»œç»„ä»¶å’ŒæŸå¤±å‡½æ•°ä¸­</p><h1 id="METHODOLOGY"><a href="#METHODOLOGY" class="headerlink" title="METHODOLOGY"></a>METHODOLOGY</h1><p>å—ç¬¬ 4 èŠ‚ä¸­æ­ç¤ºçš„è§è§£çš„å¯å‘ï¼Œæˆ‘ä»¬æå‡ºäº†å‡ ä¸ªå…³é”®è®¾è®¡:<br>1)æˆ‘ä»¬é‡‡ç”¨ä¸¤é˜¶æ®µè®­ç»ƒç¨‹åºï¼Œä¾æ¬¡è·å¾—è¿è´¯çš„ç²—å½¢çŠ¶(ç¬¬ 5.1 èŠ‚)å’Œæ¢å¤ç²¾ç»†ç»†èŠ‚(ç¬¬ 5.2 èŠ‚);<br>2)æå‡ºäº†ä¸€ç§åŒé¢œè‰²ç½‘ç»œï¼Œä»¥ä¿æŒé¢œè‰²å‡ ä½•ä¾èµ–æ€§ï¼Œæ¢å¤ç²¾ç¡®è¡¨é¢å’Œæ–°è§†å›¾å›¾åƒ;<br>3)è®¾è®¡åˆ†å±‚å‡ ä½•ç‰¹å¾ï¼Œä¿ƒè¿›ä¿¡æ¯è·¨ä½“ç´ ä¼ æ’­ï¼Œå®ç°ç¨³å®šä¼˜åŒ–;<br>4)æˆ‘ä»¬è¿˜å¼•å…¥äº†å¹³æ»‘å…ˆéªŒï¼ŒåŒ…æ‹¬æ¢¯åº¦å¹³æ»‘æŸå¤±ï¼Œä»¥è·å¾—æ›´å¥½çš„è§†è§‰è´¨é‡(ç¬¬ 5.3 èŠ‚)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231201171502.png" alt="image.png|666"></p><h2 id="COARSE-SHAPE-INITIALIZATION"><a href="#COARSE-SHAPE-INITIALIZATION" class="headerlink" title="COARSE SHAPE INITIALIZATION"></a>COARSE SHAPE INITIALIZATION</h2><p>æˆ‘ä»¬åˆå§‹åŒ–æˆ‘ä»¬çš„ SDF ä½“ç´ ç½‘æ ¼ $V^{(sdf)}$ï¼Œåœ¨ä¸€ä¸ªå‡†å¤‡å¥½çš„åŒºåŸŸå†…ä½¿ç”¨æ¤­çƒçŠ¶é›¶æ°´å¹³é›†è¿›è¡Œé‡å»ºï¼Œç„¶åï¼Œæˆ‘ä»¬åœ¨ç¬¬ 4 èŠ‚ä¸­ä»‹ç»çš„ $V^{(feat)}$ çš„å¸®åŠ©ä¸‹æ‰§è¡Œç²—å½¢çŠ¶ä¼˜åŒ–ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ç”¨æ³•å‘é‡ n å’Œå±€éƒ¨ç‰¹å¾ f ä½œä¸ºè¾“å…¥ï¼Œä»¥åŠåµŒå…¥çš„ä½ç½®å’Œè§‚çœ‹æ–¹å‘ V æ¥è®­ç»ƒä¸€ä¸ªæµ… MLPï¼Œä¸ºäº†ä¿ƒè¿›ç¨³å®šçš„è®­ç»ƒè¿‡ç¨‹å’Œå…‰æ»‘çš„è¡¨é¢ï¼Œ<strong>æˆ‘ä»¬å»ºè®®åœ¨å…‰æ»‘çš„ä½“ç´ ç½‘æ ¼ä¸Šè¿›è¡Œæ’å€¼</strong>ï¼Œè€Œä¸æ˜¯ $V^{(sdf)}$ çš„åŸå§‹æ•°æ®ã€‚</p><p> $\mathcal{G}(V,k_g,\sigma_g)$ è¡¨ç¤ºç”¨é«˜æ–¯æ ¸å¯¹ä½“ç´ ç½‘æ ¼ V è¿›è¡Œä¸‰ç»´å·ç§¯ï¼Œæƒé‡çŸ©é˜µéµå¾ªé«˜æ–¯åˆ†å¸ƒï¼š<br> $K_{i,j,k}~=~1/Z~\times \exp\left(-((\mathrm{i}-\lfloor\mathrm{k}_\mathrm{g}/2\rfloor)^2+(\mathrm{j}-\lfloor\mathrm{k}_\mathrm{g}/2\rfloor)^2+(\mathrm{k}-\lfloor\mathrm{k}_\mathrm{g}/2\rfloor)^2)/2\sigma_\mathrm{g}^2\right),\mathrm{i},\mathrm{j},\mathrm{k}\in\{0,1,â€¦,\mathrm{k}_\mathrm{g}-1\},$<br> å…¶ä¸­ Z è¡¨ç¤ºå½’ä¸€åŒ–é¡¹ï¼Œ$k_g$ è¡¨ç¤ºæ ¸å¤§å°ï¼Œ$Ïƒ_g$ è¡¨ç¤ºæ ‡å‡†å·®ã€‚å› æ­¤ï¼ŒæŸ¥è¯¢ä»»æ„ç‚¹ p çš„å…‰æ»‘ SDF å€¼ $d â€˜$ å˜ä¸º: $d^{\prime}=\mathrm{interp}(p,\mathcal{G}(V^{(sdf)},k_{g},\sigma_{g})).$</p><p>æˆ‘ä»¬åœ¨ following Eqn1,2ä½¿ç”¨ $d â€˜$ è¿›è¡Œå°„çº¿è¡Œè¿›ç§¯åˆ†ï¼Œå¹¶è®¡ç®—é‡å»ºæŸå¤±ã€‚æˆ‘ä»¬è¿˜åº”ç”¨äº†å‡ ä¸ªå¹³æ»‘å…ˆéªŒï¼Œå¦‚ç¬¬ 5.3 èŠ‚æ‰€è¿°</p><h2 id="FINE-GEOMETRY-OPTIMIZATION"><a href="#FINE-GEOMETRY-OPTIMIZATION" class="headerlink" title="FINE GEOMETRY OPTIMIZATION"></a>FINE GEOMETRY OPTIMIZATION</h2><p>åœ¨æ­¤é˜¶æ®µï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ç²—åˆå§‹åŒ–çš„åŸºç¡€ä¸Šæ¢å¤ç²¾ç¡®çš„å‡ ä½•ç»†èŠ‚ã€‚æˆ‘ä»¬æ³¨æ„åˆ°æŒ‘æˆ˜æ˜¯åŒé‡çš„:<br>1) ç¬¬ 4 èŠ‚çš„ç ”ç©¶æ­ç¤ºäº†ç‰¹å¾ä½“ç´ ç½‘æ ¼å¼•å…¥çš„æƒè¡¡ï¼Œå³ä»¥ç‰ºç‰²é¢œè‰²å‡ ä½•ä¾èµ–æ€§ä¸ºä»£ä»·æé«˜äº†é¢œè‰²åœºçš„è¡¨ç¤ºèƒ½åŠ›ã€‚<br>2) SDF ä½“ç´ ç½‘æ ¼çš„ä¼˜åŒ–æ˜¯åŸºäºä¸‰çº¿æ’å€¼æ¥æŸ¥è¯¢ä¸‰ç»´ç‚¹ã€‚è¯¥æ“ä½œå¸¦æ¥äº†å¿«é€Ÿæ”¶æ•›ï¼Œä½†ä¹Ÿé™åˆ¶äº†ä¸åŒä½ç½®ä¹‹é—´çš„ä¿¡æ¯å…±äº«ï¼Œè¿™å¯èƒ½å¯¼è‡´é€€åŒ–è§£çš„å±€éƒ¨æœ€å°å€¼å’Œæ¬¡ä¼˜å¹³æ»‘åº¦ã€‚<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§åŒè‰²ç½‘ç»œå’Œä¸€ç§åˆ†å±‚å‡ ä½•ç‰¹å¾æ¥åˆ†åˆ«è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜</strong>ã€‚</p><h3 id="Dual-color-network"><a href="#Dual-color-network" class="headerlink" title="Dual color network."></a>Dual color network.</h3><p>ç¬¬4èŠ‚çš„è§‚å¯Ÿé¼“åŠ±æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªåŒè‰²ç½‘ç»œï¼Œåˆ©ç”¨ä»å¯å­¦ä¹ çš„ç‰¹å¾ä½“ç´ ç½‘æ ¼ $V^{(feat)}$ æ’å€¼çš„å±€éƒ¨ç‰¹å¾ $f_i^{feat}$ï¼Œè€Œä¸å¤±å»é¢œè‰²å‡ ä½•ä¾èµ–æ€§ã€‚å¦‚å›¾ 3 æ‰€ç¤ºï¼Œé™¤äº†åµŒå…¥ä½ç½®å’Œè§†å›¾æ–¹å‘å¤–ï¼Œæˆ‘ä»¬è¿˜è®­ç»ƒäº†ä¸¤ä¸ªå…·æœ‰ä¸åŒé™„åŠ è¾“å…¥çš„æµ… mlpã€‚ç¬¬ä¸€ä¸ª MLPggeo é‡‡ç”¨ geo çš„åˆ†å±‚å‡ ä½•ç‰¹å¾(ç¨åå°†ä»‹ç»)æ¥æ„å»ºé¢œè‰²å‡ ä½•ä¾èµ–;ç¬¬äºŒç§æ–¹æ³•åŒæ—¶é‡‡ç”¨ç®€å•çš„å‡ ä½•ç‰¹å¾(å³è¡¨é¢æ³•çº¿ ni)å’Œå±€éƒ¨ç‰¹å¾ f I ä½œä¸ºè¾“å…¥ï¼Œä»¥å®ç°æ›´å¿«ã€æ›´ç²¾ç¡®çš„é¢œè‰²å­¦ä¹ ï¼Œè¿™åè¿‡æ¥åˆæœ‰åˆ©äºå‡ ä½•ä¼˜åŒ–ã€‚è¿™ä¸¤ä¸ªç½‘ç»œé€šè¿‡åˆ†ç¦»æ“ä½œä»¥æ®‹å·®æ–¹å¼ç»„åˆ:åœ¨è¾“å…¥ togf ä¹‹å‰åˆ†ç¦» ggeo çš„è¾“å‡ºï¼Œè¡¨ç¤ºä¸º c0ï¼Œå¹¶å°†è¾“å‡ºæ·»åŠ å› c0 çš„åˆ†ç¦»å‰¯æœ¬ï¼Œä»¥è·å¾—æœ€ç»ˆçš„é¢œè‰²é¢„æµ‹ c</p><p>ç¬¬4èŠ‚çš„è§‚å¯Ÿç»“æœé¼“åŠ±æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªåŒè‰²ç½‘ç»œï¼Œåˆ©ç”¨ä»å¯å­¦ä¹ çš„ç‰¹å¾ä½“ç´ ç½‘æ ¼ $V^{(feat)}$ æ’å€¼çš„å±€éƒ¨ç‰¹å¾ $f_i^{feat}$ï¼Œè€Œä¸å¤±å»é¢œè‰²å‡ ä½•ä¾èµ–æ€§ã€‚å¦‚å›¾3æ‰€ç¤ºï¼Œé™¤äº†åµŒå…¥ä½ç½®å’Œè§†å›¾æ–¹å‘å¤–ï¼Œæˆ‘ä»¬è¿˜è®­ç»ƒäº†ä¸¤ä¸ªå…·æœ‰ä¸åŒé™„åŠ è¾“å…¥çš„æµ… mlpã€‚ç¬¬ä¸€ä¸ª MLP $g_{geo}$ é‡‡ç”¨åˆ†å±‚å‡ ä½•ç‰¹å¾ $f_i^{geo}$ (ç¨åå°†ä»‹ç»)æ¥æ„å»º color-geometry ä¾èµ–å…³ç³»;ç¬¬äºŒä¸ª MLP $g_{feat}$ åŒæ—¶ä½¿ç”¨ä¸€ä¸ªç®€å•çš„å‡ ä½•ç‰¹å¾ (å³è¡¨é¢æ³•çº¿ $n_i)$ å’Œå±€éƒ¨ç‰¹å¾ $f_i^{feat}$ ä½œä¸ºè¾“å…¥ï¼Œä»¥å®ç°æ›´å¿«ï¼Œæ›´ç²¾ç¡®çš„é¢œè‰²å­¦ä¹ ï¼Œä»è€Œæœ‰åˆ©äºå‡ ä½•ä¼˜åŒ–ã€‚è¿™ä¸¤ä¸ªç½‘ç»œé€šè¿‡åˆ†ç¦»æ“ä½œä»¥æ®‹å·®æ–¹å¼ç»„åˆåœ¨ä¸€èµ·: $g_{geo}$ çš„è¾“å‡º(è¡¨ç¤ºä¸º $c_0$)åœ¨è¾“å…¥ $g_{feat}$ ä¹‹å‰è¢«åˆ†ç¦»ï¼Œç„¶åå°†è¾“å‡ºæ·»åŠ å› $c_{0}$ çš„åˆ†ç¦»å‰¯æœ¬ï¼Œä»¥è·å¾—æœ€ç»ˆçš„é¢œè‰²é¢„æµ‹ $c$ã€‚</p><p>$g_{geo}$ å’Œ $g_{feat}$ çš„è¾“å‡ºéƒ½ç”±åœ°é¢çœŸå€¼å›¾åƒå’Œæ²¿å°„çº¿çš„é›†æˆé¢œè‰²ä¹‹é—´çš„é‡å»ºæŸå¤±æ¥ç›‘ç£ã€‚å…·ä½“æ¥è¯´ï¼Œå°†å®ƒä»¬çš„æ¸²æŸ“é¢œè‰²è¡¨ç¤ºä¸º $C^0(r)$ å’Œ $C(r)$ï¼Œæ•´ä½“é‡æ„æŸå¤±è¡¨ç¤ºä¸º:<br>$\mathcal{L}_{recon}=\frac1{\mathcal{R}}\sum_{r\in\mathcal{R}}\left(||C(r)-\hat{C}(r)||_2^2+\lambda_0||C_0(r)-\hat{C}(r)||_2^2\right),$</p><p>å¼ä¸­ $\hat{C}(r)$ è¡¨ç¤ºçœŸè‰²ï¼Œ$\lambda_{0}$ è¡¨ç¤ºæŸå¤±æƒå€¼ã€‚$V^{(feat)}$ å’Œ MLP $g_{feat}$ å¯¹åœºæ™¯çš„æ‹Ÿåˆé€Ÿåº¦è¾ƒå¿«ï¼Œè€Œ MLP $g_{geo}$ å¯¹åœºæ™¯çš„æ‹Ÿåˆé€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚åˆ†ç¦»æ“ä½œä¿ƒè¿›äº† $g_{geo}$ åœ¨è‡ªèº«é‡æ„æŸå¤±çš„æŒ‡å¯¼ä¸‹çš„ç¨³å®šä¼˜åŒ–ï¼Œè¿™æœ‰åŠ©äºä¿æŒé¢œè‰²å‡ ä½•ä¾èµ–æ€§ã€‚</p><h3 id="Hierarchical-geometry-feature"><a href="#Hierarchical-geometry-feature" class="headerlink" title="Hierarchical geometry feature."></a>Hierarchical geometry feature.</h3><p>åˆ†å±‚å‡ ä½•ç‰¹å¾ã€‚ä½¿ç”¨è¡¨é¢æ³•çº¿ $n$ ä½œä¸ºé¢œè‰²ç½‘ç»œçš„å‡ ä½•ç‰¹å¾æ˜¯ä¸€ä¸ªç®€å•çš„é€‰æ‹©ï¼Œè€Œå®ƒåªä»ç›¸é‚»çš„ $V^{(SDF)}$ çš„ç½‘æ ¼ä¸­è·å–ä¿¡æ¯ã€‚ä¸ºäº†æ‰©å¤§æ„ŸçŸ¥åŒºåŸŸå¹¶é¼“åŠ±ä¿¡æ¯è·¨ä½“ç´ ä¼ æ’­ï¼Œæˆ‘ä»¬å»ºè®®æŸ¥çœ‹æ›´å¤§çš„ SDF åœºåŒºåŸŸï¼Œå¹¶å°†ç›¸åº”çš„ SDF å€¼å’Œæ¢¯åº¦ä½œä¸ºé¢œè‰²ç½‘ç»œçš„è¾…åŠ©æ¡ä»¶ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºç»™å®šçš„ 3D ä½ç½® $p=(x,y,z)$ï¼Œæˆ‘ä»¬å–ä½“ç´ å¤§å° $v_s$ çš„ä¸€åŠä½œä¸ºæ­¥é•¿ï¼Œå¹¶æ²¿ç€ $x,y,z$ åæ ‡è½´ä¸¤ä¾§å®šä¹‰å®ƒçš„é‚»å±…ã€‚ä»¥ X è½´ä¸ºä¾‹,é‚»è¿‘çš„åæ ‡å®šä¹‰ä¸º $p_x ^ {l -} = (x ^ {l -}, y, z)$ å’Œ $p_x ^ {l +} = (x ^ {l +}, y, z)$,åœ¨ $X ^ {l -} = \max(x-l <em> v_s, 0)$, $X ^ {l +} = \min (x + l </em> v_s ,v_x ^ m), l \in[0.5, 1.0, 1.5,â€¦]$ è¡¨ç¤ºç›¸é‚»åŒºåŸŸçš„â€œæ°´å¹³â€ï¼Œ$v_x^m$ è¡¨ç¤ºä½“ç´ ç½‘æ ¼åœ¨ $x$ è½´ä¸Šçš„æœ€å¤§å€¼ã€‚ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡å°†ä¸åŒçº§åˆ«çš„é‚»å±…è¿æ¥åœ¨ä¸€èµ·ï¼Œå°†å®šä¹‰æ‰©å±•ä¸ºåˆ†å±‚æ–¹å¼ï¼Œå¦‚ä¸‹æ‰€ç¤º:<br>$\begin{aligned}d_k^l=[d_k^{l-},d_k^{l+}]&amp;=[\text{interp}(p_k^{l-},V^{(sdf)}),\text{interp}(p_k^{l+},V^{(sdf)})],k\in\{x,y,z\},\\f_p^{sdf}(l)&amp;=[d^0,d_x^{0.5},d_y^{0.5},d_z^{0.5},\cdots,d_x^{l},d_y^{l},d_z^{l}]^T,\end{aligned}$</p><p>å…¶ä¸­ $d_x^l$ è¡¨ç¤ºåœ¨ $p_x^{l-}$ å’Œ $p_x^{l+}$ ä½ç½®ä» $V^{(SDF)}$ æŸ¥è¯¢åˆ°çš„ SDF å€¼ã€‚å½“ $l= 0$ æ—¶ï¼Œf $_p^{sdf}(0) = d^0$ï¼Œè¿™æ­£æ˜¯ä½ç½® $p$ æœ¬èº«çš„ sdf å€¼ã€‚ç„¶åï¼Œæˆ‘ä»¬è¿˜å°†æ¢¯åº¦ä¿¡æ¯åˆå¹¶åˆ°å‡ ä½•ç‰¹å¾ä¸­ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ¢¯åº¦å‘é‡ $\delta_x^l=(d_x^{l+}-d_x^{l-})/(2<em>l</em>v_s)$ã€‚æˆ‘ä»¬å°† $[\delta_x^lï¼Œ\delta_y^lï¼Œ\delta_z^l]$ å½’ä¸€åŒ–ä¸º l çš„ l2 èŒƒæ•°ï¼Œè¡¨ç¤ºä¸º $n^l\in\mathbb{R}^3ã€‚$ normal çš„åˆ†å±‚ç‰ˆæœ¬å…¬å¼ä¸º: $\begin{aligned}f_p^{normal}(l)=[n^{0.5},\cdots,n^l].\end{aligned}$<br>æœ€åï¼Œåœ¨ç‚¹ p å¤„çš„åˆ†å±‚å‡ ä½•ç‰¹å¾ä¸ºé¢„å®šä¹‰çš„æ°´å¹³ $l\in[0.5,1.0,1.5ï¼Œâ€¦]$ æ˜¯ $f_p^{geo}(l)=[f_p^{sdf}(l),f_p^{normal}(l)].$ï¼Œå°† $f_p^{geo}(l)$ è¾“å…¥è¿› MLP $g_{geo}$ ä¸­è¾…åŠ©å‡ ä½•å­¦ä¹ </p><h2 id="SMOOTHNESS-PRIORS"><a href="#SMOOTHNESS-PRIORS" class="headerlink" title="SMOOTHNESS PRIORS"></a>SMOOTHNESS PRIORS</h2><p>æˆ‘ä»¬ç»“åˆäº†ä¸¤ä¸ªæœ‰æ•ˆçš„æ­£åˆ™åŒ–é¡¹æ¥æé«˜è®­ç»ƒè¿‡ç¨‹ä¸­çš„è¡¨é¢å¹³æ»‘åº¦ã€‚<br>(1)é¦–å…ˆï¼Œæˆ‘ä»¬é‡‡ç”¨äº†æ€»å˜åˆ†(TV)æ­£åˆ™åŒ–(Rudin &amp; Osher, 1994):<br>$\mathcal{L}_{TV}(V)=\sum_{d\in[D]}\sqrt{\Delta_{x}^{2}(V,d)+\Delta_{y}^{2}(V,d)+\Delta_{z}^{2}(V,d)},$<br>å…¶ä¸­ $\Delta_x^2(V,d)$ è¡¨ç¤º voxel $v:=(i;j;k)$ å’Œ voxel $(i+1;j;k)$ ä¸­ç¬¬ d é€šé“å€¼ä¹‹é—´çš„å¹³æ–¹å·®ï¼Œå¯ä»¥ç±»ä¼¼åœ°æ‰©å±•åˆ° $\Delta_y^2(V,d)$ å’Œ $\Delta_z^2(V,d)$ã€‚æˆ‘ä»¬å°†ä¸Šé¢çš„ TV é¡¹åº”ç”¨äº SDF ä½“ç´ ç½‘æ ¼ï¼Œè¡¨ç¤ºä¸º $\mathcal{L}_{TV}(V^{(SDF)})$ï¼Œè¿™é¼“åŠ±äº†è¿ç»­å’Œç´§å‡‘çš„å‡ ä½•ç»“æ„ã€‚</p><p>(2)æˆ‘ä»¬ä¹Ÿå‡è®¾è¡¨é¢åœ¨å±€éƒ¨åŒºåŸŸæ˜¯å…‰æ»‘çš„ï¼Œæˆ‘ä»¬éµå¾ªç¬¬ 5.1 èŠ‚ä¸­é«˜æ–¯å·ç§¯çš„å®šä¹‰ï¼Œå¼•å…¥å…‰æ»‘æ­£åˆ™åŒ–ï¼Œå…¬å¼ä¸º:<br>$\mathcal{L}_{smooth}(V)=||\mathcal{G}(V,k_{g},\sigma_{g})-V||_{2}^{2},$<br>æˆ‘ä»¬å°†ä¸Šè¿°å¹³æ»‘é¡¹åº”ç”¨äº SDF ä½“ç´ ç½‘æ ¼çš„æ¢¯åº¦ï¼Œå¾—åˆ°æ¢¯åº¦å¹³æ»‘æŸå¤±ï¼Œè®°ä¸º $\mathcal{L}_{smooth}(\nabla V^{(sdf)})$ã€‚å®ƒé¼“åŠ±å…‰æ»‘çš„è¡¨é¢ï¼Œå‡è½»äº†è‡ªç”±ç©ºé—´ä¸­å˜ˆæ‚ç‚¹çš„é—®é¢˜ã€‚æ³¨æ„ï¼Œç”±äº SDF çš„æ˜¾å¼è¡¨ç¤ºï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è®­ç»ƒåè‡ªç„¶åœ°å¯¹ SDF å­—æ®µè¿›è¡Œåå¤„ç†ã€‚ä¾‹å¦‚ï¼Œåœ¨æå–å‡ ä½•å›¾å½¢ä¹‹å‰åº”ç”¨é«˜æ–¯æ ¸å¯ä»¥è¿›ä¸€æ­¥æé«˜è¡¨é¢çš„å¹³æ»‘åº¦ï¼Œä»è€Œè·å¾—æ›´å¥½çš„å¯è§†åŒ–æ•ˆæœã€‚</p><p>æœ€åï¼Œå°†æ•´ä½“è®­ç»ƒæŸå¤±è¡¨ç¤ºä¸º: $\mathcal{L}=\mathcal{L}_{recon}+\lambda_{tv}\mathcal{L}_{TV}(V^{(sdf)})+\lambda_{s}\mathcal{L}_{smooth}(\nabla V^{(sdf)}),$</p><h1 id="EXPERIMENTS"><a href="#EXPERIMENTS" class="headerlink" title="EXPERIMENTS"></a>EXPERIMENTS</h1><p>ä½¿ç”¨ DTU æ•°æ®é›†å®šæ€§å®šé‡çš„æ¯”è¾ƒï¼Œå† BlenderMVS æ•°æ®é›†ä¸Šå®šæ€§çš„æ¯”è¾ƒ<br>æ¯”è¾ƒçš„æ–¹æ³•ï¼šIDRã€NeuSã€NeRFã€DVGOã€Point-NeRFï¼Œä¸ºæ‰€æœ‰æ–¹æ³•æä¾›äº†ä¸€ä¸ªå¹²å‡€çš„èƒŒæ™¯ï¼Œä»¥ä¾¿å…¬å¹³æ¯”è¾ƒã€‚</p><h1 id="CONCLUSION"><a href="#CONCLUSION" class="headerlink" title="CONCLUSION"></a>CONCLUSION</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºä½“ç´ çš„ç¥ç»è¡¨é¢é‡æ„æ–¹æ³• Voxurfã€‚å®ƒåŒ…æ‹¬å‡ ä¸ªå…³é”®è®¾è®¡:ä¸¤é˜¶æ®µæ¡†æ¶è·å¾—è¿è´¯çš„ç²—å½¢çŠ¶ï¼Œå¹¶ä¾æ¬¡æ¢å¤ç²¾ç»†ç»†èŠ‚;åŒè‰²ç½‘ç»œæœ‰åŠ©äºä¿æŒé¢œè‰²å‡ ä½•ä¾èµ–æ€§ï¼Œåˆ†å±‚å‡ ä½•ç‰¹å¾é¼“åŠ±ä¿¡æ¯è·¨ä½“ç´ ä¼ æ’­;æœ‰æ•ˆå¹³æ»‘å…ˆéªŒåŒ…æ‹¬æ¢¯åº¦å¹³æ»‘æŸå¤±è¿›ä¸€æ­¥æé«˜è§†è§‰è´¨é‡ã€‚å¤§é‡çš„å®éªŒè¡¨æ˜ï¼ŒVoxurf åŒæ—¶å®ç°äº†é«˜æ•ˆç‡å’Œé«˜è´¨é‡ã€‚</p><h1 id="å¤ç°"><a href="#å¤ç°" class="headerlink" title="å¤ç°"></a>å¤ç°</h1><p>æœ¬æœºï¼šåªèƒ½ä½¿ç”¨ cuda11.1 ç‰ˆæœ¬</p><ul><li>Win10ï¼Œtorchvision 0.11.0+cu111 æ²¡æœ‰ windows ç‰ˆæœ¬<ul><li>æ¢ cu113 ç‰ˆæœ¬</li></ul></li><li>Wsl2ï¼Œubuntu ç‰ˆæœ¬æ— æ³•ä½¿ç”¨ cuda11.1</li></ul><p>ä½œè€…æ²¡æœ‰åšå¥½å¤šç‰ˆæœ¬ torch å’Œ cuda çš„é€‚é…</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> Voxel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VolSDF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/VolSDF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/VolSDF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Volume Rendering of Neural Implicit Surfaces</th></tr></thead><tbody><tr><td>Author</td><td>Lior Yariv, Jiatao Gu, Yoni Kasten, Yaron Lipman</td></tr><tr><td>Conf/Jour</td><td>NeurIPS 2021 Oral presentation</td></tr><tr><td>Year</td><td>2021</td></tr><tr><td>Project</td><td><a href="https://lioryariv.github.io/volsdf/">Volume Rendering of Neural Implicit Surfaces (lioryariv.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4545341065975717889&amp;noteId=2073471740411162624">Volume Rendering of Neural Implicit Surfaces (readpaper.com)</a></td></tr></tbody></table></div><p>å°† NeRF çš„å¯†åº¦åœºæ›¿æ¢ä¸º SDFï¼Œæå‡ºäº†è¯¦ç»†çš„é‡‡æ ·ç®—æ³•</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231201160653.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç¥ç»ä½“ç»˜åˆ¶æœ€è¿‘è¶Šæ¥è¶Šæµè¡Œï¼Œå› ä¸ºå®ƒæˆåŠŸåœ°ä»ä¸€ç»„ç¨€ç–çš„è¾“å…¥å›¾åƒåˆæˆäº†ä¸€ä¸ªåœºæ™¯çš„æ–°è§†å›¾ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œé€šè¿‡ç¥ç»ä½“ç»˜åˆ¶æŠ€æœ¯å­¦ä¹ çš„å‡ ä½•å›¾å½¢æ˜¯ä½¿ç”¨é€šç”¨å¯†åº¦å‡½æ•°å»ºæ¨¡çš„ã€‚æ­¤å¤–ï¼Œ<strong>ä½¿ç”¨å¯†åº¦å‡½æ•°çš„ä»»æ„æ°´å¹³é›†æå–å‡ ä½•å½¢çŠ¶æœ¬èº«ï¼Œå¯¼è‡´æœ‰å™ªå£°</strong>ï¼Œé€šå¸¸æ˜¯ä½ä¿çœŸåº¦çš„é‡å»ºã€‚æœ¬æ–‡çš„ç›®æ ‡æ˜¯æ”¹è¿›ç¥ç»ä½“ç»˜åˆ¶ä¸­çš„å‡ ä½•è¡¨ç¤ºå’Œé‡å»ºã€‚æˆ‘ä»¬é€šè¿‡å°†ä½“ç§¯å¯†åº¦å»ºæ¨¡ä¸ºå‡ ä½•å½¢çŠ¶çš„å‡½æ•°æ¥å®ç°è¿™ä¸€ç‚¹ã€‚è¿™ä¸ä¹‹å‰å°†å‡ ä½•å½¢çŠ¶å»ºæ¨¡ä¸ºä½“ç§¯å¯†åº¦å‡½æ•°çš„å·¥ä½œå½¢æˆå¯¹æ¯”ã€‚æ›´è¯¦ç»†åœ°è¯´ï¼Œ<strong>æˆ‘ä»¬å°†ä½“ç§¯å¯†åº¦å‡½æ•°å®šä¹‰ä¸ºåº”ç”¨äºæœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)è¡¨ç¤ºçš„æ‹‰æ™®æ‹‰æ–¯ç´¯ç§¯åˆ†å¸ƒå‡½æ•°(CDF)</strong>ã€‚è¿™ç§ç®€å•çš„å¯†åº¦è¡¨ç¤ºæœ‰ä¸‰ä¸ªå¥½å¤„:<br>(i)å®ƒä¸ºåœ¨ç¥ç»ä½“ç»˜åˆ¶è¿‡ç¨‹ä¸­å­¦ä¹ åˆ°çš„å‡ ä½•å›¾å½¢æä¾›äº†æœ‰ç”¨çš„å½’çº³åç½®<em>inductive bias</em>;<br>(ii)å®ƒæœ‰åˆ©äºä¸é€æ˜åº¦è¿‘ä¼¼è¯¯å·®çš„é™åˆ¶ï¼Œä»è€Œå¯¼è‡´è§‚å¯Ÿå…‰çº¿çš„ç²¾ç¡®é‡‡æ ·ã€‚å‡†ç¡®çš„é‡‡æ ·æ˜¯é‡è¦çš„ï¼Œä»¥æä¾›å‡ ä½•å’Œè¾å°„çš„ç²¾ç¡®è€¦åˆ;å¹¶ä¸”<br>(iii)å®ƒå…è®¸åœ¨ä½“ç§¯æ¸²æŸ“ä¸­æœ‰æ•ˆåœ°æ— ç›‘ç£åœ°è§£é™¤å½¢çŠ¶å’Œå¤–è§‚çš„çº ç¼ ã€‚å°†è¿™ç§æ–°çš„å¯†åº¦è¡¨ç¤ºåº”ç”¨äºå…·æœ‰æŒ‘æˆ˜æ€§çš„åœºæ™¯å¤šè§†å›¾æ•°æ®é›†ï¼Œäº§ç”Ÿé«˜è´¨é‡çš„å‡ ä½•é‡å»ºï¼Œä¼˜äºç›¸å…³åŸºçº¿ã€‚æ­¤å¤–ï¼Œç”±äºä¸¤è€…çš„è§£é™¤çº ç¼ ï¼Œåœ¨åœºæ™¯ä¹‹é—´åˆ‡æ¢å½¢çŠ¶å’Œå¤–è§‚æ˜¯å¯èƒ½çš„ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong>ä½“æ¸²æŸ“å®šä¹‰ &amp; æœ€æ–°çš„ç¥ç»ä½“æ¸²æŸ“ä¼˜ç‚¹+ç¼ºç‚¹</strong><br>ä½“æ¸²æŸ“[21]æ˜¯é€šè¿‡æ‰€è°“çš„ä½“æ¸²æŸ“ç§¯åˆ†åœ¨å…‰åœºä¸­æ¸²æŸ“ä½“ç§¯å¯†åº¦çš„ä¸€ç»„æŠ€æœ¯ã€‚æœ€è¿‘æœ‰ç ”ç©¶è¡¨æ˜ï¼Œå°†å¯†åº¦å’Œå…‰åœºéƒ½è¡¨ç¤ºä¸ºç¥ç»ç½‘ç»œï¼Œå¯ä»¥é€šè¿‡ä»…ä»ç¨€ç–çš„è¾“å…¥å›¾åƒé›†ä¸­å­¦ä¹ ï¼Œä»è€Œå®ç°å¯¹æ–°è§†å›¾çš„å‡ºè‰²é¢„æµ‹ã€‚è¿™ç§ç¥ç»ä½“ç»˜åˆ¶æ–¹æ³•åœ¨[24]ä¸­æå‡ºï¼Œå¹¶ç”±å…¶åç»­ç ”ç©¶[38,3]å‘å±•ï¼Œä»¥ä¸€ç§å¯å¾®çš„æ–¹å¼å°†ç§¯åˆ†è¿‘ä¼¼ä¸º alpha-compositionï¼Œå…è®¸åŒæ—¶ä»è¾“å…¥å›¾åƒä¸­å­¦ä¹ ã€‚è™½ç„¶è¿™ç§è€¦åˆç¡®å®å¯ä»¥å¾ˆå¥½åœ°æ¦‚æ‹¬æ–°çš„è§‚çœ‹æ–¹å‘ï¼Œä½†å¯†åº¦éƒ¨åˆ†åœ¨å¿ å®åœ°é¢„æµ‹åœºæ™¯çš„å®é™…å‡ ä½•å½¢çŠ¶æ–¹é¢å¹¶ä¸æˆåŠŸï¼Œé€šå¸¸ä¼šäº§ç”Ÿå˜ˆæ‚çš„ã€ä½ä¿çœŸçš„å‡ ä½•è¿‘ä¼¼ã€‚</p><p><strong>æœ¬æ–‡ VolSDF æ–¹æ³•ä¸»è¦æ€æƒ³+ä¼˜ç‚¹</strong><br>æˆ‘ä»¬æå‡º VolSDF ä¸ºç¥ç»ä½“æ¸²æŸ“ä¸­çš„å¯†åº¦è®¾è®¡ä¸€ä¸ªä¸åŒçš„æ¨¡å‹ï¼Œä»è€Œåœ¨ä¿æŒè§†å›¾åˆæˆè´¨é‡çš„åŒæ—¶æ›´å¥½åœ°è¿‘ä¼¼åœºæ™¯çš„å‡ ä½•å½¢çŠ¶ã€‚å…³é”®æ€æƒ³æ˜¯å°†å¯†åº¦è¡¨ç¤ºä¸ºåˆ°åœºæ™¯è¡¨é¢çš„å¸¦ç¬¦å·è·ç¦»çš„å‡½æ•°ï¼Œå‚è§å›¾ 1ã€‚è¿™æ ·çš„å¯†åº¦å‡½æ•°æœ‰å‡ ä¸ªå¥½å¤„ã€‚é¦–å…ˆï¼Œå®ƒä¿è¯å­˜åœ¨ä¸€ä¸ªå®šä¹‰è‰¯å¥½çš„è¡¨é¢æ¥äº§ç”Ÿå¯†åº¦ã€‚è¿™ä¸ºè§£çº ç¼ å¯†åº¦å’Œå…‰åœºæä¾›äº†æœ‰ç”¨çš„å½’çº³åç½®ï¼Œä»è€Œæä¾›äº†æ›´ç²¾ç¡®çš„å‡ ä½•è¿‘ä¼¼ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è¡¨æ˜è¿™ç§å¯†åº¦å…¬å¼å…è®¸æ²¿æ¯æ¡å°„çº¿çš„ä¸é€æ˜åº¦çš„è¿‘ä¼¼è¯¯å·®çš„è¾¹ç•Œã€‚è¯¥è¾¹ç•Œç”¨äºå¯¹è§‚å¯Ÿå…‰çº¿è¿›è¡Œé‡‡æ ·ï¼Œä»¥ä¾¿åœ¨ä½“æ¸²æŸ“ç§¯åˆ†ä¸­æä¾›å¯†åº¦å’Œå…‰åœºçš„å¿ å®è€¦åˆã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ²¡æœ‰è¿™æ ·çš„ç•Œé™ï¼Œæ²¿å°„çº¿(åƒç´ é¢œè‰²)è®¡ç®—çš„äº®åº¦å¯èƒ½ä¼šé—æ¼æˆ–æ‰©å±•è¡¨é¢éƒ¨åˆ†ï¼Œå¯¼è‡´ä¸æ­£ç¡®çš„äº®åº¦è¿‘ä¼¼ã€‚</p><p><strong>å¹¶è¡Œç ”ç©¶æ–¹å‘â€”â€”åŸºäºè¡¨é¢æ¸²æŸ“æ–¹æ³•çš„ç¼ºç‚¹</strong><br>ä¸€ä¸ªå¯†åˆ‡ç›¸å…³çš„ç ”ç©¶ï¼Œé€šå¸¸è¢«ç§°ä¸ºç¥ç»éšå¼æ›²é¢[25,42,15]ï¼Œä¸€ç›´ä¸“æ³¨äºä½¿ç”¨ç¥ç»ç½‘ç»œéšå¼åœ°è¡¨ç¤ºåœºæ™¯çš„å‡ ä½•å½¢çŠ¶ï¼Œä½¿è¡¨é¢æ¸²æŸ“è¿‡ç¨‹å¯å¾®åˆ†ã€‚è¿™äº›æ–¹æ³•çš„ä¸»è¦ç¼ºç‚¹æ˜¯å®ƒä»¬éœ€è¦é®ç½©å°†ç‰©ä½“ä¸èƒŒæ™¯åˆ†å¼€ã€‚æ­¤å¤–ï¼Œå­¦ä¹ ç›´æ¥æ¸²æŸ“è¡¨é¢å¾€å¾€ä¼šç”±äºä¼˜åŒ–é—®é¢˜è€Œäº§ç”Ÿå¤šä½™çš„éƒ¨åˆ†ï¼Œè¿™å¯ä»¥é€šè¿‡ä½“ç»˜åˆ¶æ¥é¿å…ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œæˆ‘ä»¬çš„å·¥ä½œç»“åˆäº†ä¸¤ä¸ªä¸–ç•Œçš„ä¼˜ç‚¹:ä½“ç§¯æ¸²æŸ“å’Œç¥ç»éšå¼è¡¨é¢ã€‚</p><p><strong>å…·ä½“å®æ–½+æ›´å¥½çš„ç»“æœ</strong><br>æˆ‘ä»¬é€šè¿‡é‡å»º DTU[13]å’Œ BlendedMVS[41]æ•°æ®é›†çš„è¡¨é¢æ¥è¯æ˜ VolSDF çš„æœ‰æ•ˆæ€§ã€‚ä¸ NeRF[24]å’Œ NeRF++[44]ç›¸æ¯”ï¼ŒVolSDF äº§ç”Ÿäº†æ›´ç²¾ç¡®çš„è¡¨é¢é‡å»ºï¼Œä¸ IDR[42]ç›¸æ¯”ï¼ŒVolSDF äº§ç”Ÿäº†æ›´ç²¾ç¡®çš„é‡å»ºï¼ŒåŒæ—¶é¿å…äº†ä½¿ç”¨å¯¹è±¡æ©æ¨¡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ç”¨æˆ‘ä»¬çš„æ–¹æ³•è§£é™¤çº ç¼ çš„ç»“æœï¼Œå³åˆ‡æ¢ä¸åŒåœºæ™¯çš„å¯†åº¦å’Œå…‰åœºï¼Œè¿™åœ¨åŸºäº nerf çš„æ¨¡å‹ä¸­è¢«è¯æ˜æ˜¯å¤±è´¥çš„ã€‚</p><h2 id="Related-work"><a href="#Related-work" class="headerlink" title="Related work"></a>Related work</h2><p>Neural Scene Representation &amp; Rendering<br>ä¼ ç»Ÿä¸Šï¼Œä¸‰ç»´åœºæ™¯å»ºæ¨¡é‡‡ç”¨éšå¼å‡½æ•°[27,12,5]ã€‚ç”±äºå¤šå±‚æ„ŸçŸ¥å™¨(MLP)çš„è¡¨è¾¾èƒ½åŠ›å¼ºä¸”å ç”¨å†…å­˜å°‘ï¼Œæœ€è¿‘çš„ç ”ç©¶ä¸»è¦é›†ä¸­åœ¨åŸºäº MLP çš„æ¨¡å‹éšå¼å‡½æ•°ä¸Šï¼ŒåŒ…æ‹¬åœºæ™¯(å‡ ä½•å’Œå¤–è§‚)è¡¨ç¤º[10,23,22,26,28,33,40,31,39]å’Œè‡ªç”±è§†å›¾æ¸²æŸ“[37,18,34,29,19,24,17,44,38,3]ã€‚ç‰¹åˆ«æ˜¯ï¼Œ<strong>NeRF</strong>[24]å¼€è¾Ÿäº†ä¸€æ¡ç ”ç©¶è·¯çº¿(è§[7]æ¦‚è¿°)ï¼Œ<strong>å°†ç¥ç»éšå¼å‡½æ•°ä¸ä½“ç»˜åˆ¶ç»“åˆèµ·æ¥ï¼Œä»¥å®ç°é€¼çœŸçš„æ¸²æŸ“ç»“æœ</strong>ã€‚<strong>ç„¶è€Œï¼Œä»é¢„æµ‹å¯†åº¦ä¸­å¯»æ‰¾åˆé€‚çš„é˜ˆå€¼æå–æ›²é¢å¹¶éæ˜“äº‹ï¼Œå¹¶ä¸”æ¢å¤çš„å‡ ä½•å½¢çŠ¶è¿œä¸èƒ½ä»¤äººæ»¡æ„</strong>ã€‚æ­¤å¤–ï¼Œæ²¿ç€å…‰çº¿å¯¹ç‚¹è¿›è¡Œé‡‡æ ·ä»¥å‘ˆç°åƒç´ æ˜¯ä½¿ç”¨ä»å¦ä¸€ä¸ªç½‘ç»œè¿‘ä¼¼çš„ä¸é€æ˜åº¦å‡½æ•°å®Œæˆçš„ï¼Œè€Œä¸ä¿è¯æ­£ç¡®çš„è¿‘ä¼¼ã€‚</p><p>Multi-view 3D Reconstruction<br>åœ¨è¿‡å»çš„å‡ åå¹´é‡Œï¼ŒåŸºäºå›¾åƒçš„ä¸‰ç»´è¡¨é¢é‡å»º(å¤šè§†ç‚¹ç«‹ä½“)ä¸€ç›´æ˜¯ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„é—®é¢˜ã€‚ç»å…¸çš„å¤šè§†å›¾ç«‹ä½“æ–¹æ³•é€šå¸¸æ˜¯åŸºäºæ·±åº¦çš„[2,35,9,8]æˆ–åŸºäºä½“ç´ çš„[6,4,36]ã€‚<br>ä¾‹å¦‚ï¼Œåœ¨ COLMAP [35]ä¸€ç§å…¸å‹çš„åŸºäºæ·±åº¦çš„æ–¹æ³•ä¸­ï¼Œæå–å›¾åƒç‰¹å¾å¹¶åœ¨ä¸åŒè§†å›¾ä¹‹é—´è¿›è¡ŒåŒ¹é…ä»¥ä¼°è®¡æ·±åº¦ã€‚ç„¶åå¯¹é¢„æµ‹çš„æ·±åº¦å›¾è¿›è¡Œèåˆï¼Œå¾—åˆ°å¯†é›†çš„ç‚¹äº‘ã€‚ä¸ºäº†è·å¾—æ›²é¢ï¼Œé‡‡ç”¨äº†é¢å¤–çš„ç½‘æ ¼åˆ’åˆ†æ­¥éª¤ï¼Œä¾‹å¦‚æ³Šæ¾æ›²é¢é‡æ„[14]ã€‚ç„¶è€Œï¼Œ<strong>è¿™äº›å…·æœ‰å¤æ‚ç®¡é“çš„æ–¹æ³•å¯èƒ½ä¼šåœ¨æ¯ä¸ªé˜¶æ®µç§¯ç´¯é”™è¯¯ï¼Œå¹¶ä¸”é€šå¸¸ä¼šå¯¼è‡´ä¸å®Œæ•´çš„ 3D æ¨¡å‹ï¼Œç‰¹åˆ«æ˜¯å¯¹äºéæœ—ä¼¯æ›²é¢ï¼Œå› ä¸ºå®ƒä»¬ä¸èƒ½å¤„ç†è§†å›¾ç›¸å…³çš„é¢œè‰²</strong>ã€‚ç›¸åï¼Œå°½ç®¡å®ƒé€šè¿‡ç›´æ¥åœ¨ä¸€ä¸ªä½“ç§¯ä¸­å»ºæ¨¡å¯¹è±¡æ¥ç”Ÿæˆå®Œæ•´çš„æ¨¡å‹ï¼Œä½†ç”±äºå†…å­˜æ¶ˆè€—é«˜ï¼ŒåŸºäºä½“ç´ çš„æ–¹æ³•çš„åˆ†è¾¨ç‡å¾ˆä½ã€‚<br>æœ€è¿‘ï¼ŒåŸºäºç¥ç»çš„æ–¹æ³•å¦‚ DVR[25]ã€IDR[42]ã€NLR[15]ä¹Ÿè¢«æå‡ºç”¨äºä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºåœºæ™¯å‡ ä½•ã€‚ç„¶è€Œï¼Œç”±äºæ¢¯åº¦éš¾ä»¥ä¼ æ’­ï¼Œ<strong>è¿™äº›æ–¹æ³•éœ€è¦ç²¾ç¡®çš„å¯¹è±¡æ©ç å’Œé€‚å½“çš„æƒå€¼åˆå§‹åŒ–</strong>ã€‚<br>ä¸æˆ‘ä»¬åœ¨è¿™é‡Œçš„å·¥ä½œç›¸ç‹¬ç«‹ï¼Œ[30]UNISURF ä¹Ÿä½¿ç”¨éšå¼è¡¨é¢è¡¨ç¤ºåˆå¹¶åˆ°ä½“ç»˜åˆ¶ä¸­ã€‚ç‰¹åˆ«æ˜¯ï¼Œ<strong>ä»–ä»¬ç”¨å ç”¨ç½‘ç»œä»£æ›¿äº†å±€éƒ¨é€æ˜å‡½æ•°</strong>[22]ã€‚è¿™å…è®¸åœ¨æŸå¤±ä¸­æ·»åŠ è¡¨é¢å¹³æ»‘é¡¹ï¼Œä»è€Œæé«˜æ‰€å¾—è¡¨é¢çš„è´¨é‡ã€‚ä¸ä»–ä»¬çš„æ–¹æ³•ä¸åŒï¼Œæˆ‘ä»¬ä½¿ç”¨å¸¦ç¬¦å·è·ç¦»è¡¨ç¤ºï¼Œç”¨ Eikonal æŸå¤±è¿›è¡Œæ­£åˆ™åŒ–[42,11]ï¼Œæ²¡æœ‰ä»»ä½•æ˜¾å¼å¹³æ»‘é¡¹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¡¨æ˜ï¼Œä½¿ç”¨å¸¦ç¬¦å·è·ç¦»çš„é€‰æ‹©å…è®¸ä¸é€æ˜åº¦è¿‘ä¼¼è¯¯å·®çš„è¾¹ç•Œï¼Œä¿ƒè¿›å¯¹å¯†åº¦ suggested family çš„ä½“ç§¯æ¸²æŸ“ç§¯åˆ†çš„è¿‘ä¼¼ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œ<strong>æˆ‘ä»¬å°†ä»‹ç»ä¸€ç§æ–°çš„ä½“ç§¯å¯†åº¦å‚æ•°åŒ–ï¼Œå®šä¹‰ä¸ºè½¬æ¢çš„æœ‰ç¬¦å·è·ç¦»å‡½æ•°</strong>ã€‚ç„¶åæˆ‘ä»¬å°†å±•ç¤ºè¿™ä¸ªå®šä¹‰å¦‚ä½•ä¿ƒè¿›ä½“æ¸²æŸ“è¿‡ç¨‹ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬æ¨å¯¼äº†ä¸é€æ˜åº¦è¿‘ä¼¼çš„è¯¯å·®èŒƒå›´ï¼Œ<strong>å¹¶å› æ­¤è®¾è®¡äº†ä¸€ä¸ªè¿‘ä¼¼ä½“æ¸²æŸ“ç§¯åˆ†çš„é‡‡æ ·ç¨‹åº</strong>ã€‚</p><h2 id="Density-as-transformed-SDF"><a href="#Density-as-transformed-SDF" class="headerlink" title="Density as transformed SDF"></a>Density as transformed SDF</h2><p>å°†å¯†åº¦è½¬æ¢ä¸ºä¸ SDF æœ‰å…³çš„å‡½æ•°ï¼š$\sigma(\boldsymbol{x})=\alpha\Psi_\beta\left(-d_\Omega(\boldsymbol{x})\right),$</p><ul><li>Î±ã€Î² &gt; 0 ä¸ºå¯å­¦ä¹ å‚æ•°</li><li>$\Psi_{\boldsymbol{\beta}}$ ä¸ºé›¶å‡å€¼Î²æ ‡åº¦æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°(CDF)ï¼š$\Psi_\beta(s)=\begin{cases}\frac{1}{2}\exp\left(\frac{s}{\beta}\right)&amp;\text{if }s\leq0\\1-\frac{1}{2}\exp\left(-\frac{s}{\beta}\right)&amp;\text{if }s&gt;0\end{cases}$</li><li>SDF å€¼å®šä¹‰ï¼š$1_\Omega(\boldsymbol{x})=\begin{cases}1&amp;\mathrm{if~}\boldsymbol{x}\in\Omega\\0&amp;\mathrm{if~}\boldsymbol{x}\notin\Omega\end{cases},\quad\text{and} d_\Omega(\boldsymbol{x})=(-1)^{\mathbf{1}_\Omega(\boldsymbol{x})}\min_{\boldsymbol{y}\in\mathcal{M}}\left|x-\boldsymbol{y}\right|_2,$ $\mathcal{M}=\partial\Omega$ ä¸ºè¾¹ç•Œè¡¨é¢</li></ul><p><strong>è¿™æ ·å®šä¹‰å¯ä»¥çœ‹å‡º</strong>ï¼šå½“ $\beta$ æ¥è¿‘0æ—¶ï¼Œæ‰€æœ‰ç‚¹çš„å¯†åº¦ $\sigma$ è¶‹è¿‘äº $\alpha 1_\Omega(\boldsymbol{x})$ </p><p>ä»ç›´è§‚ä¸Šçœ‹ï¼Œå¯†åº¦Ïƒæ¨¡æ‹Ÿäº†ä¸€ä¸ªå‡åŒ€çš„å›ºä½“ï¼Œå¯†åº¦Î±æ’å®šï¼Œåœ¨å›ºä½“è¾¹ç•Œé™„è¿‘å¹³æ»‘å‡å°ï¼Œå…¶ä¸­å¹³æ»‘é‡ç”±Î²æ§åˆ¶ã€‚</p><h2 id="Volume-rendering-of-Ïƒ"><a href="#Volume-rendering-of-Ïƒ" class="headerlink" title="Volume rendering of Ïƒ"></a>Volume rendering of Ïƒ</h2><p>$I(\boldsymbol{c},\boldsymbol{v})=\int_0^\infty L(\boldsymbol{x}(t),\boldsymbol{n}(t),\boldsymbol{v})\tau(t)dt,$ ä½“æ¸²æŸ“è¿‡ç¨‹å³æ²¿ç€ä¸€æ¡å…‰çº¿çš„æœŸæœ›åƒç´ </p><p>åœ¨ NeRF æå‡ºçš„ä½“æ¸²æŸ“å…¬å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªé‡è¦çš„é‡ï¼š</p><ul><li>The volumeâ€™s opacity O ï¼Œ or its transperancy T<ul><li>transperancy T è¡¨ç¤ºå…‰ç²’å­æˆåŠŸç©¿è¿‡ <code>[c, x(t)]</code> æ®µè€Œæ²¡æœ‰ç¢°æ’çš„æ¦‚ç‡ $T(t)=\exp\left(-\int_0^t\sigma(\boldsymbol{x}(s))ds\right),$</li><li>opacity O æ˜¯è¡¥æ¦‚ç‡ $O(t)=1-T(t).$</li><li>è¿™ç§æƒ…å†µå¯ä»¥å°† O çœ‹ä½œ CDF ï¼Œåˆ™ PDF $\tau(t)=\frac{dO}{dt}(t)=\sigma(\boldsymbol{x}(t))T(t)$</li></ul></li><li>the light field L. ä¸ç‚¹åæ ‡ï¼Œæ³•å‘é‡ä»¥åŠè§‚å¯Ÿæ–¹å‘æœ‰å…³<ul><li>å¢åŠ å…‰åœºå¯¹æ³•çº¿æ–¹å‘çš„ä¾èµ–æ€§æ˜¯å› ä¸ºæ™®é€šææ–™çš„ brdf é€šå¸¸æ˜¯ç›¸å¯¹äºè¡¨é¢æ³•çº¿è¿›è¡Œç¼–ç çš„ï¼Œè¿™æœ‰åŠ©äºåœ¨è¡¨é¢æ¸²æŸ“ä¸­è¿›è¡Œè§£çº ç¼ </li></ul></li></ul><p>ä½“æ¸²æŸ“å…¬å¼ç¦»æ•£å½¢å¼ï¼š$I(c,v)\approx\hat{I}_{\mathcal{S}}(c,v)=\sum_{i=1}^{m-1}\hat{\tau}_iL_i,$</p><ul><li>S ä¸ºå…‰çº¿ä¸Šçš„é‡‡æ ·ç‚¹é›†</li><li>$\hat{\tau}_i\approx\tau(s_i)\Delta s$ ä½¿ç”¨é‡‡æ ·ç‚¹å¤„çš„å¯†åº¦ + åŒºé—´é•¿åº¦æ¥è¿‘ä¼¼</li></ul><p><strong>é‡‡æ ·å¾ˆé‡è¦</strong>ï¼ŒPDF é›†ä¸­åœ¨ç‰©ä½“è¾¹ç•Œé™„è¿‘<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231201111115.png" alt="image.png|666"></p><h2 id="Bound-on-the-opacity-approximation-error"><a href="#Bound-on-the-opacity-approximation-error" class="headerlink" title="Bound on the opacity approximation error"></a>Bound on the opacity approximation error</h2><p>ç›®çš„ï¼šé€šè¿‡æ§åˆ¶ä¸€äº›è¶…å‚æ•°ï¼Œä½¿å¾—é€æ˜çš„è¿‘ä¼¼è¯¯å·®å­˜åœ¨ä¸€ä¸ªä¸Šç•Œ</p><p>ç»™å®šä¸€ç³»åˆ—é‡‡æ ·ç‚¹ï¼Œæ ¹æ®æŸä¸ª $t\in(0,M],\text{assume }t\in[t_k,t_{k+1}],$ å¾—åˆ°ï¼š<br>$\int_0^t\sigma(x(s))ds=\widehat{R}(t)+E(t),\quad\mathrm{~where~}\widehat{R}(t)=\sum_{i=1}^{k-1}\delta_i\sigma_i+(t-t_k)\sigma_k$ ï¼Œå…¶ä¸­ E(t)æŒ‡è¿‘ä¼¼çš„è¯¯å·®</p><p>åˆ™ç›¸åº”çš„ä¸é€æ˜åº¦å‡½æ•°çš„è¿‘ä¼¼ï¼š $\widehat{O}(t)=1-\exp\left(-\widehat{R}(t)\right).$ ï¼Œç›®çš„æ˜¯å¾—åˆ° <code>[0,M]</code> ä¸Šè¿‘ä¼¼äº $\widehat{O}\approx O.$ çš„ uniform bound</p><p>é‡‡æ ·ç­–ç•¥ï¼šç»™å®šä¸€ä¸ª $\epsilon$</p><ul><li>å¼•ç† 1ï¼šè¶³å¤Ÿå¯†é›†çš„é‡‡æ ·ç‚¹ï¼Œä¿è¯è¯¯å·®ä¸Šç•Œ $B_{T,\epsilon} &lt; \epsilon$</li><li>å¼•ç† 2ï¼šå›ºå®šçš„é‡‡æ ·ç‚¹ä¸ªæ•°ï¼Œå¦‚æœè¦æƒ³å¾—åˆ°çš„è¯¯å·®ä¸Šç•Œ&lt; $\epsilon$ï¼Œåˆ™éœ€è¦æ»¡è¶³ $\beta\geq\frac{\alpha M^2}{4(n-1)\log(1+\epsilon)}$ , M ä¸ºé‡‡æ · t çš„ä¸Šç•Œ</li></ul><h2 id="Sampling-algorithm"><a href="#Sampling-algorithm" class="headerlink" title="Sampling algorithm"></a>Sampling algorithm</h2><blockquote><p><a href="https://longtimenohack.com/posts/nerf/nerf_on_surface/#%E4%BE%9D%E6%8D%AE-error-bound-%E7%9A%84%E9%87%87%E6%A0%B7%E7%AE%97%E6%B3%95">Survey: nerf + surface enhancements - Jianfei Guo (longtimenohack.com)</a></p></blockquote><ul><li>åˆå§‹åŒ–é‡‡æ ·ï¼šå‡åŒ€é‡‡ $n=128$ ä¸ªç‚¹ï¼›ç„¶åæ ¹æ®å¼•ç† 2 é€‰å–ä¸€ä¸ª $\beta_+$ (å¤§äºå½“å‰ $\beta)$ ä¿è¯ $\epsilon$ è¢«æ»¡è¶³ï¼Œè¿­ä»£æœ€å¤§5æ¬¡ä¸Šé‡‡æ ·ç‚¹ï¼Œç›´åˆ°é‡‡æ ·è¶³å¤Ÿå……è¶³ä½¿å¾—ç½‘ç»œç°åœ¨çš„ $\beta$ å°±èƒ½å¤Ÿæ»¡è¶³ä¸Šç•Œ $&lt;\epsilon;$ (å¦‚æœ5æ¬¡ä¸Šé‡‡æ ·ä»¥åè¿˜æ˜¯ä¸è¡Œï¼Œå°±é€‰å–æœ€åä¸€æ¬¡é€ä»£çš„é‚£ä¸ª $\beta_+$,è€Œä¸æ˜¯ç°åœ¨ç½‘ç»œè‡ªå·±çš„ $\beta$<ul><li>ä¸ºäº†èƒ½å¤Ÿå‡å° $\beta_+$,åŒæ—¶ä¿è¯ $\epsilon$ è¢«æ»¡è¶³ï¼Œä¸Šé‡‡æ ·æ·»åŠ  $n$ ä¸ªé‡‡æ ·ç‚¹<ul><li>æ¯ä¸ªåŒºé—´é‡‡çš„ç‚¹çš„ä¸ªæ•°å’Œè¯¥åŒºé—´å½“å‰ error bound å€¼æˆæ¯”ä¾‹</li></ul></li><li>ç”±å‡å€¼å®šç†ï¼ŒåŒºé—´ $(\beta,\beta_+)$ ä¸­ä¸€å®šå­˜åœ¨ä¸€ä¸ª $\beta_{*}$ åˆšå¥½è®© error bound ç­‰äº $\epsilon$ <ul><li>æ‰€ä»¥ç”¨äºŒåˆ†æ³•(æœ€å¤§10ä¸ªè¿­ä»£)æ¥æ‰¾è¿™æ ·çš„ä¸€ä¸ª $\beta_{*}$ æ¥æ›´æ–° $\beta_{+}$</li></ul></li></ul></li><li>ç”¨æœ€åçš„ä¸Šé‡‡æ ·ç‚¹å’Œé€‰å–çš„ $\beta$ æ¥ä¼°è®¡ä¸€ä¸ª $\hat{O}$ åºåˆ—</li><li>ç”¨ä¼°è®¡å‡ºæ¥çš„ $\hat{O}$ åºåˆ—æ¥ inverse CDF é‡‡æ ·ä¸€ç»„ ($m=64$) fresh new çš„ç‚¹æ¥ç®— $\hat{O}$</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231201154656.png" alt="image.png|333"></p><h2 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h2><p><strong>æè¿°ç½‘ç»œç»“æ„åŠå¦‚ä½•è®­ç»ƒ</strong><br>å¯å­¦ä¹ å‚æ•°ï¼š$\theta=(\varphi,\psi,\beta).$<br>æŸå¤±å‡½æ•°ï¼š$\mathcal{L}(\theta)=\mathcal{L}_{\mathrm{RGB}}(\theta)+\lambda\mathcal{L}_{\mathrm{SDF}}(\varphi)$</p><ul><li>$\mathcal{L}_{\mathrm{RGB}}(\theta)=\mathbb{E}_p\left|I_p-\hat{I}_{\mathcal{S}}(c_p,v_p)\right|_1$</li><li>$\mathcal{L}_{\mathrm{SDF}}(\varphi)=\mathbb{E}_{\boldsymbol{y}}\left(\left|\nabla d(\boldsymbol{y})\right|_2-1\right)^2$</li></ul><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>æˆ‘ä»¬åœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„å¤šè§†å›¾ä¸‰ç»´è¡¨é¢é‡å»ºä»»åŠ¡ä¸­è¯„ä¼°äº†æˆ‘ä»¬çš„æ–¹æ³•ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæ•°æ®é›†:DTU[13]å’Œ BlendedMVS[41]ï¼Œå®ƒä»¬éƒ½åŒ…å«ä»å¤šä¸ªè§†å›¾æ•è·çš„å…·æœ‰ä¸åŒææ–™çš„çœŸå®ç‰©ä½“ã€‚åœ¨ç¬¬ 4.1 èŠ‚ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº† VolSDF çš„å®šæ€§å’Œå®šé‡ä¸‰ç»´è¡¨é¢é‡å»ºç»“æœï¼Œä¸ç›¸å…³åŸºçº¿è¿›è¡Œäº†æ¯”è¾ƒã€‚åœ¨ 4.2 èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¯æ˜ï¼Œä¸ NeRF[24]ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤ŸæˆåŠŸåœ°è§£å¼€æ•è·ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ã€‚</p><h2 id="Multi-view-3D-reconstruction"><a href="#Multi-view-3D-reconstruction" class="headerlink" title="Multi-view 3D reconstruction"></a>Multi-view 3D reconstruction</h2><p>æè¿°å¦‚ä½•åœ¨æŸä¸€æ•°æ®é›†ä¸Šä¸å…¶ä»–æ–¹æ³•è¿›è¡Œå¯¹æ¯”<br>æ•°æ®é›†åŒ…å«ä»€ä¹ˆï¼Ÿæ•°æ®é›†é€‰å–å“ªå‡ ä¸ªç‰©ä½“ï¼Ÿå…¶ä»–æ–¹æ³•å¦‚ä½•è®¾å®šå‚æ•°ï¼Ÿå®šæ€§å®šé‡ç»“æœï¼ˆå›¾è¡¨ï¼‰ï¼Ÿæ‰€æå‡ºæ–¹æ³•åœ¨å“ªæ–¹é¢æ›´å¥½ï¼Ÿ</p><p>ä¹Ÿå¯ä»¥æ‹å‡ºæ¥å•ç‹¬ä¸ SOTA æ¯”è¾ƒä¸€ä¸‹</p><h2 id="Disentanglement-of-geometry-and-appearance"><a href="#Disentanglement-of-geometry-and-appearance" class="headerlink" title="Disentanglement of geometry and appearance"></a>Disentanglement of geometry and appearance</h2><p>ä¸¤ä¸ªç‰ˆæœ¬çš„ NeRF åœ¨è¿™äº›åœºæ™¯ä¸­éƒ½ä¸èƒ½äº§ç”Ÿæ­£ç¡®çš„è§£çº ç¼ ï¼Œè€Œ VolSDF æˆåŠŸåœ°åˆ‡æ¢äº†ä¸¤ä¸ªç‰©ä½“çš„ææ–™ã€‚æˆ‘ä»¬å°†æ­¤å½’å› äºä½¿ç”¨æ–¹ç¨‹ 2 ä¸­çš„å¯†åº¦æ³¨å…¥çš„ç‰¹å®š inductive åç½®ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231201160111.png" alt="image.png|666"></p><h1 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h1><p>æˆ‘ä»¬ä»‹ç»äº† VolSDFï¼Œä¸€ä¸ªéšå¼ç¥ç»è¡¨é¢çš„ä½“ç»˜åˆ¶æ¡†æ¶ã€‚æˆ‘ä»¬å°†ä½“ç§¯å¯†åº¦è¡¨ç¤ºä¸ºå­¦ä¹ åˆ°çš„è¡¨é¢å‡ ä½•çš„å¸¦ç¬¦å·è·ç¦»å‡½æ•°çš„è½¬æ¢ç‰ˆæœ¬ã€‚è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„å®šä¹‰æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„å½’çº³åç½®ï¼Œå…è®¸å‡ ä½•(å³å¯†åº¦)å’Œå…‰åœºçš„è§£çº ç¼ ï¼Œå¹¶ä¸”æ¯”ä»¥å‰çš„ç¥ç»ä½“æ¸²æŸ“æŠ€æœ¯æ”¹è¿›äº†å‡ ä½•è¿‘ä¼¼ã€‚æ­¤å¤–ï¼Œå®ƒå…è®¸çº¦æŸä¸é€æ˜åº¦è¿‘ä¼¼è¯¯å·®<em>opacity approximation error</em>ï¼Œå¯¼è‡´é«˜ä¿çœŸé‡‡æ ·çš„ä½“ç§¯æ¸²æŸ“ç§¯åˆ†ã€‚</p><p>æœªæ¥æœ‰å‡ ä¸ªæœ‰è¶£çš„å·¥ä½œæ–¹å‘ã€‚</p><ul><li>é¦–å…ˆï¼Œå°½ç®¡åœ¨å®è·µä¸­å·¥ä½œå¾—å¾ˆå¥½ï¼Œ<strong>ä½†æˆ‘ä»¬æ²¡æœ‰è¯æ˜é‡‡æ ·ç®—æ³•çš„æ­£ç¡®æ€§</strong>ã€‚æˆ‘ä»¬ç›¸ä¿¡æä¾›è¿™æ ·çš„è¯æ˜ï¼Œæˆ–è€…æ‰¾åˆ°ä¸€ä¸ªæœ‰è¯æ˜çš„ç®—æ³•ç‰ˆæœ¬å°†æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„è´¡çŒ®ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬ç›¸ä¿¡åœ¨ä½“ç»˜åˆ¶ä¸­ä½¿ç”¨è¾¹ç•Œå¯ä»¥æ”¹å–„å­¦ä¹ å’Œè§£çº ç¼ ï¼Œå¹¶æ¨åŠ¨è¯¥é¢†åŸŸå‘å‰å‘å±•ã€‚</li><li>å…¶æ¬¡ï¼Œ<strong>æˆ‘ä»¬ç›®å‰çš„å…¬å¼å‡è®¾å¯†åº¦å‡åŒ€</strong>;å°†å…¶æ‰©å±•åˆ°æ›´ä¸€èˆ¬çš„å¯†åº¦æ¨¡å‹æ˜¯ä¸€ä¸ªæœ‰è¶£çš„æœªæ¥å·¥ä½œæ–¹å‘ã€‚</li><li>ç¬¬ä¸‰ï¼Œæ—¢ç„¶å¯ä»¥ä»¥æ— ç›‘ç£çš„æ–¹å¼å­¦ä¹ é«˜è´¨é‡çš„å‡ ä½•å½¢çŠ¶ï¼Œ<strong>é‚£ä¹ˆç›´æ¥ä»å›¾åƒé›†åˆä¸­å­¦ä¹ åŠ¨æ€å‡ ä½•å½¢çŠ¶å’Œå½¢çŠ¶ç©ºé—´å°†æ˜¯å¾ˆæœ‰è¶£çš„</strong>ã€‚</li><li>æœ€åï¼Œå°½ç®¡æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°æˆ‘ä»¬çš„å·¥ä½œå¯¹ç¤¾ä¼šäº§ç”Ÿç›´æ¥çš„è´Ÿé¢å½±å“ï¼Œä½†æˆ‘ä»¬ç¡®å®æ³¨æ„åˆ°ï¼Œä»å›¾åƒä¸­ç²¾ç¡®é‡å»ºå‡ ä½•å½¢çŠ¶å¯èƒ½è¢«ç”¨äºæ¶æ„ç›®çš„ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> NeRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Plenoxels</title>
      <link href="/3DReconstruction/Multi-view/Explicit%20Volumetric/Plenoxels/"/>
      <url>/3DReconstruction/Multi-view/Explicit%20Volumetric/Plenoxels/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Plenoxels: Radiance Fields without Neural Networks</th></tr></thead><tbody><tr><td>Author</td><td>Sara Fridovich-Keil and Alex Yu and Matthew Tancik and Qinhong Chen and Benjamin Recht and Angjoo Kanazawa</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://github.com/sxyu/svox2">sxyu/svox2: Plenoxels: Radiance Fields without Neural Networks (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4567253676347891713&amp;noteId=2057865157560867840">Plenoxels: Radiance Fields without Neural Networks (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231120154626.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬ä»‹ç»äº† Plenoxels(plenoptic voxels)ï¼Œä¸€ä¸ªç”¨äºçœŸå®æ„Ÿè§†å›¾åˆæˆçš„ç³»ç»Ÿã€‚Plenoxels å°†åœºæ™¯è¡¨ç¤ºä¸ºå¸¦æœ‰çƒé¢è°æ³¢çš„ç¨€ç–3D ç½‘æ ¼ã€‚è¿™ç§è¡¨ç¤ºå¯ä»¥é€šè¿‡æ¢¯åº¦æ–¹æ³•å’Œæ­£åˆ™åŒ–ä»æ ¡å‡†çš„å›¾åƒä¸­ä¼˜åŒ–ï¼Œè€Œä¸éœ€è¦ä»»ä½•ç¥ç»æˆåˆ†ã€‚åœ¨æ ‡å‡†çš„åŸºå‡†ä»»åŠ¡ä¸­ï¼ŒPlenoxels çš„ä¼˜åŒ–é€Ÿåº¦æ¯” Neural Radiance Fields å¿«ä¸¤ä¸ªæ•°é‡çº§ï¼Œè€Œè§†è§‰è´¨é‡æ²¡æœ‰æŸå¤±ã€‚æœ‰å…³è§†é¢‘å’Œä»£ç ï¼Œè¯·å‚é˜… <a href="https://alexyu.net/plenoxels">https://alexyu.net/plenoxels</a> ã€‚</p><p><strong>æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œç¥ç»è¾å°„åœºçš„å…³é”®å…ƒç´ ä¸æ˜¯ç¥ç»ç½‘ç»œï¼Œè€Œæ˜¯å¯å¾®ä½“ç§¯æ¸²æŸ“å™¨</strong></p><p>Classical Volume Reconstruction<br>ä½¿ç”¨ä¸€ä¸ªæ›´æ¯”å…«å‰æ ‘ç®€å•çš„ç¨€ç–æ•°ç»„ç»“æ„ã€‚å°†è¿™äº›åŸºäºç½‘æ ¼çš„è¡¨ç¤ºä¸æŸç§å½¢å¼çš„æ’å€¼ç›¸ç»“åˆï¼Œäº§ç”Ÿä¸€ä¸ªè¿ç»­çš„è¡¨ç¤ºï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†ä¿¡å·å¤„ç†æ–¹æ³•ä»»æ„è°ƒæ•´å¤§å°</p><p>Neural Volume Reconstruction<br>Neural Volumes[20]ä¸æˆ‘ä»¬çš„æ–¹æ³•æœ€ç›¸ä¼¼ï¼Œå› ä¸ºå®ƒä½¿ç”¨å¸¦æœ‰æ’å€¼çš„ä½“ç´ ç½‘æ ¼ï¼Œä½†é€šè¿‡å·ç§¯ç¥ç»ç½‘ç»œä¼˜åŒ–è¯¥ç½‘æ ¼ï¼Œå¹¶åº”ç”¨å­¦ä¹ çš„æ‰­æ›²å‡½æ•°æ¥æé«˜(1283 ç½‘æ ¼)çš„æœ‰æ•ˆåˆ†è¾¨ç‡ã€‚æˆ‘ä»¬è¯æ˜äº†ä½“ç´ ç½‘æ ¼å¯ä»¥ç›´æ¥ä¼˜åŒ–ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ä¿®å‰ªå’Œç²—åˆ°ç»†çš„ä¼˜åŒ–æ¥å®ç°é«˜åˆ†è¾¨ç‡ï¼Œè€Œä¸éœ€è¦ä»»ä½•ç¥ç»ç½‘ç»œæˆ–æ‰­æ›²å‡½æ•°ã€‚</p><p>Accelerating NeRF.<br>æˆ‘ä»¬çš„æ–¹æ³•æ‰©å±•äº† PlenOctreesï¼Œå¯¹å…·æœ‰çƒé¢è°æ³¢çš„ç¨€ç–ä½“ç´ è¡¨ç¤ºè¿›è¡Œç«¯åˆ°ç«¯ä¼˜åŒ–ï¼Œæä¾›äº†æ›´å¿«çš„è®­ç»ƒ(ä¸ NeRF ç›¸æ¯”åŠ é€Ÿäº†ä¸¤ä¸ªæ•°é‡çº§)ã€‚æˆ‘ä»¬çš„ Plenoxel æ¨¡å‹æ˜¯ PlenOctrees çš„æ³›åŒ–ï¼Œä»¥æ”¯æŒä»»æ„åˆ†è¾¨ç‡(ä¸éœ€è¦ 2 çš„å¹‚)çš„ç¨€ç–å…¨å…‰å­¦ä½“ç´ ç½‘æ ¼ï¼Œå¹¶å…·æœ‰æ‰§è¡Œä¸‰çº¿æ€§æ’å€¼çš„èƒ½åŠ›ï¼Œä½¿ç”¨è¿™ç§ç¨€ç–ä½“ç´ ç»“æ„æ›´å®¹æ˜“å®ç°</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æˆ‘ä»¬çš„æ¨¡å‹æ˜¯ä¸€ä¸ªç¨€ç–ä½“ç´ ç½‘æ ¼ï¼Œå…¶ä¸­æ¯ä¸ªè¢«å ç”¨çš„ä½“ç´ è§’å­˜å‚¨ä¸€ä¸ªæ ‡é‡ä¸é€æ˜åº¦Ïƒå’Œæ¯ä¸ªé¢œè‰²é€šé“çš„çƒè°ç³»æ•°å‘é‡ã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬æŠŠè¿™ç§è¡¨ç°ç§°ä¸º Plenoxelã€‚åœ¨ä»»æ„ä½ç½®å’Œè§‚å¯Ÿæ–¹å‘ä¸Šçš„ä¸é€æ˜åº¦å’Œé¢œè‰²æ˜¯é€šè¿‡å¯¹ç›¸é‚»ä½“ç´ å­˜å‚¨çš„å€¼è¿›è¡Œä¸‰çº¿æ€§æ’å€¼ï¼Œå¹¶åœ¨é€‚å½“çš„è§‚å¯Ÿæ–¹å‘ä¸Šè®¡ç®—çƒé¢è°æ³¢æ¥ç¡®å®šçš„ã€‚ç»™å®šä¸€ç»„æ ¡å‡†å›¾åƒï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨è®­ç»ƒå…‰çº¿çš„æ¸²æŸ“æŸå¤±æ¥ä¼˜åŒ–æˆ‘ä»¬çš„æ¨¡å‹ã€‚æˆ‘ä»¬çš„æ¨¡å‹å¦‚å›¾ 2 æ‰€ç¤ºï¼Œå¹¶åœ¨ä¸‹é¢è¿›è¡Œè¯¦ç»†æè¿°ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231120154626.png" alt="image.png|666"></p><ul><li><strong>Volume Rendering</strong> ä¸ NeRF ç›¸åŒ</li><li><strong>Voxel Grid with Spherical Harmonics</strong> ä¸ PlenOctrees ç±»ä¼¼<ul><li>æˆ‘ä»¬ä¸ä½¿ç”¨å…«å‰æ ‘ä½œä¸ºæˆ‘ä»¬çš„æ•°æ®ç»“æ„ã€‚ç›¸åï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå¯†é›†çš„ 3D ç´¢å¼•æ•°ç»„ä¸æŒ‡é’ˆå­˜å‚¨åˆ°ä¸€ä¸ªå•ç‹¬çš„æ•°æ®æ•°ç»„ä¸­ï¼Œè¯¥æ•°æ®æ•°ç»„ä»…åŒ…å«å·²å ç”¨ä½“ç´ çš„å€¼</li><li>ä¸ pleenoctrees ç±»ä¼¼ï¼Œæ¯ä¸ªå ç”¨çš„ä½“ç´ ä¸ºæ¯ä¸ªé¢œè‰²é€šé“å­˜å‚¨ä¸€ä¸ªæ ‡é‡ä¸é€æ˜åº¦Ïƒå’Œä¸€ä¸ªçƒè°ç³»æ•°å‘é‡ã€‚çƒé¢è°æ³¢å½¢æˆäº†åœ¨çƒé¢ä¸Šå®šä¹‰çš„å‡½æ•°çš„æ­£äº¤åŸºï¼Œä½æ¬¡è°æ³¢ç¼–ç å¹³æ»‘(æ›´æœ—ä¼¯)çš„é¢œè‰²å˜åŒ–ï¼Œé«˜æ¬¡è°æ³¢ç¼–ç æ›´é«˜é¢‘ç‡(æ›´é•œé¢)çš„æ•ˆæœ</li><li>æ ·æœ¬ ci çš„é¢œè‰²ç®€å•åœ°æ˜¯æ¯ä¸ªé¢œè‰²é€šé“çš„è¿™äº›è°æ³¢åŸºå‡½æ•°çš„å’Œï¼Œç”±ç›¸åº”çš„ä¼˜åŒ–ç³»æ•°åŠ æƒï¼Œå¹¶åœ¨é€‚å½“çš„è§‚çœ‹æ–¹å‘ä¸Šè¿›è¡Œè¯„ä¼°ã€‚æˆ‘ä»¬ä½¿ç”¨ 2 degree çš„çƒé¢è°æ³¢ï¼Œæ¯ä¸ªé¢œè‰²é€šé“éœ€è¦ 9 ä¸ªç³»æ•°ï¼Œæ¯ä¸ªä½“ç´ æ€»å…±éœ€è¦ 27 ä¸ªè°æ³¢ç³»æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨ 2 æ¬¡è°æ³¢ï¼Œå› ä¸º PlenOctrees å‘ç°é«˜æ¬¡è°æ³¢åªå¸¦æ¥æœ€å°çš„å¥½å¤„ã€‚</li><li>æˆ‘ä»¬çš„ Plenoxel ç½‘æ ¼ä½¿ç”¨ä¸‰çº¿æ€§æ’å€¼æ¥å®šä¹‰æ•´ä¸ªä½“ç§¯çš„è¿ç»­å…¨å…‰å‡½æ•°ã€‚è¿™ä¸ PlenOctrees ç›¸åï¼ŒPlenOctrees å‡è®¾ä¸é€æ˜åº¦å’Œçƒè°ç³»æ•°åœ¨æ¯ä¸ªä½“ç´ å†…ä¿æŒæ’å®šã€‚è¿™ç§å·®å¼‚æ˜¯æˆåŠŸä¼˜åŒ–å®¹é‡çš„ä¸€ä¸ªé‡è¦å› ç´ ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢è®¨è®ºã€‚æ‰€æœ‰ç³»æ•°(ä¸é€æ˜åº¦å’Œçƒé¢è°æ³¢)éƒ½æ˜¯ç›´æ¥ä¼˜åŒ–çš„ï¼Œæ²¡æœ‰ä»»ä½•ç‰¹æ®Šçš„åˆå§‹åŒ–æˆ–ç¥ç»ç½‘ç»œçš„é¢„è®­ç»ƒ</li></ul></li><li><strong>Interpolation</strong><ul><li>é€šè¿‡å­˜å‚¨åœ¨æœ€è¿‘çš„ 8 ä¸ªä½“ç´ å¤„çš„ä¸é€æ˜åº¦å’Œè°æ³¢ç³»æ•°çš„ä¸‰çº¿æ€§æ’å€¼è®¡ç®—æ¯æ¡å°„çº¿ä¸Šæ¯ä¸ªæ ·æœ¬ç‚¹çš„ä¸é€æ˜åº¦å’Œé¢œè‰²ã€‚æˆ‘ä»¬å‘ç°ä¸‰çº¿æ€§æ’å€¼æ˜æ˜¾ä¼˜äºæœ€è¿‘é‚»æ’å€¼</li><li>Plenoxel åœ¨å›ºå®šåˆ†è¾¨ç‡ä¸‹ç¼©å°äº†æœ€è¿‘é‚»å’Œä¸‰çº¿æ€§æ’å€¼ä¹‹é—´çš„å¤§éƒ¨åˆ†å·®è·ï¼Œä½†ç”±äºä¼˜åŒ–ä¸è¿ç»­æ¨¡å‹çš„å›°éš¾ï¼Œä»ç„¶å­˜åœ¨ä¸€äº›å·®è·ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬å‘ç°ä¸æœ€è¿‘é‚»æ’å€¼ç›¸æ¯”ï¼Œä¸‰çº¿æ€§æ’å€¼åœ¨å­¦ä¹ ç‡å˜åŒ–æ–¹é¢æ›´ç¨³å®š</li></ul></li><li><strong>Coarse to Fine</strong><ul><li>æˆ‘ä»¬é€šè¿‡ä¸€ç§ä»ç²—åˆ°ç»†çš„ç­–ç•¥æ¥å®ç°é«˜åˆ†è¾¨ç‡ï¼Œè¯¥ç­–ç•¥ä»ä½åˆ†è¾¨ç‡çš„å¯†é›†ç½‘æ ¼å¼€å§‹ï¼Œä¼˜åŒ–ä¿®å‰ªä¸å¿…è¦çš„ä½“ç´ ï¼Œé€šè¿‡åœ¨æ¯ä¸ªç»´åº¦ä¸Šå°†æ¯ä¸ªä½“ç´ ç»†åˆ†ä¸ºä¸¤åŠæ¥ç»†åŒ–å‰©ä½™çš„ä½“ç´ ï¼Œå¹¶ç»§ç»­ä¼˜åŒ–</li><li>ç”±äºä¸‰çº¿æ€§æ’å€¼ï¼Œå¤©çœŸçš„ä¿®å‰ªä¼šå¯¹è¡¨é¢é™„è¿‘çš„é¢œè‰²å’Œå¯†åº¦äº§ç”Ÿä¸åˆ©å½±å“ï¼Œå› ä¸ºè¿™äº›ç‚¹çš„å€¼ä¼šä¸ç›´æ¥å¤–éƒ¨çš„ä½“ç´ è¿›è¡Œæ’å€¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªæ‰©å¼ æ“ä½œï¼Œè¿™æ ·ä¸€ä¸ªä½“ç´ åªæœ‰åœ¨å®ƒè‡ªå·±å’Œå®ƒçš„é‚»å±…éƒ½è¢«è®¤ä¸ºæ˜¯æœªè¢«å ç”¨æ—¶æ‰ä¼šè¢«ä¿®å‰ªã€‚</li></ul></li><li><strong>Optimization</strong>ï¼š$\mathcal{L}=\mathcal{L}_{recon}+\lambda_{TV}\mathcal{L}_{TV}$ æ ¹æ®æ¸²æŸ“åƒç´ é¢œè‰²çš„å‡æ–¹è¯¯å·®(MSE)ä¼˜åŒ–äº†ä½“ç´ ä¸é€æ˜åº¦å’Œçƒè°ç³»æ•°<ul><li>$\mathcal{L}_{recon}=\frac1{|\mathcal{R}|}\sum_{\mathbf{r}\in\mathcal{R}}|C(\mathbf{r})-\hat{C}(\mathbf{r})|_2^2$</li><li>total variation (TV) $\mathcal{L}_{TV}=\frac1{|\mathcal{V}|}\sum_{\underset{d\in[D]}{\operatorname*{v\in\mathcal{V}}}}\sqrt{\Delta_x^2(\mathbf{v},d)+\Delta_y^2(\mathbf{v},d)+\Delta_z^2(\mathbf{v},d)}$</li><li>ä¸ºäº†æ›´å¿«çš„è¿­ä»£ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªä¼˜åŒ–æ­¥éª¤ä¸­ä½¿ç”¨ raysR çš„éšæœºæ ·æœ¬æ¥è¯„ä¼° MSE é¡¹ï¼Œå¹¶ä½¿ç”¨ä½“ç´  V çš„éšæœºæ ·æœ¬æ¥è¯„ä¼° TV é¡¹</li></ul></li><li><strong>Unbounded Scenes</strong><ul><li>å¯¹äºå‰å‘åœºæ™¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸åŸå§‹ NeRF è®ºæ–‡[26]ä¸­å®šä¹‰çš„å½’ä¸€åŒ–è®¾å¤‡åæ ‡ç›¸åŒçš„ç¨€ç–ä½“ç´ ç½‘æ ¼ç»“æ„ã€‚</li><li>å¯¹äº 360 åœºæ™¯ï¼Œæˆ‘ä»¬ç”¨å¤šçƒä½“å›¾åƒ(MSI)èƒŒæ™¯æ¨¡å‹å¢å¼ºæˆ‘ä»¬çš„ç¨€ç–ä½“ç´ ç½‘æ ¼å‰æ™¯è¡¨ç¤ºï¼Œè¯¥æ¨¡å‹è¿˜ä½¿ç”¨çƒä½“å†…éƒ¨å’Œçƒä½“ä¹‹é—´çš„ä¸‰çº¿æ€§æ’å€¼æ¥å­¦ä¹ ä½“ç´ é¢œè‰²å’Œä¸é€æ˜åº¦ã€‚æ³¨æ„ï¼Œè¿™å®é™…ä¸Šä¸æˆ‘ä»¬çš„å‰æ™¯æ¨¡å‹ç›¸åŒï¼Œé™¤äº†ä½¿ç”¨ç®€å•çš„ç­‰çŸ©å½¢æŠ•å½±å°†ä½“ç´ æ‰­æ›²æˆçƒä½“(ä½“ç´ æŒ‡æ•°è¶…è¿‡çƒä½“è§’åº¦Î¸å’ŒÏ†)ã€‚æˆ‘ä»¬å°† 64 ä¸ªçƒä½“çº¿æ€§åœ°æ”¾ç½®åœ¨ä» 1 åˆ°âˆçš„é€†åŠå¾„ä¸Š(æˆ‘ä»¬é¢„ç¼©æ”¾å†…éƒ¨åœºæ™¯ä»¥è¿‘ä¼¼åŒ…å«åœ¨å•ä½çƒä½“ä¸­)ã€‚ä¸ºäº†èŠ‚çœå†…å­˜ï¼Œæˆ‘ä»¬åªä¸ºé¢œè‰²å­˜å‚¨ rgb é€šé“(åªæœ‰é›¶é˜¶ SH)ï¼Œå¹¶é€šè¿‡ä½¿ç”¨ä¸é€æ˜åº¦é˜ˆå€¼æ¥ç¨€ç–å­˜å‚¨æ‰€æœ‰å›¾å±‚ï¼Œå°±åƒæˆ‘ä»¬çš„ä¸»æ¨¡å‹ä¸€æ ·ã€‚è¿™ç±»ä¼¼äº nerf++[57]ä¸­çš„èƒŒæ™¯æ¨¡å‹ã€‚</li></ul></li><li><strong>Regularization</strong> å¯¹äºæŸäº›ç±»å‹çš„åœºæ™¯ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨é¢å¤–çš„æ­£åˆ™åŒ–å™¨<ul><li>åœ¨çœŸå®çš„ã€æ­£å‘çš„å’Œ360Â°çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸºäºæŸ¯è¥¿æŸå¤±çš„ç¨€ç–å…ˆéªŒ $\mathcal{L}_s=\lambda_s\sum_{i,k}\log\left(1+2\sigma(\mathrm{r}_i(t_k))^2\right)$ï¼Œç±»ä¼¼äº PlenOctrees[56]ä¸­ä½¿ç”¨çš„ç¨€ç–åº¦æŸå¤±ï¼Œå¹¶<strong>é¼“åŠ±ä½“ç´ ä¸ºç©º</strong>ï¼Œè¿™æœ‰åŠ©äºèŠ‚çœå†…å­˜å¹¶å‡å°‘ä¸Šé‡‡æ ·æ—¶çš„è´¨é‡æŸå¤±</li><li>åœ¨çœŸå®çš„ 360 åº¦åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯¹æ¯ä¸ª minibatch ä¸­æ¯æ¡å…‰çº¿çš„ç´¯ç§¯å‰æ™¯é€å°„ç‡ä½¿ç”¨ beta åˆ†å¸ƒæ­£åˆ™åŒ–å™¨ã€‚è¿™ä¸ªæŸå¤±é¡¹ï¼Œåœ¨ç¥ç»ä½“ç§¯[20]ä¹‹åï¼Œé€šè¿‡é¼“åŠ±å‰æ™¯å®Œå…¨ä¸é€æ˜æˆ–ç©ºæ¥<strong>ä¿ƒè¿›æ¸…æ™°çš„å‰æ™¯-èƒŒæ™¯åˆ†è§£</strong>ã€‚è¿™ä¸ªæŸå¤±æ˜¯: $\mathcal{L}_{\beta}=\lambda_{\beta}\sum_{\mathbf{r}}\left(\log(T_{FG}(\mathbf{r}))+\log(1-T_{FG}(\mathbf{r}))\right)$</li></ul></li><li><strong>Implementation</strong><ul><li>ç”±äºç¨€ç–ä½“ç´ ä½“æ¸²æŸ“åœ¨ç°ä»£è‡ªåŠ¨ diff åº“ä¸­ä¸å—å¾ˆå¥½çš„æ”¯æŒï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰ PyTorch CUDA[29]æ‰©å±•åº“æ¥å®ç°å¿«é€Ÿå¯å¾®ä½“æ¸²æŸ“;æˆ‘ä»¬å¸Œæœ›ä»ä¸šè€…ä¼šå‘ç°è¿™ä¸ªå®ç°åœ¨ä»–ä»¬çš„åº”ç”¨ç¨‹åºä¸­å¾ˆæœ‰ç”¨ã€‚æˆ‘ä»¬è¿˜æä¾›äº†ä¸€ä¸ªæ›´æ…¢ã€æ›´é«˜çº§çš„ JAX[4]å®ç°ã€‚è¿™ä¸¤ä¸ªå®ç°éƒ½å°†å‘å…¬ä¼—å‘å¸ƒ</li><li>æˆ‘ä»¬å®ç°çš„é€Ÿåº¦åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„ Plenoxel æ¨¡å‹çš„æ¢¯åº¦å˜å¾—éå¸¸ç¨€ç–ï¼Œéå¸¸å¿«ï¼Œå¦‚å›¾ 4 æ‰€ç¤ºã€‚åœ¨ä¼˜åŒ–çš„å‰ 1-2 åˆ†é’Ÿå†…ï¼Œåªæœ‰ä¸åˆ° 10%çš„ä½“ç´ å…·æœ‰éé›¶æ¢¯åº¦ã€‚</li></ul></li></ul><h1 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç”¨äºé€¼çœŸåœºæ™¯å»ºæ¨¡å’Œæ–°é¢–è§†ç‚¹æ¸²æŸ“çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•äº§ç”Ÿçš„ç»“æœå…·æœ‰ä¸æœ€æ–°æŠ€æœ¯ç›¸å½“çš„ä¿çœŸåº¦ï¼ŒåŒæ—¶å‡å°‘äº†è®­ç»ƒæ—¶é—´çš„æ•°é‡çº§ã€‚æˆ‘ä»¬çš„æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œé˜æ˜äº†è§£å†³ 3D é€†é—®é¢˜æ‰€éœ€çš„æ ¸å¿ƒè¦ç´ :å¯å¾®åˆ†æ­£æ¼”æ¨¡å‹ï¼Œè¿ç»­è¡¨ç¤º(åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸‰çº¿æ€§æ’å€¼)å’Œé€‚å½“çš„æ­£åˆ™åŒ–ã€‚æˆ‘ä»¬æ‰¿è®¤ï¼Œè¿™ç§æ–¹æ³•çš„æˆåˆ†å·²ç»å­˜åœ¨äº†å¾ˆé•¿æ—¶é—´ï¼Œä½†æ˜¯å…·æœ‰æ•°åƒä¸‡å˜é‡çš„éçº¿æ€§ä¼˜åŒ–ç›´åˆ°æœ€è¿‘æ‰è¢«è®¡ç®—æœºè§†è§‰ä»ä¸šè€…æ‰€æ¥å—ã€‚</p><p>Limitations and Future Work<br>ä¸ä»»ä½•æœªç¡®å®šçš„é€†é—®é¢˜ä¸€æ ·ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å®¹æ˜“å—åˆ°äººä¸ºå› ç´ çš„å½±å“ã€‚æˆ‘ä»¬çš„æ–¹æ³•æ˜¾ç¤ºäº†ä¸ç¥ç»æ–¹æ³•ä¸åŒçš„ä¼ªå½±ï¼Œå¦‚å›¾ 9 æ‰€ç¤ºï¼Œä½†ä¸¤ç§æ–¹æ³•åœ¨æ ‡å‡†åº¦é‡æ–¹é¢éƒ½è¾¾åˆ°äº†ç›¸ä¼¼çš„è´¨é‡(å¦‚ç¬¬ 4 èŠ‚æ‰€ç¤º)ã€‚æœªæ¥çš„å·¥ä½œå¯èƒ½èƒ½å¤Ÿé€šè¿‡ç ”ç©¶ä¸åŒçš„æ­£åˆ™åŒ–å…ˆéªŒå’Œ/æˆ–æ›´ç²¾ç¡®çš„ç‰©ç†å¯å¾®åˆ†æ¸²æŸ“å‡½æ•°æ¥è°ƒæ•´æˆ–å‡è½»è¿™äº›å‰©ä½™çš„ä¼ªå½±ã€‚<br>å°½ç®¡æˆ‘ä»¬ç”¨ä¸€ç»„å›ºå®šçš„è¶…å‚æ•°æŠ¥å‘Šäº†æ¯ä¸ªæ•°æ®é›†çš„æ‰€æœ‰ç»“æœï¼Œä½†æ²¡æœ‰æƒé‡ $Î»_{TV}$ çš„æœ€ä½³å…ˆéªŒè®¾ç½®ã€‚åœ¨å®è·µä¸­ï¼Œ<strong>é€šè¿‡åœ¨é€åœºæ™¯çš„åŸºç¡€ä¸Šè°ƒæ•´è¯¥å‚æ•°å¯ä»¥è·å¾—æ›´å¥½çš„ç»“æœ</strong>ï¼Œè¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„è®­ç»ƒæ—¶é—´å¾ˆå¿«ã€‚è¿™æ˜¯æ„æ–™ä¹‹ä¸­çš„ï¼Œå› ä¸ºä¸åŒåœºæ™¯çš„è®­ç»ƒè§†å›¾çš„è§„æ¨¡ã€å¹³æ»‘åº¦å’Œæ•°é‡æ˜¯ä¸åŒçš„ã€‚æˆ‘ä»¬æ³¨æ„åˆ° NeRF ä¹Ÿæœ‰è¶…å‚æ•°éœ€è¦è®¾ç½®ï¼Œå¦‚ä½ç½®ç¼–ç çš„é•¿åº¦ã€å­¦ä¹ ç‡å’Œå±‚æ•°ï¼Œå¹¶ä¸”è°ƒæ•´è¿™äº›ä¹Ÿå¯ä»¥åœ¨é€åœºæ™¯çš„åŸºç¡€ä¸Šæé«˜æ€§èƒ½ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•åº”è¯¥è‡ªç„¶åœ°æ‰©å±•åˆ°æ”¯æŒå¤šå°ºåº¦æ¸²æŸ“ï¼Œå¹¶é€šè¿‡ä½“ç´  cone tracing æä¾›é€‚å½“çš„æŠ—é”¯é½¿ï¼Œç±»ä¼¼äº Mip-NeRF[2]ä¸­çš„ä¿®æ”¹ã€‚å¦ä¸€ä¸ªç®€å•çš„è¡¥å……æ˜¯è‰²è°ƒæ˜ å°„ï¼Œä»¥è¯´æ˜ç™½å¹³è¡¡å’Œæ›å…‰çš„å˜åŒ–ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™å°†æœ‰åŠ©äºç‰¹åˆ«æ˜¯åœ¨çœŸå®çš„ 360 åº¦åœºæ™¯ã€‚ä¸æˆ‘ä»¬çš„ç¨€ç–æ•°ç»„å®ç°ç›¸æ¯”ï¼Œåˆ†å±‚æ•°æ®ç»“æ„(å¦‚å…«å‰æ ‘)å¯ä»¥æä¾›é¢å¤–çš„åŠ é€Ÿï¼Œå‰ææ˜¯ä¿ç•™äº†å¯å¾®åˆ†æ’å€¼ã€‚<br>ç”±äºæˆ‘ä»¬çš„æ–¹æ³•æ¯” NeRF å¿«ä¸¤ä¸ªæ•°é‡çº§ï¼Œæˆ‘ä»¬ç›¸ä¿¡å®ƒå¯èƒ½ä¼šä½¿ä¸‹æ¸¸åº”ç”¨ç¨‹åºç›®å‰å—åˆ° NeRF æ€§èƒ½çš„ç“¶é¢ˆï¼Œä¾‹å¦‚ï¼Œè·¨å¤§å‹åœºæ™¯æ•°æ®åº“çš„å¤šé‡åå¼¹ç…§æ˜å’Œ 3D ç”Ÿæˆæ¨¡å‹ã€‚é€šè¿‡å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸å…¶ä»–ç»„ä»¶(å¦‚ç›¸æœºä¼˜åŒ–å’Œå¤§è§„æ¨¡ä½“ç´ å“ˆå¸Œ)ç›¸ç»“åˆï¼Œå®ƒå¯èƒ½ä¸ºç«¯åˆ°ç«¯é€¼çœŸçš„ 3D é‡å»ºæä¾›å®ç”¨çš„ç®¡é“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> Voxel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Adaptive Shells</title>
      <link href="/3DReconstruction/Single-view/Implicit%20Function/Adaptive%20Shells/"/>
      <url>/3DReconstruction/Single-view/Implicit%20Function/Adaptive%20Shells/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Adaptive Shells for Efficient Neural Radiance Field Rendering</th></tr></thead><tbody><tr><td>Author</td><td>Zian Wang and Tianchang Shen and Merlin Nimier-David and Nicholas Sharp and Jun Gao and Alexander Keller and Sanja Fidler and Thomas M\â€uller and Zan Gojcic</td></tr><tr><td>Conf/Jour</td><td>ACM Trans. On Graph. (SIGGRAPH Asia 2023)</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://research.nvidia.com/labs/toronto-ai/adaptive-shells/">Adaptive Shells for Efficient Neural Radiance Field Rendering (nvidia.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=2053478190589858048&amp;noteId=2053479143116332288">Adaptive Shells for Efficient Neural Radiance Field Rendering (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231117150239.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç¥ç»è¾å°„åœºåœ¨æ–°è§†å›¾åˆæˆä¸­å®ç°äº†å‰æ‰€æœªæœ‰çš„è´¨é‡ï¼Œä½†å®ƒä»¬çš„ä½“ç§¯å…¬å¼ä»ç„¶æ˜‚è´µï¼Œéœ€è¦å¤§é‡çš„æ ·æœ¬æ¥æ¸²æŸ“é«˜åˆ†è¾¨ç‡å›¾åƒã€‚ä½“ç§¯ç¼–ç å¯¹äºè¡¨ç¤ºæ¨¡ç³Šå‡ ä½•(å¦‚æ ‘å¶å’Œæ¯›å‘)æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå®ƒä»¬éå¸¸é€‚åˆäºéšæœºä¼˜åŒ–ã€‚ç„¶è€Œï¼Œè®¸å¤šåœºæ™¯æœ€ç»ˆä¸»è¦ç”±å›ºä½“è¡¨é¢ç»„æˆï¼Œè¿™äº›è¡¨é¢å¯ä»¥é€šè¿‡æ¯ä¸ªåƒç´ çš„å•ä¸ªæ ·æœ¬ç²¾ç¡®åœ°æ¸²æŸ“ã€‚åŸºäºè¿™ä¸€è§è§£ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç¥ç»è¾å°„å…¬å¼ï¼Œå¯ä»¥åœ¨åŸºäºä½“ç§¯å’ŒåŸºäºè¡¨é¢çš„æ¸²æŸ“ä¹‹é—´å¹³æ»‘è¿‡æ¸¡ï¼Œå¤§å¤§åŠ å¿«æ¸²æŸ“é€Ÿåº¦ï¼Œç”šè‡³æé«˜è§†è§‰ä¿çœŸåº¦ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•æ„å»ºäº†ä¸€ä¸ªæ˜ç¡®çš„ç½‘æ ¼åŒ…ç»œï¼Œè¯¥åŒ…ç»œåœ¨ç©ºé—´ä¸Šçº¦æŸäº†ç¥ç»ä½“ç§¯è¡¨ç¤ºã€‚åœ¨å›ºä½“åŒºåŸŸï¼ŒåŒ…ç»œå‡ ä¹æ”¶æ•›åˆ°ä¸€ä¸ªè¡¨é¢ï¼Œé€šå¸¸å¯ä»¥ç”¨å•ä¸ªæ ·æœ¬æ¸²æŸ“ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ¨å¹¿äº† NeuS [Wang et al. 2021]å…¬å¼ï¼Œ<strong>ä½¿ç”¨å­¦ä¹ çš„ç©ºé—´å˜åŒ–æ ¸å¤§å°æ¥ç¼–ç å¯†åº¦çš„ä¼ æ’­ï¼Œå°†å®½æ ¸æ‹Ÿåˆåˆ°ç±»ä½“ç§¯åŒºåŸŸï¼Œå°†ç´§æ ¸æ‹Ÿåˆåˆ°ç±»è¡¨é¢åŒºåŸŸ</strong>ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨è¡¨é¢å‘¨å›´æå–ä¸€ä¸ªçª„å¸¦çš„æ˜¾å¼ç½‘æ ¼ï¼Œå®½åº¦ç”±æ ¸å°ºå¯¸å†³å®šï¼Œå¹¶å¾®è°ƒè¯¥æ³¢æ®µå†…çš„è¾å°„åœºã€‚åœ¨æ¨æ–­æ—¶ï¼Œæˆ‘ä»¬å°†å…‰çº¿æŠ•å°„åˆ°ç½‘æ ¼ä¸Šï¼Œå¹¶ä»…åœ¨å°é—­åŒºåŸŸå†…è¯„ä¼°è¾å°„åœºï¼Œå¤§å¤§å‡å°‘äº†æ‰€éœ€çš„æ ·æœ¬æ•°é‡ã€‚å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥åœ¨éå¸¸é«˜çš„ä¿çœŸåº¦ä¸‹å®ç°é«˜æ•ˆçš„æ¸²æŸ“ã€‚æˆ‘ä»¬è¿˜æ¼”ç¤ºäº†æå–çš„åŒ…ç»œæ”¯æŒä¸‹æ¸¸åº”ç”¨ç¨‹åºï¼Œå¦‚åŠ¨ç”»å’Œä»¿çœŸã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä½¿ç”¨ InstantNGP åŠ é€Ÿï¼šnerf å·²ç»å¯ä»¥æ¸²æŸ“æ¯æ¡å°„çº¿å…·æœ‰ä¸åŒæ•°é‡çš„æ ·æœ¬çš„å›¾åƒ</p><ul><li>é¦–å…ˆï¼ŒåŸºäºç½‘æ ¼çš„åŠ é€Ÿç»“æ„çš„å†…å­˜å ç”¨éšç€åˆ†è¾¨ç‡çš„å¢åŠ è€Œå‡å°‘</li><li>å…¶æ¬¡ï¼Œmlp çš„å¹³æ»‘æ„Ÿåº”åç½®é˜»ç¢äº†å­¦ä¹ ä½“ç§¯å¯†åº¦çš„å°–é”è„‰å†²æˆ–é˜¶è·ƒå‡½æ•°ï¼Œå³ä½¿å­¦ä¹ äº†è¿™æ ·çš„è„‰å†²ï¼Œä¹Ÿå¾ˆéš¾æœ‰æ•ˆåœ°å¯¹å…¶è¿›è¡Œé‡‡æ ·</li><li>æœ€åï¼Œç”±äºç¼ºä¹çº¦æŸï¼Œéšå¼ä½“ç§¯å¯†åº¦åœºä¸èƒ½å‡†ç¡®åœ°è¡¨ç¤ºä¸‹è¡¨é¢ underlying surfacesâ€”â€” NeuS [Wang et al. 2021]ï¼Œè¿™å¾€å¾€é™åˆ¶äº†å®ƒä»¬åœ¨ä¾èµ–ç½‘æ ¼æå–çš„ä¸‹æ¸¸ä»»åŠ¡ä¸­çš„åº”ç”¨</li></ul><p>ä¸ºäº†å¼¥è¡¥æœ€åä¸€ç‚¹ï¼Œ[Wang et al. 2021, 2022a;Yariv ç­‰äºº]æå‡ºä¼˜åŒ–å¸¦ç¬¦å·è·ç¦»å‡½æ•°(SDF)ä»¥åŠç¼–ç å¯†åº¦åˆ†å¸ƒçš„æ ¸å¤§å°ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¼˜åŒ–å¯†åº¦ã€‚è™½ç„¶è¿™å¯¹äºæ”¹å–„è¡¨é¢è¡¨ç¤ºæ˜¯æœ‰æ•ˆçš„ï¼Œä½†ä½¿ç”¨<strong>å…¨å±€æ ¸å¤§å°</strong>ä¸åœºæ™¯çš„ä¸åŒåŒºåŸŸéœ€è¦è‡ªé€‚åº”å¤„ç†çš„è§‚å¯Ÿç›¸çŸ›ç›¾ã€‚</p><p>ä¸ºäº†è§£å†³ä¸Šè¿°æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ä½“ç§¯ç¥ç»è¾å°„åœºè¡¨ç¤ºæ–¹æ³•ã€‚ç‰¹åˆ«æ˜¯:<br>I)æˆ‘ä»¬æ¦‚æ‹¬äº† NeuS[Wang et al .2021]çš„å…¬å¼ï¼Œè¯¥å…¬å¼å…·æœ‰ç©ºé—´å˜åŒ–çš„æ ¸å®½åº¦ï¼Œå¯¹äºæ¨¡ç³Šè¡¨é¢æ”¶æ•›ä¸ºå®½æ ¸ï¼Œè€Œå¯¹äºæ²¡æœ‰é¢å¤–ç›‘ç£çš„å›ºä½“ä¸é€æ˜è¡¨é¢åˆ™åç¼©ä¸ºè„‰å†²å‡½æ•°ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œ<strong>ä»…è¿™ä¸€æ”¹è¿›å°±å¯ä»¥æé«˜æ‰€æœ‰åœºæ™¯çš„æ¸²æŸ“è´¨é‡</strong>ã€‚<br>Ii)æˆ‘ä»¬ä½¿ç”¨å­¦ä¹ åˆ°çš„ç©ºé—´å˜åŒ–æ ¸å®½åº¦æ¥æå–è¡¨é¢å‘¨å›´çª„å¸¦çš„ç½‘æ ¼åŒ…ç»œã€‚æå–çš„åŒ…ç»œçš„å®½åº¦å¯ä»¥é€‚åº”åœºæ™¯çš„å¤æ‚æ€§ï¼Œå¹¶ä½œä¸ºä¸€ç§æœ‰æ•ˆçš„è¾…åŠ©åŠ é€Ÿæ•°æ®ç»“æ„ã€‚<br>Iii)åœ¨æ¨æ–­æ—¶ï¼Œæˆ‘ä»¬å°†å…‰çº¿æŠ•å°„åˆ°åŒ…ç»œå±‚ä¸Šï¼Œä»¥ä¾¿è·³è¿‡ç©ºç™½åŒºåŸŸï¼Œå¹¶ä»…åœ¨å¯¹æ¸²æŸ“æœ‰é‡è¦è´¡çŒ®çš„åŒºåŸŸå¯¹è¾å°„åœºè¿›è¡Œé‡‡æ ·ã€‚åœ¨ç±»è¡¨é¢åŒºåŸŸï¼Œçª„å¸¦å¯ä»¥ä»å•ä¸ªæ ·æœ¬è¿›è¡Œæ¸²æŸ“ï¼Œè€Œå¯¹äºæ¨¡ç³Šè¡¨é¢åˆ™å¯ä»¥è¿›è¡Œæ›´å®½çš„æ ¸å’Œå±€éƒ¨ä½“æ¸²æŸ“ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>Neural Radiance Fields (NeRFs).</p><p>Implicit surface representation.<br>æˆ‘ä»¬çš„æ–¹æ³•æ˜¯å»ºç«‹åœ¨ NeuS å…¬å¼ä¹‹ä¸Šï¼Œæˆ‘ä»¬çš„ä¸»è¦ç›®æ ‡ä¸æ˜¯æé«˜æå–è¡¨é¢çš„å‡†ç¡®æ€§ã€‚ç›¸åï¼Œæˆ‘ä»¬åˆ©ç”¨ SDF æå–ä¸€ä¸ªç‹­çª„çš„å¤–å£³ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé€‚åº”åœºæ™¯çš„å±€éƒ¨å¤æ‚æ€§ï¼Œä»è€ŒåŠ é€Ÿæ¸²æŸ“</p><p>Accelerating neural volume rendering.<br>æˆ‘ä»¬ç ”ç©¶äº†ä¸€ç§åŠ é€Ÿ(ä½“ç§¯)æ¸²æŸ“çš„æ›¿ä»£æ–¹æ³•ï¼Œé€šè¿‡è°ƒæ•´æ¸²æŸ“æ¯ä¸ªåƒç´ æ‰€éœ€çš„æ ·æœ¬æ•°é‡æ¥é€‚åº”åœºæ™¯çš„æ½œåœ¨å±€éƒ¨å¤æ‚æ€§ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬çš„å…¬å¼æ˜¯å¯¹â€œçƒ˜ç„™â€æ–¹æ³•çš„è¡¥å……ï¼Œæˆ‘ä»¬è®¤ä¸ºä¸¤è€…çš„ç»“åˆæ˜¯æœªæ¥ç ”ç©¶çš„æœ‰è¶£é€”å¾„ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æˆ‘ä»¬çš„æ–¹æ³•(è§å›¾ 3)å»ºç«‹åœ¨ NeRF å’Œ NeuS çš„åŸºç¡€ä¸Šã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬æ¦‚æ‹¬äº† NeuS ä½¿ç”¨æ–°çš„ç©ºé—´å˜åŒ–æ ¸(ç« èŠ‚ 3.2)ï¼Œæé«˜äº†è´¨é‡å¹¶æŒ‡å¯¼çª„å¸¦å£³çš„æå–(ç« èŠ‚ 3.3)ã€‚ç„¶åï¼Œåœ¨ shell å†…å¯¹ç¥ç»è¡¨ç¤ºè¿›è¡Œå¾®è°ƒ(ç¬¬ 3.5 èŠ‚)ï¼Œä»è€Œæ˜¾è‘—åŠ é€Ÿæ¸²æŸ“(ç¬¬ 3.4 èŠ‚)ã€‚</p><h2 id="Preliminaries"><a href="#Preliminaries" class="headerlink" title="Preliminaries"></a>Preliminaries</h2><p>ç›´è§‚ä¸Šï¼Œ<strong>ä¸€ä¸ªå°çš„ğ‘ ä¼šå¾—åˆ°ä¸€ä¸ªå…·æœ‰æ¨¡ç³Šå¯†åº¦çš„å®½æ ¸</strong>ï¼Œè€Œåœ¨é™ç•Œ $\lim_{\mathfrak{s}\to0}d\Phi_\mathbf{s}/d\tau$ ä¸­ï¼Œåˆ™è¿‘ä¼¼äºä¸€ä¸ªå°–é”çš„è„‰å†²å‡½æ•°(è§æ’å›¾)ã€‚è¿™ç§åŸºäº sdf çš„å…¬å¼å…è®¸åœ¨è®­ç»ƒæœŸé—´ä½¿ç”¨ Eikonal æ­£åˆ™åŒ–å™¨ï¼Œè¿™é¼“åŠ±å­¦ä¹ çš„ğ‘“æˆä¸ºå®é™…çš„è·ç¦»å‡½æ•°ï¼Œä»è€Œäº§ç”Ÿæ›´å‡†ç¡®çš„è¡¨é¢é‡å»ºã€‚ç›¸å…³çš„æŸå¤±å°†åœ¨ç¬¬ 3.5 èŠ‚ä¸­è®¨è®ºã€‚</p><p>(NeuS å¯¹ $\Phi_s(f)=(1+\exp(-f/s))^{-1},$ ä¸­ s çš„ä¿®æ”¹å³æ ¸å¤§å°ï¼Œä¿®æ”¹å¯†åº¦å˜åŒ– $\sigma=\max\left(-\frac{\frac{d\Phi_s}{d\tau}(f)}{\Phi_s(f)},0\right)$) <a href="https://www.desmos.com/calculator/owxqvpotdc">è¶‹åŠ¿</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231117160846.png" alt="image.png|333"></p><p>==åé¢çš„ s éƒ½æ˜¯æ ¸å¤§å°==</p><h2 id="Spatially-Varying-Kernel-Size"><a href="#Spatially-Varying-Kernel-Size" class="headerlink" title="Spatially-Varying Kernel Size"></a>Spatially-Varying Kernel Size</h2><p>NeuS SDF å…¬å¼æ˜¯éå¸¸æœ‰æ•ˆçš„ï¼Œç„¶è€Œï¼Œå®ƒä¾èµ–äºå…¨å±€æ ¸å¤§å°ã€‚ç»“åˆ Eikonal æ­£åˆ™åŒ–ï¼Œè¿™æ„å‘³ç€åœ¨æ•´ä¸ªåœºæ™¯ä¸­ä½“ç§¯å¯†åº¦çš„æ’å®šåˆ†å¸ƒã€‚ç„¶è€Œï¼Œ<strong>ä¸€åˆ€åˆ‡çš„æ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½åœ°é€‚åº”</strong>åŒ…å«â€œå°–é”â€è¡¨é¢(å¦‚å®¶å…·æˆ–æ±½è½¦)å’Œâ€œæ¨¡ç³Šâ€ä½“ç§¯åŒºåŸŸ(å¦‚å¤´å‘æˆ–è‰)æ··åˆçš„åœºæ™¯ã€‚</p><p>æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªè´¡çŒ®æ˜¯ç”¨ä¸€ä¸ªç©ºé—´å˜åŒ–çš„ã€å±€éƒ¨å­¦ä¹ çš„æ ¸å¤§å°ğ‘ ä½œä¸ºä¾èµ–äºè¾“å…¥ 3D ä½ç½® x çš„é¢å¤–ç¥ç»è¾“å‡ºæ¥å¢å¼º NeuS å…¬å¼ã€‚æ‰©å±•çš„ç½‘ç»œå˜æˆ $(\mathbf{c},f,s)=\mathrm{NN}_{\theta}(\mathbf{x},\mathbf{d})$ (å‚è§ç¬¬ 4.1 èŠ‚ä¸­çš„å®ç°ç»†èŠ‚)ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜åŠ å…¥äº†ä¸€ä¸ªæ­£åˆ™åŒ–å™¨æ¥æé«˜æ ¸å¤§å° field çš„å¹³æ»‘åº¦(ç¬¬ 3.5 èŠ‚)ã€‚è¯¥ç¥ç»åœºä»ç„¶å¯ä»¥ä»…ä»å½©è‰²å›¾åƒç›‘ç£ä¸­è¿›è¡Œæ‹Ÿåˆï¼Œå¹¶ä¸”ç”±æ­¤äº§ç”Ÿçš„éšç©ºé—´å˜åŒ–çš„æ ¸å¤§å°ä¼šè‡ªåŠ¨é€‚åº”åœºæ™¯å†…å®¹çš„æ¸…æ™°åº¦(å›¾ 7)ã€‚è¿™ç§å¢å¼ºçš„è¡¨ç¤ºæœ¬èº«æ˜¯æœ‰ä»·å€¼çš„ï¼Œå¯ä»¥æé«˜å›°éš¾åœºæ™¯ä¸­çš„é‡å»ºè´¨é‡ï¼Œä½†é‡è¦çš„æ˜¯å®ƒå°†æŒ‡å¯¼æˆ‘ä»¬åœ¨ 3.3 èŠ‚ä¸­æ˜ç¡®çš„ Shell æå–ï¼Œä»è€Œå¤§å¤§åŠ å¿«æ¸²æŸ“é€Ÿåº¦ã€‚</p><h2 id="Extracting-an-Explicit-Shell"><a href="#Extracting-an-Explicit-Shell" class="headerlink" title="Extracting an Explicit Shell"></a>Extracting an Explicit Shell</h2><p>è‡ªé€‚åº”å£³åˆ’åˆ†äº†å¯¹æ¸²æŸ“å¤–è§‚æœ‰é‡è¦å½±å“çš„ç©ºé—´åŒºåŸŸï¼Œå¹¶ç”±ä¸¤ä¸ªæ˜¾å¼ä¸‰è§’å½¢ç½‘æ ¼è¡¨ç¤ºã€‚å½“ğ‘ è¾ƒå¤§æ—¶ï¼Œå¤–å£³è¾ƒåšï¼Œå¯¹åº”äºä½“ç§¯åœºæ™¯å†…å®¹ï¼Œå½“ğ‘ è¾ƒå°æ—¶ï¼Œå¤–å£³è¾ƒè–„ï¼Œå¯¹åº”äºè¡¨é¢ã€‚åœ¨éšå¼ field ğ‘ å’Œğ‘“æŒ‰ç…§ 3.2 èŠ‚çš„æè¿°è¿›è¡Œæ‹Ÿåˆä¹‹åï¼Œæˆ‘ä»¬ä½œä¸ºåå¤„ç†æå–è¿™ä¸ªè‡ªé€‚åº” shell ä¸€æ¬¡ã€‚</p><p>åœ¨æ–¹ç¨‹3ä¸­ $\Phi_s(f)=(1+\exp(-f/s))^{-1},$ $\sigma=\max\left(-\frac{\frac{d\Phi_s}{d\tau}(f)}{\Phi_s(f)},0\right)$<br>S å½¢æŒ‡æ•°ä¸­æ•°é‡ğ‘“/ğ‘ çš„å¤§å°å†³å®šäº†æ²¿ç€ä¸€æ¡å°„çº¿çš„æ¸²æŸ“è´¡çŒ®(å‚è§ç¬¬ 3.1 èŠ‚çš„æ’å›¾)ã€‚ç®€å•åœ°æå–|ğ‘“/ğ‘ | &lt;ğœ‚(å¯¹äºæŸäº›ğœ‚)ä½œä¸ºå¯¹å‘ˆç°æœ‰é‡è¦è´¡çŒ®çš„åŒºåŸŸæ˜¯å¾ˆæœ‰è¯±æƒ‘åŠ›çš„ã€‚ç„¶è€Œï¼Œå­¦ä¹ åˆ°çš„å‡½æ•°å¾ˆå¿«å°±ä¼šåœ¨è¿œç¦»ğ‘“= 0 æ°´å¹³é›†çš„åœ°æ–¹å˜å¾—æœ‰å™ªå£°ï¼Œå¹¶ä¸”åœ¨ä¸ç ´åç²¾ç»†ç»†èŠ‚çš„æƒ…å†µä¸‹æ— æ³•å……åˆ†æ­£åˆ™åŒ–ã€‚æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯åˆ†åˆ«æå–å†…éƒ¨è¾¹ç•Œä½œä¸ºğ‘“= 0 æ°´å¹³é›†çš„ä¾µèš€ï¼Œå¹¶å°†å¤–éƒ¨è¾¹ç•Œä½œä¸ºå…¶è†¨èƒ€(å›¾ 4)ï¼Œä¸¤è€…éƒ½é€šè¿‡é’ˆå¯¹ä»»åŠ¡å®šåˆ¶çš„æ­£åˆ™åŒ–çº¦æŸæ°´å¹³é›†è¿›åŒ–æ¥å®ç°</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231117160902.png" alt="image.png|666"></p><p>è¯¦ç»†åœ°è¯´ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹è§„åˆ™ç½‘æ ¼é¡¶ç‚¹å¤„çš„ field ğ‘“å’Œğ‘ è¿›è¡Œé‡‡æ ·ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†æ°´å¹³é›†è¿›åŒ–åº”ç”¨äºğ‘“ï¼Œäº§ç”Ÿæ–°çš„ä¾µèš€åœº SDF-ï¼Œå¹¶é€šè¿‡ marching cubes æå– SDF- = 0 æ°´å¹³é›†ä½œä¸ºå†…å£³è¾¹ç•Œã€‚ä¸€ä¸ªç‹¬ç«‹çš„ã€ç±»ä¼¼çš„æ¼”åŒ–äº§ç”Ÿäº†è†¨èƒ€åœº SDF+ï¼Œè€Œ SDF+ = 0 çš„èƒ½çº§é›†å½¢æˆäº†å¤–å£³è¾¹ç•Œã€‚<br>æˆ‘ä»¬åˆ†åˆ«å®šä¹‰è¿™ä¸¤ä¸ª level é›†:</p><ul><li>è†¨èƒ€çš„å¤–è¡¨é¢åº”è¯¥æ˜¯å…‰æ»‘çš„ï¼Œä»¥é¿å…å¯è§çš„è¾¹ç•Œä¼ªå½±ï¼Œ</li><li>è€Œä¾µèš€çš„å†…è¡¨é¢ä¸éœ€è¦å…‰æ»‘ï¼Œä½†å¿…é¡»åªæ’é™¤é‚£äº›è‚¯å®šå¯¹æ¸²æŸ“å¤–è§‚æ²¡æœ‰è´¡çŒ®çš„åŒºåŸŸã€‚</li></ul><p>Recall field ğ‘çš„åŸºæœ¬æ°´å¹³é›†æ¼”åŒ–ç”± $\partial a/\partial t=-\left|\nabla a\right|v$ ç»™å®šï¼Œå…¶ä¸­ğ‘£æ˜¯æ°´å¹³é›†çš„æ‰€éœ€æ ‡é‡å‘å¤–æ³•å‘é€Ÿåº¦ã€‚æˆ‘ä»¬åœ¨ğ‘“ä¸Šçš„é™åˆ¶çš„æ­£åˆ™åŒ–æµæ˜¯ï¼š$\frac{\partial f}{\partial t}=-|\nabla f|\left(v(f_{0},s)+\lambda_{\mathrm{curv}}\nabla\cdot\frac{\nabla f}{|\nabla f|}\right)\omega(f),$<br>å…¶ä¸­ $ğ‘“_{0}$ è¡¨ç¤ºåˆå§‹å­¦ä¹ çš„ SDFï¼Œæ•£åº¦é¡¹æ˜¯ä¸€ä¸ªæƒå€¼ä¸º $ğœ†_{curv}$ çš„æ›²ç‡å¹³æ»‘æ­£åˆ™åŒ–å™¨ã€‚è½¯è¡°å‡ğœ”(è§æ’å›¾)å°†æµé‡é™åˆ¶åœ¨æ°´å¹³é›†å‘¨å›´çš„çª—å£:<br>çª—å£å®½åº¦ğœã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231117163131.png" alt="image.png|333"></p><p>ä¸ºäº† dilate æ°´å¹³é›†ï¼Œå¯¹äºæ³•çº¿æ–¹å‘å…¥å°„çš„å°„çº¿ï¼Œ<strong>é€‰æ‹©é€Ÿç‡ v</strong>ç”¨å¯†åº¦ä¸º $\sigma&gt;\sigma_{\min}$ å¡«å……æ‰€æœ‰åŒºåŸŸ</p><p>$v_\text{dilate}(f_0,s)=\begin{cases}\beta_d\sigma(f_0,s)&amp;\sigma(f_0,s)&gt;\sigma_{\min}\\0&amp;\sigma(f_0,s)\leq\sigma_{\min}\end{cases},$</p><p>$\beta_{d}$ æ˜¯ scaling coefficientã€‚æˆ‘ä»¬ä½¿ç”¨ğœ= 0.1ï¼Œ$ğœ†_{curv} = 0.01$ã€‚</p><p>ä¸ºäº†ä¾µèš€æ°´å¹³é›†ï¼Œé€Ÿåº¦ä¸å¯†åº¦æˆåæ¯”ï¼Œå› æ­¤åœ¨ä½å¯†åº¦åŒºåŸŸï¼Œå£³å‘å†…è†¨èƒ€å¾—å¿«ï¼Œè€Œåœ¨é«˜å¯†åº¦åŒºåŸŸï¼Œå£³å‘å†…è†¨èƒ€å¾—æ…¢</p><p>$v_{\mathrm{erode}}(f_0,s)=\min{(v_{\mathrm{max}},\beta_e}\frac{1}{\sigma(f_0,s)}),$</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ğœ= 0.05ï¼Œ$ğœ†_{curv}$ = 0ã€‚These velocities å¯¼è‡´äº†çŸ­è·ç¦»çš„æµåŠ¨ï¼Œå› æ­¤å½¢æˆäº†ä¸€ä¸ªç‹­çª„çš„å£³ï¼Œå…¶ä¸­ğ‘ å¾ˆå°ï¼Œå†…å®¹ç‰©å‘ˆè¡¨é¢çŠ¶ã€‚å®ƒä»¬å¯¼è‡´é•¿è·ç¦»æµåŠ¨ï¼Œå› æ­¤å½¢æˆä¸€ä¸ªå®½å£³ï¼Œå…¶ä¸­ğ‘ å¾ˆå¤§ï¼Œå†…å®¹ç‰©å‘ˆä½“ç§¯çŠ¶ã€‚</p><p>æˆ‘ä»¬é€šè¿‡å‰å‘æ¬§æ‹‰ç§¯åˆ†æ³•åœ¨ç½‘æ ¼ä¸Šå¯¹è¯¥æµè¿›è¡Œ50æ­¥ç§¯åˆ†ï¼Œé€šè¿‡ç©ºé—´æœ‰é™å·®åˆ†è®¡ç®—å¯¼æ•°ï¼Œåˆ†åˆ«è®¡ç®—è†¨èƒ€åœº SDF+å’Œä¾µèš€åœº SDF-ã€‚æˆ‘ä»¬è®¤ä¸ºæ²¡æœ‰å¿…è¦è¿›è¡Œæ•°å€¼ä¸Šçš„è·ç¦»è°ƒæ•´ã€‚æœ€åï¼Œæˆ‘ä»¬å°†ç»“æœ $SDFâˆ’â†max(ğ‘“_{0},SDFâˆ’)$ å’Œ $SDF+â†min(ğ‘“_0,SDF+)$ å¤¹ç´§ï¼Œä»¥ç¡®ä¿ä¾µèš€åœºåªç¼©å°æ°´å¹³é›†ï¼Œè€Œè†¨èƒ€æµåªå¢å¤§æ°´å¹³é›†ã€‚SDF+ = 0 å’Œ SDFâˆ’= 0 çš„æ°´å¹³é›†é€šè¿‡ MC åˆ†åˆ«ä½œä¸ºå¤–å£³å¤–è¾¹ç•Œç½‘æ ¼ M+å’Œå†…å£³è¾¹ç•Œç½‘æ ¼ Mâˆ’æå–ã€‚å›¾ 5 æ˜¾ç¤ºäº†ç»“æœå­—æ®µã€‚è¿›ä¸€æ­¥è¯¦æƒ…è½½äºé™„å½•çš„ç¨‹åº1åŠ2ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231120093710.png" alt="image.png|666"></p><h2 id="Narrow-Band-Rendering"><a href="#Narrow-Band-Rendering" class="headerlink" title="Narrow-Band Rendering"></a>Narrow-Band Rendering</h2><p>æå–çš„è‡ªé€‚åº”å£³ä½œä¸ºè¾…åŠ©åŠ é€Ÿæ•°æ®ç»“æ„ï¼Œå¼•å¯¼ç‚¹æ²¿ç€å°„çº¿é‡‡æ ·(å…¬å¼ 2)ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿæœ‰æ•ˆåœ°è·³è¿‡ç©ºç™½ç©ºé—´ï¼Œåªåœ¨éœ€è¦é«˜æ„ŸçŸ¥è´¨é‡çš„åœ°æ–¹é‡‡æ ·ç‚¹ã€‚å¯¹äºæ¯æ¡å°„çº¿ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿå°„çº¿è·Ÿè¸ªæ¥æœ‰æ•ˆåœ°æšä¸¾ç”±å°„çº¿å’Œè‡ªé€‚åº”å£³çš„äº¤ç‚¹å®šä¹‰çš„æœ‰åºé—´éš”ã€‚åœ¨æ¯ä¸ªé—´éš”å†…ï¼Œæˆ‘ä»¬æŸ¥è¯¢ç­‰é—´éš”çš„æ ·æœ¬ã€‚æˆ‘ä»¬çš„æ¸²æŸ“å™¨ä¸éœ€è¦ä»»ä½•åŠ¨æ€è‡ªé€‚åº”é‡‡æ ·æˆ–ä¾èµ–äºæ ·æœ¬çš„ç»ˆæ­¢æ ‡å‡†ï¼Œè¿™æœ‰åˆ©äºé«˜æ€§èƒ½å¹¶è¡Œè¯„ä¼°ã€‚</p><p>è¯¦ç»†åœ°è¯´ï¼Œæˆ‘ä»¬é¦–å…ˆä¸ºå¤–éƒ¨ç½‘æ ¼ M+å’Œå†…éƒ¨ç½‘æ ¼ M-<br>æ„å»ºå…‰çº¿è·Ÿè¸ªåŠ é€Ÿæ•°æ®ç»“æ„ï¼Œç„¶åå°†æ¯æ¡å…‰çº¿æŠ•å°„åˆ°ç½‘æ ¼ä¸Šï¼Œäº§ç”Ÿä¸€ç³»åˆ—å…‰çº¿è¿›å…¥æˆ–é€€å‡ºç½‘æ ¼çš„äº¤å‰ç‚¹ï¼Œå°†å…‰çº¿åˆ’åˆ†ä¸ºé›¶æˆ–æ›´å¤šåŒ…å«åœ¨å¤–å£³ä¸­çš„é—´éš”(è§æ’å›¾)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231120094106.png" alt="image.png|222"></p><p>é‡‡æ ·æ•°é‡è®¡ç®—æ–¹æ³•ï¼š$ceil(max(w-w_s,0)/{\delta_{s}})+1$ï¼Œå°†æœ€å¤§é‡‡æ ·æ•°é‡é™åˆ¶ä¸º $N_{max}$ï¼Œå¹¶ç­‰è·ç¦»é‡‡æ ·<br>è¿™ä¸ªè¿‡ç¨‹å¯ä»¥é€šè¿‡é¦–å…ˆç”Ÿæˆæ‰€æœ‰é—´éš”å†…çš„æ‰€æœ‰æ ·æœ¬ï¼Œç„¶åæ‰§è¡Œå•ä¸ªæ‰¹å¤„ç† MLP æ¨ç†ä¼ é€’æ¥å®ç°ï¼Œè¿™å¯ä»¥æé«˜ååé‡</p><h2 id="Losses-and-Training"><a href="#Losses-and-Training" class="headerlink" title="Losses and Training"></a>Losses and Training</h2><p>åœ¨ç¬¬ä¸€é˜¶æ®µ<br>$\mathcal{L}=\mathcal{L}_{\mathbf{c}}+\lambda_{e}\mathcal{L}_{e}+\lambda_{s}\mathcal{L}_{s}+\lambda_{\mathbf{n}}\mathcal{L}_{\mathbf{n}}$</p><ul><li>æ‰€æœ‰å®éªŒçš„æƒå€¼åˆ†åˆ«ä¸ºğœ†c = 1ï¼Œ ğœ†ğ‘’= 0.1ï¼Œğœ†n = 0.1ï¼Œğœ†ğ‘ = 0.01ã€‚</li><li>$\mathcal{L_{c}}$ æ˜¯å¯¹æ ¡å‡†çš„çœŸåœ°å›¾åƒçš„æ ‡å‡†é€åƒç´ è‰²å½©æŸå¤±ï¼š$\mathcal{L}_{\mathrm{c}}=\frac{1}{|\mathcal{R}|}\sum_{\mathrm{r}\in\mathcal{R}}|\mathbf{c}(\mathbf{r})-\mathbf{c}_{\mathrm{gt}}(\mathbf{r})|$</li><li>$\mathcal{L_{e}}$ æ˜¯ Eikonal æ­£åˆ™å™¨ $\mathcal{L}_{e}=\frac{1}{|X|}\sum_{\mathbf{x}\in\mathcal{X}}\left(||\nabla f(\mathbf{x})||_{2}-1\right)^{2},$ æœ¬æ–‡ä½¿ç”¨æœ‰é™å·®åˆ†å¾—åˆ°</li><li>æŸå¤± $\mathcal{L_{s}}$ æ­£åˆ™åŒ–åœ¨æˆ‘ä»¬çš„å…¬å¼ä¸­å¼•å…¥çš„ç©ºé—´å˜åŒ–çš„æ ¸å¤§å°ä»¥å®ç°å¹³æ»‘: $\mathcal{L}_{s}=\frac{1}{\mathcal{X}}\sum_{\mathbf{x}\in\mathcal{X}}|||\log\big[s(\mathbf{x})\big]-\log\big[s(\mathbf{x}+\mathcal{N}(0,\varepsilon^{2}))\big]||_{2},$ å¼ä¸­ $\mathcal{N}(0,\varepsilon^{2})$ ä¸ºæ ‡å‡†å·®ä¸º $\varepsilon$ çš„æ­£æ€åˆ†å¸ƒæ ·æœ¬ã€‚æœ€åï¼Œæˆ‘ä»¬æŠŠæŸå¤±ç®—è¿›å»</li><li>$\mathcal{L}_{\mathbf{n}}=\frac{1}{|\mathcal{X}|}\big|\mathbf{n}(\mathbf{x})-\frac{\nabla f(\mathbf{x})}{||\nabla f(\mathbf{x})||_{2}}\big|_{2},$ ä¸ NeuS ä¸€æ ·ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨å‡ ä½•æ³•çº¿ä½œä¸ºç€è‰²å­ç½‘ç»œçš„è¾“å…¥ï¼Œä½†æˆ‘ä»¬å‘ç°ä½¿ç”¨ç½‘ç»œé¢„æµ‹è¿™äº›æ³•çº¿å¯ä»¥æé«˜æ¨ç†æ€§èƒ½ï¼Œè€Œä¸æ˜¯æ¢¯åº¦è¯„ä¼°</li></ul><p>åœ¨éšå¼åŸŸæ‹Ÿåˆä¹‹åï¼Œæˆ‘ä»¬æå–è‡ªé€‚åº”å£³ï¼Œå¦‚ç¬¬3.3èŠ‚æ‰€ç¤ºã€‚è™½ç„¶æœ€åˆçš„è®­ç»ƒéœ€è¦æ²¿ç€å°„çº¿å¯†é›†é‡‡æ ·ï¼Œä½†æˆ‘ä»¬çš„æ˜¾å¼å¤–å£³ç°åœ¨å…è®¸çª„å¸¦æ¸²æŸ“åªåœ¨é‡è¦åŒºåŸŸé›†ä¸­æ ·æœ¬ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨çª„å¸¦å†…å¾®è°ƒè¡¨ç¤ºï¼Œç°åœ¨åªæœ‰ $\mathcal{L_{c}}$ -ä¸å†éœ€è¦é¼“åŠ±å‡ ä½•ä¸Šå¾ˆå¥½çš„è¡¨ç¤ºï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»æå–äº†å¤–å£³å¹¶å°†é‡‡æ ·é™åˆ¶åœ¨åœºæ™¯å†…å®¹å‘¨å›´çš„å°å¸¦å†…ã€‚ç¦ç”¨æ­£åˆ™åŒ–ä½¿ç½‘ç»œèƒ½å¤Ÿå°†å…¶å…¨éƒ¨å®¹é‡ç”¨äºæ‹Ÿåˆè§†è§‰å¤–è§‚ï¼Œä»è€Œæé«˜è§†è§‰ä¿çœŸåº¦(è¡¨ 4)ã€‚åœ¨é™„å½•çš„è¿‡ç¨‹ 4 ä¸­ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†å¸¦æœ‰ç®—æ³•ç»†èŠ‚çš„è®­ç»ƒç®¡é“ã€‚</p><ul><li>ç¬¬äºŒé˜¶æ®µåªéœ€è¦ä¼˜åŒ– $\mathcal{L_{c}}$ </li></ul><h1 id="APPLICATIONS"><a href="#APPLICATIONS" class="headerlink" title="APPLICATIONS"></a>APPLICATIONS</h1><ul><li>Cage-based deformation methods åŠ¨æ€ç‰©ä½“ï¼ˆå˜å½¢ç½‘æ ¼ï¼‰</li><li>physical simulation and animation</li></ul><h1 id="DISCUSSION"><a href="#DISCUSSION" class="headerlink" title="DISCUSSION"></a>DISCUSSION</h1><p>æœ€è¿‘çš„å·¥ä½œå¼€å‘äº†åŠ é€Ÿå’Œæé«˜ nerf ç±»åœºæ™¯è¡¨ç¤ºè´¨é‡çš„æ–¹æ¡ˆã€‚ç¬¬ 4 èŠ‚æä¾›äº†å¯¹é€‰å®šçš„ï¼Œç‰¹åˆ«æ˜¯ç›¸å…³æ–¹æ³•çš„æ¯”è¾ƒã€‚è¯·æ³¨æ„ï¼Œç”±äºè¯¥é¢†åŸŸçš„é«˜ç ”ç©¶æ´»åŠ¨ï¼Œä¸å¯èƒ½å¯¹æ‰€æœ‰æŠ€æœ¯è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶ä¸”è®¸å¤šæ–¹æ³•çš„å®ç°æ˜¯ä¸å¯ç”¨çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯¹ä¸€äº›ç›¸å…³å·¥ä½œæå‡ºè¡¥å……æ„è§:</p><ul><li>MobileNeRFã€nerfmesh å’Œ nerf2mesh åå¤„ç†ç±»ä¼¼ nerf çš„æ¨¡å‹å¹¶æå–ç½‘æ ¼ä»¥åŠ é€Ÿæ¨ç†ï¼Œç±»ä¼¼äºè¿™é¡¹å·¥ä½œã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•å°†å¤–è§‚é™åˆ¶åœ¨è¡¨é¢ï¼Œç‰ºç‰²äº†è´¨é‡ã€‚ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¿ç•™äº†å®Œæ•´çš„ä½“ç§¯è¡¨ç¤ºå’Œå‡ ä¹å®Œå…¨çš„ nerf è´¨é‡ï¼Œä»£ä»·æ˜¯ç¨å¾®æ˜‚è´µä¸€äº›çš„æ¨ç†(å°½ç®¡åœ¨ç°ä»£ç¡¬ä»¶ä¸Šä»ç„¶æ˜¯å®æ—¶çš„)ã€‚</li><li>DuplexRF ä¹Ÿä»åº•å±‚ç¥ç»é¢†åŸŸæå–äº†ä¸€ä¸ªæ˜¾å¼å¤–å£³ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥åŠ é€Ÿæ¸²æŸ“ï¼Œå°½ç®¡å®ƒä½¿ç”¨äº†éå¸¸ä¸åŒçš„ç¥ç»è¡¨ç¤ºï¼Œä¼˜å…ˆè€ƒè™‘æ€§èƒ½ã€‚å®ƒä»¬çš„å£³ç›´æ¥ä»è¾å°„åœºçš„ä¸¤ä¸ªé˜ˆå€¼ä¸­æå–ï¼Œè¿™éœ€è¦ä»”ç»†é€‰æ‹©é˜ˆå€¼ï¼Œå¹¶å¯¼è‡´ä¸æˆ‘ä»¬çš„æ–¹æ³•ç›¸åçš„å™ªå£°å£³ä¸é€‚åº”åœºæ™¯çš„å±€éƒ¨å¤æ‚æ€§ã€‚</li><li>VMesh åŸºäºç±»ä¼¼çš„è§è§£ï¼Œå³åœºæ™¯çš„ä¸åŒéƒ¨åˆ†éœ€è¦ä¸åŒçš„å¤„ç†ã€‚ç„¶è€Œï¼Œå®ƒä»¬çš„å…¬å¼å‡è®¾äº†ä¸€ä¸ªé¢å¤–çš„ä½“ç´ ç½‘æ ¼æ•°æ®ç»“æ„æ¥æ ‡è®°æœ‰åŠ©äºæœ€ç»ˆæ¸²æŸ“çš„ä½“ç§¯åŒºåŸŸã€‚ä¸InstantNGPçš„è¾…åŠ©åŠ é€Ÿæ•°æ®ç»“æ„ä¸€æ ·ï¼Œè¿™ç§æ–¹æ³•çš„å¤æ‚æ€§ç¼©æ”¾èƒ½åŠ›è¾ƒå·®ã€‚ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä½¿ç”¨æ˜¾å¼çš„è‡ªé€‚åº”shellæ¥åˆ’åˆ†æœ‰åŠ©äºå‘ˆç°çš„åŒºåŸŸã€‚é™¤äº†è¾ƒä½çš„å¤æ‚æ€§å¤–ï¼Œæˆ‘ä»¬çš„é…æ–¹æ— ç¼åœ°æ”¯æŒç¬¬5èŠ‚APPLICATIONSä¸­è®¨è®ºçš„è¿›ä¸€æ­¥åº”ç”¨</li></ul><h1 id="CONCLUSION-AND-FUTURE-WORK"><a href="#CONCLUSION-AND-FUTURE-WORK" class="headerlink" title="CONCLUSION AND FUTURE WORK"></a>CONCLUSION AND FUTURE WORK</h1><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ä¸“æ³¨äºæœ‰æ•ˆåœ°æ¸²æŸ“nerfã€‚æˆ‘ä»¬çš„ç¬¬ä¸€é˜¶æ®µè®­ç»ƒ(ç¬¬3.2èŠ‚)åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šç±»ä¼¼äºNNeuralangeloï¼Œå¹¶ä¸”å¯èƒ½é€šè¿‡ç®—æ³•è¿›æ­¥å’Œç±»ä¼¼äºæˆ‘ä»¬çš„æ¨ç†ç®¡é“çš„ä½çº§è°ƒä¼˜æ¥åŠ é€ŸNeuSã€‚<br>å°½ç®¡æˆ‘ä»¬çš„æ–¹æ³•ä¸ºé«˜ä¿çœŸç¥ç»æ¸²æŸ“æä¾›äº†å¾ˆå¤§çš„åŠ é€Ÿï¼Œå¹¶åœ¨ç°ä»£ç¡¬ä»¶ä¸Šä»¥å®æ—¶é€Ÿç‡è¿è¡Œ(è¡¨1)ï¼Œä½†å®ƒä»ç„¶æ¯”MeRFç­‰æ–¹æ³•æ˜‚è´µå¾—å¤šï¼Œå…¶é¢„å…ˆè®¡ç®—ç¥ç»åœºè¾“å‡ºï¼Œå¹¶å°†å…¶çƒ˜çƒ¤æˆç¦»æ•£çš„ç½‘æ ¼è¡¨ç¤ºã€‚æˆ‘ä»¬çš„å…¬å¼ä¸MeRFçš„å…¬å¼æ˜¯äº’è¡¥çš„ï¼Œæˆ‘ä»¬å‡è®¾ç»“åˆè¿™ä¸¤ç§æ–¹æ³•å°†å¯¼è‡´è¿›ä¸€æ­¥çš„åŠ é€Ÿï¼Œæ½œåœ¨åœ°è¾¾åˆ°æ€§èƒ½-é«˜è´¨é‡çš„æ–¹æ³•ï¼Œå°†ä½“ç§¯è¡¨ç¤ºçƒ˜çƒ¤åˆ°æ˜¾å¼ç½‘æ ¼ï¼Œç”šè‡³å¯ä»¥åœ¨å•†å“ç¡¬ä»¶ä¸Šå®æ—¶è¿è¡Œ(ä¾‹å¦‚MobileNeRF)ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•<strong>ä¸èƒ½ä¿è¯æ•è·è–„ç»“æ„</strong>â€”â€”å¦‚æœæå–çš„è‡ªé€‚åº”å£³å¿½ç•¥äº†ä¸€ä¸ªå‡ ä½•åŒºåŸŸï¼Œå®ƒå°†æ°¸è¿œæ— æ³•åœ¨å¾®è°ƒæœŸé—´æ¢å¤ï¼Œå¹¶ä¸”å°†å§‹ç»ˆç¼ºå¸­é‡å»ºã€‚è¿™ç§å½¢å¼çš„å·¥ä»¶åœ¨ä¸€äº›mipnerf360åœºæ™¯ä¸­æ˜¯å¯è§çš„ã€‚æœªæ¥çš„å·¥ä½œå°†æ¢ç´¢ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬äº¤æ›¿è°ƒæ•´æˆ‘ä»¬çš„é‡å»ºå’Œé€‚åº”å¤–å£³ï¼Œä»¥ç¡®ä¿æ²¡æœ‰é‡è¦çš„å‡ ä½•å½¢çŠ¶ä¸¢å¤±ã€‚åœ¨æˆ‘ä»¬çš„é‡å»ºä¸­å¶å°”å‡ºç°çš„å…¶ä»–äººå·¥åˆ¶å“åŒ…æ‹¬è™šå‡çš„æµ®åŠ¨å‡ ä½•å½¢çŠ¶å’Œä½åˆ†è¾¨ç‡èƒŒæ™¯;è¿™ä¸¤è€…éƒ½æ˜¯ç¥ç»é‡å»ºä¸­å¸¸è§çš„æŒ‘æˆ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å€Ÿé‰´è¯¥é¢†åŸŸå…¶ä»–å·¥ä½œçš„è§£å†³æ–¹æ¡ˆ(ä¾‹å¦‚RegNeRF)ã€‚<br>æ›´å¹¿æ³›åœ°è¯´ï¼Œå°†æœ€è¿‘çš„ç¥ç»è¡¨ç¤ºä¸è®¡ç®—æœºå›¾å½¢å­¦ä¸­å®æ—¶æ€§èƒ½çš„é«˜æ€§èƒ½æŠ€æœ¯ç»“åˆèµ·æ¥æœ‰å¾ˆå¤§çš„æ½œåŠ›ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å…‰çº¿è·Ÿè¸ªå’Œè‡ªé€‚åº”shellæ¥æå¤§åœ°æé«˜æ€§èƒ½</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> NeRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DMV3D</title>
      <link href="/3DReconstruction/Multi-view/Hybrid%20Methods/DMV3D/"/>
      <url>/3DReconstruction/Multi-view/Hybrid%20Methods/DMV3D/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>DMV3D: Denoising Multi-View Diffusion using 3D Large Reconstruction Model</th></tr></thead><tbody><tr><td>Author</td><td>Xu, Yinghao and Tan, Hao and Luan, Fujun and Bi, Sai and Wang Peng and Li, Jihao and Shi, Zifan and Sunkavalli, Kaylan and Wetzstein Gordon and Xu, Zexiang and Zhang Kai}</td></tr><tr><td>Conf/Jour</td><td>arxiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://justimyhxu.github.io/projects/dmv3d/">DMV3D: Denoising Multi-View Diffusion Using 3D Large Reconstruction Mode (justimyhxu.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=2051819500442962176&amp;noteId=2052104116852710656">DMV3D: DENOISING MULTI-VIEW DIFFUSION USING 3D LARGE RECONSTRUCTION MODEL (readpaper.com)</a></td></tr></tbody></table></div><p><strong>éœ€è¦ç›¸æœºä½å§¿</strong> + å¤šè§†å›¾ + Diffusion Model + NeRF Triplane2MLP</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116161909.png" alt="image.png|666"></p><p>ä¸è¶³ï¼š</p><ul><li>å¯¹æœªè§è§†å›¾çš„é‡å»ºè´¨é‡ä¸é«˜</li><li>åªæ”¯æŒä½åˆ†è¾¨ç‡å›¾åƒå’Œä¸‰å¹³é¢</li><li>åªæ”¯æŒè¾“å…¥æ²¡æœ‰èƒŒæ™¯çš„ç‰©ä½“å›¾åƒ</li><li>æ²¡ç”¨åˆ°ä»»ä½•å…ˆéªŒçŸ¥è¯†</li></ul><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ä¸‰ç»´ç”Ÿæˆæ–¹æ³• DMV3Dï¼Œå®ƒä½¿ç”¨åŸºäº transformer çš„ä¸‰ç»´å¤§é‡å»ºæ¨¡å‹æ¥å»å™ªå¤šè§†å›¾æ‰©æ•£ã€‚æˆ‘ä»¬çš„é‡å»ºæ¨¡å‹é‡‡ç”¨ä¸‰å¹³é¢ NeRF è¡¨ç¤ºï¼Œå¯ä»¥é€šè¿‡ NeRF é‡å»ºå’Œæ¸²æŸ“å»å™ªå¤šè§†å›¾å›¾åƒï¼Œåœ¨å•ä¸ª A100 GPU ä¸Šå®ç° 30 ç§’å†…çš„å•é˜¶æ®µ 3D ç”Ÿæˆã€‚æˆ‘ä»¬<strong>åªä½¿ç”¨å›¾åƒé‡å»ºæŸå¤±</strong>ï¼Œè€Œä¸è®¿é—® 3D èµ„äº§ï¼Œåœ¨<strong>é«˜åº¦å¤šæ ·åŒ–å¯¹è±¡çš„å¤§è§„æ¨¡å¤šè§†å›¾å›¾åƒæ•°æ®é›†</strong>ä¸Šè®­ç»ƒ DMV3Dã€‚æˆ‘ä»¬å±•ç¤ºäº†æœ€å…ˆè¿›çš„å•å›¾åƒé‡å»ºé—®é¢˜çš„ç»“æœï¼Œå…¶ä¸­éœ€è¦å¯¹æœªè§ç‰©ä½“éƒ¨åˆ†è¿›è¡Œæ¦‚ç‡å»ºæ¨¡ï¼Œä»¥ç”Ÿæˆå…·æœ‰å°–é”çº¹ç†çš„å¤šç§é‡å»ºã€‚æˆ‘ä»¬è¿˜å±•ç¤ºäº†é«˜è´¨é‡çš„æ–‡æœ¬åˆ° 3D ç”Ÿæˆç»“æœï¼Œä¼˜äºä»¥å‰çš„ 3D æ‰©æ•£æ¨¡å‹ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æˆ‘ä»¬ç°åœ¨å±•ç¤ºæˆ‘ä»¬çš„å•é˜¶æ®µ 3D æ‰©æ•£æ¨¡å‹ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°çš„æ‰©æ•£æ¡†æ¶ï¼Œè¯¥æ¡†æ¶ä½¿ç”¨åŸºäºé‡å»ºçš„å»å™ªå™¨æ¥å»å™ª 3D ç”Ÿæˆçš„å¤šè§†å›¾å›¾åƒ(ç¬¬ 3.1 èŠ‚)ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„åŸºäº lrm çš„(Hong et al.ï¼Œ 2023)åŸºäºæ‰©æ•£æ—¶é—´æ­¥é•¿çš„å¤šè§†ç‚¹å»å™ªå™¨ï¼Œé€šè¿‡ 3D NeRF é‡å»ºå’Œæ¸²æŸ“é€æ­¥å»å™ªå¤šè§†ç‚¹å›¾åƒ(ç¬¬ 3.2 èŠ‚)ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥æ‰©å±•æˆ‘ä»¬çš„æ¨¡å‹ä»¥æ”¯æŒæ–‡æœ¬å’Œå›¾åƒè°ƒèŠ‚ï¼Œä»è€Œå®ç°å¯æ§ç”Ÿæˆ(ç¬¬ 3.3 èŠ‚)ã€‚</p><h2 id="MULTI-VIEW-DIFFUSION-AND-DENOISING"><a href="#MULTI-VIEW-DIFFUSION-AND-DENOISING" class="headerlink" title="MULTI-VIEW DIFFUSION AND DENOISING"></a>MULTI-VIEW DIFFUSION AND DENOISING</h2><p>Diffusion. Denoising Diffusion Probabilistic Models (DDPM)åœ¨æ­£å‘æ‰©æ•£è¿‡ç¨‹ä¸­ä½¿ç”¨é«˜æ–¯å™ªå£°è°ƒåº¦å¯¹æ•°æ®åˆ†å¸ƒ $x_{0} \sim q(x)$ è¿›è¡Œå˜æ¢ã€‚ç”Ÿæˆè¿‡ç¨‹æ˜¯å›¾åƒé€æ¸å»å™ªçš„åå‘è¿‡ç¨‹ã€‚</p><p>Multi-view diffusion.</p><p>Reconstruction-based denoising.<br>$\mathbf{I}_{r,t}=\mathrm{R}(\mathrm{S}_t,\boldsymbol{c}),\quad\mathrm{S}_t=\mathrm{E}(\mathcal{I}_t,t,\mathcal{C})$</p><ul><li>ä½¿ç”¨é‡å»ºæ¨¡å— E(Â·) ä»æœ‰å™ªå£°çš„å¤šè§†å›¾å›¾åƒä¸­é‡å»ºä¸‰ç»´è¡¨ç¤º S<ul><li>åŸºäº lrm çš„é‡æ„å™¨ E(Â·)</li></ul></li><li>ä½¿ç”¨å¯å¾®æ¸²æŸ“æ¨¡å— R(Â·)æ¸²æŸ“å»å™ªå›¾åƒ</li></ul><p>ä»…åœ¨è¾“å…¥è§†ç‚¹ç›‘ç£ $\mathcal{I}_0$ é¢„æµ‹å¹¶ä¸èƒ½ä¿è¯é«˜è´¨é‡çš„3D ç”Ÿæˆ, ä¹Ÿç›‘ç£æ¥è‡ª3D æ¨¡å‹ $S_{t}$ çš„æ–°é¢–è§†å›¾æ¸²æŸ“<br>$\mathrm{L}_{recon}(t)=\mathbb{E}_{\mathbf{I},\boldsymbol{c}\sim\mathcal{I}_{full},\mathcal{C}_{full}}\ell\big(\mathbf{I},\mathrm{R}(\mathrm{E}(\mathcal{I}_t,t,\mathcal{C}),\boldsymbol{c})\big)$ , $\mathcal{I}_{full}\mathrm{~and~}\mathcal{C}_{full}$ è¡¨ç¤ºå›¾åƒå’Œå§¿æ€çš„å®Œæ•´é›†åˆ(æ¥è‡ªéšæœºé€‰æ‹©çš„è¾“å…¥å’Œæ–°è§†å›¾)</p><h2 id="RECONSTRUCTOR-BASED-MULTI-VIEW-DENOISER"><a href="#RECONSTRUCTOR-BASED-MULTI-VIEW-DENOISER" class="headerlink" title="RECONSTRUCTOR-BASED MULTI-VIEW DENOISER"></a>RECONSTRUCTOR-BASED MULTI-VIEW DENOISER</h2><p>æˆ‘ä»¬åœ¨ LRM (Hong et al.ï¼Œ 2023)ä¸Šæ„å»ºäº†æˆ‘ä»¬çš„å¤šè§†å›¾å»å™ªå™¨ï¼Œå¹¶ä½¿ç”¨å¤§å‹ transformer æ¨¡å‹ä»å˜ˆæ‚çš„ç¨€ç–è§†å›¾å›¾åƒä¸­é‡å»ºå¹²å‡€çš„ä¸‰å¹³é¢ NeRF (Chan et al.ï¼Œ 2022)ã€‚ç„¶åå°†é‡å»ºçš„ä¸‰å¹³é¢ NeRF çš„æ¸²æŸ“å›¾ç”¨ä½œå»å™ªè¾“å‡ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116161909.png" alt="image.png|666"></p><p>Reconstruction and Rendering.</p><p>ä¸ LRM å·¥ä½œä¸€æ ·ï¼Œtransformer å˜å‹å™¨æ¨¡å‹ç”±ä¸€ç³»åˆ—ä¸‰å¹³é¢åˆ°å›¾åƒçš„äº¤å‰æ³¨æ„å±‚å’Œä¸‰å¹³é¢åˆ°ä¸‰å¹³é¢çš„è‡ªæ³¨æ„å±‚ç»„æˆ</p><p>Time Conditioning.</p><p>ä¸åŸºäº cnn çš„ DDPM ç›¸æ¯”ï¼Œæˆ‘ä»¬åŸºäºå˜å‹å™¨çš„æ¨¡å‹<strong>éœ€è¦ä¸åŒçš„æ—¶é—´è°ƒèŠ‚è®¾è®¡</strong>(Ho et al.ï¼Œ 2020)ã€‚å— DiT (Peebles &amp; Xie, 2022)çš„å¯å‘ï¼Œæˆ‘ä»¬é€šè¿‡å°† adaLN-Zero å—(Ho et al.ï¼Œ 2020)æ³¨å…¥æ¨¡å‹çš„è‡ªæ³¨æ„å±‚å’Œäº¤å‰æ³¨æ„å±‚æ¥å¯¹æ—¶é—´è¿›è¡Œè°ƒèŠ‚ï¼Œä»¥æœ‰æ•ˆå¤„ç†ä¸åŒå™ªå£°æ°´å¹³çš„è¾“å…¥ã€‚</p><p>Camera Conditioning.</p><p><em>åœ¨å…·æœ‰é«˜åº¦å¤šæ ·åŒ–çš„ç›¸æœºç‰¹æ€§å’Œå¤–éƒ¨ç‰¹æ€§çš„æ•°æ®é›†ä¸Šè®­ç»ƒæˆ‘ä»¬çš„æ¨¡å‹ï¼Œä¾‹å¦‚ MVImgNet (Yu et al.ï¼Œ 2023)ï¼Œéœ€è¦æœ‰æ•ˆåœ°è®¾è®¡è¾“å…¥ç›¸æœºè°ƒèŠ‚ï¼Œä»¥ä¿ƒè¿›æ¨¡å‹å¯¹ç”¨äº 3D æ¨ç†çš„ç›¸æœºçš„ç†è§£</em> ã€‚<br>ä¸€ç§åŸºæœ¬ç­–ç•¥æ˜¯ï¼Œåœ¨æ—¶é—´è°ƒèŠ‚çš„æƒ…å†µä¸‹ï¼Œå¯¹ç›¸æœºå‚æ•°ä½¿ç”¨ adaLN-Zero å—(Peebles &amp; Xie, 2022)(å¦‚ Hong ç­‰äºº(2023)æ‰€åšçš„é‚£æ ·);Li et al.(2023)ã€‚<strong>ç„¶è€Œï¼Œæˆ‘ä»¬å‘ç°ï¼ŒåŒæ—¶ä½¿ç”¨ç›¸åŒçš„ç­–ç•¥å¯¹ç›¸æœºå’Œæ—¶é—´è¿›è¡Œè°ƒèŠ‚å¾€å¾€ä¼šå‰Šå¼±è¿™ä¸¤ä¸ªæ¡ä»¶çš„æ•ˆæœï¼Œå¹¶ä¸”å¾€å¾€å¯¼è‡´è®­ç»ƒè¿‡ç¨‹ä¸ç¨³å®šå’Œæ”¶æ•›ç¼“æ…¢</strong>ã€‚<br>ç›¸åï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ³•â€”â€”ç”¨åƒç´ å¯¹é½çš„å°„çº¿é›†å‚æ•°åŒ–ç›¸æœºã€‚ç‰¹åˆ«æ˜¯ç»§ Sitzmann et al. (2021);Chen et al. (2023a)ï¼Œæˆ‘ä»¬ä½¿ç”¨ Plucker åæ ‡ r = (o Ã— d, d)å‚æ•°åŒ–å°„çº¿ï¼Œå…¶ä¸­ o å’Œ d æ˜¯ç”±ç›¸æœºå‚æ•°è®¡ç®—çš„åƒç´ å°„çº¿çš„åŸç‚¹å’Œæ–¹å‘ï¼Œx è¡¨ç¤ºå‰ç§¯ã€‚æˆ‘ä»¬å°† Plucker åæ ‡ä¸å›¾åƒåƒç´ è¿æ¥ï¼Œå¹¶å°†å…¶å‘é€åˆ° ViT è½¬æ¢å™¨è¿›è¡ŒäºŒç»´å›¾åƒæ ‡è®°åŒ–ï¼Œå®ç°æœ‰æ•ˆçš„ç›¸æœºè°ƒç†</p><ul><li><a href="https://banbao991.github.io/2021/10/07/Math/Pl%C3%BCcker-Coordinates/">æ™®å•å…‹åæ ‡(PlÃ¼cker Coordinates) ç®€ä»‹ | Banbao (banbao991.github.io)</a></li></ul><h2 id="CONDITIONING-ON-SINGLE-IMAGE-OR-TEXT"><a href="#CONDITIONING-ON-SINGLE-IMAGE-OR-TEXT" class="headerlink" title="CONDITIONING ON SINGLE IMAGE OR TEXT"></a>CONDITIONING ON SINGLE IMAGE OR TEXT</h2><p>è¿„ä»Šä¸ºæ­¢æ‰€æè¿°çš„æ–¹æ³•ä½¿æˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤Ÿä½œä¸ºæ— æ¡ä»¶ç”Ÿæˆæ¨¡å‹è¿è¡Œã€‚æˆ‘ä»¬ç°åœ¨ä»‹ç»å¦‚ä½•ç”¨æ¡ä»¶å»å™ªå™¨ $\operatorname{E}(\mathcal{I}_t,t,\mathcal{C},y),$ å¯¹æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒå»ºæ¨¡ï¼Œå…¶ä¸­ y æ˜¯æ–‡æœ¬æˆ–å›¾åƒï¼Œä»è€Œå®ç°å¯æ§çš„ 3D ç”Ÿæˆã€‚</p><p>Image Conditioning.<br>ä¸æ”¹å˜æ¨¡å‹ç»“æ„ï¼Œæˆ‘ä»¬ä¿æŒç¬¬ä¸€ä¸ªè§†å›¾ I1(åœ¨å»å™ªå™¨è¾“å…¥ä¸­)æ— å™ªå£°ä½œä¸ºæ¡ä»¶å›¾åƒï¼ŒåŒæ—¶å¯¹å…¶ä»–è§†å›¾åº”ç”¨æ‰©æ•£å’Œå»å™ªã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå»å™ªå™¨æœ¬è´¨ä¸Šæ˜¯å­¦ä¹ ä½¿ç”¨ä»ç¬¬ä¸€ä¸ªè¾“å…¥è§†å›¾ä¸­æå–çš„çº¿ç´¢æ¥å¡«å……å˜ˆæ‚çš„æœªè§è§†å›¾ä¸­ç¼ºå¤±çš„åƒç´ ï¼Œç±»ä¼¼äº 2D dm å¯å¯»å€çš„å›¾åƒç»˜åˆ¶ä»»åŠ¡(Rombach et al.ï¼Œ 2022a)ã€‚æ­¤å¤–ï¼Œä¸ºäº†æé«˜æˆ‘ä»¬çš„å›¾åƒæ¡ä»¶æ¨¡å‹çš„å¯æ³›åŒ–æ€§ï¼Œæˆ‘ä»¬åœ¨ä¸æ¡ä»¶è§†å›¾å¯¹é½çš„åæ ‡æ¡†æ¶ä¸­ç”Ÿæˆä¸‰å¹³é¢ï¼Œå¹¶ä½¿ç”¨ç›¸å¯¹äºæ¡ä»¶è§†å›¾çš„å§¿æ€æ¸²æŸ“å…¶ä»–å›¾åƒã€‚æˆ‘ä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä»¥ä¸ LRM (Hong et al.ï¼Œ 2023)ç›¸åŒçš„æ–¹å¼è§„èŒƒåŒ–è¾“å…¥è§†å›¾çš„å§¿æ€ï¼Œå¹¶åœ¨æ¨ç†è¿‡ç¨‹ä¸­ä»¥ç›¸åŒçš„æ–¹å¼æŒ‡å®šè¾“å…¥è§†å›¾çš„å§¿æ€</p><p>Text Conditioning.<br>CLIP æ–‡æœ¬ç¼–ç å™¨</p><h2 id="TRAINING-AND-INFERENCE"><a href="#TRAINING-AND-INFERENCE" class="headerlink" title="TRAINING AND INFERENCE"></a>TRAINING AND INFERENCE</h2><p>Trainingï¼š<br>$\mathrm{L}=\mathbb{E}_{t\sim U[1,T],(\mathbf{I},\boldsymbol{c})\sim(\mathcal{I}_{full},\mathcal{C}_{fuu)}}\ell\big(\mathbf{I},\mathrm{R}(\mathrm{E}(\mathcal{I}_t,t,\mathcal{D},y),c)\big)$</p><p>Inferenceï¼š</p><p>ä¸ºäº†è¿›è¡Œæ¨æ–­ï¼Œæˆ‘ä»¬é€‰æ‹©äº†å››ä¸ªè§†ç‚¹ï¼Œå®ƒä»¬å‡åŒ€åœ°å›´ç»•åœ¨ä¸€ä¸ªåœ†åœˆä¸­ï¼Œä»¥ç¡®ä¿ç”Ÿæˆçš„ 3D èµ„äº§çš„è‰¯å¥½è¦†ç›–ã€‚æˆ‘ä»¬å°†ç›¸æœºçš„è§†è§’è®¾ç½®ä¸º 50 åº¦ï¼Œç”¨äºå››ä¸ªè§†å›¾ã€‚ç”±äºæˆ‘ä»¬é¢„æµ‹ä¸‰å¹³é¢ NeRF ä¸æ¡ä»¶åå°„å›¾åƒçš„ç›¸æœºå¸§å¯¹é½ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå°†æ¡ä»¶åå°„å›¾åƒçš„ç›¸æœºå¤–é¥°ä»¶å›ºå®šä¸ºå…·æœ‰ç›¸åŒçš„æ–¹å‘å’Œ(0ï¼Œâˆ’2,0)ä½ç½®ï¼Œéµå¾ª LRM çš„å®è·µ(Hong et al.ï¼Œ 2023)ã€‚æˆ‘ä»¬ä»æœ€åçš„å»å™ªæ­¥éª¤è¾“å‡ºä¸‰å¹³é¢ NeRF ä½œä¸ºç”Ÿæˆçš„ 3D æ¨¡å‹ã€‚æˆ‘ä»¬åˆ©ç”¨ DDIM (Song et al.ï¼Œ 2020a)ç®—æ³•æ¥æé«˜æ¨ç†é€Ÿåº¦ã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å•é˜¶æ®µæ‰©æ•£æ¨¡å‹ï¼Œè¯¥æ¨¡å‹é€šè¿‡å»å™ªå¤šè§†å›¾å›¾åƒæ‰©æ•£æ¥ç”Ÿæˆ 3D èµ„äº§ã€‚æˆ‘ä»¬çš„å¤šè§†å›¾å»å™ªå™¨åŸºäºå¤§å‹ transformeræ¨¡å‹(Hong et al.ï¼Œ 2023)ï¼Œè¯¥æ¨¡å‹é‡‡ç”¨å¸¦å™ªçš„å¤šè§†å›¾å›¾åƒæ¥é‡å»ºå¹²å‡€çš„ä¸‰å¹³é¢ NeRFï¼Œå¹¶é€šè¿‡ä½“æ¸²æŸ“è¾“å‡ºå»å™ªå›¾åƒã€‚æˆ‘ä»¬çš„æ¡†æ¶æ”¯æŒæ–‡æœ¬å’Œå›¾åƒè°ƒèŠ‚è¾“å…¥ï¼Œé€šè¿‡ç›´æ¥æ‰©æ•£æ¨ç†å®ç°å¿«é€Ÿ3D ç”Ÿæˆï¼Œè€Œæ— éœ€è¿›è¡Œèµ„äº§ä¼˜åŒ–ã€‚æˆ‘ä»¬çš„æ–¹æ³•åœ¨æ–‡æœ¬åˆ°3D ç”Ÿæˆæ–¹é¢ä¼˜äºä»¥å‰çš„3D æ‰©æ•£æ¨¡å‹ï¼Œå¹¶åœ¨å„ç§æµ‹è¯•æ•°æ®é›†ä¸Šå®ç°äº†æœ€å…ˆè¿›çš„å•è§†å›¾é‡å»ºè´¨é‡ã€‚</p><p><strong>Limitations</strong><br>å°½ç®¡æˆ‘ä»¬åœ¨è¿™é¡¹å·¥ä½œä¸­å±•ç¤ºäº†é«˜è´¨é‡çš„å›¾åƒæˆ–æ–‡æœ¬æ¡ä»¶ä¸‹çš„3Dç”Ÿæˆç»“æœï¼Œä½†æœªæ¥çš„å·¥ä½œä»æœ‰ä¸€äº›é™åˆ¶å¯ä»¥æ¢ç´¢:<br>1)é¦–å…ˆï¼Œ<strong>æˆ‘ä»¬ä¸ºç‰©ä½“æœªè§éƒ¨åˆ†ç”Ÿæˆçš„çº¹ç†ä¼¼ä¹ç¼ºä¹é«˜é¢‘ç»†èŠ‚</strong>ï¼Œé¢œè‰²ç•¥æœ‰è¤ªè‰²ã€‚è¿™å°†æ˜¯æœ‰è¶£çš„è¿›ä¸€æ­¥æé«˜çº¹ç†ä¿çœŸåº¦;<br>2)æˆ‘ä»¬çš„è¾“å…¥å›¾åƒå’Œä¸‰å¹³é¢ç›®å‰æ˜¯<strong>ä½åˆ†è¾¨ç‡</strong>çš„ã€‚å°†æˆ‘ä»¬çš„æ–¹æ³•æ‰©å±•åˆ°ä»é«˜åˆ†è¾¨ç‡è¾“å…¥å›¾åƒç”Ÿæˆé«˜åˆ†è¾¨ç‡NeRFä¹Ÿæ˜¯éå¸¸å¯å–çš„;<br>3)<strong>æˆ‘ä»¬çš„æ–¹æ³•åªæ”¯æŒè¾“å…¥æ²¡æœ‰èƒŒæ™¯çš„ç‰©ä½“å›¾åƒ</strong>;ç›´æ¥ç”Ÿæˆå…·æœ‰3DèƒŒæ™¯çš„å¯¹è±¡NeRF (Zhang et al.ï¼Œ 2020;Barron et al.ï¼Œ 2022)åœ¨è®¸å¤šåº”ç”¨ä¸­ä¹Ÿéå¸¸æœ‰ä»·å€¼;<br>4)æˆ‘ä»¬çš„å›¾åƒå’Œæ–‡æœ¬æ¡ä»¶æ¨¡å‹éƒ½æ˜¯ä»å¤´å¼€å§‹è®­ç»ƒçš„ï¼Œè€Œä¸éœ€è¦åˆ©ç”¨2DåŸºç¡€æ¨¡å‹(å¦‚Stable diffusion)ä¸­çš„å¼ºå›¾åƒå…ˆéªŒ(Rombach et al.ï¼Œ 2022b)ã€‚è€ƒè™‘å¦‚ä½•<strong>åœ¨æˆ‘ä»¬çš„æ¡†æ¶ä¸­åˆ©ç”¨è¿™äº›å¼ºå¤§çš„2Då›¾åƒå…ˆéªŒ</strong>å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©</p><p>é“å¾·å£°æ˜ã€‚æˆ‘ä»¬çš„ç”Ÿæˆæ¨¡å‹æ˜¯åœ¨Objaverseæ•°æ®å’ŒMVImgNetæ•°æ®ä¸Šè®­ç»ƒçš„ã€‚è¯¥æ•°æ®é›†(1Må·¦å³)å°äºè®­ç»ƒ2Dæ‰©æ•£æ¨¡å‹çš„æ•°æ®é›†(100M ~ 1000Må·¦å³)ã€‚æ•°æ®çš„ç¼ºä¹ä¼šå¼•èµ·ä¸¤æ–¹é¢çš„è€ƒè™‘ã€‚é¦–å…ˆï¼Œå®ƒå¯èƒ½ä¼šåå‘è®­ç»ƒæ•°æ®çš„åˆ†å¸ƒã€‚å…¶æ¬¡ï¼Œå®ƒå¯èƒ½ä¸å¤Ÿå¼ºå¤§ï¼Œæ— æ³•æ¶µç›–æµ‹è¯•å›¾åƒå’Œæµ‹è¯•æ–‡æœ¬çš„æ‰€æœ‰å·¨å¤§å¤šæ ·æ€§ã€‚æˆ‘ä»¬çš„æ¨¡å‹å…·æœ‰ä¸€å®šçš„æ³›åŒ–èƒ½åŠ›ï¼Œä½†å¯èƒ½ä¸èƒ½åƒäºŒç»´æ‰©æ•£æ¨¡å‹é‚£æ ·è¦†ç›–é‚£ä¹ˆå¤šçš„æ¨¡å¼ã€‚é‰´äºæˆ‘ä»¬çš„æ¨¡å‹ä¸å…·å¤‡è¯†åˆ«è¶…å‡ºå…¶çŸ¥è¯†èŒƒå›´çš„å†…å®¹çš„èƒ½åŠ›ï¼Œå®ƒå¯èƒ½ä¼šå¼•å…¥ä¸ä»¤äººæ»¡æ„çš„ç”¨æˆ·ä½“éªŒã€‚æ­¤å¤–ï¼Œå¦‚æœæ–‡æœ¬æç¤ºæˆ–å›¾åƒè¾“å…¥ä¸æŸäº›æ•°æ®æ ·æœ¬é«˜åº¦ä¸€è‡´ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¯èƒ½ä¼šæ³„æ¼è®­ç»ƒæ•°æ®ã€‚è¿™ç§æ½œåœ¨çš„æ³„æ¼å¼•èµ·äº†æ³•å¾‹å’Œå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼Œå¹¶åœ¨æ‰€æœ‰ç”Ÿæˆæ¨¡å‹(å¦‚LLMå’Œ2Dæ‰©æ•£æ¨¡å‹)ä¸­å…±äº«ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> Diffusion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RayDF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/RayDF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/RayDF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>RayDF: Neural Ray-surface Distance Fields with Multi-view Consistency</th></tr></thead><tbody><tr><td>Author</td><td>Zhuoman Liu, Bo Yang</td></tr><tr><td>Conf/Jour</td><td>NeurIPS</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://vlar-group.github.io/RayDF.html">RayDF: Neural Ray-surface Distance Fields with Multi-view Consistency (vlar-group.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=2037229054391691776&amp;noteId=2047746094923644416">RayDF: Neural Ray-surface Distance Fields with Multi-view Consistency (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231113155552.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æœ¬æ–‡ç ”ç©¶äº†è¿ç»­ä¸‰ç»´å½¢çŠ¶è¡¨ç¤ºé—®é¢˜ã€‚ç°æœ‰çš„æˆåŠŸæ–¹æ³•å¤§å¤šæ˜¯åŸºäºåæ ‡çš„éšå¼ç¥ç»è¡¨ç¤ºã€‚ç„¶è€Œï¼Œ<strong>å®ƒä»¬åœ¨å‘ˆç°æ–°è§†å›¾æˆ–æ¢å¤æ˜¾å¼è¡¨é¢ç‚¹æ–¹é¢æ•ˆç‡ä½ä¸‹</strong>ã€‚ä¸€äº›ç ”ç©¶å¼€å§‹å°†ä¸‰ç»´å½¢çŠ¶è¡¨è¿°ä¸ºåŸºäºå…‰çº¿çš„ç¥ç»å‡½æ•°ï¼Œä½†ç”±äºç¼ºä¹å¤šè§†å›¾å‡ ä½•ä¸€è‡´æ€§ï¼Œå­¦ä¹ åˆ°çš„ç»“æ„è¾ƒå·®ã€‚<br>ä¸ºäº†åº”å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåä¸º RayDF çš„æ–°æ¡†æ¶ã€‚å®ƒåŒ…æ‹¬ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†:<br>1)ç®€å•çš„å°„çº¿-è¡¨é¢è·ç¦»åœºï¼Œ<br>2)æ–°é¢–çš„åŒå°„çº¿å¯è§æ€§åˆ†ç±»å™¨ï¼Œ<br>3)å¤šè§†å›¾ä¸€è‡´æ€§ä¼˜åŒ–æ¨¡å—ï¼Œä»¥é©±åŠ¨å­¦ä¹ çš„å°„çº¿-è¡¨é¢è·ç¦»åœ¨å¤šè§†å›¾å‡ ä½•ä¸Šä¸€è‡´ã€‚<br>æˆ‘ä»¬åœ¨ä¸‰ä¸ªå…¬å…±æ•°æ®é›†ä¸Šå¹¿æ³›è¯„ä¼°äº†æˆ‘ä»¬çš„æ–¹æ³•ï¼Œè¯æ˜äº†åœ¨åˆæˆå’Œå…·æœ‰æŒ‘æˆ˜æ€§çš„ç°å®ä¸–ç•Œ3D åœºæ™¯ä¸­3D è¡¨é¢ç‚¹é‡å»ºçš„æ˜¾ç€æ€§èƒ½ï¼Œæ˜æ˜¾ä¼˜äºç°æœ‰çš„åŸºäºåæ ‡å’ŒåŸºäºå…‰çº¿çš„åŸºçº¿ã€‚æœ€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨æ¸²æŸ“800 Ã— 800æ·±åº¦çš„å›¾åƒæ—¶ï¼Œé€Ÿåº¦æ¯”åŸºäºåæ ‡çš„æ–¹æ³•å¿«1000å€ï¼Œæ˜¾ç¤ºäº†æˆ‘ä»¬çš„æ–¹æ³•åœ¨3D å½¢çŠ¶è¡¨ç¤ºæ–¹é¢çš„ä¼˜åŠ¿ã€‚æˆ‘ä»¬çš„ä»£ç å’Œæ•°æ®å¯åœ¨ <a href="https://github.com/vLAR-group/RayDFä¸Šè·å¾—">https://github.com/vLAR-group/RayDFä¸Šè·å¾—</a></p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231114103030.png" alt="image.png|666"></p><p>ä¸¤ä¸ªç½‘ç»œ+ä¸€ä¸ªä¼˜åŒ–æ¨¡å—</p><ul><li>ä¸»ç½‘ç»œ ray-surface distance field $f_{\mathbf{\Theta}}$ <ul><li>è¾“å…¥ï¼šå•æ¡å®šå‘å°„çº¿ r ä½¿ç”¨çƒå½¢åŒ–å‚æ•°å°„çº¿ï¼Œæ¯æ¡å°„çº¿ç©¿è¿‡çƒä½“æœ‰ä¸¤ä¸ªäº¤ç‚¹ï¼Œæ¯ä¸ªäº¤ç‚¹æœ‰ä¸¤ä¸ªå˜é‡å‚æ•°åŒ–(ç›¸å¯¹äºçƒä½“ä¸­å¿ƒçš„è§’åº¦)ï¼Œi.e. $r=(\theta^{in},\phi^{in},\theta^{out},\phi^{out}),$</li><li>è¾“å‡ºï¼šå°„çº¿èµ·ç‚¹ä¸è¡¨é¢è½ç‚¹ä¹‹é—´çš„è·ç¦» d</li></ul></li><li>è¾…åŠ©ç½‘ç»œ dual-ray visibility classifier $h_{\Phi}$<ul><li>è¾“å…¥ï¼šä¸€å¯¹å°„çº¿</li><li>è¾“å‡ºï¼šç›¸äº’å¯è§æ€§ï¼Œæ—¨åœ¨æ˜¾å¼åœ°å»ºæ¨¡ä»»æ„ä¸€å¯¹å°„çº¿ä¹‹é—´çš„ç›¸äº’ç©ºé—´å…³ç³»ã€‚ä¸»è¦ç”¨äºç¬¬ä¸‰éƒ¨åˆ†çš„å¤šè§†å›¾ä¸€è‡´æ€§ä¼˜åŒ–</li></ul></li></ul><h2 id="Dual-ray-Visibility-Classifier"><a href="#Dual-ray-Visibility-Classifier" class="headerlink" title="Dual-ray Visibility Classifier"></a>Dual-ray Visibility Classifier</h2><p>å•ç‹¬çš„ ray-surface distance field ä¹Ÿå¯ä»¥æ‹Ÿåˆè¾“å…¥è¾“å‡ºï¼Œä½†æ²¡æœ‰æœºåˆ¶é©±åŠ¨å…¶è¾“å‡ºè·ç¦»ï¼Œå³è¡¨é¢å‡ ä½•ã€‚i.e.ç¼ºä¹å¤šè§†å›¾ä¸€è‡´æ€§</p><p>ä¸‹å›¾ä¸­çš„ $r_1$ å’Œ $r_2$ ç›¸äº’å¯è§ï¼Œåˆ™ä¸¤æ¡å…‰çº¿åŒæ—¶å‡»ä¸­ä¸€ä¸ªè¡¨é¢ç‚¹ã€‚åˆ™åº”è¯¥æ»¡è¶³ï¼š<br>$\left.r_1^{in}+d_1r_1^d=\left(\begin{smallmatrix}x_1\\y_1\\z_1\end{smallmatrix}\right.\right)=r_2^{in}+d_2r_2^d,\mathrm{~where~}r^d=\frac{r^{out}-r^{in}}{\left|\boldsymbol{r}^{out}-\boldsymbol{r}^{in}\right|}$ $\left.\mathrm{and~}r^<em>=\left(\begin{array}{c}\sin\theta^</em>\cos\phi^<em>\\\sin\theta^</em>\sin\phi^<em>\\\cos\phi^</em>\end{array}\right.\right),*\in\{in,out\}$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231114104017.png" alt="image.png|666"></p><p>ä»»æ„ä¸¤æ¡å°„çº¿ä¹‹é—´çš„ç›¸äº’å¯è§æ€§ <em>mutual visibility</em> å¯¹äº ray-surface distance field çš„å¤šè§†å›¾ä¸€è‡´æ€§è‡³å…³é‡è¦</p><p><strong>dual-ray visibility classifier</strong> äºŒå…ƒåˆ†ç±»å™¨è®¾è®¡éœ€è¦ä¿è¯å³ä¾¿ä¸¤ä¸ªå°„çº¿çš„é¡ºåºè°ƒæ¢ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°ç›¸åŒçš„ç»“æœ</p><p>$h_{\Phi}:\quad MLPS\Big[\frac{g(\theta_1^{in},\phi_1^{in},\theta_1^{out},\phi_1^{out})+g(\theta_2^{in},\phi_2^{in},\theta_2^{out},\phi_2^{out})}2\oplus k(x_1,y_1,z_1)\Big]\to0/1$</p><ul><li>G(): ä¸€ä¸ªå…±äº«çš„å•ä¸€å…¨è¿æ¥å±‚</li></ul><h2 id="Multi-view-Consistency-Optimization"><a href="#Multi-view-Consistency-Optimization" class="headerlink" title="Multi-view Consistency Optimization"></a>Multi-view Consistency Optimization</h2><p>ç»™å®šä¸€ä¸ªé™æ€ 3D åœºæ™¯çš„ K å¼ æ·±åº¦å›¾åƒ(H Ã— W)ä½œä¸ºæ•´ä¸ªè®­ç»ƒæ•°æ®ï¼Œè®­ç»ƒæ¨¡å—ç”±ä¸¤ä¸ªé˜¶æ®µç»„æˆ</p><p>Stage 1 - Training Dual-ray Visibility Classifier<br>é¦–å…ˆï¼Œå°†æ‰€æœ‰åŸå§‹æ·±åº¦å€¼è½¬æ¢ä¸ºå°„çº¿è¡¨é¢è·ç¦»å€¼ã€‚å¯¹äºç¬¬ K å¼ å›¾åƒä¸­çš„ç‰¹å®šç¬¬ i æ¡å°„çº¿(åƒç´ )ï¼Œæˆ‘ä»¬å°†å…¶å°„çº¿è¡¨é¢ç‚¹æŠ•å½±å›å‰©ä½™çš„(Kâˆ’1)æ¬¡æ‰«æï¼Œè·å¾—ç›¸åº”çš„(Kâˆ’1)ä¸ªè·ç¦»å€¼ã€‚æˆ‘ä»¬è®¾ç½® 10 æ¯«ç±³ä½œä¸ºæ¥è¿‘é˜ˆå€¼ï¼Œä»¥ç¡®å®šæŠ•å½±(Kâˆ’1)å°„çº¿åœ¨(Kâˆ’1)å›¾åƒä¸­æ˜¯å¦å¯è§ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬ç”Ÿæˆäº† Kâˆ—Hâˆ—Wâˆ—(Kâˆ’1)å¯¹å¸¦æœ‰ 0/1 æ ‡è®°çš„å°„çº¿ã€‚é‡‡ç”¨æ ‡å‡†äº¤å‰ç†µæŸå¤±å‡½æ•°å¯¹åŒå°„çº¿å¯è§æ€§åˆ†ç±»å™¨è¿›è¡Œä¼˜åŒ–</p><p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªåˆ†ç±»å™¨æ˜¯ä»¥<strong>ç‰¹å®šäºåœºæ™¯çš„æ–¹å¼</strong>è¿›è¡Œè®­ç»ƒçš„ã€‚ä¸€æ—¦ç½‘ç»œå¾—åˆ°è‰¯å¥½çš„è®­ç»ƒï¼Œå®ƒåŸºæœ¬ä¸Šä¼šå°†ç‰¹å®šåœºæ™¯çš„ä»»æ„ä¸¤æ¡å…‰çº¿ä¹‹é—´çš„å…³ç³»ç¼–ç ä¸ºç½‘ç»œæƒé‡ã€‚</p><p>Stage 2 - Training Ray-surface Distance Network<br>æˆ‘ä»¬æ•´ä¸ªç®¡é“çš„æœ€ç»ˆç›®æ ‡æ˜¯ä¼˜åŒ– Ray-surface Distance Networkï¼Œå¹¶ä½¿å…¶å…·æœ‰å¤šè§†å›¾å‡ ä½•ä¸€è‡´æ€§ã€‚ç„¶è€Œï¼Œè¿™ä¸æ˜¯å¾®ä¸è¶³é“çš„ï¼Œå› ä¸º<strong>ç®€å•åœ°ç”¨å°„çº¿è¡¨é¢æ•°æ®ç‚¹æ‹Ÿåˆç½‘ç»œä¸èƒ½æ¨å¹¿åˆ°çœ‹ä¸è§çš„å°„çº¿</strong>ï¼Œè¿™å¯ä»¥åœ¨æˆ‘ä»¬ç¬¬ 4.5 èŠ‚çš„æ¶ˆèç ”ç©¶ä¸­çœ‹åˆ°ã€‚åœ¨è¿™æ–¹é¢ï¼Œæˆ‘ä»¬å……åˆ†åˆ©ç”¨è®­ç»ƒè‰¯å¥½çš„å¯è§æ€§åˆ†ç±»å™¨æ¥å¸®åŠ©æˆ‘ä»¬è®­ç»ƒå°„çº¿è¡¨é¢è·ç¦»ç½‘ç»œã€‚å…·ä½“è€Œè¨€ï¼Œè¿™ä¸€é˜¶æ®µåŒ…æ‹¬ä»¥ä¸‹å…³é”®æ­¥éª¤:</p><ul><li>æ‰€æœ‰æ·±åº¦å›¾åƒéƒ½è½¬æ¢ä¸ºå°„çº¿è¡¨é¢è·ç¦»ï¼Œä¸ºç‰¹å®šçš„ 3D åœºæ™¯ç”Ÿæˆ K <em> H </em> W è®­ç»ƒå°„çº¿è·ç¦»å¯¹ã€‚</li><li>å¦‚å›¾4æ‰€ç¤ºï¼Œå¯¹äºç‰¹å®šçš„è®­ç»ƒå°„çº¿ $(r,d)$ï¼Œç§°ä¸ºä¸»å°„çº¿ï¼Œæˆ‘ä»¬åœ¨ä»¥è¡¨é¢ç‚¹ p ä¸ºä¸­å¿ƒçš„çƒå†…å‡åŒ€é‡‡æ · M æ¡å°„çº¿ $\{r^1\cdots r^m\cdots r^M\}$ï¼Œç§°ä¸ºå¤šè§†å›¾å°„çº¿ã€‚ç„¶åï¼Œæˆ‘ä»¬æ²¿ç€æ¯æ¡ M rays è®¡ç®—è¡¨é¢ç‚¹ p ä¸è¾¹ç•Œçƒä¹‹é—´çš„è·ç¦»ï¼Œå¾—åˆ°å¤šè§†å›¾è·ç¦» $\{\tilde{d}^{1}\cdots\tilde{d}^{m}\cdots\tilde{d}^{M}\}.$ <strong>æ ¹æ®è®­ç»ƒé›†ä¸­ç»™å®šçš„è·ç¦» d</strong>ï¼Œè¿™å¾ˆå®¹æ˜“å®ç°ã€‚M ç®€å•åœ°è®¾ç½®ä¸º20ï¼Œæ›´å¤šç»†èŠ‚è§é™„å½•A.4ã€‚</li><li>æˆ‘ä»¬å»ºç«‹ M å¯¹å°„çº¿ $\left\{(r,p,r^1)\cdots(r,p,r^m)\cdots(r,p,r^M)\right\}$ï¼Œç„¶åå°†å®ƒä»¬è¾“å…¥åˆ°è®­ç»ƒè‰¯å¥½çš„å¯è§æ€§åˆ†ç±»å™¨ $h_{\Phi}$ ä¸­ï¼Œæ¨æ–­å‡ºå®ƒä»¬çš„å¯è§æ€§å¾—åˆ† $\{\nu^1\cdots\nu^m\cdots\nu^M\}.$ã€‚</li><li>æˆ‘ä»¬ feed ä¸»å…‰çº¿é‡‡æ · M å¤šè§†ç‚¹å°„çº¿ $\{r,r^1\cdots r^m\cdots r^M\}$ åˆ° ray-surface distance network $f_{\mathbf{\Theta}}$,ä¼°ç®—å…¶è¡¨é¢è·ç¦» $\{\hat{d},\hat{d^1}\cdots\hat{d^m}\cdots\hat{d^M}\}.$ã€‚ç”±äºç½‘ç»œ $f_{\mathbf{\Theta}}$ æ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œå› æ­¤ä¸€å¼€å§‹ä¼°è®¡çš„è·ç¦»æ˜¯ä¸å‡†ç¡®çš„ã€‚</li><li>æˆ‘ä»¬è®¾è®¡äº†ä»¥ä¸‹å¤šè§†å›¾ä¸€è‡´æ€§æŸå¤±å‡½æ•°æ¥ä¼˜åŒ–ray-surface distance networkç›´è‡³æ”¶æ•›:$\ell_{m\nu}=\frac1{\sum_{m=1}^M\nu^m+1}\Big(|\hat{d}-d|+\sum_{m=1}^M\left(|\hat{d}^m-\tilde{d}^m|*\nu^m\right)\Big)$</li></ul><p>åŸºæœ¬ä¸Šï¼Œè¿™ç§ç®€å•çš„æŸå¤±é©±åŠ¨ç½‘ç»œä¸ä»…è¦æ‹Ÿåˆä¸»è¦çš„å°„çº¿-è¡¨é¢è·ç¦»(è®­ç»ƒé›†ä¸­çš„å¯è§å°„çº¿)ï¼Œè€Œä¸”è¦æ»¡è¶³å¯è§å¤šè§†å›¾å°„çº¿(è®­ç»ƒé›†ä¸­çš„æ— é™æœªè§å°„çº¿)ä¹Ÿå…·æœ‰å‡†ç¡®çš„è·ç¦»ä¼°è®¡ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231114111158.png" alt="image.png|333"></p><h2 id="Surface-Normal-Derivation-and-Outlier-Points-Removal"><a href="#Surface-Normal-Derivation-and-Outlier-Points-Removal" class="headerlink" title="Surface Normal Derivation and Outlier Points Removal"></a>Surface Normal Derivation and Outlier Points Removal</h2><p>åœ¨ä¸Šè¿°3.1&amp;3.2&amp;3.3ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç½‘ç»œè®¾è®¡å’Œä¸€ä¸ªä¼˜åŒ–æ¨¡å—åˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œè®­ç»ƒã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„ç»éªŒå‘ç°ï¼Œä¸»è¦çš„å°„çº¿-è¡¨é¢è·ç¦»ç½‘ç»œå¯èƒ½é¢„æµ‹ä¸å‡†ç¡®çš„è·ç¦»å€¼ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé”åˆ©è¾¹ç¼˜é™„è¿‘çš„å°„çº¿ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æç«¯è§†è§’å˜åŒ–çš„æƒ…å†µä¸‹ï¼Œå®é™…çš„å°„çº¿è¡¨é¢è·ç¦»åœ¨å°–é”è¾¹ç¼˜å¤„å¯èƒ½æ˜¯ä¸è¿ç»­çš„ã€‚<strong>è¿™ç§å½¢çŠ¶ä¸è¿ç»­å®é™…ä¸Šæ˜¯å‡ ä¹æ‰€æœ‰ç°æœ‰çš„éšå¼ç¥ç»è¡¨ç¤ºçš„å…±åŒæŒ‘æˆ˜</strong>ï¼Œå› ä¸ºç°ä»£ç¥ç»ç½‘ç»œåœ¨ç†è®ºä¸Šåªèƒ½å¯¹è¿ç»­å‡½æ•°å»ºæ¨¡ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬çš„å°„çº¿-è¡¨é¢è·ç¦»åœºçš„ä¸€ä¸ªå¾ˆå¥½çš„æ€§è´¨æ˜¯ï¼Œæ¯ä¸ªä¼°è®¡çš„ä¸‰ç»´è¡¨é¢ç‚¹çš„æ³•å‘é‡å¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ç½‘ç»œçš„è‡ªå¾®åˆ†æ¨å¯¼å‡ºä¸€ä¸ªå°é—­å½¢å¼çš„è¡¨è¾¾å¼ã€‚ç‰¹åˆ«åœ°ï¼Œç»™å®šä¸€æ¡è¾“å…¥å°„çº¿$r=(\theta^{in},\phi^{in},\theta^{out},\phi^{out}),$ä»¥åŠå®ƒåˆ°ç½‘ç»œ$f_{\mathbf{\Theta}}$çš„ä¼°è®¡å°„çº¿-æ›²é¢è·ç¦»dï¼Œåˆ™è¯¥ä¼°è®¡æ›²é¢ç‚¹å¯¹åº”çš„æ³•å‘é‡nå¯ä»¥æ¨å¯¼ä¸ºå¦‚ä¸‹æ‰€ç¤ºçš„å…·ä½“å‡½æ•°: $n=Q\left(\frac{\partial\hat{d}}{\partial r},r,D\right)$</p><p>æœ‰äº†è¿™ä¸ªæ³•å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ·»åŠ ä¸€ä¸ªé¢å¤–çš„æŸå¤±æ¥æ­£åˆ™åŒ–ä¼°è®¡çš„è¡¨é¢ç‚¹ï¼Œä½¿å…¶å°½å¯èƒ½å…‰æ»‘ã€‚<strong>ç„¶è€Œï¼Œæˆ‘ä»¬ä»ç»éªŒä¸Šå‘ç°ï¼Œæ•´ä¸ª3Dåœºæ™¯çš„æ•´ä½“æ€§èƒ½æå‡æ˜¯ç›¸å½“æœ‰é™çš„ï¼Œå› ä¸ºè¿™äº›æç«¯ä¸è¿ç»­çš„æƒ…å†µå®é™…ä¸Šæ˜¯ç¨€ç–çš„ã€‚</strong></p><p>åœ¨è¿™æ–¹é¢ï¼Œæˆ‘ä»¬è½¬å‘ç®€å•åœ°å»é™¤é¢„æµ‹çš„è¡¨é¢ç‚¹ï¼Œå³ç¦»ç¾¤ç‚¹ï¼Œå…¶æ³•å‘é‡çš„æ¬§å‡ é‡Œå¾—è·ç¦»å¤§äºç½‘ç»œæ¨ç†é˜¶æ®µçš„é˜ˆå€¼ã€‚å®é™…ä¸Šï¼ŒPRIF[23]ä¹Ÿé‡‡ç”¨äº†ç±»ä¼¼çš„ç­–ç•¥æ¥è¿‡æ»¤æ‰å¼‚å¸¸å€¼ã€‚<strong>è¯·æ³¨æ„ï¼Œå…ˆè¿›çš„å¹³æ»‘æˆ–æ’å€¼æŠ€æœ¯å¯ä»¥é›†æˆæ¥æ”¹è¿›æˆ‘ä»¬çš„æ¡†æ¶ï¼Œè¿™å°†ç•™ç»™æœªæ¥çš„æ¢ç´¢ã€‚</strong></p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>æˆ‘ä»¬çš„æ–¹æ³•åœ¨ä¸‰ç§ç±»å‹çš„å…¬å…±æ•°æ®é›†ä¸Šè¿›è¡Œäº†è¯„ä¼°:<br>1)æ¥è‡ªåŸå§‹NeRFè®ºæ–‡[47]çš„å¯¹è±¡çº§åˆæˆBlenderæ•°æ®é›†ï¼Œ<br>2)æ¥è‡ªæœ€è¿‘DM-NeRFè®ºæ–‡[73]çš„åœºæ™¯çº§åˆæˆDM-SRæ•°æ®é›†ï¼Œ<br>3)åœºæ™¯çº§çœŸå®ä¸–ç•Œçš„ScanNetæ•°æ®é›†[16]ã€‚</p><p>åŸºçº¿:æˆ‘ä»¬ç²¾å¿ƒé€‰æ‹©äº†ä»¥ä¸‹å…­ä¸ªæˆåŠŸä¸”å…·æœ‰ä»£è¡¨æ€§çš„éšå¼ç¥ç»å½¢çŠ¶è¡¨ç¤ºä½œä¸ºæˆ‘ä»¬çš„åŸºçº¿:1)OF [46]ï¼Œ 2) DeepSDF [54]ï¼Œ 3) NDF [14]ï¼Œ 4) news [77]ï¼Œ 5) DSNeRF [19]ï¼Œ 6) LFN [64]ï¼Œ 7) PRIF[23]ã€‚<br>OF/DeepSDF/NDF/NeuSæ–¹æ³•æ˜¯åŸºäºåæ ‡çš„æ°´å¹³é›†æ–¹æ³•ï¼Œåœ¨ä¸‰ç»´ç»“æ„å»ºæ¨¡ä¸­è¡¨ç°å‡ºä¼˜å¼‚çš„æ€§èƒ½ã€‚<br>DS-NeRFæ˜¯ä¸€ç§æ·±åº¦ç›‘ç£çš„NeRF[47]ï¼Œç»§æ‰¿äº†2Dè§†å›¾æ¸²æŸ“çš„ä¼˜ç§€èƒ½åŠ›ã€‚<br>LFNå’ŒPRIFæ˜¯ä¸¤ç§åŸºäºå…‰çº¿çš„æ–¹æ³•ï¼Œåœ¨ç”ŸæˆäºŒç»´è§†å›¾æ–¹é¢æ•ˆç‡è¾ƒé«˜ã€‚<br>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè¿™äº›åŸºçº¿æœ‰è®¸å¤šå¤æ‚çš„å˜ä½“ï¼Œå¯ä»¥åœ¨å„ç§æ•°æ®é›†ä¸Šå®ç°SOTAæ€§èƒ½ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¹¶ä¸æ‰“ç®—ä¸å®ƒä»¬è¿›è¡Œå…¨é¢çš„æ¯”è¾ƒï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒä»¬çš„è®¸å¤šæŠ€æœ¯ï¼Œå¦‚æ›´é«˜çº§çš„å®ç°ã€æ·»åŠ é¢å¤–çš„æ¡ä»¶ã€æ›¿æ¢æ›´å¼ºå¤§çš„éª¨å¹²ç­‰ï¼Œä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°é›†æˆåˆ°æˆ‘ä»¬çš„æ¡†æ¶ä¸­ã€‚æˆ‘ä»¬å°†è¿™äº›æ½œåœ¨çš„æ”¹è¿›ç•™ç»™æœªæ¥çš„æ¢ç´¢ï¼Œä½†åœ¨æœ¬æ–‡ä¸­åªå…³æ³¨æˆ‘ä»¬çš„é¦™è‰å°„çº¿è¡¨é¢è·ç¦»åœºã€‚ä¸ºäº†å…¬å¹³çš„æ¯”è¾ƒï¼Œ<strong>æ‰€æœ‰åŸºçº¿éƒ½ä¸æˆ‘ä»¬çš„æ·±åº¦æ‰«æé‡ç›¸åŒ</strong>ï¼Œä»¥ç›¸åŒçš„åœºæ™¯ç‰¹å®šæ–¹å¼ä»å¤´å¼€å§‹ä»”ç»†è®­ç»ƒã€‚å…³äºæ‰€æœ‰åŸºçº¿çš„å®æ–½å’Œå¯èƒ½çš„å°è°ƒæ•´çš„æ›´å¤šç»†èŠ‚è§é™„å½•A.3.1ã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å·²ç»è¯æ˜ï¼Œé€šè¿‡ä½¿ç”¨å¤šè§†å›¾ä¸€è‡´çš„åŸºäºå…‰çº¿çš„æ¡†æ¶ï¼Œæœ‰æ•ˆå’Œå‡†ç¡®åœ°å­¦ä¹ 3Då½¢çŠ¶è¡¨ç¤ºæ˜¯çœŸæ­£å¯èƒ½çš„ã€‚ä¸ç°æœ‰çš„åŸºäºåæ ‡çš„æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬ä½¿ç”¨ç®€å•çš„å°„çº¿-è¡¨é¢è·ç¦»åœºæ¥è¡¨ç¤ºä¸‰ç»´å‡ ä½•å½¢çŠ¶ï¼Œå¹¶è¿›ä¸€æ­¥ç”±ä¸€ç§æ–°çš„åŒå°„çº¿å¯è§æ€§åˆ†ç±»å™¨é©±åŠ¨ï¼Œä»¥å®ç°å¤šè§†å›¾å½¢çŠ¶ä¸€è‡´ã€‚åœ¨å¤šä¸ªæ•°æ®é›†ä¸Šçš„å¤§é‡å®éªŒè¯æ˜äº†æˆ‘ä»¬çš„æ–¹æ³•å…·æœ‰æé«˜çš„æ¸²æŸ“æ•ˆç‡å’Œå‡ºè‰²çš„æ€§èƒ½ã€‚ç”¨æ›´é«˜çº§çš„æŠ€æœ¯(å¦‚æ›´å¿«çš„å®ç°å’Œé¢å¤–çš„æ­£åˆ™åŒ–)æ‰©å±•æˆ‘ä»¬çš„æ¡†æ¶ä¼šå¾ˆæœ‰è¶£ã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n raydf python=3.8 -y</span><br><span class="line">conda activate raydf</span><br></pre></td></tr></table></figure></p><p>é—®é¢˜ï¼š</p><ul><li>åœ¨wsl2ä¸­é…ç½®å¥½<code>pip install torch==1.12.1+cu113 torchvision==0.13.1+cu113 --extra-index-url https://download.pytorch.org/whl/cu113</code> å’Œ <code>pip install -r requirements.txt</code>åå‘ç°cudaæ— æ³•ä½¿ç”¨<ul><li><a href="https://blog.csdn.net/Papageno_Xue/article/details/125754893">JAX: åº“å®‰è£…å’ŒGPUä½¿ç”¨ï¼Œè§£å†³ä¸èƒ½è¯†åˆ«gpué—®é¢˜_jaxå®‰è£…_Papageno2018çš„åšå®¢-CSDNåšå®¢</a></li></ul></li><li>è½¬åˆ°win10ä¸­é…ç½®ï¼Œå‘ç°jaxå’Œjaxlibçš„0.4.10ç‰ˆæœ¬æ— æ³•å®‰è£…åˆ°python3.8ä¸­<ul><li><a href="https://blog.csdn.net/zhangyi0626/article/details/120417503">jaxlibæš‚ä¸æ”¯æŒwindows_jaxlib-0.3.20+cuda11.cudnn82-cp38-cp38-win_amd64.w_GoldMinnieçš„åšå®¢-CSDNåšå®¢</a></li></ul></li></ul><p>==ç¯å¢ƒé…ç½®å¤±è´¥2023.11.14~11.16==</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Consistency </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DiffuStereo</title>
      <link href="/3DReconstruction/Multi-view/Generative%20Models/DiffuStereo/"/>
      <url>/3DReconstruction/Multi-view/Generative%20Models/DiffuStereo/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>DiffuStereo: High Quality Human Reconstruction via Diffusion-based Stereo Using Sparse Cameras</th></tr></thead><tbody><tr><td>Author</td><td>Ruizhi Shao, Zerong Zheng, Hongwen Zhang, Jingxiang Sun, Yebin Liu</td></tr><tr><td>Conf/Jour</td><td>ECCV 2022 Oral</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://liuyebin.com/diffustereo/diffustereo.html">DiffuStereo Project Page (liuyebin.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4648031844416110593&amp;noteId=2044584813117342208">DiffuStereo: High Quality Human Reconstruction via Diffusion-based Stereo Using Sparse Cameras (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231111120652.png" alt="image.png|666"></p><p>THUman2.0æ•°æ®é›†demoç»“æœå¥½(é™¤æ‰‹ã€è„¸å’Œè„š)ï¼Œè®­ç»ƒä»£ç è¿˜æœªå¼€æº<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231113161728.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬æå‡ºäº† DiffuStereoï¼Œè¿™æ˜¯ä¸€ç§ä»…ä½¿ç”¨ç¨€ç–ç›¸æœº(æœ¬å·¥ä½œä¸­æœ‰ 8 ä¸ª)è¿›è¡Œé«˜è´¨é‡ 3D äººä½“é‡å»ºçš„æ–°ç³»ç»Ÿã€‚å…¶æ ¸å¿ƒæ˜¯ä¸€ç§æ–°å‹çš„åŸºäºæ‰©æ•£çš„ç«‹ä½“æ¨¡å‹ï¼Œå°†æ‰©æ•£æ¨¡å‹è¿™ä¸€åŠŸèƒ½å¼ºå¤§çš„ç”Ÿæˆæ¨¡å‹å¼•å…¥åˆ°è¿­ä»£ç«‹ä½“åŒ¹é…ç½‘ç»œä¸­ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªæ–°çš„æ‰©æ•£æ ¸å’Œé™„åŠ çš„ç«‹ä½“çº¦æŸæ¥ä¿ƒè¿›ç½‘ç»œä¸­çš„ç«‹ä½“åŒ¹é…å’Œæ·±åº¦ä¼°è®¡ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥æå‡ºäº†ä¸€ä¸ªå¤šçº§ç«‹ä½“ç½‘ç»œæ¶æ„æ¥å¤„ç†é«˜åˆ†è¾¨ç‡(é«˜è¾¾ 4k)çš„è¾“å…¥ï¼Œè€Œä¸éœ€è¦è´Ÿæ‹…å¾—èµ·çš„å†…å­˜å ç”¨ã€‚ç»™å®šä¸€ç»„ç¨€ç–è§†å›¾å½©è‰²äººä½“å›¾åƒï¼ŒåŸºäºå¤šå±‚æ¬¡æ‰©æ•£çš„ç«‹ä½“ç½‘ç»œå¯ä»¥ç”Ÿæˆé«˜ç²¾åº¦çš„æ·±åº¦å›¾ï¼Œç„¶åé€šè¿‡é«˜æ•ˆçš„å¤šè§†å›¾èåˆç­–ç•¥å°†æ·±åº¦å›¾è½¬æ¢ä¸ºé«˜è´¨é‡çš„ä¸‰ç»´äººä½“æ¨¡å‹ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥è‡ªåŠ¨é‡å»ºäººä½“æ¨¡å‹ï¼Œå…¶è´¨é‡ä¸é«˜ç«¯å¯†é›†è§†è§’ç›¸æœºå¹³å°ç›¸å½“ï¼Œè¿™æ˜¯ä½¿ç”¨æ›´è½»çš„ç¡¬ä»¶è®¾ç½®å®ç°çš„ã€‚å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨å®šæ€§å’Œå®šé‡ä¸Šéƒ½å¤§å¤§ä¼˜äºæœ€å…ˆè¿›çš„æ–¹æ³•ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>è´¡çŒ®:<br>1)æˆ‘ä»¬æå‡ºäº† DiffuStereoï¼Œè¿™æ˜¯ä¸€ä¸ªè½»é‡çº§å’Œé«˜è´¨é‡çš„ç³»ç»Ÿï¼Œç”¨äºç¨€ç–å¤šè§†å›¾ç›¸æœºä¸‹çš„äººä½“ä½“ç§¯é‡å»ºã€‚<br>2)æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œæˆ‘ä»¬æå‡ºäº†ç¬¬ä¸€ä¸ªå°†æ‰©æ•£æ¨¡å‹å¼•å…¥ç«‹ä½“å’Œäººä½“é‡å»ºçš„æ–¹æ³•ã€‚æˆ‘ä»¬é€šè¿‡ç²¾å¿ƒè®¾è®¡ä¸€ä¸ªæ–°çš„æ‰©æ•£æ ¸å¹¶åœ¨æ‰©æ•£æ¡ä»¶ä¸­å¼•å…¥é¢å¤–çš„ç«‹ä½“çº¦æŸæ¥æ‰©å±•é¦™è‰æ‰©æ•£æ¨¡å‹ã€‚<br>3)æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¤šå±‚æ¬¡æ‰©æ•£ç«‹ä½“ç½‘ç»œï¼Œä»¥å®ç°å‡†ç¡®å’Œé«˜è´¨é‡çš„äººä½“æ·±åº¦ä¼°è®¡ã€‚æˆ‘ä»¬çš„ç½‘ç»œå¯ä»¥ä¼˜é›…åœ°å¤„ç†é«˜åˆ†è¾¨ç‡(é«˜è¾¾ 4k)å›¾åƒï¼Œè€Œä¸ä¼šé­å—å†…å­˜è¿‡è½½çš„å›°æ‰°ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231111120652.png" alt="image.png|666"></p><p>DiffuStereo å¯ä»¥ä»ç¨€ç–çš„(å°‘è‡³ 8 ä¸ª)æ‘„åƒæœºä¸­é‡å»ºé«˜è´¨é‡çš„äººä½“æ¨¡å‹ï¼ˆæ‰€æœ‰æ‘„åƒæœºå‡åŒ€åˆ†å¸ƒåœ¨ç›®æ ‡äººå‘¨å›´çš„ä¸€ä¸ªç¯ä¸Šï¼‰ã€‚è¿™ç§ç¨€ç–çš„è®¾ç½®ç»™é«˜è´¨é‡çš„é‡å»ºå¸¦æ¥äº†å·¨å¤§çš„æŒ‘æˆ˜ï¼Œå› ä¸ºä¸¤ä¸ªç›¸é‚»è§†å›¾ä¹‹é—´çš„è§’åº¦å¯ä»¥å¤§åˆ° 45 åº¦ã€‚DiffuStereo é€šè¿‡ä¸€ç§ç°æˆçš„é‡å»ºæ–¹æ³• DoubleField[52]ã€ä¸€ç§åŸºäºæ‰©æ•£çš„ç«‹ä½“ç½‘ç»œå’Œä¸€ç§è½»é‡çº§å¤šè§†å›¾èåˆæ¨¡å—çš„å…±åŒåŠªåŠ›ï¼Œè§£å†³äº†è¿™äº›æŒ‘æˆ˜ã€‚</p><p>DiffuStereo ç³»ç»Ÿç”±ä¸‰ä¸ªå…³é”®æ­¥éª¤ç»„æˆ:</p><ul><li>é€šè¿‡ DoubleField[52]é¢„æµ‹åˆå§‹äººä½“ç½‘æ ¼ï¼Œå¹¶æ¸²æŸ“ä¸ºç²—è§†å·®æµ(ç¬¬ 3.1 èŠ‚); ä½œè€…å…ˆå‰æå‡ºçš„ DoubleFieldï¼Œæœ€æ–°çš„æœ€å…ˆè¿›çš„äººä½“é‡å»ºæ–¹æ³•ä¹‹ä¸€ï¼Œè¡¨é¢å’Œè¾å°„åœºè¢«æ¡¥æ¥ä»¥åˆ©ç”¨äººä½“å‡ ä½•å…ˆéªŒå’Œå¤šè§†å›¾å¤–è§‚ï¼Œåœ¨ç»™å®šç¨€ç–è§†å›¾è¾“å…¥çš„æƒ…å†µä¸‹æä¾›è‰¯å¥½çš„ç½‘æ ¼åˆå§‹åŒ–ã€‚</li><li>å¯¹äºæ¯ä¸¤ä¸ªç›¸é‚»è§†å›¾ï¼Œåœ¨åŸºäºæ‰©æ•£çš„ç«‹ä½“ä¸­å¯¹ç²—è§†å·®å›¾è¿›è¡Œç»†åŒ–ï¼Œå¾—åˆ°é«˜è´¨é‡çš„æ·±åº¦å›¾(ç¬¬ 3.2 èŠ‚);åŸºäºæ‰©æ•£çš„ç«‹ä½“ç½‘ç»œå¯¹æ¯ä¸ªè¾“å…¥è§†å›¾çš„è§†å·®å›¾æœ‰å¾ˆå¼ºçš„æ”¹è¿›èƒ½åŠ›ï¼Œå…¶ä¸­ä½¿ç”¨æ‰©æ•£è¿‡ç¨‹è¿›è¡Œè¿ç»­çš„è§†å·®ç»†åŒ–ã€‚</li><li>åˆå§‹çš„äººä½“ç½‘æ ¼å’Œé«˜è´¨é‡çš„æ·±åº¦å›¾è¢«èåˆæˆæœ€ç»ˆçš„é«˜è´¨é‡äººä½“ç½‘æ ¼(ç¬¬ 3.3 èŠ‚)ï¼Œå…¶ä¸­ä¸€ä¸ªè½»é‡çº§çš„å¤šè§†å›¾èåˆæ¨¡å—ä»¥åˆå§‹ç½‘æ ¼ä½œä¸ºé”šç‚¹ä½ç½®ï¼Œæœ‰æ•ˆåœ°ç»„è£…äº†éƒ¨åˆ†ç²¾ç»†çš„æ·±åº¦å›¾ã€‚</li></ul><h2 id="Mesh-Depth-Disparity-Initialization"><a href="#Mesh-Depth-Disparity-Initialization" class="headerlink" title="Mesh, Depth, Disparity Initialization"></a>Mesh, Depth, Disparity Initialization</h2><p>DoubleField å¾—åˆ°åˆå§‹äººä½“ meshï¼Œç„¶åæ¸²æŸ“ä¸ºæ·±åº¦å›¾</p><p>m å’Œ n æ˜¯ä¸¤ä¸ªç›¸é‚»è§†å›¾çš„ç´¢å¼•ï¼Œä¸ºäº†å¾—åˆ°è§†å›¾ m åˆ°ç›¸é‚»è§†å›¾ n çš„ç²—è§†å·®å›¾ $x_{c}$ï¼Œå–è§†å›¾ m çš„æ·±åº¦å›¾ $D^m_c$ï¼Œè®¡ç®—åƒç´ ä½ç½® o = (i, j)å¤„çš„è§†å·®: $\mathbf{x}_c(\boldsymbol{o})=\pi^n\left((\pi^m)^{-1}\left([\boldsymbol{o},\mathbf{D}_c^m(\boldsymbol{o})]^\mathrm{T}\right)\right)-\boldsymbol{o}$ Eqn.1</p><p>å…¶ä¸­ $(\pi^{m})^{-1}$ å°†æ·±åº¦å›¾ $D^m_c$ ä¸­çš„ç‚¹å˜æ¢ä¸ºä¸–ç•Œåæ ‡ç³»ï¼Œ$Ï€^n$ å°†ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‚¹æŠ•å½±ä¸ºå›¾åƒåæ ‡ç³»ã€‚</p><p>ç”±äºåˆå§‹è§†å·®å›¾æ˜¯ä»ç²—ç³™çš„äººä½“ç½‘æ ¼ä¸­è®¡ç®—çš„ï¼Œå› æ­¤å¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šç¼“è§£å¤§ä½ç§»å’Œé®æŒ¡åŒºåŸŸçš„é—®é¢˜ã€‚æ­£å¦‚å³å°†ä»‹ç»çš„é‚£æ ·ï¼Œ<strong>è¿™äº›è§†å·®å›¾é€šè¿‡ Diffusion-based Stereo è¿›ä¸€æ­¥ç»†åŒ–ï¼Œä»¥è·å¾—æ¯ä¸ªè¾“å…¥è§†ç‚¹çš„é«˜è´¨é‡æ·±åº¦å›¾</strong></p><h2 id="Diffusion-based-Stereo-for-Disparity-Refinement"><a href="#Diffusion-based-Stereo-for-Disparity-Refinement" class="headerlink" title="Diffusion-based Stereo for Disparity Refinement"></a>Diffusion-based Stereo for Disparity Refinement</h2><p>ç°æœ‰çš„(stereo methods)ç«‹ä½“æ–¹æ³• <a href="https://readpaper.com/pdf-annotate/note?pdfId=4518062699161739265&amp;noteId=1986540055632613120">63MVSNet: Depth Inference for Unstructured Multi-view Stereo (readpaper.com)</a> [9ã€20ã€23ã€68ã€33ã€63ã€69ã€70]é‡‡ç”¨ 3D/4D æˆæœ¬ä½“ç¦»æ•£é¢„æµ‹è§†å·®å›¾ï¼Œéš¾ä»¥å®ç°äºšåƒç´ çº§çš„æµé‡ flow ä¼°è®¡ã€‚ä¸ºäº†å…‹æœè¿™ä¸€é™åˆ¶ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§åŸºäºæ‰©æ•£çš„ç«‹ä½“ç½‘ç»œï¼Œä½¿ç«‹ä½“ç½‘ç»œå¯ä»¥åœ¨è¿­ä»£è¿‡ç¨‹ä¸­å­¦ä¹ è¿ç»­æµã€‚<br>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çš„åŸºäºæ‰©æ•£çš„ç«‹ä½“å›¾åƒåŒ…å«ä¸€ä¸ªæ­£æ¼”è¿‡ç¨‹å’Œä¸€ä¸ªåæ¼”è¿‡ç¨‹ï¼Œä»¥è·å¾—æœ€ç»ˆçš„é«˜è´¨é‡è§†å·®å›¾ã€‚åœ¨æ­£æ¼”è¿‡ç¨‹ä¸­ï¼Œå°†åˆå§‹è§†å·®å›¾æ‰©æ•£åˆ°æœ‰å™ªå£°åˆ†å¸ƒçš„å›¾ä¸­ã€‚<strong>åœ¨åå‘çš„è¿‡ç¨‹ä¸­</strong>ï¼Œåœ¨å…·æœ‰å¤šä¸ªç«‹ä½“ç›¸å…³ç‰¹å¾çš„æ¡ä»¶ä¸‹ï¼Œ<strong>ä»å™ªå£°å›¾ä¸­æ¢å¤å‡ºé«˜è´¨é‡çš„è§†å·®å›¾</strong>ã€‚<br>ä¸‹é¢ï¼Œæˆ‘ä»¬ç®€è¦ä»‹ç»äº†ä¸€èˆ¬çš„æ‰©æ•£æ¨¡å‹ï¼Œç„¶åä»‹ç»äº†æˆ‘ä»¬å°†æ‰©æ•£æ¨¡å‹çš„è¿ç»­æ€§ä¸åŸºäºå­¦ä¹ çš„è¿­ä»£ç«‹ä½“ç›¸ç»“åˆçš„è§£å†³æ–¹æ¡ˆã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ä¸ªå¤šå±‚æ¬¡çš„ç½‘ç»œç»“æ„ï¼Œä»¥è§£å†³é«˜åˆ†è¾¨ç‡å›¾åƒè¾“å…¥çš„å†…å­˜é—®é¢˜ã€‚</p><h3 id="Generic-Diffusion-Model"><a href="#Generic-Diffusion-Model" class="headerlink" title="Generic Diffusion Model"></a>Generic Diffusion Model</h3><p>More formally, the diffusion model can be written as two Markov Chains:<br>Eqn.2,3,4</p><script type="math/tex; mode=display">\begin{aligned}&q(\mathbf{y}_{1:T}|\mathbf{y}_{0}) =\prod\limits_{t=1}^Tq(\mathbf{y}_t|\mathbf{y}_{t-1}),  \\&q(\mathbf{y}_t|\mathbf{y}_{t-1}) =\mathcal{N}(\sqrt{1-\beta_t}\mathbf{y}_{t-1},\beta_tI)  \\&p_{\theta}(\mathbf{y}_{0:T}|\mathbf{s}) =p(\mathbf{y}_T)\prod_{t=1}^Tp_\theta(\mathbf{y}_{t-1}|\mathbf{y}_t,\mathbf{s}), \end{aligned}</script><p>å…¶ä¸­ $q(\mathbf{y}_{1:T}|\mathbf{y}_{0})$ ä¸ºæ­£å‘å‡½æ•°ï¼Œ$q(\mathbf{y}_t|\mathbf{y}_{t-1})$ ä¸ºæ‰©æ•£æ ¸ï¼Œè¡¨ç¤ºåŠ å…¥å™ªå£°çš„æ–¹å¼ï¼Œ$\mathcal{N}$ ä¸ºæ­£æ€åˆ†å¸ƒï¼ŒI æ˜¯ the identical matrixï¼ŒpÎ¸()ä¸ºåå‘å‡½æ•°ï¼Œé‡‡ç”¨å»å™ªç½‘ç»œ $\mathcal{F}_Î¸$ å¯¹ $y_t$ è¿›è¡Œå»å™ªï¼Œä¸ºé™„åŠ æ¡ä»¶ã€‚å½“ Tâ†’âˆæ—¶ï¼Œæ­£åè¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯è¿ç»­è¿‡ç¨‹æˆ–éšæœºå¾®åˆ†æ–¹ç¨‹[55]ï¼Œè¿™æ˜¯è¿ç»­ flows ä¼°è®¡çš„è‡ªç„¶å½¢å¼ã€‚æ­£å¦‚ä¹‹å‰çš„å·¥ä½œ[55]æ‰€éªŒè¯çš„é‚£æ ·ï¼Œåœ¨å‚æ•°æ›´æ–°ä¸­æ³¨å…¥é«˜æ–¯å™ªå£°ä½¿è¿­ä»£è¿‡ç¨‹æ›´åŠ è¿ç»­ï¼Œå¹¶ä¸”å¯ä»¥é¿å…é™·å…¥å±€éƒ¨æå°ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å°†å±•ç¤ºï¼Œè¿™æ ·ä¸€ä¸ªå¼ºå¤§çš„ç”Ÿæˆå·¥å…·ä¹Ÿå¯ä»¥ç”¨æ¥ä¸ºä»¥äººä¸ºä¸­å¿ƒçš„ç«‹ä½“ä»»åŠ¡äº§ç”Ÿè¿ç»­çš„ flowsã€‚</p><p>ä¸ä¸€èˆ¬çš„æ‰©æ•£æ¨¡å‹ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ diffusion-based stereo é‡‡ç”¨äº†ä¸¤ç§ç‰¹å®šäºä»»åŠ¡çš„è®¾è®¡ï¼š<br>I)è€ƒè™‘åˆ° stereo flow estimation ä¸æ˜¯çº¯ç²¹çš„ç”Ÿæˆä»»åŠ¡ï¼Œ<strong>é‡‡ç”¨äº†ä¸€ç§æ–°çš„æ‰©æ•£æ ¸</strong>ï¼›<br>Ii)<strong>åå‘è¿‡ç¨‹ä¸­æ¶‰åŠä¸ç«‹ä½“ç›¸å…³çš„ç‰¹å¾å’Œç›‘ç£</strong>ï¼Œä»¥ç¡®ä¿é¢œè‰²çš„ä¸€è‡´æ€§å’Œæçº¿çº¦æŸ epipolar constraints.ã€‚</p><h3 id="Disparity-Forward-Process"><a href="#Disparity-Forward-Process" class="headerlink" title="Disparity Forward Process"></a>Disparity Forward Process</h3><p>æœ¬æ–‡æ‰©æ•£æ¨¡å‹çš„è¾“å…¥ $\mathbf{y}_{0}$ æ˜¯åœ°é¢çœŸå®è§†å·®å›¾ $\mathbf{\hat{x}}$ å’Œç²—è§†å·®å›¾ $x_c$ ä¹‹é—´çš„æ®‹å·®è§†å·® $\mathbf{\hat{y}}_0$ï¼Œå³ $\mathbf{\hat{y}}_0=\hat{\mathbf{x}}-\mathbf{x}_c$ã€‚<br><strong>ä¸ç°æœ‰çš„å›¾åƒåˆæˆç”Ÿæˆæ‰©æ•£æ¨¡å‹</strong>åˆ©ç”¨ $\sqrt{1-\beta_t}$ é€æ­¥å‡å° $\mathbf{y}_{t-1}$ çš„å°ºåº¦<strong>ä¸åŒ</strong>ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªæ‰©æ•£æ ¸æ¥ä¿æŒ $\mathbf{y}_{t-1}$ çš„å°ºåº¦ï¼Œçº¿æ€§æ¼‚ç§» $\mathbf{y}_{0}$ åˆ° $\mathbf{y}_{t}$ï¼Œå³ Eqn(3) æ”¹å†™ä¸ºï¼šEqn.5<br>$q(\mathbf{y}_{t}|\mathbf{y}_{t-1})=\mathcal{N}(\mathbf{y}_{t}|\mathbf{y}_{t-1}-\alpha_{t}\mathbf{y}_{0},\alpha_{t}\mathbf{I}),$</p><p>å…¶ä¸­ $Î±_t$ æ˜¯ç¼©æ”¾å™ªå£°çš„å‚æ•°ã€‚åŸºäºè¿™ç§æ–°çš„æ‰©æ•£æ ¸ï¼Œè§†å·®æ­£å‘è¿‡ç¨‹ä½¿ç”¨ Eqn(2) å’Œ (5)é€æ¸å‘åœ°é¢çœŸå®æ®‹å·®è§†å·® $\mathbf{\hat{y}}_0$ æ·»åŠ å™ªå£°ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„æ‰©æ•£å†…æ ¸ä½¿åå‘è¿‡ç¨‹æ›´åŠ ç¨³å®šï¼Œå¹¶ä¸”åœ¨æ¨ç†æ—¶æœ‰æ•ˆåœ°å‡å°‘äº†æ‰€éœ€çš„è¿­ä»£æ­¥æ•°ã€‚æˆ‘ä»¬æ–°å†…æ ¸ä¸‹çš„å‰å‘è¿‡ç¨‹çš„æ¨å¯¼ä¸[24]ç›¸ä¼¼ï¼Œå¯ä»¥åœ¨ Supp ä¸­æ‰¾åˆ°</p><h3 id="Stereo-conditioned-Reverse-Process"><a href="#Stereo-conditioned-Reverse-Process" class="headerlink" title="Stereo-conditioned Reverse Process."></a>Stereo-conditioned Reverse Process.</h3><p>Eqn.4<br>$p_{\theta}(\mathbf{y}_{0:T}|\mathbf{s}) =p(\mathbf{y}_T)\prod_{t=1}^Tp_\theta(\mathbf{y}_{t-1}|\mathbf{y}_t,\mathbf{s})$</p><p>åŸºäºæ‰©æ•£çš„ç«‹ä½“çš„åå‘è¿‡ç¨‹æ—¨åœ¨åˆ©ç”¨ Eqn(4)ä»å™ªå£° $\mathbf{y}_T$ ä¸­æ¢å¤æ®‹å·®è§†å·® $\mathbf{\hat{y}}_0$ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ‰©æ•£ç«‹ä½“ç½‘ç»œå……å½“ Eqn(4)ä¸­çš„å»å™ªç½‘ç»œ $\mathcal{F}_Î¸$ ã€‚é€šè¿‡å°† $\mathbf{y}_{t}$ å’Œ s ä½œä¸ºè¾“å…¥å¹¶é¢„æµ‹ $\widetilde{\mathbf{y}}_0.$ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231111184852.png" alt="image.png|666"></p><p>ç”±äºæ‰©æ•£æ ¸ä¹Ÿä¼šå½±å“åå‘è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç½‘ç»œçš„å»å™ªè¿‡ç¨‹ä¸æˆ‘ä»¬çš„æ–°æ ¸ä¸‹çš„æ³›å‹å»å™ªè¿‡ç¨‹ä¸åŒã€‚ç»™å®šæ–¹ç¨‹å¼ 5 ä¸­çš„å†…æ ¸ï¼Œåå‘è¿‡ç¨‹ä¸­æ¯ä¸€æ­¥çš„å…¬å¼å¯ä»¥å†™æˆï¼š$p_{\theta}(\mathbf{y}_{t-1}|\mathbf{y}_{t},\mathbf{s})=\mathcal{N}(\mathbf{y}_{t-1}|\mu_{\theta}(\mathbf{y}_{t},\gamma_{t},\mathbf{s}),\sigma_{t}^{2}\mathbf{I}),$ Eqn.6</p><p>å…¶ä¸­ $\gamma_{t}=\sum_{i=1}^{t}\alpha_{i},\sigma_{t}^{2}=\frac{\alpha_{t}\gamma_{t-1}}{\gamma_{t}},\mathrm{and}\mu_{\theta}()$ ä¸ºå»å™ªç½‘ç»œ $\mathcal{F}_Î¸$ çš„é¢„æµ‹è¿‡ç¨‹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†é¢„æµ‹çš„ $\widetilde{\mathbf{y}}_0$ ä»£å…¥ $q(\mathbf{y}_{t-1}|\mathbf{y}_t,\mathbf{y}_0)$ çš„åéªŒåˆ†å¸ƒï¼Œè¡¨ç¤º $p_\theta(\mathbf{y}_{t-1}|\mathbf{y}_t)$ çš„å‡å€¼: $\mu_{\theta}(\mathbf{y}_{t},\gamma_{t},\mathbf{s})=\frac{\alpha_{t}}{\gamma_{t}}\widetilde{\mathbf{y}}_{0}+\frac{\gamma_{t-1}}{\gamma_{t}}\mathbf{y}_{t}.$ Eqn.7</p><p><strong>the whole reverse process</strong>ï¼š$\mathbf{y}_{t-1}\leftarrow\frac{\alpha_{t}}{\gamma_{t}}\widetilde{\mathbf{y}}_{0}+\frac{\gamma_{t-1}}{\gamma_{t}}\mathbf{y}_{t}+\frac{\alpha_{t}\gamma_{t-1}}{\gamma_{t}}\epsilon_{t},\epsilon_{t}\sim\mathcal{N}(\mathbf{0},\mathbf{1}).$ Eqn.8</p><p>ç”±äºè§†å·®ç»†åŒ–ä¸æ˜¯å®Œå…¨ç”Ÿæˆè¿‡ç¨‹ï¼Œæ‰©æ•£ç«‹ä½“ç½‘ç»œ $\mathcal{F}_Î¸$ ä»¥é™„åŠ æ¡ä»¶ä½œä¸ºè¾“å…¥æ¥æ¢å¤é«˜è´¨é‡çš„è§†å·®æµã€‚åœ¨æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œå››ç§ç±»å‹çš„ç«‹ä½“ç›¸å…³å›¾ï¼ˆå›¾ 3 å³ï¼‰å……å½“æ–¹ç¨‹å¼(4)ä¸­çš„é™„åŠ æ¡ä»¶ s ä¿è¯åå‘è¿‡ç¨‹æ¯ä¸€æ­¥çš„é¢œè‰²ä¸€è‡´æ€§å’Œæçº¿çº¦æŸ</p><ul><li>The original image $\mathbf{I}_m$ of the view m;</li><li>The warped image $\mathbf{I}_w^n$ of view n, which is obtained by transforming pixels of $\mathbf{I}^n$ using current flow $\mathbf{x}_t^m=\mathbf{x}^m+\mathbf{y}_t$: $\mathbf{I}_w^n(\boldsymbol{o})=\mathbf{I}^n(\mathbf{x}_t^m(\boldsymbol{o})+\boldsymbol{o}).$</li><li>The current flow map $\mathbf{x}_t^m$ ï¼ˆ$\mathbf{x}_t^m=\mathbf{x}^m+\mathbf{y}_t$ï¼‰</li><li>The direction map $\mathbf{e}^m$ of epipolar line æçº¿, which is computed as: $\mathbf{e}^m=(\dot{\mathbf{x}}_c^m-\mathbf{x}_c^m)/|\dot{\mathbf{x}}_c^m-\mathbf{x}_c^m|_2,$<ul><li>å…¶ä¸­Ì‡ $\dot{\mathbf{x}}_c^m$ æ˜¯åŸºäºç²—æ·±åº¦å›¾ $\mathbf{D}_c^m$ å’Œå›ºå®šç§»ä½Î²å˜æ¢çš„ç§»ä½æµå›¾: $\dot{\mathbf{x}}_c^m(\boldsymbol{o})=\pi^n((\pi^m)^{-1}([\boldsymbol{o},\mathbf{D}_c^m(\boldsymbol{o})+\beta]^T))-\boldsymbol{o}.$</li></ul></li></ul><p>åœ¨ä¸Šè¿°å››ç§æ¡ä»¶ä¸‹ï¼Œ $\mathbf{I}_m$ å’Œ $\mathbf{I}_w^n$ é¼“åŠ±ç½‘ç»œæ„è¯†åˆ°é¢œè‰²ä¸€è‡´æ€§ï¼Œè€Œ $\mathbf{x}_t^m$ å’Œ $\mathbf{e}^m$ æä¾›äº†å…³äºæµå‘ç½‘ç»œçš„æç¤ºä»¥è¿›è¡Œæ›´å¥½é¢„æµ‹ã€‚æˆ‘ä»¬é€šè¿‡å°†ä¸Šè¿°ç«‹ä½“ç›¸å…³æ˜ å°„è¿æ¥ä¸º $\mathrm{s}_t^m=\bigoplus(\mathbf{I}^m,\mathbf{I}_w^n,\mathbf{x}_t^m,\mathbf{e}^m).$ æ¥çº¦æŸç½‘ç»œã€‚æ¡ä»¶ $\mathrm{s}_t^m$ ä¸ $(\mathbf{y}_t^m,t)$ è¿›ä¸€æ­¥ä¸²è”ï¼Œå¹¶é¦ˆå…¥æ‰©æ•£ç«‹ä½“ç½‘ç»œã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å°†ç½‘ç»œè¾“å‡ºæ˜ å°„ R çº¦æŸä¸ºä»…ä¸€ä¸ªé€šé“ï¼Œä»¥ä¾¿é¢„æµ‹çš„å‰©ä½™ flow $\widetilde{\mathbf{y}}_t=\mathrm{e}^m\cdot R$ è¢«è¿«æ²¿ç€æçº¿ç§»åŠ¨ã€‚</p><p>å½“åå‘è¿‡ç¨‹å®Œæˆæ—¶ï¼Œåˆ©ç”¨ Eqn(1)çš„é€†å…¬å¼ï¼Œå°†æœ€ç»ˆæµ $\mathbf{x}^m+\widetilde{\mathbf{y}}_0^m$ è½¬æ¢å›è§†å›¾ m çš„ç²¾ç»†æ·±åº¦å›¾ $\mathrm{D}_f^m$ã€‚</p><h3 id="Multi-level-Network-Structure-è§£å†³-memory-é—®é¢˜"><a href="#Multi-level-Network-Structure-è§£å†³-memory-é—®é¢˜" class="headerlink" title="Multi-level Network Structure è§£å†³ memory é—®é¢˜"></a>Multi-level Network Structure è§£å†³ memory é—®é¢˜</h3><p>å¯¹äºé«˜è´¨é‡çš„äººä½“é‡å»ºï¼Œåˆ©ç”¨é«˜åˆ†è¾¨ç‡è¾“å…¥å›¾åƒè‡³å…³é‡è¦ã€‚å½“åº”ç”¨ä¸Šè¿°æ‰©æ•£ç«‹ä½“ç½‘ç»œæ—¶ï¼Œå½“é‡‡ç”¨é«˜åˆ†è¾¨ç‡å›¾åƒ(åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ä¸º4K)ä½œä¸ºè¾“å…¥æ—¶ï¼Œä¼šå‡ºç°å†…å­˜é—®é¢˜ã€‚å— PIFuHD[51]çš„å¯å‘ï¼Œæˆ‘ä»¬é‡‡ç”¨å¤šå±‚ç½‘ç»œç»“æ„æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå…¶ä¸­å…¨å±€ç½‘ç»œ $\mathcal{F}_{g}$ ä¸æ‰©æ•£ç«‹ä½“ç½‘ç»œ $\mathcal{F}_{\theta}$ ç›¸ç»“åˆã€‚è¿™æ ·ï¼Œ$\mathcal{F}_{g}$ å’Œ $\mathcal{F}_{\theta}$ å¯ä»¥åˆ†åˆ«åœ¨å…¨å±€å’Œæ‰©æ•£å±‚é¢äº§ç”Ÿè§†å·®æµã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231111211733.png" alt="image.png|666"></p><p>å¦‚å›¾4æ‰€ç¤ºï¼Œåœ¨å…¨å±€çº§åˆ«ä¸Šï¼Œç²—åˆå§‹æµ $\mathrm{x}_c^m$ å’Œæ¡ä»¶ç«‹ä½“ç‰¹å¾ $s^{m}$ éƒ½è¢«ä¸‹é‡‡æ ·åˆ° 512Ã—512 çš„åˆ†è¾¨ç‡ï¼Œç„¶åè¢«é¦ˆé€åˆ°å…¨å±€ç½‘ç»œ $\mathcal{F}_{g}$ ä¸­ã€‚å…¶ç›´æ¥é¢„æµ‹ä½åˆ†è¾¨ç‡æ®‹å·®æµ $\widetilde{\mathbf{y}}_g^m.$ æ³¨æ„ï¼Œå…¨å±€çº§åˆ«çš„æµé‡ä¼°è®¡ä¸æ˜¯æ‰©æ•£è¿‡ç¨‹ï¼Œè€Œæ˜¯å­¦ä¹ åŒ…å«äººç±»è¯­ä¹‰ä¿¡æ¯çš„å…¨å±€ç‰¹å¾ã€‚åœ¨æ‰©æ•£çº§ï¼Œæˆ‘ä»¬é‡‡ç”¨æ¥è‡ªå…¨å±€ç½‘ç»œçš„æœ€åå›¾åƒç‰¹å¾ $\mathbf{I}_g^m$ ä½œä¸ºæ‰©æ•£ç«‹ä½“ç½‘ç»œçš„é™„åŠ æ¡ä»¶ã€‚å› æ­¤ï¼Œæœ¬åœ°çº§ç½‘ç»œä¸­çš„ç«‹ä½“ç›¸å…³ç‰¹å¾è¢«ä¿®æ”¹ä¸º $\bigoplus(\mathbf{I}^m,\mathbf{I}_w^n,\mathbf{x}_t^m,\mathbf{e}^m,\mathbf{I}_g^m).$ å¾—ç›Šäºå¤šçº§ç»“æ„ï¼Œç”±äºå¯ä»¥ä»¥åŸºäºè¡¥ä¸çš„æ–¹å¼è®­ç»ƒæ‰©æ•£ç«‹ä½“ç½‘ç»œï¼Œå› æ­¤å¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå…‹æœå†…å­˜é—®é¢˜ã€‚æ­¤å¤–ï¼Œåœ¨å…¨å±€ç‰¹å¾ $\mathbf{I}_g^m$ çš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘ä»¬çš„æ‰©æ•£ç«‹ä½“ç½‘ç»œå¯ä»¥æ›´åŠ ä¸“æ³¨äºç²¾ç»†ç»†èŠ‚çš„æ¢å¤ã€‚</p><h3 id="Training-of-Diffusion-based-Stereo"><a href="#Training-of-Diffusion-based-Stereo" class="headerlink" title="Training of Diffusion-based Stereo"></a>Training of Diffusion-based Stereo</h3><p>Global Level. æˆ‘ä»¬å°† GT æ®‹å·®æµä¸‹é‡‡æ ·åˆ°512çš„åˆ†è¾¨ç‡ï¼Œå¹¶ç”¨å…¨å±€æŸå¤± $\mathcal{L}_g$ è®­ç»ƒå…¨å±€ç½‘ç»œ $\mathcal{F}_{g}$ï¼š<br>$\mathcal{L}_g=\frac{1}{HW}\sum_{i=1}^{H}\sum_{j=1}^{W}|\widetilde{\mathbf{y}}_g(i,j)-\mathbf{y}_0(i,j)|^2,$</p><p>å…¨å±€æŸå¤±ä¿ƒä½¿ç½‘ç»œå­¦ä¹ äººç±»è¯­ä¹‰ç‰¹å¾è¿›è¡Œæµé‡ä¼°è®¡ã€‚</p><p>Diffusion Level. Follow <a href="https://readpaper.com/pdf-annotate/note?pdfId=4545125180618989569&amp;noteId=2045159659192404736">WaveGrad: Estimating Gradients for Waveform Generation (readpaper.com)</a>ï¼Œæˆ‘ä»¬éšæœºé€‰æ‹©ä¸€ä¸ªæ—¶é—´æ­¥é•¿ tï¼Œå¹¶å°† GT æ®‹ä½™æµ $\mathbf{y}_0$ æ‰©æ•£åˆ° $\mathbf{y}_t$ï¼Œç”Ÿæˆè®­ç»ƒæ ·æœ¬ï¼Œä½¿ç”¨: $q(\mathbf{y}_t|\mathbf{y}_0)=\mathcal{N}(\mathbf{y}_t|(1-\gamma_t)\mathbf{y}_0,\gamma_t\mathbf{I}).$</p><p>ç„¶ååœ¨ç¬¬ t æ­¥é‡‡ç”¨æ‰©æ•£æŸå¤± $\mathcal{L}_{d}=$ æ¥è®­ç»ƒæ‰©æ•£ç«‹ä½“ç½‘ç»œ $\mathcal{F}_{\theta}$: $\mathcal{L}_{d}=\frac{1}{HW}\sum_{i=1}^{H}\sum_{j=1}^{W}|(\mathcal{F}_{\theta}(\mathbf{y}_{t},\mathbf{s}_{t},t))(i,j)-\mathbf{y}_{0}(i,j)|_{2}^{2}.$</p><h2 id="Light-weight-Multi-view-Fusion"><a href="#Light-weight-Multi-view-Fusion" class="headerlink" title="Light-weight Multi-view Fusion"></a>Light-weight Multi-view Fusion</h2><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§è½»é‡çº§çš„å¤šè§†å›¾æ··åˆèåˆæ¥èåˆç²¾ç»†çš„æ·±åº¦å›¾ $\mathbf{D}_{f}^{1},â€¦,\mathbf{D}_{f}^{n}$ å’Œç²—ç½‘æ ¼ $\mathrm{m}_{c}$ æ¥é‡å»ºæœ€ç»ˆæ¨¡å‹ã€‚<br>åœ¨èåˆä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ä¾µèš€æ ¸å»é™¤æ·±åº¦è¾¹ç•Œï¼Œå¹¶å°†æ¯ä¸ªç²¾ç»†çš„æ·±åº¦å›¾ $\mathbf{D}_f^i$ è½¬æ¢ä¸ºä¸€ä¸ªç‚¹äº‘ $\mathbf{p}^{i}=(\pi^i)^{-1}(\mathbf{D}_f^i).$<br>ç”±äºæ ‡å®šè¯¯å·®åœ¨å®é™…æ•°æ®ä¸­æ˜¯ä¸å¯é¿å…çš„ï¼Œå› æ­¤ä»å¤šè§†è§’ä¼°è®¡çš„ç²¾ç»†åŒ–æ·±åº¦å›¾å¯èƒ½æ— æ³•å‡†ç¡®å¯¹é½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åˆ©ç”¨éåˆšæ€§ ICP å¯¹æ·±åº¦ç‚¹äº‘ $\mathrm{p}^{i}$ å’Œç²—ç½‘æ ¼çš„ç‚¹äº‘ $\mathrm{p}^{c}$ è¿›è¡Œå¯¹é½ï¼Œå…¶ä¸­ç²—ç‚¹äº‘ä½œä¸ºåç»­å¯¹é½çš„é”šç‚¹æ¨¡å‹ã€‚åœ¨æˆ‘ä»¬çš„éåˆšæ€§ ICP ä¸­ï¼Œä¼˜åŒ–ç›®æ ‡ $\mathcal{L}_{icp}=\mathcal{L}_d+\mathcal{L}_s$ ç”±æ•°æ®é¡¹ $\mathcal{L}_d$ å’Œå…‰æ»‘é¡¹ $\mathcal{L}_s$ ç»„æˆï¼Œ<br>$\mathcal{L}_d=\sum_{i=1}^n\sum_{j=i+1}^n\sum_{(a,b)\in\widetilde{\mathbf{N}}^{i,j}}|\widetilde{\mathbf{p}}_a^i-\widetilde{\mathbf{p}}_b^j|^2+\lambda_d\sum_{i=1}^n\sum_{(a,b)\in\widetilde{\mathbf{N}}_c^i}|\widetilde{\mathbf{p}}_a^i-\mathbf{p}_b^c|^2$<br>$\mathcal{L}_s=\lambda_s\sum_{i=1}^n\sum_{(a,b)\in\mathbf{N_i}}|\widetilde{\mathbf{d}}_a^i-\widetilde{\mathbf{d}}_b^i|^2/|\mathbf{p}_a^i-\mathbf{p}_b^i|^2,$</p><p>å¼ä¸­ $\mathbf{d}^{i}$ ä¸ºæ·±åº¦ç‚¹äº‘ $\mathrm{p}^{i}$ çš„ä½ç§»ï¼ŒN ä¸ºæœç´¢åˆ°çš„é‚»åŸŸå¯¹åº”å…³ç³»çš„é›†åˆã€‚æˆ‘ä»¬é‡‡ç”¨æœ€è¿‘é‚»ç®—æ³•æœç´¢å¯¹åº”ï¼Œæœç´¢åŠå¾„çš„é˜ˆå€¼ä¸º 2mmã€‚<br>ä¼˜åŒ–åçš„æœ€ç»ˆç‚¹äº‘ $p^{f}$ æ˜¯ä¼˜åŒ–åçš„æ·±åº¦ç‚¹äº‘ ${\tilde{\mathrm{p}}}^{i}$ ä¸ç²—ç‚¹äº‘ $p ^{c}$ çš„ç»“åˆï¼Œè€Œæœ€ç»ˆçš„ç½‘æ ¼å¯ç”±æœ€ç»ˆç‚¹äº‘ $p^{f}$ ä½¿ç”¨æ³Šæ¾é‡å»º[32]é‡å»ºã€‚</p><h1 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h1><p>åœ¨æˆ‘ä»¬çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨ç±»ä¼¼äº Diffusion Models Beat GANs on Image Synthesis[12]çš„ U-Net[47]æ¨¡å‹ä½œä¸ºå…¨å±€ç½‘ç»œ $\mathcal{F}_{g}$ å’Œæ‰©æ•£ç½‘ç»œ $\mathcal{F}_{\theta}$ çš„ç»“æ„ã€‚æˆ‘ä»¬çš„æ‰©æ•£æ¨¡å‹ T æ˜¯30ï¼Œåœ¨å›¾åƒç”Ÿæˆä»»åŠ¡ä¸­æ¯”åŸå§‹æ¨¡å‹å°å¾—å¤šã€‚å…³äºå…¶ä»–æ‰©æ•£å‚æ•°ï¼ŒåŒ…æ‹¬$\alpha_t,\gamma_t$ å’Œæ›´å¤šçš„å®ç°ç»†èŠ‚ï¼Œè¯·å‚é˜…è¡¥å……ææ–™ã€‚</p><p>Training Data Preparation.<br>æˆ‘ä»¬ä»Twindom[57]æ”¶é›†äº†300ä¸ªæ¨¡å‹ï¼Œå¹¶æ¸²æŸ“å›¾åƒå¯¹è¿›è¡Œè®­ç»ƒã€‚æˆ‘ä»¬é¦–å…ˆä»360Â°è§’åº¦å¯†é›†æ¸²æŸ“4Kåˆ†è¾¨ç‡çš„å›¾åƒå’Œæ·±åº¦å›¾ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨8ä¸ªå‡åŒ€åˆ†å¸ƒè§†å›¾çš„å›¾åƒä¸Šè¿è¡ŒDoubleField[52]ï¼Œé¢„æµ‹åˆ†è¾¨ç‡ä¸º$512^3$çš„SDFä½“ç§¯ï¼Œå¹¶ä½¿ç”¨marching cubeè¿›ä¸€æ­¥æ£€ç´¢ç²—ç³™çš„äººä½“ç½‘æ ¼ã€‚åœ¨æˆ‘ä»¬çš„åŸºäºæ‰©æ•£çš„ç«‹ä½“ç½‘ç»œè®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»åŒä¸€æ¨¡å‹çš„æ¸²æŸ“å›¾åƒä¸­éšæœºé€‰æ‹©ä¸¤ä¸ªè§†å›¾ï¼Œå¹¶åœ¨[20,50]çš„é—´éš”å†…çº¦æŸå®ƒä»¬çš„è§’åº¦ã€‚æˆ‘ä»¬è¿˜è®¡ç®—äº†ä¸¤ä¸ªè§†å›¾ä¹‹é—´çš„é®æŒ¡åŒºåŸŸï¼Œå¹¶è¿‡æ»¤æ‰ä¸å¥½çš„éƒ¨åˆ†ï¼Œä»¥é¿å…ä¸ç¨³å®šçš„è®­ç»ƒã€‚</p><p>Evaluation Data Preparation.<br>æˆ‘ä»¬ä»THUman2.0[65]æ•°æ®é›†ä¸­éšæœºé€‰æ‹©300ä¸ªæ¨¡å‹è¿›è¡Œè¯„ä¼°ã€‚4Kåˆ†è¾¨ç‡çš„äººç‰©å›¾åƒå’Œæ·±åº¦å›¾ä»360è§’åº¦æ¸²æŸ“ã€‚</p><h1 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h1><p>Conclusion.<br>æˆ‘ä»¬ä»‹ç»äº†DiffuStereoï¼Œä¸€ä¸ªä»ç¨€ç–è§†å›¾RGBå›¾åƒé‡å»ºé«˜è´¨é‡3Däººä½“æ¨¡å‹çš„æ–°ç³»ç»Ÿã€‚é€šè¿‡å¯¹äººç±»æ¨¡å‹çš„åˆæ­¥ä¼°è®¡ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿåˆ©ç”¨åŸºäºæ‰©æ•£æ¨¡å‹çš„æ–°å‹è¿­ä»£ç«‹ä½“ç½‘ç»œï¼Œ<strong>ä»æ¯ä¸¤ä¸ªç›¸é‚»è§†å›¾ç”Ÿæˆé«˜ç²¾åº¦çš„æ·±åº¦å›¾</strong>ã€‚è¿™ç§åŸºäºæ‰©æ•£çš„ç«‹ä½“ç½‘ç»œç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œå¯ä»¥å¤„ç†ç¨€ç–è§†å›¾ã€é«˜åˆ†è¾¨ç‡è¾“å…¥ã€‚<strong>é«˜è´¨é‡çš„æ·±åº¦å›¾å¯ä»¥ç»„è£…æ¥ç”Ÿæˆæœ€ç»ˆçš„3Dæ¨¡å‹</strong>ã€‚ä¸ç°æœ‰çš„æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥é‡å»ºæ›´æ¸…æ™°çš„å‡ ä½•ç»†èŠ‚ï¼Œè¾¾åˆ°æ›´é«˜çš„ç²¾åº¦ã€‚</p><p>Limitation.<br>æˆ‘ä»¬çš„æ–¹æ³•çš„ä¸»è¦é™åˆ¶æ˜¯ä¾èµ–äºåŒåœºæ¥ä¼°è®¡ä¸€ä¸ªåˆå§‹çš„äººç±»æ¨¡å‹ã€‚æ­¤å¤–ï¼Œç”±äºåœ¨ç¨€ç–è§†å›¾è®¾ç½®ä¸­ç¼ºä¹è§‚æµ‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ— æ³•é‡å»ºä¸å¯è§åŒºåŸŸçš„å‡ ä½•ç»†èŠ‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> Diffusion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DoubleField</title>
      <link href="/3DReconstruction/Single-view/Implicit%20Function/DoubleField/"/>
      <url>/3DReconstruction/Single-view/Implicit%20Function/DoubleField/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>DoubleField: Bridging the Neural Surface and Radiance Fields for High-fidelity Human Rendering</th></tr></thead><tbody><tr><td>Author</td><td>Ruizhi Shao1, Hongwen Zhang1, He Zhang2, Yanpei Cao3, Tao Yu1, and Yebin Liu1</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="http://www.liuyebin.com/dbfield/dbfield.html">DoubleField Project Page (liuyebin.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4546361709874012161&amp;noteId=2043418109076863744">DoubleField: Bridging the Neural Surface and Radiance Fields for High-fidelity Human Rendering. (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110163602.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬ä»‹ç»äº†ä¸€ç§ç»“åˆè¡¨é¢åœºå’Œäº®åº¦åœºä¼˜ç‚¹çš„é«˜ä¿çœŸäººä½“æ¸²æŸ“çš„æ–°è¡¨ç¤ºæ–¹æ³•â€”â€”DoubleFieldã€‚åœ¨ DoubleField ä¸­ï¼Œé€šè¿‡å…±äº«ç‰¹å¾åµŒå…¥å’Œè¡¨é¢å¼•å¯¼é‡‡æ ·ç­–ç•¥å°†è¡¨é¢åœºå’Œè¾å°„åœºå…³è”åœ¨ä¸€èµ·ã€‚è¿™æ ·ï¼ŒDoubleField å°±ä¸ºå‡ ä½•å’Œå¤–è§‚å»ºæ¨¡æä¾›äº†ä¸€ä¸ªè¿ç»­ä½†ä¸çº ç¼ çš„å­¦ä¹ ç©ºé—´ï¼Œæ”¯æŒå¿«é€Ÿè®­ç»ƒã€æ¨ç†å’Œå¾®è°ƒã€‚ä¸ºäº†å®ç°é«˜ä¿çœŸçš„è‡ªç”±è§†ç‚¹æ¸²æŸ“ï¼ŒDoubleField è¿›ä¸€æ­¥å¢å¼ºä»¥åˆ©ç”¨è¶…é«˜åˆ†è¾¨ç‡è¾“å…¥ï¼Œå…¶ä¸­å¼•å…¥äº†è§†å›¾åˆ°è§†å›¾è½¬æ¢å™¨å’Œè¿ç§»å­¦ä¹ æ–¹æ¡ˆï¼Œä»¥ä¾¿åœ¨åŸå§‹åˆ†è¾¨ç‡ä¸‹ä»ç¨€ç–è§†å›¾è¾“å…¥è¿›è¡Œæ›´æœ‰æ•ˆçš„å­¦ä¹ å’Œå¾®è°ƒã€‚é€šè¿‡å¯¹å¤šä¸ªæ•°æ®é›†çš„å®šé‡è¯„ä¼°å’Œå¯¹çœŸå®ç¨€ç–å¤šè§†ç‚¹ç³»ç»Ÿçš„å®šæ€§ç»“æœéªŒè¯äº†åŒåœºç®—æ³•çš„æœ‰æ•ˆæ€§ï¼Œæ˜¾ç¤ºäº†å…¶åœ¨çœŸå®è‡ªç”±è§†ç‚¹äººä½“æ¸²æŸ“æ–¹é¢çš„ä¼˜è¶Šèƒ½åŠ›ã€‚</p><h2 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h2><p>æœ€è¿‘ï¼Œè¡¨é¢åœº[28,25,2]å’Œè¾å°„åœº[26,48]ä½œä¸ºä¸€ç§æœ‰å‰é€”çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥ç‹¬ç«‹äºåˆ†è¾¨ç‡å’Œè¿ç»­çš„æ–¹å¼å»ºæ¨¡ 3D å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ã€‚å°½ç®¡åœ¨è¯¦ç»†çš„å‡ ä½•å½¢çŠ¶æ¢å¤[32,33,50,10]å’Œé€¼çœŸçš„çº¹ç†æ¢å¤å’Œæ¸²æŸ“[45,29]æ–¹é¢å–å¾—äº†é‡å¤§è¿›å±•ï¼Œä½†åœ¨è€ƒè™‘å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚çš„åŒæ—¶é‡å»ºæ—¶ï¼Œå®ƒä»¬çš„å±€é™æ€§å°±å˜å¾—æ˜æ˜¾äº†ã€‚<br>ç°æœ‰è¡¨é¢åœºå’Œè¾å°„åœºçš„å±€é™æ€§æºäºè¿ç»­æ€§å’Œè§£çº ç¼ æ€§ä¹‹é—´çš„æƒè¡¡ã€‚å…·ä½“è€Œè¨€ï¼š</p><ul><li>åŸºäºè¡¨é¢åœºçš„é‡å»ºæ–¹æ³•[32,27,20]é€šå¸¸åœ¨è¡¨é¢ä¸Šå­¦ä¹ çº¹ç†ï¼Œå¯¼è‡´é¢„æµ‹çº¹ç†çš„åˆ†å¸ƒé«˜åº¦é›†ä¸­åœ¨è¡¨é¢ä¸Šã€‚è¿™ç§ç‹­çª„çš„çº¹ç†åœºé€šå¸¸æ˜¯ä¸è¿ç»­çš„ï¼Œé˜»ç¢äº†å¯å¾®æ¸²æŸ“çš„ä¼˜åŒ–è¿‡ç¨‹ã€‚</li><li>äº®åº¦åœº[26,48]å¯ä»¥å­¦ä¹ è¿ç»­çº¹ç†åœºï¼Œä½†å…¶å‡ ä½•å½¢çŠ¶ä¸çº¹ç†çº ç¼ ï¼Œç¼ºä¹è¶³å¤Ÿçš„çº¦æŸã€‚è¿™ç§å‡ ä½•å¤–è§‚çº ç¼ ä¸ä»…ä¼šå¯¼è‡´å‡ ä½•æ¢å¤ä¸­çš„ä¸ä¸€è‡´å’Œä¼ªå½±ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¨€ç–çš„å¤šè§†å›¾è®¾ç½®ä¸‹ï¼Œè€Œä¸”ä¼šä½¿è¾å°„åœºçš„è®­ç»ƒå’Œæ¨æ–­éå¸¸è€—æ—¶[1]</li></ul><p>ä¸ºäº†å…‹æœç°æœ‰ç¥ç»åœºè¡¨ç¤ºçš„å±€é™æ€§ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ DoubleField æ¡†æ¶ï¼Œä»¥æ¡¥æ¥è¡¨é¢å’Œè¾å°„åœºï¼Œå¹¶ä¸ºå‡ ä½•å’Œå¤–è§‚å­¦ä¹ æä¾›è¿ç»­ä½†ä¸çº ç¼ çš„ç©ºé—´ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä»ç½‘ç»œç»“æ„å’Œé‡‡æ ·ç­–ç•¥æ–¹é¢å»ºç«‹äº†è¡¨é¢åœºå’Œè¾å°„åœºä¹‹é—´çš„å…³è”ã€‚<br>1)åœ¨æˆ‘ä»¬çš„ç½‘ç»œæ¶æ„ä¸­ï¼Œä¸­é—´ MLP å­¦ä¹ ä¸¤ä¸ªå­—æ®µçš„å…±äº«åŒåµŒå…¥ã€‚å…±äº«çš„å­¦ä¹ ç©ºé—´ä¿ƒè¿›äº†è¿™ä¸¤ä¸ªé¢†åŸŸçš„åå‘ä¼ æ’­æ¢¯åº¦çš„æ›´æ–°ï¼Œä»è€Œå¯ä»¥ä»¥è¿ç»­çš„æ–¹å¼å­¦ä¹ å‡ ä½•å’Œå¤–è§‚ã€‚<br>2)æå‡ºäº†ä¸€ç§æ›²é¢å¼•å¯¼çš„é‡‡æ ·ç­–ç•¥ï¼Œé¦–å…ˆå¯¹ç¨€ç–ç‚¹è¿›è¡Œé‡‡æ ·ä»¥ç¡®å®šç›¸äº¤è¡¨é¢ï¼Œç„¶åå¯¹è¡¨é¢å‘¨å›´çš„å¯†é›†ç‚¹è¿›è¡Œé‡‡æ ·ï¼Œåœ¨äº®åº¦åœºä¸­è¿›è¡Œä½“ç»˜åˆ¶ã€‚è¯¥ç­–ç•¥å¯¹è¾å°„åœºæ–½åŠ å‡ ä½•çº¦æŸï¼Œå°†å‡ ä½•åˆ†é‡ä»å¤–è§‚å»ºæ¨¡ä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸ä»…åŠ å¿«äº†å­¦ä¹ è¿‡ç¨‹ï¼Œè€Œä¸”æé«˜äº†è‡ªç”±è§†ç‚¹æ¸²æŸ“ç»“æœçš„è´¨é‡å’Œä¸€è‡´æ€§ã€‚</p><p>é‡‡ç”¨æ‰€æå‡ºçš„æ¶æ„å’Œé‡‡æ ·ç­–ç•¥ï¼ŒDoubleField ç»“åˆäº†ä¸¤ä¸ªé¢†åŸŸçš„ä¼˜ç‚¹ï¼Œè‡ªç„¶æ”¯æŒåŸºäºå¯å¾®æ¸²æŸ“çš„è‡ªç›‘ç£ä¿¡å·å¯¹æ–°æ•°æ®è¿›è¡Œæœ‰æ•ˆå¾®è°ƒã€‚</p><p>ä¸ºäº†å……åˆ†åˆ©ç”¨åŒåœºçš„æ½œåœ¨åŠ›é‡ï¼Œæˆ‘ä»¬åˆå‘å‰è¿ˆè¿›äº†ä¸€æ­¥ï¼Œåˆ©ç”¨è¶…é«˜åˆ†è¾¨ç‡è¾“å…¥ã€‚ä¸åªå­¦ä¹ ç²—ç³™çš„å›¾åƒç‰¹å¾ä¸åŒï¼ŒDoubleField è¿›ä¸€æ­¥å¢å¼ºäº† view-to-view è½¬æ¢å™¨ï¼Œç›´æ¥å°†åŸå§‹åˆ†è¾¨ç‡ä¸‹å›¾åƒçš„åŸå§‹ RGB å€¼ä½œä¸ºè¾“å…¥ã€‚è¿™æ˜¯ç”±äºè§‚å¯Ÿåˆ°è‡ªç”±è§†ç‚¹æ¸²æŸ“å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªè§†å›¾åˆ°è§†å›¾çš„é—®é¢˜ï¼Œå³åœ¨ç»™å®šç¨€ç–è§†å›¾å›¾åƒçš„æƒ…å†µä¸‹ç”Ÿæˆæ–°è§†å›¾å›¾åƒï¼Œè¿™è®©äººæƒ³èµ· NLP[31]ä¸­å…¸å‹ä»»åŠ¡çš„æ–‡æœ¬åˆ°æ–‡æœ¬é—®é¢˜ã€‚ä¸ºäº†æ›´æœ‰æ•ˆåœ°å¯¹é«˜ä¿çœŸå¤–è§‚è¿›è¡Œå»ºæ¨¡ï¼Œæˆ‘ä»¬å¯¹ç½‘ç»œ<strong>é‡‡ç”¨äº†è½¬å¯¼è¿ç§»å­¦ä¹ æ–¹æ¡ˆ</strong>ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çš„ç½‘ç»œé¦–å…ˆåœ¨ä½åˆ†è¾¨ç‡çš„é¢„è®­ç»ƒä»»åŠ¡ä¸Šè¿›è¡Œè®­ç»ƒï¼Œä»¥å­¦ä¹ ä¸€èˆ¬çš„å¤šè§†å›¾å…ˆéªŒï¼Œç„¶ååœ¨å¤„ç†è¶…é«˜åˆ†è¾¨ç‡è¾“å…¥æ—¶é€šè¿‡å¿«é€Ÿå¾®è°ƒè½¬ç§»å¹¶é‡‡ç”¨åˆ°é«˜ä¿çœŸåŸŸã€‚ç„¶è€Œï¼Œè¿™ä¸æ˜¯å¾®ä¸è¶³é“çš„ï¼Œå› ä¸ºåœ¨ç¨€ç–è§†å›¾å›¾åƒä¸Šè¿›è¡Œå¾®è°ƒå®¹æ˜“å‡ºç°è¿‡æ‹Ÿåˆã€‚ä¸ºäº†å…‹æœè¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å…¨é¢çš„å®éªŒæ¥è¡¡é‡ä¸åŒæ¨¡å—çš„å½±å“ï¼Œå¹¶ç»éªŒåœ°å¼•å…¥äº†ä¸€ç§è‡ªä¸‹è€Œä¸Šçš„å¾®è°ƒç­–ç•¥ï¼Œå¯ä»¥é¿å…è¿‡åº¦æ‹Ÿåˆå’Œå¿«é€Ÿæ”¶æ•›ã€‚ä»ç¨€ç–è§†å›¾è¾“å…¥è¿›è¡Œäººä½“é‡å»ºçš„å®éªŒç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å…·æœ‰æœ€å…ˆè¿›çš„æ€§èƒ½å’Œé«˜ä¿çœŸçš„æ¸²æŸ“è´¨é‡ã€‚è¡¨ 1 æ€»ç»“äº†æå‡ºçš„ DoubleField è¡¨ç¤ºæ³•ä¸ç°æœ‰è¡¨ç¤ºæ³•çš„æ¯”è¾ƒã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110164218.png" alt="image.png|666"></p><p>è´¡çŒ®ï¼š</p><ul><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„åŒåœºè¡¨ç¤ºï¼Œ<strong>ç»“åˆäº†è¡¨é¢åœºå’Œè¾å°„åœºçš„ä¼˜ç‚¹</strong>ã€‚æˆ‘ä»¬é€šè¿‡å…±äº«åŒåµŒå…¥å’Œè¡¨é¢å¼•å¯¼é‡‡æ ·ç­–ç•¥å°†è¿™ä¸¤ä¸ªé¢†åŸŸè¿æ¥èµ·æ¥ï¼Œä»¥ä¾¿ <strong>DoubleField å…·æœ‰è¿ç»­ä½†ä¸çº ç¼ çš„å‡ ä½•å’Œå¤–è§‚å»ºæ¨¡å­¦ä¹ ç©ºé—´</strong>ã€‚</li><li>æˆ‘ä»¬è¿›ä¸€æ­¥å¢å¼ºäº† DoubleFieldï¼Œé€šè¿‡<strong>å¼•å…¥ä¸€ä¸ªè§†å›¾åˆ°è§†å›¾çš„è½¬æ¢å™¨</strong>ï¼Œå°†è¶…é«˜åˆ†è¾¨ç‡å›¾åƒçš„åŸå§‹ RGB å€¼ä½œä¸ºè¾“å…¥ï¼Œä»è€Œæ”¯æŒé«˜ä¿çœŸæ¸²æŸ“ã€‚View-to-view è½¬æ¢å™¨å­¦ä¹ è¶…é«˜åˆ†è¾¨ç‡åŸŸä¸Šä»å·²çŸ¥è§†ç‚¹åˆ°æŸ¥è¯¢è§†ç‚¹çš„çº¹ç†æ˜ å°„ã€‚</li><li>æˆ‘ä»¬<strong>åˆ©ç”¨è¿ç§»å­¦ä¹ æ–¹æ¡ˆå’Œè‡ªä¸‹è€Œä¸Šçš„å¾®è°ƒç­–ç•¥</strong>æ¥æ›´æœ‰æ•ˆåœ°è®­ç»ƒæˆ‘ä»¬çš„ç½‘ç»œï¼Œä½¿å…¶å…·æœ‰å¿«é€Ÿçš„æ”¶æ•›é€Ÿåº¦ï¼ŒåŒæ—¶é¿å…äº†è¿‡æ‹Ÿåˆé—®é¢˜ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒDoubleField å¯ä»¥åœ¨åªç»™å‡ºç¨€ç–è§†å›¾è¾“å…¥çš„æƒ…å†µä¸‹äº§ç”Ÿé«˜ä¿çœŸçš„è‡ªç”±è§†å›¾æ¸²æŸ“ç»“æœï¼Œè¿™åœ¨ä¹‹å‰çš„å·¥ä½œä¸­è¯æ˜äº†æ˜¾è‘—çš„æ€§èƒ½æ”¹è¿›ã€‚</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>Neural implicit field<br>ä¸ä¼ ç»Ÿçš„ç½‘æ ¼ã€ä½“ã€ç‚¹äº‘ç­‰æ˜¾å¼è¡¨ç¤ºç›¸æ¯”ï¼Œç¥ç»éšå¼åœºé€šè¿‡ç¥ç»ç½‘ç»œå¯¹ä¸‰ç»´æ¨¡å‹è¿›è¡Œç¼–ç ï¼Œç›´æ¥å°†ä¸‰ç»´ä½ç½®æˆ–è§†ç‚¹æ˜ å°„ä¸ºç›¸åº”çš„</p><ul><li>å ç”¨å€¼â€”â€”Occupancy Networksã€Learning Implicit Fields for Generative Shape Modeling[25,2]</li><li>SDFâ€”â€”DeepSDF[28]</li><li>ä½“ç§¯â€”â€”Neural Volumes[21]</li><li>è¾å°„â€”â€”NeRF[26]ç­‰å±æ€§<ul><li>ç¥ç»éšå¼åœºä»¥ç©ºé—´åæ ‡ä¸ºæ¡ä»¶ï¼Œè€Œä¸æ˜¯ä»¥ç¦»æ•£ä½“ç´ æˆ–é¡¶ç‚¹ä¸ºæ¡ä»¶ï¼Œå…·æœ‰è¿ç»­ã€åˆ†è¾¨ç‡æ— å…³ã€æ›´çµæ´»çš„ç‰¹ç‚¹ï¼Œå¯å®ç°æ›´é«˜è´¨é‡çš„è¡¨é¢æ¢å¤å’Œé€¼çœŸçš„æ¸²æŸ“ã€‚</li></ul></li></ul><p>å¯¹äºå‡ ä½•é‡å»ºï¼ŒåŸºäºè¡¨é¢åœºçš„æ–¹æ³•[32,33,41]å¯ä»¥ä»ä¸€å¹…æˆ–å‡ å¹…å›¾åƒä¸­ç”Ÿæˆè¯¦ç»†çš„æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨å±€éƒ¨éšå¼åœº[14,1]å®ç°é«˜ä¿çœŸå‡ ä½•ã€‚å¯¹äºå›¾å½¢æ¸²æŸ“ï¼ŒåŸºäºéšå¼åŸŸçš„æ–¹æ³•é€‚åˆäºå¯å¾®æ¸²æŸ“[20,44,15,35,26]ã€‚å…¶ä¸­ï¼Œæœ€è¿‘æå‡ºçš„ NeRF[26]åœ¨æ–°é¢–è§†å›¾åˆæˆå’ŒçœŸå®æ„Ÿæ¸²æŸ“æ–¹é¢å–å¾—äº†é‡å¤§è¿›å±•ï¼Œæ¿€å‘äº†è®¸å¤šè¡ç”Ÿæ–¹æ³•[45,24,34,38,19,30]å’Œåº”ç”¨ã€‚</p><p>Multi-view human reconstruction<br>åŸºäº template çš„äººä½“çš„å¤šè§†è§’ç›¸æœºåœ¨ä¸åŒçš„å±‚æ¬¡ä¸Šè¿›è¡Œäº†å¤§é‡çš„ç ”ç©¶ï¼ŒåŒ…æ‹¬å½¢çŠ¶å’Œå§¿åŠ¿[12,18]ï¼Œä»¥åŠå¸ƒæ–™è¡¨é¢[4,37,8,7,42]ã€‚<strong>å—è¡¨ç¤ºèƒ½åŠ›çš„é™åˆ¶ï¼Œè¿™äº›æ–¹æ³•é€šå¸¸åœ¨å‡ ä½•å’Œå¤–è§‚æ¢å¤æ–¹é¢çš„ç»“æœè´¨é‡è¾ƒä½</strong>ã€‚æ­¤å¤–ï¼Œ<strong>è¿™äº›åŸºäºæ¨¡æ¿çš„ç®—æ³•ä¹Ÿéš¾ä»¥å¤„ç†æ‹“æ‰‘å˜åŒ–</strong>ã€‚<br><strong>å…¶ä»–</strong>é«˜è´¨é‡äººä½“é‡å»ºçš„æ–¹æ³•<strong>éœ€è¦æå…¶æ˜‚è´µçš„ä¾èµ–å…³ç³»</strong>ï¼Œå¦‚å¯†é›†è§†ç‚¹[16,40]ï¼Œç”šè‡³æ§åˆ¶ç…§æ˜[3,9]ã€‚</p><p>æœ€è¿‘ï¼Œéšå¼åŸŸ[13,49,32]ä½¿ç¨€ç–è§†å›¾çš„è¯¦ç»†å‡ ä½•é‡å»ºæˆä¸ºå¯èƒ½ã€‚åŸºäºç¨€ç– RGB-D ç›¸æœºï¼Œè¿˜å¯ä»¥å®ç°é«˜ä¿çœŸçš„å®æ—¶å‡ ä½•é‡å»ºã€‚æœ€è¿‘ï¼ŒPeng ç­‰äºº Neural Body[29]æå‡ºåœ¨é¢„å®šä¹‰æ¨¡æ¿(å³ SMPL[22])çš„æŒ‡å¯¼ä¸‹å­¦ä¹ ç¥ç»è¾å°„åœºï¼Œå¹¶åœ¨åŠ¨æ€åºåˆ—çš„æ–°è§†å›¾åˆæˆæ–¹é¢å–å¾—äº†ä»¤äººé¼“èˆçš„ç»“æœã€‚<strong>ç„¶è€Œï¼Œä»–ä»¬çš„æ–¹æ³•å‡è®¾äº†èº«ä½“æ¨¡æ¿çš„å‡†ç¡®ä¼°è®¡çš„å¯ç”¨æ€§</strong>ã€‚æ­¤å¤–ï¼Œä»ç¨€ç–è§†å›¾è¾“å…¥åŒæ—¶é‡å»ºé«˜ä¿çœŸå‡ ä½•å’Œå¤–è§‚å¯¹äºç°æœ‰çš„è§£å†³æ–¹æ¡ˆæ¥è¯´ä»ç„¶æ˜¯éå¸¸å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚<strong>æˆ‘ä»¬çš„å·¥ä½œå¼€è¾Ÿäº†é«˜ä¿çœŸäººä½“æ¸²æŸ“çš„æ–°é€”å¾„ï¼Œè€Œä¸éœ€è¦èº«ä½“æ¨¡æ¿</strong>ã€‚</p><p>Transformer<br>Transformer çš„æœ‰æ•ˆæ€§æœ€è¿‘åœ¨å¹¿æ³›çš„ NLP å’Œ CV é—®é¢˜ä¸­å¾—åˆ°äº†è¯æ˜[5,6,47]ã€‚<strong>æ³¨æ„æœºåˆ¶æ˜¯ Transformer çš„æ ¸å¿ƒ</strong>ï¼Œå·²è¢«å¤§é‡æ–‡çŒ®è¯æ˜å¯ä»¥æ•è·è¿œç¨‹ä¾èµ–[36,39]ã€‚å®ƒè·å¾—ç›¸å…³æ€§çš„èƒ½åŠ›å·²ç»åº”ç”¨äºè®¸å¤šåº”ç”¨ï¼Œå¦‚è§†è§‰é—®ç­”[17]ã€çº¹ç†ä¼ è¾“[43]ã€å¤šè§†å›¾ç«‹ä½“[23]å’Œæ‰‹éƒ¨å§¿åŠ¿ä¼°è®¡[11]ã€‚æ­¤å¤–ï¼ŒåŸºäº Transformer[5]çš„è¿ç§»å­¦ä¹ åœ¨è‡ªç„¶è¯­è¨€å¤„ç†æ–¹é¢å–å¾—äº†é‡å¤§è¿›å±•ï¼Œæ˜¾ç¤ºå‡ºå·¨å¤§çš„æ³›åŒ–æ½œåŠ›ã€‚<strong>åœ¨æˆ‘ä»¬çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å°†è‡ªç”±è§†ç‚¹å‘ˆç°é—®é¢˜è§†ä¸ºä¸€ä¸ªè§†å›¾åˆ°è§†å›¾çš„é—®é¢˜</strong>ï¼Œå¹¶åº”ç”¨è½¬æ¢å™¨æ¥æ•è·è·¨å¤šè§†å›¾è¾“å…¥çš„å¯¹åº”å…³ç³»ã€‚å—å‰äººå·¥ä½œçš„å¯å‘ï¼Œ<strong>æˆ‘ä»¬é‡‡ç”¨è¿ç§»å­¦ä¹ æ–¹æ¡ˆæ¥è§£å†³è¶…é«˜åˆ†è¾¨ç‡å›¾åƒçš„å­¦ä¹ é—®é¢˜</strong>ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Preliminary"><a href="#Preliminary" class="headerlink" title="Preliminary"></a>Preliminary</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110165440.png" alt="image.png|666"></p><p>(a)è™½ç„¶ <strong>PIFu</strong> æä¾›äº†ä¸€ç§ç›´è§‚çš„å‡ ä½•å’Œå¤–è§‚è”åˆå»ºæ¨¡çš„è§£å†³æ–¹æ¡ˆï¼Œä½†å®ƒå°†å‡ ä½•å’Œçº¹ç†éš”ç¦»å¼€æ¥ï¼Œä½¿å¾—çº¹ç†çš„å­¦ä¹ ç©ºé—´ä¸è¿ç»­ï¼Œé«˜åº¦é›†ä¸­åœ¨è¡¨é¢å‘¨å›´ï¼Œè¿™ç§ä¸è¿ç»­çš„çº¹ç†ç©ºé—´é˜»ç¢äº†åœ¨çº¹ç†ç›‘ç£ä¸‹ä½¿ç”¨å¯å¾®æ¸²æŸ“æŠ€æœ¯çš„ä¼˜åŒ–è¿‡ç¨‹</p><p>(b)NeRFï¼Œä¸ºäº†ä»ç¨€ç–çš„å¤šè§†å›¾è¾“å…¥ä¸­å®ç°æ–°é¢–çš„è§†å›¾åˆæˆï¼ŒPixelNeRF[45]æ‰©å±•äº† NeRFï¼Œä»¥ç±»ä¼¼äº PIFu çš„æ–¹å¼åˆ©ç”¨åƒç´ å¯¹é½çš„å›¾åƒç‰¹å¾ã€‚ç”±äºå¯†åº¦å’Œé¢œè‰²çš„çº ç¼ å»ºæ¨¡ä¸º NeRF çš„è®­ç»ƒå¸¦æ¥äº†å¾ˆé«˜çš„çµæ´»æ€§ï¼Œåœ¨ PixelNeRF ä¸­å­¦ä¹ åˆ°çš„è¡¨é¢åœ¨åªæœ‰ç¨€ç–è§†å›¾è¾“å…¥çš„æƒ…å†µä¸‹æ˜¯ä¸ä¸€è‡´çš„ï¼Œè¿™ä¼šå¯¼è‡´åœ¨æ–°è§†å›¾æ¸²æŸ“ä¸­å‡ºç°å¹½çµæˆ–æ¨¡ç³Šç»“æœç­‰ä¼ªå½±ã€‚æ­¤å¤–ï¼Œvanilla NeRF çš„é«˜åº¦çµæ´»æ€§ä½¿å¾—å…¶å¯¼æ•°è§£çš„è®­ç»ƒã€æ¨ç†å’Œå¾®è°ƒ[45,29]éå¸¸è€—æ—¶ã€‚</p><p>(c)The proposed DoubleField.<br>(d) DoubleField with the raw ultra-high-resolution inputs.</p><h2 id="DoubleField-Representation"><a href="#DoubleField-Representation" class="headerlink" title="DoubleField Representation"></a>DoubleField Representation</h2><p>åœ¨æˆ‘ä»¬çš„æ–¹æ³•ä¸­ï¼Œæå‡ºäº†ä¸€ç§æ–°çš„ç¥ç»åœºè¡¨ç¤º DoubleField æ¥æ¡¥æ¥è¡¨é¢åœºå’Œè¾å°„åœºã€‚å¦‚å›¾2(c)æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„ DoubleField å¯ä»¥è¢«è¡¨è¿°ä¸ºä¸€ä¸ªç›¸äº’éšå¼å‡½æ•° $f_{db}$ï¼Œç”±å¤šå±‚æ„ŸçŸ¥å™¨(MLP)è¡¨ç¤ºï¼Œä»¥æ‹Ÿåˆè¡¨é¢åœºå’Œäº®åº¦åœº: $f_{db}(\boldsymbol{x},\boldsymbol{d})=(s,\sigma,\boldsymbol{c}).$ã€‚ä¸¤ä¸ªåœºä¹‹é—´å…±äº«çš„ MLP ä»¥éšå¼æ–¹å¼å¯¹äº®åº¦åœºæ–½åŠ å‡ ä½•çº¦æŸï¼Œå¹¶é¼“åŠ±æ›´ä¸€è‡´çš„å¯†åº¦åˆ†å¸ƒä»¥è¿›è¡Œç¥ç»æ¸²æŸ“ã€‚</p><p><strong>ç½‘ç»œæ¶æ„</strong><br>DoubleField ç”±ä¸€ä¸ªç”¨äºåŒåµŒå…¥çš„å…±äº« MLP $E_{db}$ å’Œä¸¤ä¸ªç”¨äºå‡ ä½•å’Œçº¹ç†å»ºæ¨¡çš„ç‹¬ç«‹ MLP $E_g$ å’Œ $E_c$ ç»„æˆã€‚</p><p>Eq. 4</p><script type="math/tex; mode=display">\begin{gathered}\mathbf{e}_{db}=E_{db}(\gamma(x),\phi(\boldsymbol{x},\boldsymbol{I}),\boldsymbol{d}), \\\begin{aligned}(s,\sigma)=E_{g}(\mathbf{e}_{db}),\boldsymbol{c}=E_{c}(\mathbf{e}_{db}),\end{aligned} \\f_{db}(\boldsymbol{x},\boldsymbol{d}|\phi(\boldsymbol{x},\boldsymbol{I}))=(s,\sigma,\boldsymbol{c}), \end{gathered}</script><p>å…¶ä¸­Î³(x)æ˜¯ x çš„ä½ç½®ç¼–ç </p><p><strong>Sampling Strategy</strong><br>è¡¨é¢å¼•å¯¼é‡‡æ ·ç­–ç•¥é¦–å…ˆç¡®å®šè¡¨é¢åœºä¸­çš„äº¤ç‚¹ï¼Œç„¶ååœ¨äº¤ç‚¹å‘¨å›´è¿›è¡Œç»†ç²’åº¦é‡‡æ ·</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110170758.png" alt="image.png|333"></p><h3 id="DoubleField-with-Multi-view-Inputs"><a href="#DoubleField-with-Multi-view-Inputs" class="headerlink" title="DoubleField with Multi-view Inputs"></a>DoubleField with Multi-view Inputs</h3><p>å¯¹äºæŸ¥è¯¢çš„3D ç‚¹ xï¼Œå…ˆå¾—åˆ° x åœ¨æ¯ä¸ªå›¾åƒä¸Šçš„æŠ•å½±ç‰¹å¾ï¼Œç„¶åå°†å¤šè§†å›¾å›¾åƒä¸­æå–å‡ºæ¥çš„ pixel-aligned featuresï¼Œèåˆä¸º $\boldsymbol{\Phi}(\boldsymbol{x})$</p><p>Eq. 5<br>$\begin{gathered}\Phi^i=\oplus(\phi^i(\boldsymbol{x},\boldsymbol{I}^i),\boldsymbol{d}^i)\\\boldsymbol{\Phi}(\boldsymbol{x})=\psi(\Phi^1,â€¦,\Phi^n),\end{gathered}$</p><p>å…¶ä¸­âŠ•(â€¦) is a concatenation operatorï¼Œ$\psi(â€¦)$ æ˜¯ä¸€ç§ç‰¹å¾èåˆè¿ç®—ï¼Œå¦‚å¹³å‡æ± åŒ– PIFu[32]æˆ–è‡ªå…³æ³¨ <a href="https://readpaper.com/pdf-annotate/note?pdfId=4666395825761435649">DeepMultiCap</a>ã€‚å°†èåˆåçš„ features $\boldsymbol{\Phi}(\boldsymbol{x})$ ä½œä¸º DoubleField çš„æ¡ä»¶ç‰¹å¾æ¥é¢„æµ‹ç›¸åº”çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚: $f_{db}(\boldsymbol{x},\boldsymbol{d}|\boldsymbol{\Phi}(\boldsymbol{x}))=(s,\sigma,\boldsymbol{c}).$</p><h3 id="DoubleField-on-Ultra-high-resolution-Domain"><a href="#DoubleField-on-Ultra-high-resolution-Domain" class="headerlink" title="DoubleField on Ultra-high-resolution Domain"></a>DoubleField on Ultra-high-resolution Domain</h3><p>ç”±äºå¯¹ç²—ç³™å›¾åƒç‰¹å¾çš„å­¦ä¹ é™åˆ¶äº†æœ€ç»ˆæ¸²æŸ“ç»“æœçš„è´¨é‡ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å¢å¼º DoubleFieldï¼Œå°†åŸå§‹åˆ†è¾¨ç‡ä¸‹çš„å›¾åƒä½œä¸ºé™„åŠ æ¡ä»¶è¾“å…¥ $f_{db}(\boldsymbol{x},\boldsymbol{d}|\boldsymbol{\Phi}(\boldsymbol{x}),\boldsymbol{p}(\boldsymbol{x}))=(s,\sigma,\boldsymbol{c}),$ Eq. 6 å¼ä¸­ p(x)è¡¨ç¤º x æŠ•å½±å¤„çš„åƒç´  RGB å€¼ã€‚</p><p>è§†å›¾åˆ°è§†å›¾è½¬æ¢å™¨åœ¨å…¶ç¼–ç å™¨ä¸­èåˆåŸå§‹ RGB å€¼å’Œå¤šè§†å›¾ç‰¹å¾ï¼Œå¹¶é€šè¿‡å…¶è§£ç å™¨åœ¨æ–°è§†å›¾ç©ºé—´äº§ç”Ÿç‰¹å¾ã€‚æ­¤å¤–ï¼Œå°†åŸå§‹ RGB å€¼æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ä½œä¸ºé«˜é¢‘å¤–è§‚å˜åŒ–å­¦ä¹ çš„å½©è‰²ç¼–ç ã€‚<strong>è§†å›¾åˆ°è§†å›¾è½¬æ¢å™¨çš„å…³é”®ç»„ä»¶</strong>å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul><li>Colored Encodingï¼šç±»ä¼¼äºä½ç½®ç¼–ç [36,26]ï¼Œä½¿ç”¨ä¸åŒé¢‘ç‡[26]çš„æ­£å¼¦å’Œä½™å¼¦å‡½æ•°ï¼Œå°†è¶…é«˜åˆ†è¾¨ç‡å›¾åƒ I çš„æ¯ä¸ªåƒç´ ä¸Šçš„åŸå§‹ RGB å€¼ p åµŒå…¥ä¸ºå½©è‰²ç¼–ç Î³(p)ã€‚è¿™æ ·ï¼Œæ¯ä¸ªå•ç‹¬çš„ RGB å€¼è¢«æ˜ å°„åˆ°æ›´é«˜ç»´åº¦çš„ç©ºé—´ï¼Œæ˜¾è‘—æé«˜äº†æ€§èƒ½ï¼ŒåŠ å¿«äº†æ”¶æ•›é€Ÿåº¦ã€‚è¿™ä¸ä¹‹å‰å…³äºç¥ç»åœºè¡¨å¾[26]å’Œ NLP[36]çš„å·¥ä½œæ˜¯ä¸€è‡´çš„ã€‚</li><li>Encoderï¼šåœ¨æˆ‘ä»¬çš„è§†å›¾åˆ°è§†å›¾è½¬æ¢å™¨ä¸­ï¼Œåœ¨ç¼–ç å™¨ä¸­ä½¿ç”¨äº†ä¸€ä¸ªâ€œå®Œå…¨å¯è§â€çš„æ³¨æ„æ©ç ï¼Œè¿™é¼“åŠ±æ¨¡å‹é€šè¿‡è‡ªæ³¨æ„æœºåˆ¶å…³æ³¨ä¸æ–°è§†å›¾ç›¸å…³çš„æ¯ä¸ªè§†å›¾ã€‚ç¼–ç å™¨ä½œä¸º Eq. 5ä¸­çš„ç‰¹å¾èåˆæ“ä½œÏˆæ¥è·å¾—èåˆåçš„ featuresÎ¦ï¼Œè¯¥èåˆåçš„ featuresÎ¦å°†è¢«é¦ˆå…¥åŒ MLP $E_{db}$ ä¸­ï¼Œç”¨äºç”ŸæˆåŒåµŒå…¥ $E_{db}(\gamma(\boldsymbol{x}),\boldsymbol{\Phi}).$ã€‚</li><li>Decoderï¼šæˆ‘ä»¬çš„è§†å›¾åˆ°è§†å›¾è½¬æ¢å™¨çš„è§£ç å™¨å°†åœ¨ç¨€ç–è§†å›¾è¾“å…¥ä¸Šå­¦ä¹ åˆ°çš„ç‰¹å¾æ˜ å°„åˆ°æ–°è§†ç‚¹çš„ç‰¹å¾ã€‚å…·ä½“æ¥è¯´ï¼Œè§£ç å™¨ä»¥åŒåµŒå…¥ $\mathbf{e}_{db}$ã€æŸ¥è¯¢è§‚çœ‹æ–¹å‘ dã€æŸ¥è¯¢ç‚¹ x çš„ä½ç½®ç¼–ç ã€RGB å€¼ p(x)çš„å½©è‰²ç¼–ç ä½œä¸ºè¾“å…¥ï¼Œå¾—åˆ°çº¹ç†åµŒå…¥ $\mathbf{e}_{c}:$$\boldsymbol{e}_c=D_{v2v}(\boldsymbol{e}_{db},\gamma(\boldsymbol{p}(\boldsymbol{x}))|\boldsymbol{d}).$</li></ul><p>æœ€åï¼Œé€šè¿‡çº¹ç† MLP $E_{c}$ é¢„æµ‹ç‚¹ x å¤„çš„é«˜åˆ†è¾¨ç‡é¢œè‰²ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110163602.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110172930.png" alt="image.png|666"></p><h2 id="Learning-High-fidelity-Human-Rendering"><a href="#Learning-High-fidelity-Human-Rendering" class="headerlink" title="Learning High-fidelity Human Rendering"></a>Learning High-fidelity Human Rendering</h2><p>åœ¨ç¨€ç–è§†å›¾äººä½“å›¾åƒçš„å‡ ä½•å’Œå¤–è§‚é‡å»ºä¸ŠéªŒè¯äº†åŒåœºç®—æ³•çš„æœ‰æ•ˆæ€§ã€‚å¦‚å›¾4æ‰€ç¤ºï¼Œç»™å®šç¨€ç–çš„å¤šè§†å›¾å›¾åƒå’Œç›¸åº”çš„å°„çº¿æ–¹å‘ï¼Œæˆ‘ä»¬çš„è§†ç‚¹åˆ°è§†ç‚¹è½¬æ¢å™¨çš„ç¼–ç å™¨ä½œä¸ºæ“ä½œÏˆæ¥èåˆæ¥è‡ªä¸åŒè§†ç‚¹çš„ä½åˆ†è¾¨ç‡å›¾åƒç‰¹å¾ï¼Œå¹¶ä½¿ç”¨Eq. 5è¾“å‡ºèåˆåçš„ç‰¹å¾ã€‚è¯¥æ–¹æ³•ä»¥èåˆåçš„ç‰¹å¾ä¸ºè¾“å…¥ï¼Œç”ŸæˆåŒåµŒå…¥ç‰¹å¾ï¼Œå¹¶åˆ©ç”¨å‡ ä½•MLPé¢„æµ‹è¡¨é¢åœºså’Œå¯†åº¦å€¼Ïƒã€‚å¯¹äºé«˜ä¿çœŸçº¹ç†çš„é¢„æµ‹ï¼Œè§£ç å™¨ä»¥è¶…é«˜åˆ†è¾¨ç‡å›¾åƒçš„åŒåµŒå…¥$e_{db}$ã€æŸ¥è¯¢è§‚çœ‹æ–¹å‘då’Œå½©è‰²ç¼–ç p(x)ä¸ºè¾“å…¥ï¼Œç”Ÿæˆç”¨äºé¢„æµ‹é¢œè‰²å€¼cçš„çº¹ç†åµŒå…¥$e_{c}$ã€‚</p><p>è™½ç„¶æˆ‘ä»¬çš„ç½‘ç»œå¯ä»¥ç›´æ¥åœ¨è¶…é«˜åˆ†è¾¨ç‡å›¾åƒä¸Šè¿›è¡Œè®­ç»ƒï¼Œä½†æ˜¯åœ¨å¦‚æ­¤é«˜ä¿çœŸåº¦çš„åŸŸä¸Šï¼Œ<strong>æ˜‚è´µçš„è®­ç»ƒæ—¶é—´å¼€é”€</strong>ä»ç„¶æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ä¸ºäº†æ›´å¯è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œ<strong>æˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§ä¼ å¯¼è¿ç§»å­¦ä¹ æ–¹æ¡ˆ</strong>ï¼Œ<strong>å°†é—®é¢˜åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ: ä½åˆ†è¾¨ç‡é¢„è®­ç»ƒå’Œé«˜ä¿çœŸå¾®è°ƒ</strong>ã€‚<br>åœ¨é¢„è®­ç»ƒé˜¶æ®µï¼Œç½‘ç»œå­¦ä¹ ä¸‹é‡‡æ ·å›¾åƒçš„ä¸¤ä¸ªç²—å…ˆéªŒ:<br>1)äººä½“çš„ä¸€èˆ¬å‡ ä½•å’Œå¤–è§‚å…ˆéªŒ<br>2)å¤šè§†å›¾ç‰¹å¾ä¸åŸå§‹RGBå€¼çš„èåˆå…ˆéªŒ</p><p>å…·ä½“æ¥è¯´ï¼Œä¸ºäº†è®­ç»ƒæˆ‘ä»¬çš„æ¨¡å‹ï¼Œæˆ‘ä»¬ä»3Dæ‰«ææ•°æ®é›†(å¦‚Twindom1)ä¸­æ”¶é›†äººä½“æ¨¡å‹ï¼Œå¹¶æ¸²æŸ“512 Ã— 512å¤§å°çš„ä½åˆ†è¾¨ç‡å›¾åƒã€‚åœ¨å¾®è°ƒé˜¶æ®µï¼Œç½‘ç»œä»¥ç‰¹å®šäººç±»ç¨€ç–å¤šè§†å›¾çš„è¶…é«˜åˆ†è¾¨ç‡å›¾åƒä½œä¸ºè¾“å…¥ï¼Œåˆ©ç”¨å¤šè§†å›¾è‡ªç›‘ç£è¿›è¡Œå¾®è°ƒã€‚è¿™æ ·ï¼Œåœ¨ä½åˆ†è¾¨ç‡å›¾åƒä¸Šé¢„è®­ç»ƒçš„æ¨¡å‹å°±å¯ä»¥é€‚åº”è¶…é«˜åˆ†è¾¨ç‡é¢†åŸŸã€‚å…³äºè¿ç§»å­¦ä¹ æ–¹æ¡ˆçš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨æ‰‹å†Œä¸­æ‰¾åˆ°ã€‚</p><h1 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h1><p>æˆ‘ä»¬åœ¨å‡ ä¸ªæ•°æ®é›†ä¸Šè¯„ä¼°äº†æˆ‘ä»¬çš„DoubleFieldè¡¨ç¤ºå’Œè§†å›¾åˆ°è§†å›¾è½¬æ¢å™¨:</p><ol><li>Twindom datasetæˆ‘ä»¬å°†1700ä¸ªäººä½“æ¨¡å‹åˆ†æˆ1500ä¸ªç”¨äºè®­ç»ƒçš„æ¨¡å‹å’Œ200ä¸ªç”¨äºè¯„ä¼°çš„æ¨¡å‹ã€‚</li><li>THuman2.0 dataset[46]ï¼Œè¿™æ˜¯ä¸€ä¸ªç”±500ä¸ªé«˜è´¨é‡äººä½“æ¨¡å‹ç»„æˆçš„å…¬å¼€æ•°æ®é›†ã€‚</li></ol><p>æˆ‘ä»¬é¦–å…ˆä»è®­ç»ƒã€æ¨ç†å’Œå¾®è°ƒæ–¹é¢éªŒè¯äº†æ‰€æå‡ºçš„DoubleFieldã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œç»™å‡ºäº†ä¸åŒè°ƒæ•´ç­–ç•¥çš„å®éªŒç»“æœã€‚æœ€åï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆä¸å…ˆå‰æœ€å…ˆè¿›çš„æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110173540.png" alt="image.png|666"></p><h1 id="Discussion-amp-Future-Works"><a href="#Discussion-amp-Future-Works" class="headerlink" title="Discussion &amp; Future Works"></a>Discussion &amp; Future Works</h1><p>æˆ‘ä»¬æå‡ºäº†åŒåœºè¡¨ç¤ºï¼Œä»¥ç»“åˆå‡ ä½•å’Œå¤–è§‚åœºçš„ä¼˜ç‚¹ï¼Œä»¥å®ç°é«˜ä¿çœŸçš„äººä½“æ¸²æŸ“ã€‚è™½ç„¶æˆ‘ä»¬çš„æ–¹æ³•åœ¨ç¨€ç–è§†å›¾è¶…é«˜åˆ†è¾¨ç‡è¾“å…¥çš„é‡å»ºä¸Šå–å¾—äº†ä¼˜å¼‚çš„æ€§èƒ½ï¼Œ<strong>ä½†é«˜è´¨é‡çš„3Däººä½“æ¨¡å‹ä»ç„¶æ˜¯å­¦ä¹ å‡ ä½•ä¹‹å‰å¿…ä¸å¯å°‘çš„</strong>ã€‚æ­¤å¤–ï¼Œå¯¹å‡ ä½•ä¼˜åŒ–å¾®è°ƒçš„åŠªåŠ›æ˜¯æœ‰é™çš„ï¼Œè¿™é˜»ç¢äº†æˆ‘ä»¬çš„æ–¹æ³•æ¥å¤„ç†æå…·æŒ‘æˆ˜æ€§çš„å§¿åŠ¿ã€‚<br>åœ¨æˆ‘ä»¬çš„å·¥ä½œä¸­ï¼Œä¸¤ä¸ªé¢†åŸŸä¹‹é—´çš„å…³è”æ˜¯ä»¥éšå¼çš„æ–¹å¼å»ºç«‹çš„ã€‚<strong>ä¸€ä¸ªæ›´åŠ ç»Ÿä¸€å’Œæ˜ç¡®çš„è¡¨è¿°ä»ç„¶å€¼å¾—æ¢ç´¢</strong>ã€‚æ­¤å¤–ï¼Œæå‡ºçš„è§†å›¾åˆ°è§†å›¾è½¬æ¢å™¨å’Œè¿ç§»å­¦ä¹ æ–¹æ¡ˆä¸ºé«˜ä¿çœŸæ¸²æŸ“æä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿå¯¹è‡ªç”±è§†ç‚¹äººä½“æ¸²æŸ“é¢†åŸŸçš„åç»­å·¥ä½œæœ‰æ‰€å¯å‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> NeRF </tag>
            
            <tag> ClothedHumans </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HaP</title>
      <link href="/3DReconstruction/Single-view/Hybrid%20Methods/HaP/"/>
      <url>/3DReconstruction/Single-view/Hybrid%20Methods/HaP/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Human as Points: Explicit Point-based 3D Human Reconstruction from Single-view RGB Images</th></tr></thead><tbody><tr><td>Author</td><td>Yingzhi Tang, Qijian Zhang, Junhui Hou, and Yebin Liu</td></tr><tr><td>Conf/Jour</td><td>arXiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/yztang4/HaP">yztang4/HaP (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=2039003253707810304&amp;noteId=2039256760006808832">Human as Pointsâ€”â€” Explicit Point-based 3D Human Reconstruction from Single-view RGB Images.pdf (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107193647.png" alt="image.png|666"></p><p>æ·±åº¦ä¼°è®¡+SMPL ä¼°è®¡+Diffusion Model ç²¾ç»†åŒ–(PointNet++)</p><p>ç¼ºé™·ï¼šä¾èµ–äºæ·±åº¦ä¼°è®¡æ–¹æ³•å’Œ SMPL ä¼°è®¡æ–¹æ³•çš„ç²¾åº¦<br>ä¸ºäº†ä¿æŠ¤éšç§ä¸å¯¹äººè„¸è¿›è¡Œé‡å»º</p><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>å•è§†å›¾äººä½“é‡æ„ç ”ç©¶çš„æœ€æ–°è¶‹åŠ¿æ˜¯å­¦ä¹ å—å¤–æ˜¾å½¢ä½“å…ˆéªŒçº¦æŸçš„æ·±å±‚éšå¼å‡½æ•°ã€‚å°½ç®¡ä¸ä¼ ç»Ÿçš„å¤„ç†ç®¡é“ç›¸æ¯”ï¼Œç°æœ‰çš„å­¦ä¹ æ–¹æ³•æœ‰äº†æ˜¾è‘—çš„æ€§èƒ½æ”¹è¿›ï¼Œä½†åœ¨çµæ´»æ€§ã€æ³›åŒ–æ€§ã€é²æ£’æ€§å’Œ/æˆ–è¡¨ç¤ºèƒ½åŠ›æ–¹é¢ï¼Œç°æœ‰çš„å­¦ä¹ æ–¹æ³•ä»ç„¶è¡¨ç°å‡ºä¸åŒæ–¹é¢çš„å±€é™æ€§ã€‚ä¸ºäº†å…¨é¢è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæœ¬æ–‡ç ”ç©¶äº†ä¸€ç§<strong>åŸºäºç‚¹çš„æ˜¾å¼äººä½“é‡å»ºæ¡†æ¶ HaP</strong>ï¼Œè¯¥æ¡†æ¶é‡‡ç”¨ç‚¹äº‘ä½œä¸ºç›®æ ‡å‡ ä½•ç»“æ„çš„ä¸­é—´è¡¨ç¤ºã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œæˆ‘ä»¬çš„æ–¹æ³•çš„ç‰¹ç‚¹æ˜¯<strong>åœ¨3D å‡ ä½•ç©ºé—´ä¸­è¿›è¡Œå®Œå…¨æ˜¾å¼çš„ç‚¹äº‘ä¼°è®¡ï¼Œæ“ä½œï¼Œç”Ÿæˆå’Œç»†åŒ–</strong>ï¼Œè€Œä¸æ˜¯éšå¼çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå¯èƒ½æ˜¯æ¨¡ç³Šçš„å’Œä¸å¤ªå¯æ§çš„ã€‚æ•´ä¸ªå·¥ä½œæµç¨‹æ˜¯ç²¾å¿ƒç»„ç»‡çš„ï¼Œå¹¶ä¸“é—¨è®¾è®¡äº†ç›¸åº”çš„ä¸“ä¸šå­¦ä¹ ç»„ä»¶å’Œå¤„ç†ç¨‹åºã€‚å¹¿æ³›çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ¡†æ¶æ¯”å½“å‰æœ€å…ˆè¿›çš„æ–¹æ³•å®ç°äº†20%åˆ°40%çš„å®šé‡æ€§èƒ½æ”¹è¿›ï¼Œå¹¶è·å¾—äº†æ›´å¥½çš„å®šæ€§ç»“æœã€‚æˆ‘ä»¬æœ‰å¸Œæœ›çš„ç»“æœå¯èƒ½è¡¨æ˜èŒƒå¼å›æ»šåˆ°å®Œå…¨æ˜¾å¼å’Œä»¥å‡ ä½•ä¸ºä¸­å¿ƒçš„ç®—æ³•è®¾è®¡ï¼Œè¿™ä½¿å¾—èƒ½å¤Ÿåˆ©ç”¨å„ç§å¼ºå¤§çš„ç‚¹äº‘å»ºæ¨¡æ¶æ„å’Œå¤„ç†æŠ€æœ¯ã€‚æˆ‘ä»¬å°†åœ¨ <a href="https://github.com/yztang4/HaP">https://github.com/yztang4/HaP</a> ä¸Šå…¬å¼€æˆ‘ä»¬çš„ä»£ç å’Œæ•°æ®ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åŸºäºå›¾åƒçš„äººä½“é‡å»ºï¼š</p><ul><li>å•è§†å›¾ï¼šPIFuã€ICON</li><li>å¤šè§†å›¾ï¼š<strong>DoubleField</strong>ã€<strong>DiffuStereo</strong></li></ul><p>å·²æœ‰å¤§é‡åŸºäºä¼˜åŒ–çš„å’ŒåŸºäºå­¦ä¹ çš„æ–¹æ³•è¢«æå‡ºç”¨äº<strong>å•è§†å›¾äººä½“ä¼°è®¡</strong></p><ul><li>åŸºäºä¼˜åŒ–ï¼š<ul><li>Detailed Human Shape and Pose from Images</li><li>Keep it SMPL</li><li>Estimating human shape and pose from a single image</li><li>Expressive Body Captureï¼ši.e. <strong>SMPL-X</strong></li><li>Parametric reshaping of human bodies in images</li></ul></li><li>åŸºäºå­¦ä¹ ï¼š<ul><li>Hierarchical Kinematic Human Mesh Recovery</li><li>Coherent Reconstruction of Multiple Humans From a Single Image</li><li>End-to-end Recovery of Human Shape and Pose</li><li>Learning to Reconstruct 3D Human Pose and Shape via Model-Fitting in the Loop</li></ul></li></ul><p>è¿‘å¹´æ¥ï¼Œç”±äºæ·±å±‚éšå¼å‡½æ•°(<em>Learning Implicit Fields for Generative Shape Modelingï¼ŒOccupancy Networkï¼ŒDeepSDF</em>)åœ¨è¡¨ç¤ºå…·æœ‰ç²¾ç»†å‡ ä½•ç»†èŠ‚çš„æ— çº¦æŸæ‹“æ‰‘ä¸‰ç»´å½¢çŠ¶æ–¹é¢çš„æ•ˆç‡å’Œçµæ´»æ€§ï¼Œåƒç´ å¯¹é½çš„éšå¼é‡å»ºç®¡é“ PIFu, PIFuHD å› å…¶èƒ½å¤Ÿæ¢å¤ç©¿è‘—äººä½“çš„é«˜ä¿çœŸå‡ ä½•å½¢çŠ¶è€Œæˆä¸ºä¸»å¯¼çš„å¤„ç†èŒƒå¼ã€‚<strong>ç„¶è€Œï¼Œç”±äºç¼ºä¹äººä½“å…ˆéªŒï¼Œè¿™äº›æ–¹æ³•é€šå¸¸ä¼šè¿‡åº¦æ‹Ÿåˆæœ‰é™çš„è®­ç»ƒæ•°æ®ï¼Œåœ¨é¢å¯¹çœ‹ä¸è§çš„å§¿åŠ¿/æœè£…æ—¶ï¼Œä¼šäº§ç”Ÿé€€åŒ–çš„èº«ä½“ç»“æ„å’Œæ–­è‚¢</strong>ã€‚</p><p>ä¸ºäº†å…‹æœè¿™äº›é™åˆ¶ï¼Œæœ€è¿‘çš„è¶‹åŠ¿ ICONï¼ŒPaMIR æ˜¯é€šè¿‡å¼•å…¥å‚æ•°åŒ–äººä½“æ¨¡å‹(å¦‚ SMPL[30]ï¼ŒSMPL-X[41])ä½œä¸ºæ˜¾å¼å½¢çŠ¶å…ˆéªŒæ¥çº¦æŸå…¨éšå¼å­¦ä¹ è¿‡ç¨‹ã€‚<strong>ç„¶è€Œï¼Œè¿™ç§éšå¼é‡æ„å’Œæ˜¾å¼æ­£åˆ™åŒ–çš„ç»“åˆä¹Ÿä¼šå¸¦æ¥æ–°çš„é—®é¢˜</strong></p><p>é€šå¸¸ï¼Œä»è¾“å…¥å›¾åƒåƒç´ æ¨æ–­çš„ç‰¹å¾æˆ–ä¸­é—´ç»“æœä¸ä¼°è®¡çš„å‚æ•°æ¨¡å‹çš„<strong>èåˆä¼šå¯¼è‡´å‡ ä½•è¿‡å¹³æ»‘</strong>ï¼Œ<strong>ä»è€Œå‰Šå¼±è¡¨é¢ç»†èŠ‚</strong>ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ‰€é€‰æ‹©çš„å‚æ•°åŒ–æ¨¡æ¿æ¨¡å‹ä¸ç›®æ ‡äººä½“å½¢çŠ¶(ç‰¹åˆ«æ˜¯å®½æ¾çš„æœè£…æˆ–å¤æ‚çš„é…é¥°)ä¹‹é—´çš„<strong>æ‹“æ‰‘ä¸ä¸€è‡´é€šå¸¸ä¼šå¯¼è‡´è¿‡åº¦çº¦æŸæ•ˆæœ</strong>ã€‚å°½ç®¡æœ€è¿‘ ECON[58]åŠªåŠ›æ¢ç´¢æ›´å¥½çš„æ–¹æ³•æ¥å…±åŒåˆ©ç”¨éšå¼åŸŸçš„è¡¨ç¤ºèƒ½åŠ›å’Œæ˜¾å¼ä½“æ¨¡å‹çš„é²æ£’æ€§ï¼Œä½†å‚æ•°ä½“æ¨¡å‹ SMPL-X[41]å’Œæ³•çº¿æ˜ å°„çš„ä¸æ»¡æ„ä¼°è®¡ä»ç„¶ä¼šä¸¥é‡é™ä½é‡å»ºè´¨é‡ã€‚</p><p><strong>åœ¨å®è·µä¸­ï¼Œåœ¨è¯„ä»·äººä½“å…¨å†é€ ç®¡é“çš„æ½œåŠ›å’Œä¼˜è¶Šæ€§æ—¶ï¼Œæœ‰å‡ ä¸ªæ–¹é¢çš„å…³é”®è€ƒè™‘å› ç´ </strong>:<br>1)çµæ´»æ€§ï¼Œå¯ä»¥å¯¹ä»»æ„ç©¿ç€çš„äººä½“å½¢çŠ¶è¿›è¡Œæ— çº¦æŸæ‹“æ‰‘å»ºæ¨¡ã€‚<br>2)å¯¹çœ‹ä¸è§çš„æ•°æ®åˆ†å¸ƒ(ä¾‹å¦‚ï¼Œæ–°å§¿åŠ¿å’Œè¡£æœ)çš„æ³›åŒ–æ€§ã€‚<br>3)é²æ£’æ€§ï¼Œé¿å…éäººç±»é‡å»ºçš„ç»“æœ(ä¾‹å¦‚ï¼Œä¸è‡ªç„¶çš„å§¿åŠ¿ï¼Œé€€åŒ–çš„èº«ä½“ç»“æ„ï¼Œæ–­è‚¢)ã€‚<br>4)åœ¨ä¸‰ç»´ç©ºé—´ä¸­è¡¨ç°å’Œæ•æ‰è¡¨é¢å‡ ä½•ç»†èŠ‚çš„èƒ½åŠ›ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾å¼€å‘ä¸€ç§åŸºäºå­¦ä¹ çš„å•è§†å›¾äººä½“é‡å»ºæ¡†æ¶ï¼Œè¯¥æ¡†æ¶åŒæ—¶æ»¡è¶³ä¸Šè¿°å…³é”®è¦æ±‚ï¼Œä¸ä»¥å‰çš„æ–¹æ³•ç›¸æ¯”ï¼Œå®ƒæ˜¯ä¸€ç§æ›´æœ‰å‰é€”çš„å¤„ç†èŒƒå¼ï¼Œå…·æœ‰æ›´å¤§çš„æ½œåŠ›ã€‚åœ¨æ¶æ„ä¸Šï¼Œæˆ‘ä»¬æ„å»ºäº† HaPï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œå…¨æ˜¾å¼çš„åŸºäºç‚¹çš„å»ºæ¨¡ç®¡é“ï¼Œå…¶ç‰¹ç‚¹æ˜¯åœ¨æ˜¾å¼ 3D å‡ ä½•ç©ºé—´ä¸­ç›´æ¥è¿›è¡Œç‚¹äº‘ä¼°è®¡(æ¥è‡ª 2D å›¾åƒå¹³é¢)ï¼Œæ“ä½œï¼Œç”Ÿæˆå’Œç»†åŒ–ã€‚<br>æ›´å…·ä½“åœ°è¯´ï¼Œç»™å®šè¾“å…¥çš„ RGB å›¾åƒï¼Œæˆ‘ä»¬çš„è¿‡ç¨‹ä»æ·±åº¦ä¼°è®¡å¼€å§‹ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ¨æ–­å‡ºä»£è¡¨é«˜ä¿çœŸå¯è§†å‡ ä½•å½¢çŠ¶çš„éƒ¨åˆ† 3D ç‚¹äº‘ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜ä»äºŒç»´å›¾åƒç©ºé—´ä¼°è®¡ SMPL æ¨¡å‹ï¼Œä»¥æä¾›ç¼ºå¤±çš„äººä½“ä¿¡æ¯ã€‚åœ¨ä¼°è®¡æ·±åº¦å›¾åŸºæœ¬å‡†ç¡®çš„å‰æä¸‹ï¼Œé€šè¿‡ä¸“é—¨çš„ SMPL æ ¡æ­£ç¨‹åºï¼Œè¿›ä¸€æ­¥åˆ©ç”¨ä¹‹å‰æ·±åº¦æ¨æ–­çš„éƒ¨åˆ† 3D ç‚¹è¿›è¡Œä½å§¿æ ¡æ­£ï¼Œ<strong>ä½¿ä¼°è®¡çš„ SMPL æ¨¡å‹ä¸ z è½´æ–¹å‘çš„ç‚¹é…å‡†è‰¯å¥½</strong>ã€‚å°†æ·±åº¦æ¨æ–­çš„éƒ¨åˆ†ç‚¹çš„ä¸‰ç»´ä¿¡æ¯ä¸ä¼°è®¡çš„ SMPL æ¨¡å‹ç›´æ¥åˆå¹¶ï¼Œå¯ä»¥ç²—ç•¥åœ°å½¢æˆå…·æœ‰ä¸°å¯Œçº¹ç†å’Œçš±çº¹ç»†èŠ‚çš„å®Œæ•´çš„ä¸‰ç»´äººä½“ç‚¹äº‘;<strong>ç„¶è€Œï¼Œéƒ¨åˆ†ç‚¹ä¸ä¼°è®¡çš„ SMPL æ¨¡å‹ä¹‹é—´ä»ç„¶å­˜åœ¨æ˜æ˜¾çš„å·®è·</strong>ï¼Œè¿™ä½¿å¾—å®ƒä»¬ä¸è‡ªç„¶å¹¶ä¸”å¯èƒ½å­˜åœ¨é—®é¢˜ã€‚<br>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å®šåˆ¶äº†ä¸€ä¸ªæ‰©æ•£å¼çš„ç‚¹äº‘ç”Ÿæˆæ¡†æ¶ï¼Œåœ¨ç²—åˆå¹¶ä¸‰ç»´äººä½“ç‚¹çš„åŸºç¡€ä¸Šå­¦ä¹ çœŸå®äººä½“çš„æ½œåœ¨ç©ºé—´åˆ†å¸ƒï¼Œç›®çš„æ˜¯ç”Ÿæˆä¸æ·±åº¦æ¨å¯¼çš„éƒ¨åˆ†ä¸‰ç»´ç‚¹å’Œ SMPL æ¨¡å‹ç›¸ä¸€è‡´çš„æœè£…å’Œå§¿æ€ä¿¡æ¯çš„ä¸‰ç»´äººä½“ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç»†åŒ–é˜¶æ®µï¼ŒåŒ…æ‹¬åŸºäºå­¦ä¹ çš„æµé‡ä¼°è®¡å’Œç®€å•æœ‰æ•ˆçš„æ·±åº¦æ›¿æ¢ç­–ç•¥ï¼Œä»¥è¿›ä¸€æ­¥æé«˜å‡ ä½•è´¨é‡ã€‚æœ€åï¼Œä½¿ç”¨å…¸å‹çš„æ›²é¢é‡å»ºæ–¹æ³•ï¼Œå¦‚ç­›é€‰æ³Šæ¾æ›²é¢é‡å»º[23]ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä»å¾—åˆ°çš„ç‚¹äº‘ä¸­è·å¾—é«˜è´¨é‡çš„ç½‘æ ¼æ¨¡å‹ã€‚</p><ul><li>æˆ‘ä»¬é‡‡ç”¨ç‚¹äº‘ä½œä¸ºä¸­é—´è¡¨ç¤ºï¼Œå®ƒå¯¹äºå»ºæ¨¡ä»»æ„æ‹“æ‰‘å‡ ä½•ç»“æ„æ˜¯<strong>çµæ´»çš„</strong></li><li>ä»äºŒç»´å›¾åƒå¹³é¢æ¨æ–­ç²—ç³™ä¸‰ç»´å‡ ä½•ä¿¡æ¯çš„è¿‡ç¨‹åŒ…æ‹¬<strong>äºŒç»´æ·±åº¦ä¼°è®¡</strong>å’Œ<strong>SMPL ä¼°è®¡</strong>ã€‚å‰è€…ä½œä¸ºä¸€é¡¹ç ”ç©¶ä¸°å¯Œã€è¾ƒä¸ºæˆç†Ÿçš„ä»»åŠ¡ï¼Œå…·æœ‰è¾ƒå¥½çš„<strong>é€šç”¨æ€§</strong>ã€‚åè€…é€šè¿‡æ³¨å…¥äººä½“å…ˆéªŒè€Œä¸ç ´åä»ç‰¹å®šè¾“å…¥å›¾åƒä¸­æŒ–æ˜çš„æœè£…çº¿ç´¢æ¥æé«˜é‡å»º<strong>é²æ£’æ€§</strong></li><li>åœ¨åŸä¸‰ç»´å‡ ä½•ç©ºé—´ä¸­ç›´æ¥å®ç°åŸºäºç‚¹çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå§¿æ€æ ¡æ­£å’Œè¡¨é¢ç»†èŠ‚æ•æ‰æ›´ä¸º<strong>ç›´è§‚æœ‰æ•ˆ</strong></li></ul><p>è´¡çŒ®ï¼š</p><ul><li>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ–°çš„ç®¡é“ï¼ŒHaPï¼Œé€šè¿‡åœ¨ä¸‰ç»´ç©ºé—´ä¸­çš„æ·±åº¦å›¾å’Œ SMPL æ¨¡å‹æ¡ä»¶ä¸‹çš„<strong>æ‰©æ•£è¿‡ç¨‹</strong>æ¥æ˜ç¡®åœ°åœ¨ç‚¹äº‘ä¸­ç”Ÿæˆäººä½“;</li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæœ‰æ•ˆçš„ SMPL æ ¡æ­£ <em>rectification</em> æ¨¡å—æ¥ä¼˜åŒ– SMPL æ¨¡å‹ä»¥è·å¾—å‡†ç¡®çš„å§¿æ€;</li><li>æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªåŒ…å«é«˜ä¿çœŸåº¦ 3D äººä½“æ‰«æçš„æ–°æ•°æ®é›†ï¼Œä»¥ä¿ƒè¿›æœªæ¥çš„ç ”ç©¶å·¥ä½œï¼Œå¦‚å›¾ 2 æ‰€ç¤ºã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107194805.png" alt="image.png|666"></p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>Monocular Depth Estimation</p><ul><li><strong>Predicting depth maps</strong> from single-view RGB images is a challenging task,<ul><li>Make3D[46]å°†å›¾åƒåˆ†å‰²æˆå‡åŒ€çš„å°å—ï¼Œå¹¶åˆ©ç”¨é©¬å°”ç§‘å¤«éšæœºåœºæ¨æ–­å¹³é¢å‚æ•°ï¼Œä»è€Œæ•è·æ¯ä¸ªå°å—åœ¨ä¸‰ç»´ç©ºé—´ä¸­çš„ä½ç½®å’Œæ–¹å‘ã€‚</li><li>Eigen ç­‰äººæå‡ºäº†ä¸€ç§å¼€åˆ›æ€§çš„åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•æ¥å­¦ä¹  RGB å›¾åƒåˆ°æ·±åº¦å›¾çš„ç«¯åˆ°ç«¯æ˜ å°„ã€‚(<em>Depth Map Prediction from a Single Image using a Multi-Scale Deep Network</em>)</li><li>BTS[26]è®¾è®¡äº†æ–°é¢–çš„å±€éƒ¨å¹³é¢åˆ¶å¯¼å±‚ï¼Œä»¥ä¾¿åœ¨è§£ç çš„å¤šä¸ªé˜¶æ®µæ›´æœ‰æ•ˆåœ°åˆ©ç”¨å¯†é›†ç¼–ç çš„ç‰¹å¾(<em>From big to small: Multi-scale local planar guidance for monocular depth estimation</em>)</li><li>P3Depth[39]è¿­ä»£å’Œé€‰æ‹©æ€§åœ°åˆ©ç”¨å…±é¢åƒç´ çš„ä¿¡æ¯æ¥æé«˜é¢„æµ‹æ·±åº¦çš„è´¨é‡</li><li>Xie ç­‰äººå‘ç°ï¼Œè’™é¢å›¾åƒå»ºæ¨¡(MIM)åœ¨æ·±åº¦ä¼°è®¡æ–¹é¢ä¹Ÿå¯ä»¥è¾¾åˆ°æœ€å…ˆè¿›çš„æ€§èƒ½(Revealing the Dark Secrets of Masked Image Modeling)</li></ul></li><li>Particularly, various methods have been proposed for <strong>estimating human depth maps</strong> from single-view images.<ul><li>Tang ç­‰äºº[51]é‡‡ç”¨åˆ†å‰²ç½‘å’Œéª¨æ¶ç½‘ç”Ÿæˆäººä½“å…³é”®ç‚¹å’Œèº«ä½“éƒ¨ä½çƒ­å›¾ã€‚è¿™äº›çƒ­å›¾è¢«ç”¨æ¥é€šè¿‡æ·±åº¦ç½‘è®¡ç®—åŸºæœ¬å½¢çŠ¶å’Œç»†èŠ‚å½¢çŠ¶ã€‚Tan ç­‰äººæå‡ºäº†ä¸€ç§åˆ©ç”¨è§†é¢‘ä¸­é¢„æµ‹çš„ SMPL æ¨¡å‹çš„è‡ªç›‘ç£æ–¹æ³•ã€‚(<em>Self-Supervised Human Depth Estimation from Monocular Videos</em>)</li><li>HDNet[20]é¢„æµ‹æ¯å¼ å›¾åƒå¯¹åº”çš„å¯†é›†å§¿æ€ï¼Œè€Œä¸æ˜¯ SMPL æ¨¡å‹(<em>Learning High Fidelity Depths of Dressed Humans by Watching Social Media Dance Videos</em>)</li><li>Tan et al.[50]å’Œ Jafarian et al.[20]éƒ½å°†èº«ä½“éƒ¨ä½æ‰­æ›²åˆ°è§†é¢‘çš„ä¸åŒå¸§ä¸­ï¼Œå¹¶å¯¹æ·±åº¦å›¾è¿›è¡Œç›‘ç£ï¼Œè¿™å¯¼è‡´äº†ç…§ç‰‡ä¸€è‡´æ€§çš„æŸå¤±ï¼Œå› ä¸ºæ·±åº¦å›¾åœ¨ä¸åŒå¸§ä¹‹é—´ä¸ä¼šæœ‰å¤ªå¤§çš„å˜åŒ–</li></ul></li></ul><p>Point Cloud Generation ç‚¹äº‘ç”Ÿæˆä»»åŠ¡å¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç±»:æ— æ¡ä»¶å’Œæ¡ä»¶</p><ul><li>Unconditioned<ul><li>RGAN[1]æ˜¯ä¸€ç§ç»å…¸çš„æ— æ¡ä»¶ç‚¹äº‘ç”Ÿæˆæ–¹æ³•ï¼Œå®ƒä½¿ç”¨å…·æœ‰å¤šä¸ª mlp çš„ GAN ç»“æ„æ¥å¯¹æŠ—æ€§åœ°ç”Ÿæˆç‚¹äº‘</li><li>WarpingGAN[53]æ˜¯ä¸€ä¸ªè½»é‡çº§ä¸”é«˜æ•ˆçš„ç½‘ç»œï¼Œå®ƒå°†å¤šä¸ªå‡åŒ€çš„ 3D ç½‘æ ¼æ‰­æ›²æˆå„ç§åˆ†è¾¨ç‡çš„ç‚¹äº‘</li><li>ShapeGF[4]é¦–å…ˆå¼•å…¥åŸºäºåˆ†æ•°çš„ç½‘ç»œæ— æ¡ä»¶ç”Ÿæˆç‚¹äº‘ï¼Œå®ƒä»¥å™ªå£°ä¸ºè¾“å…¥ï¼Œæ—¨åœ¨å­¦ä¹ ä¸‰ç»´å½¢çŠ¶çš„éšå¼è¡¨é¢</li></ul></li><li>Conditioned æ¡ä»¶ç”Ÿæˆä»»åŠ¡é€šå¸¸ä» RGB å›¾åƒ[11]ã€æ–‡æœ¬ä¿¡æ¯[36]æˆ–éƒ¨åˆ†ç‚¹äº‘[31]ã€[37]ï¼Œ[63]ä¸­ç”Ÿæˆç‚¹äº‘<ul><li>Fan[11]ç­‰äººæå‡ºäº†ä¸€ç§ PointOutNetï¼Œåœ¨ RGB å›¾åƒæ¡ä»¶ä¸‹é¢„æµ‹å¤šä¸ªå¯ä¿¡çš„ç‚¹äº‘</li><li>Point-E[36]é¦–å…ˆä½¿ç”¨æ–‡æœ¬åˆ°å›¾åƒçš„æ‰©æ•£æ¨¡å‹åˆæˆå•è§†å›¾ RGB å›¾åƒï¼Œç„¶åä½¿ç”¨å¦ä¸€ç§æ‰©æ•£æ¨¡å‹åŸºäºç”Ÿæˆçš„å›¾åƒç”Ÿæˆç‚¹äº‘ã€‚</li><li>VRCNet[37]ç”Ÿæˆä»¥å±€éƒ¨ç‚¹äº‘ä¸ºæ¡ä»¶çš„ç‚¹äº‘ï¼Œå®ƒå°†è¡¥å…¨ä»»åŠ¡è§†ä¸ºä¸€ä¸ªå…³ç³»æ¨ç†é—®é¢˜ï¼Œå­¦ä¹ å¯¹ç‚¹ä¹‹é—´çš„ç©ºé—´å…³ç³»è¿›è¡Œæ¨ç†ï¼Œä»è€Œè¡¥å…¨ç¼ºå¤±çš„éƒ¨åˆ†</li><li>PVD[63]å’Œ PDR[31]æ˜¯åŸºäºæ‰©æ•£çš„ç½‘ç»œï¼Œå®ƒä»¬ä¹Ÿåœ¨æ¡ä»¶æƒ…æ™¯ä¸‹è¿è¡Œï¼Œä»¥éƒ¨åˆ†ç‚¹äº‘ä¸ºæ¡ä»¶è¡¥å…¨ç¼ºå¤±éƒ¨åˆ†</li></ul></li></ul><p>åœ¨æœ¬æ–‡ä¸­ï¼ŒHaP å°†é‡å»ºä»»åŠ¡ä½œä¸ºä¸€ä¸ªæ¡ä»¶ç‚¹äº‘ç”Ÿæˆä»»åŠ¡ï¼Œ<strong>ä¾èµ–äº RGB å›¾åƒä¼°è®¡çš„æ·±åº¦å›¾å’Œ SMPL æ¨¡å‹ä½œä¸ºæ¡ä»¶</strong>ã€‚</p><p>Human Pose and Shape Estimation</p><ul><li>ä¼°è®¡ 2D å…³é”®ç‚¹ OpenPose[6]ã€AlphaPose[12]æˆ–äººç±» parsingï¼šBeyond Appearance[8]ã€Deep Human Parsing with Active Template Regression[27]å¯ä»¥æä¾›å…³äºäººç±»ç»“æ„çš„æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œç„¶è€Œï¼Œå®ƒä»¬ç¼ºä¹ç²¾ç¡®ä¸‰ç»´é‡å»ºæ‰€éœ€çš„ç©ºé—´ä¿¡æ¯ã€‚</li><li>ä» RGB å›¾åƒä¸­é¢„æµ‹å‚æ•°æ¨¡å‹ï¼Œå¦‚ SMPL(-X)[30]ï¼Œå¯ä»¥æ›´å¥½åœ°ç†è§£äººä½“å§¿åŠ¿å’Œå½¢çŠ¶ï¼Œä½œä¸ºäººä½“é‡å»ºçš„å…ˆéªŒä¿¡æ¯</li><li>Zhang ç­‰äºº PyMAF[61]æå‡ºäº†ä¸€ç§åŸºäºå›å½’çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½¿ç”¨ç‰¹å¾é‡‘å­—å¡”ï¼Œé€šè¿‡å¯¹é½ SMPL ç½‘æ ¼å’Œå›¾åƒæ¥æ ¡æ­£é¢„æµ‹å‚æ•°</li><li>PIXIE[13]å¼•å…¥äº†ä¸€ä¸ªä¸»æŒäººï¼Œå®ƒæ ¹æ®ä¸“å®¶çš„ç½®ä¿¡åº¦æƒé‡åˆå¹¶äº†ä»–ä»¬çš„èº«ä½“ã€é¢éƒ¨å’Œæ‰‹çš„ç‰¹å¾</li><li>Kocabas ç­‰äººæå‡ºäº†ä¸€ç§å¯¹æŠ—æ€§å­¦ä¹ æ¡†æ¶ VIBEï¼Œç”¨äºä»è§†é¢‘ä¸­å­¦ä¹ è¿åŠ¨å­¦ SMPL è¿åŠ¨åºåˆ—</li><li>METRO[28]å°è¯•å¯¹é¡¶ç‚¹-é¡¶ç‚¹å’Œé¡¶ç‚¹-å…³èŠ‚çš„ç›¸äº’ä½œç”¨è¿›è¡Œå»ºæ¨¡ï¼Œæœ€ç»ˆè¾“å‡ºäººä½“å…³èŠ‚åæ ‡å’Œ SMPL é¡¶ç‚¹ã€‚<strong>ç„¶è€Œï¼Œé¢„æµ‹çš„ SMPL(-X)[30]ï¼Œ[41]æ¨¡å‹åœ¨ä¸‰ç»´ç©ºé—´è§‚æµ‹æ—¶æœ‰æ—¶ä¼šå‡ºç°ä¸å¯¹å‡†é—®é¢˜</strong></li></ul><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ SMPL æ ¡æ­£æ¨¡å—</strong>ï¼Œè¯¥æ¨¡å—å¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘ SMPL æ¨¡å‹çš„å¯è§åˆ†åŒºä¸æ·±åº¦æ¨å¯¼çš„éƒ¨åˆ†ç‚¹äº‘(è¢«è®¤ä¸ºæ˜¯å‡†ç¡®çš„)åœ¨ 3D ç©ºé—´ä¸­çš„è·ç¦»ï¼Œæˆ‘ä»¬ç”Ÿæˆçš„ SMPL æ¨¡å‹æ›´å‡†ç¡®ï¼Œæ›´ç¬¦åˆç»™å®šäººä½“ã€‚</p><p>Single-View Human Reconstruction</p><ul><li>SiCloPe[35]ä»¥ RGB å›¾åƒä¸ºæ¡ä»¶è®­ç»ƒç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼Œå¹¶åˆæˆä¸€è‡´çš„è½®å»“æ¥ç”Ÿæˆçº¹ç†ä¸‰ç»´ç½‘æ ¼</li><li>Ma et al.[32]æå‡ºäº†ä¸€ç§ POP æ¨¡å‹ï¼Œç”¨äºç”Ÿæˆä¸‰ç»´ç‚¹äº‘çš„è¡£å±‚å‚æ•°æ¨¡å‹</li><li>PIFu[44]æ˜¯ä¸€é¡¹å¼€åˆ›æ€§çš„å·¥ä½œï¼Œå°†éšå¼å‡½æ•°å¼•å…¥äººç±»é‡å»ºä»»åŠ¡ã€‚</li><li>PIFuHD[45]é€šè¿‡é‡‡ç”¨å‰åæ³•çº¿è´´å›¾è®­ç»ƒçš„å¤šå±‚æ¬¡æ¶æ„æ¥å¢å¼ºé«˜åˆ†è¾¨ç‡å›¾åƒçš„æ€§èƒ½</li><li>Xiu et al.ICON[59]ï¼ŒPaMIR[62]ï¼Œä¹Ÿä½¿ç”¨ SMPL æ¨¡å‹æ¥æä¾›å…³äºäººä½“çš„å…ˆéªŒä¿¡æ¯</li><li>Xiu ç­‰äººæå‡ºäº† ECON æ¥éšå¼å’Œæ˜¾å¼åœ°è§£å†³é‡å»ºé—®é¢˜ã€‚ä»–ä»¬ä»å­¦ä¹ åˆ°çš„æ­£é¢å’ŒèƒŒé¢æ³•çº¿è´´å›¾ä¸­é‡å»º 2.5D ç½‘æ ¼ï¼Œæœ€åä½¿ç”¨éšå¼å‡½æ•°å’Œç­›é€‰çš„æ³Šæ¾æ–¹æ³•å®ç°å…¨ç½‘æ ¼ã€‚<strong>ç„¶è€Œï¼ŒECON ä»ç„¶ä¾èµ–äºåŸºäºæ¸²æŸ“çš„ SMPL ç»†åŒ–æ–¹æ³•ï¼Œé™åˆ¶äº†å…¶æ€§èƒ½</strong></li><li>Han ç­‰äºº(<strong>2K2K</strong>)å¼•å…¥äº†ä¸€ç§åŸºäºä¸åŒèº«ä½“éƒ¨ä½å­¦ä¹ æ·±åº¦å›¾çš„ä¸¤é˜¶æ®µæ·±åº¦ä¼°è®¡ç½‘ç»œã€‚åœ¨è·å¾—æ­£é¢å’ŒèƒŒé¢æ·±åº¦å›¾åï¼Œå°†å…¶è½¬æ¢ä¸ºç‚¹äº‘ï¼Œå¹¶ä½¿ç”¨ç­›é€‰åçš„æ³Šæ¾æ–¹æ³•é‡å»ºäººä½“ã€‚<strong>å°½ç®¡è¯¥æ–¹æ³•éµå¾ªåŸºäºæ˜¾å¼çš„æ–¹æ³•ï¼Œä½†å…¶ä¸»è¦é‡ç‚¹æ˜¯å­¦ä¹ äºŒç»´å¹³é¢ä¸Šçš„ç²¾ç¡®æ·±åº¦å›¾</strong>ã€‚</li><li>Tang et al.[52]è®¾è®¡äº†ä¸€ä¸ªä¸¤é˜¶æ®µçš„ä¸‰ç»´å·ç§¯ç½‘ç»œæ¥æ˜ç¡®å­¦ä¹ äººä½“çš„ TSDF ä½“ç§¯ã€‚(<em>High-Resolution Volumetric Reconstruction for Clothed Humans</em>)</li><li>å·²ç»æå‡ºäº†[5]ï¼Œ[20]ï¼Œ[56]ï¼Œ[57]ç­‰å¤šç§æ–¹æ³•æ¥æ¢ç´¢æ·±åº¦åœ¨ä¸‰ç»´é‡å»ºä¸­çš„æ½œåŠ›ã€‚<ul><li>Wang[54] ç­‰äººè®­ç»ƒäº†ä¸€ä¸ªå¯¹æŠ—ç½‘ç»œ<strong>NormalGAN</strong>æ¥å¯¹ RGB-D ç›¸æœºé‡‡é›†çš„æ·±åº¦è¿›è¡Œé™å™ªï¼Œå¹¶ç”Ÿæˆåè§†å›¾çš„å‡ ä½•ç»†èŠ‚ã€‚</li><li>Xiong et al.[57]æå‡ºäº†ä¸€ç§æ·±åº¦å¼•å¯¼è‡ªç›‘ç£å­¦ä¹ ç­–ç•¥<strong>PIFu for the Real World</strong>ï¼Œè¯¥ç­–ç•¥ä½¿ç”¨æœ‰ç¬¦å·è·ç¦»å‡½æ•°(signed distance function, SDF)å€¼ä»£æ›¿å ç”¨å€¼æ¥å­¦ä¹ éšå¼æ›²é¢ã€‚</li><li>Chan[7] ç­‰äºº<strong>IntegratedPIFu</strong>è®¾è®¡äº†ä¸€ç§é¢å‘æ·±åº¦çš„é‡‡æ ·æ–¹æ¡ˆæ¥å­¦ä¹ é«˜ä¿çœŸçš„å‡ ä½•ç»†èŠ‚ã€‚ä»–ä»¬è¿˜æå‡ºäº†ä¸€ç§å…·æœ‰å°‘é‡å‚æ•°çš„é«˜åˆ†è¾¨ç‡ç§¯åˆ†å™¨æ¥å­¦ä¹  RGB å›¾åƒçš„å…¨å±€ä¿¡æ¯ã€‚</li><li>[7]ï¼Œ[57]è¿™äº›æ–¹æ³•é€šå¸¸åˆ©ç”¨ç½‘ç»œæ¥é¢„æµ‹ç»™å®š RGB å›¾åƒçš„æ³•çº¿å›¾å’Œæ·±åº¦å›¾ã€‚Xiong et al.[57]å’Œ Chan et al.[7]éƒ½åˆ©ç”¨æ·±åº¦å›¾ä½œä¸ºéšå¼å‡½æ•°äºŒç»´å¹³é¢ä¸Šçš„é¢å¤–ç‰¹å¾ã€‚</li></ul></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æå‡ºçš„å•è§†å›¾ä¸‰ç»´äººä½“é‡å»ºæ¡†æ¶çš„æ•´ä½“å¤„ç†æµç¨‹åŒ…æ‹¬ä¸¤ä¸ªå­ä»»åŠ¡:<br>(1)ä»è¾“å…¥çš„äºŒç»´ RGB å›¾åƒä¸­æ¨æ–­å’Œæ ¡æ­£ä¸‰ç»´å‡ ä½•ä¿¡æ¯;<br>(2)æ ¹æ®ç”Ÿæˆçš„ä¸‰ç»´å‡ ä½•ä¿¡æ¯ç”Ÿæˆé«˜è´¨é‡çš„ä¸‰ç»´äººä½“ç‚¹äº‘ï¼Œç„¶åç›´æ¥è¿›è¡Œç½‘æ ¼é‡å»ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107193647.png" alt="image.png|666"></p><p>å¦‚å›¾ 3 æ‰€ç¤ºï¼Œæµç¨‹ï¼š</p><ul><li>HaP ä»<strong>æ·±åº¦å’Œ SMPL ä¼°è®¡</strong>çš„ä¸¤ä¸ªå¹³è¡Œåˆ†æ”¯å¼€å§‹ï¼Œè¿™ä¸¤ä¸ªåˆ†æ”¯åœ¨æ¨æ–­äººä½“å‡ ä½•çš„ä¸‰ç»´ä¿¡æ¯æ–¹é¢æ˜¾ç¤ºå‡ºäº’è¡¥çš„ç‰¹å¾ã€‚å…·ä½“æ¥è¯´ï¼Œæ·±åº¦ä¼°è®¡èƒ½å¤Ÿæ•è·å‰è§†å›¾çš„è¯¦ç»†å‡ ä½•å›¾æ¡ˆï¼Œä½†éœ€è¦é¢å¤–çš„åŠªåŠ›æ¥æ¢å¤çœ‹ä¸è§çš„èº«ä½“éƒ¨ä½;ä¸åŒçš„æ˜¯ï¼Œä¼°è®¡çš„ SMPL æä¾›äº†å¼ºå¤§çš„äººä½“å…ˆéªŒï¼Œé¿å…äº†éäººç±»ç»“æ„(ä¾‹å¦‚ï¼Œä¸è‡ªç„¶çš„å§¿åŠ¿ï¼Œé€€åŒ–çš„èº«ä½“ï¼Œæ–­è£‚çš„è‚¢ä½“)ï¼Œä½†å­˜åœ¨å›ºå®šæ‹“æ‰‘å’Œè¿‡åº¦å…‰æ»‘çš„è¡¨é¢ç»†èŠ‚ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰åŠ¨åŠ›å…±åŒåˆ©ç”¨è¿™ä¸¤ä¸ªä¸‰ç»´ä¿¡æ¯æ¥æºã€‚ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåŸºäºä¼˜åŒ–çš„ SMPL æ ¡æ­£ Rectification æ¨¡å—ï¼Œå°†åˆå§‹ä¼°è®¡çš„ SMPL æ¨¡å‹ä¸æ·±åº¦æ¨å¯¼çš„éƒ¨åˆ†ä¸‰ç»´ç‚¹äº‘å¯¹é½ã€‚</li><li>åœ¨å°†æ·±åº¦å’Œ SMPL çš„å‡ ä½•ä¿¡æ¯ç»Ÿä¸€ä¸ºä¸‰ç»´ç‚¹äº‘ä¹‹åï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§<strong>æ¡ä»¶ç‚¹æ‰©æ•£æ¨¡å‹</strong>ï¼Œè¯¥æ¨¡å‹å°†æ·±åº¦å’Œ SMPL çš„å‡ ä½•ä¿¡æ¯åŒæ—¶ä½œä¸ºè¾“å…¥ï¼Œä»¥äº§ç”Ÿæ›´ç²¾ç¡®çš„å®Œæ•´äººä½“çš„ä¸‰ç»´ç‚¹äº‘ã€‚</li><li>æ­¤å¤–ï¼Œåœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œæ¢ç´¢å¦ä¸€ä¸ªç»†åŒ–é˜¶æ®µï¼Œä»¥è¿›ä¸€æ­¥æé«˜å¾—åˆ°çš„ä¸‰ç»´ç‚¹äº‘çš„è´¨é‡ã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ç»å…¸çš„è¡¨é¢é‡å»ºç®—æ³•[23]ç›´æ¥æå–ç½‘æ ¼è¡¨ç¤ºã€‚<em>Screened poisson surface reconstruction</em></li></ul><h2 id="Estimating-3D-Information-from-Single-2D-Images"><a href="#Estimating-3D-Information-from-Single-2D-Images" class="headerlink" title="Estimating 3D Information from Single 2D Images"></a>Estimating 3D Information from Single 2D Images</h2><p>ä»å•ä¸ª RGB å›¾åƒ $\mathcal{I}$ ä¸­ï¼šæ·±åº¦ä¼°è®¡+SMPL ä¼°è®¡ï¼Œä¸ºäº†è§£å†³ P å’Œ S ä¼°è®¡å¯¹ä¸é½ï¼Œå‡è®¾æ·±åº¦ä¼°è®¡é€šå¸¸å…·æœ‰è¾ƒé«˜çš„ç²¾åº¦ï¼Œæå‡ºäº†ä¸€ç§æ–°çš„ SMPL rectification æ¨¡å—</p><ol><li><p>Depth estimation: ä½¿ç”¨æœ€æ–°çš„æœ€å…ˆè¿›çš„å•ç›®æ·±åº¦ä¼°è®¡å™¨ MIM <a href="https://readpaper.com/paper/4628144371611484161">56</a> æ¥é¢„æµ‹å›¾ç‰‡ $\mathcal{I}$ çš„ç›¸åº”æ·±åº¦å›¾ï¼Œç„¶åæˆ‘ä»¬æ ¹æ®ç›¸æœºçš„å†…åœ¨å‚æ•°å°†æ¯ä¸ª 2D åƒç´ åæ ‡(u, v)çš„æ·±åº¦å€¼æŠ•å½±åˆ° 3D ç‚¹(x, y, z)ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜é™„åŠ äº†æ¯ä¸ªåƒç´ çš„åŸå§‹ RGB å€¼ï¼Œæ¨å¯¼å‡ºä¸€ä¸ªå½©è‰²çš„ä¸‰ç»´ç‚¹ï¼Œè®°ä¸º $\mathbf{p} = (x, y, z, r, g, b)$ã€‚è¿™æ ·ï¼Œé€šè¿‡å±è”½æ‰æ— æ•ˆçš„èƒŒæ™¯åƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªä¸‰ç»´éƒ¨åˆ†äººä½“ç‚¹äº‘ï¼Œè®°ä¸º $\mathcal{P}=\{\mathbf{p}\}.$ã€‚</p></li><li><p>SMPL Estimation and Rectification: ä¸ºäº†æä¾›æ˜ç¡®çš„äººä½“å½¢çŠ¶å…ˆéªŒï¼Œå¹¶è¡¥å……éƒ¨åˆ†æ·±åº¦æ¨æ–­çš„ç‚¹äº‘ P ä¸­ç¼ºå¤±çš„èº«ä½“éƒ¨ä½ï¼Œä¸[13]ï¼ŒPyMAF[61]ç±»ä¼¼ï¼Œæˆ‘ä»¬ä» $\mathcal{I}$ SMPL æ¨¡å‹ä¸­ä¼°è®¡ Sã€‚ç„¶è€Œï¼Œæ­£å¦‚ä¹‹å‰çš„ç ”ç©¶ PaMIR[62]æ‰€åˆ†æçš„é‚£æ ·ï¼Œç”±äº z è½´æ·±åº¦æ¨¡ç³Šï¼Œä¸å¯é¿å…åœ°ä¼šå¯¼è‡´ S å’Œ P ä¹‹é—´çš„ä¸å¯¹é½ï¼Œç‰¹åˆ«æ˜¯åœ¨å•å›¾åƒè®¾ç½®ä¸‹ï¼Œè¿™ä¼šç›´æ¥é™ä½æ•´ä¸ªäººä½“é‡å»ºç®¡é“çš„è´¨é‡ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œ<strong>å‡è®¾æ·±åº¦ä¼°è®¡é€šå¸¸å…·æœ‰è¾ƒé«˜çš„ç²¾åº¦</strong>ï¼Œå› æ­¤å¯ä»¥ä»¥ä»¤äººæ»¡æ„çš„è´¨é‡æ¨æ–­ Pï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ SMPL rectification æ¨¡å—ï¼Œ<strong>é€šè¿‡æ›´æ–° SMPL å‚æ•°è¿›ä¸€æ­¥ä¿ƒè¿› S ä¸ P çš„å¯¹é½</strong>ã€‚</p></li></ol><h3 id="SMPL-rectification"><a href="#SMPL-rectification" class="headerlink" title="SMPL rectification"></a>SMPL rectification</h3><p>SMPL ä¼°è®¡å‡ºæ¥çš„ç‚¹äº‘ï¼š$\mathcal{S}=\mathcal{S}_{v}\cup\overline{\mathcal{S}}_{v}$</p><ul><li>$\mathcal{S}_v=(\mathcal{V}_v,\mathcal{F}_v)$ å¯è§éƒ¨åˆ†</li><li>$\begin{aligned}\overline{\mathcal{S}}_v=(\overline{\mathcal{V}}_v,\overline{\mathcal{F}}_v)\end{aligned}$ ä¸å¯è§éƒ¨åˆ†</li></ul><p>ä¿®æ­£åçš„ SMPL ç‚¹äº‘ $\widehat{\mathcal{S}}$<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä»¥æœ€å°åŒ– $\mathcal{S}_{v}$ ä¸ P ä¹‹é—´çš„è·ç¦»ä¸ºç›®æ ‡ï¼Œ<strong>é€šè¿‡å¯¹ S çš„å½¢çŠ¶å‚æ•°Î²å’Œä½å§¿å‚æ•°Î¸è¿›è¡Œè¿­ä»£æ ¡æ­£å³å¯å®ç°è¯¥é—®é¢˜</strong>ã€‚</p><ul><li>ä¸ºäº†é¿å…ä¸å¯è§éƒ¨åˆ†ä¸è‡ªç„¶åœ°é è¿‘ P è€Œå¯¼è‡´ä½å§¿ä¸è‡ªç„¶çš„æƒ…å†µï¼Œæˆ‘ä»¬å¢åŠ äº†æ­£åˆ™åŒ–é¡¹æ¥æé«˜ P ä¸ $\mathcal{S}_{v}$ ä¹‹é—´çš„è·ç¦»ã€‚</li><li>æˆ‘ä»¬è¿˜æ­£åˆ™åŒ–å½¢çŠ¶å‚æ•°Î²ï¼Œç”±äºå…¶å›ºæœ‰çš„é›¶å‡å€¼æ€§è´¨ï¼Œå¦‚ Keep it SMPL[3]ä¸­æå‡ºã€‚</li><li>ä¼˜åŒ–è¿˜å—åˆ°ä¸¤ä¸ªçº¦æŸ:<ul><li>(1) $\widehat{\mathcal{S}}$ çš„ 2D å…³é”®ç‚¹ä¸ S çš„ä¸ä¸€è‡´ï¼Œé¿å…äº† $\widehat{\mathcal{S}}$ åœ¨äºŒç»´å¹³é¢ä¸Šå§¿æ€çš„è¿‡åº¦å˜åŒ–;</li><li>(2) $\widehat{\mathcal{S}}$ çš„æ©æ¨¡(å³ $\mathcal{M}_{\widehat{\mathcal{S}}}$)æŠ•å½±åˆ°äºŒç»´å¹³é¢ä¸Šæ—¶ä¸ ${\mathcal{I}}$ (å³ $\mathcal{M}_{h}$)çš„äººä½“æ©æ¨¡ä¹‹é—´çš„è½®å»“å·®å¼‚ï¼Œä¿æŒäº† $\widehat{\mathcal{S}}$  çš„æ•´ä½“äººä½“å½¢çŠ¶ã€‚</li></ul></li></ul><p>æ€»ä¹‹ï¼Œæˆ‘ä»¬æ˜ç¡®åœ°å°†é—®é¢˜è¡¨è¿°ä¸º:</p><script type="math/tex; mode=display">\begin{aligned}\operatorname*{min}_{\boldsymbol{\beta},\boldsymbol{\theta}}\mathcal{L}_{\mathrm{r}1}=& \lambda_{1} \text{Ğ 2F}(\mathcal{P},~\mathcal{S}_v)+\lambda_2\text{Ğ¡D}(\mathcal{V}_v,\mathcal{P})  \\&-\lambda_3\text{P2F}(\mathcal{P},\overline{\mathcal{S}}_v)+\lambda_4\beta, \\&s.t.\mathcal{K}=\mathcal{K}_{0},\mathcal{M}_{\widehat{\mathcal{S}}}=\mathcal{M}_{h},\end{aligned}</script><p>å¼ä¸­ï¼ŒP2F(Â·ï¼ŒÂ·)å’Œ CD(Â·ï¼ŒÂ·)åˆ†åˆ«è¡¨ç¤ºç‚¹åˆ°é¢è·ç¦»(P2F)å’Œå€’è§’è·ç¦»(CD) $\mathcal{K}\mathrm{~and~}\mathcal{K}_0$ åˆ†åˆ«ä¸ºæ¯æ¬¡è¿­ä»£å’Œ S çš„ SMPL 2D å…³é”®ç‚¹;éè´Ÿè¶…å‚æ•°Î»1ï¼Œ Î»2ï¼Œ Î»3 å’ŒÎ»4 å¹³è¡¡äº†ä¸åŒçš„æ­£åˆ™åŒ–é¡¹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231108165047.png" alt="image.png|666"><br>SMPL rectification process.<br>(a) Initially estimated SMPL model.<br>(b) Registration before rectification.<br>(c) Rectification process.<br>(d) Registration after rectification.<br>ç›´æ¥ä¼°è®¡çš„ SMPL æ¨¡å‹ä¸éƒ¨åˆ†ç‚¹äº‘çš„é…å‡†ä¸å¤ªå¥½ï¼Œç»è¿‡æ•´æ”¹åæƒ…å†µå¾—åˆ°æ˜æ˜¾ç¼“è§£ã€‚</p><h2 id="Diffusion-based-Explicit-Generation-of-Human-Body"><a href="#Diffusion-based-Explicit-Generation-of-Human-Body" class="headerlink" title="Diffusion-based Explicit Generation of Human Body"></a>Diffusion-based Explicit Generation of Human Body</h2><p>Depth-deduced çš„éƒ¨åˆ†äººä½“ç‚¹äº‘ P æä¾›äº†è‡ªç”±è€Œç²¾ç»†çš„å‡ ä½•ç»“æ„ï¼Œå¦‚è¡£æœæ­£é¢çš„è¤¶çš±ï¼Œè€Œå®Œå…¨å¿½ç•¥äº†èƒŒé¢å’Œé®æŒ¡éƒ¨åˆ†ã€‚è€Œä¿®æ­£åçš„ SMPL å‚æ•°åŒ–äººä½“å½¢çŠ¶é¢ $\widehat{S}$ åˆ™ä¿è¯äº†å®Œæ•´çš„ä½“è¡¨ï¼Œå§¿æ€å’Œå½¢çŠ¶åˆç†ï¼Œä½†å…¶å›ºå®šçš„æ‹“æ‰‘ç»“æ„åœ¨å¤„ç†å®½æ¾å¤æ‚çš„æœè£…æ—¶é€ æˆäº†æœ¬è´¨ä¸Šçš„å›°éš¾ã€‚è¿™äº›äº’è¡¥çš„ç‰¹æ€§ä¿ƒä½¿æˆ‘ä»¬å…±åŒåˆ©ç”¨ P å’Œ $\widehat{S}$ æ¥é‡å»ºé«˜ä¿çœŸçš„ä¸‰ç»´äººä½“å‡ ä½•ã€‚ç„¶è€Œï¼Œç›´æ¥å°†æ·±åº¦ deduced å’Œ SMPL-deduced çš„ä¸‰ç»´å‡ ä½•ä¿¡æ¯åˆå¹¶åœ¨ä¸€èµ·å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œå› ä¸º P å’Œ $\widehat{S}$ ä¹‹é—´é€šå¸¸å­˜åœ¨ä¸å¯å¿½ç•¥çš„é—´éš™ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æå‡ºè®­ç»ƒæ¡ä»¶å»å™ªæ‰©æ•£æ¦‚ç‡æ¨¡å‹(conditional denoising diffusion probabilistic model, DDPM)æ¥ç”Ÿæˆé«˜è´¨é‡çš„3D äººä½“ç‚¹äº‘ï¼Œç›®çš„æ˜¯å°† P å’Œ $\widehat{S}$ è‡ªç„¶èåˆå¹¶æ¶ˆé™¤é—´éš™ã€‚æ‰©æ•£æ¨¡å‹çš„ä¸»å¹²æ˜¯ä¸€ä¸ªåŒåˆ†æ”¯çš„ PointNet++ä½“ç³»ç»“æ„ <a href="https://readpaper.com/pdf-annotate/note?pdfId=4665141791788384257">31</a>ï¼Œ<a href="https://readpaper.com/pdf-annotate/note?pdfId=4545028882578432001">42</a> å‚æ•°åŒ–ä¸º $\Theta_{1}$ï¼Œè¡¨ç¤ºä¸º $\operatorname{PNet}_{\Theta_1}(\cdot)$ã€‚<br>åœ¨æ‰©æ•£é˜¶æ®µä¹‹åï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æå‡ºäº†ç»†åŒ–é˜¶æ®µæ¥æé«˜ç”Ÿæˆç‚¹äº‘çš„è´¨é‡ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸ $\Theta_{2}$ (å³ $\operatorname{PNet}_{\Theta_2}(\cdot)$)å‚æ•°åŒ–çš„ç›¸åŒæ¶æ„ï¼Œ<strong>é€šè¿‡å­¦ä¹ æ¯ä¸ªç‚¹çš„ä½ç§»æ¥ç»†åŒ–ç”Ÿæˆçš„äººä½“ç‚¹äº‘</strong>ã€‚<br>ç„¶åé‡‡ç”¨æ·±åº¦æ›¿æ¢ç­–ç•¥<em>depth replacement strategy</em>å¯¹ç”Ÿæˆçš„ç‚¹äº‘è¿›è¡Œå¯†åº¦åŒ–å¤„ç†ã€‚</p><ol><li>Diffusion Stage: åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬è®­ç»ƒä¸€ä¸ª<strong>æ¡ä»¶æ‰©æ•£æ¨¡å‹</strong>æ¥ç”Ÿæˆä¸€ä¸ªäººä½“ç‚¹äº‘ã€‚</li></ol><p>ç”±äºæœ‰é™çš„ GPU å†…å­˜å’Œè®¡ç®—æ—¶é—´çš„é™åˆ¶ï¼Œæˆ‘ä»¬é…ç½® $\operatorname{PNet}_{\Theta_1}(\cdot)$ æ¥ç”Ÿæˆä¸€ä¸ªå…·æœ‰ 10,000 ä¸ªç‚¹çš„ç›¸å¯¹ç¨€ç–çš„ $\mathcal{H}_{\mathrm{coarse}}$ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€è¿œç‚¹é‡‡æ ·æ“ä½œåˆ†åˆ«ä» $\mathcal{P}\mathrm{~and~}\widehat{\mathcal{S}}$ ä¸­é‡‡æ ·ç‚¹ï¼Œå¹¶å°†å…¶ä½œä¸ºæ‰©æ•£æ¨¡å‹çš„æ¡ä»¶ã€‚ä¸€ä¸ªæ¡ä»¶ DDPM ç”±ä¸¤ä¸ªç›¸åæ–¹å‘çš„é©¬å°”å¯å¤«é“¾ç»„æˆï¼Œå³æ­£å‘è¿‡ç¨‹å’Œåå‘è¿‡ç¨‹ï¼Œè¿™ä¸¤ä¸ªè¿‡ç¨‹çš„é‡‡æ ·æ­¥é•¿ T ç›¸åŒã€‚åœ¨å‰å‘è¿‡ç¨‹ä¸­ï¼Œåœ¨æ¯ä¸ªé‡‡æ ·æ­¥é•¿ t å¤„åŠ å…¥é«˜æ–¯å™ªå£° $\mathcal{H}_{\mathrm{gt}}$ï¼Œå½“ t è¶³å¤Ÿå¤§æ—¶ï¼Œå‰å‘è¿‡ç¨‹çš„è¾“å‡ºåº”ä¸é«˜æ–¯åˆ†å¸ƒ $\mathcal{N}(\mathbf{0},\boldsymbol{I})$ æ¥è¿‘ï¼Œå‰å‘è¿‡ç¨‹ä»åˆå§‹æ­¥é•¿ $\mathcal{H}_{\mathbf{gt}}^{\boldsymbol{0}}$ åˆ°æœ€åä¸€æ­¥æ­¥é•¿ $\mathcal{H}_{\mathrm{gt}}^T.$ã€‚æ³¨æ„ï¼Œæ¡ä»¶ $(\mathcal{P},\widehat{\mathcal{S}})$ ä¸åŒ…æ‹¬åœ¨æ­£å‘è¿‡ç¨‹ä¸­ã€‚<br>å‰å‘çš„é‡‡æ ·è¿‡ç¨‹æ˜¯è¿­ä»£çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½åœ¨æ¯ä¸ªæ—¶é—´æ­¥éƒ½è®­ç»ƒ DDPMï¼Œå› ä¸ºè¿™éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´ã€‚æ ¹æ® DDPM[18]ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰ $\begin{aligned}1-\gamma_t=\alpha_t,\bar{\alpha_t}=\prod_{i=1}^t\alpha_i,\end{aligned}$ æ¥å®ç°ä»»æ„æ­¥é•¿ $\mathcal{H}_{\mathrm{gt}}^t$ï¼Œå…¶ä¸­Î³æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„è¶…å‚æ•°ã€‚å› æ­¤ï¼Œå…¬å¼ $q(\mathcal{H}_{\mathrm{gt}}^t|\mathcal{H}_{\mathrm{gt}}^0)=\mathcal{N}(\mathcal{H}_{\mathrm{gt}}^t;\sqrt{\bar{\alpha}_{t}}\mathcal{H}_{\mathrm{gt}}^0,(1-\bar{\alpha}_{t})\boldsymbol{I}),$ï¼Œå’Œ $\mathcal{H}_{\mathrm{gt}}^t$ å¯ä»¥é€šè¿‡: $\mathcal{H}_{\mathrm{gt}}^{t}=\sqrt{\bar{\alpha_{t}}}\mathcal{H}_{\mathrm{gt}}^{0}+\sqrt{1-\bar{\alpha_{t}}}\boldsymbol{\epsilon},$<br>å…¶ä¸­Îµä¸ºé«˜æ–¯å™ªå£°ã€‚åˆ©ç”¨ DDPM[18]ä¸­æå‡ºçš„å‚æ•°åŒ–æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å°åŒ–æ¥è®­ç»ƒ $\Theta_{1}$ï¼š<br>$\mathcal{L}_{\mathrm{ddpm}}=\mathbb{E}_{t,\mathcal{H}_{\mathrm{gt}}^{t},\epsilon}|\epsilon-\mathrm{PNet}_{\Theta_{1}}(\mathcal{H}_{\mathrm{gt}}^{t},\mathcal{P},\widehat{\mathcal{S}},t)|^{2}$ï¼ŒPointNet++ä»¥ $\mathcal{P}\mathrm{~and~}\widehat{\mathcal{S}}$ ä½œä¸ºæ¡ä»¶æ¥é¢„æµ‹ $\mathcal{H}_{\mathrm{gt}}^t$ ä¸­çš„å™ªå£°</p><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæ—¶é—´æ­¥éª¤éƒ½å°† $\mathcal{P}\mathrm{~and~}\widehat{\mathcal{S}}$ ä½œä¸ºæ¡ä»¶ï¼Œå¯¹æœè£…ä¿¡æ¯å’Œäººä½“ä¿¡æ¯è¿›è¡Œç›‘ç£ã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æŒ‰ç…§ç›¸åçš„è¿‡ç¨‹ç”Ÿæˆ $\mathcal{H}_{\mathrm{coarse}}$ï¼Œå³ä» T å¼€å§‹ï¼Œä» $\mathcal{H}_{\mathrm{gt}}^t$ é€æ­¥é‡‡æ · $\mathcal{H}_{\mathrm{gt}}^{t-1}$ã€‚ç”Ÿæˆçš„ $\mathcal{H}_{\mathrm{coarse}}$ ä¸æä¾›çš„ P å…·æœ‰ç›¸åŒçš„æœè£…ä¿¡æ¯ï¼Œå…¶å§¿æ€ä¸ $\widehat{\mathcal{S}}$ æä¾›çš„å§¿æ€ä¿æŒä¸€è‡´ã€‚</p><ol><li>Refinement Stage:</li></ol><p>åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ° $\operatorname{PNet}_{\Theta_1}(\cdot)$ é€šå¸¸ä¸å¯èƒ½æ¶ˆé™¤ $\mathcal{H}_{\mathrm{coarse}}$ ä¸­çš„æ‰€æœ‰å™ªå£°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªèƒ½ä» $\mathcal{H}_{\mathrm{coarse}}$ ä¸­æ¢å¤ä¸€ä¸ªç²—ç³™çš„è¡¨é¢ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ç”¨ $\Theta_{2}$ å‚æ•°åŒ– $\operatorname{PNet}_{\Theta_2}(\cdot)$ æ¥è®­ç»ƒå­¦ä¹  $\mathcal{H}_{\mathrm{coarse}}$ ä¸­æ¯ä¸ªç‚¹çš„ä½ç§»ï¼Œå³ $\Delta=\mathrm{PNet}_{\Theta_2}(\mathcal{H}_{\mathrm{coarse}},\mathcal{P},\widehat{\mathcal{S}}),$ï¼Œä»¥å…‰æ»‘ $\mathcal{H}_{\mathrm{coarse}}$ çš„è¡¨é¢ã€‚æˆ‘ä»¬ç”¨ $\mathcal{H}=\mathcal{H}_{\mathrm{coarse}}+\Delta.$ åˆ°äººä½“ç‚¹äº‘ $\mathcal{H}$ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªé—®é¢˜è¡¨è¿°ä¸ºï¼š<br>$\min_{\Theta_2}\text{D}(\mathcal{H},\mathcal{H}_{\mathrm{gt}})+\alpha\text{R}_{\mathrm{smooth}}(\Delta),$</p><ul><li>D(Â·,Â·)è¡¨ç¤º <a href="https://readpaper.com/paper/4762319849401614337">43</a> å®ç°çš„è·ç¦»åº¦é‡ï¼Œ</li><li>$R_{smooth}(Â·)$ æ˜¯ç©ºé—´å¹³æ»‘æ­£åˆ™åŒ–é¡¹ï¼Œè¡¨ç¤ºä¸º: $\mathrm{R}_{\mathrm{smooth}}(\Delta)=\frac1{3N_{\mathrm{src}}K_s}\sum_{x\in\mathcal{H}_{\mathrm{coarse}}}\sum_{x^{\prime}\in\mathcal{N}(x)}|\delta_x-\delta_{x^{\prime}}|_2^2,$<ul><li>å¼ä¸­ N(Â·)è¿”å› the K-NN(k-nearest neighbors) pointsï¼Œ$\delta_{x}\in\Delta$ ä¸ºä¸€ä¸ªå…¸å‹ç‚¹çš„ä½ç§»ã€‚</li></ul></li></ul><p>æ­¤å¤–ï¼Œåœ¨å‰é¢çš„æ‰©æ•£é˜¶æ®µï¼Œæˆ‘ä»¬å¯¹ä¸€ç»„ç›¸å¯¹ç¨€ç–çš„ 3D ç‚¹è¿›è¡Œé‡‡æ ·ï¼Œä½œä¸º DDPM çš„è¾“å…¥ï¼Œä»¥èŠ‚çœå†…å­˜å’Œè®¡ç®—æˆæœ¬ï¼Œè¿™å†³å®šäº† $\dot{\mathcal{H}_{\mathrm{coarse}}}$ çš„ç¨€ç–æ€§ï¼Œä¸ $\mathcal{H}$ ç±»ä¼¼ï¼Œä¸ºäº†äº§ç”Ÿå…·æœ‰å¢å¼ºå‡ ä½•ç»†èŠ‚çš„å¯†é›†ç‚¹äº‘ï¼Œæˆ‘ä»¬ä¸“é—¨é‡‡ç”¨äº†ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„æ·±åº¦æ›¿æ¢ç­–ç•¥ï¼Œè¯¥ç­–ç•¥å……åˆ†åˆ©ç”¨äº†å‰é¢æ·±åº¦æ¨æ–­çš„éƒ¨åˆ†ç‚¹äº‘ P çš„å¯†åº¦ï¼Œå¦‚å›¾ 5 æ‰€ç¤ºã€‚æˆ‘ä»¬çš„ç­–ç•¥é¦–å…ˆä½¿ç”¨çƒæŸ¥è¯¢æ“ä½œ PointNet++[42]æ¥å®šä½ P åœ¨ $\mathcal{H}$ å†…çš„æœ€è¿‘ç‚¹;è¿™äº›æœ€è¿‘çš„ç‚¹éšåè¢«ç§»é™¤å¹¶è®°ä¸º $s_{1}$ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ç¡®å®šäº† P å†… $\mathcal{H}âˆ’s_{1}$ çš„æœ€è¿‘ç‚¹ï¼Œå¹¶å°†å…¶å‘½åä¸º $s_{2}$ã€‚æœ€åï¼Œæˆ‘ä»¬ç¡®å®š P å†…ç¦» $s_2$ æœ€è¿‘çš„ç‚¹ï¼Œå¹¶å°†å®ƒä»¬æ ‡è®°ä¸º $s_{3 }$ã€‚æœ€ç»ˆç‚¹äº‘è®°ä¸º $\mathcal{H}_{\mathrm{final}}$ï¼Œç”± $\mathcal{H}-s_1$ å’Œ $s_{3}$ ç»„åˆè€Œæˆã€‚<br>TLDR. ä» H ä¸­é€‰å–ç¦» P æœ€è¿‘çš„ç‚¹ $s_{1}$ï¼Œç„¶åä» P ä¸­é€‰å–ç¦» $s_{1}$ æœ€è¿‘çš„ç‚¹ $s_{2}$ ï¼Œå†ä» P ä¸­é€‰å–ç¦» $s_{2}$ æœ€è¿‘çš„ç‚¹ $s_{3}$ ï¼Œæœ€åå°† $s_{3}$ ä¸ $\mathcal{H}-s_1$ ç»„åˆèµ·æ¥</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231108220043.png" alt="image.png|666"></p><p>åœ¨å¾—åˆ°æ›¿æ¢åçš„ç‚¹äº‘ $\mathcal{H}_{\mathrm{final}}$ åï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨ç­›é€‰è¿‡çš„æ³Šæ¾[23]è¿›è¡Œç½‘æ ¼æå–ã€‚</p><h1 id="EXPERIMENTS"><a href="#EXPERIMENTS" class="headerlink" title="EXPERIMENTS"></a>EXPERIMENTS</h1><p>æˆ‘ä»¬ä¸º CityUHuman æ•°æ®é›†æ–°æ”¶é›†çš„äººä½“æ¨¡å‹æ˜¾ç¤ºå‡ºç›¸å¯¹æ›´å¹³æ»‘å’Œæ›´ç²¾ç¡®çš„è¡¨é¢ç»“æ„</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231108221650.png" alt="image.png|666"></p><p>(a) æœ¬æ–‡ CityUHuman<br>(b) Thuman</p><p>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨åä¸º Artec Eva2 çš„é«˜ç²¾åº¦ä¾¿æºå¼ 3D æ‰«æä»ªè·å¾—äº†é«˜è´¨é‡çš„ 3D äººä½“æ‰«æã€‚æ¯æ¬¡æ‰«æçš„å®Œæ•´é›†åˆåŒ…æ‹¬è¶…è¿‡ 1000 ä¸‡ä¸ªç‚¹ã€‚æˆ‘ä»¬ä¸€å…±é‚€è¯·äº† 10 ä¸ªå¿—æ„¿è€…ï¼Œæ¯ä¸ªå¿—æ„¿è€…å±•ç¤ºäº†å¤§çº¦ 10 ä¸ªä¸åŒçš„å§¿åŠ¿ã€‚ç§‰æ‰¿é“å¾·åŸåˆ™å’Œå°Šé‡ä¸ªäººä¿¡æ¯çš„æ‰€æœ‰æƒï¼Œæˆ‘ä»¬åœ¨æ”¶é›†æ•°æ®ä¹‹å‰è·å¾—äº†æ¯ä½å¿—æ„¿è€…çš„åŒæ„ã€‚å¿—æ„¿è€…è¢«å‘ŠçŸ¥ï¼Œä»–ä»¬çš„ 3d æ‰«ææ•°æ®å°†ä¸“é—¨ç”¨äºéå•†ä¸šç ”ç©¶åº”ç”¨ã€‚<strong>ä¸ºäº†ä¿æŠ¤å¿—æ„¿è€…çš„éšç§ï¼Œæˆ‘ä»¬æ³è¯·ç”¨æˆ·åœ¨ä»»ä½•å‡†å¤‡å‘è¡¨çš„ææ–™ä¸­å¯¹é¢éƒ¨è¿›è¡Œæ¨¡ç³Šå¤„ç†</strong>ï¼Œæ¯”å¦‚è®ºæ–‡ã€è§†é¢‘ã€æµ·æŠ¥ç­‰ç­‰ã€‚æˆ‘ä»¬ä»å›¾ 2 çš„æ•°æ®é›†ä¸­æä¾›äº†å¤§çº¦ 60 ä¸ªä¸åŒè¡£æœå’Œå§¿åŠ¿çš„æ ·æœ¬æ‰«æï¼Œä»¥å±•ç¤ºå…¶åœ¨ç ”ç©¶ä¸­çš„è´¨é‡å’Œæ½œåŠ›</p><p>1)è®­ç»ƒæ•°æ®:åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬ç»Ÿä¸€é‡‡ç”¨ Thuman2.0[60]å¯¹æˆ‘ä»¬æå‡ºçš„ HaP å­¦ä¹ æ¶æ„è¿›è¡Œè®­ç»ƒã€‚ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä»æ¯ä¸ªæ¨¡å‹ä¸­æå– 10000 ä¸ªä¸‰ç»´ç‚¹ä½œä¸ºåœ°é¢çœŸç‚¹äº‘ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† Blender è½¯ä»¶æ¥æ¸²æŸ“çœŸå®çš„æ·±åº¦å›¾å’Œ photo-realistic çš„å›¾åƒï¼Œé—´éš”ä¸º 10 åº¦ã€‚å› æ­¤ï¼Œå¯¹äºæ¯ä¸ªä½œä¸ºè¾“å…¥çš„ RGB å›¾åƒï¼Œæˆ‘ä»¬æœ‰ä¸‰ä¸ªæ–¹é¢çš„ç›‘ç£ä¿¡å·ï¼Œå³æ·±åº¦å›¾ï¼Œsmpl æ¨å¯¼çš„ç‚¹äº‘å’Œäººçš„ç‚¹äº‘ã€‚å¾—åˆ°çš„è®­ç»ƒæ ·æœ¬æ€»æ•°ä¸º 18000ã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸ºäº†ä¸ IntegratedPIFu[7]è¿›è¡Œå…¬å¹³çš„æ¯”è¾ƒï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ä»æˆ‘ä»¬çš„è®­ç»ƒæ ·æœ¬ä¸­åˆ›å»ºäº†ä¸€ä¸ªå­é›†ï¼Œé€šè¿‡ä¿ç•™ IntegratedPIFu è®­ç»ƒè¿‡ç¨‹ä¸­ä½¿ç”¨çš„ç›¸åŒæ‰«æç´¢å¼•æ¥è®­ç»ƒæˆ‘ä»¬çš„ HaPï¼ŒåŒæ—¶ä»æ¯æ¬¡æ‰«æä¸­å‡åŒ€åœ°é€‰æ‹© 10 ä¸ªè§†å›¾ã€‚<br>2)æµ‹è¯•æ•°æ®:æˆ‘ä»¬ä» Thuman3.0[49]å’Œæˆ‘ä»¬æ”¶é›†çš„ CityUHuman æ•°æ®é›†ä¸­ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Œä»¥è¯„ä¼°ä¸åŒæ–¹æ³•çš„æ€§èƒ½ã€‚æˆ‘ä»¬ä½¿ç”¨ 8 ä¸ªè§†å›¾åœ¨åèˆªè½´ä¸Šæ¯ 45 åº¦æ¸²æŸ“ä¸€æ¬¡æ‰«æï¼Œç„¶åä» Thuman3.0 ä¸­éšæœºé€‰æ‹© 459 å¼  RGB å›¾åƒï¼Œä» CityUHuman ä¸­éšæœºé€‰æ‹© 40 å¼  RGB å›¾åƒã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä»äº’è”ç½‘ä¸Šæ”¶é›†äº†å‡ å¼ çœŸå®çš„å›¾åƒï¼Œå¹¶æ¨æ–­å‡ºç›¸åº”çš„äººä½“ã€‚</p><h2 id="Implementation-Details"><a href="#Implementation-Details" class="headerlink" title="Implementation Details"></a>Implementation Details</h2><p>æ‰€é‡‡ç”¨çš„æ·±åº¦ä¼°è®¡æ–¹æ³• MIM ä»¥åˆ†è¾¨ç‡ä¸º 512 Ã— 512 çš„ RGB å›¾åƒä¸ºè¾“å…¥ã€‚åœ¨ MIM çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº† swin-v2-base æ¶æ„[29]ä½œä¸ºéª¨å¹²ã€‚å­¦ä¹ ç‡è®¾ç½®ä¸º 0.3 Ã— 10eâˆ’4ï¼Œæ‰¹å¤§å°è®¾ç½®ä¸º 8,epoch æ•°è®¾ç½®ä¸º 30ã€‚å…¶ä½™å‚æ•°ä¸åŸ MIM ä¸­çš„å‚æ•°ä¿æŒä¸€è‡´ã€‚è®­ç»ƒåœ¨ 4 å— RTX 3090 Ti gpu ä¸Šè¿›è¡Œã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„åŸºäºç‚¹çš„å­¦ä¹ ç®¡é“ï¼Œç”¨äºå•è§†å›¾ä¸‰ç»´äººä½“é‡å»ºã€‚åœ¨ä» 2D å›¾åƒåŸŸç²—ç•¥æ¨æ–­ 3D ä¿¡æ¯ä¹‹åï¼Œ<strong>æˆ‘ä»¬çš„æ–¹æ³•çš„ç‰¹ç‚¹æ˜¯åœ¨åŸå§‹ 3D å‡ ä½•ç©ºé—´ä¸­è¿›è¡Œæ˜¾å¼çš„ç‚¹äº‘æ“ä½œï¼Œç”Ÿæˆå’Œç»†åŒ–</strong>ã€‚ä¸ä»¥å¾€ä¸»æµçš„éšå¼åŸºäºåœºçš„æ–¹æ³•ç›¸æ¯”ï¼Œè¯¥æ–¹æ³•å…·æœ‰é«˜åº¦çš„çµæ´»æ€§ã€é€šç”¨æ€§ã€é²æ£’æ€§å’Œç²¾ç»†å‡ ä½•ç»†èŠ‚å»ºæ¨¡èƒ½åŠ›ã€‚å¤§é‡çš„å®éªŒè¯æ˜äº†æˆ‘ä»¬çš„ HaP ä¼˜äºç›®å‰æœ€å…ˆè¿›çš„æ–¹æ³•ã€‚<strong>ç„¶è€Œï¼Œå¿…é¡»æ‰¿è®¤ï¼Œåœ¨å¤„ç† RGB å›¾åƒæ—¶ï¼ŒHaP çš„æ€§èƒ½ä»ç„¶å–å†³äºæ·±åº¦ä¼°è®¡æ¨¡å—å’Œ SMPL ä¼°è®¡æ¨¡å—çš„æœ‰æ•ˆæ€§</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœªæ¥çš„åŠªåŠ›å°†é›†ä¸­åœ¨æé«˜è¿™äº›å…³é”®æ¨¡å—çš„æ€§èƒ½ä¸Š</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Diffusion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCD-3DR</title>
      <link href="/3DReconstruction/Single-view/Generative%20Models/CCD-3DR/"/>
      <url>/3DReconstruction/Single-view/Generative%20Models/CCD-3DR/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>CCD-3DR: Consistent Conditioning in Diffusion for Single-Image 3D Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Yan Di1, Chenyangguang Zhang2, Pengyuan Wang1, Guangyao Zhai1, Ruida Zhang2, Fabian Manhardt3, Benjamin Busam1, Xiangyang Ji2, and Federico Tombari1,3</td></tr><tr><td>Conf/Jour</td><td>arXiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4789424767274844161&amp;noteId=2014146864821066240">CCD-3DR: Consistent Conditioning in Diffusion for Single-Image 3D Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p>No Code<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021115606.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åˆ©ç”¨æ‰©æ•£æ¨¡å‹å¯¹<strong>å•å¹…RGBå›¾åƒ</strong>ä¸­æ•è·çš„ç‰©ä½“ç”Ÿæˆä¸‰ç»´ç¨€ç–ç‚¹äº‘çš„å½¢çŠ¶é‡å»ºæ–¹æ³•ã€‚æœ€è¿‘çš„æ–¹æ³•é€šå¸¸åˆ©ç”¨å…¨å±€åµŒå…¥æˆ–åŸºäºå±€éƒ¨æŠ•å½±çš„ç‰¹å¾ä½œä¸ºæŒ‡å¯¼æ‰©æ•£æ¨¡å‹çš„æ¡ä»¶ã€‚ç„¶è€Œï¼Œè¿™ç§ç­–ç•¥ä¸èƒ½å°†å»å™ªç‚¹äº‘ä¸ç»™å®šå›¾åƒä¸€è‡´å¯¹é½ï¼Œå¯¼è‡´æ¡ä»¶ä¸ç¨³å®šï¼Œæ€§èƒ½è¾ƒå·®ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†CCD-3DRï¼Œå®ƒåˆ©ç”¨äº†ä¸€ç§æ–°çš„ä¸­å¿ƒæ‰©æ•£æ¦‚ç‡æ¨¡å‹æ¥è¿›è¡Œä¸€è‡´çš„å±€éƒ¨ç‰¹å¾æ¡ä»¶åå°„ã€‚æˆ‘ä»¬å°†æ‰©æ•£æ¨¡å‹ä¸­çš„å™ªå£°å’Œé‡‡æ ·ç‚¹äº‘çº¦æŸåˆ°ä¸€ä¸ªå­ç©ºé—´ä¸­ï¼Œåœ¨è¿™ä¸ªå­ç©ºé—´ä¸­ï¼Œç‚¹äº‘ä¸­å¿ƒåœ¨æ­£å‘æ‰©æ•£è¿‡ç¨‹å’Œåå‘æ‰©æ•£è¿‡ç¨‹ä¸­ä¿æŒä¸å˜ã€‚ç¨³å®šçš„ç‚¹äº‘ä¸­å¿ƒè¿›ä¸€æ­¥å……å½“é”šï¼Œå°†æ¯ä¸ªç‚¹ä¸å…¶ç›¸åº”çš„åŸºäºæŠ•å½±çš„å±€éƒ¨ç‰¹å¾å¯¹é½ã€‚åœ¨åˆæˆåŸºå‡†ShapeNet-R2N2ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒè¡¨æ˜ï¼ŒCCD-3DRçš„æ€§èƒ½å¤§å¤§ä¼˜äºæ‰€æœ‰ç«äº‰å¯¹æ‰‹ï¼Œæ”¹è¿›å¹…åº¦è¶…è¿‡40%ã€‚æˆ‘ä»¬è¿˜æä¾›äº†å®é™…æ•°æ®é›†Pix3Dçš„ç»“æœï¼Œä»¥å½»åº•å±•ç¤ºCCD3DRåœ¨å®é™…åº”ç”¨ä¸­çš„æ½œåŠ›ã€‚ä»£ç å°†å¾ˆå¿«å‘å¸ƒ</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Data Structures &amp; Algorithm</title>
      <link href="/Learn/Python/Algorithm/"/>
      <url>/Learn/Python/Algorithm/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://www.hello-algo.com/">Hello ç®—æ³• (hello-algo.com)</a></p></blockquote><span id="more"></span><h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><p>æŒ‰é€»è¾‘ç»“æ„åˆ†ç±»</p><ul><li><strong>çº¿æ€§ç»“æ„</strong>ï¼šæ•°ç»„ã€é“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆã€å“ˆå¸Œè¡¨ï¼Œ<strong>å…ƒç´ ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„é¡ºåºå…³ç³»</strong>ã€‚</li><li><strong>æ ‘å½¢ç»“æ„</strong>ï¼šæ ‘ã€å †ã€å“ˆå¸Œè¡¨ï¼Œ<strong>å…ƒç´ ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»</strong>ã€‚</li><li><strong>ç½‘çŠ¶ç»“æ„</strong>ï¼šå›¾ï¼Œ<strong>å…ƒç´ ä¹‹é—´æ˜¯å¤šå¯¹å¤šçš„å…³ç³»</strong>ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107163456.png" alt="image.png|666"></p><p>æŒ‰ç‰©ç†ç»“æ„åˆ†ç±»<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107163328.png" alt="image.png|666"></p><p><strong>æ‰€æœ‰æ•°æ®ç»“æ„éƒ½æ˜¯åŸºäºæ•°ç»„ã€é“¾è¡¨æˆ–äºŒè€…çš„ç»„åˆå®ç°çš„</strong>ã€‚ä¾‹å¦‚ï¼Œæ ˆå’Œé˜Ÿåˆ—æ—¢å¯ä»¥ä½¿ç”¨æ•°ç»„å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é“¾è¡¨å®ç°ï¼›è€Œå“ˆå¸Œè¡¨çš„å®ç°å¯èƒ½åŒæ—¶åŒ…å«æ•°ç»„å’Œé“¾è¡¨ã€‚</p><ul><li><strong>åŸºäºæ•°ç»„å¯å®ç°</strong>ï¼šæ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€æ ‘ã€å †ã€å›¾ã€çŸ©é˜µã€å¼ é‡ï¼ˆç»´åº¦ â‰¥3 çš„æ•°ç»„ï¼‰ç­‰ã€‚<strong>é™æ€æ•°æ®ç»“æ„</strong></li><li><strong>åŸºäºé“¾è¡¨å¯å®ç°</strong>ï¼šæ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€æ ‘ã€å †ã€å›¾ç­‰ã€‚<strong>åŠ¨æ€æ•°æ®ç»“æ„</strong></li></ul><p>è®¡ç®—æœºç¼–ç </p><ul><li>æ•´æ•°åœ¨è®¡ç®—æœºä¸­æ˜¯ä»¥è¡¥ç çš„å½¢å¼å­˜å‚¨çš„ã€‚åœ¨è¡¥ç è¡¨ç¤ºä¸‹ï¼Œè®¡ç®—æœºå¯ä»¥å¯¹æ­£æ•°å’Œè´Ÿæ•°çš„åŠ æ³•ä¸€è§†åŒä»ï¼Œä¸éœ€è¦ä¸ºå‡æ³•æ“ä½œå•ç‹¬è®¾è®¡ç‰¹æ®Šçš„ç¡¬ä»¶ç”µè·¯ï¼Œå¹¶ä¸”ä¸å­˜åœ¨æ­£è´Ÿé›¶æ­§ä¹‰çš„é—®é¢˜ã€‚</li></ul><p>è¡¥ç çš„è¡¥ç æ˜¯åŸç  </p><blockquote><p><a href="https://www.zhihu.com/question/23164162">è´Ÿæ•°çš„è¡¥ç æ€ä¹ˆå˜å›åŸç ï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p><a href="https://www.hello-algo.com/chapter_array_and_linkedlist/array/">4.1   æ•°ç»„ - Hello ç®—æ³• (hello-algo.com)</a></p><p>æ•°ç»„å­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜ç©ºé—´å†…ï¼Œä¸”å…ƒç´ ç±»å‹ç›¸åŒã€‚è¿™ç§åšæ³•åŒ…å«ä¸°å¯Œçš„å…ˆéªŒä¿¡æ¯ï¼Œç³»ç»Ÿå¯ä»¥åˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥ä¼˜åŒ–æ•°æ®ç»“æ„çš„æ“ä½œæ•ˆç‡ã€‚</p><p>æ•°ç»„å…¸å‹åº”ç”¨</p><ul><li>éšæœºè®¿é—®ï¼šå¦‚æœæˆ‘ä»¬æƒ³è¦éšæœºæŠ½å–ä¸€äº›æ ·æœ¬ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨æ•°ç»„å­˜å‚¨ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªéšæœºåºåˆ—ï¼Œæ ¹æ®ç´¢å¼•å®ç°æ ·æœ¬çš„éšæœºæŠ½å–ã€‚</li><li>æ’åºå’Œæœç´¢ï¼šæ•°ç»„æ˜¯æ’åºå’Œæœç´¢ç®—æ³•æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€äºŒåˆ†æŸ¥æ‰¾ç­‰éƒ½ä¸»è¦åœ¨æ•°ç»„ä¸Šè¿›è¡Œã€‚</li><li>æŸ¥æ‰¾è¡¨ï¼šå½“æˆ‘ä»¬éœ€è¦å¿«é€ŸæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ æˆ–è€…éœ€è¦æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ çš„å¯¹åº”å…³ç³»æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ä½œä¸ºæŸ¥æ‰¾è¡¨ã€‚å‡å¦‚æˆ‘ä»¬æƒ³è¦å®ç°å­—ç¬¦åˆ° ASCII ç çš„æ˜ å°„ï¼Œåˆ™å¯ä»¥å°†å­—ç¬¦çš„ ASCII ç å€¼ä½œä¸ºç´¢å¼•ï¼Œå¯¹åº”çš„å…ƒç´ å­˜æ”¾åœ¨æ•°ç»„ä¸­çš„å¯¹åº”ä½ç½®ã€‚</li><li>æœºå™¨å­¦ä¹ ï¼šç¥ç»ç½‘ç»œä¸­å¤§é‡ä½¿ç”¨äº†å‘é‡ã€çŸ©é˜µã€å¼ é‡ä¹‹é—´çš„çº¿æ€§ä»£æ•°è¿ç®—ï¼Œè¿™äº›æ•°æ®éƒ½æ˜¯ä»¥æ•°ç»„çš„å½¢å¼æ„å»ºçš„ã€‚æ•°ç»„æ˜¯ç¥ç»ç½‘ç»œç¼–ç¨‹ä¸­æœ€å¸¸ä½¿ç”¨çš„æ•°æ®ç»“æ„ã€‚</li><li>æ•°æ®ç»“æ„å®ç°ï¼šæ•°ç»„å¯ä»¥ç”¨äºå®ç°æ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€å †ã€å›¾ç­‰æ•°æ®ç»“æ„ã€‚ä¾‹å¦‚ï¼Œå›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤ºå®é™…ä¸Šæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚</li></ul><p>å½“æ•°ç»„éå¸¸å¤§æ—¶ï¼Œå†…å­˜å¯èƒ½æ— æ³•æä¾›å¦‚æ­¤å¤§çš„è¿ç»­ç©ºé—´ â€”&gt; é“¾è¡¨çš„çµæ´»æ€§</p><p>æ•°ç»„å¸¸ç”¨æ“ä½œ</p><ol><li>åˆå§‹åŒ–æ•°ç»„</li><li>è®¿é—®å…ƒç´ </li><li>æ’å…¥å…ƒç´ </li><li>åˆ é™¤å…ƒç´ </li><li>éå†æ•°ç»„</li><li>æŸ¥æ‰¾å…ƒç´ </li><li>æ‰©å®¹æ•°ç»„</li></ol><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p><a href="https://www.hello-algo.com/chapter_array_and_linkedlist/linked_list/">4.2   é“¾è¡¨ - Hello ç®—æ³• (hello-algo.com)</a></p><p>é“¾è¡¨çš„ç»„æˆå•ä½æ˜¯ã€ŒèŠ‚ç‚¹ nodeã€å¯¹è±¡ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸¤é¡¹æ•°æ®ï¼šèŠ‚ç‚¹çš„â€œå€¼â€å’ŒæŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„â€œå¼•ç”¨â€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–é“¾è¡¨ 1 -&gt; 3 -&gt; 2 -&gt; 5 -&gt; 4</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–å„ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">n0 = ListNode(<span class="number">1</span>)</span><br><span class="line">n1 = ListNode(<span class="number">3</span>)</span><br><span class="line">n2 = ListNode(<span class="number">2</span>)</span><br><span class="line">n3 = ListNode(<span class="number">5</span>)</span><br><span class="line">n4 = ListNode(<span class="number">4</span>)</span><br><span class="line"><span class="comment"># æ„å»ºå¼•ç”¨æŒ‡å‘</span></span><br><span class="line">n0.<span class="built_in">next</span> = n1</span><br><span class="line">n1.<span class="built_in">next</span> = n2</span><br><span class="line">n2.<span class="built_in">next</span> = n3</span><br><span class="line">n3.<span class="built_in">next</span> = n4</span><br></pre></td></tr></table></figure><p><strong>é€šå¸¸å°†å¤´èŠ‚ç‚¹å½“ä½œé“¾è¡¨çš„ä»£ç§°</strong>ï¼Œæ¯”å¦‚ä»¥ä¸Šä»£ç ä¸­çš„é“¾è¡¨å¯è¢«è®°åšé“¾è¡¨ <code>n0</code> ã€‚</p><p>æ•°ç»„ä¸é“¾è¡¨å¯¹æ¯”ï¼š</p><div class="table-container"><table><thead><tr><th></th><th>æ•°ç»„</th><th>é“¾è¡¨</th></tr></thead><tbody><tr><td>å­˜å‚¨æ–¹å¼</td><td>è¿ç»­å†…å­˜ç©ºé—´</td><td>åˆ†æ•£å†…å­˜ç©ºé—´</td></tr><tr><td>ç¼“å­˜å±€éƒ¨æ€§</td><td>å‹å¥½</td><td>ä¸å‹å¥½</td></tr><tr><td>å®¹é‡æ‰©å±•</td><td>é•¿åº¦ä¸å¯å˜</td><td>å¯çµæ´»æ‰©å±•</td></tr><tr><td>å†…å­˜æ•ˆç‡</td><td>å ç”¨å†…å­˜å°‘ã€æµªè´¹éƒ¨åˆ†ç©ºé—´</td><td>å ç”¨å†…å­˜å¤š</td></tr><tr><td>è®¿é—®å…ƒç´ </td><td>O(1)</td><td>O(n)</td></tr><tr><td>æ·»åŠ å…ƒç´ </td><td>O(n)</td><td>O(1)</td></tr><tr><td>åˆ é™¤å…ƒç´ </td><td>O(n)</td><td>O(1)</td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231122152228.png" alt="image.png|666"></p><p> é“¾è¡¨å…¸å‹åº”ç”¨</p><ul><li>å•å‘é“¾è¡¨é€šå¸¸ç”¨äºå®ç°æ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨å’Œå›¾ç­‰æ•°æ®ç»“æ„ã€‚</li><li>åŒå‘é“¾è¡¨å¸¸è¢«ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾å‰ä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªå…ƒç´ çš„åœºæ™¯ã€‚<ul><li>é«˜çº§æ•°æ®ç»“æ„ï¼šæ¯”å¦‚åœ¨çº¢é»‘æ ‘ã€B æ ‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è®¿é—®èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œè¿™å¯ä»¥é€šè¿‡åœ¨èŠ‚ç‚¹ä¸­ä¿å­˜ä¸€ä¸ªæŒ‡å‘çˆ¶èŠ‚ç‚¹çš„å¼•ç”¨æ¥å®ç°ï¼Œç±»ä¼¼äºåŒå‘é“¾è¡¨ã€‚</li><li>æµè§ˆå™¨å†å²ï¼šåœ¨ç½‘é¡µæµè§ˆå™¨ä¸­ï¼Œå½“ç”¨æˆ·ç‚¹å‡»å‰è¿›æˆ–åé€€æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨éœ€è¦çŸ¥é“ç”¨æˆ·è®¿é—®è¿‡çš„å‰ä¸€ä¸ªå’Œåä¸€ä¸ªç½‘é¡µã€‚åŒå‘é“¾è¡¨çš„ç‰¹æ€§ä½¿å¾—è¿™ç§æ“ä½œå˜å¾—ç®€å•ã€‚</li><li>LRU ç®—æ³•ï¼šåœ¨ç¼“å­˜æ·˜æ±°ç®—æ³•ï¼ˆLRUï¼‰ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¿«é€Ÿæ‰¾åˆ°æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®ï¼Œä»¥åŠæ”¯æŒå¿«é€Ÿåœ°æ·»åŠ å’Œåˆ é™¤èŠ‚ç‚¹ã€‚è¿™æ—¶å€™ä½¿ç”¨åŒå‘é“¾è¡¨å°±éå¸¸åˆé€‚ã€‚</li><li>å¾ªç¯é“¾è¡¨å¸¸è¢«ç”¨äºéœ€è¦å‘¨æœŸæ€§æ“ä½œçš„åœºæ™¯ï¼Œæ¯”å¦‚æ“ä½œç³»ç»Ÿçš„èµ„æºè°ƒåº¦ã€‚</li><li>æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ï¼šåœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•æ˜¯ä¸€ç§å¸¸è§çš„ CPU è°ƒåº¦ç®—æ³•ï¼Œå®ƒéœ€è¦å¯¹ä¸€ç»„è¿›ç¨‹è¿›è¡Œå¾ªç¯ã€‚æ¯ä¸ªè¿›ç¨‹è¢«èµ‹äºˆä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œå½“æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼ŒCPU å°†åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¿›ç¨‹ã€‚è¿™ç§å¾ªç¯çš„æ“ä½œå°±å¯ä»¥é€šè¿‡å¾ªç¯é“¾è¡¨æ¥å®ç°ã€‚</li><li>æ•°æ®ç¼“å†²åŒºï¼šåœ¨æŸäº›æ•°æ®ç¼“å†²åŒºçš„å®ç°ä¸­ï¼Œä¹Ÿå¯èƒ½ä¼šä½¿ç”¨åˆ°å¾ªç¯é“¾è¡¨ã€‚æ¯”å¦‚åœ¨éŸ³é¢‘ã€è§†é¢‘æ’­æ”¾å™¨ä¸­ï¼Œæ•°æ®æµå¯èƒ½ä¼šè¢«åˆ†æˆå¤šä¸ªç¼“å†²å—å¹¶æ”¾å…¥ä¸€ä¸ªå¾ªç¯é“¾è¡¨ï¼Œä»¥ä¾¿å®ç°æ— ç¼æ’­æ”¾ã€‚</li></ul></li></ul><p>é“¾è¡¨å¸¸ç”¨æ“ä½œ</p><ol><li>åˆå§‹åŒ–é“¾è¡¨</li><li>æ’å…¥èŠ‚ç‚¹</li><li>åˆ é™¤èŠ‚ç‚¹</li><li>è®¿é—®èŠ‚ç‚¹</li><li>æŸ¥æ‰¾èŠ‚ç‚¹</li></ol><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><p>ã€Œåˆ—è¡¨ listã€æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ•°æ®ç»“æ„æ¦‚å¿µï¼Œå®ƒè¡¨ç¤ºå…ƒç´ çš„æœ‰åºé›†åˆï¼Œæ”¯æŒå…ƒç´ è®¿é—®ã€ä¿®æ”¹ã€æ·»åŠ ã€åˆ é™¤å’Œéå†ç­‰æ“ä½œï¼Œæ— éœ€ä½¿ç”¨è€…è€ƒè™‘å®¹é‡é™åˆ¶çš„é—®é¢˜ã€‚<strong>åˆ—è¡¨å¯ä»¥åŸºäºé“¾è¡¨æˆ–æ•°ç»„å®ç°ã€‚</strong></p><p>å®é™…ä¸Šï¼Œ<strong>è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­çš„æ ‡å‡†åº“æä¾›çš„åˆ—è¡¨éƒ½æ˜¯åŸºäºåŠ¨æ€æ•°ç»„å®ç°çš„</strong>ï¼Œä¾‹å¦‚ Python ä¸­çš„ <code>list</code> ã€Java ä¸­çš„ <code>ArrayList</code> ã€C++ ä¸­çš„ <code>vector</code> å’Œ C# ä¸­çš„ <code>List</code> ç­‰ã€‚</p><p><strong>åœ¨æ¥ä¸‹æ¥çš„è®¨è®ºä¸­ï¼Œæˆ‘ä»¬å°†æŠŠâ€œåˆ—è¡¨â€å’Œâ€œåŠ¨æ€æ•°ç»„â€è§†ä¸ºç­‰åŒçš„æ¦‚å¿µã€‚</strong></p><p>åˆ—è¡¨å¸¸ç”¨æ“ä½œ</p><ol><li>åˆå§‹åŒ–åˆ—è¡¨</li><li>è®¿é—®å…ƒç´ </li><li>æ’å…¥ä¸åˆ é™¤å…ƒç´ </li><li>éå†åˆ—è¡¨</li><li>æ‹¼æ¥åˆ—è¡¨</li><li>æ’åºåˆ—è¡¨</li></ol><h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><p>ã€Œæ ˆ stackã€æ˜¯ä¸€ç§éµå¾ªå…ˆå…¥åå‡ºé€»è¾‘çš„çº¿æ€§æ•°æ®ç»“æ„ã€‚</p><ul><li>å…¥æ ˆ push()</li><li>å‡ºæ ˆ pop()</li><li>è®¿é—®æ ˆé¡¶å…ƒç´  peek()</li></ul><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼–ç¨‹è¯­è¨€å†…ç½®çš„æ ˆç±»ã€‚ç„¶è€Œï¼ŒæŸäº›è¯­è¨€å¯èƒ½æ²¡æœ‰ä¸“é—¨æä¾›æ ˆç±»ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥å°†è¯¥è¯­è¨€çš„â€œæ•°ç»„â€æˆ–â€œé“¾è¡¨â€å½“ä½œæ ˆæ¥ä½¿ç”¨ï¼Œå¹¶åœ¨ç¨‹åºé€»è¾‘ä¸Šå¿½ç•¥ä¸æ ˆæ— å…³çš„æ“ä½œã€‚<br>å¦‚pythonï¼šç”¨æ•°ç»„ä½œæ ˆæ¥ä½¿ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–æ ˆ</span></span><br><span class="line"><span class="comment"># Python æ²¡æœ‰å†…ç½®çš„æ ˆç±»ï¼Œå¯ä»¥æŠŠ list å½“ä½œæ ˆæ¥ä½¿ç”¨ </span></span><br><span class="line">stack: <span class="built_in">list</span>[<span class="built_in">int</span>] = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ƒç´ å…¥æ ˆ</span></span><br><span class="line">stack.append(<span class="number">1</span>)</span><br><span class="line">stack.append(<span class="number">3</span>)</span><br><span class="line">stack.append(<span class="number">2</span>)</span><br><span class="line">stack.append(<span class="number">5</span>)</span><br><span class="line">stack.append(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¿é—®æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">peek: <span class="built_in">int</span> = stack[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ƒç´ å‡ºæ ˆ</span></span><br><span class="line">pop: <span class="built_in">int</span> = stack.pop()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ ˆçš„é•¿åº¦</span></span><br><span class="line">size: <span class="built_in">int</span> = <span class="built_in">len</span>(stack)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">is_empty: <span class="built_in">bool</span> = <span class="built_in">len</span>(stack) == <span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><p>ã€Œé˜Ÿåˆ— queueã€æ˜¯ä¸€ç§éµå¾ªå…ˆå…¥å…ˆå‡ºè§„åˆ™çš„çº¿æ€§æ•°æ®ç»“æ„ã€‚é¡¾åæ€ä¹‰ï¼Œé˜Ÿåˆ—æ¨¡æ‹Ÿäº†æ’é˜Ÿç°è±¡ï¼Œå³æ–°æ¥çš„äººä¸æ–­åŠ å…¥é˜Ÿåˆ—å°¾éƒ¨ï¼Œè€Œä½äºé˜Ÿåˆ—å¤´éƒ¨çš„äººé€ä¸ªç¦»å¼€ã€‚</p><ul><li>å°†å…ƒç´ æ·»åŠ è‡³é˜Ÿå°¾ push()</li><li>é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿ pop()</li><li>è®¿é—®é˜Ÿé¦–å…ƒç´  peek()</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–é˜Ÿåˆ—</span></span><br><span class="line"><span class="comment"># åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬å°†åŒå‘é˜Ÿåˆ—ç±» deque å½“ä½œé˜Ÿåˆ—ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># è™½ç„¶ queue.Queue() æ˜¯çº¯æ­£çš„é˜Ÿåˆ—ç±»ï¼Œä½†ä¸å¤ªå¥½ç”¨ï¼Œå› æ­¤ä¸æ¨è</span></span><br><span class="line">que: deque[<span class="built_in">int</span>] = deque()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ƒç´ å…¥é˜Ÿ</span></span><br><span class="line">que.append(<span class="number">1</span>)</span><br><span class="line">que.append(<span class="number">3</span>)</span><br><span class="line">que.append(<span class="number">2</span>)</span><br><span class="line">que.append(<span class="number">5</span>)</span><br><span class="line">que.append(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¿é—®é˜Ÿé¦–å…ƒç´ </span></span><br><span class="line">front: <span class="built_in">int</span> = que[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ƒç´ å‡ºé˜Ÿ</span></span><br><span class="line">pop: <span class="built_in">int</span> = que.popleft()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–é˜Ÿåˆ—çš„é•¿åº¦</span></span><br><span class="line">size: <span class="built_in">int</span> = <span class="built_in">len</span>(que)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">is_empty: <span class="built_in">bool</span> = <span class="built_in">len</span>(que) == <span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="åŒå‘é˜Ÿåˆ—"><a href="#åŒå‘é˜Ÿåˆ—" class="headerlink" title="åŒå‘é˜Ÿåˆ—"></a>åŒå‘é˜Ÿåˆ—</h2><ul><li>å°†å…ƒç´ æ·»åŠ è‡³é˜Ÿé¦– push_first()</li><li>å°†å…ƒç´ æ·»åŠ è‡³é˜Ÿå°¾ push_last()    </li><li>åˆ é™¤é˜Ÿé¦–å…ƒç´  pop_first()    </li><li>åˆ é™¤é˜Ÿå°¾å…ƒç´  pop_last()    </li><li>è®¿é—®é˜Ÿé¦–å…ƒç´  peek_first()    </li><li>è®¿é—®é˜Ÿå°¾å…ƒç´  peek_last()    </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–åŒå‘é˜Ÿåˆ—</span></span><br><span class="line">deque: deque[<span class="built_in">int</span>] = deque()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ƒç´ å…¥é˜Ÿ</span></span><br><span class="line">deque.append(<span class="number">2</span>)      <span class="comment"># æ·»åŠ è‡³é˜Ÿå°¾</span></span><br><span class="line">deque.append(<span class="number">5</span>)</span><br><span class="line">deque.append(<span class="number">4</span>)</span><br><span class="line">deque.appendleft(<span class="number">3</span>)  <span class="comment"># æ·»åŠ è‡³é˜Ÿé¦–</span></span><br><span class="line">deque.appendleft(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¿é—®å…ƒç´ </span></span><br><span class="line">front: <span class="built_in">int</span> = deque[<span class="number">0</span>]  <span class="comment"># é˜Ÿé¦–å…ƒç´ </span></span><br><span class="line">rear: <span class="built_in">int</span> = deque[-<span class="number">1</span>]  <span class="comment"># é˜Ÿå°¾å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ƒç´ å‡ºé˜Ÿ</span></span><br><span class="line">pop_front: <span class="built_in">int</span> = deque.popleft()  <span class="comment"># é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿ</span></span><br><span class="line">pop_rear: <span class="built_in">int</span> = deque.pop()       <span class="comment"># é˜Ÿå°¾å…ƒç´ å‡ºé˜Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–åŒå‘é˜Ÿåˆ—çš„é•¿åº¦</span></span><br><span class="line">size: <span class="built_in">int</span> = <span class="built_in">len</span>(deque)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­åŒå‘é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">is_empty: <span class="built_in">bool</span> = <span class="built_in">len</span>(deque) == <span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><p>ã€Œå“ˆå¸Œè¡¨ hash tableã€ï¼Œåˆç§°ã€Œæ•£åˆ—è¡¨ã€ï¼Œå®ƒé€šè¿‡å»ºç«‹é”® <code>key</code> ä¸å€¼ <code>value</code> ä¹‹é—´çš„æ˜ å°„ï¼Œå®ç°é«˜æ•ˆçš„å…ƒç´ æŸ¥è¯¢ã€‚</p><p>è¡¨ 6-1   å…ƒç´ æŸ¥è¯¢æ•ˆç‡å¯¹æ¯”</p><div class="table-container"><table><thead><tr><th></th><th>æ•°ç»„</th><th>é“¾è¡¨</th><th>å“ˆå¸Œè¡¨</th></tr></thead><tbody><tr><td>æŸ¥æ‰¾å…ƒç´ </td><td>$O(n)$</td><td>$O(n)$</td><td>$O(1)$</td></tr><tr><td>æ·»åŠ å…ƒç´ </td><td>$O(1)$</td><td>$O(1)$</td><td>$O(1)$</td></tr><tr><td>åˆ é™¤å…ƒç´ </td><td>$O(n)$</td><td>$O(n)$</td><td>$O(1)$</td></tr></tbody></table></div><p>å“ˆå¸Œè¡¨çš„å¸¸è§æ“ä½œåŒ…æ‹¬ï¼šåˆå§‹åŒ–ã€æŸ¥è¯¢æ“ä½œã€æ·»åŠ é”®å€¼å¯¹å’Œåˆ é™¤é”®å€¼å¯¹ç­‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–å“ˆå¸Œè¡¨</span></span><br><span class="line">hmap: <span class="built_in">dict</span> = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ“ä½œ</span></span><br><span class="line"><span class="comment"># åœ¨å“ˆå¸Œè¡¨ä¸­æ·»åŠ é”®å€¼å¯¹ (key, value)</span></span><br><span class="line">hmap[<span class="number">12836</span>] = <span class="string">&quot;å°å“ˆ&quot;</span></span><br><span class="line">hmap[<span class="number">15937</span>] = <span class="string">&quot;å°å•°&quot;</span></span><br><span class="line">hmap[<span class="number">16750</span>] = <span class="string">&quot;å°ç®—&quot;</span></span><br><span class="line">hmap[<span class="number">13276</span>] = <span class="string">&quot;å°æ³•&quot;</span></span><br><span class="line">hmap[<span class="number">10583</span>] = <span class="string">&quot;å°é¸­&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢æ“ä½œ</span></span><br><span class="line"><span class="comment"># å‘å“ˆå¸Œè¡¨ä¸­è¾“å…¥é”® key ï¼Œå¾—åˆ°å€¼ value</span></span><br><span class="line">name: <span class="built_in">str</span> = hmap[<span class="number">15937</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ“ä½œ</span></span><br><span class="line"><span class="comment"># åœ¨å“ˆå¸Œè¡¨ä¸­åˆ é™¤é”®å€¼å¯¹ (key, value)</span></span><br><span class="line">hmap.pop(<span class="number">10583</span>)</span><br></pre></td></tr></table></figure><p>åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œæˆ‘ä»¬å°†æ•°ç»„ä¸­çš„æ¯ä¸ªç©ºä½ç§°ä¸ºã€Œæ¡¶ bucketã€ï¼Œæ¯ä¸ªæ¡¶å¯å­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹ã€‚å› æ­¤ï¼ŒæŸ¥è¯¢æ“ä½œå°±æ˜¯æ‰¾åˆ° <code>key</code> å¯¹åº”çš„æ¡¶ï¼Œå¹¶åœ¨æ¡¶ä¸­è·å– <code>value</code> ã€‚</p><p>ã€Œè´Ÿè½½å› å­ load factorã€æ˜¯å“ˆå¸Œè¡¨çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå…¶å®šä¹‰ä¸ºå“ˆå¸Œè¡¨çš„å…ƒç´ æ•°é‡é™¤ä»¥æ¡¶æ•°é‡ï¼Œç”¨äºè¡¡é‡å“ˆå¸Œå†²çªçš„ä¸¥é‡ç¨‹åº¦ï¼Œ<strong>ä¹Ÿå¸¸ä½œä¸ºå“ˆå¸Œè¡¨æ‰©å®¹çš„è§¦å‘æ¡ä»¶</strong>ã€‚ä¾‹å¦‚åœ¨ Java ä¸­ï¼Œå½“è´Ÿè½½å› å­è¶…è¿‡ 0.75 æ—¶ï¼Œç³»ç»Ÿä¼šå°†å“ˆå¸Œè¡¨æ‰©å®¹è‡³åŸå…ˆçš„ 2 å€</p><h3 id="å“ˆå¸Œå†²çªè§£å†³æ–¹æ³•"><a href="#å“ˆå¸Œå†²çªè§£å†³æ–¹æ³•" class="headerlink" title="å“ˆå¸Œå†²çªè§£å†³æ–¹æ³•"></a>å“ˆå¸Œå†²çªè§£å†³æ–¹æ³•</h3><ul><li>é“¾å¼åœ°å€<ul><li><strong>å ç”¨ç©ºé—´å¢å¤§</strong>ï¼šé“¾è¡¨åŒ…å«èŠ‚ç‚¹æŒ‡é’ˆï¼Œå®ƒç›¸æ¯”æ•°ç»„æ›´åŠ è€—è´¹å†…å­˜ç©ºé—´ã€‚</li><li><strong>æŸ¥è¯¢æ•ˆç‡é™ä½</strong>ï¼šå› ä¸ºéœ€è¦çº¿æ€§éå†é“¾è¡¨æ¥æŸ¥æ‰¾å¯¹åº”å…ƒç´ ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240304093305.png" alt="image.png|666"></li></ul></li><li>å¼€æ”¾å¯»å€é€šè¿‡â€œå¤šæ¬¡æ¢æµ‹â€æ¥å¤„ç†å“ˆå¸Œå†²çªï¼Œæ¢æµ‹æ–¹å¼ä¸»è¦åŒ…æ‹¬<strong>çº¿æ€§æ¢æµ‹</strong>ã€<strong>å¹³æ–¹æ¢æµ‹</strong>å’Œ<strong>å¤šæ¬¡å“ˆå¸Œ</strong>ç­‰<ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240304093627.png" alt="image.png|666"></li><li>å½“å‘ç”Ÿå†²çªæ—¶ï¼Œå¹³æ–¹æ¢æµ‹ä¸æ˜¯ç®€å•åœ°è·³è¿‡ä¸€ä¸ªå›ºå®šçš„æ­¥æ•°ï¼Œè€Œæ˜¯è·³è¿‡â€œæ¢æµ‹æ¬¡æ•°çš„å¹³æ–¹â€çš„æ­¥æ•°ï¼Œå³ 1,4,9,â€¦ æ­¥</li><li>å¤šæ¬¡å“ˆå¸Œæ–¹æ³•ä½¿ç”¨å¤šä¸ªå“ˆå¸Œå‡½æ•°è¿›è¡Œæ¢æµ‹ã€‚</li></ul></li></ul><h3 id="å“ˆå¸Œç®—æ³•"><a href="#å“ˆå¸Œç®—æ³•" class="headerlink" title="å“ˆå¸Œç®—æ³•"></a>å“ˆå¸Œç®—æ³•</h3><p><a href="https://www.hello-algo.com/chapter_hashing/hash_algorithm/">6.3   å“ˆå¸Œç®—æ³• - Hello ç®—æ³•</a></p><h2 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h2><p>ã€ŒäºŒå‰æ ‘ binary treeã€æ˜¯ä¸€ç§éçº¿æ€§æ•°æ®ç»“æ„ï¼Œä»£è¡¨â€œç¥–å…ˆâ€ä¸â€œåä»£â€ä¹‹é—´çš„æ´¾ç”Ÿå…³ç³»ï¼Œä½“ç°äº†â€œä¸€åˆ†ä¸ºäºŒâ€çš„åˆ†æ²»é€»è¾‘ã€‚ä¸é“¾è¡¨ç±»ä¼¼ï¼ŒäºŒå‰æ ‘çš„åŸºæœ¬å•å…ƒæ˜¯èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«å€¼ã€å·¦å­èŠ‚ç‚¹å¼•ç”¨å’Œå³å­èŠ‚ç‚¹å¼•ç”¨ã€‚</p><p>äºŒå‰æ ‘çš„å¸¸ç”¨æœ¯è¯­å¦‚å›¾ 7-2 æ‰€ç¤ºã€‚</p><ul><li>ã€Œæ ¹èŠ‚ç‚¹ root nodeã€ï¼šä½äºäºŒå‰æ ‘é¡¶å±‚çš„èŠ‚ç‚¹ï¼Œæ²¡æœ‰çˆ¶èŠ‚ç‚¹ã€‚</li><li>ã€Œå¶èŠ‚ç‚¹ leaf nodeã€ï¼šæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œå…¶ä¸¤ä¸ªæŒ‡é’ˆå‡æŒ‡å‘ <code>None</code> ã€‚</li><li>ã€Œè¾¹ edgeã€ï¼šè¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹çš„çº¿æ®µï¼Œå³èŠ‚ç‚¹å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ã€‚</li><li>èŠ‚ç‚¹æ‰€åœ¨çš„ã€Œå±‚ levelã€ï¼šä»é¡¶è‡³åº•é€’å¢ï¼Œæ ¹èŠ‚ç‚¹æ‰€åœ¨å±‚ä¸º 1 ã€‚</li><li>èŠ‚ç‚¹çš„ã€Œåº¦ degreeã€ï¼šèŠ‚ç‚¹çš„å­èŠ‚ç‚¹çš„æ•°é‡ã€‚åœ¨äºŒå‰æ ‘ä¸­ï¼Œåº¦çš„å–å€¼èŒƒå›´æ˜¯ 0ã€1ã€2 ã€‚</li><li>äºŒå‰æ ‘çš„ã€Œé«˜åº¦ heightã€ï¼šä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶èŠ‚ç‚¹æ‰€ç»è¿‡çš„è¾¹çš„æ•°é‡ã€‚</li><li>èŠ‚ç‚¹çš„ã€Œæ·±åº¦ depthã€ï¼šä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹æ‰€ç»è¿‡çš„è¾¹çš„æ•°é‡ã€‚</li><li>èŠ‚ç‚¹çš„ã€Œé«˜åº¦ heightã€ï¼šä»è·ç¦»è¯¥èŠ‚ç‚¹æœ€è¿œçš„å¶èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹æ‰€ç»è¿‡çš„è¾¹çš„æ•°é‡ã€‚</li><li><strong>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬é€šå¸¸å°†â€œé«˜åº¦â€å’Œâ€œæ·±åº¦â€å®šä¹‰ä¸ºâ€œç»è¿‡çš„è¾¹çš„æ•°é‡â€ï¼Œä½†æœ‰äº›é¢˜ç›®æˆ–æ•™æå¯èƒ½ä¼šå°†å…¶å®šä¹‰ä¸ºâ€œç»è¿‡çš„èŠ‚ç‚¹çš„æ•°é‡â€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé«˜åº¦å’Œæ·±åº¦éƒ½éœ€è¦åŠ  1</strong> </li></ul><p>ä¸é“¾è¡¨ç±»ä¼¼ï¼Œåœ¨äºŒå‰æ ‘ä¸­æ’å…¥ä¸åˆ é™¤èŠ‚ç‚¹å¯ä»¥é€šè¿‡ä¿®æ”¹æŒ‡é’ˆæ¥å®ç°</p><p>å¸¸è§äºŒå‰æ ‘ç±»å‹ï¼š</p><ul><li>å®Œç¾äºŒå‰æ ‘ï¼Œå¸¸è¢«ç§°ä¸ºã€Œæ»¡äºŒå‰æ ‘ã€ã€‚æ‰€æœ‰å±‚çš„èŠ‚ç‚¹éƒ½è¢«å®Œå…¨å¡«æ»¡</li><li>å®Œå…¨äºŒå‰æ ‘ï¼Œåªæœ‰æœ€åº•å±‚çš„èŠ‚ç‚¹æœªè¢«å¡«æ»¡ï¼Œä¸”æœ€åº•å±‚èŠ‚ç‚¹å°½é‡é å·¦å¡«å……</li><li>å®Œæ»¡äºŒå‰æ ‘ï¼Œé™¤äº†å¶èŠ‚ç‚¹ä¹‹å¤–ï¼Œå…¶ä½™æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</li><li>å¹³è¡¡äºŒå‰æ ‘ï¼Œä»»æ„èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1 ã€‚</li></ul><p>å½“æ‰€æœ‰èŠ‚ç‚¹éƒ½åå‘ä¸€ä¾§æ—¶ï¼Œ<strong>äºŒå‰æ ‘é€€åŒ–</strong>ä¸ºâ€œé“¾è¡¨â€</p><h3 id="äºŒå‰æ ‘éå†"><a href="#äºŒå‰æ ‘éå†" class="headerlink" title="äºŒå‰æ ‘éå†"></a>äºŒå‰æ ‘éå†</h3><p>ä»ç‰©ç†ç»“æ„çš„è§’åº¦æ¥çœ‹ï¼Œæ ‘æ˜¯ä¸€ç§åŸºäºé“¾è¡¨çš„æ•°æ®ç»“æ„ï¼Œå› æ­¤å…¶éå†æ–¹å¼æ˜¯é€šè¿‡æŒ‡é’ˆé€ä¸ªè®¿é—®èŠ‚ç‚¹ã€‚ç„¶è€Œï¼Œæ ‘æ˜¯ä¸€ç§éçº¿æ€§æ•°æ®ç»“æ„ï¼Œè¿™ä½¿å¾—éå†æ ‘æ¯”éå†é“¾è¡¨æ›´åŠ å¤æ‚ï¼Œ<strong>éœ€è¦å€ŸåŠ©æœç´¢ç®—æ³•æ¥å®ç°</strong>ã€‚</p><p>æ—¶é—´å¤æ‚åº¦$o(n)$ ï¼Œç©ºé—´å¤æ‚åº¦$o(n)$</p><ul><li>å±‚åºéå†ï¼Œæœ¬è´¨ä¸Šæ˜¯å¹¿åº¦ä¼˜å…ˆæœç´¢ breadth-first search, BFS<ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240304100257.png" alt="image.png|666"></li></ul></li><li>å‰åºã€ä¸­åºã€ååºéå†ï¼Œæœ¬è´¨ä¸Šæ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢ depth-first search, DFS<ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240304100558.png" alt="image.png|666"></li></ul></li></ul><h3 id="äºŒå‰æœç´¢æ ‘"><a href="#äºŒå‰æœç´¢æ ‘" class="headerlink" title="äºŒå‰æœç´¢æ ‘"></a>äºŒå‰æœç´¢æ ‘</h3><p>ã€ŒäºŒå‰æœç´¢æ ‘ binary search treeã€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ã€‚</p><ol><li>å¯¹äºæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &lt; æ ¹èŠ‚ç‚¹çš„å€¼ &lt; å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ã€‚</li><li>ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ï¼Œå³åŒæ ·æ»¡è¶³æ¡ä»¶ <code>1.</code> ã€‚</li></ol><p>äºŒå‰æœç´¢æ ‘çš„<strong>æŸ¥æ‰¾æ“ä½œ</strong>ä¸äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å·¥ä½œåŸç†ä¸€è‡´ï¼Œéƒ½æ˜¯æ¯è½®æ’é™¤ä¸€åŠæƒ…å†µã€‚å¾ªç¯æ¬¡æ•°æœ€å¤šä¸ºäºŒå‰æ ‘çš„é«˜åº¦ï¼Œå½“äºŒå‰æ ‘å¹³è¡¡æ—¶ï¼Œä½¿ç”¨$o(log n)$æ—¶é—´ã€‚<br>ä¸æŸ¥æ‰¾èŠ‚ç‚¹ç›¸åŒï¼Œ<strong>æ’å…¥èŠ‚ç‚¹</strong>ä½¿ç”¨$o(log n)$æ—¶é—´ã€‚<br><strong>åˆ é™¤èŠ‚ç‚¹</strong>æ“ä½œåŒæ ·ä½¿ç”¨$o(log n)$æ—¶é—´ï¼Œå…¶ä¸­æŸ¥æ‰¾å¾…åˆ é™¤èŠ‚ç‚¹éœ€è¦$o(log n)$æ—¶é—´ï¼Œè·å–ä¸­åºéå†åç»§èŠ‚ç‚¹éœ€è¦$o(log n)$æ—¶é—´</p><p><strong>äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†åºåˆ—æ˜¯å‡åºçš„</strong></p><p>åœ¨å¤šæ¬¡æ’å…¥å’Œåˆ é™¤æ“ä½œåï¼ŒäºŒå‰æœç´¢æ ‘å¯èƒ½é€€åŒ–ä¸ºé“¾è¡¨<br><strong>AVL æ ‘</strong>æ—¢æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œä¹Ÿæ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼ŒåŒæ—¶æ»¡è¶³è¿™ä¸¤ç±»äºŒå‰æ ‘çš„æ‰€æœ‰æ€§è´¨ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºã€Œå¹³è¡¡äºŒå‰æœç´¢æ ‘ balanced binary search treeã€</p><ul><li>ç”±äº AVL æ ‘çš„ç›¸å…³æ“ä½œéœ€è¦è·å–èŠ‚ç‚¹é«˜åº¦ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸ºèŠ‚ç‚¹ç±»æ·»åŠ  <code>height</code> å˜é‡ã€‚â€œèŠ‚ç‚¹é«˜åº¦â€æ˜¯æŒ‡ä»è¯¥èŠ‚ç‚¹åˆ°å®ƒçš„æœ€è¿œå¶èŠ‚ç‚¹çš„è·ç¦»ï¼Œå³æ‰€ç»è¿‡çš„â€œè¾¹â€çš„æ•°é‡ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¶èŠ‚ç‚¹çš„é«˜åº¦ä¸º 0 ï¼Œè€Œç©ºèŠ‚ç‚¹çš„é«˜åº¦ä¸º âˆ’1 ã€‚</li><li>èŠ‚ç‚¹çš„ã€Œå¹³è¡¡å› å­ balance factorã€å®šä¹‰ä¸ºèŠ‚ç‚¹å·¦å­æ ‘çš„é«˜åº¦å‡å»å³å­æ ‘çš„é«˜åº¦ï¼ŒåŒæ—¶è§„å®šç©ºèŠ‚ç‚¹çš„å¹³è¡¡å› å­ä¸º 0</li><li>AVL æ ‘çš„ç‰¹ç‚¹åœ¨äºâ€œæ—‹è½¬â€æ“ä½œï¼Œå®ƒèƒ½å¤Ÿåœ¨ä¸å½±å“äºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—çš„å‰æä¸‹ï¼Œä½¿å¤±è¡¡èŠ‚ç‚¹é‡æ–°æ¢å¤å¹³è¡¡<ul><li>æˆ‘ä»¬å°†å¹³è¡¡å› å­ç»å¯¹å€¼ &gt;1 çš„èŠ‚ç‚¹ç§°ä¸ºâ€œå¤±è¡¡èŠ‚ç‚¹â€ã€‚æ ¹æ®èŠ‚ç‚¹å¤±è¡¡æƒ…å†µçš„ä¸åŒï¼Œæ—‹è½¬æ“ä½œåˆ†ä¸ºå››ç§ï¼šå³æ—‹ã€å·¦æ—‹ã€å…ˆå³æ—‹åå·¦æ—‹ã€å…ˆå·¦æ—‹åå³æ—‹</li><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240304104705.png" alt="image.png|666"></li></ul></li><li>AVL æ ‘å¸¸ç”¨æ“ä½œ<ul><li>AVL æ ‘çš„èŠ‚ç‚¹æ’å…¥æ“ä½œä¸äºŒå‰æœç´¢æ ‘åœ¨ä¸»ä½“ä¸Šç±»ä¼¼ã€‚å”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œåœ¨ AVL æ ‘ä¸­æ’å…¥èŠ‚ç‚¹åï¼Œä»è¯¥èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·¯å¾„ä¸Šå¯èƒ½ä¼šå‡ºç°ä¸€ç³»åˆ—å¤±è¡¡èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬éœ€è¦ä»è¿™ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œè‡ªåº•å‘ä¸Šæ‰§è¡Œæ—‹è½¬æ“ä½œï¼Œä½¿æ‰€æœ‰å¤±è¡¡èŠ‚ç‚¹æ¢å¤å¹³è¡¡</strong>ã€‚</li><li>ç±»ä¼¼åœ°ï¼Œåœ¨äºŒå‰æœç´¢æ ‘çš„åˆ é™¤èŠ‚ç‚¹æ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œéœ€è¦ä»åº•è‡³é¡¶æ‰§è¡Œæ—‹è½¬æ“ä½œï¼Œä½¿æ‰€æœ‰å¤±è¡¡èŠ‚ç‚¹æ¢å¤å¹³è¡¡</li><li>AVL æ ‘çš„èŠ‚ç‚¹æŸ¥æ‰¾æ“ä½œä¸äºŒå‰æœç´¢æ ‘ä¸€è‡´</li></ul></li><li>é€‚ç”¨ï¼š<ul><li>ç»„ç»‡å’Œå­˜å‚¨å¤§å‹æ•°æ®ï¼Œé€‚ç”¨äºé«˜é¢‘æŸ¥æ‰¾ã€ä½é¢‘å¢åˆ çš„åœºæ™¯ã€‚</li><li>ç”¨äºæ„å»ºæ•°æ®åº“ä¸­çš„ç´¢å¼•ç³»ç»Ÿ</li></ul></li></ul><p>çº¢é»‘æ ‘åœ¨è®¸å¤šåº”ç”¨ä¸­æ¯” AVL æ ‘æ›´å—æ¬¢è¿ã€‚è¿™æ˜¯å› ä¸ºçº¢é»‘æ ‘çš„å¹³è¡¡æ¡ä»¶ç›¸å¯¹å®½æ¾ï¼Œåœ¨çº¢é»‘æ ‘ä¸­æ’å…¥ä¸åˆ é™¤èŠ‚ç‚¹æ‰€éœ€çš„æ—‹è½¬æ“ä½œç›¸å¯¹è¾ƒå°‘ï¼Œå…¶èŠ‚ç‚¹å¢åˆ æ“ä½œçš„å¹³å‡æ•ˆç‡æ›´é«˜</p><h3 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h3><p>ã€Œå † heapã€æ˜¯ä¸€ç§æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å®Œå…¨äºŒå‰æ ‘ï¼Œä¸»è¦å¯åˆ†ä¸ºä¸¤ç§ç±»å‹</p><ul><li>ã€Œå°é¡¶å † min heapã€ï¼šä»»æ„èŠ‚ç‚¹çš„å€¼ â‰¤ å…¶å­èŠ‚ç‚¹çš„å€¼</li><li>ã€Œå¤§é¡¶å † max heapã€ï¼šä»»æ„èŠ‚ç‚¹çš„å€¼ â‰¥ å…¶å­èŠ‚ç‚¹çš„å€¼</li></ul><h2 id="å›¾"><a href="#å›¾" class="headerlink" title="å›¾"></a>å›¾</h2><h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h2 id="æ•°æ®ç»“æ„-1"><a href="#æ•°æ®ç»“æ„-1" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>æ•°ç»„ï¼šPython çš„ list æ˜¯åŠ¨æ€æ•°ç»„ï¼Œå¯ä»¥ç›´æ¥æ‰©å±•</p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DMTet</title>
      <link href="/3DReconstruction/Single-view/Generative%20Models/DMTet/"/>
      <url>/3DReconstruction/Single-view/Generative%20Models/DMTet/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Deep Marching Tetrahedra: a Hybrid Representation for High-Resolution 3D Shape Synthesis</th></tr></thead><tbody><tr><td>Author</td><td>Tianchang Shen and Jun Gao and Kangxue Yin and Ming-Yu Liu and Sanja Fidler</td></tr><tr><td>Conf/Jour</td><td>NeurIPS</td></tr><tr><td>Year</td><td>2021</td></tr><tr><td>Project</td><td><a href="https://research.nvidia.com/labs/toronto-ai/DMTet/">Deep Marching Tetrahedra: a Hybrid Representation for High-Resolution 3D Shape Synthesis (nvidia.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4556109173671075841&amp;noteId=2037631312002498560">Deep Marching Tetrahedra: a Hybrid Representation for High-Resolution 3D Shape Synthesis (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231106171053.png" alt="image.png|666"></p><p>è¾“å…¥ç‚¹äº‘æˆ–ä½åˆ†è¾¨ç‡ä½“ç´ ï¼Œæå–ç‰¹å¾ååˆ©ç”¨GANç½‘ç»œï¼Œç”Ÿæˆæ¯ä¸ªé¡¶ç‚¹çš„ä½ç½®å’ŒSDFåç§»å€¼ï¼Œå¾—åˆ°ä¼˜åŒ–åé¡¶ç‚¹çš„ä½ç½®å’ŒSDF<br>ç»“åˆæ˜¾å¼ä¸éšå¼è¡¨è¾¾çš„è¡¨ç¤ºæ–¹æ³•ï¼Œåˆ©ç”¨MTï¼Œä»éšå¼SDFä¸­é‡å»ºå‡ºæ˜¾å¼mesh </p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬ä»‹ç»äº† DMTETï¼Œä¸€ä¸ªæ·±åº¦3D æ¡ä»¶ç”Ÿæˆæ¨¡å‹ï¼Œå¯ä»¥ä½¿ç”¨ç®€å•çš„ç”¨æˆ·æŒ‡å—(å¦‚ç²—ä½“ç´ )åˆæˆé«˜åˆ†è¾¨ç‡3D å½¢çŠ¶ã€‚å®ƒé€šè¿‡åˆ©ç”¨ä¸€ç§æ–°çš„æ··åˆ3D è¡¨ç¤ºç»“åˆäº†éšå¼å’Œæ˜¾å¼3D è¡¨ç¤ºçš„ä¼˜ç‚¹ã€‚ä¸ç›®å‰çš„éšå¼æ–¹æ³•ç›¸æ¯”ï¼Œ<strong>DMTET ç›´æ¥é’ˆå¯¹é‡å»ºè¡¨é¢è¿›è¡Œä¼˜åŒ–</strong>ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä»¥æ›´å°‘çš„äººå·¥åˆæˆæ›´ç²¾ç»†çš„å‡ ä½•ç»†èŠ‚ã€‚ä¸ç›´æ¥ç”Ÿæˆæ˜¾å¼è¡¨ç¤º(å¦‚ç½‘æ ¼)çš„æ·±åº¦3D ç”Ÿæˆæ¨¡å‹ä¸åŒï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¯ä»¥åˆæˆå…·æœ‰ä»»æ„æ‹“æ‰‘ç»“æ„çš„å½¢çŠ¶ã€‚DMTET çš„æ ¸å¿ƒåŒ…æ‹¬ä¸€ä¸ªå¯å˜å½¢çš„å››é¢ä½“ç½‘æ ¼ï¼Œå®ƒç¼–ç ä¸€ä¸ªç¦»æ•£çš„ç¬¦å·è·ç¦»å‡½æ•°å’Œä¸€ä¸ªå¯å¾®çš„ç§»åŠ¨å››é¢ä½“å±‚ï¼Œå®ƒå°†éšå¼çš„ç¬¦å·è·ç¦»è¡¨ç¤ºè½¬æ¢ä¸ºæ˜¾å¼çš„è¡¨é¢ç½‘æ ¼è¡¨ç¤ºã€‚è¿™ç§ç»„åˆå…è®¸è¡¨é¢å‡ ä½•å’Œæ‹“æ‰‘ç»“æ„çš„è”åˆä¼˜åŒ–ï¼Œä»¥åŠä½¿ç”¨é‡å»ºå’Œåœ¨è¡¨é¢ç½‘æ ¼ä¸Šæ˜ç¡®å®šä¹‰çš„å¯¹æŠ—æŸå¤±æ¥ç”Ÿæˆç»†åˆ†å±‚æ¬¡ã€‚æˆ‘ä»¬çš„æ–¹æ³•æ˜æ˜¾ä¼˜äºç°æœ‰çš„ç²—ç³™ä½“ç´ è¾“å…¥æ¡ä»¶å½¢çŠ¶åˆæˆçš„å·¥ä½œï¼Œè¿™äº›å·¥ä½œæ˜¯åœ¨å¤æ‚çš„3D åŠ¨ç‰©å½¢çŠ¶æ•°æ®é›†ä¸Šè®­ç»ƒçš„ã€‚é¡¹ç›®é¡µé¢: <a href="https://nv-tlabs.github.io/DMTet/">https://nv-tlabs.github.io/DMTet/</a></p><p>è´¡çŒ®ï¼š</p><ul><li>æˆ‘ä»¬è¡¨æ˜ï¼Œä¸ä¹‹å‰çš„ç ”ç©¶[31,45]çš„åˆ†æç›¸æ¯”ï¼Œä½¿ç”¨è¡Œè¿›å››é¢ä½“(MT)ä½œä¸ºå¯å¾®çš„ç­‰é¢å±‚å…è®¸éšå¼åœºè¡¨ç¤ºçš„åº•å±‚å½¢çŠ¶çš„æ‹“æ‰‘å˜åŒ–ã€‚</li><li>æˆ‘ä»¬å°† MT åˆå¹¶åˆ°æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­ï¼Œå¹¶å¼•å…¥ DMTETï¼Œè¿™æ˜¯ä¸€ç§ç»“åˆéšå¼å’Œæ˜¾å¼è¡¨é¢è¡¨ç¤ºçš„æ··åˆè¡¨ç¤ºã€‚æˆ‘ä»¬è¯æ˜äº†ç›´æ¥åœ¨ä»éšåœºæå–çš„è¡¨é¢ä¸Šå®šä¹‰çš„é¢å¤–ç›‘ç£(ä¾‹å¦‚å€’è§’è·ç¦»ï¼Œå¯¹æŠ—æŸå¤±)æé«˜äº†å½¢çŠ¶åˆæˆè´¨é‡ã€‚</li><li>æˆ‘ä»¬å¼•å…¥äº†ä¸€ç§ä»ç²—åˆ°ç²¾çš„ä¼˜åŒ–ç­–ç•¥ï¼Œåœ¨è®­ç»ƒæœŸé—´å°† DMTET æ‰©å±•åˆ°é«˜åˆ†è¾¨ç‡ã€‚å› æ­¤ï¼Œåœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„ä¸‰ç»´å½¢çŠ¶åˆæˆä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬æ¯”æœ€å…ˆè¿›çš„æ–¹æ³•è·å¾—äº†æ›´å¥½çš„é‡å»ºè´¨é‡ï¼ŒåŒæ—¶éœ€è¦æ›´ä½çš„è®¡ç®—æˆæœ¬ã€‚</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="3D-Representation"><a href="#3D-Representation" class="headerlink" title="3D Representation"></a>3D Representation</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231106171053.png" alt="image.png|666"></p><ul><li>é‡‡ç”¨ DefTetï¼šä¸åŒäº DefTet ç”¨å ç”¨å€¼è¡¨ç¤º, æœ¬æ–‡ç”¨ SDF è¡¨ç¤º shape, SDF ç”±å¯å˜å½¢çš„å››é¢ä½“ç½‘æ ¼ç¼–ç </li><li>ä¸å…«å‰æ ‘æ€æƒ³ç±»ä¼¼ï¼Œå›´ç»•é¢„æµ‹è¡¨é¢ç»†åˆ†å››é¢ä½“</li><li>ä½¿ç”¨ Marching Tetrahedra layer å°†ä» SDF çš„éšå¼è¡¨ç¤ºä¸­æå–ä¸‰è§’å½¢ mesh</li></ul><h3 id="Deformable-Tetrahedral-Mesh-as-an-Approximation-of-an-Implicit-Function"><a href="#Deformable-Tetrahedral-Mesh-as-an-Approximation-of-an-Implicit-Function" class="headerlink" title="Deformable Tetrahedral Mesh as an Approximation of an Implicit Function"></a>Deformable Tetrahedral Mesh as an Approximation of an Implicit Function</h3><p>å°†å››é¢ä½“è¡¨ç¤ºä¸º $(V_T,T)$ï¼Œ$V_{T}$ è¡¨ç¤º 4 ä¸ªé¡¶ç‚¹ $\{v_{ak} , v_{bk} , v_{ck} , v_{dk}\}$ï¼Œå…±æœ‰ T ä¸ªå››é¢ä½“<br>é€šè¿‡æ’å€¼å®šä¹‰åœ¨ç½‘æ ¼é¡¶ç‚¹ä¸Šçš„ SDF å€¼æ¥è¡¨ç¤ºç¬¦å·è·ç¦»åŸŸ</p><h3 id="Volume-Subdivision"><a href="#Volume-Subdivision" class="headerlink" title="Volume Subdivision"></a>Volume Subdivision</h3><p>ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬ç”¨ä»ç²—åˆ°ç»†çš„æ–¹å¼æ¥è¡¨ç¤ºå½¢çŠ¶ã€‚æˆ‘ä»¬é€šè¿‡æ£€æŸ¥å››é¢ä½“æ˜¯å¦å…·æœ‰ä¸åŒ SDF ç¬¦å·çš„é¡¶ç‚¹æ¥ç¡®å®šè¡¨é¢å››é¢ä½“ $T_{surf}$ -è¡¨æ˜å®ƒä¸ SDF ç¼–ç çš„è¡¨é¢ç›¸äº¤ã€‚æˆ‘ä»¬å°† $T_{surf}$ åŠå…¶è¿‘é‚»è¿›è¡Œç»†åˆ†ï¼Œå¹¶é€šè¿‡å‘æ¯ä¸ªè¾¹ç¼˜æ·»åŠ ä¸­ç‚¹æ¥æé«˜åˆ†è¾¨ç‡ã€‚æˆ‘ä»¬é€šè¿‡å¹³å‡è¾¹ç¼˜ä¸Šçš„ SDF å€¼æ¥è®¡ç®—æ–°é¡¶ç‚¹çš„ SDF å€¼(å›¾ 2)ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107094332.png" alt="image.png|333"></p><h3 id="Marching-Tetrahedra-for-converting-between-an-Implicit-and-Explicit-Representation"><a href="#Marching-Tetrahedra-for-converting-between-an-Implicit-and-Explicit-Representation" class="headerlink" title="Marching Tetrahedra for converting between an Implicit and Explicit Representation"></a>Marching Tetrahedra for converting between an Implicit and Explicit Representation</h3><p>æˆ‘ä»¬ä½¿ç”¨ Marching Tetrahedra[15]ç®—æ³•å°†ç¼–ç çš„ SDF è½¬æ¢ä¸ºæ˜¾å¼ä¸‰è§’å½¢ç½‘æ ¼ã€‚<br>ç»™å®šå››é¢ä½“é¡¶ç‚¹çš„ SDF å€¼ $\{s(v_a),s(v_b),s(v_c),s(v_d)\}$ï¼Œ MT æ ¹æ® s(v)çš„ç¬¦å·ç¡®å®šå››é¢ä½“å†…éƒ¨çš„è¡¨é¢ç±»å‹ï¼Œå¦‚å›¾3æ‰€ç¤ºã€‚æ„å‹çš„æ€»æ•°ä¸º $2^4 = 16$ï¼Œåœ¨è€ƒè™‘æ—‹è½¬å¯¹ç§°æ€§åå¯åˆ†ä¸º 3 ç§ç‹¬ç‰¹çš„æƒ…å†µã€‚ä¸€æ—¦ç¡®å®šäº†å››é¢ä½“å†…éƒ¨çš„æ›²é¢ç±»å‹ï¼Œåœ¨æ²¿å››é¢ä½“è¾¹ç¼˜çš„çº¿æ€§æ’å€¼çš„é›¶äº¤ç‚¹å¤„è®¡ç®—ç­‰è·æ›²é¢çš„é¡¶ç‚¹ä½ç½®ï¼Œå¦‚å›¾ 3 æ‰€ç¤ºã€‚</p><h3 id="Surface-Subdivision"><a href="#Surface-Subdivision" class="headerlink" title="Surface Subdivision"></a>Surface Subdivision</h3><p>æœ‰ä¸€ä¸ªè¡¨é¢ç½‘æ ¼ä½œä¸ºè¾“å‡ºå…è®¸æˆ‘ä»¬è¿›ä¸€æ­¥å¢åŠ è¡¨ç¤ºèƒ½åŠ›å’Œå½¢çŠ¶çš„è§†è§‰è´¨é‡ä¸ä¸€ä¸ªå¯å¾®åˆ†çš„è¡¨é¢ç»†åˆ†æ¨¡å—ã€‚æˆ‘ä»¬éµå¾ªå¾ªç¯ç»†åˆ†æ–¹æ³•[35]çš„æ–¹æ¡ˆï¼Œä½†ä¸æ˜¯ä½¿ç”¨ä¸€ç»„å›ºå®šçš„å‚æ•°è¿›è¡Œç»†åˆ†ï¼Œè€Œæ˜¯ä½¿è¿™äº›å‚æ•°åœ¨ DMTET ä¸­å¯å­¦ä¹ ã€‚å…·ä½“æ¥è¯´ï¼Œå¯å­¦ä¹ çš„å‚æ•°åŒ…æ‹¬æ¯ä¸ªç½‘æ ¼é¡¶ç‚¹ $v_{i}^{\prime}$ çš„ä½ç½®ï¼Œä»¥åŠ $\alpha_{i}$ï¼Œ $\alpha_{i}$ é€šè¿‡åŠ æƒç›¸é‚»é¡¶ç‚¹çš„å¹³æ»‘åº¦æ¥æ§åˆ¶ç”Ÿæˆçš„è¡¨é¢ã€‚æ³¨æ„ï¼Œä¸ Liu et al.[33]ä¸åŒï¼Œæˆ‘ä»¬åªåœ¨å¼€å§‹æ—¶é¢„æµ‹æ¯ä¸ªé¡¶ç‚¹å‚æ•°ï¼Œå¹¶å°†å…¶å¸¦å…¥åç»­çš„ç»†åˆ†è¿­ä»£ï¼Œä»¥è·å¾—æ›´ä½çš„è®¡ç®—æˆæœ¬ã€‚</p><h2 id="DMTET-3D-Deep-Conditional-Generative-Model"><a href="#DMTET-3D-Deep-Conditional-Generative-Model" class="headerlink" title="DMTET: 3D Deep Conditional Generative Model"></a>DMTET: 3D Deep Conditional Generative Model</h2><p>ç›®çš„ï¼šä»è¾“å…¥ x(ç‚¹äº‘æˆ–ç²—ä½“ç´ åŒ–å½¢çŠ¶)è¾“å‡ºé«˜åˆ†è¾¨ç‡ 3D ç½‘æ ¼ M</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107095201.png" alt="image.png|666"></p><h3 id="3D-Generator"><a href="#3D-Generator" class="headerlink" title="3D Generator"></a>3D Generator</h3><p><strong>Input Encoder</strong><br>ç‚¹äº‘ï¼šä½¿ç”¨<strong>PVCNN</strong>[34]ä½œä¸ºè¾“å…¥ç¼–ç å™¨ï¼Œä»ç‚¹äº‘ä¸­æå–3D ç‰¹å¾ä½“ $F_{vol}(x)$ã€‚<br>ç²—ä½“ç´ ï¼šæˆ‘ä»¬åœ¨å…¶è¡¨é¢é‡‡æ ·ç‚¹ã€‚æˆ‘ä»¬é€šè¿‡ä¸‰çº¿æ€§æ’å€¼è®¡ç®—ç½‘æ ¼é¡¶ç‚¹ $v\in\mathbb{R}^3$ çš„ç‰¹å¾å‘é‡ $F_{vol}(v,x)$ã€‚</p><p><strong>Initial Prediction of SDF</strong><br>é€šè¿‡ MLP é¢„æµ‹æ¯ä¸ªé¡¶ç‚¹çš„ SDFï¼š$s(v)=\boldsymbol{MLP}(F_{\boldsymbol{vol}}(v,x),v).$ å…¨è¿æ¥ç½‘ç»œè¿˜è¾“å‡ºä¸€ä¸ªç‰¹å¾å‘é‡ f (v)ï¼Œç”¨äºä½“ç»†åˆ†é˜¶æ®µçš„è¡¨é¢ç»†åŒ–</p><p><strong>Surface Refinement with Volume Subdivision</strong></p><p>Surface Refinement<br>åœ¨è·å¾—åˆå§‹ SDF åï¼Œè¿­ä»£ç»†åŒ–æ›²é¢å¹¶ç»†åˆ†å››é¢ä½“ç½‘æ ¼ã€‚æˆ‘ä»¬é¦–å…ˆæ ¹æ®å½“å‰ s(v)å€¼è¯†åˆ«è¡¨é¢å››é¢ä½“ $T_{surf}$ã€‚ç„¶åæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªå›¾ $G=(V_{surf},E_{surf}),$ï¼Œå…¶ä¸­ $V_{surf},E_{surf}$ å¯¹åº”äº $T_{surf}$ ä¸­çš„é¡¶ç‚¹å’Œè¾¹ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨å›¾å½¢å·ç§¯ç½‘ç»œ GCN[32]é¢„æµ‹ $V_{surf}$ ä¸­æ¯ä¸ªé¡¶ç‚¹ i çš„ä½ç½®åç§»é‡ $\Delta v_{i}$ å’Œ SDF æ®‹å·®å€¼ $\Delta s(v_i)$</p><p>$\begin{array}{rcl}f_{v_i}^{\prime}&amp;=&amp;\operatorname{concat}(v_i,s(v_i),F_{vol}(v_i,x),f(v_i)),\end{array}$<br>$(\Delta v_i,\Delta s(v_i),\overline{f(v_i)})_{i=1,\cdots N_{surf}}\quad=\quad\mathrm{GCN}\big((f_{v_i}^{\prime})_{i=1,\cdots N_{surf}},G\big),$</p><p>é€šè¿‡ GCNï¼Œæ›´æ–°:</p><ul><li>$vâ€™_i=v_i+\Delta v_i$</li><li>$s(vâ€™_i)=s(v_i)+\Delta s(v_i).$</li><li>$f_{v_i}^{\prime} \to \overline{f(v_i)}$</li></ul><p>Volume Subdivision<br>åœ¨è¡¨é¢ç»†åŒ–ä¹‹åï¼Œæˆ‘ä»¬æ‰§è¡Œä½“ç§¯ç»†åˆ†æ­¥éª¤ï¼Œç„¶åæ‰§è¡Œé™„åŠ çš„è¡¨é¢ç»†åŒ–æ­¥éª¤ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬é‡æ–°è¯†åˆ«äº† $T_{surf}$ï¼Œå¹¶ç»†åˆ†äº† $T_{surf}$ åŠå…¶è¿‘é‚»ã€‚åœ¨è¿™ä¸¤ä¸ªæ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬éƒ½ä»å®Œæ•´çš„å››é¢ä½“ç½‘æ ¼ä¸­åˆ é™¤äº†æœªç»†åˆ†çš„å››é¢ä½“ï¼Œè¿™èŠ‚çœäº†å†…å­˜å’Œè®¡ç®—ï¼Œå› ä¸º $T_{surf}$ çš„å¤§å°ä¸å¯¹è±¡çš„è¡¨é¢ç§¯æˆæ­£æ¯”ï¼Œå¹¶ä¸”éšç€ç½‘æ ¼åˆ†è¾¨ç‡çš„å¢åŠ å‘ˆäºŒæ¬¡è€Œä¸æ˜¯ä¸‰æ¬¡ç¼©æ”¾ã€‚</p><p>æ³¨æ„ï¼ŒSDF å€¼å’Œé¡¶ç‚¹çš„ä½ç½®æ˜¯ä»ç»†åˆ†å‰çš„æ°´å¹³ç»§æ‰¿çš„ï¼Œå› æ­¤ï¼Œåœ¨æœ€ç»ˆè¡¨é¢è®¡ç®—çš„æŸå¤±å¯ä»¥åå‘ä¼ æ’­åˆ°æ‰€æœ‰æ°´å¹³çš„æ‰€æœ‰é¡¶ç‚¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„ DMTET è‡ªåŠ¨å­¦ä¹ ç»†åˆ†å››é¢ä½“ï¼Œå¹¶ä¸”ä¸éœ€è¦åœ¨ä¸­é—´æ­¥éª¤ä¸­æ·»åŠ é¢å¤–çš„æŸå¤±é¡¹æ¥ç›‘ç£å…«å‰æ ‘å±‚æ¬¡ç»“æ„çš„å­¦ä¹ ï¼Œå°±åƒä¹‹å‰çš„å·¥ä½œ <a href="https://readpaper.com/paper/2949394278">Octree Generating Networks</a> ä¸€æ ·</p><p><strong>Learnable Surface Subdivision</strong><br>åœ¨ MT æå–è¡¨é¢ç½‘æ ¼åï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥è¿›è¡Œå¯å­¦ä¹ çš„è¡¨é¢ç»†åˆ†ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨æå–çš„ç½‘æ ¼ä¸Šæ„å»ºä¸€ä¸ªæ–°çš„å›¾ï¼Œå¹¶ä½¿ç”¨ GCN æ¥é¢„æµ‹æ¯ä¸ªé¡¶ç‚¹çš„æ›´æ–°ä½ç½® $v_{i}^{\prime}$ï¼Œ $\alpha_{i}$ ç”¨äºå¾ªç¯ç»†åˆ†ã€‚è¯¥æ­¥éª¤æ¶ˆé™¤äº†é‡åŒ–è¯¯å·®ï¼Œå¹¶é€šè¿‡è°ƒæ•´ $\alpha_{i}$ å‡è½»äº†ç»å…¸ç¯è·¯ç»†åˆ†æ–¹æ³•ä¸­å›ºå®šçš„è¿‘ä¼¼è¯¯å·®ã€‚</p><h3 id="3D-Discriminator"><a href="#3D-Discriminator" class="headerlink" title="3D Discriminator"></a>3D Discriminator</h3><p>æˆ‘ä»¬åœ¨ç”Ÿæˆå™¨é¢„æµ‹çš„æœ€ç»ˆè¡¨é¢ä¸Šåº”ç”¨ä¸‰ç»´é‰´åˆ«å™¨ Dã€‚æˆ‘ä»¬çš„ç»éªŒå‘ç°ï¼Œä½¿ç”¨ DECOR-GAN[6]çš„3D CNN ä½œä¸ºä»é¢„æµ‹ç½‘æ ¼è®¡ç®—çš„å¸¦ç¬¦å·è·ç¦»åŸŸçš„åˆ¤åˆ«å™¨å¯ä»¥æœ‰æ•ˆåœ°æ•è·å±€éƒ¨ç»†èŠ‚ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬é¦–å…ˆä»ç›®æ ‡ç½‘æ ¼ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªé«˜æ›²ç‡é¡¶ç‚¹ vï¼Œåœ¨ v å‘¨å›´çš„ä½“ç´ åŒ–åŒºåŸŸè®¡ç®—åœ°é¢çœŸç¬¦å·è·ç¦»åœº $S_{real}\in\mathbb{R}^{N\times N\times N}$ã€‚åŒæ ·ï¼Œæˆ‘ä»¬åœ¨åŒä¸€ä½ç½®è®¡ç®—é¢„æµ‹è¡¨é¢ç½‘æ ¼ M çš„ç¬¦å·è·ç¦»åœºï¼Œå¾—åˆ° $S_{pred}\in\mathbb{R}^{N\times N\times N}$ã€‚è¯·æ³¨æ„ï¼Œ$S_{pred}$ æ˜¯ç½‘æ ¼ M çš„è§£æå‡½æ•°ï¼Œå› æ­¤ $S_{pred}$ çš„æ¢¯åº¦å¯ä»¥åå‘ä¼ æ’­åˆ° M ä¸­çš„é¡¶ç‚¹ä½ç½®ã€‚æˆ‘ä»¬å°† $S_{real}$ æˆ– $S_{pred}$ è¾“å…¥é‰´åˆ«å™¨ï¼Œä»¥åŠä½ç½® v ä¸­çš„ç‰¹å¾å‘é‡ $F_{vol}(\bar{v},x)$ï¼Œé‰´åˆ«å™¨ç„¶åé¢„æµ‹æŒ‡ç¤ºè¾“å…¥æ˜¯æ¥è‡ªçœŸå®å½¢çŠ¶è¿˜æ˜¯ç”Ÿæˆå½¢çŠ¶çš„æ¦‚ç‡ã€‚</p><h2 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h2><ul><li><strong>a surface alignment loss</strong> to encourage the alignment with ground truth surface, <ul><li>$L_{\mathrm{cd}}=\sum\limits_{p\in P_{pred}}\min\limits_{q\in P_{gt}}||p-q||_2+\sum\limits_{q\in P_{gt}}\min\limits_{p\in P_{pred}}||q-p||_2,L_{\mathrm{normal}}=\sum\limits_{p\in P_{pred}}(1-|\vec{\mathbf{n}}_p\cdot\vec{\mathbf{n}}_{\hat{q}}|),$</li><li>ä» GT å’Œ Pred ä¸­åˆ†åˆ«é‡‡æ ·ä¸€ç³»åˆ—ç‚¹ $P_{gt}$ å’Œ $P_{pred}$ï¼Œè®¡ç®—ä¸¤è€…ä¹‹é—´çš„ L2 Chamfer Distance å’Œ normal consistency loss</li></ul></li><li><strong>an adversarial loss</strong> to improve realism of the generated shape, <a href="https://readpaper.com/paper/2949496494">LSGAN</a> ä¸­æå‡º<ul><li>$L_{\mathbf{D}}=\frac{1}{2}[(D(M_{gt})-1)^{2}+D(M_{pred})^{2}],L_{\mathbf{G}}=\frac{1}{2}[(D(M_{pred})-1)^{2}].$</li></ul></li><li><strong>regularizations</strong> to regularize the behavior of SDF and vertex deformations.<ul><li>ä¸Šè¿°æŸå¤±å‡½æ•°ä½œç”¨äºæå–çš„æ›²é¢ä¸Šï¼Œå› æ­¤ï¼Œåœ¨å››é¢ä½“ç½‘æ ¼ä¸­ï¼Œåªæœ‰é è¿‘ç­‰é¢çš„é¡¶ç‚¹æ¥æ”¶æ¢¯åº¦ï¼Œè€Œå…¶ä»–é¡¶ç‚¹ä¸æ¥æ”¶æ¢¯åº¦ã€‚æ­¤å¤–ï¼Œè¡¨é¢æŸå¤±ä¸èƒ½æä¾›å†…éƒ¨/å¤–éƒ¨çš„ä¿¡æ¯ï¼Œå› ä¸ºç¿»è½¬å››é¢ä½“ä¸­æ‰€æœ‰é¡¶ç‚¹çš„ SDF ç¬¦å·å°†å¯¼è‡´ MT æå–ç›¸åŒçš„è¡¨é¢ã€‚è¿™å¯èƒ½å¯¼è‡´è®­ç»ƒè¿‡ç¨‹ä¸­åˆ†ç¦»çš„ç»„ä»¶ã€‚ä¸ºäº†ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ª SDF æŸå¤±æ¥æ­£åˆ™åŒ– SDF å€¼</li><li>$L_{\mathrm{SDF}}=\sum_{v_i\in V_T}|s(v_i)-SDF(v_i,M_{gt})|^2,$</li><li>$SDF(v_i,M_{gt})$ è¡¨ç¤ºç‚¹ $v_i$ åˆ° GT mesh çš„ SDF å€¼</li><li>æ­¤å¤–ï¼Œé¢„æµ‹é¡¶ç‚¹å˜å½¢çš„æ­£åˆ™åŒ–æŸå¤±ï¼Œé¿å…ä¼ªå½± $L_{\mathsf{def}}=\sum_{v_i\in V_T}||\Delta v_i||_2.$</li></ul></li></ul><p>æœ€ç»ˆçš„æ€»æŸå¤±ï¼š$L=\lambda_\mathrm{cd}L_\mathrm{cd}+\lambda_\mathrm{normal}L_\mathrm{normal}+\lambda_\mathrm{G}L_\mathrm{G}+\lambda_\mathrm{SDF}L_\mathrm{SDF}+\lambda_\mathrm{def}L_\mathrm{def},$</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ç§æ·±åº¦ 3D æ¡ä»¶ç”Ÿæˆæ¨¡å‹ï¼Œè¯¥æ¨¡å‹å¯ä»¥ä½¿ç”¨ç®€å•çš„ç”¨æˆ· guidesï¼ˆä¾‹å¦‚ç²—ä½“ç´ ï¼‰æ¥åˆæˆé«˜åˆ†è¾¨ç‡ 3D å½¢çŠ¶ã€‚æˆ‘ä»¬çš„ DMTET å…·æœ‰ä¸€ç§æ–°é¢–çš„ 3D è¡¨ç¤ºï¼Œé€šè¿‡åˆ©ç”¨ä¸¤è€…çš„ä¼˜åŠ¿æ¥æ±‡é›†éšå¼å’Œæ˜¾å¼è¡¨ç¤ºã€‚æˆ‘ä»¬é€šè¿‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åˆæˆçš„è´¨é‡å½¢çŠ¶æ˜æ˜¾æ›´é«˜ï¼Œå‡ ä½•ç»†èŠ‚æ¯”ç°æœ‰æ–¹æ³•æ›´å¥½ï¼Œç”±å®šé‡æŒ‡æ ‡å’Œå¹¿æ³›çš„ç”¨æˆ·ç ”ç©¶è¯å®ã€‚é€šè¿‡å±•ç¤ºæå‡ç²—ä½“ç´ ï¼ˆå¦‚ Minecraft å½¢çŠ¶ï¼‰çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬ä¸€æ­¥æ›´æ¥è¿‘æ°‘ä¸»åŒ– 3D å†…å®¹åˆ›å»ºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RODIN</title>
      <link href="/3DReconstruction/Single-view/Generative%20Models/RODIN/"/>
      <url>/3DReconstruction/Single-view/Generative%20Models/RODIN/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Rodin: A Generative Model for Sculpting 3D Digital Avatars Using Diffusion</th></tr></thead><tbody><tr><td>Author</td><td>Tengfei Wang1â€ <em> Bo Zhang2</em> Ting Zhang2 Shuyang Gu2 Jianmin Bao2</td></tr><tr><td>Conf/Jour</td><td>arXiv preprint</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://3d-avatar-diffusion.microsoft.com/">RODIN Diffusion (microsoft.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4700249091733454849&amp;noteId=2024885528733762560">Rodin: A Generative Model for Sculpting 3D Digital Avatars Using Diffusion (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231028214552.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åˆ©ç”¨æ‰©æ•£æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆä»¥ç¥ç»è¾å°„åœºè¡¨ç¤ºçš„ä¸‰ç»´æ•°å­—åŒ–èº«çš„ä¸‰ç»´ç”Ÿæˆæ¨¡å‹ã€‚ç”Ÿæˆè¿™ç§è™šæ‹Ÿå½¢è±¡çš„ä¸€ä¸ªé‡å¤§æŒ‘æˆ˜æ˜¯ï¼Œ3D ä¸­çš„å†…å­˜å’Œå¤„ç†æˆæœ¬ä»¤äººæœ›è€Œå´æ­¥ï¼Œæ— æ³•ç”Ÿæˆé«˜è´¨é‡è™šæ‹Ÿå½¢è±¡æ‰€éœ€çš„ä¸°å¯Œç»†èŠ‚ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†æ¨å‡ºæ‰©æ•£ç½‘ç»œ(Rodin)ï¼Œå®ƒå°†ç¥ç»è¾å°„åœºè¡¨ç¤ºä¸ºå¤šä¸ª 2D ç‰¹å¾å›¾ï¼Œå¹¶å°†è¿™äº›åœ°å›¾æ¨å‡ºåˆ°å•ä¸ª 2D ç‰¹å¾å¹³é¢ä¸­ï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­æ‰§è¡Œ 3d æ„ŸçŸ¥æ‰©æ•£ã€‚Rodin æ¨¡å‹åœ¨ä¿è¯ä¸‰ç»´æ‰©æ•£å®Œæ•´æ€§çš„åŒæ—¶ï¼Œåˆ©ç”¨ä¸‰ç»´æ„ŸçŸ¥å·ç§¯ï¼Œåœ¨äºŒç»´ç‰¹å¾å¹³é¢ä¸­æ ¹æ®åŸå§‹å…³ç³»å¤„ç†æŠ•å½±ç‰¹å¾ï¼Œä»è€Œæé«˜äº†è®¡ç®—æ•ˆç‡ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨æ½œåœ¨æ¡ä»¶åå°„æ¥åè°ƒå…¨å±€ä¸€è‡´æ€§çš„ç‰¹å¾ç”Ÿæˆï¼Œä»è€Œäº§ç”Ÿé«˜ä¿çœŸçš„è™šæ‹Ÿå½¢è±¡ï¼Œå¹¶ä½¿å…¶åŸºäºæ–‡æœ¬æç¤ºè¿›è¡Œè¯­ä¹‰ç¼–è¾‘ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨å±‚æ¬¡åˆæˆæ¥è¿›ä¸€æ­¥å¢å¼ºç»†èŠ‚ã€‚ä¸ç°æœ‰çš„ç”ŸæˆæŠ€æœ¯ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ¨¡å‹ç”Ÿæˆçš„ 3D å¤´åƒæ•ˆæœæ›´å¥½ã€‚æˆ‘ä»¬å¯ä»¥ç”Ÿæˆå…·æœ‰é€¼çœŸå‘å‹å’Œèƒ¡é¡»ç­‰é¢éƒ¨æ¯›å‘çš„é«˜åº¦è¯¦ç»†çš„åŒ–èº«ã€‚æˆ‘ä»¬è¿˜æ¼”ç¤ºäº†ä»å›¾åƒæˆ–æ–‡æœ¬ç”Ÿæˆ 3D å¤´åƒä»¥åŠæ–‡æœ¬å¼•å¯¼çš„å¯ç¼–è¾‘æ€§ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231028214552.png" alt="image.png|666"></p><p>ä¸ä¹‹å‰ä» 2D å›¾åƒé›†åˆä¸­å­¦ä¹  3D æ„ŸçŸ¥ç”Ÿæˆçš„æ–¹æ³•ä¸åŒï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿ç”¨æ¥è‡ª Blender åˆæˆç®¡é“çš„å¤šè§†å›¾æ¸²æŸ“æ¥å­¦ä¹  3D è§’è‰²ç”Ÿæˆ[69]ã€‚è€Œä¸æ˜¯å°†åŒä¸€ä¸»é¢˜çš„å¤šè§†å›¾å›¾åƒä½œä¸ºå•ç‹¬çš„è®­ç»ƒæ ·æœ¬ï¼Œæˆ‘ä»¬æ‹Ÿåˆæ¯ä¸ªå¤´åƒçš„ä½“ç§¯ç¥ç»è¡¨ç¤ºï¼Œç”¨äºè§£é‡Šä»ä¸åŒè§’åº¦è§‚å¯Ÿåˆ°çš„æ‰€æœ‰ç»“æœã€‚ç„¶åï¼Œæˆ‘ä»¬<strong>ä½¿ç”¨æ‰©æ•£æ¨¡å‹æ¥è¡¨å¾è¿™äº› 3D å®ä¾‹çš„åˆ†å¸ƒ</strong>ã€‚æˆ‘ä»¬åŸºäºæ‰©æ•£çš„ 3D ç”Ÿæˆæ˜¯ä¸€ä¸ªåˆ†å±‚è¿‡ç¨‹-æˆ‘ä»¬é¦–å…ˆåˆ©ç”¨æ‰©æ•£æ¨¡å‹ç”Ÿæˆç²—ç³™çš„å‡ ä½•å½¢çŠ¶ï¼Œç„¶åæ˜¯æ‰©æ•£ä¸Šé‡‡æ ·å™¨è¿›è¡Œç»†èŠ‚åˆæˆã€‚å¦‚å›¾ 2 æ‰€ç¤ºï¼Œæ•´ä¸ª 3D è‚–åƒç”ŸæˆåŒ…æ‹¬å¤šä¸ªè®­ç»ƒé˜¶æ®µï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢çš„å°èŠ‚ä¸­è¯¦ç»†ä»‹ç»ã€‚</p><h2 id="Robust-3D-Representation-Fitting"><a href="#Robust-3D-Representation-Fitting" class="headerlink" title="Robust 3D Representation Fitting"></a>Robust 3D Representation Fitting</h2><p>é²æ£’çš„ 3D è¡¨ç¤ºï¼š</p><ul><li>é€‚åˆç”Ÿæˆç½‘ç»œå¤„ç†çš„<strong>æ˜¾å¼è¡¨ç¤º</strong></li><li><strong>ç´§å‡‘çš„è¡¨ç¤º</strong>ï¼Œè¿™æ˜¯é«˜æ•ˆçš„çš„å†…å­˜åˆ©ç”¨</li><li>è¡¨ç¤ºå¯ä»¥<strong>å¿«é€Ÿæ‹Ÿåˆ</strong>ï¼ŒåŸå§‹ NeRF é‚£æ ·è€—æ—¶æ•°å°æ—¶çš„ä¼˜åŒ–å°†æ— æ³•ç”Ÿæˆç”Ÿæˆå»ºæ¨¡æ‰€éœ€çš„å¤§é‡ 3D è®­ç»ƒæ•°æ®ã€‚</li></ul><p>ä¸‰ç»´ä½“è¢«åˆ†è§£æˆä¸‰ä¸ªè½´å‘çš„æ­£äº¤ç‰¹å¾å¹³é¢ $y_{uv},y_{wu},y_{vw}\in\mathbb{R}^{H\times W \times C}$<br>æ¯ä¸ªç‰¹å¾å¹³é¢çš„ç©ºé—´åˆ†è¾¨ç‡ä¸º HÃ—Wï¼Œé€šé“æ•°ä¸º cã€‚ä¸ä½“ç´ ç½‘æ ¼ç›¸æ¯”ï¼Œä¸‰å¹³é¢è¡¨ç¤ºåœ¨ä¸ç‰ºç‰²è¡¨è¾¾æ€§çš„æƒ…å†µä¸‹æä¾›äº†ç›¸å½“å°çš„å†…å­˜å ç”¨ã€‚å› æ­¤ï¼Œä¸°å¯Œçš„ä¸‰ç»´ä¿¡æ¯è¢«æ˜¾å¼åœ°è®°å¿†åœ¨ä¸‰å¹³é¢ç‰¹å¾ä¸­ï¼Œå¯ä»¥é€šè¿‡å°†ä¸‰ç»´ç‚¹ $p\in\mathbb{R}^3$ æŠ•å½±åˆ°å„ä¸ªå¹³é¢ä¸Šï¼Œå¹¶å°†æ£€ç´¢åˆ°çš„ç‰¹å¾èšåˆåœ¨ä¸€èµ·æ¥æŸ¥è¯¢å…¶ç‰¹å¾ï¼Œå³ $y_{p}=y_{uv}(p_{uv})+y_{wu}(p_{wu})+y_{vw}(p_{vw}).$</p><p>è½»é‡çº§ MLP è§£ç å™¨ $\mathcal{G}_\theta^{\mathrm{MLP}}$ æ¨å¯¼å‡ºç»™å®šè§‚å¯Ÿæ–¹å‘ $d\in S^{2}$ çš„æ¯ä¸ª 3D ä½ç½®çš„å¯†åº¦ $\sigma\in{\mathbb{R}^{+}}$ å’Œä¸è§†å›¾ç›¸å…³çš„é¢œè‰² $c\in \mathbb{R}^{3}$ï¼Œå³ï¼š$c(p,d),\sigma(p)=\mathcal{G}_\theta^{\mathrm{MLP}}\big(y_p,\xi(y_p),d\big).$ æˆ‘ä»¬å°†å‚…é‡Œå¶åµŒå…¥ç®—å­Î¾(Â·)åº”ç”¨äºæŸ¥è¯¢çš„ç‰¹å¾ä¸Šï¼Œè€Œä¸æ˜¯ç©ºé—´åæ ‡ä¸Šã€‚</p><p>å¯¹ä¸‰å¹³é¢ç‰¹å¾å’Œ MLP è§£ç å™¨è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½¿å¾—ç¥ç»è¾å°„åœºçš„æ¸²æŸ“ä¸ç»™å®šä¸»é¢˜çš„å¤šè§†å›¾å›¾åƒ $\left\{x\right\}_{N_v}$ åŒ¹é…ï¼Œå…¶ä¸­ $x\in\mathbb{R}^{H_0\times W_0\times3}$ã€‚æˆ‘ä»¬å¼ºåˆ¶ä½“ç§¯æ¸²æŸ“[38]ç»™å‡ºçš„æ¸²æŸ“å›¾åƒï¼Œå³: $\hat{x}={\cal R}\left(c,\sigma\right),$ï¼Œä»¥å‡æ–¹è¯¯å·®æŸå¤±åŒ¹é…ç›¸åº”çš„åœ°é¢çœŸå€¼ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¼•å…¥äº†ç¨€ç–ã€å¹³æ»‘å’Œç´§å‡‘çš„æ­£åˆ™åŒ–å™¨æ¥å‡å°‘è‡ªç”±ç©ºé—´ä¸­çš„â€œæµ®åŠ¨â€ä¼ªåƒ(Mip-NeRF 360)</p><p>è™½ç„¶ä¹‹å‰çš„æ¯ä¸ªåœºæ™¯é‡å»ºä¸»è¦å…³æ³¨æ‹Ÿåˆè´¨é‡ï¼Œä½†æˆ‘ä»¬çš„ 3D æ‹Ÿåˆç¨‹åºä¹Ÿåº”è¯¥è€ƒè™‘ç”Ÿæˆç›®çš„çš„å‡ ä¸ªå…³é”®æ–¹é¢ã€‚</p><ul><li>é¦–å…ˆï¼Œä¸åŒä¸»ä½“çš„ä¸‰å¹³é¢ç‰¹å¾å¿…é¡»ä¸¥æ ¼å¤„äºåŒä¸€åŸŸã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬<strong>åœ¨æ‹Ÿåˆä¸åŒçš„è‚–åƒæ—¶é‡‡ç”¨äº†ä¸€ä¸ªå…±äº«çš„ MLP è§£ç å™¨</strong>ï¼Œä»è€Œéšå¼åœ°å°†ä¸‰å¹³é¢ç‰¹å¾æ¨åˆ°è§£ç å™¨å¯è¯†åˆ«çš„å…±äº«æ½œåœ¨ç©ºé—´ã€‚</li><li>å…¶æ¬¡ï¼ŒMLP è§£ç å™¨å¿…é¡»å…·æœ‰ä¸€å®šç¨‹åº¦çš„é²æ£’æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>è§£ç å™¨åº”è¯¥èƒ½å¤Ÿå®¹å¿ä¸‰é¢ç‰¹å¾çš„è½»å¾®æ‰°åŠ¨</strong>ï¼Œå› æ­¤å³ä½¿ä¸‰é¢ç‰¹å¾ä¸å®Œå…¨ç”Ÿæˆï¼Œä»ç„¶å¯ä»¥è·å¾—å¯ä¿¡çš„ç»“æœã€‚</li><li>æ›´é‡è¦çš„æ˜¯ï¼Œ<strong>è§£ç å™¨åº”è¯¥å¯¹ä¸åŒçš„ä¸‰å¹³é¢å°ºå¯¸å…·æœ‰é²æ£’æ€§</strong>ï¼Œå› ä¸ºåˆ†å±‚ 3D ç”Ÿæˆæ˜¯åœ¨å¤šåˆ†è¾¨ç‡ä¸‰å¹³é¢ç‰¹å¾ä¸Šè®­ç»ƒçš„ã€‚å¦‚å›¾ 3 æ‰€ç¤ºï¼Œå½“å•ç‹¬æ‹Ÿåˆ 256 Ã— 256 ä¸‰å¹³é¢æ—¶ï¼Œå…¶ 64 Ã— 64 åˆ†è¾¨ç‡å˜ä½“æ— æ³•æœ‰æ•ˆå‘ˆç°ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æ‹Ÿåˆè¿‡ç¨‹ä¸­éšæœºç¼©æ”¾ä¸‰å¹³é¢ï¼Œè¿™æœ‰åŠ©äºé€šè¿‡å…±äº«è§£ç å™¨åŒæ—¶å¯¼å‡ºå¤šåˆ†è¾¨ç‡ä¸‰å¹³é¢ç‰¹å¾ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231029104814.png" alt="image.png|666"></p><h2 id="Latent-Conditioned-3D-Diffusion-Model"><a href="#Latent-Conditioned-3D-Diffusion-Model" class="headerlink" title="Latent Conditioned 3D Diffusion Model"></a>Latent Conditioned 3D Diffusion Model</h2><p>ç°åœ¨3D è§’è‰²ç”Ÿæˆè¢«ç®€åŒ–ä¸ºå­¦ä¹ ä¸‰å¹³é¢ç‰¹å¾çš„åˆ†å¸ƒï¼Œå³ $p\left(y\right)$ï¼Œå…¶ä¸­ $y = (y_{uv},y_{wu},y_{vw})$ã€‚è¿™ç§ç”Ÿæˆå¼å»ºæ¨¡æ˜¯ non-trivial çš„ï¼Œå› ä¸º y æ˜¯é«˜ç»´çš„ã€‚æˆ‘ä»¬åˆ©ç”¨æ‰©æ•£æ¨¡å‹æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡ï¼Œå®ƒåœ¨å¤æ‚çš„å›¾åƒå»ºæ¨¡ä¸­æ˜¾ç¤ºå‡ºä»¤äººä¿¡æœçš„è´¨é‡</p><p>åœ¨è¾ƒé«˜çš„å±‚æ¬¡ä¸Šï¼Œæ‰©æ•£æ¨¡å‹é€šè¿‡é€æ­¥åè½¬é©¬å°”ç§‘å¤«æ­£æ¼”è¿‡ç¨‹äº§ç”Ÿ yã€‚ä» $y_0\sim p(y)$ å¼€å§‹ï¼Œæ­£æ¼”è¿‡ç¨‹ q æ ¹æ® $y_t:=\alpha_t y_0+\sigma_t\epsilon,$ å¾—åˆ°ä¸€ä¸ªé€’å¢çš„å™ªå£°æ½œç åºåˆ— $\{y_t\mid t\in[0,T]\}$ï¼Œå…¶ä¸­ $\epsilon\in\mathcal{N}(\mathbf{0},I)$ ä¸ºåŠ å…¥çš„é«˜æ–¯å™ªå£°;Î±t å’ŒÏƒt å®šä¹‰äº†ä¸€ä¸ªå™ªå£°è°ƒåº¦ï¼Œå…¶å¯¹æ•°ä¿¡å™ªæ¯” $\lambda_t=\log[\alpha_t^2/\sigma_t^2]$ éšæ—¶é—´æ­¥é•¿ t çº¿æ€§å‡å°ã€‚æœ‰äº†è¶³å¤Ÿçš„å™ªå£°æ­¥é•¿ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªçº¯é«˜æ–¯å™ªå£°ï¼Œå³ $y_T \sim \mathcal{N}(0,I)$ã€‚ç”Ÿæˆè¿‡ç¨‹å¯¹åº”äºä¸Šè¿°å™ªå£°è¿‡ç¨‹çš„åè½¬ï¼Œå…¶ä¸­æ‰©æ•£æ¨¡å‹è¢«è®­ç»ƒæˆä½¿ç”¨å‡æ–¹è¯¯å·®æŸå¤±å°† $y_{T}$ é™å™ªä¸º $y_{0}$ã€‚Following <a href="https://readpaper.com/pdf-annotate/note?pdfId=4557071478495911937&amp;noteId=2025686505055348480">Denoising Diffusion Probabilistic Models.</a>ï¼Œé€šè¿‡å‚æ•°åŒ–æ‰©æ•£æ¨¡å‹ $\hat{\epsilon}_{\theta}$ æ¥é¢„æµ‹å¢åŠ çš„å™ªå£°ï¼Œå¯ä»¥è·å¾—æ›´å¥½çš„ç”Ÿæˆè´¨é‡: $\mathcal{L}_{\mathrm{simple}}=\mathbb{E}_{t,\boldsymbol{x}_0,\boldsymbol{\epsilon}}\bigg[\big|\hat{\epsilon}_{\boldsymbol{\theta}}(\alpha_t y_0+\sigma_t\boldsymbol{\epsilon},t)-\boldsymbol{\epsilon}\big|_2^2\bigg].$<br>åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬çš„æ‰©æ•£æ¨¡å‹è®­ç»ƒä¹Ÿå…±åŒä¼˜åŒ–äº† <a href="https://readpaper.com/pdf-annotate/note?pdfId=4557460151058046977&amp;noteId=2025686157179426304">41</a> ä¸­æå‡ºçš„å˜åˆ†ä¸‹ç•ŒæŸå¤± ${\mathcal{L}}_{\mathrm{VLB}}:$ï¼Œä»è€Œå¯ä»¥ç”¨æ›´å°‘çš„æ—¶é—´æ­¥é•¿å®ç°é«˜è´¨é‡çš„ç”Ÿæˆã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨éšæœºç¥–å…ˆé‡‡æ ·å™¨ <a href="https://readpaper.com/pdf-annotate/note?pdfId=4557071478495911937&amp;noteId=2025686505055348480">24</a> ç”Ÿæˆæœ€ç»ˆæ ·æœ¬ï¼Œè¯¥æ ·æœ¬ä»é«˜æ–¯å™ªå£° $y_T \sim \mathcal{N}(0,I)$ å¼€å§‹ï¼Œä¾æ¬¡äº§ç”Ÿè¾ƒå°‘å™ªå£°çš„æ ·æœ¬ $\{y_T,y_{T-1},\dots\}$ï¼Œç›´åˆ°è¾¾åˆ° y0ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆè®­ç»ƒä¸€ä¸ªåŸºæœ¬æ‰©æ•£æ¨¡å‹æ¥ç”Ÿæˆç²—ç³™çš„ä¸‰å¹³é¢ï¼Œä¾‹å¦‚ï¼Œåœ¨ 64 Ã— 64 åˆ†è¾¨ç‡ä¸‹ã€‚<br><strong>ä¸€ç§ç›´æ¥çš„æ–¹æ³•</strong>æ˜¯åœ¨æˆ‘ä»¬çš„ä¸‰å¹³é¢ç”Ÿæˆä¸­é‡‡ç”¨æœ€å…ˆè¿›çš„åŸºäºå›¾åƒçš„æ‰©æ•£æ¨¡å‹ä¸­ä½¿ç”¨çš„ 2D ç½‘ç»œç»“æ„ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬å¯ä»¥å°†é€šé“ç»´åº¦ä¸­çš„ä¸‰å¹³é¢ç‰¹å¾å¦‚[9]ä¸­æ‰€ç¤ºè¿›è¡Œä¸²è”ï¼Œå½¢æˆ $y=\left(\boldsymbol{y}_{uv}\oplus\boldsymbol{y}_{wu}\oplus\boldsymbol{y}_{vw}\right)\in\mathbb{R}^{H\times W\times3C},$ å¹¶é‡‡ç”¨ç²¾å¿ƒè®¾è®¡çš„äºŒç»´ U-Netï¼Œé€šè¿‡å»å™ªæ‰©æ•£è¿‡ç¨‹å¯¹æ•°æ®åˆ†å¸ƒè¿›è¡Œå»ºæ¨¡ã€‚ç„¶è€Œï¼Œ<strong>è¿™æ ·çš„åŸºçº¿æ¨¡å‹ä¼šäº§ç”Ÿå¸¦æœ‰ä¸¥é‡ä¼ªå½±çš„ 3D åŒ–èº«</strong>ã€‚æˆ‘ä»¬æ¨æµ‹ç”Ÿæˆä¼ªå½±æ¥è‡ªäºä¸‰å¹³é¢è¡¨ç¤ºä¸äºŒç»´ U-Net ä¹‹é—´çš„ä¸å…¼å®¹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231029110243.png" alt="image.png|666"></p><p>å¦‚å›¾ 4(a)æ‰€ç¤ºï¼Œå¯ä»¥ç›´è§‚åœ°å°†ä¸‰å¹³é¢ç‰¹å¾è§†ä¸ºç¥ç»ä½“ç§¯åœ¨æ­£é¢ã€åº•éƒ¨å’Œä¾§é¢çš„æŠ•å½±ã€‚å› æ­¤ï¼Œåœ¨ CNN å¤„ç†ä¸­ï¼Œè¿™äº›æ­£äº¤å¹³é¢çš„<strong>é€šé“çº§è”</strong>æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºè¿™äº›å¹³é¢åœ¨ç©ºé—´ä¸Šæ²¡æœ‰å¯¹é½ã€‚ä¸ºäº†æ›´å¥½åœ°å¤„ç†ä¸‰å¹³é¢è¡¨ç¤ºï¼Œæˆ‘ä»¬åšäº†ä»¥ä¸‹åŠªåŠ›: </p><p><strong>3D-aware convolution</strong></p><p>ä½¿ç”¨ CNN å¤„ç†æŒ‰é€šé“æ‹¼æ¥çš„ä¸‰å¹³é¢ä¼šå¯¼è‡´åœ¨3D æ–¹é¢æ··åˆç†è®ºä¸Šæœªæ ¡æ­£çš„ç‰¹å¾ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•æ˜¯åœ¨ç©ºé—´ä¸Šå±•å¼€ä¸‰å¹³é¢ç‰¹å¾ã€‚å¦‚å›¾4(b)æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†ä¸‰å¹³é¢ç‰¹å¾æ°´å¹³è¿æ¥ï¼Œå¾—åˆ° $\tilde{y}= \text{hstack}(y_{uv},y_{wu},y_{vw})\in\mathbb{R}^{H\times3W\times C}.$ã€‚è¿™æ ·çš„ç‰¹å¾å±•å¼€å…è®¸å¯¹ç‰¹å¾å¹³é¢è¿›è¡Œç‹¬ç«‹å¤„ç†ã€‚ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬éšåé»˜è®¤ä½¿ç”¨ y æ¥è¡¨ç¤ºè¿™æ ·çš„è¾“å…¥å½¢å¼ã€‚ç„¶è€Œï¼Œä¸‰å¹³é¢æ¨å‡ºé˜»ç¢äº†è·¨å¹³é¢é€šä¿¡ï¼Œè€Œ 3D ç”Ÿæˆéœ€è¦ä¸‰å¹³é¢ç”Ÿæˆçš„ååŒä½œç”¨ã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°å¤„ç†ä¸‰å¹³é¢ç‰¹å¾ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ¨ä¸‰å¹³é¢ä¸Šæ‰§è¡Œçš„æœ‰æ•ˆçš„ 3D ç®—å­ï¼Œè€Œä¸æ˜¯å°†å…¶è§†ä¸ºæ™®é€šçš„ 2D è¾“å…¥ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æå‡ºäº†<strong>3D æ„ŸçŸ¥å·ç§¯</strong>æ¥æœ‰æ•ˆåœ°å¤„ç†ä¸‰å¹³é¢ç‰¹å¾ï¼ŒåŒæ—¶å°Šé‡å®ƒä»¬çš„ 3D å…³ç³»ã€‚<strong>åœ¨æŸä¸€ç‰¹å¾å¹³é¢ä¸Šçš„ä¸€ä¸ªç‚¹å®é™…ä¸Šå¯¹åº”ç€ä½“ä¸­çš„ä¸€æ¡è½´å‘ä¸‰ç»´ç›´çº¿ï¼Œåœ¨å…¶ä»–å¹³é¢ä¸Šä¹Ÿæœ‰ä¸¤æ¡å¯¹åº”çš„ç›´çº¿æŠ•å½±</strong>ï¼Œå¦‚å›¾ 4(A)æ‰€ç¤ºã€‚è¿™äº›ç›¸åº”ä½ç½®çš„ç‰¹å¾æœ¬è´¨ä¸Šæè¿°äº†ç›¸åŒçš„ 3D åŸè¯­ï¼Œåº”è¯¥åŒæ­¥å­¦ä¹ ã€‚ç„¶è€Œï¼Œå½“ä½¿ç”¨å¹³é¢äºŒç»´å·ç§¯è¿›è¡Œä¸‰å¹³é¢å¤„ç†æ—¶ï¼Œè¿™ç§ä¸‰ç»´å…³ç³»è¢«å¿½ç•¥äº†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„<strong>3D æ„ŸçŸ¥å·ç§¯é€šè¿‡å°†æ¯ä¸ªå¹³é¢çš„ç‰¹å¾ä¸å…¶ä»–å¹³é¢çš„ç›¸åº”è¡Œ/åˆ—ç›¸å…³è”ï¼Œæ˜ç¡®åœ°å¼•å…¥äº†è¿™ç§ 3D æ„Ÿåº”åç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å®ç°äº† 2D cnn çš„ 3D å¤„ç†èƒ½åŠ›</strong>ã€‚è¿™ç§ 3D æ„ŸçŸ¥å·ç§¯åº”ç”¨äºä¸‰å¹³é¢è¡¨ç¤ºï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§ç®€åŒ– 3D å·ç§¯çš„é€šç”¨æ–¹æ³•ï¼Œä»¥å‰åœ¨å»ºæ¨¡é«˜åˆ†è¾¨ç‡ 3D ä½“ç§¯æ—¶è®¡ç®—æˆæœ¬å¤ªé«˜ã€‚</p><p>3d æ„ŸçŸ¥å·ç§¯å¦‚å›¾4(b)æ‰€ç¤ºã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œ$y_{uv}$ çš„è®¡ç®—å°†å…³æ³¨æ¥è‡ªå…¶ä»–å¹³é¢çš„ç›¸åº”è¡Œ/åˆ—çš„å®Œæ•´å…ƒç´ ï¼Œå³ $y_{wu}$ å’Œ $y_{vw}$ã€‚å¯¹äºå¹¶è¡Œè®¡ç®—ï¼Œæˆ‘ä»¬å°†å…¶ç®€åŒ–å¹¶èšåˆè¡Œ/åˆ—å…ƒç´ ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¯¹ $y_{wu}$ å’Œ $y_{vw}$ åº”ç”¨äº†è½´å‘æ± åŒ–ï¼Œåˆ†åˆ«å¾—åˆ°ä¸€ä¸ªè¡Œå‘é‡ $y_{wu\to u}\in\mathbb{R}^{1\times W\times C}$ å’Œä¸€ä¸ªåˆ—å‘é‡ $y_{vw\to v}\in\mathbb{R}^{H\times 1\times C}$ã€‚å¯¹äº $y_{uv}$ çš„æ¯ä¸ªç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°è®¿é—®èšåˆå‘é‡ä¸­ç›¸åº”çš„å…ƒç´ ã€‚æˆ‘ä»¬å°†èšåˆå‘é‡æ‰©å±•åˆ°åŸæ¥çš„äºŒç»´ç»´åº¦(å³æ²¿è¡Œç»´åº¦å¤åˆ¶åˆ—å‘é‡ï¼Œåä¹‹äº¦ç„¶)ï¼Œä»è€Œå¾—åˆ° $y_{(\cdot)u},y_{v(\cdot)}\in\mathbb{R}^{H\times W\times C}$ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç‰¹å¾æ˜ å°„çš„é€šé“çº§è¿æ¥æ‰§è¡Œ2D å·ç§¯ï¼Œå³ $\text{Conv2D}(\boldsymbol{y}_{uv}\oplus\boldsymbol{y}_{(\cdot)u}\oplus\boldsymbol{y}_{v(\cdot)}).$ã€‚å› ä¸º $y_{uv}$ ç°åœ¨åœ¨ç©ºé—´ä¸Šä¸æ¥è‡ªå…¶ä»–å¹³é¢çš„ç›¸åº”å…ƒç´ çš„èšåˆå¯¹é½ã€‚å¯¹ $y_{wu}$ å’Œ $y_{vw}$ è¿›è¡Œäº†åŒæ ·çš„è®¡ç®—ã€‚3d æ„ŸçŸ¥å·ç§¯æå¤§åœ°å¢å¼ºäº†å¹³é¢é—´çš„é€šä¿¡ï¼Œæˆ‘ä»¬é€šè¿‡ç»éªŒè§‚å¯Ÿåˆ°å‡å°‘äº†ä¼ªå½±ï¼Œå¹¶æ”¹å–„äº†å¤´å‘ç­‰ç»†ç»“æ„çš„ç”Ÿæˆã€‚</p><p><strong>Latent conditioning</strong>.</p><p>æˆ‘ä»¬è¿›ä¸€æ­¥æå‡ºå­¦ä¹ ä¸€ä¸ªæ½œåœ¨å‘é‡æ¥åè°ƒä¸‰å¹³é¢ç”Ÿæˆã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œæˆ‘ä»¬å¦å¤–è®­ç»ƒäº†ä¸€ä¸ªå›¾åƒç¼–ç å™¨ $\mathcal{E}$ æ¥æå–ä¸€ä¸ªè¯­ä¹‰æ½œåœ¨å‘é‡ä½œä¸ºåŸºæœ¬æ‰©æ•£æ¨¡å‹çš„æ¡ä»¶è¾“å…¥ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šæ•´ä¸ªæ¡†æ¶å°±æ˜¯ä¸€ä¸ªè‡ªç¼–ç å™¨ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä»æ¯ä¸ªè®­ç»ƒå¯¹è±¡çš„æ­£é¢è§†å›¾ä¸­æå–æ½œåœ¨å‘é‡ï¼Œå³ $z=\mathcal{E}_\theta(x_{\mathrm{front}})\in\mathbb{R}^{512},$ è®­ç»ƒä»¥ z ä¸ºæ¡ä»¶çš„æ‰©æ•£æ¨¡å‹é‡æ„åŒä¸€ä¸»ä½“çš„ä¸‰å¹³é¢ã€‚æˆ‘ä»¬ä½¿ç”¨è‡ªé€‚åº”ç¾¤å½’ä¸€åŒ–(AdaGN)æ¥è°ƒèŠ‚æ‰©æ•£æ¨¡å‹çš„æ¿€æ´»ï¼Œå…¶ä¸­ z æ³¨å…¥åˆ°æ¯ä¸ªæ®‹å·®å—ä¸­ï¼Œè¿™æ ·ï¼Œæ ¹æ®å…±äº«æ½œå‡½æ•°åŒæ­¥ç”Ÿæˆæ­£äº¤å¹³é¢çš„ç‰¹å¾ã€‚<br>æ½œåœ¨æ¡ä»¶åå°„ä¸ä»…å¯ä»¥æé«˜ç”Ÿæˆè´¨é‡ï¼Œè¿˜å¯ä»¥æä¾›ä¸€ä¸ªè§£çº ç¼ çš„æ½œåœ¨ç©ºé—´ï¼Œä»è€Œå¯ä»¥å¯¹ç”Ÿæˆçš„ç»“æœè¿›è¡Œè¯­ä¹‰ç¼–è¾‘ã€‚ä¸ºäº†å®ç°æ›´å¥½çš„å¯ç¼–è¾‘æ€§ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸æ–‡æœ¬æç¤ºå…±äº«æ½œåœ¨ç©ºé—´çš„å†»ç»“ CLIP å›¾åƒç¼–ç å™¨[48]ã€‚æˆ‘ä»¬å°†å±•ç¤ºå­¦ä¹ æ¨¡å‹å¦‚ä½•äº§ç”Ÿå¯æ§çš„æ–‡æœ¬å¼•å¯¼ç”Ÿæˆç»“æœã€‚<br>æ½œåœ¨æ¡ä»¶åå°„çš„å¦ä¸€ä¸ªæ˜¾è‘—ä¼˜ç‚¹æ˜¯å®ƒ<strong>å…è®¸æ— åˆ†ç±»å™¨çš„å¼•å¯¼</strong>ï¼Œè¿™æ˜¯ä¸€ç§é€šå¸¸ç”¨äºæé«˜æ¡ä»¶ç”Ÿæˆä¸­çš„é‡‡æ ·è´¨é‡çš„æŠ€æœ¯ã€‚åœ¨è®­ç»ƒæ‰©æ•£æ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬ä»¥20%çš„æ¦‚ç‡éšæœºå°†æ½œåœ¨åµŒå…¥å½’é›¶ï¼Œä»è€Œä½¿æ‰©æ•£è§£ç å™¨é€‚åº”æ— æ¡ä»¶ç”Ÿæˆã€‚åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® $\hat{\epsilon}_\theta(y,z)=\lambda\epsilon_\theta(y,z)+(1-\lambda)\epsilon_\theta(y),$  å¼•å¯¼æ¨¡å‹æœç€æ›´å¥½çš„ generation sampling æ–¹å‘å‘å±•</p><ul><li>å…¶ä¸­ $\epsilon_\theta(y,z) \text{and}\epsilon_\theta(y)$ åˆ†åˆ«ä¸ºæ¡ä»¶é¢„æµ‹å’Œæ— æ¡ä»¶é¢„æµ‹ï¼ŒÎ» &gt; 0 ä¸ºå¼•å¯¼å¼ºåº¦ã€‚</li></ul><p>å› æ­¤ï¼Œæˆ‘ä»¬çš„æ½œåœ¨æ¡ä»¶åŸºç¡€æ¨¡å‹æ—¢æ”¯æŒæ— æ¡ä»¶ç”Ÿæˆï¼Œä¹Ÿæ”¯æŒç”¨äºè‚–åƒåæ¼”çš„æ¡ä»¶ç”Ÿæˆã€‚ä¸ºäº†è€ƒè™‘æ— æ¡ä»¶é‡‡æ ·æœŸé—´çš„å®Œå…¨å¤šæ ·æ€§ï¼Œæˆ‘ä»¬é¢å¤–è®­ç»ƒäº†ä¸€ä¸ªæ‰©æ•£æ¨¡å‹æ¥æ¨¡æ‹Ÿæ½œåœ¨ z çš„åˆ†å¸ƒï¼Œè€Œæ½œåœ¨ $y_{T}$ æè¿°æ®‹å·®å˜åŒ–ã€‚æˆ‘ä»¬åœ¨å›¾ 2 ä¸­åŒ…å«äº†è¿™ä¸ªæ½œåœ¨æ‰©æ•£æ¨¡å‹ã€‚</p><h2 id="Diffusion-Tri-plane-Upsampler"><a href="#Diffusion-Tri-plane-Upsampler" class="headerlink" title="Diffusion Tri-plane Upsampler"></a>Diffusion Tri-plane Upsampler</h2><p>ä¸ºäº†ç”Ÿæˆé«˜ä¿çœŸçš„3D ç»“æ„ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥è®­ç»ƒæ‰©æ•£è¶…åˆ†è¾¨ç‡(SR)æ¨¡å‹ï¼Œå°†ä¸‰å¹³é¢åˆ†è¾¨ç‡ä»64Ã—64æé«˜åˆ°256Ã—256ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ‰©æ•£ä¸Šé‡‡æ ·å™¨çš„æ¡ä»¶æ˜¯ä½åˆ†è¾¨ç‡(LR)ä¸‰å¹³é¢ $y^{\mathrm{LR}}$ã€‚ä¸åŸºæœ¬æ¨¡å‹è®­ç»ƒä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬å°†æ‰©æ•£ä¸Šé‡‡æ ·å™¨ $y_{\theta}^{\mathrm{HR}}(y_{t}^{\mathrm{HR}},y^{\mathrm{LR}},t)$ å‚æ•°åŒ–æ¥é¢„æµ‹é«˜åˆ†è¾¨ç‡(HR)åœ°é¢çœŸå€¼ $y_0^{\mathrm{HR}}$ï¼Œè€Œä¸æ˜¯ added å™ªå£° $\epsilon.$ã€‚åœ¨æ¯ä¸ªæ®‹å·®å—ä¸­åˆ©ç”¨ä¸‰ç»´æ„ŸçŸ¥å·ç§¯æ¥å¢å¼ºç»†èŠ‚åˆæˆã€‚</p><p>åœ¨ä¹‹å‰çš„çº§è”å›¾åƒç”Ÿæˆå·¥ä½œä¹‹åï¼Œæˆ‘ä»¬åº”ç”¨æ¡ä»¶å¢å¼ºæ¥å‡å°‘åŸºæœ¬æ¨¡å‹è¾“å‡ºå’Œ LR æ¡ä»¶è¾“å…¥ä¹‹é—´çš„åŸŸé—´éš™ï¼Œç”¨äº SR è®­ç»ƒã€‚æˆ‘ä»¬<strong>é€šè¿‡éšæœºä¸‹é‡‡æ ·ã€é«˜æ–¯æ¨¡ç³Šå’Œé«˜æ–¯å™ªå£°</strong>çš„ç»„åˆå¯¹ä¸‰å¹³é¢å¢å¼ºè¿›è¡Œäº†ä»”ç»†çš„è°ƒæ•´ï¼Œä½¿æ¸²æŸ“å¢å¼ºçš„ LR ä¸‰å¹³é¢å°½å¯èƒ½åœ°ä¸åŸºæœ¬æ¸²æŸ“è¾“å‡ºç›¸ä¼¼ã€‚<br>å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»¬å‘ç°ä¸åœ°é¢çœŸå®è¾ƒä½ L2è·ç¦»çš„ä¸‰å¹³é¢æ¢å¤ä¸ä¸€å®šå¯¹åº”äºä»¤äººæ»¡æ„çš„å›¾åƒæ¸²æŸ“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç›´æ¥çº¦æŸæ¸²æŸ“çš„å›¾åƒã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä»é¢„æµ‹çš„ä¸‰å¹³é¢ $\hat y_{0}^{HR}$ ä¸­è·å¾—äº†æ¸²æŸ“å›¾åƒ $x^{\hat{\mathrm{HR}}}\in\mathbb{R}^{256\times256\times3}$ï¼Œå…¶ä¸­ $\hat{\boldsymbol{x}}=\mathcal{R}(\mathcal{G}_{\theta}^{\mathbf{MLP}}(\hat{\boldsymbol{y}}_{0}^{\mathbf{HR}}))$ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æƒ©ç½šäº†è¿™ä¸ªæ¸²æŸ“ç»“æœä¸åœ°é¢çœŸå®ä¹‹é—´çš„æ„ŸçŸ¥æŸå¤±[27]ï¼Œæ ¹æ® $\mathcal{L}_{\mathtt{perc}}=\mathbb{E}_{t,\hat{\boldsymbol{x}}}\sum\lVert\Psi^l(\hat{\boldsymbol{x}})-\Psi^l(\boldsymbol{x})\rVert_2^2,$ å…¶ä¸­ $\Psi^l$ è¡¨ç¤ºä½¿ç”¨é¢„è®­ç»ƒçš„ VGG è¿›è¡Œå¤šçº§ç‰¹å¾æå–ã€‚<br>é€šå¸¸ï¼Œä½“ç»˜åˆ¶éœ€è¦æ²¿æ¯æ¡å°„çº¿åˆ†å±‚é‡‡æ ·ï¼Œè¿™å¯¹äºé«˜åˆ†è¾¨ç‡æ¸²æŸ“æ¥è¯´åœ¨è®¡ç®—ä¸Šæ˜¯ç¦æ­¢çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨äººè„¸åŒºåŸŸå…·æœ‰é«˜é‡‡æ ·é‡è¦æ€§çš„éšæœº112 Ã— 112å›¾åƒå—ä¸Šè®¡ç®— $\mathcal{L}_{perc}$ã€‚ä¸ä¹‹å‰éœ€è¦æ¸²æŸ“å®Œæ•´å›¾åƒçš„ 3d æ„ŸçŸ¥ gan ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ 3d æ„ŸçŸ¥ SR å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•åˆ°é«˜åˆ†è¾¨ç‡ï¼Œå› ä¸ºå…è®¸åœ¨ç›´æ¥ç›‘ç£ä¸‹è¿›è¡Œ patchwise è®­ç»ƒ</p><p>$\mathcal{L}_{perc}$ æ˜¯ patchwise çš„</p><p>å»ºæ¨¡é«˜é¢‘ç»†èŠ‚å’Œè–„ç»“æ„æ˜¯ç‰¹åˆ«å…·æœ‰æŒ‘æˆ˜æ€§çš„ä½“ç»˜åˆ¶ã€‚å› æ­¤ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„æ•°æ®ä¸Šå…±åŒè®­ç»ƒä¸€ä¸ª<a href="https://readpaper.com/pdf-annotate/note?pdfId=4557204956864585729&amp;noteId=2027670377728176384">å·ç§¯ç»†åŒ–å™¨</a>ï¼Œ<strong>å®ƒè¡¥å……äº†NeRFæ¸²æŸ“ä¸­ç¼ºå¤±çš„ç»†èŠ‚</strong>ï¼Œæœ€ç»ˆäº§ç”Ÿå¼•äººæ³¨ç›®çš„1024 Ã— 1024å›¾åƒè¾“å‡ºã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>ä»å®éªŒä¸­ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ° Rodin æ¨¡å‹æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ 3D å¤´åƒç”Ÿæˆæ¨¡å‹ã€‚è¿™ç§æ¨¡å¼è¿˜å…è®¸ç”¨æˆ·ä»è‚–åƒæˆ–æ–‡å­—ä¸­å®šåˆ¶å¤´åƒï¼Œä»è€Œå¤§å¤§é™ä½äº†ä¸ªæ€§åŒ–å¤´åƒåˆ›å»ºçš„éšœç¢ã€‚è™½ç„¶æœ¬æ–‡åªå…³æ³¨è™šæ‹Ÿäººç‰©ï¼Œä½†ç½—ä¸¹æ¨¡å‹èƒŒåçš„ä¸»è¦æ€æƒ³é€‚ç”¨äºä¸€èˆ¬ 3D åœºæ™¯çš„æ‰©æ•£æ¨¡å‹ã€‚äº‹å®ä¸Šï¼Œé«˜æ˜‚çš„è®¡ç®—æˆæœ¬ä¸€ç›´æ˜¯ 3D å†…å®¹åˆ›ä½œçš„ä¸€å¤§æŒ‘æˆ˜ã€‚åœ¨ 3D ä¸­æ‰§è¡Œè¿è´¯å’Œ 3D æ„ŸçŸ¥æ‰©æ•£çš„é«˜æ•ˆ 2D æ¶æ„æ˜¯è§£å†³è¿™ä¸€æŒ‘æˆ˜çš„é‡è¦ä¸€æ­¥ã€‚<strong>åœ¨ä»Šåçš„å·¥ä½œä¸­ï¼Œæé«˜ä¸‰ç»´æ‰©æ•£æ¨¡å‹çš„é‡‡æ ·é€Ÿåº¦ï¼Œå…±åŒç ”ç©¶åˆ©ç”¨å……è¶³çš„äºŒç»´æ•°æ®æ¥ç¼“è§£ä¸‰ç»´æ•°æ®ç“¶é¢ˆå°†æ˜¯å¯Œæœ‰æˆæ•ˆçš„</strong>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Diffusion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TransHuman</title>
      <link href="/3DReconstruction/Single-view/Implicit%20Function/TransHuman/"/>
      <url>/3DReconstruction/Single-view/Implicit%20Function/TransHuman/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>TransHuman: A Transformer-based Human Representation for Generalizable Neural Human Rendering</th></tr></thead><tbody><tr><td>Author</td><td>Xiao Pan1,2,âˆ—, Zongxin Yang1, Jianxin Ma2, Chang Zhou2, Yi Yang1,â€ </td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://pansanity666.github.io/TransHuman/">TransHuman: A Transformer-based Human Representation for Generalizable Neural Human Rendering (pansanity666.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4781388859208368129&amp;noteId=2020479109538002688">TransHuman: A Transformer-based Human Representation for Generalizable Neural Human Rendering (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022103225.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬é‡ç‚¹ç ”ç©¶äº†å¹¿ä¹‰ç¥ç»äººä½“æ¸²æŸ“çš„ä»»åŠ¡ï¼Œå³ä»ä¸åŒè§’è‰²çš„å¤šè§†ç‚¹è§†é¢‘ä¸­è®­ç»ƒæ¡ä»¶ç¥ç»è¾å°„åœº(NeRF)ã€‚ä¸ºäº†å¤„ç†åŠ¨æ€çš„äººä½“è¿åŠ¨ï¼Œä»¥å‰çš„æ–¹æ³•ä¸»è¦æ˜¯ä½¿ç”¨åŸºäº SparseConvNet (SPC)çš„äººç±»è¡¨å¾æ¥å¤„ç†ç»˜åˆ¶çš„ SMPLã€‚ç„¶è€Œï¼Œè¿™ç§åŸºäº spc çš„è¡¨ç¤ºï¼Œ<br>I)åœ¨ä¸ç¨³å®šçš„è§‚å¯Ÿç©ºé—´ä¸‹è¿›è¡Œä¼˜åŒ–ï¼Œå¯¼è‡´è®­ç»ƒå’Œæ¨ç†é˜¶æ®µä¹‹é—´çš„æ­£å¯¹é½ï¼Œ<br>Ii)ç¼ºä¹äººä½“å„éƒ¨åˆ†ä¹‹é—´çš„å…¨å±€å…³ç³»ï¼Œè¿™å¯¹äºå¤„ç†ä¸å®Œæ•´çš„ç»˜åˆ¶ SMPL è‡³å…³é‡è¦ã€‚<br>é’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå…¨æ–°çš„æ¡†æ¶ TransHumanï¼Œè¯¥æ¡†æ¶åœ¨è§„èŒƒç©ºé—´ä¸‹å­¦ä¹ ç»˜åˆ¶çš„ SMPLï¼Œå¹¶é€šè¿‡å˜å‹å™¨æ•è·äººä½“éƒ¨ä½ä¹‹é—´çš„å…¨å±€å…³ç³»ã€‚å…·ä½“æ¥è¯´ï¼ŒTransHuman ä¸»è¦ç”±åŸºäºå˜å‹å™¨çš„äººç±»ç¼–ç (TransHE)ã€å¯å˜å½¢å±€éƒ¨è¾å°„åœº(DPaRF)å’Œç»†ç²’åº¦ç»†èŠ‚é›†æˆ(FDI)ç»„æˆã€‚TransHE é¦–å…ˆé€šè¿‡å˜å‹å™¨åœ¨è§„èŒƒç©ºé—´ä¸‹å¤„ç†ç»˜åˆ¶çš„ SMPLï¼Œä»¥æ•è·äººä½“éƒ¨ä½ä¹‹é—´çš„å…¨å±€å…³ç³»ã€‚ç„¶åï¼ŒDPaRF å°†æ¯ä¸ªè¾“å‡ºæ ‡è®°ä¸ä¸€ä¸ªå¯å˜å½¢çš„äº®åº¦å­—æ®µç»‘å®šï¼Œç”¨äºå¯¹è§‚æµ‹ç©ºé—´ä¸‹çš„æŸ¥è¯¢ç‚¹è¿›è¡Œç¼–ç ã€‚æœ€åï¼Œåˆ©ç”¨ FDI è¿›ä¸€æ­¥æ•´åˆå‚è€ƒå›¾åƒä¸­çš„ç»†ç²’åº¦ä¿¡æ¯ã€‚åœ¨ ZJUMoCap å’Œ H36M ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„ TransHuman ä»¥é«˜æ•ˆç‡å®ç°äº†æœ€å…ˆè¿›çš„æ–°æ€§èƒ½ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>TransHE é¦–å…ˆå»ºç«‹äº†ä¸€ä¸ªç®¡é“ï¼Œé€šè¿‡è§„èŒƒç©ºé—´ä¸‹çš„å˜å‹å™¨æ•è·äººä½“å„éƒ¨åˆ†ä¹‹é—´çš„å…¨å±€å…³ç³»ã€‚ç„¶åï¼ŒDPaRF å°†åæ ‡ç³»ç»Ÿä»è§„èŒƒç©ºé—´å˜å½¢å›è§‚æµ‹ç©ºé—´ï¼Œå¹¶å°†æŸ¥è¯¢ç‚¹ç¼–ç ä¸ºåæ ‡å’Œæ¡ä»¶ç‰¹å¾çš„é›†åˆã€‚æœ€åï¼ŒFDI åœ¨äººç±»è¡¨å¾çš„æŒ‡å¯¼ä¸‹ï¼Œä»åƒç´ å¯¹é½çš„å¤–è§‚ç‰¹å¾ä¸­è¿›ä¸€æ­¥æ”¶é›†è§‚å¯Ÿç©ºé—´çš„ç»†ç²’åº¦ä¿¡æ¯</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022103225.png" alt="image.png|666"></p><h2 id="Transformer-based-Human-Encoding"><a href="#Transformer-based-Human-Encoding" class="headerlink" title="Transformer-based Human Encoding"></a>Transformer-based Human Encoding</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231025215706.png" alt="image.png|666"></p><p>ç»™å®šæŸä¸€æ—¶é—´æ­¥é•¿çš„å‚è€ƒå›¾åƒ I åŠå…¶åœ¨è§‚æµ‹å§¿æ€â€ ä¸‹å¯¹åº”çš„é¢„æ‹Ÿ SMPL æ¨¡å‹ $V^oâˆˆ\mathbb{R}^{6890Ã—3}$ï¼Œæˆ‘ä»¬é¦–å…ˆæ ¹æ®æ‘„åƒæœºä¿¡æ¯å°† CNN æå–çš„ I çš„ä¸€ç»´æ·±åº¦ç‰¹å¾æŠ•å½±åˆ° V çš„é¡¶ç‚¹ä¸Šï¼Œå¾—åˆ°ç»˜åˆ¶å¥½çš„ SMPL : $Fâˆˆ\mathbb{R}^{6890Ã—d_1}$</p><p>ä»¥å‰çš„æ–¹æ³•[18,5]ä¸»è¦æ˜¯åˆ©ç”¨ Sparse CNN(SPC)[21]å°†paintedçš„ SMPL æ‰©æ•£åˆ°é™„è¿‘çš„ç©ºé—´(å›¾1)ã€‚ç„¶è€Œï¼Œå®ƒä»¬åœ¨ä¸åŒçš„è§‚å¯Ÿç©ºé—´ä¸‹è¿›è¡Œä¼˜åŒ–ï¼Œå¯¼è‡´è®­ç»ƒå’Œæ¨ç†é˜¶æ®µä¹‹é—´çš„ä½å§¿ä¸ä¸€è‡´ï¼Œå¹¶ä¸”ä¸‰ç»´å·ç§¯å—çš„æœ‰é™æ¥å—åŸŸä½¿å…¶å¯¹ç”±äºäººä½“ä¸¥é‡çš„è‡ªæˆ‘é®æŒ¡è€Œå¯¼è‡´çš„æœªå®Œå…¨ç»˜åˆ¶çš„ SMPL è¾“å…¥æ•æ„Ÿã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåä¸ºåŸºäºè½¬æ¢å™¨çš„äººä½“ç¼–ç (TransHE)çš„ç®¡é“ï¼Œå®ƒåœ¨è§„èŒƒç©ºé—´ä¸‹æ•è·äººä½“å„éƒ¨åˆ†ä¹‹é—´çš„å…¨å±€å…³ç³»ã€‚TranHE çš„æ ¸å¿ƒåŒ…æ‹¬é¿å…è¯­ä¹‰æ¨¡ç³Šçš„è§„èŒƒåŒ–ä¸»ä½“åˆ†ç»„ç­–ç•¥å’Œç®€åŒ–ä¼˜åŒ–å’Œæé«˜æ³›åŒ–èƒ½åŠ›çš„è§„èŒƒåŒ–å­¦ä¹ æ–¹æ¡ˆã€‚</p><h2 id="Deformable-Partial-Radiance-Fields"><a href="#Deformable-Partial-Radiance-Fields" class="headerlink" title="Deformable Partial Radiance Fields"></a>Deformable Partial Radiance Fields</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231025215724.png" alt="image.png|666"></p><h2 id="Fine-grained-Detail-Integration"><a href="#Fine-grained-Detail-Integration" class="headerlink" title="Fine-grained Detail Integration"></a>Fine-grained Detail Integration</h2><h2 id="Training-amp-Inference"><a href="#Training-amp-Inference" class="headerlink" title="Training &amp; Inference"></a>Training &amp; Inference</h2>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ClothedHumans </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PointCloud Review</title>
      <link href="/3DReconstruction/Multi-view/PointCloud%20Process/PointCloud%20Review/"/>
      <url>/3DReconstruction/Multi-view/PointCloud%20Process/PointCloud%20Review/</url>
      
        <content type="html"><![CDATA[<p>PointCloud</p><ul><li><strong>Registration</strong></li><li><strong>Surface Reconstruction</strong></li></ul><p>Follow</p><ul><li><a href="https://github.com/Yochengliu/awesome-point-cloud-analysis">Yochengliu/awesome-point-cloud-analysis: A list of papers and datasets about point cloud analysis (processing) (github.com)</a></li><li><a href="https://github.com/zhulf0804/3D-PointCloud">zhulf0804/3D-PointCloud: Papers and Datasets about Point Cloud. (github.com)</a></li><li><a href="https://github.com/XuyangBai/awesome-point-cloud-registration?tab=readme-ov-file#traditional">XuyangBai/awesome-point-cloud-registration: A curated list of point cloud registration. (github.com)</a></li></ul><span id="more"></span><h1 id="Point-Cloud-Registration"><a href="#Point-Cloud-Registration" class="headerlink" title="Point Cloud Registration"></a>Point Cloud Registration</h1><h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><ul><li><a href="https://readpaper.com/pdf-annotate/note?pdfId=4545266789335588865&amp;noteId=2010010466642902272">A comprehensive survey on point cloud registration. (readpaper.com)</a></li><li><a href="http://www.cjig.cn/html/2022/2/20220203.htm">æ·±åº¦å­¦ä¹ åˆšæ€§ç‚¹äº‘é…å‡†å‰æ²¿è¿›å±• (cjig.cn)</a></li><li><a href="http://geometryhub.net/notes/registration">ç‚¹äº‘æ‹¼æ¥æ³¨å†Œ (geometryhub.net)</a></li></ul><h3 id="Old-Method-Libraryï¼š"><a href="#Old-Method-Libraryï¼š" class="headerlink" title="Old Method Libraryï¼š"></a>Old Method Libraryï¼š</h3><ul><li>Probreg is a library that implements point cloud <strong>reg</strong>istration algorithms with <strong>prob</strong>ablistic model.</li><li>PCL: Point Cloud Library</li></ul><blockquote><p><a href="https://github.com/neka-nat/probreg">neka-nat/probreg: Python package for point cloud registration using probabilistic model (Coherent Point Drift, GMMReg, SVR, GMMTree, FilterReg, Bayesian CPD) (github.com)</a> &gt; <a href="https://pointclouds.org/">Point Cloud Library | The Point Cloud Library (PCL) is a standalone, large scale, open project for 2D/3D image and point cloud processing. (pointclouds.org)</a></p></blockquote><h2 id="Greedy-Grid-Search"><a href="#Greedy-Grid-Search" class="headerlink" title="Greedy Grid Search"></a>Greedy Grid Search</h2><p><a href="https://github.com/davidboja/greedy-grid-search">DavidBoja/greedy-grid-search: [BMVC 2022 workshop] Greedy Grid Search: A 3D Registration Baseline (github.com)</a><br><a href="https://github.com/DavidBoja/FAUST-partial">DavidBoja/FAUST-partial: [BMVC 2022 workshop] 3D registration benchmark dataset FAUST-partial (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019094915.png" alt="image.png|666"></p><h2 id="SGHR"><a href="#SGHR" class="headerlink" title="SGHR"></a>SGHR</h2><p><a href="https://github.com/WHU-USI3DV/SGHR">WHU-USI3DV/SGHR: [CVPR 2023] Robust Multiview Point Cloud Registration with Reliable Pose Graph Initialization and History Reweighting (github.com)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231017210035.png" alt="image.png|666"></p><h2 id="GeoTransformer"><a href="#GeoTransformer" class="headerlink" title="GeoTransformer"></a>GeoTransformer</h2><p><a href="https://github.com/qinzheng93/GeoTransformer?tab=readme-ov-file">qinzheng93/GeoTransformer: [CVPR2022] Geometric Transformer for Fast and Robust Point Cloud Registration (github.com)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231018113631.png" alt="image.png|666"></p><h2 id="Fusion-of-cross-view-images"><a href="#Fusion-of-cross-view-images" class="headerlink" title="Fusion of cross-view images"></a>Fusion of cross-view images</h2><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=4546340788354310145&amp;noteId=2015534437671973888">3D Reconstruction through Fusion of Cross-View Images (readpaper.com)</a></p><p>å¤šå¼ å«æ˜Ÿå›¾ç‰‡é…å‡†<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022110219.png" alt="image.png|666"></p><h1 id="PointCloud-Surface-Reconstruction"><a href="#PointCloud-Surface-Reconstruction" class="headerlink" title="PointCloud Surface Reconstruction"></a>PointCloud Surface Reconstruction</h1><p><a href="https://pymeshlab.readthedocs.io/en/2022.2/classes/meshset.html">MeshSet â€” PyMeshLab documentation</a><br>Use pymeshlab to <strong>screened Poisson surface construction</strong></p><h2 id="NKSR"><a href="#NKSR" class="headerlink" title="NKSR"></a>NKSR</h2><p><a href="https://github.com/nv-tlabs/NKSR">nv-tlabs/NKSR: [CVPR 2023 Highlight] Neural Kernel Surface Reconstruction (github.com)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231017200157.png" alt="image.png|666"></p><h2 id="FlexiCubes"><a href="#FlexiCubes" class="headerlink" title="FlexiCubes"></a>FlexiCubes</h2><p><a href="https://research.nvidia.com/labs/toronto-ai/flexicubes/">Flexible Isosurface Extraction for Gradient-Based Mesh Optimization (FlexiCubes) (nvidia.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023164911.png" alt="image.png|666"></p><h2 id="DualMesh-UDF"><a href="#DualMesh-UDF" class="headerlink" title="DualMesh-UDF"></a>DualMesh-UDF</h2><p><a href="https://cong-yi.github.io/projects/dualmeshudf/">Surface Extraction from Neural Unsigned Distance Fields (cong-yi.github.io)</a></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PointCloud </tag>
            
            <tag> Registration </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Generative Models Review about 3D Reconstruction</title>
      <link href="/3DReconstruction/Multi-view/Generative%20Models/Generative%20Models%20Reconstruction/"/>
      <url>/3DReconstruction/Multi-view/Generative%20Models/Generative%20Models%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Paper</th><th>Model</th><th>Input</th><th>Parameter/Pnum</th><th>GPU</th></tr></thead><tbody><tr><td>DiT-3D</td><td>Diffusion Transformers</td><td>Voxelized PC</td><td></td><td></td></tr><tr><td>PointFlow</td><td>AE flow-based</td><td>PointCloud</td><td>1.61M</td><td></td></tr><tr><td>FlowGAN</td><td>GAN flow-based</td><td>Single Image</td><td>N = 2500</td><td>A40 45GB</td></tr><tr><td>BuilDiff</td><td>Diffusion models</td><td>Single Image</td><td>1024 to 4096</td><td>A40 45GB</td></tr><tr><td>CCD-3DR</td><td>CDPM</td><td>Single Image</td><td>8192</td><td>3090Ti 24GB</td></tr><tr><td>SG-GAN</td><td>SG-GAN</td><td>Single Image</td><td></td><td></td></tr><tr><td><strong>HaP</strong></td><td>Diffusion+SMPL+DepthEstimation</td><td>Single Image</td><td>10000</td><td>4x3090Ti</td></tr></tbody></table></div><span id="more"></span><h1 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h1><ul><li><a href="https://arxiv.org/abs/2311.06786">Explainability of Vision Transformers: A Comprehensive Review and New Perspectives</a> å…³äºè§†è§‰ä¸­ä½¿ç”¨ Transformer çš„ Review</li></ul><h1 id="Generative-approach-Img2PC"><a href="#Generative-approach-Img2PC" class="headerlink" title="Generative approach(Img2PC)"></a>Generative approach(Img2PC)</h1><h2 id="Network-Framework"><a href="#Network-Framework" class="headerlink" title="Network Framework"></a>Network Framework</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021163349.png" alt="Image.png|555"></p><ul><li>GAN(generative adversarial networks) <a href="https://mofanpy.com/tutorials/machine-learning/gan/wgan">Wasserstein GAN (WGAN) è§£å†³æœ¬è´¨é—®é¢˜ | è«çƒ¦Python</a></li><li>VAE(variational auto-encoders)</li><li>Auto-regressive models</li><li>Normalized flows(flow-based models), PointFlow<ul><li>ç›¸å½“äºå¤šä¸ªç”Ÿæˆå™¨ï¼Œå¹¶ä¸”å¯é€†</li><li><a href="https://www.youtube.com/watch?v=uXY18nzdSsM&amp;list=PLJV_el3uVTsOK_ZK5L0Iv_EQoL1JefRL4&amp;index=60">Flow-based Generative Model - YouTube</a></li><li><a href="https://zhuanlan.zhihu.com/p/267305869">Flow-based Generative Model ç¬”è®°æ•´ç† - çŸ¥ä¹ (zhihu.com)</a></li><li><a href="https://zhuanlan.zhihu.com/p/59615785">Normalization Flow (æ ‡å‡†åŒ–æµ) æ€»ç»“ - çŸ¥ä¹ (zhihu.com)</a></li></ul></li><li>DiT(Diffusion Transformers), DiT-3D</li></ul><p>Flow-basedï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021100952.png" alt="image.png|333"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021101055.png" alt="image.png|666"></p><h2 id="Loss"><a href="#Loss" class="headerlink" title="Loss"></a>Loss</h2><p>ç‚¹äº‘å€’è§’è·ç¦» CD â†“<br>$\begin{aligned}\mathcal{L}_{CD}&amp;=\sum_{yâ€™\in Yâ€™}min_{y\in Y}||yâ€™-y||_2^2+\sum_{y\in Y}min_{yâ€™\in Yâ€™}||y-yâ€™||_2^2,\end{aligned}$</p><p>æ¨åœŸè·ç¦» EMD (Earth Moverâ€™s distance)â†“<br>$\mathcal{L}_{EMD}=min_{\phi:Y\rightarrow Y^{\prime}}\sum_{x\in Y}||x-\phi(x)||_{2}$ , Ï† indicates a parameter of bijection.</p><h2 id="Diffusion-Models"><a href="#Diffusion-Models" class="headerlink" title="Diffusion Models"></a>Diffusion Models</h2><h3 id="DMV3D"><a href="#DMV3D" class="headerlink" title="DMV3D"></a>DMV3D</h3><p><a href="https://justimyhxu.github.io/projects/dmv3d/">DMV3D: Denoising Multi-View Diffusion Using 3D Large Reconstruction Mode (justimyhxu.github.io)</a></p><p>Diffusion Model + Triplane NeRF + Multi-view Image input<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116161909.png" alt="image.png|666"></p><h3 id="DiffuStereo"><a href="#DiffuStereo" class="headerlink" title="DiffuStereo"></a>DiffuStereo</h3><p><a href="https://liuyebin.com/diffustereo/diffustereo.html">DiffuStereo Project Page (liuyebin.com)</a></p><p>å¤šè§†å›¾<br>DoubleField ç²—ç½‘æ ¼ä¼°è®¡ + Diffusion ç”Ÿæˆé«˜è´¨é‡ Disparity Flow å’Œ Depth + ICP é…å‡†ï¼ˆç‚¹äº‘èåˆï¼‰</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231111120652.png" alt="image.png|666"></p><h3 id="Human-as-Points-HaP"><a href="#Human-as-Points-HaP" class="headerlink" title="Human as Points(HaP)"></a>Human as Points(HaP)</h3><p><a href="https://github.com/yztang4/HaP">yztang4/HaP (github.com)</a><br><a href="https://arxiv.org/pdf/2311.02892.pdf">Human as Points: Explicit Point-based 3D Human Reconstruction from Single-view RGB Images(arxiv.org)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=2039003253707810304&amp;noteId=2039256760006808832">Human as Pointsâ€”â€” Explicit Point-based 3D Human Reconstruction from Single-view RGB Images.pdf (readpaper.com)</a></p><p>æ·±åº¦ä¼°è®¡+SMPL ä¼°è®¡å¾—åˆ°ä¸¤ä¸ªç¨€ç–ç‚¹äº‘ï¼Œè¾“å…¥è¿› Diffusion Model è¿›è¡Œç²¾ç»†åŒ–ç”Ÿæˆ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107193647.png" alt="image.png|666"></p><h3 id="HumanNorm"><a href="#HumanNorm" class="headerlink" title="HumanNorm"></a>HumanNorm</h3><p><a href="https://humannorm.github.io/">HumanNorm</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231111214245.png" alt="image.png|666"></p><h3 id="BuilDiff"><a href="#BuilDiff" class="headerlink" title="BuilDiff"></a>BuilDiff</h3><p>é¢„è®¡ 2023.11 release<br><a href="BuilDiff.md">BuilDiffè®ºæ–‡é˜…è¯»ç¬”è®°</a><br><a href="https://github.com/weiyao1996/BuilDiff">weiyao1996/BuilDiff: BuilDiff: 3D Building Shape Generation using Single-Image Conditional Point Cloud Diffusion Models (github.com)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4796303379219349505&amp;noteId=2014132586369911808">BuilDiff: 3D Building Shape Generation using Single-Image Conditional Point Cloud Diffusion Models (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021114740.png" alt="image.png|666"></p><h3 id="RODIN"><a href="#RODIN" class="headerlink" title="RODIN"></a>RODIN</h3><p><a href="https://3d-avatar-diffusion.microsoft.com/">RODIN Diffusion (microsoft.com)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4700249091733454849&amp;noteId=2024885528733762560">Rodin: A Generative Model for Sculpting 3D Digital Avatars Using Diffusion (readpaper.com)</a></p><p>å¾®è½¯å¤§æ•°æ®é›† + Diffusion + NeRF Tri-plane<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231028214552.png" alt="image.png|666"></p><h3 id="Single-Image-3D-Human-Digitization-with-Shape-Guided-Diffusion"><a href="#Single-Image-3D-Human-Digitization-with-Shape-Guided-Diffusion" class="headerlink" title="Single-Image 3D Human Digitization with Shape-Guided Diffusion"></a>Single-Image 3D Human Digitization with Shape-Guided Diffusion</h3><p><a href="https://arxiv.org/abs/2311.09221">Single-Image 3D Human Digitization with Shape-Guided Diffusion</a></p><p>åˆ©ç”¨é’ˆå¯¹ä¸€èˆ¬å›¾åƒåˆæˆä»»åŠ¡<strong>é¢„å…ˆè®­ç»ƒçš„é«˜å®¹é‡äºŒç»´æ‰©æ•£æ¨¡å‹</strong>ä½œä¸ºç©¿ç€äººç±»çš„å¤–è§‚å…ˆéªŒ<br>é€šè¿‡ä»¥è½®å»“å’Œè¡¨é¢æ³•çº¿ä¸ºæ¡ä»¶çš„å½¢çŠ¶å¼•å¯¼æ‰©æ•£æ¥ä¿®å¤ç¼ºå¤±åŒºåŸŸ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116160820.png" alt="image.png|666"></p><h3 id="CCD-3DR"><a href="#CCD-3DR" class="headerlink" title="CCD-3DR"></a>CCD-3DR</h3><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=4789424767274844161&amp;noteId=2014146864821066240">CCD-3DR: Consistent Conditioning in Diffusion for Single-Image 3D Reconstruction (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021115606.png" alt="image.png|666"></p><h3 id="PC-2"><a href="#PC-2" class="headerlink" title="$PC^2$"></a>$PC^2$</h3><p><a href="https://lukemelas.github.io/projection-conditioned-point-cloud-diffusion/">PC2: Projection-Conditioned Point Cloud Diffusion for Single-Image 3D Reconstruction (lukemelas.github.io)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4726675454702911489&amp;noteId=2014671879272477696">$PC^2$: Projection-Conditioned Point Cloud Diffusion for Single-Image 3D Reconstruction (readpaper.com)</a></p><p>ç›¸æœºä½å§¿???<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021203845.png" alt="image.png|666"></p><h3 id="DiT-3D"><a href="#DiT-3D" class="headerlink" title="DiT-3D"></a>DiT-3D</h3><p><a href="DiT-3D.md">DiT-3Dè®ºæ–‡é˜…è¯»ç¬”è®°</a><br><a href="https://dit-3d.github.io/">DiT-3D: Exploring Plain Diffusion Transformers for 3D Shape Generation</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4776143720479195137&amp;noteId=2011558450133224704">DiT-3D: Exploring Plain Diffusion Transformers for 3D Shape Generation (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019170328.png" alt="image.png|666"></p><h3 id="Make-It-3D"><a href="#Make-It-3D" class="headerlink" title="Make-It-3D"></a>Make-It-3D</h3><p><a href="https://make-it-3d.github.io/">Make-It-3D: High-Fidelity 3D Creation from A Single Image with Diffusion Prior</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023154817.png" alt="image.png|666"></p><h3 id="DreamGaussian"><a href="#DreamGaussian" class="headerlink" title="DreamGaussian"></a>DreamGaussian</h3><p><a href="https://dreamgaussian.github.io/">DreamGaussian</a></p><p>Gaussian Splatting + Diffusion<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024164334.png" alt="image.png|666"></p><h3 id="Wonder3D"><a href="#Wonder3D" class="headerlink" title="Wonder3D"></a>Wonder3D</h3><p><a href="https://www.xxlong.site/Wonder3D/">Wonder3D: Single Image to 3D using Cross-Domain Diffusion (xxlong.site)</a></p><p>Diffusion ä¸€è‡´æ€§å‡ºå›¾ + Geometry Fusion (novel geometric-aware optimization scheme)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024205005.png" alt="image.png|666"></p><h4 id="CLIP"><a href="#CLIP" class="headerlink" title="CLIP"></a>CLIP</h4><p><a href="https://github.com/openai/CLIP">openai/CLIP: CLIP (Contrastive Language-Image Pretraining), Predict the most relevant text snippet given an image (github.com)</a></p><p>å¯¹æ¯”è¯­è¨€-å›¾ç‰‡é¢„è®­ç»ƒæ¨¡å‹<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231025093839.png" alt="image.png|666"></p><h3 id="GenNeRF"><a href="#GenNeRF" class="headerlink" title="GenNeRF"></a>GenNeRF</h3><p><a href="https://arxiv.org/abs/2310.19464">Generative Neural Fields by Mixtures of Neural Implicit Functions (arxiv.org)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231031184253.png" alt="image.png|666"></p><h3 id="LDM3D-VR"><a href="#LDM3D-VR" class="headerlink" title="LDM3D-VR"></a>LDM3D-VR</h3><p><a href="https://arxiv.org/abs/2311.03226">LDM3D-VR: Latent Diffusion Model for 3D VR (arxiv.org)</a><br><a href="https://t.ly/tdi2">è§†é¢‘æ¼”ç¤ºT.LY URL Shortener</a></p><p>ä»ç»™å®šçš„æ–‡æœ¬æç¤ºç”Ÿæˆå›¾åƒå’Œæ·±åº¦å›¾æ•°æ®ï¼Œæ­¤å¤–å¼€å‘äº†ä¸€ä¸ª DepthFusion çš„åº”ç”¨ç¨‹åºï¼Œå®ƒä½¿ç”¨ç”Ÿæˆçš„ RGB å›¾åƒå’Œæ·±åº¦å›¾æ¥ä½¿ç”¨ TouchDesigner åˆ›å»ºèº«ä¸´å…¶å¢ƒçš„äº¤äº’å¼ 360Â°è§†å›¾ä½“éªŒ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231108223206.png" alt="image.png|666"></p><h3 id="Control3D"><a href="#Control3D" class="headerlink" title="Control3D"></a>Control3D</h3><p><a href="https://arxiv.org/pdf/2311.05461.pdf">Control3D: Towards Controllable Text-to-3D Generation</a></p><p>è‰å›¾+æ–‡æœ¬æ¡ä»¶ç”Ÿæˆ 3D</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110160231.png" alt="image.png|666"></p><h3 id="Etc"><a href="#Etc" class="headerlink" title="Etc"></a>Etc</h3><p>Colored PC <a href="https://readpaper.com/pdf-annotate/note?pdfId=4723055356805120001&amp;noteId=2014681937165010176">3D Colored Shape Reconstruction from a Single RGB Image through Diffusion (readpaper.com)</a></p><h2 id="GAN"><a href="#GAN" class="headerlink" title="GAN"></a>GAN</h2><h3 id="3DHumanGAN"><a href="#3DHumanGAN" class="headerlink" title="3DHumanGAN"></a>3DHumanGAN</h3><p><a href="https://3dhumangan.github.io/">3DHumanGAN: 3D-Aware Human Image Generation with 3D Pose Mapping</a></p><p>å¤šè§†å›¾ä¸€è‡´çš„äººä½“ç…§ç‰‡ç”Ÿæˆ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231122161513.png" alt="image.png|666"></p><h3 id="SE-MD"><a href="#SE-MD" class="headerlink" title="SE-MD"></a>SE-MD</h3><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=4546363961368010753&amp;noteId=2015501024673795072">SE-MD: A Single-encoder multiple-decoder deep network for point cloud generation from 2D images. (readpaper.com)</a><br>å•ç¼–ç å™¨â€”&gt;å¤šè§£ç å™¨<br>æ¯ä¸ªè§£ç å™¨ç”ŸæˆæŸäº›å›ºå®šè§†ç‚¹ï¼Œç„¶åèåˆæ‰€æœ‰è§†ç‚¹æ¥ç”Ÿæˆå¯†é›†çš„ç‚¹äº‘</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022105308.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231031152551.png" alt="image.png|666"></p><h3 id="FlowGAN"><a href="#FlowGAN" class="headerlink" title="FlowGAN"></a>FlowGAN</h3><p><a href="FlowGAN.md">FlowGANè®ºæ–‡é˜…è¯»ç¬”è®°</a><br><a href="https://bmvc2022.mpi-inf.mpg.de/569/">Flow-based GAN for 3D Point Cloud Generation from a Single Image (mpg.de)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4677468038203719681&amp;noteId=2011515461854903552">Flow-based GAN for 3D Point Cloud Generation from a Single Image (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019162233.png" alt="image.png|555"></p><h3 id="SG-GAN"><a href="#SG-GAN" class="headerlink" title="SG-GAN"></a>SG-GAN</h3><p><a href="SG-GAN.md">SG-GANè®ºæ–‡é˜…è¯»ç¬”è®°</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4762223320204574721&amp;noteId=2014610279544785920">SG-GAN: Fine Stereoscopic-Aware Generation for 3D Brain Point Cloud Up-sampling from a Single Image (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021193539.png" alt="image.png|666"></p><h3 id="3D-Brain-Reconstruction-and-Complete"><a href="#3D-Brain-Reconstruction-and-Complete" class="headerlink" title="3D Brain Reconstruction and Complete"></a>3D Brain Reconstruction and Complete</h3><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=4552080679232348161&amp;noteId=2015496104888593408">3D Brain Reconstruction by Hierarchical Shape-Perception Network from a Single Incomplete Image. (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022101838.png" alt="image.png|666"></p><h3 id="Deep3DSketch"><a href="#Deep3DSketch" class="headerlink" title="Deep3DSketch+"></a>Deep3DSketch+</h3><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=4803935841323843585&amp;noteId=2028490687877420544">Deep3DSketch+: Rapid 3D Modeling from Single Free-Hand Sketches (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231031092339.png" alt="image.png|666"></p><h3 id="Reality3DSketch"><a href="#Reality3DSketch" class="headerlink" title="Reality3DSketch"></a>Reality3DSketch</h3><p><a href="https://arxiv.org/abs/2310.18148">[2310.18148] Reality3DSketch: Rapid 3D Modeling of Objects from Single Freehand Sketches (arxiv.Org)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231031092703.png" alt="image.png|666"></p><h3 id="Deep3DSketch-1"><a href="#Deep3DSketch-1" class="headerlink" title="Deep3DSketch+\+"></a>Deep3DSketch+\+</h3><p><a href="https://arxiv.org/abs/2310.18178">[2310.18178] Deep3DSketch++: High-Fidelity 3D Modeling from Single Free-hand Sketches (arxiv.Org)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231031093421.png" alt="image.png|666"></p><h3 id="GET3D"><a href="#GET3D" class="headerlink" title="GET3D"></a>GET3D</h3><p><a href="https://github.com/nv-tlabs/GET3D">nv-tlabs/GET3D (github.com)</a><br><a href="https://nv-tlabs.github.io/GET3D/">GET3D: A Generative Model of High Quality 3D Textured Shapes Learned from Images (nv-tlabs.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023154445.png" alt="image.png|666"></p><h3 id="AG3D"><a href="#AG3D" class="headerlink" title="AG3D"></a>AG3D</h3><p><a href="https://zj-dong.github.io/AG3D/">AG3D: Learning to Generate 3D Avatars from 2D Image Collections (zj-dong.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023160511.png" alt="image.png|666"></p><h2 id="NFs-Normalizing-Flows"><a href="#NFs-Normalizing-Flows" class="headerlink" title="NFs (Normalizing Flows)"></a>NFs (Normalizing Flows)</h2><h3 id="PointFlow"><a href="#PointFlow" class="headerlink" title="PointFlow"></a>PointFlow</h3><p><a href="https://github.com/stevenygd/PointFlow?tab=readme-ov-file">stevenygd/PointFlow: PointFlow : 3D Point Cloud Generation with Continuous Normalizing Flows (github.com)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4500221890681004033&amp;noteId=2011462053836873984">PointFlow: 3D Point Cloud Generation with Continuous Normalizing Flows (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019154043.png" alt="image.png|666"></p><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><h3 id="Automatic-Reverse-Engineering"><a href="#Automatic-Reverse-Engineering" class="headerlink" title="Automatic Reverse Engineering"></a>Automatic Reverse Engineering</h3><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=4804297472033685505&amp;noteId=2014396749893884416">Automatic Reverse Engineering: Creating computer-aided design (CAD) models from multi-view images (readpaper.com)</a></p><p>å¤šè§†å›¾å›¾åƒç”Ÿæˆ CAD å‘½ä»¤åºåˆ—<br>å±€é™æ€§ï¼š</p><ul><li>CAD åºåˆ—çš„é•¿åº¦ä»ç„¶å±€é™äº 60 ä¸ªå‘½ä»¤ï¼Œå› æ­¤åªæ”¯æŒç›¸å¯¹ç®€å•çš„å¯¹è±¡</li><li>è¡¨ç¤ºä»…é™äºå¹³é¢å’Œåœ†æŸ±è¡¨é¢ï¼Œè€Œè®¸å¤šç°å®ä¸–ç•Œçš„å¯¹è±¡å¯èƒ½åŒ…æ‹¬æ›´çµæ´»çš„ä¸‰è§’å½¢ç½‘æ ¼æˆ–æ ·æ¡è¡¨ç¤º</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021160431.png" alt="image.png|666"></p><h3 id="SimIPU"><a href="#SimIPU" class="headerlink" title="SimIPU"></a>SimIPU</h3><p><a href="https://github.com/zhyever/SimIPU">zhyever/SimIPU: [AAAI 2021] Official Implementation of â€œSimIPU: Simple 2D Image and 3D Point Cloud Unsupervised Pre-Training for Spatial-Aware Visual Representationsâ€ (github. Com)</a></p><p>é›·è¾¾ç‚¹äº‘+å›¾ç‰‡<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022103332.png" alt="image.png|666"></p><h3 id="3DRIMR"><a href="#3DRIMR" class="headerlink" title="3DRIMR"></a>3DRIMR</h3><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=4542232848617857025&amp;noteId=2015491146701999104">3DRIMR: 3D Reconstruction and Imaging via mmWave Radar based on Deep Learning. (readpaper.com)</a><br>MmWave Radar + GAN<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022102437.png" alt="image.png|666"></p><h3 id="TransHuman"><a href="#TransHuman" class="headerlink" title="TransHuman"></a>TransHuman</h3><p><a href="TransHuman.md">TransHumanè®ºæ–‡é˜…è¯»ç¬”è®°</a><br><a href="https://pansanity666.github.io/TransHuman/">TransHuman: A Transformer-based Human Representation for Generalizable Neural Human Rendering (pansanity666.github.io)</a></p><p>ImplicitFunction(NeRF)<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022103225.png" alt="image.png|666"></p><h3 id="Nvdiffrec"><a href="#Nvdiffrec" class="headerlink" title="Nvdiffrec"></a>Nvdiffrec</h3><p>ç½‘æ ¼ä¼˜åŒ–æ¯” mlp ä¼˜åŒ–éš¾ï¼Œé€Ÿåº¦æ…¢ from NeRF wechat</p><ul><li>è¿˜æœ‰ä¸€ä¸ª nvdiffrcmcï¼Œæ•ˆæœå¯èƒ½å¥½ä¸€äº› Shape, Light, and Material Decomposition from Images using Monte Carlo Rendering and Denoising</li><li>åç»­è¿˜æœ‰ä¸ª NeuManifold: Neural Watertight Manifold Reconstruction with Efficient and High-Quality Rendering Supportï¼Œåº”è¯¥æ¯” nvdiffrec è¦å¥½</li></ul><p><a href="https://github.com/NVlabs/nvdiffrec">NVlabs/nvdiffrec: Official code for the CVPR 2022 (oral) paper â€œExtracting Triangular 3D Models, Materials, and Lighting From Imagesâ€. (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023154513.png" alt="image.png|666"></p><h3 id="HyperHuman"><a href="#HyperHuman" class="headerlink" title="HyperHuman"></a>HyperHuman</h3><p>é«˜è´¨é‡äººç±»å›¾ç‰‡<br><a href="https://snap-research.github.io/HyperHuman/">HyperHuman: Hyper-Realistic Human Generation with Latent Structural Diffusion (snap-research.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023155025.png" alt="image.png|666"></p><h3 id="SyncDreamer"><a href="#SyncDreamer" class="headerlink" title="SyncDreamer"></a>SyncDreamer</h3><p><a href="https://liuyuan-pal.github.io/SyncDreamer/">SyncDreamer: Generating Multiview-consistent Images from a Single-view Image (liuyuan-pal.github.io)</a></p><p>å¤šè§†å›¾ä¸€è‡´çš„å›¾ç‰‡ç”Ÿæˆ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023165400.png" alt="image.png|666"></p><h3 id="One-2-3-45"><a href="#One-2-3-45" class="headerlink" title="One-2-3-45"></a>One-2-3-45</h3><p><a href="https://one-2-3-45.github.io/">One-2-3-45</a></p><p>MVS+NeRF<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023165804.png" alt="image.png|666"></p><h3 id="One-2-3-45-1"><a href="#One-2-3-45-1" class="headerlink" title="One-2-3-45++"></a>One-2-3-45++</h3><p><a href="https://sudo-ai-3d.github.io/One2345plus_page/">One-2-3-45++ (sudo-ai-3d.github.io)</a></p><p>==æä¾›äº†ä¸€ä¸ªå¯ä»¥å›¾ç‰‡ç”Ÿæˆ3D èµ„äº§çš„ demo== <a href="https://www.sudo.ai/3dgen">sudoAI</a></p><p>ä¸€è‡´æ€§å›¾åƒç”Ÿæˆ + CLIP + 3D Diffusion Model</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231117094931.png" alt="image.png|666"></p><h3 id="Zero-1-to-3"><a href="#Zero-1-to-3" class="headerlink" title="Zero-1-to-3"></a>Zero-1-to-3</h3><p><a href="https://zero123.cs.columbia.edu/">Zero-1-to-3: Zero-shot One Image to 3D Object (columbia.edu)</a></p><p>å¤šè§†å›¾ä¸€è‡´ Diffusion Model + NeRF</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023171814.png" alt="image.png|666"></p><h3 id="Pix2pix3D"><a href="#Pix2pix3D" class="headerlink" title="Pix2pix3D"></a>Pix2pix3D</h3><p><a href="http://www.cs.cmu.edu/~pix2pix3D/">pix2pix3D: 3D-aware Conditional Image Synthesis (cmu.edu)</a></p><p>ä¸€è‡´æ€§å›¾åƒç”Ÿæˆ+NeRF</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231105173051.png" alt="image.png|666"></p><h3 id="Consistent4D"><a href="#Consistent4D" class="headerlink" title="Consistent4D"></a>Consistent4D</h3><p><a href="https://consistent4d.github.io/">Consistent4D (consistent4d.github.io)</a></p><p>å•ç›®è§†é¢‘ç”Ÿæˆ 4D åŠ¨æ€ç‰©ä½“ï¼ŒDiffusion Model ç”Ÿæˆå¤šè§†å›¾(æ—¶ç©º)ä¸€è‡´æ€§çš„å›¾åƒ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107192857.png" alt="image.png|666"></p><h3 id="ConRad"><a href="#ConRad" class="headerlink" title="ConRad"></a>ConRad</h3><p><a href="https://arxiv.org/pdf/2311.05230.pdf">ConRad: Image Constrained Radiance Fields for 3D Generation from a Single Image</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=2043334481936337152&amp;noteId=2043393675895077376">ConRad: Image Constrained Radiance Fields for 3D Generation from a Single Image (readpaper.com)</a></p><p>å¤šè§†å›¾ä¸€è‡´<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110160631.png" alt="image.png|666"></p><h3 id="LRM"><a href="#LRM" class="headerlink" title="LRM"></a>LRM</h3><p><a href="https://scalei3d.github.io/LRM/">LRM: Large Reconstruction Model for Single Image to 3D (scalei3d.github.io)</a></p><p>å¤§æ¨¡å‹ Transformer(5 äº¿ä¸ªå¯å­¦ä¹ å‚æ•°) + 5s å•è§†å›¾ç”Ÿæˆ 3D</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110162856.png" alt="image.png|666"></p><h3 id="Instant3D"><a href="#Instant3D" class="headerlink" title="Instant3D"></a>Instant3D</h3><p><a href="https://ming1993li.github.io/Instant3DProj/">Instant3D: Instant Text-to-3D Generation (ming1993li.github.io)</a></p><p>æ–‡æœ¬ç”Ÿæˆ 3D<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116154716.png" alt="image.png|666"></p><h3 id="LucidDreamer"><a href="#LucidDreamer" class="headerlink" title="LucidDreamer"></a>LucidDreamer</h3><p><a href="https://github.com/EnVision-Research/LucidDreamer">EnVision-Research/LucidDreamer: Official implementation of â€œLucidDreamer: Towards High-Fidelity Text-to-3D Generation via Interval Score Matchingâ€ (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231122201401.png" alt="image.png|666"></p><h3 id="HumanGaussian"><a href="#HumanGaussian" class="headerlink" title="HumanGaussian"></a>HumanGaussian</h3><p><a href="https://alvinliu0.github.io/projects/HumanGaussian">HumanGaussian: Text-Driven 3D Human Generation with Gaussian Splatting (alvinliu0.github.io)</a></p><p>Gaussian Splatting æ–‡æœ¬ç”Ÿæˆ 3DHuman</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231129164200.png" alt="image.png|666"></p><h3 id="Surf-D"><a href="#Surf-D" class="headerlink" title="Surf-D"></a>Surf-D</h3><p><a href="https://arxiv.org/abs/2311.17050">[2311.17050] Surf-D: High-Quality Surface Generation for Arbitrary Topologies using Diffusion Models (arxiv.Org)</a></p><p>é«˜è´¨é‡æ‹“æ‰‘ 3D è¡£æœç”Ÿæˆ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231129164359.png" alt="image.png|666"></p><h3 id="HumanRef"><a href="#HumanRef" class="headerlink" title="HumanRef"></a>HumanRef</h3><p><a href="https://arxiv.org/abs/2311.16961">[2311.16961] HumanRef: Single Image to 3D Human Generation via Reference-Guided Diffusion (arxiv.Org)</a></p><p>å•è§†å›¾ Diffusion äººä½“ç”Ÿæˆ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231129164832.png" alt="image.png|666"></p><h3 id="RichDreamer"><a href="#RichDreamer" class="headerlink" title="RichDreamer"></a>RichDreamer</h3><p><a href="https://lingtengqiu.github.io/RichDreamer/">RichDreamer: A Generalizable Normal-Depth Diffusion Model for Detail Richness in Text-to-3D (lingtengqiu.github.io)</a></p><p>æ–‡æœ¬ç”Ÿæˆ 3D<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231129165112.png" alt="image.png|666"></p><h3 id="TriplaneGaussian"><a href="#TriplaneGaussian" class="headerlink" title="TriplaneGaussian"></a>TriplaneGaussian</h3><p><a href="https://zouzx.github.io/TriplaneGaussian/">Triplane Meets Gaussian Splatting: Fast and Generalizable Single-View 3D Reconstruction with Transformers (zouzx.github.io)</a></p><p>å•è§†å›¾ç”Ÿæˆ3D</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231218202024.png" alt="image.png|666"></p><h3 id="Mosaic-SDF"><a href="#Mosaic-SDF" class="headerlink" title="Mosaic-SDF"></a>Mosaic-SDF</h3><p><a href="https://lioryariv.github.io/msdf/">Mosaic-SDF (lioryariv.github.io)</a></p><p>ä¸€ç§æ–°çš„ä¸‰ç»´æ¨¡å‹çš„è¡¨ç¤ºæ–¹æ³•ï¼šM-SDFï¼ŒåŸºäºFlowçš„ç”Ÿæˆå¼æ–¹æ³•<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231218203722.png" alt="image.png|666"></p><h3 id="PI3D"><a href="#PI3D" class="headerlink" title="PI3D"></a>PI3D</h3><p><a href="https://arxiv.org/abs/2312.09069">[2312.09069] PI3D: Efficient Text-to-3D Generation with Pseudo-Image Diffusion (arxiv.org)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231218203837.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Diffusion </tag>
            
            <tag> GAN </tag>
            
            <tag> Flow </tag>
            
            <tag> Review </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BuilDiff</title>
      <link href="/3DReconstruction/Single-view/Generative%20Models/BuilDiff/"/>
      <url>/3DReconstruction/Single-view/Generative%20Models/BuilDiff/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>BuilDiff: 3D Building Shape Generation using Single-Image Conditional Point Cloud Diffusion Models</th></tr></thead><tbody><tr><td>Author</td><td>Wei, Yao and Vosselman, George and Yang, Michael Ying</td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/weiyao1996/BuilDiff">weiyao1996/BuilDiff: BuilDiff: 3D Building Shape Generation using Single-Image Conditional Point Cloud Diffusion Models (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4796303379219349505&amp;noteId=2014132586369911808">BuilDiff: 3D Building Shape Generation using Single-Image Conditional Point Cloud Diffusion Models (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021114740.png" alt="image.png|666"></p><ul><li>å…³æ³¨å»ºç­‘ç‰©çš„é‡å»ºï¼Œä¸º 3D Diffusion Models ä¸­æ·»åŠ äº†å›¾ç‰‡çš„ä¿¡æ¯åµŒå…¥(é¢„è®­ç»ƒäº†ä¸€ä¸ªå›¾ç‰‡ç¼–ç å™¨)</li><li>ä¸¤é˜¶æ®µçš„ç‚¹äº‘é™å™ªæ¨¡å‹ï¼Œç¬¬ä¸€é˜¶æ®µå…³æ³¨å…¨å±€ï¼Œç¬¬äºŒé˜¶æ®µå…³æ³¨ç»†èŠ‚</li><li>æå‡ºäº†ä¸¤ä¸ªè‡ªå®šä¹‰çš„æ–°æ•°æ®é›†ï¼Œå¹¶åœ¨æ•°æ®é›†ä¸ŠéªŒè¯äº†æœ¬æ–¹æ³•çš„ä¼˜ç‚¹</li></ul><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>å…·æœ‰ä½æ•°æ®é‡‡é›†æˆæœ¬çš„ä¸‰ç»´å»ºç­‘ç”Ÿæˆï¼Œå¦‚å•å›¾åƒåˆ°ä¸‰ç»´ï¼Œå˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚ç„¶è€Œï¼Œç°æœ‰çš„å•å›¾åƒåˆ° 3d çš„å»ºç­‘åˆ›ä½œä½œå“å¤§å¤šå±€é™äºå…·æœ‰ç‰¹å®šè§†è§’çš„å›¾åƒï¼Œå› æ­¤éš¾ä»¥ç¼©æ”¾åˆ°å®é™…æƒ…å†µä¸­å¸¸è§çš„é€šç”¨è§†å›¾å›¾åƒã€‚ä¸ºäº†å¡«è¡¥è¿™ä¸€ç©ºç™½ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ä¸‰ç»´å»ºç­‘å½¢çŠ¶ç”Ÿæˆæ–¹æ³•ï¼Œåˆ©ç”¨<strong>ç‚¹äº‘æ‰©æ•£æ¨¡å‹</strong>å’Œ<strong>å›¾åƒè°ƒèŠ‚æ–¹æ¡ˆ</strong>ï¼Œè¯¥æ–¹æ³•å¯¹è¾“å…¥å›¾åƒå…·æœ‰çµæ´»æ€§ã€‚è¯¥æ–¹æ³•é€šè¿‡ä¸¤ç§æ¡ä»¶æ‰©æ•£æ¨¡å‹çš„é…åˆï¼Œåœ¨å»å™ªè¿‡ç¨‹ä¸­å¼•å…¥æ­£åˆ™åŒ–ç­–ç•¥ï¼Œå®ç°äº†åœ¨ä¿æŒæ•´ä½“ç»“æ„çš„å‰æä¸‹å¯¹å»ºç­‘ç‰©å±‹é¡¶è¿›è¡Œåˆæˆã€‚æˆ‘ä»¬åœ¨ä¸¤ä¸ªæ–°å»ºç«‹çš„æ•°æ®é›†ä¸ŠéªŒè¯äº†æˆ‘ä»¬çš„æ¡†æ¶ï¼Œå¤§é‡çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨æ„å»ºç”Ÿæˆè´¨é‡æ–¹é¢ä¼˜äºä»¥å‰çš„å·¥ä½œã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯<strong>ä»å•ä¸€çš„é€šç”¨è§†å›¾å›¾åƒä¸­</strong>ç”Ÿæˆå»ºç­‘ç‰©çš„ 3D ç‚¹äº‘ï¼Œè€Œä¸æ˜¯ä»…ä»ç‰¹å®šè§’åº¦(ä¾‹å¦‚æœ€ä½ç‚¹æˆ–è¡—é“è§†å›¾)è·å–å›¾åƒï¼Œæ—¨åœ¨æé«˜æ‰€æå‡ºæ–¹æ³•çš„é€‚ç”¨æ€§ã€‚å¦‚å›¾ 1 æ‰€ç¤ºï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªåˆ†å±‚æ¡†æ¶ BuilDiffï¼Œå®ƒç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ:<br>(a)å›¾åƒè‡ªç¼–ç å™¨ image auto-encoder<br>(b)image-conditional point cloud base diffusion<br>(c) image-conditional point cloud upsampler diffusion</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021114740.png" alt="image.png|666"></p><h2 id="Image-Auto-encoder-Pre-training"><a href="#Image-Auto-encoder-Pre-training" class="headerlink" title="Image Auto-encoder Pre-training"></a>Image Auto-encoder Pre-training</h2><p>å¯¹æ‰©æ•£æ¨¡å‹è¿›è¡Œæ¡ä»¶çº¦æŸçš„ä¸€ç§å¸¸è§è€Œç›´æ¥çš„æ–¹æ³•æ˜¯<strong>å°† cue images å‹ç¼©åˆ°æ½œåœ¨ç©ºé—´ä¸­</strong>ã€‚æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨åœ¨å…¬å…±å›¾åƒæ•°æ®åº“(ä¾‹å¦‚ ImageNet[4])ä¸Šé¢„è®­ç»ƒçš„ç¼–ç å™¨ç›´æ¥å°†è¾“å…¥å›¾åƒæ˜ å°„åˆ°ä½œä¸ºå»ºç­‘ç‰©æ¨¡ç³Šæ¡ä»¶çš„æ½œåœ¨ç‰¹å¾å‘é‡ï¼Œ<strong>è€Œæ˜¯å¯¹ç¼–ç å™¨è¿›è¡Œå¾®è°ƒ</strong>ï¼Œå¹¶ä½¿ç”¨è®­ç»ƒé›†çš„å»ºç­‘ç‰©å›¾åƒè®­ç»ƒé¢å¤–çš„è§£ç å™¨ã€‚<br>å¦‚å›¾ 2 æ‰€ç¤ºï¼Œæ•´ä¸ªç½‘ç»œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå›¾åƒè‡ªç¼–ç å™¨ï¼Œå®ƒå¯¹è¾“å…¥çš„å»ºç­‘å›¾åƒè¿›è¡Œå­¦ä¹ é‡æ„ï¼Œæå–å‡ºä½œä¸ºä»£è¡¨æ€§æ¡ä»¶çš„å»ºç­‘ç‰¹å¾ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023200406.png" alt="image.png|666"></p><ul><li>è¾“å…¥ HxW å›¾åƒï¼Œå›¾åƒè‡ªç¼–ç å™¨ï¼šResNet-34</li><li>ç¼–ç åå¤§å°ä¸º H/32 x W/32ï¼Œç„¶åé¦ˆé€åˆ° <a href="https://readpaper.com/pdf-annotate/note?pdfId=4500174562083364865&amp;noteId=2027677837097375232">stacked dilated convolution layers</a> ($D^{*}$)<ul><li>$D^{*}$ æœ‰å››ä¸ª dilated convolution layersï¼Œè†¨èƒ€ç‡åˆ†åˆ«ä¸º 1ã€2ã€4ã€8</li></ul></li><li>åœ¨è§£ç é˜¶æ®µæœ‰ä¸¤ç§å¤„ç†æ–¹å¼<ul><li>é€šè¿‡è½¬ç½®å·ç§¯å±‚ï¼Œå¯ä»¥å°†ç‰¹å¾æ˜ å°„ä¸Šé‡‡æ ·åˆ°ä¸è¾“å…¥å›¾åƒ i å¤§å°ç›¸åŒçš„ i</li><li>é€šè¿‡ 1Ã—1 å·ç§¯å±‚å’Œçº¿æ€§å±‚å°†ç‰¹å¾æ˜ å°„çº¿æ€§æŠ•å½±åˆ°åµŒå…¥ zI çš„ä¸€ç»´å›¾åƒä¸­ï¼Œè¯¥å›¾åƒçš„ç»´æ•°ä¸º d</li></ul></li></ul><p>å›¾åƒè‡ªç¼–ç å™¨æŸå¤±ï¼š $\mathcal L_{AE}=\mathcal L_{rec}(I,\hat{I})+\mathcal L_{con}(z_{I},z_{I}^{a})$</p><ul><li>å›¾åƒä¹‹é—´çš„é‡å»ºæŸå¤± $\mathcal L_{rec}$</li><li>ä¸€è‡´æ€§æŸå¤± $\mathcal L_{con}$ï¼Œå®ƒä¿ƒä½¿å›¾åƒ I çš„åµŒå…¥ $z_{I}$ å°½å¯èƒ½æ¥è¿‘å›¾åƒ I çš„å¢å¹¿ç‰ˆæœ¬ $I^{a}$ çš„åµŒå…¥ $z_{I}^{a}$ã€‚</li></ul><p>è®­ç»ƒåï¼Œæˆ‘ä»¬ä½¿ç”¨å†»ç»“çš„é¢„è®­ç»ƒå›¾åƒè‡ªç¼–ç å™¨å°†å›¾åƒæ˜ å°„åˆ°åµŒå…¥ $z_{I}$ï¼Œè¿™ä½œä¸ºä»¥ä¸‹æ‰©æ•£æ¨¡å‹çš„å›¾åƒä¾èµ–æ¡ä»¶ã€‚</p><h2 id="Image-conditional-Point-Cloud-Diffusion"><a href="#Image-conditional-Point-Cloud-Diffusion" class="headerlink" title="Image-conditional Point Cloud Diffusion"></a>Image-conditional Point Cloud Diffusion</h2><p>Forward diffusion process æ©™è‰²ï¼šGT PointCloud â€”&gt; Noisy PointCloud<br>Denoising diffusion process è“è‰²ï¼šNoisy PointCloud â€”&gt; GT PointCloud</p><p>é€æ¸åŠ å™ª $q(x_t|x_{t-1})$ï¼Œå™ªå£°ç‚¹äº‘: $x_{t}=\sqrt{\bar{\alpha}_{t}}x_{0}+\sqrt{1-\bar{\alpha}_{t}}\epsilon$</p><ul><li>åŒ…å« K ä¸ªç‚¹çš„ GT ç‚¹äº‘ ï¼š $\begin{aligned}x_0&amp;\sim q(x_0)\end{aligned}$</li><li>$\alpha_{t}:=1-\beta_{t}$ ï¼Œ $\bar{\alpha}_t:=\prod_{s=1}^t\alpha_s$<ul><li>$\beta_{t}\in\{\beta_{1},â€¦\beta_{T}\}$ é€’å¢å™ªå£°è°ƒåº¦åºåˆ—ï¼ŒTï¼šfinal time step</li></ul></li></ul><p>é€æ¸é™å™ª $q(x_{t-1}|x_t,z_I)$ï¼Œå¯ç”¨é™å™ªç½‘ç»œ $p_\theta(x_{t-1}|x_t,z_I)$ è¿‘ä¼¼è¡¨ç¤º</p><ul><li>ä»é«˜æ–¯å…ˆéªŒä¸­é‡‡æ · $p(x_{T})\sim\mathcal{N}(0,\mathcal{I}).$</li><li>å¯¹äº $p_\theta(x_{t-1}|x_t,z_I)$ æ¯ä¸ªé™å™ªæ­¥éª¤ï¼š<ul><li>è¾“å…¥å™ªå£°ç‚¹äº‘ $x_t \in \mathbb{R}^{K \times 3}$ï¼Œtime step t å’Œå›¾ç‰‡ embedding $z_I \in \mathbb{R}^d$</li><li>è¾“å‡ºå™ªå£° $\epsilon_\theta(x_t,t,z_I)\in\mathbb{R}^{K\times3}$ï¼Œå¹¶ä¸ç›®æ ‡çš„æ ‡å‡†é«˜æ–¯ $\epsilon \sim \mathcal{N}(0,\mathcal{I})$ åšæŸå¤±</li><li>$\mathcal{L}_{eps}=\left|\epsilon-\epsilon_\theta(x_t,t,z_I)\right|^2$</li></ul></li></ul><p>é™å™ªç½‘ç»œ $\theta$ å»ºç«‹åœ¨ PVCNNs çš„åŸºç¡€ä¸Š</p><p>PointNet<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231030155645.png" alt="image.png|666"></p><p>PointNet++<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231030154311.png" alt="image.png|666"></p><ul><li>PVCNNs <a href="https://readpaper.com/pdf-annotate/note?pdfId=4544669809538392065&amp;noteId=2018413897297176576">Point-Voxel CNN for Efficient 3D Deep Learning (readpaper.com)</a><ul><li>ä¸»è¦ç”±é›†åˆæŠ½è±¡(set abstraction SA)æ¨¡å—å’Œç‰¹å¾ä¼ æ’­(feature propagation FP)æ¨¡å—ä¸¤å¤§éƒ¨åˆ†ç»„æˆ<ul><li>å‚è€ƒ <a href="https://readpaper.com/pdf-annotate/note?pdfId=4545028882578432001">PointNet++</a> å’Œ <a href="https://readpaper.com/pdf-annotate/note?pdfId=4500216149471551490&amp;noteId=2011522008392682752">PointNet</a></li><li>SA æ¨¡å—é€šå¸¸ç”±ç‚¹ä½“ç´ å·ç§¯(PVConvs)å’Œå¤šå±‚æ„ŸçŸ¥å™¨(mlp)ç»„æˆ</li><li>FP æ¨¡å—é€šå¸¸ç”±<a href="https://blog.csdn.net/qq_39478403/article/details/105796249">æœ€è¿‘é‚»æ’å€¼</a>ã€mlp å’Œ PVConvs ç»„æˆï¼Œé€šè¿‡ä½¿ç”¨åŸºäºç‚¹å’Œä½“ç´ çš„åˆ†æ”¯ï¼ŒPVConvs å¯ä»¥æ•è·ç‚¹äº‘çš„å…¨å±€å’Œå±€éƒ¨ç»“æ„</li></ul></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024222944.png" alt="image.png|666"></p><p>åœ¨å‘ SA æˆ– FP æ¨¡å—å‘é€è¾“å…¥ä¹‹å‰ï¼Œå°†å›¾åƒåµŒå…¥ zI ä¸ç”± t å¯¼å‡ºçš„æ—¶é—´åµŒå…¥(è®°ä¸º ztï¼Œæ­£å¼¦ä½ç½®åµŒå…¥ç”Ÿæˆ)è¿æ¥èµ·æ¥ï¼Œæ‰©å±•å’Œ concat åå½¢æˆ Kx2dï¼Œç„¶åè¾“å…¥è¿›ä¸¤ä¸ªå¸¦ LeakyReLU æ¿€æ´»å‡½æ•°çš„å·ç§¯å±‚ï¼Œå¾—åˆ°ä¸€ä¸ªå¤§å°ä¸º K Ã— d çš„ç‰¹å¾å›¾ï¼Œç„¶åå°†å…¶ä¸ SA å’Œ FP æ¨¡å—ä¸­çš„ç‚¹ç‰¹å¾è¿æ¥èµ·æ¥(concatenated)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024104815.png" alt="image.png|666"></p><p>é¢å¤–çš„æŸå¤±å‡½æ•°ï¼š$\mathcal{L}_{reg}=\lambda(t)\Omega(proj(x_0),proj(\hat{x}_0))$<br>åŸºäº $\epsilon_\theta,$ æœŸæœ›çš„ $x_{0}$ ä¸ºï¼š$\hat{x}_0=\frac{1}{\sqrt{\bar{\alpha}_t}}(x_t-\sqrt{1-\bar{\alpha}_t}\epsilon_\theta(x_t,t,z_I))$ï¼Œç„¶åå°† $x_{0}$ å’Œ $\hat{x}_0$ æŠ•å½±åˆ° GTï¼Œå¾—åˆ° $proj(x_0),proj(\hat{x}_0)$ï¼Œé‡‡ç”¨åŸºäºç‚¹çš„åº¦é‡ $\Omega$ æ¥æµ‹é‡ä¸¤ä¸ª footprints çš„ç›¸ä¼¼æ€§ã€‚</p><ul><li>å…¶ä¸­ Î» æ˜¯ä¾èµ–äºæ—¶é—´æ­¥é•¿ t çš„æƒå€¼<ul><li>å½“ t è¶‹è¿‘ T æ—¶ï¼Œ$x_{T}$ åŒ…å«æ›´å¤šçš„å™ªå£°ï¼Œå› æ­¤ $\Omega$ é‡‡ç”¨æ›´å°çš„æƒé‡</li><li>å½“ t è¶‹è¿‘ 0 æ—¶ï¼Œ$x_{0}$ åŒ…å«æ›´å°‘çš„å™ªå£°ï¼Œå› æ­¤ $\Omega$ é‡‡ç”¨æ›´å¤§çš„æƒé‡</li></ul></li></ul><p>$\theta$ é™å™ªç½‘ç»œçš„æ€»æŸå¤± $\mathcal{L}_\theta=\mathcal{L}_{eps}+\rho\mathcal{L}_{reg}$<br>æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹åœ¨ç®—æ³• 1 ä¸­æè¿°ã€‚ä¸[23]ç±»ä¼¼ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ä¸ªæ— åˆ†ç±»å™¨çš„å¼•å¯¼ç­–ç•¥[13]ï¼Œå®ƒè”åˆå­¦ä¹ ä¸€ä¸ªæ¡ä»¶æ¨¡å‹å’Œä¸€ä¸ªæ— æ¡ä»¶æ¨¡å‹ã€‚å°†åµŒå…¥ zI çš„æ¡ä»¶å›¾åƒéšæœºä¸¢å¼ƒï¼Œå°†æ¡ä»¶è¾“å‡º $\epsilon_\theta(x_t,t,z_I)$ éšæœºæ›¿æ¢ä¸ºæ— æ¡ä»¶è¾“å‡º $\epsilon_\theta(x_t,t,\varnothing).$<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024111221.png" alt="image.png|444"></p><p>åœ¨é‡‡æ ·è¿‡ç¨‹ä¸­ï¼Œå»å™ªæ‰©æ•£ä»é«˜æ–¯å™ªå£°(å³ $x_T\sim\mathcal{N}(0,\mathcal{I}))$)å¼€å§‹ï¼Œé€æ­¥ç”¨ç½‘ç»œ Î¸ çš„è¾“å‡ºå»å™ªã€‚$x_{T-1}$ å¯ä»¥é¢„æµ‹ä¸º: $x_{t-1}=\frac{1}{\sqrt{\alpha_t}}\bigl(x_t-\frac{1-\alpha_t}{\sqrt{1-\bar{\alpha}_t}}\epsilon_{guided}(x_t,t,z_I)\bigr)+\sigma_t\mathbf{z}$<br>å…¶ä¸­ t ä» T åˆ° 1ï¼Œz ä»æ ‡å‡†é«˜æ–¯åˆ†å¸ƒä¸­é‡‡æ ·ï¼Œå½“ t &gt;1 æ—¶ã€‚åˆ©ç”¨ guidance æ ‡åº¦ Î³ï¼Œguidance å™ªå£°è¾“å‡ºä¸º: $\epsilon_{guided}:=(1+\gamma)\epsilon_\theta(x_t,t,z_I)-\gamma\epsilon_\theta(x_t,t,\varnothing)$ ï¼Œæœ€ç»ˆï¼Œå½“ t = 1æ—¶ï¼Œå¯ä»¥å¯¹æœŸæœ›çš„ $x_0$ è¿›è¡Œé‡‡æ ·ã€‚</p><h2 id="Point-Cloud-Upsampler-Diffusion"><a href="#Point-Cloud-Upsampler-Diffusion" class="headerlink" title="Point Cloud Upsampler Diffusion"></a>Point Cloud Upsampler Diffusion</h2><ul><li>å¯¹äºç‚¹äº‘åŸºç¡€æ‰©æ•£ï¼ˆImage-conditional Point Cloud Diffusionï¼‰ï¼Œå…³é”®ç›®æ ‡æ˜¯ç”Ÿæˆä½åˆ†è¾¨ç‡ç‚¹äº‘(K ç‚¹)ï¼Œå¯ä»¥ç²—ç•¥åœ°æ•æ‰å»ºç­‘ç‰©çš„æ•´ä½“ç»“æ„</li><li>. Point Cloud Upsampler Diffusion ç”±å†·å†»é¢„è®­ç»ƒçš„è‡ªç¼–ç å™¨å¯¼å‡ºçš„å›¾åƒåµŒå…¥ zI å’Œç”±åŸºç¡€æ‰©æ•£æ¨æ–­çš„ä½åˆ†è¾¨ç‡ç‚¹äº‘ä½œä¸ºè¾“å…¥ï¼Œç›®æ ‡åœ¨äºç”Ÿæˆå…·æœ‰ç»†ç²’åº¦ç»“æ„çš„é«˜åˆ†è¾¨ç‡ç‚¹äº‘</li></ul><p>å‡è®¾æœŸæœ›ç‚¹äº‘ $x_0\in\mathbb{R}^{N\times3}$ ç”± N ä¸ªç‚¹(N &gt; K)ç»„æˆï¼Œæˆ‘ä»¬ä»é«˜æ–¯å…ˆéªŒåˆ†å¸ƒ $p(x_T)\sim\mathcal{N}(0,\mathcal{I}).$ ä¸­éšæœºé‡‡æ ·å™ªå£°å¼ é‡ $x_T\in\mathbb{R}^{N\times3}$<br>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå»å™ªç½‘ç»œÎ¸å– K ä¸ªç‚¹(å³ä½åˆ†è¾¨ç‡ç‚¹äº‘)å’Œä»å™ªå£° xT ä¸­é‡‡æ ·çš„(Nâˆ’K)ä¸ªç‚¹ã€æ—¶é—´æ­¥é•¿ t å’Œæ¡ä»¶åŒ–å›¾åƒåµŒå…¥ zI ä½œä¸ºè¾“å…¥ï¼Œåœ¨æ¯ä¸€æ­¥ä¸­ï¼Œç”¨ä½åˆ†è¾¨ç‡ç‚¹äº‘æ›¿æ¢Î¸é‡‡æ ·çš„ N ä¸ªç‚¹ä¸­çš„å‰ K ä¸ªç‚¹ï¼Œæ›´æ–°åçš„ N ä¸ªç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªæ—¶é—´æ­¥é•¿çš„è¾“å…¥ã€‚<strong>ç®€è€Œè¨€ä¹‹ï¼Œä¸ºäº†è¾¾åˆ° N ä¸ªç‚¹ï¼Œæˆ‘ä»¬å¯¹ K ä¸ªç‚¹è¿›è¡Œä¸Šé‡‡æ ·ï¼Œå¹¶å¯¹å…¶ä½™(Nâˆ’K)ä¸ªç‚¹è¿›è¡Œå»å™ª</strong></p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><h2 id="Datasets"><a href="#Datasets" class="headerlink" title="Datasets"></a>Datasets</h2><p>ä¸ºäº†éªŒè¯è¯¥æ–¹æ³•çš„æ€§èƒ½ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæ•°æ®é›†ï¼ŒBuildingNet-SVI å’Œ BuildingNL3Dï¼Œæä¾›äº†æ•°åƒå¯¹å»ºç­‘ç‰©çš„å›¾åƒ- 3d å¯¹ã€‚</p><p>BuildingNet-SVIï¼šåŸºäº BuildingNet[33]æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†æ¶µç›–äº†å¤šç§åˆæˆä¸‰ç»´å»ºç­‘æ¨¡å‹(å¦‚æ•™å ‚ã€ä½å®…ã€åŠå…¬æ¥¼)ï¼Œæˆ‘ä»¬æ”¶é›†äº†ç›¸åº”çš„å»ºç­‘å•è§†å›¾ RGB åˆæˆå›¾åƒï¼Œå¾—åˆ° 406 å¯¹å›¾åƒ-3D å¯¹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨åƒç´ çº§æ‰‹åŠ¨æ ‡æ³¨å‰æ™¯å¯¹è±¡(å³å•ä¸ªå»ºç­‘ç‰©)ï¼Œå¹¶è£å‰ªä»¥å»ºç­‘ç‰©ä¸ºä¸­å¿ƒçš„æ¯å¼ å›¾åƒã€‚æ¯ä¸ªå»ºç­‘ç‚¹äº‘æœ‰ 10 ä¸‡ä¸ªå‡åŒ€åˆ†å¸ƒçš„ 3D ç‚¹ã€‚æˆ‘ä»¬éµå¾ª BuildingNet[33]çš„å®˜æ–¹åˆ†å‰²è§„åˆ™ï¼Œå› æ­¤åˆ†åˆ«ä½¿ç”¨ 321 å’Œ 85 å¯¹å›¾åƒ- 3d å¯¹è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•<br>BuildingNL3Dï¼šæˆ‘ä»¬æ”¶é›†äº†2,769å¯¹ä½äºè·å…°æŸåŸå¸‚å¸‚åŒºçš„å»ºç­‘ç‰©çš„èˆªç©º RGB å›¾åƒå’Œæœºè½½æ¿€å…‰æ‰«æ(æœºè½½æ¿€å…‰æ‰«æ)ç‚¹äº‘ã€‚ä¸å…·æœ‰å•ä¸ªå»ºç­‘ç‰©å’Œç›¸å¯¹å¹²å‡€èƒŒæ™¯çš„åˆæˆå›¾åƒä¸åŒï¼Œèˆªç©ºå›¾åƒé€šå¸¸é¢ä¸´æ›´å¤šæŒ‘æˆ˜ï¼Œä¾‹å¦‚åœ¨ä¸€å¼ å›¾åƒä¸­å‡ºç°å¤šä¸ªå»ºç­‘ç‰©ã€‚å› æ­¤ï¼Œå¯¹å»ºç­‘ç‰©è¿›è¡Œæ‰‹åŠ¨æ ‡è®°ï¼Œä»¥ä¾¿æ¯å¼ å›¾åƒä¸­åªå‡ºç°ä¸€ä¸ªæ„Ÿå…´è¶£çš„å»ºç­‘ç‰©ã€‚åŸå§‹ ALS ç‚¹äº‘ä»å…¶çœŸå®åœ°ç†åæ ‡å½’ä¸€åŒ–ä¸º $[-1,1]^3$ èŒƒå›´å†…çš„ xyz åæ ‡ã€‚åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„å»ºç­‘ç‰©ä¸é‡å¤çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®åŸºäº tile çš„åˆ†å‰²è§„åˆ™ï¼Œå°†æ•°æ®é›†åˆ’åˆ†ä¸º 2171 ä¸ª image3D è®­ç»ƒå¯¹å’Œ 598 ä¸ªæµ‹è¯•å¯¹ã€‚</p><h2 id="Evaluation-Metrics"><a href="#Evaluation-Metrics" class="headerlink" title="Evaluation Metrics"></a>Evaluation Metrics</h2><p>æˆ‘ä»¬é‡‡ç”¨ Chamfer distance (CD)[8]ã€Earth moverâ€™s distance (EMD)[32]å’Œ F1-Score[16]æ¥è¯„ä»·ç”Ÿæˆå»ºç­‘ä¸å…¶å‚è€ƒå»ºç­‘çš„ä¸¤ä¸¤ç›¸ä¼¼æ€§ã€‚å…¶ä¸­ï¼ŒCD å’Œ EMD ä¹˜ä»¥ $10^2$,F1çš„é˜ˆå€¼Ï„è®¾ä¸º0.001ã€‚åœ¨è®¡ç®—è¿™äº›åº¦é‡ä¹‹å‰ï¼Œå°†ç‚¹äº‘å½’ä¸€åŒ–ä¸º $[-1,1]^3$ ã€‚ä¸‰ç»´ç‚¹äº‘çš„å¯è§†åŒ–æ˜¯é€šè¿‡ä½¿ç”¨ä¸‰è±æ¸²æŸ“å™¨[22]å®ç°çš„ã€‚</p><h2 id="Implementation-Details"><a href="#Implementation-Details" class="headerlink" title="Implementation Details"></a>Implementation Details</h2><p>è¿™äº›æ¨¡å‹æ˜¯åœ¨å†…å­˜ä¸º 45GB çš„ NVIDIA A40 GPU ä¸Šä½¿ç”¨ PyTorch[25]å®ç°çš„ã€‚æ‰¹é‡å¤§å°è®¾ç½®ä¸º 8ã€‚å›¾åƒè¢«è°ƒæ•´ä¸º 1024Ã—1024 åƒç´ ï¼Œå³ H = W = 1024ã€‚<strong>æ¯ä¸ª 3D ç‚¹äº‘éƒ½æ ‡å‡†åŒ–äº† 100,000 ä¸ªç‚¹æ¥ä»£è¡¨å»ºç­‘ç‰©çš„å½¢çŠ¶</strong>ã€‚</p><ul><li>Image auto-encoder detailsã€‚æˆ‘ä»¬é‡‡ç”¨å¢å¼ºæŠ€æœ¯ï¼ŒåŒ…æ‹¬ä»¥ 90Â°è§’åº¦æ—‹è½¬å›¾åƒå’Œåœ¨è‰²è°ƒ-é¥±å’Œåº¦-å€¼(HSV)ç©ºé—´èŒƒå›´ä»-255 åˆ° 255 çš„é¢œè‰²ç§»åŠ¨ã€‚è¿™äº›éƒ½æ˜¯åŸºäºå»ºç­‘ç‰©å¯èƒ½åœ¨å›¾åƒä¸­å‡ºç°é¢ å€’å’Œå»ºç­‘ç‰©å›¾åƒå¯èƒ½è¡¨ç°å‡ºå¾ˆå¤§çš„é¢œè‰²å˜åŒ–çš„è€ƒè™‘ã€‚å›¾åƒåµŒå…¥ zI çš„ç»´æ•° d ä¸º 128ã€‚æˆ‘ä»¬è®­ç»ƒäº† 30 ä¸ª epoch çš„è‡ªç¼–ç å™¨ï¼Œå¹¶ä½¿ç”¨å­¦ä¹ ç‡ä¸º 0.0002 çš„ Adam ä¼˜åŒ–å™¨ã€‚åˆ©ç”¨å‡æ–¹è¯¯å·®(MSE)å®ç°å›¾åƒé‡æ„æŸå¤± Lrec å’ŒåµŒå…¥ä¸€è‡´æ€§ lossLconã€‚åœ¨è®­ç»ƒä»¥ä¸‹å›¾åƒæ¡ä»¶æ‰©æ•£æ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬å†»ç»“é¢„è®­ç»ƒçš„è‡ªç¼–ç å™¨ä»¥å¯¼å‡º zIã€‚</li><li>Base diffusion details. ç»™å®šæ¯ä¸ªå»ºç­‘100,000ä¸ªç‚¹ï¼Œæˆ‘ä»¬éšæœºé‡‡æ · K = 1024ä¸ªç‚¹(è¡¨ç¤ºä½åˆ†è¾¨ç‡ç‚¹äº‘)ç”¨äºè®­ç»ƒå’Œæµ‹è¯•ã€‚æˆ‘ä»¬è®¾Î²0 = 0.0001ï¼Œ Î²T = 0.02ï¼Œå¹¶å¯¹å…¶ä»–Î²s è¿›è¡Œçº¿æ€§æ’å€¼ã€‚ä¸å·²æœ‰ä½œå“[48,46]ç›¸ä¼¼ï¼Œå¯¹åŸºç¡€æ‰©æ•£è®¾ç½®æ€»æ—¶é—´æ­¥æ•°ä¸º T = 1000ã€‚æ—¶é—´åµŒå…¥çš„ç»´æ•° d = 128ã€‚<strong>å€’è§’è·ç¦»[8]ä½œä¸ºåŸºäºç‚¹çš„è·ç¦»åº¦é‡Î©æ¥åº¦é‡ä¸¤ä¸ªæŠ•å½±ä¹‹é—´çš„ç›¸ä¼¼æ€§</strong>ã€‚æ­£åˆ™åŒ–æƒå€¼Ïè®¾ä¸º0.001ã€‚å¯¹äºæ— åˆ†ç±»å™¨çš„åˆ¶å¯¼ç­–ç•¥ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒé˜¶æ®µä½¿ç”¨ä¸‹é™æ¦‚ç‡0.1ï¼Œåœ¨é‡‡æ ·é˜¶æ®µä½¿ç”¨åˆ¶å¯¼å°ºåº¦Î³ = 4ã€‚æ‰©æ•£æ¨¡å‹ç»è¿‡700æ¬¡è®­ç»ƒï¼Œç”± Adam è¿›è¡Œä¼˜åŒ–ï¼Œå­¦ä¹ ç‡ä¸º0.0002ã€‚å…·ä½“æ¥è¯´ï¼ŒÎ»(t)å®šä¹‰ä¸º: $\lambda(t)=\begin{cases}1,&amp;t=1\\ 0.75,&amp;1&lt;t\leq\frac{1}{4}T\\ 0.50,&amp;\frac{1}{4}T&lt;t\leq\frac{1}{2}T\\ 0.25,&amp;\frac{1}{2}T&lt;t\leq\frac{3}{4}T\\ 0,&amp;\frac{3}{4}T&lt;t\leq T\end{cases}$</li><li>Upsampler diffusion details. å¯¹äºè®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µï¼Œæˆ‘ä»¬éšæœºæŠ½å– N = 4096 ä¸ªç‚¹ä½œä¸ºæ¯ä¸ªå»ºç­‘çš„æ ·æœ¬ã€‚ä¸Šé‡‡æ ·å™¨çš„å»å™ªç½‘ç»œè®­ç»ƒ 200 æ¬¡ï¼Œæ€»æ—¶é—´æ­¥é•¿ T è®¾ä¸º 500ã€‚</li></ul><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºæ‰©æ•£çš„ buildiff æ–¹æ³•ï¼Œç”¨äºä»å•å¹…é€šç”¨è§†å›¾å›¾åƒä¸­ç”Ÿæˆå»ºç­‘ç‰©çš„ä¸‰ç»´ç‚¹äº‘ã€‚<br>ä¸ºäº†æ§åˆ¶æ‰©æ•£æ¨¡å‹ç”Ÿæˆä¸è¾“å…¥å›¾åƒä¸€è‡´çš„ä¸‰ç»´å½¢çŠ¶ï¼Œ<strong>é€šè¿‡é¢„è®­ç»ƒåŸºäº cnn çš„å›¾åƒè‡ªç¼–ç å™¨ï¼Œæå–å»ºç­‘ç‰©çš„å¤šå°ºåº¦ç‰¹å¾ï¼Œå¹¶ä½¿ç”¨å¢å¼ºçº¦æŸæ½œåœ¨ä¸€è‡´æ€§ï¼Œå¾—åˆ°å›¾åƒåµŒå…¥</strong>ã€‚<br>ç„¶åï¼Œä»¥å›¾åƒåµŒå…¥ä¸ºè¾“å…¥ï¼Œåœ¨åŠ æƒå»ºç­‘è¶³è¿¹æ­£åˆ™åŒ–çš„è¾…åŠ©ä¸‹ï¼Œå­¦ä¹ ä»é«˜æ–¯å™ªå£°åˆ†å¸ƒä¸­é€æ­¥å»é™¤å™ªå£°çš„æ¡ä»¶å»å™ªæ‰©æ•£ç½‘ç»œ;<br>æœ€ååˆ©ç”¨ç‚¹äº‘ä¸Šé‡‡æ ·å™¨æ‰©æ•£äº§ç”Ÿé«˜åˆ†è¾¨ç‡ç‚¹äº‘ï¼Œæ¡ä»¶æ˜¯ä»åŸºç¡€æ‰©æ•£é‡‡æ ·çš„ä½åˆ†è¾¨ç‡ç‚¹äº‘ã€‚<br>å®éªŒç»“æœè¯æ˜äº†è¯¥æ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚æˆ‘ä»¬ç›¸ä¿¡æˆ‘ä»¬çš„å·¥ä½œå¯ä»¥å¼¥åˆå¿«é€Ÿå‘å±•çš„ç”Ÿæˆå»ºæ¨¡æŠ€æœ¯å’Œ 3D å»ºç­‘ç”Ÿæˆçš„ç´§è¿«é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Diffusion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SG-GAN</title>
      <link href="/3DReconstruction/Single-view/Generative%20Models/SG-GAN/"/>
      <url>/3DReconstruction/Single-view/Generative%20Models/SG-GAN/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>SG-GAN: Fine Stereoscopic-Aware Generation for 3D Brain Point Cloud Up-sampling from a Single Image</th></tr></thead><tbody><tr><td>Author</td><td>Bowen Hu, Baiying Lei, Shuqiang Wang, Senior Member, IEEE</td></tr><tr><td>Conf/Jour</td><td>arXiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4762223320204574721&amp;noteId=2014610279544785920">SG-GAN: Fine Stereoscopic-Aware Generation for 3D Brain Point Cloud Up-sampling from a Single Image (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021193539.png" alt="image.png|666"></p><p>Stereoscopic-aware graph generative adversarial network (SG-GAN)</p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>åœ¨é—´æ¥ç‹­çª„æ‰‹æœ¯ç¯å¢ƒä¸‹çš„å¾®åˆ›é¢…è„‘æ‰‹æœ¯ä¸­ï¼Œä¸‰ç»´è„‘é‡å»ºæ˜¯è‡³å…³é‡è¦çš„ã€‚ç„¶è€Œï¼Œéšç€ä¸€äº›æ–°å‹å¾®åˆ›æ‰‹æœ¯(å¦‚è„‘æœºæ¥å£æ‰‹æœ¯)å¯¹ç²¾åº¦çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œç‚¹äº‘(PC)ç­‰ä¼ ç»Ÿä¸‰ç»´é‡å»ºçš„è¾“å‡ºé¢ä¸´ç€æ ·æœ¬ç‚¹è¿‡äºç¨€ç–ã€ç²¾åº¦ä¸è¶³çš„æŒ‘æˆ˜ã€‚å¦ä¸€æ–¹é¢ï¼Œé«˜å¯†åº¦ç‚¹äº‘æ•°æ®é›†çš„ç¨€ç¼ºï¼Œç»™ç›´æ¥é‡å»ºé«˜å¯†åº¦è„‘ç‚¹äº‘è®­ç»ƒæ¨¡å‹å¸¦æ¥äº†æŒ‘æˆ˜ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæå‡ºäº†ä¸€ç§æ–°çš„æ¨¡å‹ï¼Œç§°ä¸ºç«‹ä½“æ„ŸçŸ¥å›¾å½¢ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ(SG-GAN)ï¼Œè¯¥æ¨¡å‹å…·æœ‰ä¸¤ä¸ªé˜¶æ®µï¼Œå¯ä»¥åœ¨å•ä¸ªå›¾åƒä¸Šç”Ÿæˆç²¾ç»†çš„é«˜å¯†åº¦ PCã€‚Stage-I GAN æ ¹æ®ç»™å®šçš„å›¾åƒç»˜åˆ¶å™¨å®˜çš„åŸå§‹å½¢çŠ¶å’ŒåŸºæœ¬ç»“æ„ï¼Œäº§ç”Ÿ Stage-I ç‚¹äº‘ã€‚ç¬¬äºŒé˜¶æ®µ GAN é‡‡ç”¨ç¬¬ä¸€é˜¶æ®µçš„ç»“æœï¼Œç”Ÿæˆå…·æœ‰è¯¦ç»†ç‰¹å¾çš„é«˜å¯†åº¦ç‚¹äº‘ã€‚ii é˜¶æ®µ GAN èƒ½å¤Ÿé€šè¿‡ä¸Šé‡‡æ ·è¿‡ç¨‹çº æ­£ç¼ºé™·å¹¶æ¢å¤æ„Ÿå…´è¶£åŒºåŸŸ(ROI)çš„è¯¦ç»†ç‰¹å¾ã€‚æ­¤å¤–ï¼Œå¼€å‘äº†ä¸€ç§åŸºäºæ— å‚æ•°æ³¨æ„çš„è‡ªç”±å˜æ¢æ¨¡å—æ¥å­¦ä¹ è¾“å…¥çš„æœ‰æ•ˆç‰¹å¾ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„æ€§èƒ½ã€‚ä¸ç°æœ‰æ–¹æ³•ç›¸æ¯”ï¼ŒSG-GAN æ¨¡å‹åœ¨è§†è§‰è´¨é‡ã€å®¢è§‚æµ‹é‡å’Œåˆ†ç±»æ€§èƒ½æ–¹é¢è¡¨ç°å‡ºä¼˜å¼‚çš„æ€§èƒ½ï¼Œpc - pc è¯¯å·®å’Œå€’è§’è·ç¦»ç­‰å¤šä¸ªè¯„ä»·æŒ‡æ ‡çš„ç»¼åˆç»“æœè¡¨æ˜ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>SG-GAN æ¶æ„åŒ…æ‹¬<strong>ä¸€ä¸ªåŸºäº ResNet å’Œ FTM çš„ç¼–ç å™¨</strong>ï¼Œä»¥åŠ<strong>ä¸¤ä¸ª GAN ç»“æ„</strong>ã€‚è¯¥æ–¹æ³•é¿å…äº†ç›´æ¥ç”Ÿæˆçš„é‡æ„è¯¯å·®ï¼Œä»…é€šè¿‡ PC ä¸Šé‡‡æ ·è¿‡ç¨‹ä¿®æ­£ç¼ºé™·å’Œæ¢å¤ç»†èŠ‚ã€‚åˆ¶å®šäº†ç»Ÿä¸€çš„ä¿¡æ¯æµï¼Œä½¿ç›¸é‚»æ¨¡å—ä¹‹é—´èƒ½å¤Ÿé€šä¿¡ï¼Œå¹¶è§£å†³å…¶è¾“å…¥å’Œè¾“å‡ºçš„å·®å¼‚ã€‚</p><h2 id="Fast-feature-aggregating-encoder-based-on-free-transforming-module-FTM"><a href="#Fast-feature-aggregating-encoder-based-on-free-transforming-module-FTM" class="headerlink" title="Fast feature aggregating encoder based on free transforming module (FTM)"></a>Fast feature aggregating encoder based on free transforming module (FTM)</h2><p>Develop a free transforming module (FTM) by introducing a <strong>parameter-free self-attention mechanism</strong> into the conventional <strong>ResNet network</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021200340.png" alt="image.png|555"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021200651.png" alt="image.png|666"></p><h2 id="Loss"><a href="#Loss" class="headerlink" title="Loss"></a>Loss</h2><p>$\begin{aligned}\mathcal{L}_{CD}&amp;=\sum_{yâ€™\in Yâ€™}min_{y\in Y}||yâ€™-y||_2^2+\sum_{y\in Y}min_{yâ€™\in Yâ€™}||y-yâ€™||_2^2,\end{aligned}$</p><p>$\mathcal{L}_{EMD}=min_{\phi:Y\rightarrow Y^{\prime}}\sum_{x\in Y}||x-\phi(x)||_{2}$ , Ï† indicates a parameter of bijection.</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æœ¬æ–‡é’ˆå¯¹è„‘æœºæ¥å£å¾®åˆ›æ‰‹æœ¯ä¸­ç°æœ‰ä¸‰ç»´é‡å»ºæ–¹æ³•æ¸…æ™°åº¦ä½ã€å¯†åº¦ä½çš„é—®é¢˜ï¼Œæå‡ºäº†ä¸€ç§æ–°çš„å›¾åƒåˆ° pc çš„é‡å»ºç½‘ç»œ SG-GANã€‚æå‡ºçš„ SG-GAN å®ç°äº†3D è„‘é‡å»ºæŠ€æœ¯ï¼Œæ‰‹æœ¯å¯¼èˆªå¯ä»¥ä»ä¸­å—ç›Šã€‚è€ƒè™‘åˆ°æ‰‹æœ¯å¯¼èˆªä¸­å¯¹å®æ—¶ä¿¡æ¯åé¦ˆçš„éœ€æ±‚ä»¥åŠç›¸å…³çš„è®¡ç®—æ—¶é—´æˆæœ¬ï¼Œæˆ‘ä»¬é€‰æ‹©åˆ©ç”¨ç‚¹äº‘ä½œä¸ºæˆ‘ä»¬æå‡ºçš„æ¨¡å‹çš„è¡¨ç¤ºï¼Œå¹¶å°†å•ä¸ªå›¾åƒä½œä¸ºè¾“å…¥ã€‚<br>ä¸€ç§ç®€å•çš„æ›¿ä»£æ–¹æ³•æ˜¯è®­ç»ƒä¸€ä¸ªåŸºæœ¬æ¨¡å‹ï¼Œå¹¶åœ¨ä¸€ä¸ªæ­¥éª¤ä¸­ä»è¾“å…¥é‡å»ºæ•´ä¸ªé«˜å¯†åº¦ç‚¹äº‘ã€‚ç„¶è€Œï¼Œç”±äºä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢çš„åŸå› ï¼Œè¿™ç§æ›¿ä»£æ–¹æ¡ˆå¯èƒ½ä¸åˆ‡å®é™…ã€‚(1)ä¸èƒ½å……åˆ†åˆ©ç”¨åŸå§‹å›¾åƒä¸­çš„å…ˆéªŒçŸ¥è¯†å’Œå·²çŸ¥ä¿¡æ¯;(2)ç”Ÿæˆçš„é«˜å¯†åº¦ç‚¹äº‘çš„ä¸€äº›å¾®è§‚ç»“æ„åœ¨å‡ ä½•è§’åº¦ä¸Šæ²¡æœ‰å¾—åˆ°å……åˆ†çš„è°ƒæ•´ï¼Œä»è€Œå¯¼è‡´è¾ƒå¤§çš„ç»†èŠ‚è¯¯å·®ã€‚<br>é€šè¿‡é›†æˆå‡ ä¸ªäº’è¡¥æ¨¡å—ï¼Œæ‰€æå‡ºçš„ SG-GAN èƒ½å¤Ÿå®Œæˆå¤æ‚è„‘å½¢çŠ¶çš„é¢„å®šé‡å»ºã€‚å…±åŒå®Œæˆé¢„å®šçš„å¤æ‚é‡æ„å’Œä¸Šé‡‡æ ·ä»»åŠ¡ã€‚è®¾è®¡äº†ä¸€ç§åŸºäºæ•°å€¼è®¡ç®—çš„æ— å‚æ•°æ³¨æ„æœºåˆ¶æ¥æ„æˆ GAN çš„ç¼–ç å™¨ã€‚è¯¥ç¼–ç å™¨åˆ©ç”¨ç©ºé—´åŸŸè‡ªå…³æ³¨æ¥è°ƒæ•´æå–ç‰¹å¾çš„æƒé‡ï¼ŒåŒæ—¶ä¿è¯æ‰‹æœ¯åœºæ™¯çš„æ—¶é—´æ•æ„Ÿæ€§ï¼Œä»è€Œä½¿è¾“å‡ºçš„ç‰¹å¾å‘é‡æ›´å…·å½¢çŠ¶åˆç†æ€§ã€‚ç„¶åï¼Œè®¾è®¡ä¸¤ä¸ªä¸åŒé˜¶æ®µçš„ gan æ¥å½¢æˆç”Ÿæˆç½‘ç»œã€‚<strong>ç¬¬ä¸€é˜¶æ®µ GAN çš„é‡ç‚¹æ˜¯å‹¾å‹’å‡ºç›®æ ‡å¤§è„‘çš„ç‰¹å®šå½¢çŠ¶ï¼Œå¹¶åˆ©ç”¨è¿™äº›ç‰¹å¾ç”Ÿæˆä½å¯†åº¦ç‚¹äº‘ã€‚ç¬¬äºŒé˜¶æ®µ GAN çš„é‡ç‚¹æ˜¯æç»˜ç›®æ ‡å¤§è„‘çš„å…·ä½“ç»†èŠ‚ï¼Œå¹¶ä¿®å¤ç¬¬ä¸€é˜¶æ®µçš„ä¸€äº›ç”Ÿæˆé”™è¯¯ï¼Œä»¥é‡å»ºæœ€ç»ˆçš„é«˜å¯†åº¦ PC</strong>ã€‚<br>ç›®å‰ï¼Œæœ¯ä¸­MRIæŠ€æœ¯å¯¹æ‰‹æœ¯å¯¼èˆªæœ‰äº†å¾ˆå¤§çš„æ”¹è¿›ã€‚åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨å•ç‰‡è„‘MRå›¾åƒä½œä¸ºè¾“å…¥ï¼Œé‡å»ºç›¸åº”çš„ä¸‰ç»´è„‘å½¢çŠ¶ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯æœ‰å¸Œæœ›çš„ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨è„‘å¤–ç§‘æ‰‹æœ¯å¯¼èˆªä¸­ï¼Œä¸ºåŒ»ç”Ÿæä¾›é«˜å¯†åº¦çš„ä¸‰ç»´è„‘å½¢æ€çš„å³æ—¶è®¿é—®ã€‚å¯¹äºæœªæ¥çš„å·¥ä½œï¼Œæˆ‘ä»¬å°†ä¸ä¸´åºŠåŒ»ç”Ÿåˆä½œï¼Œä»ç°å®ä¸–ç•Œä¸­æ”¶é›†è„‘å¤–ç§‘å¯¼èˆªäº§ç”Ÿçš„æ•°æ®ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥å°½å¯èƒ½åœ°æ¶ˆé™¤æ‰€æå‡ºæ¨¡å‹çš„è¾“å…¥çº¦æŸã€‚æœ€åï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¯ä»¥é€‚åº”ç°å®ä¸–ç•Œæ•°æ®é›†çš„è¾“å…¥ï¼Œå¹¶è·å¾—ç›¸åŒçš„ç«äº‰ä¸‰ç»´å½¢çŠ¶ç»“æ„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GAN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FlowGAN</title>
      <link href="/3DReconstruction/Single-view/Generative%20Models/FlowGAN/"/>
      <url>/3DReconstruction/Single-view/Generative%20Models/FlowGAN/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Flow-based GAN for 3D Point Cloud Generation from a Single Image</th></tr></thead><tbody><tr><td>Author</td><td>Yao Wei (University of Twente), George Vosselman (â€œUniversity of Twente, the Netherlandsâ€), Michael Ying Yang (University of Twente)*</td></tr><tr><td>Conf/Jour</td><td>BMVA</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://bmvc2022.mpi-inf.mpg.de/569/">Flow-based GAN for 3D Point Cloud Generation from a Single Image (mpg.de)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4677468038203719681&amp;noteId=2011515461854903552">Flow-based GAN for 3D Point Cloud Generation from a Single Image (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019162233.png" alt="image.png|555"></p><ul><li><strong>flow-based explicit generative models</strong> for sampling point clouds with arbitrary resolutions</li><li>Improving the detailed 3D structures of point clouds by leveraging the <strong>implicit generative adversarial networks (GANs)</strong>.</li></ul><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ä»å•å¹…äºŒç»´å›¾åƒç”Ÿæˆä¸‰ç»´ç‚¹äº‘å¯¹äºä¸‰ç»´åœºæ™¯ç†è§£åº”ç”¨å…·æœ‰é‡è¦æ„ä¹‰ã€‚ä¸ºäº†é‡å»ºå›¾åƒä¸­æ˜¾ç¤ºçš„ç‰©ä½“çš„æ•´ä¸ª 3D å½¢çŠ¶ï¼Œç°æœ‰çš„åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•ä½¿ç”¨æ˜¾å¼æˆ–éšå¼çš„ç‚¹äº‘ç”Ÿæˆ modelingï¼Œç„¶è€Œï¼Œè¿™äº›æ–¹æ³•çš„è´¨é‡æœ‰é™ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€šè¿‡å¼•å…¥ä¸€ç§<strong>æ··åˆæ˜¾å¼-éšå¼ç”Ÿæˆå»ºæ¨¡</strong>æ–¹æ¡ˆæ¥ç¼“è§£è¿™ä¸€é—®é¢˜ï¼Œè¯¥æ–¹æ¡ˆ<strong>ç»§æ‰¿äº†åŸºäºæµçš„æ˜¾å¼ç”Ÿæˆæ¨¡å‹</strong>ï¼Œç”¨äºä»»æ„åˆ†è¾¨ç‡çš„é‡‡æ ·ç‚¹äº‘ï¼ŒåŒæ—¶é€šè¿‡åˆ©ç”¨éšå¼ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ(gan)æ”¹å–„ç‚¹äº‘çš„è¯¦ç»† 3D ç»“æ„ã€‚åœ¨å¤§è§„æ¨¡åˆæˆæ•°æ®é›† ShapeNet ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼Œå®éªŒç»“æœè¯æ˜äº†è¯¥æ–¹æ³•çš„ä¼˜è¶Šæ€§èƒ½ã€‚æ­¤å¤–ï¼Œé€šè¿‡å¯¹ PASCAL3D+æ•°æ®é›†çš„è·¨ç±»åˆ«åˆæˆå›¾åƒå’ŒçœŸå®å›¾åƒè¿›è¡Œæµ‹è¯•ï¼Œè¯æ˜äº†è¯¥æ–¹æ³•çš„æ³›åŒ–èƒ½åŠ›</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>Framework</p><ul><li>Generator built on normalizing flows<ul><li>VAEs with a flow-based decoder</li></ul></li><li>Discriminator from cross-modal perspective</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019162233.png" alt="image.png|333"><br>_è“è‰²æ˜¯è®­ç»ƒè¿‡ç¨‹ä¹Ÿæ˜¯æ¨ç†è¿‡ç¨‹_</p><h2 id="Flow-based-Generator"><a href="#Flow-based-Generator" class="headerlink" title="Flow-based Generator"></a>Flow-based Generator</h2><ul><li>Encoder<ul><li>$\psi$ ResNet18 â€”&gt; å›¾åƒ I æ˜ å°„åˆ°æ½œåœ¨ç©ºé—´,å›¾åƒæ¡ä»¶åˆ†å¸ƒç”¨äºåœ¨æ¨ç†è¿‡ç¨‹ä¸­å¯¹æ½œåœ¨ z è¿›è¡Œé‡‡æ ·<ul><li><a href="https://readpaper.com/pdf-annotate/note?pdfId=4544567041242849281&amp;noteId=2011522466393902336">Deep Residual Learning for Image Recognition (readpaper.com)</a></li></ul></li><li>$\phi$ PointNet â€”&gt; d-dimensional latent vector Z (d=512)<ul><li><a href="https://readpaper.com/pdf-annotate/note?pdfId=4500216149471551490&amp;noteId=2011522008392682752">PointNet: Deep Learning on Point Sets for 3D Classification and Segmentation (readpaper.com)</a></li><li><a href="https://github.com/fxia22/pointnet.pytorch">fxia22/pointnet.pytorch: pytorch implementation for â€œPointNet: Deep Learning on Point Sets for 3D Classification and Segmentationâ€ https://arxiv.org/abs/1612.00593 (github.com)</a></li></ul></li></ul></li><li>Decoder (built on NFs)<ul><li>åœ¨å½¢çŠ¶æ½œ z (ç¼–ç ç‚¹äº‘ X åˆ° Z) çš„æ¡ä»¶ä¸‹ï¼Œåº”ç”¨åŒ…å« F ä¸ª (F = 63)ä»¿å°„è€¦åˆå±‚çš„æµåŠ¨æ¨¡å‹æ¥å­¦ä¹ ç®€å•å…ˆéªŒåˆ†å¸ƒï¼Œä» p(X)åˆ°é«˜æ–¯ p ~ N(0,1)çš„å˜æ¢æ˜¯åå‘æ¨¡å¼ Î¸âˆ’1ï¼Œä» p ~ N(0,1)åˆ° p(X)çš„å˜æ¢æ˜¯æ­£å‘æ¨¡å¼ Î¸</li></ul></li></ul><h2 id="Cross-modal-Discriminator"><a href="#Cross-modal-Discriminator" class="headerlink" title="Cross -modal Discriminator"></a>Cross -modal Discriminator</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021110741.png" alt="image.png|666"></p><ul><li>ç¼–ç å™¨ EX ç”¨äºåˆ†åˆ«æå–é¢„æµ‹ç‚¹äº‘å’ŒçœŸå®ç‚¹äº‘çš„ 3D ç‰¹å¾ (PointNet)</li><li>ç¼–ç å™¨ EI å¯¹è¾“å…¥å›¾åƒçš„ 2D ç‰¹å¾è¿›è¡Œç¼–ç  (ResNet18)</li></ul><p>å°†èåˆçš„è·¨æ¨¡æ€ç‰¹å¾è¾“å…¥ MLP å±‚ä»¥è¾“å‡ºå€¼, ä»¥ I å’Œ X ä½œä¸ºè¾“å…¥ï¼Œè¯¥å€¼é¢„è®¡ä¸º 1ï¼ˆçœŸå®æ ·æœ¬ï¼‰ï¼›å½“ä»¥ I å’Œ $\hat{X}$ ä½œä¸ºè¾“å…¥æ—¶ï¼Œè¯¥å€¼é¢„è®¡ä¼šä¸º 0ï¼ˆå‡æ ·æœ¬ï¼‰</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ··åˆçš„æ˜¾å¼-éšå¼ç”Ÿæˆå»ºæ¨¡æ–¹æ¡ˆï¼Œç”¨äºä»å•å¹…å›¾åƒé‡å»ºä¸‰ç»´ç‚¹äº‘ã€‚ä¸ºäº†è§£å†³ç”Ÿæˆå›ºå®šåˆ†è¾¨ç‡çš„ç‚¹äº‘æ‰€å¸¦æ¥çš„é™åˆ¶ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªåŸºäºå•æµçš„ç”Ÿæˆå™¨æ¥è¿‘ä¼¼3Dç‚¹çš„åˆ†å¸ƒï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¯¹ä»»æ„æ•°é‡çš„ç‚¹è¿›è¡Œé‡‡æ ·ã€‚æ­¤å¤–ï¼Œå¼€å‘äº†ä¸€ä¸ªè·¨æ¨¡æ€é‰´åˆ«å™¨æ¥å¼•å¯¼ç”Ÿæˆå™¨ç”Ÿæˆé«˜è´¨é‡çš„ç‚¹äº‘ï¼Œè¿™äº›ç‚¹äº‘æ—¢ç¬¦åˆè¾“å…¥å›¾åƒçš„åˆç†æ¡ä»¶ï¼Œåˆå…·æœ‰ä¸åœ°é¢çœŸå®æƒ…å†µç›¸ä¼¼çš„ä¸‰ç»´ç»“æ„ã€‚åœ¨ShapeNetå’ŒPASCAL3D+æ•°æ®é›†ä¸Šçš„å®éªŒç»“æœè¯æ˜äº†è¯¥æ–¹æ³•çš„æœ‰æ•ˆæ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GAN </tag>
            
            <tag> Flow </tag>
            
            <tag> VAE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DiT-3D</title>
      <link href="/3DReconstruction/Single-view/Generative%20Models/DiT-3D/"/>
      <url>/3DReconstruction/Single-view/Generative%20Models/DiT-3D/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>DiT-3D: Exploring Plain Diffusion Transformers for 3D Shape Generation</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://scholar.google.com/citations?user=6aYncPAAAAAJ&amp;hl=en/">Shentong Mo</a> 1, <a href="https://xieenze.github.io/">Enze Xie</a> 2, <a href="http://ruihangchu.com/">Ruihang Chu</a> 3, <a href="https://scholar.google.com/citations?user=hqDyTg8AAAAJ&amp;hl=en/">Lewei Yao</a> 2,<a href="https://scholar.google.com.sg/citations?user=2p7x6OUAAAAJ&amp;hl=en/">Lanqing Hong</a>2, <a href="https://scholar.google.com/citations?user=eUtEs6YAAAAJ&amp;hl=en/">Matthias NieÃŸner</a>4, <a href="https://scholar.google.com/citations?user=XboZC1AAAAAJ&amp;hl=en/">Zhenguo Li</a>2</td></tr><tr><td>Conf/Jour</td><td>arXiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://dit-3d.github.io/">DiT-3D: Exploring Plain Diffusion Transformers for 3D Shape Generation</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4776143720479195137&amp;noteId=2011558450133224704">DiT-3D: Exploring Plain Diffusion Transformers for 3D Shape Generation (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019170328.png" alt="image.png|666"></p><p>New 3D Diffusion Transformer Model, åœ¨ä½“ç´ åŒ–çš„ç‚¹äº‘ä¸Šè¿è¡Œ DDPM(Denoising diffusion probabilistic models) çš„å»å™ªè¿‡ç¨‹</p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æœ€è¿‘çš„æ‰©æ•£ Transformers(ä¾‹å¦‚ DiT[1])å·²ç»è¯æ˜äº†å®ƒä»¬åœ¨ç”Ÿæˆé«˜è´¨é‡ 2D å›¾åƒæ–¹é¢çš„å¼ºå¤§æœ‰æ•ˆæ€§ã€‚ç„¶è€Œï¼ŒTransformer æ¶æ„æ˜¯å¦åœ¨ 3D å½¢çŠ¶ç”Ÿæˆä¸­è¡¨ç°å¾—åŒæ ·å¥½è¿˜æœ‰å¾…ç¡®å®šï¼Œå› ä¸ºä¹‹å‰çš„ 3D æ‰©æ•£æ–¹æ³•å¤§å¤šé‡‡ç”¨ U-Net æ¶æ„ã€‚ä¸ºäº†å¼¥è¡¥è¿™ä¸€å·®è·ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç”¨äº 3D å½¢çŠ¶ç”Ÿæˆçš„æ‰©æ•£ Transformerï¼Œå³ DiT-3Dï¼Œå®ƒå¯ä»¥ç›´æ¥ä½¿ç”¨æ™®é€š Transformer å¯¹ä½“ç´ åŒ–ç‚¹äº‘è¿›è¡Œå»å™ªå¤„ç†ã€‚ä¸ç°æœ‰çš„ U-Net æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ DiT-3D åœ¨æ¨¡å‹å¤§å°ä¸Šæ›´å…·å¯æ‰©å±•æ€§ï¼Œå¹¶äº§ç”Ÿæ›´é«˜è´¨é‡çš„ generationsã€‚å…·ä½“æ¥è¯´ï¼ŒDiT-3D é‡‡ç”¨äº† DiT[1]çš„è®¾è®¡ç†å¿µï¼Œä½†å¯¹å…¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œ<strong>åŠ å…¥äº† 3D ä½ç½®åµŒå…¥å’Œè¡¥ä¸åµŒå…¥(3D positional and patch embedding)</strong>ï¼Œä»¥è‡ªé€‚åº”åœ°èšåˆæ¥è‡ªä½“ç´ åŒ–ç‚¹äº‘çš„è¾“å…¥ã€‚ä¸ºäº†å‡å°‘ 3D å½¢çŠ¶ç”Ÿæˆä¸­è‡ªæ³¨æ„çš„è®¡ç®—æˆæœ¬ï¼Œæˆ‘ä»¬å°† 3D çª—å£æ³¨æ„ (3D window attention)åˆå¹¶åˆ° Transformer å—ä¸­ï¼Œå› ä¸ºç”±äºä½“ç´ çš„é¢å¤–ç»´åº¦å¯¼è‡´çš„ 3D ä»¤ç‰Œé•¿åº¦å¢åŠ ä¼šå¯¼è‡´é«˜è®¡ç®—é‡ã€‚æœ€åï¼Œåˆ©ç”¨<strong>çº¿æ€§å±‚å’Œå»å™ªå±‚</strong>å¯¹å»å™ªåçš„ç‚¹äº‘è¿›è¡Œé¢„æµ‹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„å˜å‹å™¨æ¶æ„æ”¯æŒä» 2D åˆ° 3D çš„æœ‰æ•ˆå¾®è°ƒï¼Œå…¶ä¸­ ImageNet ä¸Šé¢„è®­ç»ƒçš„ DiT-2D æ£€æŸ¥ç‚¹å¯ä»¥æ˜¾ç€æ”¹å–„ ShapeNet ä¸Šçš„ DiT-3Dã€‚åœ¨ ShapeNet æ•°æ®é›†ä¸Šçš„å®éªŒç»“æœè¡¨æ˜ï¼Œæ‰€æå‡ºçš„ DiT-3D åœ¨é«˜ä¿çœŸåº¦å’Œå¤šæ ·åŒ–çš„ä¸‰ç»´ç‚¹äº‘ç”Ÿæˆæ–¹é¢è¾¾åˆ°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ã€‚ç‰¹åˆ«æ˜¯ï¼Œå½“å¯¹å€’è§’è·ç¦»è¿›è¡Œè¯„ä¼°æ—¶ï¼Œæˆ‘ä»¬çš„ DiT-3D å°†æœ€å…ˆè¿›æ–¹æ³•çš„ 1 è¿‘é‚»ç²¾åº¦é™ä½äº† 4.59ï¼Œå¹¶å°†è¦†ç›–åº¦é‡æé«˜äº† 3.51ã€‚</p><ul><li>æˆ‘ä»¬æå‡ºäº† DiT-3Dï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªç”¨äºç‚¹äº‘å½¢çŠ¶ç”Ÿæˆçš„æ™®é€šæ‰©æ•£ Transformer æ¶æ„ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å¯¹ä½“ç´ åŒ–ç‚¹äº‘è¿›è¡Œå»å™ªæ“ä½œã€‚(è®¾è®¡ä¸€ä¸ªåŸºäºæ™®é€š Transformer çš„æ¶æ„ä¸»å¹²æ¥å–ä»£ U-Net ä¸»å¹²,ä»¥é€†è½¬ä»è§‚æµ‹ç‚¹äº‘åˆ°é«˜æ–¯å™ªå£°çš„æ‰©æ•£è¿‡ç¨‹)</li><li>æˆ‘ä»¬å¯¹ DiT-3D è¿›è¡Œäº†ä¸€äº›ç®€å•è€Œæœ‰æ•ˆçš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬ 3D ä½ç½®å’Œè¡¥ä¸åµŒå…¥ï¼Œ3D çª—å£å…³æ³¨å’Œ ImageNet ä¸Šçš„ 2D é¢„è®­ç»ƒã€‚è¿™äº›æ”¹è¿›åœ¨ä¿æŒæ•ˆç‡çš„åŒæ—¶æ˜¾è‘—æé«˜äº† DiT-3D çš„æ€§èƒ½ã€‚</li><li>åœ¨ ShapeNet æ•°æ®é›†ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒè¡¨æ˜ï¼ŒDiT-3D åœ¨ç”Ÿæˆé«˜ä¿çœŸå½¢çŠ¶æ–¹é¢ä¼˜äºä»¥å‰çš„é DDPM å’Œ DDPM åŸºçº¿ã€‚</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Diffusion-Transformer-for-3D-Point-Cloud-Generation"><a href="#Diffusion-Transformer-for-3D-Point-Cloud-Generation" class="headerlink" title="Diffusion Transformer for 3D Point Cloud Generation"></a>Diffusion Transformer for 3D Point Cloud Generation</h2><h2 id="Efficient-Modality-Domain-Transfer-with-Parameter-efficient-Fine-tuning"><a href="#Efficient-Modality-Domain-Transfer-with-Parameter-efficient-Fine-tuning" class="headerlink" title="Efficient Modality/Domain Transfer with Parameter-efficient Fine-tuning"></a>Efficient Modality/Domain Transfer with Parameter-efficient Fine-tuning</h2><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº† DiT-3Dï¼Œä¸€ç§ç”¨äºä¸‰ç»´å½¢çŠ¶ç”Ÿæˆçš„æ–°å‹å¹³é¢æ‰©æ•£å˜å‹å™¨ï¼Œå®ƒå¯ä»¥ç›´æ¥å¯¹ä½“ç´ åŒ–ç‚¹äº‘è¿›è¡Œå»å™ªå¤„ç†ã€‚ä¸ç°æœ‰çš„ U-Net æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ DiT-3D åœ¨æ¨¡å‹å¤§å°ä¸Šæ›´å…·å¯æ‰©å±•æ€§ï¼Œå¹¶äº§ç”Ÿæ›´é«˜è´¨é‡çš„ generationsã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ç»“åˆäº†3D ä½ç½®å’Œè¡¥ä¸åµŒå…¥æ¥èšåˆæ¥è‡ªä½“ç´ åŒ–ç‚¹äº‘çš„è¾“å…¥ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†3D çª—å£å…³æ³¨åˆå¹¶åˆ° Transformer å—ä¸­ï¼Œä»¥å‡å°‘3D Transformer çš„è®¡ç®—æˆæœ¬ï¼Œç”±äº3D ä¸­é¢å¤–ç»´åº¦å¯¼è‡´ä»¤ç‰Œé•¿åº¦å¢åŠ ï¼Œè®¡ç®—æˆæœ¬å¯èƒ½ä¼šéå¸¸é«˜ã€‚æœ€åï¼Œæˆ‘ä»¬åˆ©ç”¨çº¿æ€§å±‚å’Œå»å™ªå±‚æ¥é¢„æµ‹å»å™ªåçš„ç‚¹äº‘ã€‚ç”±äº Transformer çš„å¯æ‰©å±•æ€§ï¼Œ<strong>DiT-3D å¯ä»¥å¾ˆå®¹æ˜“åœ°æ”¯æŒå…·æœ‰æ¨¡æ€å’ŒåŸŸå¯è½¬ç§»æ€§çš„å‚æ•°é«˜æ•ˆå¾®è°ƒ</strong>ã€‚å®éªŒç»“æœè¯æ˜äº†æ‰€æå‡ºçš„ DiT-3D åœ¨é«˜ä¿çœŸåº¦å’Œå¤šæ ·åŒ–çš„3D ç‚¹äº‘ç”Ÿæˆæ–¹é¢çš„æœ€å…ˆè¿›æ€§èƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Diffusion </tag>
            
            <tag> Transformer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Greedy Grid Search</title>
      <link href="/3DReconstruction/Multi-view/PointCloud%20Process/Greedy%20Grid%20Search/"/>
      <url>/3DReconstruction/Multi-view/PointCloud%20Process/Greedy%20Grid%20Search/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Challenging universal representation of deep models for 3D point cloud registration</th></tr></thead><tbody><tr><td>Author</td><td>Bojani\â€™{c}, David and Bartol, Kristijan and Forest, Josep and Gumhold, Stefan and Petkovi\â€™{c}, Tomislav and Pribani\â€™{c}, Tomislav</td></tr><tr><td>Conf/Jour</td><td>BMVC</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://github.com/davidboja/greedy-grid-search">DavidBoja/greedy-grid-search: [BMVC 2022 workshop] Greedy Grid Search: A 3D Registration Baseline (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4695512524410322945&amp;noteId=2011119761938643456">Challenging the Universal Representation of Deep Models for 3D Point Cloud Registration (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019094915.png" alt="image.png|666"></p><p>æŒ‰æ­¥é•¿ç©·ä¸¾æ³•ï¼Œ<strong>ç²—é…å‡†</strong>ï¼Œéœ€è¦æ ¹æ®ICPè¿›è¡Œç²¾é…å‡†</p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>å­¦ä¹ è·¨ä¸åŒåº”ç”¨é¢†åŸŸçš„é€šç”¨è¡¨ç¤ºæ˜¯ä¸€ä¸ªå¼€æ”¾çš„ç ”ç©¶é—®é¢˜ã€‚äº‹å®ä¸Šï¼Œåœ¨ç›¸åŒçš„åº”ç”¨ç¨‹åºä¸­ï¼Œåœ¨ä¸åŒç±»å‹çš„æ•°æ®é›†ä¸­<strong>æ‰¾åˆ°é€šç”¨çš„æ¶æ„</strong>ä»ç„¶æ˜¯ä¸€ä¸ªæœªè§£å†³çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠå¤„ç† 3D ç‚¹äº‘çš„åº”ç”¨ç¨‹åºä¸­ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å®éªŒæµ‹è¯•äº†å‡ ç§æœ€å…ˆè¿›çš„åŸºäºå­¦ä¹ çš„ 3D ç‚¹äº‘é…å‡†æ–¹æ³•ï¼Œä»¥å¯¹æŠ—æ‰€æå‡ºçš„éå­¦ä¹ åŸºçº¿é…å‡†æ–¹æ³•ã€‚æ‰€æå‡ºçš„æ–¹æ³•ä¼˜äºæˆ–è¾¾åˆ°äº†åŸºäºå­¦ä¹ æ–¹æ³•çš„å¯æ¯”ç»“æœã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåŸºäºå­¦ä¹ çš„æ–¹æ³•å¾ˆéš¾æ³›åŒ–çš„æ•°æ®é›†ã€‚æˆ‘ä»¬æå‡ºçš„æ–¹æ³•å’Œæ•°æ®é›†ï¼Œä»¥åŠæä¾›çš„å®éªŒï¼Œå¯ä»¥ç”¨äºè¿›ä¸€æ­¥ç ”ç©¶é€šç”¨è¡¨ç¤ºçš„æœ‰æ•ˆè§£å†³æ–¹æ¡ˆ</p><ul><li>æ¯”è¾ƒå¥½çš„æ³›åŒ–</li><li>æå‡ºäº†æ–°åŸºå‡† FAUST-partialï¼ŒåŸºäº 3D äººä½“æ‰«æï¼Œè¿™è¿›ä¸€æ­¥å¯¹åŸºäºå­¦ä¹ çš„æ–¹æ³•çš„æ³›åŒ–æå‡ºäº†æŒ‘æˆ˜</li><li>æå‡ºäº†ä¸€ç§æ–°çš„ä¸‰ç»´é…å‡†åŸºçº¿ï¼Œè¯¥åŸºçº¿æ ¹æ®ä½“ç´ åŒ–ç‚¹äº‘ä¹‹é—´çš„æœ€å¤§ç›¸äº’å…³ç³»é€‰æ‹©å˜æ¢å€™é€‰ç‚¹</li><li>åœ¨å…¬å…±åŸºå‡†æµ‹è¯•ä¸­å±•ç¤ºä¸æœ€å…ˆè¿›çš„ 3D é…å‡†æ–¹æ³•ç›¸å½“çš„æ€§èƒ½ï¼Œå¹¶åœ¨ FAUST-partial ä¸Šä¼˜äºå®ƒä»¬</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ul><li>Pre-Processing<ul><li><strong>æºç‚¹äº‘X</strong>å±…ä¸­å¹¶æŒ‰ä¸€å®šçš„ step æ—‹è½¬(é¢„è®¡ç®—Nä¸ªæ—‹è½¬çŸ©é˜µ)ï¼Œå¾—åˆ° N ä¸ªæ—‹è½¬åçš„æºç‚¹äº‘ï¼Œç„¶åå°†æºç‚¹äº‘ç§»åŠ¨åˆ°åæ ‡å…¨ä¸ºæ­£å€¼çš„è±¡é™(æ–¹ä¾¿ä½“ç´ åŒ–)ï¼Œç„¶åå°† N ä¸ªæºç‚¹äº‘å’Œ<strong>ç›®æ ‡ç‚¹äº‘Y</strong>ä½“ç´ åŒ–(voxel resolution of VR cm)ï¼Œæ²¡æœ‰ä½¿ç”¨ 0 1 å€¼çš„ 3D ç½‘æ ¼ï¼Œè€Œæ˜¯ä¸ºä½“ç´ å¡«å……æ­£å€¼ PV(åŒ…å«ç‚¹äº‘ç‚¹)å’Œè´Ÿå€¼ NV( ä¸åŒ…å«ç‚¹äº‘ç‚¹)</li><li>å¾—åˆ° N ä¸ª source volumes å’Œ 1 ä¸ª target volume </li></ul></li><li>Processing<ul><li>è®¡ç®—æ¯ä¸ª source volume ä¸ target volume çš„ 3D cross-correlation(ä¸¤ä¸ª volume çš„ä½“ç´ å€¼ç›¸ä¹˜å¹¶ç›¸åŠ )ï¼Œç»“æœäº§ç”Ÿ N ä¸ª cross-correlation volumes ä¸ source volumes çš„ä¸‰ä¸ªç»´åº¦ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨ heatmaps è¡¨ç¤ºåŒ¹é…åº¦çš„é«˜ä½ã€‚</li><li>cross-correlation ä¹‹å‰ï¼Œæ¯ä¸ª source volume åº”è¯¥è¢« pad ä»¥ä¾¿ target volume åœ¨ source volume ä¸Š slideï¼Œç”¨ 6 ç»´çš„ P è¡¨ç¤º Padï¼Œæ¯ä¸ªç»´åº¦åˆ†åˆ«è¡¨ç¤ºåœ¨ source volume çš„å·¦å³ä¸Šä¸‹å‰å pad çš„æ•°é‡</li><li>ä½¿ç”¨ Fourier åŠ é€Ÿ cross-correlation çš„è®¡ç®—ï¼Œé¦–å…ˆå°†ä¸¤ä¸ª volume ä½¿ç”¨ FFT è½¬æ¢åˆ° Fourier spaceï¼Œå°† cross-correlation ç®€åŒ–ä¸ºçŸ©é˜µä¹˜æ³•ï¼Œç„¶åä½¿ç”¨é€† FFT å°†è¾“å‡ºè½¬æ¢å›æ¥</li></ul></li><li>Post-Processing<ul><li>ä½¿ç”¨é¢„å…ˆè®¡ç®—çš„æ—‹è½¬çŸ©é˜µä¸­çš„ä¸€ä¸ªæ¥ä¼°è®¡å°†Xæ—‹è½¬åˆ°Yçš„æ—‹è½¬çŸ©é˜µ(CCæœ€å¤§çš„source volume)</li><li>åŒæ—¶å°†target volume çš„ä¸­å¿ƒç§»åŠ¨åˆ°æœ€å¤§CC volume voxel (xyz)ï¼Œç”±äºæœ€å¤§CC volumeç›¸å¯¹åº”æŸä¸ªsource volumeï¼Œæœ¬è´¨ä¸Šæ˜¯å°†target volume ä½“ç´ ä¸­å¿ƒç§»åŠ¨åˆ° source volume ä½“ç´ ä¸­å¿ƒ(ä½¿å¾—CCæœ€å¤§) </li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231019094915.png" alt="image.png|666"></p><p>$\left(\hat{R}\left(\mathcal{X}-t_{\mathcal{X}}^{\text{CENTER}}\right)\right)+t_{\mathcal{X}}^{\text{POSIT}}\sim\left(\mathcal{Y}+t_{\mathcal{Y}}^{\text{POSIT}}\right)-t_{\text{est}}$<br>å…¶ä¸­~è¡¨ç¤ºå·¦å³éƒ¨åˆ†æ˜¯å¯¹é½çš„ï¼ŒXæºç‚¹äº‘å’ŒYç›®æ ‡ç‚¹äº‘ï¼Œ$t_{\mathcal{X}}^{\text{CENTER}}$å°†æºç‚¹äº‘çš„è´¨å¿ƒç§»åŠ¨åˆ°åŸç‚¹ï¼Œ$t^{\text{POSIT}}$å°†æœ€å°è¾¹ç•Œæ¡†ç‚¹ç§»åŠ¨åˆ°åŸç‚¹</p><p>å…¬å¼å˜å½¢ï¼š<br>$\left(\hat{R}\left({\mathcal X}-t_{\mathcal X}^{\mathrm{CENTER}}\right)\right)+t_{\mathcal X}^{\mathrm{POSIT}}+t_{\mathrm{est}}-t_{\mathcal Y}^{\mathrm{POSIT}}\sim{\mathcal Y}$<br>$\hat{R}=R_{i^{*}},\quad\hat{t}=-\hat{R}t_{\mathcal{X}}^{\mathrm{CENTER}}+t_{\mathcal{X}}^{\mathrm{POSIT}}+t_{\mathrm{est}}-t_{\mathcal{Y}}^{\mathrm{POSIT}}$</p><p>Refinement:<br>ç”±äºæ—‹è½¬å’Œå¹³ç§»ç©ºé—´æ˜¯ç¦»æ•£çš„ï¼Œæ‰€ä»¥åˆå§‹å¯¹é½åªæ˜¯ä¸€ä¸ªç²—ç•¥çš„ä¼°è®¡ã€‚å¦‚æœåœ°é¢çœŸå€¼è§£ä½äºä¼°è®¡çš„ç¦»æ•£ä½ç½®ï¼Œåˆ™æ—‹è½¬å’Œå¹³ç§»è¯¯å·®çš„ä¸Šç•Œä¸º$\frac12\max_{i,ji\neq j}\arccos\left(\frac{\operatorname{trace}(R_i^TR_j)-1}2\right)\frac{180}\pi$ degree å’Œ$\frac{\mathrm{VR}\sqrt{3}}{2}$ cmã€‚å¯¹äºS = 15â—¦å’ŒV R = 6cmçš„è§’åº¦æ­¥é•¿ï¼Œä¸Šé™è¯¯å·®ä¸º7.5â—¦å’Œ5cmã€‚å› æ­¤ï¼Œç²—ç•¥çš„åˆå§‹å¯¹é½åº”è¯¥ä¸ºç²¾ç»†çš„é…å‡†ç®—æ³•æä¾›éå¸¸å¥½çš„åˆå§‹åŒ–ã€‚æˆ‘ä»¬ä½¿ç”¨å¹¿ä¹‰ICP[53]æ¥refineåˆå§‹è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒæä¾›äº†æœ€å¥½çš„ç»“æœ</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æå‡ºçš„ç»å…¸æ–¹æ³•æä¾›äº†è‰¯å¥½çš„ä¸‰ç»´é…å‡†åŸºçº¿ã€‚è¯¥æ–¹æ³•ç®€å•æœ‰æ•ˆï¼Œå¹¶åœ¨å…¬å…±åŸºå‡†æµ‹è¯•ä¸­å¾—åˆ°äº†éªŒè¯ã€‚ä¸æœ€å…ˆè¿›çš„æ–¹æ³•çš„æ³›åŒ–æ€§èƒ½ç›¸æ¯”ï¼ŒåŸºçº¿æ˜¯ç›¸åŒçš„ã€‚åœ¨æ–°æå‡ºçš„FAUST-partialåŸºå‡†æµ‹è¯•ä¸­ï¼Œå³ä½¿ç”Ÿæˆçš„äº‘å¯¹ä¹‹é—´çš„é‡å ç›¸å½“é«˜ï¼Œç«äº‰æ–¹æ³•ä¹Ÿéš¾ä»¥ä¿ç•™ç»“æœï¼Œæˆ–è€…æ‰§è¡Œå¾—æ›´å·®ã€‚ä¸æ·±åº¦å­¦ä¹ æ–¹æ³•ç›¸åï¼ŒåŸºçº¿ç®€å•ä¸”å¯è§£é‡Šï¼Œå¯ç”¨äºè¯¦ç»†åˆ†æã€‚ä¸åŒç­–ç•¥çš„æ•ˆæœæ˜¯æ¸…æ™°å’Œç›´è§‚çš„ï¼Œå¹¶æä¾›äº†å¯¹æ³¨å†Œè¿‡ç¨‹çš„è§è§£ã€‚å› æ­¤ï¼Œåœ¨å¯»æ‰¾<strong>é€šç”¨è¡¨ç¤º</strong>çš„è¿‡ç¨‹ä¸­ï¼Œè®¾è®¡ä¸€ä¸ªæ¨¡ä»¿æ‰€æå‡ºçš„åŸºçº¿æ–¹æ³•çš„æ·±åº¦æ¨¡å‹æ˜¯ä¸€ä¸ªæœ‰è¶£çš„æœªæ¥å‘å±•æ–¹å‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>GeoTransformer</title>
      <link href="/3DReconstruction/Multi-view/PointCloud%20Process/GeoTransformer/"/>
      <url>/3DReconstruction/Multi-view/PointCloud%20Process/GeoTransformer/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Geometric Transformer for Fast and Robust Point Cloud Registration</th></tr></thead><tbody><tr><td>Author</td><td>Zheng Qin1 Hao Yu2 Changjian Wang1 Yulan Guo1,3 Yuxing Peng1 Kai Xu1*</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://github.com/qinzheng93/GeoTransformer">qinzheng93/GeoTransformer: [CVPR2022] Geometric Transformer for Fast and Robust Point Cloud Registration (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4667181912255643649&amp;noteId=2010116153877133824">Geometric Transformer for Fast and Robust Point Cloud Registration (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231018113631.png" alt="image.png|666"></p><p>pairwise registration models, only <strong>Ubuntu</strong></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç ”ç©¶äº†ç‚¹äº‘é…å‡†ä¸­ç²¾ç¡®å¯¹åº”ç‚¹çš„æå–é—®é¢˜ã€‚æœ€è¿‘çš„æ— å…³é”®ç‚¹æ–¹æ³•ç»•è¿‡äº†åœ¨ä½é‡å æƒ…å†µä¸‹éš¾ä»¥æ£€æµ‹å¯é‡å¤å…³é”®ç‚¹çš„æ–¹æ³•ï¼Œåœ¨é…å‡†æ–¹é¢æ˜¾ç¤ºå‡ºå·¨å¤§çš„æ½œåŠ›ã€‚ä»–ä»¬åœ¨ä¸‹é‡‡æ ·çš„è¶…ç‚¹ä¸Šå¯»æ‰¾å¯¹åº”ç‚¹ï¼Œç„¶åå°†å…¶ä¼ æ’­åˆ°å¯†é›†ç‚¹ã€‚æ ¹æ®ç›¸é‚»è¡¥ä¸æ˜¯å¦é‡å æ¥åŒ¹é…é‡å ç‚¹ã€‚è¿™ç§ç¨€ç–å’Œæ¾æ•£çš„åŒ¹é…éœ€è¦ä¸Šä¸‹æ–‡ç‰¹å¾æ•æ‰ç‚¹äº‘çš„å‡ ä½•ç»“æ„ã€‚æˆ‘ä»¬æå‡ºå‡ ä½•å˜å‹å™¨æ¥å­¦ä¹ å‡ ä½•ç‰¹å¾ï¼Œä»¥å®ç°é²æ£’çš„é‡å ç‚¹åŒ¹é…ã€‚å®ƒå¯¹æˆå¯¹è·ç¦»å’Œä¸‰é‡è§’åº¦è¿›è¡Œç¼–ç ï¼Œä½¿å…¶åœ¨ä½é‡å æƒ…å†µä¸‹å…·æœ‰é²æ£’æ€§ï¼Œå¹¶ä¸”å¯¹åˆšæ€§å˜æ¢ä¸å˜æ€§ã€‚ç®€å•çš„è®¾è®¡è·å¾—äº†æƒŠäººçš„åŒ¹é…ç²¾åº¦ï¼Œåœ¨ä¼°è®¡å¯¹å‡†å˜æ¢æ—¶ä¸éœ€è¦RANSACï¼Œä»è€Œè·å¾—äº†100å€çš„åŠ é€Ÿåº¦ã€‚åœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„3DLoMatchåŸºå‡†æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å°†åˆå§‹æ¯”ç‡æé«˜äº†17 ~ 30ä¸ªç™¾åˆ†ç‚¹ï¼Œå°†æ³¨å†Œå¬å›ç‡æé«˜äº†7ä¸ªç™¾åˆ†ç‚¹ä»¥ä¸Šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PointCloud </tag>
            
            <tag> Registration </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SGHR</title>
      <link href="/3DReconstruction/Multi-view/PointCloud%20Process/SGHR/"/>
      <url>/3DReconstruction/Multi-view/PointCloud%20Process/SGHR/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Robust Multiview Point Cloud Registration with Reliable Pose Graph Initialization and History Reweighting</th></tr></thead><tbody><tr><td>Author</td><td>Haiping Wang and Yuan Liu and Zhen Dong and Yulan Guo and Yu-Shen Liu and Wenping Wang and Bisheng Yang</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/WHU-USI3DV/SGHR?tab=readme-ov-file">WHU-USI3DV/SGHR: [CVPR 2023] Robust Multiview Point Cloud Registration with Reliable Pose Graph Initialization and History Reweighting (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4740850412790218753&amp;noteId=2008923607452724224">Robust Multiview Point Cloud Registration with Reliable Pose Graph Initialization and History Reweighting (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231017210035.png" alt="image.png|666"></p><p>Issue:<br><a href="https://github.com/WHU-USI3DV/SGHR/issues/4">How should I train my dataset? Â· Issue #4 Â· WHU-USI3DV/SGHR (github.com)</a><br>I think several point clouds of a single statue is not enough for training deep descriptors. I suggest to directly use pairwise registration models such as <a href="https://github.com/qinzheng93/GeoTransformer">Geotrainsformer</a> pre-trained on object-level datasets such as ModelNet40 <strong>to solve the pairwise registrations</strong>.<br>And adopt SGHRâ€™s <strong>transformation synchronization</strong> section to solve the global consistent scan poses.</p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§ç‚¹äº‘å¤šè§†å›¾é…å‡†çš„æ–°æ–¹æ³•ã€‚ä»¥å‰çš„å¤šè§†å›¾é…å‡†æ–¹æ³•ä¾èµ–äºç©·ä¸¾æˆå¯¹é…å‡†æ„é€ å¯†é›†è¿æ¥çš„ä½å§¿å›¾ï¼Œå¹¶åœ¨ä½å§¿å›¾ä¸Šåº”ç”¨è¿­ä»£é‡åŠ æƒæœ€å°äºŒä¹˜(IRLS)è®¡ç®—æ‰«æä½å§¿ã€‚ç„¶è€Œï¼Œæ„é€ ä¸€ä¸ªå¯†é›†è¿æ¥çš„å›¾æ˜¯è€—æ—¶çš„ï¼Œå¹¶ä¸”åŒ…å«å¤§é‡çš„ç¦»ç¾¤è¾¹ï¼Œè¿™ä½¿å¾—åç»­çš„IRLSå¾ˆéš¾æ‰¾åˆ°æ­£ç¡®çš„å§¿åŠ¿ã€‚ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆæå‡ºä½¿ç”¨ç¥ç»ç½‘ç»œæ¥ä¼°è®¡æ‰«æå¯¹ä¹‹é—´çš„é‡å ï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ„å»ºä¸€ä¸ªç¨€ç–ä½†å¯é çš„å§¿æ€å›¾ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨IRLSæ–¹æ¡ˆä¸­è®¾è®¡äº†ä¸€ç§æ–°çš„å†å²é‡åŠ æƒå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯¹å›¾ä¸Šçš„ç¦»ç¾¤è¾¹å…·æœ‰è¾ƒå¼ºçš„é²æ£’æ€§ã€‚ä¸ç°æœ‰çš„å¤šè§†å›¾é…å‡†æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨3DMatchæ•°æ®é›†ä¸Šçš„é…å‡†å¬å›ç‡æé«˜äº†11%ï¼Œåœ¨ScanNetæ•°æ®é›†ä¸Šçš„é…å‡†è¯¯å·®é™ä½äº†13%ï¼ŒåŒæ—¶æ‰€éœ€çš„æˆå¯¹é…å‡†å‡å°‘äº†70%ã€‚è¿›è¡Œäº†å…¨é¢çš„ablationç ”ç©¶ï¼Œä»¥è¯æ˜æˆ‘ä»¬è®¾è®¡çš„æœ‰æ•ˆæ€§</p><p>ä¼ ç»Ÿç‚¹äº‘é…å‡†ï¼š</p><ul><li><strong>é¦–å…ˆ</strong>ï¼Œé‡‡ç”¨æˆå¯¹é…å‡†ç®—æ³•[28,46,49]ï¼Œç©·å°½ä¼°è®¡æ‰€æœ‰N2æ‰«æå¯¹çš„ç›¸å¯¹å§¿æ€ï¼Œå½¢æˆä¸€ä¸ªå®Œå…¨è¿é€šçš„å§¿æ€å›¾ã€‚å›¾çš„è¾¹è¡¨ç¤ºæ‰«æå¯¹çš„ç›¸å¯¹ä½ç½®ï¼ŒèŠ‚ç‚¹è¡¨ç¤ºæ‰«æã€‚</li><li>ç”±äºå¯†é›†å§¿æ€å›¾å¯èƒ½åŒ…å«ä¸¤æ¬¡ä¸ç›¸å…³æ‰«æä¹‹é—´ä¸å‡†ç¡®ç”šè‡³ä¸æ­£ç¡®çš„ç›¸å¯¹å§¿æ€(å¼‚å¸¸å€¼)ï¼Œå› æ­¤åœ¨<strong>ç¬¬äºŒé˜¶æ®µ</strong>ï¼Œé€šè¿‡åŠ å¼ºå‘¨æœŸä¸€è‡´æ€§[30]æ¥è”åˆä¼˜åŒ–è¿™äº›æˆå¯¹å§¿æ€ï¼Œä»¥æ‹’ç»å¼‚å¸¸è¾¹å¹¶æé«˜ç²¾åº¦ã€‚å¯¹äºç¬¬äºŒé˜¶æ®µï¼Œæœ€æ–°çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬æ‰‹å·¥æ–¹æ³•[5,13,29]æˆ–åŸºäºå­¦ä¹ çš„æ–¹æ³•[21,30,55]ï¼Œé‡‡ç”¨è¿­ä»£åŠ æƒæœ€å°äºŒä¹˜(IRLS)æ–¹æ¡ˆã€‚Iteratively Reweighted Least Square (IRLS)</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>(1)ç»™å®šNä¸ªæœªå¯¹é½çš„éƒ¨åˆ†æ‰«æï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†æ‰€æœ‰è¿™äº›æ‰«ææ³¨å†Œåˆ°(4)ä¸€ä¸ªå®Œæ•´çš„ç‚¹äº‘ä¸­ã€‚æˆ‘ä»¬çš„æ–¹æ³•æœ‰ä¸¤ä¸ªè´¡çŒ®</p><ul><li>(2)å­¦ä¹ å…¨å±€ç‰¹å¾å‘é‡åˆå§‹åŒ–ç¨€ç–å§¿æ€å›¾ï¼Œä½¿ç¦»ç¾¤ç‚¹æ›´å°‘ï¼Œå‡å°‘äº†ä¸¤ä¸¤é…å‡†æ‰€éœ€çš„æ¬¡æ•°ã€‚<ul><li><strong>Global feature extraction</strong>ï¼š<strong>YOHO</strong> for extracting local descriptors , <strong>NetVLAD</strong> to extract a global feature F (train with a L1 loss between the predicted overlap score and the ground-truth overlap ratio.)</li><li><strong>Sparse graph construction</strong>ï¼šoverlap score ==&gt;For each scan, select other k scan pairs with the largest overlap scores to connect with the scan</li><li>estimate a relative pose on the scan pair from their extracted local descriptors(follow YOHO to apply nearest neighborhood matcher )</li></ul></li><li>(3)æå‡ºäº†ä¸€ç§æ–°çš„IRLSæ–¹æ¡ˆã€‚åœ¨æˆ‘ä»¬çš„IRLSæ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬ä»å…¨å±€ç‰¹å¾å’Œä¸¤ä¸¤é…å‡†ä¸­åˆå§‹åŒ–æƒé‡ã€‚ç„¶åï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå†å²åŠ æƒå‡½æ•°æ¥è¿­ä»£åœ°æ”¹è¿›å§¿æ€ï¼Œæé«˜äº†å¯¹å¼‚å¸¸å€¼çš„é²æ£’æ€§ã€‚<em>(IRLSçš„å…³é”®æ€æƒ³æ˜¯åœ¨æ¯æ¡è¾¹ä¸Šå…³è”ä¸€ä¸ªæƒå€¼æ¥è¡¨ç¤ºæ¯ä¸ªæ‰«æå¯¹çš„å¯é æ€§ã€‚è¿™äº›æƒé‡è¢«è¿­ä»£åœ°ç»†åŒ–ï¼Œä½¿å¾—ç¦»ç¾¤è¾¹ç¼˜çš„æƒé‡è¾ƒå°ï¼Œè¿™æ ·è¿™äº›ç¦»ç¾¤ç›¸å¯¹å§¿æ€å°±ä¸ä¼šå½±å“æœ€ç»ˆçš„å…¨å±€å§¿æ€)</em><ul><li>Weight initialization</li><li>Pose synchronization, ç»™å®šedge weights å’Œ input relative posesæ±‚è§£global scan poses<ul><li>Rotation synchronization, ref:  Global Motion Estimation from Point Matches</li><li>Translation synchronization, ref:  Learning Transformation Synchronization æœ€å°äºŒä¹˜æ³•æ±‚è§£</li></ul></li><li>History reweighting function</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231017215645.png" alt="image.png|444"></p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>æˆ‘ä»¬åœ¨ä¸‰ä¸ªå¹¿æ³›ä½¿ç”¨çš„åŸºå‡†ä¸Šè¯„ä¼°æˆ‘ä»¬çš„æ–¹æ³•:3DMatch/3DLoMatchæ•°æ®é›†[28,59]ï¼ŒScanNetæ•°æ®é›†[16]å’ŒETHæ•°æ®é›†[44]</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231018170845.png" alt="image.png|666"><br>æˆ‘ä»¬çš„å…¨å±€ç‰¹å¾æå–ç½‘ç»œæ¶æ„å¦‚å›¾A.1æ‰€ç¤ºã€‚æˆ‘ä»¬é‡‡ç”¨ä¸[49]æ¶æ„ç›¸åŒçš„YOHOè¿›è¡Œ32ç‚¹å±€éƒ¨ç‰¹å¾æå–ã€‚æ›´å¤šçš„å±€éƒ¨ç‰¹å¾æå–ç»†èŠ‚å¯ä»¥åœ¨[49]ä¸­æ‰¾åˆ°ã€‚æå–çš„å±€éƒ¨ç‰¹å¾é€šè¿‡NetVLADå±‚èšåˆä¸ºå…¨å±€ç‰¹å¾[3]ã€‚æˆ‘ä»¬å°†netvladä¸­çš„é›†ç¾¤æ•°é‡è®¾ç½®ä¸º64ï¼Œå› æ­¤å…¨å±€ç‰¹å¾çš„ç»´åº¦ä¸º2048ã€‚è¯·å‚è€ƒ[3]äº†è§£æ›´å¤šçš„å…¨å±€ç‰¹å¾èšåˆç»†èŠ‚ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨é¢„è®­ç»ƒå¥½çš„YOHO[49]è¿›è¡Œå±€éƒ¨ç‰¹å¾æå–ï¼Œå¹¶ä½¿ç”¨3DMatch[59]è®­ç»ƒåˆ†å‰²ä¸­çš„46ä¸ªåœºæ™¯è®­ç»ƒN etVLADå±‚ã€‚æˆ‘ä»¬é‡‡ç”¨ä»¥ä¸‹æ•°æ®æ‰©å……ã€‚å¯¹äº3DMatchè®­ç»ƒé›†ä¸­çš„æ¯ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬é¦–å…ˆéšæœºæŠ½å–Î±âˆˆ[8,60]æ‰«æä½œä¸ºå›¾èŠ‚ç‚¹ã€‚ç„¶åï¼Œåœ¨æ¯æ¬¡æ‰«æä¸­ï¼Œæˆ‘ä»¬éšæœºæŠ½å–Î²âˆˆ[1024,5000]ä¸ªå…³é”®ç‚¹æ¥æå–YOHOç‰¹å¾ã€‚å°†Î±æ‰«æçš„å±€éƒ¨ç‰¹å¾è¾“å…¥åˆ°NetVLADä¸­æå–Î±æ‰«æçš„å…¨å±€ç‰¹å¾ã€‚ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡ç©·åˆ—å…³è”æ¯ä¸¤ä¸ªå…¨å±€ç‰¹å¾æ¥è®¡ç®—Î±2é‡å åˆ†æ•°ï¼Œå¹¶è®¡ç®—çœŸå®é‡å æ¯”ç‡ä¸é¢„æµ‹é‡å åˆ†æ•°ä¹‹é—´çš„L1è·ç¦»ä½œä¸ºè®­ç»ƒæŸå¤±ã€‚æˆ‘ä»¬å°†æ‰¹å¤§å°è®¾ç½®ä¸º1ï¼Œå¹¶ä½¿ç”¨å­¦ä¹ ç‡ä¸º1e-3çš„Adamä¼˜åŒ–å™¨ã€‚å­¦ä¹ ç‡æ¯50ä¸ªå†å…ƒå‘ˆæŒ‡æ•°è¡°å‡0.7å€ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬è®­ç»ƒäº†netv LAD 300ä¸ªepochã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„å¤šè§†ç‚¹äº‘é…å‡†æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„å…³é”®æ˜¯åŸºäºå­¦ä¹ çš„ç¨€ç–å§¿æ€å›¾æ„å»ºï¼Œè¯¥æ–¹æ³•å¯ä»¥ä¼°è®¡ä¸¤æ¬¡æ‰«æä¹‹é—´çš„é‡å æ¯”ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé€‰æ‹©é«˜é‡å çš„æ‰«æå¯¹æ¥<strong>æ„å»ºç¨€ç–ä½†å¯é çš„å›¾</strong>ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæå‡ºäº†ä¸€ç§æ–°çš„<strong>å†å²åŠ æƒå‡½æ•°</strong>ï¼Œæé«˜äº†IRLSæ–¹æ¡ˆå¯¹å¼‚å¸¸å€¼çš„é²æ£’æ€§ï¼Œå¹¶å¯¹å§¿æ€æ ¡æ­£æœ‰è¾ƒå¥½çš„æ”¶æ•›æ€§ã€‚æ‰€æå‡ºçš„æ–¹æ³•åœ¨å®¤å†…å’Œå®¤å¤–æ•°æ®é›†ä¸Šéƒ½å…·æœ‰æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œè€Œä¸”é…å¯¹é…å‡†çš„æ¬¡æ•°è¦å°‘å¾—å¤šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PointCloud </tag>
            
            <tag> Registration </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Basics about 3D Reconstruction</title>
      <link href="/3DReconstruction/Basics%20about%203D%20Reconstruction/"/>
      <url>/3DReconstruction/Basics%20about%203D%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<p>3D Reconstruction ç›¸å…³æ•°å­¦æ–¹æ³•</p><span id="more"></span><h1 id="Framework"><a href="#Framework" class="headerlink" title="Framework"></a>Framework</h1><ul><li>ç›¸æœºå†…å¤–æƒ¨ï¼šè¿æ¥åƒç´ åæ ‡ç³»ä¸ç©ºé—´åæ ‡ç³»ä¹‹é—´çš„è®¡ç®—</li><li>éšå¼implicitåœºï¼šé€šè¿‡ä¸€ä¸ªéšå¼è¡¨ç¤ºçš„å‡½æ•°è¡¨ç¤ºç‰©ä½“/åœºæ™¯ï¼Œä½¿ç”¨MLPæ¥å­¦ä¹ ç©ºé—´çš„éšå¼å‡½æ•°<ul><li>å¯†åº¦åœºï¼Œè¡¨ç¤ºè¯¥ç©ºé—´ç‚¹çš„å¯†åº¦</li><li>SDF $sdf=F(x,y,z)=0$ï¼Œè¡¨ç¤ºè¯¥ç©ºé—´ç‚¹ç¦»ç‰©ä½“è¡¨é¢çš„æœ€è¿‘è·ç¦»</li></ul></li><li>ç¼–ç ï¼šç”±äºç›´æ¥ä½¿ç”¨è¾“å…¥åæ ‡xyzï¼Œç½‘ç»œæ— æ³•å¾ˆå¥½åœ°å­¦ä¹ ä½é¢‘ç‰¹å¾ï¼Œéœ€è¦å°†å…¶è¿›è¡Œé«˜é¢‘ç¼–ç </li><li>ç©ºé—´ç‚¹é‡‡æ ·ï¼šé€†å˜æ¢é‡‡æ ·CDF</li><li>ä½“æ¸²æŸ“ï¼šå°†æ²¿ç€å…‰çº¿ç©ºé—´é‡‡æ ·ç‚¹çš„é¢œè‰²å’Œå¯†åº¦ç§¯åˆ†ä¸ºåƒç´ é¢œè‰²</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231219125859.png" alt="image.png|666"></p><h1 id="ä½“æ¸²æŸ“å‡½æ•°"><a href="#ä½“æ¸²æŸ“å‡½æ•°" class="headerlink" title="ä½“æ¸²æŸ“å‡½æ•°"></a>ä½“æ¸²æŸ“å‡½æ•°</h1><p>Ray: $\mathbf{r} = \mathbf{o} +t\mathbf{d}$</p><p>å¯†åº¦åœº:ï¼ˆNeRFï¼‰<br>$\mathrm{C}(r)=\int_{\mathrm{t}_{\mathrm{n}}}^{\mathrm{t}_{\mathrm{f}}} \mathrm{T}(\mathrm{t}) \sigma(\mathrm{r}(\mathrm{t})) \mathrm{c}(\mathrm{r}(\mathrm{t}), \mathrm{d}) \mathrm{dt}$</p><ul><li>$\mathrm{T}(\mathrm{t})=\exp \left(-\int_{\mathrm{t}_{\mathrm{n}}}^{\mathrm{t}} \sigma(\mathrm{r}(\mathrm{s})) \mathrm{ds}\right)$</li><li>ç´¯è®¡é€å°„ç‡$T(t)$å¯ä»¥ä¿è¯ç¦»ç›¸æœºä½ç½®è¿‘çš„åœ°æ–¹æœ‰æ›´å¤§çš„æƒé‡(ä¸€æ¡å…‰çº¿å‰é¢çš„ç‚¹é®æŒ¡åé¢çš„ç‚¹)<br>ç¦»æ•£åŒ–ï¼š$\hat{C}(\mathbf{r})=\sum_{i=1}^{N} T_{i}\alpha_{i}\mathbf{c}_{i}=\sum_{i=1}^{N} T_{i}\left(1-\exp \left(-\sigma_{i} \delta_{i}\right)\right) \mathbf{c}_{i}$  </li><li>$T_{i}=\exp \left(-\sum_{j=1}^{i-1} \sigma_{j} \delta_{j}\right)=\prod_{j=1}^{i-1}(1-\alpha_j)$ </li></ul><p>ç¬¦å·è·ç¦»å‡½æ•°SDFï¼š(NeuS)<br>$C(\mathbf{o},\mathbf{v})=\int_{0}^{+\infty}w(t)c(\mathbf{p}(t),\mathbf{d})\mathrm{d}t$</p><ul><li>$\omega(t)=T(t)\rho(t),\text{where}T(t)=\exp\left(-\int_0^t\rho(u)\mathrm{d}u\right)$ </li><li>$\rho(t)=\max\left(\frac{-\frac{\mathrm{d}\Phi_s}{\mathrm{d}t}(f(\mathbf{p}(t)))}{\Phi_s(f(\mathbf{p}(t)))},0\right)$<br>ç¦»æ•£åŒ–ï¼š$\hat{C}=\sum_{i=1}^n T_i\alpha_i c_i$</li><li>$T_i=\prod_{j=1}^{i-1}(1-\alpha_j)$</li><li>$\alpha_i=\max\left(\frac{\Phi_s(f(\mathbf{p}(t_i))))-\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right)$</li></ul><h1 id="åæ ‡å˜æ¢"><a href="#åæ ‡å˜æ¢" class="headerlink" title="åæ ‡å˜æ¢"></a>åæ ‡å˜æ¢</h1><blockquote><p><a href="https://shichaoxin.com/2022/12/07/%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A-%E7%9B%B8%E6%9C%BA%E6%A0%87%E5%AE%9A%E5%8E%9F%E7%90%86/">ã€ç›¸æœºæ ‡å®šã€‘ç›¸æœºæ ‡å®šåŸç† - welcome to x-jeff blog</a> ç›¸æœºå†…å¤–å‚+å¾„åˆ‡å‘ç•¸å˜</p></blockquote><h2 id="çŸ©é˜µçš„QRåˆ†è§£"><a href="#çŸ©é˜µçš„QRåˆ†è§£" class="headerlink" title="çŸ©é˜µçš„QRåˆ†è§£"></a>çŸ©é˜µçš„QRåˆ†è§£</h2><p>QRåˆ†è§£å¯ä»¥å°†ä»»ä½•å®æ•°æ–¹é˜µåˆ†è§£æˆä¸€ä¸ªæ­£äº¤çŸ©é˜µQä¸ä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µRçš„ç§¯</p><p>$A=QR$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This function is borrowed from IDR: https://github.com/lioryariv/idr</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_K_Rt_from_P</span>(<span class="params">P=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="comment"># P : 3x4</span></span><br><span class="line">    out = cv.decomposeProjectionMatrix(P) <span class="comment"># åŸºäºQRåˆ†è§£</span></span><br><span class="line">    K = out[<span class="number">0</span>] <span class="comment"># 3x3</span></span><br><span class="line">    R = out[<span class="number">1</span>] <span class="comment"># 3x3</span></span><br><span class="line">    t = out[<span class="number">2</span>] <span class="comment"># 3x1</span></span><br><span class="line"></span><br><span class="line">    K = K / K[<span class="number">2</span>, <span class="number">2</span>]</span><br><span class="line">    intrinsics = np.eye(<span class="number">4</span>)</span><br><span class="line">    intrinsics[:<span class="number">3</span>, :<span class="number">3</span>] = K <span class="comment"># intrinsics: 4x4 ä¸ºç›¸æœºå†…å‚çŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">    pose = np.eye(<span class="number">4</span>, dtype=np.float32)</span><br><span class="line">    pose[:<span class="number">3</span>, :<span class="number">3</span>] = R.transpose()</span><br><span class="line">    pose[:<span class="number">3</span>, <span class="number">3</span>] = (t[:<span class="number">3</span>] / t[<span class="number">3</span>])[:, <span class="number">0</span>] <span class="comment"># pose: 4x4 ä¸ºç›¸æœºå¤–å‚çŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> intrinsics, pose</span><br><span class="line">  </span><br><span class="line">P = (world_mat @ scale_mat)[:<span class="number">3</span>, :<span class="number">4</span>] <span class="comment"># ws2pçŸ©é˜µ</span></span><br><span class="line">intrinsics, pose = load_K_Rt_from_P(P) <span class="comment"># å°† ws2pçŸ©é˜µåˆ†è§£ä¸º c2på’Œc2wsçŸ©é˜µ</span></span><br></pre></td></tr></table></figure><ul><li>world_mat ä¸º w2pçŸ©é˜µ</li><li>scale_mat ä¸º ws2wçŸ©é˜µï¼Œå…¶ä¸­wsæ˜¯å•ä½boxåæ ‡ç³»ï¼Œåæ ‡åŸç‚¹åœ¨boxä¸­å¿ƒ</li><li>intrinsics ä¸ºç›¸æœºå†…å‚çŸ©é˜µï¼Œcamera to pixel</li><li>pose ä¸ºé€†ç›¸æœºå¤–å‚çŸ©é˜µï¼Œ camera to world (scaled)</li></ul><p>ä¸‰ä¸ªåæ ‡ç³»ï¼šåƒç´ Pixel | ç›¸æœºCamera | ä¸–ç•ŒWorld</p><h2 id="ç›¸æœºå†…å‚çŸ©é˜µc2p"><a href="#ç›¸æœºå†…å‚çŸ©é˜µc2p" class="headerlink" title="ç›¸æœºå†…å‚çŸ©é˜µc2p"></a>ç›¸æœºå†…å‚çŸ©é˜µc2p</h2><blockquote><p>ç†è§£ä¸<a href="https://blog.csdn.net/OrdinaryMatthew/article/details/126670351">NeRF OpenCV OpenGL COLMAP DeepVoxelsåæ ‡ç³»æœå‘_nerfåæ ‡ç³»_åŸ¹ä¹‹çš„åšå®¢-CSDNåšå®¢</a>ä¸€è‡´</p></blockquote><p>ä¸åŒè½¯ä»¶çš„ç›¸æœºåæ ‡æœå‘ä¸åŒ</p><ul><li>NeRFé‡‡ç”¨ä¸ OPENGL å’Œ Blenderç›¸åŒçš„æœå‘</li><li>NeuSé‡‡ç”¨ä¸ COLMAP ç›¸åŒçš„æœå‘</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703144039.png" alt="image.png|444"></p><p>åƒç´ åæ ‡åˆ°ç›¸æœºåæ ‡ï¼š<br>$\mathbf{p_c}=\begin{bmatrix}\dfrac{1}{f}&amp;0&amp;-\dfrac{W}{2\cdot f}\\0&amp;\dfrac{1}{f}&amp;-\dfrac{H}{2\cdot f}\\0&amp;0&amp;1\end{bmatrix}\begin{pmatrix}i\\j\\1\end{pmatrix}=\begin{pmatrix}\dfrac{i-\dfrac{W}{2}}{f}\\\dfrac{j-\dfrac{H}{2}}{f}\\1\end{pmatrix}$</p><div class="table-container"><table><thead><tr><th>Method</th><th>Pixel &lt;â€”&gt; Camera coordinate</th></tr></thead><tbody><tr><td>NeRF</td><td>$\vec d = \begin{pmatrix} \frac{i-\frac{W}{2}}{f} \\ -\frac{j-\frac{H}{2}}{f} \\ -1 \\ \end{pmatrix}$ , $intrinsics = K = \begin{bmatrix} f &amp; 0 &amp; \frac{W}{2}  \\ 0 &amp; f &amp; \frac{H}{2}  \\ 0 &amp; 0 &amp; 1 \\ \end{bmatrix}$</td></tr><tr><td>Neus</td><td>$\vec d = intrinsics^{-1} \times  pixel = \begin{bmatrix} \frac{1}{f} &amp; 0 &amp; -\frac{W}{2 \cdot f}  \\ 0 &amp; \frac{1}{f} &amp; -\frac{H}{2 \cdot f} \\ 0 &amp; 0 &amp; 1 \\ \end{bmatrix} \begin{pmatrix} i \\ j \\ 1 \\ \end{pmatrix} = \begin{pmatrix} \frac{i-\frac{W}{2}}{f} \\ \frac{j-\frac{H}{2}}{f} \\ 1 \\ \end{pmatrix}$</td></tr></tbody></table></div><p>å¯ä»¥åœ¨pixelæ±‚cameraåæ ‡æ—¶ç›´æ¥æ±‚åyzè½´çš„æœå‘ï¼Œ<code>directions = torch.stack([(i - cx) / fx, -(j - cy) / fy, -torch.ones_like(i)], -1) # (H, W, 3)</code>ï¼Œæˆ–è€…ä¹Ÿå¯åœ¨c2wçŸ©é˜µä¸­ç›´æ¥ä¿®æ”¹ï¼Œç¬¬ä¸€åˆ—å’Œç¬¬ä¸‰åˆ—æ±‚åï¼Œ<code>c2w_[:3,1:3] *= -1. # flip input sign</code></p><p>ç”±äºNeuSä½¿ç”¨çš„DTUæ•°æ®é›†/è‡ªåˆ¶æ•°æ®é›†æ˜¯ä¸COLMAPç›¸åŒçš„ç›¸æœºæœå‘ï¼Œå› æ­¤ä¸ç”¨è¿›è¡Œå˜æ¢ã€‚</p><h2 id="ç›¸æœºå¤–å‚çŸ©é˜µw2c"><a href="#ç›¸æœºå¤–å‚çŸ©é˜µw2c" class="headerlink" title="ç›¸æœºå¤–å‚çŸ©é˜µw2c"></a>ç›¸æœºå¤–å‚çŸ©é˜µw2c</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/642715876">ç›¸æœºä½å§¿(camera pose)ä¸å¤–å‚çŸ©é˜µ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>colmapå¤„ç†å¾—åˆ°çš„<code>/colmap/sparse/0</code>ä¸­æ–‡ä»¶cameras, images, points3D.bin or .txt<br>å…¶ä¸­images.binä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># IMAGE_ID, QW, QX, QY, QZ, TX, TY, TZ, CAMERA_ID, NAME</span><br><span class="line"># POINTS2D[] as (X, Y, POINT3D_ID)</span><br><span class="line"># Number of images: 2, mean observations per image: 2</span><br></pre></td></tr></table></figure><p>ç”±å››å…ƒæ•°å¾—åˆ°æ—‹è½¬å’Œä½ç§»çŸ©é˜µ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">R = | <span class="number">1</span> - <span class="number">2</span>*(qy^<span class="number">2</span> + qz^<span class="number">2</span>)   <span class="number">2</span>*(qx*qy - qw*qz)   <span class="number">2</span>*(qx*qz + qw*qy) |</span><br><span class="line">    | <span class="number">2</span>*(qx*qy + qw*qz)     <span class="number">1</span> - <span class="number">2</span>*(qx^<span class="number">2</span> + qz^<span class="number">2</span>) <span class="number">2</span>*(qy*qz - qw*qx) |</span><br><span class="line">    | <span class="number">2</span>*(qx*qz - qw*qy)     <span class="number">2</span>*(qy*qz + qw*qx)   <span class="number">1</span> - <span class="number">2</span>*(qx^<span class="number">2</span> + qy^<span class="number">2</span>) |</span><br><span class="line"></span><br><span class="line">t = [[TX], </span><br><span class="line">    [TY], </span><br><span class="line">    [TZ]]</span><br></pre></td></tr></table></figure><p>æ¨ªå‘catRå’Œtå¾—åˆ°ï¼š<code>w2c = [R, t]</code></p><p>$c2w = \left[\begin{array}{c|c}\mathbf{R}_{c}&amp;\mathbf{C}\\\hline\mathbf{0}&amp;1\\\end{array}\right]$</p><p><strong>c2wçŸ©é˜µçš„å€¼ç›´æ¥æè¿°äº†ç›¸æœºåæ ‡ç³»çš„æœå‘å’ŒåŸç‚¹</strong>ï¼Œå› æ­¤ç§°ä¸ºç›¸æœºä½å§¿ã€‚</p><ul><li>å…·ä½“çš„ï¼Œæ—‹è½¬çŸ©é˜µçš„ç¬¬ä¸€åˆ—åˆ°ç¬¬ä¸‰åˆ—åˆ†åˆ«è¡¨ç¤ºäº†ç›¸æœºåæ ‡ç³»çš„X, Y, Zè½´åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹å¯¹åº”çš„æ–¹å‘ï¼›</li><li>å¹³ç§»å‘é‡è¡¨ç¤ºçš„æ˜¯ç›¸æœºåŸç‚¹åœ¨ä¸–ç•Œåæ ‡ç³»çš„å¯¹åº”ä½ç½®ã€‚</li></ul><p>$w2c = \left[\begin{array}{c|c}\mathbf{R}&amp;t\\\hline\mathbf{0}&amp;1\end{array}\right] = \left[\begin{array}{c|c}\mathbf{R}_{c}^{\top}&amp;-\mathbf{R}_{c}^{\top}\mathbf{C}\\\hline\mathbf{0}&amp;1\\\end{array}\right]$</p><p>$\mathbf{d_{w}}= \begin{bmatrix}r_{11}&amp;r_{12}&amp;r_{13}&amp;t_x\\ r_{21}&amp;r_{22}&amp;r_{23}&amp;t_y\\ r_{31}&amp;r_{32}&amp;r_{33}&amp;t_z\\ 0&amp;0&amp;0&amp;1\end{bmatrix} \begin{bmatrix}X_w\\Y_w\\Z_w\\1\end{bmatrix} = \begin{bmatrix}X_c\\Y_c\\Z_c\\1\end{bmatrix}$</p><p>$\mathbf{o_w}=\begin{bmatrix}r_{11}&amp;r_{12}&amp;r_{13}&amp;t_x\\ r_{21}&amp;r_{22}&amp;r_{23}&amp;t_y\\ r_{31}&amp;r_{32}&amp;r_{33}&amp;t_z\\ 0&amp;0&amp;0&amp;1\end{bmatrix} \begin{pmatrix}0\\0\\0\\1\end{pmatrix} = \begin{pmatrix}t_x\\t_y\\t_z\\1\end{pmatrix}$</p><p>åŒç†ç”±äºRè½¬ç½®ä¸º$R_c$ï¼Œå› æ­¤åœ¨w2cä¸­ï¼Œç¬¬ä¸€è¡Œçš„Xä¸ºç›¸æœºåæ ‡ç³»çš„Xè½´åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹å¯¹åº”æ–¹å‘</p><p>$w2c = [R ,t] = \begin{bmatrix} X &amp; t_{x}  \\ Y &amp; t_{y} \\ Z &amp; t_{z} \\ \end{bmatrix}$</p><p>$t=(t_{x},t_{y},t_{z})^{\top}$ä¸ºä¸–ç•Œåæ ‡ç³»åŸç‚¹åœ¨ç›¸æœºåæ ‡ç³»ä¸‹çš„ä½ç½®</p><p>i.e.: </p><ul><li>$\mathbf{R} = \mathbf{R}_{c}^{\top}$ &lt;==&gt; $\mathbf{R}_{c} = \mathbf{R}^{\top}$</li><li>$t = - \mathbf{R}_{c}^{\top}\mathbf{C}$ &lt;==&gt; $\mathbf{C} = - \mathbf{R}_{c} t$</li></ul><h4 id="Neus-pose"><a href="#Neus-pose" class="headerlink" title="Neus(pose)"></a>Neus(pose)</h4><p>åœ¨colmap_read_model.pyä¸­è¯»å–colmapæ–‡ä»¶ä¿¡æ¯ï¼Œå¾—åˆ°w2cå¹¶è½¬æ¢ä¸ºc2w<br>åœ¨gen_cameras.pyä¸­å°†c2wè½¬æ¢ä¸ºw2cï¼Œç„¶åworld_mat = intrinsic @ w2c = w2p<br>åœ¨Dataset()ä¸­ï¼š</p><ul><li>åŠ è½½world_mat(w2p)ï¼Œ</li><li>P = world_mat @ scale_mat(ws2w) = ws2p</li><li>å¯¹Pè¿›è¡ŒdecomposeProjectionMatrixï¼Œå¾—åˆ°intrinsics(c2p)å’Œpose(c2ws)<ul><li>ä½¿ç”¨c2wsæ—¶å¯¹ä¸–ç•Œåæ ‡è¿›è¡Œç¼©æ”¾ï¼Œ<strong>ä½¿å¾—è®­ç»ƒæ—¶æ„Ÿå…´è¶£ç‰©ä½“åœ¨å•ä½åæ ‡ç³»å†…</strong></li></ul></li></ul><p>intrinsicï¼š(pixel to camera)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fx, fy, cx, cy = intrinsics[<span class="number">0</span>,<span class="number">0</span>] * factor, intrinsics[<span class="number">1</span>,<span class="number">1</span>] * factor, intrinsics[<span class="number">0</span>,<span class="number">2</span>] * factor, intrinsics[<span class="number">1</span>,<span class="number">2</span>] * factor</span><br><span class="line"><span class="comment"># OPENGL or Blender or NeRF éœ€è¦ä¿®æ”¹æ–¹å‘</span></span><br><span class="line"><span class="comment"># directions = torch.stack([(i - cx) / fx, -(j - cy) / fy, -torch.ones_like(i)], -1) # (H, W, 3)</span></span><br><span class="line"><span class="comment"># neus or COLMAP: </span></span><br><span class="line">directions = torch.stack([(i - cx) / fx, (j - cy) / fy, torch.ones_like(i)], -<span class="number">1</span>) <span class="comment"># (H, W, 3)</span></span><br></pre></td></tr></table></figure><p>poseï¼šï¼ˆcamera to scaled worldï¼‰</p><ul><li><code>rays_v = pose[:3,:3] @ directions_cams</code></li><li><code>rays_o = pose[:3, 3].expand(rays_v.shape)</code></li></ul><h4 id="NeRO"><a href="#NeRO" class="headerlink" title="NeRO"></a>NeRO</h4><p>åœ¨database.pyçš„_normalizeä¸­ï¼Œå¯¹self.poses(w2c)ä½œå˜æ¢ï¼Œä½¿å¾—å˜æ¢åçš„self.posesä¸ºwâ€™2cï¼Œå³æ–°çš„ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»çš„å˜æ¢<br>å…¶ä¸­w2cä¹Ÿä¹˜ä»¥äº†scaleï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†ä½¿å¾—c2wæ—¶å¯¹ä¸–ç•Œåæ ‡è¿›è¡Œç¼©æ”¾<code>/scale_mat</code>ï¼Œ<strong>ä½¿å¾—è®­ç»ƒæ—¶æ„Ÿå…´è¶£ç‰©ä½“åœ¨å•ä½åæ ‡ç³»å†…</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pose w2c --&gt; w&#x27;2c</span></span><br><span class="line"><span class="comment"># x3 = R_rec @ (scale * (x0 + offset))</span></span><br><span class="line"><span class="comment"># R_rec.T @ x3 / scale - offset = x0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pose [R,t] x_c = R @ x0 + t</span></span><br><span class="line"><span class="comment"># pose [R,t] x_c = R @ (R_rec.T @ x3 / scale - offset) + t</span></span><br><span class="line"><span class="comment"># x_c = R @ R_rec.T @ x3 + (t - R @ offset) * scale</span></span><br><span class="line"><span class="comment"># R_new = R @ R_rec.T    t_new = (t - R @ offset) * scale</span></span><br><span class="line"><span class="keyword">for</span> img_id, pose <span class="keyword">in</span> self.poses.items():</span><br><span class="line">    R, t = pose[:,:<span class="number">3</span>], pose[:,<span class="number">3</span>]</span><br><span class="line">    R_new = R @ R_rec.T</span><br><span class="line">    t_new = (t - R @ offset) * scale</span><br><span class="line">    self.poses[img_id] = np.concatenate([R_new, t_new[:,<span class="literal">None</span>]], -<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>pose: w2c (3,4)</p><p>$w2c = \left[\begin{array}{c|c}\mathbf{R}&amp;t\\\hline\mathbf{0}&amp;1\end{array}\right] = \left[\begin{array}{c|c}\mathbf{R}_{c}^{\top}&amp;-\mathbf{R}_{c}^{\top}\mathbf{C}\\\hline\mathbf{0}&amp;1\\\end{array}\right]$<br>i.e.: </p><ul><li>$\mathbf{R} = \mathbf{R}_{c}^{\top}$ &lt;==&gt; $\mathbf{R}_{c} = \mathbf{R}^{\top}$</li><li>$t = - \mathbf{R}_{c}^{\top}\mathbf{C}$ &lt;==&gt; $\mathbf{C} = - \mathbf{R}_{c} t$</li></ul><p>$\mathbf{C} = - \mathbf{R}^{\top} t$<br>ä¸–ç•Œåæ ‡ç³»ä¸‹ç›¸æœºåŸç‚¹C: <code>rays_o = poses[:, :, :3].permute(0, 2, 1) @ -poses[:, :, 3:]</code></p><p>ä¸–ç•Œåæ ‡ç³»ä¸‹å…‰çº¿æ–¹å‘ï¼š<code>rays_d = poses[idxs, :, :3].permute(0, 2, 1) @ rays_d.unsqueeze(-1)</code> # (rays_d = ray_batch[â€˜dirsâ€™])</p><h1 id="é•œé¢åå°„"><a href="#é•œé¢åå°„" class="headerlink" title="é•œé¢åå°„"></a>é•œé¢åå°„</h1><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/BRDF.png" alt="BRDF.png|666"></p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/21376124">åŸºäºç‰©ç†ç€è‰²ï¼šBRDF - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>Phong Reflection Model<br>$I_{Phong}=k_{a}I_{a}+k_{d}(n\cdot l)I_{d}+k_{s}(r\cdot v)^{\alpha}I_{s}$</p><ul><li>å…¶ä¸­ä¸‹æ ‡$a$è¡¨ç¤ºç¯å¢ƒå…‰ï¼ˆAmbient Lightï¼‰ï¼Œä¸‹æ ‡$d$è¡¨ç¤ºæ¼«å°„å…‰ï¼ˆDiffuse Lightï¼‰ï¼Œä¸‹æ ‡$s$è¡¨ç¤ºé•œé¢å…‰ï¼ˆSpecular Lightï¼‰ï¼Œ$k$è¡¨ç¤ºåå°„ç³»æ•°æˆ–è€…æè´¨é¢œè‰²ï¼Œ$I$è¡¨ç¤ºå…‰çš„é¢œè‰²æˆ–è€…äº®åº¦ï¼Œ$\alpha$å¯ä»¥æ¨¡æ‹Ÿè¡¨é¢ç²—ç³™ç¨‹åº¦ï¼Œå€¼è¶Šå°è¶Šç²—ç³™ï¼Œè¶Šå¤§è¶Šå…‰æ»‘</li><li>å…¥å°„æ–¹å‘$\mathbf{l}$ï¼Œåå°„æ–¹å‘$\mathbf{r} = 2(\mathbf{n} \cdot \mathbf{l})\mathbf{n} - \mathbf{l}$ï¼Œæ³•å‘é‡$\mathbf{n}$</li><li><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230803205658.png" alt="image.png"></p></li><li><p>æ¼«å°„å…‰å’Œé«˜å…‰åˆ†åˆ«ä¼šæ ¹æ®å…¥å°„æ–¹å‘ã€åå°„æ–¹å‘å’Œè§‚å¯Ÿæ–¹å‘çš„å˜åŒ–è€Œå˜åŒ–ï¼Œè¿˜å¯ä»¥é€šè¿‡$\alpha$å‚æ•°æ¥è°ƒèŠ‚è¡¨é¢ç²—ç³™ç¨‹åº¦ï¼Œä»è€Œæ§åˆ¶é«˜å…‰åŒºåŸŸå¤§å°å’Œé”åˆ©ç¨‹åº¦ï¼Œè€Œä¸”è¿ç®—ç®€å•ï¼Œé€‚åˆå½“æ—¶çš„è®¡ç®—æœºå¤„ç†èƒ½åŠ›ã€‚</p></li></ul><h3 id="Blinn-Phong-Reflection-Model"><a href="#Blinn-Phong-Reflection-Model" class="headerlink" title="Blinn-Phong Reflection Model"></a>Blinn-Phong Reflection Model</h3><p>$I_{Blinn-Phong}=k_aI_a+k_d(n\cdot l)I_d+k_s(n\cdot h)^\alpha I_s$</p><ul><li>åŠè§’å‘é‡$\mathbf{h}$ä¸ºå…‰çº¿å…¥å°„å‘é‡å’Œè§‚å¯Ÿå‘é‡çš„ä¸­é—´å‘é‡ï¼š$h=\frac{l+v}{||l+v||}$</li><li>Blinn-Phongç›¸æ¯”Phongï¼Œåœ¨è§‚å¯Ÿæ–¹å‘è¶‹å‘å¹³è¡Œäºè¡¨é¢æ—¶ï¼Œé«˜å…‰å½¢çŠ¶ä¼šæ‹‰é•¿ï¼Œæ›´æ¥è¿‘çœŸå®æƒ…å†µã€‚</li></ul><h3 id="åŸºäºç‰©ç†çš„åˆ†ææ¨¡å‹"><a href="#åŸºäºç‰©ç†çš„åˆ†ææ¨¡å‹" class="headerlink" title="åŸºäºç‰©ç†çš„åˆ†ææ¨¡å‹"></a>åŸºäºç‰©ç†çš„åˆ†ææ¨¡å‹</h3><p>1967å¹´Torrance-Sparrowåœ¨Theory for Off-Specular Reflection From Roughened Surfacesä¸­ä½¿ç”¨è¾å°„åº¦å­¦å’Œå¾®è¡¨é¢ç†è®ºæ¨å¯¼å‡ºç²—ç³™è¡¨é¢çš„é«˜å…‰åå°„æ¨¡å‹ï¼Œ1981å¹´<strong>Cook-Torrance</strong>åœ¨A Reflectance Model for Computer Graphicsä¸­æŠŠè¿™ä¸ªæ¨¡å‹å¼•å…¥åˆ°è®¡ç®—æœºå›¾å½¢å­¦é¢†åŸŸï¼Œç°åœ¨æ— è®ºæ˜¯CGç”µå½±ï¼Œè¿˜æ˜¯3Dæ¸¸æˆï¼ŒåŸºäºç‰©ç†ç€è‰²éƒ½æ˜¯ä½¿ç”¨çš„è¿™ä¸ªæ¨¡å‹ã€‚<strong>Cook-Torrance</strong>ï¼šROBERT L. COOK å’Œ KENNETH E. TORRANCEï¼Œæå‡ºè¿™ä¸ªBRDFçš„æ–‡ç« å«åšã€ŠA Reflectance Model for Computer Graphicsã€‹ï¼Œå‘è¡¨äº1982å¹´ã€‚</p><blockquote><p>PBR ä¸­çš„ Cook-Torrance BRDF ä¸­ï¼ŒCook-Torrance æ˜¯è°ï¼Ÿ - æˆ¿ç‡•è‰¯çš„å›ç­” - çŸ¥ä¹ <a href="https://www.zhihu.com/question/351339310/answer/865238779">https://www.zhihu.com/question/351339310/answer/865238779</a></p></blockquote><ul><li>è¾å°„åº¦å­¦ï¼ˆRadiometryï¼‰æ˜¯åº¦é‡ç”µç£è¾å°„èƒ½é‡ä¼ è¾“çš„å­¦ç§‘ï¼Œä¹Ÿæ˜¯åŸºäºç‰©ç†ç€è‰²æ¨¡å‹çš„åŸºç¡€ã€‚<ul><li>èƒ½é‡ï¼ˆEnergyï¼‰$Q$ï¼Œå•ä½ç„¦è€³ï¼ˆ$J$ï¼‰ï¼Œæ¯ä¸ªå…‰å­éƒ½å…·æœ‰ä¸€å®šé‡çš„èƒ½é‡ï¼Œå’Œé¢‘ç‡ç›¸å…³ï¼Œé¢‘ç‡è¶Šé«˜ï¼Œèƒ½é‡ä¹Ÿè¶Šé«˜ï¼Œ(æ³¢é•¿è¶ŠçŸ­)ã€‚</li><li>åŠŸç‡ï¼ˆPowerï¼‰ï¼Œå•ä½ç“¦ç‰¹ï¼ˆWattsï¼‰ï¼Œæˆ–è€…ç„¦è€³ï¼ç§’ï¼ˆJ/sï¼‰ã€‚<ul><li>è¾å°„åº¦å­¦ä¸­ï¼Œè¾å°„åŠŸç‡ä¹Ÿè¢«ç§°ä¸º<strong>è¾å°„é€šé‡</strong>ï¼ˆRadiant Fluxï¼‰æˆ–è€…é€šé‡ï¼ˆFluxï¼‰ï¼ŒæŒ‡å•ä½æ—¶é—´å†…é€šè¿‡è¡¨é¢æˆ–è€…ç©ºé—´åŒºåŸŸçš„èƒ½é‡çš„æ€»é‡ï¼Œç”¨ç¬¦å·$Î¦$è¡¨ç¤ºï¼š$\Phi={\frac{dQ}{dt}}ã€‚$</li></ul></li><li>è¾ç…§åº¦ï¼ˆIrradianceï¼‰ï¼Œå•ä½æ—¶é—´å†…åˆ°è¾¾å•ä½é¢ç§¯çš„è¾å°„èƒ½é‡ï¼Œæˆ–<strong>åˆ°è¾¾å•ä½é¢ç§¯çš„è¾å°„é€šé‡</strong>ã€‚å•ä½$W/m^2$ ï¼Œ$E={\frac{d\Phi}{dA}}ã€‚$è¾ç…§åº¦è¡¡é‡çš„æ˜¯åˆ°è¾¾è¡¨é¢çš„é€šé‡å¯†åº¦</li><li>è¾å‡ºåº¦ï¼ˆRadiant Existanceï¼‰ï¼Œè¾å‡ºåº¦è¡¡é‡çš„æ˜¯ç¦»å¼€è¡¨é¢çš„é€šé‡å¯†åº¦<ul><li>è¾ç…§åº¦å’Œè¾å‡ºåº¦éƒ½å¯ä»¥ç§°ä¸ºè¾å°„é€šé‡å¯†åº¦ï¼ˆRadiant Flux Densityï¼‰ç¦»å…‰æºè¶Šè¿œï¼Œé€šé‡å¯†åº¦è¶Šä½</li></ul></li><li>è¾å°„å¼ºåº¦<ul><li>ç«‹ä½“è§’ï¼ˆSolid Angleï¼‰ç«‹ä½“è§’åˆ™æ˜¯åº¦é‡ä¸‰ç»´è§’åº¦çš„é‡ï¼Œç”¨ç¬¦å·$\omega$è¡¨ç¤ºï¼Œå•ä½ä¸ºç«‹ä½“å¼§åº¦ï¼ˆä¹Ÿå«çƒé¢åº¦ï¼ŒSteradianï¼Œç®€å†™ä¸ºsrï¼‰ç­‰äºç«‹ä½“è§’åœ¨å•ä½çƒä¸Šå¯¹åº”çš„åŒºåŸŸçš„é¢ç§¯ï¼ˆå®é™…ä¸Šä¹Ÿå°±æ˜¯åœ¨ä»»æ„åŠå¾„çš„çƒä¸Šçš„é¢ç§¯é™¤ä»¥åŠå¾„çš„å¹³æ–¹$\omega=\frac{s}{r^{2}}$ï¼‰ï¼Œå•ä½çƒçš„è¡¨é¢ç§¯æ˜¯$4\pi$ï¼Œæ‰€ä»¥æ•´ä¸ªçƒé¢çš„ç«‹ä½“è§’ä¹Ÿæ˜¯$4\pi$ã€‚</li><li>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå‘é‡å’Œä¸€ä¸ªç«‹ä½“è§’æ¥è¡¨ç¤ºä¸€æŸå…‰çº¿ï¼Œå‘é‡è¡¨ç¤ºè¿™æŸå…‰çº¿çš„æŒ‡å‘ï¼Œç«‹ä½“è§’è¡¨ç¤ºè¿™æŸå…‰çº¿æŠ•å°„åœ¨å•ä½çƒä¸Šçš„é¢ç§¯ï¼Œä¹Ÿå°±æ˜¯å…‰æŸçš„ç²—ç»†ã€‚</li><li>è¾å°„å¼ºåº¦ï¼ˆRadiant Intensityï¼‰ï¼ŒæŒ‡<strong>é€šè¿‡å•ä½ç«‹ä½“è§’çš„è¾å°„é€šé‡</strong>ã€‚ç”¨ç¬¦å·$I$è¡¨ç¤ºï¼Œå•ä½W/srï¼Œå®šä¹‰ä¸º$I=\frac{d\Phi}{d\omega}$</li><li>è¾å°„å¼ºåº¦ä¸ä¼šéšè·ç¦»å˜åŒ–è€Œå˜åŒ–ï¼Œä¸åƒç‚¹å…‰æºçš„è¾ç…§åº¦ä¼šéšè·ç¦»å¢å¤§è€Œè¡°å‡ï¼Œè¿™æ˜¯å› ä¸ºç«‹ä½“è§’ä¸ä¼šéšè·ç¦»å˜åŒ–è€Œå˜åŒ–ã€‚</li></ul></li><li>è¾å°„ç‡ï¼ˆRadianceï¼‰ï¼ŒæŒ‡æ¯<strong>å•ä½é¢ç§¯æ¯å•ä½ç«‹ä½“è§’çš„è¾å°„é€šé‡å¯†åº¦</strong>ã€‚ç”¨ç¬¦å·$L$è¡¨ç¤ºï¼Œå•ä½$W/m^{2}sr$ï¼Œ$L=\frac{d\Phi}{d\omega dA^{\perp}}$å…¶ä¸­$dA^{\perp}$âŠ¥æ˜¯å¾®åˆ†é¢ç§¯$dA$åœ¨å‚ç›´äºå…‰çº¿æ–¹å‘çš„æŠ•å½±ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º<ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230731202820.png" alt="image.png"></li><li><strong>è¾å°„ç‡å®é™…ä¸Šå¯ä»¥çœ‹æˆæ˜¯æˆ‘ä»¬çœ¼ç›çœ‹åˆ°ï¼ˆæˆ–ç›¸æœºæ‹åˆ°ï¼‰çš„ç‰©ä½“ä¸Šä¸€ç‚¹çš„é¢œè‰²</strong>ã€‚åœ¨åŸºäºç‰©ç†ç€è‰²æ—¶ï¼Œè®¡ç®—è¡¨é¢ä¸€ç‚¹çš„é¢œè‰²å°±æ˜¯è®¡ç®—å®ƒçš„è¾å°„ç‡ã€‚</li><li>è¾å°„ç‡ä¸ä¼šéšè·ç¦»å˜åŒ–è€Œè¡°å‡ï¼Œè¿™å’Œæˆ‘ä»¬æ—¥å¸¸æ„Ÿå—ä¸€è‡´ï¼Œåœ¨æ²¡æœ‰é›¾éœ¾çš„å¹²æ‰°æ—¶ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„ç‰©ä½“è¡¨é¢ä¸Šä¸€ç‚¹çš„é¢œè‰²å¹¶ä¸ä¼šéšè·ç¦»å˜åŒ–è€Œå˜åŒ–ã€‚<strong>ä¸ºä»€ä¹ˆè¾ç…§åº¦ä¼šéšè·ç¦»å¢å¤§è€Œè¡°å‡ï¼Œä½†æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„é¢œè‰²å´ä¸ä¼šè¡°å‡å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºéšç€è·ç¦»å˜å¤§ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„ç‰©ä½“ä¸Šçš„ä¸€å—åŒºåŸŸåˆ°è¾¾è§†ç½‘è†œçš„é€šé‡å¯†åº¦ä¼šå˜å°ï¼ŒåŒæ—¶è¿™å—åŒºåŸŸåœ¨è§†ç½‘è†œè¡¨é¢ä¸Šçš„ç«‹ä½“è§’ä¹Ÿä¼šå˜å°ï¼Œæ­£å¥½æŠµæ¶ˆäº†é€šé‡å¯†åº¦çš„å˜åŒ–ã€‚</strong></li></ul></li></ul></li></ul><h3 id="BRDF"><a href="#BRDF" class="headerlink" title="BRDF"></a>BRDF</h3><p>æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªè¡¨é¢ï¼Œå®é™…ä¸Šæ˜¯å‘¨å›´ç¯å¢ƒçš„å…‰ç…§å°„åˆ°è¡¨é¢ä¸Šï¼Œç„¶åè¡¨é¢å°†ä¸€éƒ¨åˆ†å…‰åå°„åˆ°æˆ‘ä»¬çœ¼ç›é‡Œï¼ŒåŒå‘åå°„åˆ†å¸ƒå‡½æ•°BRDFï¼ˆBidirectional Reflectance Distribution Functionï¼‰æ˜¯æè¿°è¡¨é¢å…¥å°„å…‰å’Œåå°„å…‰å…³ç³»çš„ã€‚</p><p>å¯¹äºä¸€ä¸ªæ–¹å‘çš„å…¥å°„å…‰ï¼Œè¡¨é¢ä¼šå°†å…‰åå°„åˆ°è¡¨é¢ä¸ŠåŠçƒçš„å„ä¸ªæ–¹å‘ï¼Œä¸åŒæ–¹å‘åå°„çš„æ¯”ä¾‹æ˜¯ä¸åŒçš„ï¼Œæˆ‘ä»¬ç”¨BRDFæ¥è¡¨ç¤ºæŒ‡å®šæ–¹å‘çš„åå°„å…‰å’Œå…¥å°„å…‰çš„æ¯”ä¾‹å…³ç³»</p><p>$f(l,v)=\frac{dL_{o}(v)}{dE(l)}$</p><ul><li>$l$æ˜¯å…¥å°„å…‰æ–¹å‘ï¼Œ$v$æ˜¯è§‚å¯Ÿæ–¹å‘ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å…³å¿ƒçš„åå°„å…‰æ–¹å‘ã€‚</li><li>$dL_{o}(v)$æ˜¯è¡¨é¢åå°„åˆ°$v$æ–¹å‘çš„åå°„å…‰çš„å¾®åˆ†è¾å°„ç‡ã€‚è¡¨é¢åå°„åˆ°$v$æ–¹å‘çš„åå°„å…‰çš„è¾å°„ç‡ä¸º$L_{o}(v)$ï¼Œæ¥è‡ªäºè¡¨é¢ä¸ŠåŠçƒæ‰€æœ‰æ–¹å‘çš„å…¥å°„å…‰çº¿çš„è´¡çŒ®ï¼Œè€Œå¾®åˆ†è¾å°„ç‡$dL_{o}(v)$ç‰¹æŒ‡æ¥è‡ªæ–¹å‘$l$çš„å…¥å°„å…‰è´¡çŒ®çš„åå°„è¾å°„ç‡ã€‚$W/m^{2}sr$</li><li>$dE(l)$æ˜¯è¡¨é¢ä¸Šæ¥è‡ªå…¥å°„å…‰æ–¹å‘$l$çš„å¾®åˆ†è¾ç…§åº¦ã€‚è¡¨é¢æ¥æ”¶åˆ°çš„è¾ç…§åº¦ä¸º$E(l)$ï¼Œæ¥è‡ªä¸ŠåŠçƒæ‰€æœ‰æ–¹å‘çš„å…¥å°„å…‰çº¿çš„è´¡çŒ®ï¼Œè€Œå¾®åˆ†è¾ç…§åº¦$dE(l)$ç‰¹æŒ‡æ¥è‡ªäºæ–¹å‘$l$çš„å…¥å°„å…‰ã€‚$W/m^2$ </li><li>BRDFï¼šfå•ä½ä¸º$\frac{1}{sr}$</li></ul><blockquote><p><a href="https://www.zhihu.com/question/28476602/answer/41003204">(32 å°ç§ä¿¡ / 44 æ¡æ¶ˆæ¯) brdfä¸ºä»€ä¹ˆè¦å®šä¹‰ä¸ºä¸€ä¸ªå•ä½æ˜¯sr-1çš„é‡ï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>è¡¨é¢å¯¹ä¸åŒé¢‘ç‡çš„å…‰åå°„ç‡å¯èƒ½ä¸ä¸€æ ·ï¼Œå› æ­¤BRDFå’Œå…‰çš„é¢‘ç‡æœ‰å…³ã€‚åœ¨å›¾å½¢å­¦ä¸­ï¼Œå°†BRDFè¡¨ç¤ºä¸ºRGBå‘é‡ï¼Œä¸‰ä¸ªåˆ†é‡å„æœ‰è‡ªå·±çš„$f$å‡½æ•°</p><hr><p>BRDFéœ€è¦å¤„ç†è¡¨é¢ä¸ŠåŠçƒçš„å„ä¸ªæ–¹å‘ï¼Œå¦‚ä¸‹å›¾ä½¿ç”¨<a href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Spherical_coordinate_system">çƒåæ ‡ç³»</a>å®šä¹‰æ–¹å‘æ›´åŠ æ–¹ä¾¿ã€‚çƒåæ ‡ç³»ä½¿ç”¨ä¸¤ä¸ªè§’åº¦æ¥ç¡®å®šä¸€ä¸ªæ–¹å‘ï¼š</p><ol><li>æ–¹å‘ç›¸å¯¹æ³•çº¿çš„è§’åº¦$\theta$ï¼Œç§°ä¸ºæè§’ï¼ˆPolar Angleï¼‰æˆ–å¤©é¡¶è§’ï¼ˆZenith Angleï¼‰</li><li>æ–¹å‘åœ¨å¹³é¢ä¸Šçš„æŠ•å½±ç›¸å¯¹äºå¹³é¢ä¸Šä¸€ä¸ªåæ ‡è½´çš„è§’åº¦$\phi$ï¼Œç§°ä¸ºæ–¹ä½è§’ï¼ˆAzimuthal Angleï¼‰</li></ol><p>å› æ­¤BRDFä¹Ÿå¯ä»¥å†™æˆï¼š$f(\theta_i,\phi_i,\theta_o,\phi_o)$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230731204150.png" alt="image.png"></p><p><strong>æ€ä¹ˆç”¨BRDFæ¥è®¡ç®—è¡¨é¢è¾å°„ç‡</strong></p><p>æ¥è‡ªæ–¹å‘$l$çš„å…¥å°„<strong>è¾å°„ç‡</strong>ï¼š$L_i(l)=\frac{d\Phi}{d\omega_idA^-}=\frac{d\Phi}{d\omega_idAcos\theta_i}=\frac{dE(l)}{d\omega_icos\theta_i}$<br>åˆ™ç…§å°„åˆ°è¡¨é¢æ¥è‡ªäºæ–¹å‘$l$çš„å…¥å°„å…‰è´¡çŒ®çš„<strong>å¾®åˆ†è¾ç…§åº¦</strong>ï¼š$dE(l)=L_i(l)d\omega_icos\theta_i$</p><ul><li>è¡¨é¢åå°„åˆ°$v$æ–¹å‘çš„ç”±æ¥è‡ªäºæ–¹å‘$l$çš„å…¥å°„å…‰è´¡çŒ®çš„å¾®åˆ†è¾å°„ç‡ï¼š$dL_o(v)=f(l,v)\otimes dE(l)=f(l,v)\otimes L_i(l)d\omega_icos\theta_i$</li><li>è¦è®¡ç®—è¡¨é¢åå°„åˆ°$v$æ–¹å‘çš„æ¥è‡ªä¸ŠåŠçƒæ‰€æœ‰æ–¹å‘å…¥å°„å…‰çº¿è´¡çŒ®çš„<strong>è¾å°„ç‡</strong>ï¼Œå¯ä»¥å°†ä¸Šå¼å¯¹åŠçƒæ‰€æœ‰æ–¹å‘çš„å…‰çº¿ç§¯åˆ†ï¼š$L_{o}(v)=\int_{\Omega}f(l,v)\otimes L_{i}(l)cos\theta_{i}d\omega_{i}$(è¡¨é¢åå°„è¾å°„ç‡å³æ–¹å‘$v$è§‚å¯Ÿåˆ°çš„é¢œè‰²)</li></ul><p><strong>å¯¹äºç‚¹å…‰æºã€æ–¹å‘å…‰ç­‰ç†æƒ³åŒ–çš„ç²¾å‡†å…‰æºï¼ˆPunctual Lightï¼‰</strong>ï¼Œè®¡ç®—è¿‡ç¨‹å¯ä»¥å¤§å¤§ç®€åŒ–ã€‚æˆ‘ä»¬è€ƒå¯Ÿå•ä¸ªç²¾å‡†å…‰æºç…§å°„è¡¨é¢ï¼Œæ­¤æ—¶è¡¨é¢ä¸Šçš„ä¸€ç‚¹åªä¼šè¢«æ¥è‡ªä¸€ä¸ªæ–¹å‘çš„ä¸€æ¡å…‰çº¿ç…§å°„åˆ°ï¼ˆè€Œé¢ç§¯å…‰æºç…§å°„è¡¨é¢æ—¶ï¼Œè¡¨é¢ä¸Šä¸€ç‚¹ä¼šè¢«æ¥è‡ªå¤šä¸ªæ–¹å‘çš„å¤šæ¡å…‰çº¿ç…§å°„åˆ°ï¼‰ï¼Œåˆ™è¾å°„ç‡ï¼š$L_o(v)=f(l,v)\otimes E_Lcos\theta_i$ï¼Œorå¤šæ¡å…‰çº¿ï¼š$L_{o}(v)=\sum_{k=1}^{n}f(l_{k},v)\otimes E_{L_{k}}cos\theta_{i_{k}}$</p><ul><li>è¿™é‡Œä½¿ç”¨å…‰æºçš„è¾ç…§åº¦ï¼Œå¯¹äºé˜³å…‰ç­‰å…¨å±€æ–¹å‘å…‰ï¼Œå¯ä»¥è®¤ä¸ºæ•´ä¸ªåœºæ™¯çš„è¾ç…§åº¦æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå¯¹äºç‚¹å…‰æºï¼Œè¾ç…§åº¦éšè·ç¦»çš„å¹³æ–¹è¡°å‡ï¼Œç”¨å…¬å¼$E_{L}=\frac{\Phi}{4\pi r^{2}}$å°±å¯ä»¥æ±‚å‡ºåˆ°è¾¾è¡¨é¢çš„è¾ç…§åº¦ï¼ŒÎ¦æ˜¯å…‰æºçš„åŠŸç‡ï¼Œæ¯”å¦‚100ç“¦çš„ç¯æ³¡ï¼Œræ˜¯è¡¨é¢ç¦»å…‰æºçš„è·ç¦»</li></ul><h3 id="BRDFï¼ˆMicrofacet-Theoryï¼‰"><a href="#BRDFï¼ˆMicrofacet-Theoryï¼‰" class="headerlink" title="BRDFï¼ˆMicrofacet Theoryï¼‰"></a>BRDFï¼ˆMicrofacet Theoryï¼‰</h3><p>æˆ‘ä»¬ç”¨æ³•çº¿åˆ†å¸ƒå‡½æ•°ï¼ˆNormal Distribution Functionï¼Œç®€å†™ä¸ºNDFï¼‰D(h)æ¥æè¿°ç»„æˆè¡¨é¢ä¸€ç‚¹çš„æ‰€æœ‰å¾®è¡¨é¢çš„æ³•çº¿åˆ†å¸ƒæ¦‚ç‡ï¼Œç°åœ¨å¯ä»¥è¿™æ ·ç†è§£ï¼šå‘NDFè¾“å…¥ä¸€ä¸ªæœå‘â„ï¼ŒNDFä¼šè¿”å›æœå‘æ˜¯â„çš„å¾®è¡¨é¢æ•°å å¾®è¡¨é¢æ€»æ•°çš„æ¯”ä¾‹ï¼ˆè™½ç„¶å®é™…å¹¶ä¸æ˜¯è¿™æ ·ï¼Œè¿™ç‚¹æˆ‘ä»¬åœ¨è®²æ¨å¯¼è¿‡ç¨‹çš„æ—¶å€™å†è®²ï¼‰ï¼Œæ¯”å¦‚æœ‰1%çš„å¾®è¡¨é¢æœå‘æ˜¯â„ï¼Œé‚£ä¹ˆå°±æœ‰1%çš„å¾®è¡¨é¢å¯èƒ½å°†å…‰çº¿åå°„åˆ°væ–¹å‘ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230731210724.png" alt="image.png"></p><p>å®é™…ä¸Šå¹¶ä¸æ˜¯æ‰€æœ‰å¾®è¡¨é¢éƒ½èƒ½æ”¶åˆ°æ¥å—åˆ°å…‰çº¿ï¼Œå¦‚ä¸‹é¢å·¦è¾¹çš„å›¾æœ‰ä¸€éƒ¨åˆ†å…¥å°„å…‰çº¿è¢«é®æŒ¡ä½ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºShadowingã€‚ä¹Ÿä¸æ˜¯æ‰€æœ‰åå°„å…‰çº¿éƒ½èƒ½åˆ°è¾¾çœ¼ç›ï¼Œä¸‹é¢ä¸­é—´çš„å›¾ï¼Œä¸€éƒ¨åˆ†åå°„å…‰çº¿è¢«é®æŒ¡ä½äº†ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºMaskingã€‚å…‰çº¿åœ¨å¾®è¡¨é¢ä¹‹é—´è¿˜ä¼šäº’ç›¸åå°„ï¼Œå¦‚ä¸‹é¢å³è¾¹çš„å›¾ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯ä¸€éƒ¨åˆ†æ¼«å°„å…‰çš„æ¥æºï¼Œåœ¨å»ºæ¨¡é«˜å…‰æ—¶å¿½ç•¥æ‰è¿™éƒ¨åˆ†å…‰çº¿ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230731210734.png" alt="image.png"></p><ul><li>Shadowingå’ŒMaskingç”¨å‡ ä½•è¡°å‡å› å­ï¼ˆGeometrical Attenuation Factorï¼‰$G(l,v)$æ¥å»ºæ¨¡ï¼Œè¾“å…¥å…¥å°„å’Œå‡ºå°„å…‰çº¿æ–¹å‘ï¼Œè¾“å‡ºå€¼è¡¨ç¤ºå…‰çº¿æœªè¢«é®è”½è€Œèƒ½ä»$l$åå°„åˆ°$v$æ–¹å‘çš„æ¯”ä¾‹</li><li>å…‰å­¦å¹³é¢å¹¶ä¸ä¼šå°†æ‰€æœ‰å…‰çº¿éƒ½åå°„æ‰ï¼Œè€Œæ˜¯ä¸€éƒ¨åˆ†è¢«åå°„ï¼Œä¸€éƒ¨åˆ†è¢«æŠ˜å°„ï¼Œåå°„æ¯”ä¾‹ç¬¦åˆè²æ¶…å°”æ–¹ç¨‹ï¼ˆFresnel Equationsï¼‰$F(l,h)$</li></ul><p>åˆ™BRDFé•œé¢åå°„éƒ¨åˆ†ï¼š<br>$f(l,v)=\frac{F(l,h)G(l,v)D(h)}{4cos\theta_icos\theta_o}=\frac{F(l,h)G(l,v)D(h)}{4(n\cdot l)(n\cdot v)}$</p><ul><li>nä¸ºå®è§‚è¡¨é¢æ³•çº¿</li><li>hä¸ºå¾®è¡¨é¢æ³•çº¿</li></ul><blockquote><p><a href="https://zhuanlan.zhihu.com/p/342807202">ä¸ºä»€ä¹ˆBRDFçš„æ¼«åå°„é¡¹è¦é™¤ä»¥Ï€ï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>å…‰ç…§æ¨¡å‹æœ‰å¾ˆå¤šç§<a href="https://zhuanlan.zhihu.com/p/342807202#ref_1">1</a>ï¼ŒCook-Torrance å…‰ç…§æ¨¡å‹æ˜¯æœ€å¸¸ç”¨çš„ã€‚å…‰ç…§ä¸€èˆ¬åˆ’åˆ†ä¸ºæ¼«åå°„å’Œé«˜å…‰ã€‚æ¼«åå°„æ¨¡å‹æå‡ºçš„æœ‰ <a href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Lambertian_reflectance">Lambert</a>ã€ <a href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Oren%25E2%2580%2593Nayar_reflectance_model">Oren-Nayar</a>ã€<a href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Minnaert_function">Minnaert</a> ä¸‰ç§ï¼Œå®ƒä»¬æœ‰ç€ä¸åŒçš„è®¡ç®—å…¬å¼ã€‚Cook-Torrance é‡‡ç”¨ Lambert æ¼«åå°„åçš„è®¡ç®—å¦‚ä¸‹ï¼š<br>$f=k_{d}f_{lambert}+k_{s}f_{cook-torrance},\quad f_{lambert}=\frac{c_{diffuse}}{\pi}$</p><p><strong>åç…§ç‡</strong>ï¼ˆalbedoï¼‰æ˜¯è¡Œæ˜Ÿç‰©ç†å­¦ä¸­ç”¨æ¥è¡¨ç¤ºå¤©ä½“åå°„æœ¬é¢†çš„ç‰©ç†é‡ï¼Œå®šä¹‰ä¸ºç‰©ä½“çš„<strong>è¾å°„åº¦</strong>ï¼ˆradiosityï¼‰ä¸<strong>è¾ç…§åº¦</strong>ï¼ˆirradianceï¼‰ä¹‹æ¯”ã€‚å°„æ˜¯å‡ºï¼Œç…§æ˜¯å…¥ï¼Œå‡ºå°„é‡é™¤ä»¥å…¥å°„é‡ï¼Œå¾—åˆ°<strong>æ— é‡çº²é‡</strong>ã€‚ç»å¯¹<strong>é»‘ä½“</strong>ï¼ˆblack bodyï¼‰çš„åç…§ç‡æ˜¯0ã€‚ç…¤ç‚­å‘ˆé»‘è‰²ï¼Œåç…§ç‡ æ¥è¿‘0ï¼Œå› ä¸ºå®ƒå¸æ”¶äº†æŠ•å°„åˆ°å…¶è¡¨é¢ä¸Šçš„å‡ ä¹æ‰€æœ‰å¯è§å…‰ã€‚é•œé¢å°†å¯è§å…‰å‡ ä¹å…¨éƒ¨åå°„å‡ºå»ï¼Œå…¶åç…§ç‡æ¥è¿‘1ã€‚albedo ç¿»è¯‘æˆ<strong>åç…§ç‡</strong>ï¼Œä¸ reflectanceï¼ˆ<strong>åå°„ç‡</strong>ï¼‰æ˜¯æœ‰åŒºåˆ«çš„ã€‚åå°„ç‡ç”¨æ¥è¡¨ç¤ºæŸä¸€ç§æ³¢é•¿çš„åå°„èƒ½é‡ä¸å…¥å°„èƒ½é‡ä¹‹æ¯”ï¼›è€Œåç…§ç‡ç”¨æ¥è¡¨ç¤ºå…¨æ³¢æ®µçš„åå°„èƒ½é‡ä¸å…¥å°„èƒ½é‡ä¹‹æ¯”ã€‚BRDF çš„ R æ˜¯ reflectanceï¼Œæ–¹ç¨‹ä»…å…³æ³¨ä¸€ç§æ³¢é•¿ã€‚</p><h3 id="NeROä¸­çš„BRDF"><a href="#NeROä¸­çš„BRDF" class="headerlink" title="NeROä¸­çš„BRDF"></a>NeROä¸­çš„BRDF</h3><script type="math/tex; mode=display">f(\omega_{i},\omega_{0})=\underbrace{(1-m)\frac{a}{\pi}}_{\mathrm{diffuse}}+\underbrace{\frac{DFG}{4(\omega_{i}\cdot\mathbf{n})(\omega_{0}\cdot\mathbf{n})}}_{\mathrm{specular}},</script><h4 id="Specular"><a href="#Specular" class="headerlink" title="Specular"></a>Specular</h4><p>å¾®é¢BRDFï¼Œå‚è€ƒä¸Š</p><h4 id="Diffuse"><a href="#Diffuse" class="headerlink" title="Diffuse"></a>Diffuse</h4><blockquote><p><a href="https://ciel1012.github.io/2019/05/30/pbr/">Physically Based Rendering - å°±å†³å®šæ˜¯ä½ äº† | Cielâ€™s Blog (ciel1012.github.io)</a></p></blockquote><p>specularç”¨äºæè¿°å…‰çº¿å‡»ä¸­ç‰©ä½“è¡¨é¢åç›´æ¥åå°„å›å»ï¼Œä½¿è¡¨é¢çœ‹èµ·æ¥åƒä¸€é¢é•œå­ã€‚æœ‰äº›å…‰ä¼šé€å…¥è¢«ç…§æ˜ç‰©ä½“çš„å†…éƒ¨ã€‚è¿™äº›å…‰çº¿è¦ä¹ˆè¢«ç‰©ä½“å¸æ”¶ï¼ˆé€šå¸¸è½¬æ¢ä¸ºçƒ­é‡ï¼‰ï¼Œè¦ä¹ˆåœ¨ç‰©ä½“å†…è¢«æ•£å°„ã€‚æœ‰ä¸€äº›æ•£å°„å…‰çº¿æœ‰å¯èƒ½ä¼šè¿”å›è¡¨é¢ï¼Œè¢«çœ¼çƒæˆ–ç›¸æœºæ•æ‰åˆ°ï¼Œè¿™å°±æ˜¯diffuse lightã€‚diffuseå’Œsubsurface scattering(æ¬¡è¡¨é¢æ•£å°„)æè¿°çš„éƒ½æ˜¯åŒä¸€ä¸ªç°è±¡ã€‚<br>æ ¹æ®æè´¨ï¼Œå¸æ”¶å’Œæ•£å°„çš„å…‰é€šå¸¸å…·æœ‰ä¸åŒæ³¢é•¿ï¼Œå› æ­¤<strong>ä»…æœ‰éƒ¨åˆ†å…‰è¢«å¸æ”¶ï¼Œä½¿å¾—ç‰©ä½“å…·æœ‰äº†é¢œè‰²</strong>ã€‚æ•£å°„é€šå¸¸æ˜¯æ–¹å‘éšæœºçš„ï¼Œå…·æœ‰å„å‘åŒæ€§ã€‚<strong>ä½¿ç”¨è¿™ç§è¿‘ä¼¼çš„ç€è‰²å™¨åªéœ€è¦è¾“å…¥ä¸€ä¸ªåç…§ç‡(albedo)ï¼Œç”¨æ¥æè¿°ä»è¡¨é¢æ•£å°„å›æ¥çš„å„ç§é¢œè‰²çš„å…‰çš„åˆ†é‡</strong>ã€‚Diffuse coloræœ‰æ—¶æ˜¯ä¸€ä¸ªåŒä¹‰è¯ã€‚</p><p><strong>é•œé¢åå°„å’Œæ¼«åå°„æ˜¯äº’ç›¸æ’æ–¥çš„</strong>ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœä¸€ä¸ªå…‰çº¿æƒ³è¦æ¼«åå°„ï¼Œå®ƒå¿…é¡»å…ˆé€å°„è¿›æè´¨é‡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰è¢«é•œé¢åå°„ã€‚è¿™åœ¨ç€è‰²è¯­è¨€ä¸­è¢«ç§°ä¸ºâ€œEnergy Conservationï¼ˆèƒ½é‡å®ˆæ’ï¼‰â€ï¼Œæ„æ€æ˜¯ä¸€æŸå…‰çº¿åœ¨å°„å‡ºè¡¨é¢ä»¥åç»å¯¹ä¸ä¼šæ¯”å°„å…¥è¡¨é¢æ—¶æ›´äº®ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230731212626.png" alt="image.png"></p><p>é‡‘å±åº¦ç›¸å½“äºé•œé¢åå°„ï¼Œé‡‘å±åº¦è¶Šé«˜ï¼Œé•œé¢åå°„è¶Šå¼º</p><h1 id="é‡‡æ ·æ–¹å¼"><a href="#é‡‡æ ·æ–¹å¼" class="headerlink" title="é‡‡æ ·æ–¹å¼"></a>é‡‡æ ·æ–¹å¼</h1><p>å°†åƒç´ çœ‹æˆä¸€ä¸ªç‚¹ï¼Œå°„å‡ºçš„å…‰çº¿æ˜¯ä¸€æ¡ç›´çº¿</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Network.png" alt="Network.png|666"><br>(NerfAcc)å¯å¤§è‡´åˆ†ä¸ºï¼š</p><ul><li>å¹³å‡é‡‡æ ·(ç²—é‡‡æ ·)</li><li>ç©ºé—´è·³è·ƒé‡‡æ ·(NGPä¸­å¯¹ç©ºæ°”è·³è¿‡é‡‡æ ·)</li><li>é€†å˜æ¢é‡‡æ ·(æ ¹æ®ç²—é‡‡æ ·å¾—åˆ°çš„wåˆ†å¸ƒè¿›è¡Œç²¾é‡‡æ ·)</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230711125031.png" alt="image.png|666"></p><h2 id="å¹³å‡é‡‡æ ·"><a href="#å¹³å‡é‡‡æ ·" class="headerlink" title="å¹³å‡é‡‡æ ·"></a>å¹³å‡é‡‡æ ·</h2><p>i.e. ç²—é‡‡æ ·ï¼Œåœ¨å…‰çº¿ä¸Šå¹³å‡é‡‡æ ·nä¸ªç‚¹</p><h2 id="å æ®é‡‡æ ·"><a href="#å æ®é‡‡æ ·" class="headerlink" title="å æ®é‡‡æ ·"></a>å æ®é‡‡æ ·</h2><p>Occupancy Grids<br>é€šè¿‡åœ¨æŸåˆ†è¾¨ç‡å ç”¨ç½‘æ ¼ä¸­è¿›è¡Œæ›´æ–°å ç”¨ç½‘æ ¼çš„æƒé‡ï¼Œæ¥ç¡®å®šå“ªäº›ç½‘æ ¼éœ€è¦é‡‡æ ·</p><h2 id="é€†å˜æ¢é‡‡æ ·"><a href="#é€†å˜æ¢é‡‡æ ·" class="headerlink" title="é€†å˜æ¢é‡‡æ ·"></a>é€†å˜æ¢é‡‡æ ·</h2><h3 id="NeRF"><a href="#NeRF" class="headerlink" title="NeRF"></a>NeRF</h3><p>ç®€å•çš„é€†å˜æ¢é‡‡æ ·æ–¹æ³•ï¼šæ ¹æ®ç²—é‡‡æ ·å¾—åˆ°çš„æƒé‡è¿›è¡Œé€†å˜æ¢é‡‡æ ·ï¼Œè·å–ç²¾é‡‡æ ·ç‚¹<br><a href="https://zhuanlan.zhihu.com/p/80726483">é€†å˜æ¢é‡‡æ · - çŸ¥ä¹ (zhihu.com)</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sample_pdf</span>(<span class="params">bins, weights, N_samples, det=<span class="literal">False</span>, pytest=<span class="literal">False</span></span>):</span><br><span class="line">    <span class="comment"># Get pdf</span></span><br><span class="line">    weights = weights + <span class="number">1e-5</span> <span class="comment"># prevent nans # weights : chunk * 62</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å½’ä¸€åŒ–weights</span></span><br><span class="line">    pdf = weights / torch.<span class="built_in">sum</span>(weights, -<span class="number">1</span>, keepdim=<span class="literal">True</span>) <span class="comment"># pdf : chunk * 62</span></span><br><span class="line">    cdf = torch.cumsum(pdf, -<span class="number">1</span>) <span class="comment"># cdf : chunk * 62</span></span><br><span class="line">    cdf = torch.cat([torch.zeros_like(cdf[...,:<span class="number">1</span>]), cdf], -<span class="number">1</span>)  <span class="comment"># (batch, len(bins))  = (chunk, 63)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Take uniform samples</span></span><br><span class="line">    <span class="keyword">if</span> det:</span><br><span class="line">        u = torch.linspace(<span class="number">0.</span>, <span class="number">1.</span>, steps=N_samples)</span><br><span class="line">        u = u.expand(<span class="built_in">list</span>(cdf.shape[:-<span class="number">1</span>]) + [N_samples]) <span class="comment"># u : chunk * N_samples</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        u = torch.rand(<span class="built_in">list</span>(cdf.shape[:-<span class="number">1</span>]) + [N_samples])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Pytest, overwrite u with numpy&#x27;s fixed random numbers</span></span><br><span class="line">    <span class="keyword">if</span> pytest:</span><br><span class="line">        np.random.seed(<span class="number">0</span>)</span><br><span class="line">        new_shape = <span class="built_in">list</span>(cdf.shape[:-<span class="number">1</span>]) + [N_samples] <span class="comment"># new_shape : chunk * N_samples</span></span><br><span class="line">        <span class="keyword">if</span> det:</span><br><span class="line">            u = np.linspace(<span class="number">0.</span>, <span class="number">1.</span>, N_samples)</span><br><span class="line">            u = np.broadcast_to(u, new_shape) <span class="comment"># u : chunk * N_samples</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            u = np.random.rand(*new_shape)</span><br><span class="line">        u = torch.Tensor(u)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Invert CDF</span></span><br><span class="line">    u = u.contiguous() <span class="comment"># ç¡®ä¿å¼ é‡åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„</span></span><br><span class="line">    <span class="comment"># inds : chunk * N_samples</span></span><br><span class="line">    inds = torch.searchsorted(cdf, u, right=<span class="literal">True</span>) <span class="comment"># å°†uä¸­çš„å…ƒç´ åœ¨cdfä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›å…¶ç´¢å¼•</span></span><br><span class="line">    below = torch.<span class="built_in">max</span>(torch.zeros_like(inds-<span class="number">1</span>), inds-<span class="number">1</span>) <span class="comment"># below : chunk * N_samples</span></span><br><span class="line">    above = torch.<span class="built_in">min</span>((cdf.shape[-<span class="number">1</span>]-<span class="number">1</span>) * torch.ones_like(inds), inds) <span class="comment"># above : chunk * N_samples</span></span><br><span class="line">    inds_g = torch.stack([below, above], -<span class="number">1</span>)  <span class="comment"># (batch, N_samples, 2)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># cdf_g = tf.gather(cdf, inds_g, axis=-1, batch_dims=len(inds_g.shape)-2)</span></span><br><span class="line">    <span class="comment"># bins_g = tf.gather(bins, inds_g, axis=-1, batch_dims=len(inds_g.shape)-2)</span></span><br><span class="line">    matched_shape = [inds_g.shape[<span class="number">0</span>], inds_g.shape[<span class="number">1</span>], cdf.shape[-<span class="number">1</span>]]  <span class="comment"># (batch, N_samples, 63)</span></span><br><span class="line">    cdf_g = torch.gather(cdf.unsqueeze(<span class="number">1</span>).expand(matched_shape), <span class="number">2</span>, inds_g) </span><br><span class="line">    <span class="comment"># unsqueeze(1) : (batch, 1, 63)</span></span><br><span class="line">    <span class="comment"># expand : (batch, N_samples, 63)</span></span><br><span class="line">    <span class="comment"># cdf_g : (batch, N_samples, 2)    </span></span><br><span class="line">    bins_g = torch.gather(bins.unsqueeze(<span class="number">1</span>).expand(matched_shape), <span class="number">2</span>, inds_g)</span><br><span class="line"></span><br><span class="line">    denom = (cdf_g[...,<span class="number">1</span>]-cdf_g[...,<span class="number">0</span>]) <span class="comment"># denom : chunk * N_samples</span></span><br><span class="line">    <span class="comment"># å¦‚æœdenomå°äº1e-5ï¼Œå°±ç”¨1ä»£æ›¿</span></span><br><span class="line">    denom = torch.where(denom&lt;<span class="number">1e-5</span>, torch.ones_like(denom), denom)</span><br><span class="line">    t = (u-cdf_g[...,<span class="number">0</span>])/denom</span><br><span class="line">    samples = bins_g[...,<span class="number">0</span>] + t * (bins_g[...,<span class="number">1</span>]-bins_g[...,<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> samples <span class="comment"># samples : chunk * N_samples</span></span><br></pre></td></tr></table></figure><h3 id="Mip-NeRF360"><a href="#Mip-NeRF360" class="headerlink" title="Mip-NeRF360"></a>Mip-NeRF360</h3><p>æ„å»ºäº†ä¸€ä¸ªæè®®ç½‘æ ¼è·å–æƒé‡æ¥è¿›è¡Œç²¾é‡‡æ ·ï¼ˆä¸‹ï¼‰</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722152752.png" alt="image.png"></p><h2 id="é”¥å½¢å…‰çº¿é‡‡æ ·"><a href="#é”¥å½¢å…‰çº¿é‡‡æ ·" class="headerlink" title="é”¥å½¢å…‰çº¿é‡‡æ ·"></a>é”¥å½¢å…‰çº¿é‡‡æ ·</h2><h3 id="Mip-NeRF"><a href="#Mip-NeRF" class="headerlink" title="Mip-NeRF"></a>Mip-NeRF</h3><p>å°†åƒç´ çœ‹æˆæœ‰é¢ç§¯çš„åœ†ç›˜ï¼Œå°„å‡ºçš„å…‰çº¿ä¸ºä¸€ä¸ªåœ†é”¥ä½“</p><ul><li>ä½¿ç”¨å¤šå…ƒé«˜æ–¯åˆ†å¸ƒæ¥è¿‘ä¼¼æˆªé”¥ä½“</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230721125154.png" alt="image.png"></p><h3 id="Tri-MipRF"><a href="#Tri-MipRF" class="headerlink" title="Tri-MipRF"></a>Tri-MipRF</h3><ul><li>ä½¿ç”¨ä¸€ä¸ªå„é¡¹åŒæ€§çš„çƒæ¥è¿‘ä¼¼æˆªé”¥ä½“</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230726164225.png" alt="image.png"></p><h3 id="Zip-NeRF"><a href="#Zip-NeRF" class="headerlink" title="Zip-NeRF"></a>Zip-NeRF</h3><p>Multisampling</p><p>å¤šé‡‡æ ·ï¼šåœ¨ä¸€ä¸ªæˆªé”¥ä½“ä¸­æ²¿ç€å…‰çº¿é‡‡æ ·6ä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹ä¹‹é—´æ—‹è½¬ä¸€ä¸ªè§’åº¦</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729141223.png" alt="image.png"></p><p>å¯¹è¾“å…¥xè¿›è¡Œç¼–ç çš„æ–¹å¼<br><a href="https://docs.nerf.studio/en/latest/nerfology/model_components/visualize_encoders.html">Field Encoders - nerfstudio</a></p><!-- more --><h1 id="ç¼–ç æ–¹å¼"><a href="#ç¼–ç æ–¹å¼" class="headerlink" title="ç¼–ç æ–¹å¼"></a>ç¼–ç æ–¹å¼</h1><h3 id="é¢‘ç‡ç¼–ç "><a href="#é¢‘ç‡ç¼–ç " class="headerlink" title="é¢‘ç‡ç¼–ç "></a>é¢‘ç‡ç¼–ç </h3><blockquote><p><a href="https://medium.com/@rparikshat1998/nerf-from-scratch-fe21c08b145d">NeRF from Scratch. Motivating the explanation fromâ€¦ | by Raja Parikshat | Medium</a> å…¥é—¨<br><a href="https://arxiv.org/pdf/2006.10739">Fourier Features Let Networks Learn High Frequency Functions in Low  Dimensional Domains</a></p></blockquote><p>Frequency Encoding(Fourier Features), ä½œç”¨ï¼šç¥ç»ç½‘ç»œåå‘äºå­¦ä¹ ä½é¢‘ï¼Œæå‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ä½ç½®ç¼–ç ï¼Œä½¿ç”¨é«˜é¢‘å‡½æ•°æŠŠè¾“å…¥æ˜ å°„åˆ°æ›´é«˜ç»´çš„ç©ºé—´ä¸­ï¼Œå†ä¼ é€’åˆ°ç¥ç»ç½‘ç»œï¼Œå¯ä»¥æ›´å¥½åœ°æ‹Ÿåˆå…·æœ‰é«˜é¢‘å˜åŒ–çš„æ•°æ®ã€‚<br>$\gamma(p)=\left(\sin \left(2^{0} \pi p\right), \cos \left(2^{0} \pi p\right), \cdots, \sin \left(2^{L-1} \pi p\right), \cos \left(2^{L-1} \pi p\right)\right)$</p><ul><li>$p=x|y|z$</li><li>$L= constant$</li></ul><h3 id="NeRF-1"><a href="#NeRF-1" class="headerlink" title="NeRF"></a>NeRF</h3><script type="math/tex; mode=display">\gamma(p)=\left(\sin \left(2^{0} \pi p\right), \cos \left(2^{0} \pi p\right), \cdots, \sin \left(2^{L-1} \pi p\right), \cos \left(2^{L-1} \pi p\right)\right)</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Embedder</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, **kwargs</span>):</span><br><span class="line">        self.kwargs = kwargs</span><br><span class="line">        self.create_embedding_fn()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_embedding_fn</span>(<span class="params">self</span>):</span><br><span class="line">        embed_fns = []</span><br><span class="line">        d = self.kwargs[<span class="string">&#x27;input_dims&#x27;</span>]</span><br><span class="line">        out_dim = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> self.kwargs[<span class="string">&#x27;include_input&#x27;</span>]:</span><br><span class="line">            embed_fns.append(<span class="keyword">lambda</span> x: x)</span><br><span class="line">            out_dim += d</span><br><span class="line"></span><br><span class="line">        max_freq = self.kwargs[<span class="string">&#x27;max_freq_log2&#x27;</span>]</span><br><span class="line">        N_freqs = self.kwargs[<span class="string">&#x27;num_freqs&#x27;</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.kwargs[<span class="string">&#x27;log_sampling&#x27;</span>]:</span><br><span class="line">            freq_bands = <span class="number">2.</span> ** torch.linspace(<span class="number">0.</span>, max_freq, N_freqs)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            freq_bands = torch.linspace(<span class="number">2.</span>**<span class="number">0.</span>, <span class="number">2.</span>**max_freq, N_freqs)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> freq <span class="keyword">in</span> freq_bands:</span><br><span class="line">            <span class="keyword">for</span> p_fn <span class="keyword">in</span> self.kwargs[<span class="string">&#x27;periodic_fns&#x27;</span>]:</span><br><span class="line">                embed_fns.append(<span class="keyword">lambda</span> x, p_fn=p_fn, freq=freq: p_fn(x * freq))</span><br><span class="line">                out_dim += d</span><br><span class="line"></span><br><span class="line">        self.embed_fns = embed_fns</span><br><span class="line">        self.out_dim = out_dim</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">embed</span>(<span class="params">self, inputs</span>):</span><br><span class="line">        <span class="keyword">return</span> torch.cat([fn(inputs) <span class="keyword">for</span> fn <span class="keyword">in</span> self.embed_fns], -<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_embedder</span>(<span class="params">multires, input_dims=<span class="number">3</span></span>):</span><br><span class="line">    embed_kwargs = &#123;</span><br><span class="line">        <span class="string">&#x27;include_input&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">&#x27;input_dims&#x27;</span>: input_dims,</span><br><span class="line">        <span class="string">&#x27;max_freq_log2&#x27;</span>: multires-<span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;num_freqs&#x27;</span>: multires,</span><br><span class="line">        <span class="string">&#x27;log_sampling&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">&#x27;periodic_fns&#x27;</span>: [torch.sin, torch.cos],</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    embedder_obj = Embedder(**embed_kwargs)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">embed</span>(<span class="params">x, eo=embedder_obj</span>): <span class="keyword">return</span> eo.embed(x)</span><br><span class="line">    <span class="keyword">return</span> embed, embedder_obj.out_dim</span><br><span class="line"></span><br><span class="line"><span class="comment"># multires &lt;=&gt; L</span></span><br><span class="line"><span class="comment"># use: get_embedder(args.multires, args.i_embed)</span></span><br></pre></td></tr></table></figure><h3 id="IPE"><a href="#IPE" class="headerlink" title="IPE"></a>IPE</h3><p>Mip-NeRFé›†æˆä½ç½®ç¼–ç </p><p>å¯¹å¤šå…ƒé«˜æ–¯è¿‘ä¼¼æˆªé”¥ä½“çš„å‡å€¼å’Œåæ–¹å·®è¿›è¡Œç¼–ç </p><script type="math/tex; mode=display">\begin{aligned}\gamma(\mathbf{\mu},\mathbf{\Sigma})& =\mathrm{E}_{\mathbf{x}\sim\mathcal{N}(\mathbf{\mu}_\gamma,\mathbf{\Sigma}_\gamma)}[\gamma(\mathbf{x})]  \\&=\begin{bmatrix}\sin(\mathbf{\mu}_\gamma)\circ\exp(-(1/2)\mathrm{diag}(\mathbf{\Sigma}_\gamma))\\\cos(\mathbf{\mu}_\gamma)\circ\exp(-(1/2)\mathrm{diag}(\mathbf{\Sigma}_\gamma))\end{bmatrix}\end{aligned}</script><p>IPEå¯ä»¥å°†å¤§åŒºåŸŸçš„é«˜é¢‘ç¼–ç æ±‚å’Œä¸º0<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/ipe_anim_horiz.gif" alt="ipe_anim_horiz.gif|666"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230721153610.png" alt="image.png|666"></p><h2 id="å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç "><a href="#å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç " class="headerlink" title="å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç "></a>å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç </h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703160333.png" alt="image.png|666"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">hashgrid.py:</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HashGrid</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n_input_dims, config</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.n_input_dims = n_input_dims</span><br><span class="line">        <span class="keyword">with</span> torch.cuda.device(get_rank()):</span><br><span class="line">            self.encoding = tcnn.Encoding(self.n_input_dims, config_to_primitive(config))</span><br><span class="line">        self.n_output_dims = self.encoding.n_output_dims</span><br><span class="line">        self.n_level = config[<span class="string">&#x27;n_levels&#x27;</span>]</span><br><span class="line">        self.n_features_per_level = config[<span class="string">&#x27;n_features_per_level&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        enc = self.encoding(x)</span><br><span class="line">        <span class="keyword">return</span> enc</span><br><span class="line"></span><br><span class="line">models/neus.pyï¼š</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">N</span>(nn.Module):</span><br><span class="line">    __init__:</span><br><span class="line">    self.encoding = get_encoding(n_input_dims = <span class="number">3</span>, config)</span><br><span class="line">    forward:</span><br><span class="line">    h = self.encoding(x)</span><br><span class="line"></span><br><span class="line">yaml:</span><br><span class="line">    xyz_encoding: </span><br><span class="line">      otype: HashGrid</span><br><span class="line">      n_levels: <span class="number">16</span></span><br><span class="line">      n_features_per_level: <span class="number">2</span></span><br><span class="line">      log2_hashmap_size: <span class="number">19</span></span><br><span class="line">      base_resolution: <span class="number">16</span></span><br><span class="line">      per_level_scale: <span class="number">1.447269237440378</span></span><br><span class="line">      include_xyz: true</span><br></pre></td></tr></table></figure><h2 id="çƒé¢è°æ³¢ç¼–ç "><a href="#çƒé¢è°æ³¢ç¼–ç " class="headerlink" title="çƒé¢è°æ³¢ç¼–ç "></a>çƒé¢è°æ³¢ç¼–ç </h2><p>çƒé¢åŸºå‡½æ•°â€”â€”çƒè°å‡½æ•°</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/351289217">çƒè°å‡½æ•°ä»‹ç»ï¼ˆSpherical Harmonicsï¼‰ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>$\{Y_\ell^m\}.$ ä¸äºŒç»´çš„ä¸‰è§’å‡½æ•°åŸºç±»ä¼¼ï¼Œçƒé¢è°æ³¢ä¸ºä¸‰ç»´ä¸Šçš„ä¸€ç»„åŸºå‡½æ•°ï¼Œç”¨æ¥æè¿°å…¶ä»–æ›´åŠ å¤æ‚çš„å‡½æ•°</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810145848.png" alt="image.png|666"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810150600.png" alt="image.png|666"></p><script type="math/tex; mode=display">\begin{aligned}y_l^m(\theta,\varphi)=\begin{cases}\sqrt{2}K_l^m\cos(m\varphi)P_l^m\big(\cos\theta\big),&m>0\\[2ex]\sqrt{2}K_l^m\sin(-m\varphi)P_l^{-m}\big(\cos\theta\big),&m<0\\[2ex]K_l^0P_l^0\big(\cos\theta\big),&m=0\end{cases} \\P_n(x)=\frac1{2^n\cdot n!}\frac{d^n}{dx^n}[(x^2-1)^n] \\P_l^m(x)=(-1)^m(1-x^2)^{m/2}\frac{d^m}{dx^m}(P_l(x)) \\K_{l}^{m}=\sqrt{\frac{\left(2l+1\right)}{4\pi}\frac{\left(l-\left|m\right|\right)!}{\left(l+\left|m\right|\right)!}}\end{aligned}</script><h2 id="IDE"><a href="#IDE" class="headerlink" title="IDE"></a>IDE</h2><p>åœ¨Ref-NeRFä¸­ï¼Œå€Ÿé‰´Mip-NeRä¸­çš„IPEï¼Œæå‡ºäº†IDEï¼ŒåŸºäºçƒé¢è°æ³¢ï¼Œå°†é«˜é¢‘éƒ¨åˆ†çš„ç¼–ç è¾“å‡ºç½®ä¸º0</p><p>$\mathrm{IDE}(\hat{\boldsymbol{\omega}}_r,\kappa)=\left\{\mathbb{E}_{\hat{\boldsymbol{\omega}}\sim\mathrm{vMF}(\hat{\boldsymbol{\omega}}_r,\kappa)}[Y_\ell^m(\hat{\boldsymbol{\omega}})]\colon(\ell,m)\in\mathcal{M}_L\right\},$<br>$\mathcal{M}_{L}=\{(\ell,m):\ell=1,â€¦,2^{L},m=0,â€¦,\ell\}.$</p><p>$\mathbb{E}_{\hat{\boldsymbol{\omega}}\sim\mathrm{vMF}(\hat{\boldsymbol{\omega}}_r,\kappa)}[Y_\ell^m(\hat{\boldsymbol{\omega}})]=A_\ell(\kappa)Y_\ell^m(\hat{\boldsymbol{\omega}}_r),$<br>$A_{\ell}(\kappa)\approx\exp\left(-\frac{\ell(\ell+1)}{2\kappa}\right).$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810152303.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Math </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Multi-view Human Body Reconstruction</title>
      <link href="/3DReconstruction/Multi-view/Multi-view%20Human%20Body%20Reconstruction/"/>
      <url>/3DReconstruction/Multi-view/Multi-view%20Human%20Body%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/Human.png" alt="Human.png|666"></p><p>Terminology/Jargon</p><ul><li>Human Radiance Fields</li><li>3D <strong>Clothed Human</strong> Reconstruction | <strong>Digitization</strong></li></ul><p>Application</p><ul><li>ä¸‰ç»´é‡å»ºè®¾å¤‡ï¼šæ‰‹æŒæ‰«æä»ªæˆ– 360 åº¦ç›¸æœºçŸ©é˜µï¼ˆæˆæœ¬é«˜ï¼‰</li><li><a href="https://www.yangtse.com/content/1604507html">å¤åˆ»ä¸€ä¸ªè¿·ä½ ç‰ˆçš„è‡ªå·±</a></li></ul><p>Method</p><ol><li><strong>Depth&amp;Normal Estimation</strong>(2K2K) </li><li><strong>Implicit Function</strong>(PIFu or NeRF) </li><li><strong>Generative approach</strong>  <a href="Generative%20Models%20Reconstruction.md">Generative Models Reconstruction</a></li></ol><p><strong>Awesome Human Body Reconstruction</strong></p><div class="table-container"><table><thead><tr><th>Method</th><th>æ³›åŒ–</th><th>æ•°æ®é›†ç›‘ç£</th><th>æå– mesh æ–¹å¼</th><th>è·å¾—çº¹ç†æ–¹å¼</th></tr></thead><tbody><tr><td>2k2k</td><td>æ¯”è¾ƒå¥½</td><td>(mesh+texture:)depthã€normalã€maskã€rgb</td><td>é«˜è´¨é‡æ·±åº¦å›¾ â€”&gt; ç‚¹äº‘ â€”&gt; mesh</td><td>å›¾ç‰‡ rgb è´´å›¾</td></tr><tr><td>PIFu</td><td>æ¯”è¾ƒå¥½</td><td>ç‚¹äº‘(obj)ã€rgb(uv)ã€maskã€camera</td><td>å ç”¨åœº â€”&gt; MC â€”&gt; ç‚¹äº‘,mesh</td><td>è¡¨é¢é¢œè‰²åœº</td></tr><tr><td>NeRF</td><td>å·®</td><td>rgbã€camera</td><td>å¯†åº¦åœº â€”&gt; MC â€”&gt; ç‚¹äº‘,mesh</td><td>ä½“ç§¯é¢œè‰²åœº</td></tr><tr><td>NeuS</td><td>å·®</td><td>rgbã€camera</td><td>SDF â€”&gt; MC â€”&gt; ç‚¹äº‘,mesh</td><td>ä½“ç§¯é¢œè‰²åœº</td></tr><tr><td>ICON</td><td>éå¸¸å¥½</td><td>rgb+maskã€SMPLã€æ³•å‘é‡ä¼°è®¡å™¨ DR</td><td>å ç”¨åœº â€”&gt; MC â€”&gt; ç‚¹äº‘,mesh</td><td>å›¾ç‰‡ rgb è´´å›¾</td></tr><tr><td>ECON</td><td>éå¸¸å¥½</td><td>rgb+maskã€SMPLã€æ³•å‘é‡ä¼°è®¡å™¨ DR</td><td>d-BiNI + SC(shape completion)</td><td>å›¾ç‰‡ rgb è´´å›¾</td></tr></tbody></table></div><span id="more"></span><h1 id="äººä½“ä¸‰ç»´é‡å»ºæ–¹æ³•ç»¼è¿°"><a href="#äººä½“ä¸‰ç»´é‡å»ºæ–¹æ³•ç»¼è¿°" class="headerlink" title="äººä½“ä¸‰ç»´é‡å»ºæ–¹æ³•ç»¼è¿°"></a>äººä½“ä¸‰ç»´é‡å»ºæ–¹æ³•ç»¼è¿°</h1><h2 id="Implicit-Function"><a href="#Implicit-Function" class="headerlink" title="Implicit Function"></a>Implicit Function</h2><p><strong>æ–¹æ³• 0</strong>ï¼šè®­ç»ƒéšå¼å‡½æ•°è¡¨ç¤º<br>(eg: NeRFã€PIFuã€ICON)<br><strong>DoubleField</strong>(å¤šè§†å›¾)</p><p><strong><em>é—®é¢˜ï¼šéœ€è¦ä¼°è®¡ç›¸æœºä½å§¿ï¼Œä¼°è®¡æ–¹æ³•æœ‰ä¸€å®šçš„è¯¯å·®ï¼Œè§†å›¾å°‘æ—¶è¯¯å·®æ›´å¤§</em></strong></p><h2 id="Depth-amp-Normal-Estimation"><a href="#Depth-amp-Normal-Estimation" class="headerlink" title="Depth&amp;Normal Estimation"></a>Depth&amp;Normal Estimation</h2><p><strong>æ–¹æ³• 1</strong>ï¼šæ·±åº¦ä¼°è®¡+å¤šè§†å›¾æ·±åº¦å›¾èåˆ or å¤šè§†å›¾ç‚¹äº‘é…å‡†<br>(2K2K-based)</p><p>æ·±åº¦ä¼°è®¡: 2K2Kã€MVSNetã€ECONâ€¦</p><ul><li><p>å¤šè§†å›¾æ·±åº¦å›¾èåˆï¼š<a href="https://github.com/touristCheng/DepthFusion">DepthFusion: Fuse multiple depth frames into a point cloud</a></p><ul><li>éœ€è¦ç›¸æœºä½å§¿ï¼Œä½å§¿ä¼°è®¡æœ‰è¯¯å·®</li><li>æ›´å‡†ç¡®çš„ä½å§¿: BA(Bundle Adjusted å…‰æŸæ³•å¹³å·®ï¼Œä¼˜åŒ–ç›¸æœº pose å’Œ landmark)</li></ul></li><li><p>å¤šè§†å›¾ç‚¹äº‘é…å‡†ï¼š<a href="PointCloud%20Review.md">Point Cloud Registration</a></p><ul><li><strong>ç‚¹äº‘é…å‡†</strong>(Point Cloud Registration) 2K ç”Ÿæˆçš„å¤šè§’åº¦ç‚¹äº‘å½¢çŠ¶ä¸ç»Ÿä¸€</li></ul></li></ul><p><strong><em>é—®é¢˜ï¼šæ— æ³•ä¿è¯ç”Ÿæˆçš„å¤šè§†è§’æ·±åº¦å›¾å…·æœ‰å¤šè§†å›¾ä¸€è‡´æ€§</em></strong></p><h2 id="Generative-approach"><a href="#Generative-approach" class="headerlink" title="Generative approach"></a>Generative approach</h2><p><strong>æ–¹æ³• 2</strong>ï¼šç”Ÿæˆå¼æ–¹æ³•ç”±å›¾ç‰‡ç”Ÿæˆç‚¹äº‘<br>Generative approach(Multi-view imageã€pose (keypoints)â€¦ â€”&gt; PointCloud)</p><ol><li>æ‰©æ•£æ¨¡å‹<ol><li>ç›´æ¥ç”Ÿæˆç‚¹äº‘ <em>BuilDiff</em></li><li>ç”Ÿæˆä¸‰å¹³é¢ç‰¹å¾+NeRF <em>RODIN</em></li><li>å¤šè§†å›¾ Diffusion <a href="https://liuyebin.com/diffustereo/diffustereo.html">DiffuStereo</a></li></ol></li><li>GAN ç½‘ç»œç”Ÿæˆç‚¹äº‘ <em>SG-GAN</em></li><li>ç”Ÿæˆä¸€è‡´æ€§å›¾ç‰‡+NeRF</li></ol><ul><li>å‚è€ƒ <a href="https://github.com/weiyao1996/BuilDiff">BuilDiff</a>ï¼Œæ„å»ºç½‘ç»œ(<a href="https://readpaper.com/pdf-annotate/note?pdfId=4544669809538392065&amp;noteId=2018413897297176576">PVCNNs</a> å•ç±»è®­ç»ƒ)<ul><li>æ˜¯å¦æ›´æ¢æ‰©æ•£ç½‘ç»œ <a href="https://dit-3d.github.io/">DiT-3D</a>ï¼Œå¯ä»¥å­¦ä¹ æ˜¾å¼çš„ç±»æ¡ä»¶åµŒå…¥(ç”Ÿæˆå¤šæ ·åŒ–çš„ç‚¹äº‘)</li><li>æ˜¯å¦ä¾é  SMPLï¼Œæ ¹æ® LBS(Linear Blending Skinning)å°†äººä½“ mesh å˜å½¢åˆ°è§„èŒƒåŒ–ç©ºé—´<ul><li><a href="https://moygcc.github.io/vid2avatar/">Video2Avatar</a> (NeRF-based)å°†æ•´ä¸ªäººä½“è§„èŒƒåŒ–åé‡‡æ ·</li><li><a href="https://hongfz16.github.io/projects/EVA3D">EVA3D</a> å°† NeRF èå…¥ GAN ç”Ÿæˆå›¾ç‰‡ï¼Œå¹¶ä¸çœŸå®å›¾ç‰‡ä¸€åŒè®­ç»ƒåˆ¤åˆ«å™¨(äººä½“è§„èŒƒåŒ–ååˆ†å— NeRF)</li></ul></li></ul></li></ul><p><strong><em>é—®é¢˜ï¼šç›´æ¥ç”Ÿæˆç‚¹äº‘æˆ–è€…å¯¹ç‚¹äº‘è¿›è¡Œæ‰©æ•£ä¼˜åŒ–ï¼Œä¼šèŠ±è´¹å¤§é‡çš„å†…å­˜</em></strong></p><h2 id="æ··åˆæ–¹æ³•"><a href="#æ··åˆæ–¹æ³•" class="headerlink" title="æ··åˆæ–¹æ³•"></a>æ··åˆæ–¹æ³•</h2><p><strong>æ–¹æ³• 3</strong>ï¼šç»„åˆæ·±åº¦ä¼°è®¡ + ç”Ÿæˆå¼æ–¹æ³•ï¼ˆç¼åˆå¤šä¸ªæ–¹æ³•ï¼‰<br><a href="https://github.com/yztang4/HaP">HaP</a>ï¼šæ·±åº¦ä¼°è®¡+SMPL ä¼°è®¡+Diffusion Model ç²¾ç»†åŒ–</p><p><strong><em>é—®é¢˜ï¼šä¾èµ–æ·±åº¦ä¼°è®¡å’Œ SMPL ä¼°è®¡å¾—åˆ°çš„ç»“æœ</em></strong></p><p><strong>æ–¹æ³• 4</strong>ï¼šéšå‡½æ•° + ç”Ÿæˆå¼æ–¹æ³• + éåˆšICPé…å‡†<br><a href="https://liuyebin.com/diffustereo/diffustereo.html">DiffuStereo</a>ï¼šNeRF(DoubleField) + Diffusion Model + non-rigid ICP ï¼ˆ<strong><em>ä¸å¼€æº</em></strong>ï¼‰</p><h1 id="ä¸‰ç»´é‡å»ºæ–¹æ³•æµç¨‹å¯¹æ¯”"><a href="#ä¸‰ç»´é‡å»ºæ–¹æ³•æµç¨‹å¯¹æ¯”" class="headerlink" title="ä¸‰ç»´é‡å»ºæ–¹æ³•æµç¨‹å¯¹æ¯”"></a>ä¸‰ç»´é‡å»ºæ–¹æ³•æµç¨‹å¯¹æ¯”</h1><h2 id="Implicit-Function-1"><a href="#Implicit-Function-1" class="headerlink" title="Implicit Function"></a>Implicit Function</h2><h3 id="NeRF"><a href="#NeRF" class="headerlink" title="NeRF"></a>NeRF</h3><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024153406.png" alt="NeuS2.png|666"><br>é¢„æµ‹æ¯ä¸ªé‡‡æ ·ç‚¹ sdf å’Œ feature å‘é‡<br>$(sdf,\mathbf{feature})=f_\Theta(\mathbf{e}),\quad\mathbf{e}=(\mathbf{x},h_\Omega(\mathbf{x})).$</p><p>é¢„æµ‹æ¯ä¸ªé‡‡æ ·ç‚¹é¢œè‰²å€¼<br>$\mathbf c=c_{\Upsilon}(\mathbf x,\mathbf n,\mathbf v,sdf,\mathbf{feature})$ï¼Œ$\mathbf n=\nabla_\mathbf x sdf.$</p><p>ä½“æ¸²æŸ“åƒç´ é¢œè‰²<br>$\hat{C}=\sum_{i=1}^n T_i\alpha_i c_i$ï¼Œ $T_i=\prod_{j=1}^{i-1}(1-\alpha_j)$ ï¼Œ$\alpha_i=\max\left(\frac{\Phi_s(f(\mathbf{p}(t_i))))-\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right)$</p><p>è®­ç»ƒå¾—åˆ° MLPï¼Œæ ¹æ® MarchingCube å¾—åˆ°ç‚¹äº‘</p><h3 id="PIFu"><a href="#PIFu" class="headerlink" title="PIFu"></a>PIFu</h3><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230928170950.png" alt="image.png|666"></p><p>å°†è¾“å…¥å›¾åƒä¸­æ¯ä¸ªåƒç´ çš„ç‰¹å¾é€šè¿‡ MLP æ˜ å°„ä¸ºå ç”¨åœº</p><h2 id="Depth-amp-Normal-Estimation-1"><a href="#Depth-amp-Normal-Estimation-1" class="headerlink" title="Depth&amp;Normal Estimation"></a>Depth&amp;Normal Estimation</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921160120.png" alt="2K2K.png|666"></p><p>é¢„æµ‹ä½åˆ†è¾¨ç‡æ³•å‘é‡å›¾å’Œæ·±åº¦å›¾ï¼Œ$\hat M$ ä¸ºé¢„æµ‹å‡ºçš„ mask<br>$\mathbf{D}^l=\hat{\mathbf{D}}^l\odot\hat{\mathbf{M}}^l$ï¼Œ $\hat{\mathbf{D}}^l,\hat{\mathbf{M}}^l,\mathbf{N}^l=G^l_{\mathbf{D}}(I^l)$</p><p>é¢„æµ‹é«˜åˆ†è¾¨ç‡ part æ³•å‘é‡å›¾ï¼ŒM ä¸ºå˜æ¢çŸ©é˜µ<br>$\bar{\mathbf{n}}_i=G_{\mathbf{N},i}(\bar{\mathbf{p}}_i,\mathbf{M}_i^{-1}\mathbf{N}^l)$ï¼Œ $\bar{\mathbf{p}}_i=\mathbf{M}_i\mathbf{p}_i,$</p><p>æ‹¼æ¥ä¸ºé«˜åˆ†è¾¨ç‡æ•´ä½“æ³•å‘é‡å›¾<br>$\mathbf{N}^h=\sum\limits_{i=1}^K\left(\mathbf{W}_i\odot\mathbf{n}_i\right)$ ï¼Œ$\mathbf{n}_i=\mathbf{M}_i^{-1}\bar{\mathbf{n}}_i$</p><p>é¢„æµ‹é«˜åˆ†è¾¨ç‡æ·±åº¦å›¾<br>$\mathbf{D}^h=\hat{\mathbf{D}}^h\odot\hat{\mathbf{M}}^h$ï¼Œ$\hat{\mathbf{D}}^h,\hat{\mathbf{M}}^h=G^h_{\mathbf{D}}(\mathbf{N}^h,\mathbf{D}^l)$</p><p>æ·±åº¦å›¾è½¬ç‚¹äº‘</p><h2 id="Generative-approach-1"><a href="#Generative-approach-1" class="headerlink" title="Generative approach"></a>Generative approach</h2><h3 id="Diffusion-Model-Network"><a href="#Diffusion-Model-Network" class="headerlink" title="Diffusion Model Network"></a>Diffusion Model Network</h3><p><a href="Diffusion%20Models.md">Diffusion Model Networkå­¦ä¹ ç¬”è®°</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021114740.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024111221.png" alt="image.png|444"></p><p><strong>3D CNN</strong>: PVCNNã€PointNetã€PointNet++</p><p><strong>2D CNN:</strong> 3D-aware convolution(RODIN)</p><h3 id="GAN"><a href="#GAN" class="headerlink" title="GAN"></a>GAN</h3><hr><h1 id="Paper-about-Human-ReconstructionğŸ‘‡"><a href="#Paper-about-Human-ReconstructionğŸ‘‡" class="headerlink" title="Paper about Human ReconstructionğŸ‘‡"></a>Paper about Human ReconstructionğŸ‘‡</h1><h1 id="NeRF-based-Human-Body-Reconstruction"><a href="#NeRF-based-Human-Body-Reconstruction" class="headerlink" title="NeRF-based Human Body Reconstruction"></a>NeRF-based Human Body Reconstruction</h1><h2 id="HISR"><a href="#HISR" class="headerlink" title="HISR"></a>HISR</h2><p><a href="https://arxiv.org/abs/2312.17192">[2312.17192] HISR: Hybrid Implicit Surface Representation for Photorealistic 3D Human Reconstruction (arxiv.org)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240104172512.png" alt="image.png|666"></p><ul><li>å¯¹ä¸é€æ˜åŒºåŸŸï¼ˆä¾‹å¦‚èº«ä½“ã€è„¸éƒ¨ã€è¡£æœï¼‰æ‰§è¡ŒåŸºäºè¡¨é¢çš„æ¸²æŸ“</li><li>åœ¨åŠé€æ˜åŒºåŸŸï¼ˆä¾‹å¦‚å¤´å‘ï¼‰ä¸Šæ‰§è¡Œä½“ç§¯æ¸²æŸ“</li></ul><h2 id="DoubleField"><a href="#DoubleField" class="headerlink" title="DoubleField"></a>DoubleField</h2><p><a href="http://www.liuyebin.com/dbfield/dbfield.html">DoubleField Project Page (liuyebin.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110163602.png" alt="image.png|666"></p><h2 id="Learning-Visibility-Field-for-Detailed-3D-Human-Reconstruction-and-Relighting"><a href="#Learning-Visibility-Field-for-Detailed-3D-Human-Reconstruction-and-Relighting" class="headerlink" title="Learning Visibility Field for Detailed 3D Human Reconstruction and Relighting"></a>Learning Visibility Field for Detailed 3D Human Reconstruction and Relighting</h2><p><a href="https://openaccess.thecvf.com/content/CVPR2023/papers/Zheng_Learning_Visibility_Field_for_Detailed_3D_Human_Reconstruction_and_Relighting_CVPR_2023_paper.pdf">Learning Visibility Field for Detailed 3D Human Reconstruction and Relighting (thecvf.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008104907.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008105237.png" alt="image.png|666"></p><h2 id="HumanGen"><a href="#HumanGen" class="headerlink" title="HumanGen"></a>HumanGen</h2><blockquote><p><a href="https://suezjiang.github.io/humangen/">HumanGen: Generating Human Radiance Fields with Explicit Priors (suezjiang.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231002104131.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231002104310.png" alt="image.png|333"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231002104340.png" alt="image.png|666"></p><h2 id="GNeuVox"><a href="#GNeuVox" class="headerlink" title="GNeuVox"></a>GNeuVox</h2><p><a href="https://taoranyi.com/gneuvox/">GNeuVox: Generalizable Neural Voxels for Fast Human Radiance Fields (taoranyi.com)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4738288024060706817&amp;noteId=1996978666924478208">Generalizable Neural Voxels for Fast Human Radiance Fields (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008173458.png" alt="image.png|666"></p><h2 id="CAR"><a href="#CAR" class="headerlink" title="CAR"></a>CAR</h2><p><a href="https://tingtingliao.github.io/CAR/">CAR (tingtingliao.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008172759.png" alt="image.png|666"></p><h2 id="HDHumans"><a href="#HDHumans" class="headerlink" title="HDHumans"></a>HDHumans</h2><p><a href="https://dl.acm.org/doi/pdf/10.1145/3606927">HDHumans (acm.org)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008193531.png" alt="image.png|666"></p><h2 id="EVA3D-2022"><a href="#EVA3D-2022" class="headerlink" title="EVA3D 2022"></a>EVA3D 2022</h2><p>Compositional Human body<br>è´¨é‡å¾ˆä½<br>Ideaï¼š</p><ul><li>å°†äººä½“åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†åˆ†åˆ«è®­ç»ƒ</li><li>å°† NeRF èåˆè¿› GAN çš„ç”Ÿæˆå™¨ä¸­ï¼Œå¹¶ä¸ä¸€ä¸ªåˆ¤åˆ«å™¨è¿›è¡Œè”åˆè®­ç»ƒ</li></ul><p>Costï¼š</p><ul><li>8 NVIDIA V100 Gpus for 5 days</li></ul><blockquote><p><a href="https://hongfz16.github.io/projects/EVA3D.html">EVA3D - Project Page (hongfz16.github.io)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4677480793493209089&amp;noteId=1985412009585125888">EVA3D: Compositional 3D Human Generation from 2D Image Collections (readpaper.com)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930153949.png" alt="image|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930154048.png" alt="image.png|666"></p><h2 id="Dynamic"><a href="#Dynamic" class="headerlink" title="Dynamic"></a>Dynamic</h2><h3 id="3DGS-Avatar"><a href="#3DGS-Avatar" class="headerlink" title="3DGS-Avatar"></a>3DGS-Avatar</h3><p><a href="https://neuralbodies.github.io/3DGS-Avatar/">3DGS-Avatar: Animatable Avatars via Deformable 3D Gaussian Splatting (neuralbodies.github.io)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231218201652.png" alt="image.png|666"></p><h3 id="GaussianAvatar"><a href="#GaussianAvatar" class="headerlink" title="GaussianAvatar"></a>GaussianAvatar</h3><p><a href="https://huliangxiao.github.io/GaussianAvatar">Projectpage of GaussianAvatar (huliangxiao.github.io)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231205153138.png" alt="image.png|666"></p><h3 id="Vid2Avatar"><a href="#Vid2Avatar" class="headerlink" title="Vid2Avatar"></a>Vid2Avatar</h3><blockquote><p><a href="Vid2Avatar.md">Vid2Avatar: 3D Avatar Reconstruction from Videos in the Wild via Self-supervised Scene Decomposition</a><br><a href="https://moygcc.github.io/vid2avatar/">Vid2Avatar: 3D Avatar Reconstruction from Videos in the Wild via Self-supervised Scene Decomposition (moygcc.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921171140.png" alt="image.png|666"></p><h3 id="Im4D"><a href="#Im4D" class="headerlink" title="Im4D"></a>Im4D</h3><p><a href="https://zju3dv.github.io/im4d/">Im4D (zju3dv.github.io)</a><br>Im4D: High-Fidelity and Real-Time Novel View Synthesis for Dynamic Scenes</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231013171508.png" alt="image.png|666"></p><h3 id="HumanRF"><a href="#HumanRF" class="headerlink" title="HumanRF"></a>HumanRF</h3><blockquote><p><a href="https://synthesiaresearch.github.io/humanrf/">HumanRF: High-Fidelity Neural Radiance Fields for Humans in Motion (synthesiaresearch.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231001165622.png" alt="image.png|666"></p><h3 id="Neural-Body"><a href="#Neural-Body" class="headerlink" title="Neural Body"></a>Neural Body</h3><blockquote><p><a href="https://zju3dv.github.io/neuralbody/">Neural Body: Implicit Neural Representations with Structured Latent Codes for Novel View Synthesis of Dynamic Humans (zju3dv.github.io)</a></p></blockquote><p>é¦–å…ˆåœ¨SMPL6890ä¸ªé¡¶ç‚¹ä¸Šå®šä¹‰ä¸€ç»„æ½œåœ¨ä»£ç ï¼Œç„¶å<br>ä½¿ç”¨<a href="https://readpaper.com/pdf-annotate/note?pdfId=4498402014756757505&amp;noteId=2065156297063368192">Total Capture: A 3D Deformation Model for Tracking Faces, Hands, and Bodies (readpaper.com)</a><br>ä»å¤šè§†å›¾å›¾ç‰‡ä¸­è·å–SMPLå‚æ•°$S_{t}$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231001170255.png" alt="image.png|666"></p><h3 id="InstantNVR"><a href="#InstantNVR" class="headerlink" title="InstantNVR"></a>InstantNVR</h3><p><a href="https://zju3dv.github.io/instant_nvr/">Learning Neural Volumetric Representations of Dynamic Humans in Minutes (zju3dv.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231001172828.png" alt="image.png|666"></p><h3 id="4K4D"><a href="#4K4D" class="headerlink" title="4K4D"></a>4K4D</h3><p><a href="https://zju3dv.github.io/4k4d/">4K4D (zju3dv.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023154027.png" alt="image.png|666"></p><h3 id="D3GA"><a href="#D3GA" class="headerlink" title="D3GA"></a>D3GA</h3><p><a href="https://zielon.github.io/d3ga/">D3GA - Drivable 3D Gaussian Avatars - Wojciech Zielonka</a></p><p>å¤šè§†å›¾è§†é¢‘ä½œä¸ºè¾“å…¥ + 3DGS + ç¬¼å½¢å˜å½¢</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231117103528.png" alt="image.png|666"></p><h2 id="Human-Object-Interactions"><a href="#Human-Object-Interactions" class="headerlink" title="Human-Object Interactions"></a>Human-Object Interactions</h2><h3 id="Instant-NVR"><a href="#Instant-NVR" class="headerlink" title="Instant-NVR"></a>Instant-NVR</h3><p><a href="https://nowheretrix.github.io/Instant-NVR/">Instant-NVR: Instant Neural Volumetric Rendering for Human-object Interactions from Monocular RGBD Stream</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008115305.png" alt="image.png|666"></p><h3 id="NeuralDome"><a href="#NeuralDome" class="headerlink" title="NeuralDome"></a>NeuralDome</h3><p><a href="https://juzezhang.github.io/NeuralDome/">NeuralDome (juzezhang.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008120011.png" alt="image.png|666"></p><h1 id="PIFu-Occupancy-Field"><a href="#PIFu-Occupancy-Field" class="headerlink" title="PIFu Occupancy Field"></a>PIFu Occupancy Field</h1><blockquote><p><a href="PIFu.md">PIFu: Pixel-Aligned Implicit Function for High-Resolution Clothed Human Digitization</a><br><a href="https://shunsukesaito.github.io/PIFu/">PIFu: Pixel-Aligned Implicit Function for High-Resolution Clothed Human Digitization (shunsukesaito.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230928170950.png" alt="image.png|666"></p><h2 id="PIFuHD"><a href="#PIFuHD" class="headerlink" title="PIFuHD"></a>PIFuHD</h2><blockquote><p><a href="PIFuHD.md">PIFuHD: Multi-Level Pixel-Aligned Implicit Function for High-Resolution 3D Human Digitization</a><br><a href="https://shunsukesaito.github.io/PIFuHD/">PIFuHD: Multi-Level Pixel-Aligned Implicit Function for High-Resolution 3D Human Digitization (shunsukesaito.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230928175323.png" alt="image.png|666"></p><h2 id="PIFu-for-the-Real-World"><a href="#PIFu-for-the-Real-World" class="headerlink" title="PIFu for the Real World"></a>PIFu for the Real World</h2><p><a href="https://github.com/X-zhangyang/SelfPIFu--PIFu-for-the-Real-World">X-zhangyang/SelfPIFuâ€”PIFu-for-the-Real-World: Dressed Human Reconstrcution from Single-view Real World Image (github.com)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4660017586591776769&amp;noteId=1996688855483354880">PIFu for the Real World: A Self-supervised Framework to Reconstruct Dressed Human from Single-view Images (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008194000.png" alt="image.png|666"></p><h2 id="DIFu"><a href="#DIFu" class="headerlink" title="DIFu"></a>DIFu</h2><p><a href="https://eadcat.github.io/DIFu/">DIFu: Depth-Guided Implicit Function for Clothed Human Reconstruction (eadcat.github.io)</a><br><a href="https://openaccess.thecvf.com/content/CVPR2023/papers/Song_DIFu_Depth-Guided_Implicit_Function_for_Clothed_Human_Reconstruction_CVPR_2023_paper.pdf">DIFu: Depth-Guided Implicit Function for Clothed Human Reconstruction (thecvf.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008114221.png" alt="image.png|666"></p><h2 id="SeSDF"><a href="#SeSDF" class="headerlink" title="SeSDF"></a>SeSDF</h2><p><a href="https://yukangcao.github.io/SeSDF/">SeSDF: Self-evolved Signed Distance Field for Implicit 3D Clothed Human Reconstruction (yukangcao.github.io)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4740902287992438785&amp;noteId=1996730143273232896">SeSDF: Self-evolved Signed Distance Field for Implicit 3D Clothed Human Reconstruction (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008113348.png" alt="image.png|666"></p><h2 id="UNIF"><a href="#UNIF" class="headerlink" title="UNIF"></a>UNIF</h2><p><a href="https://shenhanqian.github.io/unif">UNIF: United Neural Implicit Functions for Clothed Human Reconstruction and Animation | Shenhan Qian</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4648065386802069505&amp;noteId=1996740483288731392">UNIF: United Neural Implicit Functions for Clothed Human Reconstruction and Animation (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008163003.png" alt="image.png|666"></p><h2 id="Structured-3D-Features"><a href="#Structured-3D-Features" class="headerlink" title="Structured 3D Features"></a>Structured 3D Features</h2><p>Reconstructing <strong>Relightable</strong> and <strong>Animatable</strong> Avatars<br><a href="https://enriccorona.github.io/s3f/">Enric Corona</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4700589883291336705&amp;noteId=1996756493166029056">Structured 3D Features for Reconstructing Relightable and Animatable Avatars (readpaper.com)</a></p><p>X,3d fea,2d fea â€”&gt; transformer â€”&gt; sdf, albedo<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008174219.png" alt="image.png|666"></p><h2 id="GTA"><a href="#GTA" class="headerlink" title="GTA"></a>GTA</h2><p><a href="https://river-zhang.github.io/GTA-projectpage/">Global-correlated 3D-decoupling Transformer for Clothed Avatar Reconstruction (river-zhang.github.io)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4804636732393783297&amp;noteId=2021327250504312576">Global-correlated 3D-decoupling Transformer for Clothed Avatar Reconstruction (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231016094412.png" alt="image.png|666"></p><h2 id="Get3DHuman"><a href="#Get3DHuman" class="headerlink" title="Get3DHuman"></a>Get3DHuman</h2><p><a href="https://x-zhangyang.github.io/2023_Get3DHuman/">Get3DHuman: Lifting StyleGAN-Human into a 3D Generative Model using Pixel-aligned Reconstruction Priors. (x-zhangyang.github.io)</a></p><p>GAN + PIFus<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023160121.png" alt="image.png|666"></p><h2 id="DRIFu"><a href="#DRIFu" class="headerlink" title="DRIFu"></a>DRIFu</h2><p><a href="https://github.com/kuangzijian/drifu-for-animals">kuangzijian/drifu-for-animals: meta-learning based pifu model for animals (github.com)</a></p><p>é¸Ÿç±»PIFu<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231123151648.png" alt="image.png|666"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231123151707.png" alt="image.png|666"></p><h3 id="SIFU"><a href="#SIFU" class="headerlink" title="SIFU"></a>SIFU</h3><p><a href="https://river-zhang.github.io/SIFU-projectpage/">SIFU Project Page (river-zhang.github.io)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231218204004.png" alt="image.png|666"></p><h1 id="Depth-amp-Normal-Estimation-2"><a href="#Depth-amp-Normal-Estimation-2" class="headerlink" title="Depth&amp;Normal Estimation"></a>Depth&amp;Normal Estimation</h1><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930182135.png" alt="image.png|444"></p><h2 id="ICON"><a href="#ICON" class="headerlink" title="ICON"></a>ICON</h2><blockquote><p><a href="ICON.md">ICON: Implicit Clothed humans Obtained from Normals</a><br><a href="https://icon.is.tue.mpg.de/">ICON (mpg.de)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930162915.png" alt="image.png|666"></p><h2 id="ECON"><a href="#ECON" class="headerlink" title="ECON"></a>ECON</h2><blockquote><p><a href="ECON.md">ECON: Explicit Clothed humans Obtained from Normals</a><br><a href="https://xiuyuliang.cn/econ/">ECON: Explicit Clothed humans Optimized via Normal integration (xiuyuliang.cn)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930173026.png" alt="image.png|666"></p><h2 id="2K2K"><a href="#2K2K" class="headerlink" title="2K2K"></a>2K2K</h2><p>DepthEstimation</p><blockquote><p><a href="2K2K.md">2K2Kï¼šHigh-fidelity 3D Human Digitization from Single 2K Resolution Images</a><br><a href="https://sanghunhan92.github.io/conference/2K2K/">High-fidelity 3D Human Digitization from Single 2K Resolution Images Project Page (sanghunhan92.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921160120.png" alt="image.png|666"></p><h2 id="MVSNet"><a href="#MVSNet" class="headerlink" title="MVSNet"></a>MVSNet</h2><p>DepthEstimation</p><blockquote><p><a href="MVSNet.md">MVSNet: Depth Inference for Unstructured Multi-view Stereo</a><br><a href="https://github.com/YoYo000/MVSNet">YoYo000/MVSNet: MVSNet (ECCV2018) &amp; R-MVSNet (CVPR2019) (github.com)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231002110228.png" alt="image.png|666"></p><h2 id="GC-MVSNet"><a href="#GC-MVSNet" class="headerlink" title="GC-MVSNet"></a>GC-MVSNet</h2><p>å¤šå°ºåº¦+å¤šè§†å›¾å‡ ä½•ä¸€è‡´æ€§<br><a href="https://arxiv.org/abs/2310.19583">GC-MVSNet: Multi-View, Multi-Scale, Geometrically-Consistent Multi-View Stereo (arxiv.org)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231031172920.png" alt="image.png|666"></p><h2 id="MonoDiffusion"><a href="#MonoDiffusion" class="headerlink" title="MonoDiffusion"></a>MonoDiffusion</h2><p><a href="https://arxiv.org/abs/2311.07198">MonoDiffusion: Self-Supervised Monocular Depth Estimation Using Diffusion Model</a></p><p>ç”¨ Diffusion Model è¿›è¡Œæ·±åº¦ä¼°è®¡(è‡ªåŠ¨é©¾é©¶)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116153515.png" alt="image.png|666"></p><h2 id="NDDepth"><a href="#NDDepth" class="headerlink" title="NDDepth"></a>NDDepth</h2><p><a href="https://arxiv.org/abs/2311.07166">NDDepth: Normal-Distance Assisted Monocular Depth Estimation and Completion</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116153659.png" alt="image.png|666"></p><h2 id="OccNeRF"><a href="#OccNeRF" class="headerlink" title="OccNeRF"></a>OccNeRF</h2><p><a href="https://github.com/LinShan-Bin/OccNeRF">LinShan-Bin/OccNeRF: Code of â€œOccNeRF: Self-Supervised Multi-Camera Occupancy Prediction with Neural Radiance Fieldsâ€. (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231218200234.png" alt="image.png|666"></p><h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h2 id="Texture"><a href="#Texture" class="headerlink" title="Texture"></a>Texture</h2><h3 id="Paint3D"><a href="#Paint3D" class="headerlink" title="Paint3D"></a>Paint3D</h3><p><a href="https://github.com/OpenTexture/Paint3D">OpenTexture/Paint3D: Paint3D: Paint Anything 3D with Lighting-Less Texture Diffusion Models, a no lighting baked texture generative model (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231223172838.png" alt="image.png|666"></p><h2 id="Explicit-Template-Decomposition"><a href="#Explicit-Template-Decomposition" class="headerlink" title="Explicit Template Decomposition"></a>Explicit Template Decomposition</h2><h3 id="TeCH"><a href="#TeCH" class="headerlink" title="TeCH"></a>TeCH</h3><p><a href="https://huangyangyi.github.io/TeCH/">TeCH: Text-guided Reconstruction of Lifelike Clothed Humans (huangyangyi.github.io)</a></p><p>DMTet è¡¨ç¤ºï¼šconsists of an explicit body shape grid and an implicit distance field<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231102112309.png" alt="image.png|666"></p><h3 id="CloSET"><a href="#CloSET" class="headerlink" title="CloSET"></a>CloSET</h3><p><a href="https://www.liuyebin.com/closet/">CloSET CVPR 2023 (liuyebin.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008110803.png" alt="image.png|666"></p><h3 id="Chupa"><a href="#Chupa" class="headerlink" title="Chupa"></a>Chupa</h3><p><a href="https://snuvclab.github.io/chupa/">Chupa (snuvclab.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008164813.png" alt="image.png|666"></p><h2 id="Human-Face"><a href="#Human-Face" class="headerlink" title="Human Face"></a>Human Face</h2><h2 id="GPAvatar"><a href="#GPAvatar" class="headerlink" title="GPAvatar"></a>GPAvatar</h2><p><a href="https://github.com/xg-chu/GPAvatar">xg-chu/GPAvatar: [ICLR 2024] Generalizable and Precise Head Avatar from Image(s) (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240122172842.png" alt="image.png|666"></p><h3 id="HeadRecon"><a href="#HeadRecon" class="headerlink" title="HeadRecon"></a>HeadRecon</h3><p><a href="https://arxiv.org/abs/2312.08863">[2312.08863] HeadRecon: High-Fidelity 3D Head Reconstruction from Monocular Video (arxiv.org)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231218201501.png" alt="image.png|666"></p><h3 id="GaussianHead"><a href="#GaussianHead" class="headerlink" title="GaussianHead"></a>GaussianHead</h3><p><a href="https://arxiv.org/abs/2312.01632">[2312.01632] GaussianHead: Impressive 3D Gaussian-based Head Avatars with Dynamic Hybrid Neural Field (arxiv.org)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231205153845.png" alt="image.png|666"></p><h3 id="GaussianAvatars"><a href="#GaussianAvatars" class="headerlink" title="GaussianAvatars"></a>GaussianAvatars</h3><p><a href="https://shenhanqian.github.io/gaussian-avatars">GaussianAvatars: Photorealistic Head Avatars with Rigged 3D Gaussians | Shenhan Qian</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/picturesmethod.jpg" alt="method.jpg|666"></p><h3 id="TRAvatar"><a href="#TRAvatar" class="headerlink" title="TRAvatar"></a>TRAvatar</h3><p><a href="https://travatar-paper.github.io/">Towards Practical Capture of High-Fidelity Relightable Avatars (travatar-paper.github.io)</a></p><p>åŠ¨æ€äººè„¸<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231121121931.png" alt="image.png|666"></p><h3 id="FLARE"><a href="#FLARE" class="headerlink" title="FLARE"></a>FLARE</h3><p><a href="https://flare.is.tue.mpg.de/">FLARE (mpg.de)</a></p><p>FLARE: Fast Learning of Animatable and Relightable Mesh Avatars</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231114093649.png" alt="image.png|666"></p><h3 id="HRN"><a href="#HRN" class="headerlink" title="HRN"></a>HRN</h3><blockquote><p><a href="HRN.md">A Hierarchical Representation Network for Accurate and Detailed Face Reconstruction from In-The-Wild Images</a><br><a href="https://younglbw.github.io/HRN-homepage/">HRN (younglbw.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921173632.png" alt="image.png|666"></p><h3 id="å•ç›®-3D-äººè„¸é‡å»º"><a href="#å•ç›®-3D-äººè„¸é‡å»º" class="headerlink" title="å•ç›® 3D äººè„¸é‡å»º"></a>å•ç›® 3D äººè„¸é‡å»º</h3><p><a href="https://arxiv.org/abs/2310.19580">A Perceptual Shape Loss for Monocular 3D Face Reconstruction</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231031181210.png" alt="image.png|666"></p><h3 id="BakedAvatar"><a href="#BakedAvatar" class="headerlink" title="BakedAvatar"></a>BakedAvatar</h3><p><a href="https://arxiv.org/pdf/2311.05521.pdf">BakedAvatar: Baking Neural Fields for Real-Time Head Avatar Synthesis (arxiv.org)</a></p><p>å¤´éƒ¨å®æ—¶æ–°è§†å›¾ç”Ÿæˆ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231110155612.png" alt="image.png|666"></p><h3 id="Video"><a href="#Video" class="headerlink" title="Video"></a>Video</h3><ul><li><strong>3D-Aware Talking-Head Video Motion Transfer</strong> <a href="https://arxiv.org/abs/2311.02549">https://arxiv.org/abs/2311.02549</a></li><li><a href="https://yudeng.github.io/Portrait4D/">Portrait4D: Learning One-Shot 4D Head Avatar Synthesis using Synthetic Data (yudeng.github.io)</a></li><li><a href="https://tobias-kirschstein.github.io/diffusion-avatars/">DiffusionAvatars: Deferred Diffusion for High-fidelity 3D Head Avatars (tobias-kirschstein.github.io)</a></li><li><a href="https://ustc3dv.github.io/CosAvatar/">CosAvatar (ustc3dv.github.io)</a></li></ul><h2 id="Segmented-Instance-Object"><a href="#Segmented-Instance-Object" class="headerlink" title="Segmented Instance/Object"></a>Segmented Instance/Object</h2><h3 id="Registered-and-Segmented-Deformable-Object-Reconstruction-from-a-Single-View-Point-Cloud"><a href="#Registered-and-Segmented-Deformable-Object-Reconstruction-from-a-Single-View-Point-Cloud" class="headerlink" title="Registered and Segmented Deformable Object Reconstruction from a Single View Point Cloud"></a>Registered and Segmented Deformable Object Reconstruction from a Single View Point Cloud</h3><p><a href="https://arxiv.org/abs/2311.07357">Registered and Segmented Deformable Object Reconstruction from a Single View Point Cloud</a></p><p>é…å‡† + åˆ†å‰²ç‰©ä½“é‡å»º<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116153203.png" alt="image.png|666"></p><h3 id="3DFusion-A-real-time-3D-object-reconstruction-pipeline-based-on-streamed-instance-segmented-data"><a href="#3DFusion-A-real-time-3D-object-reconstruction-pipeline-based-on-streamed-instance-segmented-data" class="headerlink" title="3DFusion, A real-time 3D object reconstruction pipeline based on streamed instance segmented data"></a>3DFusion, A real-time 3D object reconstruction pipeline based on streamed instance segmented data</h3><p><a href="https://arxiv.org/abs/2311.06659">3DFusion, A real-time 3D object reconstruction pipeline based on streamed instance segmented data</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116153353.png" alt="image.png|555"></p><h2 id="Human-Body-Shape-Completion"><a href="#Human-Body-Shape-Completion" class="headerlink" title="Human Body Shape Completion"></a>Human Body Shape Completion</h2><p><a href="https://openaccess.thecvf.com/content/CVPR2023/papers/Zhou_Human_Body_Shape_Completion_With_Implicit_Shape_and_Flow_Learning_CVPR_2023_paper.pdf">Human Body Shape Completion With Implicit Shape and Flow Learning (thecvf.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008160354.png" alt="image.png|666"></p><h2 id="Incomplete-Image"><a href="#Incomplete-Image" class="headerlink" title="Incomplete Image"></a>Incomplete Image</h2><p>Complete 3D Human Reconstruction from a Single Incomplete Image</p><p><a href="https://junyingw.github.io/paper/3d_inpainting/">Complete 3D Human Reconstruction from a Single Incomplete Image (junyingw.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008114841.png" alt="image.png|666"></p><h2 id="New-NetWork-FeatER"><a href="#New-NetWork-FeatER" class="headerlink" title="New NetWork FeatER"></a>New NetWork FeatER</h2><p><a href="https://zczcwh.github.io/feater_page/">FeatER: An Efficient Network for Human Reconstruction via Feature Map-Based TransformER (zczcwh.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231008160659.png" alt="image.png|666"></p><h2 id="HF-Avatar"><a href="#HF-Avatar" class="headerlink" title="HF-Avatar"></a>HF-Avatar</h2><p><a href="https://github.com/hzhao1997/HF-Avatar?tab=readme-ov-file">hzhao1997/HF-Avatar (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231017182026.png" alt="image.png|666"></p><h2 id="å¤šæ¨¡æ€æ•°å­—äººç”Ÿæˆ-æ•°å­—äººè§†é¢‘"><a href="#å¤šæ¨¡æ€æ•°å­—äººç”Ÿæˆ-æ•°å­—äººè§†é¢‘" class="headerlink" title="å¤šæ¨¡æ€æ•°å­—äººç”Ÿæˆ(æ•°å­—äººè§†é¢‘)"></a>å¤šæ¨¡æ€æ•°å­—äººç”Ÿæˆ(æ•°å­—äººè§†é¢‘)</h2><p><a href="https://arxiv.org/pdf/2310.20251.pdf">An Implementation of Multimodal Fusion System for Intelligent Digital Human Generation</a></p><p>è¾“å…¥ï¼šæ–‡æœ¬ã€éŸ³é¢‘ã€å›¾ç‰‡<br>è¾“å‡ºï¼šè‡ªå®šä¹‰äººç‰©è§†é¢‘(å›¾ç‰‡/+ä¿®æ”¹/+é£æ ¼åŒ–)+éŸ³é¢‘(æ–‡æœ¬åˆæˆ+éŸ³é¢‘éŸ³è‰²å‚è€ƒ)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231101153147.png" alt="image.png|666"></p><h3 id="IPVNet"><a href="#IPVNet" class="headerlink" title="IPVNet"></a>IPVNet</h3><p><a href="https://github.com/robotic-vision-lab/Implicit-Point-Voxel-Features-Network">robotic-vision-lab/Implicit-Point-Voxel-Features-Network: Implicit deep neural network for 3D surface reconstruction. (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231108222654.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> ClothedHumans </tag>
            
            <tag> PointCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GeoMVSNet</title>
      <link href="/3DReconstruction/Multi-view/Depth%20Estimation/GeoMVSNet/"/>
      <url>/3DReconstruction/Multi-view/Depth%20Estimation/GeoMVSNet/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>GeoMVSNet: Learning Multi-View Stereo With Geometry Perception</th></tr></thead><tbody><tr><td>Author</td><td>Zhang, Zhe and Peng, Rui and Hu, Yuxi and Wang, Ronggang</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/doubleZ0108/GeoMVSNet">doubleZ0108/GeoMVSNet: [CVPR 23â€™] GeoMVSNet: Learning Multi-View Stereo with Geometry Perception (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=1807465782777293568&amp;noteId=1990827633705815808">GeoMVSNet: Learning Multi-View Stereo with Geometry Perception (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231005100022.png" alt="image.png|666"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æœ€è¿‘çš„çº§è”å¤šè§†å›¾ç«‹ä½“ (MVS) æ–¹æ³•å¯ä»¥é€šè¿‡ç¼©å°å‡è®¾èŒƒå›´æ¥æœ‰æ•ˆåœ°ä¼°è®¡é«˜åˆ†è¾¨ç‡æ·±åº¦å›¾ã€‚ç„¶è€Œï¼Œä»¥å¾€çš„æ–¹æ³•å¿½ç•¥äº†ç²—é˜¶æ®µåµŒå…¥çš„é‡è¦å‡ ä½•ä¿¡æ¯ï¼Œå¯¼è‡´ä»£ä»·åŒ¹é…è„†å¼±ï¼Œé‡æ„ç»“æœæ¬¡ä¼˜ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå‡ ä½•æ„ŸçŸ¥æ¨¡å‹ï¼Œç§°ä¸ºGeoMVSNetï¼Œä»¥æ˜¾å¼åœ°æ•´åˆç²—é˜¶æ®µéšå«çš„å‡ ä½•çº¿ç´¢è¿›è¡Œç²¾ç»†æ·±åº¦ä¼°è®¡ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªåŒåˆ†æ”¯å‡ ä½•èåˆç½‘ç»œï¼Œä»ç²—ä¼°è®¡ä¸­æå–å‡ ä½•å…ˆéªŒï¼Œä»¥å¢å¼ºæ›´ç²¾ç»†é˜¶æ®µçš„ç»“æ„ç‰¹å¾æå–ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ç¼–ç æœ‰ä»·å€¼çš„æ·±åº¦åˆ†å¸ƒå±æ€§çš„ç²—æ¦‚ç‡ä½“ç§¯åµŒå…¥åˆ°è½»é‡çº§æ­£åˆ™åŒ–ç½‘ç»œä¸­ï¼Œä»¥è¿›ä¸€æ­¥åŠ å¼ºæ·±åº¦å‡ ä½•ç›´è§‰ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬åº”ç”¨é¢‘åŸŸæ»¤æ³¢æ¥å‡è½»é«˜é¢‘åŒºåŸŸçš„è´Ÿé¢å½±å“ï¼Œå¹¶é‡‡ç”¨è¯¾ç¨‹å­¦ä¹ ç­–ç•¥é€æ­¥æå‡æ¨¡å‹çš„å‡ ä½•é›†æˆã€‚ä¸ºäº†å¢å¼ºæˆ‘ä»¬æ¨¡å‹çš„å…¨åœºæ™¯å‡ ä½•æ„ŸçŸ¥ï¼Œæˆ‘ä»¬æå‡ºäº†åŸºäºé«˜æ–¯æ··åˆæ¨¡å‹å‡è®¾çš„æ·±åº¦åˆ†å¸ƒç›¸ä¼¼æ€§æŸå¤±ã€‚åœ¨DTUå’ŒTankså’ŒTemples (T&amp;T)æ•°æ®é›†ä¸Šçš„å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„GeoMVSNetå®ç°äº†æœ€å…ˆè¿›çš„ç»“æœï¼Œå¹¶åœ¨T&amp;T-Advancedé›†ä¸Šæ’åç¬¬ä¸€</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVSNet</title>
      <link href="/3DReconstruction/Multi-view/Depth%20Estimation/MVSNet/"/>
      <url>/3DReconstruction/Multi-view/Depth%20Estimation/MVSNet/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>MVSNet: Depth Inference for Unstructured Multi-view Stereo</th></tr></thead><tbody><tr><td>Author</td><td>Yao, Yao and Luo, Zixin and Li, Shiwei and Fang, Tian and Quan, Long</td></tr><tr><td>Conf/Jour</td><td>ECCV</td></tr><tr><td>Year</td><td>2018</td></tr><tr><td>Project</td><td><a href="https://github.com/YoYo000/MVSNet">YoYo000/MVSNet: MVSNet (ECCV2018) &amp; R-MVSNet (CVPR2019) (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4518062699161739265&amp;noteId=1986540055632613120">MVSNet: Depth Inference for Unstructured Multi-view Stereo (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231002110228.png" alt="image.png|666"></p><p>æ·±åº¦ä¼°è®¡æ–¹æ³•</p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ·±åº¦å­¦ä¹ æ¶æ„ï¼Œ<strong>ç”¨äºä»å¤šè§†å›¾å›¾åƒä¸­æ¨æ–­æ·±åº¦å›¾</strong>ã€‚åœ¨è¯¥ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæå–æ·±åº¦è§†è§‰å›¾åƒç‰¹å¾ï¼Œç„¶åé€šè¿‡<strong>å¯å¾®å•åº”æ€§å˜å½¢</strong>åœ¨å‚è€ƒæ‘„åƒæœºæˆªé”¥ä½“ä¸Šæ„å»ºä¸‰ç»´ä»£ä»·ä½“ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åº”ç”¨3Då·ç§¯å¯¹åˆå§‹æ·±åº¦å›¾è¿›è¡Œæ­£åˆ™åŒ–å’Œå›å½’ï¼Œç„¶åä½¿ç”¨å‚è€ƒå›¾åƒå¯¹å…¶è¿›è¡Œç»†åŒ–ä»¥ç”Ÿæˆæœ€ç»ˆè¾“å‡ºã€‚æˆ‘ä»¬çš„æ¡†æ¶çµæ´»åœ°é€‚åº”ä»»æ„nè§†å›¾è¾“å…¥ï¼Œä½¿ç”¨åŸºäºæ–¹å·®çš„æˆæœ¬åº¦é‡ï¼Œå°†å¤šä¸ªç‰¹å¾æ˜ å°„åˆ°ä¸€ä¸ªæˆæœ¬ç‰¹å¾ã€‚åœ¨å¤§å‹å®¤å†…DTUæ•°æ®é›†ä¸ŠéªŒè¯äº†æ‰€æå‡ºçš„MVSNetã€‚é€šè¿‡ç®€å•çš„åå¤„ç†ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¸ä»…æ˜æ˜¾ä¼˜äºä»¥å‰çš„æœ€å…ˆè¿›çš„æŠ€æœ¯ï¼Œè€Œä¸”åœ¨è¿è¡Œæ—¶ä¹Ÿå¿«äº†å¥½å‡ å€ã€‚æˆ‘ä»¬è¿˜åœ¨å¤æ‚çš„å®¤å¤–å¦å…‹å’Œå¯ºåº™æ•°æ®é›†ä¸Šå¯¹MVSNetè¿›è¡Œäº†è¯„ä¼°ï¼Œåœ¨2018å¹´4æœˆ18æ—¥ä¹‹å‰ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨æ²¡æœ‰ä»»ä½•å¾®è°ƒçš„æƒ…å†µä¸‹æ’åç¬¬ä¸€ï¼Œæ˜¾ç¤ºäº†MVSNetå¼ºå¤§çš„æ³›åŒ–èƒ½åŠ›</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p><strong>1 Image Features</strong> é€šè¿‡CNNæå–å›¾ç‰‡ç‰¹å¾ï¼Œå…±Nå¼ å›¾ç‰‡</p><p><strong>2 Differentiable Homography</strong> å¯å¾®å•åº”æ€§deep featuresâ†’feature volumes</p><p><strong>ç¬¬iä¸ªç‰¹å¾mapä¸å‚è€ƒç‰¹å¾mapåœ¨æ·±åº¦dä¹‹é—´çš„å•åº”æ€§</strong>$\mathrm{x}^{\prime}\sim\mathrm{H}_{i}(d)\cdot\mathbf{x},$</p><p>$\mathbf{H}_{i}(d)=\mathbf{K}_{i}\cdot\mathbf{R}_{i}\cdot\left(\mathbf{I}-\frac{(\mathbf{t}_{1}-\mathbf{t}_{i})\cdot\mathbf{n}_{1}^{T}}{d}\right)\cdot\mathbf{R}_{1}^{T}\cdot\mathbf{K}_{1}^{T}.$</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/363830541">Multi-View Stereoä¸­çš„å¹³é¢æ‰«æ(plane sweep) - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>General Homographyæ­£ç¡®çš„ï¼š$H=K_{i}(R_{i}R_{1}^{T}-\frac{(\mathbf{t}_{i}-R_{i}R_{1}^{T}\mathbf{t}_{1})\mathbf{n}_{1}^{T}}{d})K_{1}^{-1}.$</p><p>å°†å…¶ä»–å›¾åƒçš„featureé€šè¿‡å¯å¾®çš„å•åº”å˜æ¢ï¼Œwarpåˆ°å‚è€ƒå›¾åƒç›¸æœºå‰çš„è¿™äº›å¹³è¡Œå¹³é¢ä¸Šï¼Œæ„æˆä¸€ä¸ª3Dçš„Feature Volume<br>å°†æ‰€æœ‰ç‰¹å¾æ˜ å°„æ‰­æ›²åˆ°å‚è€ƒç›¸æœºçš„ä¸åŒå‰å¹³è¡Œå¹³é¢ï¼Œå½¢æˆNä¸ªç‰¹å¾ä½“$\{\mathbf{V}_i\}_{i=1}^N.$</p><p><strong>3 Cost Metric</strong> å°†å¤šä¸ªç‰¹å¾ä½“èšåˆä¸ºä¸€ä¸ªä»£ä»·ä½“feature volumesâ†’Cost Volumes<br>$\mathbf{C}=\mathcal{M}(\mathbf{V}_1,\cdots,\mathbf{V}_N)=\frac{\sum\limits_{i=1}^N{(\mathbf{V}_i-\overline{\mathbf{V}_i})^2}}{N}$</p><p><strong>4 Cost Volume Regularization</strong> cost volumeç»è¿‡ä¸€ä¸ªå››çº§çš„U-Netç»“æ„æ¥ç”Ÿæˆä¸€ä¸ªprobability volume</p><p>probability volumeï¼šæ¯ä¸ªæ·±åº¦ä¸‹ï¼Œæ¯ä¸ªåƒç´ çš„å¯èƒ½æ€§å¤§å°</p><p><strong>5 Depth Map</strong></p><p>$\mathbf{D}=\sum_{d=d_{min}}^{d_{max}}d\times\mathbf{P}(d)$</p><p>Refinementï¼šå°†æ·±åº¦å›¾ä¸åŸå§‹å›¾åƒä¸²è¿æˆä¸€ä¸ªå››é€šé“çš„è¾“å…¥ï¼Œç»è¿‡ç¥ç»ç½‘ç»œå¾—åˆ°æ·±åº¦æ®‹å·®ï¼Œç„¶ååŠ åˆ°ä¹‹å‰çš„æ·±åº¦å›¾ä¸Šä»è€Œå¾—åˆ°æœ€ç»ˆçš„æ·±åº¦å›¾</p><p>ä¼˜åŒ–ï¼š$Loss=\sum_{p\in\mathbf{p}_{valid}}\underbrace{|d(p)-\hat{d}_i(p)|_1}_{Loss0}+\lambda\cdot\underbrace{|d(p)-\hat{d}_r(p)|_1}_{Loss1}$</p><h1 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h1><p>MVSNetçš„æ•ˆç‡è¦é«˜å¾—å¤šï¼Œé‡å»ºä¸€æ¬¡æ‰«æå¤§çº¦éœ€è¦230ç§’(æ¯ä¸ªè§†å›¾4.7ç§’)<br>MVSNetæ‰€éœ€çš„GPUå†…å­˜ä¸è¾“å…¥å›¾åƒå¤§å°å’Œæ·±åº¦é‡‡æ ·æ•°æœ‰å…³ã€‚ä¸ºäº†åœ¨åŸå§‹å›¾åƒåˆ†è¾¨ç‡å’Œè¶³å¤Ÿæ·±åº¦å‡è®¾ä¸‹å¯¹å¦å…‹å’Œå¯ºåº™è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬é€‰æ‹©Tesla P100æ˜¾å¡(16gb)æ¥å®ç°æˆ‘ä»¬çš„æ–¹æ³•ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒDTUæ•°æ®é›†ä¸Šçš„è®­ç»ƒå’ŒéªŒè¯å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¶ˆè´¹çº§GTX 1080tiæ˜¾å¡(11 GB)å®Œæˆ<br>å±€é™ï¼š<br>1)æä¾›çš„åœ°é¢çœŸå€¼ç½‘æ ¼ä¸æ˜¯100%å®Œæ•´ï¼Œå› æ­¤å‰æ™¯åé¢çš„ä¸€äº›ä¸‰è§’å½¢ä¼šè¢«é”™è¯¯åœ°æ¸²æŸ“åˆ°æ·±åº¦å›¾ä¸­ä½œä¸ºæœ‰æ•ˆåƒç´ ï¼Œè¿™å¯èƒ½ä¼šå½±å“è®­ç»ƒè¿‡ç¨‹ã€‚<br>2)å¦‚æœä¸€ä¸ªåƒç´ åœ¨å…¶ä»–æ‰€æœ‰è§†å›¾ä¸­éƒ½è¢«é®æŒ¡ï¼Œåˆ™ä¸åº”ç”¨äºè®­ç»ƒã€‚ç„¶è€Œï¼Œå¦‚æœæ²¡æœ‰å®Œæ•´çš„ç½‘æ ¼è¡¨é¢ï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ­£ç¡®è¯†åˆ«è¢«é®æŒ¡çš„åƒç´ ã€‚æˆ‘ä»¬å¸Œæœ›æœªæ¥çš„MVSæ•°æ®é›†èƒ½å¤Ÿæä¾›å…·æœ‰å®Œæ•´é®æŒ¡å’ŒèƒŒæ™¯ä¿¡æ¯çš„åœ°çœŸæ·±åº¦å›¾ã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç”¨äºMVSé‡å»ºçš„æ·±åº¦å­¦ä¹ æ¶æ„ã€‚æå‡ºçš„MVSNetå°†éç»“æ„åŒ–å›¾åƒä½œä¸ºè¾“å…¥ï¼Œå¹¶ä»¥ç«¯åˆ°ç«¯æ–¹å¼æ¨æ–­å‚è€ƒå›¾åƒçš„æ·±åº¦å›¾ã€‚MVSNetçš„æ ¸å¿ƒè´¡çŒ®æ˜¯å°†æ‘„åƒæœºå‚æ•°ç¼–ç ä¸ºå¯å¾®å•åº”è¯ï¼Œåœ¨æ‘„åƒæœºè§†å°ä¸Šæ„å»ºä»£ä»·ä½“ï¼Œæ¶èµ·äº†äºŒç»´ç‰¹å¾æå–å’Œä¸‰ç»´ä»£ä»·æ­£åˆ™åŒ–ç½‘ç»œçš„æ¡¥æ¢ã€‚onDTUæ•°æ®é›†è¯æ˜ï¼ŒMVSNetä¸ä»…æ˜¾è‘—ä¼˜äºä»¥å‰çš„æ–¹æ³•ï¼Œè€Œä¸”åœ¨é€Ÿåº¦ä¸Šä¹Ÿæé«˜äº†å‡ å€ã€‚æ­¤å¤–ï¼ŒMVSNetåœ¨æ²¡æœ‰ä»»ä½•å¾®è°ƒçš„æƒ…å†µä¸‹ï¼Œåœ¨å¦å…‹å’Œåº™å®‡æ•°æ®é›†ä¸Šäº§ç”Ÿäº†æœ€å…ˆè¿›çš„ç»“æœï¼Œè¿™è¡¨æ˜äº†å®ƒå¼ºå¤§çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ECON</title>
      <link href="/3DReconstruction/Single-view/Depth%20Estimation/ECON/"/>
      <url>/3DReconstruction/Single-view/Depth%20Estimation/ECON/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>ECON: Explicit Clothed humans Obtained from Normals</th></tr></thead><tbody><tr><td>Author</td><td>Yuliang Xiu1 Jinlong Yang1 Xu Cao2 Dimitrios Tzionas3 Michael J. Black1</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://xiuyuliang.cn/econ/">ECON: Explicit Clothed humans Optimized via Normal integration (xiuyuliang.cn)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4700954831381069826&amp;noteId=1983981033620573952">ECON: Explicit Clothed humans Obtained from Normals (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930173026.png" alt="image.png"></p><p>å§¿æ€ç¨³å®š(<strong>ICONåœ¨éš¾çš„å§¿åŠ¿ä¸‹è¾ƒå¥½åœ°é‡å»º</strong>)+çµæ´»æ‹“æ‰‘(<strong>ECONè¿˜å¯ä»¥è¾ƒå¥½åœ°é‡å»ºå®½æ¾çš„è¡£æœ</strong>)</p><p>ç¼ºé™·ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930204752.png" alt="image.png"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>è‰ºæœ¯å®¶ç­–å±•çš„æ‰«æä¸æ·±å±‚éšå¼å‡½æ•°ï¼ˆIFï¼‰çš„ç»“åˆï¼Œä½¿å¾—å¯ä»¥ä»å›¾åƒä¸­åˆ›å»ºè¯¦ç»†çš„ã€ç©¿ç€è¡£ç‰©çš„3Däººç‰©æˆä¸ºå¯èƒ½ã€‚ç„¶è€Œï¼Œç°æœ‰æ–¹æ³•è¿œéå®Œç¾ã€‚åŸºäºIFçš„æ–¹æ³•å¯ä»¥æ¢å¤è‡ªç”±å½¢å¼çš„å‡ ä½•å½¢çŠ¶ï¼Œä½†åœ¨çœ‹ä¸è§çš„å§¿åŠ¿æˆ–æœè£…ä¸‹ä¼šäº§ç”Ÿè„±ç¦»èº«ä½“çš„è‚¢ä½“æˆ–é€€åŒ–çš„å½¢çŠ¶ã€‚ä¸ºäº†å¢åŠ è¿™äº›æƒ…å†µçš„ç¨³å¥æ€§ï¼Œç°æœ‰çš„å·¥ä½œä½¿ç”¨æ˜¾å¼å‚æ•°åŒ–èº«ä½“æ¨¡å‹æ¥é™åˆ¶è¡¨é¢é‡å»ºï¼Œä½†è¿™é™åˆ¶äº†è‡ªç”±å½¢å¼è¡¨é¢ï¼ˆå¦‚ä¸èº«ä½“ä¸ç¬¦çš„å®½æ¾æœè£…ï¼‰çš„æ¢å¤ã€‚æˆ‘ä»¬æƒ³è¦çš„æ˜¯ä¸€ç§ç»“åˆäº†éšå¼å’Œæ˜¾å¼æ–¹æ³•çš„æœ€ä½³ç‰¹æ€§çš„æ–¹æ³•ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸¤ä¸ªå…³é”®è§‚å¯Ÿç‚¹ï¼šï¼ˆ1ï¼‰å½“å‰çš„ç½‘ç»œåœ¨æ¨æ–­è¯¦ç»†çš„2D mapsæ–¹é¢è¡¨ç°æ›´å¥½ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„3Dè¡¨é¢ï¼Œä»¥åŠï¼ˆ2ï¼‰å‚æ•°åŒ–æ¨¡å‹å¯ä»¥è¢«çœ‹ä½œæ˜¯å°†è¯¦ç»†çš„è¡¨é¢ç‰‡æ®µæ‹¼æ¥åœ¨ä¸€èµ·çš„â€œç”»å¸ƒâ€ã€‚ECONå³ä½¿åœ¨å®½æ¾çš„æœè£…å’Œå…·æœ‰æŒ‘æˆ˜æ€§çš„å§¿åŠ¿ä¸‹ä¹Ÿå¯ä»¥æ¨æ–­å‡ºé«˜ä¿çœŸåº¦çš„3Däººç‰©ï¼ŒåŒæ—¶å…·æœ‰é€¼çœŸçš„é¢éƒ¨å’Œæ‰‹æŒ‡ã€‚è¿™è¶…è¶Šäº†ä»¥å‰çš„æ–¹æ³•ã€‚å¯¹CAPEå’ŒRenderpeopleæ•°æ®é›†çš„å®šé‡è¯„ä¼°è¡¨æ˜ï¼ŒECONæ¯”ç°æœ‰æŠ€æœ¯æ›´ç²¾ç¡®ã€‚æ„ŸçŸ¥ç ”ç©¶è¿˜è¡¨æ˜ï¼ŒECONçš„æ„ŸçŸ¥é€¼çœŸåº¦æ˜æ˜¾æ›´é«˜ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Detailed-normal-map-prediction"><a href="#Detailed-normal-map-prediction" class="headerlink" title="Detailed normal map prediction"></a>Detailed normal map prediction</h2><p>$\mathcal{L}_{\mathrm{SMPL-X}}=\mathcal{L}_{\mathrm{N.diff}}+\mathcal{L}_{\mathrm{S.diff}}+\mathcal{L}_{\mathrm{J.diff}},$ </p><ul><li>åœ¨ICONåŸºç¡€ä¸Šæ·»åŠ äº†(2D body landmarks)äºŒç»´åœ°æ ‡é—´çš„å…³èŠ‚æŸå¤±(L2): $\mathcal{L}_\mathrm{J_diff}=\lambda_\mathrm{J_diff}|\mathcal{J}^\mathrm{b}-\widehat{\mathcal{J}^\mathrm{c}}|,$</li></ul><h2 id="Front-and-back-surface-reconstruction"><a href="#Front-and-back-surface-reconstruction" class="headerlink" title="Front and back surface reconstruction"></a>Front and back surface reconstruction</h2><p>å°†è¦†ç›–çš„æ³•çº¿è´´å›¾æå‡åˆ°2.5Dè¡¨é¢ã€‚æˆ‘ä»¬æœŸæœ›è¿™äº›2.5Dè¡¨é¢æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶:<br>(1)é«˜é¢‘è¡¨é¢ç»†èŠ‚ä¸é¢„æµ‹çš„è¦†ç›–æ³•çº¿å›¾ä¸€è‡´;<br>(2)ä½é¢‘è¡¨é¢å˜åŒ–(åŒ…æ‹¬ä¸è¿ç»­é¢)ä¸SMPL-Xçš„ä¸€è‡´;<br>(3)å‰åè½®å»“çš„æ·±åº¦å½¼æ­¤æ¥è¿‘ã€‚</p><blockquote><p><a href="https://github.com/xucao-42/bilateral_normal_integration">xucao-42/bilateral_normal_integration: Official implementation of â€œBilateral Normal Integrationâ€ (BiNI), ECCV 2022. (github.com)</a></p></blockquote><p>åˆ©ç”¨bilateral normal integration (BiNI)æ–¹æ³•ï¼Œåˆ©ç”¨<strong>ç²—ç³™å…ˆéªŒã€æ·±åº¦å›¾å’Œè½®å»“ä¸€è‡´æ€§</strong>è¿›è¡Œå…¨èº«ç½‘æ ¼é‡å»ºã€‚<br>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ·±åº¦æ„ŸçŸ¥è½®å»“ä¸€è‡´çš„åŒè¾¹æ³•å‘ç§¯åˆ†(d-BiNI)æ–¹æ³•<br>$\mathrm{d-BiNI}(\widehat{\mathcal{N}}_{\mathrm{F}}^{\mathrm{c}},\widehat{\mathcal{N}}_{\mathrm{B}}^{\mathrm{c}},\mathcal{Z}_{\mathrm{F}}^{\mathrm{b}},\mathcal{Z}_{\mathrm{B}}^{\mathrm{b}})\to\widehat{\mathcal{Z}}_{\mathrm{F}}^{\mathrm{c}},\widehat{\mathcal{Z}}_{\mathrm{B}}^{\mathrm{c}}.$</p><p>ä¼˜åŒ–æ–¹æ³•ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930184708.png" alt="image.png"></p><ul><li>$\mathcal{L}_{\mathrm{n}}$ ç”±BiNIå¼•å…¥çš„å‰åBiNIé¡¹</li><li>$\mathcal{L}_{\mathrm{d}}$ å‰åæ·±åº¦prioré¡¹ ï¼Œ$\mathcal{L}_{\mathrm{d}}(\widehat{\cal Z}_{i}^{\mathrm{c}};\mathcal{Z}_{i}^{\mathrm{b}})=|\widehat{\cal Z}_{i}^{\mathrm{c}}-\mathcal{Z}_{i}^{\mathrm{b}}|\quad i\in\{F,B\}.$</li><li>$\mathcal{L}_{\mathrm{s}}$ å‰åè½®å»“ä¸€è‡´æ€§é¡¹ï¼Œ$\mathcal{L}_{\mathrm{s}}(\widehat{\mathcal{Z}_{\mathrm{F}}^{\mathrm{c}}},\widehat{\mathcal{Z}_{\mathrm{B}}^{\mathrm{c}}})=|\widehat{\mathcal{Z}_{\mathrm{F}}^{\mathrm{c}}}-\widehat{\mathcal{Z}_{\mathrm{B}}^{\mathrm{c}}}|_{\mathrm{silhouette}}.$</li></ul><h2 id="Human-shape-completion"><a href="#Human-shape-completion" class="headerlink" title="Human shape completion"></a>Human shape completion</h2><p>sPSR(Screened poisson surface reconstruction) completion with SMPL-X (ECONEX).<br>åœ¨SMPL-Xçš„meshä¸­å°†å‰åæ‘„åƒå¤´å¯ä»¥çœ‹åˆ°çš„ä¸‰è§’å½¢ç½‘æ ¼ç§»é™¤ï¼Œç•™ä¸‹çš„ä¸‰è§’å½¢soupåŒ…æ‹¬ä¾§é¢å’Œé®æŒ¡åŒºåŸŸï¼Œå°†sPSRåº”ç”¨åˆ°soupå’Œd-BiNIæ›²é¢$\{\mathcal{M}_{\mathrm{F}},\mathcal{M}_{\mathrm{B}}\}$çš„å¹¶é›†ï¼Œå¾—åˆ°ä¸€ä¸ªæ°´å¯†é‡å»ºã€‚<em>(è¿™ç§æ–¹æ³•ç§°ä¸ºECONEXã€‚è™½ç„¶ECONEXé¿å…äº†å››è‚¢æˆ–ä¾§é¢çš„ç¼ºå¤±ï¼Œä½†ç”±äºSMPL-Xä¸å®é™…çš„è¡£æœæˆ–å¤´å‘ä¹‹é—´çš„å·®å¼‚ï¼Œå®ƒä¸èƒ½ä¸ºåŸæ¥ç¼ºå¤±çš„è¡£æœå’Œå¤´å‘è¡¨é¢äº§ç”Ÿè¿è´¯çš„è¡¨é¢;è§å›¾4ä¸­çš„ECONEX)</em></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930203744.png" alt="image.png"></p><p>Inpainting with IF-Nets+ (RIF)<br>ä¸ºäº†æé«˜é‡å»ºä¸€è‡´æ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨å­¦ä¹ çš„éšå¼å‡½æ•°(IF)æ¨¡å‹æ¥â€œè¡¥ç»˜â€ç»™å®šçš„å‰åd-BiNIè¡¨é¢ç¼ºå¤±çš„å‡ ä½•å½¢çŠ¶<br>IF-Nets+ä»¥ä½“ç´ åŒ–çš„å‰ã€ååœ°çœŸæ·±åº¦å›¾$\{\mathcal{Z}_{\mathrm{F}}^{\mathfrak{c}},\mathcal{Z}_{\mathrm{B}}^{\mathfrak{c}}\}$å’Œä½“ç´ åŒ–(ä¼°è®¡)çš„èº«ä½“ç½‘æ ¼$\mathcal{M}^{\mathrm{b}}$ä½œä¸ºè¾“å…¥è¿›è¡Œè®­ç»ƒï¼Œå¹¶ä»¥åœ°çœŸ3Då½¢çŠ¶è¿›è¡Œç›‘ç£</p><p>sPSR completion with SMPL-X and RIF (ECONIF).<br>ä¸ºäº†è·å¾—æœ€ç»ˆçš„ç½‘æ ¼Rï¼Œæˆ‘ä»¬åº”ç”¨sPSRæ¥ç¼åˆ<br>(1)d-BiNIè¡¨é¢ï¼Œ<br>(2)æ¥è‡ªRifçš„ä¾§é¢å’Œé—­å¡çš„ä¸‰è§’å½¢æ±¤çº¹ï¼Œ<br>(3)ä»ä¼°è®¡çš„SMPL-Xä½“è£å‰ªçš„è„¸æˆ–æ‰‹</p><ul><li>è™½ç„¶RIFå·²ç»æ˜¯ä¸€ä¸ªå®Œæ•´çš„äººä½“ç½‘æ ¼ï¼Œä½†æˆ‘ä»¬åªä½¿ç”¨å®ƒçš„ä¾§é¢å’Œé®æŒ¡éƒ¨åˆ†ï¼Œå› ä¸ºä¸d-BiNIè¡¨é¢ç›¸æ¯”ï¼Œå®ƒçš„æ­£é¢å’ŒèƒŒé¢åŒºåŸŸç¼ºä¹æ¸…æ™°çš„ç»†èŠ‚</li><li>æ­¤å¤–ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»$\mathcal{M}^{\mathrm{b}}$è£å‰ªçš„è„¸éƒ¨æˆ–æ‰‹ï¼Œå› ä¸ºè¿™äº›éƒ¨åˆ†åœ¨RIFä¸­é€šå¸¸é‡å»ºå¾—å¾ˆå·®</li></ul><p>IF-Nets+ ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231001100118.png" alt="image.png"></p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Training on THuman2.0. and æˆ‘ä»¬ä½¿ç”¨ THuman2.0 æ¥è®­ç»ƒ ICON å˜ä½“ï¼ŒIF-Nets+ã€IF-Netsã€PIFu å’Œ PaMIRã€‚</p><h1 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h1><p>Limitations<br>ECON å°† RGB å›¾åƒå’Œä¼°è®¡çš„ SMPL-X èº«ä½“ä½œä¸ºè¾“å…¥ã€‚ç„¶è€Œï¼Œä»å•ä¸ªå›¾åƒä¸­æ¢å¤ SMPL-X èº«ä½“ï¼ˆæˆ–ç±»ä¼¼çš„æ¨¡å‹ï¼‰ä»ç„¶æ˜¯ä¸€ä¸ªæ‚¬è€Œæœªå†³çš„é—®é¢˜ï¼Œä¸èƒ½å®Œå…¨è§£å†³ã€‚è¿™ä¸­çš„ä»»ä½•æ•…éšœéƒ½ä¼šå¯¼è‡´ ECON æ•…éšœï¼Œå¦‚å›¾ 10-A å’Œå›¾ 10-B æ‰€ç¤ºã€‚ECONçš„é‡å»ºè´¨é‡ä¸»è¦ä¾èµ–äºé¢„æµ‹æ³•çº¿å›¾çš„å‡†ç¡®æ€§ã€‚å¦‚å›¾ 10-C å’Œå›¾ 10-D æ‰€ç¤ºï¼Œç³Ÿç³•çš„æ³•çº¿è´´å›¾å¯èƒ½ä¼šå¯¼è‡´è¿‡äºæ¥è¿‘ç”šè‡³ç›¸äº¤çš„å‰è¡¨é¢å’Œåè¡¨é¢ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930204752.png" alt="image.png"></p><p>Future work.<br>é™¤äº†è§£å†³ä¸Šè¿°é™åˆ¶ä¹‹å¤–ï¼Œå…¶ä»–å‡ ä¸ªæ–¹å‘å¯¹äºå®é™…åº”ç”¨å¾ˆæœ‰ç”¨ã€‚ç›®å‰ï¼ŒECONåªé‡å»º3Då‡ ä½•å›¾å½¢ã€‚è¿˜å¯ä»¥æ¢å¤åº•å±‚éª¨æ¶å’Œè’™çš®æƒé‡ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨SSDR[40]ï¼Œä»¥è·å¾—å®Œå…¨åŠ¨ç”»çš„åŒ–èº«ã€‚æ­¤å¤–ï¼Œæ¨æ–­åå‘è§†å›¾çº¹ç†å°†å¯¼è‡´å®Œå…¨çº¹ç†çš„åŒ–èº«ã€‚ä»æ¢å¤çš„å‡ ä½•å›¾å½¢ä¸­è§£å¼€æœè£…ã€å¤´å‘æˆ–é…ä»¶å°†ä½¿è¿™äº›æ ·å¼çš„åˆæˆã€ç¼–è¾‘å’Œè½¬ç§»æˆä¸ºå¯èƒ½ã€‚æœ€åï¼ŒECON çš„é‡å»ºå¯ç”¨ä½œè®­ç»ƒç¥ç»åŒ–èº«çš„ä¼ªåœ°é¢å®å†µ [16, 19, 30]ã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº† ECONï¼Œä¸€ç§ä»å½©è‰²å›¾åƒé‡å»ºè¯¦ç»†çš„ç©¿ç€è¡£æœ 3D äººä½“çš„æ–¹æ³•ã€‚ECONç»“åˆäº†æ˜¾å¼å‚æ•°æ¨¡å‹å’Œæ·±åº¦éšå‡½æ•°çš„ä¼˜ç‚¹;å®ƒä¼°è®¡äººä½“å’Œæœè£…çš„è¯¦ç»†3Dè¡¨é¢ï¼Œè€Œä¸å±€é™äºç‰¹å®šçš„æ‹“æ‰‘ï¼ŒåŒæ—¶å¯¹å…·æœ‰æŒ‘æˆ˜æ€§çš„çœ‹ä¸è§çš„å§¿åŠ¿å’Œæœè£…å…·æœ‰é²æ£’æ€§ã€‚ä¸ºæ­¤ï¼Œå®ƒé‡‡ç”¨äº†<strong>å˜åˆ†æ­£æ€ç§¯åˆ†</strong>å’Œ<strong>å½¢çŠ¶è¡¥å…¨</strong>çš„æœ€æ–°è¿›å±•ï¼Œå¹¶æœ‰æ•ˆåœ°å°†è¿™äº›æ‰©å±•åˆ°ä»å½©è‰²å›¾åƒé‡å»ºäººä½“çš„ä»»åŠ¡ã€‚æˆ‘ä»¬ç›¸ä¿¡è¿™é¡¹å·¥ä½œå¯ä»¥å¯¼è‡´ 3D è§†è§‰ç¤¾åŒºçš„å®é™…åº”ç”¨å’Œæœ‰ç”¨çš„æ•°æ®å¢å¼ºï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å‘å¸ƒäº†æˆ‘ä»¬çš„æ¨¡å‹å’Œä»£ç </p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ClothedHumans </tag>
            
            <tag> DepthEstimation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ICON</title>
      <link href="/3DReconstruction/Single-view/Implicit%20Function/ICON/"/>
      <url>/3DReconstruction/Single-view/Implicit%20Function/ICON/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>ICON: Implicit Clothed humans Obtained from Normals</th></tr></thead><tbody><tr><td>Author</td><td>Yuliang Xiu1,  Jinlong Yang1,  Dimitrios Tzionas1,2,  Michael J. Black1</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://icon.is.tue.mpg.de/">ICON (mpg.de)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?noteId=1983977872542331392">ICON: Implicit Clothed humans Obtained from Normals (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930162915.png" alt="image.png"></p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/477379718">CVPR 2022 | ICON: æé«˜ä¸‰ç»´æ•°å­—äººé‡å»ºçš„å§¿åŠ¿æ°´å¹³ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>è¾“å…¥ï¼š</p><ul><li>ç»è¿‡åˆ†å‰²çš„ç€è¡£äººç±»çš„RGBå›¾åƒ</li><li>ä»å›¾åƒä¼°è®¡å¾—åˆ°çš„SMPLèº«ä½“<ul><li>SMPLèº«ä½“ç”¨äºæŒ‡å¯¼ICONçš„ä¸¤ä¸ªæ¨¡å—ï¼šä¸€ä¸ªæ¨æ–­ç€è¡£äººç±»çš„è¯¦ç»†è¡¨é¢æ³•çº¿ï¼ˆå‰è§†å›¾å’Œåè§†å›¾ï¼‰ï¼Œå¦ä¸€ä¸ªæ¨æ–­ä¸€ä¸ªå…·æœ‰å¯è§æ€§æ„ŸçŸ¥çš„éšå¼è¡¨é¢ï¼ˆå ç”¨åœºçš„ç­‰å€¼è¡¨é¢ï¼‰</li><li><strong>è¿­ä»£åé¦ˆå¾ªç¯ä½¿ç”¨æ¨æ–­å‡ºçš„è¯¦ç»†æ³•çº¿æ¥ä¼˜åŒ–SMPL</strong></li></ul></li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>å®½æ¾çš„è¡£æœæ— æ³•é‡å»º</li><li>ä¾èµ–HPSä¼°è®¡å‡ºçš„SMPL body</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231001114030.png" alt="image.png"></p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç›®å‰ç”¨äºå­¦ä¹ é€¼çœŸå’Œå¯åŠ¨ç”»åŒ–çš„3Dæœè£…åŒ–èº«çš„æ–¹æ³•éœ€è¦æ‘†å§¿åŠ¿çš„3Dæ‰«ææˆ–å¸¦æœ‰ç²¾å¿ƒæ§åˆ¶çš„ç”¨æˆ·å§¿åŠ¿çš„2Då›¾åƒã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»…ä»ä¸å—çº¦æŸå§¿åŠ¿çš„2Då›¾åƒä¸­å­¦ä¹ åŒ–èº«ã€‚ç»™å®šä¸€ç»„å›¾åƒï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä»æ¯ä¸ªå›¾åƒä¸­ä¼°è®¡å‡ºä¸€ä¸ªè¯¦ç»†çš„3Dè¡¨é¢ï¼Œç„¶åå°†è¿™äº›å›¾åƒç»„åˆæˆä¸€ä¸ªå¯åŠ¨ç”»çš„åŒ–èº«ã€‚éšå¼å‡½æ•°éå¸¸é€‚åˆç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥æ•è·å¤´å‘å’Œè¡£æœç­‰ç»†èŠ‚ã€‚ç„¶è€Œï¼Œç›®å‰çš„æ–¹æ³•å¯¹ä¸åŒçš„äººä½“å§¿åŠ¿å¹¶ä¸å¥å£®ï¼Œå¹¶ä¸”ç»å¸¸äº§ç”Ÿå¸¦æœ‰æ–­è£‚æˆ–æ— å®ä½“è‚¢ä½“ï¼Œç¼ºå¤±ç»†èŠ‚æˆ–éäººç±»å½¢çŠ¶çš„3Dè¡¨é¢ã€‚é—®é¢˜æ˜¯è¿™äº›æ–¹æ³•ä½¿ç”¨å¯¹å…¨å±€å§¿æ€æ•æ„Ÿçš„å…¨å±€ç‰¹å¾ç¼–ç å™¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ICON(â€œä»normalè·å¾—çš„éšå¼ç©¿è¡£æœçš„äººâ€)ï¼Œå®ƒä½¿ç”¨äº†å±€éƒ¨ç‰¹å¾ã€‚<br>ICONæœ‰ä¸¤ä¸ªä¸»è¦æ¨¡å—ï¼Œå®ƒä»¬éƒ½åˆ©ç”¨SMPL(-X)ä½“æ¨¡å‹ã€‚é¦–å…ˆï¼ŒICONæ ¹æ®SMPL(-X)æ³•çº¿æ¨æ–­å‡ºè¯¦ç»†çš„ç©¿è¡£æœçš„äººæ³•çº¿(å‰/å)ã€‚å…¶æ¬¡ï¼Œèƒ½è§åº¦æ„ŸçŸ¥éšå¼è¡¨é¢å›å½’å™¨(a visibility-aware implicit surface regressor)äº§ç”Ÿäººç±»å ç”¨åœºçš„ç­‰é¢ã€‚é‡è¦çš„æ˜¯ï¼Œåœ¨æ¨æ–­æ—¶ï¼Œåé¦ˆå¾ªç¯åœ¨æ”¹è¿›SMPL(-X)ç½‘æ ¼å¹¶ç²¾ç‚¼æ³•çº¿ä¹‹é—´äº¤æ›¿è¿›è¡Œã€‚åœ¨å¤šç§å§¿åŠ¿ä¸‹çš„ä¸»ä½“çš„å¤šä¸ªé‡å»ºå¸§çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨SCANimateä»ä¸­ç”Ÿæˆå¯åŠ¨ç”»çš„åŒ–èº«ã€‚åœ¨AGORAå’ŒCAPEæ•°æ®é›†ä¸Šçš„è¯„ä¼°ç»“æœæ˜¾ç¤ºï¼Œå³ä½¿åœ¨æœ‰é™çš„è®­ç»ƒæ•°æ®æƒ…å†µä¸‹ï¼ŒICONåœ¨é‡å»ºæ–¹é¢ä¹Ÿè¶…è¶Šäº†ç°æœ‰æŠ€æœ¯ã€‚æ­¤å¤–ï¼Œå®ƒå¯¹äºé‡å¤–å§¿åŠ¿/å›¾åƒå’Œè¶…å‡ºå¸§èŒƒå›´çš„å‰ªè£ç­‰ä¸åŒåˆ†å¸ƒçš„æ ·æœ¬æ›´åŠ ç¨³å¥ã€‚ICONè¿ˆå‡ºäº†ä¸€æ­¥ï¼Œæœç€ä»é‡å¤–å›¾åƒä¸­ç¨³å¥åœ°é‡å»º3Dç€è£…äººç‰©çš„æ–¹å‘è¿ˆè¿›ã€‚è¿™ä½¿å¾—å¯ä»¥ç›´æ¥ä»è§†é¢‘ä¸­åˆ›å»ºå…·æœ‰ä¸ªæ€§åŒ–å’Œè‡ªç„¶å§¿åŠ¿ä¾èµ–çš„æœè£…å˜å½¢çš„åŒ–èº«ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Body-guided-normal-prediction"><a href="#Body-guided-normal-prediction" class="headerlink" title="Body-guided normal prediction"></a>Body-guided normal prediction</h2><p><strong>PyTorch3D differentiable renderer DR</strong> render M(SMPL body) from two opposite views <strong>obtaining</strong> â€œfrontâ€ ( i.e., observable side) and â€œbackâ€ ( i.e. , occluded side)<br>å‰åbodyæ³•å‘è´´å›¾ <strong>SMPL-body normal maps</strong>ï¼š $\mathcal{N}^{\mathrm{b}}=\{\mathcal{N}_{\mathrm{front}}^{\mathrm{b}},\mathcal{N}_{\mathrm{back}}^{\mathrm{b}}\}.$</p><p>$\mathcal{N}^{\mathrm{b}}$ å’ŒåŸå§‹å›¾ç‰‡$\mathcal{I}$ ï¼Œé€šè¿‡<strong>æ³•å‘é‡ç½‘ç»œ</strong>$\mathcal{G}^{\mathbb{N}}=\{\mathcal{G}_{\mathrm{front}}^{\mathbb{N}},\mathcal{G}_{\mathrm{back}}^{\mathbb{N}}\}$é¢„æµ‹å¸¦è¡£æœäººä½“æ³•å‘è´´å›¾$\widehat{\mathcal{N}}^{\mathrm{c}}=\{\widehat{\mathcal{N}}_{\mathrm{front}}^{\mathrm{c}},\widehat{\mathcal{N}}_{\mathrm{back}}^{\mathrm{c}}\}$</p><ul><li>è®­ç»ƒæ³•å‘é‡ç½‘ç»œï¼š$\mathcal{L}_{\mathrm{N}}=\mathcal{L}_{\mathrm{pixel}}+\lambda_{\mathrm{VGG}}\mathcal{L}_{\mathrm{VGG}},$<ul><li>$\mathcal{L}_{\mathrm{pixel}}=|\mathcal{N}_{\mathrm{v}}^{\mathrm{c}}-\mathcal{N}_{\mathrm{v}}^{\mathrm{c}}|,\mathrm{v}=\{\mathrm{front},\mathrm{back}\}$æ˜¯GTä¸é¢„æµ‹æ³•å‘é‡å›¾çš„L1æŸå¤±</li><li>$\mathcal{L}_{\mathrm{VGG}}$æ˜¯perceptual lossæ„ŸçŸ¥æŸå¤±ï¼Œæœ‰åŠ©äºæ¢å¤ç»†èŠ‚</li></ul></li></ul><p>ç”±äºHPSå›å½’å™¨ä¸èƒ½ç»™å‡ºåƒç´ å¯¹é½çš„SMPLæ‹Ÿåˆï¼Œéœ€è¦åœ¨è®­ç»ƒä¸­<strong>ä¼˜åŒ–SMPL bodyçš„ç”Ÿæˆ</strong>$\mathcal{L}_{\mathrm{SMPL}}=\min_{\theta,\beta,t}(\lambda_{\mathrm{N_diff}}\mathcal{L}_{\mathrm{N_diff}}+\mathcal{L}_{\mathrm{S_iff}}),$</p><ul><li>ä¼˜åŒ–å½¢çŠ¶Î²ï¼Œå§¿æ€Î¸å’Œå¹³ç§»t</li><li>$\mathcal{L}_{\mathrm{N_diff}}=|\mathcal{N}^{\flat}-\widehat{\mathcal{N}^{c}}|,\quad\mathcal{L}_{\mathrm{S_diff}}=|\mathcal{S}^{\flat}-\widehat{\mathcal{S}^{c}}|,$<ul><li>$\mathcal{L}_{\mathrm{N_diff}}$ï¼ša normal-map loss (L1)</li><li>$\mathcal{L}_\mathrm{S_diff}$ ï¼šSMPLäººä½“æ³•çº¿å›¾ä¸äººä½“æ©æ¨¡è½®å»“</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230930171015.png" alt="image.png"></p><p>åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼ŒICONäº¤æ›¿è¿›è¡Œ:(1)ä½¿ç”¨æ¨æ–­çš„$\hat{\mathcal{N}^{\mathrm{c}}}$æ³•çº¿æ¥ç²¾ç‚¼SMPLç½‘æ ¼ï¼Œ(2)ä½¿ç”¨ç²¾ç‚¼çš„SMPLæ¥é‡æ–°æ¨ç†$\hat{\mathcal{N}^{\mathrm{c}}}$</p><h2 id="Local-feature-based-implicit-3D-reconstruction"><a href="#Local-feature-based-implicit-3D-reconstruction" class="headerlink" title="Local-feature based implicit 3D reconstruction"></a>Local-feature based implicit 3D reconstruction</h2><p>ç»™å®špredicted clothed-body normal mapså’Œthe SMPL-body meshï¼Œæˆ‘ä»¬åŸºäºå±€éƒ¨ç‰¹å¾å¯¹ç©¿è¡£æœçš„äººçš„éšå¼ä¸‰ç»´è¡¨é¢è¿›è¡Œå›å½’$\mathcal{F}_\mathrm{P}=[\mathcal{F}_\mathrm{s}(\mathrm{P}),\mathcal{F}_\mathrm{n}^\mathrm{b}(\mathrm{P}),\mathcal{F}_\mathrm{n}^\mathrm{c}(\mathrm{P})],$</p><ul><li>$\mathcal{F}_{\mathrm{s}}$æ˜¯æŸ¥è¯¢ç‚¹Påˆ°æœ€è¿‘èº«ä½“ç‚¹$\mathrm{P^{b}\in\mathcal{M}}$ çš„ç¬¦å·è·ç¦»</li><li>$\mathcal{F}_{\mathrm{n}}^{\mathrm{b}}$æ˜¯$\mathrm{P^{b}}$çš„è´¨å¿ƒé¢æ³•çº¿barycentric surface normalï¼Œä¸¤è€…éƒ½æä¾›äº†é’ˆå¯¹è‡ªèº«é®æŒ¡çš„å¼ºæ­£åˆ™åŒ–ã€‚</li><li>$\mathcal{F}_{\mathrm{n}}^{\mathrm{c}}$æ˜¯æ ¹æ®$\mathrm{P^{b}}$å¯è§åº¦ï¼Œä»$\widehat{\mathcal{N}}_\mathrm{front}^\mathrm{c}\operatorname{or}\widehat{\mathcal{N}}_\mathrm{back}^\mathrm{c}$æå–çš„æ³•å‘é‡<ul><li>$\mathcal{F}_{\mathrm{n}}^{\mathrm{c}}(\mathrm{P})=\begin{cases}\widehat{\mathcal{N}}_{\mathrm{front}}^{\mathrm{c}}(\pi(\mathrm{P}))&amp;\text{if P}^{\mathrm{b}}\text{is visible}\\\widehat{\mathcal{N}}_{\mathrm{back}}^{\mathrm{c}}(\pi(\mathrm{P}))&amp;\text{else},\end{cases}$</li></ul></li></ul><p>æœ€åå°†$\mathcal{F}_\mathrm{P}$è¾“å…¥implicit functionï¼Œé€šè¿‡MLPä¼°è®¡<strong>the occupancy at point P</strong>ï¼š $\widehat{o}(\mathbf{P}).$</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>å°†ICONä¸PIFu[54]å’ŒPaMIR[70]è¿›è¡Œæ¯”è¾ƒ</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬å±•ç¤ºäº†ICONï¼Œå®ƒå¯ä»¥ä»å•ä¸ªå›¾åƒä¸­å¥å£®åœ°æ¢å¤3Dç©¿è¡£æœçš„äººï¼Œå…¶å‡†ç¡®æ€§å’ŒçœŸå®æ„Ÿè¶…è¿‡äº†ç°æœ‰æŠ€æœ¯ã€‚å…¶ä¸­æœ‰ä¸¤ä¸ªå…³é”®:(1)åˆ©ç”¨ä¸‰ç»´ä½“æ¨¡å‹å¯¹è§£è¿›è¡Œæ­£åˆ™åŒ–ï¼ŒåŒæ—¶è¿­ä»£ä¼˜åŒ–è¯¥ä½“æ¨¡å‹ã€‚(2)åˆ©ç”¨å±€éƒ¨ç‰¹å¾æ¶ˆé™¤ä¸å…¨å±€å§¿æ€çš„ä¼ªç›¸å…³ã€‚å½»åº•çš„æ¶ˆèç ”ç©¶è¯å®äº†è¿™äº›é€‰æ‹©ã€‚ç»“æœçš„è´¨é‡è¶³ä»¥ä»å•ç›®å›¾åƒåºåˆ—ä¸­æ„å»º3DåŒ–èº«<br>Limitations and future work.<br>ç”±äºICONå…ˆå‰åˆ©ç”¨äº†å¼ºå£®çš„èº«ä½“ï¼Œè¿œç¦»èº«ä½“çš„å®½æ¾è¡£æœå¯èƒ½éš¾ä»¥é‡å»º;è§å›¾7ã€‚å°½ç®¡ICONå¯¹ä½“æ‹Ÿåˆçš„å°è¯¯å·®å…·æœ‰é²æ£’æ€§ï¼Œä½†ä½“æ‹Ÿåˆçš„é‡å¤§å¤±æ•ˆå°†å¯¼è‡´é‡æ„å¤±è´¥ã€‚å› ä¸ºå®ƒæ˜¯åœ¨æ­£è§†è§†å›¾ä¸Šè®­ç»ƒçš„ï¼ŒICONåœ¨å¼ºçƒˆçš„é€è§†æ•ˆæœä¸Šæœ‰é—®é¢˜ï¼Œäº§ç”Ÿä¸å¯¹ç§°çš„è‚¢ä½“æˆ–è§£å‰–å­¦ä¸Šä¸å¯èƒ½çš„å½¢çŠ¶ã€‚ä¸€ä¸ªå…³é”®çš„æœªæ¥åº”ç”¨æ˜¯å•ç‹¬ä½¿ç”¨å›¾åƒæ¥åˆ›å»ºä¸€ä¸ªç©¿ç€è¡£æœçš„åŒ–èº«æ•°æ®é›†ã€‚è¿™æ ·çš„æ•°æ®é›†å¯ä»¥æ¨è¿›äººä½“å½¢çŠ¶ç”Ÿæˆçš„ç ”ç©¶[15]ï¼Œå¯¹æ—¶å°šè¡Œä¸šæœ‰ä»·å€¼ï¼Œå¹¶ä¿ƒè¿›å›¾å½¢åº”ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ClothedHumans </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PIFuHD</title>
      <link href="/3DReconstruction/Single-view/Implicit%20Function/PIFuHD/"/>
      <url>/3DReconstruction/Single-view/Implicit%20Function/PIFuHD/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>PIFuHD: Multi-Level Pixel-Aligned Implicit Function for High-Resolution 3D Human Digitization</th></tr></thead><tbody><tr><td>Author</td><td>Shunsuke Saito1,3 Tomas Simon2 Jason Saragih2 Hanbyul Joo3</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2020</td></tr><tr><td>Project</td><td><a href="https://shunsukesaito.github.io/PIFuHD/">PIFuHD: Multi-Level Pixel-Aligned Implicit Function for High-Resolution 3D Human Digitization (shunsukesaito.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=542688756272230400&amp;noteId=1981107888522777856">PIFuHD: Multi-Level Pixel-Aligned Implicit Function for High-Resolution 3D Human Digitization (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230928175323.png" alt="image.png"></p><p>Encoder: stacked hourglass network<br>MLP</p><ul><li>Coarse Lï¼š(257, 1024, 512, 256, 128, 1)</li><li>Fine Hï¼š(272, 512, 256, 128, 1)ï¼Œå°†Coarse MLPçš„ç¬¬å››å±‚è¾“å‡º$\Omega \in \mathbb{R}^{256}$ä½œä¸ºè¾“å…¥<br>è¡¨é¢æ³•çº¿ç½‘ç»œï¼šç”±9ä¸ªæ®‹å·®å—å’Œ4ä¸ªä¸‹é‡‡æ ·å±‚ç»„æˆ</li><li>$\mathcal{L}_{N}=\mathcal{L}_{VGG}+\lambda_{l1}\mathcal{L}_{l1},$ å…¶ä¸­$L_{VGG}$ä¸ºJohnsonç­‰äºº[17]æå‡ºçš„æ„ŸçŸ¥æŸå¤±ï¼Œ$L_{l1}$ä¸ºé¢„æµ‹ä¸çœŸå€¼æ³•å‘ä¹‹é—´çš„l1è·ç¦»</li></ul><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>åŸºäºå›¾åƒçš„ä¸‰ç»´äººä½“å½¢çŠ¶ä¼°è®¡çš„æœ€æ–°è¿›å±•æ˜¯ç”±æ·±åº¦ç¥ç»ç½‘ç»œæä¾›çš„è¡¨ç¤ºèƒ½åŠ›çš„æ˜¾ç€æ”¹è¿›æ‰€æ¨åŠ¨çš„ã€‚å°½ç®¡ç›®å‰çš„æ–¹æ³•å·²ç»åœ¨ç°å®ä¸–ç•Œä¸­å±•ç¤ºäº†æ½œåŠ›ï¼Œä½†å®ƒä»¬ä»ç„¶æ— æ³•äº§ç”Ÿå…·æœ‰è¾“å…¥å›¾åƒä¸­é€šå¸¸å­˜åœ¨çš„ç»†èŠ‚æ°´å¹³çš„é‡å»ºã€‚æˆ‘ä»¬è®¤ä¸ºè¿™ç§é™åˆ¶ä¸»è¦æºäºä¸¤ä¸ªç›¸äº’å†²çªçš„è¦æ±‚; å‡†ç¡®çš„é¢„æµ‹éœ€è¦å¤§é‡çš„èƒŒæ™¯ï¼Œä½†ç²¾ç¡®çš„é¢„æµ‹éœ€è¦é«˜åˆ†è¾¨ç‡ã€‚ç”±äºå½“å‰ç¡¬ä»¶çš„å†…å­˜é™åˆ¶ï¼Œä»¥å‰çš„æ–¹æ³•å¾€å¾€é‡‡ç”¨ä½åˆ†è¾¨ç‡å›¾åƒä½œä¸ºè¾“å…¥æ¥è¦†ç›–å¤§çš„ç©ºé—´ç¯å¢ƒï¼Œç»“æœäº§ç”Ÿä¸å¤ªç²¾ç¡®(æˆ–ä½åˆ†è¾¨ç‡)çš„3Dä¼°è®¡ã€‚æˆ‘ä»¬é€šè¿‡åˆ¶å®šç«¯åˆ°ç«¯å¯è®­ç»ƒçš„<strong>å¤šå±‚æ¬¡ä½“ç³»ç»“æ„</strong>æ¥è§£å†³è¿™ä¸€é™åˆ¶ã€‚ç²—çº§ä»¥è¾ƒä½çš„åˆ†è¾¨ç‡è§‚å¯Ÿæ•´ä¸ªå›¾åƒï¼Œå¹¶ä¸“æ³¨äºæ•´ä½“æ¨ç†ã€‚è¿™ä¸ºé€šè¿‡è§‚å¯Ÿæ›´é«˜åˆ†è¾¨ç‡çš„å›¾åƒæ¥ä¼°è®¡é«˜åº¦è¯¦ç»†çš„å‡ ä½•å½¢çŠ¶æä¾›äº†ä¸€ä¸ªç²¾ç»†çš„æ°´å¹³ã€‚æˆ‘ä»¬è¯æ˜ï¼Œé€šè¿‡å……åˆ†åˆ©ç”¨kåˆ†è¾¨ç‡è¾“å…¥å›¾åƒï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨<strong>å•å›¾åƒäººä½“å½¢çŠ¶é‡å»º</strong>æ–¹é¢æ˜æ˜¾ä¼˜äºç°æœ‰çš„æœ€å…ˆè¿›æŠ€æœ¯ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p><strong>Pixel-Aligned Implicit Function</strong><br>$f(\mathbf{X},\mathbf{I})=\begin{cases}1&amp;\text{if }\mathbf{X}\text{is inside mesh surface}\\0&amp;\text{otherwise},\end{cases}$</p><ul><li>Iä¸ºå•ä¸ªRGBå›¾åƒ</li><li>$f(\mathbf{X},\mathbf{I})=g\left(\Phi\left(\mathbf{x},\mathbf{I}\right),Z\right),$<ul><li>$\Phi\left(\mathbf{x},\mathbf{I}\right).$è¡¨ç¤ºXçš„æ­£äº¤æŠ•å½±åˆ°x</li><li>$Z = X_{z}$æ˜¯ç”±äºŒç»´æŠ•å½±xå®šä¹‰çš„å°„çº¿çš„æ·±åº¦ã€‚</li></ul></li></ul><p>è¯·æ³¨æ„ï¼Œæ²¿ç€åŒä¸€æ¡å°„çº¿çš„æ‰€æœ‰3Dç‚¹å…·æœ‰å®Œå…¨ç›¸åŒçš„å›¾åƒç‰¹å¾Î¦ (x, I)ï¼Œæ¥è‡ªç›¸åŒçš„æŠ•å½±ä½ç½®xï¼Œå› æ­¤å‡½æ•°gåº”è¯¥å…³æ³¨ä¸åŒçš„è¾“å…¥æ·±åº¦Zï¼Œä»¥æ¶ˆé™¤æ²¿å°„çº¿å ç”¨çš„3Dç‚¹çš„æ­§ä¹‰ã€‚</p><p>PIFuä¸­ä½¿ç”¨çš„stacked hourglasså¯ä»¥æ¥å—æ•´ä¸ªå›¾ç‰‡ï¼Œä»è€Œå¯ä»¥é‡‡ç”¨æ•´ä½“æ¨ç†è¿›è¡Œä¸€è‡´çš„æ·±åº¦æ¨ç†ï¼Œå¯¹äºå®ç°å…·æœ‰æ³›åŒ–èƒ½åŠ›çš„é²æ£’3Dé‡å»ºèµ·ç€é‡è¦ä½œç”¨ï¼Œä½†æ˜¯è¯¥è¡¨ç¤ºçš„è¡¨è¾¾æ€§å—åˆ°ç‰¹å¾åˆ†è¾¨ç‡çš„é™åˆ¶ã€‚<br>(åœ¨PIFuä¸­ï¼ŒäºŒç»´ç‰¹å¾åµŒå…¥å‡½æ•°Î¦ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œ(CNN)æ¶æ„ï¼Œå‡½æ•°gä½¿ç”¨å¤šå±‚æ„ŸçŸ¥å™¨(MLP))</p><p><strong>Multi-Level Pixel-Aligned Implicit Function</strong><br>ä»¥1024Ã—1024åˆ†è¾¨ç‡å›¾åƒä¸ºè¾“å…¥çš„å¤šçº§æ–¹æ³•</p><ul><li>ä»¥ä¸‹é‡‡æ ·çš„512 Ã— 512å›¾åƒä¸ºè¾“å…¥ï¼Œ<strong>é‡ç‚¹æ•´åˆå…¨å±€å‡ ä½•ä¿¡æ¯</strong>ï¼Œç”Ÿæˆ128 Ã— 128åˆ†è¾¨ç‡çš„éª¨å¹²å›¾åƒç‰¹å¾</li><li>1024Ã—1024åˆ†è¾¨ç‡å›¾åƒä½œä¸ºè¾“å…¥ï¼Œå¹¶äº§ç”Ÿ512Ã—512åˆ†è¾¨ç‡çš„éª¨å¹²å›¾åƒç‰¹å¾ï¼Œ<strong>ä»è€Œæ·»åŠ æ›´å¤šç»†å¾®çš„ç»†èŠ‚</strong></li></ul><p>$f^L(\mathbf{X})=g^L\left(\Phi^L\left(\mathbf{x}_L,\mathbf{I}_L,\mathbf{F}_L,\mathbf{B}_L,\right),Z\right)$<br>$f^{H}\left(\mathbf{X}\right)=g^{H}\left(\Phi^{H}\left(\mathbf{x}_{H},\mathbf{I}_{H},\mathbf{F}_{H},\mathbf{B}_{H},\right),\Omega(\mathbf{X})\right),$</p><p>$\mathbf{x}_H=2\mathbf{x}_L.$<br>$Î¦^{H}$çš„æ¥å—åŸŸä¸è¦†ç›–æ•´ä¸ªå›¾åƒï¼Œä½†ç”±äºå…¶å…¨å·ç§¯æ¶æ„ï¼Œç½‘ç»œå¯ä»¥ç”¨éšæœºæ»‘åŠ¨çª—å£è¿›è¡Œè®­ç»ƒï¼Œå¹¶åœ¨åŸå§‹å›¾åƒåˆ†è¾¨ç‡(å³1024 Ã— 1024)ä¸‹è¿›è¡Œæ¨æ–­</p><p><strong>Note</strong>: ç²¾ç»†å±‚æ¨¡å—é‡‡ç”¨ç²—å±‚æå–çš„3DåµŒå…¥ç‰¹å¾ï¼Œè€Œä¸æ˜¯ç»å¯¹æ·±åº¦å€¼ã€‚æˆ‘ä»¬çš„ç²—çº§æ¨¡å—çš„å®šä¹‰ç±»ä¼¼äºPIFuï¼Œ<strong>è¿›è¡Œä¿®æ”¹</strong>ï¼Œå®ƒä¹Ÿé‡‡ç”¨é¢„æµ‹çš„æ­£é¢Få’ŒèƒŒé¢Bæ³•çº¿æ˜ å°„</p><ul><li>ä¿®æ”¹ï¼šé¢„æµ‹äººä½“èƒŒéƒ¨çš„ç²¾ç¡®å‡ ä½•å½¢çŠ¶æ˜¯ä¸€ä¸ªä¸é€‚å®šé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸èƒ½ç›´æ¥ä»å›¾åƒä¸­è§‚å¯Ÿåˆ°ã€‚å› æ­¤ï¼ŒèƒŒé¢å¿…é¡»å®Œå…¨ç”±MLPé¢„æµ‹ç½‘ç»œæ¨æ–­ï¼Œç”±äºè¯¥é—®é¢˜çš„æ¨¡ç³Šæ€§å’Œå¤šæ¨¡æ€æ€§è´¨ï¼Œä¸‰ç»´é‡å»ºå¾€å¾€æ˜¯å¹³æ»‘å’Œæ— ç‰¹å¾çš„ã€‚è¿™éƒ¨åˆ†æ˜¯ç”±äºå ç”¨æŸå¤±(ç¬¬3.4èŠ‚)æœ‰åˆ©äºä¸ç¡®å®šæ€§ä¸‹çš„å¹³å‡é‡å»ºï¼Œä½†ä¹Ÿå› ä¸ºæœ€ç»ˆçš„MLPå±‚éœ€è¦å­¦ä¹ å¤æ‚çš„é¢„æµ‹å‡½æ•°ã€‚æˆ‘ä»¬å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬å°†éƒ¨åˆ†æ¨ç†é—®é¢˜è½¬ç§»åˆ°ç‰¹å¾æå–é˜¶æ®µï¼Œç½‘ç»œå¯ä»¥äº§ç”Ÿæ›´æ¸…æ™°çš„é‡æ„å‡ ä½•ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬é¢„æµ‹æ³•çº¿æ˜ å°„ä½œä¸ºå›¾åƒç©ºé—´ä¸­3Då‡ ä½•çš„ä»£ç†ï¼Œå¹¶å°†è¿™äº›æ³•çº¿æ˜ å°„ä½œä¸ºç‰¹å¾æä¾›ç»™åƒç´ å¯¹é½çš„é¢„æµ‹å™¨ã€‚ç„¶åï¼Œ3Dé‡å»ºç”±è¿™äº›åœ°å›¾å¼•å¯¼ï¼Œä»¥æ¨æ–­ç‰¹å®šçš„3Då‡ ä½•å½¢çŠ¶ï¼Œä½¿mlpæ›´å®¹æ˜“äº§ç”Ÿç»†èŠ‚ã€‚æˆ‘ä»¬<strong>ä½¿ç”¨pix2pixHD[44]ç½‘ç»œé¢„æµ‹å›¾åƒç©ºé—´ä¸­çš„èƒŒé¢å’Œæ­£é¢æ³•çº¿</strong>ï¼Œä»RGBé¢œè‰²æ˜ å°„åˆ°æ³•çº¿è´´å›¾</li></ul><p><strong>Loss Functions and Surface Sampling</strong></p><p>åœ¨<strong>ä¸€ç»„é‡‡æ ·ç‚¹</strong>ä¸Šä½¿ç”¨æ‰©å±•çš„äºŒè¿›åˆ¶äº¤å‰ç†µ(BCE)æŸå¤±</p><script type="math/tex; mode=display">\begin{aligned}\mathcal{L}_{o}& =\sum_{\mathbf{X}\in\mathcal{S}}\lambda f^{*}(\mathbf{X})\log f^{\{L,H\}}(\mathbf{X})  \\&+(1-\lambda)\left(1-f^*(\mathbf{X})\right)\log\left(1-f^{\{L,H\}}(\mathbf{X})\right)\end{aligned}</script><ul><li>å…¶ä¸­Sè¡¨ç¤ºè¯„ä¼°æŸå¤±çš„æ ·æœ¬é›†ï¼ŒÎ»æ˜¯Sä¸­è¡¨é¢å¤–ç‚¹çš„æ¯”ç‡ï¼Œ$f^{âˆ—}(Â·)$è¡¨ç¤ºè¯¥ä½ç½®çš„GTå ç”¨ï¼Œ$f^{\{L,H\}}(Â·)$æ˜¯Lã€Hä¸¤ä¸ªåƒç´ å¯¹é½éšå¼å‡½æ•°</li></ul><p>å¦‚PIFuä¸­æ‰€è¿°ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡åŒ€ä½“ç§¯æ ·æœ¬å’Œå‡åŒ€é‡‡æ ·è¡¨é¢å‘¨å›´çš„é‡è¦æ€§é‡‡æ ·çš„æ··åˆé‡‡æ ·ç‚¹ï¼Œåœ¨å‡åŒ€é‡‡æ ·çš„è¡¨é¢å‘¨å›´ä½¿ç”¨é«˜æ–¯æ‰°åŠ¨ã€‚æˆ‘ä»¬å‘ç°è¿™ç§é‡‡æ ·æ–¹æ¡ˆäº§ç”Ÿçš„ç»“æœæ¯”é‡‡æ ·ç‚¹ä¸è¡¨é¢çš„è·ç¦»æˆåæ¯”çš„ç»“æœæ›´æ¸…æ™°</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Datasetsï¼šRenderPeopleã€HDRI Haven1ä¸­çš„163ä¸ªäºŒé˜¶çƒé¢è°æ³¢ï¼Œä½¿ç”¨é¢„å…ˆè®¡ç®—çš„è¾å°„ä¼ è¾“æ¥æ¸²æŸ“ç½‘æ ¼ã€ä½¿ç”¨COCOå¢å¼ºéšæœºèƒŒæ™¯å›¾åƒï¼Œä¸éœ€è¦åˆ†å‰²ä½œä¸ºé¢„å¤„ç†</p><h1 id="Discussion-amp-Future-Work"><a href="#Discussion-amp-Future-Work" class="headerlink" title="Discussion &amp; Future Work"></a>Discussion &amp; Future Work</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå¤šå±‚æ¬¡æ¡†æ¶ï¼Œè¯¥æ¡†æ¶å¯¹æ•´ä½“ä¿¡æ¯å’Œå±€éƒ¨ç»†èŠ‚è¿›è¡Œè”åˆæ¨ç†ï¼Œä»è€Œåœ¨æ²¡æœ‰ä»»ä½•é¢å¤–åå¤„ç†æˆ–ä¾§ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œ<strong>ä»å•å¹…å›¾åƒä¸­è·å¾—ç©¿è¡£æœçš„äººçš„é«˜åˆ†è¾¨ç‡3Dé‡å»º</strong>ã€‚æˆ‘ä»¬çš„å¤šå±‚æ¬¡åƒç´ å¯¹é½éšå¼å‡½æ•°é€šè¿‡è§„æ¨¡é‡‘å­—å¡”ä½œä¸ºéšå¼3DåµŒå…¥å¢é‡ä¼ æ’­å…¨å±€ä¸Šä¸‹æ–‡æ¥å®ç°è¿™ä¸€ç‚¹ã€‚è¿™å°±é¿å…äº†å¯¹å…·æœ‰æœ‰é™å…ˆéªŒæ–¹æ³•çš„æ˜¾å¼å‡ ä½•åšå‡ºè¿‡æ—©çš„å†³å®šã€‚æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œå°†è¿™ç§3dæ„ŸçŸ¥ç¯å¢ƒçº³å…¥å‡†ç¡®å’Œç²¾ç¡®çš„é‡å»ºæ˜¯å¾ˆé‡è¦çš„ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¡¨æ˜ï¼Œåœ¨å›¾åƒåŸŸè§„é¿æ¨¡ç³Šå¤§å¤§æé«˜äº†é®æŒ¡åŒºåŸŸçš„ä¸‰ç»´é‡å»ºç»†èŠ‚çš„ä¸€è‡´æ€§ã€‚<br>ç”±äºå¤šå±‚æ–¹æ³•ä¾èµ–äºæå–3DåµŒå…¥çš„å‰å‡ ä¸ªé˜¶æ®µçš„æˆåŠŸï¼Œå› æ­¤æé«˜åŸºçº¿æ¨¡å‹çš„é²æ£’æ€§æœ‰æœ›ç›´æ¥æé«˜æˆ‘ä»¬çš„æ•´ä½“é‡å»ºç²¾åº¦ã€‚æœªæ¥çš„å·¥ä½œå¯èƒ½åŒ…æ‹¬çº³å…¥äººç±»ç‰¹å®šçš„å…ˆéªŒ(ä¾‹å¦‚ï¼Œè¯­ä¹‰åˆ†å‰²ã€å§¿æ€å’Œå‚æ•°åŒ–3Dé¢éƒ¨æ¨¡å‹)ï¼Œå¹¶å¢åŠ å¯¹éšå¼è¡¨é¢çš„2Dç›‘ç£[37,25]ï¼Œä»¥è¿›ä¸€æ­¥æ”¯æŒé‡å¤–è¾“å…¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PIFu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PIFu</title>
      <link href="/3DReconstruction/Single-view/Implicit%20Function/PIFu/"/>
      <url>/3DReconstruction/Single-view/Implicit%20Function/PIFu/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>PIFu: Pixel-Aligned Implicit Function for High-Resolution Clothed Human Digitization</th></tr></thead><tbody><tr><td>Author</td><td>Shunsuke Saito1,2 <em> Zeng Huang1,2 </em> Ryota Natsume3 * Shigeo Morishima3 Angjoo Kanazawa4Hao Li1,2,5</td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2019</td></tr><tr><td>Project</td><td><a href="https://shunsukesaito.github.io/PIFu/">PIFu: Pixel-Aligned Implicit Function for High-Resolution Clothed Human Digitization (shunsukesaito.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4518249702759227393&amp;noteId=1981090816765700608">PIFu: Pixel-Aligned Implicit Function for High-Resolution Clothed Human Digitization (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230928170950.png" alt="image.png"><br>è¡¨é¢é‡å»ºç½‘ç»œï¼šstacked hourglass<br>çº¹ç†æ¨æ–­ç½‘ç»œï¼šç”±æ®‹å·®å—ç»„æˆçš„architecture of CycleGAN<br>éšå‡½æ•°ç½‘ç»œï¼šMLP</p><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬å¼•å…¥äº†åƒç´ å¯¹é½éšå‡½æ•°ï¼ˆPIFuï¼‰ï¼Œè¿™æ˜¯ä¸€ç§éšå¼è¡¨ç¤ºï¼Œå®ƒå°†2Då›¾åƒçš„åƒç´ ä¸å…¶å¯¹åº”çš„3Då¯¹è±¡çš„å…¨å±€ä¸Šä¸‹æ–‡å±€éƒ¨å¯¹é½ã€‚ä½¿ç”¨PIFuï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç«¯åˆ°ç«¯çš„æ·±åº¦å­¦ä¹ æ–¹æ³•ï¼Œç”¨äºæ•°å­—åŒ–é«˜åº¦è¯¦ç»†çš„ç©¿ç€äººç±»ï¼Œè¯¥æ–¹æ³•å¯ä»¥ä»å•ä¸ªå›¾åƒå’Œå¯é€‰çš„å¤šä¸ªè¾“å…¥å›¾åƒä¸­æ¨æ–­3Dè¡¨é¢å’Œçº¹ç†ã€‚é«˜åº¦å¤æ‚çš„å½¢çŠ¶ï¼Œå¦‚å‘å‹ã€æœè£…ï¼Œä»¥åŠå®ƒä»¬çš„å˜åŒ–å’Œå˜å½¢ï¼Œå¯ä»¥ä»¥ç»Ÿä¸€çš„æ–¹å¼æ•°å­—åŒ–ã€‚ä¸ç”¨äº3Dæ·±åº¦å­¦ä¹ çš„ç°æœ‰è¡¨ç¤ºç›¸æ¯”ï¼ŒPIFuäº§ç”Ÿäº†é«˜åˆ†è¾¨ç‡çš„è¡¨é¢ï¼ŒåŒ…æ‹¬åŸºæœ¬ä¸Šçœ‹ä¸è§çš„åŒºåŸŸï¼Œå¦‚äººçš„èƒŒéƒ¨ã€‚ç‰¹åˆ«åœ°ï¼Œä¸ä½“ç´ è¡¨ç¤ºä¸åŒï¼Œå®ƒå…·æœ‰å­˜å‚¨æ•ˆç‡ï¼Œå¯ä»¥å¤„ç†ä»»æ„æ‹“æ‰‘ï¼Œå¹¶ä¸”æ‰€å¾—è¡¨é¢ä¸è¾“å…¥å›¾åƒåœ¨ç©ºé—´ä¸Šå¯¹é½ã€‚æ­¤å¤–ï¼Œè™½ç„¶ä»¥å‰çš„æŠ€æœ¯è¢«è®¾è®¡ä¸ºå¤„ç†å•ä¸ªå›¾åƒæˆ–å¤šä¸ªè§†å›¾ï¼Œä½†PIFuè‡ªç„¶åœ°æ‰©å±•åˆ°ä»»æ„æ•°é‡çš„è§†å›¾ã€‚æˆ‘ä»¬å±•ç¤ºäº†DeepFashionæ•°æ®é›†å¯¹çœŸå®ä¸–ç•Œå›¾åƒçš„é«˜åˆ†è¾¨ç‡å’Œç¨³å¥é‡å»ºï¼Œè¯¥æ•°æ®é›†åŒ…å«å„ç§å…·æœ‰æŒ‘æˆ˜æ€§çš„æœè£…ç±»å‹ã€‚æˆ‘ä»¬çš„æ–¹æ³•åœ¨å…¬å…±åŸºå‡†ä¸Šå®ç°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œå¹¶ä¼˜äºä¹‹å‰ä»å•ä¸ªå›¾åƒè¿›è¡Œäººä½“æ•°å­—åŒ–çš„å·¥ä½œã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>PIFu: Pixel-Aligned Implicit Function</p><ul><li>$f(F(x),z(X))=s:s\in\mathbb{R},$<ul><li>$x=\pi(X)$ï¼Œ2Dç‚¹xæ˜¯3Dç‚¹Xçš„æŠ•å½±</li><li>z(X)æ˜¯ç›¸æœºåæ ‡ç©ºé—´ä¸­çš„æ·±åº¦å€¼</li><li>F(x)ï¼g(I(x))æ˜¯xå¤„çš„å›¾åƒç‰¹å¾ï¼ŒåŒçº¿æ€§é‡‡æ ·è·å¾—</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230928170950.png" alt="image.png"></p><p>å¯¹äºGTæ•°æ®é›†ï¼Œä½¿ç”¨0.5æ°´å¹³é›†è¡¨ç¤ºè¡¨é¢<br>$f_v^*(X)=\begin{cases}1,&amp;\text{if}X\text{is inside mesh surface}\\0,&amp;\text{otherwise}\end{cases}.$</p><p>é€šè¿‡Spatial Sampling.åœ¨ç©ºé—´ä¸­é‡‡æ ·nä¸ªç‚¹X</p><p><strong>Surface Reconstruction</strong><br>$\mathcal{L}_{V}=\frac{1}{n}\sum_{i=1}^{n}|f_{v}(F_{V}(x_{i}),z(X_{i}))-f_{v}^{*}(X_{i})|^{2},$</p><ul><li>Xä¸º3Dç‚¹ï¼ŒFæ˜¯Xå¯¹åº”åƒç´ xå¤„æ¥è‡ªç¼–ç å™¨çš„å›¾ç‰‡ç‰¹å¾</li></ul><p><strong>Texture Inference</strong><br>ä¸€èˆ¬$\mathcal{L}_{C}=\frac{1}{n}\sum_{i=1}^{n}|f_{c}(F_{C}(x_{i}),z(X_{i}))-C(X_{i})|,$</p><ul><li>$C(X_{i})$æ˜¯è¡¨é¢ç‚¹Xçš„åœ°é¢çœŸå®RGBå€¼</li></ul><p>ä½¿ç”¨ä¸Šè¿°æŸå¤±å‡½æ•°å¤©çœŸåœ°è®­ç»ƒfcä¸¥é‡å­˜åœ¨è¿‡æ‹Ÿåˆçš„é—®é¢˜<br>æœ¬æ–‡ä½¿ç”¨$\mathcal{L}_{C}=\frac{1}{n}\sum_{i=1}^{n}\big|f_{c}(F_{C}(x_{i}â€™,F_{V}),X_{i,z}â€™)-C(X_{i})\big|,$</p><ul><li>æ·»åŠ å‡ ä½•ç‰¹å¾è¾“å…¥</li><li>å¼•å…¥åç§»é‡ï¼š$\epsilon\sim\mathcal{N}(0,d)$<ul><li>$X_{i}^{\prime}=X_{i}+\epsilon\cdot N_{i}.$</li><li>d = 1.0 cm</li></ul></li></ul><p><strong>MVS</strong><br>å°†éšå¼å‡½æ•°fåˆ†è§£ä¸ºç‰¹å¾åµŒå…¥å‡½æ•°f1å’Œå¤šè§†å›¾æ¨ç†å‡½æ•°f2<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230928173658.png" alt="image.png"></p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Datasetsï¼šRenderPeopleã€BUFFã€DeepFashion</p><h1 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h1><p>æˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°çš„åƒç´ å¯¹é½éšå¼å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†è¾“å…¥å›¾åƒçš„åƒç´ çº§ä¿¡æ¯ä¸3Dç‰©ä½“çš„å½¢çŠ¶åœ¨ç©ºé—´ä¸Šå¯¹é½ï¼Œç”¨äºåŸºäºæ·±åº¦å­¦ä¹ çš„3Då½¢çŠ¶å’Œçº¹ç†æ¨ç†ï¼Œä»å•ä¸ªè¾“å…¥å›¾åƒä¸­æ¨æ–­ç©¿è¡£æœçš„äººã€‚<br>æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œå¯ä»¥æ¨æ–­å‡ºé«˜åº¦å¯ä¿¡çš„å‡ ä½•å½¢çŠ¶ï¼ŒåŒ…æ‹¬å¤§éƒ¨åˆ†çœ‹ä¸è§çš„åŒºåŸŸï¼Œå¦‚äººçš„èƒŒéƒ¨ï¼ŒåŒæ—¶ä¿ç•™å›¾åƒä¸­å­˜åœ¨çš„é«˜é¢‘ç»†èŠ‚ã€‚ä¸åŸºäºä½“ç´ çš„è¡¨ç¤ºä¸åŒï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥äº§ç”Ÿé«˜åˆ†è¾¨ç‡çš„è¾“å‡ºï¼Œå› ä¸ºæˆ‘ä»¬ä¸å—ä½“ç§¯è¡¨ç¤ºçš„é«˜å†…å­˜è¦æ±‚çš„é™åˆ¶ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ¼”ç¤ºäº†å¦‚ä½•å°†è¿™ç§æ–¹æ³•è‡ªç„¶åœ°æ‰©å±•åˆ°åœ¨ç»™å®šéƒ¨åˆ†è§‚å¯Ÿçš„æƒ…å†µä¸‹æ¨æ–­ä¸€ä¸ªäººçš„æ•´ä¸ªçº¹ç†ã€‚ä¸ç°æœ‰çš„åŸºäºå›¾åƒç©ºé—´ä¸­çš„æ­£é¢è§†å›¾åˆæˆèƒŒé¢åŒºåŸŸçš„æ–¹æ³•ä¸åŒï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥ç›´æ¥åœ¨è¡¨é¢ä¸Šé¢„æµ‹æœªè§åŒºåŸŸã€å‡¹åŒºåŸŸå’Œä¾§é¢åŒºåŸŸçš„é¢œè‰²ã€‚<br>ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯ç¬¬ä¸€ä¸ªå¯ä»¥ä¸ºä»»æ„æ‹“æ‰‘å½¢çŠ¶ç»˜åˆ¶çº¹ç†çš„æ–¹æ³•ã€‚ç”±äºæˆ‘ä»¬èƒ½å¤Ÿä»å•ä¸ªRGBç›¸æœºç”Ÿæˆç©¿è¡£æœçš„äººçš„çº¹ç†3Dè¡¨é¢ï¼Œå› æ­¤æˆ‘ä»¬æ­£åœ¨æœç€æ— éœ€æ¨¡æ¿æ¨¡å‹å³å¯ä»è§†é¢‘ä¸­å•ç›®é‡å»ºåŠ¨æ€åœºæ™¯çš„æ–¹å‘è¿ˆè¿›ä¸€æ­¥ã€‚æˆ‘ä»¬å¤„ç†ä»»æ„é™„åŠ è§†å›¾çš„èƒ½åŠ›ä¹Ÿä½¿æˆ‘ä»¬çš„æ–¹æ³•ç‰¹åˆ«é€‚åˆä½¿ç”¨ç¨€ç–è§†å›¾çš„å®ç”¨å’Œæœ‰æ•ˆçš„3Då»ºæ¨¡è®¾ç½®ï¼Œä¼ ç»Ÿçš„å¤šè§†å›¾ç«‹ä½“æˆ–è¿åŠ¨ç»“æ„å°†failã€‚</p><p><strong>Future Work</strong>.<br>è™½ç„¶æˆ‘ä»¬çš„çº¹ç†é¢„æµ‹æ˜¯åˆç†çš„ï¼Œå¹¶ä¸”ä¸å—æ¨æ–­çš„3Dè¡¨é¢çš„æ‹“æ‰‘æˆ–å‚æ•°åŒ–çš„é™åˆ¶ï¼Œä½†æˆ‘ä»¬ç›¸ä¿¡å¯ä»¥æ¨æ–­å‡ºæ›´é«˜åˆ†è¾¨ç‡çš„å¤–è§‚ï¼Œå¯èƒ½ä½¿ç”¨ç”Ÿæˆå¯¹æŠ—ç½‘ç»œæˆ–å¢åŠ è¾“å…¥å›¾åƒåˆ†è¾¨ç‡ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œé‡å»ºåœ¨åƒç´ åæ ‡ç©ºé—´ä¸­è¿›è¡Œï¼Œå¯¹å‡†è¢«è¯•çš„å°ºåº¦ä½œä¸ºé¢„å¤„ç†ã€‚ä¸å…¶ä»–å•è§†å›¾æ–¹æ³•ä¸€æ ·ï¼Œæ¨æ–­å°ºåº¦å› å­ä»ç„¶æ˜¯ä¸€ä¸ªå¼€æ”¾çš„é—®é¢˜ï¼Œæœªæ¥çš„å·¥ä½œå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æœ€åï¼Œåœ¨æˆ‘ä»¬æ‰€æœ‰çš„ä¾‹å­ä¸­ï¼Œæ²¡æœ‰ä¸€ä¸ªè¢«åˆ†å‰²çš„ä¸»é¢˜è¢«ä»»ä½•å…¶ä»–ç‰©ä½“æˆ–åœºæ™¯å…ƒç´ é®æŒ¡ã€‚åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œé®æŒ¡ç»å¸¸å‘ç”Ÿï¼Œä¹Ÿè®¸åªæœ‰èº«ä½“çš„ä¸€éƒ¨åˆ†åœ¨ç›¸æœºä¸­è¢«æ¡†ä½ã€‚èƒ½å¤Ÿåœ¨éƒ¨åˆ†å¯è§çš„ç¯å¢ƒä¸­å¯¹å®Œæ•´çš„ç‰©ä½“è¿›è¡Œæ•°å­—åŒ–å’Œé¢„æµ‹ï¼Œå¯¹äºåœ¨ä¸å—çº¦æŸçš„ç¯å¢ƒä¸­åˆ†æäººç±»éå¸¸æœ‰ä»·å€¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PIFu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>D-NeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/D-NeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/D-NeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Recovering Fine Details for Neural Implicit Surface Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Decai Chen1, Peng Zhang1,2, Ingo Feldmann1, Oliver Schreer1, and Peter Eisert1,3</td></tr><tr><td>Conf/Jour</td><td>WACV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/fraunhoferhhi/D-NeuS">fraunhoferhhi/D-NeuS: Recovering Fine Details for Neural Implicit Surface Reconstruction (WACV2023) (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4692614734365589505&amp;noteId=1979864647240445952">Recovering Fine Details for Neural Implicit Surface Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230927202731.png" alt="image.png"></p><p>Ideaï¼šä¸¤ä¸ªé¢å¤–çš„æŸå¤±å‡½æ•°</p><ul><li>å‡ ä½•åå·®æŸå¤±ï¼šé¼“åŠ±éšå¼SDFåœºå’Œä½“æ¸²æŸ“çš„äº®åº¦åœºä¹‹é—´çš„å‡ ä½•ä¸€è‡´æ€§</li><li>å¤šè§†å›¾ç‰¹å¾ä¸€è‡´æ€§æŸå¤±ï¼šå¤šä¸ªè§‚å¯Ÿè§†å›¾åœ¨è¡¨é¢ç‚¹å¤„çš„ç‰¹å¾ä¸€è‡´</li></ul><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æœ€è¿‘å…³äºå†…éšç¥ç»è¡¨å¾çš„ç ”ç©¶å–å¾—äº†é‡å¤§è¿›å±•ã€‚åˆ©ç”¨ä½“ç»˜åˆ¶å­¦ä¹ éšå¼ç¥ç»è¡¨é¢åœ¨æ— ä¸‰ç»´ç›‘ç£çš„å¤šè§†å›¾é‡å»ºä¸­å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚ç„¶è€Œï¼Œç”±äºå‡ ä½•å’Œå¤–è§‚è¡¨ç°çš„æ½œåœ¨æ¨¡ç³Šæ€§ï¼Œå‡†ç¡®åœ°æ¢å¤ç²¾ç»†ç»†èŠ‚ä»ç„¶å…·æœ‰æŒ‘æˆ˜æ€§ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†D-NeuSï¼Œä¸€ç§åŸºäºä½“ç»˜åˆ¶çš„ç¥ç»éšå¼è¡¨é¢é‡å»ºæ–¹æ³•ï¼Œèƒ½å¤Ÿæ¢å¤ç²¾ç»†çš„å‡ ä½•ç»†èŠ‚ï¼Œå®ƒé€šè¿‡<strong>ä¸¤ä¸ªé¢å¤–çš„æŸå¤±å‡½æ•°æ¥æ‰©å±•NeuS</strong>ï¼Œç›®æ ‡æ˜¯æé«˜é‡å»ºè´¨é‡ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬é¼“åŠ±ä»alphaåˆæˆä¸­æ¸²æŸ“çš„è¡¨é¢ç‚¹å…·æœ‰é›¶ç¬¦å·è·ç¦»å€¼ï¼Œå‡è½»äº†å°†SDFè½¬æ¢ä¸ºä½“æ¸²æŸ“å¯†åº¦æ‰€äº§ç”Ÿçš„å‡ ä½•åå·®ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬é€šè¿‡æ²¿å°„çº¿æ’å€¼é‡‡æ ·ç‚¹çš„SDFå½’é›¶æ¥å¯¹è¡¨é¢ç‚¹æ–½åŠ å¤šè§†å›¾ç‰¹å¾ä¸€è‡´æ€§ã€‚å¤§é‡çš„å®šé‡å’Œå®šæ€§ç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•é‡å»ºé«˜ç²¾åº¦çš„è¡¨é¢ä¸ç»†èŠ‚ï¼Œå¹¶ä¼˜äºç›®å‰çš„çŠ¶æ€ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230927202107.png" alt="image.png"></p><h2 id="neuså±€é™"><a href="#neuså±€é™" class="headerlink" title="neuså±€é™"></a>neuså±€é™</h2><p>neusçš„unregularized sdfå¯¼è‡´ä½“æ¸²æŸ“ç§¯åˆ†å’ŒSDFéšå¼è¡¨é¢ä¹‹é—´å­˜åœ¨åå·®ï¼Œé¢œè‰²äº®åº¦åœºå’Œå‡ ä½•SDFåœºä¹‹é—´çš„ä¸ä¸€è‡´å¯¼è‡´äº†ä¸ç†æƒ³çš„è¡¨é¢é‡å»º</p><p>å•ä¸€å¹³é¢ç›¸äº¤çš„ç®€å•æƒ…å†µä¸‹ï¼Œå¯†åº¦å’Œæƒå‡½æ•°åœ¨ä¸åŒSDFåˆ†å¸ƒä¸‹çš„è¡¨ç°ï¼Œæ˜¾ç¤ºå‡ºäº†éçº¿æ€§SDFå€¼å¯¼è‡´å‡ ä½•è¡¨é¢(æ©™è‰²è™šçº¿)å’Œä½“ç§¯æ¸²æŸ“è¡¨é¢ç‚¹(è“è‰²è™šçº¿)ä¹‹é—´çš„åå·®<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/15fcd4e5b38213b428a4fe32a140bf88_.jpg" alt="15fcd4e5b38213b428a4fe32a140bf88_.jpg"></p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æ·»åŠ äº†ä¸¤ä¸ªæŸå¤±é¡¹ï¼š</p><p><strong>å‡ ä½•åå·®æŸå¤±</strong>ï¼šé¼“åŠ±éšå¼SDFåœºå’Œä½“æ¸²æŸ“çš„äº®åº¦åœºä¹‹é—´çš„å‡ ä½•ä¸€è‡´æ€§<br>$\mathcal{L}_{bias}=\frac1{|\mathbb{S}|}\sum_{\mathbf{x}_{rendered}\in\mathbb{S}}|f(\mathbf{x}_{rendered})|,$</p><ul><li>$t_{rendered}=\sum_{i}^{n}\frac{\omega_{i}t_{i}}{\sum_{i}^{n}\omega_{i}},$</li><li>$\mathbf{x}_{rendered}=\mathbf{o}+t_{rendered}\mathbf{v}.$</li><li>Sä¸ºå…‰çº¿ä¸è¡¨é¢çš„äº¤ç‚¹çš„é›†åˆ</li><li>å‡ ä½•åå·®æŸå¤±ä¸EikonalæŸå¤±ç›¸äº’æ”¯æŒï¼Œæé«˜äº†é‡å»ºè´¨é‡</li></ul><p><strong>Multi-view Feature Consistencyå¤šè§†å›¾ç‰¹å¾ä¸€è‡´æ€§æŸå¤±</strong><br>é¦–å…ˆæ‰¾åˆ°å…‰çº¿ä¸è¡¨é¢çš„äº¤ç‚¹ï¼š</p><ul><li>sç‚¹sdfå€¼å¤§äº0ï¼Œsçš„ä¸‹ä¸ªé‡‡æ ·ç‚¹sdfå€¼å°äº0ï¼š$s=\arg\min_i\{t_i\mid f(\mathbf{x}(t_i))&gt;0andf(\mathbf{x}(t_{i+1}))&lt;0\}$</li><li>æ ¹æ®sç‚¹å’Œsçš„ä¸‹ä¸ªé‡‡æ ·ç‚¹s+1ï¼Œä½¿ç”¨å¯å¾®çº¿æ€§æ’å€¼å¯ä»¥å¾—åˆ°è¡¨é¢ç‚¹ï¼š$\hat{\mathbf{x}}=\left\{\mathbf{x}(\hat{t})\mid\hat{t}=\frac{f(\mathbf{x}(t_s))t_{s+1}-f(\mathbf{x}(t_{s+1}))t_s}{f(\mathbf{x}(t_s))-f(\mathbf{x}(t_{s+1}))}\right\}.$</li></ul><p>$\mathcal{L}_{feat.}=\frac{1}{N_{c}N_{v}}\sum_{i=1}^{N_{v}}|\mathbf{F}_{0}(\mathbf{p}_{0})-\mathbf{F}_{i}(\mathbf{K}_{i}(\mathbf{R}_{i}\hat{\mathbf{x}}+\mathbf{t}_{i}))|,$</p><ul><li>Nvå’ŒNcåˆ†åˆ«ä¸ºç›¸é‚»æºè§†å›¾å’Œç‰¹å¾é€šé“çš„ä¸ªæ•°</li><li>Fä¸ºæå–çš„ç‰¹å¾æ˜ å°„</li><li>p0ä¸ºå…‰çº¿æŠ•å°„çš„åƒç´ </li><li>{Ki, Ri, ti}ä¸ºç¬¬iä¸ªæºè§†å›¾çš„ç›¸æœºå‚æ•°</li></ul><p>æ€»æŸå¤±ï¼š$\mathcal{L}=\mathcal{L}_{color}+\alpha\mathcal{L}_{eik.}+\beta\mathcal{L}_{bias}+\gamma\mathcal{L}_{feat.}.$</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>æ•°æ®é›†ï¼šBlendedMVS + DTU<br>Baselineï¼šCOLMAP, IDR [33], MVSDF [37], VolSDF [32], NeuS [26], NeuralWarp [7].</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Loss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NISR</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NISR/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NISR/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Improving Neural Indoor Surface Reconstruction with Mask-Guided Adaptive Consistency Constraints</th></tr></thead><tbody><tr><td>Author</td><td>Xinyi Yu1, Liqin Lu1, Jintao Rong1, Guangkai Xu2,âˆ— and Linlin Ou1</td></tr><tr><td>Conf/Jour</td><td></td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4801757208966594561&amp;noteId=1976543992973611776">Improving Neural Indoor Surface Reconstruction with Mask-Guided Adaptive Consistency Constraints (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230925133140.png" alt="image.png"></p><p>Idea:</p><ul><li>æ³•å‘é¢„æµ‹ç½‘ç»œï¼Œæ³•å‘é‡çº¦æŸ</li><li>ä¸€è‡´æ€§çº¦æŸ(å‡ ä½•ä¸€è‡´æ€§å’Œé¢œè‰²ä¸€è‡´æ€§)ï¼Œé€šè¿‡è™šæ‹Ÿè§†ç‚¹å®ç°</li><li>maskçš„è®¡ç®—æ–¹æ³•ï¼Œåªè®¡ç®—<strong>æœ‰ä»·å€¼</strong>çš„å…‰çº¿<span id="more"></span></li></ul><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ä»2Då›¾åƒä¸­é‡å»º3Dåœºæ™¯ä¸€ç›´æ˜¯ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„ä»»åŠ¡ã€‚æœ€è¿‘çš„ç ”ç©¶ä¸æ˜¯ä¼°è®¡æ¯å¸§æ·±åº¦å›¾å¹¶åœ¨3Dä¸­èåˆå®ƒä»¬ï¼Œè€Œæ˜¯åˆ©ç”¨ç¥ç»éšå¼è¡¨é¢ä½œä¸º3Dé‡å»ºçš„ç»Ÿä¸€è¡¨ç¤ºã€‚é…å¤‡æ•°æ®é©±åŠ¨çš„é¢„è®­ç»ƒå‡ ä½•çº¿ç´¢ï¼Œè¿™äº›æ–¹æ³•å·²ç»è¯æ˜äº†è‰¯å¥½çš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œä¸å‡†ç¡®çš„å…ˆéªŒä¼°è®¡é€šå¸¸æ˜¯ä¸å¯é¿å…çš„ï¼Œè¿™å¯èƒ½å¯¼è‡´é‡å»ºè´¨é‡æ¬¡ä¼˜ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸€äº›å‡ ä½•å¤æ‚çš„åŒºåŸŸã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªä¸¤é˜¶æ®µçš„è®­ç»ƒè¿‡ç¨‹ï¼Œè§£è€¦è§†å›¾ç›¸å…³å’Œè§†å›¾æ— å…³çš„é¢œè‰²ï¼Œå¹¶åˆ©ç”¨<strong>ä¸¤ä¸ªæ–°çš„ä¸€è‡´æ€§çº¦æŸ</strong>æ¥å¢å¼ºç»†èŠ‚é‡å»ºæ€§èƒ½ï¼Œè€Œ<strong>ä¸éœ€è¦é¢å¤–çš„å…ˆéªŒ</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªåŸºæœ¬æ©ç æ–¹æ¡ˆæ¥è‡ªé€‚åº”åœ°å½±å“ç›‘ç£çº¦æŸçš„é€‰æ‹©ï¼Œä»è€Œæé«˜è‡ªç›‘ç£èŒƒå¼çš„æ€§èƒ½ã€‚åœ¨åˆæˆæ•°æ®é›†å’ŒçœŸå®æ•°æ®é›†ä¸Šçš„å®éªŒè¡¨æ˜ï¼Œè¯¥æ–¹æ³•èƒ½å¤Ÿå‡å°‘å…ˆéªŒä¼°è®¡è¯¯å·®çš„å¹²æ‰°ï¼Œå®ç°å…·æœ‰ä¸°å¯Œå‡ ä½•ç»†èŠ‚çš„é«˜è´¨é‡åœºæ™¯é‡å»ºã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>ç©¿è¿‡ä¸€å¼ å›¾ç‰‡$I_{k}$é‡‡æ ·å…‰çº¿ï¼Œå¹¶éšæœºç”Ÿæˆå¯¹åº”çš„è™šæ‹Ÿå…‰çº¿ï¼Œç„¶åNeRF MLPæ¸²æŸ“é¢œè‰²ã€è§†å›¾ç‹¬ç«‹é¢œè‰²ã€æ·±åº¦å’Œæ³•å‘ã€‚é€šé¢„è®­ç»ƒçš„æ³•å‘ä¼°è®¡æ¨¡å‹æ¥ä¼°è®¡å…‰çº¿å¯¹åº”åƒç´ çš„æ³•å‘ï¼Œç„¶åæœ€å°åŒ–é¢œè‰²æŸå¤±æ¥ä¼˜åŒ–MLPï¼Œæ­¤å¤–è¿˜æ·»åŠ äº†maské©±åŠ¨çš„ä¸€è‡´æ€§çº¦æŸå’Œæ³•å‘çº¦æŸ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230925133716.png" alt="image.png"></p><p>ä½¿ç”¨ä¸¤ä¸ªé¢œè‰²ç½‘ç»œæ¥è®­ç»ƒï¼šä¸è§†å›¾æœ‰å…³çš„é¢œè‰²$\hat c^{vd}$å’Œä¸è§†å›¾æ— å…³çš„é¢œè‰²$\hat c^{vi}$<br>æ·±åº¦å›¾å’Œæ³•å‘é‡å›¾çš„è®¡ç®—ï¼š$\hat{D}(r)=\sum_{i=1}^nT_i\alpha_it_i,\quad\hat{\mathbf{N}}(\mathbf{r})=\sum_{i=1}^nT_i\alpha_i\hat{\mathbf{n}}_i$</p><p>ç›‘ç£çº¦æŸï¼š</p><ul><li>é¢œè‰²ï¼š$\mathcal{L}_{rgb}=\sum_{\mathbf{r}\in\mathcal{R}}\left|\hat{\mathbf{C}}(\mathbf{r})-\mathbf{C}(\mathbf{r})\right|_1$</li><li>æ³•å‘é‡çº¦æŸ$\begin{aligned}\mathcal{L}_{normal}&amp;=\frac1{\left|\mathcal{M}_r\right|}\sum_{\text{r}\in\mathcal{M}_r}\left|\hat{\mathbf{N}}(\mathbf{r})-\bar{\mathbf{N}}(\mathbf{r})\right|_1\\&amp;+\left|1-\hat{\mathbf{N}}(\mathbf{r})^T\bar{\mathbf{N}}(\mathbf{r})\right|_1\end{aligned}$ ï¼Œå…¶ä¸­$M_{r}$ä¸ºå°„çº¿æ©æ¨¡</li><li>å‡ ä½•ä¸€è‡´æ€§çº¦æŸ<ul><li>é€šè¿‡é‡‡æ ·åƒç´ çš„å°„çº¿ç”Ÿæˆæ·±åº¦å›¾ï¼Œæ ¹æ®æ·±åº¦å›¾è®¡ç®—å‡ºç›®æ ‡3Dç‚¹çš„ä½ç½®ã€‚ç„¶åéšæœºç”Ÿæˆä¸€ä¸ªè™šæ‹Ÿè§†ç‚¹ ï¼Œæ ¹æ®3Dç›®æ ‡ç‚¹ä½ç½®å’Œè™šæ‹Ÿè§†ç‚¹å¯ä»¥è®¡ç®—å‡ºè™šæ‹Ÿå°„çº¿çš„æ–¹å‘$\mathbf{x}_t=\mathbf{o}+\hat{D}(\mathbf{r})\mathbf{v},\quad\mathbf{v}^v=\frac{\mathbf{x}_t-\mathbf{o}^v}{\left|\mathbf{x}_t-\mathbf{o}^v\right|_2}$</li><li>æ ¹æ®è™šæ‹Ÿå°„çº¿çš„è§†ç‚¹å’Œæ–¹å‘ï¼Œå¯ä»¥ç”±æ¸²æŸ“æ¡†æ¶MLPå¾—åˆ°è™šæ‹Ÿå°„çº¿çš„æ·±åº¦å›¾$\hat{D}(\mathbf{r}_{v})$å’Œæ³•å‘é‡å›¾$\hat{\mathrm{N}}(\mathbf{r}_v)$ï¼Œç”±ä¸¤å…‰çº¿æ·±åº¦çš„å‡ ä½•ä¸€è‡´æ€§$\mathcal{L}_{gc}=\frac{1}{2|\mathcal{M}_{v}|}\sum_{\mathbf{r}_{v}\in\mathcal{M}_{v}}|\hat{D}(\mathbf{r}_{v})-\bar{D}(\mathbf{r}_{v})|^{2}$ï¼Œå…¶ä¸­$\bar{D}(\mathbf{r}_v)=\left|\mathbf{x}_t-\mathbf{o}^v\right|_2$</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230925140953.png" alt="image.png"></p><ul><li>å…‰åº¦ä¸€è‡´æ€§çº¦æŸ<ul><li>ä¸¤å…‰çº¿æ¸²æŸ“å¾—åˆ°çš„åƒç´ é¢œè‰²ï¼š$\mathcal{L}_{pc}=\frac{1}{|\mathcal{M}_{r}|}\sum_{\mathbf{r}\in\mathcal{M}_{r}}\left|\hat{\mathbf{C}}_{vi}(\mathbf{r})-\hat{\mathbf{C}}_{vi}(\mathbf{r}_{v})\right|_{1}$</li></ul></li></ul><p>$\mathcal{M}_{r}$ä¸$\mathcal{M}_{v}$é€‰æ‹©æ–¹æ³•ï¼š</p><ul><li>Sample Maskï¼šä¿è¯ç”Ÿæˆè™šæ‹Ÿè§†ç‚¹åœ¨ç‰©ä½“å¤–éƒ¨<ul><li>$\left.\mathcal{M}_s=\left\{\begin{array}{lr}1,&amp;\quad if\hat{s}(\mathbf{o}_v)&gt;0.\\0,&amp;\quad otherwise.\end{array}\right.\right.$</li></ul></li><li>Occlusion Maskï¼šè§£å†³ç”±äºä¸¤æ¡å…‰çº¿çš„é®æŒ¡å¯¼è‡´çš„æ·±åº¦ä¸€è‡´æ€§è¯¯å·®é—®é¢˜ï¼ˆä¸¤æ¡å…‰çº¿éƒ½åªç©¿è¿‡ç‰©ä½“ä¸€æ¬¡ï¼‰<ul><li>$\left.\mathcal{M}_o^s=\left\{\begin{array}{lr}1,&amp;if~|diff(sgn(\hat{\mathbf{s}}))|_1\leq2.\\0,&amp;otherwise.\end{array}\right.\right.$</li><li>$\left.\mathcal{M}_o^v=\left\{\begin{array}{ccc}1,&amp;if&amp;|diff(sgn(\hat{\mathbf{s}}^v))|_1\leq2.\\0,&amp;&amp;otherwise.\end{array}\right.\right.$</li><li>$\mathcal{M}_o=\mathcal{M}_o^s\&amp;\mathcal{M}_o^v$</li></ul></li><li>Adaptive Check Mask<ul><li>ä¸¤ä¸ªå…‰çº¿å¾—åˆ°åƒç´ çš„æ³•å‘é‡å€¼å¤¹è§’ä½™å¼¦ï¼Œä¸æŸä¸ªé˜ˆå€¼æ¯”è¾ƒ</li><li>$cos(\hat{\mathbf{N}}(\mathbf{r}),\hat{\mathbf{N}}(\mathbf{r}_v))=\frac{\hat{\mathbf{N}}(\mathbf{r})\cdot\hat{\mathbf{N}}(\mathbf{r}_v)}{\left|\hat{\mathbf{N}}(\mathbf{r})\right|_2\left|\hat{\mathbf{N}}(\mathbf{r}_v)\right|_2}$</li><li>$\left.\mathcal{M}_a=\left\{\begin{array}{lr}1,\quad&amp;ifcos(\hat{\mathbf{N}}(\mathbf{r}),\hat{\mathbf{N}}(\mathbf{r}_v))&lt;\epsilon.\\0,&amp;otherwise.\end{array}\right.\right.$</li></ul></li><li>Mask integration<ul><li>æ³•å‘é‡çº¦æŸä¸­mask $\mathcal{M}_{r}$ï¼š$\mathcal{M}_r=\mathcal{M}_s\&amp;\mathcal{M}_o\&amp;(1-\mathcal{M}_a)$<ul><li><strong>ä¸¤ä¸ªå…‰çº¿å¾—åˆ°åƒç´ çš„æ³•å‘é‡å€¼å¤¹è§’ä½™å¼¦</strong>å¤§äºæŸä¸ªé˜ˆå€¼ï¼Œæ— è™šæ‹Ÿè§†ç‚¹</li></ul></li><li>å‡ ä½•ä¸€è‡´æ€§çº¦æŸä¸­mask $\mathcal{M}_{v}$ï¼š$\mathcal{M}_v=\mathcal{M}_s\&amp;\mathcal{M}_o\&amp;\mathcal{M}_a$<ul><li><strong>ä¸¤ä¸ªå…‰çº¿å¾—åˆ°åƒç´ çš„æ³•å‘é‡å€¼å¤¹è§’ä½™å¼¦</strong>å°äºæŸä¸ªé˜ˆå€¼ï¼Œæœ‰è™šæ‹Ÿè§†ç‚¹</li></ul></li></ul></li></ul><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>ä¸€ä¸ªNVIDIA RTX 3090 GPU</p><ul><li>ScanNetæ•°æ®é›†</li><li>å¯¹æ¯”COLMAPã€NeuralReconã€MonoSDFï¼ˆMLP Versionï¼‰ã€NeuRIS</li><li>æŒ‡æ ‡ï¼šAccuracyã€Completenessã€Chamfer Distanceã€Precisionã€Recallã€F-scoreã€Normal Consistency</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Loss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HRN</title>
      <link href="/3DReconstruction/Single-view/Other/HumanBody/HRN/"/>
      <url>/3DReconstruction/Single-view/Other/HumanBody/HRN/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>A Hierarchical Representation Network for Accurate and Detailed Face Reconstruction from In-The-Wild Images</th></tr></thead><tbody><tr><td>Author</td><td>Biwen Lei Jianqiang Ren Mengyang Feng Miaomiao Cui Xuansong Xie</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://younglbw.github.io/HRN-homepage/">HRN (younglbw.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4738635079538982913&amp;noteId=1972221785736728832">A Hierarchical Representation Network for Accurate and Detailed Face Reconstruction from In-The-Wild Images (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921173632.png" alt="image.png"></p><p>ç¼ºç‚¹ï¼š</p><ul><li>éœ€è¦3D å…ˆéªŒï¼šæ¯å¼ å›¾åƒçš„GTå˜å½¢å›¾å’Œä½ç§»å›¾<br>Ideaï¼š</li><li>Contour-aware Loss. æ–°çš„è½®å»“æ„ŸçŸ¥æŸå¤±ç®—æ³•ï¼Œç›®çš„æ˜¯æ‹‰åŠ¨è¾¹ç¼˜çš„é¡¶ç‚¹ä»¥å¯¹é½é¢éƒ¨è½®å»“</li></ul><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç”±äº3DMMçš„ä½ç»´è¡¨ç¤ºå®¹é‡çš„æ€§è´¨é™åˆ¶ï¼Œå¤§å¤šæ•°åŸºäº3DMM(3D Morphable models)çš„äººè„¸é‡å»ºï¼ˆFRï¼‰æ–¹æ³•æ— æ³•æ¢å¤é«˜é¢‘é¢éƒ¨ç»†èŠ‚ï¼Œå¦‚çš±çº¹ã€é…’çªç­‰ã€‚ä¸€äº›å°è¯•é€šè¿‡å¼•å…¥ç»†èŠ‚æ˜ å°„æˆ–éçº¿æ€§æ“ä½œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç„¶è€Œç»“æœä»ç„¶ä¸å¤Ÿç”ŸåŠ¨ã€‚ä¸ºæ­¤ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„åˆ†å±‚è¡¨ç¤ºç½‘ç»œï¼ˆHRNï¼‰ï¼Œä»¥å®ç°ä»å•ä¸€å›¾åƒç²¾ç¡®å’Œè¯¦ç»†çš„é¢éƒ¨é‡å»ºã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬å®æ–½äº†å‡ ä½•è§£è€¦ï¼Œå¹¶å¼•å…¥äº†åˆ†å±‚è¡¨ç¤ºæ¥å®ç°è¯¦ç»†çš„é¢éƒ¨å»ºæ¨¡ã€‚åŒæ—¶ï¼Œè¿˜èåˆäº†é¢éƒ¨ç»†èŠ‚çš„3Då…ˆéªŒï¼Œä»¥æé«˜é‡å»ºç»“æœçš„å‡†ç¡®æ€§å’ŒçœŸå®æ€§ã€‚æˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ä¸ªå»é™¤ä¿®é¥°æ¨¡å—ï¼Œä»¥å®ç°æ›´å¥½åœ°è§£è€¦å‡ ä½•å’Œå¤–è§‚ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬çš„æ¡†æ¶å¯ä»¥é€šè¿‡è€ƒè™‘ä¸åŒè§†å›¾çš„ç»†èŠ‚ä¸€è‡´æ€§æ‰©å±•ä¸ºå¤šè§†å›¾æ¨¡å¼ã€‚å¯¹ä¸¤ä¸ªå•è§†å›¾å’Œä¸¤ä¸ªå¤šè§†å›¾FRåŸºå‡†çš„å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨é‡å»ºå‡†ç¡®æ€§å’Œè§†è§‰æ•ˆæœæ–¹é¢ä¼˜äºç°æœ‰æ–¹æ³•ã€‚æœ€åï¼Œæˆ‘ä»¬introduceäº†ä¸€ä¸ªé«˜è´¨é‡çš„3Däººè„¸æ•°æ®é›†FaceHD-100ï¼Œä»¥æ¨åŠ¨é«˜ä¿çœŸåº¦äººè„¸é‡å»ºçš„ç ”ç©¶ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>åˆ†å±‚å»ºæ¨¡ï¼š</p><ul><li>ä½é¢‘éƒ¨åˆ†ï¼šé€šè¿‡Basel Face Model(BFMæ˜¯ä¸€ç§ç”¨äºæè¿°äººè„¸å½¢çŠ¶å’Œçº¹ç†çš„æ•°å­¦æ¨¡å‹)ä½œä¸ºåŸºæ¨¡å‹ï¼Œå®ç°è¾“å…¥é¢ç²—é‡æ„</li><li>ä¸­é¢‘ç»†èŠ‚ï¼šç„¶åæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªä¸‰é€šé“å˜å½¢å›¾ï¼Œå®ƒä½äºUVç©ºé—´ä¸­ï¼Œè¡¨ç¤ºæ¯ä¸ªé¡¶ç‚¹ç›¸å¯¹äºç²—ç»“æœçš„åç§»é‡ã€‚å˜å½¢å›¾ä½œä¸ºä¸­é¢‘ç»†èŠ‚çš„è¡¨ç¤ºï¼Œæä¾›äº†ä¸€ç§çµæ´»çš„å‡ ä½•æ“ä½œæ–¹æ³•</li><li>é«˜é¢‘ç»†èŠ‚ï¼šæˆ‘ä»¬é‡‡ç”¨äº†[19]ç±»ä¼¼çš„ä½ç§»å›¾ï¼Œæ˜¯ä¸€ä¸ªå•é€šé“å›¾ï¼Œè¡¨ç¤ºæ²¿æ³•çº¿æ–¹å‘çš„å‡ ä½•å˜å½¢ã€‚ä½ç§»å›¾ä»¥åƒç´ çš„æ–¹å¼è½¬æ¢ä¸ºæ¸²æŸ“è¿‡ç¨‹ä¸­ä½¿ç”¨çš„è¯¦ç»†æ³•çº¿ï¼Œä»¥å±•ç¤ºæ‰€æœ‰å¾®å°çš„ç»†èŠ‚ï¼Œæ‰“ç ´äº†åŸºç¡€æ¨¡å‹é¡¶ç‚¹å¯†åº¦çš„é™åˆ¶</li></ul><p>è¾“å…¥äººè„¸è‚–åƒï¼š</p><ul><li>Pretraining + Training Data Generation<ul><li>ä½¿ç”¨å›å½’ç½‘ç»œä½œä¸ºäººè„¸åˆ†æå™¨é¢„æµ‹BFMç³»æ•°</li><li>åˆ©ç”¨3DMMæ•°æ®åº“ä¸­çš„ç›¸åº”åŸºå¾—åˆ°ç²—å¯¹é½çš„meshM0å’Œåç…§ç‡A0</li><li>ç»“åˆIå’ŒM0ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡‡ç”¨ä»ç²—åˆ°ç»†çš„å¯å¾®æ¸²æŸ“ç­–ç•¥ï¼Œåœ¨UVç©ºé—´ä¸­è·å¾—å†…åµŒçº¹ç†T</li><li>De-Retouching Module å°†çº¹ç†ç»†èŠ‚çƒ˜çƒ¤åˆ°ç²—åç…§ç‡A0ä¸­</li></ul></li><li>Training Geometry ä½¿ç”¨ä¸¤ä¸ªpix2pixç½‘ç»œä¾æ¬¡åˆæˆå˜å½¢å›¾å’Œä½ç§»å›¾<ul><li>å°†På’ŒT concat èµ·æ¥è¾“å…¥è¿›pix2pixç½‘ç»œå¾—åˆ°å˜å½¢å›¾(ä¸­é¢‘)</li><li>è€ƒè™‘åˆ°å˜å½¢å›¾ä¼šæ”¹å˜äººè„¸å‡ ä½•ï¼Œå¯¼è‡´Tä¸å˜å½¢ç½‘æ ¼ä¸å¯¹é½ï¼Œæˆ‘ä»¬é€šè¿‡å°†ä¸‰é€šé“å˜å½¢å›¾æŠ•å½±åˆ°äºŒç»´ç©ºé—´ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºåè½¬æµFæ¥é‡æ–°å¯¹é½Tï¼Œä»è€Œç”Ÿæˆé‡æ–°å¯¹é½çš„çº¹ç†T â€˜ä½œä¸ºç¬¬äºŒä¸ªpix2pixç½‘ç»œçš„è¾“å…¥ï¼Œå¾—åˆ°ä½ç§»å›¾(é«˜é¢‘)</li></ul></li><li>Training Reconstruction<ul><li>ç»“åˆå…‰ç…§Lå’Œå»é™¤è§¦æ‘¸æ¨¡å—ç”Ÿæˆçš„ç²¾ç»†åç…§ç‡ï¼Œå®Œæˆäº†å•å¹…å›¾åƒçš„è¯¦ç»†äººè„¸é‡å»º</li></ul></li></ul><p>æå‡ºäº†ä¸€ä¸ªæ–°æ•°æ®é›†ï¼šç”±æ¥è‡ª100ä¸ªå—è¯•è€…çš„2000ä¸ªé«˜æ¸…ä¸‰ç»´ç½‘æ ¼å’Œç›¸åº”çš„å¤šè§†å›¾å›¾åƒç»„æˆï¼Œæ•°æ®ç”±9ä¸ªå•åç›¸æœºå’Œ8ä¸ªLEDç¯ç»„æˆçš„å¤šè§†å›¾3Dé‡å»ºç³»ç»Ÿæ•è·ã€‚9ä¸ªæ‘„åƒå¤´å‡åŒ€åˆ†å¸ƒåœ¨è„¸éƒ¨å‰æ–¹å’Œä¾§é¢ï¼Œæ¯ä¸ªæ‘„åƒå¤´æä¾›8Kå›¾åƒï¼Œç”¨äºå‡ ä½•å’Œçº¹ç†é‡å»º</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å±‚æ¬¡è¡¨ç¤ºç½‘ç»œ(HRN)ï¼Œç”¨äºä»é‡å¤–å›¾åƒä¸­ç²¾ç¡®å’Œè¯¦ç»†åœ°é‡å»ºäººè„¸ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬é€šè¿‡åˆ†å±‚è¡¨ç¤ºå­¦ä¹ å®ç°äº†é¢éƒ¨å‡ ä½•è§£çº ç¼ å’Œå»ºæ¨¡ã€‚è¿›ä¸€æ­¥ç»“åˆç»†èŠ‚çš„ä¸‰ç»´å…ˆéªŒï¼Œæé«˜é‡å»ºç»“æœçš„ç²¾åº¦å’Œè§†è§‰æ•ˆæœã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ä¸ªå»ä¿®é¥°ç½‘ç»œï¼Œä»¥å‡è½»å‡ ä½•å’Œå¤–è§‚ä¹‹é—´çš„æ­§ä¹‰ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†HRNæ‰©å±•åˆ°å¤šè§†å›¾æ¨¡å¼ï¼Œå¹¶å¼•å…¥äº†é«˜è´¨é‡çš„3Däººè„¸æ•°æ®é›†FaceHD-100ï¼Œä»¥ä¿ƒè¿›ç¨€ç–è§†å›¾FRçš„ç ”ç©¶ã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨ç²¾åº¦å’Œè§†è§‰æ•ˆæœæ–¹é¢éƒ½ä¼˜äºç°æœ‰æ–¹æ³•</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> Face </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vid2Avatar</title>
      <link href="/3DReconstruction/Single-view/Implicit%20Function/Vid2Avatar/"/>
      <url>/3DReconstruction/Single-view/Implicit%20Function/Vid2Avatar/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Vid2Avatar: 3D Avatar Reconstruction from Videos in the Wild via Self-supervised Scene Decomposition</th></tr></thead><tbody><tr><td>Author</td><td>Chen Guo1, Tianjian Jiang1, Xu Chen1,2, Jie Song1, Otmar Hilliges1</td></tr><tr><td>Conf/Jour</td><td>CVPR 2023</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://moygcc.github.io/vid2avatar/">Vid2Avatar: 3D Avatar Reconstruction from Videos in the Wild via Self-supervised Scene Decomposition (moygcc.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4726322030375354369&amp;noteId=1970979448862074368">Vid2Avatar: 3D Avatar Reconstruction from Videos in the Wild via Self-supervised Scene Decomposition (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921171140.png" alt="image.png"></p><p>Ideaï¼š$\mathcal{L}_\mathrm{dec}=\lambda_\mathrm{BCE}\mathcal{L}_\mathrm{BCE}+\lambda_\mathrm{sparse}\mathcal{L}_\mathrm{sparse}.$</p><ul><li>ä¸é€æ˜åº¦ç¨€ç–æ­£åˆ™åŒ–$\mathcal{L}_{\mathrm{sparse}}^i=\frac1{|\mathcal{R}_{\mathrm{off}}^i|}\sum_{\mathbf{r}\in\mathcal{R}_{\mathrm{off}}^i}|\alpha^H(\mathbf{r})|.$æƒ©ç½šä¸subjectä¸ç›¸äº¤çš„å…‰çº¿çš„éé›¶å…‰çº¿ä¸é€æ˜åº¦</li><li>è‡ªç›‘ç£å°„çº¿åˆ†ç±»$\begin{aligned}\mathcal{L}_\mathrm{BCE}^i&amp;=-\frac{1}{|\mathcal{R}^i|}\sum_{\mathrm{r}\in\mathcal{R}^i}(\alpha^H(\mathbf{r})\log(\alpha^H(\mathbf{r}))\\&amp;+(1-\alpha^H(\mathbf{r}))\log(1-\alpha^H(\mathbf{r}))),\end{aligned}$é¼“åŠ±åŒ…å«å®Œå…¨é€æ˜æˆ–ä¸é€æ˜å…‰çº¿çš„å…‰çº¿åˆ†å¸ƒ<span id="more"></span></li></ul><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>æˆ‘ä»¬æå‡ºäº†Vid2Avatarï¼Œä¸€ç§ä»é‡å¤–å•ç›®è§†é¢‘ä¸­å­¦ä¹ äººç±»Avatarçš„æ–¹æ³•ã€‚ä»é‡å¤–å•ç›®è§†é¢‘ä¸­é‡å»ºè‡ªç„¶ç§»åŠ¨çš„äººç±»æ˜¯å›°éš¾çš„ã€‚è§£å†³è¿™ä¸ªé—®é¢˜éœ€è¦å‡†ç¡®åœ°å°†äººç±»ä¸ä»»æ„èƒŒæ™¯åˆ†ç¦»å¼€æ¥ã€‚æ­¤å¤–ï¼Œå®ƒéœ€è¦ä»çŸ­è§†é¢‘åºåˆ—ä¸­é‡å»ºè¯¦ç»†çš„3Dè¡¨é¢ï¼Œä½¿é—®é¢˜å˜å¾—æ›´åŠ å…·æœ‰æŒ‘æˆ˜æ€§ã€‚å°½ç®¡é¢ä¸´è¿™äº›æŒ‘æˆ˜ï¼Œ<strong>æˆ‘ä»¬çš„æ–¹æ³•ä¸éœ€è¦ä»»ä½•æ¥è‡ªå¤§è§„æ¨¡æœè£…äººä½“æ‰«ææ•°æ®é›†çš„åœ°é¢çœŸå€¼ç›‘ç£æˆ–å…ˆéªŒçŸ¥è¯†</strong>ï¼Œä¹Ÿä¸ä¾èµ–äºä»»ä½•å¤–éƒ¨åˆ†å‰²æ¨¡å—ã€‚ç›¸åï¼Œå®ƒé€šè¿‡åœ¨ä¸‰ç»´ä¸­ç›´æ¥å¯¹åœºæ™¯ä¸­çš„äººç±»å’ŒèƒŒæ™¯å»ºæ¨¡ï¼Œé€šè¿‡ä¸¤ä¸ªåˆ†å¼€çš„ç¥ç»åœºå‚æ•°åŒ–æ¥è§£å†³åœºæ™¯åˆ†è§£å’Œè¡¨é¢é‡å»ºä»»åŠ¡ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨è§„èŒƒç©ºé—´ä¸­å®šä¹‰äº†ä¸€ä¸ªæ—¶é—´ä¸€è‡´çš„äººç±»è¡¨ç¤ºï¼Œå¹¶åˆ¶å®šäº†ä¸€ä¸ªå…¨å±€ä¼˜åŒ–ï¼Œæ¶µç›–äº†èƒŒæ™¯æ¨¡å‹ã€è§„èŒƒäººä½“å½¢çŠ¶å’Œçº¹ç†ï¼Œä»¥åŠæ¯å¸§äººä½“å§¿åŠ¿å‚æ•°ã€‚å¼•å…¥äº†ä¸€ç§ç²—åˆ°ç»†çš„ä½“ç§¯æ¸²æŸ“é‡‡æ ·ç­–ç•¥å’Œæ–°çš„ç›®æ ‡ï¼Œç”¨äºæ¸…æ™°åˆ†ç¦»åŠ¨æ€äººä½“å’Œé™æ€èƒŒæ™¯ï¼Œä»è€Œäº§ç”Ÿè¯¦ç»†ä¸”ç¨³å¥çš„3Däººä½“å‡ ä½•é‡å»ºã€‚æˆ‘ä»¬åœ¨å…¬å¼€å¯ç”¨çš„æ•°æ®é›†ä¸Šè¯„ä¼°äº†æˆ‘ä»¬çš„æ–¹æ³•ï¼Œå¹¶å±•ç¤ºäº†ç›¸å¯¹äºå…ˆå‰æŠ€æœ¯çš„æ”¹è¿›ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>ä¸å‰èƒŒæ™¯åˆ†ç¦»æ€æƒ³ç›¸åŒï¼Œä¸€ä¸ªç½‘ç»œç”¨æ¥é¢„æµ‹èƒŒæ™¯ï¼Œå¦ä¸€ä¸ªç½‘ç»œç”¨æ¥é¢„æµ‹å‰æ™¯(äººä½“)çš„SDFå’ŒColorï¼Œç„¶åé¢„æµ‹èƒŒæ™¯+å‰æ™¯ä¸è¾“å…¥è§†é¢‘å¸§çš„Lossç”¨æ¥ä¼˜åŒ–ç½‘ç»œ</p><p>ä½¿ç”¨äº†äººä½“å§¿åŠ¿å‚æ•°Pose(ç±»ä¼¼SMPLçš„å®šä¹‰)ï¼Œåœ¨å‰æ™¯çƒå†…å°†äººä½“warpåˆ°è§„èŒƒç©ºé—´ï¼Œé¢„æµ‹äººä½“çš„Canonical Shape Representation SDFï¼Œåœ¨å˜å½¢ç©ºé—´ä¸­è®¡ç®—é‡‡æ ·ç‚¹çš„ç©ºé—´æ¢¯åº¦ã€‚å¯¹åŠ¨æ€å‰æ™¯é‡‡ç”¨<strong>åŸºäºè¡¨é¢çš„ä½“ç»˜åˆ¶(NeuS)</strong>ï¼Œå¯¹èƒŒæ™¯é‡‡ç”¨<strong>æ ‡å‡†ä½“ç»˜åˆ¶(NeRF)</strong></p><blockquote><p><em>æˆ‘ä»¬æ‰©å±•äº† NeRF++ [66] çš„å€’ç½®çƒä½“å‚æ•°åŒ–æ¥è¡¨ç¤ºåœºæ™¯ï¼šå¤–éƒ¨ä½“ç§¯ï¼ˆå³èƒŒæ™¯ï¼‰è¦†ç›–çƒå†…ä½“ç§¯ï¼ˆå³å‡è®¾è¢«äººç±»å æ®çš„ç©ºé—´ï¼‰çš„è¡¥ï¼Œä¸¤è€…éƒ½ç”±å•ç‹¬çš„ç½‘ç»œå»ºæ¨¡ã€‚ç„¶åé€šè¿‡åˆæˆå¾—åˆ°æœ€ç»ˆçš„åƒç´ å€¼ã€‚</em></p></blockquote><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>The training usually takes 24-48 hours.</p><h1 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h1><p>è™½ç„¶å¾ˆå®¹æ˜“è·å¾—ï¼Œä½†Vid2Avatar ä¾èµ–äºåˆç†çš„å§¿æ€ä¼°è®¡ä½œä¸ºè¾“å…¥ã€‚æ­¤å¤–ï¼Œ<strong>è£™å­æˆ–è‡ªç”±æµåŠ¨çš„æœè£…ç­‰å®½æ¾çš„è¡£æœç”±äºå…¶å¿«é€Ÿçš„åŠ¨æ€è€Œå¸¦æ¥äº†é‡å¤§æŒ‘æˆ˜</strong>ã€‚æˆ‘ä»¬å‚è€ƒSuppã€‚Mat å¯¹é™åˆ¶å’Œç¤¾ä¼šå½±å“è¿›è¡Œæ›´è¯¦ç»†çš„è®¨è®ºã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†Vid2Avatarï¼Œé€šè¿‡è‡ªç›‘ç£åœºæ™¯åˆ†è§£ä»å•ç›®é‡å¤–è§†é¢‘ä¸­é‡å»ºè¯¦ç»†çš„3DAvatarã€‚æˆ‘ä»¬çš„æ–¹æ³•ä¸éœ€è¦ä»»ä½•ä»ç©¿ç€è¡£æœçš„äººä½“æ‰«æçš„å¤§å‹æ•°æ®é›†ä¸­æå–çš„groundtruthç›‘ç£æˆ–å…ˆéªŒï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¾èµ–äºä»»ä½•å¤–éƒ¨åˆ†å‰²æ¨¡å—ã€‚é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„èƒŒæ™¯å»ºæ¨¡å’Œæ—¶é—´ä¸€è‡´çš„è§„èŒƒäººç±»è¡¨ç¤ºï¼Œå»ºç«‹äº†å…·æœ‰æ–°é¢–åœºæ™¯åˆ†è§£ç›®æ ‡çš„å…¨å±€ä¼˜åŒ–ï¼Œé€šè¿‡å¯å¾®å¤åˆä½“ç»˜åˆ¶è”åˆä¼˜åŒ–èƒŒæ™¯åœºã€è§„èŒƒäººä½“å½¢çŠ¶å’Œå¤–è§‚çš„å‚æ•°ï¼Œä»¥åŠæ•´ä¸ªåºåˆ—çš„äººä½“å§¿æ€ä¼°è®¡ã€‚æˆ‘ä»¬çš„æ–¹æ³•ä»å•ç›®è§†é¢‘ä¸­å®ç°äº†é²æ£’å’Œé«˜ä¿çœŸçš„äººä½“é‡å»ºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Loss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2K2K</title>
      <link href="/3DReconstruction/Single-view/Depth%20Estimation/2K2K/"/>
      <url>/3DReconstruction/Single-view/Depth%20Estimation/2K2K/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>High-fidelity 3D Human Digitization from Single 2K Resolution Images</th></tr></thead><tbody><tr><td>Author</td><td>Sang-Hun Han1, Min-Gyu Park2, Ju Hong Yoon2,Ju-Mi Kang2, Young-Jae Park1, and Hae-Gon Jeon1</td></tr><tr><td>Conf/Jour</td><td>CVPR 2023 Highlight</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://sanghunhan92.github.io/conference/2K2K/">High-fidelity 3D Human Digitization from Single 2K Resolution Images Project Page (sanghunhan92.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4738290373604950017&amp;noteId=1970916692663980032">High-fidelity 3D Human Digitization from Single 2K Resolution Images (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921160120.png" alt="image.png"></p><p><strong>å¯ä»¥çœ‹æˆä¸€ç§ä¼°è®¡æ·±åº¦å›¾çš„æ–¹æ³•</strong><br>ç¼ºç‚¹ï¼šéœ€è¦å¥½çš„æ•°æ®é›†</p><ul><li>éœ€è¦æä¾›æ³•çº¿å›¾ã€maskã€æ·±åº¦å›¾(ä½åˆ†è¾¨ç‡+é«˜åˆ†è¾¨ç‡)</li><li>éœ€è¦äººä½“æ¨¡å‹çš„å…³èŠ‚ç‚¹ä¿¡æ¯</li><li>æ— æ³•é¢„æµ‹è‡ªé®æŒ¡éƒ¨ä½</li><li>å¯¹ä½åˆ†è¾¨ç‡é‡å»ºæ•ˆæœä¸å¥½</li></ul><span id="more"></span><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>é«˜è´¨é‡çš„3D äººä½“é‡å»ºéœ€è¦é«˜ä¿çœŸåº¦å’Œå¤§è§„æ¨¡çš„è®­ç»ƒæ•°æ®ï¼Œä»¥åŠæœ‰æ•ˆåˆ©ç”¨<strong>é«˜åˆ†è¾¨ç‡è¾“å…¥å›¾åƒ</strong>çš„é€‚å½“ç½‘ç»œè®¾è®¡ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„3D äººä½“æ•°å­—åŒ–æ–¹æ³•ï¼Œç§°ä¸º2K2Kï¼Œå®ƒæ„å»ºäº†ä¸€ä¸ªå¤§è§„æ¨¡çš„2K äººä½“æ•°æ®é›†ï¼Œå¹¶ä»2K åˆ†è¾¨ç‡å›¾åƒæ¨æ–­3D äººä½“æ¨¡å‹ã€‚æ‰€æå‡ºçš„æ–¹æ³•åˆ†åˆ«æ¢å¤äº†äººä½“çš„å…¨å±€å½¢çŠ¶å’Œç»†èŠ‚ã€‚ä½åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œä»ä½åˆ†è¾¨ç‡å›¾åƒä¸­é¢„æµ‹å…¨å±€ç»“æ„ï¼Œè€Œéƒ¨åˆ†å›¾åƒåˆ°æ³•çº¿ç½‘ç»œåˆ™é¢„æµ‹3D äººä½“ç»“æ„çš„ç»†èŠ‚ã€‚é«˜åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œåˆå¹¶å…¨å±€3D å½¢çŠ¶å’Œè¯¦ç»†ç»“æ„ï¼Œä»¥æ¨æ–­é«˜åˆ†è¾¨ç‡çš„å‰åä¾§æ·±åº¦å›¾ã€‚æœ€åï¼Œä¸€ä¸ªç°æˆçš„ç½‘æ ¼ç”Ÿæˆå™¨é‡å»ºå®Œæ•´çš„3D äººä½“æ¨¡å‹ï¼Œå¯åœ¨è·å¾—ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†2,050ä¸ª3D äººä½“æ¨¡å‹ï¼ŒåŒ…æ‹¬çº¹ç†åœ°å›¾ã€3D å…³èŠ‚å’Œ SMPL å‚æ•°ï¼Œä¾›ç ”ç©¶ç›®çš„ä½¿ç”¨ã€‚åœ¨å®éªŒä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†åœ¨å„ç§æ•°æ®é›†ä¸Šä¸æœ€æ–°å·¥ä½œç›¸æ¯”çš„ç«äº‰æ€§æ€§èƒ½ã€‚<a href="https://github.com/SangHunHan92/2K2K">https://github.com/SangHunHan92/2K2K</a></p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p><ul><li>Stage1 Lossï¼š<ul><li>ä½¿ç”¨ L1 æŸå¤±å’Œ LSSIMloss æ¥ä¼˜åŒ–å›¾åƒåˆ°æ³•çº¿ç½‘ç»œ<ul><li>GTï¼šä½åˆ†è¾¨ç‡æ³•çº¿å›¾ï¼Œé«˜åˆ†è¾¨ç‡æ³•çº¿å›¾</li></ul></li><li>é€šè¿‡æœ€å°åŒ–å¹³æ»‘ L1 æŸå¤± Ls1 å’ŒäºŒå…ƒäº¤å‰ç†µæŸå¤± LBCE çš„çº¿æ€§ç»„åˆæ¥è®­ç»ƒæ·±åº¦ç½‘ç»œ<ul><li>GTï¼šä½åˆ†è¾¨ç‡æ·±åº¦å›¾ï¼Œä½åˆ†è¾¨ç‡æ³•çº¿å›¾ï¼Œä½åˆ†è¾¨ç‡ Mask</li></ul></li></ul></li><li>Stage2 Lossï¼šå†»ç»“é˜¶æ®µ 1 è®­ç»ƒçš„ç½‘ç»œï¼Œå¹¶è®­ç»ƒé«˜åˆ†è¾¨ç‡æ·±åº¦ç”Ÿæˆå™¨<ul><li>ä½¿ç”¨ Lsl1 å’Œ LBCE æ¥ä¼˜åŒ–é«˜åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œ<ul><li>GTï¼šé«˜åˆ†è¾¨ç‡æ·±åº¦å›¾ï¼Œé«˜åˆ†è¾¨ç‡æ³•çº¿å›¾ï¼Œé«˜åˆ†è¾¨ç‡ Mask</li></ul></li></ul></li></ul><p><strong><em>æœ€ç»ˆå¾—åˆ°çš„æ˜¯åŒé¢çš„é«˜åˆ†è¾¨ç‡æ·±åº¦å›¾ï¼Œé€šè¿‡æ·±åº¦å›¾è·å–ç‚¹äº‘ï¼Œç„¶åé¢„æµ‹æ³•çº¿ï¼Œæœ€åé€šè¿‡ a screened Poisson surface construction æ¥å¾—åˆ° mesh</em></strong></p><p>å…·ä½“æµç¨‹ï¼š<br>é¢„æµ‹ä½åˆ†è¾¨ç‡æ³•å‘é‡å›¾å’Œæ·±åº¦å›¾ï¼Œ$\hat M$ ä¸ºé¢„æµ‹å‡ºçš„ mask<br>$\mathbf{D}^l=\hat{\mathbf{D}}^l\odot\hat{\mathbf{M}}^l$ï¼Œ $\hat{\mathbf{D}}^l,\hat{\mathbf{M}}^l,\mathbf{N}^l=G^l_{\mathbf{D}}(I^l)$</p><p>é¢„æµ‹é«˜åˆ†è¾¨ç‡ part æ³•å‘é‡å›¾ï¼ŒM ä¸ºå˜æ¢çŸ©é˜µ<br>$\bar{\mathbf{n}}_i=G_{\mathbf{N},i}(\bar{\mathbf{p}}_i,\mathbf{M}_i^{-1}\mathbf{N}^l)$ï¼Œ $\bar{\mathbf{p}}_i=\mathbf{M}_i\mathbf{p}_i,$</p><p>æ‹¼æ¥ä¸ºé«˜åˆ†è¾¨ç‡æ•´ä½“æ³•å‘é‡å›¾<br>$\mathbf{N}^h=\sum\limits_{i=1}^K\left(\mathbf{W}_i\odot\mathbf{n}_i\right)$ ï¼Œ$\mathbf{n}_i=\mathbf{M}_i^{-1}\bar{\mathbf{n}}_i$</p><p>é¢„æµ‹é«˜åˆ†è¾¨ç‡æ·±åº¦å›¾<br>$\mathbf{D}^h=\hat{\mathbf{D}}^h\odot\hat{\mathbf{M}}^h$ï¼Œ$\hat{\mathbf{D}}^h,\hat{\mathbf{M}}^h=G^h_{\mathbf{D}}(\mathbf{N}^h,\mathbf{D}^l)$</p><p>æ·±åº¦å›¾è½¬ç‚¹äº‘</p><h2 id="ä½åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œ"><a href="#ä½åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œ" class="headerlink" title="ä½åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œ"></a>ä½åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œ</h2><p><strong>ä½åˆ†è¾¨ç‡æ·±åº¦ç½‘ç»œ</strong>åˆ†åˆ«é¢„æµ‹ä½åˆ†è¾¨ç‡æ·±åº¦å’Œæ³•å‘å›¾ï¼Œä½¿ç”¨ dual-encoder AU-Net (D-AU-Net)ç½‘ç»œ, ref: <a href="https://readpaper.com/pdf-annotate/note?pdfId=4624854467519463425&amp;noteId=1997087774731159296">Monocular Human Digitization via Implicit Re-projection Networks (readpaper.com)</a></p><h2 id="Body-part-extractionå’ŒPart-wise-normal-prediction"><a href="#Body-part-extractionå’ŒPart-wise-normal-prediction" class="headerlink" title="Body part extractionå’ŒPart-wise normal prediction"></a>Body part extractionå’ŒPart-wise normal prediction</h2><p><strong>Body part extraction å’Œ Part-wise normal prediction</strong>é¢„æµ‹é«˜åˆ†è¾¨ç‡åŒé¢æ³•å‘ map<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921163941.png" alt="image.png"></p><ul><li>å°†äººä½“æŒ‰ç…§ keypoint å…³èŠ‚åˆ†æˆ patchesï¼Œæ¯ä¸ª patches å’Œ low åˆ†è¾¨ç‡æ³•çº¿å›¾æ¥é¢„æµ‹ high åˆ†è¾¨ç‡åŒé¢æ³•çº¿ map<ul><li>åªéœ€è®­ç»ƒå¤´ã€èº¯å¹²ã€æ‰‹è‡‚ã€è…¿å’Œè„šè¿™ 5 ä¸ªæ³•çº¿é¢„æµ‹ç½‘ç»œ AU-Netï¼Œç„¶åå³å¯é¢„æµ‹æ¯ä¸ª patch</li><li><a href="https://readpaper.com/pdf-annotate/note?pdfId=4500191380932026369&amp;noteId=1997072200139556608">Attention U-Net: Learning Where to Look for the Pancreas (readpaper.com)</a></li></ul></li></ul><h2 id="é«˜åˆ†è¾¨ç‡æ·±åº¦é¢„æµ‹ç½‘ç»œ"><a href="#é«˜åˆ†è¾¨ç‡æ·±åº¦é¢„æµ‹ç½‘ç»œ" class="headerlink" title="é«˜åˆ†è¾¨ç‡æ·±åº¦é¢„æµ‹ç½‘ç»œ"></a>é«˜åˆ†è¾¨ç‡æ·±åº¦é¢„æµ‹ç½‘ç»œ</h2><p><strong>é«˜åˆ†è¾¨ç‡æ·±åº¦é¢„æµ‹ç½‘ç»œ</strong><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921164612.png" alt="image.png"><br>    <strong>ç½‘æ ¼ç”Ÿæˆ</strong>ï¼šä»æ·±åº¦å›¾ç”Ÿæˆ 3D æ¨¡å‹æœ‰å¤šç§æ–¹æ³•ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ã€‚æˆ‘ä»¬é‡‡ç”¨ä¸[13]ç±»ä¼¼çš„æ–¹æ³•ã€‚æˆ‘ä»¬å°†æ·±åº¦å›¾è½¬æ¢ä¸º 3D ç‚¹äº‘ï¼Œç„¶åä»ç›¸é‚»ç‚¹è®¡ç®—æ¯ä¸ªç‚¹çš„è¡¨é¢æ³•çº¿ã€‚ä¹‹åï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸ªç­›é€‰çš„æ³Šæ¾æ›²é¢æ„é€ [22]æ¥è·å¾—å¹³æ»‘çš„äººä½“ç½‘æ ¼ Vã€‚</p><h2 id="æƒé‡è®¡ç®—æ–¹æ³•"><a href="#æƒé‡è®¡ç®—æ–¹æ³•" class="headerlink" title="æƒé‡è®¡ç®—æ–¹æ³•"></a>æƒé‡è®¡ç®—æ–¹æ³•</h2><p>æ¥æºï¼š<a href="https://github.com/SangHunHan92/2K2K/blob/main/models/deep_human_models.py">2K2K Code</a><br>ç›®çš„ï¼špart æ³•å‘é‡å›¾ â€”&gt; åŸå›¾å¤§å°å¯¹åº”æ³•å‘é‡å›¾</p><p>æ ¹æ® part æ³•å‘é‡å›¾é€†ä»¿å°„å˜æ¢å›åŸå›¾ç©ºé—´ $\mathbf{n}_{i}=\mathbf{M}_{i}^{-1}\mathbf{\bar{n}}_{i}$<br>è¦å°† part æ³•å‘é‡å›¾èåˆä¸ºåŸå›¾ç©ºé—´æ³•å‘é‡å›¾ï¼Œæ¯ä¸ªæ³•å‘é‡å›¾æœ‰ä¸åŒçš„æƒé‡$\mathbf{N}^h\quad=\sum\limits_{i=1}^K\left(\mathbf{W}_i\odot\mathbf{n}_i\right)$</p><p>æƒé‡çš„<strong>è®¡ç®—æ–¹æ³•</strong>ï¼š</p><script type="math/tex; mode=display">\mathbf{W}_i(x,y)=\frac{G(x,y)*\phi_i(x,y)}{\sum_iG(x,y)*\phi_i(x,y)}</script><ul><li>åŒæ—¶ä¸ part æ³•å‘é‡å›¾é€†ä»¿å°„å˜æ¢çš„è¿˜æœ‰ä¸€ä¸ª Occupancy Grid Map Oï¼Œè¡¨ç¤ºåœ¨åŸå›¾ç©ºé—´ä¸­æ¯ä¸ª part çš„å ç”¨å€¼ 0 æˆ–è€… 1ï¼Œi.e. $\left.\phi_i(x,y)=\left\{\begin{array}{cc}1&amp;\text{if}&amp;\sum\mathbf{n}_i(x,y)\neq\mathbf{0}^\top\\0&amp;\text{otherwise}\end{array}\right.\right.$</li><li>å¯¹ O åšé«˜æ–¯æ¨¡ç³Š GaussianBlurï¼Œ<strong>ä½¿å¾— O map çš„å€¼åˆ°è¾¹ç¼˜é€æ¸å‡å°</strong></li><li>å¦‚ä¸‹å›¾ï¼Œface part è„–å­ä¸Šæ–¹ä¸­å¿ƒå¤„ O å€¼åšå®Œé«˜æ–¯æ¨¡ç³Šåä¾ç„¶è¿‘ä¼¼ 1(å‡è®¾ 1)ï¼Œè€Œ body part ä¸Šéƒ¨åˆ†è„–å­ä¸­å¿ƒå¤„åšå®Œé«˜æ–¯æ¨¡ç³Šå O å€¼<1(å‡è®¾ 1/2)ï¼Œè¿™ä¼šå¯¼è‡´å¯¹äºè„–å­è¿™éƒ¨åˆ†å¤š part èåˆæ—¶ï¼Œface part normal çš„æƒé‡ç›¸å¯¹äº body part normal çš„æƒé‡ä¼šæ›´å¤§ä¸€ç‚¹(2/3 > 1/3)</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921163941.png" alt="image.png"></p><h1 id="Datasets"><a href="#Datasets" class="headerlink" title="Datasets"></a>Datasets</h1><ul><li>æ–°çš„æ•°æ®é›†ï¼šæˆ‘ä»¬çš„æ•°æ®é›†æä¾›äº†é«˜ä¿çœŸçš„ 3D äººä½“æ¨¡å‹ï¼Œç”± 80 ä¸ª DSLR ç›¸æœºã€çº¹ç†è´´å›¾ã€3D å§¿åŠ¿ï¼ˆopenpifpafw å…¨èº«ï¼‰å’Œ SMPL æ¨¡å‹å‚æ•°æ•è·ã€‚<ul><li>2,050 ä¸ª scan 3D æ¨¡å‹</li><li>Skinned Multi-Person Linear (SMPL)</li></ul></li></ul><p>Booth ä¸­ä¸€å…± 80 ä¸ª DSLRï¼šæ¯ä¸ªæ¡ä¸Š 5 ä¸ªç›¸æœºï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡å¯¹é½ï¼šäººå¤´ã€ä¸Šèº«ã€ä¸­éƒ¨ã€ä¸‹èº«ã€è†ç›–ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921162402.png" alt="image.png"></p><p>ä½¿ç”¨å•†ä¸šåŒ–è½¯ä»¶ RealityCapture ç”Ÿæˆåˆå§‹ç²—ç³™çš„äººä½“æ¨¡å‹ï¼Œç„¶åä¸“å®¶æ‰‹åŠ¨å¯¹æ¨¡å‹è¿›è¡Œåå¤„ç†(å¡«å……å­”æ´ã€å¤´å‘å‡ ä½•ç»†èŠ‚)ã€‚å·²å‘å¸ƒæ¨¡å‹çš„é¡¶ç‚¹æ•°çº¦ä¸º 1Mï¼Œå…¶ç¤ºä¾‹å¦‚å›¾ 2 (b) æ‰€ç¤ºã€‚æ‰«ææ¨¡å‹æ­£ç¡®åœ°ä¿ç•™äº†æ‰‹æŒ‡å’Œçš±çº¹ç­‰å‡ ä½•ç»†èŠ‚ï¼Œä¸»è¦æ˜¯å› ä¸ºåœ¨å—æ§ç¯å¢ƒä¸­æ•è·çš„é«˜è´¨é‡å›¾åƒã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921162858.png" alt="image.png"></p><p>åˆæˆçš„ Rendered Image(ä½¿ç”¨ Unityã€Unreal ç­‰è½¯ä»¶)</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>åœ¨å››ä¸ª RTX A6000 GPU ä¸Šè®­ç»ƒ3å¤©</p><p>Ubuntu 20.04 with Python 3.8, PyTorch 1.9.1 and CUDA 11.1<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y freeglut3-dev libglib2.0-0 libsm6 libxrender1 libxext6 openexr libopenexr-dev libjpeg-dev zlib1g-dev</span><br><span class="line">apt install -y libgl1-mesa-dri libegl1-mesa libgbm1 libgl1-mesa-glx libglib2.0-0</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure></p><h2 id="Fast-test"><a href="#Fast-test" class="headerlink" title="Fast test"></a>Fast test</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> checkpoints &amp;&amp; wget https://github.com/SangHunHan92/2K2K/releases/download/Checkpoint/ckpt_bg_mask.pth.tar &amp;&amp; <span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python test_02_model.py --load_ckpt ckpt_bg_mask.pth.tar --save_path ./exp</span><br><span class="line"></span><br><span class="line">terminal outputï¼š</span><br><span class="line">u2net.onnx modelä¸‹è½½&#x27;https://github.com/danielgatis/rembg/releases/download/v0.0.0/u2net  </span><br><span class="line">.onnx&#x27;</span><br><span class="line"></span><br><span class="line">python test_03_poisson.py --save_path ./exp</span><br></pre></td></tr></table></figure><p>Custom test<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bin\OpenPoseDemo.exe --image_dir test_folder --write_json test_folder --hand --write_images test_folder\test --write_images_format jpg</span><br><span class="line"></span><br><span class="line">python test_02_model.py --load_ckpt ckpt_bg_mask.pth.tar --save_path ./exp --data_path ./test_folder --save_name ???</span><br><span class="line">python test_03_poisson.py --save_path ./exp --save_name ???</span><br><span class="line"></span><br><span class="line">bin\OpenPoseDemo.exe --image_dir test_2 --write_json test_2 --hand --write_images test_2\test --write_images_format jpg</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><h2 id="Render"><a href="#Render" class="headerlink" title="Render"></a>Render</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">data</span><br><span class="line">â”œ IndoorCVPR09</span><br><span class="line">â”‚  â”œ airport_inside</span><br><span class="line">â”‚  â”” â‹®</span><br><span class="line">â”œ Joint3D</span><br><span class="line">â”‚  â”œ RP</span><br><span class="line">â”‚  â”” THuman2</span><br><span class="line">â”œ list</span><br><span class="line">â”œ obj</span><br><span class="line">â”‚  â”œ RP</span><br><span class="line">â”‚  â”‚  â”œ rp_aaron_posed_013_OBJ</span><br><span class="line">â”‚  â”‚  â”” â‹®</span><br><span class="line">â”‚  â”” THuman2</span><br><span class="line">â”‚     â”œ data</span><br><span class="line">â”‚     â”” smplx</span><br><span class="line">â”‚  â”œ 2K2K</span><br><span class="line">â”‚  â”‚  â”œ 00003</span><br><span class="line">â”‚  â”‚  â”” â‹®</span><br><span class="line">â”œ PERS</span><br><span class="line">â”‚  â”œ COLOR</span><br><span class="line">â”‚  â”œ DEPTH</span><br><span class="line">â”‚  â”” keypoint</span><br><span class="line">â”” (ORTH)</span><br></pre></td></tr></table></figure><h3 id="Data-folder"><a href="#Data-folder" class="headerlink" title="Data folder"></a>Data folder</h3><ul><li>Obj<ul><li>2K2K<ul><li>00003<ul><li>00003.Ply</li></ul></li></ul></li></ul></li><li>PERS<ul><li>COLOR<ul><li>NOSHADING<ul><li><code>2K2K_0_y_-30_x</code><ul><li>00003_front.Png</li><li>00003_back.Png</li></ul></li><li><code>2K2K*0_y*-20_x</code></li><li>â€¦</li><li><code>2K2K_0_y_30_x</code></li></ul></li><li>SHADED<ul><li><code>2K2K_0_y_-30_x</code><ul><li>00003_front.Png</li></ul></li><li>â€¦</li></ul></li></ul></li><li>DEPTH<ul><li><code>2K2K_0_y_-30_x</code><ul><li>00003_front.Png</li><li>00003_back.Png</li></ul></li><li>â€¦</li></ul></li></ul></li><li>ORTH<ul><li>COLOR<ul><li>NOSHADING</li><li>SHADED</li></ul></li><li>DEPTH</li></ul></li></ul><p>å¦‚æœä¸ç®— ORTHï¼šå…± 21+14=35 å¼ å›¾ç‰‡</p><h3 id="Render-image"><a href="#Render-image" class="headerlink" title="Render image"></a>Render image</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pers2pc(image_front, front_depth.astype(np.float64) / <span class="number">32.0</span>, <span class="number">2048</span>, <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pers2pc</span>(<span class="params">pers_color, pers_depth, res, fov</span>):</span><br><span class="line">    focal = res / (<span class="number">2</span> * np.tan(np.radians(fov) / <span class="number">2.0</span>))</span><br><span class="line"></span><br><span class="line">res = <span class="number">2048</span></span><br><span class="line">fov = <span class="number">50</span></span><br><span class="line">focal = <span class="number">2195.975086601788</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python render/render.py --data_path ./data --data_name 2K2K</span><br><span class="line"></span><br><span class="line">python render/render.py --data_path ./data --data_name RP</span><br><span class="line">python render/render.py --data_path ./data --data_name THuman2 --smpl_model_path &#123;smpl_model_path&#125;</span><br></pre></td></tr></table></figure><p>Get ï¼š PERS/COLOR and PERS/DEPTH</p><h3 id="Render-keypoint"><a href="#Render-keypoint" class="headerlink" title="Render keypoint"></a>Render keypoint</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">unzip data/Joint3D.zip -d data/Joint3D/</span><br><span class="line">python render/render_keypoint.py --data_path ./data --data_name RP</span><br><span class="line">python render/render_keypoint.py --data_path ./data --data_name THuman2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># openpose</span></span><br><span class="line"><span class="comment">## input image</span></span><br><span class="line">bin\OpenPoseDemo.exe --image_dir G:/2K2K_Datasets/230831/train/data/PERS/COLOR/FOR_POSE/2K2K_0_y_0_x --write_json G:/2K2K_Datasets/230831/train/data/PERS/keypoint_json/2K2K_0_y_0_x --face --hand --write_images_format png</span><br><span class="line"></span><br><span class="line">G:/2K2K_Datasets/230831/train/data/PERS/COLOR/FOR_POSE/2K2K_0_y_0_x</span><br><span class="line">    2K2K_0_y_10_x</span><br><span class="line">    2K2K_0_y_20_x</span><br><span class="line">    2K2K_0_y_30_x</span><br><span class="line">    2K2K_0_y_-10_x</span><br><span class="line">    2K2K_0_y_-20_x</span><br><span class="line">    2K2K_0_y_-30_x</span><br><span class="line"></span><br><span class="line"><span class="comment">## output keypoint_json</span></span><br><span class="line">G:/2K2K_Datasets/230831/train/data/PERS/keypoint_json/2K2K_0_y_0_x ...</span><br><span class="line"></span><br><span class="line"><span class="comment">## output keypoint_npy</span></span><br><span class="line">python render_keypoint_2k.py <span class="comment"># use json2npy function</span></span><br><span class="line"></span><br><span class="line">G:/2K2K_Datasets/230831/train/data/PERS/keypoint/2K2K_0_y_0_x ...</span><br></pre></td></tr></table></figure><p>Get ï¼š PERS/keypoint</p><h2 id="Train"><a href="#Train" class="headerlink" title="Train"></a>Train</h2><p>Phase1 å¤§æ¦‚éœ€è¦ 7 å¤©, (å•å¼  3090)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python train.py --data_path ./data --phase 1 --batch_size 1</span><br><span class="line">python train.py --data_path ./data --phase 2 --batch_size 1 --load_ckpt &#123;checkpoint_file_name&#125;</span><br></pre></td></tr></table></figure><h1 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h1><p>ç”±äºæˆ‘ä»¬æ˜ç¡®åœ°é¢„æµ‹æ¯ä¸ªèº«ä½“éƒ¨ä½çš„æ³•çº¿è´´å›¾ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ²¡æœ‰è€ƒè™‘ä¸¥é‡çš„è‡ªé®æŒ¡ï¼Œä¾‹å¦‚ï¼Œwhen a lower arm is behind the backã€‚æˆ‘ä»¬å£°ç§°è¿™ç§ç°è±¡æœ¬è´¨ä¸Šæ˜¯æ¨¡æ£±ä¸¤å¯çš„ï¼Œå¯èƒ½çš„è¡¥æ•‘æªæ–½è¦ä¹ˆæ˜¯é¢„æµ‹é®æŒ¡åƒç´ çš„è¯­ä¹‰ï¼Œè¦ä¹ˆæ˜¯åœ¨[34]ä¹‹å‰ä½¿ç”¨äººä½“æ¥æŒ‡å¯¼æ·±åº¦é¢„æµ‹ã€‚ç”±äºç©ºé—´é™åˆ¶ï¼Œæˆ‘ä»¬åœ¨è¡¥å……ææ–™ä¸­æä¾›äº†å‡ ä¸ªå¤±è´¥æ¡ˆä¾‹ã€‚ </p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº† 2K2Kï¼Œè¿™æ˜¯ä¸€ä¸ªä»é«˜åˆ†è¾¨ç‡å•å¹…å›¾åƒä¸­æ•°å­—åŒ–äººç±»çš„æœ‰æ•ˆæ¡†æ¶ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡æ‰«æ 2,050 ä¸ªäººä½“æ¨¡å‹æ„å»ºäº†ä¸€ä¸ªå¤§è§„æ¨¡çš„äººä½“æ¨¡å‹æ•°æ®é›†ï¼Œå¹¶ä½¿ç”¨å®ƒä»¬æ¥è®­ç»ƒæˆ‘ä»¬çš„ç½‘ç»œï¼Œç”±éƒ¨åˆ†æ­£æ€é¢„æµ‹ã€ä½åˆ†è¾¨ç‡å’Œé«˜åˆ†è¾¨ç‡æ·±åº¦é¢„æµ‹ç½‘ç»œç»„æˆã€‚ä¸ºäº†æœ‰æ•ˆåœ°å¤„ç†é«˜åˆ†è¾¨ç‡è¾“å…¥ï¼Œæˆ‘ä»¬è£å‰ªå’Œå¼±å¯¹é½æ¯ä¸ªèº«ä½“éƒ¨ä½ä¸ä»…å¯ä»¥å¤„ç†å§¿åŠ¿å˜åŒ–ï¼Œè¿˜å¯ä»¥æ›´å¥½åœ°æ¢å¤äººä½“çš„ç²¾ç»†ç»†èŠ‚ï¼Œå¦‚é¢éƒ¨è¡¨æƒ…ã€‚æˆ‘ä»¬è¯æ˜äº†æ‰€æå‡ºçš„æ–¹æ³•é€‚ç”¨äºå„ç§æ•°æ®é›†çš„é«˜åˆ†è¾¨ç‡å›¾åƒæœ‰æ•ˆå·¥ä½œã€‚</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><h2 id="Human-Body-Part-2K2K"><a href="#Human-Body-Part-2K2K" class="headerlink" title="Human Body Part(2K2K)"></a>Human Body Part(2K2K)</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230921163941.png" alt="image.png"></p><p>å°†äººä½“åˆ†ä¸º 12 ä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥åªç”¨å¤´ã€èº¯å¹²ã€æ‰‹è‡‚(4 part)ã€è…¿(4 part)å’Œè„š(2 part) äº”ä¸ªç½‘ç»œæ¥é¢„æµ‹</p><p><a href="https://github.com/CMU-Perceptual-Computing-Lab/openpose">CMU-Perceptual-Computing-Lab/openpose: OpenPose: Real-time multi-person keypoint detection library for body, face, hands, and foot estimation (github.com)</a></p><ul><li><strong>openpose</strong> â€¦ To get keypoint(json) ,then convert json to npy (shape: 31,3)</li><li>è¾“å…¥åŸå›¾ imageï¼Œæ ¹æ® pose(.Npy)å¾—åˆ°ä»¿å°„å˜æ¢çŸ©é˜µ(init_affine_2048)ï¼Œä»¿å°„å˜æ¢çŸ©é˜µå°†ç›®æ ‡éƒ¨ä½ç§»åŠ¨åˆ°ç›¸æœºä¸­å¿ƒï¼Œç„¶åé€šè¿‡ centercrop å¾—åˆ° part image<ul><li>åŸå›¾ image ä¸‹é‡‡æ ·åé€šè¿‡ç½‘ç»œå¾—åˆ°ä½åˆ†è¾¨ç‡æ³•å‘é‡å›¾ï¼Œlow normal æ’å€¼åˆ° 2k ååŒæ ·å˜æ¢å¾—åˆ° part low normal</li><li>Part image å’Œ part low normal é€šè¿‡ 5 ä¸ª part network å¾—åˆ°æ¯ä¸ªéƒ¨åˆ†çš„ part high normal</li><li>Part high normal é€šè¿‡ occupy æ–¹å¼å¾—åˆ°çš„æƒé‡ï¼Œæ±‚å’Œæ‹¼æ¥æˆ high normal</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231011103025.png" alt="image.png|222"></p><p>Noteï¼špose ä¸­è„¸éƒ¨åªæœ‰ 2eyeã€2ear å’Œ 1noseï¼Œæ‰‹éƒ¨ä¸º 4 ä¸ª finger</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] = [nose, L eye, R eye, L ear, R ear]</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>] = [L shoudler, R shoudler, L elbow, R elbow, L wrist, R wrist]</span><br><span class="line">[<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>] = [L hip, R hip, L knee, R knee, L ankle, R ankle]</span><br><span class="line">[<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>] = [L big toe, L little toe, L sole, R big toe, R little toe, R sole]</span><br><span class="line">[<span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>] = [L finger <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, R finger <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure><p>æ ¹æ® pose å°†äººä½“åˆ†ä¸º 12 ä¸ªéƒ¨åˆ†ç”¨ 5 ä¸ªç½‘ç»œé¢„æµ‹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Face[<span class="number">4</span>, <span class="number">3</span>]</span><br><span class="line">Body[<span class="number">6</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">11</span>]</span><br><span class="line">Arm[<span class="number">5</span>, <span class="number">7</span>], [<span class="number">7</span>, <span class="number">9</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>], [<span class="number">6</span>, <span class="number">8</span>], [<span class="number">8</span>, <span class="number">10</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>]</span><br><span class="line">Leg[<span class="number">11</span>, <span class="number">13</span>], [<span class="number">13</span>, <span class="number">15</span>], [<span class="number">12</span>, <span class="number">14</span>], [<span class="number">14</span>, <span class="number">16</span>]</span><br><span class="line">Foot[<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">15</span>], [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">16</span>]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Single-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ClothedHumans </tag>
            
            <tag> DepthEstimation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Datasets</title>
      <link href="/3DReconstruction/Datasets/"/>
      <url>/3DReconstruction/Datasets/</url>
      
        <content type="html"><![CDATA[<p>æ•°æ®é›†</p><span id="more"></span><h1 id="3D-æ‰“å°æ¨¡å‹"><a href="#3D-æ‰“å°æ¨¡å‹" class="headerlink" title="3D æ‰“å°æ¨¡å‹"></a>3D æ‰“å°æ¨¡å‹</h1><p><a href="https://www.thingiverse.com/">Thingiverse - Digital Designs for Physical Objects</a></p><h1 id="Custom-Datasets"><a href="#Custom-Datasets" class="headerlink" title="Custom Datasets"></a>Custom Datasets</h1><p>COLMAP + Blender(neuralangelo)</p><blockquote><p><a href="Learn/CG%20or%20CV/Colmap.md">Colmap</a></p></blockquote><h1 id="DTU"><a href="#DTU" class="headerlink" title="DTU"></a>DTU</h1><p><a href="http://roboimagedata.compute.dtu.dk/">DTU Robot Image Data Sets | Data for Evaluating Computer Vision Methods etc.</a></p><ul><li>NeuSæä¾›<a href="https://www.dropbox.com/sh/w0y8bbdmxzik3uk/AAAaZffBiJevxQzRskoOYcyja?dl=0">neus - Dropbox</a></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923112720.png" alt="image.png"><br>1600x1200</p><p>åœ¨é»‘ç›’ç©ºé—´ä¸­ï¼Œä½¿ç”¨ 6 è½´å·¥ä¸šæœºå™¨äººæ‰‹éƒ¨çš„ç»“æ„å…‰ç›¸æœºï¼Œstructured light scanner å¯ä»¥æ•è·æ‰€è§‚å¯Ÿåœºæ™¯/å¯¹è±¡çš„å‚è€ƒ 3D è¡¨é¢å‡ ä½•å½¢çŠ¶</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923112501.png" alt="image.png|555"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923112539.png" alt="image.png"></p><p>æˆ‘ä»¬çš„æœºå™¨äººçš„<strong>å®šä½ç²¾åº¦éš¾ä»¥æ§åˆ¶</strong>ï¼Œä½†é‡å¤æ€§éå¸¸é«˜ï¼Œéšæœºæ€§å¾ˆå°ã€‚è¿™æ„å‘³ç€å¤šæ¬¡è¿è¡Œç›¸åŒçš„å®šä½è„šæœ¬ï¼Œæ¯æ¬¡å®šä½å‡ ä¹éƒ½æ˜¯ç›¸åŒçš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªå®šä½é—®é¢˜ï¼Œæˆ‘ä»¬ä¸ç›´æ¥ä½¿ç”¨ï¼ˆæˆ–æŠ¥å‘Šï¼‰å‘é€ç»™æœºå™¨äººçš„ç›¸æœºä½ç½®ï¼Œè€Œæ˜¯ç¡®å®šå¹¶æŠ¥å‘Šæˆ‘ä»¬<strong>è·å–çš„ç›¸å¯¹ç›¸æœºä½ç½®</strong>ã€‚è¿™æ˜¯é€šè¿‡ MatLab çš„ç›¸æœºæ ¡å‡†å·¥å…·ç®±å®Œæˆçš„ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923112650.png" alt="image.png|555"></p><h1 id="BlenderMVS"><a href="#BlenderMVS" class="headerlink" title="BlenderMVS"></a>BlenderMVS</h1><p><a href="https://github.com/YoYo000/BlendedMVS">YoYo000/BlendedMVS: BlendedMVS: A Large-scale Dataset for Generalized Multi-view Stereo Networks (github.com)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4545062112983670785&amp;noteId=1973517268736296192">BlendedMVS: A Large-scale Dataset for Generalized Multi-view Stereo Networks (readpaper.com)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923143752.png" alt="image.png|666"><br>H Ã—W = 1536 Ã— 2048</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923111934.png" alt="image.png|666"></p><p>åº”ç”¨ 3D é‡å»ºç®¡é“ä»ç²¾å¿ƒé€‰æ‹©çš„åœºæ™¯å›¾åƒä¸­æ¢å¤é«˜è´¨é‡çš„çº¹ç†ç½‘æ ¼ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†è¿™äº›ç½‘æ ¼æ¨¡å‹æ¸²æŸ“ä¸ºå½©è‰²å›¾åƒå’Œæ·±åº¦å›¾ã€‚ä¸ºäº†åœ¨è®­ç»ƒæœŸé—´å¼•å…¥ç¯å¢ƒç…§æ˜ä¿¡æ¯ï¼Œå°†æ¸²æŸ“çš„å½©è‰²å›¾åƒä¸è¾“å…¥å›¾åƒè¿›ä¸€æ­¥æ··åˆä»¥ç”Ÿæˆè®­ç»ƒè¾“å…¥</p><ul><li>Altizure å¹³å°è¿›è¡Œçº¹ç†ç½‘æ ¼é‡å»ºï¼Œè¯¥è½¯ä»¶å°†æ‰§è¡Œå®Œæ•´çš„ 3D é‡å»ºç®¡é“å¹¶è¿”å›çº¹ç†ç½‘æ ¼å’Œç›¸æœºå§¿åŠ¿ä½œä¸ºæœ€ç»ˆè¾“å‡º</li><li>ç„¶å<strong>å°†ç½‘æ ¼æ¨¡å‹æ¸²æŸ“åˆ°æ¯ä¸ªç›¸æœºè§†å›¾ç‚¹</strong>ä»¥ç”Ÿæˆæ¸²æŸ“å›¾åƒå’Œæ¸²æŸ“çš„æ·±åº¦å›¾ï¼Œ<strong>æ¸²æŸ“çš„æ·±åº¦å›¾</strong>å°†ç”¨ä½œ GT æ·±åº¦å›¾</li><li>ç”±äºæ¸²æŸ“å›¾åƒä¸åŒ…å«ä¸è§†å›¾ç›¸å…³çš„ç…§æ˜ï¼Œä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨ç”¨äºä»æ¸²æŸ“å›¾åƒä¸­æå–å›¾åƒè§†è§‰çº¿ç´¢ï¼Œè€Œä½é€šæ»¤æ³¢å™¨ç”¨äºä»è¾“å…¥ä¸­æå–ç¯å¢ƒç…§æ˜ã€‚æœ€åçº¿æ€§æ··åˆç”Ÿæˆæ··åˆå›¾ï¼Œ<strong>æ··åˆå›¾</strong>ç”¨ä½œ GT ç›‘ç£</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923112434.png" alt="image.png|333"></p><p>æ··åˆå›¾åƒä¸è¾“å…¥å›¾åƒå…·æœ‰ç›¸ä¼¼çš„èƒŒæ™¯ç…§æ˜ï¼ŒåŒæ—¶ç»§æ‰¿äº†æ¸²æŸ“å›¾åƒçš„çº¹ç†ç»†èŠ‚ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923112838.png" alt="image.png|555"><br>ä¸ DTU æ•°æ®é›†[2]ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰åœºæ™¯éƒ½ç”±å›ºå®šçš„æœºæ¢°è‡‚æ•è·ï¼ŒBlendedMVS ä¸­çš„åœºæ™¯åŒ…å«å„ç§ä¸åŒçš„æ‘„åƒæœºè½¨è¿¹ã€‚éç»“æ„åŒ–æ‘„åƒæœºè½¨è¿¹å¯ä»¥æ›´å¥½åœ°æ¨¡æ‹Ÿä¸åŒçš„å›¾åƒæ•è·é£æ ¼ï¼Œå¹¶èƒ½å¤Ÿä½¿ç½‘ç»œæ›´ä¸€èˆ¬åŒ–åˆ°çœŸå®ä¸–ç•Œçš„é‡å»º</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230923113119.png" alt="image.png|666"></p><h1 id="Tanks-and-Temples"><a href="#Tanks-and-Temples" class="headerlink" title="Tanks and Temples"></a>Tanks and Temples</h1><p><a href="https://www.tanksandtemples.org/">Tanks and Temples Benchmark</a></p><ul><li>å·¥ä¸šæ¿€å…‰æ‰«æä»ª(industrial laser scanner.)æ•è·çš„æ¨¡å‹</li><li>é«˜åˆ†è¾¨ç‡è§†é¢‘åºåˆ—</li></ul><h1 id="ShapeSplat"><a href="#ShapeSplat" class="headerlink" title="ShapeSplat"></a>ShapeSplat</h1><blockquote><p><a href="https://unique1i.github.io/ShapeSplat/">ShapeSplat: A Large-scale Dataset of Gaussian Splats and Their Self-Supervised Pretraining</a></p></blockquote><p>ä¸€ä¸ªåŸºäºå¤§å‹3D CADæ¨¡å‹æ¸²æŸ“ï¼Œç»è¿‡å…‰æ …åŒ–ï¼Œé«˜æ–¯è£å‰ªçš„å¤§å‹é«˜æ–¯ç‰©ä½“æ•°æ®é›†ShapeSplatã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240822154836.png" alt="image.png|666"></p><h1 id="Human-Body"><a href="#Human-Body" class="headerlink" title="Human Body"></a>Human Body</h1><blockquote><p><a href="https://github.com/rlczddl/awesome-3d-human-reconstruction#body-1">rlczddl/awesome-3d-human-reconstruction (github.com)</a></p></blockquote><div class="table-container"><table><thead><tr><th>Name</th><th>Link</th></tr></thead><tbody><tr><td>2K2K</td><td><a href="https://github.com/ketiVision/2K2K">ketiVision/2K2K (github.com)</a></td></tr><tr><td>ZJU-Mocap</td><td><a href="https://github.com/zju3dv/neuralbody/blob/master/INSTALL.md#zju-mocap-dataset">neuralbody/INSTALL.md at master Â· zju3dv/neuralbody (github.com)</a></td></tr><tr><td>_People-Snapshot_</td><td><a href="https://github.com/zju3dv/neuralbody/blob/master/INSTALL.md#people-snapshot-dataset">People-Snapshot</a></td></tr><tr><td>THUman</td><td><a href="https://github.com/ZhengZerong/DeepHuman/tree/master/THUmanDataset">THUmanDataset</a></td></tr><tr><td>THuman2.0</td><td><a href="https://github.com/ytrock/THuman2.0-Dataset">ytrock/THuman2.0-Dataset (github.com)</a></td></tr><tr><td>THuman3.0</td><td><a href="https://github.com/fwbx529/THuman3.0-Dataset">fwbx529/THuman3.0-Dataset (github.com)</a></td></tr><tr><td><strong>THUman4.0</strong></td><td><a href="https://github.com/ZhengZerong/THUman4.0-Dataset">ZhengZerong/THUman4.0-Dataset (github.com)</a></td></tr><tr><td>THUman æ¥æº</td><td><a href="http://liuyebin.com/dataset.html">Yebin Liu (åˆ˜çƒ¨æ–Œ) (liuyebin.com)</a></td></tr><tr><td>renderpeople</td><td><a href="https://renderpeople.com/">https://renderpeople.com/</a></td></tr><tr><td>MVPHuman</td><td><a href="https://github.com/TingtingLiao/MVPHuman">MVP-Human</a></td></tr><tr><td><strong>HuMMan</strong></td><td><a href="https://github.com/caizhongang/humman_toolbox">caizhongang/humman_toolbox: Toolbox for HuMMan Dataset (github.com)</a></td></tr><tr><td>CLOTH4D</td><td><a href="https://github.com/AemikaChow/CLOTH4D">AemikaChow/CLOTH4D (github.com)</a></td></tr><tr><td>DNA-Rendering</td><td><a href="https://dna-rendering.github.io/">DNA-Rendering : A Diverse Neural Actor Repository for High-Fidelity Human-centric Rendering</a></td></tr></tbody></table></div><ul><li><p>UltraStageï¼šå¤šè§†è§’å’Œå¤šå…‰ç…§æ¡ä»¶ä¸‹æ•è·çš„é«˜è´¨é‡çš„äººä½“èµ„æº</p><ul><li><a href="https://miaoing.github.io/RNHA/">Relightable Neural Human Assets from Multi-view Gradient Illuminations (miaoing.github.io)</a></li><li><a href="https://github.com/IHe-KaiI/RNHA_Dataset">IHe-KaiI/RNHA_Dataset: The dataset of the paper â€œRelightable Neural Human Assets from Multi-view Gradient Illuminationsâ€. (github.com)</a></li></ul></li><li><p>SMPLã€<a href="https://smpl-x.is.tue.mpg.de/index.html">SMPL-X (mpg.de)</a></p></li><li><p><a href="https://idea-research.github.io/HumanArt/">Human-Art: A Versatile Human-Centric Dataset Bridging Natural and Artificial Scenes (idea-research.github.io)</a></p></li></ul><h1 id="MVImgNet"><a href="#MVImgNet" class="headerlink" title="MVImgNet"></a>MVImgNet</h1><p>A Large-scale Dataset of Multi-view Images</p><p><a href="https://gaplab.cuhk.edu.cn/projects/MVImgNet/">MVImgNet (cuhk.edu.cn)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231021203414.png" alt="image|666"></p><h1 id="Objaverse-XL"><a href="#Objaverse-XL" class="headerlink" title="Objaverse-XL"></a>Objaverse-XL</h1><p>Objaverse-XL is an open dataset of over 10 million 3D objects!<br>Objaverse-XL ç”±æ¥è‡ªå¤šä¸ªæ¥æºçš„ 3D å¯¹è±¡ç»„æˆï¼ŒåŒ…æ‹¬ GitHubã€Thingiverseã€Sketchfabã€Polycam å’Œ Smithsonian Institutionã€‚</p><p><a href="https://github.com/allenai/objaverse-xl">allenai/objaverse-xl: ğŸª Objaverse-XL is a Universe of 10M+ 3D Objects. Contains API Scripts for Downloading and Processing! (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023161713.png" alt="image.png|666"></p><h1 id="G-buffer-Objaverse"><a href="#G-buffer-Objaverse" class="headerlink" title="G-buffer Objaverse"></a>G-buffer Objaverse</h1><blockquote><p><a href="https://aigc3d.github.io/gobjaverse/">G-buffer Objaverse</a></p></blockquote><p> åœ¨ Objaverse ä¸Šä½¿ç”¨ A10 çš„ TIDE æ¸²æŸ“å™¨æ¸²æŸ“äº†å¤§çº¦ 2000 GPU å°æ—¶ï¼Œäº§ç”Ÿäº† 30,000,000 å¼ åç…§ç‡ã€RGBã€æ·±åº¦å’Œæ³•çº¿è´´å›¾çš„å›¾åƒã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç”¨äºé«˜è´¨é‡å’Œé«˜é€Ÿæ•°æ®é›†æ¸²æŸ“çš„æ¸²æŸ“æ¡†æ¶ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240823202655.png" alt="image.png|666"></p><h1 id="ABC-Dataset"><a href="#ABC-Dataset" class="headerlink" title="ABC Dataset"></a>ABC Dataset</h1><p>A Big CAD Model Dataset<br><a href="https://deep-geometry.github.io/abc-dataset/">News | ABC Dataset (deep-geometry.github.io)</a><br>ä¸€ç™¾ä¸‡ä¸ªè®¡ç®—æœºè¾…åŠ©è®¾è®¡ (CAD) æ¨¡å‹çš„é›†åˆï¼Œç”¨äºç ”ç©¶å‡ ä½•æ·±åº¦å­¦ä¹ æ–¹æ³•å’Œåº”ç”¨ã€‚æ¯ä¸ªæ¨¡å‹éƒ½æ˜¯æ˜¾å¼å‚æ•°åŒ–æ›²çº¿å’Œæ›²é¢çš„é›†åˆï¼Œä¸ºå¾®åˆ†é‡ã€é¢ç‰‡åˆ†å‰²ã€å‡ ä½•ç‰¹å¾æ£€æµ‹å’Œå½¢çŠ¶é‡å»ºæä¾›åŸºæœ¬äº‹å®ã€‚å¯¹æ›²é¢å’Œæ›²çº¿çš„å‚æ•°åŒ–æè¿°è¿›è¡Œé‡‡æ ·å¯ä»¥ç”Ÿæˆä¸åŒæ ¼å¼å’Œåˆ†è¾¨ç‡çš„æ•°æ®ï¼Œä»è€Œèƒ½å¤Ÿå¯¹å„ç§å‡ ä½•å­¦ä¹ ç®—æ³•è¿›è¡Œå…¬å¹³æ¯”è¾ƒ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231109094128.png" alt="img.png|666"></p><h1 id="NeuralLabeling-å·¥å…·ç®±"><a href="#NeuralLabeling-å·¥å…·ç®±" class="headerlink" title="NeuralLabeling å·¥å…·ç®±"></a>NeuralLabeling å·¥å…·ç®±</h1><blockquote><p><a href="NeuralLabeling.md">NeuralLabeling: A versatile toolset for labeling vision datasets using Neural Radiance Fields</a> &gt; <a href="https://florise.github.io/neural_labeling_web/">NeuralLabeling: A versatile toolset for labeling vision datasets using Neural Radiance Fields (florise.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230925144627.png" alt="image.png|666"></p><h1 id="MuSHRoom"><a href="#MuSHRoom" class="headerlink" title="MuSHRoom"></a>MuSHRoom</h1><p><a href="https://arxiv.org/abs/2311.02778">MuSHRoom: Multi-Sensor Hybrid Room Dataset for Joint 3D Reconstruction and Novel View Synthesis</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231108222956.png" alt="image.png|666"></p><h1 id="360Loc"><a href="#360Loc" class="headerlink" title="360Loc"></a>360Loc</h1><p><a href="https://github.com/HuajianUP/360Loc?tab=readme-ov-file">HuajianUP/360Loc: [CVPRâ€™ 24] Toolkit for 360Loc: A Dataset and Benchmark for Omnidirectional Visual Localization with Cross-device Queries Resources</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240507163348.png" alt="image.png|666"></p><h1 id="å®¤å¤–å¤§åœºæ™¯"><a href="#å®¤å¤–å¤§åœºæ™¯" class="headerlink" title="å®¤å¤–å¤§åœºæ™¯"></a>å®¤å¤–å¤§åœºæ™¯</h1><h2 id="Stable-SFM"><a href="#Stable-SFM" class="headerlink" title="Stable SFM"></a>Stable SFM</h2><p>å®¤å¤–åœºæ™¯<a href="https://www.maths.lth.se/matematiklth/personal/calle/dataset/dataset.html">Carl Olsson (lth.se)</a></p><h1 id="OpenMaterial"><a href="#OpenMaterial" class="headerlink" title="OpenMaterial"></a>OpenMaterial</h1><p><a href="https://christy61.github.io/openmaterial.github.io/">OpenMaterial: A Comprehensive Dataset of Complex Materials for 3D Reconstruction</a></p><p>ç”¨äºå…¨é¢åˆ†æNeRFå’Œ3DGSåœ¨challenging materialæ¡ä»¶ä¸‹çš„é‡å»ºå’Œæ–°è§†è§’åˆæˆä»»åŠ¡è¡¨ç°ã€‚æ‹¥æœ‰1001ä¸ªunique shapeï¼Œ295ç§material typeï¼Œ723ä¸ªä¸åŒçš„lighting conditionã€‚å«æœ‰ä¸°å¯Œçš„reflectionï¼Œrefractionï¼Œå’Œtransmissionçš„ scenarioã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Datasets </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Paper About Multi-view 3D Reconstruction</title>
      <link href="/3DReconstruction/Paper%20About%203D%20Reconstruction/"/>
      <url>/3DReconstruction/Paper%20About%203D%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<p>NeRF-basedé‡å»ºæ–¹æ³•ä¹‹äºå‰ä½œç›‘ç£çš„é‡å»º(æ–°è§†å›¾ç”Ÿæˆ)æ–¹å¼ï¼Œå¦‚MVSéœ€è¦çœŸå®çš„æ·±åº¦å›¾ä½œç›‘ç£ï¼Œä¹‹å‰çš„åŒ…æ‹¬ç”Ÿæˆå¼çš„æ–¹æ³•éœ€è¦ä¸‰ç»´æ¨¡å‹çš„ä¿¡æ¯(PointCloudã€Voxelã€Mesh)ä½œç›‘ç£ï¼ŒNeRF-basedæ–¹æ³•<strong>æ„å»ºäº†ä¸€ç§è‡ªç›‘ç£çš„é‡å»ºæ–¹å¼ï¼Œä»å›¾åƒä¸­é‡å»ºç‰©ä½“åªéœ€è¦ç”¨å›¾åƒä½œç›‘ç£</strong></p><p>NeRFå°†ä¸‰ç»´ç©ºé—´ä¸­æ‰€æœ‰ç‚¹ï¼Œé€šè¿‡MLPé¢„æµ‹å‡ºå¯¹åº”çš„å¯†åº¦/SDFï¼Œ<strong>æ˜¯ä¸€ç§è¿ç»­çš„æ–¹æ³•</strong>(ç†è®ºä¸Šï¼Œå®é™…ä¸Šç”±äºè®¡ç®—æœºç²¾åº¦è¿˜æ˜¯ç¦»æ•£çš„)ã€‚è‡³å°‘åœ¨3Dä¸Šä¸ä¼šç”±äºç¦»æ•£æ–¹æ³•(voxel)ï¼Œè€Œå‡ºç°å¾ˆå¤§çš„é”¯é½¿/aliasing</p><p><strong>NeRF-based self-supervised 3D Reconstruction</strong></p><ol><li>image and pose(COLMAP)</li><li>NeRF(NeuS) or 3DGS(SuGaR)<ol><li>æŸå¤±å‡½æ•°(å¯¹æ¯”åƒç´ é¢œè‰²ã€æ·±åº¦ã€æ³•å‘é‡ã€SDFæ¢¯åº¦ç´¯ç§¯<code>&lt;Eikonal term&gt;</code><a href="https://marlinilram.github.io/posts/2022/06/eikonal/">Eikonal Equation and SDF - Linâ€™s site</a>)</li></ol></li><li>PointCloudåå¤„ç†ï¼Œæ ¹æ®ä¸åŒç”¨é€”å¦‚3Dæ‰“å°ã€æœ‰é™å…ƒä»¿çœŸåˆ†æã€æ¸¸æˆassetsï¼Œæœ‰è®¸å¤šæ ¼å¼mesh/FEMode/AMs</li></ol><span id="more"></span><blockquote><p><a href="https://arxiv.org/pdf/2410.06475">3D Representation Methods: A Survey | PDF</a><br><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=9043500">A Review on Deep Learning Approaches for 3D Data Representations in Retrieval and Classifications</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241010195323.png" alt="image.png|555"></p><h1 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h1><p>æ•°æ®é›†å¤„ç†</p><ul><li><a href="https://github.com/Totoro97/NeuS/tree/main/preprocess_custom_data">NeuS/preprocess_custom_data at main Â· Totoro97/NeuS</a></li><li>Neuralangelo<ul><li><a href="https://github.com/NVlabs/neuralangelo/blob/main/DATA_PROCESSING.md">neuralangelo/DATA_PROCESSING.md at main Â· NVlabs/neuralangelo</a></li><li><a href="https://github.com/mli0603/BlenderNeuralangelo">mli0603/BlenderNeuralangelo: Blender addon to inspect and preprocess COLMAP data for Neuralangelo (CVPR 2023)</a></li></ul></li></ul><p>ç›¸æœºå¤–å‚å¯è§†åŒ–<br><a href="https://github.com/demul/extrinsic2pyramid">demul/extrinsic2pyramid: Visualize Cameraâ€™s Pose Using Extrinsic Parameter by Plotting Pyramid Model on 3D Space (github.com)</a></p><p>ç›¸æœºä½å§¿360Â°è§†é¢‘æ¸²æŸ“:</p><blockquote><p><a href="https://github.com/hbb1/2d-gaussian-splatting/blob/main/render.py">https://github.com/hbb1/2d-gaussian-splatting/blob/main/render.py</a> å¯ä»¥å‚è€ƒè¿™é‡Œçš„generate_path æŠŠè®­ç»ƒç›¸æœºä¸¢è¿›å»å°±å¯ä»¥fitå‡ºä¸€ä¸ª360è·¯å¾„è¿›è¡Œæ¸²æŸ“</p></blockquote><p>SuperSplat æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºå·¥å…·ï¼Œç”¨äºæ£€æŸ¥å’Œç¼–è¾‘ 3D é«˜æ–¯ Splatã€‚å®ƒåŸºäº Web æŠ€æœ¯æ„å»ºå¹¶åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå› æ­¤æ— éœ€ä¸‹è½½æˆ–å®‰è£…ä»»ä½•å†…å®¹ã€‚<br><a href="https://playcanvas.com/supersplat/editor">https://playcanvas.com/supersplat/editor</a><br><a href="https://github.com/playcanvas/supersplat">playcanvas/supersplat: 3D Gaussian Splat Editor</a></p><p>ä»sdfæŸ¥è¯¢ä¸­æå–è¡¨é¢</p><p><a href="https://github.com/SarahWeiii/diso">SarahWeiii/diso: Differentiable Iso-Surface Extraction Package (DISO)</a><br>å¯¹æ¯”DMTet    FlexiCubes    DiffMC    DiffDMC</p><h1 id="COLMAP"><a href="#COLMAP" class="headerlink" title="COLMAP"></a>COLMAP</h1><blockquote><p><a href="https://demuc.de/tutorials/cvpr2017/">CVPR 2017 Tutorial - Large-Â­scale 3D Modeling from Crowdsourced Data</a> å¤§å°ºåº¦3D modeling</p></blockquote><p>3D modeling pipelineï¼š<a href="https://demuc.de/tutorials/cvpr2017/introduction1.pdf">demuc.de/tutorials/cvpr2017/introduction1.pdf</a></p><ul><li>Data Associationï¼Œæ‰¾åˆ°å›¾ç‰‡ä¹‹é—´çš„ç›¸å…³æ€§<ul><li>Descriptorsï¼šå¥½çš„å›¾ç‰‡ç‰¹å¾åº”è¯¥æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼šRepeatability, Saliency, Compactness and efficiency, Localityï¼Œä¹Ÿå­˜åœ¨ä¸€äº›æŒ‘æˆ˜â€”â€”éœ€è¦åœ¨different scales (sizes) and different orientations ç”šè‡³æ˜¯ ä¸åŒå…‰ç…§æ¡ä»¶ä¸‹è¿›è¡Œæ¢æµ‹ç‰¹å¾<ul><li>Global image descriptor,<ul><li>Color histograms é¢œè‰²ç›´æ–¹å›¾æ¥ä½œä¸ºæè¿°ç¬¦</li><li>GIST-feature, eg: Several frequency bands and orientations for each image location. Tiling of the image, for example 4x4, and at different resolutions. Color histogram</li></ul></li><li>Local image descriptor<ul><li>SIFT-detector(Scale and image-plane-rotation invariant feature descriptor)</li><li>DSP-SIFT</li><li>BRIEF</li><li>ORB: Fast Corner Detector</li></ul></li></ul></li></ul></li><li>3D points &amp; camera pose</li><li>Dense 3D</li><li>Model generation</li></ul><p><a href="https://demuc.de/tutorials/cvpr2017/sparse-modeling.pdf">demuc.de/tutorials/cvpr2017/sparse-modeling.pdf</a> å¢é‡å¼çš„å…¨éƒ¨æµç¨‹è§£æ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241022193306.png" alt="image.png|666"></p><p>å‡ å¤§æŒ‘æˆ˜ï¼š</p><ul><li>Watermarks, timestamps, frames (WTFs)</li><li>Calibrationï¼šFocal length unknownã€Image distortion</li><li>Scale ambiguity æ— æ³•å¾—çŸ¥åœºæ™¯å…·ä½“çš„å°ºå¯¸<ul><li>Use GPS EXIF tags for geo-registration</li><li>Use semantics to infer scale åŸºäºè¯­ä¹‰å’Œå…ˆéªŒæ¥è¿›è¡Œèµ‹äºˆå°ºå¯¸</li></ul></li><li>Dynamic objects</li><li>Repetitive Structure (å¯¹ç§°ç»“æ„)</li><li>Illumination Change</li><li>è§†å›¾é€‰æ‹©(åˆå§‹åŒ–è§†å›¾ã€next best view)</li></ul><h3 id="COLMAP-1"><a href="#COLMAP-1" class="headerlink" title="COLMAP"></a>COLMAP</h3><blockquote><p><a href="https://colmap.github.io/tutorial.html">colmap tutorial</a><br>Documentï¼š<a href="https://colmap.github.io/">COLMAP â€” COLMAP 3.11.0.dev0 documentation</a><br>windows pre-release<a href="https://github.com/colmap/colmap/releases">Releases Â· colmap/colmap</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231005200141.png" alt="image.png|666"></p><h3 id="HLOC"><a href="#HLOC" class="headerlink" title="HLOC"></a>HLOC</h3><blockquote><p><a href="https://github.com/cvg/Hierarchical-Localization">cvg/Hierarchical-Localization: Visual localization made easy with hloc</a><br><a href="https://arxiv.org/pdf/1812.03506">From Coarse to Fine: Robust Hierarchical Localization at Large Scale</a></p></blockquote><p><img src="https://raw.githubusercontent.com/cvg/Hierarchical-Localization/master/doc/hloc.png" alt="hloc.png (856Ã—529)"></p><h2 id="VGGSfM"><a href="#VGGSfM" class="headerlink" title="VGGSfM"></a>VGGSfM</h2><p><a href="https://vggsfm.github.io/">VGGSfM: Visual Geometry Grounded Deep Structure From Motion</a><br>We are highly inspired by <a href="https://github.com/colmap/colmap">colmap</a>, <a href="https://github.com/colmap/pycolmap">pycolmap</a>, <a href="https://github.com/facebookresearch/PoseDiffusion">posediffusion</a>, <a href="https://github.com/facebookresearch/co-tracker">cotracker</a>, and <a href="https://github.com/kornia/kornia">kornia</a>.</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240617145211.png" alt="image.png|666"></p><h2 id="GLOMAP"><a href="#GLOMAP" class="headerlink" title="GLOMAP"></a>GLOMAP</h2><p><a href="https://github.com/colmap/glomap?tab=readme-ov-file">colmap/glomap: GLOMAP - Global Structured-from-Motion Revisited</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240731185452.png" alt="image.png|666"></p><h2 id="ACE-Zero"><a href="#ACE-Zero" class="headerlink" title="ACE Zero"></a>ACE Zero</h2><p><a href="https://nianticlabs.github.io/acezero/">ACE Zero</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240808142917.png" alt="image.png|666"></p><h1 id="NeRF-VR-Field"><a href="#NeRF-VR-Field" class="headerlink" title="NeRF (VR+Field)"></a>NeRF (VR+Field)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">**å½¢å¼ä¸­ç«‹+å®šä¹‰çº¯ç²¹** NeRFé˜µè¥å›¾</span><br><span class="line">![9x9.jpg|666](https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/9x9.jpg)</span><br><span class="line"></span><br><span class="line">å¦‚æœå¯ä»¥rasterize a field, ç»å¯¹æ˜¯åˆ’æ—¶ä»£çš„æˆå°±</span><br><span class="line">![ab1a4179398fefc3f116c288c96ea17.jpg|444](https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/ab1a4179398fefc3f116c288c96ea17.jpg)</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>Review</th><th></th></tr></thead><tbody><tr><td><a href="NeRF%20in%20the%20industrial%20and%20robotics%20domain.md">NeRF in the industrial and robotics domain</a></td><td></td></tr><tr><td><a href="Image-Based%203D%20Object%20Reconstruction.md">Image-Based 3D Object Reconstruction</a></td><td></td></tr><tr><td><a href="A%20Review%20of%20Deep%20Learning-Powered%20Mesh%20Reconstruction%20Methods.md">A Review of Deep Learning-Powered Mesh Reconstruction Methods</a></td><td></td></tr><tr><td><a href="A%20Critical%20Analysis%20of%20NeRF-Based%203D%20Reconstruction.md">A Critical Analysis of NeRF-Based 3D Reconstruction</a></td><td></td></tr><tr><td><a href="2023%20Conf%20about%20NeRF.md">2023 Conf about NeRF</a></td></tr></tbody></table></div><p><a href="NeRF-review.md">NeRF-review</a> | <a href="NeRF-Studio.md">NeRF-Studio (code)</a></p><h2 id="Baseline"><a href="#Baseline" class="headerlink" title="Baseline"></a>Baseline</h2><p><a href="https://jkulhanek.com/nerfbaselines/">NerfBaselines</a></p><h2 id="Important-Papers"><a href="#Important-Papers" class="headerlink" title="Important Papers"></a>Important Papers</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Note</th><th>Overview</th><th>Description</th></tr></thead><tbody><tr><td>2020</td><td><a href="DVR.md">DVR</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231208100556.png" alt="image.png"></td><td></td></tr><tr><td>2020</td><td><a href="IDR.md">IDR</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230906183157.png" alt="image.png"></td><td></td></tr><tr><td>2021</td><td><a href="VolSDF.md">VolSDF</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231201160653.png" alt="image.png"></td><td></td></tr><tr><td>2021</td><td><a href="UNISURF.md">UNISURF</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806143334.png" alt="image.png"></td><td></td></tr><tr><td>2021</td><td><a href="NeuS.md">NeuS</a></td><td><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230531185214.png" alt="Pasted image 20230531185214.png"></td><td></td></tr><tr><td>2022</td><td><a href="HF-NeuS.md">HF-NeuS</a></td><td></td><td></td></tr><tr><td>2022</td><td><a href="Multi-view/Implicit%20Function/NeRF-based/NeuralWarp.md">NeuralWarp</a></td><td><img src="https://imagine.enpc.fr/~darmonf/NeuralWarp/teaser.jpg" alt="teaser.jpg (1304Ã—708)"></td><td>a direct photo-consistency term</td></tr><tr><td>2022</td><td><a href="Geo-Neus.md">Geo-Neus</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230911165550.png" alt="image.png"></td><td>éªŒè¯äº†é¢œè‰²æ¸²æŸ“åå·®ï¼ŒåŸºäºSFMç¨€ç–ç‚¹äº‘çš„å‡ ä½•ç›‘ç£, åŸºäºå…‰åº¦ä¸€è‡´æ€§ç›‘ç£è¿›è¡Œå‡ ä½•ä¸€è‡´æ€§ç›‘ç£</td></tr><tr><td>2022</td><td><a href="Instant-NSR.md">Instant-NSR</a></td><td><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/pipeline.jpg" alt="pipeline"></td><td></td></tr><tr><td>2022</td><td><a href="Neus-Instant-nsr-pl.md">Neus-Instant-nsr-pl</a></td><td>No Paper!!! Just Code</td><td></td></tr><tr><td>2023</td><td><a href="RayDF.md">RayDF</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231113155552.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="NISR.md">NISR</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230925133140.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="NeUDF.md">NeUDF</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230825151238.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="LoD-NeuS.md">LoD-NeuS</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240104132053.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="D-NeuS.md">D-NeuS</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230927202731.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="Color-NeuS.md">Color-NeuS</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230901123131.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="BakedSDF.md">BakedSDF</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230913154905.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="Neuralangelo.md">Neuralangelo</a></td><td><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230716140552.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="NeuS2.md">NeuS2</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826151714.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="PermutoSDF.md">PermutoSDF</a></td><td><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230716172220.png" alt="image.png"></td><td></td></tr><tr><td><a href="NeuDA.md">2023</a></td><td><a href="https://3d-front-future.github.io/neuda/">NeuDA</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240929220847.png" alt="image.png"></td><td></td></tr><tr><td>2023</td><td><a href="Ref-NeuS.md">Ref-NeuS</a></td><td></td><td></td></tr><tr><td>2023</td><td><a href="ShadowNeuS.md">ShadowNeuS</a></td><td></td><td></td></tr><tr><td>2023</td><td><a href="NoPose-NeuS.md">NoPose-NeuS</a></td><td></td><td></td></tr><tr><td>2022</td><td><a href="MonoSDF.md">MonoSDF</a></td><td></td><td></td></tr><tr><td>2022</td><td><a href="RegNeRF.md">RegNeRF</a></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>2023</td><td><a href="https://github.com/ashawkey/nerf2mesh">ashawkey/nerf2mesh: [ICCV2023] Delicate Textured Mesh Recovery from NeRF via Adaptive Surface Refinement</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240717101942.png" alt="image.png"></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>2024</td><td><a href="https://arxiv.org/pdf/2401.12751">PSDF: Prior-Driven Neural Implicit Surface Learning for Multi-view ReconstructionPDF</a></td><td><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240823133432.png" alt="image.png"></td><td>æ³•å‘é‡å…ˆéªŒ+å¤šè§†å›¾ä¸€è‡´ï¼Œä½¿ç”¨æ·±åº¦å›¾å¼•å¯¼é‡‡æ ·</td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div><h2 id="ActiveNeRF"><a href="#ActiveNeRF" class="headerlink" title="ActiveNeRF"></a>ActiveNeRF</h2><blockquote><p><a href="https://arxiv.org/pdf/2408.06592">ActiveNeRF: Learning Accurate 3D Geometry by Active Pattern Projection | PDF</a></p></blockquote><p>ç»“åˆäº†ç»“æ„å…‰çš„æ€è·¯ï¼Œå°†å›¾æ¡ˆæŠ•å½±åˆ°ç©ºé—´çš„åœºæ™¯/ç‰©ä½“ä¸­æ¥æé«˜ NeRF çš„å‡ ä½•è´¨é‡</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240929233304.png" alt="image.png|666"></p><h2 id="VF-NeRF"><a href="#VF-NeRF" class="headerlink" title="VF-NeRF"></a>VF-NeRF</h2><blockquote><p><a href="https://arxiv.org/pdf/2408.08766">VF-NeRF: Learning Neural Vector Fields for Indoor Scene Reconstruction | PDF</a></p></blockquote><p>é’ˆå¯¹å®¤å†…åœºæ™¯çš„çº¹ç†è¾ƒå¼±çš„åŒºåŸŸ</p><p>Neural Vector Fields è¡¨ç¤ºç©ºé—´ä¸­ä¸€ç‚¹åˆ°æœ€è¿‘è¡¨é¢ç‚¹çš„å‘é‡<br>VF ç”±æŒ‡å‘æœ€è¿‘è¡¨é¢ç‚¹çš„å•ä½çŸ¢é‡å®šä¹‰ã€‚å› æ­¤ï¼Œå®ƒåœ¨è¡¨é¢å¤„ç¿»è½¬æ–¹å‘å¹¶ç­‰äºæ˜¾å¼è¡¨é¢æ³•çº¿ã€‚é™¤äº†è¿™ç§ç¿»è½¬ä¹‹å¤–ï¼ŒVF æ²¿å¹³é¢ä¿æŒä¸å˜ï¼Œå¹¶åœ¨è¡¨ç¤ºå¹³é¢æ—¶æä¾›å¼ºå¤§çš„å½’çº³åå·®ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240929230754.png" alt="image.png|666"></p><h2 id="R-2-Mesh"><a href="#R-2-Mesh" class="headerlink" title="$R^2$-Mesh"></a>$R^2$-Mesh</h2><blockquote><p><a href="https://arxiv.org/pdf/2408.10135">$R^2$-Mesh: Reinforcement Learning Powered Mesh Reconstruction via Geometry and Appearance Refinement | PDF</a></p></blockquote><p>å¼ºåŒ–å­¦ä¹ ä¸æ–­ä¼˜åŒ–ä»è¾å°„åœºå’ŒSDFä¸­æå–çš„å¤–è§‚å’Œç½‘æ ¼ï¼Œé€šè¿‡å¯å¾®çš„æå–ç­–ç•¥</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240929230049.png" alt="image.png|666"></p><h2 id="MIMO-NeRF"><a href="#MIMO-NeRF" class="headerlink" title="MIMO-NeRF"></a>MIMO-NeRF</h2><p><a href="https://www.kecl.ntt.co.jp/people/kaneko.takuhiro/projects/mimo-nerf/">MIMO-NeRF</a></p><p>å¤šè¾“å…¥å¤šè¾“å‡ºçš„MLP(NeRF)ï¼Œå‡å°‘MLPè¯„ä¼°æ¬¡æ•°ï¼Œå¯ä»¥åŠ é€ŸNeRFã€‚ä½†æ˜¯æ¯ä¸ªç‚¹çš„é¢œè‰²å’Œä½“å¯†åº¦æ ¹æ®in a groupæ‰€é€‰çš„è¾“å…¥çš„åæ ‡ä¸åŒï¼Œè€Œå¯¼è‡´æ­§ä¹‰ã€‚$\mathcal{L}_{pi xel}$ä¸è¶³ä»¥å¤„ç†è¿™ç§æ­§ä¹‰ï¼Œå¼•å…¥äº†self-supervised learning</p><ul><li><p>Group shift. å¯¹æ¯ä¸ªç‚¹é€šè¿‡å¤šä¸ªä¸åŒçš„groupè¿›è¡Œè¯„ä¼°</p><ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240717135401.png" alt="image.png|222"></li></ul></li><li><p>Variation reduction. å¯¹æ¯ä¸ªç‚¹é‡å¤å¤šç»™å‡ æ¬¡</p><ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240717135412.png" alt="image.png|222"></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240717085053.png" alt="image.png|666"></p><h2 id="ActiveNeuS"><a href="#ActiveNeuS" class="headerlink" title="ActiveNeuS"></a>ActiveNeuS</h2><p><a href="https://arxiv.org/pdf/2405.02568">Active Neural 3D Reconstruction with Colorized Surface Voxel-based View Selection</a></p><p>active 3D reconstruction using uncertainty-guided view selectionè€ƒè™‘ä¸¤ç§ä¸ç¡®å®šæ€§çš„æƒ…å†µä¸‹è¯„ä¼°å€™é€‰è§†å›¾, introduce <strong>Colorized Surface Voxel (CSV)-based view selection</strong>, a new next-best view (NBV) selection method exploiting surface voxel-based measurement of uncertainty in scene appearance</p><ul><li>ç›¸æ¯”ä¸»åŠ¨é€‰æ‹©Nest besh viewï¼Œæ˜¯ä¸æ˜¯image pixel of biggest error æ›´å¥½ä¸€ç‚¹</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240508085101.png" alt="image.png|444"></p><h2 id="Binary-Opacity-Grids"><a href="#Binary-Opacity-Grids" class="headerlink" title="Binary Opacity Grids"></a>Binary Opacity Grids</h2><p>Binary Opacity Grids: Capturing Fine Geometric Detail for Mesh-Based View Synthesis<br><a href="https://binary-opacity-grid.github.io/">https://binary-opacity-grid.github.io/</a></p><p>æ¨è¿›BakedSDFçš„å·¥ä½œ</p><h2 id="RNb-NeuS"><a href="#RNb-NeuS" class="headerlink" title="RNb-NeuS"></a>RNb-NeuS</h2><p><a href="https://github.com/bbrument/RNb-NeuS">bbrument/RNb-NeuS: Code release for RNb-NeuS. (github.com)</a></p><p>å°†<strong>åå°„ç‡</strong>å’Œ<strong>æ³•çº¿è´´å›¾</strong>æ— ç¼é›†æˆä¸ºåŸºäºç¥ç»ä½“ç§¯æ¸²æŸ“çš„ 3D é‡å»ºä¸­çš„è¾“å…¥æ•°æ®<br>è€ƒè™‘é«˜å…‰å’Œé˜´å½±ï¼šæ˜¾è‘—æ”¹å–„äº†é«˜æ›²ç‡æˆ–ä½å¯è§åº¦åŒºåŸŸçš„è¯¦ç»† 3D é‡å»º<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231205152551.png" alt="image.png|666"></p><h2 id="ReTR"><a href="#ReTR" class="headerlink" title="ReTR"></a>ReTR</h2><p><a href="https://yixunliang.github.io/ReTR/">ReTR: Modeling Rendering via Transformer for Generalizable Neural Surface Reconstruction</a><br>(Generalized Rendering Function) <strong>ä½¿ç”¨Transformer ä»£æ›¿æ¸²æŸ“è¿‡ç¨‹ï¼Œç”¨äº†æ·±åº¦ç›‘ç£</strong></p><p>It introduces a learnable meta-ray token and <strong>utilizes the cross-attention mechanism to simulate the interaction of rendering process with sampled points and render the observed color.</strong> </p><ul><li>ä½¿ç”¨Transformer ä»£æ›¿æ¸²æŸ“è¿‡ç¨‹ï¼Œä¹‹å‰æ–¹æ³• only use the transformer to enhance feature aggregation, and the sampled point features are still decoded into colors and densities and <strong>aggregated using traditional volume rendering, leading to unconfident surface prediction</strong>ã€‚ä½œè€…è®¤ä¸ºææ¸²æŸ“ç®€åŒ–äº†å…‰çº¿ä¼ æ’­çš„è¿‡ç¨‹(å¸æ”¶ï¼Œæ¿€å‘ï¼Œæ•£å°„)ï¼Œæ¯ç§å…‰å­éƒ½ä»£è¡¨ä¸€ç§éçº¿æ€§å…‰å­-ç²’å­ç›¸äº’ä½œç”¨ï¼Œå…¥å°„å…‰å­çš„ç‰¹æ€§å—å…¶å›ºæœ‰æ€§è´¨å’Œä»‹è´¨ç‰¹æ€§çš„å½±å“ã€‚<strong><em>ä½“æ¸²æŸ“å…¬å¼å°†è¿™äº›å¤æ‚æ€§(éçº¿æ€§)å‹ç¼©åœ¨å•ä¸ªå¯†åº¦å€¼ä¸­ï¼Œå¯¼è‡´äº†å…¥å°„å…‰å­å»ºæ¨¡çš„è¿‡åº¦ç®€åŒ–</em></strong>ã€‚<strong><em>æ­¤å¤–é¢œè‰²çš„æƒé‡æ··åˆå¿½è§†äº†å¤æ‚çš„ç‰©ç†å½±å“ï¼Œè¿‡åº¦ä¾èµ–è¾“å…¥è§†å›¾çš„æŠ•å½±é¢œè‰²</em></strong>ã€‚è¯¥æ¨¡å‹éœ€è¦æ›´å¹¿æ³›åœ°ç´¯ç§¯ç²¾ç¡®è¡¨é¢é™„è¿‘å„ç‚¹çš„æŠ•å½±é¢œè‰²ï¼Œä»è€Œé€ æˆ â€œæµ‘æµŠ â€œçš„è¡¨é¢å¤–è§‚ã€‚</li><li>depth lossçš„ä½œç”¨æ›´å¤§ä¸€ç‚¹ï¼Œé¢„æµ‹å‡ºæ¥çš„æ·±åº¦å›¾æ›´å‡†ç¡®</li><li>by operating <strong>within a high-dimensional feature space rather than the color space</strong>, ReTR mitigates sensitivity to projected colors in source views.</li></ul><p>CNN + 3D Decoder + <strong>Transformer</strong> + NeRF ç”¨æ·±åº¦å›¾ç›‘ç£</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231109094904.png" alt="image.png|666"></p><h2 id="AutoRecon"><a href="#AutoRecon" class="headerlink" title="AutoRecon"></a>AutoRecon</h2><p><a href="https://zju3dv.github.io/autorecon/">AutoRecon: Automated 3D Object Discovery and Reconstruction (zju3dv.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023164638.png" alt="image.png|666"></p><h2 id="G-Shell"><a href="#G-Shell" class="headerlink" title="G-Shell"></a>G-Shell</h2><p>é‡å»ºæ°´å¯†ç‰©ä½“+è¡£æœç­‰éæ°´å¯†ç‰©ä½“â€”â€”é€šç”¨<br><a href="https://gshell3d.github.io/">G-Shell (gshell3d.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231024094322.png" alt="image.png|666"></p><h2 id="Adaptive-Shells"><a href="#Adaptive-Shells" class="headerlink" title="Adaptive Shells"></a>Adaptive Shells</h2><p><a href="https://research.nvidia.com/labs/toronto-ai/adaptive-shells/">Adaptive Shells for Efficient Neural Radiance Field Rendering (nvidia.com)</a></p><p>è‡ªé€‚åº”ä½¿ç”¨åŸºäºä½“ç§¯çš„æ¸²æŸ“å’ŒåŸºäºè¡¨é¢çš„æ¸²æŸ“<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231117150239.png" alt="image.png|666"></p><h2 id="PonderV2"><a href="#PonderV2" class="headerlink" title="PonderV2"></a>PonderV2</h2><p><a href="https://github.com/OpenGVLab/PonderV2">OpenGVLab/PonderV2: PonderV2: Pave the Way for 3D Foundation Model with A Universal Pre-training Paradigm (github.com)</a></p><p>PointCloud æå–ç‰¹å¾(ç‚¹äº‘ç¼–ç å™¨) + NeRF æ¸²æŸ“å›¾ç‰‡ + å›¾ç‰‡æŸå¤±ä¼˜åŒ–ç‚¹äº‘ç¼–ç å™¨</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231107153921.png" alt="image.png|666"></p><h2 id="Spiking-NeRF"><a href="#Spiking-NeRF" class="headerlink" title="Spiking NeRF"></a>Spiking NeRF</h2><p>Spiking NeRF: Representing the Real-World Geometry by a Discontinuous Representation</p><p>MLP æ˜¯è¿ç»­å‡½æ•°ï¼Œå¯¹ NeRF ç½‘ç»œç»“æ„çš„æ”¹è¿›æ¥ç”Ÿæˆä¸è¿ç»­çš„å¯†åº¦åœº</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116155214.png" alt="image.png|666"></p><h2 id="Hyb-NeRF-å¤šåˆ†è¾¨ç‡æ··åˆç¼–ç "><a href="#Hyb-NeRF-å¤šåˆ†è¾¨ç‡æ··åˆç¼–ç " class="headerlink" title="Hyb-NeRF å¤šåˆ†è¾¨ç‡æ··åˆç¼–ç "></a>Hyb-NeRF å¤šåˆ†è¾¨ç‡æ··åˆç¼–ç </h2><p><a href="https://arxiv.org/abs/2311.12490">[2311.12490] Hyb-NeRF: A Multiresolution Hybrid Encoding for Neural Radiance Fields (arxiv.org)</a></p><p>å¤šåˆ†è¾¨ç‡æ··åˆç¼–ç </p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231123143210.png" alt="image.png|666"></p><h2 id="Dynamic"><a href="#Dynamic" class="headerlink" title="Dynamic"></a>Dynamic</h2><h3 id="In-Hand-3D-Object"><a href="#In-Hand-3D-Object" class="headerlink" title="In-Hand 3D Object"></a>In-Hand 3D Object</h3><p><a href="https://arxiv.org/abs/2312.16425">In-Hand 3D Object Reconstruction from a Monocular RGB Video</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240104173205.png" alt="image.png|666"></p><h3 id="DynamicSurf"><a href="#DynamicSurf" class="headerlink" title="DynamicSurf"></a>DynamicSurf</h3><p><a href="https://arxiv.org/abs/2311.08159">DynamicSurf: Dynamic Neural RGB-D Surface Reconstruction with an Optimizable Feature Grid</a></p><p>å•ç›® RGBD è§†é¢‘é‡å»º 3D</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231116154921.png" alt="image.png|666"></p><h3 id="MorpheuS"><a href="#MorpheuS" class="headerlink" title="MorpheuS"></a>MorpheuS</h3><p><a href="https://hengyiwang.github.io/projects/morpheus">MorpheuS (hengyiwang.github.io)</a><br>MorpheuS: Neural Dynamic 360Â° Surface Reconstruction from <strong>Monocular RGB-D Video</strong><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231204133746.png" alt="image.png|666"></p><h3 id="NPGs"><a href="#NPGs" class="headerlink" title="NPGs"></a>NPGs</h3><p><a href="https://arxiv.org/abs/2312.01196">[2312.01196] Neural Parametric Gaussians for Monocular Non-Rigid Object Reconstruction (arxiv.org)</a><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231205153011.png" alt="image.png|666"></p><h1 id="3DGS-Rasterize-Primitives"><a href="#3DGS-Rasterize-Primitives" class="headerlink" title="3DGS (Rasterize+Primitives)"></a>3DGS (Rasterize+Primitives)</h1><p><a href="https://arxiv.org/abs/2401.03890">A Survey on 3D Gaussian Splatting</a><br><a href="https://arxiv.org/abs/2403.11134">Recent Advances in 3D Gaussian Splatting</a></p><h2 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h2><h3 id="Localized-Points-Management"><a href="#Localized-Points-Management" class="headerlink" title="Localized Points Management"></a>Localized Points Management</h3><p><a href="https://arxiv.org/pdf/2406.04251">Gaussian Splatting with Localized Points Management</a></p><p>å±€éƒ¨ç‚¹ç®¡ç†ã€‚<strong>ç›®çš„æ˜¯ä¼˜åŒ–æ–°è§†å›¾ç”Ÿæˆçš„è´¨é‡</strong>ï¼Œé’ˆå¯¹ç”Ÿæˆæ•ˆæœä¸å¥½çš„å±€éƒ¨éƒ¨ä½åŠ å¼ºç®¡ç†ã€‚(Error mapï¼Œcross-view region)</p><p>ä½†æ˜¯å¯¹äºNeRFè¿™ç§éšå¼é‡å»º(oræ–°è§†å›¾ç”Ÿæˆ)æ–¹æ³•æ¥è¯´ï¼Œå¢å¼ºæŸäº›å¼±çš„é‡å»ºéƒ¨ä½ï¼Œå¯èƒ½ä¼šå½±å“å…¶ä»–å·²ç»é‡å»ºå¥½çš„éƒ¨ä½ã€‚<strong>èƒ½å¦å°†å¼±çš„é‡å»ºéƒ¨ä½ç”¨å¦ä¸€ä¸ªç½‘ç»œè¿›è¡Œé‡å»º</strong>ï¼š<em>å¾—å…ˆçŸ¥é“å“ªäº›ç‚¹æ˜¯éœ€è¦ä¼˜åŒ–çš„ç‚¹(error mapä¸Šçš„ç‚¹)</em></p><ul><li>å±€éƒ¨ä¼˜åŒ–æ€æƒ³</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240617101305.png" alt="image.png|666"></p><h2 id="IGS"><a href="#IGS" class="headerlink" title="IGS"></a>IGS</h2><blockquote><p><a href="https://arxiv.org/pdf/2408.10041">Implicit Gaussian Splatting with Efficient Multi-Level Tri-Plane Representation</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241011152837.png" alt="image.png|666"></p><h2 id="DN-Splatter"><a href="#DN-Splatter" class="headerlink" title="DN-Splatter"></a>DN-Splatter</h2><blockquote><p><a href="https://maturk.github.io/dn-splatter/">DN-Splatter: Depth and Normal Priors for Gaussian Splatting and Meshing</a></p></blockquote><p>Indoor sceneï¼Œèåˆäº†æ¥è‡ªhandheld deviceså’Œgeneral-purpose networksçš„æ·±åº¦å’Œæ³•å‘é‡å…ˆéªŒ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240823125943.png" alt="image.png|666"></p><h2 id="InstantSplat-Sparse-view"><a href="#InstantSplat-Sparse-view" class="headerlink" title="InstantSplat(Sparse-view)"></a>InstantSplat(Sparse-view)</h2><blockquote><p><a href="https://instantsplat.github.io/">InstantSplat: Sparse-view SfM-free Gaussian Splatting in Seconds</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240801174738.png" alt="image.png|666"></p><h2 id="VCR-GauS"><a href="#VCR-GauS" class="headerlink" title="VCR-GauS"></a>VCR-GauS</h2><blockquote><p><a href="https://hlinchen.github.io/projects/VCR-GauS/">VCR-GauS</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240618210910.png" alt="image.png|666"></p><h2 id="PGSR"><a href="#PGSR" class="headerlink" title="PGSR"></a>PGSR</h2><p><a href="https://zju3dv.github.io/pgsr/">PGSR: Planar-based Gaussian Splatting for Efficient and High-Fidelity Surface Reconstruction</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240618210549.png" alt="image.png|666"></p><h2 id="TrimGS"><a href="#TrimGS" class="headerlink" title="TrimGS"></a>TrimGS</h2><p><a href="https://trimgs.github.io/">TrimGS</a></p><ul><li>Gaussian Trimming</li><li>Scale-driven Densification</li><li>Normal Regularization</li></ul><h2 id="SuGaR"><a href="#SuGaR" class="headerlink" title="SuGaR"></a>SuGaR</h2><p><a href="https://imagine.enpc.fr/~guedona/sugar/">SuGaR (enpc.fr)</a></p><p>3D Gaussian Splatting æå–mesh<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231123142658.png" alt="image.png|666"></p><h2 id="2DGS"><a href="#2DGS" class="headerlink" title="2DGS"></a>2DGS</h2><p><a href="https://github.com/hbb1/2d-gaussian-splatting">hbb1/2d-gaussian-splatting: [SIGGRAPHâ€™24] 2D Gaussian Splatting for Geometrically Accurate Radiance Fields</a></p><p>and unofficial implementation <a href="https://github.com/TimSong412/2D-surfel-gaussian">TimSong412/2D-surfel-gaussian</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240430084907.png" alt="image.png|666"></p><h2 id="GS2mesh"><a href="#GS2mesh" class="headerlink" title="GS2mesh"></a>GS2mesh</h2><p><a href="https://gs2mesh.github.io/">Surface Reconstruction from Gaussian Splatting via Novel Stereo Views</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240419144938.png" alt="image.png|666"></p><h1 id="EVER-VR-Primitives"><a href="#EVER-VR-Primitives" class="headerlink" title="EVER (VR+Primitives)"></a>EVER (VR+Primitives)</h1><p><a href="https://half-potato.gitlab.io/posts/ever/">Exact Volumetric Ellipsoid Rendering - Alexander Maiâ€™s Homepage</a></p><p>ä½¿ç”¨Volume Rendering(NeRF) çš„æ–¹å¼æ¥æ¸²æŸ“primitive based representation(3DGS)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241003162855.png" alt="image.png|666"></p><h1 id="Depth-based"><a href="#Depth-based" class="headerlink" title="Depth-based"></a>Depth-based</h1><h2 id="Shakes-on-a-Plane"><a href="#Shakes-on-a-Plane" class="headerlink" title="Shakes on a Plane"></a>Shakes on a Plane</h2><p><a href="https://light.princeton.edu/publication/soap/">Shakes on a Plane: Unsupervised Depth Estimation from Unstabilized Photography â€“ Princeton Computing Imaging Lab</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240808174254.png" alt="image.png|666"></p><h2 id="Mono-ViFI"><a href="#Mono-ViFI" class="headerlink" title="Mono-ViFI"></a>Mono-ViFI</h2><p><a href="https://github.com/LiuJF1226/Mono-ViFI?tab=readme-ov-file">LiuJF1226/Mono-ViFI: [ECCV 2024] Mono-ViFI: A Unified Learning Framework for Self-supervised Single- and Multi-frame Monocular Depth Estimation</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240805124810.png" alt="image.png|666"></p><h1 id="Mesh-based"><a href="#Mesh-based" class="headerlink" title="Mesh-based"></a>Mesh-based</h1><h2 id="PuzzleAvatar"><a href="#PuzzleAvatar" class="headerlink" title="PuzzleAvatar"></a>PuzzleAvatar</h2><blockquote><p><a href="https://arxiv.org/pdf/2405.14869">PuzzleAvatar: Assembling 3D Avatars from Personal Albums</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241013212059.png" alt="image.png|666"></p><h2 id="MagicClay"><a href="#MagicClay" class="headerlink" title="MagicClay"></a>MagicClay</h2><p><a href="https://arxiv.org/pdf/2403.02460">MagicClay: Sculpting Meshes With Generative Neural Fields</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241009140625.png" alt="image.png|666"></p><ul><li><a href="https://arxiv.org/pdf/2307.00690">ROAR: Robust Adaptive Reconstruction of Shapes Using Planar Projections</a> ä½¿ç”¨è¯¥æ–¹æ³•å°†SDFæ›´æ–°åˆ°mesh çš„local topologyä¸Š</li><li></li></ul><h2 id="MeshAnything"><a href="#MeshAnything" class="headerlink" title="MeshAnything"></a>MeshAnything</h2><p><a href="https://buaacyw.github.io/mesh-anything/">MeshAnything</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240617110057.png" alt="image.png|666"></p><p>ä¸ MeshGPT ç­‰ç›´æ¥ç”Ÿæˆè‰ºæœ¯å®¶åˆ›å»ºçš„ç½‘æ ¼Artist-Created Meshes (AMs)çš„æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•<strong>é¿å…äº†å­¦ä¹ å¤æ‚çš„ 3D å½¢çŠ¶åˆ†å¸ƒ</strong>ã€‚ç›¸åï¼Œ<strong>å®ƒä¸“æ³¨äºé€šè¿‡ä¼˜åŒ–çš„æ‹“æ‰‘æœ‰æ•ˆåœ°æ„å»ºå½¢çŠ¶</strong>ï¼Œä»è€Œæ˜¾ç€å‡è½»è®­ç»ƒè´Ÿæ‹…å¹¶å¢å¼ºå¯æ‰©å±•æ€§ã€‚</p><h2 id="Pixel2Mesh"><a href="#Pixel2Mesh" class="headerlink" title="Pixel2Mesh"></a>Pixel2Mesh</h2><p><a href="https://nywang16.github.io/p2m/index.html">Pixel2Mesh (nywang16.github.io)</a><br><a href="https://readpaper.com/pdf-annotate/note?pdfId=4518061932765929473&amp;noteId=2082454818072408064">Pixel2Mesh: Generating 3D Mesh Models from Single RGB Images (readpaper.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240130141333.png" alt="image.png|666"></p><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç«¯ç«¯æ·±åº¦å­¦ä¹ æ¶æ„ï¼Œå¯ä»¥ä»å•è‰²å›¾åƒä¸­ç”Ÿæˆä¸‰è§’å½¢ç½‘æ ¼ä¸­çš„3Då½¢çŠ¶ã€‚å—æ·±åº¦ç¥ç»ç½‘ç»œç‰¹æ€§çš„é™åˆ¶ï¼Œä»¥å‰çš„æ–¹æ³•é€šå¸¸æ˜¯ç”¨ä½“ç§¯æˆ–ç‚¹äº‘è¡¨ç¤ºä¸‰ç»´å½¢çŠ¶ï¼Œå°†å®ƒä»¬è½¬æ¢ä¸ºæ›´æ˜“äºä½¿ç”¨çš„ç½‘æ ¼æ¨¡å‹æ˜¯å¾ˆå›°éš¾çš„ã€‚ä¸ç°æœ‰æ–¹æ³•ä¸åŒï¼Œæˆ‘ä»¬çš„ç½‘ç»œåœ¨åŸºäºå›¾çš„å·ç§¯ç¥ç»ç½‘ç»œä¸­è¡¨ç¤º3Dç½‘æ ¼ï¼Œå¹¶é€šè¿‡é€æ­¥å˜å½¢æ¤­çƒæ¥äº§ç”Ÿæ­£ç¡®çš„å‡ ä½•å½¢çŠ¶ï¼Œåˆ©ç”¨ä»è¾“å…¥å›¾åƒä¸­æå–çš„æ„ŸçŸ¥ç‰¹å¾ã€‚æˆ‘ä»¬é‡‡ç”¨äº†ä»ç²—åˆ°ç²¾çš„ç­–ç•¥ï¼Œä½¿æ•´ä¸ªå˜å½¢è¿‡ç¨‹ç¨³å®šï¼Œå¹¶å®šä¹‰äº†å„ç§ç½‘æ ¼ç›¸å…³çš„æŸå¤±æ¥æ•æ‰ä¸åŒå±‚æ¬¡çš„å±æ€§ï¼Œä»¥ä¿è¯è§†è§‰ä¸Šçš„å¸å¼•åŠ›å’Œç‰©ç†ä¸Šçš„ç²¾ç¡®3Då‡ ä½•ã€‚å¤§é‡çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¸ä»…å¯ä»¥å®šæ€§åœ°äº§ç”Ÿå…·æœ‰æ›´å¥½ç»†èŠ‚çš„ç½‘æ ¼æ¨¡å‹ï¼Œè€Œä¸”ä¸ç›®å‰çš„æŠ€æœ¯ç›¸æ¯”ï¼Œå¯ä»¥å®ç°æ›´é«˜çš„3Då½¢çŠ¶ä¼°è®¡ç²¾åº¦ã€‚</p><h2 id="Pixel2Mesh-1"><a href="#Pixel2Mesh-1" class="headerlink" title="Pixel2Mesh++"></a>Pixel2Mesh++</h2><p><a href="https://walsvid.github.io/Pixel2MeshPlusPlus/">Pixel2Mesh++ (walsvid.github.io)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20240204211248.png" alt="image.png|666"></p><h1 id="Voxel-based"><a href="#Voxel-based" class="headerlink" title="Voxel-based"></a>Voxel-based</h1><h2 id="Voxurf"><a href="#Voxurf" class="headerlink" title="Voxurf"></a>Voxurf</h2><p><a href="https://github.com/wutong16/Voxurf">wutong16/Voxurf: [ ICLR 2023 Spotlight ] Pytorch implementation for â€œVoxurf: Voxel-based Efficient and Accurate Neural Surface Reconstructionâ€ (github.Com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023163503.png" alt="image.png|666"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> NeRF </tag>
            
            <tag> MVS </tag>
            
            <tag> 3DGS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Six Legged Spider Robot</title>
      <link href="/Project/Six%20Legged%20Spider%20Robot/"/>
      <url>/Project/Six%20Legged%20Spider%20Robot/</url>
      
        <content type="html"><![CDATA[<p>Six Legged Spider Robot</p><span id="more"></span><blockquote><p>Video<br><a href="https://www.youtube.com/watch?v=xd8dKY6Ozrg">Our BIGGEST project yet! (SPIDER MECH!) - YouTube</a><br><a href="https://www.bilibili.com/video/BV1xg4y1L7wh/?spm_id_from=333.999.0.0&amp;vd_source=1dba7493016a36a32b27a14ed2891088">BestRyze/Hexapod 600ä¸ªå°æ—¶ï¼Œä¸€ä¸ªæ™®é€šå¤§å­¦ç”Ÿèƒ½åšå‡ºæ€æ ·çš„æ¯•è®¾_å“”å“©å“”å“©_bilibili</a></p><p>Paper<br><a href="https://www.ijmlc.org/vol5/490-A42.pdf">Design of Six Legged Spider Robot and Evolving Walking Algorithms</a></p><p>Blog<br><a href="https://www.instructables.com/3D-Printed-Hexapod-Robot/">3D Printed Hexapod Robot : 12 Steps (with Pictures) - Instructables</a></p><p>Code<br><a href="https://github.com/BestRyze/Hexapod">BestRyze/Hexapod</a><br><a href="https://github.com/jiuyewxy/ros_arm_tutorials">jiuyewxy/ros_arm_tutorials: ã€ŠROSæœºæ¢°è‡‚å¼€å‘ä¸å®è·µã€‹æ•™å­¦æºç ï¼Œæ¶µç›–ROSåŸºç¡€ã€ROSè¿›é˜¶ã€æœºæ¢°è‡‚Moveit!ã€è§†è§‰æŠ“å–ç­‰å†…å®¹ã€‚ç¤ºä¾‹å‡æä¾›Pythonä¸C++å®ç°ï¼Œé€‚é…Kineticã€Melodicã€Noeticã€ROS2 Humbleç‰ˆæœ¬.</a></p></blockquote><h1 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h1><ul><li>ç»“æ„è®¾è®¡+ä»¿çœŸ(Solidworksï¼ŒWebot)</li><li>ç”µè·¯è®¾è®¡(å˜‰ç«‹åˆ›EDA)</li><li>æœºå™¨äººåŠ¨åŠ›å­¦+è¿åŠ¨å­¦</li><li>æ§åˆ¶ç³»ç»Ÿè®¾è®¡+ç¼–ç¨‹</li></ul><p>ç†æƒ³æ¨¡å‹æ•ˆæœï¼š</p><blockquote><p><a href="https://srw.wingzero.tw/robot/mechanical/zh-TW/336">86ï¼ä¸å­˜åœ¨çš„æˆ°å€ï¼ï¼86-ã‚¨ã‚¤ãƒ†ã‚£ã‚·ãƒƒã‚¯ã‚¹- æ©Ÿé«”åˆ—è¡¨ | RoboInfo æ©Ÿå™¨äººä½œå“è³‡è¨Šç¶²</a> æ¨¡å‹<br><a href="https://www.youtube.com/watch?v=PsQVRKgT7aw">ğŸ–ğŸ” ğ„ğ¢ğ ğ¡ğ­ğ² ğ’ğ¢ğ± ~ lofi hiphop and lofi remix - YouTube</a> è‡ªå¸¦BGM</p></blockquote><p>è–ç‘ªæ ¼è«¾åˆ©äºå…±å’Œåœ‹è£½ ç„¡äººæˆ°é¬¥æ©Ÿæ¢°ã€ˆM1A4ç ´å£ç¥ã€‰<br>ã‚µãƒ³ãƒã‚°ãƒãƒªã‚¢å…±å’Œå›½è£½ã€€ç„¡äººæˆ¦é—˜æ©Ÿæ¢°ã€ˆM1A4 ã‚¸ãƒ£ã‚¬ãƒ¼ãƒãƒ¼ãƒˆã€‰<br>Height: 2.1 m<br>Pilot: ã‚·ãƒ³ã‚¨ã‚¤ãƒ»ãƒã‚¦ã‚¼ãƒ³ï¼ã‚·ãƒ³</p><p><img src="https://srw.wingzero.tw/assets/robot/0e6d4-img_mecha_01.jpg" alt="0e6d4-img_mecha_01.jpg (670Ã—670)|555"></p>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>A Review of Deep Learning-Powered Mesh Reconstruction Methods</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/A%20Review%20of%20Deep%20Learning-Powered%20Mesh%20Reconstruction%20Methods/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/A%20Review%20of%20Deep%20Learning-Powered%20Mesh%20Reconstruction%20Methods/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>A Review of Deep Learning-Powered Mesh Reconstruction Methods</th></tr></thead><tbody><tr><td>Author</td><td>Zhiqin Chen</td></tr><tr><td>Conf/Jour</td><td></td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td></td></tr><tr><td>Paper</td><td>[A Review of Deep Learning-Powered Mesh Recon<br><a href="https://arxiv.org/pdf/2303.02879#page=40.17">arxiv.org/pdf/2303.02879#page=40.17</a></td></tr></tbody></table></div><p>ä»‹ç»äº†å‡ ç§3Dæ¨¡å‹è¡¨ç¤ºæ–¹æ³•+å›é¡¾äº†å°†DLåº”ç”¨åˆ°Meshé‡å»ºä¸­çš„æ–¹æ³•</p><span id="more"></span><h1 id="Conclusion-and-Future-work"><a href="#Conclusion-and-Future-work" class="headerlink" title="Conclusion and Future work"></a>Conclusion and Future work</h1><p>åœ¨è¿™é¡¹è°ƒæŸ¥ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†ä¸åŒçš„å½¢çŠ¶è¡¨ç¤ºï¼Œä»¥åŠå„ç§æ·±åº¦å­¦ä¹ 3Dé‡å»ºæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥ä»ä½“ç´ ã€ç‚¹äº‘ã€å•å›¾åƒå’Œå¤šè§†å›¾å›¾åƒä¸­é‡å»ºè¡¨é¢ã€‚<br>è™½ç„¶è¿™é¡¹è°ƒæŸ¥æ—¨åœ¨æ¶µç›–å¯ä»¥äº§ç”Ÿæ˜¾å¼ç½‘æ ¼çš„æ–¹æ³•ï¼Œä½†è¢«å¼•ç”¨çš„ä½œå“ä¸­æœ‰ä¸€åŠä½¿ç”¨éšå¼è¡¨ç¤ºï¼Œé™¤äº†ä¸å½¢çŠ¶è§£æç›¸å…³çš„ä»»åŠ¡å¤–ï¼Œ<strong>æœ€å…ˆè¿›çš„æ€»æ˜¯é‚£äº›é‡‡ç”¨éšå¼è¡¨ç¤ºçš„ä½œå“ã€‚å› æ­¤ï¼Œç ”ç©¶å­¦ä¹ æ˜¾å¼è¡¨å¾çš„åŸºæœ¬é—®é¢˜ï¼Œä»¥åŠ/æˆ–å¼¥åˆéšå¼è¡¨å¾å’Œæ˜¾å¼è¡¨å¾ä¹‹é—´çš„å·®è·æ˜¯å€¼å¾—çš„</strong>ã€‚<br>å¤§å‹å›¾åƒå’Œè¯­è¨€æ¨¡å‹è¡¨æ˜ï¼Œåªè¦æœ‰æ›´å¤šçš„è®­ç»ƒæ•°æ®ï¼Œå°±å¯ä»¥å®ç°æ³›åŒ–ã€‚ä½†åœ¨ä¸‰ç»´é¢†åŸŸï¼Œè®­ç»ƒæ•°æ®ç¡®å®éå¸¸æœ‰é™ã€‚ä¾‹å¦‚ï¼Œå¤§å¤šæ•°3dç›‘ç£æ–¹æ³•ä½¿ç”¨ShapeNet [17]ï¼Œ ShapeNetä¸­æ€»å…±æœ‰6778æŠŠæ¤…å­ã€‚æ€ä¹ˆèƒ½æŒ‡æœ›ä¸€ä¸ªä»…ä»…åœ¨6778æŠŠæ¤…å­ä¸Šè®­ç»ƒè¿‡çš„æ–¹æ³•æ¨å¹¿åˆ°ç”±æ•°ç™¾ä¸‡ç§ä¸åŒç»“æ„ã€é£æ ¼å’Œçº¹ç†ç»„æˆçš„ç°å®ç”Ÿæ´»ä¸­çš„æ¤…å­å‘¢?  å› æ­¤ï¼Œahead æœ‰å¤šä¸ªæ–°çš„æ–¹å‘ï¼Œä¾‹å¦‚ï¼Œæœ‰æ•ˆçš„æ•°æ®å¢å¼ºï¼Œä½¿ç”¨çœŸå®çš„2Då›¾åƒæ¥ä¿ƒè¿›3Då­¦ä¹ ï¼Œåˆæˆæ•°æ®é›†çš„é¢„è®­ç»ƒï¼Œåˆæˆåˆ°çœŸå®çš„åŸŸé€‚åº”ï¼ŒåŠè‡ªåŠ¨3Dæ•°æ®æ”¶é›†å’Œæ ‡è®°ï¼Œå½“ç„¶ï¼Œéœ€è¦æœ‰äººæ¥åšåˆ›å»ºå¤§è§„æ¨¡3Dæ•°æ®é›†çš„è„æ´»ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>éšç€æœ€è¿‘ç¡¬ä»¶å’Œæ¸²æŸ“æŠ€æœ¯çš„è¿›æ­¥ï¼Œ3Dæ¨¡å‹åœ¨æˆ‘ä»¬çš„ç”Ÿæ´»ä¸­æ— å¤„ä¸åœ¨ã€‚ç„¶è€Œï¼Œåˆ›å»º3Då½¢çŠ¶æ˜¯è‰°å·¨çš„ï¼Œéœ€è¦å¤§é‡çš„ä¸“ä¸šçŸ¥è¯†ã€‚åŒæ—¶ï¼Œæ·±åº¦å­¦ä¹ å¯ä»¥ä»å„ç§æ¥æºå®ç°é«˜è´¨é‡çš„3Då½¢çŠ¶é‡å»ºï¼Œä½¿å…¶æˆä¸ºä¸€ç§ä»¥æœ€å°effortè·å–3Då½¢çŠ¶çš„å¯è¡Œæ–¹æ³•ã€‚é‡è¦çš„æ˜¯ï¼Œä¸ºäº†åœ¨å¸¸è§çš„3Dåº”ç”¨ä¸­ä½¿ç”¨ï¼Œé‡å»ºçš„å½¢çŠ¶éœ€è¦è¡¨ç¤ºä¸ºå¤šè¾¹å½¢ç½‘æ ¼ï¼Œç”±äºç½‘æ ¼é•¶åµŒçš„ä¸è§„åˆ™æ€§ï¼Œè¿™å¯¹ç¥ç»ç½‘ç»œæ¥è¯´æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚åœ¨æœ¬è°ƒæŸ¥ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ç”±æœºå™¨å­¦ä¹ é©±åŠ¨çš„ç½‘æ ¼é‡å»ºæ–¹æ³•çš„å…¨é¢å®¡æŸ¥ã€‚æˆ‘ä»¬é¦–å…ˆæè¿°äº†æ·±åº¦å­¦ä¹ ç¯å¢ƒä¸­3Då½¢çŠ¶çš„å„ç§è¡¨ç¤ºã€‚ç„¶åå›é¡¾äº†ä½“ç´ ã€ç‚¹äº‘ã€å•å›¾åƒå’Œå¤šè§†å›¾å›¾åƒçš„ä¸‰ç»´ç½‘æ ¼é‡å»ºæ–¹æ³•çš„å‘å±•ã€‚æœ€åï¼Œæˆ‘ä»¬ç¡®å®šäº†è¯¥é¢†åŸŸçš„å‡ ä¸ªæŒ‘æˆ˜ï¼Œå¹¶æå‡ºäº†æ½œåœ¨çš„æœªæ¥æ–¹å‘ã€‚</p><p>KWï¼š3D shape, mesh, and representation; reconstruction from voxels, point clouds, and images; machine learning</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>éšç€è¿‘å¹´æ¥ç¡¬ä»¶å’Œæ¸²æŸ“æŠ€æœ¯çš„è¿›æ­¥ï¼Œ3Dæ¨¡å‹åœ¨æˆ‘ä»¬çš„ç”Ÿæ´»ä¸­æ— å¤„ä¸åœ¨:ç”µå½±ã€è§†é¢‘æ¸¸æˆã€AR/VRã€è‡ªåŠ¨é©¾é©¶ï¼Œç”šè‡³åœ¨ç½‘ç«™ä¸Š[1]ã€‚ä¸äººä»¬å¯ä»¥ç”¨ç›¸æœºæˆ–æ™ºèƒ½æ‰‹æœºè½»æ¾åˆ›å»ºçš„å›¾åƒå’Œè§†é¢‘ç›¸æ¯”ï¼Œå»ºæ¨¡3Då†…å®¹éœ€è¦ä¸“ä¸šçŸ¥è¯†ã€‚å°±åƒç¼–ç¨‹ä¸€æ ·ï¼Œåªæœ‰ç»è¿‡ç¹ççš„åŸ¹è®­å’Œå®è·µçš„äººæ‰èƒ½å¤Ÿåœ¨3Då»ºæ¨¡è½¯ä»¶ä¸­åˆ›å»º3Dæ¨¡å‹å’Œåœºæ™¯ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920132726.png" alt="image.png"></p><p>å°½ç®¡å¦‚æ­¤ï¼Œä»¥æ›´ç®€å•çš„æ–¹å¼åˆ›å»º3Dæ¨¡å‹æ˜¯å¯èƒ½çš„ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œç”¨æˆ·å¯ä»¥æä¾›ä¸€äº›æ˜“äºè·å–çš„æ•°æ®ä½œä¸ºè¾“å…¥ï¼Œå¹¶ä¾é å¤æ‚çš„ä¸‰ç»´é‡å»ºç®—æ³•è·å¾—ä¸‰ç»´æ¨¡å‹</p><p>å› æ­¤ï¼Œæ‹¥æœ‰å¼ºå¤§çš„å·¥å…·æ¥æ‰§è¡Œä»è¿™äº›è¾“å…¥çš„ä¸‰ç»´å½¢çŠ¶é‡å»ºæ˜¯éå¸¸é‡è¦çš„ã€‚å®ƒä»¬åœ¨äººä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­éå¸¸æœ‰ç”¨ï¼Œå¹¶ä½¿å¨±ä¹ä¸šå—ç›Šã€‚åœ¨ç›¸å…³é¢†åŸŸå·²ç»æŠ•å…¥äº†å¤§é‡çš„ç ”ç©¶å’ŒåŠªåŠ›ã€‚è®¸å¤šç»å…¸çš„é‡å»ºæ–¹æ³•ï¼Œå¦‚ç”¨äºç­‰é¢é‡å»ºçš„Marching Cubes[96]ï¼Œç”¨äºç‚¹äº‘é‡å»ºçš„screening Poisson[74]ï¼Œä»¥åŠç”¨äºå¤šè§†å›¾é‡å»ºçš„COLMAP[129,130]ï¼Œéƒ½æ˜¯éå¸¸é²æ£’çš„ç®—æ³•ï¼Œç›´åˆ°ä»Šå¤©ä»åœ¨ä½¿ç”¨ã€‚ç„¶è€Œï¼Œæ­£æ˜¯æ·±åº¦å­¦ä¹ é©å‘½ä¸ºäººä»¬å¸¦æ¥äº†å·¥å…·ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿå®Œæˆè®¸å¤šä»¥å‰æ— æ³•å®Œæˆçš„ä»»åŠ¡ã€‚<strong>åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•ä¸ä»…æ”¾æ¾äº†è¾“å…¥çº¦æŸï¼Œå…è®¸æˆ‘ä»¬ä»ç¨€ç–æˆ–æœ‰å™ªå£°çš„æ•°æ®ä¸­é‡å»ºå½¢çŠ¶ï¼Œè€Œä¸”å°†é‡å»ºè´¨é‡æé«˜åˆ°ä¸€ä¸ªå…¨æ–°çš„æ°´å¹³</strong>ã€‚</p><p>å°½ç®¡å¦‚æ­¤ï¼Œè®¸å¤šæŒ‘æˆ˜ä»ç„¶å­˜åœ¨ï¼Œå¤§å¤šæ•°æ–¹æ³•è¿˜è¿œè¿œä¸èƒ½åº”ç”¨äºå®é™…äº§å“ã€‚ä¸€ä¸ªå¾ˆå¤§çš„æŒ‘æˆ˜æ˜¯ï¼Œå‡ ä¹æ‰€æœ‰çš„è½¯ä»¶å’Œç¡¬ä»¶éƒ½åªèƒ½æ”¯æŒä¸‰è§’å½¢ç½‘æ ¼ï¼Œè¿™åº”è¯¥æ˜¯è¿™äº›é‡å»ºæ–¹æ³•çš„ç†æƒ³è¾“å‡ºã€‚<strong>ç„¶è€Œï¼Œä¸‰è§’å½¢é•¶åµŒçš„éå‡åŒ€æ€§å’Œä¸è§„åˆ™æ€§è‡ªç„¶ä¸æ”¯æŒä¼ ç»Ÿçš„å·ç§¯æ“ä½œï¼Œå› æ­¤æ–°çš„ç½‘ç»œæ¶æ„å’Œæ–°çš„è¡¨ç¤ºå·²ç»è¢«è®¾è®¡å‡ºæ¥ï¼Œä»¥ä¸ç¥ç»ç½‘ç»œå…¼å®¹çš„æ–¹å¼è¡¨ç¤º3Då½¢çŠ¶</strong>ã€‚</p><p>è¿™é¡¹è°ƒæŸ¥æä¾›äº†ä¸€ä¸ªå…¨é¢çš„å®¡æŸ¥è¿™äº›ç½‘æ ¼é‡å»ºæ–¹æ³•ç”±æœºå™¨å­¦ä¹ ã€‚åœ¨ç¬¬2èŠ‚ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†æ·±åº¦å­¦ä¹ ç¯å¢ƒä¸­3Då½¢çŠ¶çš„å„ç§è¡¨ç¤ºã€‚ç„¶ååœ¨ç¬¬3ã€4ã€5å’Œ6èŠ‚ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«å›é¡¾äº†ä»ä½“ç´ ã€ç‚¹äº‘ã€å•å›¾åƒå’Œå¤šè§†å›¾å›¾åƒé‡å»ºè¡¨é¢çš„3Dé‡å»ºæ–¹æ³•ã€‚æœ€åï¼Œåœ¨ç¬¬7èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç¡®å®šäº†è¯¥é¢†åŸŸçš„å‡ ä¸ªæŒ‘æˆ˜ï¼Œå¹¶æå‡ºäº†æ½œåœ¨çš„æœªæ¥æ–¹å‘ã€‚</p><h1 id="Representations"><a href="#Representations" class="headerlink" title="Representations"></a>Representations</h1><p>ä»»ä½•ç®—æ³•çš„åŸºç¡€éƒ½æ˜¯æ•°æ®è¡¨ç¤ºã€‚å¯¹äºå›¾åƒï¼Œåƒç´ æ˜¯å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œéƒ½ä½¿ç”¨çš„è¡¨ç¤ºã€‚ä¸å¹¸çš„æ˜¯ï¼Œ3Dæ¨¡å‹æ²¡æœ‰è¿™æ ·çš„ç»Ÿä¸€è¡¨ç¤ºã€‚äº‹å®ä¸Šï¼Œç ”ç©¶äººå‘˜å·²ç»ä¸º3Dç”Ÿæˆä»»åŠ¡æå‡ºäº†å¹¿æ³›çš„è¡¨ç¤ºã€‚<br>åœ¨è¿™ä¸ªè°ƒæŸ¥ä¸­ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯æœ¬è´¨ä¸Šæ˜¯ä¸‰è§’å½¢ç½‘æ ¼çš„è¡¨ç¤ºã€‚æˆ‘ä»¬è¿˜è€ƒè™‘äº†å¯ä»¥å¾ˆå®¹æ˜“åœ°è½¬æ¢ä¸ºä¸‰è§’å½¢ç½‘æ ¼çš„è¡¨ç¤ºï¼Œä¾‹å¦‚CSG(Constructive Solid Geometry)æ ‘å’Œå‚æ•°æ›²é¢ã€‚æˆ‘ä»¬è¿˜å°†è®¨è®ºéšå¼è¡¨ç¤ºï¼Œå¦‚ä½“ç´ ç½‘æ ¼å’Œç¥ç»éšå¼ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æœ€æµè¡Œçš„è¡¨ç¤ºï¼Œå°½ç®¡å®ƒä»¬åœ¨è½¬æ¢ä¸ºä¸‰è§’å½¢ç½‘æ ¼æ—¶å¯èƒ½é¢ä¸´é—®é¢˜ï¼Œä¾‹å¦‚åˆ›å»ºè¿‡å¤šçš„é¡¶ç‚¹å’Œä¸‰è§’å½¢ã€‚</p><p>CSGæ¨¡å‹ ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231128153207.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920133657.png" alt="image.png"></p><p>è¡¨2.1åˆ—å‡ºäº†æ·±åº¦å­¦ä¹ ç½‘æ ¼é‡å»ºæ–¹æ³•ä¸­ä½¿ç”¨çš„è¡¨ç¤ºçš„æ€»ç»“ã€‚è¯·æ³¨æ„ï¼Œè™½ç„¶æ²¡æœ‰è€ƒè™‘è¾“å‡ºç‚¹äº‘çš„æ–¹æ³•ï¼Œä½†å…¶ä¸­ä¸€äº›æ–¹æ³•ä½¿ç”¨ç‚¹æ¥è¡¨ç¤ºéšå¼å­—æ®µï¼Œå› æ­¤å¯ä»¥å¾ˆå®¹æ˜“åœ°æå–3Då½¢çŠ¶ã€‚ä¾‹å¦‚ï¼Œâ€œShape As Pointsâ€[117]æå‡ºäº†ä¸€ä¸ªç‚¹åˆ°ç½‘æ ¼å±‚ï¼Œä½¿ç”¨æ³Šæ¾æ›²é¢é‡æ„çš„å¯å¾®å…¬å¼[73,74]ï¼Œå°†å½¢çŠ¶è¡¨ç¤ºä¸ºä¸€ç»„å…·æœ‰æ³•çº¿çš„ç‚¹çš„éšå¼åœºã€‚å¦ä¸€æ–¹é¢ï¼Œâ€œAnalytic Marchingâ€[81]ç­‰ä½œå“å¯ä»¥ä»ç¥ç»éšå¼è¡¨ç¤ºä¸­æå–ç²¾ç¡®çš„å¤šè¾¹å½¢ç½‘æ ¼ï¼Œæœªæ¥ç¥ç»éšå¼å’Œæ˜¾å¼ç½‘æ ¼ä¹‹é—´çš„å·®è·å¯èƒ½ä¼šç¼©å°ã€‚</p><p><strong>Deform one template</strong><br>å˜å½¢å•ä¸€æ¨¡æ¿ç½‘æ ¼ç”Ÿæˆä¸åŒå§¿æ€çš„å½¢çŠ¶<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920134633.png" alt="image.png"></p><p><strong>Retrieve and deform template</strong><br>é¦–å…ˆä¸ºç›®æ ‡å¯¹è±¡æ£€ç´¢æœ€åˆé€‚çš„æ¨¡æ¿ï¼Œç„¶åå¯¹æ¨¡æ¿è¿›è¡Œå˜å½¢ï¼Œä»¥è·å¾—æœ€ä½³æ€§èƒ½<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920134714.png" alt="image.png"></p><p><strong>Deform one primitive</strong><br>å¯¹äºä¸€èˆ¬çš„å½¢çŠ¶é‡å»ºä»»åŠ¡ï¼Œç‰¹åˆ«æ˜¯åœ¨åªæœ‰äºŒç»´å›¾åƒç›‘ç£çš„æƒ…å†µä¸‹é‡å»ºä¸‰ç»´å½¢çŠ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>åŸå§‹initialå½¢çŠ¶</strong>ä½œä¸ºåˆå§‹å½¢çŠ¶ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå˜å½¢ä»¥æ¥è¿‘ç›®æ ‡å½¢çŠ¶<br><strong>æœ€å¸¸ç”¨çš„primitiveæ˜¯ä¸€ä¸ªç®€å•çš„çƒä½“</strong><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920135135.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920135203.png" alt="image.png"></p><p><strong>Deform multiple primitives</strong><br>å•ä¸€åŸå§‹å½¢çŠ¶çš„å˜å½¢é™åˆ¶äº†é‡æ„å½¢çŠ¶çš„æ‹“æ‰‘ç»“æ„å’Œè¡¨ç¤ºèƒ½åŠ›ï¼Œå› æ­¤è‡ªç„¶çš„è§£å†³æ–¹æ¡ˆæ˜¯æ‹Ÿåˆå¤šä¸ªåŸå§‹å½¢çŠ¶ã€‚ç„¶è€Œï¼Œè¿™ç§è¡¨ç°æ–¹å¼ä¸»è¦ç”¨äºç›´æ¥çš„3Dç›‘æ§;ä»äºŒç»´å›¾åƒç›‘ç£é‡å»ºä¸‰ç»´å½¢çŠ¶å¯èƒ½è¿‡äºå¤æ‚å’Œä¸å¯æ§<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920140614.png" alt="image.png"></p><p><strong>Set of primitives</strong><br>å…³é”®çš„åŒºåˆ«åœ¨äºï¼Œåœ¨â€œå˜å½¢å¤šä¸ªåŸºå…ƒâ€ä¸­ï¼ŒåŸºå…ƒç½‘æ ¼é€šè¿‡ç¥ç»ç½‘ç»œè¿›è¡Œå˜å½¢ã€‚åœ¨â€œåŸºå…ƒé›†åˆâ€ä¸­ï¼Œæ¯ä¸ªåŸºå…ƒåªæ˜¯ç”±ä¸€ç»„å‚æ•°å®šä¹‰çš„åŸºå…ƒï¼Œå› æ­¤ä¸å­˜åœ¨å˜å½¢ç½‘ç»œ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920143643.png" alt="image.png"></p><p><strong>Primitive detection</strong><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920144012.png" alt="image.png"></p><p><strong>Grid mesh</strong> ç‚¹äº‘MCåˆ°è¡¨é¢mesh<br>å—è¡Œå†›ç«‹æ–¹ä½“(Marching Cubes, MC)[96]ã€åŒé‡è½®å»“(Dual contoring, DC)[66]å’Œè¡Œå†›å››é¢ä½“(Marching Tetrahedra, MT)[35]ç­‰åœ¨è§„åˆ™ç½‘æ ¼ç»“æ„ä¸Šè¿è¡Œçš„ç»å…¸ç­‰æ›²é¢ç®—æ³•çš„å¯å‘ï¼Œå·²ç»æå‡ºäº†å‡ ç§æ–¹æ³•æ¥ç”Ÿæˆè§„åˆ™çš„å‚æ•°ç½‘æ ¼ï¼Œä»¥ä¾¿å¯ä»¥ä¸€ä¸ªå•å…ƒä¸€ä¸ªå•å…ƒåœ°æå–è¡¨é¢<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920144055.png" alt="image.png"></p><p><strong>Grid polygon soup</strong><br>å…«å‰æ ‘çŠ¶ç½‘ç»œç»“æ„<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920144236.png" alt="image.png"></p><p><strong>Grid voxels</strong><br>voxels ï¼šOccupancy or signed distance grids<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920144420.png" alt="image.png"></p><p><strong>Neural implicit</strong><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920144750.png" alt="image.png"></p><p><strong>Primitive CSG</strong><br>æ„é€ ç«‹ä½“å‡ ä½•CSG(Constructive Solid Geometry)ï¼Œå®ƒæ˜¯CAD(è®¡ç®—æœºè¾…åŠ©è®¾è®¡)æ¨¡å‹çš„å¸¸è§è¡¨ç¤ºï¼Œå…¶ä¸­åŸå§‹å½¢çŠ¶(å¦‚å¤šé¢ä½“ã€æ¤­çƒä½“å’Œåœ†æŸ±ä½“)é€šè¿‡å¸ƒå°”è¿ç®—ç¬¦(å¦‚å¹¶ã€äº¤å’Œå·®)åˆå¹¶<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920144930.png" alt="image.png"></p><p><strong>Sketch and extrude</strong><br>â€œç´ æå’ŒæŒ¤å‹â€ä¹Ÿæ˜¯CSGçš„ä¸€ç§è¡¨ç°å½¢å¼ã€‚ç„¶è€Œï¼Œä¸â€œåŸå§‹CSGâ€ä¸åŒçš„æ˜¯ï¼Œåœ¨â€œåŸå§‹CSGâ€ä¸­ï¼ŒCSGæ“ä½œåªä½¿ç”¨åŸå§‹3Då½¢çŠ¶ï¼Œè¿™ç§è¡¨ç¤ºæ–¹å¼æ›´ç±»ä¼¼äºåˆ›å»ºCADæ¨¡å‹çš„å·¥ä½œæµç¨‹ï¼Œé€šè¿‡é‡å¤ç»˜åˆ¶2Dè½®å»“ï¼Œç„¶åå°†è¯¥è½®å»“æŒ¤å‹åˆ°3Dä½“ä¸­</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920145435.png" alt="image.png"></p><p><strong>Connect given vertices</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920145520.png" alt="image.png"></p><p>ä»ç‚¹äº‘é‡å»ºç½‘æ ¼ï¼Œå› ä¸ºå®ƒåªè¿æ¥ç‚¹äº‘ä¸­çš„ç»™å®šé¡¶ç‚¹ã€‚è¿™äº›æ–¹æ³•å¯ä»¥é€šè¿‡æ˜¯å¦æ¨æ–­å‡ºå½¢çŠ¶çš„å†…å¤–åŒºåŸŸæ¥è¿›è¡Œåˆ†ç±»ï¼Œä»è€Œç”Ÿæˆå°é—­çš„ç½‘æ ¼</p><p><strong>Generate and connect vertices</strong><br>è¯¥è¡¨ç¤ºé¦–å…ˆé€šè¿‡ç¥ç»ç½‘ç»œç”Ÿæˆä¸€ç»„ç½‘æ ¼é¡¶ç‚¹ï¼Œç„¶åæœ‰é€‰æ‹©åœ°å°†è¿™äº›é¡¶ç‚¹è¿æ¥èµ·æ¥ï¼Œå½¢æˆå¦ä¸€ä¸ªç¥ç»ç½‘ç»œçš„ç½‘æ ¼é¢ã€‚è¯¥æ–¹æ³•å¯ä»¥ç›´æ¥ç”Ÿæˆä¸‰ç»´ç½‘æ ¼ä½œä¸ºç´¢å¼•é¢é›†ï¼Œ<strong>ä½†ç”±äºå…¶æé«˜çš„å¤æ‚æ€§ï¼Œå¾ˆå°‘è¢«ä½¿ç”¨</strong>ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920145630.png" alt="image.png"></p><p><strong>Sequence of edits</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920145912.png" alt="image.png"></p><h1 id="Reconstruction-from-Voxels"><a href="#Reconstruction-from-Voxels" class="headerlink" title="Reconstruction from Voxels"></a>Reconstruction from Voxels</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†ä»å ä½ç½‘æ ¼æˆ–ç¬¦å·è·ç¦»é‡å»ºå½¢çŠ¶çš„ä½œå“ã€‚åŸºäºåŠ¨æœºï¼Œæˆ‘ä»¬å°†ä½œå“é›†åˆåˆ†ä¸ºä¸¤ç±»:å½¢çŠ¶è¶…åˆ†è¾¨ç‡å’Œå½¢çŠ¶è§£æï¼Œå…¶ä¸­</p><ul><li><strong>å½¢çŠ¶è¶…åˆ†è¾¨ç‡ä»è¾“å…¥ä½“ç´ ä¸­é‡å»ºæ›´è¯¦ç»†å’Œè§†è§‰ä¸Šä»¤äººæ„‰æ‚¦çš„å½¢çŠ¶</strong></li><li><strong>å½¢çŠ¶è§£æå°†è¾“å…¥ä½“ç´ åˆ†è§£ä¸ºåŸè¯­å’ŒCSGåºåˆ—ï¼Œç”¨äºé€†å‘å·¥ç¨‹CADå½¢çŠ¶</strong>ã€‚</li></ul><p>è¯·æ³¨æ„ï¼Œä»éƒ¨åˆ†ä½“ç´ é‡å»ºå®Œæ•´å½¢çŠ¶ï¼Œå³å½¢çŠ¶è¡¥å…¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ´»è·ƒçš„ç ”ç©¶é¢†åŸŸï¼Œç”±äºæœ¬è°ƒæŸ¥çš„èŒƒå›´ï¼Œæˆ‘ä»¬å°†ä¸è®¨è®ºã€‚</p><h2 id="Shape-super-resolution"><a href="#Shape-super-resolution" class="headerlink" title="Shape super-resolution"></a>Shape super-resolution</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920150106.png" alt="image.png"></p><h2 id="Shape-parsing"><a href="#Shape-parsing" class="headerlink" title="Shape parsing"></a>Shape parsing</h2><h1 id="Reconstruction-from-Point-Clouds"><a href="#Reconstruction-from-Point-Clouds" class="headerlink" title="Reconstruction from Point Clouds"></a>Reconstruction from Point Clouds</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†ä»ç‚¹äº‘é‡å»ºç‰©ä½“å’Œåœºæ™¯çš„ä½œå“ï¼Œæœ‰æˆ–æ²¡æœ‰ç‚¹æ³•çº¿ã€‚æˆ‘ä»¬å°†è¿™äº›æ–¹æ³•åˆ†ä¸ºä¸¤ç±»:ä¸€ç±»åŸºäºæ˜¾å¼è¡¨ç¤ºï¼Œå¦ä¸€ç±»åŸºäºéšå¼è¡¨ç¤ºã€‚</p><ul><li>å…·æœ‰æ˜¾å¼è¡¨ç¤ºçš„æ–¹æ³•å¯ä»¥ç›´æ¥è¾“å‡ºç½‘æ ¼ï¼Œä½†é€šå¸¸ä¸èƒ½ä¿è¯è¡¨é¢è´¨é‡ï¼Œä¾‹å¦‚ï¼Œå®ƒä»¬å¯èƒ½ä¸æ˜¯æ°´å¯†çš„ï¼Œå¯èƒ½åŒ…å«æ— æµå½¢å’Œè‡ªç›¸äº¤ã€‚</li><li>é‡‡ç”¨éšå¼è¡¨ç¤ºçš„æ–¹æ³•å¯ä»¥ä¿è¯ç”Ÿæˆæ— è‡ªäº¤çš„æ°´å¯†æµå½¢ç½‘æ ¼ï¼Œä½†å®ƒä»¬éœ€è¦ä¸€ç§ç­‰æ›²é¢ç®—æ³•æ¥ä»éšå¼åŸŸä¸­æå–ç½‘æ ¼ã€‚</li></ul><h2 id="Explicit-representation"><a href="#Explicit-representation" class="headerlink" title="Explicit representation"></a>Explicit representation</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920150229.png" alt="image.png"></p><h2 id="Implicit-representation"><a href="#Implicit-representation" class="headerlink" title="Implicit representation"></a>Implicit representation</h2><ul><li>Overfit a single shape</li><li>Divide space into local cube patches</li><li>3D CNN then local neural implicit</li><li>Point cloud encoder then local neural implicit</li><li>Implicit field defined by points</li><li>Octrees</li></ul><h1 id="Reconstruction-from-Single-Images"><a href="#Reconstruction-from-Single-Images" class="headerlink" title="Reconstruction from Single Images"></a>Reconstruction from Single Images</h1><p>ä»å•ä¸ªå›¾åƒé‡æ„å½¢çŠ¶çš„æ–¹æ³•å¯ä»¥æ ¹æ®å®ƒä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ¥å—çš„ç›‘ç£åˆ†ä¸ºä¸¤ç±»ã€‚</p><ul><li>ä¸€ç±»æ˜¯ç”¨åœ°é¢çœŸå®ä¸‰ç»´å½¢çŠ¶ä½œä¸ºç›‘ç£æ¥è®­ç»ƒçš„ã€‚è¿™ç±»æ–¹æ³•é€šå¸¸åœ¨ShapeNetä¸Šè¿›è¡Œè®­ç»ƒ[17]ã€‚</li><li>å¦ä¸€ç±»æ˜¯åªè®­ç»ƒå•è§†å›¾å›¾åƒä½œä¸ºç›‘ç£ã€‚å•è§†å›¾å›¾åƒæ„å‘³ç€æ¯ä¸ªå¯¹è±¡åªæœ‰ä¸€ä¸ªå›¾åƒç”¨äºè®­ç»ƒï¼Œè€Œå¤šè§†å›¾å›¾åƒåˆ™æ˜¯æ¯ä¸ªå¯¹è±¡æœ‰æ¥è‡ªä¸åŒè§†ç‚¹çš„å¤šä¸ªå›¾åƒã€‚è¿™ç±»æ–¹æ³•é€šå¸¸åœ¨å…·æœ‰çƒå½¢æˆ–åœ†ç›˜æ‹“æ‰‘å½¢çŠ¶çš„é¸Ÿã€è½¦ã€é©¬å’Œè„¸çš„å›¾åƒæ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒã€‚</li></ul><h2 id="With-3D-supervision"><a href="#With-3D-supervision" class="headerlink" title="With 3D supervision"></a>With 3D supervision</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920150654.png" alt="image.png"></p><h2 id="With-2D-supervision"><a href="#With-2D-supervision" class="headerlink" title="With 2D supervision"></a>With 2D supervision</h2><h1 id="Reconstruction-from-Multi-View-Images"><a href="#Reconstruction-from-Multi-View-Images" class="headerlink" title="Reconstruction from Multi-View Images"></a>Reconstruction from Multi-View Images</h1><p>å¤§å¤šæ•°æ–¹æ³•æ˜¯ä½¿ç”¨åŸºäºç½‘æ ¼æˆ–ç¥ç»éšå¼çš„å¯å¾®æ¸²æŸ“ç®—æ³•ï¼Œæˆ–åŸºäºNeRFçš„å°„çº¿æ¨è¿›ä½“æ¸²æŸ“å…¬å¼çš„æ–¹æ³•ï¼Œå¯¹å¤šä¸ªè¾“å…¥å›¾åƒè¿‡åº¦æ‹Ÿåˆå•ä¸ªå½¢çŠ¶æˆ–åœºæ™¯[101]ã€‚</p><h2 id="Differentiable-rendering-on-explicit-representation"><a href="#Differentiable-rendering-on-explicit-representation" class="headerlink" title="Differentiable rendering on explicit representation"></a>Differentiable rendering on explicit representation</h2><h2 id="Surface-rendering-on-implicit-representation"><a href="#Surface-rendering-on-implicit-representation" class="headerlink" title="Surface rendering on implicit representation"></a>Surface rendering on implicit representation</h2><p>æœ¬èŠ‚ä¸­çš„æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå¯å¾®åˆ†çš„æ¸²æŸ“å…¬å¼ï¼Œå‡è®¾æ¯ä¸ªè¾“å…¥å›¾åƒéƒ½ç»™å‡ºäº†å¯¹è±¡åˆ†å‰²æ©ç ï¼Œå¹¶ä¸”æ¯ä¸ªå…‰çº¿æœ€å¤šä¸è¡¨é¢ç›¸äº¤ä¸€æ¬¡(æ¯æ¡å…‰çº¿åªæœ‰ä¸€ä¸ªäº¤ç‚¹ç”¨äºæ¢¯åº¦ä¼ æ’­)ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230920150758.png" alt="image.png"></p><h2 id="Volume-rendering-on-implicit-representation"><a href="#Volume-rendering-on-implicit-representation" class="headerlink" title="Volume rendering on implicit representation"></a>Volume rendering on implicit representation</h2><p>æœ¬èŠ‚çš„æ–¹æ³•é‡‡ç”¨nerfé£æ ¼çš„å°„çº¿æ¨è¿›ä½“ç»˜åˆ¶ç®—æ³•ã€‚å¯¹äºæ¯ä¸€ä¸ªåƒç´ ï¼Œç›¸æœºéƒ½ä¼šå‘å°„ä¸€æŸç©¿è¿‡å®ƒçš„å…‰çº¿ã€‚æ²¿ç€å°„çº¿å¯¹è®¸å¤šç‚¹è¿›è¡Œé‡‡æ ·ã€‚æ¯ä¸ªé‡‡æ ·ç‚¹æºå¸¦å¯†åº¦(â€œä¸é€æ˜åº¦â€)å’Œäº®åº¦(è§†ç›¸å…³çš„RGBé¢œè‰²)ï¼Œç”±MLPé¢„æµ‹ã€‚æœ€åçš„åƒç´ é¢œè‰²æ˜¯æ‰€æœ‰é‡‡æ ·ç‚¹ç›¸å¯¹äºå…¶å¯†åº¦çš„ç´¯ç§¯äº®åº¦ï¼Œç±»ä¼¼äºalphaåˆæˆã€‚è¿™äº›æ–¹æ³•é€šå¸¸ä¸éœ€è¦ç›®æ ‡åˆ†å‰²è’™ç‰ˆï¼Œå®ƒä»¬ä»¥æŸç§æ–¹å¼ç”¨å®šä¹‰è‰¯å¥½çš„ç¥ç»éšå¼åœºè¡¨ç¤ºç‚¹å¯†åº¦ï¼Œä»è€Œå¯ä»¥é€šè¿‡ç­‰æ›²é¢æå–å½¢çŠ¶çš„è¡¨é¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Review </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CVPR 2023</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/2023%20Conf%20about%20NeRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/2023%20Conf%20about%20NeRF/</url>
      
        <content type="html"><![CDATA[<p>ref:<br><a href="https://github.com/lif314/awesome-NeRF-papers/blob/main/NeRFs-CVPR2023.md">awesome-NeRF-papers/NeRFs-CVPR2023.md at main Â· lif314/awesome-NeRF-papers (github.com)</a><br><a href="https://github.com/lif314/awesome-NeRF-papers/blob/main/NeRFs-ICCV2023.md">awesome-NeRF-papers/NeRFs-ICCV2023.md at main Â· lif314/awesome-NeRF-papers (github.com)</a><br><a href="https://public.tableau.com/views/CVPR2023SubjectAreasbyTeamSize/Dashboard2a?:showVizHome=no">å·¥ä½œç°¿: CVPR 2023 Subject Areas by Team Size (tableau.com)</a><br><a href="https://github.com/yangjiheng/nerf_and_beyond_docs">yangjiheng/nerf_and_beyond_docs (github.com)</a></p><span id="more"></span><p>åå°„ | ä½å…‰ | é˜´å½±<br>ç¨€ç–è§†å›¾<br>ç¼–ç æ–¹å¼<br>å»æ¨¡ç³Šanti-alias<br><strong>æ— ä½å§¿æƒ…å†µ</strong><br>å¿«é€Ÿæ¸²æŸ“<br>èŠ‚çœå†…å­˜</p><p>åº”ç”¨ï¼š</p><ul><li>ç‰©ä½“æ¢æµ‹</li><li><strong>åˆ†å‰²</strong></li><li>RGBDå®æ—¶è·Ÿè¸ª</li><li>æœºå™¨äººæ„ŸçŸ¥</li><li>Humanï¼šäººä½“ï¼Œäººè„¸ï¼Œäººæ‰‹</li><li>å…¶ä»–</li></ul><p>æ‰©æ•£æ¨¡å‹<br>3Dé£æ ¼è¿ç§»<br>text to 3D<br>å¯ç¼–è¾‘<br>åŠ¨æ€åœºæ™¯</p><p><a href="https://zju3dv.github.io/autorecon/">AutoRecon: Automated 3D Object Discovery and Reconstruction (zju3dv.github.io)</a></p><h1 id="åå°„-ä½å…‰-é˜´å½±"><a href="#åå°„-ä½å…‰-é˜´å½±" class="headerlink" title="åå°„ | ä½å…‰ | é˜´å½±"></a>åå°„ | ä½å…‰ | é˜´å½±</h1><h2 id="å…‰ç…§åå°„"><a href="#å…‰ç…§åå°„" class="headerlink" title="å…‰ç…§åå°„"></a>å…‰ç…§åå°„</h2><p><a href="https://github.com/hirotong/ReNeuS">https://github.com/hirotong/ReNeuS</a>3Dé‡å»º,<br>NeFII: Inverse Rendering for Reflectance Decomposition with Near-Field Indirect Illuminationå…‰ç…§åå°„æ¸²æŸ“<br><a href="https://ktiwary2.github.io/objectsascam/">https://ktiwary2.github.io/objectsascam/</a>è¾å°„åœºç›¸æœº,ç‰©ä½“åå°„<br><a href="https://zx-yin.github.io/msnerf/">MS-NeRF (zx-yin.github.io)</a>ç©¿è¿‡é•œåƒç‰©ä½“çš„å¤æ‚å…‰è·¯ï¼Œé«˜è´¨é‡åœºæ™¯æ¸²æŸ“<br><a href="https://github.com/JiaxiongQ/NeuS-HSR">JiaxiongQ/NeuS-HSR: Looking Through the Glass: Neural Surface Reconstruction Against High Specular Reflections (CVPR 2023) (github.com)</a> é«˜é•œé¢åå°„</p><h2 id="é˜´å½±å°„çº¿ç›‘ç£"><a href="#é˜´å½±å°„çº¿ç›‘ç£" class="headerlink" title="é˜´å½±å°„çº¿ç›‘ç£"></a>é˜´å½±å°„çº¿ç›‘ç£</h2><p><a href="https://gerwang.github.io/shadowneus/">https://gerwang.github.io/shadowneus/</a></p><h2 id="Low-Lightä½å…‰åœºæ™¯"><a href="#Low-Lightä½å…‰åœºæ™¯" class="headerlink" title="Low Lightä½å…‰åœºæ™¯"></a>Low Lightä½å…‰åœºæ™¯</h2><p><a href="https://www.whyy.site/paper/llnerf">https://www.whyy.site/paper/llnerf</a></p><h2 id="æ°´ä¸‹æˆ–é›¾æ°”å¼¥æ¼«åœºæ™¯"><a href="#æ°´ä¸‹æˆ–é›¾æ°”å¼¥æ¼«åœºæ™¯" class="headerlink" title="æ°´ä¸‹æˆ–é›¾æ°”å¼¥æ¼«åœºæ™¯"></a>æ°´ä¸‹æˆ–é›¾æ°”å¼¥æ¼«åœºæ™¯</h2><p><a href="https://sea-thru-nerf.github.io/">SeaThru-NeRF: Neural Radiance Fields in Scattering Media (sea-thru-nerf.github.io)</a></p><h2 id="å…‰æµç›‘ç£"><a href="#å…‰æµç›‘ç£" class="headerlink" title="å…‰æµç›‘ç£"></a>å…‰æµç›‘ç£</h2><p><a href="https://mightychaos.github.io/projects/fsdnerf/">https://mightychaos.github.io/projects/fsdnerf/</a></p><h1 id="ç¨€ç–è§†å›¾"><a href="#ç¨€ç–è§†å›¾" class="headerlink" title="ç¨€ç–è§†å›¾"></a>ç¨€ç–è§†å›¾</h1><p><a href="https://scade-spacecarving-nerfs.github.io/">https://scade-spacecarving-nerfs.github.io/</a>(æ·±åº¦ç›‘ç£)<br><a href="https://github.com/google-research/nerf-from-image">https://github.com/google-research/nerf-from-image</a>(å•è§†å›¾)<br><a href="https://flex-nerf.github.io/">https://flex-nerf.github.io/</a>(äººä½“å»ºæ¨¡)<br><a href="http://prunetruong.com/sparf.github.io/">http://prunetruong.com/sparf.github.io/</a>(ä½å§¿ä¸å‡†)<br><a href="https://jiawei-yang.github.io/FreeNeRF/">https://jiawei-yang.github.io/FreeNeRF/</a>ç¨€ç–è§†å›¾<br><a href="https://github.com/ShuhongChen/panic3d-anime-reconstruction">https://github.com/ShuhongChen/panic3d-anime-reconstruction</a>å•è§†å›¾3Dé‡å»º<br>MixNeRF: Modeling a Ray with Mixture Density for Novel View Synthesis from Sparse Inputsç¨€ç–è§†å›¾,æ·±åº¦ç›‘ç£<br>NeRFInvertor: High Fidelity NeRF-GAN Inversion for Single-shot Real Image Animation<br><a href="https://sparsefusion.github.io/">https://sparsefusion.github.io/</a>æ‰©æ•£æ¨¡å‹<br><a href="https://sparsenerf.github.io/">https://sparsenerf.github.io/</a>depth-based, Few-shot<br><a href="https://fwmb.github.io/bts/">Behind the Scenes: Density Fields for Single View Reconstruction | fwmb.github.io</a><br><a href="https://zero123.cs.columbia.edu/">Zero-1-to-3: Zero-shot One Image to 3D Object (columbia.edu)</a><br><a href="https://arxiv.org/abs/2306.00965">[2306.00965] BUOL: A Bottom-Up Framework with Occupancy-aware Lifting for Panoptic 3D Scene Reconstruction From A Single Image (arxiv.org)</a></p><h1 id="ç¼–ç æ–¹å¼"><a href="#ç¼–ç æ–¹å¼" class="headerlink" title="ç¼–ç æ–¹å¼"></a>ç¼–ç æ–¹å¼</h1><p><a href="https://github.com/KostadinovShalon/exact-nerf">https://github.com/KostadinovShalon/exact-nerf</a><br><a href="https://3d-front-future.github.io/neuda/">https://3d-front-future.github.io/neuda/</a>ä¿çœŸè¡¨é¢é‡å»º</p><h1 id="å»æ¨¡ç³Š"><a href="#å»æ¨¡ç³Š" class="headerlink" title="å»æ¨¡ç³Š"></a>å»æ¨¡ç³Š</h1><p><a href="https://github.com/TangZJ/able-nerf">https://github.com/TangZJ/able-nerf</a>(è‡ªæ³¨æ„åŠ›)<br><a href="https://dogyoonlee.github.io/dpnerf/">https://dogyoonlee.github.io/dpnerf/</a>(ç‰©ç†åœºæ™¯å…ˆéªŒ)<br><a href="https://github.com/BoifZ/VDN-NeRF">https://github.com/BoifZ/VDN-NeRF</a><br><a href="https://jonbarron.info/zipnerf/">https://jonbarron.info/zipnerf/</a>Anti-Aliased, Grid-Based<br><a href="https://wbhu.github.io/projects/Tri-MipRF/">https://wbhu.github.io/projects/Tri-MipRF/</a>Anti-Aliasing, Faster<br><a href="https://openaccess.thecvf.com/content/CVPR2023/html/Isaac-Medina_Exact-NeRF_An_Exploration_of_a_Precise_Volumetric_Parameterization_for_Neural_CVPR_2023_paper.html">CVPR 2023 Open Access Repository (thecvf.com)</a></p><h1 id="æ²¡æœ‰ä½å§¿-NeRF-without-pose"><a href="#æ²¡æœ‰ä½å§¿-NeRF-without-pose" class="headerlink" title="æ²¡æœ‰ä½å§¿ NeRF without pose"></a>æ²¡æœ‰ä½å§¿ NeRF without pose</h1><p><a href="https://rust-paper.github.io/">https://rust-paper.github.io/</a><br><a href="https://nope-nerf.active.vision/">https://nope-nerf.active.vision/</a><br><a href="https://henry123-boy.github.io/level-s2fm/">https://henry123-boy.github.io/level-s2fm/</a>å¢é‡é‡å»º,æ— ä½å§¿SfM</p><p>å¤§è§„æ¨¡è¡—æ™¯<br><a href="https://city-super.github.io/gridnerf/">https://city-super.github.io/gridnerf/</a><br><a href="https://dnmp.github.io/">https://dnmp.github.io/</a>Urban Reconstruction<br><a href="https://astra-vision.github.io/SceneRF/">https://astra-vision.github.io/SceneRF/</a>Urban Reconstruction</p><p>è”åˆä¼°è®¡ä½å§¿ï¼Œå¢é‡é‡å»º<br><a href="https://localrf.github.io/">https://localrf.github.io/</a></p><p>Bundle-Adjusting<br><a href="https://rover-xingyu.github.io/L2G-NeRF/">https://rover-xingyu.github.io/L2G-NeRF/</a><br><a href="https://aibluefisher.github.io/dbarf/">https://aibluefisher.github.io/dbarf/</a><br><a href="https://github.com/WU-CVGL/BAD-NeRF">https://github.com/WU-CVGL/BAD-NeRF</a>å»æ¨¡ç³Š</p><p>å¯æ³›åŒ–<br><a href="https://xhuangcv.github.io/lirf/">https://xhuangcv.github.io/lirf/</a></p><p>ç‚¹äº‘æ¸²æŸ“<br><a href="https://arxiv.org/pdf/2303.16482.pdf">https://arxiv.org/pdf/2303.16482.pdf</a><br><a href="https://jkulhanek.com/tetra-nerf/">https://jkulhanek.com/tetra-nerf/</a>Point-Based, Tetrahedra-Based<a href="https://visual.ee.ucla.edu/alto.htm/">ALTO: Alternating Latent Topologies for Implicit 3D Reconstruction - Visual Machines Group (ucla.edu)</a>äº¤æ›¿æ½œåœ¨æ‹“æ‰‘ï¼Œä»å˜ˆæ‚çš„ç‚¹äº‘ä¸­é«˜ä¿çœŸåœ°é‡å»ºéšå¼3Dè¡¨é¢</p><p>é€†æ¸²æŸ“<br><a href="https://haian-jin.github.io/TensoIR/">https://haian-jin.github.io/TensoIR/</a></p><p>é€¼çœŸåˆæˆ<br><a href="https://redrock303.github.io/nerflix/">https://redrock303.github.io/nerflix/</a><br>ContraNeRF: Generalizable Neural Radiance Fields for Synthetic-to-real Novel View Synthesis via Contrastive LearningçœŸå®æ¸²æŸ“<br><a href="https://robustnerf.github.io/public/">https://robustnerf.github.io/public/</a>çœŸå®æ¸²æŸ“ï¼Œåœºæ™¯åŒ…å«åˆ†æ•£ç‰©ä½“ï¼Œ<strong>å»é™¤floaters</strong><br><a href="https://yifanjiang19.github.io/alignerf">AligNeRF (yifanjiang19.github.io)</a>é«˜ä¿çœŸåº¦ã€è¾“å…¥é«˜åˆ†è¾¨ç‡å›¾åƒå’Œæœ‰æ ¡å‡†è¯¯å·®çš„ç›¸æœº</p><p>3Dè¾¹ç¼˜é‡å»º<br><a href="https://yunfan1202.github.io/NEF/">https://yunfan1202.github.io/NEF/</a></p><p>3Dæ‰«æä¸­é‡å»º2Dæ¥¼å±‚å¹³é¢å›¾<br><a href="https://ywyue.github.io/RoomFormer/">Connecting the Dots: Floorplan Reconstruction Using Two-Level Queries (ywyue.github.io)</a></p><p>nerf2mesh, nerf-texture<br><a href="https://me.kiui.moe/nerf2mesh/">https://me.kiui.moe/nerf2mesh/</a></p><p>é«˜è´¨é‡é‡å»ºSDF Based Reconstruction / Other Geometry Based Reconstruction<br><a href="https://xmeng525.github.io/xiaoxumeng.github.io/projects/cvpr23_neat">https://xmeng525.github.io/xiaoxumeng.github.io/projects/cvpr23_neat</a><br><a href="https://github.com/yiqun-wang/PET-NeuS">yiqun-wang/PET-NeuS: PET-NeuS: Positional Encoding Tri-Planes for Neural Surfaces (CVPR 2023) (github.com)</a><br><a href="https://sarahweiii.github.io/neumanifold/">NeuManifold (sarahweiii.github.io)</a><br><a href="https://vcai.mpi-inf.mpg.de/projects/NeuS2/">NeuS2: Fast Learning of Neural Implicit Surfaces for Multi-view Reconstruction (mpg.de)</a></p><p>ç«‹ä½“æ·±åº¦<br><a href="https://nerfstereo.github.io/">https://nerfstereo.github.io/</a></p><p>è§†å›¾åˆæˆ<br>Enhanced Stable View Synthesis(å®¤å¤–)</p><p>äº‹ä»¶ç›¸æœº<br><a href="https://4dqv.mpi-inf.mpg.de/EventNeRF/">https://4dqv.mpi-inf.mpg.de/EventNeRF/</a></p><p>3D GAN,ç”Ÿæˆè¾å°„åœº<br><a href="https://www.computationalimaging.org/publications/singraf/">https://www.computationalimaging.org/publications/singraf/</a>SinGRAFï¼šå­¦ä¹ å•ä¸ªåœºæ™¯çš„3Dç”Ÿæˆè¾å°„åœº</p><h1 id="å¿«é€Ÿæ¸²æŸ“"><a href="#å¿«é€Ÿæ¸²æŸ“" class="headerlink" title="å¿«é€Ÿæ¸²æŸ“"></a>å¿«é€Ÿæ¸²æŸ“</h1><p><a href="https://mobile-nerf.github.io/">https://mobile-nerf.github.io/</a>(ç§»åŠ¨è®¾å¤‡)<br><a href="https://snap-research.github.io/MobileR2L/">https://snap-research.github.io/MobileR2L/</a><br><a href="https://totoro97.github.io/projects/f2-nerf/">https://totoro97.github.io/projects/f2-nerf/</a>(ä»»æ„ç›¸æœºè·¯å¾„,å¿«é€Ÿ)<br><a href="https://radualexandru.github.io/permuto_sdf/">https://radualexandru.github.io/permuto_sdf/</a>å¿«é€Ÿæ¸²æŸ“, 30 fps on an RTX 3090<br><a href="https://arxiv.org/pdf/2212.08476.pdf">https://arxiv.org/pdf/2212.08476.pdf</a><br><a href="https://gymat.github.io/SurfelNeRF-web/">SurfelNeRF: Neural Surfel Radiance Fields for Online Photorealistic Reconstruction of Indoor Scenes (gymat.github.io)</a><br>SteerNeRF: Accelerating NeRF Rendering via Smooth Viewpoint Trajectory<br><a href="https://arxiv.org/abs/2305.13220">[2305.13220] Fast Monocular Scene Reconstruction with Global-Sparse Local-Dense Grids (arxiv.org)</a> å¿«é€Ÿé‡å»º<br><a href="https://jefftan969.github.io/dasr/">Distilling Neural Fields for Real-Time Articulated Shape Reconstruction (jefftan969.github.io)</a>å®æ—¶ä»è§†é¢‘ä¸­é‡å»ºå…³èŠ‚å¼ä¸‰ç»´æ¨¡å‹çš„æ–¹æ³•</p><h1 id="èŠ‚çœå†…å­˜"><a href="#èŠ‚çœå†…å­˜" class="headerlink" title="èŠ‚çœå†…å­˜"></a>èŠ‚çœå†…å­˜</h1><p><a href="https://daniel03c1.github.io/masked_wavelet_nerf/">https://daniel03c1.github.io/masked_wavelet_nerf/</a><br><a href="https://github.com/AlgoHunt/VQRF">https://github.com/AlgoHunt/VQRF</a><br><a href="https://plenvdb.github.io/">https://plenvdb.github.io/</a>å¿«é€Ÿæ¸²æŸ“<br><a href="https://sarafridov.github.io/K-Planes/">https://sarafridov.github.io/K-Planes/</a>å¿«é€Ÿæ¸²æŸ“<br><a href="https://paperswithcode.com/paper/nerflight-fast-and-light-neural-radiance">NeRFLight: Fast and Light Neural Radiance Fields Using a Shared Feature Grid | Papers With Code</a></p><h1 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h1><h2 id="ç‰©ä½“æ¢æµ‹"><a href="#ç‰©ä½“æ¢æµ‹" class="headerlink" title="ç‰©ä½“æ¢æµ‹"></a>ç‰©ä½“æ¢æµ‹</h2><p><a href="https://github.com/lyclyc52/NeRF_RPN">https://github.com/lyclyc52/NeRF_RPN</a><br><a href="https://chenfengxu714.github.io/nerfdet/">https://chenfengxu714.github.io/nerfdet/</a>3D Object Detection<br><a href="https://zju3dv.github.io/autorecon/">AutoRecon: Automated 3D Object Discovery and Reconstruction (zju3dv.github.io)</a> ç‚¹äº‘ä¸­å‘ç°ç‰©ä½“å¹¶é‡å»º</p><h2 id="åˆ†å‰²"><a href="#åˆ†å‰²" class="headerlink" title="åˆ†å‰²"></a>åˆ†å‰²</h2><p><a href="https://rahul-goel.github.io/isrf/">https://rahul-goel.github.io/isrf/</a>äº¤äº’å¼åœºæ™¯<br><a href="https://liuff19.github.io/S-Ray/">https://liuff19.github.io/S-Ray/</a>(å¯æ³›åŒ–è¯­ä¹‰åˆ†å‰²)<br>Unsupervised Continual Semantic Adaptation through Neural Rendering è¯­ä¹‰åˆ†å‰²<br><a href="https://github.com/xxm19/jacobinerf">https://github.com/xxm19/jacobinerf</a>è¯­ä¹‰åˆ†å‰²<br><a href="https://nihalsid.github.io/panoptic-lifting/">Panoptic Lifting (nihalsid.github.io)</a>ä»é‡å¤–åœºæ™¯çš„å›¾åƒä¸­å­¦ä¹ å…¨æ™¯ä¸‰ç»´ä½“ç§¯è¡¨ç¤ºçš„æ–°æ–¹æ³•<br><a href="https://arxiv.org/abs/2303.05251">[2303.05251] Masked Image Modeling with Local Multi-Scale Reconstruction (arxiv.org)</a>æœ¬åœ°å¤šå°ºåº¦é‡æ„</p><h2 id="RGBDå®æ—¶è·Ÿè¸ªä¸3Dé‡å»º"><a href="#RGBDå®æ—¶è·Ÿè¸ªä¸3Dé‡å»º" class="headerlink" title="RGBDå®æ—¶è·Ÿè¸ªä¸3Dé‡å»º"></a>RGBDå®æ—¶è·Ÿè¸ªä¸3Dé‡å»º</h2><p><a href="https://bundlesdf.github.io/">https://bundlesdf.github.io/</a><br><a href="https://rllab-snu.github.io/projects/RNR-Map/">https://rllab-snu.github.io/projects/RNR-Map/</a>(è§†è§‰å¯¼èˆª)</p><h2 id="æœºå™¨äººæ„ŸçŸ¥-æŠ“å–æ„ŸçŸ¥"><a href="#æœºå™¨äººæ„ŸçŸ¥-æŠ“å–æ„ŸçŸ¥" class="headerlink" title="æœºå™¨äººæ„ŸçŸ¥,æŠ“å–æ„ŸçŸ¥"></a>æœºå™¨äººæ„ŸçŸ¥,æŠ“å–æ„ŸçŸ¥</h2><p><a href="https://bland.website/spartn/">https://bland.website/spartn/</a></p><h2 id="åœºæ™¯è¯†åˆ«recognition"><a href="#åœºæ™¯è¯†åˆ«recognition" class="headerlink" title="åœºæ™¯è¯†åˆ«recognition"></a>åœºæ™¯è¯†åˆ«recognition</h2><p><a href="https://alexeybokhovkin.github.io/neural-part-priors/">Neural Part Priors: Learning to Optimize Part-Based Object Completion in RGB-D Scans (alexeybokhovkin.github.io)</a>åˆ©ç”¨å¤§è§„æ¨¡åˆæˆçš„3Då½¢çŠ¶æ•°æ®é›†ï¼Œå…¶ä¸­åŒ…å«éƒ¨åˆ†ä¿¡æ¯çš„æ³¨é‡Šï¼Œæ¥å­¦ä¹ ç¥ç»éƒ¨åˆ†å…ˆéªŒï¼ˆNPPsï¼‰</p><h2 id="è§†è§‰é‡å®šä½å™¨"><a href="#è§†è§‰é‡å®šä½å™¨" class="headerlink" title="è§†è§‰é‡å®šä½å™¨"></a>è§†è§‰é‡å®šä½å™¨</h2><p><a href="https://nianticlabs.github.io/ace/">ACE: Accelerated Coordinate Encoding (nianticlabs.github.io)</a></p><h2 id="äººç±»"><a href="#äººç±»" class="headerlink" title="äººç±»"></a>äººç±»</h2><h3 id="äººä½“é‡å»º"><a href="#äººä½“é‡å»º" class="headerlink" title="äººä½“é‡å»º"></a>äººä½“é‡å»º</h3><p><a href="https://github.com/JanaldoChen/GM-NeRF">https://github.com/JanaldoChen/GM-NeRF</a>(å¯æ³›åŒ–)<br><a href="https://yzmblog.github.io/projects/MonoHuman/">https://yzmblog.github.io/projects/MonoHuman/</a>(,æ–‡æœ¬äº¤äº’)<br>HumanGen: Generating Human Radiance Fields with Explicit Priors<br><a href="https://paperswithcode.com/paper/personnerf-personalized-reconstruction-from">PersonNeRF: Personalized Reconstruction from Photo Collections | Papers With Code</a><br><a href="https://grail.cs.washington.edu/projects/personnerf/">https://grail.cs.washington.edu/projects/personnerf/</a><br><a href="https://zju3dv.github.io/mlp_maps/">https://zju3dv.github.io/mlp_maps/</a>åŠ¨æ€äººä½“å»ºæ¨¡<br><a href="https://skhu101.github.io/SHERF/">https://skhu101.github.io/SHERF/</a></p><h3 id="äººè„¸æ¸²æŸ“"><a href="#äººè„¸æ¸²æŸ“" class="headerlink" title="äººè„¸æ¸²æŸ“"></a>äººè„¸æ¸²æŸ“</h3><p><a href="https://kunhao-liu.github.io/StyleRF/">https://kunhao-liu.github.io/StyleRF/</a>(é«˜è´¨é‡äººè„¸)<br><a href="https://yudeng.github.io/GRAMInverter/">https://yudeng.github.io/GRAMInverter/</a>(å•è§†å›¾äººåƒåˆæˆ)<br>NeRF-Gaze: A Head-Eye Redirection Parametric Model for Gaze Estimation(è§†çº¿é‡å®šå‘)<br><a href="https://malteprinzler.github.io/projects/diner/diner.html">https://malteprinzler.github.io/projects/diner/diner.html</a>äººè„¸å»ºæ¨¡,æ·±åº¦ç›‘ç£</p><h3 id="Gaze-redirection-è§†çº¿é‡å®šå‘"><a href="#Gaze-redirection-è§†çº¿é‡å®šå‘" class="headerlink" title="Gaze redirection è§†çº¿é‡å®šå‘"></a>Gaze redirection è§†çº¿é‡å®šå‘</h3><p><a href="https://github.com/AlessandroRuzzi/GazeNeRF">https://github.com/AlessandroRuzzi/GazeNeRF</a></p><h3 id="æ‰‹éƒ¨é‡å»º"><a href="#æ‰‹éƒ¨é‡å»º" class="headerlink" title="æ‰‹éƒ¨é‡å»º"></a>æ‰‹éƒ¨é‡å»º</h3><p>HandNeRF: Neural Radiance Fields for Animatable Interacting Hands</p><h2 id="è‡ªæ‹VR"><a href="#è‡ªæ‹VR" class="headerlink" title="è‡ªæ‹VR"></a>è‡ªæ‹VR</h2><p><a href="https://changwoon.info/publications/EgoNeRF">https://changwoon.info/publications/EgoNeRF</a></p><h2 id="ç”µå½±å‰ªè¾‘"><a href="#ç”µå½±å‰ªè¾‘" class="headerlink" title="ç”µå½±å‰ªè¾‘"></a>ç”µå½±å‰ªè¾‘</h2><p><a href="https://www.lix.polytechnique.fr/vista/projects/2023_cvpr_wang/">https://www.lix.polytechnique.fr/vista/projects/2023_cvpr_wang/</a></p><h2 id="6-DoF-Video"><a href="#6-DoF-Video" class="headerlink" title="6-DoF Video"></a>6-DoF Video</h2><p><a href="https://hyperreel.github.io/">HyperReel: High-Fidelity 6-DoF Video with Ray-Conditioned Sampling</a></p><h1 id="Datasets"><a href="#Datasets" class="headerlink" title="Datasets"></a>Datasets</h1><p><a href="https://omniobject3d.github.io/">OmniObject3D: Large-Vocabulary 3D Object Dataset for Realistic Perception, Reconstruction and Generation</a><br><a href="https://gaplab.cuhk.edu.cn/projects/MVImgNet/#table_stat">MVImgNet (cuhk.edu.cn)</a><br><a href="https://eyecan-ai.github.io/rene/">ReNÃ© (eyecan-ai.github.io)</a><br><a href="https://arxiv.org/abs/2303.01932">[2303.01932] MobileBrick: Building LEGO for 3D Reconstruction on Mobile Devices (arxiv.org)</a></p><h1 id="æ‰©æ•£æ¨¡å‹"><a href="#æ‰©æ•£æ¨¡å‹" class="headerlink" title="æ‰©æ•£æ¨¡å‹"></a>æ‰©æ•£æ¨¡å‹</h1><p><a href="https://sirwyver.github.io/DiffRF/">https://sirwyver.github.io/DiffRF/</a><br><a href="https://github.com/nianticlabs/diffusionerf">https://github.com/nianticlabs/diffusionerf</a><br>NeRDi: Single-View NeRF Synthesis with Language-Guided Diffusion as General Image Priorsæ‰©æ•£æ¨¡å‹,è¯­è¨€å¼•å¯¼<br><a href="https://research.nvidia.com/labs/toronto-ai/NFLDM/">https://research.nvidia.com/labs/toronto-ai/NFLDM/</a>åœºæ™¯ç”Ÿæˆ<br><a href="https://poseguided-diffusion.github.io/">https://poseguided-diffusion.github.io/</a>è§†å›¾åˆæˆ NeRF-GAN NeRF-Diffusion<br><a href="https://make-it-3d.github.io/">https://make-it-3d.github.io/</a>3D Creation, NeRF-Diffusion<br><a href="https://samsunglabs.github.io/NeuralHaircut/">https://samsunglabs.github.io/NeuralHaircut/</a>Hair Reconstruction, NeRF-Diffusion</p><h1 id="3Dé£æ ¼è¿ç§»"><a href="#3Dé£æ ¼è¿ç§»" class="headerlink" title="3Dé£æ ¼è¿ç§»"></a>3Dé£æ ¼è¿ç§»</h1><p><a href="https://github.com/sen-mao/3di2i-translation">https://github.com/sen-mao/3di2i-translation</a><br><a href="https://kunhao-liu.github.io/StyleRF/">https://kunhao-liu.github.io/StyleRF/</a><br>Transforming Radiance Field with Lipschitz Network for Photorealistic 3D Scene Stylization<br><a href="https://ref-npr.github.io/">https://ref-npr.github.io/</a>(3Dåœºæ™¯é£æ ¼åŒ–)</p><h1 id="text-to-3D"><a href="#text-to-3D" class="headerlink" title="text to 3D"></a>text to 3D</h1><p><a href="https://research.nvidia.com/labs/dir/magic3d/">https://research.nvidia.com/labs/dir/magic3d/</a><br><a href="https://github.com/eladrich/latent-nerf">https://github.com/eladrich/latent-nerf</a><br><a href="https://bluestyle97.github.io/dream3d/">https://bluestyle97.github.io/dream3d/</a>CLIP, Text-to-3D,æ‰©æ•£æ¨¡å‹,é›¶æ ·æœ¬<br><a href="https://dreambooth3d.github.io/">https://dreambooth3d.github.io/</a><br><a href="https://sked-paper.github.io/">https://sked-paper.github.io/</a><br><a href="https://avatar-craft.github.io/">https://avatar-craft.github.io/</a>Text-to-Avatars<br><a href="https://arxiv.org/abs/2305.02541">[2305.02541] Catch Missing Details: Image Reconstruction with Frequency Augmented Variational Autoencoder (arxiv.org)</a></p><h1 id="å¯ç¼–è¾‘"><a href="#å¯ç¼–è¾‘" class="headerlink" title="å¯ç¼–è¾‘"></a>å¯ç¼–è¾‘</h1><p><a href="https://ktertikas.github.io/part_nerf">https://ktertikas.github.io/part_nerf</a>(éƒ¨åˆ†)<br><a href="https://zju3dv.github.io/sine/">https://zju3dv.github.io/sine/</a><br><a href="https://spinnerf3d.github.io/">https://spinnerf3d.github.io/</a>(ç§»é™¤ç‰©ä½“)<br><a href="https://jetd1.github.io/nerflets-web/">https://jetd1.github.io/nerflets-web/</a>(é«˜æ•ˆå’Œç»“æ„æ„ŸçŸ¥çš„ä¸‰ç»´åœºæ™¯è¡¨ç¤º, å¤§è§„æ¨¡ï¼Œå®¤å†…å®¤å¤–ï¼Œåœºæ™¯ç¼–è¾‘ï¼Œå…¨æ™¯åˆ†å‰²)<br><a href="https://jingsenzhu.github.io/i2-sdf/">https://jingsenzhu.github.io/i2-sdf/</a>(å®¤å†…é‡å»º,å¯ç¼–è¾‘,é‡å…‰ç…§)<br><a href="https://github.com/yizhangphd/FreqPCR">https://github.com/yizhangphd/FreqPCR</a>(å¯ç¼–è¾‘,ç‚¹äº‘æ¸²æŸ“,å®æ—¶)<br><a href="https://chengwei-zheng.github.io/EditableNeRF/">https://chengwei-zheng.github.io/EditableNeRF/</a><br><a href="https://snap-research.github.io/discoscene/">https://snap-research.github.io/discoscene/</a><br><a href="https://nianticlabs.github.io/nerf-object-removal/">https://nianticlabs.github.io/nerf-object-removal/</a><br><a href="https://palettenerf.github.io/">https://palettenerf.github.io/</a>å¤–è§‚ç¼–è¾‘<br><a href="https://zju3dv.github.io/intrinsic_nerf/">https://zju3dv.github.io/intrinsic_nerf/</a></p><h1 id="åŠ¨æ€åœºæ™¯"><a href="#åŠ¨æ€åœºæ™¯" class="headerlink" title="åŠ¨æ€åœºæ™¯"></a>åŠ¨æ€åœºæ™¯</h1><p><a href="https://caoang327.github.io/HexPlane/">https://caoang327.github.io/HexPlane/</a><br><a href="https://dylin2023.github.io/">https://dylin2023.github.io/</a><br><a href="https://haithemturki.com/suds/">https://haithemturki.com/suds/</a>(åŸå¸‚åŠ¨æ€åœºæ™¯)<br><a href="https://github.com/JokerYan/NeRF-DS">https://github.com/JokerYan/NeRF-DS</a>(å…‰ç…§åå°„)<br><a href="https://robust-dynrf.github.io/">https://robust-dynrf.github.io/</a><br><a href="https://limacv.github.io/VideoLoop3D_web/">https://limacv.github.io/VideoLoop3D_web/</a><br><a href="https://nowheretrix.github.io/Instant-NVR/">https://nowheretrix.github.io/Instant-NVR/</a>äººæœºäº¤äº’,åŠ¨æ€åœºæ™¯<br><a href="https://sungheonpark.github.io/tempinterpnerf/">https://sungheonpark.github.io/tempinterpnerf/</a><br><a href="https://aoliao12138.github.io/ReRF/">https://aoliao12138.github.io/ReRF/</a><br><a href="https://fengres.github.io/mixvoxels/">https://fengres.github.io/mixvoxels/</a><br><a href="https://robust-dynrf.github.io/">RoDynRF: Robust Dynamic Radiance Fields (robust-dynrf.github.io)</a><br><a href="https://sarafridov.github.io/K-Planes/">K-Plane (sarafridov.github.io)</a><br><a href="https://caoang327.github.io/HexPlane/">HexPlane (caoang327.github.io)</a></p><h1 id="å¤šæ¨¡æ€"><a href="#å¤šæ¨¡æ€" class="headerlink" title="å¤šæ¨¡æ€"></a>å¤šæ¨¡æ€</h1><p><a href="https://yccyenchicheng.github.io/SDFusion/">SDFusion: Multimodal 3D Shape Completion, Reconstruction, and Generation (yccyenchicheng.github.io)</a></p><p>æ··åˆè¡¨è¾¾SDF,é«˜æ•ˆå¯†é›†SLAM<br><a href="https://www.idiap.ch/paper/eslam/">https://www.idiap.ch/paper/eslam/</a><br><a href="https://hengyiwang.github.io/projects/CoSLAM">https://hengyiwang.github.io/projects/CoSLAM</a>NeRF-based SLAM<br><a href="https://kxhit.github.io/vMAP">https://kxhit.github.io/vMAP</a>NeRF-based SLAM, RGBD<br>Audio Driven<br><a href="https://github.com/Fictionarry/ER-NeRF">https://github.com/Fictionarry/ER-NeRF</a></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Review </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FlexiCubes</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/FlexiCubes/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/FlexiCubes/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Flexible Isosurface Extraction for Gradient-Based Mesh Optimization</th></tr></thead><tbody><tr><td>Author</td><td>Shen, Tianchang and Munkberg, Jacob and Hasselgren, Jon and Yin, Kangxue and Wang, Zian and Chen, Wenzheng and Gojcic, Zan and Fidler, Sanja and Sharp, Nicholas and Gao, Jun</td></tr><tr><td>Conf/Jour</td><td>ACM Trans. on Graph. (SIGGRAPH 2023)</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://research.nvidia.com/labs/toronto-ai/flexicubes/">Flexible Isosurface Extraction for Gradient-Based Mesh Optimization (FlexiCubes) (nvidia.com)</a></td></tr><tr><td>Paper</td><td><a href="https://nv-tlabs.github.io/flexicubes_website/FlexiCubes_paper.pdf">Flexible Isosurface Extraction for Gradient-Based Mesh Optimization (nv-tlabs.github.io)</a></td></tr></tbody></table></div><p>ä¸€ç§æ–°çš„Marching Cubeçš„æ–¹æ³•<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230917211425.png" alt="image.png"></p><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>è¿™é¡¹å·¥ä½œè€ƒè™‘äº†åŸºäºæ¢¯åº¦çš„meshä¼˜åŒ–ï¼Œå…¶ä¸­æˆ‘ä»¬é€šè¿‡å°†å…¶è¡¨ç¤ºä¸ºæ ‡é‡åœºçš„ç­‰å€¼é¢æ¥è¿­ä»£ä¼˜åŒ–3Dè¡¨é¢meshï¼Œè¿™æ˜¯ä¸€ç§è¶Šæ¥è¶Šæ™®éçš„åº”ç”¨èŒƒä¾‹ï¼ŒåŒ…æ‹¬æ‘„å½±æµ‹é‡ï¼Œç”Ÿæˆå»ºæ¨¡å’Œé€†ç‰©ç†ã€‚ç°æœ‰çš„å®ç°é‡‡ç”¨ç»å…¸çš„ç­‰å€¼é¢æå–ç®—æ³•ï¼Œå¦‚Marching Cubesæˆ–Dual contoring;è¿™äº›æŠ€æœ¯æ—¨åœ¨ä»å›ºå®šçš„ã€å·²çŸ¥çš„åŒºåŸŸä¸­æå–meshï¼Œåœ¨ä¼˜åŒ–è®¾ç½®ä¸­ï¼Œå®ƒä»¬ç¼ºä¹è‡ªç”±åº¦æ¥è¡¨ç¤ºé«˜è´¨é‡çš„ç‰¹å¾ä¿ç•™meshï¼Œæˆ–è€…é­å—æ•°å€¼ä¸ç¨³å®šæ€§çš„å½±å“ã€‚æˆ‘ä»¬ä»‹ç»FlexiCubesï¼Œè¿™æ˜¯ä¸€ç§ä¸“ä¸ºä¼˜åŒ–å‡ ä½•ã€è§†è§‰ç”šè‡³ç‰©ç†ç›®æ ‡çš„æœªçŸ¥meshè€Œè®¾è®¡çš„ç­‰é¢è¡¨ç¤ºã€‚æˆ‘ä»¬çš„ä¸»è¦è§è§£æ˜¯åœ¨è¡¨ç¤ºä¸­å¼•å…¥é¢å¤–çš„ç²¾å¿ƒé€‰æ‹©çš„å‚æ•°ï¼Œè¿™å…è®¸å¯¹æå–çš„meshå‡ ä½•å½¢çŠ¶å’Œè¿æ¥æ€§è¿›è¡Œå±€éƒ¨çµæ´»è°ƒæ•´ã€‚å½“é’ˆå¯¹ä¸‹æ¸¸ä»»åŠ¡è¿›è¡Œä¼˜åŒ–æ—¶ï¼Œè¿™äº›å‚æ•°é€šè¿‡è‡ªåŠ¨å¾®åˆ†ä¸åº•å±‚æ ‡é‡å­—æ®µä¸€èµ·æ›´æ–°ã€‚<strong>æˆ‘ä»¬åŸºäºåŒè¡Œå†›ç«‹æ–¹ä½“çš„æå–æ–¹æ¡ˆæ¥æ”¹è¿›æ‹“æ‰‘ç‰¹æ€§ï¼Œå¹¶æä¾›æ‰©å±•ä»¥å¯é€‰åœ°ç”Ÿæˆå››é¢ä½“å’Œå±‚æ¬¡è‡ªé€‚åº”mesh</strong>ã€‚å¤§é‡çš„å®éªŒéªŒè¯äº†FlexiCubesåœ¨åˆæˆåŸºå‡†æµ‹è¯•å’Œå®é™…åº”ç”¨ä¸­çš„åº”ç”¨ï¼Œè¡¨æ˜å®ƒåœ¨meshè´¨é‡å’Œå‡ ä½•ä¿çœŸåº¦æ–¹é¢æä¾›äº†æ˜¾ç€çš„æ”¹è¿›ã€‚</p><p>KWï¼š</p><ul><li>Computing methodologies â†’ Mesh geometry models;Shape representations; Reconstruction.</li><li>isosurface extraction, gradient-based mesh optimization, photogrammetryæ‘„å½±æµ‹é‡, generative models</li></ul><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä»è®¡ç®—æœºå›¾å½¢å­¦åˆ°æœºå™¨äººæŠ€æœ¯ï¼Œè¡¨é¢meshåœ¨è¡¨ç¤ºã€ä¼ è¾“å’Œç”Ÿæˆ3Då‡ ä½•å›¾å½¢æ–¹é¢å‘æŒ¥ç€æ— å¤„ä¸åœ¨çš„ä½œç”¨ã€‚åœ¨è®¸å¤šå…¶ä»–ä¼˜ç‚¹ä¸­ï¼Œè¡¨é¢meshæä¾›äº†ä»»æ„è¡¨é¢çš„ç®€æ˜è€Œå‡†ç¡®çš„ç¼–ç ï¼Œå—ç›Šäºé«˜æ•ˆçš„ç¡¬ä»¶åŠ é€Ÿæ¸²æŸ“ï¼Œå¹¶æ”¯æŒåœ¨ç‰©ç†æ¨¡æ‹Ÿå’Œå‡ ä½•å¤„ç†ä¸­æ±‚è§£æ–¹ç¨‹</p><p>ç„¶è€Œï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„meshéƒ½æ˜¯ä¸€æ ·çš„â€”â€”ä¸Šé¢çš„å±æ€§é€šå¸¸åªæœ‰åœ¨é«˜è´¨é‡çš„meshä¸Šæ‰èƒ½å®ç°ã€‚äº‹å®ä¸Šï¼Œmeshä¸­æœ‰è¿‡å¤šçš„å…ƒç´ ï¼Œsuffer from self-intersectionså’Œsliver elementsï¼Œæˆ–poorlyæ•è·åº•å±‚å‡ ä½•ï¼Œå¯èƒ½å®Œå…¨ä¸é€‚åˆä¸‹æ¸¸ä»»åŠ¡ã€‚<strong>å› æ­¤ï¼Œç”Ÿæˆç‰¹å®šå½¢çŠ¶çš„é«˜è´¨é‡meshéå¸¸é‡è¦ï¼Œä½†è¿œéå¾®ä¸è¶³é“ï¼Œé€šå¸¸éœ€è¦å¤§é‡çš„æ‰‹å·¥å·¥ä½œ</strong>ã€‚</p><p>æœ€è¿‘ç®—æ³•å†…å®¹åˆ›å»ºå’Œç”Ÿæˆå¼3Då»ºæ¨¡å·¥å…·çš„çˆ†ç‚¸å¼å¢é•¿å¯¼è‡´å¯¹è‡ªåŠ¨meshç”Ÿæˆçš„éœ€æ±‚å¢åŠ ã€‚äº‹å®ä¸Šï¼Œåˆ¶ä½œé«˜è´¨é‡meshçš„ä»»åŠ¡ï¼Œä¼ ç»Ÿä¸Šæ˜¯ç†Ÿç»ƒçš„æŠ€æœ¯è‰ºæœ¯å®¶å’Œå»ºæ¨¡è€…çš„é¢†åŸŸï¼Œè¶Šæ¥è¶Šå¤šåœ°é€šè¿‡è‡ªåŠ¨ç®—æ³•ç®¡é“æ¥è§£å†³ã€‚è¿™äº›é€šå¸¸åŸºäºå¯å¾®åˆ†meshç”Ÿæˆï¼Œå³å‚æ•°åŒ–ä¸‰ç»´è¡¨é¢meshç©ºé—´ï¼Œå¹¶é€šè¿‡åŸºäºæ¢¯åº¦çš„æŠ€æœ¯å¯¹å„ç§ç›®æ ‡è¿›è¡Œä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œé€†æ¸²æŸ“ç­‰åº”ç”¨[Hasselgren et al. 2022;Munkberg et al. 2022]ï¼Œç»“æ„ä¼˜åŒ–[Subedi et al. 2020]ï¼Œç”Ÿæˆå¼3Då»ºæ¨¡[Gao et al. 2022;Linç­‰äººã€‚2022]éƒ½åˆ©ç”¨äº†è¿™ä¸ªåŸºæœ¬æ„å»ºå—ã€‚åœ¨ä¸€ä¸ªå®Œç¾çš„ä¸–ç•Œé‡Œï¼Œè¿™æ ·çš„åº”ç”¨ç¨‹åºå°†ç®€å•åœ°å¯¹ä¸€äº›meshè¡¨ç¤ºæ‰§è¡ŒnaÃ¯veæ¢¯åº¦ä¸‹é™æ¥ä¼˜åŒ–ä»–ä»¬æƒ³è¦çš„ç›®æ ‡ã€‚<strong>ç„¶è€Œï¼Œä»å¦‚ä½•ä¼˜åŒ–ä¸åŒæ‹“æ‰‘çš„meshçš„åŸºæœ¬é—®é¢˜åˆ°ç°æœ‰å…¬å¼ç¼ºä¹ç¨³å®šæ€§å’Œé²æ£’æ€§å¯¼è‡´ä¸å¯æŒ½å›çš„ä½è´¨é‡meshè¾“å‡ºï¼Œè®¸å¤šéšœç¢é˜»ç¢äº†è¿™ç§å·¥ä½œæµç¨‹çš„å®ç°</strong>ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å…¬å¼ï¼Œä½¿æˆ‘ä»¬æ›´æ¥è¿‘è¿™ä¸€ç›®æ ‡ï¼Œæ˜¾ç€æé«˜äº†å„ç§ä¸‹æ¸¸ä»»åŠ¡ä¸­å¯å¾®meshç”Ÿæˆçš„æ˜“ç”¨æ€§å’Œè´¨é‡ã€‚</p><p>ç›´æ¥ä¼˜åŒ–meshçš„é¡¶ç‚¹ä½ç½®å¾ˆå®¹æ˜“æˆä¸ºé€€åŒ–å’Œå±€éƒ¨æœ€å°å€¼çš„å—å®³è€…ï¼Œé™¤ééå¸¸ä»”ç»†åœ°åˆå§‹åŒ–ï¼Œé‡æ–°meshåŒ–å’Œæ­£åˆ™åŒ–ä½¿ç”¨[Liu et al. 2019;Nicolet et al. 2021;Wang et al. 2018]ã€‚<strong>å› æ­¤ï¼Œä¸€ä¸ªå¸¸è§çš„èŒƒä¾‹æ˜¯åœ¨ç©ºé—´ä¸­å®šä¹‰å’Œä¼˜åŒ–æ ‡é‡åœºæˆ–ç¬¦å·è·ç¦»å‡½æ•°(SDF)ï¼Œç„¶åæå–ä¸€ä¸ªæ¥è¿‘è¯¥å‡½æ•°çš„æ°´å¹³é›†çš„ä¸‰è§’å½¢mesh</strong>ã€‚æ ‡é‡å‡½æ•°è¡¨ç¤ºå’Œmeshæå–æ–¹å¼çš„é€‰æ‹©å¯¹ç®¡é“æ•´ä½“ä¼˜åŒ–çš„æ€§èƒ½å½±å“å¾ˆå¤§ã€‚ä»æ ‡é‡åœºä¸­æå–meshçš„ä¸€ä¸ªå¾®å¦™ä½†é‡è¦çš„æŒ‘æˆ˜æ˜¯å¯èƒ½ç”Ÿæˆçš„meshç©ºé—´å¯èƒ½å—åˆ°é™åˆ¶ã€‚æ­£å¦‚æˆ‘ä»¬ç¨åå°†å±•ç¤ºçš„é‚£æ ·ï¼Œ<strong>ç”¨äºæå–ä¸‰è§’å½¢meshçš„ç‰¹å®šç®—æ³•çš„é€‰æ‹©ç›´æ¥å†³å®šäº†ç”Ÿæˆå½¢çŠ¶çš„å±æ€§</strong>ã€‚</p><p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬ç¡®å®šäº†meshç”Ÿæˆè¿‡ç¨‹åº”è¯¥æä¾›çš„ä¸¤ä¸ªå…³é”®å±æ€§ï¼Œä»¥ä¾¿å¯¹ä¸‹æ¸¸ä»»åŠ¡è¿›è¡Œç®€å•ã€é«˜æ•ˆå’Œé«˜è´¨é‡çš„ä¼˜åŒ–:</p><ul><li>Gradï¼šå¯¹äºmeshçš„å¾®åˆ†å®šä¹‰è‰¯å¥½ï¼Œå¹¶ä¸”åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–åœ¨å®è·µä¸­æœ‰æ•ˆæ”¶æ•›ã€‚</li><li>Flexibleï¼šmeshé¡¶ç‚¹å¯ä»¥å•ç‹¬å’Œå±€éƒ¨è°ƒæ•´ï¼Œä»¥é€‚åº”è¡¨é¢ç‰¹å¾ï¼Œå¹¶æ‰¾åˆ°å…·æœ‰å°‘é‡å…ƒç´ çš„é«˜è´¨é‡meshã€‚</li></ul><p>ç„¶è€Œï¼Œè¿™ä¸¤ä¸ªå±æ€§æœ¬è´¨ä¸Šæ˜¯å†²çªçš„ã€‚<strong>å¢åŠ çš„çµæ´»æ€§</strong>æä¾›äº†æ›´å¤šçš„èƒ½åŠ›æ¥è¡¨ç¤ºé€€åŒ–å‡ ä½•å’Œè‡ªäº¤ï¼Œè¿™<strong>é˜»ç¢äº†åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–çš„æ”¶æ•›</strong>ã€‚<br>å› æ­¤ï¼Œç°æœ‰çš„æŠ€æœ¯[Lorensen and Cline 1987;Remelli et al. 2020;Shen et al. 2021]é€šå¸¸ä¼šå¿½ç•¥ä¸¤ä¸ªå±æ€§ä¸­çš„ä¸€ä¸ª(è¡¨1)ã€‚</p><ul><li>ä¾‹å¦‚ï¼Œå¹¿æ³›ä½¿ç”¨çš„Marching Cubesè¿‡ç¨‹[Lorensen and Cline 1987]å¹¶ä¸çµæ´»ï¼Œå› ä¸ºé¡¶ç‚¹æ€»æ˜¯æ²¿ç€å›ºå®šçš„æ™¶æ ¼ï¼Œå› æ­¤ç”Ÿæˆçš„meshæ°¸è¿œä¸ä¼šä¸éè½´å‘å¯¹é½çš„å°–é”ç‰¹å¾å¯¹é½(å›¾1)ã€‚</li><li>å¹¿ä¹‰çš„MarchingæŠ€æœ¯ä¼šä½¿åº•å±‚gridå˜å½¢[Gao et al. 2020;Shen et al. 2021]ï¼Œä½†ä»ç„¶ä¸å…è®¸è°ƒæ•´å•ä¸ªé¡¶ç‚¹ï¼Œå¯¼è‡´sliver elementså’Œä¸å®Œç¾æ‹Ÿåˆã€‚å¦ä¸€æ–¹é¢ï¼ŒåŒè½®å»“(Dual contourting) [Ju et al. 2002]å› å…¶æ•æ‰å°–é”ç‰¹å¾çš„èƒ½åŠ›è€Œå¹¿å—æ¬¢è¿ï¼Œä½†ç¼ºä¹gradã€‚ä½¿ç”¨çº¿æ€§ç³»ç»Ÿå®šä½é¡¶ç‚¹ä¼šå¯¼è‡´ä¸ç¨³å®šå’Œæ— æ•ˆçš„ä¼˜åŒ–ã€‚ç¬¬2èŠ‚å’Œè¡¨1å¯¹è¿‡å»çš„å·¥ä½œè¿›è¡Œäº†è¯¦ç»†åˆ†ç±»ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230915151732.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230915151827.png" alt="image.png"></p><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§åä¸ºFlexiCubesçš„æ–°æŠ€æœ¯ï¼Œå®ƒæ»¡è¶³äº†è¿™ä¸¤ä¸ªæœŸæœ›çš„ç‰¹æ€§ã€‚æˆ‘ä»¬çš„è§è§£æ˜¯é‡‡ç”¨ç‰¹å®šçš„åŒè¡Œè¿›ç«‹æ–¹ä½“å…¬å¼(Dual Marching Cubes)ï¼Œå¹¶å¼•å…¥é¢å¤–çš„è‡ªç”±åº¦ï¼Œä»¥çµæ´»åœ°å®šä½æ¯ä¸ªæå–çš„é¡¶ç‚¹åœ¨å…¶åŒå•å…ƒå†…ã€‚æˆ‘ä»¬ä»”ç»†åœ°çº¦æŸäº†å…¬å¼ï¼Œä½¿å…¶åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ä»ç„¶äº§ç”Ÿæ— ç›¸äº¤çš„æµå½¢å’Œæ°´å¯†meshï¼Œä»è€Œå®ç°ç›¸å¯¹äºåº•å±‚meshçš„è‰¯å¥½å¾®åˆ†(Grad.)ã€‚</p><p>è¯¥å…¬å¼æœ€é‡è¦çš„ç‰¹æ€§æ˜¯åŸºäºæ¢¯åº¦çš„meshä¼˜åŒ–åœ¨å®è·µä¸­å§‹ç»ˆæˆåŠŸã€‚ä¸ºäº†è¯„ä¼°è¿™ç§å›ºæœ‰çš„ç»éªŒé—®é¢˜ï¼Œæˆ‘ä»¬å°†æœ¬å·¥ä½œçš„é‡è¦éƒ¨åˆ†ç”¨äºFlexiCubesåœ¨å‡ ä¸ªä¸‹æ¸¸ä»»åŠ¡ä¸Šçš„å¹¿æ³›è¯„ä¼°ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬è¯æ˜äº†æˆ‘ä»¬çš„é…æ–¹ä¸ºå„ç§meshç”Ÿæˆåº”ç”¨æä¾›äº†æ˜¾ç€çš„å¥½å¤„ï¼ŒåŒ…æ‹¬åå‘æ¸²æŸ“ï¼Œä¼˜åŒ–ç‰©ç†å’Œå‡ ä½•èƒ½é‡ï¼Œä»¥åŠç”Ÿæˆ3Då»ºæ¨¡ã€‚æ‰€å¾—çš„meshåœ¨ä½å…ƒç´ è®¡æ•°ä¸‹ç®€æ´åœ°æ•è·æ‰€éœ€çš„å‡ ä½•å½¢çŠ¶ï¼Œå¹¶æ˜“äºé€šè¿‡æ¢¯åº¦ä¸‹é™è¿›è¡Œä¼˜åŒ–ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æå‡ºäº†FlexiCubesçš„æ‰©å±•ï¼Œå¦‚é€šè¿‡åˆ†å±‚ç»†åŒ–è‡ªé€‚åº”è°ƒæ•´meshåˆ†è¾¨ç‡ï¼Œå¹¶è‡ªåŠ¨å¯¹åŸŸå†…éƒ¨è¿›è¡Œå››é¢ä½“åŒ–ã€‚ä¸è¿‡å»çš„æ–¹æ³•ç›¸æ¯”ï¼ŒåŸºå‡†æµ‹è¯•å’Œå®éªŒæ˜¾ç¤ºäº†è¯¥æŠ€æœ¯çš„ä»·å€¼ï¼Œæˆ‘ä»¬ç›¸ä¿¡å®ƒå°†æˆä¸ºè®¸å¤šåº”ç”¨é¢†åŸŸä¸­é«˜è´¨é‡meshç”Ÿæˆçš„æœ‰ä»·å€¼çš„å·¥å…·ã€‚ </p><h2 id="RELATED-WORK"><a href="#RELATED-WORK" class="headerlink" title="RELATED WORK"></a>RELATED WORK</h2><h3 id="Isosurface-Extraction"><a href="#Isosurface-Extraction" class="headerlink" title="Isosurface Extraction"></a>Isosurface Extraction</h3><p>ä¼ ç»Ÿçš„ç­‰å€¼é¢æ–¹æ³•æå–ä¸€ä¸ªè¡¨ç¤ºæ ‡é‡å‡½æ•°çš„æ°´å¹³é›†çš„å¤šè¾¹å½¢meshï¼Œè¿™ä¸ªé—®é¢˜å·²ç»åœ¨å¤šä¸ªé¢†åŸŸå¾—åˆ°äº†å¹¿æ³›çš„ç ”ç©¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å›é¡¾äº†ç‰¹åˆ«ç›¸å…³çš„å·¥ä½œï¼Œå¹¶å»ºè®®è¯»è€…å‚è€ƒDe AraÃºjoç­‰äºº[2015]çš„ä¼˜ç§€è°ƒæŸ¥(# A Survey on Implicit Surface Polygonization)ï¼Œä»¥è·å¾—å…¨é¢çš„æ¦‚è¿°ã€‚æ ¹æ®De AraÃºjoç­‰äºº[2015]ï¼Œæˆ‘ä»¬å°†ç­‰è¡¨é¢å¤„ç†æ–¹æ³•åˆ†ä¸ºä¸‰ç±»ï¼Œå¹¶å°†æœ€å¸¸ç”¨çš„æ–¹æ³•åˆ†ç±»åœ¨è¡¨1ä¸­ã€‚</p><ul><li>Spatial Decomposition.ç¬¬ä¸€ç±»æ–¹æ³•é€šè¿‡ç©ºé—´åˆ†è§£è·å¾—ç­‰å€¼é¢ï¼Œå°†ç©ºé—´åˆ’åˆ†ä¸ºç«‹æ–¹ä½“æˆ–å››é¢ä½“ç­‰å•å…ƒï¼Œå¹¶åœ¨åŒ…å«æ›²é¢çš„å•å…ƒå†…åˆ›å»ºå¤šè¾¹å½¢[Bloomenthal 1988;Bloomenthal et al. 1997]ã€‚<ul><li>è¡Œè¿›ç«‹æ–¹ä½“(Marching Cubes, MC) [Lorensen and Cline 1987]æ˜¯è¿™ä¸€ç±»ä¸­æœ€å…·ä»£è¡¨æ€§çš„æ–¹æ³•ã€‚æ­£å¦‚æœ€åˆæå‡ºçš„é‚£æ ·ï¼ŒMarching Cubesé­å—æ‹“æ‰‘æ¨¡ç³Šæ€§çš„å›°æ‰°ï¼Œéš¾ä»¥è¡¨ç¤ºå°–é”çš„ç‰¹å¾ã€‚</li><li>éšåçš„å·¥ä½œæ”¹è¿›äº†ä¸ºç«‹æ–¹ä½“åˆ†é…å¤šè¾¹å½¢ç±»å‹çš„æŸ¥æ‰¾è¡¨[Chernyaev 1995;Hege et al. 1997;Lewiner et al. 2003;Montani et al. 1994;å°¼å°”æ£®2003;Scopigno 1994]æˆ–å°†ç«‹æ–¹ä½“åˆ’åˆ†ä¸ºå››é¢ä½“[Bloomenthal 1994]ï¼Œå¹¶ä½¿ç”¨ç±»ä¼¼çš„Marching tetrahedra [Doi and Koide 1991]æ¥æå–ç­‰å€¼é¢ã€‚</li><li>ä¸ºäº†æ›´å¥½åœ°æ•æ‰å°–é”ç‰¹å¾ï¼ŒDual Contouring (DC) [Ju et al. 2002]å°†meshé¡¶ç‚¹æå–åˆ°æ¯ä¸ªå•å…ƒæ ¼çš„åŒé‡è¡¨ç¤ºï¼Œå¹¶æå‡ºæ ¹æ®å±€éƒ¨ç­‰å€¼é¢ç»†èŠ‚ä¼°è®¡é¡¶ç‚¹ä½ç½®ã€‚åŒè½®å»“æ‰©å±•åˆ°è‡ªé€‚åº”meshåˆ’åˆ†[Azernikovå’ŒFischer 2005]ï¼Œå¯ä»¥è¾“å‡ºå››é¢ä½“meshã€‚</li><li>å¦ä¸€ç§æ”¹è¿›çš„æ–¹æ³•æ˜¯åŒè¡Œè¿›ç«‹æ–¹ä½“(DMC) [Nielson 2004]ï¼Œå®ƒåˆ©ç”¨äº†è¡Œè¿›ç«‹æ–¹ä½“å’ŒåŒè½®å»“çš„å¥½å¤„ã€‚</li><li>æœ€è¿‘ï¼ŒNeural Marching Cubes [Chen and Zhang 2021]å’ŒNeural Dual contourting (NDC) [Chen et al. 2022b]æå‡ºäº†ä¸€ç§æ•°æ®é©±åŠ¨çš„æ–¹æ³•ï¼Œå°†æå–çš„meshå®šä½ä¸ºè¾“å…¥åŸŸçš„å‡½æ•°ã€‚<strong>å°½ç®¡åœ¨å·²çŸ¥æ ‡é‡åœºçš„æå–æ–¹é¢å–å¾—äº†å¾ˆå¤§è¿›å±•ï¼Œä½†å°†ç­‰æ›²é¢æ–¹æ³•åº”ç”¨äºåŸºäºæ¢¯åº¦çš„meshä¼˜åŒ–ä»ç„¶å…·æœ‰æŒ‘æˆ˜æ€§</strong>ã€‚</li></ul></li><li>Surface Tracking.ç¬¬äºŒç±»æ–¹æ³•åˆ©ç”¨æ›²é¢è·Ÿè¸ªï¼Œåˆ©ç”¨æ›²é¢æ ·æœ¬ä¹‹é—´çš„ç›¸é‚»ä¿¡æ¯æå–ç­‰å€¼é¢ã€‚<ul><li>è¡Œè¿›ä¸‰è§’å½¢[Hilton et al. 1996,1997]æ˜¯æœ€æ—©çš„ä»£è¡¨æ€§æ–¹æ³•ä¹‹ä¸€ï¼Œå®ƒåœ¨Delaunayçº¦æŸä¸‹ä»åˆå§‹ç‚¹è¿­ä»£åœ°å¯¹è¡¨é¢è¿›è¡Œä¸‰è§’åŒ–ã€‚ä»¥ä¸‹å·¥ä½œæ—¨åœ¨çº³å…¥é€‚åº”æ€§[Akkoucheå’ŒGalin 2001;Karkanis and Stewart 2001]æˆ–ä¸å°–é”ç‰¹å¾å¯¹é½[McCormick and Fisher 2002]ã€‚<strong>ç„¶è€Œï¼Œåœ¨æ›²é¢è·Ÿè¸ªæ¡†æ¶ä¸­åŸºäºæ¢¯åº¦çš„meshä¼˜åŒ–éœ€è¦é€šè¿‡ç¦»æ•£çš„è¿­ä»£æ›´æ–°è¿‡ç¨‹è¿›è¡Œå¾®åˆ†ï¼Œè¿™æ˜¯ä¸€é¡¹éå¸¸é‡è¦çš„å·¥ä½œ</strong>ã€‚</li></ul></li><li>Shrink Wrapping.ç¬¬ä¸‰ç±»çš„æ–¹æ³•ä¾èµ–äºç¼©å°çƒé¢mesh[Van Overveld and Wyvill 2004]ï¼Œæˆ–è€…è†¨èƒ€ä¸´ç•Œç‚¹[Stander and Hart 1995]æ¥åŒ¹é…ç­‰å€¼é¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›æ–¹æ³•ä»…é€‚ç”¨äºæœ‰é™çš„æ‹“æ‰‘æƒ…å†µï¼Œå¹¶ä¸”éœ€è¦æ‰‹åŠ¨é€‰æ‹©ä¸´ç•Œç‚¹[Bottino et al. 1996]ä»¥æ”¯æŒä»»æ„æ‹“æ‰‘ã€‚æ­¤å¤–ï¼Œé€šè¿‡æ”¶ç¼©è¿‡ç¨‹çš„å¾®åˆ†ä¹Ÿä¸æ˜¯ç›´æˆªäº†å½“çš„ï¼Œå› æ­¤<strong>è¿™äº›æ–¹æ³•ä¸å¤ªé€‚åˆåŸºäºæ¢¯åº¦çš„ä¼˜åŒ–</strong>ã€‚</li></ul><h3 id="Gradient-Based-Mesh-Optimization-in-ML"><a href="#Gradient-Based-Mesh-Optimization-in-ML" class="headerlink" title="Gradient-Based Mesh Optimization in ML"></a>Gradient-Based Mesh Optimization in ML</h3><p>éšç€æœºå™¨å­¦ä¹ (ML)çš„æœ€æ–°è¿›å±•ï¼Œä¸€äº›ç ”ç©¶æ¢ç´¢äº†ç”¨ç¥ç»ç½‘ç»œç”Ÿæˆ3Dmeshï¼Œç¥ç»ç½‘ç»œçš„å‚æ•°é€šè¿‡åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–åœ¨ä¸€äº›æŸå¤±å‡½æ•°ä¸‹è¿›è¡Œä¼˜åŒ–ã€‚æ—©æœŸçš„æ–¹æ³•è¯•å›¾é¢„å…ˆå®šä¹‰ç”Ÿæˆå½¢çŠ¶çš„æ‹“æ‰‘ç»“æ„ï¼Œä¾‹å¦‚çƒä½“[Chenç­‰äººï¼Œ2019;Hanocka et al. 2020;Kato et al. 2018;Wang et al. 2018]ï¼ŒåŸè¯­è”åˆ[Paschalidou et al. 2021;Tulsiani et al. 2017]æˆ–ä¸€ç»„åˆ†æ®µéƒ¨åˆ†[Sung et al. 2017;Yin et al. 2020;Zhu et al. 2018]ã€‚<strong>ç„¶è€Œï¼Œå®ƒä»¬æ³›åŒ–åˆ°å…·æœ‰å¤æ‚æ‹“æ‰‘çš„å¯¹è±¡çš„èƒ½åŠ›æœ‰é™</strong>ã€‚</p><ul><li>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒAtlasNet [Groueixç­‰äººï¼Œ2018]å°†3Då½¢çŠ¶è¡¨ç¤ºä¸ºå‚æ•°è¡¨é¢å…ƒç´ çš„é›†åˆï¼Œå°½ç®¡å®ƒä¸ç¼–ç è¿è´¯è¡¨é¢ã€‚Mesh R-CNN [Gkioxariç­‰äººï¼Œ2019]é¦–å…ˆé¢„æµ‹ç²—ç»“æ„ï¼Œç„¶åç»†åŒ–ä¸ºè¡¨é¢meshã€‚è¿™ç§ä¸¤é˜¶æ®µæ–¹æ³•å¯ä»¥ç”Ÿæˆå…·æœ‰ä¸åŒæ‹“æ‰‘çš„meshï¼Œ<strong>ä½†ç”±äºç¬¬äºŒé˜¶æ®µä»ç„¶ä¾èµ–äºmeshå˜å½¢ï¼Œå› æ­¤æ— æ³•çº æ­£ç¬¬ä¸€é˜¶æ®µçš„æ‹“æ‰‘è¯¯å·®</strong>ã€‚</li><li>PolyGen [Nash et al. 2020]æ¸è¿›å¼ç”Ÿæˆmeshé¡¶ç‚¹å’Œè¾¹ç¼˜ï¼Œ<strong>ä½†å®ƒä»¬åœ¨éœ€è¦3Dåœ°é¢çœŸå®æ•°æ®æ–¹é¢å—åˆ°é™åˆ¶</strong>ã€‚</li><li>cvnet [Dengç­‰äººï¼Œ2019]å’ŒBSPNet [Chenç­‰äººï¼Œ2020]è¯•å›¾ä½¿ç”¨å½¢çŠ¶æˆ–äºŒè¿›åˆ¶å¹³é¢çš„å‡¸åˆ†è§£æ¥è¿›è¡Œç©ºé—´åˆ’åˆ†ï¼Œ<strong>ä½†æ˜¯å°†å®ƒä»¬æ‰©å±•åˆ°meshä¸Šå®šä¹‰çš„å„ç§ç›®æ ‡æ˜¯éå¸¸é‡è¦çš„</strong>ã€‚</li></ul><p>æœ€è¿‘ï¼Œè®¸å¤šç ”ç©¶æ¢ç´¢äº†å¯å¾®meshé‡å»ºæ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä»éšå‡½æ•°ä¸­æå–ç­‰å€¼é¢ï¼Œé€šå¸¸é€šè¿‡å·ç§¯ç½‘ç»œæˆ–éšç¥ç»åœºè¿›è¡Œç¼–ç ã€‚</p><ul><li>Deep Marching Cubes [Liao et al. 2018]è®¡ç®—ç«‹æ–¹ä½“å†…å¯èƒ½æ‹“æ‰‘çš„æœŸæœ›ï¼Œéšç€gridåˆ†è¾¨ç‡çš„å¢åŠ ï¼Œå…¶å¯æ‰©å±•æ€§å¾ˆå·®ã€‚</li><li>MeshSDF [Remelli et al. 2020]é€šè¿‡meshæå–æå‡ºäº†ä¸€ç§ä¸“é—¨çš„æ¢¯åº¦é‡‡æ ·æ–¹æ¡ˆï¼Œè€ŒMehta et al.[2022]åˆ™ä»”ç»†é˜è¿°äº†ç¥ç»ç¯å¢ƒä¸‹çš„æ°´å¹³é›†è¿›åŒ–ã€‚</li><li>Def Tet [Gao et al. 2020]é¢„æµ‹äº†ä¸€ä¸ªå¯å˜å½¢çš„å››é¢ä½“gridæ¥è¡¨ç¤º3Då¯¹è±¡ã€‚</li><li>ä¸æˆ‘ä»¬çš„æ–¹æ³•æœ€ç›¸ä¼¼çš„æ˜¯DMTet [Shen et al. 2021]ï¼Œå®ƒåˆ©ç”¨å¯å¾®çš„Marching Tetrahedraå±‚æ¥æå–meshã€‚ç¬¬3èŠ‚æä¾›äº†å¯¹DMTetçš„æ·±å…¥åˆ†æã€‚</li></ul><h1 id="BACKGROUND-AND-MOTIVATION"><a href="#BACKGROUND-AND-MOTIVATION" class="headerlink" title="BACKGROUND AND MOTIVATION"></a>BACKGROUND AND MOTIVATION</h1><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆè®¨è®ºäº†å¸¸è§çš„ç°æœ‰ç­‰é¢æå–æ–¹æ¡ˆï¼Œä»¥äº†è§£å®ƒä»¬çš„ç¼ºç‚¹å¹¶æ¿€åŠ±æˆ‘ä»¬åœ¨ç¬¬4èŠ‚ä¸­æå‡ºçš„æ–¹æ³•ã€‚</p><p>Problem Statement.<br>å¦‚ç¬¬1èŠ‚æ‰€è¿°ï¼Œæˆ‘ä»¬å¯»æ±‚å¯å¾®meshä¼˜åŒ–çš„è¡¨ç¤ºï¼Œå…¶ä¸­åŸºæœ¬ç®¡é“æ˜¯:<br>i)åœ¨ç©ºé—´ä¸­å®šä¹‰æ ‡é‡å¸¦ç¬¦å·è·ç¦»å‡½æ•°<br>ii)å°†å…¶0-ç­‰å€¼é¢æå–ä¸ºä¸‰è§’å½¢mesh<br>iii)è¯„ä¼°è¯¥meshä¸Šçš„ç›®æ ‡å‡½æ•°<br>iv)å°†æ¢¯åº¦åå‘ä¼ æ’­åˆ°åº•å±‚æ ‡é‡å‡½æ•°ã€‚<br>ç›®å‰å¹¿æ³›åº”ç”¨äºç­‰å€¼é¢æå–çš„å‡ ç§æµè¡Œç®—æ³•åœ¨è¿™ç§å¯å¾®ç¯å¢ƒä¸‹ä»ç„¶å­˜åœ¨æ˜¾è‘—çš„é—®é¢˜ã€‚ä¸»è¦çš„æŒ‘æˆ˜æ˜¯ï¼Œ<strong>åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–çš„æœ‰æ•ˆæ€§å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºç­‰å€¼é¢æå–çš„ç‰¹å®šæœºåˆ¶</strong>:åœ¨åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–ä¸­ä½¿ç”¨æ—¶ï¼Œé™åˆ¶æ€§å‚æ•°åŒ–ã€æ•°å€¼ä¸ç¨³å®šè¡¨è¾¾å¼å’Œæ‹“æ‰‘éšœç¢éƒ½ä¼šå¯¼è‡´å¤±è´¥å’Œå·¥ä»¶ã€‚<br>æˆ‘ä»¬å¼ºè°ƒï¼Œæˆ‘ä»¬çš„FlexiCubesè¡¨ç¤ºä¸æ˜¯ç”¨äºä»å›ºå®šçš„ã€å·²çŸ¥çš„æ ‡é‡åœºä¸­æå–ç­‰å€¼é¢ï¼Œè¿™æ˜¯è¿‡å»å·¥ä½œä¸­è€ƒè™‘çš„ä¸»è¦æƒ…å†µã€‚ç›¸åï¼Œ<strong>æˆ‘ä»¬ç‰¹åˆ«è€ƒè™‘å¯å¾®meshä¼˜åŒ–ï¼Œå…¶ä¸­åº•å±‚æ ‡é‡åœºæ˜¯æœªçŸ¥çš„ï¼Œå¹¶ä¸”åœ¨åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­æ‰§è¡Œå¤šæ¬¡æå–</strong>ã€‚è¿™ç§è®¾ç½®æä¾›äº†æ–°çš„æŒ‘æˆ˜ï¼Œå¹¶æ¿€å‘äº†ä¸“é—¨çš„æ–¹æ³•ã€‚</p><p>Notation.<br>æˆ‘ä»¬è€ƒè™‘çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯ä»æ ‡é‡å‡½æ•°ä¸­æå–ç­‰å€¼é¢s: $\mathbb{R}^3\to\mathbb{R},$ï¼Œåœ¨è§„åˆ™gridçš„é¡¶ç‚¹é‡‡æ ·ï¼Œå¹¶åœ¨æ¯ä¸ªå•å…ƒå†…æ’å€¼ã€‚å‡½æ•°så¯ä»¥ç›´æ¥ç¦»æ•£ä¸ºgridé¡¶ç‚¹å¤„çš„å€¼ï¼Œæˆ–è€…ä»åº•å±‚ç¥ç»ç½‘ç»œä¸­è¯„ä¼°ç­‰ï¼Œç²¾ç¡®å‚æ•°åŒ–så¯¹ç­‰å€¼é¢æå–æ²¡æœ‰å½±å“ã€‚ä¸ºäº†æ¸…æ¥šèµ·è§ï¼Œé›†åˆXç”¨å•å…ƒæ ¼Cè¡¨ç¤ºgridçš„é¡¶ç‚¹ï¼Œè€Œ$M=(V,F)$è¡¨ç¤ºæœ€ç»ˆæå–çš„meshä¸é¡¶ç‚¹Vå’Œé¢Fï¼ æˆ‘ä»¬å«è“„åœ°è¶…è½½äº†$v\in V{\mathrm{~or~}}x\in X$æŒ‡ä¸€ä¸ªé€»è¾‘é¡¶ç‚¹ï¼Œæˆ–è€…æŒ‡é‚£ä¸ªé¡¶ç‚¹åœ¨ç©ºé—´ä¸­çš„ä½ç½®ï¼Œ$x\in\mathbb{R}^3.$ã€‚</p><h2 id="Marching-Cubes-amp-Tetrahedraå››é¢ä½“"><a href="#Marching-Cubes-amp-Tetrahedraå››é¢ä½“" class="headerlink" title="Marching Cubes &amp; Tetrahedraå››é¢ä½“"></a>Marching Cubes &amp; Tetrahedraå››é¢ä½“</h2><p>æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯æå–gridä¸Šæœ‰é¡¶ç‚¹çš„meshï¼Œæ¯ä¸ªgridå•å…ƒå†…æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªmeshé¢ï¼Œå¦‚Marching Cubes [Lorensen and Cline 1987]ï¼Œ Marching Tetrahedra [Doi and Koide 1991]ï¼Œä»¥åŠè®¸å¤šæ¨å¹¿æ–¹æ³•ã€‚meshé¡¶ç‚¹æ²¿ç€gridè¾¹ç¼˜æå–ï¼Œå…¶ä¸­çº¿æ€§æ’å€¼çš„æ ‡é‡å‡½æ•°æ”¹å˜ç¬¦å·<br>$u_e=\frac{x_a\cdot s(x_b)-x_b\cdot s(x_a)}{s(x_b)-s(x_a)}.$ Eq.1</p><p>å»–ç­‰[2018];Remelliç­‰äºº[2020]è§‚å¯Ÿåˆ°è¿™ä¸ªè¡¨è¾¾å¼åŒ…å«ä¸€ä¸ªå¥‡ç‚¹ï¼Œå½“$s(v_a)=s(v_b)$ï¼Œè¿™å¯èƒ½ä¼šé˜»ç¢å¾®åˆ†ä¼˜åŒ–ï¼Œå°½ç®¡Shenç­‰äºº[2021]æ³¨æ„åˆ°ï¼Œåœ¨æå–è¿‡ç¨‹ä¸­ï¼Œç­‰å¼1ä»æœªåœ¨å¥‡å¼‚æ¡ä»¶ä¸‹æ±‚å€¼ã€‚ç”Ÿæˆçš„meshæ€»æ˜¯æ— è‡ªäº¤(self-intersection-free)å’Œæµå½¢(manifold)çš„<br>ç„¶è€Œï¼Œé€šè¿‡æ„é€ ï¼Œé€šè¿‡marchingæå–å¾—åˆ°çš„meshé¡¶ç‚¹åªèƒ½ä½äºgridè¾¹ç¼˜çš„ç¨€ç–æ ¼ä¸Šã€‚è¿™æ ·å¯ä»¥é˜²æ­¢meshé€‚åˆå°–é”çš„ç‰¹å¾ï¼Œå¹¶ä¸”ä¸å¯é¿å…åœ°åœ¨ç­‰é¢çº¿ç»è¿‡é¡¶ç‚¹é™„è¿‘æ—¶åˆ›å»ºè´¨é‡è¾ƒå·®çš„ä¸‰è§’å½¢ã€‚æœ€è¿‘çš„æ–¹æ³•æå‡ºäº†è¶…è¶Šæœ´ç´ è‡ªå¾®åˆ†çš„æ–¹æ¡ˆæ¥è®¡ç®—åº•å±‚æ ‡é‡åœºçš„æ”¹è¿›æ¢¯åº¦[Mehta et al. 2022;Remelliç­‰äºº2020]ï¼Œä½†è¿™å¹¶æ²¡æœ‰è§£å†³meshæœ‰é™çš„è¾“å‡ºç©ºé—´ã€‚<br>ä¸€ç§æœ‰å¸Œæœ›çš„è¡¥æ•‘æªæ–½æ˜¯å…è®¸åº•å±‚gridé¡¶ç‚¹å˜å½¢[Gaoç­‰äººï¼Œ2020;Shen et al. 2021]ã€‚è™½ç„¶è¿™ç§æ³›åŒ–æ˜¾è‘—æé«˜äº†æ€§èƒ½ï¼Œä½†æå–çš„meshé¡¶ç‚¹ä»ç„¶ä¸èƒ½ç‹¬ç«‹ç§»åŠ¨ï¼Œå¯¼è‡´æ˜Ÿå½¢çš„çª„ä¸‰è§’å½¢ä¼ªåƒï¼Œå› ä¸ºmeshé¡¶ç‚¹å›´ç»•gridä¸Šçš„ä¸€ä¸ªè‡ªç”±åº¦èšé›†ã€‚æˆ‘ä»¬çš„æ–¹æ³•å—åˆ°Shenç­‰äºº[2021]çš„å¯å‘ï¼Œä¹Ÿåˆ©ç”¨äº†gridå˜å½¢ï¼Œä½†å¢åŠ äº†é¢å¤–çš„è‡ªç”±åº¦ï¼Œä»¥å…è®¸é¡¶ç‚¹çš„ç‹¬ç«‹é‡æ–°å®šä½ï¼Œå¦‚å›¾4æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230915162911.png" alt="image.png"></p><h2 id="Dual-Contouring"><a href="#Dual-Contouring" class="headerlink" title="Dual Contouring"></a>Dual Contouring</h2><p>é¡¾åæ€ä¹‰ï¼ŒåŒé‡è½®å»“(Dual Contouring, DC) [Ju et al. 2002]è½¬å‘åŒé‡è¡¨ç¤ºï¼Œæå–é€šå¸¸å¯ä»¥å®šä½åœ¨gridå•å…ƒå†…çš„meshé¡¶ç‚¹ï¼Œä»¥æ›´å¥½åœ°æ•æ‰å°–é”çš„å‡ ä½•ç‰¹å¾ã€‚æ¯ä¸ªmeshé¡¶ç‚¹çš„ä½ç½®æ˜¯é€šè¿‡æœ€å°åŒ–å±€éƒ¨äºŒæ¬¡è¯¯å·®å‡½æ•°(QEF)æ¥è®¡ç®—çš„ï¼Œè¿™å–å†³äºæ ‡é‡å‡½æ•°çš„å±€éƒ¨å€¼å’Œç©ºé—´æ¢¯åº¦ã€‚<br>$v_{d}=\underset{v_{d}}{\mathrm{argmin}}\sum_{u_{e}\in\mathcal{Z}_{e}}\nabla s(u_{e})\cdot(v_{d}-u_{e}).$ Eq.2<br>$u_{e}\in\mathcal{Z}_{e}$æ˜¯çº¿æ€§æ’å€¼æ ‡é‡å‡½æ•°æ²¿å•å…ƒæ ¼è¾¹ç¼˜çš„è¿‡é›¶ç‚¹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230915170011.png" alt="image.png"><br><em>Grad issue in DCå·¦:å½“æ±‚è§£äºŒæ¬¡è¯¯å·®å‡½æ•°(QEF)æ—¶ï¼Œç»“æœé¡¶ç‚¹ä¸èƒ½ä¿è¯åœ¨ç«‹æ–¹ä½“å†…éƒ¨ã€‚è¿™å¯¼è‡´å‡ ä½•å’Œæ‹“æ‰‘æƒ…å†µä¹‹é—´çš„å·®å¼‚ã€‚æ­¤å¤–ï¼Œå½“æ³•çº¿å…±é¢æ—¶ï¼ŒQEFä¸­å­˜åœ¨ä¸€ä¸ªå¥‡å¼‚ç‚¹ã€‚è™½ç„¶å·²æœ‰æŠ€æœ¯å¯ä»¥é€šè¿‡çº¦æŸQEFçš„è§£ç©ºé—´æˆ–ä½¿QEFå…·æœ‰æ­£åˆ™åŒ–æŸå¤±çš„åç½®æ¥æé«˜ç›´æµç”µçš„ç¨³å®šæ€§ï¼Œä½†å®ƒä»¬åœ¨ä¼˜åŒ–è®¾ç½®ä¸­ä¸å®¹æ˜“é€‚åº”ã€‚å‰è€…(ç¬¬äºŒç§)åœ¨æŸäº›æ–¹å‘ä¸Šå°†æ¢¯åº¦å½’é›¶ã€‚åè€…(ç¬¬ä¸‰ç§)å¾ˆéš¾è°ƒæ•´ï¼Œå¹¶ä¸”å…·æœ‰å¾ˆå¼ºçš„æ­£åˆ™åŒ–å°†é™ä½DCåœ¨çµæ´»æ€§æ–¹é¢çš„ä¼˜åŠ¿ã€‚æˆ‘ä»¬çš„ç‰ˆæœ¬(ç¬¬å››ç‰ˆ)FlexiCubesæä¾›äº†é¢å¤–çš„è‡ªç”±åº¦ï¼Œè¿™æ ·å¯¹äºè¿™ä¸ªç‰¹å®šçš„é…ç½®ï¼ŒåŒé¡¶ç‚¹å¯ä»¥æ”¾ç½®åœ¨ç»¿è‰²ä¸‰è§’å½¢å†…çš„ä»»ä½•åœ°æ–¹</em></p><p>å½“ä»å›ºå®šçš„æ ‡é‡å‡½æ•°ä¸­æå–å•ä¸ªmeshæ—¶ï¼ŒåŒè½®å»“æ“…é•¿äºæ‹Ÿåˆå°–é”ç‰¹å¾ï¼Œä½†ä¸€äº›ç‰¹æ€§é˜»ç¢äº†å®ƒåœ¨å¾®åˆ†ä¼˜åŒ–ä¸­çš„ä½¿ç”¨ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œ<strong>å…¬å¼2ä¸èƒ½ä¿è¯æå–çš„é¡¶ç‚¹ä½äºgridå•å…ƒå†…</strong>ã€‚äº‹å®ä¸Šï¼Œå…±é¢æ¢¯åº¦å‘é‡$\nabla s(u_{e})$åˆ›å»ºé€€åŒ–é…ç½®ï¼Œå…¶ä¸­é¡¶ç‚¹çˆ†ç‚¸åˆ°ä¸€ä¸ªé¥è¿œçš„ä½ç½®ï¼Œå¯¼è‡´è‡ªç›¸äº¤å’Œæ•°å€¼ä¸Šä¸ç¨³å®šçš„ä¼˜åŒ–ï¼Œé€šè¿‡å…¬å¼è¿›è¡Œå¾®åˆ†ã€‚æ˜ç¡®åœ°å°†é¡¶ç‚¹é™åˆ¶åœ¨å•å…ƒæ ¼ä¸­ï¼Œä½¿æ¢¯åº¦å½’é›¶ï¼Œå¹¶å¯¹æ–¹ç¨‹2è¿›è¡Œæ­£åˆ™åŒ–ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»è€Œæ¶ˆé™¤äº†æ‹Ÿåˆå°–é”ç‰¹å¾çš„èƒ½åŠ›(å›¾2å’Œå›¾4)ã€‚æ­¤å¤–ï¼Œå¾—åˆ°çš„meshè¿é€šæ€§å¯èƒ½æ˜¯éæµå½¢çš„ï¼Œè¾“å‡ºmeshåŒ…å«éå¹³é¢å››è¾¹å½¢ï¼Œå½“å®ƒä»¬è¢«åˆ†å‰²æˆä¸‰è§’å½¢æ—¶ï¼Œä¼šå¼•å…¥è¯¯å·®(å›¾3)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230915164347.png" alt="image.png"></p><p>æœ€è¿‘å…³äºå¯¹åŒè½®å»“çš„æ¨å¹¿[Chen et al. 2022b]ç”¨å­¦ä¹ çš„ç¥ç»ç½‘ç»œä»£æ›¿äº†æ–¹ç¨‹2ï¼Œæé«˜äº†ä»ä¸å®Œç¾ä½†å›ºå®šçš„æ ‡é‡å‡½æ•°ä¸­æå–çš„è´¨é‡ã€‚ç„¶è€Œï¼Œå½“é’ˆå¯¹åº•å±‚å‡½æ•°è¿›è¡Œä¼˜åŒ–æ—¶ï¼Œé€šè¿‡é¢å¤–çš„ç¥ç»ç½‘ç»œè¿›è¡ŒåŒºåˆ†ä¼šè¿›ä¸€æ­¥ä½¿ä¼˜åŒ–ç¯å¢ƒå¤æ‚åŒ–ï¼Œå¹¶é˜»ç¢æ”¶æ•›(å›¾4)ã€‚</p><p>æˆ‘ä»¬çš„æ–¹æ³•ä»è¿™äº›æ–¹æ³•ä¸­è·å¾—çµæ„Ÿï¼Œå¹¶ä¸”åœ¨å•å…ƒæ ¼å†…è‡ªç”±å®šä½æ¯ä¸ªé¡¶ç‚¹çš„é‡è¦æ€§ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬æ²¡æœ‰æ˜ç¡®åœ°å°†æå–çš„é¡¶ç‚¹å®šä½ä¸ºæ ‡é‡åœºçš„å‡½æ•°ï¼Œè€Œæ˜¯å¼•å…¥äº†é¢å¤–çš„ç²¾å¿ƒé€‰æ‹©çš„è‡ªç”±åº¦ï¼Œè¿™äº›è‡ªç”±åº¦è¢«ä¼˜åŒ–ä¸ºå±€éƒ¨è°ƒæ•´é¡¶ç‚¹ä½ç½®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æˆ‘ä»¬çš„æ–¹æ¡ˆåŸºäºç±»ä¼¼ä½†ä¸å¤ªä¸ºäººæ‰€çŸ¥çš„å¯¹å¶è¡Œè¿›ç«‹æ–¹ä½“æ¥è§£å†³æµå½¢é—®é¢˜ã€‚</p><h2 id="Dual-Marching-Cubes"><a href="#Dual-Marching-Cubes" class="headerlink" title="Dual Marching Cubes"></a>Dual Marching Cubes</h2><p>å°±åƒåŒé‡è½®å»“ä¸€æ ·ï¼ŒåŒé‡ç§»åŠ¨ç«‹æ–¹ä½“[Nielson 2004]æå–gridå•å…ƒå†…çš„é¡¶ç‚¹ã€‚ç„¶è€Œï¼Œå®ƒä¸æ˜¯æ²¿ç€gridçš„åŒé‡è¿é€šæ€§æå–meshï¼Œè€Œæ˜¯æ²¿ç€meshçš„åŒé‡è¿é€šæ€§æå–meshï¼Œè¿™äº›meshå°†ç”±Marching Cubesæå–ã€‚è¿™å…è®¸æ‰€æœ‰é…ç½®çš„æµå½¢meshè¾“å‡ºï¼Œé€šè¿‡åœ¨éœ€è¦æ—¶åœ¨å•ä¸ªgridå•å…ƒå†…å‘å°„å¤šä¸ªmeshé¡¶ç‚¹ã€‚æå–çš„é¡¶ç‚¹ä½ç½®è¢«å®šä¹‰ä¸ºç±»ä¼¼äºåŒé‡è½®å»“çš„QEFçš„æœ€å°åŒ–å™¨[Schaeferç­‰äººï¼Œ2007]ï¼Œæˆ–è€…ä½œä¸ºåŸå§‹meshå‡ ä½•çš„å‡ ä½•å‡½æ•°[Nielson 2004]ï¼Œå¦‚é¢éƒ¨è´¨å¿ƒã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸åŒè½®å»“ç›¸æ¯”ï¼ŒåŒè¡Œè¿›ç«‹æ–¹ä½“æé«˜äº†æå–meshè¿é€šæ€§ï¼Œä½†å¦‚æœä½¿ç”¨QEFè¿›è¡Œé¡¶ç‚¹å®šä½ï¼Œå®ƒä¼šå—åˆ°è®¸å¤šä¸åŒè½®å»“ç›¸åŒçš„ç¼ºç‚¹çš„å½±å“ã€‚å¦‚æœé¡¶ç‚¹ä½äºåŸå§‹meshçš„è´¨å¿ƒï¼Œåˆ™è¯¥å…¬å¼ç¼ºä¹æ‹Ÿåˆå•ä¸ªå°–é”ç‰¹å¾çš„è‡ªç”±åº¦ã€‚åœ¨éšåçš„æ–‡æœ¬ä¸­ï¼Œé™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™æ¯å½“æˆ‘ä»¬æåˆ°åŒè¡Œè¿›ç«‹æ–¹ä½“æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯è´¨å¿ƒæ–¹æ³•ã€‚</p><p>æˆ‘ä»¬çš„æ–¹æ³•å»ºç«‹åœ¨Dual Marching Cubeæå–çš„åŸºç¡€ä¸Šï¼Œä½†<strong>æˆ‘ä»¬å¼•å…¥äº†é¢å¤–çš„å‚æ•°æ¥å®šä½é¡¶ç‚¹ï¼Œä»è€Œæ¨å¹¿äº†è´¨å¿ƒæ–¹æ³•</strong>ã€‚åŸºäºä¸€ç§å³ä½¿åœ¨å›°éš¾çš„é…ç½®ä¸­ä¹Ÿèƒ½å‘å‡ºæ­£ç¡®æ‹“æ‰‘çš„æ–¹æ¡ˆæ˜¯æˆ‘ä»¬æˆåŠŸçš„å…³é”®ä¹‹ä¸€ã€‚</p><h1 id="METHOD"><a href="#METHOD" class="headerlink" title="METHOD"></a>METHOD</h1><p>æˆ‘ä»¬æå‡ºäº†å¯å¾®meshä¼˜åŒ–çš„FlexiCubesè¡¨ç¤ºã€‚è¯¥æ–¹æ³•çš„æ ¸å¿ƒæ˜¯gridä¸Šçš„æ ‡é‡å‡½æ•°ï¼Œé€šè¿‡åŒæ­¥ç«‹æ–¹æå–ä¸‰è§’å½¢meshã€‚æˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®æ˜¯å¼•å…¥äº†ä¸‰ç»„é¢å¤–çš„å‚æ•°ï¼Œç²¾å¿ƒé€‰æ‹©ä»¥å¢åŠ meshè¡¨ç¤ºçš„çµæ´»æ€§ï¼ŒåŒæ—¶ä¿æŒé²æ£’æ€§å’Œæ˜“äºä¼˜åŒ–:</p><ul><li>Interpolation weights: $\alpha\in\mathbb{R}_{&gt;0}^8,\beta\in\mathbb{R}_{&gt;0}^{12}$ per grid cell, to position dual vertices in space <strong>4.2</strong></li><li>Splitting weights: $\gamma\in\mathbb{R}_{&gt;0}$ per grid cell, to control how quadrilateralså››è¾¹å½¢ are split into triangles <strong>4.3</strong></li><li>Deformation vectorsï¼š$\delta\in\mathbb{R}^{3}$ per vertex of the underlying grid for spatial alignment <strong>4.4</strong></li></ul><p>è¿™äº›å‚æ•°ä¸æ ‡é‡å‡½æ•°ä¸€èµ·ä¼˜åŒ–sé€šè¿‡è‡ªåŠ¨åˆ†åŒ–æ‹Ÿåˆä¸€ä¸ªmeshåˆ°æ‰€éœ€çš„ç›®æ ‡ã€‚æˆ‘ä»¬è¿˜æå‡ºäº†FlexiCubesè¡¨ç¤ºçš„æ‰©å±•ï¼Œä»¥æå–ä½“ç§¯çš„å››é¢ä½“mesh(ç¬¬<strong>4.5</strong>èŠ‚)ï¼Œå¹¶è¡¨ç¤ºå…·æœ‰è‡ªé€‚åº”åˆ†è¾¨ç‡çš„åˆ†å±‚meshes(ç¬¬<strong>4.6</strong>èŠ‚)ã€‚</p><h2 id="Dual-Marching-Cubes-Mesh-Extraction"><a href="#Dual-Marching-Cubes-Mesh-Extraction" class="headerlink" title="Dual Marching Cubes Mesh Extraction"></a>Dual Marching Cubes Mesh Extraction</h2><p>æˆ‘ä»¬é¦–å…ˆæ ¹æ®æ¯ä¸ªgridé¡¶ç‚¹xæ ‡é‡å‡½æ•°s(x)çš„å€¼æå–Dual Marching Cubes meshçš„è¿é€šæ€§ã€‚æ­£å¦‚Nielson [2004];Schaeferç­‰[2007]ã€‚The signs of s(x)åœ¨ç«‹æ–¹ä½“è§’å¤„ç¡®å®šè¿é€šæ€§å’Œé‚»æ¥å…³ç³»(å›¾7)ã€‚ä¸æ²¿ç€gridè¾¹ç¼˜æå–é¡¶ç‚¹çš„æ™®é€šè¡Œå†›ç«‹æ–¹ä½“ä¸åŒï¼ŒåŒè¡Œå†›ç«‹æ–¹ä½“ä¸ºå•å…ƒæ ¼ä¸­çš„æ¯ä¸ªåŸå§‹é¢æå–ä¸€ä¸ªé¡¶ç‚¹;é€šå¸¸æ˜¯å•ä¸ªé¡¶ç‚¹ï¼Œä½†ä¹Ÿå¯èƒ½å¤šè¾¾å››ä¸ª(å›¾7ï¼Œæ¡ˆä¾‹C13)ã€‚ç›¸é‚»å•å…ƒä¸­æå–çš„é¡¶ç‚¹é€šè¿‡è¾¹è¿æ¥å½¢æˆåŒmeshï¼Œç”±å››è¾¹å½¢é¢ç»„æˆ(å›¾5)ã€‚æ‰€å¾—meshä¿è¯æ˜¯æµå½¢çš„ï¼Œå°½ç®¡ç”±äºä¸‹é¢æè¿°çš„é¢å¤–è‡ªç”±åº¦ï¼Œå®ƒå¯èƒ½å¾ˆå°‘åŒ…å«è‡ªäº¤;å‚è§7.2èŠ‚ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230915170320.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230915170327.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IsosurfaceExtraction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BakedSDF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/BakedSDF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/BakedSDF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>BakedSDF: Meshing Neural SDFs for Real-Time View Synthesis</th></tr></thead><tbody><tr><td>Author</td><td>Lior Yariv and Peter Hedman and Christian Reiser and Dor Verbin and Pratul P. Srinivasan and Richard Szeliski and    Jonathan T. Barron and Ben Mildenhall</td></tr><tr><td>Conf/Jour</td><td>SIGGRAPH</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://bakedsdf.github.io/">BakedSDF</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4762044324229677057&amp;noteId=1959289127671095296">BakedSDF: Meshing Neural SDFs for Real-Time View Synthesis (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230913154905.png" alt="image.png"></p><ul><li>å¯¹å‰æ™¯ç‰©ä½“é‡‡ç”¨ç±»ä¼¼VolSDFçš„æ–¹æ³•è®­ç»ƒ<em>Modeling density with an SDF</em></li><li>ä½¿ç”¨Marching Cube çš„æ–¹æ³•æ¥æå–é«˜åˆ†è¾¨ç‡ç½‘æ ¼<em>Baking a high-resolution mesh</em></li><li><em>Modeling view-dependent appearance</em>ï¼Œå¯¹bakedåçš„é«˜åˆ†è¾¨ç‡ç½‘æ ¼ä¸Šé¡¶ç‚¹ï¼šé‡‡ç”¨æ¼«åå°„é¢œè‰²å’Œçƒå½¢é«˜æ–¯å¶ï¼ˆå‰æ™¯3ä¸ªæ³¢ç“£ï¼Œè¿œå¤„èƒŒæ™¯ä½¿ç”¨1ä¸ªæ³¢ç“£ï¼‰<ul><li>$\mathbf{C}=\mathbf{c}_{d}+\sum_{i=1}^{N}\mathbf{c}_{i}\exp\left(\lambda_{i}\left(\mu_{i}\cdot\mathbf{d}-1\right)\right).$ </li></ul></li></ul><span id="more"></span><h1 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h1><p>å°½ç®¡æˆ‘ä»¬çš„æ¨¡å‹åœ¨å®æ—¶æ¸²æŸ“æ— ç•Œåœºæ™¯çš„ä»»åŠ¡ä¸­è¾¾åˆ°äº†æœ€å…ˆè¿›çš„é€Ÿåº¦å’Œå‡†ç¡®æ€§ï¼Œä½†ä»æœ‰ä¸€äº›é™åˆ¶ï¼Œè¿™äº›é™åˆ¶ä»£è¡¨äº†æœªæ¥æ”¹è¿›çš„æœºä¼š:</p><ul><li>æˆ‘ä»¬ä½¿ç”¨å®Œå…¨ä¸é€æ˜çš„ç½‘æ ¼è¡¨ç¤ºæ¥è¡¨ç¤ºåœºæ™¯ï¼Œ<strong>å› æ­¤æˆ‘ä»¬çš„æ¨¡å‹å¯èƒ½éš¾ä»¥è¡¨ç¤ºåŠé€æ˜å†…å®¹</strong>(ç»ç’ƒï¼Œé›¾ç­‰)ã€‚ä¸åŸºäºç½‘æ ¼çš„æ–¹æ³•ä¸€æ ·ï¼Œæˆ‘ä»¬çš„æ¨¡å‹<strong>æœ‰æ—¶æ— æ³•å‡†ç¡®åœ°è¡¨ç¤ºå…·æœ‰å°æˆ–è¯¦ç»†å‡ ä½•å½¢çŠ¶</strong>(èŒ‚å¯†çš„æ ‘å¶ï¼Œè–„ç»“æ„ç­‰)çš„åŒºåŸŸã€‚å›¾6æç»˜äº†é¢å¤–æå–çš„ç½‘æ ¼å¯è§†åŒ–ï¼Œå±•ç¤ºäº†æˆ‘ä»¬çš„è¡¨é¢é‡å»ºé™åˆ¶åŠå…¶å¯¹æ¸²æŸ“é‡å»ºçš„å½±å“ã€‚<strong>è¿™äº›é—®é¢˜ä¹Ÿè®¸å¯ä»¥é€šè¿‡å¢åŠ ç½‘æ ¼çš„ä¸é€æ˜åº¦å€¼æ¥è§£å†³ï¼Œä½†æ˜¯å…è®¸è¿ç»­çš„ä¸é€æ˜åº¦å°†éœ€è¦ä¸€ä¸ªå¤æ‚çš„å¤šè¾¹å½¢æ’åºè¿‡ç¨‹ï¼Œè¿™å¾ˆéš¾é›†æˆåˆ°å®æ—¶å…‰æ …åŒ–ç®¡é“ä¸­</strong>ã€‚</li><li>æˆ‘ä»¬æŠ€æœ¯çš„å¦ä¸€ä¸ªé™åˆ¶æ˜¯ï¼Œæˆ‘ä»¬æ¨¡å‹çš„è¾“å‡ºç½‘æ ¼<strong>å ç”¨äº†å¤§é‡çš„ç£ç›˜ç©ºé—´</strong>(æ¯ä¸ªåœºæ™¯çº¦430å…†å­—èŠ‚)ï¼Œè¿™å¯èƒ½å¯¹æŸäº›åº”ç”¨ç¨‹åºçš„å­˜å‚¨æˆ–æµå¼ä¼ è¾“å…·æœ‰æŒ‘æˆ˜æ€§ã€‚è¿™å¯ä»¥é€šè¿‡ç½‘æ ¼ç®€åŒ–å’ŒUVç»˜å›¾æ¥æ”¹å–„ã€‚<strong>ç„¶è€Œï¼Œæˆ‘ä»¬å‘ç°ç°æœ‰çš„ç®€åŒ–å’Œç»˜å›¾å·¥å…·ä¸»è¦æ˜¯ä¸ºè‰ºæœ¯å®¶åˆ¶ä½œçš„3Dèµ„äº§è€Œè®¾è®¡çš„ï¼Œå¯¹äºæˆ‘ä»¬é€šè¿‡ç§»åŠ¨ç«‹æ–¹ä½“æå–çš„ç½‘æ ¼å¹¶ä¸é€‚ç”¨</strong>ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230913204555.png" alt="image.png"></p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç³»ç»Ÿï¼Œäº§ç”Ÿä¸€ä¸ªé«˜è´¨é‡çš„ç½‘æ ¼å®æ—¶æ¸²æŸ“çš„å¤§å‹æ— ç•Œç°å®ä¸–ç•Œåœºæ™¯ã€‚æˆ‘ä»¬çš„æŠ€æœ¯é¦–å…ˆä¼˜åŒ–äº†ç”¨äºç²¾ç¡®è¡¨é¢é‡å»ºçš„åœºæ™¯çš„æ··åˆç¥ç»ä½“-è¡¨é¢è¡¨ç¤ºã€‚ä»è¿™ç§æ··åˆè¡¨ç¤ºä¸­ï¼Œæˆ‘ä»¬æå–äº†ä¸€ä¸ªä¸‰è§’å½¢ç½‘æ ¼ï¼Œå…¶é¡¶ç‚¹åŒ…å«ä¸è§†å›¾ç›¸å…³çš„å¤–è§‚çš„æœ‰æ•ˆè¡¨ç¤ºï¼Œç„¶åä¼˜åŒ–è¿™ä¸ªç½‘æ ¼è¡¨ç¤ºä»¥æœ€ä½³åœ°å†ç°æ•è·çš„è¾“å…¥å›¾åƒã€‚è¿™ä½¿å¾—ç½‘æ ¼åœ¨é€Ÿåº¦å’Œå‡†ç¡®æ€§æ–¹é¢éƒ½èƒ½äº§ç”Ÿæœ€å…ˆè¿›çš„å®æ—¶è§†å›¾åˆæˆç»“æœï¼Œå¹¶ä¸”å…·æœ‰è¶³å¤Ÿé«˜çš„è´¨é‡ä»¥æ”¯æŒä¸‹æ¸¸åº”ç”¨ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§é€‚åˆäºçœŸå®æ„Ÿ<strong>æ–°è§†å›¾</strong>åˆæˆçš„å¤§å‹<strong>æ— ç•Œç°å®åœºæ™¯</strong>çš„<strong>é«˜è´¨é‡ç½‘æ ¼</strong>é‡å»ºæ–¹æ³•ã€‚æˆ‘ä»¬é¦–å…ˆä¼˜åŒ–äº†ä¸€ä¸ª<strong>æ··åˆç¥ç»ä½“-è¡¨é¢åœºæ™¯è¡¨ç¤º</strong>ï¼Œå®ƒè¢«è®¾è®¡æˆå…·æœ‰ä¸åœºæ™¯ä¸­çš„è¡¨é¢å¯¹åº”çš„è¡Œä¸ºè‰¯å¥½çš„æ°´å¹³é›†ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†è¿™ç§è¡¨ç¤ºçƒ˜çƒ¤æˆä¸€ä¸ªé«˜è´¨é‡çš„ä¸‰è§’å½¢ç½‘æ ¼ï¼Œæˆ‘ä»¬é…å¤‡äº†ä¸€ä¸ªç®€å•è€Œå¿«é€Ÿçš„åŸºäºçƒé¢é«˜æ–¯çš„è§†å›¾ä¾èµ–å¤–è§‚æ¨¡å‹ã€‚æœ€åï¼Œæˆ‘ä»¬ä¼˜åŒ–äº†è¿™ç§çƒ˜ç„™è¡¨ç¤ºï¼Œä»¥æœ€å¥½åœ°å†ç°æ•è·çš„è§†ç‚¹ï¼Œä»è€Œäº§ç”Ÿä¸€ä¸ªå¯ä»¥åˆ©ç”¨åŠ é€Ÿå¤šè¾¹å½¢å…‰æ …åŒ–ç®¡é“åœ¨æ¶ˆè´¹çº§ç¡¬ä»¶ä¸Šè¿›è¡Œå®æ—¶è§†å›¾åˆæˆçš„æ¨¡å‹ã€‚æˆ‘ä»¬çš„æ–¹æ³•åœ¨å‡†ç¡®æ€§ã€é€Ÿåº¦å’ŒåŠŸè€—æ–¹é¢ä¼˜äºä»¥å‰çš„å®æ—¶æ¸²æŸ“åœºæ™¯è¡¨ç¤ºï¼Œå¹¶äº§ç”Ÿé«˜è´¨é‡çš„ç½‘æ ¼ï¼Œä½¿å¤–è§‚ç¼–è¾‘å’Œç‰©ç†æ¨¡æ‹Ÿç­‰åº”ç”¨æˆä¸ºå¯èƒ½ã€‚</p><p>Key Wordsï¼š</p><ul><li>Reconstruction; Neural networks; Volumetric models.</li><li>Neural Radiance Fields, Signed Distance Function, Surface Reconstruction, Image Synthesis, Real-Time Rendering, Deep Learning.</li></ul><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ç›®å‰ç”¨äºæ–°è§†å›¾åˆæˆ(ä½¿ç”¨æ•è·çš„å›¾åƒæ¢å¤ä»æœªè§‚å¯Ÿåˆ°çš„è§†ç‚¹æ¸²æŸ“çš„3Dè¡¨ç¤º)çš„æœ€ä½³æ€§èƒ½æ–¹æ³•ä¸»è¦åŸºäºç¥ç»è¾å°„åœº(NeRF) [Mildenhallç­‰äººï¼Œ2020]ã€‚é€šè¿‡å°†åœºæ™¯è¡¨ç¤ºä¸ºç”±å¤šå±‚æ„ŸçŸ¥å™¨(MLP)å‚æ•°åŒ–çš„è¿ç»­ä½“ç§¯å‡½æ•°ï¼ŒNeRFèƒ½å¤Ÿç”Ÿæˆé€¼çœŸçš„æ•ˆæœå›¾ï¼Œå±•ç¤ºè¯¦ç»†çš„å‡ ä½•å›¾å½¢å’Œä¾èµ–äºè§†å›¾çš„æ•ˆæœã€‚<strong>ç”±äºè®¡ç®—NeRFä¸‹çš„MLPæˆæœ¬å¾ˆé«˜ï¼Œå¹¶ä¸”æ¯ä¸ªåƒç´ å¿…é¡»æŸ¥è¯¢æ•°ç™¾æ¬¡ï¼Œå› æ­¤ä»NeRFæ¸²æŸ“é«˜åˆ†è¾¨ç‡å›¾åƒé€šå¸¸å¾ˆæ…¢</strong>ã€‚</p><p>æœ€è¿‘çš„å·¥ä½œé€šè¿‡å°†è®¡ç®—ç¹é‡çš„mlpæ›¿æ¢ä¸ºç¦»æ•£çš„ä½“ç§¯è¡¨ç¤º(å¦‚ä½“ç´ ç½‘æ ¼)ï¼Œæé«˜äº†NeRFæ¸²æŸ“æ€§èƒ½ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•éœ€è¦å¤§é‡çš„GPUå†…å­˜å’Œè‡ªå®šä¹‰çš„ä½“ç§¯å°„çº¿è¡Œè¿›ä»£ç ï¼Œå¹¶ä¸”ä¸é€‚åˆåœ¨å•†ç”¨ç¡¬ä»¶ä¸Šè¿›è¡Œå®æ—¶æ¸²æŸ“ï¼Œå› ä¸ºç°ä»£å›¾å½¢ç¡¬ä»¶å’Œè½¯ä»¶é¢å‘çš„æ˜¯å‘ˆç°å¤šè¾¹å½¢è¡¨é¢è€Œä¸æ˜¯ä½“ç§¯åœºã€‚</p><p>è™½ç„¶ç›®å‰ç±»ä¼¼nerfçš„æ–¹æ³•èƒ½å¤Ÿæ¢å¤å…·æœ‰ç®€å•å‡ ä½•å½¢çŠ¶çš„å•ä¸ªå¯¹è±¡çš„é«˜è´¨é‡å®æ—¶å¯æ¸²æŸ“ç½‘æ ¼[Bossç­‰äººï¼Œ2022]ï¼Œä½†ä»ç°å®ä¸–ç•Œæ— ç•Œåœºæ™¯çš„æ•è·(ä¾‹å¦‚Barronç­‰äººçš„â€œ360åº¦æ•è·â€)ä¸­é‡å»ºè¯¦ç»†ä¸”è¡Œä¸ºè‰¯å¥½çš„ç½‘æ ¼è¢«è¯æ˜æ›´åŠ å›°éš¾ã€‚æœ€è¿‘ï¼ŒMobileNeRF [Chen et al. 2022a]é€šè¿‡è®­ç»ƒNeRFæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯¥NeRFçš„ä½“ç§¯å†…å®¹è¢«é™åˆ¶åœ¨å¤šè¾¹å½¢ç½‘æ ¼çš„è¡¨é¢ä¸Šï¼Œç„¶åå°†NeRFçƒ˜ç„™æˆçº¹ç†å›¾ã€‚è™½ç„¶è¿™ç§æ–¹æ³•äº§ç”Ÿäº†åˆç†çš„å›¾åƒè´¨é‡ï¼Œä½†MobileNeRFå°†åœºæ™¯å‡ ä½•åˆå§‹åŒ–ä¸ºä¸€ç»„axis-aligned tilesï¼Œä¼˜åŒ–åä¼šå˜æˆä¸€ä¸ªçº¹ç†å¤šè¾¹å½¢â€œæ±¤soupâ€ã€‚ç”Ÿæˆçš„å‡ ä½•å›¾å½¢ä¸å¤ªé€‚åˆå¸¸è§çš„å›¾å½¢åº”ç”¨ç¨‹åºï¼Œå¦‚çº¹ç†ç¼–è¾‘ã€é‡å…‰ç…§å’Œç‰©ç†æ¨¡æ‹Ÿã€‚</p><p><strong>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•ä»ç±»ä¼¼nerfçš„ç¥ç»ä½“ç§¯è¡¨ç¤ºä¸­æå–é«˜è´¨é‡çš„ç½‘æ ¼</strong>ã€‚æˆ‘ä»¬çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºBakedSDFï¼Œæ‰©å±•äº†VolSDFçš„æ··åˆä½“é¢ç¥ç»è¡¨ç¤º[Yarivç­‰äººï¼Œ2021]ï¼Œä»¥è¡¨ç¤ºæ— ç•Œçš„ç°å®ä¸–ç•Œåœºæ™¯ã€‚<strong>è¿™ç§è¡¨ç¤ºè¢«è®¾è®¡æˆå…·æœ‰ä¸åœºæ™¯ä¸­çš„è¡¨é¢ç›¸å¯¹åº”çš„è‰¯å¥½è¡¨ç°çš„é›¶æ°´å¹³é›†ï¼Œè¿™è®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¡Œè¿›ç«‹æ–¹ä½“æå–é«˜åˆ†è¾¨ç‡çš„ä¸‰è§’å½¢ç½‘æ ¼</strong>ã€‚</p><p>æˆ‘ä»¬çš„å…³é”®æ€æƒ³æ˜¯åœ¨æ”¶ç¼©contractedåæ ‡ç©ºé—´ä¸­å®šä¹‰SDF [Barron et al. 2022]ï¼Œå› ä¸ºå®ƒå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹:å®ƒæ›´å¼ºåœ°æ­£åˆ™åŒ–è¿œè·ç¦»å†…å®¹ï¼Œå¹¶ä¸”å®ƒè¿˜å…è®¸æˆ‘ä»¬åœ¨æ”¶ç¼©ç©ºé—´ä¸­æå–ç½‘æ ¼ï¼Œä»è€Œæ›´å¥½åœ°åˆ†é…ä¸‰è§’å½¢é¢„ç®—(ä¸­å¿ƒå¤šï¼Œå¤–å›´å°‘)ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬ä¸ºè¿™ä¸ªç½‘æ ¼é…å¤‡äº†ä¸€ä¸ªåŸºäºçƒé¢é«˜æ–¯çš„å¿«é€Ÿæœ‰æ•ˆçš„è§†å›¾ä¾èµ–å¤–è§‚æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ç»è¿‡å¾®è°ƒä»¥å†ç°åœºæ™¯çš„è¾“å…¥å›¾åƒã€‚æˆ‘ä»¬ç³»ç»Ÿçš„è¾“å‡ºå¯ä»¥åœ¨å•†å“è®¾å¤‡ä¸Šä»¥å®æ—¶å¸§é€Ÿç‡å‘ˆç°ï¼Œå¹¶ä¸”æˆ‘ä»¬è¡¨æ˜ï¼Œæˆ‘ä»¬çš„å®æ—¶æ¸²æŸ“ç³»ç»Ÿåœ¨çœŸå®æ„Ÿï¼Œé€Ÿåº¦å’ŒåŠŸè€—æ–¹é¢ä¼˜äºå…ˆå‰çš„å·¥ä½œã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¡¨æ˜(ä¸åƒä»¥å‰çš„å·¥ä½œ)ï¼Œæˆ‘ä»¬çš„æ¨¡å‹äº§ç”Ÿçš„ç½‘æ ¼æ˜¯å‡†ç¡®å’Œè¯¦ç»†çš„ï¼Œä½¿æ ‡å‡†çš„å›¾å½¢åº”ç”¨ç¨‹åºï¼Œå¦‚å¤–è§‚ç¼–è¾‘å’Œç‰©ç†æ¨¡æ‹Ÿã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®æ˜¯:</p><ul><li>æ— ç•Œç°å®åœºæ™¯çš„é«˜è´¨é‡ç¥ç»è¡¨é¢é‡å»º;</li><li>ä¸€ä¸ªåœ¨æµè§ˆå™¨ä¸­å®æ—¶æ¸²æŸ“è¿™äº›åœºæ™¯çš„æ¡†æ¶ï¼Œä»¥åŠ</li><li>æˆ‘ä»¬è¯æ˜äº†çƒé¢é«˜æ–¯å‡½æ•°æ˜¯è§†å›¾åˆæˆä¸­è§†å›¾ä¾èµ–å¤–è§‚çš„å®é™…è¡¨ç¤º(practical representation)ã€‚</li></ul><h2 id="RELATED-WORK"><a href="#RELATED-WORK" class="headerlink" title="RELATED WORK"></a>RELATED WORK</h2><p>View synthesis, i.e.ï¼Œåœ¨ç»™å®šä¸€ç»„æ•è·çš„å›¾åƒçš„æƒ…å†µä¸‹æ¸²æŸ“åœºæ™¯çš„æ–°è§†å›¾ï¼Œæ˜¯è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦é¢†åŸŸçš„ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„é—®é¢˜ã€‚</p><ul><li>åœ¨è§‚æµ‹è§†ç‚¹é‡‡æ ·å¯†é›†çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥é€šè¿‡å…‰åœºæ¸²æŸ“æ¥åˆæˆæ–°çš„è§†ç‚¹â€”â€”ç›´æ¥æ’å€¼åˆ°è§‚æµ‹å…‰çº¿é›†åˆä¸­</li><li>ç„¶è€Œï¼Œåœ¨å®é™…ç¯å¢ƒä¸­ï¼Œè§‚å¯Ÿåˆ°çš„è§†ç‚¹è¢«æ•è·å¾—æ›´ç¨€ç–ï¼Œé‡å»ºåœºæ™¯çš„3Dè¡¨ç¤ºå¯¹äºå‘ˆç°ä»¤äººä¿¡æœçš„æ–°è§†å›¾è‡³å…³é‡è¦ã€‚å¤§å¤šæ•°ç»å…¸çš„è§†å›¾åˆæˆæ–¹æ³•ä½¿ç”¨ä¸‰è§’å½¢ç½‘æ ¼(é€šå¸¸ä½¿ç”¨ç”±å¤šè§†å›¾ç«‹ä½“MVSç»„æˆçš„ç®¡é“é‡å»ºã€‚æ³Šæ¾åœ°è¡¨é‡å»ºï¼Œä»¥åŠMarching Cubeä½œä¸ºåº•å±‚3Dåœºæ™¯è¡¨ç¤ºï¼Œå¹¶é€šè¿‡å°†è§‚å¯Ÿåˆ°çš„å›¾åƒé‡æ–°æŠ•å½±åˆ°æ¯ä¸ªæ–°è§†ç‚¹ä¸­å¹¶ä½¿ç”¨å¯å‘å¼å®šä¹‰æˆ–learned æ··åˆæƒé‡å°†å®ƒä»¬æ··åˆåœ¨ä¸€èµ·æ¥å‘ˆç°æ–°è§†å›¾ã€‚</li><li>å°½ç®¡åŸºäºç½‘æ ¼çš„è¡¨ç¤ºéå¸¸é€‚åˆä½¿ç”¨åŠ é€Ÿå›¾å½¢ç®¡é“è¿›è¡Œå®æ—¶æ¸²æŸ“ï¼Œä½†è¿™äº›æ–¹æ³•äº§ç”Ÿçš„ç½‘æ ¼åœ¨å…·æœ‰ç²¾ç»†ç»†èŠ‚æˆ–å¤æ‚ææ–™çš„åŒºåŸŸä¸­å¾€å¾€å…·æœ‰ä¸å‡†ç¡®çš„å‡ ä½•å½¢çŠ¶ï¼Œä»è€Œå¯¼è‡´æ¸²æŸ“æ–°è§†å›¾æ—¶å‡ºç°é”™è¯¯ã€‚</li><li>Alternativelyï¼ŒåŸºäºç‚¹çš„è¡¨ç¤ºæ›´é€‚åˆäºå»ºæ¨¡è–„å‡ ä½•ï¼Œä½†å¦‚æœæ²¡æœ‰å¯è§çš„è£‚ç¼æˆ–ç›¸æœºç§»åŠ¨æ—¶ä¸ç¨³å®šçš„ç»“æœï¼Œåˆ™æ— æ³•æœ‰æ•ˆåœ°æ¸²æŸ“ã€‚</li></ul><p>æœ€è¿‘çš„è§†å›¾åˆæˆæ–¹æ³•é€šè¿‡ä½¿ç”¨å‡ ä½•å’Œå¤–è§‚çš„ä½“ç§¯è¡¨ç¤º(å¦‚ä½“ç´ ç½‘æ ¼)æ¥å›é¿é«˜è´¨é‡ç½‘æ ¼é‡å»ºçš„å›°éš¾æˆ–å¤šå¹³é¢å›¾åƒã€‚è¿™äº›è¡¨ç¤ºéå¸¸é€‚åˆåŸºäºæ¢¯åº¦çš„æ¸²æŸ“æŸå¤±ä¼˜åŒ–ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥æœ‰æ•ˆåœ°ä¼˜åŒ–ä»¥é‡å»ºè¾“å…¥å›¾åƒä¸­çœ‹åˆ°çš„è¯¦ç»†å‡ ä½•å½¢çŠ¶ã€‚è¿™äº›ä½“ç§¯æ–¹æ³•ä¸­æœ€æˆåŠŸçš„æ˜¯ç¥ç»è¾å°„åœº(NeRF) ï¼Œå®ƒæ„æˆäº†è®¸å¤šæœ€å…ˆè¿›çš„è§†å›¾åˆæˆæ–¹æ³•çš„åŸºç¡€(å‚è§Tewariç­‰äºº[2022]è¿›è¡Œç»¼è¿°)ã€‚NeRFå°†åœºæ™¯è¡¨ç¤ºä¸ºå‘å°„å’Œå¸æ”¶å…‰çš„è¿ç»­çš„ç‰©è´¨ä½“ç§¯åœºï¼Œå¹¶ä½¿ç”¨ä½“ç§¯å…‰çº¿è·Ÿè¸ªæ¸²æŸ“å›¾åƒã€‚NeRFä½¿ç”¨MLPä»ç©ºé—´åæ ‡æ˜ å°„åˆ°ä½“ç§¯å¯†åº¦å’Œå‘å°„äº®åº¦ï¼Œå¹¶ä¸”MLPå¿…é¡»æ²¿ç€å°„çº¿åœ¨ä¸€ç»„é‡‡æ ·åæ ‡ä¸Šè¿›è¡Œè¯„ä¼°ï¼Œä»¥äº§ç”Ÿæœ€ç»ˆçš„é¢œè‰²ã€‚</p><p>éšåçš„å·¥ä½œå»ºè®®ä¿®æ”¹NeRFçš„åœºæ™¯å‡ ä½•å’Œå¤–è§‚çš„è¡¨ç¤ºï¼Œä»¥æé«˜è´¨é‡å’Œå¯ç¼–è¾‘æ€§ã€‚</p><ul><li>Ref-NeRF [Verbin et al. 2022]é‡æ–°å‚æ•°åŒ–NeRFçš„è§†å›¾ä¾èµ–å¤–è§‚ï¼Œä»¥å®ç°å¤–è§‚ç¼–è¾‘å¹¶æ”¹è¿›é•œé¢ææ–™çš„é‡å»ºå’Œæ¸²æŸ“ã€‚</li><li>å…¶ä»–ä½œå“[Boss et al. 2021;Kuangç­‰ã€‚2022;Srinivasanç­‰äººã€‚2021;Zhangç­‰ã€‚2021a,b]å°è¯•å°†åœºæ™¯çš„è§†å›¾ä¾èµ–å¤–è§‚åˆ†è§£ä¸ºææ–™å’Œç…§æ˜å±æ€§ã€‚</li><li>é™¤äº†ä¿®æ”¹NeRFçš„å¤–è§‚è¡¨ç¤ºå¤–ï¼ŒåŒ…æ‹¬UNISURF [Oechsleç­‰äºº]åœ¨å†…çš„è®ºæ–‡ã€‚[2021]ï¼Œ VolSDF [Yarivç­‰ã€‚2021]ï¼Œneus [Wangç­‰ã€‚2021]ï¼ŒMetaNLR++å’ŒNeuMeshç”¨æ··åˆä½“é¢æ¨¡å‹å¢å¼ºNeRFçš„å…¨ä½“ç§¯è¡¨ç¤ºï¼Œ<strong>ä½†ä¸ä»¥å®æ—¶æ¸²æŸ“ä¸ºç›®æ ‡ï¼Œåªæ˜¾ç¤ºå¯¹è±¡å’Œæœ‰ç•Œåœºæ™¯çš„ç»“æœ</strong></li></ul><p>ç”¨äºè¡¨ç¤ºåœºæ™¯çš„MLP NeRFé€šå¸¸æ˜¯å¤§å‹ä¸”æ˜‚è´µçš„è¯„ä¼°ï¼Œè¿™æ„å‘³ç€NeRFçš„è®­ç»ƒé€Ÿåº¦å¾ˆæ…¢(æ¯ä¸ªåœºæ™¯æ•°å°æ—¶æˆ–æ•°å¤©)ï¼Œæ¸²æŸ“é€Ÿåº¦ä¹Ÿå¾ˆæ…¢(æ¯ç™¾ä¸‡åƒç´ æ•°ç§’æˆ–æ•°åˆ†é’Ÿ)ã€‚è™½ç„¶å¯ä»¥é€šè¿‡å‡å°‘æ¯æ¡å…‰çº¿çš„MLPæŸ¥è¯¢çš„é‡‡æ ·ç½‘ç»œæ¥åŠ é€Ÿæ¸²æŸ“ï¼Œæœ€è¿‘çš„æ–¹æ³•é€šè¿‡ç”¨ä½“ç´ ç½‘æ ¼å–ä»£å¤§å‹MLPæ¥æ”¹å–„è®­ç»ƒå’Œæ¸²æŸ“æ—¶é—´ï¼Œå°å‹mlpç½‘æ ¼ï¼Œ low-rankæˆ–sparse gridè¡¨ç¤ºï¼Œæˆ–è€…ä½¿ç”¨å°MLPè¿›è¡Œå¤šå°ºåº¦å“ˆå¸Œç¼–ç ã€‚</p><p>è™½ç„¶è¿™äº›è¡¨ç¤ºå‡å°‘äº†è®­ç»ƒå’Œæ¸²æŸ“æ‰€éœ€çš„è®¡ç®—(ä»¥å¢åŠ å­˜å‚¨ä¸ºä»£ä»·)ï¼Œä½†æ¸²æŸ“å¯ä»¥é€šè¿‡é¢„è®¡ç®—å’Œå­˜å‚¨è¿›ä¸€æ­¥åŠ é€Ÿï¼Œå³â€œçƒ˜çƒ¤â€ï¼Œè®­ç»ƒå¥½çš„NeRFå˜ä¸ºæ›´æœ‰æ•ˆçš„è¡¨ç¤ºã€‚FastNeRF ï¼ŒPlenoctrees å’Œå¯æ‰©å±•ç¥ç»å®¤å†…åœºæ™¯æ¸²æŸ“(Scalable Neural Indoor Scene Rendering)[Wu et al. 2022]éƒ½å°†è®­ç»ƒè¿‡çš„nerfçƒ¤æˆç¨€ç–çš„ä½“ç§¯ç»“æ„ï¼Œå¹¶ä½¿ç”¨ç®€åŒ–çš„è§†å›¾ä¾èµ–å¤–è§‚æ¨¡å‹ï¼Œä»¥é¿å…æ²¿ç€æ¯æ¡å…‰çº¿å¯¹æ¯ä¸ªæ ·æœ¬è¿›è¡ŒMLPè¯„ä¼°ã€‚è¿™äº›æ–¹æ³•å¯ä»¥åœ¨é«˜ç«¯ç¡¬ä»¶ä¸Šå®ç°nerfçš„å®æ—¶æ¸²æŸ“ï¼Œ<strong>ä½†å®ƒä»¬å¯¹ä½“ç§¯å°„çº¿æ¨è¿›çš„ä½¿ç”¨å¦¨ç¢äº†æ™®é€šç¡¬ä»¶çš„å®æ—¶æ€§èƒ½</strong>ã€‚åœ¨æˆ‘ä»¬å·¥ä½œçš„åŒæ—¶ï¼Œå¼€å‘äº†å†…å­˜é«˜æ•ˆè¾å°„åœº(MERF)ï¼Œè¿™æ˜¯ä¸€ç§ç”¨äºæ— ç•Œåœºæ™¯çš„å‹ç¼©è¡¨ç¤ºä½“ç§¯ï¼Œæœ‰åŠ©äºåœ¨å•†ç”¨ç¡¬ä»¶ä¸Šå¿«é€Ÿæ¸²æŸ“ã€‚ä¸æˆ‘ä»¬çš„ç½‘æ ¼ç›¸æ¯”ï¼Œè¿™ç§ä½“ç§¯è¡¨ç¤ºè¾¾åˆ°äº†æ›´é«˜çš„è´¨é‡åˆ†æ•°ï¼Œ<strong>ä½†éœ€è¦æ›´å¤šçš„å†…å­˜ï¼Œéœ€è¦ä¸€ä¸ªå¤æ‚çš„æ¸²æŸ“å™¨ï¼Œå¹¶ä¸”ä¸ç›´æ¥ç”¨äºä¸‹æ¸¸å›¾å½¢åº”ç”¨ç¨‹åºï¼Œå¦‚ç‰©ç†æ¨¡æ‹Ÿ</strong>ã€‚è¯·å‚è€ƒMERFè®ºæ–‡ä¸æˆ‘ä»¬çš„æ–¹æ³•è¿›è¡Œç›´æ¥æ¯”è¾ƒã€‚</p><h1 id="PRELIMINARIES"><a href="#PRELIMINARIES" class="headerlink" title="PRELIMINARIES"></a>PRELIMINARIES</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†ç¥ç»å®¹é‡è¡¨ç¤ºï¼ŒNeRF ç”¨äºè§†å›¾åˆæˆä»¥åŠmip-NeRF 360å¼•å…¥çš„æ”¹è¿›ï¼Œå› ä¸ºå®ƒä»£è¡¨äº†unbounded â€œ360åº¦â€åœºæ™¯ã€‚</p><p>NeRFçš„æ¸²æŸ“æ–¹ç¨‹ä¸losså‡½æ•°<br>$\mathbf{C}=\sum_{i}\exp\left(-\sum_{j&lt;i}\tau_{j}\delta_{j}\right)\left(1-\exp\left(-\tau_{i}\delta_{i}\right)\right)\mathbf{c}_{i},\quad\delta_{i}=t_{i}-t_{i-1}.$ Eq.1</p><p>$\mathcal{L}_{\mathrm{data}}=\mathbb{E}\left[\left|\mathbf{C}-\mathbf{C}_{\mathrm{gt}}\right|^{2}\right].$ Eq.2</p><p>Mip-NeRF 360<br>å°†æ— ç•Œçš„xä½ç½®contractåˆ°æœ‰ç•ŒåŸŸ<br>$\operatorname{contract}(\mathbf{x})=\begin{cases}\mathbf{x}&amp;|\mathbf{x}|\leq1\\\left(2-\frac{1}{|\mathbf{x}|}\right)\frac{\mathbf{x}}{|\mathbf{x}|}&amp;|\mathbf{x}|&gt;1\end{cases},$ Eq.3</p><h1 id="METHOD"><a href="#METHOD" class="headerlink" title="METHOD"></a>METHOD</h1><p>æˆ‘ä»¬çš„æ–¹æ³•ç”±ä¸‰ä¸ªé˜¶æ®µç»„æˆï¼Œå¦‚å›¾2æ‰€ç¤ºã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»ä¼¼nerfçš„ä½“æ¸²æŸ“ä¼˜åŒ–åŸºäºè¡¨é¢çš„å‡ ä½•å½¢çŠ¶è¡¨ç¤ºå’Œåœºæ™¯å¤–è§‚ã€‚</li><li>ç„¶åï¼Œæˆ‘ä»¬å°†å‡ ä½•å½¢çŠ¶â€œçƒ˜çƒ¤â€åˆ°ä¸€ä¸ªç½‘æ ¼ä¸­ï¼Œæˆ‘ä»¬è¯æ˜å®ƒè¶³å¤Ÿç²¾ç¡®ï¼Œå¯ä»¥æ”¯æŒä»¤äººä¿¡æœçš„å¤–è§‚ç¼–è¾‘å’Œç‰©ç†æ¨¡æ‹Ÿã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬è®­ç»ƒäº†ä¸€ä¸ªæ–°çš„å¤–è§‚æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ä½¿ç”¨çƒé¢é«˜æ–¯(SGs)åµŒå…¥åˆ°ç½‘æ ¼çš„æ¯ä¸ªé¡¶ç‚¹ä¸­ï¼Œå–ä»£äº†ç¬¬ä¸€æ­¥ä¸­æ˜‚è´µçš„ç±»ä¼¼nerfçš„å¤–è§‚æ¨¡å‹ã€‚</li></ul><p>è¿™ç§æ–¹æ³•äº§ç”Ÿçš„3Dè¡¨ç¤ºå¯ä»¥åœ¨å•†å“è®¾å¤‡ä¸Šå®æ—¶æ¸²æŸ“ï¼Œå› ä¸ºæ¸²æŸ“åªéœ€è¦å¯¹ç½‘æ ¼è¿›è¡Œæ …æ ¼åŒ–å¹¶æŸ¥è¯¢å°‘é‡çƒé¢é«˜æ–¯å‡½æ•°ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230913164451.png" alt="image.png"></p><h2 id="Modeling-density-with-an-SDF"><a href="#Modeling-density-with-an-SDF" class="headerlink" title="Modeling density with an SDF"></a>Modeling density with an SDF</h2><p>æˆ‘ä»¬çš„è¡¨ç¤ºç»“åˆäº†mip-NeRF 360è¡¨ç¤ºæ— ç•Œåœºæ™¯çš„ä¼˜ç‚¹ï¼Œä»¥åŠVolSDFæ··åˆä½“-é¢è¡¨ç¤ºçš„è‰¯å¥½è¡¨é¢å±æ€§[Yarivç­‰äººã€‚2021]ã€‚VolSDFå°†åœºæ™¯çš„ä½“ç§¯å¯†åº¦å»ºæ¨¡ä¸ºmlpå‚æ•°åŒ–æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)çš„å‚æ•°å‡½æ•°fï¼Œå®ƒè¿”å›å¸¦ç¬¦å·çš„è·ç¦»$f(\mathbf{x})$ä»æ¯ä¸€ç‚¹$\mathbf{x}\in\mathbb{R}^3$åˆ°æ›²é¢ã€‚å› ä¸ºæˆ‘ä»¬çš„é‡ç‚¹æ˜¯é‡å»ºæ— ç•Œçš„ç°å®ä¸–ç•Œåœºæ™¯ï¼Œæˆ‘ä»¬å‚æ•°åŒ–fåœ¨æ”¶ç¼©ç©ºé—´(å…¬å¼3)è€Œä¸æ˜¯ä¸–ç•Œç©ºé—´ã€‚åœºæ™¯çš„ä¸‹è¡¨é¢æ˜¯fçš„é›¶æ°´å¹³é›†ï¼Œå³è·ç¦»æ›²é¢ä¸ºé›¶çš„ç‚¹çš„é›†åˆ:<br>$\mathcal{S}=\{\mathbf{x}:f(\mathbf{x})=0\}.$ Eq.4<br>ä¸VolSDFä¸€æ ·ï¼Œå°†ä½“å¯†åº¦å®šä¹‰ä¸ºï¼š<br>$\tau(\mathbf{x})=\alpha\Psi_{\beta}\left(f(\mathbf{x})\right),$ Eq.5<br>å…¶ä¸­$\Psi_{\beta}$æ˜¯å¸¦å°ºåº¦å‚æ•°$\beta&gt;0$çš„é›¶å‡å€¼æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ã€‚æ³¨æ„éšç€$\beta$è¶‹è¿‘äº0ï¼Œä½“ç§¯å¯†åº¦æ¥è¿‘äºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›$\alpha$åœ¨ä»»æ„å¯¹è±¡å†…ï¼Œè‡ªç”±ç©ºé—´ä¸º0ã€‚é¼“åŠ±fè¿‘ä¼¼ä¸€ä¸ªæœ‰æ•ˆçš„å¸¦ç¬¦å·è·ç¦»å‡½æ•°(å³ä¸€ä¸ªf(x)è¿”å›å¯¹æ‰€æœ‰xçš„fæ°´å¹³é›†çš„æœ‰ç¬¦å·æ¬§æ°è·ç¦»)ã€‚ï¼Œæˆ‘ä»¬æƒ©ç½šfçš„åå·®æ»¡è¶³Eikonalæ–¹ç¨‹ï¼š<br>$\mathcal{L}_{\mathrm{SDF}}=\mathbb{E}_{\mathrm{x}}\left[(|\nabla f(\mathrm{x})|-1)^{2}\right].$ Eq.6<br>æ³¨æ„fåœ¨æ”¶ç¼©ç©ºé—´ä¸­å®šä¹‰ï¼Œè¿™ä¸ªçº¦æŸä¹Ÿä½œç”¨äºæ”¶ç¼©ç©ºé—´ã€‚</p><p>æœ€è¿‘ï¼ŒRef-NeRF [Verbin et al. 2022]é€šè¿‡å°†å…¶å‚æ•°åŒ–ä¸ºåæ˜ è¡¨é¢æ³•çº¿çš„è§†å›¾æ–¹å‘çš„å‡½æ•°æ¥æ”¹è¿›è§†å›¾ä¾èµ–å¤–è§‚ã€‚æˆ‘ä»¬ä½¿ç”¨sdfå‚æ•°åŒ–çš„å¯†åº¦ä½¿å¾—è¿™å¾ˆå®¹æ˜“è¢«é‡‡ç”¨å› ä¸ºsdfå…·æœ‰å®šä¹‰è‰¯å¥½çš„è¡¨é¢æ³•çº¿:$\mathbf{n}(\mathbf{x})=\nabla f(\mathbf{x})/|\nabla\hat{f}(\mathbf{x})|.$ å› æ­¤ï¼Œåœ¨è®­ç»ƒæˆ‘ä»¬æ¨¡å‹çš„è¿™ä¸€é˜¶æ®µæ—¶ï¼Œæˆ‘ä»¬é‡‡ç”¨Ref-NeRFçš„å¤–è§‚æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨å•ç‹¬çš„æ¼«å°„å’Œé•œé¢åˆ†é‡æ¥è®¡ç®—é¢œè‰²ï¼Œå…¶ä¸­é•œé¢åˆ†é‡æ˜¯ç”±æ³•çº¿æ–¹å‘åå°„çš„è§†å›¾æ–¹å‘çš„æ‹¼æ¥ã€æ³•çº¿æ–¹å‘ä¸è§†å›¾æ–¹å‘ä¹‹é—´çš„ç‚¹ç§¯ä»¥åŠMLPè¾“å‡ºçš„256ä¸ªå…ƒç´ çš„bottleneckå‘é‡æ¥å‚æ•°åŒ–çš„ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨mip-NeRF 360çš„å˜ä½“ä½œä¸ºæˆ‘ä»¬çš„æ¨¡å‹(å…·ä½“è®­ç»ƒç»†èŠ‚è§è¡¥å……ææ–™ä¸­çš„é™„å½•a)ã€‚ä¸VolSDF [Yariv et al. 2021]ç±»ä¼¼ï¼Œæˆ‘ä»¬å°†å¯†åº¦æ¯”ä¾‹å› å­å‚æ•°åŒ–ä¸º$\alpha=\beta^{-1}$å¼5ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬findè°ƒåº¦$\beta$è€Œä¸æ˜¯æŠŠå®ƒä½œä¸ºä¸€ä¸ªè‡ªç”±çš„å¯ä¼˜åŒ–å‚æ•°ï¼Œç»“æœæ˜¯æ›´ç¨³å®šçš„è®­ç»ƒã€‚æˆ‘ä»¬å› æ­¤é€€ç«$\beta$æ ¹æ®$\beta_{0}\left(1+\frac{\beta_{0}-\beta_{1}}{\beta_{1}}t^{0.8}\right)^{-1},$å…¶ä¸­$t$åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä»0åˆ°1ï¼Œ$\beta_{0}=0.1$ï¼Œå’Œ$\beta_{1}$ä¸‰ä¸ªåˆ†å±‚é‡‡æ ·é˜¶æ®µåˆ†åˆ«ä¸º0.015ã€0.003å’Œ0.001ã€‚ç”±äºå¯†åº¦SDFå‚æ•°åŒ–æ‰€éœ€çš„Eikonalæ­£åˆ™åŒ–å·²ç»æ¶ˆé™¤äº†floatersä½“å¹¶å¯¼è‡´äº†è‰¯å¥½çš„å¸¸æ€ï¼Œæˆ‘ä»¬å‘ç°æ²¡æœ‰å¿…è¦ä½¿ç”¨Ref-NeRFçš„orientationæŸå¤±æˆ–é¢„æµ‹æ³•å‘é‡ï¼Œæˆ–mip - nerf 360çš„distortionæŸå¤±ã€‚</p><h2 id="Baking-a-high-resolution-mesh"><a href="#Baking-a-high-resolution-mesh" class="headerlink" title="Baking a high-resolution mesh"></a>Baking a high-resolution mesh</h2><p>ä¼˜åŒ–ç¥ç»ä½“ç§¯è¡¨ç¤ºåï¼Œæˆ‘ä»¬é€šè¿‡åœ¨å¸¸è§„3Dç½‘æ ¼ä¸ŠæŸ¥è¯¢æ¢å¤çš„mlpå‚æ•°åŒ–SDFåˆ›å»ºä¸‰è§’å½¢ç½‘æ ¼ï¼Œç„¶åè¿è¡ŒMarching Cubes [Lorensen and Cline 1987]ã€‚è¯·æ³¨æ„ï¼ŒVolSDFä½¿ç”¨è¶…å‡ºSDFé›¶äº¤å‰ç‚¹çš„å¯†åº¦ä¸‹é™æ¥å»ºæ¨¡è¾¹ç•Œ(å‚æ•°åŒ–ä¸º$\beta$)ã€‚æˆ‘ä»¬åœ¨æå–ç½‘æ ¼æ—¶è€ƒè™‘åˆ°è¿™ç§æ‰©æ•£ï¼Œå¹¶é€‰æ‹©0.001ä½œä¸ºè¡¨é¢äº¤å‰çš„ç­‰å€¼ï¼Œå¦åˆ™æˆ‘ä»¬ä¼šå‘ç°åœºæ™¯å‡ ä½•å½¢çŠ¶ä¼šè¢«è½»å¾®ä¾µèš€ã€‚</p><p>Visibility and free-space culling.å½“è¿è¡ŒMarching Cubesæ—¶ï¼ŒMLPå‚æ•°åŒ–çš„SDFå¯èƒ½åœ¨è¢«è§‚æµ‹è§†ç‚¹é®æŒ¡çš„åŒºåŸŸä»¥åŠå»ºè®®MLPæ ‡è®°ä¸ºâ€œè‡ªç”±ç©ºé—´â€çš„åŒºåŸŸä¸­åŒ…å«è™šå‡çš„è¡¨é¢äº¤å‰ã€‚åœ¨è®­ç»ƒæœŸé—´ï¼Œè¿™ä¸¤ç§ç±»å‹åŒºåŸŸä¸­çš„SDF MLPå€¼éƒ½ä¸å—ç›‘ç£ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å‰”é™¤ä»»ä½•å¯èƒ½åœ¨é‡å»ºç½‘æ ¼ä¸­æ˜¾ç¤ºä¸ºè™šå‡å†…å®¹çš„è¡¨é¢äº¤å‰ç‚¹ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ£€æŸ¥æ²¿ç€æˆ‘ä»¬çš„è®­ç»ƒæ•°æ®ä¸­çš„å°„çº¿æ‹æ‘„çš„3Dæ ·æœ¬ã€‚æˆ‘ä»¬è®¡ç®—æ¯ä¸ªæ ·æœ¬çš„ä½“ç§¯æ¸²æŸ“æƒé‡ï¼Œå³å®ƒå¯¹è®­ç»ƒåƒç´ é¢œè‰²çš„è´¡çŒ®ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†ä»»ä½•å…·æœ‰è¶³å¤Ÿå¤§çš„æ¸²æŸ“æƒé‡(&gt; 0.005)çš„æ ·æœ¬æ”¾å…¥3Dç½‘æ ¼ä¸­ï¼Œå¹¶å°†ç›¸åº”çš„å•å…ƒæ ‡è®°ä¸ºè¡¨é¢æå–çš„å€™é€‰å•å…ƒã€‚</p><p>Mesh extraction.<strong>æˆ‘ä»¬åœ¨æ”¶ç¼©ç©ºé—´ä¸­ä»¥å‡åŒ€é—´éš”çš„åæ ‡å¯¹SDFç½‘æ ¼è¿›è¡Œé‡‡æ ·</strong>ï¼Œä»è€Œåœ¨ä¸–ç•Œç©ºé—´ä¸­äº§ç”Ÿä¸å‡åŒ€é—´éš”çš„éè½´å‘åæ ‡ã€‚<strong>è¿™å…·æœ‰ä¸ºé è¿‘åŸç‚¹çš„å‰æ™¯å†…å®¹åˆ›å»ºè¾ƒå°ä¸‰è§’å½¢(åœ¨ä¸–ç•Œç©ºé—´ä¸­)å’Œä¸ºè¾ƒè¿œçš„å†…å®¹åˆ›å»ºè¾ƒå¤§ä¸‰è§’å½¢çš„ç†æƒ³å±æ€§</strong>ã€‚æœ‰æ•ˆåœ°ï¼Œæˆ‘ä»¬åˆ©ç”¨æ”¶ç¼©ç®—å­ä½œä¸ºç»†èŠ‚çº§ç­–ç•¥:å› ä¸ºæˆ‘ä»¬æƒ³è¦æ¸²æŸ“çš„è§†å›¾æ¥è¿‘åœºæ™¯åŸç‚¹ï¼Œå¹¶ä¸”å› ä¸ºæ”¶ç¼©çš„å½¢çŠ¶è¢«è®¾è®¡ä¸ºæ’¤é”€é€è§†æŠ•å½±çš„æ•ˆæœï¼Œæ‰€ä»¥æ‰€æœ‰ä¸‰è§’å½¢åœ¨æŠ•å½±åˆ°å›¾åƒå¹³é¢ä¸Šæ—¶å°†å…·æœ‰å¤§çº¦ç›¸ç­‰çš„é¢ç§¯ã€‚<br>Region growing.åœ¨æå–ä¸‰è§’å½¢ç½‘æ ¼åï¼Œæˆ‘ä»¬ä½¿ç”¨åŒºåŸŸç”Ÿé•¿è¿‡ç¨‹æ¥å¡«å……å¯èƒ½å­˜åœ¨äºè¾“å…¥è§†ç‚¹æœªè§‚å¯Ÿåˆ°æˆ–åœ¨çƒ˜çƒ¤è¿‡ç¨‹ä¸­è¢«æè®®MLPé—æ¼çš„åŒºåŸŸä¸­çš„å°æ´ã€‚æˆ‘ä»¬åœ¨å½“å‰ç½‘æ ¼å‘¨å›´çš„é‚»åŸŸä¸­è¿­ä»£æ ‡è®°ä½“ç´ ï¼Œå¹¶æå–è¿™äº›æ–°æ´»åŠ¨ä½“ç´ ä¸­å­˜åœ¨çš„ä»»ä½•è¡¨é¢äº¤å‰ç‚¹ã€‚<strong>è¿™ç§åŒºåŸŸå¢é•¿ç­–ç•¥æœ‰æ•ˆåœ°è§£å†³äº†SDF MLPä¸­å­˜åœ¨æ›²é¢ä½†ç”±äºè®­ç»ƒè§†å›¾è¦†ç›–ä¸è¶³æˆ–æè®®MLPä¸­å­˜åœ¨é”™è¯¯è€Œæ— æ³•é€šè¿‡è¡Œè¿›ç«‹æ–¹ä½“æå–çš„æƒ…å†µ</strong>ã€‚ç„¶åæˆ‘ä»¬å°†ç½‘æ ¼è½¬æ¢ä¸ºä¸–ç•Œç©ºé—´ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥é€šè¿‡åœ¨æ¬§å‡ é‡Œå¾·ç©ºé—´ä¸­æ“ä½œçš„ä¼ ç»Ÿæ¸²æŸ“å¼•æ“è¿›è¡Œå…‰æ …åŒ–ã€‚<br>Implementation.æˆ‘ä»¬ä½¿ç”¨$2048^{3}$ç½‘æ ¼è¿›è¡Œå¯è§æ€§å’Œè‡ªç”±ç©ºé—´ç­›é€‰å’Œç§»åŠ¨ç«‹æ–¹ä½“ã€‚æœ€åˆï¼Œæˆ‘ä»¬åªåœ¨æœªè¢«å‰”é™¤çš„ä½“ç´ ä¸Šè¿è¡Œè¡Œè¿›ç«‹æ–¹ä½“ï¼Œå³å¯è§ä¸”éç©ºçš„ä½“ç´ ã€‚ç„¶åæˆ‘ä»¬ç”¨32ä¸ªåŒºåŸŸå¢é•¿è¿­ä»£æ¥å®Œæˆç½‘æ ¼ï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬åœ¨å½“å‰ç½‘æ ¼ä¸­çš„é¡¶ç‚¹å‘¨å›´çš„$8^{3}$ä¸ªä½“ç´ é™„è¿‘é‡æ–°è¿è¡Œè¡Œè¿›ç«‹æ–¹ä½“ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨é¡¶ç‚¹é¡ºåºä¼˜åŒ–å¯¹ç½‘æ ¼è¿›è¡Œåå¤„ç†[Sanderç­‰2007]ï¼Œ<strong>å®ƒé€šè¿‡å…è®¸é¡¶ç‚¹ç€è‰²å™¨è¾“å‡ºåœ¨ç›¸é‚»ä¸‰è§’å½¢ä¹‹é—´ç¼“å­˜å’Œé‡ç”¨æ¥åŠ å¿«ç°ä»£ç¡¬ä»¶ä¸Šçš„æ¸²æŸ“æ€§èƒ½</strong>ã€‚åœ¨é™„å½•Bä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†ç½‘æ ¼æå–çš„å…¶ä»–æ­¥éª¤ï¼Œè¿™äº›æ­¥éª¤å¹¶ä¸ä¸¥æ ¼æé«˜é‡å»ºç²¾åº¦ï¼Œä½†å¯ä»¥æä¾›æ›´ä»¤äººæ„‰æ‚¦çš„äº¤äº’å¼è§‚çœ‹ä½“éªŒã€‚</p><h2 id="Modeling-view-dependent-appearance"><a href="#Modeling-view-dependent-appearance" class="headerlink" title="Modeling view-dependent appearance"></a>Modeling view-dependent appearance</h2><p>ä¸Šé¢æè¿°çš„çƒ˜ç„™è¿‡ç¨‹ä»æˆ‘ä»¬åŸºäºmlpçš„åœºæ™¯è¡¨ç¤ºä¸­æå–é«˜è´¨é‡çš„ä¸‰è§’å½¢ç½‘æ ¼å‡ ä½•ã€‚ä¸ºäº†æ¨¡æ‹Ÿåœºæ™¯çš„å¤–è§‚ï¼ŒåŒ…æ‹¬ä¸è§†å›¾ç›¸å…³çš„æ•ˆæœï¼Œå¦‚é•œé¢ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªç½‘æ ¼é¡¶ç‚¹é…å¤‡æ¼«å°„é¢œè‰²$c_{d}$å’Œä¸€ç»„çƒå½¢é«˜æ–¯å¶ã€‚ç”±äºé¥è¿œçš„åŒºåŸŸåªèƒ½ä»æœ‰é™çš„ä¸€ç»„è§†å›¾æ–¹å‘è§‚å¯Ÿåˆ°ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨åœºæ™¯ä¸­ä»¥ç›¸åŒçš„ä¿çœŸåº¦å¯¹è§†å›¾ä¾èµ–æ€§è¿›è¡Œå»ºæ¨¡ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬åœ¨ä¸­å¿ƒåŒºåŸŸ$(|\mathbf{x}|\leq1)$ä½¿ç”¨ä¸‰ä¸ªçƒå½¢é«˜æ–¯æ³¢ç“£ï¼Œåœ¨å¤–å›´åŒºåŸŸä½¿ç”¨ä¸€ä¸ªæ³¢ç“£ã€‚å›¾3å±•ç¤ºäº†æˆ‘ä»¬çš„å¤–è§‚åˆ†è§£ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230913202957.png" alt="image.png"></p><p>è¿™ç§å¤–è§‚è¡¨ç¤ºæ»¡è¶³æˆ‘ä»¬å¯¹è®¡ç®—å’Œå†…å­˜çš„æ•ˆç‡ç›®æ ‡ï¼Œå› æ­¤å¯ä»¥å®æ—¶å‘ˆç°ã€‚æ¯ä¸ªçƒé¢é«˜æ–¯å¶æœ‰ä¸ƒä¸ªå‚æ•°:ä¸€ä¸ªä¸‰ç»´å•ä½å‘é‡$\mu$å¯¹äºç“£çš„å‡å€¼ï¼Œä¸€ä¸ªä¸‰ç»´çŸ¢é‡cè¡¨ç¤ºç“£çš„é¢œè‰²ï¼Œå’Œä¸€ä¸ªæ ‡é‡$\lambda$å¯¹äºå¶çš„å®½åº¦ã€‚è¿™äº›å¶æ˜¯ç”±è§†å›¾æ–¹å‘å‘é‡då‚æ•°åŒ–çš„ï¼Œæ‰€ä»¥ä¸€æ¡å°„çº¿ä¸ä»»ä½•ç»™å®šé¡¶ç‚¹ç›¸äº¤çš„æ¸²æŸ“é¢œè‰²Cå¯ä»¥è®¡ç®—ä¸º:<br>$\mathbf{C}=\mathbf{c}_{d}+\sum_{i=1}^{N}\mathbf{c}_{i}\exp\left(\lambda_{i}\left(\mu_{i}\cdot\mathbf{d}-1\right)\right).$ Eq.7</p><p>ä¸ºäº†ä¼˜åŒ–è¿™ç§è¡¨ç¤ºï¼Œæˆ‘ä»¬é¦–å…ˆå°†ç½‘æ ¼æ …æ ¼åŒ–åˆ°æ‰€æœ‰è®­ç»ƒè§†å›¾ä¸­ï¼Œå¹¶å­˜å‚¨ä¸æ¯ä¸ªåƒç´ ç›¸å…³çš„é¡¶ç‚¹ç´¢å¼•å’Œè´¨å¿ƒåæ ‡ã€‚åœ¨æ­¤é¢„å¤„ç†ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†é‡å¿ƒæ’å€¼åº”ç”¨äºå­¦ä¹ åˆ°çš„æ¯ä¸ªé¡¶ç‚¹å‚æ•°ï¼Œç„¶åè¿è¡Œæˆ‘ä»¬çš„è§†å›¾ä¾èµ–å¤–è§‚æ¨¡å‹(æ¨¡æ‹Ÿfragmentç€è‰²å™¨çš„æ“ä½œ)æ¥è½»æ¾æ¸²æŸ“åƒç´ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å°åŒ–æ¯ä¸ªåƒç´ çš„é¢œè‰²æŸå¤±æ¥ä¼˜åŒ–æ¯ä¸ªé¡¶ç‚¹çš„å‚æ•°ï¼Œå¦‚å…¬å¼2æ‰€ç¤ºã€‚å¦‚é™„å½•Bæ‰€è¿°ï¼Œæˆ‘ä»¬è¿˜ä¼˜åŒ–äº†èƒŒæ™¯æ¸…æ™°çš„é¢œè‰²ï¼Œä»¥ä¾¿ä¸ºäº¤äº’å¼æŸ¥çœ‹å™¨æä¾›æ›´æ„‰æ‚¦çš„ä½“éªŒã€‚ä¸ºäº†é˜²æ­¢è¿™ç§ä¼˜åŒ–è¢«ç½‘æ ¼å‡ ä½•å½¢çŠ¶æ²¡æœ‰å¾ˆå¥½å»ºæ¨¡çš„åƒç´ (ä¾‹å¦‚ï¼Œè½¯å¯¹è±¡è¾¹ç•Œå’ŒåŠé€æ˜å¯¹è±¡çš„åƒç´ )æ‰€å½±å“ï¼Œæˆ‘ä»¬ä½¿ç”¨é²æ£’æŸå¤±$\rho(\cdot,\alpha,c)$æ¥ä»£æ›¿VolSDFæœ€å°åŒ–çš„L2æŸå¤±ã€‚é²æ£’æŸå¤±è¶…å‚æ•°$\alpha=0,c={}^{1}/5$ï¼Œè¿™ä½¿å¾—ä¼˜åŒ–å¯¹ç¦»ç¾¤å€¼æ›´å…·é²æ£’æ€§[Barron 2019]ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨ç›´é€šä¼°è®¡å™¨å¯¹é‡åŒ–å»ºæ¨¡[Bengioç­‰äºº]ã€‚[2013]ï¼Œç¡®ä¿8ä½ç²¾åº¦å¾ˆå¥½åœ°è¡¨ç¤ºè§†å›¾ç›¸å…³å¤–è§‚çš„ä¼˜åŒ–å€¼ã€‚<br>æˆ‘ä»¬å‘ç°ç›´æ¥ä¼˜åŒ–è¿™ç§é€é¡¶ç‚¹è¡¨ç¤ºä¼šä½¿GPUå†…å­˜é¥±å’Œï¼Œè¿™é˜»ç¢äº†æˆ‘ä»¬æ‰©å±•åˆ°é«˜åˆ†è¾¨ç‡ç½‘æ ¼ã€‚æˆ‘ä»¬è½¬è€Œä¼˜åŒ–äº†ä¸€ä¸ªåŸºäºInstant NGPçš„å‹ç¼©ç¥ç»å“ˆå¸Œç½‘æ ¼æ¨¡å‹ã€‚åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒæ‰¹å†…çš„æ¯ä¸ª3Dé¡¶ç‚¹ä½ç½®æŸ¥è¯¢è¯¥æ¨¡å‹ï¼Œä»¥äº§ç”Ÿæˆ‘ä»¬çš„æ¼«åå°„é¢œè‰²å’Œçƒé¢é«˜æ–¯å‚æ•°ã€‚<br>ä¼˜åŒ–å®Œæˆåï¼Œæˆ‘ä»¬é€šè¿‡åœ¨æ¯ä¸ªé¡¶ç‚¹ä½ç½®æŸ¥è¯¢NGPæ¨¡å‹ä»¥è·å¾—ä¸å¤–è§‚ç›¸å…³çš„å‚æ•°ï¼Œçƒ˜çƒ¤å‡ºå“ˆå¸Œç½‘æ ¼ä¸­åŒ…å«çš„å‹ç¼©åœºæ™¯è¡¨ç¤ºã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨gLTFæ ¼å¼[ISO/IEC 12113:2022 2022]å¯¼å‡ºç”Ÿæˆçš„ç½‘æ ¼å’Œé€é¡¶ç‚¹å¤–è§‚å‚æ•°ï¼Œå¹¶ä½¿ç”¨gzipå‹ç¼©å®ƒï¼Œè¿™æ˜¯webåè®®åŸç”Ÿæ”¯æŒçš„æ ¼å¼ã€‚</p><h1 id="EXPERIMENTS"><a href="#EXPERIMENTS" class="headerlink" title="EXPERIMENTS"></a>EXPERIMENTS</h1><p>æˆ‘ä»¬é€šè¿‡è¾“å‡ºæ•ˆæœå›¾çš„å‡†ç¡®æ€§ä»¥åŠé€Ÿåº¦ã€èƒ½é‡energyå’Œå†…å­˜éœ€æ±‚æ¥è¯„ä¼°æ–¹æ³•çš„æ€§èƒ½ã€‚<br>å¯¹äºå‡†ç¡®æ€§ï¼Œæˆ‘ä»¬æµ‹è¯•äº†ä¸¤ä¸ªç‰ˆæœ¬çš„æ¨¡å‹: ç¬¬4.1èŠ‚ä¸­æè¿°çš„ä¸­é—´ä½“ç»˜åˆ¶ç»“æœï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œç¦»çº¿â€æ¨¡å‹ï¼Œä»¥åŠç¬¬4.2èŠ‚å’Œ4.3èŠ‚ä¸­æè¿°çš„çƒ˜ç„™å®æ—¶æ¨¡å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œå®æ—¶â€æ¨¡å‹ã€‚ä½œä¸ºåŸºçº¿ï¼Œæˆ‘ä»¬ä½¿ç”¨å…ˆå‰çš„ç¦»çº¿æ¨¡å‹[Barronç­‰äººï¼Œ2022;ç±³å°”ç™»éœå°”ç­‰äººã€‚2020;MÃ¼llerç­‰ã€‚2022;Rieglerå’ŒKoltun 2021;Zhangç­‰äººã€‚2020]designed for fidelity,ï¼Œä»¥åŠä¹‹å‰çš„å®æ—¶æ–¹æ³•[Chenç­‰äººã€‚2022å¹´;æµ·å¾·æ›¼ç­‰äººã€‚2018]designed for performance.<br>æˆ‘ä»¬è¿˜å°†æˆ‘ä»¬çš„æ–¹æ³•æ¢å¤çš„ç½‘æ ¼ä¸COLMAP [SchÃ¶nbergerç­‰äºº]ï¼Œmip-NeRF 360 [Barronç­‰ã€‚2022]ï¼Œå’ŒMobileNeRF [Chenç­‰ã€‚2022å¹´]æå–çš„ç½‘æ ¼è¿›è¡Œäº†æ¯”è¾ƒã€‚æ‰€æœ‰FPS(å¸§/ç§’)æµ‹é‡éƒ½æ˜¯åœ¨1920 Ã— 1080åˆ†è¾¨ç‡ä¸‹æ¸²æŸ“çš„ã€‚</p><h2 id="Real-time-rendering-of-unbounded-scenes"><a href="#Real-time-rendering-of-unbounded-scenes" class="headerlink" title="Real-time rendering of unbounded scenes"></a>Real-time rendering of unbounded scenes</h2><h2 id="Mesh-extraction"><a href="#Mesh-extraction" class="headerlink" title="Mesh extraction"></a>Mesh extraction</h2><h2 id="Appearance-model-ablation"><a href="#Appearance-model-ablation" class="headerlink" title="Appearance model ablation"></a>Appearance model ablation</h2><h1 id="å®éªŒ-éå®˜æ–¹code"><a href="#å®éªŒ-éå®˜æ–¹code" class="headerlink" title="å®éªŒ(éå®˜æ–¹code)"></a>å®éªŒ(éå®˜æ–¹code)</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install torch torchvision</span><br><span class="line">pip install git+https://github.com/NVlabs/tiny-cuda-nn/<span class="comment">#subdirectory=bindings/torch</span></span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p>colmapç”Ÿæˆpose<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python scripts/imgs2poses.py ./load/bmvs_dog <span class="comment"># images are in ./load/bmvs_dog/images</span></span><br></pre></td></tr></table></figure></p><p>run:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python launch.py --config configs/neus-colmap.yaml --gpu 0 --train dataset.root_dir=<span class="variable">$1</span></span><br><span class="line">python launch.py --config configs/bakedsdf-colmap.yaml --gpu 0 --train dataset.root_dir=<span class="variable">$1</span> --resume_weights_only --resume latest</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Real-time </tag>
            
            <tag> Efficiency </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ref-NeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/Ref-NeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/Ref-NeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Ref-NeuS: Ambiguity-Reduced Neural Implicit Surface Learning for Multi-View Reconstruction with Reflection</th></tr></thead><tbody><tr><td>Author</td><td>Wenhang Ge1 Tao Hu 2 Haoyu Zhao 1 Shu Liu 3 Ying-Cong Chen1,âˆ—</td></tr><tr><td>Conf/Jour</td><td>ICCV Oral</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://g3956.github.io/">Ref-NeuS (g3956.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4735800840636350465&amp;noteId=1957762733774455552">Ref-NeuS: Ambiguity-Reduced Neural Implicit Surface Learning for Multi-View Reconstruction with Reflection (readpaper.com)</a></td></tr></tbody></table></div><ul><li>Anomaly Detection for Reflection Score + Visibility Identification for Reflection Score</li><li>Reflection Direction Dependent Radianceåå°„æ„ŸçŸ¥çš„å…‰åº¦æŸå¤±</li></ul><span id="more"></span><h1 id="Limitation-and-Conclusion"><a href="#Limitation-and-Conclusion" class="headerlink" title="Limitation and Conclusion"></a>Limitation and Conclusion</h1><p>Limitationï¼šå°½ç®¡æˆ‘ä»¬çš„æ–¹æ³•åœ¨å¸¦åå°„çš„å¤šè§†å›¾é‡å»ºä¸­æ˜¾ç¤ºå‡ºè‰¯å¥½çš„æ•ˆæœï¼Œä½†ä»ç„¶å­˜åœ¨ä¸€äº›å±€é™æ€§ã€‚</p><ul><li>é¦–å…ˆï¼Œ<strong>ä¼°è®¡åå°„åˆ†æ•°</strong>ä¸å¯é¿å…åœ°<strong>å¢åŠ äº†è®¡ç®—æˆæœ¬</strong>ã€‚</li><li>å…¶æ¬¡ï¼Œç®€å•åœ°ç”¨åå°„æ–¹å‘å–ä»£è¾å°„ç½‘ç»œçš„ä¾èµ–å…³ç³»ï¼Œ<strong>è€Œä¸ç®¡ç‰©ä½“çš„æè´¨å¦‚ä½•ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹éƒ½ä¼šå¯¼è‡´ä¼ªå½±</strong>ã€‚æˆ‘ä»¬åœ¨è¡¥å……ææ–™ä¸­ç»™å‡ºäº†è¿™æ ·ä¸€ä¸ªäººå·¥åˆ¶å“çš„ä¾‹å­ã€‚</li></ul><p>Conclusionï¼šæœ¬æ–‡ç ”ç©¶äº†å…·æœ‰åå°„è¡¨é¢çš„ç‰©ä½“çš„å¤šè§†ç‚¹é‡å»ºé—®é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡è¦ä½†å°šæœªå¾—åˆ°å……åˆ†ç ”ç©¶çš„é—®é¢˜ã€‚åå°„å¼•èµ·çš„æ¨¡ç³Šä¼šä¸¥é‡ç ´åå¤šè§†å›¾çš„ä¸€è‡´æ€§ï¼Œä½†æˆ‘ä»¬æå‡ºçš„Ref-NeuSæ–¹æ³•<strong>é€šè¿‡å¼•å…¥åå°„æ„ŸçŸ¥çš„å…‰åº¦æŸå¤±æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…¶ä¸­åå°„åƒç´ çš„é‡è¦æ€§ä½¿ç”¨é«˜æ–¯åˆ†å¸ƒæ¨¡å‹è¡°å‡</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ–¹æ³•é‡‡ç”¨äº†åå°„æ–¹å‘ç›¸å…³çš„è¾å°„ï¼Œè¿™è¿›ä¸€æ­¥æ”¹å–„äº†å‡ ä½•å½¢çŠ¶ï¼Œå…·æœ‰æ›´å¥½çš„è¾å°„åœºï¼ŒåŒ…æ‹¬å‡ ä½•å½¢çŠ¶å’Œè¡¨é¢æ³•çº¿ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ç¥ç»éšå¼è¡¨é¢å­¦ä¹ åœ¨å¤šè§†å›¾ä¸‰ç»´é‡å»ºä¸­å–å¾—äº†é‡å¤§è¿›å±•ï¼Œå…¶ä¸­ç‰©ä½“ç”±MLPè¡¨ç¤ºï¼Œè¿™äº›æ„ŸçŸ¥å™¨æä¾›è¿ç»­çš„éšå¼è¡¨é¢è¡¨ç¤ºå’Œä¸è§†å›¾ç›¸å…³çš„äº®åº¦ã€‚ç„¶è€Œï¼Œç›®å‰çš„æ–¹æ³•å¾€å¾€ä¸èƒ½å‡†ç¡®åœ°é‡å»ºåå°„è¡¨é¢ï¼Œå¯¼è‡´ä¸¥é‡çš„æ¨¡ç³Šæ€§ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†Ref-NeuSï¼Œ<strong>æ—¨åœ¨é€šè¿‡é™ä½åå°„è¡¨é¢çš„é‡è¦æ€§æ¥å‡å°‘æ¨¡ç³Šæ€§</strong>ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬åˆ©ç”¨<strong>å¼‚å¸¸æ£€æµ‹å™¨</strong>åœ¨å¤šè§†å›¾contextçš„æŒ‡å¯¼ä¸‹ä¼°è®¡æ˜¾å¼åå°„åˆ†æ•°æ¥å®šä½åå°„è¡¨é¢ã€‚ä¹‹åï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ª<strong>åå°„æ„ŸçŸ¥çš„å…‰åº¦æŸå¤±</strong>ï¼Œé€šè¿‡å°†æ¸²æŸ“é¢œè‰²å»ºæ¨¡ä¸ºé«˜æ–¯åˆ†å¸ƒï¼Œä»¥åå°„åˆ†æ•°è¡¨ç¤ºæ–¹å·®varianceï¼Œè‡ªé€‚åº”åœ°å‡å°‘æ¨¡ç³Šã€‚æˆ‘ä»¬è¡¨æ˜ï¼Œä¸åå°„æ–¹å‘ç›¸å…³çš„è¾å°„ä¸€èµ·ï¼Œæˆ‘ä»¬çš„æ¨¡å‹åœ¨åå°„è¡¨é¢ä¸Šå®ç°äº†é«˜è´¨é‡çš„è¡¨é¢é‡å»ºï¼Œå¹¶ä¸”åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¼˜äºæœ€å…ˆè¿›çš„æŠ€æœ¯ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ¨¡å‹åœ¨ä¸€èˆ¬è¡¨é¢ä¸Šä¹Ÿå…·æœ‰å¯æ¯”æ€§ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä¸‰ç»´é‡å»ºæ˜¯è®¡ç®—æœºè§†è§‰ä¸­çš„ä¸€é¡¹é‡è¦ä»»åŠ¡ï¼Œæ˜¯è®¡ç®—æœºè¾…åŠ©è®¾è®¡[20,8]ã€è®¡ç®—æœºåŠ¨ç”»[33,23]ã€è™šæ‹Ÿç°å®[40]ç­‰å¤šä¸ªé¢†åŸŸçš„åŸºç¡€ã€‚åœ¨å„ç§ä¸‰ç»´é‡å»ºæŠ€æœ¯ä¸­ï¼ŒåŸºäºå›¾åƒçš„ä¸‰ç»´é‡å»ºæŠ€æœ¯å°¤å…¶å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œå…¶ç›®çš„æ˜¯ä»æ„æˆçš„äºŒç»´å›¾åƒä¸­æ¢å¤ä¸‰ç»´ç»“æ„ã€‚ä¼ ç»Ÿçš„å¤šè§†è§’ç«‹ä½“(MVS)æ–¹æ³•[11,39,51]é€šå¸¸éœ€è¦ä¸€ä¸ªå¤šæ­¥éª¤çš„ç®¡é“ï¼Œå¹¶å¸¦æœ‰ç›‘ç£ï¼Œè¿™å¯èƒ½å¾ˆéº»çƒ¦ã€‚æœ€è¿‘ï¼Œç¥ç»éšå¼è¡¨é¢å­¦ä¹ [45,52,31]å› å…¶èƒ½å¤Ÿä»¥æ”¯æŒç«¯åˆ°ç«¯å’Œæ— ç›‘ç£è®­ç»ƒçš„æ•´æ´å…¬å¼å®ç°å“è¶Šçš„é‡å»ºè´¨é‡è€Œå—åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ã€‚ç„¶è€Œï¼Œå¦‚å›¾1æ‰€ç¤ºï¼Œ<strong>ç°æœ‰çš„æ–¹æ³•å¾€å¾€åœ¨åå°„è¡¨é¢(å¦‚é•œé¢é«˜å…‰)äº§ç”Ÿé”™è¯¯çš„ç»“æœ</strong>ã€‚ç”±äºè¿™äº›æ–¹æ³•æ¨æ–­çš„å‡ ä½•ä¿¡æ¯å…·æœ‰å¤šè§†å›¾ä¸€è‡´æ€§ï¼Œå› æ­¤<strong>ç”±äºåå°„è¡¨é¢ä¸Šå‡ ä½•ç½‘ç»œçš„è¡¨é¢é¢„æµ‹ä¸æ˜ç¡®è€Œå½±å“äº†å¤šè§†å›¾ä¸€è‡´æ€§</strong>ã€‚å› æ­¤ï¼Œåœ¨åå°„ä¸å¯é¿å…çš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬çš„å®ç”¨æ€§å—åˆ°é™åˆ¶ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230912143310.png" alt="image.png"></p><p>æœ€è¿‘çš„ä¸€äº›ç ”ç©¶[3,42,55,57,43]ç ”ç©¶äº†ç¥ç»è¾å°„åœºçš„åå°„å»ºæ¨¡ã€‚è¿™äº›æ–¹æ³•é€šå¸¸å°†å¯¹è±¡çš„å¤–è§‚åˆ†è§£ä¸ºå‡ ä¸ªç‰©ç†ç»„ä»¶ï¼Œä»è€Œå…è®¸æ˜¾å¼åœ°è¡¨ç¤ºåå°„ã€‚é€šè¿‡æ¶ˆé™¤åå°„åˆ†é‡çš„å½±å“ï¼Œå¯ä»¥æ›´å¥½åœ°ä¼°è®¡3Då‡ ä½•å½¢çŠ¶ã€‚<strong>ç„¶è€Œï¼Œç‰©ç†åˆ†è§£å¯èƒ½æ˜¯é«˜åº¦ä¸é€‚å®šçš„[14]ï¼Œä¸å‡†ç¡®çš„åˆ†è§£ä¼šä¸¥é‡é™åˆ¶æ€§èƒ½</strong>ã€‚ä¾‹å¦‚ï¼Œå¦‚å›¾1æ‰€ç¤ºï¼ŒRef-NeRF[43]ä¸­é¢„æµ‹çš„normä¸å¤Ÿå‡†ç¡®ï¼Œä»è€Œå¯¼è‡´æ€§èƒ½æ¬¡ä¼˜ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç®€å•è€Œæœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œ<strong>ä¸ä¾èµ–äºå…·æœ‰æŒ‘æˆ˜æ€§çš„ç‰©ç†åˆ†è§£</strong>ã€‚<br>ç›¸åï¼Œ<strong>æˆ‘ä»¬å»ºè®®é€šè¿‡å¼•å…¥åå°„æ„ŸçŸ¥å…‰åº¦æŸå¤±æ¥å‡å°‘æ¨¡ç³Šæ€§ï¼Œè¯¥å…‰åº¦æŸå¤±å¯æ ¹æ®åå°„åˆ†æ•°è‡ªé€‚åº”åœ°é™ä½æ‹Ÿåˆåå°„è¡¨é¢çš„æƒé‡ã€‚é€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬é¿å…äº†ç ´åæ€§çš„å¤šè§†å›¾ä¸€è‡´æ€§</strong>ã€‚æ­¤å¤–ï¼Œå—Ref-NeRF[43]å’ŒNeuralWarp[7]çš„å¯å‘ï¼Œæˆ‘ä»¬è¡¨æ˜æˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨åå°„æ–¹å‘ä»£æ›¿è¾å°„ä¾èµ–å…³ç³»æ¥è¿›ä¸€æ­¥æ”¹è¿›å‡ ä½•å½¢çŠ¶ï¼Œä»¥è·å¾—æ›´å‡†ç¡®çš„è¾å°„åœºã€‚å¦‚å›¾1æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„æ¨¡å‹åœ¨é¢„æµ‹è¡¨é¢å‡ ä½•å½¢çŠ¶(é¡¶éƒ¨è¡Œ)å’Œè¡¨é¢æ³•çº¿(ä¸­é—´è¡Œ)æ–¹é¢ä¼˜äºå…¶ä»–ç«äº‰æ–¹æ³•ã€‚æ­¤å¤–ï¼Œé€šè¿‡ä¼°ç®—æ›´ç²¾ç¡®çš„è¡¨é¢æ³•çº¿æ¥ç¡®å®šåå°„æ–¹å‘çš„å‡†ç¡®æ€§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®ç°æœ‰å¸Œæœ›çš„æ¸²æŸ“çœŸå®æ„Ÿï¼Œä½œä¸ºä¸€ä¸ªé¢å¤–çš„benefit(åº•éƒ¨è¡Œ)ã€‚</p><p>è™½ç„¶ä¸Šé¢è®¨è®ºçš„æƒ³æ³•å¾ˆç®€å•ï¼Œä½†è®¾è®¡åå°„æ„ŸçŸ¥çš„å…‰åº¦æŸå¤±æ˜¯éå¸¸é‡è¦çš„ã€‚ä¸€ç§ç›´æ¥çš„æ–¹æ³•æ˜¯éµå¾ªNeRF-W[27]ï¼Œå…¶ä¸­vanillaå…‰åº¦æŸå¤±è¢«æ‰©å±•åˆ°è´å¶æ–¯å­¦ä¹ æ¡†æ¶[19]ã€‚å®ƒå°†è¾å°„è¡¨ç¤ºä¸ºé«˜æ–¯åˆ†å¸ƒï¼Œå­¦ä¹ åˆ°çš„ä¸ç¡®å®šæ€§è¡¨ç¤ºæ–¹å·®ï¼ŒæœŸæœ›ä¸ç¡®å®šæ€§å¯ä»¥åœ¨é‡å¤–å®šä½å›¾åƒçš„ç¬æ€åˆ†é‡ï¼Œæ¶ˆé™¤å…¶å¯¹é™æ€åˆ†é‡å­¦ä¹ çš„å½±å“ã€‚<strong>ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•å¹¶ä¸é€‚ç”¨äºåå°„åœºæ™¯</strong>ï¼Œå› ä¸ºå®ƒå­¦ä¹ äº†åªè€ƒè™‘å•ä¸€å…‰çº¿ä¿¡æ¯è€Œå¿½ç•¥å¤šè§†å›¾contextçš„éšå«ä¸ç¡®å®šæ€§ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<strong>æˆ‘ä»¬å»ºè®®å®šä¹‰ä¸€ä¸ªæ˜ç¡®çš„åå°„åˆ†æ•°ï¼Œè¯¥åˆ†æ•°åˆ©ç”¨å‚è€ƒåŒä¸€è¡¨é¢ç‚¹çš„å¤šè§†å›¾å›¾åƒçš„åƒç´ é¢œè‰²è·å¾—çš„å¤šè§†å›¾context</strong>ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ç¡®å®šç»™å®šä¸€ä¸ªè¡¨é¢ç‚¹çš„æ‰€æœ‰æºè§†å›¾çš„å¯è§æ€§ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ç‚¹æŠ•å½±åˆ°å¯è§å›¾åƒä¸­ä»¥è·å¾—åƒç´ é¢œè‰²ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨å¼‚å¸¸æ£€æµ‹å™¨æ¥ä¼°è®¡åå°„åˆ†æ•°ï¼Œè¯¥åˆ†æ•°ä½œä¸ºæ–¹å·®ã€‚é€šè¿‡<strong>æœ€å°åŒ–é¢œè‰²é«˜æ–¯åˆ†å¸ƒçš„è´Ÿå¯¹æ•°ä¼¼ç„¶</strong>ï¼Œè¾ƒå¤§çš„æ–¹å·®ä¼šå‡å¼±å…¶é‡è¦æ€§ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥è¯æ˜ï¼Œé€šè¿‡ä½¿ç”¨åå°„æ–¹å‘ç›¸å…³çš„è¾å°„ï¼Œæˆ‘ä»¬çš„æ¨¡å‹åœ¨å…·æœ‰æ›´å¥½çš„è¾å°„åœºçš„å¤šè§†å›¾é‡å»ºä¸­å–å¾—äº†ä»¤äººæ»¡æ„çš„ç»“æœã€‚</p><p>è´¡çŒ®ï¼š</p><ul><li>æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œæˆ‘ä»¬æå‡ºäº†ç¬¬ä¸€ä¸ªç”¨äºé‡å»ºå…·æœ‰åå°„è¡¨é¢çš„ç‰©ä½“çš„ç¥ç»éšå¼è¡¨é¢å­¦ä¹ æ¡†æ¶ã€‚</li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•ï¼Œä½¿ç¥ç»éšå¼è¡¨é¢å­¦ä¹ å¤„ç†åå°„è¡¨é¢ã€‚æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥äº§ç”Ÿé«˜è´¨é‡çš„è¡¨é¢å‡ ä½•å½¢çŠ¶å’Œè¡¨é¢æ³•çº¿ã€‚</li><li>åœ¨å¤šä¸ªæ•°æ®é›†ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒè¡¨æ˜ï¼Œæ‰€æå‡ºçš„æ¡†æ¶åœ¨åå°„è¡¨é¢ä¸Šçš„æ€§èƒ½æ˜æ˜¾ä¼˜äºæœ€å…ˆè¿›çš„æ–¹æ³•ã€‚</li></ul><h2 id="Related-Works"><a href="#Related-Works" class="headerlink" title="Related Works"></a>Related Works</h2><h2 id="Multi-View-Stereo-for-3D-Reconstruction"><a href="#Multi-View-Stereo-for-3D-Reconstruction" class="headerlink" title="Multi-View Stereo for 3D Reconstruction"></a>Multi-View Stereo for 3D Reconstruction</h2><p>å¤šè§†å›¾ç«‹ä½“(MVS)æ˜¯ä¸€ç§æ—¨åœ¨ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºç»†ç²’åº¦åœºæ™¯å‡ ä½•ç»“æ„çš„æŠ€æœ¯ã€‚ä¼ ç»Ÿçš„MVSæ–¹æ³•å¯ä»¥æ ¹æ®è¾“å‡ºåœºæ™¯çš„è¡¨ç¤ºåˆ†ä¸ºå››ç±»: åŸºäºä½“ç§¯çš„æ–¹æ³•[6,41]ã€åŸºäºç½‘æ ¼çš„æ–¹æ³•[10]ã€åŸºäºç‚¹äº‘çš„æ–¹æ³•[11,24]å’ŒåŸºäºæ·±åº¦å›¾çš„æ–¹æ³•[4,12,38,39,47]ã€‚<strong>å…¶ä¸­ï¼ŒåŸºäºæ·±åº¦å›¾çš„æ–¹æ³•æœ€ä¸ºçµæ´»ï¼Œåˆ©ç”¨å‚è€ƒå›¾åƒå’Œç›¸é‚»å›¾åƒçš„å…‰åº¦ä¸€è‡´æ€§ä¼°è®¡æ¯ä¸ªè§†å›¾çš„æ·±åº¦å›¾[11]ï¼Œç„¶åå°†æ‰€æœ‰æ·±åº¦å›¾èåˆæˆå¯†é›†çš„ç‚¹äº‘</strong>ã€‚ç„¶åé‡‡ç”¨è¡¨é¢é‡å»ºæ–¹æ³•[6,18,22]ï¼Œå¦‚ç­›é€‰æ³Šæ¾è¡¨é¢é‡å»º[18]ï¼Œä»ç‚¹äº‘é‡å»ºè¡¨é¢ã€‚<br><strong>ç„¶è€Œï¼ŒåŸºäºå­¦ä¹ çš„MVSæ–¹æ³•åœ¨æŸäº›æƒ…å†µä¸‹ä»ç„¶å¯èƒ½äº§ç”Ÿä»¤äººä¸æ»¡æ„çš„ç»“æœ</strong>ï¼Œä¾‹å¦‚é•œé¢åå°„çš„è¡¨é¢ï¼Œä½çº¹ç†çš„åŒºåŸŸå’Œéå…°ä¼¯ç‰¹åŒºåŸŸã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä¸èƒ½ä¿è¯å¤šè§†å›¾å›¾åƒçš„å…‰åº¦ä¸€è‡´æ€§ï¼Œè¿™å¯èƒ½å¯¼è‡´é‡å»ºç»“æœä¸­å‡ºç°ä¸¥é‡çš„ä¼ªå½±å’Œç¼ºå¤±éƒ¨åˆ†ã€‚</p><h2 id="Neural-Implicit-Surface-for-3D-Reconstruction"><a href="#Neural-Implicit-Surface-for-3D-Reconstruction" class="headerlink" title="Neural Implicit Surface for 3D Reconstruction"></a>Neural Implicit Surface for 3D Reconstruction</h2><p>è¿‘å¹´æ¥ï¼Œäººä»¬æå‡ºäº†åŸºäºå­¦ä¹ çš„éšå¼è¡¨é¢è¡¨ç¤ºæ–¹æ³•ã€‚åœ¨è¿™äº›è¡¨ç¤ºä¸­ï¼Œç¥ç»ç½‘ç»œå°†ä¸‰ç»´ç©ºé—´ä¸­çš„è¿ç»­ç‚¹æ˜ å°„åˆ°å ç”¨åœº[29,36]æˆ–æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)[34]ã€‚è¿™äº›æ–¹æ³•æ‰§è¡Œå¤šè§†å›¾é‡å»ºï¼Œå¹¶æ ¹æ®æ¯ä¸ªç‚¹çš„å ç”¨å€¼æˆ–SDFè¿›è¡Œé¢å¤–çš„ç›‘ç£ã€‚<strong>ç„¶è€Œï¼Œå¯¹è¿™äº›æ–¹æ³•çš„ç›‘ç£å¹¶ä¸æ€»æ˜¯é€‚ç”¨äºonlyå¤šè§†å›¾2Då›¾åƒï¼Œè¿™é™åˆ¶äº†å®ƒä»¬çš„å¯æ‰©å±•æ€§</strong>ã€‚</p><p>åœ¨NeRF[30]ä¸­å¼•å…¥çš„ä½“ç§¯æ–¹æ³•å°†ç»å…¸çš„ä½“ç»˜åˆ¶[16]ä¸ç”¨äºæ–°å‹è§†å›¾åˆæˆçš„éšå¼å‡½æ•°ç›¸ç»“åˆï¼Œå¼•èµ·äº†äººä»¬å¯¹ä½¿ç”¨ç¥ç»éšå¼è¡¨é¢è¡¨ç¤ºå’Œä½“ç»˜åˆ¶è¿›è¡Œä¸‰ç»´é‡å»ºçš„å¤§é‡å…³æ³¨[31,52,45]ã€‚ä¸NeRFä¸åŒï¼ŒNeRFæ—¨åœ¨å‘ˆç°æ–°é¢–çš„è§†å›¾å›¾åƒï¼ŒåŒæ—¶ä¿æŒå‡ ä½•å½¢çŠ¶ä¸å—çº¦æŸï¼Œè¿™äº›æ–¹æ³•ä»¥æ›´æ˜ç¡®çš„æ–¹å¼å®šä¹‰è¡¨é¢ï¼Œå› æ­¤æ›´é€‚åˆè¡¨é¢æå–ã€‚UNISURF[31]ä½¿ç”¨å ç”¨åŸŸ[29]ï¼Œè€ŒIDR[53]ã€VolSDF[52]å’ŒNeuS[45]ä½¿ç”¨SDFåŸŸ[34]ä½œä¸ºéšå¼è¡¨é¢è¡¨ç¤ºã€‚<strong>å°½ç®¡è¿™äº›æ–¹æ³•åœ¨ä¸‰ç»´é‡å»ºæ–¹é¢è¡¨ç°è‰¯å¥½ï¼Œä½†å®ƒä»¬æ— æ³•æ¢å¤å…·æœ‰åå°„çš„ç‰©ä½“çš„æ­£ç¡®å‡ ä½•å½¢çŠ¶ï¼Œå¯¼è‡´è¡¨é¢ä¼˜åŒ–æ¨¡ç³Šä¸æ¸…</strong>ã€‚æˆ‘ä»¬çš„æ–¹æ³•å»ºç«‹åœ¨NeuS[45]çš„åŸºç¡€ä¸Šï¼Œä½†æˆ‘ä»¬ç›¸ä¿¡å®ƒå¯ä»¥é€‚åº”ä»»ä½•ä½“ç§¯ç¥ç»éšå¼æ¡†æ¶</p><h2 id="Modeling-for-Object-with-Reflection"><a href="#Modeling-for-Object-with-Reflection" class="headerlink" title="Modeling for Object with Reflection"></a>Modeling for Object with Reflection</h2><p>æˆ‘ä»¬è®¨è®ºäº†å…·æœ‰åå°„çš„ç‰©ä½“çš„æ¸²æŸ“å’Œé‡å»ºã€‚æœ€è¿‘çš„ä½œå“[3,42,55,57,43]ç ”ç©¶äº†é€šè¿‡å°†åœºæ™¯åˆ†è§£ä¸ºå½¢çŠ¶ã€åå°„ç‡å’Œç…§æ˜æ¥æ¸²æŸ“è§†å›¾ä¾èµ–çš„åå°„å¤–è§‚ï¼Œä»¥å®ç°æ–°çš„è§†å›¾åˆæˆå’Œé‡ç…§æ˜ã€‚<strong>ç„¶è€Œï¼Œæ¢å¤çš„ç½‘æ ¼æ²¡æœ‰æ˜ç¡®éªŒè¯ï¼Œå‡ ä½•å½¢çŠ¶å¾€å¾€ä¸ä»¤äººæ»¡æ„</strong>ã€‚å¦ä¸€æ–¹é¢ï¼Œé‡å»ºæ—¨åœ¨æ¢å¤æ˜¾å¼å‡ ä½•ï¼Œç”±äºå›ºæœ‰çš„æŒ‘æˆ˜ï¼Œè¿™ä¸€é¢†åŸŸä»æœªå¾—åˆ°å……åˆ†æ¢ç´¢ã€‚ä¾‹å¦‚ï¼ŒPM-PMVS[5]å°†é‡å»ºä»»åŠ¡å®šä¹‰ä¸ºæ›²é¢å‡ ä½•å’Œåå°„ç‡çš„è”åˆèƒ½é‡æœ€å°åŒ–ï¼Œè€ŒnLMVS-Net[49]å°†MVSå®šä¹‰ä¸ºç«¯åˆ°ç«¯å¯å­¦ä¹ ç½‘ç»œï¼Œåˆ©ç”¨è¡¨é¢æ³•çº¿ä½œä¸ºä¸è§†å›¾æ— å…³çš„è¡¨é¢ç‰¹å¾è¿›è¡Œæˆæœ¬ä½“ç§¯æ„å»ºå’Œè¿‡æ»¤ã€‚<strong>ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•éƒ½æ²¡æœ‰å°†ç¥ç»éšå¼æ›²é¢ä¸ä½“ç»˜åˆ¶ç›¸ç»“åˆè¿›è¡Œé‡å»º</strong>ã€‚</p><h2 id="Warping-based-Consistency-Learning"><a href="#Warping-based-Consistency-Learning" class="headerlink" title="Warping-based Consistency Learning"></a>Warping-based Consistency Learning</h2><p>åŸºäºç¿˜æ›²çš„ä¸€è‡´æ€§å­¦ä¹ å¹¿æ³›åº”ç”¨äºMVS[44,48,47,54]å’Œç¥ç»éšå¼è¡¨é¢å­¦ä¹ [7,9]ä¸­ï¼Œé€šè¿‡åˆ©ç”¨å¯å¾®ç¿˜æ›²æ“ä½œçš„å›¾åƒé—´å¯¹åº”å…³ç³»è¿›è¡Œä¸‰ç»´é‡å»ºã€‚<strong>é€šå¸¸ï¼ŒåŸºäºmvsçš„ç®¡é“ä¸­çš„ä¸€è‡´æ€§å­¦ä¹ æ˜¯åœ¨CNNç‰¹å¾çº§è¿›è¡Œçš„</strong>ã€‚ä¾‹å¦‚ï¼ŒMVSDF[54]å°†é¢„æµ‹çš„è¡¨é¢ç‚¹æ‰­æ›²åˆ°ç›¸é‚»è§†å›¾ï¼Œå¹¶å¼ºåˆ¶é€åƒç´ ç‰¹å¾ä¸€è‡´æ€§ï¼Œè€ŒACMM[47]å°†ç²—é¢„æµ‹æ·±åº¦æ‰­æ›²ï¼Œå½¢æˆå¤šè§†å›¾èšåˆçš„å‡ ä½•ä¸€è‡´æ€§æˆæœ¬ï¼Œä»¥ç»†åŒ–æ›´ç²¾ç»†çš„å°ºåº¦ã€‚å¦ä¸€æ–¹é¢ï¼ŒåŸºäºç¥ç»éšå¼è¡¨é¢çš„ç®¡é“ä¸­çš„ä¸€è‡´æ€§å­¦ä¹ é€šå¸¸åœ¨å›¾åƒçº§åˆ«è¿›è¡Œã€‚NeuralWarp[7]å°†é‡‡æ ·ç‚¹æ²¿å°„çº¿å¼¯æ›²åˆ°æºå›¾åƒï¼Œè·å¾—å…¶RGBå€¼ï¼Œå¹¶ä¸è¾åº¦ç½‘ç»œè”åˆä¼˜åŒ–ï¼ŒGeo-Neus[9]å°†ä»¥é¢„æµ‹è¡¨é¢ç‚¹ä¸ºä¸­å¿ƒçš„ç°åº¦æ–‘å—å¼¯æ›²åˆ°é‚»è¿‘å›¾åƒï¼Œä»¥ä¿è¯å¤šè§†å›¾å‡ ä½•ä¸€è‡´æ€§ã€‚ç„¶è€Œï¼Œå®ƒä»¬å¿½ç•¥äº†ä¸è§†å›¾ç›¸å…³çš„è¾å°„ï¼Œå¹¶ä¸”å½“ç”±äºåå°„è€Œå¯¼è‡´å¤šè§†å›¾ä¸€è‡´æ€§ä¸åˆç†æ—¶å—åˆ°é™åˆ¶ï¼Œè¿™å¯èƒ½å¯¼è‡´åœ¨æœ€å°åŒ–è´´ç‰‡ç›¸ä¼¼æ€§æ—¶äº§ç”Ÿä¼ªå½±ï¼Œè€Œä¸ç®¡åå°„å¦‚ä½•ã€‚æ­¤å¤–ï¼Œå¯è§æ€§è¯†åˆ«å¤„ç†å¾—ä¸å¥½ï¼Œä¸¤è€…éƒ½ä¾èµ–äºç¹ççš„é¢„å¤„ç†æ¥ç¡®å®šæºå›¾åƒã€‚Alternativelyï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸ä¸€è‡´æ€§æ¥å‡å°‘é«˜ä¿çœŸé‡å»ºçš„æ¨¡ç³Šæ€§ã€‚</p><h1 id="Approach"><a href="#Approach" class="headerlink" title="Approach"></a>Approach</h1><p>ç»™å®šå…·æœ‰åå°„è¡¨é¢çš„ç‰©ä½“çš„Nå¹…æ ¡å‡†å¤šè§†å›¾å›¾åƒ$\mathcal{X}=\left\{\mathbf{I}_{i}\right\}_{i=1}^{N}$ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€šè¿‡ç¥ç»éšå¼è¡¨é¢å­¦ä¹ æ¥é‡å»ºè¡¨é¢ã€‚</p><ul><li>ç¬¬3.1èŠ‚ä»‹ç»äº†æˆ‘ä»¬ç”¨äºé‡å»ºçš„åŸºçº¿Neusã€‚</li><li>ç¬¬3.2èŠ‚ä»‹ç»äº†åå°„æ„ŸçŸ¥çš„å…‰åº¦æŸå¤±ã€‚å®ƒé€šè¿‡å°†æ¸²æŸ“é¢œè‰²è¡¨è¿°ä¸ºé«˜æ–¯åˆ†å¸ƒå¹¶è€ƒè™‘å¤šè§†å›¾contextçš„æ˜¾å¼æ–¹å·®ä¼°è®¡æ¥å‡å°‘åå°„çš„å½±å“ã€‚</li><li>ç¬¬3.3èŠ‚è®¨è®ºäº†æˆ‘ä»¬å¦‚ä½•è¯†åˆ«æºè§†å›¾çš„å¯è§æ€§ä»¥è·å¾—æ— ååå°„åˆ†æ•°ã€‚</li><li>ç¬¬3.4èŠ‚æ˜¾ç¤ºï¼Œä¸åå°„æ–¹å‘ç›¸å…³çš„è¾å°„ä¸€èµ·ï¼Œæˆ‘ä»¬çš„æ¨¡å‹é€šè¿‡æ›´å¥½çš„è¾å°„åœºè·å¾—æ›´å¥½çš„å‡ ä½•å½¢çŠ¶ã€‚</li><li>æœ€åï¼Œç¬¬3.5èŠ‚ç»™å‡ºäº†å®Œæ•´çš„ä¼˜åŒ–ã€‚å›¾2æ¦‚è¿°äº†æˆ‘ä»¬çš„æ–¹æ³•ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230912150124.png" alt="image.png"></p><h2 id="Volume-Rendering-with-Implicit-Surface"><a href="#Volume-Rendering-with-Implicit-Surface" class="headerlink" title="Volume Rendering with Implicit Surface"></a>Volume Rendering with Implicit Surface</h2><p>ä½“ç»˜åˆ¶[16]åœ¨NeRF[30]ä¸­è¢«ç”¨äºæ–°è§†å›¾åˆæˆã€‚è¿™ä¸ªæƒ³æ³•æ˜¯ç”¨ç¥ç»ç½‘ç»œæ¥è¡¨ç¤º3Dåœºæ™¯çš„è¿ç»­å±æ€§(å¦‚å¯†åº¦å’Œäº®åº¦)ã€‚Î±åˆæˆ[28]æ²¿ç€å°„çº¿rèšé›†è¿™äº›å±æ€§ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼è¿‘ä¼¼åƒç´ RGBå€¼:<br>$\hat{\mathbf{C}}(\mathbf{r})=\sum_{i=1}^{P}T_{i}\alpha_{i}\mathbf{c}_{i},$ Eq.1</p><p>$T_i=\exp\left(-\sum_{j=1}^{i-1}\alpha_j\delta_j\right)$, $\alpha_i=1-\exp{(-\sigma_i\delta_i)}$åˆ†åˆ«è¡¨ç¤ºé‡‡æ ·ç‚¹çš„é€å…‰ç‡å’Œalphaå€¼<br>$Î´_{i}$æ˜¯ç›¸é‚»é‡‡æ ·ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚Pæ˜¯æ²¿ä¸€æ¡å°„çº¿é‡‡æ ·ç‚¹çš„ä¸ªæ•°ã€‚åœ¨ä½ç½®x = (x, y, z)å’Œè§†åœºæ–¹å‘$d = (Î¸ï¼Œ Ï†)$çš„æ¡ä»¶ä¸‹ï¼Œç¥ç»ç½‘ç»œé¢„æµ‹å±æ€§$Ïƒ_{i}$å’Œ$c_{i}$ã€‚NeRFçš„è®­ç»ƒå¯¹è±¡$\mathcal{L}$æ˜¯çœŸå®åƒç´ é¢œè‰²C(r)ä¸æ¸²æŸ“é¢œè‰²$\hat{\mathrm{C}}(\mathbf{r})$ä¹‹é—´çš„å‡æ–¹è¯¯å·®ï¼Œè¡¨ç¤ºä¸º<br>$\mathcal{L}_\mathrm{color}=\sum_{\mathbf{r}\in\mathcal{R}}|\mathrm{C}(\mathbf{r})-\hat{\mathbf{C}}(\mathbf{r})|_2^2,$ Eq.2</p><p>å…¶ä¸­Rä¸ºä»ç›¸æœºä¸­å¿ƒåˆ°å›¾åƒåƒç´ çš„æ‰€æœ‰å…‰çº¿çš„é›†åˆã€‚<br>ç„¶è€Œï¼ŒåŸºäºå¯†åº¦çš„ä½“ç»˜åˆ¶ç¼ºä¹æ¸…æ™°çš„è¡¨é¢å®šä¹‰ï¼Œè¿™ä½¿å¾—æå–ç²¾ç¡®çš„å‡ ä½•å½¢çŠ¶å˜å¾—å›°éš¾ã€‚å¦å¤–ï¼Œæœ‰ç¬¦å·è·ç¦»å‡½æ•°(Signed Distance Function, SDF)å°†æ›²é¢æ˜ç¡®å®šä¹‰ä¸ºé›¶æ°´å¹³é›†ï¼Œä½¿å¾—åŸºäºSDFçš„ä½“ç»˜åˆ¶åœ¨æ›²é¢é‡å»ºä¸­æ›´åŠ æœ‰æ•ˆã€‚æ ¹æ®NeuS [45]ï¼Œ 3Dåœºæ™¯çš„å±æ€§åŒ…æ‹¬å¸¦ç¬¦å·çš„è·ç¦»å’Œäº®åº¦ï¼Œç”±å‡ ä½•ç½‘ç»œfå’Œäº®åº¦ç½‘ç»œcå‚æ•°åŒ–:<br>$s=f(\mathbf{x}),\quad\mathbf{c}=c(\mathbf{x},\mathbf{d}),$ Eq.3</p><p>å…¶ä¸­å‡ ä½•ç½‘ç»œfå°†ç©ºé—´ä½ç½®xæ˜ å°„åˆ°å…¶åˆ°å¯¹è±¡çš„å¸¦ç¬¦å·è·ç¦»f (x)ï¼Œè€Œè¾å°„ç½‘ç»œcé¢„æµ‹ä½ç½®xå’Œè§†å›¾æ–¹å‘dçš„é¢œè‰²ï¼Œä»¥æ¨¡æ‹Ÿä¸è§†å›¾ç›¸å…³çš„è¾å°„ã€‚ä¸ºäº†æ²¿ç€å°„çº¿rèšåˆé‡‡æ ·ç‚¹çš„å¸¦ç¬¦å·è·ç¦»å’Œé¢œè‰²ä»¥è¿›è¡Œåƒç´ é¢œè‰²è¿‘ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç±»ä¼¼äºNeRFçš„ä½“æ¸²æŸ“ã€‚å…³é”®çš„åŒºåˆ«åœ¨äº$\alpha_{i},$çš„å…¬å¼ï¼Œå®ƒæ˜¯ä»å¸¦ç¬¦å·çš„è·ç¦»f (x)è€Œä¸æ˜¯å¯†åº¦$\sigma_{i}$è®¡ç®—å‡ºæ¥çš„<br>$\alpha_{i}=\max\left(\frac{\Phi_{s}\left(f(\mathbf{x}_{i})\right)-\Phi_{s}\left(f(\mathbf{x}_{i+1})\right)}{\Phi_{s}\left(f(\mathbf{x}_{i})\right)},0\right),$ Eq.4</p><p>$\Phi_s(x)=(1+e^{-sx})^{-1}$,1/sæ˜¯ä¸€ä¸ªå¯è®­ç»ƒå‚æ•°ï¼Œè¡¨ç¤º$\Phi_s(x).$çš„æ ‡å‡†å·®ã€‚</p><h2 id="Anomaly-Detection-for-Reflection-Score"><a href="#Anomaly-Detection-for-Reflection-Score" class="headerlink" title="Anomaly Detection for Reflection Score"></a>Anomaly Detection for Reflection Score</h2><p>å¯¹äºå¤šè§†å›¾é‡å»ºï¼Œå¤šè§†å›¾ä¸€è‡´æ€§æ˜¯ç²¾ç¡®é‡å»ºæ›²é¢çš„ä¿è¯ã€‚ç„¶è€Œï¼Œå¯¹äºåå°„åƒç´ ï¼Œå‡ ä½•ç½‘ç»œç»å¸¸é¢„æµ‹æ¨¡ç³Šçš„è¡¨é¢ï¼Œè¿™ç ´åäº†å¤šè§†å›¾çš„ä¸€è‡´æ€§ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å»ºè®®<strong>é€šè¿‡åå°„æ„ŸçŸ¥å…‰åº¦æŸå¤±</strong>æ¥å‡å°‘åå°„è¡¨é¢çš„å½±å“ï¼Œ<strong>è¯¥æŸå¤±è‡ªé€‚åº”åœ°é™ä½åˆ†é…ç»™åå°„åƒç´ çš„æƒé‡</strong>ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰<strong>åå°„åˆ†æ•°</strong>ï¼Œå®ƒ<strong>å…è®¸æˆ‘ä»¬è¯†åˆ«åå°„åƒç´ </strong><br>ä¸€ç§naiveçš„è§£å†³æ–¹æ¡ˆæ˜¯å°†NeRF-W[27]ä¸­å®šä¹‰çš„ä¸ç¡®å®šæ€§ä½œä¸ºåå°„è¯„åˆ†ã€‚è¯¥æ–¹æ³•å°†åœºæ™¯çš„radianceå€¼å»ºæ¨¡ä¸ºé«˜æ–¯åˆ†å¸ƒï¼Œå¹¶å°†é¢„æµ‹çš„ä¸ç¡®å®šæ€§è§†ä¸ºæ–¹å·®ã€‚<strong>é€šè¿‡æœ€å°åŒ–é«˜æ–¯åˆ†å¸ƒçš„è´Ÿå¯¹æ•°ä¼¼ç„¶</strong>ï¼Œå¤§æ–¹å·®é™ä½äº†å…·æœ‰é«˜ä¸ç¡®å®šæ€§çš„åƒç´ çš„é‡è¦æ€§ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œåº”è¯¥ä¸ºåå°„åƒç´ åˆ†é…è¾ƒå¤§çš„æ–¹å·®ï¼Œä»¥å‡å¼±å…¶å¯¹é‡å»ºçš„å½±å“ã€‚<strong>ç„¶è€Œï¼ŒMLPå­¦ä¹ åˆ°çš„éšå¼ä¸ç¡®å®šæ€§æ˜¯åœ¨å•ä¸ªå…‰çº¿ä¸Šå®šä¹‰çš„ï¼Œè€Œæ²¡æœ‰è€ƒè™‘å¤šè§†å›¾contextã€‚å› æ­¤ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®çš„ç›‘ç£ï¼Œå®ƒå¯èƒ½æ— æ³•å‡†ç¡®å®šä½åå°„è¡¨é¢</strong>ã€‚<br>ä¸NeRF-W[27]ç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿå°†æ¸²æŸ“å…‰çº¿çš„é¢œè‰²è¡¨è¿°ä¸ºé«˜æ–¯åˆ†å¸ƒ$\hat{\mathbf{C}}(\mathbf{r})\sim (\overline{\mathbf{C}}(\mathbf{r}),\overline{\mathbf{\beta}}^2(\mathbf{r}))$ï¼Œå…¶ä¸­$\mathrm{\overline{C}(r)}$å’Œ$\overline{\beta}^2(\mathbf{r})$åˆ†åˆ«æ˜¯å‡å€¼å’Œæ–¹å·®ã€‚æˆ‘ä»¬é‡‡ç”¨Eq.(1)æ¥æŸ¥è¯¢$\mathrm{\overline{C}(r)}$ã€‚ç„¶è€Œï¼Œä¸NeRF-Wä¸åŒçš„æ˜¯ï¼ŒNeRF-Wä»…æ ¹æ®å•ä¸ªå…‰çº¿çš„ä¿¡æ¯å®šä¹‰éšå¼æ–¹å·®ï¼Œæˆ‘ä»¬åŸºäºå¤šè§†å›¾contextæ˜¾å¼å®šä¹‰æ–¹å·®ã€‚å…·ä½“æ¥è¯´ï¼Œ<strong>æˆ‘ä»¬åˆ©ç”¨å¤šè§†å›¾åƒç´ çš„é¢œè‰²æ¥ç¡®å®šç›¸åŒçš„è¡¨é¢ç‚¹çš„æ–¹å·®</strong>ã€‚</p><p>ä¸ºäº†è·å¾—å¤šè§†å›¾åƒç´ é¢œè‰²$\{\mathbf{C}_i(\mathbf{r})\}_{i=1}^N$ï¼Œæˆ‘ä»¬å°†æ›²é¢ç‚¹xæŠ•å½±åˆ°æ‰€æœ‰Nå¼ å›¾åƒ$\{\mathbf{I}_i\}_{i=1}^N$ä¸Šï¼Œå¹¶ä½¿ç”¨åŒçº¿æ€§æ’å€¼å¾—åˆ°ç›¸åº”çš„åƒç´ é¢œè‰²$\{\hat{\mathbf{C}_i}(\mathbf{r})\}_{i=1}^N$ï¼Œå…¶ä¸­$\{\hat{\mathbf{C}_i}(\mathbf{r})\}_{i=1}^{N}= \left\{\mathbf{C}_i(\mathbf{r}),\{\mathbf{C}_j(\mathbf{r})\}_{j=1}^{N-1}\right\}$è¡¨ç¤ºå‚è€ƒåƒç´ é¢œè‰²å’Œæºåƒç´ é¢œè‰²ã€‚ä¸ºç®€å•èµ·è§ï¼Œçœç•¥ä¸‹æ ‡ï¼Œåƒç´ é¢œè‰²Cç”±<br>$\begin{aligned}\mathcal{G}&amp;=\mathbf{K}\cdot\left(\mathbf{R}\cdot\mathbf{x}+\mathbf{T}\right),\\\mathbf{C}&amp;=\operatorname{interp}(\mathbf{I},\mathcal{G}),\end{aligned}$ Eq.5<br>å¼ä¸­ï¼Œinterpä¸ºåŒçº¿æ€§æ’å€¼ï¼ŒKä¸ºå†…æ ‡å®šçŸ©é˜µï¼ŒRä¸ºæ—‹è½¬çŸ©é˜µï¼Œtä¸ºå¹³ç§»çŸ©é˜µï¼ŒÂ·ä¸ºçŸ©é˜µä¹˜æ³•ã€‚<br>è€ƒè™‘åˆ°åªæœ‰éƒ¨åˆ†å›¾åƒçš„å±€éƒ¨åŒºåŸŸåŒ…å«åå°„ï¼Œæˆ‘ä»¬å°†åå°„å®šä½è§†ä¸ºå¼‚å¸¸æ£€æµ‹é—®é¢˜ï¼ŒæœŸæœ›å°†åå°„è¡¨é¢è§†ä¸ºå¼‚å¸¸å¹¶èµ‹äºˆè¾ƒé«˜çš„åå°„åˆ†æ•°ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆ©ç”¨é©¬æ°è·ç¦»[26]ä½œä¸ºåå°„åˆ†æ•°(å³æ–¹å·®)ï¼Œé€šè¿‡å¼‚å¸¸æ£€æµ‹å™¨ç»éªŒä¼°è®¡å‡ºè§†ç‚¹ç›¸å…³åå°„åˆ†æ•°$\cdot\overline{\beta}^{2}(\mathbf{r})$ï¼Œå¦‚ä¸‹æ‰€ç¤º:<br>$\overline{\beta}^{2}(\mathbf{r})=\gamma\frac{1}{N-1}\sum_{j=1}^{N-1}\sqrt{\left(\mathbf{C}_{i}(\mathbf{r})-\mathbf{C}_{j}(\mathbf{r})\right)^{T}\mathbf{\Sigma}^{-1}\left(\mathbf{C}_{i}(\mathbf{r})-\mathbf{C}_{j}(\mathbf{r})\right)},$Eq.6<br>å…¶ä¸­Î³ä¸ºæ§åˆ¶åå°„åˆ†æ•°å°ºåº¦çš„å°ºåº¦å› å­ï¼Œ$\Sigma^{-1}$ä¸ºç»éªŒåæ–¹å·®çŸ©é˜µã€‚ç”±äºåå°„å¹¶ä¸å å¤§å¤šæ•°è®­ç»ƒå›¾åƒçš„ä¸»å¯¼åœ°ä½ï¼Œå¦‚æœå½“å‰æ¸²æŸ“çš„åƒç´ é¢œè‰²$\mathbf{C}_i(\mathbf{r})$å—åˆ°åå°„çš„æ±¡æŸ“ï¼Œåˆ™ç”±äºå¤§å¤šæ•°ç›¸å¯¹æ•£åº¦å˜å¤§ï¼Œç”Ÿæˆçš„åå°„åˆ†æ•°ä¹Ÿä¼šå˜å¤§ã€‚<br>ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡æœ€å°åŒ–ç±»ä¼¼äºNeRF-W[27]å’ŒActiveNeRF[32]çš„æ‰¹æ¬¡$\mathcal{R}$ä¸­å°„çº¿råˆ†å¸ƒçš„è´Ÿå¯¹æ•°ä¼¼ç„¶ï¼Œå°†Eq.(2)ä¸­çš„å…‰åº¦æŸå¤±æ‰©å±•ä¸ºåå°„æ„ŸçŸ¥çš„æŸå¤±ï¼Œå¦‚ä¸‹æ‰€ç¤º:<br>$\mathcal{L}_{\mathrm{color}}=-\log p(\hat{\mathbf{C}}(\mathbf{r}))=\sum_{\mathbf{r}\in\mathcal{R}}\frac{|\mathbf{C}(\mathbf{r})-\overline{\mathbf{C}}(\mathbf{r})|_{2}^{2}}{2\overline{\beta}^{2}(\mathbf{r})}+\frac{\log\overline{\beta}^{2}(\mathbf{r})}{2}.$ Eq.7</p><p>ç”±äº${\overline{\beta}}^{2}(\mathbf{r})$æ˜¯ç”±Eq.(6)æ˜¾å¼ä¼°è®¡çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡MLPéšå¼å­¦ä¹ ï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå¯ä»¥ä»ç›®æ ‡å‡½æ•°ä¸­å»é™¤ã€‚æ­¤å¤–ï¼Œæ ¹æ®ä¹‹å‰çš„å·¥ä½œ[45,52,9]ï¼Œæˆ‘ä»¬ä½¿ç”¨L1æŸè€—ä»£æ›¿L2æŸè€—è¿›è¡Œå¤šè§†å›¾é‡å»ºã€‚æœ€åï¼Œæˆ‘ä»¬çš„åå°„æ„ŸçŸ¥å…‰åº¦æŸå¤±æ˜¯ç›¸å½“ç®€å•çš„å…¬å¼ä¸º<br>$\mathcal{L}_{\mathrm{color}}=\sum_{\mathrm{r}\in\mathcal{R}}\frac{|\mathbf{C}(\mathbf{r})-\overline{\mathbf{C}}(\mathbf{r})|}{\overline{\beta}^2(\mathbf{r})}$ Eq.8</p><h2 id="Visibility-Identification-for-Reflection-Score"><a href="#Visibility-Identification-for-Reflection-Score" class="headerlink" title="Visibility Identification for Reflection Score"></a>Visibility Identification for Reflection Score</h2><p>ä½¿ç”¨æºå›¾åƒçš„æ‰€æœ‰åƒç´ é¢œè‰²$\{\mathbf{C}_{j}(\mathbf{r})\}_{j=1}^{N-1}$è®¡ç®—åå°„åˆ†æ•°æ—¶ï¼Œå‡è®¾è¡¨é¢ä¸Šçš„ç‚¹åœ¨æ‰€æœ‰æºå›¾åƒä¸Šéƒ½æœ‰æœ‰æ•ˆçš„æŠ•å½±ã€‚ç„¶è€Œï¼Œåœ¨å®è·µä¸­ï¼Œç”±äºè‡ªæˆ‘èšç„¦ï¼Œè¿™ç§å‡è®¾å¹¶ä¸æ­£ç¡®ã€‚å¦‚æœè¯¥ç‚¹åœ¨æºå›¾åƒä¸­ä¸å¯è§ï¼Œåˆ™æŠ•å½±çš„åƒç´ é¢œè‰²æ²¡æœ‰æ„ä¹‰ï¼Œåœ¨å¼(6)ä¸­ä¸åº”ä½¿ç”¨ç›¸åº”çš„åƒç´ é¢œè‰²ã€‚<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå¯è§æ€§è¯†åˆ«æ¨¡å—ï¼Œå®ƒåˆ©ç”¨ä¸­é—´é‡æ„ç½‘æ ¼æ¥è¯†åˆ«å¯è§æ€§ï¼Œå¦‚å›¾3æ‰€ç¤ºã€‚å…·ä½“æ¥è¯´ï¼Œç»™å®šä¸€æ¡å°„çº¿$r_{i}$å¯¹åº”çš„åƒç´ $p_{i}$ï¼Œåˆ™å°„çº¿$r_{i}$ä¸Šçš„éšå¼æ›²é¢å¯ä»¥æ ¹æ®é‡‡æ ·ç‚¹xçš„å¸¦ç¬¦å·è·ç¦»è¡¨ç¤ºä¸º:$\hat{S}_i=\{\mathbf{x}\mid f(\mathbf{x})=0\}.$ Eq.9</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230912152320.png" alt="image.png"><br>ç”±äºä¸€æ¡å°„çº¿ä¸Šæœ‰æ— æ•°ä¸ªç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™æ¡å°„çº¿ä¸Šçš„ç¦»æ•£ç‚¹è¿›è¡Œé‡‡æ ·ã€‚æ ¹æ®é‡‡æ ·ç‚¹å’Œå®ƒä»¬çš„ç¬¦å·è·ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<br>$T_i=\left\{\mathbf{x}_j\mid f\left(\mathbf{x}_j\right)\cdot f\left(\mathbf{x}_{j+1}\right)&lt;0\right\}.$ Eq.10<br>å¦‚æœé‡‡æ ·ç‚¹$f(\mathbf{x}_j)$çš„ç¬¦å·ä¸ä¸‹ä¸€ä¸ªé‡‡æ ·ç‚¹$f(\mathbf{x}_{j+1})$çš„ç¬¦å·ä¸åŒï¼Œåˆ™åŒºé—´$[\mathbf{x}_j,\mathbf{x}_{j+1}]$ä¸æ›²é¢ç›¸äº¤ã€‚äº¤ç‚¹é›†$\hat{S}_{i}$å¯ç”±çº¿æ€§æ’å€¼å¾—åˆ°<br>$\hat{S}_i=\left\{\mathbf{x}\mid\mathbf{x}=\frac{f(\mathbf{x}_j)\mathbf{x}_{j+1}-f(\mathbf{x}_{j+1})\mathbf{x}_j}{f(\mathbf{x}_j)-f(\mathbf{x}_{j+1})},\mathbf{x}_j\in T_i\right\}$ Eq.11</p><p>å®é™…ä¸Šï¼Œå°„çº¿$r_{i}$å¯ä»¥åœ¨å¤šä¸ªè¡¨é¢ä¸ç‰©ä½“ç›¸äº¤ã€‚å¯¹äºæˆ‘ä»¬çš„åå°„åˆ†æ•°è®¡ç®—ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªäº¤é›†æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå®ƒè¢«è¡¨ç¤ºä¸º<br>$\mathbf{x}_i^<em>=\operatorname{argmin}\mathcal{D}(\mathbf{x},\mathbf{o}_i),$ Eq.12<br>$\mathbf{x}\in\hat{S}_{i}$å’Œ$\mathcal{D}(\cdot,\mathbf{o}_i)$åˆ†åˆ«è¡¨ç¤ºç‚¹xå’Œå°„çº¿åŸç‚¹$r_{i}$ä¹‹é—´çš„è·ç¦»ã€‚<br>æ•è·é¢„æµ‹çš„æ›²é¢ç‚¹$\mathrm{x}_i^</em>$åï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—è¯¥ç‚¹ä¸æ‰€æœ‰æºç›¸æœºä½ç½®$\{\mathbf{o}_{j}\}_{j=1}^{N-1}$ä¹‹é—´çš„è·ç¦»$\left\{d_j^<em>\right\}_{j=1}^{N-1}$ï¼Œå¦‚ä¸‹æ‰€ç¤º:<br>$d_j^</em>=\frac{\mathbf{x}_i^<em>-\mathbf{o}_j}{\mathrm{norm}(\mathbf{x}_i^</em>-\mathbf{o}_j)},$ Eq.13<br>å…¶ä¸­normè¡¨ç¤ºå°†å‘é‡è½¬æ¢ä¸ºå•ä½å‘é‡çš„å½’ä¸€åŒ–æ“ä½œã€‚åŒæ—¶ï¼Œæˆ‘ä»¬é€šè¿‡å…‰çº¿æŠ•å°„è®¡ç®—æ‰€æœ‰æºæ‘„åƒæœºä½ç½®$\{\mathbf{o}_{j}\}_{j=1}^{N-1}$åˆ°ä¸­é—´é‡å»ºç½‘æ ¼çš„ç¬¬ä¸€ä¸ªäº¤å‰ç‚¹çš„è·ç¦»$\{d_j\}_{j=1}^{N-1}$[37]ã€‚åŸºäºè¿™ä¸¤ä¸ªè·ç¦»ï¼Œæºå›¾åƒçš„å¯è§æ€§$\mathrm{I}_{j}$ç”±<br>$v_j=\mathbb{I}(d_j^*\leq d_j)$ Eq.14<br>å…¶ä¸­$\mathbb{I}(\cdot)$ä¸ºæŒ‡ç¤ºå‡½æ•°ã€‚åœ¨è¿‘ä¼¼å¯è§æ€§çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å‰”é™¤å…¬å¼(6)ä¸­ç”¨äºè®¡ç®—åå°„åˆ†æ•°çš„ä¸å¯è§åƒç´ é¢œè‰²$\{\mathbf{C}_j(\mathbf{r})\mid v_j=0\}$ï¼Œç„¶åå°†åå°„åˆ†æ•°ç»†åŒ–å¦‚ä¸‹:<br>$\overline{\beta}^2(\mathbf{r})=\gamma\frac{1}{\sum_{j=1}^{N-1}v_j}\sum_{j=1}^{N-1}v_j\text{Mdis},$<br>$\mathbf{Mdis}=\sqrt{\left(\mathbf{C}_{i}(\mathbf{r})-\mathbf{C}_{j}(\mathbf{r})\right)^{T}\mathbf{\Sigma}^{-1}\left(\mathbf{C}_{i}(\mathbf{r})-\mathbf{C}_{j}(\mathbf{r})\right)}.$ Eq.15</p><p>æˆ‘ä»¬åœ¨å›¾4ä¸­æä¾›äº†ä¸€äº›ä¾‹å­æ¥è¯´æ˜ä¼°è®¡çš„åå°„å¾—åˆ†ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230912153803.png" alt="image.png"><br><em>åå°„åˆ†æ•°çš„å¯è§†åŒ–ï¼Œå¯ä»¥å®šä½åå°„é¢ã€‚é»‘è‰²è¡¨ç¤ºé«˜åˆ†</em></p><h2 id="Reflection-Direction-Dependent-Radiance"><a href="#Reflection-Direction-Dependent-Radiance" class="headerlink" title="Reflection Direction Dependent Radiance"></a>Reflection Direction Dependent Radiance</h2><p>å¦‚Ref-NeRF[43]æ‰€ç¤ºï¼Œåœ¨åå°„åœºæ™¯ä¸­ï¼Œæ ¹æ®åå°„æ–¹å‘è°ƒèŠ‚äº®åº¦å¯ä»¥è·å¾—æ›´ç²¾ç¡®çš„äº®åº¦åœºï¼Œè¿™å·²è¢«è¯æ˜æœ‰åˆ©äºåœ¨NeuralWarpä¸­è¿›è¡Œé‡å»º[7]ã€‚å—æ­¤å¯å‘ï¼Œæˆ‘ä»¬å°†è¾å°„ç½‘ç»œé‡æ–°å‚æ•°åŒ–ä¸ºè¡¨é¢æ³•çº¿åå°„æ–¹å‘çš„å‡½æ•°ï¼Œå…¬å¼(3)ä¸º<br>$\mathbf{c}=c(\mathbf{x},\hat{\mathbf{d}}),$ Eq.16<br>reflection direction: $\hat{\mathbf{d}}=2(-\mathbf{d}\cdot\mathbf{\hat{n}})\mathbf{\hat{n}}+\mathbf{d},$ Eq.17<br>surface normal: $\hat{\mathbf{n}}=\frac{\nabla f(\mathbf{x})}{||\nabla f(\mathbf{x})||}.$ Eq.18</p><p>ä¸Ref-NeRF[43]ç›¸æ¯”ï¼Œ<strong>æˆ‘ä»¬çš„æ¡†æ¶ä¸­çš„åå°„æ–¹å‘æ›´åŠ ç²¾ç¡®ï¼Œå› ä¸ºè¡¨é¢æ³•çº¿ä¼°è®¡å¾—å¾ˆå¥½ï¼Œè¿™å¯¼è‡´äº†æ›´ç²¾ç¡®çš„è¾å°„åœº</strong>ã€‚ä¸åœ¨å…¶æ¡†æ¶ä¸­å¿½ç•¥åå°„çš„NeuralWarp[7]ç›¸æ¯”ï¼Œæˆ‘ä»¬è€ƒè™‘äº†ä¸è§†å›¾ç›¸å…³çš„äº®åº¦ï¼Œå¹¶ä¼°è®¡äº†æ›´å‡†ç¡®çš„äº®åº¦åœºã€‚ç»“æœè¡¨æ˜ï¼Œè¯¥æ–¹æ³•å¯¹äºå…·æœ‰åå°„çš„ç‰©ä½“çš„å¤šè§†å›¾é‡å»ºæ›´ä¸ºå¯é å’Œæœ‰å‰æ™¯</p><h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><p>æŸå¤±å‡½æ•°ï¼š<br>$\mathcal{L}=\mathcal{L}_{\mathrm{color}}+\alpha\mathcal{L}_{\mathrm{eik}}.$</p><ul><li>åå°„æ„ŸçŸ¥å…‰åº¦æŸå¤±$\mathcal{L}_{\mathrm{color}}$ Eq.8</li><li>$\mathcal{L}_{\mathrm{eik}}=\frac{1}{P}\sum_{i=1}^{P}\left(\left|\nabla f\left(x_{i}\right)\right|-1\right)^{2}.$</li><li>$\alpha = 0.1$</li></ul><h1 id="Experimetns"><a href="#Experimetns" class="headerlink" title="Experimetns"></a>Experimetns</h1><p>Datasets</p><ul><li>Shiny Blender</li><li>Blender</li><li>SLF</li><li>Bag of Chips</li></ul><p>Evaluation Protocol.</p><ul><li>Chamfer Distance</li><li><strong>Shiny Blender</strong><ul><li>MAE: mean angular error</li><li>PSNR</li></ul></li></ul><p>Implementation Details </p><ul><li>same as NeuS</li><li>3090Ti 7h</li></ul><p>Comparison with State-of-the-Art Methods</p><ul><li>IDRã€UNISURFã€VolSDFã€NeuS</li><li>NeuralWarpã€Geo-NeuS</li><li>Ref-NeRFã€PhySG<ul><li>quantitative results</li><li>qualitatively</li></ul></li></ul><p>Ablation Study</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Shadow&amp;Highlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Neus </tag>
            
            <tag> Shadow&amp;Highlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDR</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/IDR/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/IDR/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Multiview Neural Surface Reconstruction by Disentangling Geometry and Appearance</th></tr></thead><tbody><tr><td>Author</td><td>Lior Yariv, Yoni Kasten, Dror Moran, Meirav Galun, Matan Atzmon, Ronen Basri, Yaron Lipman</td></tr><tr><td>Conf/Jour</td><td>NeurIPS</td></tr><tr><td>Year</td><td>2020</td></tr><tr><td>Project</td><td><a href="https://lioryariv.github.io/idr/">Multiview Neural Surface Reconstruction by Disentangling Geometry and Appearance (lioryariv.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4545153915959271425&amp;noteId=1815797245432115712">Multiview Neural Surface Reconstruction by Disentangling Geometry and Appearance (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230906183157.png" alt="image.png"></p><p>ç«¯åˆ°ç«¯çš„IDRï¼šå¯ä»¥ä»maskedçš„2Då›¾åƒä¸­å­¦ä¹ 3Då‡ ä½•ã€å¤–è§‚ï¼Œ<em>å…è®¸ç²—ç•¥çš„ç›¸æœºä¼°è®¡</em></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬ä»‹ç»äº†éšå¼å¯å¾®åˆ†æ¸²æŸ“å™¨(IDR)ï¼Œè¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç¥ç»ç³»ç»Ÿï¼Œå¯ä»¥ä»masked 2Då›¾åƒå’Œå™ªå£°ç›¸æœºåˆå§‹åŒ–ä¸­å­¦ä¹ 3Då‡ ä½•ã€å¤–è§‚å’Œç›¸æœºã€‚ä»…è€ƒè™‘ç²—ç•¥çš„ç›¸æœºä¼°è®¡å…è®¸åœ¨ç°å®åœºæ™¯ä¸­ï¼Œå‡†ç¡®çš„ç›¸æœºä¿¡æ¯ä¸å¯ç”¨ç¨³å¥çš„3Dé‡å»ºã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•çš„ä¸€ä¸ª<strong>é™åˆ¶</strong>æ˜¯ï¼Œå®ƒ<strong>éœ€è¦ä¸€ä¸ªåˆç†çš„ç›¸æœºåˆå§‹åŒ–</strong>ï¼Œä¸èƒ½å·¥ä½œåœ¨éšæœºç›¸æœºåˆå§‹åŒ–ã€‚<br>æœªæ¥æœ‰è¶£çš„å·¥ä½œæ˜¯</p><ul><li>å°†IDRä¸ç›´æ¥ä»å›¾åƒä¸­é¢„æµ‹ç›¸æœºä¿¡æ¯çš„ç¥ç»ç½‘ç»œç»“åˆèµ·æ¥ã€‚</li><li>å¦ä¸€ä¸ªæœ‰è¶£çš„æœªæ¥å·¥ä½œæ˜¯è¿›ä¸€æ­¥å°†è¡¨é¢å…‰åœº(å…¬å¼5ä¸­çš„M0)åˆ†è§£ä¸ºææ–™(BRDF, B)å’Œåœºæ™¯ä¸­çš„å…‰(Li)ã€‚</li></ul><p>æœ€åï¼Œæˆ‘ä»¬å¸Œæœ›å°†IDRæ•´åˆåˆ°å…¶ä»–è®¡ç®—æœºè§†è§‰å’Œå­¦ä¹ åº”ç”¨ä¸­ï¼Œä¾‹å¦‚3Dæ¨¡å‹ç”Ÿæˆï¼Œä»¥åŠä»é‡å¤–å›¾åƒä¸­å­¦ä¹ 3Dæ¨¡å‹ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è§£å†³äº†å¤šè§†å›¾ä¸‰ç»´è¡¨é¢é‡å»ºçš„æŒ‘æˆ˜æ€§é—®é¢˜ã€‚æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªç¥ç»ç½‘ç»œæ¶æ„ï¼Œå®ƒå¯ä»¥<strong>åŒæ—¶å­¦ä¹ æœªçŸ¥çš„å‡ ä½•å½¢çŠ¶ã€ç›¸æœºå‚æ•°å’Œä¸€ä¸ªç¥ç»æ¸²æŸ“å™¨ï¼Œå®ƒå¯ä»¥è¿‘ä¼¼åœ°ä»è¡¨é¢åå°„åˆ°ç›¸æœºçš„å…‰</strong>ã€‚å‡ ä½•å›¾å½¢è¡¨ç¤ºä¸ºç¥ç»ç½‘ç»œçš„é›¶æ°´å¹³é›†ï¼Œè€Œä»æ¸²æŸ“æ–¹ç¨‹å¯¼å‡ºçš„ç¥ç»æ¸²æŸ“å™¨èƒ½å¤Ÿ(éšå¼åœ°)å¯¹å„ç§ç…§æ˜æ¡ä»¶å’Œææ–™è¿›è¡Œå»ºæ¨¡ã€‚æˆ‘ä»¬åœ¨æ¥è‡ªDTU MVSæ•°æ®é›†çš„å…·æœ‰ä¸åŒæè´¨å±æ€§ã€å…‰ç…§æ¡ä»¶å’Œå™ªç‚¹ç›¸æœºåˆå§‹åŒ–çš„ç‰©ä½“çš„çœŸå®ä¸–ç•Œ2Då›¾åƒä¸Šè®­ç»ƒæˆ‘ä»¬çš„ç½‘ç»œã€‚æˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„æ¨¡å‹å¯ä»¥äº§ç”Ÿé«˜ä¿çœŸåº¦ã€åˆ†è¾¨ç‡å’Œç»†èŠ‚çš„æœ€å…ˆè¿›çš„3Dè¡¨é¢é‡å»ºã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>NeRFï¼šåŸºäºNNçš„æ–¹æ³•å¯ä»¥ä»2Då›¾åƒä¸­å­¦ä¹ 3Då½¢çŠ¶</p><ul><li>Differential rendering: åŸºäºray casting/tracingæˆ–rasterizationå…‰æ …åŒ–</li><li>3D geometry represent : pointcloud , triangle meshes , implicit representations defined over volumetric grids, <strong>neural implicit representations</strong></li></ul><p><strong>neural implicit representations</strong>ä¸»è¦ä¼˜ç‚¹æ˜¯å®ƒä»¬åœ¨è¡¨ç¤ºä»»æ„å½¢çŠ¶å’Œæ‹“æ‰‘çš„è¡¨é¢æ–¹é¢çš„çµæ´»æ€§ï¼Œä»¥åŠæ— ç½‘æ ¼æ€§(å³ï¼Œæ²¡æœ‰å›ºå®šçš„å…ˆéªŒç¦»æ•£åŒ–ï¼Œå¦‚ä½“ç§¯ç½‘æ ¼æˆ–ä¸‰è§’å½¢ç½‘æ ¼)ã€‚<strong>but</strong>: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…·æœ‰éšå¼ç¥ç»è¡¨å¾çš„å¯å¾®æ¸²æŸ“ç³»ç»Ÿ[30,31,40]å¹¶æ²¡æœ‰çº³å…¥åœ¨å›¾åƒä¸­äº§ç”Ÿfaithful<strong>3Då‡ ä½•å¤–è§‚</strong>æ‰€éœ€çš„ç…§æ˜å’Œåå°„ç‰¹æ€§ï¼Œä¹Ÿæ²¡æœ‰å¤„ç†å¯è®­ç»ƒçš„æ‘„åƒæœºä½ç½®å’Œæ–¹å‘ã€‚</p><p>ç›®æ ‡æ˜¯è®¾è®¡ä¸€ä¸ª<strong>end-to-end neural architecture system</strong>è¯¥ç³»ç»Ÿå¯ä»¥ä»maskedçš„2Då›¾åƒå’Œç²—ç•¥çš„ç›¸æœºä¼°è®¡ä¸­å­¦ä¹ 3Då‡ ä½•å½¢çŠ¶ï¼Œå¹¶ä¸”ä¸éœ€è¦é¢å¤–çš„ç›‘ç£ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬å°†åƒç´ çš„é¢œè‰²è¡¨ç¤ºä¸ºåœºæ™¯ä¸­ä¸‰ä¸ªæœªçŸ¥æ•°çš„å¯å¾®åˆ†å‡½æ•°:<strong>å‡ ä½•ã€å¤–è§‚å’Œç›¸æœº</strong>ã€‚åœ¨è¿™é‡Œï¼Œå¤–è§‚æ˜¯æŒ‡å®šä¹‰è¡¨é¢å…‰åœºçš„æ‰€æœ‰å› ç´ çš„æ€»å’Œï¼Œä¸åŒ…æ‹¬å‡ ä½•å½¢çŠ¶ï¼Œå³è¡¨é¢åŒå‘åå°„åˆ†å¸ƒå‡½æ•°(BRDF)å’Œåœºæ™¯çš„ç…§æ˜æ¡ä»¶ã€‚æˆ‘ä»¬ç§°è¿™ç§æ¶æ„ä¸º<strong>éšå¼å¯å¾®åˆ†æ¸²æŸ“å™¨</strong>(IDR)ã€‚æˆ‘ä»¬è¡¨æ˜ï¼ŒIDRèƒ½å¤Ÿè¿‘ä¼¼ä»3Då½¢çŠ¶åå°„çš„å…‰ï¼Œ3Då½¢çŠ¶è¡¨ç¤ºä¸ºç¥ç»ç½‘ç»œçš„é›¶æ°´å¹³é›†ã€‚è¯¥æ–¹æ³•å¯ä»¥å¤„ç†æŸä¸€é™å®šæ—çš„è¡¨é¢å¤–è§‚ï¼Œå³æ‰€æœ‰è¡¨é¢å…‰åœºéƒ½å¯ä»¥è¡¨ç¤ºä¸ºè¡¨é¢ä¸Šçš„ç‚¹ã€å…¶æ³•çº¿å’Œè§‚æµ‹æ–¹å‘çš„è¿ç»­å‡½æ•°ã€‚æ­¤å¤–ï¼Œå°†<strong>å…¨å±€å½¢çŠ¶ç‰¹å¾å‘é‡</strong>åˆå¹¶åˆ°IDRä¸­å¯ä»¥å¢åŠ å…¶å¤„ç†æ›´å¤æ‚å¤–è§‚(ä¾‹å¦‚ï¼Œé—´æ¥ç…§æ˜æ•ˆæœ)çš„èƒ½åŠ›ã€‚</p><p>ä¸æˆ‘ä»¬çš„è®ºæ–‡æœ€ç›¸å…³çš„æ˜¯DVR[40]ï¼Œè¯¥è®ºæ–‡é¦–å…ˆå¼•å…¥äº†éšå¼ç¥ç»å ç”¨å‡½æ•°çš„å®Œå…¨å¯å¾®æ¸²æŸ“å™¨Occupy Network[37]ï¼Œè¿™æ˜¯ä¸Šæ–‡å®šä¹‰çš„éšå¼ç¥ç»è¡¨ç¤ºçš„ä¸€ä¸ªç‰¹å®šå®ä¾‹ã€‚è™½ç„¶ä»–ä»¬çš„æ¨¡å‹å¯ä»¥è¡¨ç¤ºä»»æ„çš„é¢œè‰²å’Œçº¹ç†ï¼Œä½†å®ƒä¸èƒ½å¤„ç†ä¸€èˆ¬çš„å¤–è§‚æ¨¡å‹ï¼Œä¹Ÿä¸èƒ½å¤„ç†æœªçŸ¥çš„ã€æœ‰å™ªå£°çš„ç›¸æœºä½ç½®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¡¨æ˜[40]ä¸­çš„æ¨¡å‹ä»¥åŠå…¶ä»–å‡ ä¸ªåŸºçº¿æ— æ³•ç”ŸæˆPhongåå°„æ¨¡å‹[8]ã€‚<strong>æ­¤å¤–ï¼Œæˆ‘ä»¬é€šè¿‡å®éªŒè¯æ˜ï¼ŒIDRå¯ä»¥ä»2Då›¾åƒä»¥åŠç²¾ç¡®çš„ç›¸æœºå‚æ•°ä¸­äº§ç”Ÿæ›´ç²¾ç¡®çš„3Då½¢çŠ¶é‡å»º</strong>ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶åŸºçº¿åœ¨é«˜å…‰åœºæ™¯ä¸­ç»å¸¸äº§ç”Ÿå½¢çŠ¶ä¼ªå½±ï¼Œä½†IDRå¯¹è¿™ç§ç…§æ˜æ•ˆæœå…·æœ‰é²æ£’æ€§ã€‚æˆ‘ä»¬çš„ä»£ç å’Œæ•°æ®å¯åœ¨<a href="https://github.com/lioryariv/idrä¸Šè·å¾—ã€‚">https://github.com/lioryariv/idrä¸Šè·å¾—ã€‚</a></p><p>è´¡çŒ®ï¼š</p><ul><li>ç«¯åˆ°ç«¯æ¶æ„ï¼Œå¤„ç†æœªçŸ¥çš„å‡ ä½•å½¢çŠ¶ã€å¤–è§‚å’Œç›¸æœºã€‚</li><li>è¡¨è¾¾<strong>ç¥ç»éšå¼æ›²é¢å¯¹æ‘„åƒæœºå‚æ•°çš„ä¾èµ–å…³ç³»</strong>ã€‚</li><li>ä»ç°å®ç”Ÿæ´»ä¸­çš„2Då›¾åƒï¼Œé€šè¿‡ç²¾ç¡®å’Œnoiseçš„ç›¸æœºä¿¡æ¯ï¼Œäº§ç”Ÿå…·æœ‰å¹¿æ³›å¤–è§‚çš„ä¸åŒç‰©ä½“çš„æœ€å…ˆè¿›çš„3Dè¡¨é¢é‡å»ºã€‚</li></ul><h2 id="Previous-work"><a href="#Previous-work" class="headerlink" title="Previous work"></a>Previous work</h2><p>ç”¨äºå­¦ä¹ å‡ ä½•çš„å¯å¾®æ¸²æŸ“ç³»ç»Ÿ(ä¸»è¦)æœ‰ä¸¤ç§é£æ ¼:<strong>å¯å¾®å…‰æ …åŒ–</strong>[32,23,10,29,4]å’Œ<strong>å¯å¾®å…‰çº¿æŠ•å°„</strong>ã€‚ç”±äºç›®å‰çš„å·¥ä½œå±äºç¬¬äºŒç±»ï¼Œæˆ‘ä»¬é¦–å…ˆé›†ä¸­è®¨è®ºè¿™ä¸€ç±»å·¥ä½œã€‚ç„¶åä»‹ç»äº†å¤šè§†å›¾æ›²é¢é‡å»ºå’Œç¥ç»è§†å›¾åˆæˆçš„ç›¸å…³å·¥ä½œã€‚</p><p><strong>Implicit surface differentiable ray casting</strong><br>å¯å¾®å…‰çº¿æŠ•å°„ä¸»è¦ç”¨äºéšå¼å½¢çŠ¶è¡¨ç¤ºï¼Œå¦‚<strong>åœ¨ä½“ç§¯ç½‘æ ¼ä¸Šå®šä¹‰çš„éšå¼å‡½æ•°æˆ–éšå¼ç¥ç»è¡¨ç¤º</strong>ï¼Œå…¶ä¸­éšå¼å‡½æ•°å¯ä»¥æ˜¯å ä½å‡½æ•°[37,5]ï¼Œæœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)[42]æˆ–ä»»ä½•å…¶ä»–æœ‰ç¬¦å·éšå¼[2]ã€‚</p><ul><li>åœ¨ä¸€é¡¹ç›¸å…³å·¥ä½œä¸­ï¼Œ[20]SDFDiffä½¿ç”¨ä½“ç§¯ç½‘æ ¼æ¥è¡¨ç¤ºSDFå¹¶å®ç°å…‰çº¿æŠ•å°„å¯å¾®åˆ†æ¸²æŸ“å™¨ã€‚å®ƒä»¬è¿‘ä¼¼äºæ¯ä¸ªä½“ç§¯å•å…ƒä¸­çš„SDFå€¼å’Œè¡¨é¢æ³•çº¿ã€‚</li><li>[31]DISTä½¿ç”¨é¢„è®­ç»ƒçš„DeepSDFæ¨¡å‹[42]çš„çƒä½“è·Ÿè¸ªï¼Œå¹¶é€šè¿‡åŒºåˆ†çƒä½“è·Ÿè¸ªç®—æ³•çš„å„ä¸ªæ­¥éª¤æ¥è¿‘ä¼¼æ·±åº¦æ¢¯åº¦ä¸DeepSDFç½‘ç»œçš„æ½œåœ¨ä»£ç ;</li><li>[30]ä½¿ç”¨ç°åœºæ¢æµ‹æ¥ä¿ƒè¿›å¯å¾®å°„çº¿æŠ•å°„ã€‚ä¸è¿™äº›ä½œå“ç›¸æ¯”ï¼Œ<strong>IDRåˆ©ç”¨äº†ç²¾ç¡®å¯å¾®çš„æ›²é¢ç‚¹å’Œéšæ›²é¢çš„æ³•çº¿ï¼Œå¹¶è€ƒè™‘äº†æ›´ä¸€èˆ¬çš„å¤–è§‚æ¨¡å‹ï¼Œå¹¶å¤„ç†äº†å™ªå£°ç›¸æœº</strong>ã€‚</li></ul><p><strong>Multi-view surface reconstruction</strong><br>åœ¨å›¾åƒçš„æ•è·è¿‡ç¨‹ä¸­ï¼Œæ·±åº¦ä¿¡æ¯ä¼šä¸¢å¤±ã€‚å‡è®¾å·²çŸ¥æ‘„åƒæœºï¼Œç»å…¸çš„å¤šè§†ç‚¹ç«‹ä½“(Multi-View Stereo, MVS)æ–¹æ³•[9,48,3,54]è¯•å›¾é€šè¿‡åŒ¹é…è§†å›¾é—´çš„ç‰¹å¾ç‚¹æ¥é‡ç°æ·±åº¦ä¿¡æ¯ã€‚<strong>ç„¶è€Œï¼Œè¦äº§ç”Ÿæœ‰æ•ˆçš„ä¸‰ç»´æ°´å¯†è¡¨é¢é‡å»ºï¼Œéœ€è¦æ·±åº¦èåˆ[6,36]çš„åå¤„ç†æ­¥éª¤ï¼Œç„¶åæ˜¯æ³Šæ¾è¡¨é¢é‡å»ºç®—æ³•[24]</strong>ã€‚</p><ul><li>æœ€è¿‘çš„æ–¹æ³•ä½¿ç”¨åœºæ™¯é›†åˆæ¥è®­ç»ƒæ·±åº¦ç¥ç»æ¨¡å‹ï¼Œç”¨äºMVSç®¡é“çš„å­ä»»åŠ¡ï¼Œä¾‹å¦‚ç‰¹å¾åŒ¹é…[27]æˆ–æ·±åº¦èåˆ[7,44]ï¼Œæˆ–ç”¨äºç«¯åˆ°ç«¯MVSç®¡é“[16,56,57]ã€‚å½“ç›¸æœºå‚æ•°ä¸å¯ç”¨æ—¶ï¼Œç»™å®šä¸€ç»„æ¥è‡ªç‰¹å®šåœºæ™¯çš„å›¾åƒï¼Œåº”ç”¨è¿åŠ¨ç»“æ„(SFM)æ–¹æ³•[51,47,22,19]æ¥é‡ç°ç›¸æœºå¹¶è¿›è¡Œç¨€ç–çš„3Dé‡å»ºã€‚</li><li>Tangå’ŒTan[53]BA-Netä½¿ç”¨å…·æœ‰é›†æˆå¯å¾®æŸè°ƒæ•´[55]å±‚çš„æ·±åº¦ç¥ç»ç»“æ„æå–å‚è€ƒå¸§æ·±åº¦çš„çº¿æ€§åŸºç¡€ï¼Œå¹¶ä»é™„è¿‘å›¾åƒä¸­æå–ç‰¹å¾ï¼Œå¹¶ä¼˜åŒ–æ¯ä¸ªå‰å‘é€šé“çš„æ·±åº¦å’Œç›¸æœºå‚æ•°ã€‚<strong>ä¸è¿™äº›å·¥ä½œç›¸åï¼ŒIDRä½¿ç”¨æ¥è‡ªå•ä¸ªç›®æ ‡åœºæ™¯çš„å›¾åƒè¿›è¡Œè®­ç»ƒï¼Œä»è€Œäº§ç”Ÿç²¾ç¡®çš„æ°´å¯†3Dè¡¨é¢é‡å»º</strong>ã€‚</li></ul><p><strong>Neural representation for view synthesis</strong>.<br>æœ€è¿‘çš„å·¥ä½œè®­ç»ƒç¥ç»ç½‘ç»œä»å·²çŸ¥ç›¸æœºçš„æœ‰é™å›¾åƒé›†é¢„æµ‹ 3D åœºæ™¯æˆ–å¯¹è±¡çš„æ–°è§†å›¾å’Œä¸€äº›å‡ ä½•è¡¨ç¤ºã€‚</p><ul><li>[50]SRNä½¿ç”¨ LSTM å¯¹åœºæ™¯å‡ ä½•è¿›è¡Œç¼–ç ä»¥æ¨¡æ‹Ÿå…‰çº¿è¡Œè¿›è¿‡ç¨‹ã€‚</li><li>[38]NeRFä½¿ç”¨ç¥ç»ç½‘ç»œæ¥é¢„æµ‹ä½“ç§¯å¯†åº¦å’Œè§†ç›¸å…³çš„å‘å°„è¾å°„ï¼Œä»ä¸€ç»„å…·æœ‰å·²çŸ¥ç›¸æœºçš„å›¾åƒä¸­åˆæˆæ–°çš„è§†å›¾ã€‚</li><li>[41]Learning Implicit Surface Light Fieldsä½¿ç”¨ç¥ç»ç½‘ç»œä»è¾“å…¥å›¾åƒå’Œå‡ ä½•ä¸­å­¦ä¹ è¡¨é¢å…‰åœºï¼Œå¹¶é¢„æµ‹æœªçŸ¥è§†å›¾å’Œ/æˆ–åœºæ™¯ç…§æ˜ã€‚<strong>ä¸IDRä¸åŒçš„æ˜¯ï¼Œè¿™äº›æ–¹æ³•ä¸ä¼šäº§ç”Ÿåœºæ™¯å‡ ä½•çš„ä¸‰ç»´è¡¨é¢é‡å»ºï¼Œä¹Ÿä¸å¤„ç†æœªçŸ¥çš„ç›¸æœº</strong></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»å…·æœ‰å¯èƒ½ç²—ç³™æˆ–å˜ˆæ‚çš„ç›¸æœºä¿¡æ¯çš„masked 2D å›¾åƒä¸­é‡å»ºç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ã€‚æœ‰ä¸‰ä¸ªæœªçŸ¥æ•°:<br>(i)å‡ ä½•ï¼Œç”±å‚æ•°$\theta\in\mathbb{R}^m$è¡¨ç¤º;<br>(ii)å¤–è§‚ï¼Œç”¨$\gamma\in\mathbb{R}^n$è¡¨ç¤º;<br>(iii)ç”±$\tau\in\mathbb{R}^k.$è¡¨ç¤ºçš„æ‘„åƒæœºã€‚ç¬¦å·å’Œè®¾ç½®å¦‚å›¾ 2 æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230906183258.png" alt="image.png"></p><p>æˆ‘ä»¬å°†å‡ ä½•å›¾å½¢è¡¨ç¤ºä¸ºç¥ç»ç½‘ç»œ (MLP) f çš„é›¶æ°´å¹³é›†ï¼Œ$\mathcal{S}_\theta=\left\{x\in\mathbb{R}^3\mid f(\mathbf{x};\theta)=0\right\},$ Eq.1</p><p>å¯å­¦ä¹ å‚æ•°$\theta\in\mathbb{R}^m$ã€‚ä¸ºäº†é¿å…ä»»ä½•åœ°æ–¹ 0 è§£ï¼Œf é€šå¸¸è¿›è¡Œæ­£åˆ™åŒ– [37, 5]ã€‚æˆ‘ä»¬é€‰æ‹© f å°†ç¬¦å·è·ç¦»å‡½æ•° (SDF) å»ºæ¨¡ä¸ºå…¶é›¶æ°´å¹³é›† $s_{\theta}$[42]ã€‚æˆ‘ä»¬ä½¿ç”¨éšå¼å‡ ä½•æ­£åˆ™åŒ– (IGR) [11] å¼ºåˆ¶æ‰§è¡Œ SDF çº¦æŸï¼Œç¨åè¯¦ç»†ä»‹ç»ã€‚<br>SDFåœ¨æˆ‘ä»¬çš„ä¸Šä¸‹æ–‡ä¸­æœ‰ä¸¤ä¸ªå¥½å¤„ï¼šé¦–å…ˆï¼Œå®ƒå…è®¸ä½¿ç”¨çƒä½“è·Ÿè¸ªç®—æ³•è¿›è¡Œæœ‰æ•ˆçš„å…‰çº¿æŠ•å°„[12ï¼Œ20]ï¼›å…¶æ¬¡ï¼ŒIGRå…·æœ‰æœ‰åˆ©äºå…‰æ»‘å’Œé€¼çœŸçš„è¡¨é¢çš„éšå¼æ­£åˆ™åŒ–ã€‚</p><p><strong>IDR forward model.</strong><br>ç»™å®šä¸€ä¸ªç”± p ç´¢å¼•çš„åƒç´ ï¼Œä¸æŸä¸ªè¾“å…¥å›¾åƒç›¸å…³è”ï¼Œè®© $R_p(\tau)=\{c_p+t\mathbf{v}_p\mid t\geq0\}$ é€šè¿‡åƒç´  p è¡¨ç¤ºå°„çº¿ï¼Œå…¶ä¸­ $c_p=c_p(\tau)$ è¡¨ç¤ºç›¸åº”ç›¸æœºçš„æœªçŸ¥ä¸­å¿ƒï¼Œ$\mathbf{v}_p=\mathbf{v}_p(\tau)$ å°„çº¿çš„æ–¹å‘ï¼ˆå³ä»$c_{p}$æŒ‡å‘åƒç´ pçš„å‘é‡ï¼‰ã€‚ä»¤$\hat{\mathbf{x}}_{p}=\hat{\mathbf{x}}_{p}(\mathbf{\theta},\tau)$è¡¨ç¤ºå°„çº¿ $R_{p}$ å’Œè¡¨é¢$\mathcal{S}_{\theta}$ çš„ç¬¬ä¸€ä¸ªäº¤é›†ã€‚æ²¿$R_{p}$çš„ä¼ å…¥å°„çº¿ï¼Œå®ƒç¡®å®šåƒç´  $L_{p}=L_{p}(\theta,\gamma,\tau)$çš„å‘ˆç°é¢œè‰²ï¼Œæ˜¯$\hat{x}_{p}$å¤„è¡¨é¢å±æ€§çš„å‡½æ•°ï¼Œ$\hat{x}_{p}$å¤„çš„ä¼ å…¥è¾å°„ï¼Œä»¥åŠè§‚çœ‹æ–¹å‘ $v_{p}$ã€‚åè¿‡æ¥ï¼Œæˆ‘ä»¬å‡è®¾è¡¨é¢å±æ€§å’Œä¼ å…¥çš„è¾å°„æ˜¯è¡¨é¢ç‚¹$\hat{x}_{p}$çš„å‡½æ•°ï¼ŒåŠå…¶å¯¹åº”çš„è¡¨é¢æ­£æ€$\hat{\mathbf{n}}_{p}=\hat{\mathbf{n}}_{p}(\theta),$æŸ¥çœ‹æ–¹å‘$v_{p}$å’Œå…¨å±€å‡ ä½•ç‰¹å¾å‘é‡$\hat{\mathbf{z}}_p=\hat{\mathbf{z}}_p(\hat{\mathbf{x}}_p;\theta)$ã€‚å› æ­¤ï¼ŒIDR å‰å‘æ¨¡å‹æ˜¯ï¼š</p><p>$L_p(\theta,\gamma,\tau)=M(\hat{x}_p,\hat{n}_p,\hat{z}_p,v_p;\gamma),$ Eq.2</p><p>å…¶ä¸­ M æ˜¯ç¬¬äºŒä¸ªç¥ç»ç½‘ç»œ (MLP)ã€‚æˆ‘ä»¬åœ¨æ¯”è¾ƒ $L_{p}$å’Œåƒç´ è¾“å…¥é¢œè‰²$I_{p}$çš„æŸå¤±ä¸­ä½¿ç”¨ $L_{p}$ æ¥åŒæ—¶è®­ç»ƒæ¨¡å‹çš„å‚æ•° $\theta,\gamma,\tau.$ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æä¾›æœ‰å…³ç­‰å¼ 2 ä¸­æ¨¡å‹ä¸åŒç»„ä»¶çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p><h2 id="Differentiable-intersection-of-viewing-direction-and-geometry"><a href="#Differentiable-intersection-of-viewing-direction-and-geometry" class="headerlink" title="Differentiable intersection of viewing direction and geometry"></a>Differentiable intersection of viewing direction and geometry</h2><p>æ­¤åï¼ˆç›´åˆ°ç¬¬ 3.4 èŠ‚ï¼‰ï¼Œæˆ‘ä»¬å‡è®¾ä¸€ä¸ªå›ºå®šçš„åƒç´  pï¼Œå¹¶åˆ é™¤ä¸‹æ ‡ p ç¬¦å·ä»¥ç®€åŒ–ç¬¦å·ã€‚ç¬¬ä¸€æ­¥æ˜¯å°†äº¤ç‚¹ $\hat{\mathbf{x}}(\theta,\tau):$è¡¨ç¤ºä¸ºå‚æ•°ä¸º Î¸, Ï„ çš„ç¥ç»ç½‘ç»œã€‚è¿™å¯ä»¥é€šè¿‡å¯¹å‡ ä½•ç½‘ç»œ f ç¨ä½œä¿®æ”¹æ¥å®Œæˆã€‚</p><p>ä»¤$\hat{\mathbf{x}}(\theta,\tau)=c+t(\theta,c,v)\mathbf{v}$è¡¨ç¤ºäº¤ç‚¹ã€‚ç”±äºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ç±»ä¼¼æ¢¯åº¦ä¸‹é™çš„ç®—æ³•ä¸­ä½¿ç”¨ $\hat{x}$ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿æˆ‘ä»¬çš„æ¨å¯¼åœ¨å½“å‰å‚æ•°çš„å€¼å’Œä¸€é˜¶å¯¼æ•°ä¸­æ˜¯æ­£ç¡®çš„ï¼Œç”¨ $\theta_0,\tau_0$è¡¨ç¤ºï¼›å› æ­¤ï¼Œæˆ‘ä»¬å°†$c_{0}=c(\tau_{0}),$ $v_0=v(\tau_0),$ $t_0=t(\theta_0,c_0,v_0),$ $\mathrm{and~}$ $x_0=\hat{x}(\theta_0,\tau_0)=c_0+t_0v_0.$</p><p>è®¾$S_{\theta}$å®šä¹‰ä¸ºå¼1ã€‚å°„çº¿$R(\tau)$ä¸è¡¨é¢$\mathcal{S}_{\theta}$çš„äº¤ç‚¹å¯ä»¥ç”¨å…¬å¼è¡¨ç¤º<br>$\hat{x}(\theta,\tau)=c+t_0\mathbf{v}-\frac v{\nabla_xf(x_0;\theta_0)\cdot v_0}f(\mathbf{c}+t_0\mathbf{v};\theta),$ Eq.3<br>åœ¨$\theta=\theta_{0}.$å’Œ$\tau=\tau_{0}.$æ—¶ï¼ŒÎ¸å’ŒÏ„çš„å€¼å’Œä¸€é˜¶å¯¼æ•°æ˜¯å‡†ç¡®çš„ã€‚</p><p>ä¸ºäº†è¯æ˜$\hat{x}$å¯¹å…¶å‚æ•°çš„åŠŸèƒ½ä¾èµ–æ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨éšå¼å¾®åˆ† [1, 40]ï¼Œå³åŒºåˆ†æ–¹ç¨‹ $f(\hat{\mathbf{x}};\theta)\equiv0\text{ w.r.t. }v,c,\theta$å¹¶æ±‚è§£ t çš„å¯¼æ•°ã€‚ç„¶åï¼Œå¯ä»¥æ£€æŸ¥ç­‰å¼ 3 ä¸­çš„å…¬å¼å…·æœ‰æ­£ç¡®çš„å¯¼æ•°ã€‚æ›´å¤šç»†èŠ‚åœ¨è¡¥å……ææ–™ä¸­ã€‚<strong>æˆ‘ä»¬å°†æ–¹ç¨‹ 3 å®ç°ä¸ºç¥ç»ç½‘ç»œ</strong>ï¼Œå³æˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªçº¿æ€§å±‚ï¼ˆå‚æ•°ä¸º c, vï¼‰ï¼š<br>one before and one after the MLP f .ç­‰å¼ 3 å°† [1] ä¸­çš„æ ·æœ¬ç½‘ç»œå…¬å¼å’Œ [40]DVR ä¸­çš„å¯å¾®æ·±åº¦ç»Ÿä¸€èµ·æ¥ï¼Œå¹¶å°†å®ƒä»¬æ¨å¹¿åˆ°è€ƒè™‘æœªçŸ¥ç›¸æœºã€‚$\hat{\mathbf{x}}$å¤„çš„${\mathcal{S}}_{\theta}$çš„æ³•å‘é‡å¯ç”±ä¸‹å¼è®¡ç®—:</p><p>$\hat{n}(\theta,\tau)=\nabla_{\mathbf{x}}f(\hat{x}(\theta,\tau),\theta)/\left|\nabla_{\mathbf{x}}f(\hat{\mathbf{x}}(\theta,\tau),\theta)\right|_{2}.$ Eq.4</p><p>è¯·æ³¨æ„ï¼Œå¯¹äº SDFï¼Œåˆ†æ¯ä¸º 1ï¼Œå› æ­¤å¯ä»¥çœç•¥</p><h2 id="Approximation-of-the-surface-light-field"><a href="#Approximation-of-the-surface-light-field" class="headerlink" title="Approximation of the surface light field"></a>Approximation of the surface light field</h2><p>è¡¨é¢å…‰åœºè¾å°„ L æ˜¯ä»$\mathcal{S}_{\theta}$åœ¨$\hat{x}$å¤„åå°„çš„å…‰é‡ï¼Œæ–¹å‘ä¸º -v åˆ°è¾¾ cã€‚å®ƒç”±ä¸¤ä¸ªå‡½æ•°å†³å®šï¼šæè¿°è¡¨é¢çš„åå°„ç‡å’Œé¢œè‰²å±æ€§çš„åŒå‘åå°„ç‡åˆ†å¸ƒå‡½æ•° (BRDF) å’Œåœºæ™¯ä¸­å‘å‡ºçš„å…‰ï¼ˆå³å…‰æºï¼‰ã€‚</p><p>BRDFå‡½æ•°$B(x,\mathbf{n},\mathbf{w}^{o},\mathbf{w}^{i})$æè¿°äº†åå°„äº®åº¦(å³å…‰é€šé‡)åœ¨æŸäº›æ³¢é•¿(å³é¢œè‰²)ä¸‹çš„æ¯”ä¾‹ï¼Œç›¸å¯¹äºä»æ–¹å‘$w^{i}$çš„å…¥å°„è¾å°„çš„æ–¹å‘$w^{o}$å¤„æ³•å‘nç¦»å¼€è¡¨é¢ç‚¹xã€‚æˆ‘ä»¬è®© BRDF ä¹Ÿä¾èµ–äºä¸€ä¸ªç‚¹å¤„çš„æ³•çº¿åˆ°è¡¨é¢ã€‚åœºæ™¯ä¸­çš„å…‰æºç”±å‡½æ•° $L^e(x,\mathbf{w}^o)$ æè¿°ï¼Œè¯¥å‡½æ•°æµ‹é‡ç‚¹ x å¤„æŸä¸ªæ³¢é•¿çš„å…‰åœ¨æ–¹å‘ $w^{o}$å¤„çš„å‘å°„è¾å°„ã€‚æ–¹å‘våˆ°è¾¾cçš„å…‰é‡ç­‰äºæ–¹å‘$\mathbf{w}^o=-\mathbf{\upsilon}$ä¸­$\hat{x}$åå°„çš„å…‰é‡ï¼Œç”¨æ‰€è°“çš„æ¸²æŸ“æ–¹ç¨‹[21,17]æè¿°:<br>$L(\hat{x},w^o)=L^e(\hat{x},w^o)+\int_{\Omega}B(\hat{x},\hat{n},w^i,w^o)L^i(\hat{x},w^i)(\hat{n}\cdot w^i)dw^i=M_0(\hat{x},\hat{n},v),$ Eq.5</p><p>å…¶ä¸­$L^i(\hat{\mathbf{x}},\mathbf{w}^i)$ç¼–ç æ–¹å‘$w^{i},$$\hat{x}$å¤„çš„å…¥å°„è¾å°„ï¼Œé¡¹$\hat{n}\cdot w^{i}$è¡¥å¿å…‰ä¸æ­£äº¤åœ°æ’å‡»è¡¨é¢çš„äº‹å®ï¼›Î©æ˜¯ä»¥$\hat{n}$ä¸ºä¸­å¿ƒçš„åŠçƒä½“ã€‚å‡½æ•° $M_{0}$ å°†è¡¨é¢å…‰åœºè¡¨ç¤ºä¸ºå±€éƒ¨è¡¨é¢å‡ ä½• $\hat{\mathbf{x}},\hat{\mathbf{n}},$å’Œè§‚å¯Ÿæ–¹å‘ v çš„å‡½æ•°ã€‚è¯¥æ¸²æŸ“æ–¹ç¨‹é€‚ç”¨äºæ¯ä¸ªå…‰æ³¢é•¿ï¼›å¦‚åé¢æ‰€è¿°ï¼Œæˆ‘ä»¬å°†å°†å…¶ç”¨äºçº¢è‰²ã€ç»¿è‰²å’Œè“è‰² (RGB) æ³¢é•¿ã€‚<br>æˆ‘ä»¬å°†æ³¨æ„åŠ›é™åˆ¶åœ¨å¯ä»¥ç”¨è¿ç»­å‡½æ•° M0 è¡¨ç¤ºçš„å…‰åœºä¸Šã€‚æˆ‘ä»¬ç”¨ $\mathcal{P}=\{M_{0}\}$è¡¨ç¤ºè¿™ç§è¿ç»­å‡½æ•°çš„é›†åˆï¼ˆæœ‰å…³ P çš„æ›´å¤šè®¨è®ºï¼Œè¯·å‚é˜…è¡¥å……ææ–™ï¼‰ã€‚ç”¨(è¶³å¤Ÿå¤§çš„)MLPè¿‘ä¼¼M(ç¥ç»æ¸²æŸ“å™¨)æ›¿æ¢$M_0$æä¾›äº†å…‰åœºè¿‘ä¼¼:<br>$L(\theta,\gamma,\tau)=M(\hat{x},\hat{n},v;\gamma).$ Eq.6</p><p>å‡ ä½•å’Œå¤–è§‚çš„è§£çº ç¼ éœ€è¦å¯å­¦ä¹ çš„Mæ¥è¿‘ä¼¼æ‰€æœ‰è¾“å…¥x, n, vçš„$M_0$ï¼Œè€Œä¸æ˜¯è®°å¿†ç‰¹å®šå‡ ä½•çš„äº®åº¦å€¼ã€‚ç»™å®šä»»æ„é€‰æ‹©å…‰åœºå‡½æ•°$M_{o}\in\mathcal{P}$ï¼Œå­˜åœ¨æƒé‡$\gamma=\gamma_{0}$çš„é€‰æ‹©ï¼Œä½¿å¾—Må¯¹äºæ‰€æœ‰x, n, v(åœ¨æŸäº›æœ‰ç•Œé›†åˆä¸­)è¿‘ä¼¼äº$M_0$ã€‚è¿™å¯ä»¥é€šè¿‡ MLP çš„æ ‡å‡†æ™®é€‚å®šç†æ¥è¯æ˜ï¼ˆè¯¦è§è¡¥å……ï¼‰ã€‚ç„¶è€Œï¼ŒM å¯ä»¥å­¦ä¹ æ­£ç¡®çš„å…‰åœºå‡½æ•° $M_0$ çš„äº‹å®å¹¶ä¸æ„å‘³ç€åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ä¿è¯å­¦ä¹ å®ƒã€‚ç„¶è€Œï¼Œèƒ½å¤Ÿè¿‘ä¼¼ä»»æ„ x, n, v çš„ M0 æ˜¯è§£å¼€å‡ ä½•ï¼ˆç”¨ f è¡¨ç¤ºï¼‰å’Œå¤–è§‚ï¼ˆç”¨ M è¡¨ç¤ºï¼‰çš„å¿…è¦æ¡ä»¶ã€‚æˆ‘ä»¬å°†æ­¤å¿…è¦æ¡ä»¶å‘½åä¸º P-universityã€‚</p><p><strong>Necessity of viewing direction and normal</strong></p><p>å¯¹äº M èƒ½å¤Ÿè¡¨ç¤ºä»è¡¨é¢ç‚¹ x åå°„çš„æ­£ç¡®å…‰ï¼Œå³ P-universalï¼Œå®ƒå¿…é¡»ä½œä¸ºå‚æ•° v, n æ¥æ”¶ã€‚å³ä½¿æˆ‘ä»¬æœŸæœ› M é€‚ç”¨äºå›ºå®šå‡ ä½•å½¢çŠ¶ï¼Œè§‚å¯Ÿæ–¹å‘ v æ˜¯å¿…è¦çš„ï¼›ä¾‹å¦‚ï¼Œç”¨äºæ¨¡æ‹Ÿé•œé¢åå°„ã€‚å¦ä¸€æ–¹é¢ï¼Œæ­£å¸¸çš„ n å¯ä»¥è¢« M è®°å¿†ä¸º x çš„å‡½æ•°ã€‚ç„¶è€Œï¼Œä¸ºäº†è§£å¼€å‡ ä½•ï¼Œå³å…è®¸ M ç‹¬ç«‹äºå‡ ä½•å­¦ä¹ å¤–è§‚ï¼Œè¿˜éœ€è¦ç»“åˆæ³•çº¿æ–¹å‘ã€‚è¿™å¯ä»¥åœ¨å›¾ 3 ä¸­çœ‹åˆ°ï¼š</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230906192338.png" alt="image.png"></p><p>æ²¡æœ‰æ³•çº¿ä¿¡æ¯çš„æ¸²æŸ“å™¨Må°†åœ¨æƒ…å†µ(A)å’Œ(b)ä¸­äº§ç”Ÿç›¸åŒçš„å…‰ä¼°è®¡ï¼Œè€Œæ²¡æœ‰è§‚çœ‹æ–¹å‘çš„æ¸²æŸ“å™¨Må°†åœ¨æƒ…å†µ(A)å’Œ(c)ä¸­äº§ç”Ÿç›¸åŒçš„å…‰ä¼°è®¡ã€‚åœ¨è¡¥å……ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†è¿™äº›æ¸²æŸ“å™¨åœ¨Phongåå°„æ¨¡å‹ä¸‹æ— æ³•äº§ç”Ÿæ­£ç¡®äº®åº¦çš„è¯¦ç»†ä¿¡æ¯[8]ã€‚å…ˆå‰çš„ä½œå“ï¼Œä¾‹å¦‚[40]ï¼Œå·²ç»è€ƒè™‘äº†$L(\theta,\gamma)=M(\hat{x};\gamma).$å¦‚ä¸Šæ‰€è¿°ï¼Œä»Mä¸­çœç•¥nå’Œ/æˆ–vå°†å¯¼è‡´non-P-universalã€‚<strong>åœ¨å®éªŒéƒ¨åˆ†ï¼Œæˆ‘ä»¬è¯æ˜äº†åœ¨æ¸²æŸ“å™¨Mä¸­åŠ å…¥nç¡®å®å¯ä»¥æˆåŠŸåœ°è§£é™¤å‡ ä½•å’Œå¤–è§‚çš„çº ç¼ ï¼Œè€Œå¿½ç•¥å®ƒåˆ™ä¼šæŸå®³è§£é™¤çº ç¼ </strong>ã€‚</p><p><strong>Accounting for global light effects</strong>.</p><p>P-universalæ˜¯å­¦ä¹ ä¸€ä¸ªå¯ä»¥ä»é›†åˆPä¸­æ¨¡æ‹Ÿå¤–è§‚çš„ç¥ç»æ¸²æŸ“å™¨Mçš„å¿…è¦æ¡ä»¶ã€‚ç„¶è€Œï¼ŒPä¸åŒ…æ‹¬äºŒæ¬¡ç…§æ˜å’Œè‡ªé˜´å½±ç­‰å…¨å±€ç…§æ˜æ•ˆæœã€‚æˆ‘ä»¬é€šè¿‡å¼•å…¥ä¸€ä¸ªå…¨å±€ç‰¹å¾å‘é‡æ¥è¿›ä¸€æ­¥æé«˜IDRçš„è¡¨è¾¾èƒ½åŠ›ã€‚è¿™ä¸ªç‰¹å¾å‘é‡å…è®¸æ¸²æŸ“å™¨å¯¹å‡ ä½•$S_{\theta}$è¿›è¡Œå…¨å±€æ¨ç†ã€‚ä¸ºäº†å¾—åˆ°å‘é‡zï¼Œæˆ‘ä»¬å°†ç½‘ç»œfæ‰©å±•å¦‚ä¸‹$F(x;\theta)=\left[f(x;\theta),z(x;\theta)\right]\in\mathbb{R}\times\mathbb{R}^{\ell}.$ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œzå¯ä»¥ç¼–ç ç›¸å¯¹äºè¡¨é¢æ ·æœ¬xçš„å‡ ä½•$S_{\theta}$;Zè¢«é¦ˆé€åˆ°æ¸²æŸ“å™¨ä¸­:$\hat{\mathbf{z}}(\theta,\tau)=\mathbf{z}(\hat{\mathbf{x}};\theta)$ï¼Œä»¥è€ƒè™‘ä¸å½“å‰æ„Ÿå…´è¶£çš„åƒç´ pç›¸å…³çš„è¡¨é¢æ ·æœ¬$\hat{\mathbf{x}}$ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»å®Œæˆäº†IDRæ¨¡å‹çš„æè¿°ï¼Œå¦‚å…¬å¼2æ‰€ç¤ºã€‚</p><h2 id="Masked-rendering"><a href="#Masked-rendering" class="headerlink" title="Masked rendering"></a>Masked rendering</h2><p>å¦ä¸€ç§ç”¨äºé‡å»º3Då‡ ä½•ä½“çš„2Dç›‘ç£ç±»å‹æ˜¯é®ç½©;æ©ç æ˜¯äºŒå€¼å›¾åƒï¼Œè¡¨ç¤ºå¯¹äºæ¯ä¸ªåƒç´ pï¼Œæ„Ÿå…´è¶£çš„å¯¹è±¡æ˜¯å¦å ç”¨è¯¥åƒç´ ã€‚æ©ç <strong>å¯ä»¥åœ¨æ•°æ®ä¸­æä¾›</strong>(å¦‚æˆ‘ä»¬å‡è®¾çš„é‚£æ ·)ï¼Œ<strong>ä¹Ÿå¯ä»¥ä½¿ç”¨æ©ç æˆ–åˆ†å‰²ç®—æ³•è®¡ç®—</strong>ã€‚æˆ‘ä»¬æƒ³è€ƒè™‘ä»¥ä¸‹æŒ‡ç¤ºå‡½æ•°æ¥è¯†åˆ«æŸä¸ªåƒç´ æ˜¯å¦è¢«æ¸²æŸ“å¯¹è±¡å ç”¨(è®°ä½æˆ‘ä»¬å‡è®¾æŸä¸ªå›ºå®šåƒç´ p):</p><p>$S(\theta,\tau)=\begin{cases}1&amp;R(\tau)\cap\mathcal{S}_\theta\neq\emptyset\\0&amp;\text{otherwise}\end{cases}$<br>ç”±äºè¿™ä¸ªå‡½æ•°åœ¨Î¸ä¸Šä¸å¯å¾®ï¼Œåœ¨Ï„ä¸Šä¹Ÿä¸å¯è¿ç»­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå‡ ä¹å¤„å¤„å¯å¾®çš„è¿‘ä¼¼:<br>$S_\alpha(\theta,\tau)=\text{sigmoid}\left(-\alpha\min_{t\geq0}f(c+t\mathbf{v};\theta)\right),$ Eq.7</p><p>å…¶ä¸­Î± &gt; 0æ˜¯ä¸€ä¸ªå‚æ•°ã€‚<strong>ç”±äºæŒ‰ç…§æƒ¯ä¾‹ï¼Œå‡ ä½•å†…éƒ¨f &lt; 0ï¼Œå¤–éƒ¨f &gt; 0</strong>ï¼Œå› æ­¤å¯ä»¥è¯æ˜$\begin{aligned}S_\alpha(\theta,\tau)\xrightarrow{\alpha\to\infty}S(\theta,\tau)\end{aligned}$ã€‚è¯·æ³¨æ„ï¼Œå¾®åˆ†æ–¹ç¨‹7w.r.t. ${\mathbf{c}},v$å¯ä»¥ä½¿ç”¨åŒ…ç»œå®šç†æ¥å®Œæˆï¼Œå³$\partial_{\mathbf{c}}\operatorname{min}_{t\geq0}f(\mathbf{c}+t\mathbf{v};\theta)=\partial_{\mathbf{c}}f(\mathbf{c}+t_{x}\mathbf{v};\theta),$<br>å…¶ä¸­$t_{x}$æ˜¯è¾¾åˆ°æœ€å°å€¼çš„å‚æ•°ï¼Œå³$f(c_0+t_{x}v_0;\theta)=\min_{t\geq0}f(c_0+tv_0;\theta)$ï¼Œ$âˆ‚_{v}$ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†$S_{\alpha}$å®ç°ä¸ºç¥ç»ç½‘ç»œ$\text{sigmoid}(-\alpha f(\mathbf{c}+t_{x}\mathbf{v};\theta)).$ã€‚æ³¨æ„è¿™ä¸ªç¥ç»ç½‘ç»œåœ¨$c = c_{0}$å’Œ$v = v_{0}$å¤„æœ‰ç²¾ç¡®çš„å€¼å’Œä¸€é˜¶å¯¼æ•°ã€‚</p><h2 id="Loss"><a href="#Loss" class="headerlink" title="Loss"></a>Loss</h2><p>è®¾$\begin{aligned}I_p\in[0,1]^3,O_p\in\{0,1\}\end{aligned}$ä¸ºç›¸æœº$c_{p}(\tau)$å’Œæ–¹å‘$v_{p}(\tau)$æ‹æ‘„çš„å›¾åƒä¸­åƒç´ på¯¹åº”çš„RGBå’Œæ©ç å€¼(resp.)ï¼Œå…¶ä¸­$pâˆˆP$è¡¨ç¤ºå›¾åƒè¾“å…¥é›†åˆä¸­çš„æ‰€æœ‰åƒç´ ï¼Œ$\tau\in\mathbb{R}^k$è¡¨ç¤ºåœºæ™¯ä¸­æ‰€æœ‰ç›¸æœºçš„å‚æ•°ã€‚æŸå¤±å‡½æ•°çš„å½¢å¼æ˜¯<br>$\mathrm{loss}(\theta,\gamma,\tau)=\mathrm{loss}_{\mathrm{RGB}}(\theta,\gamma,\tau)+\rho\mathrm{loss}_{\mathrm{MASK}}(\theta,\tau)+\lambda\mathrm{loss}_{\mathrm{E}}(\theta)$ Eq.8</p><p>æˆ‘ä»¬åœ¨Pçš„å°æ‰¹é‡åƒç´ ä¸Šè®­ç»ƒè¿™ä¸ªæŸå¤±;ä¸ºäº†ä½¿è®°å·ç®€å•ï¼Œæˆ‘ä»¬ç”¨Pè¡¨ç¤ºå½“å‰çš„å°æ‰¹ã€‚å¯¹äºæ¯ä¸ª$pâˆˆP$ï¼Œæˆ‘ä»¬ä½¿ç”¨çƒä½“è·Ÿè¸ªç®—æ³•[12,20]æ¥è®¡ç®—å°„çº¿$R_p(\tau)$ä¸$S_Î¸$çš„ç¬¬ä¸€ä¸ªäº¤ç‚¹$c_p+t_{p,0}v_p,$è®¾$P^{\mathrm{in}}\subset P$æ˜¯åƒç´ Pçš„å­é›†ï¼Œå…¶ä¸­å­˜åœ¨äº¤é›†ä¸”$O_p=1.\text{ Let }L_p(\theta,\gamma,\tau)=M(\hat{x}_p,\hat{n}_p,\hat{z}_p,v_p;\gamma),$å…¶ä¸­ï¼Œ$\hat{x}_{p},\hat{n}_{p}$å®šä¹‰ä¸ºå¼3å’Œå¼4,$\hat{\mathbf{z}}_{p}=\hat{\mathbf{z}}(\hat{x}_{p};\theta)$å¦‚3.2èŠ‚å’Œå…¬å¼2æ‰€ç¤ºã€‚<br>RGBæŸå¤±ä¸º<br>$\mathrm{loss}_{\mathrm{RGB}}(\theta,\gamma,\tau)=\frac{1}{|P|}\sum_{p\in P^{\mathrm{in}}}\left|I_{p}-L_{p}(\theta,\gamma,\tau)\right|,$ Eq.9</p><p>$P^\mathrm{out}=P\setminus P^\mathrm{in}$è¡¨ç¤ºå°æ‰¹ä¸­æ²¡æœ‰å°„çº¿å‡ ä½•ç›¸äº¤æˆ–$O_p = 0$çš„æŒ‡æ ‡ã€‚æ©è†œæŸå¤±æ˜¯<br>$\mathrm{loss}_{\mathrm{MASK}}(\theta,\tau)=\frac1{\alpha|P|}\sum_{p\in I^{\mathrm{pout}}}\mathrm{CE}(O_{p},S_{p,\alpha}(\theta,\tau)),$ Eq.10<br>CEæ˜¯äº¤å‰ç†µæŸå¤±</p><p>æœ€åï¼Œæˆ‘ä»¬é€šè¿‡éšå¼å‡ ä½•æ­£åˆ™åŒ–(IGR)ä½¿fè¿‘ä¼¼ä¸ºå¸¦ç¬¦å·è·ç¦»å‡½æ•°[11]ï¼Œå³ç»“åˆEikonalæ­£åˆ™åŒ–<br>$\mathrm{loss}_{\mathrm{E}}(\theta)=\mathbb{E}_{\mathbf{x}}\big(\left|\nabla_{\mathbf{x}}f(x;\theta)\right|-1\big)^2$ Eq.11, å…¶ä¸­xå‡åŒ€åˆ†å¸ƒåœ¨åœºæ™¯çš„è¾¹ç•Œæ¡†ä¸­ã€‚</p><p><strong>Implementation details</strong></p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><h2 id="Multiview-3D-reconstruction"><a href="#Multiview-3D-reconstruction" class="headerlink" title="Multiview 3D reconstruction"></a>Multiview 3D reconstruction</h2><p>Dataset</p><ul><li>DTU</li><li>MVS</li></ul><p>Evaluation</p><ul><li>PSNR</li><li>Chamfer-$L_1$</li><li>compare with DVRã€Colmapã€Furu<ul><li>Quantitative results</li></ul></li></ul><p>Small number of cameras.</p><h2 id="Disentangling-geometry-and-appearance"><a href="#Disentangling-geometry-and-appearance" class="headerlink" title="Disentangling geometry and appearance"></a>Disentangling geometry and appearance</h2><h2 id="Ablation-study"><a href="#Ablation-study" class="headerlink" title="Ablation study"></a>Ablation study</h2>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Geo-Neus</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Geo-Neus/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Geo-Neus/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Geo-Neus: Geometry-Consistent Neural Implicit Surfaces Learning for Multi-view Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Fu, Qiancheng and Xu, Qingshan and Ong, Yew-Soon and Tao, Wenbi</td></tr><tr><td>Conf/Jour</td><td>NeurIPS</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://github.com/GhiXu/Geo-Neus">GhiXu/Geo-Neus: Geo-Neus: Geometry-Consistent Neural Implicit Surfaces Learning for Multi-view Reconstruction (NeurIPS 2022)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4629958250540843009&amp;noteId=1943200084633808128">Geo-Neus: Geometry-Consistent Neural Implicit Surfaces Learning for Multi-view Reconstruction (readpaper.com)</a> <a href="https://arxiv.org/pdf/2205.15848#page=5.37">Geo-Neus: Geometry-Consistent Neural Implicit Surfaces Learning for Multi-view Reconstruction</a>  <a href="https://elib.ustb.edu.cn/https/77726476706e69737468656265737421fbf952d2243e635930068cb8/kcms2/article/abstract?v=k15566fjT2ld6LRYA49Mn0oKT9GjKQzh1xbLGzqREzo4W0YOPg-ZnaOCX42Bn-S-U3n1vpf2VXiXq4AGeVsTgZ4Tqng7aRh3XOumNSgvdmxP-lzWomVneKlFnqQqXsQC5-3Lp5G2C3Vke0LuOm7YFSFXh9ovV6eQxEMwLDqNzBK4cvitDj5SihsX29eZ8u0c&amp;uniplatform=NZKPT&amp;language=CHS">åŸºäºç¥ç»éšå¼å­¦ä¹ çš„å¤šè§†å›¾ä¸‰ç»´é‡å»ºç®—æ³•ç ”ç©¶ - ä¸­å›½çŸ¥ç½‘</a></td></tr></tbody></table></div><p>æ¨åˆ°äº†SDF-based Volume Rendering æ¸²æŸ“çš„é¢œè‰²ç›‘ç£ä¼šé€ æˆè¡¨é¢é¢œè‰²å’Œå‡ ä½•çš„åå·®ã€‚(å¯¹æ¸²æŸ“è´¡çŒ®æƒé‡æœ€å¤§çš„é¢œè‰²å€¼çš„ä½ç½®å¹¶ä¸æ˜¯ç‰©ä½“çš„è¡¨é¢) <strong>Bias in color rendering</strong><br>å‡ ä½•å…ˆéªŒï¼šä½¿ç”¨COLMAPäº§ç”Ÿçš„ç¨€ç–ç‚¹æ¥ä½œä¸ºSDFçš„æ˜¾ç¤ºç›‘ç£â€”&gt;å¯ä»¥æ•è·å¼ºçº¹ç†çš„å¤æ‚å‡ ä½•ç»†èŠ‚<br>å…·æœ‰å¤šè§†å›¾ç«‹ä½“çº¦æŸçš„éšå¼æ›²é¢ä¸Šçš„å‡ ä½•ä¸€è‡´ç›‘ç£â€”&gt;å¤§é¢ç§¯çš„å…‰æ»‘åŒºåŸŸ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230911165550.png" alt="image.png"></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº† Geo-Neusï¼Œè¿™æ˜¯ä¸€ç§é€šè¿‡æ‰§è¡Œæ˜¾å¼ SDF ä¼˜åŒ–æ¥æ‰§è¡Œç¥ç»éšå¼è¡¨é¢å­¦ä¹ çš„æ–°æ–¹æ³•ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæä¾›äº†ç†è®ºåˆ†æï¼Œå³ä½“ç»˜åˆ¶é›†æˆå’Œç¥ç»SDFå­¦ä¹ ä¹‹é—´å­˜åœ¨å·®è·ã€‚æœ‰äº†è¿™ä¸ªç†è®ºæ”¯æŒï¼Œæˆ‘ä»¬å»ºè®®<strong>é€šè¿‡å¼•å…¥ä¸¤ä¸ªå¤šè§†å›¾å‡ ä½•çº¦æŸæ¥æ˜¾å¼ä¼˜åŒ–ç¥ç» SDF å­¦ä¹ </strong>ï¼šæ¥è‡ªSFMçš„ç¨€ç– 3D ç‚¹å’Œå¤šè§†å›¾ç«‹ä½“ä¸­çš„å…‰åº¦ä¸€è‡´æ€§ã€‚<br>é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒGeo-Neus åœ¨å¤æ‚çš„è–„ç»“æ„å’Œå¤§çš„å…‰æ»‘åŒºåŸŸç”Ÿæˆé«˜è´¨é‡çš„è¡¨é¢é‡å»ºã€‚å› æ­¤ï¼Œå®ƒå¤§å¤§ä¼˜äºæœ€å…ˆè¿›çš„æŠ€æœ¯ï¼ŒåŒ…æ‹¬ä¼ ç»Ÿå’Œç¥ç»éšå¼è¡¨é¢å­¦ä¹ æ–¹æ³•ã€‚<strong>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè™½ç„¶æˆ‘ä»¬çš„æ–¹æ³•å¤§å¤§æé«˜äº†é‡å»ºè´¨é‡ï¼Œä½†å…¶æ•ˆç‡ä»ç„¶æœ‰é™</strong>ã€‚æœªæ¥ï¼Œé€šè¿‡å¿«é€Ÿé€åœºæ™¯è¾å°„åœºä¼˜åŒ–æ–¹æ³•æ¢ç´¢é€šè¿‡ä½“ç»˜åˆ¶åŠ é€Ÿç¥ç»éšå¼è¡¨é¢å­¦ä¹ å°†æ˜¯æœ‰è¶£çš„ã€‚æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°æˆ‘ä»¬å·¥ä½œçš„ç›´æ¥è´Ÿé¢ç¤¾ä¼šå½±å“ï¼Œä½†å‡†ç¡®çš„ 3D æ¨¡å‹å¯ä»¥ä»malevolence.ä¸­ä½¿ç”¨ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>è¿‘å¹´æ¥ï¼Œé€šè¿‡ä½“ç»˜åˆ¶çš„ç¥ç»éšå¼æ›²é¢å­¦ä¹ æˆä¸ºå¤šè§†å›¾é‡å»ºçš„çƒ­é—¨æ–¹æ³•ã€‚ç„¶è€Œï¼Œä¸€ä¸ªå…³é”®çš„æŒ‘æˆ˜ä»ç„¶å­˜åœ¨: <strong>ç°æœ‰çš„æ–¹æ³•ç¼ºä¹æ˜ç¡®çš„å¤šè§†å›¾å‡ ä½•çº¦æŸï¼Œå› æ­¤é€šå¸¸æ— æ³•ç”Ÿæˆå‡ ä½•ä¸€è‡´çš„è¡¨é¢é‡å»º</strong>ã€‚ä¸ºäº†è§£å†³è¿™ä¸€æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº†å‡ ä½•ä¸€è‡´çš„ç¥ç»éšå¼æ›²é¢å­¦ä¹ ç”¨äºå¤šè§†å›¾é‡å»ºã€‚æˆ‘ä»¬ä»ç†è®ºä¸Šåˆ†æäº†ä½“ç»˜åˆ¶ç§¯åˆ†ä¸åŸºäºç‚¹çš„æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)å»ºæ¨¡ä¹‹é—´çš„å·®è·ã€‚ä¸ºäº†å¼¥è¡¥è¿™ä¸€å·®è·ï¼Œæˆ‘ä»¬ç›´æ¥å®šä½SDFç½‘ç»œçš„é›¶çº§é›†ï¼Œå¹¶é€šè¿‡åˆ©ç”¨å¤šè§†å›¾ç«‹ä½“ä¸­çš„ç»“æ„æ¥è‡ªè¿åŠ¨çš„ç¨€ç–å‡ ä½•(SFM)å’Œå…‰åº¦ä¸€è‡´æ€§æ˜¾å¼åœ°æ‰§è¡Œå¤šè§†å›¾å‡ ä½•ä¼˜åŒ–ã€‚è¿™ä½¿å¾—æˆ‘ä»¬çš„SDFä¼˜åŒ–æ— åï¼Œå¹¶å…è®¸å¤šè§†å›¾å‡ ä½•çº¦æŸä¸“æ³¨äºçœŸæ­£çš„è¡¨é¢ä¼˜åŒ–ã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬æå‡ºçš„æ–¹æ³•åœ¨å¤æ‚è–„ç»“æ„å’Œå¤§é¢ç§¯å…‰æ»‘åŒºåŸŸéƒ½èƒ½å®ç°é«˜è´¨é‡çš„è¡¨é¢é‡å»ºï¼Œä»è€Œå¤§å¤§ä¼˜äºç›®å‰çš„æŠ€æœ¯æ°´å¹³ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>ä¼ ç»Ÿæ–¹æ³•ç®¡çº¿ï¼šéœ€è¦æ·±åº¦å›¾æˆ–ç‚¹äº‘æ¥ç”Ÿæˆè¡¨é¢ç½‘æ ¼ã€‚è¿™äº›ä¸­é—´è¡¨ç¤ºä¸å¯é¿å…åœ°ä¸ºæœ€ç»ˆé‡å»ºçš„å‡ ä½•å¼•å…¥ç´¯ç§¯è¯¯å·®ã€‚</li><li>æ–°çš„æ–¹æ³•ï¼šä»å›¾åƒä¸­ç›´æ¥é‡å»ºæ›²é¢ï¼Œæœ‰å¯èƒ½å‡è½»ç´¯ç§¯è¯¯å·®å¹¶äº§ç”Ÿé«˜è´¨é‡çš„é‡å»ºã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œç°æœ‰çš„æ–¹æ³•å°†è¡¨é¢è¡¨ç¤ºä¸ºç¥ç»éšå¼è¡¨ç¤ºï¼Œå¹¶åˆ©ç”¨ä½“ç§¯æ¸²æŸ“æ¥ä¼˜åŒ–å®ƒä»¬ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230911164541.png" alt="image.png"></p><p><strong><em>ä½¿ç”¨renderedçš„colorè¿›è¡Œç›‘ç£ï¼Œä¸å¯é¿å…åœ°ä¼š fail to preserve object geometry informationï¼Œå¹¶ä¸”æ¸²æŸ“åœ°é¢œè‰²ä¸ä¼°è®¡è¡¨é¢é¢œè‰²å­˜åœ¨ç€åå·®</em></strong></p><p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæå‡ºäº†Geo-Neusï¼Œè®¾è®¡ä¸€ä¸ªæ˜ç¡®å’Œç²¾ç¡®çš„ç¥ç»å‡ ä½•ä¼˜åŒ–æ¨¡å‹ï¼Œç”¨äºå‡ ä½•ä¸€è‡´çš„ç¥ç»éšå¼æ›²é¢çš„ä½“ç»˜åˆ¶å­¦ä¹ ï¼Œä»è€Œå®ç°æ›´å¥½çš„å¤šè§†å›¾ä¸‰ç»´é‡å»ºã€‚<strong>å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬ç›´æ¥å®šä½SDFç½‘ç»œçš„é›¶æ°´å¹³é›†ï¼Œå¹¶é€šè¿‡åˆ©ç”¨å¤šè§†å›¾ç«‹ä½“ä¸­çš„ç»“æ„è¿åŠ¨ç¨€ç–å‡ ä½•(SFM)å’Œå…‰åº¦ä¸€è‡´æ€§æ˜ç¡®åœ°è¿›è¡Œå¤šè§†å›¾å‡ ä½•ä¼˜åŒ–</strong>ã€‚<br>è¿™ç§æ¨¡å¼æœ‰å‡ ä¸ªå¥½å¤„ã€‚</p><ul><li>é¦–å…ˆï¼Œç›´æ¥å®šä½SDFç½‘ç»œçš„é›¶æ°´å¹³é›†ä¿è¯äº†æˆ‘ä»¬çš„å‡ ä½•å»ºæ¨¡æ˜¯æ— åçš„ã€‚è¿™ä½¿æˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿä¸“æ³¨äºçœŸæ­£çš„è¡¨é¢ä¼˜åŒ–ã€‚</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¯æ˜äº†åœ¨SDFç½‘ç»œçš„å®šä½é›¶æ°´å¹³é›†ä¸Šæ˜¾å¼åœ°å¼ºåˆ¶å¤šè§†å›¾å‡ ä½•çº¦æŸä½¿æˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿç”Ÿæˆå‡ ä½•ä¸€è‡´çš„è¡¨é¢é‡å»ºã€‚ä»¥å¾€çš„ç¥ç»éšå¼æ›²é¢å­¦ä¹ ä¸»è¦åˆ©ç”¨æ¸²æŸ“æŸå¤±æ¥éšå¼ä¼˜åŒ–SDFç½‘ç»œã€‚è¿™å¯¼è‡´äº†è®­ç»ƒä¼˜åŒ–è¿‡ç¨‹ä¸­çš„å‡ ä½•æ¨¡ç³Šã€‚<strong>æˆ‘ä»¬å¼•å…¥çš„ä¸¤ç§ç±»å‹çš„æ˜ç¡®çš„å¤šè§†å›¾çº¦æŸé¼“åŠ±æˆ‘ä»¬çš„SDFç½‘ç»œæ¨ç†æ­£ç¡®çš„å‡ ä½•å½¢çŠ¶ï¼ŒåŒ…æ‹¬å¤æ‚çš„è–„ç»“æ„å’Œå¤§çš„å…‰æ»‘åŒºåŸŸ</strong>ã€‚</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬çš„è´¡çŒ®æ˜¯:<br>1)æˆ‘ä»¬ä»ç†è®ºä¸Šåˆ†æäº†ä½“ç»˜åˆ¶ç§¯åˆ†å’ŒåŸºäºç‚¹çš„SDFå»ºæ¨¡ä¹‹é—´å­˜åœ¨å·®è·ã€‚è¿™è¡¨æ˜ç›´æ¥ç›‘ç£SDFç½‘ç»œæ˜¯ä¿ƒè¿›ç¥ç»å†…éšè¡¨é¢å­¦ä¹ çš„å¿…è¦æ¡ä»¶ã€‚<br>2)åœ¨ç†è®ºåˆ†æçš„åŸºç¡€ä¸Šï¼Œæå‡ºç›´æ¥å®šä½SDFç½‘ç»œçš„é›¶æ°´å¹³é›†ï¼Œåˆ©ç”¨å¤šè§†å›¾å‡ ä½•çº¦æŸæ˜ç¡®ç›‘ç£SDFç½‘ç»œçš„è®­ç»ƒã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSDFç½‘ç»œè¢«é¼“åŠ±ä¸“æ³¨äºçœŸæ­£çš„è¡¨é¢ä¼˜åŒ–ã€‚<br>å¤§é‡çš„å®éªŒè¿›ä¸€æ­¥éªŒè¯äº†æˆ‘ä»¬çš„ç†è®ºåˆ†æå’Œæå‡ºçš„SDFç½‘ç»œç›´æ¥ä¼˜åŒ–çš„æœ‰æ•ˆæ€§ã€‚æˆ‘ä»¬çš„ç ”ç©¶è¡¨æ˜ï¼Œæˆ‘ä»¬æå‡ºçš„Geo-Neusèƒ½å¤Ÿé‡å»ºå¤æ‚çš„è–„ç»“æ„å’Œå¤§çš„å…‰æ»‘åŒºåŸŸã€‚å› æ­¤ï¼Œå®ƒå¤§å¤§ä¼˜äºç›®å‰æœ€å…ˆè¿›çš„è¡¨é¢é‡å»ºæ–¹æ³•ï¼ŒåŒ…æ‹¬ä¼ ç»Ÿæ–¹æ³•å’Œç¥ç»éšå¼è¡¨é¢å­¦ä¹ æ–¹æ³•ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p><strong>Traditional multi-view 3D reconstruction</strong></p><ol><li>SFM</li><li>MVS</li><li>Screened Poisson Surface Reconstruction</li></ol><p><strong>ä½†ç”±äºå®ƒä»¬çš„å¤šä¸ªä¸­é—´æ­¥éª¤æ²¡æœ‰æ„æˆä¸€ä¸ªæ•´ä½“ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å­˜åœ¨è¡¨é¢ä¸å®Œå¤‡æ€§</strong>ã€‚</p><p><strong>Implicit representation of surface</strong>.<br>æ ¹æ®è¡¨é¢çš„è¡¨ç¤ºå½¢å¼ï¼Œè¡¨é¢é‡å»ºæ–¹æ³•ä¸€èˆ¬å¯åˆ†ä¸ºæ˜¾å¼æ–¹æ³•å’Œéšå¼æ–¹æ³•ã€‚æ˜¾å¼è¡¨ç¤ºåŒ…æ‹¬ä½“ç´ [5,29]å’Œä¸‰è§’ç½‘æ ¼[3,4,14]ï¼Œå®ƒä»¬å—åˆ°åˆ†è¾¨ç‡çš„é™åˆ¶ã€‚<strong>éšå¼è¡¨ç¤ºæ³•ä½¿ç”¨éšå¼å‡½æ•°æ¥è¡¨ç¤ºæ›²é¢ï¼Œå› æ­¤æ˜¯è¿ç»­çš„</strong>ã€‚å¯ä»¥ä½¿ç”¨éšå¼å‡½æ•°åœ¨ä»»æ„åˆ†è¾¨ç‡ä¸‹æå–æ›²é¢ã€‚ä¼ ç»Ÿçš„é‡å»ºæ–¹æ³•ï¼Œå¦‚ç­›é€‰æ³Šæ¾æ›²é¢é‡å»º[13]ï¼Œä½¿ç”¨åŸºæœ¬å‡½æ•°æ„æˆéšå‡½æ•°ã€‚åœ¨åŸºäºå­¦ä¹ çš„æ–¹æ³•ä¸­ï¼Œæœ€å¸¸ç”¨çš„å½¢å¼æ˜¯å ç”¨å‡½æ•°[20,26]å’Œä»¥ç½‘ç»œä¸ºä»£è¡¨çš„æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF) [25]</p><p><strong>Neural implicit surface reconstruction</strong>.</p><p>ç¥ç»éšå¼åœºæ˜¯ä¸€ç§è¡¨ç¤ºç‰©ä½“å‡ ä½•å½¢çŠ¶çš„æ–°æ–¹æ³•ã€‚éšç€NeRF[21]é¦–æ¬¡åœ¨æ–°é¢–è§†å›¾åˆæˆä¸­ä½¿ç”¨å¤šå±‚æ„ŸçŸ¥æœº(Multi-Layer Perceptron, MLP)ä»£è¡¨çš„ç¥ç»è¾å°„åœºï¼Œå¤§é‡ä½¿ç”¨ç¥ç»ç½‘ç»œæ¥è¡¨ç¤ºåœºæ™¯çš„ä½œå“[16,18,30]å±‚å‡ºä¸ç©·ã€‚</p><ul><li>IDR[40]é€šè¿‡å°†å‡ ä½•è¡¨ç¤ºä¸ºè¢«è®¤ä¸ºæ˜¯SDFçš„MLPçš„é›¶æ°´å¹³é›†ï¼Œç”¨ç¥ç»ç½‘ç»œé‡æ„æ›²é¢ã€‚</li><li>MVSDF[41]ä»MVSç½‘ç»œä¸­å¯¼å…¥ä¿¡æ¯ä»¥è·å¾—æ›´å¤šçš„å‡ ä½•å…ˆéªŒã€‚</li><li>VolSDF[39]å’ŒNeus[33]åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­<strong>ä½¿ç”¨æ¶‰åŠSDFçš„æƒé‡å‡½æ•°</strong>ä½¿é¢œè‰²å’Œå‡ ä½•æ›´æ¥è¿‘ã€‚</li><li>UNISURF[24]æ¢ç´¢äº†è¡¨é¢ç»˜åˆ¶å’Œä½“ç»˜åˆ¶ä¹‹é—´çš„å¹³è¡¡ã€‚</li><li>ä¸ä¼ ç»Ÿçš„å¤šè§†å›¾é‡å»ºæ–¹æ³•ç›¸æ¯”ï¼Œç¥ç»ç½‘ç»œé‡å»ºçš„æ›²é¢å…·æœ‰æ›´å¥½çš„å®Œå¤‡æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†éå…°ä¼¯ç‰¹æƒ…å†µ<strong>non-Lambertian cases</strong>æ—¶ã€‚ç„¶è€Œï¼Œå¤æ‚çš„ç»“æ„å¹¶æ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„å¤„ç†ã€‚åŒæ—¶ï¼Œå¹³é¢å’Œå°–è§’ä¹Ÿæ— æ³•ä¿è¯ã€‚</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>ç»™å®šç›®æ ‡çš„å¤šè§†å›¾å›¾åƒï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨æ²¡æœ‰maskç›‘ç£çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ç¥ç»ä½“ç»˜åˆ¶é‡å»ºè¡¨é¢ã€‚ç›®æ ‡çš„ç©ºé—´åœºç”¨æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)è¡¨ç¤ºï¼Œå¹¶åˆ©ç”¨SDFçš„é›¶æ°´å¹³é›†æå–ç›¸åº”çš„è¡¨é¢ã€‚<strong>åœ¨ä½“ç»˜åˆ¶è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¼˜åŒ–æœ‰ç¬¦å·è·ç¦»å‡½æ•°</strong>ã€‚<br>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆ<strong>åˆ†æäº†å¯¼è‡´æ¸²æŸ“é¢œè‰²ä¸éšå¼å‡ ä½•ä¹‹é—´ä¸ä¸€è‡´çš„é¢œè‰²æ¸²æŸ“ä¸­çš„å›ºæœ‰åå·®</strong>ã€‚ç„¶å<strong>å¼•å…¥æ˜¾å¼SDFä¼˜åŒ–æ¥å®ç°å‡ ä½•ä¸€è‡´æ€§</strong>ã€‚æˆ‘ä»¬çš„æ–¹æ³•æ¦‚è¿°å¦‚å›¾2æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230911165550.png" alt="image.png"></p><h2 id="Bias-in-color-rendering"><a href="#Bias-in-color-rendering" class="headerlink" title="Bias in color rendering"></a>Bias in color rendering</h2><p>åœ¨ä½“æ¸²æŸ“çš„è¿‡ç¨‹ä¸­ï¼Œæ¸²æŸ“çš„é¢œè‰²ä¸ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ä¹‹é—´å­˜åœ¨é—´éš™ã€‚æ¸²æŸ“çš„é¢œè‰²ä¸è¡¨é¢çš„çœŸå®é¢œè‰²ä¸ä¸€è‡´ã€‚<br>å¯¹äºä¸é€æ˜å®ä½“$\Omega\in\mathbb{R}^3,$å…¶ä¸é€æ˜åº¦å¯ä»¥ç”¨æŒ‡æ ‡å‡½æ•°$\mathcal{O}(p)$è¡¨ç¤º:<br>$\mathcal{O}(\boldsymbol{p})=\left\{\begin{array}{l}1,\boldsymbol{p}\in\Omega\\0,\boldsymbol{p}\notin\Omega\end{array}\right..$ Eq.1</p><p>åŸºäºä¸é€æ˜å›ºä½“ç‰©ä½“å›ºæœ‰çš„å…‰å­¦ç‰¹æ€§ï¼Œæˆ‘ä»¬è¿‘ä¼¼å‡è®¾å›¾åƒé›†$\{I_{i}\}$çš„é¢œè‰²Cä¸ºä¸å¯¹åº”ç›¸æœºä½ç½®oçš„å…‰çº¿vç›¸äº¤çš„ç‰©ä½“çš„é¢œè‰²C:<br>$C\left(\boldsymbol{o},\boldsymbol{v}\right)=\left.c\left(\boldsymbol{o}+t^*\boldsymbol{v}\right),\right.$ Eq.2</p><p>å…¶ä¸­$t^*=\operatorname{argmin}\{t|\boldsymbol{o}+t\boldsymbol{v}=\boldsymbol{p},\boldsymbol{p}\in\partial\Omega,t\in(0,\infty)\}.$ âˆ‚Î©è¡¨ç¤ºå‡ ä½•æ›²é¢ã€‚å‡è®¾æ˜¯åˆé€‚çš„ï¼Œå› ä¸º:</p><ul><li>é€è¿‡ä¸é€æ˜ç‰©ä½“çš„å…‰å¯ä»¥è¢«å¿½ç•¥ã€‚</li><li>å…‰çš„å¼ºåº¦åœ¨ç©¿è¿‡ä¸é€æ˜ç‰©ä½“è¡¨é¢æ—¶æ€¥å‰§è¡°å‡åˆ°é›¶å·¦å³ã€‚</li></ul><p>è®©æˆ‘ä»¬ç”¨å¸¦ç¬¦å·çš„è·ç¦»å‡½æ•°åœ¨æ•°å­¦ä¸Šè¡¨ç¤ºç‰©ä½“çš„è¡¨é¢ã€‚æœ‰ç¬¦å·è·ç¦»å‡½æ•°sdf (p)æ˜¯ç©ºé—´ç‚¹pä¸æ›²é¢âˆ‚Î©ä¹‹é—´çš„æœ‰ç¬¦å·è·ç¦»ã€‚è¿™æ ·ï¼Œæ›²é¢âˆ‚Î©å¯ä»¥è¡¨ç¤ºä¸º:<br>$\partial\Omega=\left\{\boldsymbol{p}|sdf\left(\boldsymbol{p}\right)=0\right\}.$ Eq.3</p><p>é€šè¿‡ç¥ç»ä½“ç»˜åˆ¶ï¼Œæˆ‘ä»¬é€šè¿‡å¤šå±‚æ„ŸçŸ¥å™¨(MLP)ç½‘ç»œ$F_{\Theta}\mathrm{and} G_{\Phi}$ä¼°è®¡æœ‰ç¬¦å·è·ç¦»å‡½æ•°$\hat{sdf}$å’Œ$\hat{c}$ </p><p>$\hat{sdf}\left(p\right)=F_{\Theta}\left(p\right),$ Eq.4</p><p>$\hat{c}\left(\boldsymbol{o},\boldsymbol{v},t\right)=G_{\Phi}\left(\boldsymbol{o},\boldsymbol{v},t\right).$ Eq.5</p><p>å› æ­¤ï¼Œç›¸æœºä½ç½®ä¸º$\text{o}$çš„å›¾åƒçš„ä¼°è®¡é¢œè‰²å¯ä»¥è¡¨ç¤ºä¸º:$\hat{C}=\int_{0}^{+\infty}w\left(t\right)\hat{c}\left(t\right)dt,$ Eq.6<br>å…¶ä¸­ï¼Œtæ˜¯ä»0ç‚¹å‘væ–¹å‘çš„å°„çº¿çš„æ·±åº¦ï¼Œ$w(t)$æ˜¯tç‚¹çš„æƒå€¼ã€‚ä¸ºç®€å•èµ·è§ï¼Œçœç•¥äº†æ³¨é‡Šoå’Œvã€‚ä¸ºäº†å¾—åˆ°$w$å’Œ$\hat{c}$çš„ç¦»æ•£å¯¹åº”é¡¹ï¼Œæˆ‘ä»¬ä¹Ÿæ²¿ç€å°„çº¿å¯¹$t_{i}$è¿›è¡Œç¦»æ•£é‡‡æ ·ï¼Œå¹¶ä½¿ç”¨é»æ›¼å’Œ:<br>$\hat{C}=\sum_{i=1}^nw\left(t_i\right)\hat{c}\left(t_i\right).$ Eq.7</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ–°è§†å›¾åˆæˆçš„ç›®æ ‡æ˜¯å‡†ç¡®é¢„æµ‹é¢œè‰²$\hat{C},$å¹¶åŠªåŠ›æœ€å°åŒ–åœ°é¢çœŸå®å›¾åƒCä¸é¢„æµ‹å›¾åƒ$\hat{C}$ä¹‹é—´çš„é¢œè‰²å·®å¼‚:<br>$C=\hat{C}=\sum_{i=1}^{n}w\left(t_{i}\right)\hat{c}\left(t_{i}\right).$ Eq.8</p><p>è€Œåœ¨è¡¨é¢é‡å»ºä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬æ›´å…³æ³¨çš„æ˜¯ç‰©ä½“çš„è¡¨é¢è€Œä¸æ˜¯é¢œè‰²ã€‚è¿™æ ·ï¼Œä¸Šå¼å¯æ”¹å†™ä¸º:</p><script type="math/tex; mode=display">\begin{aligned}\text{C}& \begin{aligned}=\sum_{i=1}^{j-1}w\left(t_{i}\right)\hat{c}\left(t_{i}\right)+w\left(t_{j}\right)\hat{c}\left(\hat{t^{*}}\right)+w\left(t_{j}\right)\left(\hat{c}\left(t_{j}\right)-\hat{c}\left(\hat{t^{*}}\right)\right)+\sum_{i=j+1}^{n}w\left(t_{i}\right)\hat{c}\left(t_{i}\right)\end{aligned}  \\&=w\left(t_j\right)\hat{c}\left(\hat{t^*}\right)+\varepsilon_{sample}+\sum_{\overset{i=1}{\operatorname*{i\neq j}}}^nw\left(t_i\right)\hat{c}\left(t_i\right) \\&=w\left(t_j\right)\hat{c}\left(\hat{t^*}\right)+\varepsilon_{sample}+\varepsilon_{weight},\end{aligned}</script><ul><li>$\hat{sdf}(\hat{t^*})=0,$  è¡¨ç¤ºä¼°è®¡åœ°è¡¨é¢ä½ç½®</li><li>$t_{\boldsymbol{j}}$è¡¨ç¤ºç¦»$\hat{t^{*}}$æœ€è¿‘çš„æ ·æœ¬ç‚¹ï¼Œ(è¡¨é¢ç‚¹å¯èƒ½æ²¡æœ‰è¢«é‡‡æ ·åˆ°)</li><li>$\varepsilon_{sample}$è¡¨ç¤ºé‡‡æ ·æ“ä½œå¼•èµ·çš„åå·®ï¼Œ</li><li>$\varepsilon_{weight}$è¡¨ç¤ºä½“ç§¯ç»˜åˆ¶åŠ æƒç´¯åŠ æ“ä½œå¼•èµ·çš„åå·®ã€‚(è¡¨é¢ç‚¹é¢œè‰²è¢«åˆ†åˆ°äº†ç©ºæ°”ä¸­é€æ˜ä½ç½®)</li></ul><p>ç”±å¼(2)å¯æ”¹å†™ä¸º:</p><script type="math/tex; mode=display">w\left(t_{j}\right)\hat{c}\left(\hat{t^{*}}\right)+\varepsilon_{sample}+\varepsilon_{weight}=c\left(t^{*}\right),</script><script type="math/tex; mode=display">\hat{c}\left(\hat{t^{*}}\right)=\frac{c\left(t^{*}\right)-\varepsilon_{sample}-\varepsilon_{weight}}{w\left(t_{j}\right)}.</script><p>å…¶ä¸­ï¼Œç‰©ä½“è¡¨é¢é¢œè‰²ä¸ä¼°è®¡è¡¨é¢é¢œè‰²çš„æ€»åå·®ä¸º:</p><script type="math/tex; mode=display">\Delta c=\hat{c}\left(\hat{t^{*}}\right)-c\left(t^{*}\right)=\frac{\left(1-w\left(t_{j}\right)\right)c\left(t^{*}\right)-\varepsilon_{sample}-\varepsilon_{weight}}{w\left(t_{j}\right)}.</script><p>ç›¸å¯¹åå·®æ˜¯:</p><script type="math/tex; mode=display">\delta c=\frac{\Delta c}{c\left(t^{*}\right)}=\frac1{w\left(t_{j}\right)}-1-\frac{\varepsilon_{sample}+\varepsilon_{weight}}{w\left(t_{j}\right)c\left(t^{*}\right)}.</script><p>å½“$w\left(t_{j}\right)$è¶‹äº1æ—¶, $\varepsilon_{weight}$è¶‹äº0ï¼Œ$\delta c$è¶‹äº$\varepsilon_{sample}/c(t^{*})$ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ€»åå·®ä»…ç”±ç¦»æ•£æŠ½æ ·å¼•èµ·ï¼Œå®ƒå¾ˆå°(ä½†ä»ç„¶å­˜åœ¨)ã€‚</p><p>ç°æœ‰å‡ ç§ç¥ç»é‡æ„æ–¹æ³•çš„æ¨¡æ‹Ÿæƒå€¼å¦‚å›¾3æ‰€ç¤ºã€‚å¯ä»¥çœ‹å‡ºï¼Œåœ¨å®è·µä¸­å‡ ä¹ä¸å¯èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œç‰¹åˆ«æ˜¯åœ¨æ²¡æœ‰ä»»ä½•å‡ ä½•çº¦æŸçš„æƒ…å†µä¸‹ã€‚æ­¤å¤–ï¼Œå½“å¤„ç†occlusionçš„æƒ…å†µæ—¶ï¼Œè¿™ä¸ªé—®é¢˜å˜å¾—æ›´åŠ æ£˜æ‰‹ã€‚å› æ­¤ï¼Œä½“ç»˜åˆ¶ç§¯åˆ†çš„åŠ æƒæ–¹å¼å¼•å…¥äº†éšå¼å‡ ä½•å»ºæ¨¡çš„biasã€‚ç”±äºæ•´ä¸ªç½‘ç»œçš„ç›‘ç£å‡ ä¹å®Œå…¨ä¾èµ–äºæ¸²æŸ“é¢œè‰²å’Œåœ°é¢çœŸè‰²çš„å·®å¼‚ï¼Œè¿™ç§biasä¼šä½¿è¡¨é¢çš„é¢œè‰²å’ŒSDFç½‘ç»œéš¾ä»¥ç›‘ç£ï¼Œå¯¼è‡´é¢œè‰²å’Œå‡ ä½•ä¹‹é—´çš„gapã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230911171816.png" alt="image.png"></p><p>ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯ç›´æ¥ç›‘ç£å¯¹è±¡çš„å‡ ä½•å½¢çŠ¶ã€‚<strong>å› æ­¤ï¼Œæˆ‘ä»¬è®¾è®¡äº†SDFç½‘ç»œä¸Šçš„æ˜¾å¼ç›‘ç£å’Œå…·æœ‰å¤šè§†å›¾çº¦æŸçš„å‡ ä½•ä¸€è‡´ç›‘ç£</strong>ã€‚</p><h2 id="Explicit-supervision-on-SDF-network"><a href="#Explicit-supervision-on-SDF-network" class="headerlink" title="Explicit supervision on SDF network"></a>Explicit supervision on SDF network</h2><p>SDFç½‘ç»œä¼°è®¡ä»ä»»æ„ç©ºé—´ç‚¹åˆ°ç‰©ä½“è¡¨é¢çš„å¸¦ç¬¦å·è·ç¦»ï¼Œæ˜¯æˆ‘ä»¬éœ€è¦ä¼˜åŒ–çš„å…³é”®ç½‘ç»œã€‚å› æ­¤ï¼Œæˆ‘ä»¬<strong>æå‡ºäº†ä¸€ç§å¯¹SDFç½‘ç»œè¿›è¡Œæ˜¾å¼ç›‘ç£çš„æ–¹æ³•</strong>ï¼Œç›´æ¥åˆ©ç”¨ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹æ¥ä¿è¯å…¶ç²¾åº¦ã€‚</p><p>ä¸ºäº†å‡å°‘é¢å¤–æˆæœ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨ç”±SFMç”Ÿæˆçš„ç‚¹[27,31]æ¥ç›‘ç£SDFç½‘ç»œã€‚å®é™…ä¸Šï¼ŒSFMæ˜¯ä¸€ç§è®¡ç®—è¾“å…¥å›¾åƒç›¸æœºå‚æ•°çš„è§„èŒƒè§£å†³æ–¹æ¡ˆï¼Œå…¶ä¸­2Dç‰¹å¾åŒ¹é…Xå’Œç¨€ç–çš„3Dç‚¹Pä¹Ÿä½œä¸ºå‰¯äº§å“ç”Ÿæˆã€‚å› æ­¤ï¼Œè¿™äº›ç¨€ç–çš„ä¸‰ç»´ç‚¹å¯ä»¥ä½œä¸ºâ€œè‡ªç”±çš„â€æ˜¾å¼å‡ ä½•ä¿¡æ¯ã€‚<strong>è¿‘ä¼¼åœ°ï¼Œæˆ‘ä»¬å‡è®¾è¿™äº›ç¨€ç–ç‚¹åœ¨ç‰©ä½“è¡¨é¢</strong>ã€‚å³ç¨€ç–ç‚¹çš„SDFå€¼ä¸ºé›¶:$sdf\left(\boldsymbol{p}_{i}\right)=0$ï¼Œå…¶ä¸­$\boldsymbol{p}_{i}\in\boldsymbol{P}.$ã€‚åœ¨å®é™…ä¸­ï¼Œåœ¨è·å¾—ç¨€ç–çš„3Dç‚¹åï¼Œä½¿ç”¨<strong>åŠå¾„æ»¤æ³¢å™¨</strong>æ¥æ’é™¤ä¸€äº›ç¦»ç¾¤ç‚¹[43]ã€‚</p><p><strong>Occlusion handling</strong><br>å› ä¸ºæˆ‘ä»¬å…³æ³¨çš„æ˜¯ä¸é€æ˜çš„ç‰©ä½“ï¼Œæ‰€ä»¥ç‰©ä½“çš„æŸäº›éƒ¨åˆ†ä»ç›¸æœºçš„ç‰¹å®šä½ç½®æ¥çœ‹æ˜¯ä¸å¯è§çš„ã€‚å› æ­¤ï¼Œæ¯ä¸ªè§†å›¾ä¸­åªæœ‰ä¸€äº›ç¨€ç–ç‚¹å¯è§ã€‚å¯¹äºç›¸æœºä½ç½®ä¸º$o_{i}$çš„å›¾åƒ$I_{i}$ï¼Œå¯è§ç‚¹$P_{i}$ä¸$I_{i}$çš„ç‰¹å¾ç‚¹$X_{i}$ä¸€è‡´:</p><p>$X_{i}=K_{i}\left[R_{i}|t_{i}\right]P_{i},$ Eq.14</p><p>å…¶ä¸­$K_{i}$ä¸ºå†…éƒ¨å®šæ ‡çŸ©é˜µï¼Œ$R_i$ä¸ºæ—‹è½¬çŸ©é˜µï¼Œ$t_i$ä¸ºå›¾åƒ$I_{i}$çš„å¹³ç§»å‘é‡ã€‚$X_i\mathrm{~and~}P_i$çš„åæ ‡éƒ½æ˜¯é½æ¬¡åæ ‡ã€‚ä¸ºç®€å•èµ·è§ï¼Œçœç•¥äº†$X_{\boldsymbol{i}}$ä¹‹å‰çš„æ ‡åº¦æŒ‡æ•°ã€‚æ ¹æ®æ¯å¼ å›¾åƒçš„ç‰¹å¾ç‚¹ï¼Œ<strong>æˆ‘ä»¬å¾—åˆ°æ¯ä¸ªè§†å›¾çš„å¯è§ç‚¹ï¼Œå¹¶åœ¨ä»å¯¹åº”è§†å›¾æ¸²æŸ“å›¾åƒæ—¶ä½¿ç”¨å®ƒä»¬æ¥ç›‘ç£SDFç½‘ç»œ</strong>ã€‚</p><p><strong>View-aware SDF loss</strong>.<br>åœ¨ä»è§†å›¾$V_{i}$æ¸²æŸ“å›¾åƒ$I_i$æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨SDFç½‘ç»œä¼°è®¡å¯è§ç‚¹$P_{i}\mathrm{~of~}V_{i}$çš„SDFå€¼ã€‚åŸºäºç¨€ç–ç‚¹çš„SDFå€¼ä¸ºé›¶çš„è¿‘ä¼¼ï¼Œæˆ‘ä»¬æå‡ºäº†è§†å›¾æ„ŸçŸ¥çš„SDFæŸå¤±:</p><p>$\mathcal{L}_{SDF}=\sum_{p_j\in\boldsymbol{P}_i}\frac{1}{N_i}|\hat{sd}f\left(\boldsymbol{p}_j\right)-sdf\left(\boldsymbol{p}_j\right)|=\sum_{\boldsymbol{p}_j\in\boldsymbol{P}_i}\frac{1}{N_i}|\hat{sd}f\left(\boldsymbol{p}_j\right)|,$ Eq.15<br>å¼ä¸­ï¼Œ$N_{i}$ä¸º$P_{i}$ä¸­ç‚¹çš„ä¸ªæ•°ï¼Œ|Â·|ä¸ºL1è·ç¦»ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<strong>æˆ‘ä»¬ç”¨æ¥ç›‘ç£SDFç½‘ç»œçš„æŸå¤±æ ¹æ®æ‰€å‘ˆç°çš„è§†å›¾è€Œå˜åŒ–</strong>ã€‚è¿™æ ·ï¼Œå¼•å…¥çš„SDFæŸè€—ä¸æ˜¾è‰²è¿‡ç¨‹æ˜¯ä¸€è‡´çš„ã€‚</p><p>é€šè¿‡å¯¹SDFç½‘ç»œçš„æ˜¾å¼ç›‘ç£ï¼Œæˆ‘ä»¬çš„ç½‘ç»œå¯ä»¥æ›´å¿«åœ°æ”¶æ•›ï¼Œ<strong>å› ä¸ºä½¿ç”¨äº†å‡ ä½•å…ˆéªŒ</strong>ã€‚æ­¤å¤–ï¼Œç”±äºçº¹ç†å¼ºçƒˆçš„å¤æ‚å‡ ä½•ç»“æ„æ˜¯ç¨€ç–ç‚¹çš„é›†ä¸­åˆ†å¸ƒåŒºåŸŸï¼Œå› æ­¤æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥æ•æ‰åˆ°æ›´ç»†è‡´çš„å‡ ä½•å½¢çŠ¶ã€‚</p><h2 id="Geometry-consistent-supervision-with-multi-view-constraints"><a href="#Geometry-consistent-supervision-with-multi-view-constraints" class="headerlink" title="Geometry-consistent supervision with multi-view constraints"></a>Geometry-consistent supervision with multi-view constraints</h2><p>ä½¿ç”¨SDFæŸå¤±ï¼Œæˆ‘ä»¬çš„ç½‘ç»œå¯ä»¥æ•è·å…·æœ‰å¼ºçº¹ç†çš„å¤æ‚å‡ ä½•ç»†èŠ‚ã€‚ç”±äºç¨€ç–çš„3Dç‚¹ä¸»è¦å¯¹çº¹ç†ä¸°å¯Œçš„åŒºåŸŸæä¾›æ˜¾å¼çº¦æŸï¼Œ<strong>å› æ­¤å¤§é¢ç§¯çš„å…‰æ»‘åŒºåŸŸä»ç„¶ç¼ºä¹æ˜¾å¼çš„å‡ ä½•çº¦æŸ</strong>ã€‚ä¸ºäº†æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬è®¾è®¡äº†å…·æœ‰å¤šè§†å›¾ç«‹ä½“çº¦æŸçš„éšå¼æ›²é¢ä¸Šçš„å‡ ä½•ä¸€è‡´ç›‘ç£</p><p><strong>Occlusion-aware implicit surface capture</strong></p><p>æˆ‘ä»¬ä½¿ç”¨æ›²é¢çš„éšå¼è¡¨ç¤ºï¼Œå¹¶åˆ©ç”¨éšå¼å‡½æ•°çš„é›¶æ°´å¹³é›†æå–æ›²é¢ã€‚éšæ›²é¢æ ¹æ®å¼(3)ï¼Œä¼°è®¡æ›²é¢ä¸º:<br>$\hat{\partial\Omega}=\left\{\boldsymbol{p}|\hat{sdf}(\boldsymbol{p})=0\right\}.$Eq.16</p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ä¸åŒè§†å›¾ä¹‹é—´ä½¿ç”¨å‡ ä½•ä¸€è‡´çš„çº¦æŸæ¥ä¼˜åŒ–$\partial\hat{\Omega}$ã€‚å› ä¸ºæ›²é¢ä¸Šçš„ç‚¹çš„æ•°é‡æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥åœ¨å®è·µä¸­æˆ‘ä»¬éœ€è¦ä»$\partial\hat{\Omega}$ä¸­é‡‡æ ·ç‚¹ã€‚ä¸ºäº†ä¸ä½¿ç”¨è§†å›¾å…‰çº¿çš„æ˜¾è‰²è¿‡ç¨‹ä¿æŒä¸€è‡´ï¼Œæˆ‘ä»¬å¯¹è¿™äº›å…‰çº¿ä¸Šçš„è¡¨é¢ç‚¹è¿›è¡Œé‡‡æ ·ã€‚æ­£å¦‚3.1ä¸­æåˆ°çš„ï¼Œæˆ‘ä»¬æ²¿ç€è§†å›¾å°„çº¿ç¦»æ•£é‡‡æ ·ï¼Œå¹¶ä½¿ç”¨é»æ›¼å’Œæ¥è·å¾—æ¸²æŸ“çš„é¢œè‰²ã€‚åœ¨é‡‡æ ·ç‚¹çš„åŸºç¡€ä¸Šï¼Œé‡‡ç”¨çº¿æ€§æ’å€¼æ–¹æ³•å¾—åˆ°æ›²é¢ç‚¹ã€‚</p><p>åœ¨å°„çº¿ä¸Šé‡‡æ ·ç‚¹tï¼Œå¯¹åº”çš„ä¸‰ç»´ç‚¹ä¸º$p=o+tv,$ é¢„æµ‹çš„SDFå€¼ä¸º$\hat{sdf(p)}$ï¼Œä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å°†$\hat{sdf(p)}$è¡¨ç¤ºä¸º $\hat{sdf(t)}$ï¼Œè¿™æ˜¯tçš„å‡½æ•°ã€‚æˆ‘ä»¬æ‰¾åˆ°æ ·æœ¬ç‚¹$t_{i}$ï¼Œå…¶SDFå€¼çš„ç¬¦å·ä¸ä¸‹ä¸€ä¸ªæ ·æœ¬ç‚¹$t_{i+1}$ä¸åŒã€‚ç”±$t_{i}$å½¢æˆçš„æ ·æœ¬ç‚¹é›†Tä¸º:<br>$T=\left\{t_i|\hat{sdf}(t_i)\cdot\hat{sdf}(t_{i+1})&lt;0\right\}.$ Eq.17</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œçº¿$t_it_{i+1}$ä¸æ›²é¢$\partial\hat{\Omega}.$ç›¸äº¤ã€‚ç›¸äº¤ç‚¹é›†åˆ$\hat{T^<em>}$ä¸º:<br>$\hat{T^</em>}=\left\{t|t=\frac{\hat{sd}f(t_i)t_{i+1}-\hat{sd}f(t_{i+1})t_i}{\hat{sd}f(t_i)-\hat{sd}f(t_{i+1})},t_i\in T\right\}.$ Eq.18</p><p>ä¸ç‰©ä½“ç›¸äº’ä½œç”¨çš„å…‰çº¿å¯èƒ½ä¸ç‰©ä½“è¡¨é¢æœ‰ä¸æ­¢ä¸€ä¸ªäº¤ç‚¹ã€‚å…·ä½“æ¥è¯´ï¼Œå¯èƒ½è‡³å°‘æœ‰ä¸¤ä¸ªäº¤å‰ç‚¹ã€‚ä¸SDFç›‘ç£æœºåˆ¶ç±»ä¼¼ï¼Œè€ƒè™‘åˆ°é®æŒ¡é—®é¢˜ï¼Œæˆ‘ä»¬åªä½¿ç”¨æ²¿å…‰çº¿çš„ç¬¬ä¸€ä¸ªäº¤ç‚¹<br>$t^<em>=\operatorname{argmin}\left\{t|t\in\hat{T^</em>}\right\}.$ Eq.19<br>$t^*$çš„é€‰æ‹©ä¿è¯éšå¼æ›²é¢çš„æ ·æœ¬ç‚¹åœ¨å¯¹åº”çš„è§†å›¾ä¸­éƒ½æ˜¯å¯è§çš„ï¼Œå¹¶ä¸”ä½¿ç›‘ç£ä¸æ˜¾è‰²è¿‡ç¨‹ä¸€è‡´ã€‚</p><p><strong>Multi-view photometric consistency constraints</strong><br>æˆ‘ä»¬æ•è·ä¼°è®¡çš„éšå¼æ›²é¢ï¼Œå…¶å‡ ä½•ç»“æ„åœ¨ä¸åŒçš„è§†å›¾ä¸­åº”è¯¥æ˜¯ä¸€è‡´çš„ã€‚åŸºäºè¿™ç§ç›´è§‰ï¼Œæˆ‘ä»¬ä½¿ç”¨å¤šè§†å›¾ç«‹ä½“(MVS)ä¸­çš„<strong>å…‰åº¦ä¸€è‡´æ€§çº¦æŸ</strong>[8,9,34]æ¥ç›‘ç£æˆ‘ä»¬æå–çš„éšå¼è¡¨é¢ã€‚</p><p>å¯¹äºè¡¨é¢ä¸Šçš„ä¸€ä¸ªå°é¢ç§¯s, såœ¨å›¾åƒä¸Šçš„æŠ•å½±æ˜¯ä¸€ä¸ªå°çš„åƒç´ æ–‘qã€‚é™¤äº†é®æŒ¡æƒ…å†µå¤–ï¼Œså¯¹åº”çš„æ–‘åœ¨ä¸åŒè§†å›¾ä¹‹é—´åº”è¯¥æ˜¯å‡ ä½•ä¸€è‡´çš„ã€‚ä¸ä¼ ç»ŸMVSæ–¹æ³•ä¸­çš„è¡¥ç‰‡å˜å½¢ç±»ä¼¼ï¼Œæˆ‘ä»¬ç”¨ä¸­å¿ƒç‚¹åŠå…¶æ³•çº¿è¡¨ç¤ºsã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬åœ¨å‚è€ƒå›¾åƒ$I_{r}$çš„ç›¸æœºåæ ‡ä¸­è¡¨ç¤ºsçš„å¹³é¢æ–¹ç¨‹:<br>$n^Tp+d=0,$ Eq.20</p><p>å¼ä¸­ï¼Œpä¸ºå¼(19)è®¡ç®—å¾—åˆ°çš„äº¤ç‚¹ï¼Œ$n^{T}$ä¸ºSDFç½‘ç»œåœ¨pç‚¹è‡ªåŠ¨å¾®åˆ†è®¡ç®—å¾—åˆ°çš„æ³•çº¿ï¼Œåˆ™å‚è€ƒå›¾åƒ$I_{r}$çš„åƒç´ patch $q_{i}$ä¸­çš„å›¾åƒç‚¹xä¸æºå›¾åƒ$I_{s}$çš„åƒç´ patch $q_{i}$ä¸­çš„å¯¹åº”ç‚¹xâ€²é€šè¿‡å¹³é¢è¯±å¯¼çš„å•åº”æ€§Hç›¸å…³è”[11]<br>$x=Hx^{\prime},H=K_s(R_sR_r^T-\frac{R_s(R_s^Tt_s-R_r^Tt_r)n^T}{d})K_r^{-1},$ Eq.21<br>å…¶ä¸­Kä¸ºå†…éƒ¨æ ¡å‡†çŸ©é˜µï¼ŒRä¸ºæ—‹è½¬çŸ©é˜µï¼Œtä¸ºå¹³ç§»å‘é‡ã€‚ç´¢å¼•æ˜¾ç¤ºæèµ å±äºå“ªä¸ªå›¾åƒã€‚ä¸ºäº†é›†ä¸­å‡ ä½•ä¿¡æ¯ï¼Œæˆ‘ä»¬å°†å½©è‰²å›¾åƒ$\left\{I_{i}\right\}$è½¬æ¢ä¸ºç°åº¦å›¾åƒ$\left\{Iâ€™_{i}\right\}$ï¼Œå¹¶åˆ©ç”¨$\left\{Iâ€™_{i}\right\}$ä¸­æ–‘å—é—´çš„å…‰åº¦ä¸€è‡´æ€§æ¥ç›‘ç£éšå¼è¡¨é¢ã€‚</p><p><strong>Photometric consistency loss</strong>.<br>ä¸ºäº†æµ‹é‡å…‰åº¦ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨å‚è€ƒç°åº¦å›¾åƒ$\left\{Iâ€™_{r}\right\}$å’Œæºç°åº¦å›¾åƒ$\left\{Iâ€™_{s}\right\}$ä¸­æ–‘å—patchesçš„å½’ä¸€åŒ–äº’ç›¸å…³(NCC):<br>$NCC(I_{r}â€™(q_{i}),I_{s}â€™(q_{is}))=\frac{Cov(I_{r}â€™(q_{i}),I_{s}â€™(q_{is}))}{\sqrt{Var(I_{r}â€™(q_{i}))Var(I_{s}â€™(q_{is}))}},$ Eq.22<br>å…¶ä¸­Covè¡¨ç¤ºåæ–¹å·®ï¼Œvarè¡¨ç¤ºæ–¹å·®ã€‚åœ¨å¯¹å›¾åƒè¿›è¡Œé¢œè‰²æ¸²æŸ“æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥è¢«æ¸²æŸ“åƒç´ ä¸ºä¸­å¿ƒçš„patch, patchçš„å¤§å°ä¸º11 Ã— 11ã€‚æˆ‘ä»¬å°†æ¸²æŸ“å›¾åƒä½œä¸ºå‚è€ƒå›¾åƒï¼Œå¹¶è®¡ç®—å…¶é‡‡æ ·è¡¥ä¸ä¸æ‰€æœ‰æºå›¾åƒä¸Šç›¸åº”è¡¥ä¸ä¹‹é—´çš„NCCåˆ†æ•°ã€‚ä¸ºäº†å¤„ç†é®æŒ¡ï¼Œ<strong>æˆ‘ä»¬ä¸ºæ¯ä¸ªé‡‡æ ·patchæ‰¾åˆ°è®¡ç®—å‡ºçš„NCCåˆ†æ•°ä¸­æœ€å¥½çš„å››ä¸ª</strong>[9]ï¼Œå¹¶ä½¿ç”¨å®ƒä»¬æ¥è®¡ç®—ç›¸åº”è§†å›¾çš„å…‰åº¦ä¸€è‡´æ€§æŸå¤±:</p><p>$\mathcal{L}_{photo}=\frac{\sum_{i=1}^{N}\sum_{s=1}^{4}1-NCC(I_{r}^{\prime}(q_{i}),I_{s}^{\prime}(q_{is}))}{4N},$ Eq.23</p><p>å…¶ä¸­Næ˜¯æ¸²æŸ“å›¾åƒä¸Šé‡‡æ ·åƒç´ çš„æ•°é‡ã€‚åœ¨å…‰åº¦ä¸€è‡´æ€§æŸå¤±çš„æƒ…å†µä¸‹ï¼Œä¿è¯äº†éšå¼æ›²é¢åœ¨å¤šè§†å›¾é—´çš„å‡ ä½•ä¸€è‡´æ€§ã€‚</p><h2 id="Loss-function"><a href="#Loss-function" class="headerlink" title="Loss function"></a>Loss function</h2><p>åœ¨æ¸²æŸ“ç‰¹å®šè§†å›¾çš„é¢œè‰²æ—¶ï¼Œæˆ‘ä»¬çš„æ€»æŸå¤±æ˜¯:<br>$\mathcal{L}=\mathcal{L}_{color}+\alpha\mathcal{L}_{reg}+\beta\mathcal{L}_{SDF}+\gamma\mathcal{L}_{photo}.$ Eq.24</p><p>$\mathcal{L}_{color}=\frac1N\sum_{i=1}^N|C_i-\hat{C}_i|.$<br>$\mathcal{L}_{reg}=\frac1N\sum_{i=1}^{N}(|\nabla\hat{sd}f(\boldsymbol{p}_{i})|-1)^{2}.$ eikonalé¡¹ç”¨æ¥æ­£åˆ™åŒ–SDFç½‘ç»œçš„æ¢¯åº¦<br>åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©Î±ï¼Œ Î²å’ŒÎ³åˆ†åˆ«ä¸º0.3,1.0å’Œ0.5ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Datasets</p><ul><li>DTU</li><li>BlendedMVS</li></ul><p>Baselines</p><ul><li>COLMAP</li><li>IDR</li><li>VolSDF</li><li>NeuS </li><li>NeuralWarp </li></ul><p>Implementation details.</p><ul><li>MLP SDF ï¼š 256x8</li><li>MLP colorï¼š256x4</li><li>PEï¼šL=6â€”&gt;x , L=4â€”&gt;dirs</li><li>bathsize rays = 512</li><li>å•ä¸ª2080Ti 16h</li><li>æå–mesh resolution = $512^{3}$</li></ul><p>Comparisons</p><ul><li>quantitative results</li><li>Qualitative results</li></ul><p>Analysis</p><ul><li>Ablation study</li><li>Geometry bias of volumetric integration.</li><li>Convergence speed.</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HF-NeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/HF-NeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/HF-NeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>HF-NeuS: Improved Surface Reconstruction Using High-Frequency Details</th></tr></thead><tbody><tr><td>Author</td><td>_Yiqun Wang, Ivan Skorokhodov, Peter Wonka_</td></tr><tr><td>Conf/Jour</td><td>NeurIPS</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://github.com/yiqun-wang/HFS">yiqun-wang/HFS: HF-NeuS: Improved Surface Reconstruction Using High-Frequency Details (NeurIPS 2022) (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4670872824890540033&amp;noteId=1943282597784032256">Improved surface reconstruction using high-frequency details (readpaper.com)</a></td></tr></tbody></table></div><p>è´¡çŒ®ï¼š</p><ul><li>æ–°çš„SDFä¸é€æ˜åº¦$\alpha$å…³ç³»å‡½æ•°ï¼Œç›¸è¾ƒäºNeuSæ›´ç®€å•</li><li>å°†SDFåˆ†è§£ä¸ºä¸¤ä¸ªç‹¬ç«‹éšå‡½æ•°çš„ç»„åˆï¼šåŸºå’Œä½ç§»ã€‚å¹¶åˆ©ç”¨è‡ªé€‚åº”å°ºåº¦çº¦æŸå¯¹éšå‡½æ•°åˆ†å¸ƒä¸ç†æƒ³çš„åŒºåŸŸè¿›è¡Œé‡ç‚¹ä¼˜åŒ–ï¼Œå¯ä»¥é‡æ„å‡ºæ¯”ä»¥å¾€å·¥ä½œæ›´ç²¾ç»†çš„æ›²é¢</li></ul><span id="more"></span><h1 id="Limitation"><a href="#Limitation" class="headerlink" title="Limitation"></a>Limitation</h1><p>å¦‚å›¾5æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä»ç„¶å­˜åœ¨æŒ‘æˆ˜ã€‚æˆ‘ä»¬ç»™å‡ºäº†å‚è€ƒåœ°é¢çœŸå€¼å›¾åƒã€ç›¸åº”çš„é‡å»ºå›¾åƒå’Œé‡å»ºè¡¨é¢ã€‚å¯¹äºèˆ¹èˆ¶çš„ç»³ç´¢ç½‘æ ¼ï¼Œä»ç„¶è§‚å¯Ÿåˆ°å¯¹åœ°é¢çœŸå®è¾å°„çš„ä¸€äº›è¿‡æ‹Ÿåˆã€‚<strong>å…·ä½“æ¥è¯´ï¼Œç»³å­çš„ç½‘æ ¼åœ¨å›¾åƒä¸­æ˜¯å¯è§çš„ï¼Œä½†è¡¨é¢æ²¡æœ‰ç²¾ç¡®åœ°é‡å»º</strong>ã€‚å¦ä¸€ä¸ªé™åˆ¶æ˜¯ç¼ºå°‘å•æ ¹ç»†ç»³ã€‚æˆ‘ä»¬è¿˜å¯è§†åŒ–äº†è¡¨1çš„ä¸€ä¸ªåæƒ…å†µï¼Œå…¶ä¸­è¯¯å·®å¤§äºå…¶ä»–æ–¹æ³•çš„è¯¯å·®ï¼Œå¦‚è¡¥å……ææ–™ä¸­çš„å›¾14 DTU Bunnyæ‰€ç¤ºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ¨¡å‹çš„å…‰çº¿å˜åŒ–ï¼Œçº¹ç†ä¸é‚£ä¹ˆæ˜æ˜¾ï¼Œå› æ­¤å¾ˆéš¾é‡å»ºè…¹éƒ¨çš„ç»†èŠ‚ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230904154600.png" alt="image.png"></p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>ä»‹ç»äº†ä¸€ç§åŸºäºé«˜é¢‘ç»†èŠ‚çš„å¤šè§†ç‚¹è¡¨é¢é‡å»ºæ–°æ–¹æ³•HF-NeuSã€‚<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ–°çš„æ¨å¯¼æ¥è§£é‡Šç¬¦å·è·ç¦»å’Œé€æ˜åº¦ä¹‹é—´çš„å…³ç³»</strong>ï¼Œå¹¶æå‡ºäº†ä¸€ç±»å¯ä»¥ä½¿ç”¨çš„å‡½æ•°ã€‚<strong>é€šè¿‡å°†ç¬¦å·è·ç¦»åœºåˆ†è§£ä¸ºä¸¤ä¸ªç‹¬ç«‹éšå‡½æ•°çš„ç»„åˆï¼Œå¹¶åˆ©ç”¨è‡ªé€‚åº”å°ºåº¦çº¦æŸå¯¹éšå‡½æ•°åˆ†å¸ƒä¸ç†æƒ³çš„åŒºåŸŸè¿›è¡Œé‡ç‚¹ä¼˜åŒ–ï¼Œå¯ä»¥é‡æ„å‡ºæ¯”ä»¥å¾€å·¥ä½œæ›´ç²¾ç»†çš„æ›²é¢</strong>ã€‚<br>å®éªŒç»“æœè¡¨æ˜ï¼Œè¯¥æ–¹æ³•åœ¨å®šé‡é‡å»ºè´¨é‡å’Œè§†è§‰æ£€æµ‹æ–¹é¢éƒ½ä¼˜äºç›®å‰çš„æŠ€æœ¯æ°´å¹³ã€‚ç›®å‰çš„ä¸€ä¸ªé™åˆ¶æ˜¯ï¼ŒHF-NeuSéœ€è¦ä¼˜åŒ–ä¸€ä¸ªé¢å¤–çš„éšå¼å‡½æ•°ï¼Œå› æ­¤å®ƒéœ€è¦æ›´å¤šçš„è®¡ç®—èµ„æºï¼Œå¹¶äº§ç”Ÿé¢å¤–çš„ç¼–ç å¤æ‚æ€§ã€‚æ­¤å¤–ï¼Œç”±äºç¼ºä¹3Dç›‘ç£ï¼Œæˆ‘ä»¬ä»ç„¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§‚å¯Ÿåˆ°å¯¹åœ°é¢çœŸå®åº¦çš„è¿‡æ‹Ÿåˆã€‚<br>æœªæ¥å·¥ä½œçš„ä¸€ä¸ªæœ‰è¶£çš„æ–¹å‘æ˜¯æ¢ç´¢ä¸åŒç…§æ˜æ–¹å¼ä¸‹åœºæ™¯çš„é‡å»ºã€‚<em>æœ€åï¼Œæˆ‘ä»¬ä¸æœŸæœ›ä¸æˆ‘ä»¬çš„ç ”ç©¶ç›´æ¥ç›¸å…³çš„è´Ÿé¢ç¤¾ä¼šå½±å“ã€‚ä¸è¿‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåœ°è¡¨é‡å»ºå¯èƒ½äº§ç”Ÿè´Ÿé¢çš„ç¤¾ä¼šå½±å“</em></p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ç¥ç»æ¸²æŸ“å¯ä»¥åœ¨æ²¡æœ‰ä¸‰ç»´ç›‘ç£çš„æƒ…å†µä¸‹é‡å»ºå½¢çŠ¶çš„éšå¼è¡¨ç¤ºã€‚ç„¶è€Œï¼Œç›®å‰çš„ç¥ç»è¡¨é¢é‡å»ºæ–¹æ³•éš¾ä»¥å­¦ä¹ é«˜é¢‘å‡ ä½•ç»†èŠ‚ï¼Œå› æ­¤é‡å»ºçš„å½¢çŠ¶å¾€å¾€è¿‡äºå…‰æ»‘ã€‚æœ¬æ–‡æå‡ºäº†ä¸€ç§æé«˜ç¥ç»ç»˜åˆ¶ä¸­è¡¨é¢é‡å»ºè´¨é‡çš„æ–°æ–¹æ³•HF-NeuSã€‚æˆ‘ä»¬éµå¾ªæœ€è¿‘çš„å·¥ä½œï¼Œå°†æ›²é¢å»ºæ¨¡ä¸ºæœ‰ç¬¦å·è·ç¦»å‡½æ•°(sdf)ã€‚<br><strong>é¦–å…ˆï¼Œæˆ‘ä»¬æ¨å¯¼äº†SDFã€ä½“ç§¯å¯†åº¦ã€é€æ˜åº¦å‡½æ•°å’Œä½“ç§¯æ¸²æŸ“æ–¹ç¨‹ä¸­ä½¿ç”¨çš„åŠ æƒå‡½æ•°ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶æå‡ºäº†å°†é€æ˜åº¦å»ºæ¨¡ä¸ºè½¬æ¢åçš„SDF</strong>ã€‚<br>å…¶æ¬¡ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œè¯•<strong>å›¾åœ¨å•ä¸ªSDFä¸­è”åˆç¼–ç é«˜é¢‘å’Œä½é¢‘åˆ†é‡ä¼šå¯¼è‡´ä¸ç¨³å®šçš„ä¼˜åŒ–</strong>ã€‚<br>æˆ‘ä»¬æå‡ºå°†SDFåˆ†è§£ä¸ºåŸºå‡½æ•°å’Œä½ç§»å‡½æ•°ï¼Œé‡‡ç”¨ç”±ç²—åˆ°ç²¾çš„ç­–ç•¥ï¼Œé€æ­¥å¢åŠ é«˜é¢‘ç»†èŠ‚ã€‚æœ€åï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ç§è‡ªé€‚åº”ä¼˜åŒ–ç­–ç•¥ï¼Œä½¿è®­ç»ƒè¿‡ç¨‹ä¸“æ³¨äºæ”¹è¿›é‚£äº›é è¿‘è¡¨é¢çš„sdfæœ‰ä¼ªåƒçš„åŒºåŸŸã€‚æˆ‘ä»¬çš„å®šæ€§å’Œå®šé‡ç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥é‡å»ºç»†ç²’åº¦çš„è¡¨é¢ç»†èŠ‚ï¼Œå¹¶è·å¾—æ¯”ç°æœ‰æŠ€æœ¯æ›´å¥½çš„è¡¨é¢é‡å»ºè´¨é‡</p><p>NeRF â€”&gt; Neusã€VolSDFè¡¨é¢é‡å»º â€”&gt; HF-Neus</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ†æäº†ç¬¦å·è·ç¦»å‡½æ•°ä¸ä½“ç§¯å¯†åº¦ã€é€æ˜åº¦å’Œæƒé‡å‡½æ•°ä¹‹é—´çš„å…³ç³»ã€‚æˆ‘ä»¬ä»æˆ‘ä»¬çš„æ¨å¯¼ä¸­å¾—å‡ºç»“è®ºï¼Œæœ€å¥½æ˜¯å»ºæ¨¡ä¸€ä¸ªå°†æœ‰ç¬¦å·è·ç¦»æ˜ å°„åˆ°é€æ˜åº¦çš„å‡½æ•°ï¼Œå¹¶æå‡ºä¸€ç±»æ»¡è¶³ç†è®ºè¦æ±‚çš„å‡½æ•°</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œå¦‚å›¾2æ‰€ç¤ºï¼Œå•ç¬¦å·è·ç¦»å‡½æ•°å¾ˆéš¾ç›´æ¥å­¦ä¹ é«˜é¢‘ç»†èŠ‚ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®åœ¨ç›¸å…³å·¥ä½œä¹‹åå°†SDFåˆ†è§£ä¸ºåŸºå‡½æ•°å’Œä½ç§»å‡½æ•°ã€‚æˆ‘ä»¬å°†è¿™ä¸€æ€æƒ³åº”ç”¨äºå¯å¾®åˆ†çš„NeRFæ¸²æŸ“æ¡†æ¶å’ŒNeRFè®­ç»ƒæ–¹æ¡ˆã€‚</li><li>ç¬¬ä¸‰ï¼Œå¯ä»¥é€‰æ‹©å°†è·ç¦»è½¬æ¢ä¸ºé€æ˜åº¦çš„å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå°ºåº¦sï¼Œå®ƒæ§åˆ¶å‡½æ•°çš„æ–œç‡(æˆ–å¯¼æ•°çš„åå·®)ã€‚å‚æ•°sæ§åˆ¶è¡¨é¢è¢«å®šä½çš„ç²¾ç¡®ç¨‹åº¦ï¼Œä»¥åŠè¿œç¦»è¡¨é¢çš„é¢œè‰²å¯¹ç»“æœçš„å½±å“ç¨‹åº¦ã€‚<ul><li>åœ¨ä¹‹å‰çš„å·¥ä½œä¸­ï¼Œè¿™ä¸ªå‚æ•°sæ˜¯å…¨å±€è®¾ç½®çš„ï¼Œä½†å®ƒæ˜¯å¯è®­ç»ƒçš„ï¼Œå› æ­¤å®ƒå¯ä»¥åœ¨è¿­ä»£ä¹‹é—´æ”¹å˜ã€‚<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç©ºé—´è‡ªé€‚åº”åŠ æƒæ–¹æ¡ˆæ¥å½±å“è¯¥å‚æ•°ï¼Œä½¿ä¼˜åŒ–æ›´åŠ å…³æ³¨è·ç¦»åœºä¸­çš„é—®é¢˜åŒºåŸŸ</strong></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230904145337.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230904145342.png" alt="image.png"></p><p>RW:</p><ul><li>Multi-view 3D reconstruction.</li><li>Neural implicit surfaces.<ul><li>DVRã€IDRã€NeRF++ã€UNISURFã€<strong>VolSDFã€Neus</strong>ã€NeuralPatch</li></ul></li><li>High-frequency detail reconstruction.<ul><li>SIRENã€MipNeRFã€</li></ul></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>è¾“å…¥Nå¼ å›¾ç‰‡$I=\{I_1,I_2â€¦I_N\}$åŠå¯¹åº”ç›¸æœºå†…å¤–å‚$\Pi=\{\pi_1,\pi_2â€¦\pi_N\}.$</p><p>1)é¦–å…ˆï¼Œæˆ‘ä»¬å±•ç¤ºäº†<strong>å¦‚ä½•å°†å¸¦ç¬¦å·çš„è·ç¦»å‡½æ•°åµŒå…¥åˆ°ä½“ç»˜åˆ¶çš„å…¬å¼ä¸­</strong>ï¼Œå¹¶è®¨è®ºäº†<strong>å¦‚ä½•å»ºæ¨¡è·ç¦»å’Œé€æ˜åº¦ä¹‹é—´çš„å…³ç³»</strong>ã€‚<br>2)ç„¶åï¼Œæˆ‘ä»¬æå‡º<strong>åˆ©ç”¨é¢å¤–çš„ä½ç§»ç¬¦å·è·ç¦»å‡½æ•°å°†é«˜é¢‘ç»†èŠ‚æ·»åŠ åˆ°åŸºæœ¬ç¬¦å·è·ç¦»å‡½æ•°ä¸­</strong>ã€‚<br>3)æœ€åï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°å°†å¸¦ç¬¦å·è·ç¦»æ˜ å°„åˆ°é€æ˜åº¦çš„å‡½æ•°ç”±ä¸€ä¸ªå‚æ•°sæ§åˆ¶ï¼Œ<strong>è¯¥å‚æ•°så†³å®šäº†å‡½æ•°çš„æ–œç‡</strong>ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–¹æ¡ˆï¼Œæ ¹æ®è·ç¦»åœºçš„æ¢¯åº¦èŒƒæ•°ä»¥ç©ºé—´å˜åŒ–çš„æ–¹å¼è®¾ç½®è¯¥å‚æ•°sï¼Œè€Œä¸æ˜¯åœ¨å•ä¸ªè®­ç»ƒè¿­ä»£ä¸­å¯¹æ•´ä¸ªä½“ç§¯ä¿æŒæ’å®šã€‚</p><h2 id="Modeling-transparency-as-transformed-SDF"><a href="#Modeling-transparency-as-transformed-SDF" class="headerlink" title="Modeling transparency as transformed SDF"></a>Modeling transparency as transformed SDF</h2><p>NeRF<br>å…‰çº¿$\mathbf{r}(t)=\mathbf{o}+\mathbf{t}\mathbf{d},$<br>å¯¹åº”åƒç´ çš„é¢œè‰²$C(\mathbf{r})=\int_{t_n}^{t_f}T(t)\sigma(\mathbf{r}(t))\mathbf{c}(\mathbf{r}(t),\mathbf{d})dt$<br>é€æ˜åº¦$T(t)=\exp\left(-\int_{t_{n}}^{t}\sigma(\mathbf{r}(s))ds\right),$æ˜¯ä¸€ä¸ªå•è°ƒé€’å‡å‡½æ•°</p><p>ä¸ºäº†å°†SDFè½¬æ¢ä¸ºå¯†åº¦ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ä¸ªå‡½æ•°</p><ul><li>VolSDFä¸­æå‡ºçš„å¯†åº¦å‡½æ•°ï¼š$\sigma(\mathbf{r}(t))=\Psi\left(f\left(\mathbf{r}(t)\right)\right)$ </li><li>Neusä¸­æå‡ºçš„æƒé‡å‡½æ•°ï¼š$w((t))=\Psi\left(f\left(\mathbf{r}(t)\right)\right)$</li><li>æœ¬æ–‡ç»™å‡ºäº†å¯†åº¦å‡½æ•°Ïƒè¡¨è¾¾å¼çš„ä¸€ä¸ªå¤æ‚æ¨å¯¼<ul><li>$T(t)=\Psi\left(f\left(\mathbf{r}(t)\right)\right),$</li><li>$\sigma(\mathbf{r}(t_{i}))=s\left(\Psi\left(f\left(\mathbf{r}(t_{i})\right)\right)-1\right)\nabla f\left(\mathbf{r}(t_{i})\right)\cdot\mathbf{d}$</li><li>$\alpha_i=1-exp\left(-\sigma_i\left(t_{i+1}-t_i\right)\right)$ï¼Œå¹¶å°†$\alpha$clampåœ¨0,1ä¹‹é—´</li></ul></li></ul><p>ä¸NeuSç›¸æ¯”ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ›´ç®€å•çš„å¯†åº¦Ïƒçš„ç¦»æ•£åŒ–è®¡ç®—å…¬å¼ï¼Œå‡å°‘äº†NeuSä¸­é™¤æ³•å¸¦æ¥çš„æ•°å€¼é—®é¢˜ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¸éœ€è¦æ¶‰åŠä¸¤ä¸ªä¸åŒçš„é‡‡æ ·ç‚¹ï¼Œå³æˆªé¢ç‚¹å’Œä¸­ç‚¹ï¼Œè¿™ä½¿å¾—å®ƒæ›´å®¹æ˜“æ»¡è¶³æ— ååŠ æƒå‡½æ•°ã€‚ç”±äºä¸éœ€è¦ä¸ºä¸¤ä¸ªä¸åŒçš„ç‚¹é›†åˆ†åˆ«è®¡ç®—SDFå’Œé¢œè‰²ï¼Œå› æ­¤ä¸NeuSç›¸æ¯”ï¼Œé¢œè‰²å’Œå‡ ä½•å½¢çŠ¶æ›´åŠ ä¸€è‡´ã€‚ä¸VolSDF[32]ç›¸æ¯”ï¼Œç”±äºé€æ˜åº¦å‡½æ•°æ˜¯æ˜¾å¼çš„ï¼Œå› æ­¤æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨é€†CDFè®¡ç®—çš„é€†åˆ†å¸ƒæŠ½æ ·æ¥æ»¡è¶³è¿‘ä¼¼è´¨é‡ã€‚å› æ­¤ä¸éœ€è¦åƒVolSDFé‚£æ ·å¤æ‚çš„é‡‡æ ·æ–¹æ¡ˆã€‚å›¾3æ˜¾ç¤ºäº†ä¸€ä¸ªç›´è§‚çš„æ¯”è¾ƒã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230904145240.png" alt="image.png"></p><h2 id="Implicit-displacement-field-without-3D-supervision"><a href="#Implicit-displacement-field-without-3D-supervision" class="headerlink" title="Implicit displacement field without 3D supervision"></a>Implicit displacement field without 3D supervision</h2><p>ä¸ºäº†å®ç°å¤šå°ºåº¦æ‹Ÿåˆæ¡†æ¶ï¼Œæˆ‘ä»¬å»ºè®®å°†SDFå»ºæ¨¡ä¸º<strong>åŸºè·ç¦»å‡½æ•°</strong>å’Œ<strong>æ²¿åŸºè·ç¦»å‡½æ•°æ³•çº¿çš„ä½ç§»å‡½æ•°</strong>çš„ç»„åˆã€‚éšå¼ä½ç§»å‡½æ•°æ˜¯ä¸€ä¸ªé™„åŠ çš„éšå¼å‡½æ•°ã€‚è¿™æ ·è®¾è®¡çš„åŸå› æ˜¯å•ä¸ªéšå¼å‡½æ•°å¾ˆéš¾åŒæ—¶å­¦ä¹ ä½é¢‘å’Œé«˜é¢‘ä¿¡æ¯ã€‚éšå¼ä½ç§»å‡½æ•°å¯ä»¥è¡¥å……åŸºæœ¬éšå¼å‡½æ•°ï¼Œä»è€Œæ›´å®¹æ˜“å­¦ä¹ é«˜é¢‘ä¿¡æ¯ã€‚<br>ä¸ä»ç‚¹äº‘ä¸­å­¦ä¹ éšå¼å‡½æ•°çš„ä»»åŠ¡ç›¸æ¯”ï¼Œä»å¤šå¹…å›¾åƒä¸­é‡å»ºä¸‰ç»´å½¢çŠ¶ä½¿å¾—é«˜é¢‘å†…å®¹çš„å­¦ä¹ æ›´åŠ å›°éš¾ã€‚<strong>æˆ‘ä»¬å»ºè®®ä½¿ç”¨ç¥ç»ç½‘ç»œåœ¨å¤šä¸ªå°ºåº¦ä¸Šå­¦ä¹ é¢‘ç‡ï¼Œå¹¶ä»¥ç”±ç²—åˆ°ç»†çš„æ–¹å¼é€æ­¥å¢åŠ é¢‘ç‡å†…å®¹</strong>ã€‚</p><p>åŸºé¢çš„éšå¼å‡½æ•°$f_{b}$<br>ä½ç§»éšå¼å‡½æ•°$f_{dâ€™}$ï¼šå°†åŸºé¢ä¸Šç‚¹$x_{b}$æ²¿ç€æ³•å‘$n_{b}$ï¼Œæ˜ å°„åˆ°è¡¨é¢ç‚¹x<br>$f_d$å°†åŸºé¢ä¸Šç‚¹xæ²¿ç€æ³•å‘$n_{b}$æ˜ å°„åˆ°è¡¨é¢ç‚¹$x_{b}$ï¼Œå› æ­¤$\mathop{:}f_{d^{\prime}}(\mathbf{x}_{b})=f_{d}(\mathbf{x}).$<br>ç”±äºéšå‡½æ•°çš„æ€§è´¨ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°ä¹‹é—´çš„å…³ç³»å¯ä»¥è¡¨ç¤ºä¸º:$f_b(\mathbf{x}_b)=f(\mathbf{x}_b+f_{d^{\prime}}\left(\mathbf{x}_b\right)\mathbf{n}_b)=0$</p><p>$\mathbf{n}_b=\frac{\nabla f_b(\mathbf{x}_b)}{|\nabla f_b(\mathbf{x}_b)|},$ æ˜¯$x_{b}$åœ¨åŸºé¢ä¸Šçš„æ³•çº¿ã€‚ä¸ºäº†è®¡ç®—éšå‡½æ•°fçš„è¡¨è¾¾å¼ï¼Œå¼•å…¥$\mathbf{x}_b=\mathbf{x}-f_{d^{\prime}}\left(\mathbf{x}_b\right)\mathbf{n}_b$å¹¶å¾—åˆ°ç»„åˆéšå‡½æ•°çš„è¡¨è¾¾å¼ï¼š$f(\mathbf{x})=f_b(\mathbf{x}-f_d\left(\mathbf{x}\right)\mathbf{n}_b)$</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åŸºéšå‡½æ•°å’Œä½ç§»éšå‡½æ•°æ¥è¡¨ç¤ºç»„åˆéšå‡½æ•°ã€‚<br>ç„¶è€Œï¼Œå‡ºç°äº†ä¸¤ä¸ªæŒ‘æˆ˜</p><ul><li>é¦–å…ˆï¼Œåªæœ‰å½“ç‚¹xåœ¨è¡¨é¢ä¸Šæ—¶ï¼Œæ‰æ»¡è¶³å¼10ã€‚</li><li>å…¶æ¬¡ï¼Œå½“åªçŸ¥é“ä½ç½®xæ—¶ï¼Œå¾ˆéš¾ä¼°è®¡ç‚¹$x_{b}$å¤„çš„æ³•çº¿ã€‚</li></ul><p>æˆ‘ä»¬ä¾é ä¸¤ä¸ªå‡è®¾æ¥è§£å†³é—®é¢˜</p><ul><li>ä¸€ä¸ªå‡è®¾æ˜¯ï¼Œè¿™ç§å˜å½¢å¯ä»¥åº”ç”¨äºæ‰€æœ‰ç­‰é¢ï¼Œå³$f_b(\mathbf{x}_b)=f(\mathbf{x}_b+f_{d^{\prime}}\left(\mathbf{x}_b\right)\mathbf{n}_b)\stackrel{\cdot}{=}c.$ã€‚è¿™æ ·ï¼Œå‡è®¾æ–¹ç¨‹å¯¹ä½“ç§¯ä¸­çš„æ‰€æœ‰ç‚¹éƒ½æœ‰æ•ˆï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨è¡¨é¢ä¸Šã€‚</li><li>å¦ä¸€å‡è®¾æ˜¯$x_{b}$å’Œxè·ç¦»ä¸å¤ªè¿œï¼Œåˆ™å¯ä»¥å°†å¼(10)ä¸­xç‚¹ä¸Šçš„$\mathbf{n}_b$æ›¿æ¢ä¸ºæ³•å‘$\mathbf{n}$ã€‚æˆ‘ä»¬ä½¿ç”¨ä½ç§»çº¦æŸ$4\Psi_{s}^{\prime}(f_{b})$æ¥æ§åˆ¶éšå¼ä½ç§»å‡½æ•°çš„å¤§å°ã€‚</li></ul><p>$f(\mathbf{x})=f_b(\mathbf{x}-4\Psi_{(0.01s)}^{\prime}(f_b)f_d\left(\mathbf{x}\right)\mathbf{n})$</p><p>ä¸ºäº†ç²¾ç¡®æ§åˆ¶é¢‘ç‡ï¼Œæˆ‘ä»¬é‡‡ç”¨ä½ç½®ç¼–ç å¯¹åŸºéšå‡½æ•°å’Œä½ç§»éšå‡½æ•°åˆ†åˆ«è¿›è¡Œç¼–ç ã€‚é¢‘ç‡å¯ä»¥é€šè¿‡ä¸€ç§ä»ç²—åˆ°ç²¾çš„ç­–ç•¥æ¥æ˜ç¡®æ§åˆ¶ï¼Œè€Œä¸æ˜¯ç®€å•åœ°ä½¿ç”¨ä¸¤ä¸ªå…·æœ‰ä¸¤ä¸ªä¸åŒé¢‘ç‡çº§åˆ«çš„Sirenç½‘ç»œ</p><p>$\gamma(\mathbf{x})=[\gamma_0(\mathbf{x}),\gamma_1(\mathbf{x}),â€¦,\gamma_{L-1}(\mathbf{x})]$<br>æ¯ä¸ªåˆ†é‡ç”±ä¸åŒé¢‘ç‡çš„sinå’Œcoså‡½æ•°ç»„æˆ$\gamma_j(\mathbf{x})=\left[\sin\left(2^j\pi\mathbf{x}\right),\cos\left(2^j\pi\mathbf{x}\right)\right]$</p><p>ç›´æ¥å­¦ä¹ é«˜é¢‘ä½ç½®ç¼–ç ä¼šä½¿ç½‘ç»œå®¹æ˜“å—åˆ°å™ªå£°çš„å½±å“ï¼Œå› ä¸ºé”™è¯¯å­¦ä¹ çš„é«˜é¢‘ä¼šé˜»ç¢ä½é¢‘çš„å­¦ä¹ ã€‚å¦‚æœæœ‰ä¸‰ç»´ç›‘æ§ï¼Œè¿™ä¸ªé—®é¢˜å°±ä¸é‚£ä¹ˆæ˜æ˜¾äº†ï¼Œä½†æ˜¯å›¾åƒçš„é«˜é¢‘ä¿¡æ¯å¾ˆå®¹æ˜“ä»¥å™ªå£°çš„å½¢å¼å¼•å…¥åˆ°è¡¨é¢ç”Ÿæˆä¸­ã€‚æˆ‘ä»¬ä½¿ç”¨Parkç­‰äººNerfies[24]æå‡ºçš„ä»ç²—åˆ°ç²¾çš„ç­–ç•¥ï¼Œé€æ­¥å¢åŠ ä½ç½®ç¼–ç çš„é¢‘ç‡ã€‚</p><p>$\gamma_{j}(\mathbf{x},\mathbf{\alpha})=\omega_{j}\left(\mathbf{\alpha}\right)\gamma_{j}(\mathbf{x})=\frac{\left(1-\cos\left(clamp\left(\alpha L-j,0,1\right)\pi\right)\right)}2\gamma_{j}(\mathbf{x})$<br>$\alpha\in[0,1]$æ˜¯æ§åˆ¶æ‰€æ¶‰åŠé¢‘ç‡ä¿¡æ¯çš„å‚æ•°ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼ŒÎ±å¢åŠ $1/n_{max}$ï¼Œç›´åˆ°å®ƒæ¥è¿‘1ï¼Œå…¶ä¸­$n_{max}$æ˜¯æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚<br>æˆ‘ä»¬åˆ©ç”¨ä¸¤ç§ä¸åŒå‚æ•°$\alpha_b.$å’Œ$\alpha_d.$çš„ä½ç½®ç¼–ç $\gamma(\mathbf{x},\alpha_b),\gamma(\mathbf{x},\alpha_d)$ã€‚ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬è®¾$\alpha_{b}=0.5\alpha_{d}$ï¼Œåªæ§åˆ¶$\alpha_d$ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨äº†ä¸¤ä¸ªMLPå‡½æ•°$MLP_{b},MLP_{d}$æ¥æ‹ŸåˆåŸºå‡½æ•°å’Œä½ç§»å‡½æ•°ã€‚</p><p>$f(\mathbf{x})=MLP_{b}(\gamma(\mathbf{x},\alpha_{b})-4\Psi_{s}^{\prime}(f_{b})MLP_{d}\left(\gamma(\mathbf{x},\alpha_{d})\right)\mathbf{n}),$</p><p>$\begin{array}{rcl}\mathbf{n}&amp;=&amp;\frac{\nabla f_b(\mathbf{x})}{|\nabla f_b(\mathbf{x})|}\end{array}$ å¯ä»¥é€šè¿‡MLP bçš„æ¢¯åº¦æ¥è®¡ç®—<br>$\Psi_s^{\prime}(f_b)\quad=\Psi_s^{\prime}(MLP_b(\gamma(\mathbf{x},\alpha_b))).$<br>è®­ç»ƒæ—¶åº”clampä½ç§»çº¦æŸçš„sã€‚</p><p>æˆ‘ä»¬å°†è¿™ä¸ªéšå¼å‡½æ•°å¸¦å…¥Eq.(6)æ¥è®¡ç®—é€æ˜åº¦ï¼Œè¿™æ ·å›¾åƒçš„äº®åº¦(é¢œè‰²)$\hat{C}_{s}$å°±å¯ä»¥é€šè¿‡ä½“ç§¯æ¸²æŸ“æ–¹ç¨‹æ¥è®¡ç®—ã€‚</p><p>ä¸ºäº†è®­ç»ƒç½‘ç»œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æŸå¤±å‡½æ•°$\mathcal{L}=\mathcal{L}_{rad}+\mathcal{L}_{reg}.$ï¼Œå®ƒåŒ…å«äº†å¸¦ç¬¦å·è·ç¦»å‡½æ•°çš„è¾å°„æŸå¤±å’ŒEikonalæ­£åˆ™åŒ–æŸå¤±ã€‚å¯¹äºæ­£åˆ™åŒ–æŸå¤±ï¼Œæˆ‘ä»¬åŒæ—¶çº¦æŸäº†åŸºæœ¬éšå‡½æ•°å’Œè¯¦ç»†éšå‡½æ•°ã€‚$\mathcal{L}=\frac{1}{M}\sum_{s}\left|\hat{C}_{s}-C_{s}\right|_{1}+\frac{1}{N}\sum_{k}\left[\left(|\nabla f_{b}(\mathbf{x}_{k})|_{2}-1\right)^{2}+\left(|\nabla f(\mathbf{x}_{k})|_{2}-1\right)^{2}\right]$</p><h2 id="Modeling-an-adaptivate-transparency-function"><a href="#Modeling-an-adaptivate-transparency-function" class="headerlink" title="Modeling an adaptivate transparency function"></a>Modeling an adaptivate transparency function</h2><p>åœ¨å‰é¢çš„å°èŠ‚ä¸­ï¼Œé€æ˜åº¦å‡½æ•°è¢«å®šä¹‰ä¸ºsigmoidå‡½æ•°ï¼Œç”±ä¸€ä¸ªæ ‡åº¦sæ§åˆ¶ã€‚è¯¥å‚æ•°æ§åˆ¶ç€sigmoidå‡½æ•°çš„æ–œç‡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¯¼æ•°çš„æ ‡å‡†å·®ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯´å®ƒæ§åˆ¶ç€å‡½æ•°çš„å¹³æ»‘åº¦ã€‚å½“sè¾ƒå¤§æ—¶ï¼Œéšç€ä½ç½®è¿œç¦»è¡¨é¢ï¼Œså‹å‡½æ•°çš„å€¼æ€¥å‰§ä¸‹é™ã€‚ç›¸åï¼Œå½“sè¾ƒå°æ—¶ï¼Œè¯¥å€¼å¹³ç¨³å‡å°ã€‚ç„¶è€Œï¼Œæ¯æ¬¡è¿­ä»£é€‰æ‹©å•ä¸ªå‚æ•°ä¼šåœ¨ä½“å—çš„æ‰€æœ‰ç©ºé—´ä½ç½®äº§ç”Ÿç›¸åŒçš„è¡Œä¸ºã€‚<br>ç”±äºéœ€è¦é‡æ„ä¸¤ä¸ªå¸¦ç¬¦å·çš„è·ç¦»å‡½æ•°ï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜é¢‘å åŠ ä¹‹åï¼Œ<strong>å¾ˆå®¹æ˜“å‡ºç°Eikonalæ–¹ç¨‹ä¸æ»¡è¶³çš„æƒ…å†µ</strong>ï¼Œå³SDFçš„æ¢¯åº¦èŒƒæ•°åœ¨æŸäº›ä½ç½®ä¸ä¸º1ã€‚å³ä½¿æœ‰æ­£åˆ™åŒ–æŸå¤±ï¼Œä¹Ÿä¸å¯èƒ½é¿å…è¿™ä¸ªé—®é¢˜ã€‚<br>æˆ‘ä»¬å»ºè®®<strong>ä½¿ç”¨å¸¦ç¬¦å·è·ç¦»åœºçš„æ¢¯åº¦èŒƒæ•°ä»¥ç©ºé—´å˜åŒ–çš„æ–¹å¼å¯¹å‚æ•°sè¿›è¡ŒåŠ æƒ</strong>ã€‚å½“æ²¿å°„çº¿æ–¹å‘çš„æ¢¯åº¦èŒƒæ•°å¤§äº1æ—¶ï¼Œæˆ‘ä»¬å¢åŠ sã€‚è¿™æ„å‘³ç€å½“æ¢¯åº¦çš„èŒƒæ•°å¤§äº1æ—¶ï¼Œéšå‡½æ•°çš„å˜åŒ–æ›´å‰§çƒˆï¼Œè¿™è¡¨æ˜äº†ä¸€ä¸ªéœ€è¦æ”¹è¿›çš„åŒºåŸŸã€‚åœ¨æŸäº›åŒºåŸŸä½¿è·ç¦»å‡½æ•°æ›´å¤§ï¼Œéœ€è¦æ›´ç²¾ç¡®çš„è·ç¦»å‡½æ•°ï¼Œå¹¶ä¸”ç”±äºä¸æ­£ç¡®çš„è·ç¦»å‡½æ•°è€Œæ”¾å¤§è¯¯å·®ï¼Œç‰¹åˆ«æ˜¯åœ¨è¡¨é¢é™„è¿‘ã€‚ä¸ºäº†è‡ªé€‚åº”åœ°ä¿®æ”¹é‡è¡¨sï¼Œæˆ‘ä»¬æå‡ºå¦‚ä¸‹å…¬å¼:</p><p>$T(t)=\left(1+e^{-s\exp\left(\sum_{i=1}^{K}\omega_i|\nabla f_i|-1\right)f(\mathbf{r}(t))}\right)^{-1},$<br>å…¶ä¸­âˆ‡fä¸ºå¸¦ç¬¦å·è·ç¦»å‡½æ•°çš„æ¢¯åº¦ï¼ŒKä¸ºé‡‡æ ·ç‚¹ä¸ªæ•°<br>$Ï‰_i$ ä¸ºå½’ä¸€åŒ–åçš„$\Psi_s^{\prime}(f_i)$ä½œä¸ºæƒå€¼ï¼Œ$\sum_{i=1}^{K}\omega_{i}=1.$</p><p>è¯¥æ–¹æ³•æ—¢å¯ç”¨äºæ§åˆ¶é€æ˜åº¦å‡½æ•°ï¼Œä¹Ÿå¯ç”¨äºæ ‡å‡†NeRFæå‡ºçš„åˆ†å±‚é‡‡æ ·é˜¶æ®µã€‚é€šè¿‡å±€éƒ¨å¢å¤§sï¼Œ<strong>åœ¨è·ç¦»å€¼å˜åŒ–è¾ƒå¿«çš„è¡¨é¢é™„è¿‘ä¼šäº§ç”Ÿæ›´å¤šçš„æ ·æœ¬</strong>ã€‚è¿™ç§æœºåˆ¶ä¹Ÿæœ‰åŠ©äºä¼˜åŒ–é›†ä¸­åœ¨è¿™äº›åŒºåŸŸçš„ä½“ç§¯ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Baselinesï¼šNeusã€VolSDFã€NeRF</p><p>Datasetsï¼šDTUã€BlendedMVS</p><p>Evaluation metricsï¼šCD(chamfer distance)ã€PSNR</p><p>Implementation details:</p><ul><li>GPU A100 40GB</li><li>lr = 5e-4</li><li>é¦–å…ˆ64ä¸ªå‡åŒ€é‡‡æ ·ç‚¹ï¼Œè®¡ç®—ç‚¹çš„SDFå’Œæ¢¯åº¦ï¼Œç„¶åè®¡ç®—så‚æ•°å¢ç›Šï¼Œæ ¹æ®å¢ç›Šè‡ªé€‚åº”æ›´æ–°æƒé‡</li><li>ç„¶åæ ¹æ®æƒé‡é¢å¤–é‡‡æ ·64ä¸ªç‚¹</li><li>å½“$\alpha^{0}_{d}=0$æ—¶äº§ç”Ÿå…‰æ»‘çš„ç»“æœï¼Œæœ¬æ–‡ä½¿ç”¨$\alpha^{0}_{d}=0.5$ ,$\alpha^{0}_{b}=0.5 \alpha^{0}_{d}=0.25$</li><li>ä½ç½®ç¼–ç L=16</li></ul><p>Comparisonï¼š</p><ul><li>å®šæ€§+å®šé‡</li></ul><p>Ablation study.</p><ul><li>Coarse2Fine module</li><li>Implicit displacement function module</li><li>Position-adaptive s module</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Color-NeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Color-NeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Color-NeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Color-NeuS: Reconstructing Neural Implicit Surfaces with Color</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://colmar-zlicheng.github.io/">Licheng Zhong</a>1 , <a href="https://lixiny.github.io/">Lixin Yang</a>1,2 , <a href="https://kailinli.top/">Kailin Li</a>1, <a href="https://haoyuzhen.com/">Haoyu Zhen</a>1, <a href="https://joymei.github.io/">Mei Han</a>3, <a href="https://www.mvig.org/">Cewu Lu</a>1,2</td></tr><tr><td>Conf/Jour</td><td>arXiv</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://colmar-zlicheng.github.io/color_neus/">Color-NeuS (colmar-zlicheng.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4789058885507874817&amp;noteId=1941703036570922240">Color-NeuS: Reconstructing Neural Implicit Surfaces with Color (readpaper.com)</a></td></tr></tbody></table></div><p>é›†æˆäº†ä¸è§†å›¾æ— å…³çš„å…¨å±€é¢œè‰²å˜é‡å’Œä¸è§†å›¾ç›¸å…³çš„relightæ•ˆæœ<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230901123131.png" alt="image.png"></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æœ¬æ–‡ä»‹ç»äº†ä¸€ç§æ–°çš„ä¸‰ç»´éšå¼çº¹ç†è¡¨é¢é‡å»ºæ–¹æ³•Color-NeuSï¼Œè¯¥æ–¹æ³•ä¸ä»»ä½•ç±»ä¼¼Neusçš„æ¨¡å‹å…¼å®¹ã€‚é€šè¿‡ä»ç¥ç»è¾å°„åœºä¸­åˆ†ç¦»å‡ºä¾èµ–äºè§†å›¾çš„å…ƒç´ ï¼Œå¹¶é‡‡ç”¨é‡å…‰ç…§ç½‘ç»œæ¥ç»´æŒä½“ç»˜åˆ¶ï¼ŒColor-NeuSèƒ½å¤Ÿæœ‰æ•ˆåœ°æ£€ç´¢è¡¨é¢é¢œè‰²ï¼ŒåŒæ—¶å‡†ç¡®åœ°é‡å»ºè¡¨é¢ç»†èŠ‚ã€‚æˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬ä¸ªäººæ”¶é›†çš„åºåˆ—ä»¥åŠå‡ ä¸ªå…¬å…±æ•°æ®é›†ï¼Œå°†Color-NeuSæµ‹è¯•æ”¾åœ¨è¦æ±‚è‹›åˆ»çš„æ‰‹æŒå¯¹è±¡æ‰«æä»»åŠ¡ä¸Šã€‚ç»“æœè¡¨æ˜ï¼ŒColor-NeuSå…·æœ‰é‡å»ºå…·æœ‰å‡†ç¡®é¢œè‰²è¡¨ç¤ºçš„ç¥ç»éšå¼è¡¨é¢çš„èƒ½åŠ›ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ä»å¤šè§†å›¾å›¾åƒæˆ–å•ç›®è§†é¢‘ä¸­é‡å»ºç‰©ä½“è¡¨é¢æ˜¯è®¡ç®—æœºè§†è§‰ä¸­çš„ä¸€ä¸ªåŸºæœ¬é—®é¢˜ã€‚ç„¶è€Œï¼Œæœ€è¿‘çš„è®¸å¤šç ”ç©¶é›†ä¸­åœ¨é€šè¿‡éšå¼æˆ–æ˜¾å¼æ–¹æ³•é‡å»ºå‡ ä½•ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹è½¬å‘<strong>ä¸é¢œè‰²ç›¸ç»“åˆçš„ç½‘æ ¼é‡å»º</strong>ã€‚æˆ‘ä»¬ä»ç¥ç»ä½“ç»˜åˆ¶ä¸­å»é™¤ä¸è§†å›¾ç›¸å…³çš„é¢œè‰²ï¼ŒåŒæ—¶é€šè¿‡é‡å…‰ç…§ç½‘ç»œä¿æŒä½“ç»˜åˆ¶æ€§èƒ½ã€‚<strong>ä»è¡¨é¢çš„ç¬¦å·è·ç¦»å‡½æ•°(SDF)ç½‘ç»œä¸­æå–ç½‘æ ¼ï¼Œå¹¶ä»å…¨å±€é¢œè‰²ç½‘ç»œä¸­ç»˜åˆ¶æ¯ä¸ªè¡¨é¢é¡¶ç‚¹çš„é¢œè‰²</strong>ã€‚ä¸ºäº†è¯„ä¼°æˆ‘ä»¬çš„æ–¹æ³•ï¼Œæˆ‘ä»¬è®¾æƒ³äº†ä¸€ä¸ªæ‰‹æŒç‰©ä½“æ‰«æä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡å…·æœ‰è®¸å¤šé®æŒ¡å’Œå…‰ç…§æ¡ä»¶çš„æ€¥å‰§å˜åŒ–ã€‚æˆ‘ä»¬ä¸ºè¿™é¡¹ä»»åŠ¡æ”¶é›†äº†å‡ ä¸ªè§†é¢‘ï¼Œç»“æœè¶…è¿‡äº†ä»»ä½•ç°æœ‰çš„èƒ½å¤Ÿé‡å»ºç½‘æ ¼å’Œé¢œè‰²çš„æ–¹æ³•ã€‚æ­¤å¤–ï¼Œä½¿ç”¨å…¬å…±æ•°æ®é›†(åŒ…æ‹¬DTUã€BlendedMVSå’ŒOmniObject3D)è¯„ä¼°äº†æˆ‘ä»¬çš„æ–¹æ³•çš„æ€§èƒ½ã€‚ç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨æ‰€æœ‰è¿™äº›æ•°æ®é›†ä¸Šéƒ½è¡¨ç°è‰¯</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä»äºŒç»´å›¾åƒé‡å»ºä¸‰ç»´ç‰©ä½“æ˜¯è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦é¢†åŸŸçš„ä¸€ä¸ªå…³é”®å’ŒæŒç»­çš„æŒ‘æˆ˜ã€‚æ­¤å‰ï¼ŒSFMæ–¹æ³•[20,21]è¢«å¹¿æ³›ç”¨äºä»2Då›¾åƒé‡å»º3Dç‰©ä½“ã€‚ç„¶è€Œï¼Œ<strong>æ­¤å¤–ï¼Œå®ƒç»å¸¸å¾ˆéš¾å¤„ç†ç¼ºä¹çº¹ç†æˆ–é‡å¤æ¨¡å¼çš„åœºæ™¯ï¼Œå¯¼è‡´æ¨¡ç³Šçš„å¯¹åº”å…³ç³»å’Œä¸æ­£ç¡®çš„æ·±åº¦ä¼°è®¡ã€‚SFMçš„å¦ä¸€ä¸ªé™åˆ¶æ˜¯å®ƒä¸èƒ½æœ‰æ•ˆåœ°å¤„ç†é—­å¡</strong>ã€‚å½“åœºæ™¯ä¸­çš„ç‰©ä½“è¢«éƒ¨åˆ†é®æŒ¡æ—¶ï¼Œå¾€å¾€ä¼šå¯¼è‡´é‡å»ºé”™è¯¯ã€‚SFMçš„å¦ä¸€ä¸ªå±€é™æ€§åœ¨äºå®ƒå¯¹ç‚¹äº‘è¡¨ç¤ºçš„ä¾èµ–ï¼Œæ— æ³•å®ç°å®Œå…¨å¯†é›†çš„é‡å»ºã€‚æœ€è¿‘ï¼Œè¿™ä¸€é¢†åŸŸçš„å‰æ™¯ä¸€ç›´åœ¨å‘å±•ï¼Œäººä»¬å¯¹é€šè¿‡ä½“æ¸²æŸ“æ¥ç ”ç©¶éšå¼ç¥ç»è¡¨é¢çš„å…´è¶£æ—¥ç›Šæµ“åšNeus[23]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºåƒç´ çº§çš„ç²¾ç»†è¡¨é¢ã€‚è¿™æ˜¯åŸºäºç¥ç»è¾å°„åœºçš„å·¥ä½œ[18]NeRFã€‚</p><p>åƒNeRF[18]åŠå…¶åç»§è€…[1,4,16,30,36]è¿™æ ·çš„å¼€åˆ›æ€§ä½œå“ä»¤äººä¿¡æœåœ°è¯æ˜äº†ç¥ç»ç½‘ç»œåœ¨è¡¨ç¤ºè¿ç»­3Dåœºæ™¯æ–¹é¢çš„å¼ºå¤§åŠŸèƒ½ã€‚è¿™æ˜¯é€šè¿‡å­¦ä¹ ä»3Dåæ ‡åˆ°ä½“å¯†åº¦å’Œè§†å›¾ç›¸å…³é¢œè‰²çš„æ˜ å°„æ¥å®ç°çš„ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„æ–°è§†å›¾åˆæˆã€‚éšåï¼ŒNeus[23]æ‰©å±•äº†è¿™ä¸€æ¦‚å¿µï¼Œåˆ©ç”¨æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)é‡å»ºç¥ç»éšå¼æ›²é¢ã€‚<strong>ç„¶è€Œï¼ŒNeuSçš„èŒƒå›´ä»ç„¶å±€é™äºæ— é¡¶ç‚¹é¢œè‰²çš„ç½‘æ ¼é‡å»º</strong>ã€‚è¿™ä¸ªé™åˆ¶å‡ºç°åœ¨Neusçš„ç¥ç»ä½“æ¸²æŸ“ä¸­ï¼Œæ¯ä¸ªç‚¹çš„é¢œè‰²éƒ½æ˜¯ç”±å®ƒçš„ä½ç½®å’Œè§‚å¯Ÿå…‰çº¿æ–¹å‘å†³å®šçš„ã€‚å› æ­¤ï¼Œ<strong>åœ¨æ²¡æœ‰è§†å›¾æ–¹å‘çš„ç½‘æ ¼é‡å»ºç¯å¢ƒä¸­ï¼ŒNeuSæ— æ³•ä¸ºæ¯ä¸ªç‚¹åˆ†é…ç‰¹å®šçš„é¢œè‰²å€¼</strong>ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºè§†è§‰æ— å…³é¢œè‰²çš„ç¥ç»éšå¼æ›²é¢é‡å»ºæ–¹æ³•ã€‚</p><p>æˆ‘ä»¬æå‡ºäº†Color-NeuSï¼Œè¿™æ˜¯ä¸€ç§ä¸NeuSå…¼å®¹çš„æ–¹æ³•ï¼Œå¯ä»¥ç‹¬ç«‹äºè§†ç‚¹ï¼Œä¿ƒè¿›3Dè¡¨é¢å’Œå…¨å±€é¡¶ç‚¹é¢œè‰²çš„é‡å»ºã€‚åŒæ—¶ï¼Œå®ƒæ”¯æŒNeuSåœ¨æ¸²æŸ“2Då›¾åƒå’Œæ‰§è¡Œ3Dè¡¨é¢é‡å»ºæ–¹é¢çš„å¼ºå¤§åŠŸèƒ½ã€‚ä¸ºæ­¤ï¼Œ<strong>æˆ‘ä»¬ç”¨ä¸è§†å›¾æ— å…³çš„å…¨å±€é¢œè‰²å˜é‡å’Œä¸è§†å›¾ç›¸å…³çš„é‡å…‰ç…§æ•ˆæœçš„é›†æˆå–ä»£äº†ç¥ç»ä½“æ¸²æŸ“ä¸­ä¸è§†å›¾ç›¸å…³çš„å•ä¸€é¢œè‰²åˆ†é‡</strong>ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚è¿™ä¸ä»…ä½¿æˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤Ÿè¿›è¡Œæ ‡å‡†ä½“æ¸²æŸ“çš„è®­ç»ƒï¼Œè€Œä¸”ä¸ºå…¨å±€é¡¶ç‚¹é¢œè‰²çš„å­¦ä¹ é“ºå¹³äº†é“è·¯ã€‚é‡è¦çš„æ˜¯ï¼Œ<strong>Color-NeuSè‡ªç„¶åœ°å¤„ç†ç‰©ä½“è¡¨é¢çš„å¤§é‡åå°„ï¼Œå¹¶ä¸”å¯ä»¥å¤„ç†ç‰©ä½“ä¹‹é—´åŠ¨æ€äº¤äº’è¿‡ç¨‹ä¸­çš„é—´æ­‡æ€§é®æŒ¡</strong>(è§å›¾7)ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230901150726.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230901150740.png" alt="image.png"></p><p>æˆ‘ä»¬çš„Color-NeuSçš„æœ‰æ•ˆæ€§å·²ç»åœ¨å„ç§æ•°æ®é›†ä¸Šå¾—åˆ°äº†å¹¿æ³›çš„éªŒè¯ï¼ŒåŒ…æ‹¬DTU[13]ã€BlendedMVS[32]å’ŒOmniObject3D[29]æ•°æ®é›†ã€‚ä¸ºäº†è¯æ˜æˆ‘ä»¬çš„æ–¹æ³•çš„ä¼˜è¶Šæ€§ï¼Œæˆ‘ä»¬ä¸æ¿€å…‰æ‰«æå’Œæˆç†Ÿçš„æ–¹æ³•å¦‚COLMAP[20,21]å’ŒHHOR[12]è¿›è¡Œäº†æ¯”è¾ƒè¯„ä¼°ã€‚ç»“æœè¡¨æ˜ï¼ŒColor-NeuSåœ¨æå–åˆç†çº¹ç†çš„åŒæ—¶ï¼ŒæˆåŠŸåœ°é‡å»ºäº†ç‰©ä½“è¡¨é¢ã€‚ä¸ºäº†å¼ºè°ƒå…¶å®é™…åº”ç”¨ï¼Œæˆ‘ä»¬å°†Color-NeuSåº”ç”¨äºç°å®ä¸–ç•Œä¸­å…·æœ‰æŒ‘æˆ˜æ€§çš„ä»»åŠ¡:æ‰‹æŒç‰©ä½“æ‰«æ[10,12]ã€‚ä½œä¸ºè¿™ä¸ªè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ”¶é›†ä¸€ä¸ªæ•°æ®é›†è¿›è¡ŒéªŒè¯ï¼Œå…¶ä¸­åŒ…æ‹¬ç‰©ä½“çš„3Dæ‰«æï¼Œæ‰‹æŒç§»åŠ¨ç‰©ä½“çš„è§†é¢‘ï¼Œä»¥åŠä»¥ç‰©ä½“ä¸ºä¸­å¿ƒçš„ç›¸æœºè½¬æ¢ã€‚</p><p>è´¡çŒ®ï¼š</p><ul><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ³•æ¥é‡å»ºä¸€ä¸ªå…·æœ‰é¢œè‰²çš„ç¥ç»éšå¼è¡¨é¢ï¼Œå¯ä»¥åº”ç”¨äºä»»ä½•ç±»Neusæ¨¡å‹ã€‚</li><li>æˆ‘ä»¬è§£è€¦äº†ç¥ç»ä½“æ¸²æŸ“ä¸­ä¾èµ–äºè§†å›¾çš„è¿‡ç¨‹ï¼Œåœ¨è·å¾—å…¨å±€é¡¶ç‚¹é¢œè‰²çš„åŒæ—¶èƒ½å¤Ÿå¤„ç†é®æŒ¡å’Œåå°„ã€‚</li><li>æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„æ‰‹æŒç‰©ä½“æ‰«æä»»åŠ¡ï¼Œç”¨äºé‡å»ºå¸¦é¢œè‰²çš„ç½‘æ ¼ï¼Œå¹¶ä¸ºæ­¤ä»»åŠ¡ç¼–è¯‘äº†ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„æ•°æ®é›†ã€‚</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p><strong>Neural Radiance Field</strong>.<br>ç»§NeRFçš„å¼€åˆ›æ€§å·¥ä½œ[18]ä¹‹åï¼Œç¥ç»éšå¼åœºå‡ºç°äº†å„ç§å„æ ·çš„ç ”ç©¶ã€‚</p><ul><li>å…¶ä¸­å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒNeRFâˆ’âˆ’[26]ã€NoPe-NeRF[2]ã€BARF[15]å’ŒGNeRF[17]ä¸€ç›´åœ¨ç ”ç©¶åœ¨è®­ç»ƒéšå¼åœºæ—¶ä¼°è®¡ç›¸æœºå§¿åŠ¿çš„æ–¹æ³•ã€‚</li><li>ä¸æ­¤åŒæ—¶ï¼ŒPixel-NeRF[36]ã€MVSNeRF[4]å’ŒIBRNet[24]ç­‰ç ”ç©¶çš„é‡ç‚¹æ˜¯ç¥ç»è¾å°„åœºçš„æ³›åŒ–ã€‚</li><li>ä¸æ­¤åŒæ—¶ï¼ŒKiloNeuS[7]ã€NeX[28]ã€NeRV[22]ã€NeRD[3]ç­‰ç ”ç©¶é¡¹ç›®ä¹Ÿåœ¨å…³æ³¨ç¥ç»é¢†åŸŸçš„ç…§æ˜å’Œå†ç…§æ˜ã€‚</li><li>è¯¥æ–¹æ³•å…¼å®¹ç¥ç»ä½“ç»˜åˆ¶ï¼Œä¿ç•™äº†æ–°è§†å›¾åˆæˆçš„èƒ½åŠ›ã€‚</li></ul><p><strong>Surface Reconstruction</strong>.</p><ul><li>éšå¼å¯å¾®åˆ†æ¸²æŸ“å™¨(IDR)[33]é€šè¿‡åˆ©ç”¨éšå¼å‡ ä½•æ­£åˆ™åŒ–(IGR)[8]ï¼Œå°†å‡ ä½•è¡¨ç¤ºä¸ºæœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)çš„é›¶æ°´å¹³é›†ã€‚</li><li>Neus[23]ç»“åˆäº†SDFåœºå’Œä½“ç»˜åˆ¶æ¥é‡å»ºæ›²é¢ã€‚</li><li>VolSDF[34]å’ŒUNISURF[19]éƒ½å°†éšå¼è¡¨é¢è¡¨ç¤ºä¸ä½“ç»˜åˆ¶ç»“åˆèµ·æ¥:<ul><li>VolSDF[34]å°†å¤–è§‚ä¸å‡ ä½•åˆ†ç¦»ï¼Œ</li><li>è€ŒUNISURF[19]ä»¥å†…èšçš„æ–¹å¼åˆ¶å®šéšå¼è¡¨é¢æ¨¡å‹å’Œäº®åº¦åœºã€‚</li></ul></li><li>PET-NeuS[25]æ˜¯NeuS[23]çš„æ‰©å±•ï¼Œå¼•å…¥äº†æ–°çš„ç»„ä»¶ï¼Œå¦‚ç‹¬ç‰¹çš„ä½ç½®ç¼–ç ç±»å‹ã€ä¸‰å¹³é¢è¡¨ç¤ºå’Œå¯å­¦ä¹ çš„å·ç§¯æ“ä½œã€‚<strong>ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•æ²¡æœ‰è€ƒè™‘åˆ°å…¨å±€è§†å›¾æ— å…³çš„è¡¨é¢é¢œè‰²</strong>ã€‚</li><li>æˆ‘ä»¬çš„æ–¹æ³•ä¾§é‡äºä»å…¨å±€é¢œè‰²ç½‘ç»œä¸­æå–è¡¨é¢é¢œè‰²ï¼ŒåŒæ—¶ä¿æŒä»é‡å…‰ç…§ç½‘ç»œä¸­å­¦ä¹ å‡ ä½•å’Œå›¾åƒæ¸²æŸ“çš„èƒ½åŠ›ã€‚</li></ul><p><strong>In-hand Object Scanning</strong>.</p><ul><li>ObMan[11]æå‡ºäº†ä¸€ç§ç«¯åˆ°ç«¯å¯å­¦ä¹ çš„æ¨¡å‹ï¼Œè¯¥æ¨¡å‹é‡‡ç”¨ç‹¬ç‰¹çš„æ¥è§¦æŸå¤±ï¼Œé¼“åŠ±ç‰©ç†ä¸Šåˆç†çš„æ‰‹-ç‰©é…ç½®ã€‚</li><li>å¯¹äºæ‰‹æŒç‰©ä½“æ‰«æä»»åŠ¡ï¼ŒIHOI[35]åˆ©ç”¨ä¼°è®¡çš„æ‰‹éƒ¨å§¿æ€ï¼Œä»å•ä¸ªRGBå›¾åƒè¿›è¡Œé‡å»ºã€‚</li><li>å¦ä¸€æ–¹é¢ï¼ŒBundleSDF[27]ä½¿ç”¨RGBDè¾“å…¥åºåˆ—å›¾åƒä¼°è®¡ç›®æ ‡å§¿æ€ï¼ŒåŒæ—¶é‡å»ºç”±æœ‰ç¬¦å·è·ç¦»å‡½æ•°(Signed Distance Function, SDF)è¡¨ç¤ºçš„éšå¼è¡¨é¢ã€‚</li><li>HHOR[12]ä¹Ÿåˆ©ç”¨SDFæ¥è¡¨ç¤ºç‰©ä½“è¡¨é¢ï¼Œä½†å®ƒæ˜¯ä¸æ‰‹ä¸€èµ·é‡å»ºç‰©ä½“çš„ï¼Œè€Œæ‰‹æ˜¯ç‰¢ç‰¢æ¡ä½ç‰©ä½“çš„ã€‚</li><li>æœ€è¿‘çš„ä¸€é¡¹å·¥ä½œ[9]ä»RGBåºåˆ—é‡å»ºç‰©ä½“ï¼Œå¹¶é€šè¿‡ä½¿ç”¨å ç”¨åœºæ¥è¡¨ç¤ºè¡¨é¢æ¥åŒæ—¶ä¼°è®¡ç›¸æœºå§¿åŠ¿ã€‚<strong>ä½†æ˜¯ï¼Œå®ƒå‡è®¾å…‰æºè·ç¦»è¾ƒè¿œï¼Œå¹¶ä¸”å…‰çš„æ–¹å‘ä¿æŒä¸å˜</strong>ã€‚</li><li>ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å¤„ç†ä»»æ„å…‰ç…§æ¡ä»¶æ¥æ¨¡æ‹Ÿç‰©ä½“çš„å¤–è§‚ã€‚</li></ul><h1 id="Preliminary"><a href="#Preliminary" class="headerlink" title="Preliminary"></a>Preliminary</h1><p>æˆ‘ä»¬é¦–å…ˆå¼•å…¥ç¥ç»éšå¼æ›²é¢(Neural Implicit Surface, NeuS)[23]ï¼Œè¿™æ˜¯æˆ‘ä»¬æ–¹æ³•çš„åŸºç¡€ã€‚ç»™å®šä¸€ä¸ªå…·æœ‰å·²çŸ¥å†…åœ¨å‚æ•°çš„ç›¸æœºï¼Œæˆ‘ä»¬å¯ä»¥å°†ç›¸æœºåæ ‡ç³»ä¸­çš„å…‰çº¿è¡¨ç¤ºä¸º : $p(z)=\mathbf{o}+z\mathbf{d},$ Eq.1</p><p>å…¶ä¸­oå’Œdåˆ†åˆ«æ˜¯åŸç‚¹å’Œå°„çº¿çš„æ–¹å‘ï¼Œzæ˜¯åŸç‚¹åˆ°å°„çº¿ä¸Šä¸€ç‚¹çš„è·ç¦»ã€‚ç„¶åï¼Œä½¿ç”¨MLPç½‘ç»œ$\mathcal{G}$å°†pç¼–ç ä¸ºå…¶å¸¦ç¬¦å·è·ç¦»å‡½æ•°(SDF) s(p)å’Œç‰¹å¾å‘é‡f (p)ï¼Œåˆ†åˆ«ä¸º:$[s(p),f(p)]=\mathcal{G}(p).$ Eq.2</p><p>ä»¥ä½ç½®pã€æ–¹å‘dã€ç‰¹å¾å‘é‡f (p)ã€æ¢¯åº¦g(p)ä¸ºè¾“å…¥ï¼Œå¦ä¸€ä¸ªMLP $\mathcal{M}$è¾“å‡ºæŸ¥è¯¢ç‚¹çš„é¢œè‰²ä¸º:$c(p,d)=\mathcal{M}(p,d,f(p),g(p)),$ Eq.3</p><p>å…¶ä¸­$g(p) =âˆ‡s(p)$ä¸ºSDFåœ¨pç‚¹å¤„çš„æ¢¯åº¦ã€‚æœ€åï¼Œå¯¹æŸ¥è¯¢åƒç´ Cæ²¿å°„çº¿çš„é¢œè‰²è¿›è¡Œç§¯åˆ†ï¼Œå¾—åˆ°æŸ¥è¯¢åƒç´ Cçš„é¢œè‰²ï¼Œ<br>$C=\int_{z_n}^{z_f}w(z)c(\mathbf{p},\mathbf{d})dz,$ Eq.4<br>$w(z)=\exp\big(-\int_{z_n}^z\sigma(t)dt\big)*\sigma(z),$ Eq.5<br>$\sigma(\mathbf{p})=\frac{\alpha e^{-\alpha s(\mathbf{p})}}{(1+e^{-\alpha s(\mathbf{p})})^2},$ Eq.6</p><p>å…¶ä¸­Ïƒ(p)è¡¨ç¤ºä»¥$\alpha\in\mathbb{R}^1$ä½œä¸ºå¯å­¦ä¹ å‚æ•°çš„pçš„å¯†åº¦ã€‚$w(z)$è¡¨ç¤ºåœ¨zç‚¹å¤„èµ‹äºˆé¢œè‰²çš„æƒé‡ã€‚å¦å¤–ï¼Œ$z_{n}$å’Œ$z_{f}$åˆ†åˆ«è¡¨ç¤ºç›¸æœºçš„è¿‘ã€è¿œå¹³é¢ã€‚<br>åŸºäºEq.(4)ä¸­çš„è¾“å…¥dï¼Œè¾“å‡ºçš„æ¯ä¸ªé¡¶ç‚¹é¢œè‰²ä¸è§†å›¾ç›¸å…³ã€‚å› æ­¤ï¼ŒåŸå§‹çš„Neusé¿å…äº†incorporating color,ï¼Œåªä¸“æ³¨äºè¡¨é¢å½¢çŠ¶çš„é‡å»ºã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æå–ç‰©ä½“çš„é¢œè‰²å’Œå‡ ä½•å½¢çŠ¶ï¼Œ<br>$c_g(\mathbf{x}),x\in\mathcal{S},$ Eq.7<br>å…¶ä¸­$\mathcal{S}=\left.\{x\in\mathbb{R}^3|s(\mathbf{x})=0\right\}$è¡¨ç¤ºç‰©ä½“è¡¨é¢(ç½‘æ ¼é¡¶ç‚¹çš„é›†åˆ)ï¼Œå…¶ç‰¹å¾ä¸ºä¸€ç»„å…·æœ‰é›¶çº§å¸¦ç¬¦å·è·ç¦»å€¼çš„ç‚¹ã€‚</p><p><strong>Property1</strong>:<br>([23, Sec.3.1]) NeuSå…·æœ‰ä¸€ä¸ªæœ‰åˆ©çš„æ€§è´¨ï¼Œå…¶ä¸­å¯†åº¦Ïƒ(p)çš„æ ‡å‡†å·®ç”±å¯è®­ç»ƒå‚æ•°1/Î±å†³å®šï¼Œéšç€ç½‘ç»œè®­ç»ƒè¾¾åˆ°æ”¶æ•›ï¼Œè¯¥å‚æ•°é€æ¸æ¥è¿‘é›¶ã€‚</p><p>æ ¹æ®æ€§è´¨1ï¼Œç¥ç»è¾å°„åœºçš„å¯†åº¦Ïƒ(p)åŸºæœ¬ä¸Šé›†ä¸­åœ¨è¡¨é¢sä¸Šï¼Œè¿™ä¸ºæˆ‘ä»¬åœ¨ç½‘ç»œè®­ç»ƒè¾¾åˆ°æ”¶æ•›æ—¶æå–ç‰©ä½“çš„è¡¨é¢(æ¯ä¸ªé¡¶ç‚¹)é¢œè‰²æä¾›äº†ä¸€ä¸ªç„¦ç‚¹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230901154617.png" alt="image.png"></p><h2 id="Naive-Solution"><a href="#Naive-Solution" class="headerlink" title="Naive Solution"></a>Naive Solution</h2><p>ä¸€ç§çœ‹ä¼¼ç›´è§‚çš„è§£å†³æ–¹æ¡ˆæ˜¯ç®€å•åœ°åˆ é™¤å¼(3)ä¸­çš„è§†å›¾ç›¸å…³é¡¹ï¼Œå¦‚:<br>$c(p)=\mathcal{M}(p,f(p),g(p)).$ Eq.8<br>é—æ†¾çš„æ˜¯ï¼Œè¿›è¡Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šæ½œåœ¨åœ°æŸå®³æ‰€å­¦åˆ°çš„å‡ ä½•å½¢çŠ¶å’Œç¥ç»è¾å°„åœºå†…çš„å¤–è§‚ã€‚è¿™æ˜¯ç”±äºå½“è§†ç‚¹ç›¸å…³é¡¹ç¼ºå¤±æ—¶ï¼Œç¥ç»è¾å°„åœºæ— æ³•å‡†ç¡®è¡¨è¾¾ä¸åŒæ–¹å‘ç‚¹çš„å…‰å˜åŒ–ã€‚æ­¤å¤–ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿå¯èƒ½æœ€ç»ˆå¯¼è‡´SDFåœºçš„ç ´è£‚ï¼Œéšåå¼•å‘åœ°è¡¨çš„ç ´ç¢ã€‚æœ´ç´ è§£çš„å®šæ€§ç»“æœå¦‚å›¾3æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230901152222.png" alt="image.png"></p><h2 id="Intermediate-Solution"><a href="#Intermediate-Solution" class="headerlink" title="Intermediate Solution"></a>Intermediate Solution</h2><p>ä¸­é—´çš„è§£å†³æ–¹æ¡ˆæ˜¯åˆ©ç”¨ä¸€ä¸ªæ’å®šçš„æ–¹å‘ä½œä¸ºé¢œè‰²ç½‘ç»œçš„è¾“å…¥ï¼Œä»¥ä¾¿ä»è¡¨é¢æå–é¢œè‰²ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œåœ¨HHOR[12]ä¸­ï¼Œ<strong>é¡¶ç‚¹é¢œè‰²æ˜¯æ ¹æ®è¡¨é¢çš„æ³•çº¿æ–¹å‘æ¥å®šä¹‰çš„</strong>ã€‚å¯¹äºä»»æ„xâˆˆSï¼Œæ³•çº¿æ–¹å‘ç”±- g(x)ç»™å‡ºã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨</p><p>$c(x)=\mathcal{M}(x,-g(x),f(x),g(x)).$Eq.9</p><p>ç„¶è€Œï¼Œè€ƒè™‘åˆ°ç‰©ä½“è¡¨é¢é¢œè‰²åœ¨ä¸æ–­å˜åŒ–çš„å…‰ç…§æ¡ä»¶ä¸‹ä¼šå‘ç”Ÿç›¸å½“å¤§çš„å˜åŒ–ï¼Œç”¨å•ä¸€çš„â€œæ–¹å‘è‰²â€æ¥è¡¨ç¤ºç‰©ä½“çš„çœŸå®é¢œè‰²å¯èƒ½æ˜¯ä¸å¤Ÿçš„ã€‚ä¸å…‰è¡¨é¢ç›¸äº’ä½œç”¨ç›¸å…³çš„å›ºæœ‰å¤æ‚æ€§è¦æ±‚æ›´ç»†è‡´å…¥å¾®çš„æ–¹æ³•æ¥æå–é¢œè‰²ã€‚</p><h2 id="Color-NeuS"><a href="#Color-NeuS" class="headerlink" title="Color-NeuS"></a>Color-NeuS</h2><p>åœ¨æˆ‘ä»¬çš„æ–¹æ³•Color-NeuSä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå·¥ä½œæµæ¥å°†å…¨å±€é¢œè‰²ä»è§†å›¾ç›¸å…³çš„å…¬å¼ä¸­åˆ†ç¦»å‡ºæ¥ï¼ŒåŒæ—¶ä¿ç•™é€‚å½“çš„å‡ ä½•å½¢çŠ¶å¹¶ä¸ºæ¯ä¸ªé¡¶ç‚¹è·å¾—åˆç†çš„è§†å›¾æ— å…³çš„é¢œè‰²ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª<strong>ç‹¬ç«‹äºè§†å›¾çš„å…¨å±€é¢œè‰²å˜é‡</strong>(ç¬¬4.3.1èŠ‚)å’Œä¸€ä¸ª<strong>ä¾èµ–äºè§†å›¾çš„é‡å…‰ç…§æ•ˆæœ</strong>(ç¬¬4.3.2èŠ‚)çš„å­¦ä¹ å–ä»£äº†å•ä¸ªä¾èµ–äºè§†å›¾çš„é¢œè‰²ç»„ä»¶çš„å­¦ä¹ (å¦‚Eq.(3)æ‰€ç¤º)ã€‚</p><h3 id="Removing-View-Dependence"><a href="#Removing-View-Dependence" class="headerlink" title="Removing View-Dependence"></a>Removing View-Dependence</h3><p>æˆ‘ä»¬æå‡ºçš„è§£å†³æ–¹æ¡ˆé¦–å…ˆä»Eq.(3)ä¸­åˆ é™¤è§†å›¾ä¾èµ–é¡¹ï¼Œå°†æ¨¡å‹è½¬æ¢ä¸ºå…¨å±€é¢œè‰²ç½‘ç»œï¼Œå¦‚ä¸‹:</p><p>$c_{g}(\mathbf{p})=\mathcal{M}_{g}(\mathbf{p},f(\mathbf{p}),g(\mathbf{p})).$ Eq.10</p><p>è¯¥å…¬å¼ä¸Eq.(8)ä¸­æå‡ºçš„æœ´ç´ è§£ç›¸åŒ¹é…ï¼Œåè€…æ˜¯æå–ä¾èµ–äºè§†å›¾çš„é¡¶ç‚¹é¢œè‰²çš„ç†æƒ³èµ·ç‚¹ã€‚ç„¶è€Œï¼Œä»…ä»…ä½¿ç”¨è¿™ä¸ªæ–¹ç¨‹(å¿½ç•¥è§†å›¾ä¾èµ–æ€§)æ¥è®­ç»ƒç½‘ç»œæ”¶æ•›å°†è¿åæ€§è´¨1ã€‚å› æ­¤ï¼Œè¿™ç§çŸ›ç›¾å¯ä»¥é˜»æ­¢å¯†åº¦Ïƒ(p)å‡èšåˆ°ç‰©ä½“è¡¨é¢ï¼Œæ— æ„ä¸­å½±å“å­¦åˆ°çš„å‡ ä½•ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºçš„è§£å†³æ–¹æ¡ˆ(Color-NeuS)æ˜¯<strong>å°†æ¨ç†è¿‡ç¨‹ä¸è®­ç»ƒåˆ†å¼€</strong>ã€‚</p><ul><li>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å…¨å±€é¢œè‰²ä¸ä¸è§†å›¾æ–¹å‘ä¸ä¸€è‡´çš„æ®‹å·®é¡¹é‡æ–°æ•´åˆã€‚è¯¥é›†æˆçš„ç»“æœæ»¡è¶³ä½“ç»˜åˆ¶å…¬å¼Eq.(4)ä¸­æå‡ºçš„è§†å›¾è¦æ±‚ï¼Œå¹¶ä¸”åœ¨è®­ç»ƒé˜¶æ®µä¿æŒå±æ€§1ã€‚</li><li>åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å¯†åº¦Ïƒ(p)æµ“ç¼©åˆ°ç‰©ä½“è¡¨é¢ï¼Œå°±å¯ä»¥ä¿è¯ç‰©ä½“çš„å½¢çŠ¶(s(p) = 0)ã€‚å¦å¤–ï¼Œ$c_{g}(p)$è·å¾—äº†è¡¨ç¤ºé¡¶ç‚¹é¢œè‰²çš„èƒ½åŠ›ã€‚</li></ul><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¨ç†è¿‡ç¨‹ä¸­æå–æ›²é¢(å…¶ä¸­$x\in\mathcal{S}$ï¼Œå³$s(\mathbf{x})=0$)ä¸Šçš„é¡¶ç‚¹é¢œè‰²<br>$c_g(\mathbf{x})=\mathcal{M}_g(\mathbf{x},f(\mathbf{x}),g(\mathbf{x})).$ Eq.11</p><h3 id="Coupling-Relighting-Effect"><a href="#Coupling-Relighting-Effect" class="headerlink" title="Coupling Relighting Effect"></a>Coupling Relighting Effect</h3><p>ä¸ºäº†åœ¨$c_{g}(x)$ä¸­å»é™¤è§†å›¾ä¾èµ–é¡¹åä¿æŒæ¨¡å‹çš„æ€§èƒ½ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªé‡å…‰ç…§ç½‘ç»œæ¥è¡¥å¿ä¸¢å¼ƒçš„è§†å›¾ä¾èµ–é¡¹ã€‚é‡ç…§æ˜ç½‘ç»œæ ¹æ®ä½ç½®ã€æ–¹å‘å’Œä¸è§†å›¾æ— å…³çš„é¢œè‰²å‘æŒ¥ä½œç”¨ï¼Œ<strong>ä¸ºæ¯ä¸ªç‚¹ç”Ÿæˆä¸€ä¸ªå°çš„ä¸è§†å›¾ç›¸å…³çš„é¢œè‰²è°ƒæ•´</strong>ã€‚è¿™å¯ä»¥è¡¨ç¤ºä¸º:</p><p>$c_{r}(\mathbf{p},\mathbf{d})=\mathcal{R}_{g}(c_{g}(\mathbf{p}),\mathbf{p},\mathbf{d},g(\mathbf{p})).$Eq.12</p><p>ç„¶åï¼Œå°†é‡å…‰ç…§æ•ˆæœä¸å…¨å±€é¢œè‰²è¿›è¡Œç§¯åˆ†ï¼Œè®¡ç®—å‡ºæ¯ä¸ªç‚¹çš„æœ€ç»ˆé¢œè‰²ï¼Œå¦‚ä¸‹:</p><p>$c(\mathbf{p},\mathbf{d})=\Psi(\Psi^{-1}(c_g(\mathbf{p}))+c_r(\mathbf{p},\mathbf{d})),$Eq.13</p><p>å…¶ä¸­$Î¨$å’Œ$Î¨^{âˆ’1}$åˆ†åˆ«è¡¨ç¤ºsigmoidå‡½æ•°å’Œé€†sigmoidå‡½æ•°ã€‚ç›®å‰ï¼Œé¢œè‰²æ˜¯å…¨å±€é¢œè‰²(ä¸è§†å›¾æ— å…³)å’Œé‡å…‰ç…§æ•ˆæœ(ä¸è§†å›¾ç›¸å…³)çš„èåˆã€‚ç„¶åå°†$c(\mathbf{p},\mathbf{d})$çº³å…¥æ–¹ç¨‹(4)ä¸­è®¡ç®—ä½“ç§¯ç§¯åˆ†cã€‚</p><h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><p>æ²¿ç€é‡‡æ ·å…‰çº¿çš„æ¸²æŸ“é¢œè‰²Cå¯ä»¥ä½¿ç”¨å…¬å¼è®¡ç®—ã€‚(4) ~(6)ã€‚è®¾$\widehat{C}$ä¸ºåœ°é¢çœŸè‰²ï¼Œå¯å°†é¢œè‰²æŸå¤±å®šä¹‰ä¸º:</p><p>$\mathcal{L}_{c}=\frac{1}{N_{r}}\sum_{i=1}^{N_{r}}|\widehat{C}_{i}-C_{i}|_{2}^{2},$ Eq.14<br>å¼ä¸­ï¼Œ$N_{r}$ä¸ºé‡‡æ ·å°„çº¿çš„ä¸ªæ•°ã€‚</p><p>ä¸ºäº†ä½¿ä¼˜åŒ–åçš„ç¥ç»è¡¨ç¤ºæ»¡è¶³æœ‰æ•ˆçš„SDFï¼Œæˆ‘ä»¬å¯¹SDFé¢„æµ‹è¿›è¡Œäº†eikonalæ­£åˆ™åŒ–[8]ï¼Œå¦‚ä¸‹:<br>$\mathcal{L}_{e}=\frac{1}{N_{r}N_{p}}\sum_{i,j}^{N_{r},N_{p}}(|\nabla s(p_{i,j})|_{2}-1)^{2},$ Eq.15<br>å…¶ä¸­$N_{p}$ä¸ºæ¯æ¡å°„çº¿ä¸Šçš„é‡‡æ ·ç‚¹æ•°ã€‚</p><p>ä¸ºäº†ä½¿å…¨å±€é¢œè‰²æ›´æ¥è¿‘å®é™…é¢œè‰²ï¼Œæˆ‘ä»¬å¯¹relighté¢œè‰²$c_{r}$çš„å¹³å‡å€¼æ–½åŠ çº¦æŸä¸ºé›¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:<br>$\mathcal{L}_{r}=\frac{1}{N_{r}N_{p}}\sum_{i,j=1}^{N_{r},N_{p}}c_{ri,j}(p,d).$Eq.16<br>è¿™ç§ç­–ç•¥ä¿ƒä½¿å…¨å±€é¢œè‰²ç½‘ç»œåœ¨å¹³å‡å…‰ç…§æ¡ä»¶ä¸‹å­¦ä¹ é¢œè‰²ã€‚æ¢å¥è¯è¯´ï¼Œ<strong>è¿™æ ·å¯ä»¥æœ€å°åŒ–é‡å…‰ç…§ç½‘ç»œå¯¹å…¨å±€é¢œè‰²çš„å½±å“</strong>ã€‚è¿™ä¸ªæŸå¤±é¡¹æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½ç›´æ¥ç›‘ç£å…¨å±€é¢œè‰²ï¼ŒåŸå› åœ¨å¹¼ç¨šæ–¹æ¡ˆ4.1ä¸­æåˆ°ã€‚</p><p>åœ¨ç‰©ä½“é‡å»ºçš„èƒŒæ™¯ä¸‹ï¼Œä¸€ç§ç›´è§‚çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç‰©ä½“(å‰æ™¯)åˆ†å‰²æ¥æ¶ˆé™¤èƒŒæ™¯å…ƒç´ ã€‚åœ¨å‰æ™¯åˆ†å‰²å¯ç”¨ä¸”æ²¡æœ‰ç‰©ä½“-åœºæ™¯é®æŒ¡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®åˆå¹¶æ©ç æŸå¤±$L_{m}$<br>$\mathcal{L}_{m}=\frac{1}{N_{r}}\sum_{N_{r}}BCE(M,\hat{O}),$ Eq.17</p><p>å…¶ä¸­ï¼Œ$\hat{O}=\sum_{j}w_{j}$æ˜¯æ²¿ç›¸æœºå…‰çº¿çš„ç´¯ç§¯æƒå€¼ï¼ŒMæ˜¯è¡¨ç¤ºå…‰çº¿æ˜¯å¦åœ¨ç›®æ ‡åˆ†å‰²è¾¹ç•Œå†…çš„äºŒè¿›åˆ¶æ©ç ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬çš„è®­ç»ƒæŸå¤±æŒ‰ç…§Eq.(18)è®¡ç®—ï¼Œå…¶ä¸­$Î»_{c}ï¼Œ Î»_{e}ï¼Œ Î»_{r}ï¼Œ Î»_{m}$ä¸ºè¶…å‚æ•°ã€‚<br>$\mathcal{L}=\lambda_{c}\mathcal{L}_{c}+\lambda_{e}\mathcal{L}_{e}+\lambda_{r}\mathcal{L}_{r}+\lambda_{m}\mathcal{L}_{m}.$</p><p>é™¤äº†ä¼˜åŒ–ä¸Šé¢æåˆ°çš„ç½‘ç»œå‚æ•°å¤–ï¼Œå¯¹äºæˆ‘ä»¬çš„é‡ç”Ÿæ•°æ®é›†ï¼Œ<strong>æˆ‘ä»¬è¿˜æ ¹æ®NeRFâˆ’âˆ’[26]ä¼˜åŒ–äº†ç›¸æœºå§¿åŠ¿</strong>ã€‚ä¸GNeRF[17]ä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿ç»­çš„6Då‘é‡$r\in\mathbb{R}^6$æ¥è¡¨ç¤ºä¸‰ç»´æ—‹è½¬ï¼Œè¿™è¢«è¯æ˜æ›´é€‚åˆäºå­¦ä¹ [37]ã€‚è”åˆä¼˜åŒ–å…¬å¼å¯è¡¨ç¤ºä¸º:<br>$\Theta^{<em>},\Pi^{</em>}=\operatorname*{arg}_{\Theta,\Pi}\mathcal{L}(\Theta,\Pi),$<br>å…¶ä¸­$Î˜$ä¸ºç½‘ç»œå‚æ•°ï¼Œ$Î $ä¸ºæ‘„åƒæœºå§¿æ€ã€‚</p><h1 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h1><ul><li>8å¼ å›¾ç‰‡ï¼Œæ¯æ‰¹1024æ¡å°„çº¿</li><li>å½“ä¸ªA10 GPU 10 iter</li><li>åœ¨å‰5kæ¬¡è¿­ä»£ä¸­ï¼Œå­¦ä¹ ç‡é¦–å…ˆä»0çº¿æ€§å‡æ¸©åˆ°$5Ã—10^{âˆ’4}$ï¼Œç„¶åé€šè¿‡ä½™å¼¦è¡°å‡è°ƒåº¦æ§åˆ¶åˆ°æœ€å°å­¦ä¹ ç‡$2.5Ã—10^{âˆ’5}$</li><li>å¯¹äºæ‰€æœ‰æ•°æ®é›†ï¼Œæˆ‘ä»¬è®¾ç½®Î»cä¸º1.0ï¼ŒÎ»eä¸º0.1ï¼ŒÎ»rä¸º1.0ã€‚å¯¹äºæ²¡æœ‰å¯¹è±¡åˆ†å‰²çš„æ•°æ®é›†(OmniObject3D)æˆ–å‘ç”Ÿå¯¹è±¡-åœºæ™¯é®æŒ¡çš„æ•°æ®é›†(IHO-Video)ï¼Œæˆ‘ä»¬å°†Î»mè®¾ç½®ä¸º0.0ã€‚ç›¸åï¼Œå¯¹äºå…¶ä»–æ•°æ®é›†ï¼Œæˆ‘ä»¬è®¾ç½®Î»mä¸º0.1</li><li>å¦‚æœåˆ†å‰²è’™ç‰ˆå¯ç”¨ï¼Œæˆ‘ä»¬åº”ç”¨é‡‡æ ·ç­–ç•¥ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒæœŸé—´è½åœ¨è’™ç‰ˆå†…çš„å…‰é‡ä»50%é€æ¸å¢åŠ åˆ°80%ã€‚</li></ul><h2 id="Empirical-Evaluation-Hand-held-Object-Scan"><a href="#Empirical-Evaluation-Hand-held-Object-Scan" class="headerlink" title="Empirical Evaluation - Hand-held Object Scan"></a>Empirical Evaluation - Hand-held Object Scan</h2><p>â€œæ‰‹æŒç‰©ä½“æ‰«æâ€ HOS<br>æ‰‹æŒå¯¹è±¡è§†é¢‘â€™ (IHO-Video)ã€‚</p><ul><li>IHO-Video Dataset</li><li>HOS Task Evaluation</li></ul><h2 id="Evaluation-on-Public-Datasets"><a href="#Evaluation-on-Public-Datasets" class="headerlink" title="Evaluation on Public Datasets"></a>Evaluation on Public Datasets</h2><ul><li>OmniObject3D<ul><li>OmniObject3Dæ˜¯ä¸€ä¸ªå…¨é¢çš„3Då¯¹è±¡æ•°æ®é›†ï¼Œå…¶ç‰¹ç‚¹æ˜¯å…·æœ‰å¹¿æ³›çš„è¯æ±‡è¡¨å’Œå¤§é‡é«˜è´¨é‡ï¼Œå®æ—¶æ‰«æçš„3Då¯¹è±¡ã€‚</li></ul></li><li>DTU</li><li>BlendedMVS</li><li>HOD Hand-held Object Dataset (HOD) </li></ul><h2 id="Quantitative-Results"><a href="#Quantitative-Results" class="headerlink" title="Quantitative Results"></a>Quantitative Results</h2><h2 id="Ablation-Study"><a href="#Ablation-Study" class="headerlink" title="Ablation Study"></a>Ablation Study</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230901154219.png" alt="image.png"></p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Colmar-zlicheng/Color-NeuS.git</span><br><span class="line"><span class="built_in">cd</span> Color-NeuS</span><br><span class="line">conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia</span><br><span class="line">pip install -r requirement.txt</span><br><span class="line">pip install <span class="string">&quot;git+https://github.com/facebookresearch/pytorch3d.git&quot;</span></span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># train</span></span><br><span class="line">python train.py -g 0 --config configs/Color_NeuS_<span class="variable">$&#123;DATASET&#125;</span>.yaml -obj <span class="variable">$&#123;OBJECT_NAME&#125;</span> --exp_id <span class="variable">$&#123;EXP_ID&#125;</span></span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line"><span class="comment"># DTU: dtu_scan83</span></span><br><span class="line">python train.py -g 0 --config configs/Color_NeuS_dtu.yaml -obj 83 --exp_id Color_NeuS_dtu_83</span><br><span class="line"></span><br><span class="line"><span class="comment"># Inference</span></span><br><span class="line">python evaluation.py -g 0 --config configs/Color_NeuS_<span class="variable">$&#123;DATASET&#125;</span>.yaml -obj <span class="variable">$&#123;OBJECT_NAME&#125;</span> -rr 512 --reload <span class="variable">$&#123;PATH_TO_CHECKPOINT&#125;</span></span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">python evaluation.py -g 0 --cfg configs/Color_NeuS_<span class="variable">$&#123;DATASET&#125;</span>.yaml -obj <span class="variable">$&#123;OBJECT_NAME&#125;</span> -rr 512 --reload <span class="variable">$&#123;PATH_TO_CHECKPOINT&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Miku"><a href="#Miku" class="headerlink" title="Miku"></a>Miku</h3><p><code>python train.py -g 0 --cfg ./config/Color_NeuS_dtu.yml -obj Miku</code><br>å¤§æ¦‚éœ€è¦8hå·¦å³</p><p>æ¢å¤è®­ç»ƒï¼Œæ·»åŠ å…³æœºæŒ‡ä»¤ï¼š &amp;&amp; /usr/bin/shutdown<br><code>python train.py -g 0 --cfg ./config/Color_NeuS_dtu.yml -obj Miku --resume /root/autodl-tmp/Color-NeuS/exp/default_2023_0917_2027_15 &amp;&amp; /usr/bin/shutdown</code></p><p>å¯¹è‡ªå®šä¹‰æ•°æ®é›†çš„é‡å»ºæ•ˆæœå¾ˆå·®ï¼Œæ— æ³•å®ç°å¾ˆå¥½çš„æ¸²æŸ“ï¼Œè€Œä¸”æ‰€éœ€æ—¶é—´å¾ˆé•¿</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Texture </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeuFace</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeuFace/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeuFace/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeuFace: Realistic 3D Neural Face Rendering from Multi-view Images</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://github.com/MingwuZheng">Mingwu Zheng</a>, <a href="https://github.com/aejion">Haiyu Zhang</a>, <a href="https://scholar.google.com/citations?user=dnbjaWIAAAAJ&amp;hl=zh-CN">Hongyu Yang</a>, <a href="https://irip.buaa.edu.cn/dihuang/index.html">Di Huang</a></td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/aejion/NeuFace">aejion/NeuFace: Official code for CVPR 2023 paper NeuFace: Realistic 3D Neural Face Rendering from Multi-view Images. (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4738284856274862081&amp;noteId=1937572464869295872">NeuFace: Realistic 3D Neural Face Rendering from Multi-view Images (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829163918.png" alt="image.png"></p><p>è´¡çŒ®ï¼š</p><ul><li><strong>BRDF+SDF+PBR</strong>æ–°æ¡†æ¶ï¼Œç«¯åˆ°ç«¯è®­ç»ƒï¼Œé‡å»ºå‡ºFaceçš„å¤–è§‚å’Œå‡ ä½•</li><li>ç®€å•è€Œæ–°çš„ä½ç§©å…ˆéªŒï¼Œé•œé¢åå°„éƒ¨åˆ†çš„Material Integral. è¡¨ç¤ºä¸ºçº¿æ€§ç»„åˆçš„BRDFåŸº</li></ul><span id="more"></span><h1 id="Limitation"><a href="#Limitation" class="headerlink" title="Limitation"></a>Limitation</h1><p>ç”±äºNeuFaceä¸»è¦ä¾§é‡äºå¤æ‚é¢éƒ¨çš®è‚¤çš„åå°„å»ºæ¨¡ï¼Œè€Œ<strong>æ²¡æœ‰æ˜ç¡®è§£å†³</strong>æ›´å…·æŒ‘æˆ˜æ€§çš„<strong>æ¬¡è¡¨é¢æ•£å°„é—®é¢˜</strong>ï¼Œä»…é‡‡ç”¨ç®€åŒ–çš„é˜´å½±æ¨¡å‹ï¼Œå› æ­¤æœ¬ç ”ç©¶ä¸­è·å¾—çš„æ¸²æŸ“ç»“æœçš„<strong>ä¿çœŸåº¦å¯ä»¥è¿›ä¸€æ­¥æé«˜</strong>ã€‚<br>æ­¤å¤–ï¼ŒNeuFaceç›®å‰æä¾›çš„æ˜¯ä¸€ä¸ª<strong>é™æ€çš„3Däººè„¸</strong>ï¼Œ<strong>è€Œä¸æ˜¯ä¸€ä¸ªå¯é©±åŠ¨çš„äººè„¸</strong>ï¼Œè™½ç„¶å‡ ä½•æ¨¡å‹ï¼Œå³ImFaceï¼Œæ˜¯ä¸€ä¸ªéçº¿æ€§å˜å½¢æ¨¡å‹ï¼Œç†è®ºä¸Šæ”¯æŒå¯æ§çš„è¡¨æƒ…ç¼–è¾‘ï¼Œä½†éœ€è¦æ›´å¤šçš„å·¥ä½œæ¥æé«˜æ€§èƒ½ã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„ä¸‰ç»´ç¥ç»æ¸²æŸ“æ¨¡å‹ï¼Œå³:NeuFaceï¼Œå¯ä»¥åŒæ—¶ä»å¤šè§†å›¾å›¾åƒä¸­æ•è·é€¼çœŸçš„é¢éƒ¨å¤–è§‚å’Œå‡ ä½•å½¢çŠ¶ã€‚<br>ä¸ºäº†å¤„ç†å¤æ‚çš„é¢éƒ¨çš®è‚¤åå°„ç‡ï¼Œæˆ‘ä»¬å°†PBRä¸ç¥ç»BRDFsç»“åˆèµ·æ¥ï¼Œä»¥è·å¾—æ›´å‡†ç¡®å’Œæ›´æœ‰ç‰©ç†æ„ä¹‰çš„3Dè¡¨ç¤ºã€‚<br>æ­¤å¤–ï¼Œä¸ºäº†ä¿ƒè¿›åº•å±‚brdfçš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§splitç§¯åˆ†æŠ€æœ¯ä»¥åŠä¸€ç§ç®€å•è€Œæ–°çš„ä½ç§©å…ˆéªŒï¼Œè¿™å¤§å¤§æé«˜äº†æ¢å¤æ€§èƒ½ã€‚<br>å¤§é‡çš„å®éªŒè¯æ˜äº†NeuFaceåœ¨äººè„¸ç»˜åˆ¶æ–¹é¢çš„ä¼˜è¶Šæ€§ï¼Œä»¥åŠå¯¹æ™®é€šç‰©ä½“è‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>å¤šè§†ç‚¹å›¾åƒçš„çœŸå®æ„Ÿäººè„¸ç»˜åˆ¶å¯¹å„ç§è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦åº”ç”¨éƒ½æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ç„¶è€Œï¼Œç”±äºäººè„¸å…·æœ‰å¤æ‚çš„ç©ºé—´å˜åŒ–çš„åå°„ç‡ç‰¹æ€§å’Œå‡ ä½•ç‰¹å¾ï¼Œåœ¨ç›®å‰çš„ç ”ç©¶ä¸­ï¼Œå¦‚ä½•çœŸå®æœ‰æ•ˆåœ°æ¢å¤ä¸‰ç»´äººè„¸è¡¨å¾ä»ç„¶æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚<br>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„ä¸‰ç»´äººè„¸ç»˜åˆ¶æ¨¡å‹NeuFaceï¼Œè¯¥æ¨¡å‹é€šè¿‡ç¥ç»ç»˜åˆ¶æŠ€æœ¯æ¥å­¦ä¹ ç²¾ç¡®ä¸”æœ‰ç‰©ç†æ„ä¹‰çš„åº•å±‚3Dè¡¨ç¤ºã€‚å®ƒè‡ªç„¶åœ°å°†ç¥ç»BRDFsåˆå¹¶åˆ°åŸºäºç‰©ç†çš„æ¸²æŸ“PBRä¸­ï¼Œä»¥åä½œçš„æ–¹å¼æ•è·å¤æ‚çš„é¢éƒ¨å‡ ä½•å’Œå¤–è§‚çº¿ç´¢ã€‚å…·ä½“æ¥è¯´ï¼Œ<strong>æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªè¿‘ä¼¼çš„BRDFç§¯åˆ†å’Œä¸€ä¸ªç®€å•è€Œæ–°çš„ä½ç§©å…ˆéªŒï¼Œæœ‰æ•ˆåœ°é™ä½äº†æ¨¡ç³Šæ€§ï¼Œæé«˜äº†é¢éƒ¨BRDFçš„æ€§èƒ½</strong>ã€‚å¤§é‡çš„å®éªŒè¯æ˜äº†NeuFaceåœ¨äººè„¸æ¸²æŸ“æ–¹é¢çš„ä¼˜åŠ¿ï¼Œä»¥åŠå¯¹å¸¸è§å¯¹è±¡çš„è‰¯å¥½æ³›åŒ–èƒ½åŠ›ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong>Face Rendering</strong>é—®é¢˜<br>æ ¹æ®æ‘„å½±æµ‹é‡å­¦ï¼Œåœ¨è¿™ä¸ªé—®é¢˜ä¸Šçš„å¼€åˆ›æ€§ç ”ç©¶é€šå¸¸åˆ©ç”¨<strong>å¤æ‚çš„ä¸»åŠ¨ç…§æ˜è®¾ç½®</strong>ï¼Œä¾‹å¦‚:LightStage[9]ç­‰ï¼Œä»ä¸ªäººçš„å¤šå¼ ç…§ç‰‡ä¸­æ„å»º3Däººè„¸æ¨¡å‹ï¼Œå…¶ä¸­å‡†ç¡®çš„å½¢çŠ¶å±æ€§å’Œé«˜è´¨é‡çš„æ¼«åå°„å’Œé•œé¢åå°„å±æ€§é€šå¸¸è¢«è®¤ä¸ºæ˜¯å…¶æˆåŠŸçš„å‰æã€‚éœ€è¦ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„å·¥ä½œæµç¨‹ï¼Œé€šå¸¸æ¶‰åŠç›¸æœºæ ¡å‡†ã€åŠ¨æ€æ•°æ®é‡‡é›†ã€å¤šè§†è§’ç«‹ä½“ã€ææ–™ä¼°è®¡å’Œçº¹ç†å‚æ•°åŒ–ç­‰ä¸€ç³»åˆ—é˜¶æ®µ[44]ã€‚è™½ç„¶æœ€ç»ˆå¯ä»¥è·å¾—ä»¤äººä¿¡æœçš„3Däººè„¸æ¨¡å‹ï¼Œ<strong>ä½†è¿™ç§è¾“å‡ºåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå·¥ç¨‹å¸ˆå’Œç¾å·¥çš„ä¸“ä¸šçŸ¥è¯†ï¼Œå› ä¸ºå¤šæ­¥éª¤çš„è¿‡ç¨‹ä¸å¯é¿å…åœ°ä¼šå¸¦æ¥ä¸åŒçš„ä¼˜åŒ–ç›®æ ‡</strong>ã€‚<br>æœ€è¿‘ï¼Œ<strong>3Dç¥ç»æ¸²æŸ“</strong>æä¾›äº†ä¸€ç§ç«¯åˆ°ç«¯æ›¿ä»£æ–¹æ¡ˆï¼Œåœ¨ä»ç°å®ä¸–ç•Œå›¾åƒä¸­æ¢å¤åœºæ™¯å±æ€§æ–¹é¢è¡¨ç°å‡ºäº†å¾ˆå¥½çš„æ€§èƒ½ï¼Œä¾‹å¦‚è§†å›¾ç›¸å…³çš„äº®åº¦[27,29,37,39,49]å’Œå‡ ä½•å½¢çŠ¶[34,50,51,56,57]ã€‚è¿™ä¸»è¦å½’åŠŸäºå¯å­¦ä¹ çš„3Dè¡¨ç¤ºå’Œå¯å¾®åˆ†çš„å›¾åƒå½¢æˆè¿‡ç¨‹çš„è§£å¼€ï¼Œæ‘†è„±äº†ç¹ççš„æ‘„å½±æµ‹é‡ç®¡é“ã€‚<strong>ç„¶è€Œï¼Œåƒç»å…¸çš„å‡½æ•°æ‹Ÿåˆä¸€æ ·ï¼Œåå‘æ¸²æŸ“ä»æ ¹æœ¬ä¸Šæ˜¯ä¸å—çº¦æŸçš„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´åº•å±‚3Dè¡¨ç¤ºçš„æ¡ä»¶æ‹Ÿåˆä¸è‰¯ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤æ‚çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼Œå…·æœ‰è§†å›¾ä¾èµ–é«˜å…‰çš„éå…°ä¼¯æ›²é¢</strong>ã€‚éšç€è®¡ç®—æœºå›¾å½¢å­¦ä¸å­¦ä¹ æŠ€æœ¯ç›¸ç»“åˆçš„è¶‹åŠ¿ï¼Œä¸€äº›å°è¯•åˆ©ç”¨ç‰©ç†åŠ¨æœºçš„å½’çº³åå·®ï¼Œå¹¶æå‡ºäº†åŸºäºç‰©ç†çš„æ¸²æŸ“(PBR)[15,32,49,58]ï¼Œå…¶ä¸­åŒå‘åå°„åˆ†å¸ƒå‡½æ•°(brdf)è¢«å¹¿æ³›é‡‡ç”¨ã€‚é€šè¿‡æ˜ç¡®åœ°æ¨¡æ‹Ÿç¯å¢ƒå…‰ä¸åœºæ™¯çš„ç›¸äº’ä½œç”¨ï¼Œå®ƒä»¬ä¿ƒè¿›äº†ç½‘ç»œä¼˜åŒ–å¹¶æä¾›äº†å¯è§‚çš„æ”¶ç›Šã€‚<strong>ä¸å¹¸çš„æ˜¯ï¼Œè¢«åˆ©ç”¨çš„ç‰©ç†å…ˆéªŒè¦ä¹ˆæ˜¯å¯å‘å¼çš„ï¼Œè¦ä¹ˆæ˜¯åˆ†ææ€§çš„</strong>[8,21,46]ï¼Œ<strong>ä»…é™äºä¸€å°éƒ¨åˆ†ç°å®ä¸–ç•Œçš„ææ–™ï¼Œä¾‹å¦‚é‡‘å±ï¼Œæ— æ³•æè¿°äººè„¸</strong>ã€‚<br>å¯¹äºé€¼çœŸçš„<strong>äººè„¸æ¸²æŸ“</strong>ï¼Œ<strong>æœ€æ ¹æœ¬çš„é—®é¢˜åœ¨äºå‡†ç¡®å»ºæ¨¡å¤šå±‚é¢éƒ¨çš®è‚¤çš„å…‰å­¦ç‰¹æ€§</strong>[22]ã€‚ç‰¹åˆ«æ˜¯ï¼Œåˆ†å¸ƒä¸å‡çš„ç»†å°ºåº¦æ²¹å±‚å’Œè¡¨çš®ä¸è§„åˆ™åœ°åå°„å…¥å°„å…‰ï¼Œå¯¼è‡´å¤æ‚çš„è§†ä¾èµ–å’Œç©ºé—´å˜åŒ–çš„é«˜å…‰ã€‚è¿™ç§ç‰¹å¾å’Œé¢éƒ¨è¡¨é¢çš„ä½çº¹ç†æ€§è´¨å¼ºçƒˆåœ°æ”¾å¤§äº†å½¢çŠ¶-å¤–è§‚çš„æ¨¡ç³Šæ€§ã€‚æ­¤å¤–ï¼ŒçœŸçš®å±‚å’Œå…¶ä»–çš®è‚¤å±‚ä¹‹é—´çš„è¡¨çš®ä¸‹æ•£å°„ä¹Ÿä½¿è¿™ä¸€é—®é¢˜æ›´åŠ å¤æ‚ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬éµå¾ªäº†PBRèŒƒå¼åœ¨å­¦ä¹ 3Dè¡¨ç¤ºæ–¹é¢çš„æ½œåŠ›ï¼Œå¹¶è¿ˆå‡ºäº†é€¼çœŸçš„3Dç¥ç»é¢éƒ¨ç»˜åˆ¶çš„ç¬¬ä¸€æ­¥ï¼Œä¸»è¦é’ˆå¯¹å¤æ‚çš„çš®è‚¤åå°„å»ºæ¨¡ã€‚æˆ‘ä»¬çš„æ–¹æ³•ï¼Œå³NeuFaceï¼Œèƒ½å¤Ÿä»å¤šè§†å›¾å›¾åƒä¸­æ¢å¤å¿ å®çš„é¢éƒ¨åå°„ç‡å’Œå‡ ä½•å½¢çŠ¶ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªPBRæ¡†æ¶æ¥å­¦ä¹ ç¥ç»BRDFsæ¥æè¿°é¢éƒ¨çš®è‚¤ï¼Œå®ƒæ¨¡æ‹Ÿäº†ç‰©ç†æ­£ç¡®çš„å…‰ä¼ è¾“ï¼Œå…·æœ‰æ›´é«˜çš„è¡¨ç¤ºèƒ½åŠ›ã€‚é€šè¿‡ä½¿ç”¨ä¸€ç§åŸºäºå¯å¾®åˆ†ç¬¦å·è·ç¦»å‡½æ•°(SDF)çš„è¡¨ç¤ºæ–¹æ³•ï¼Œå³ImFace[63]ä½œä¸ºå½¢çŠ¶å…ˆéªŒï¼Œ<strong>å¯ä»¥åœ¨åæ¸²æŸ“ä¸­åŒæ­¥ä¼˜åŒ–é¢éƒ¨å¤–è§‚å’Œå‡ ä½•åœº</strong>ã€‚<br>ä¸åˆ†æå‹BRDFsç›¸æ¯”ï¼Œç¥ç»å‹BRDFså¯ä»¥æ›´ä¸°å¯Œåœ°è¡¨å¾é¢éƒ¨çš®è‚¤ç­‰å¤æ‚ææ–™ã€‚å°½ç®¡æœ‰è¿™ç§ä¼˜åŠ¿ï¼Œä½†è¿™ç§è¡¨ç¤ºå¯¹è®­ç»ƒæœŸé—´çš„è®¡ç®—æˆæœ¬å’Œæ•°æ®éœ€æ±‚æå‡ºäº†æŒ‘æˆ˜ã€‚ä¸ºäº†è§£å†³è¿™äº›å›°éš¾ï¼Œå®æ—¶æ¸²æŸ“æŠ€æœ¯[1]è¢«ç”¨æ¥åˆ†ç¦»ç¥ç» BRDFs çš„åŠçƒç§¯åˆ†ï¼Œå…¶ä¸­ç‰©è´¨ç§¯åˆ†å’Œå…‰ç§¯åˆ†è¢«å•ç‹¬å­¦ä¹ ï¼Œç»•è¿‡äº†æ•°å€¼è§£æ³•æ‰€éœ€çš„å¤§é‡ Monte-Carlo é‡‡æ ·é˜¶æ®µ[35]ã€‚æ­¤å¤–ï¼Œåœ¨ç©ºé—´å˜åŒ–çš„é¢éƒ¨BRDFsä¸­å¼•å…¥äº†ä½ç§©å…ˆéªŒï¼Œæå¤§åœ°é™åˆ¶äº†è§£ç©ºé—´ï¼Œä»è€Œå‡å°‘äº†å¯¹å¤§è§„æ¨¡è®­ç»ƒè§‚æµ‹çš„éœ€æ±‚ã€‚è¿™äº›æ¨¡å‹è®¾è®¡ç¡®å®ä½¿NeuFaceèƒ½å¤Ÿåƒåœ¨çœŸå®çš„3Dç©ºé—´ä¸­ä¸€æ ·ï¼Œå‡†ç¡®è€Œç¨³å®šåœ°æè¿°å…‰ä¸é¢éƒ¨è¡¨é¢çš„ç›¸äº’ä½œç”¨ã€‚å›¾1æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829161944.png" alt="image.png"></p><p>æœ¬ç ”ç©¶çš„ä¸»è¦è´¡çŒ®åŒ…æ‹¬:<br>1)ä¸€ä¸ªå…·æœ‰è‡ªç„¶ç»“åˆçš„PBRå’Œç¥ç»BRDFè¡¨ç¤ºçš„<strong>æ–°æ¡†æ¶</strong>ï¼ŒååŒæ•è·å¤æ‚é¢éƒ¨çš®è‚¤çš„é¢éƒ¨å‡ ä½•å’Œå¤–è§‚å±æ€§ã€‚<br>2)ä¸€ç§<strong>æ–°çš„ã€ç®€å•çš„ä½ç§©å…ˆéªŒ</strong>ï¼Œæå¤§åœ°ä¿ƒè¿›äº†ç¥ç»brdfçš„å­¦ä¹ ï¼Œæé«˜äº†å¤–è§‚æ¢å¤æ€§èƒ½ã€‚<br>3)ä»¤äººå°è±¡æ·±åˆ»çš„äººè„¸æ¸²æŸ“ç»“æœä»…æ¥è‡ªå¤šè§†å›¾å›¾åƒï¼Œé€‚ç”¨äºå„ç§åº”ç”¨ï¼Œå¦‚é‡ç…§æ˜ï¼Œä»¥åŠå¯¹å¸¸è§ç‰©ä½“çš„è‰¯å¥½æ³›åŒ–èƒ½åŠ›ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>æˆ‘ä»¬å°†è®¨è®ºå…·ä½“é™äº<strong>é™æ€é¢éƒ¨å‡ ä½•å’Œå¤–è§‚æ•è·</strong>ä»¥åŠ<strong>3Dç¥ç»æ¸²æŸ“</strong>ã€‚è¯·å‚è€ƒ[10,22,45]è¿›è¡Œæ›´æ·±å…¥çš„è®¨è®ºã€‚</p><p><strong>Face Capturing</strong><br>å®ƒçš„ç›®æ ‡æ˜¯åœ¨ä»»æ„å…‰ç…§æ¡ä»¶ä¸‹æ¸²æŸ“ä¸€ä¸ªé€¼çœŸçš„3Däººè„¸ã€‚</p><ul><li>ç°æœ‰çš„æ–¹æ³•é€šå¸¸åˆ©ç”¨æ‘„å½±æµ‹é‡æŠ€æœ¯æ¥ä¼°è®¡é¢éƒ¨å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ï¼Œéœ€è¦å¤§é‡çš„äººå·¥å·¥ä½œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬é€šå¸¸åˆ†è§£é—®é¢˜ï¼Œå…¶ä¸­é¢éƒ¨å‡ ä½•å½¢çŠ¶æ˜¯é€šè¿‡å¤æ‚çš„å¤šè§†å›¾ç«‹ä½“è¿‡ç¨‹é¢„å…ˆæ•è·çš„[3,4]ã€‚<strong>ç„¶è€Œï¼Œç”±äºå…‰ä¸çš®è‚¤ä¹‹é—´å¤æ‚çš„ç›¸äº’ä½œç”¨ï¼Œå…·æœ‰åå°„ç‡çš„é¢éƒ¨å¤–è§‚ä»ç„¶éš¾ä»¥è·å¾—</strong>ã€‚</li><li>æœ€åˆçš„å°è¯•[9,17,53]é€šè¿‡å¯†é›†åœ°æ•è·æ¯åƒç´ çš„é¢éƒ¨åå°„ç‡æ¥è§£å†³è¿™ä¸€æŒ‘æˆ˜ï¼Œ<strong>è¿™éœ€è¦å¤§é‡çš„æ•°æ®é‡‡é›†å’Œä¸“é—¨çš„è®¾å¤‡</strong>ã€‚éšåï¼Œæ¢¯åº¦[12,20,26]æˆ–åå…‰[12,13,26,40]è¢«æ¢ç´¢ä»¥å‡å°‘è®°å¿†æˆæœ¬ï¼Œ<strong>å…¶ä¸­å¤§éƒ¨åˆ†ç²¾åŠ›éƒ½èŠ±åœ¨brdfçš„è‰¯å¥½æ¡ä»¶æ‹Ÿåˆä¸Š</strong>ã€‚</li><li>ä¸ä¸Šè¿°ç ”ç©¶ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯çœŸæ­£çš„ç«¯åˆ°ç«¯ï¼Œ<strong>åªåœ¨å•ä¸€çš„ã€æœªçŸ¥çš„ç…§æ˜æ¡ä»¶ä¸‹è§‚å¯Ÿé¢éƒ¨çš®è‚¤ï¼Œæ²¡æœ‰ç¹ççš„æ•æ‰è®¾ç½®</strong>ã€‚</li></ul><p><strong>3D Neural Rendering</strong></p><ul><li>è¯¥é¢†åŸŸçš„æœ€æ–°è¿›å±•ï¼Œå¦‚NeRF[30]ï¼Œå·²ç»å½»åº•æ”¹å˜äº†å¤šè§†å›¾é‡å»ºçš„èŒƒå¼ã€‚ä½¿ç”¨å¯å­¦ä¹ çš„ä½“ç§¯è¡¨ç¤º(ä¾‹å¦‚ï¼Œç¥ç»åœº[30,57]ï¼Œç½‘æ ¼[11]å’Œæ··åˆ[31])å’Œè§£æå¯å¾®å‰å‘æ˜ å°„ï¼Œä»…ä»2Då›¾åƒå°±å¯ä»¥ç›´æ¥æ¨æ–­å‡ºåœºæ™¯å±æ€§ã€‚è™½ç„¶åœ¨æ–°çš„è§†å›¾åˆæˆ[27,29,37,39,49]æˆ–å‡ ä½•é‡å»º[34,50,51,56,57]æ–¹é¢å–å¾—äº†ä»¤äººå°è±¡æ·±åˆ»çš„æˆæœï¼Œ<strong>ä½†ç ”ç©¶ä»ç„¶å­˜åœ¨2D-3Dæ¨¡ç³Šæ€§ï¼Œå¯¼è‡´éš¾ä»¥åŒæ—¶å»ºç«‹çœŸå®çš„å¤–è§‚å’Œç²¾ç¡®çš„å‡ ä½•å½¢çŠ¶</strong>[59]ã€‚<strong>ç”±äºé¢éƒ¨çš®è‚¤çš„åå°„ç‰¹æ€§æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªé—®é¢˜æ›´åŠ çªå‡º</strong>ã€‚</li><li>Ref-NeRF[49]å‘ç²¾ç¡®è¡¨é¢æ³•çº¿å’Œå…‰æ»‘å¤–è§‚çš„ç›®æ ‡è¿ˆè¿›äº†ä¸€æ­¥ï¼Œè¿™æ˜¯é€šè¿‡ç”¨åå°„æ–¹å‘é‡æ–°å‚æ•°åŒ–ç»å…¸NeRFä¸­çš„è¾å°„æ¥å®ç°çš„ã€‚å®ƒéªŒè¯äº†ç‰©ç†å®šå¾‹åœ¨æ¨¡ç³Šä¸­çš„æ„ä¹‰ã€‚[15,23,32,43,58]è¿›ä¸€æ­¥é‡‡ç”¨PBRç®¡é“ï¼ŒåŒæ—¶æä¾›æ›´é«˜çš„è´¨é‡å’Œæ”¯æŒé‡ç…§æ˜ã€‚<strong>ç„¶è€Œï¼Œä½¿ç”¨æˆ–å‡è®¾çš„ç®€åŒ–ææ–™æ¨¡å‹æ— æ³•å¤„ç†çš®è‚¤ç­‰å¤æ‚ææ–™</strong>ã€‚</li><li>NeRFactorç­‰[25,61,62]ä»æµ‹é‡æ•°æ®è®­ç»ƒç¥ç»ææ–™æ¨¡å‹ã€‚<strong>ä½†æ˜¯è·å–è¿™æ ·çš„æ•°æ®å¯¹äºæ´»çš„ç”Ÿç‰©ç»„ç»‡æ¥è¯´æ˜¯ä¸åˆ‡å®é™…çš„</strong></li></ul><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>æˆ‘ä»¬çš„æ–¹æ³•ç›´æ¥æ„å»ºç¥ç»çš®è‚¤brdf</strong>ï¼Œé‡å»ºç²¾ç¡®çš„å‡ ä½•çº¿ç´¢ï¼Œè€Œ<strong>ä¸éœ€è¦ä»»ä½•å¤–éƒ¨æ•°æ®</strong>ã€‚</p><h1 id="Preliminaries"><a href="#Preliminaries" class="headerlink" title="Preliminaries"></a>Preliminaries</h1><p>æˆ‘ä»¬é‡‡ç”¨PBR[19]æ¥æ˜¾å¼é¢„æµ‹å¤æ‚çš„skin reflectancesï¼Œå…¶ä¸­è¡¨é¢ä½ç½®xå¤„çš„è¾å°„åº¦$L_{o}$æ²¿æ–¹å‘$\omega_{o}$å¯ä»¥è¡¨ç¤ºä¸º: $L_o(x,\omega_o)=\int_{S^2}L_i(\omega_i)f(x,\omega_i,\omega_o)(\omega_i\cdot\mathbf{n})^+\mathrm{d}\omega_i,$ Eq.1</p><p>å…¶ä¸­ï¼Œ$L_{o}$çš„è®¡ç®—æ–¹æ³•æ˜¯å¯¹ä»$\omega_{i}$æ–¹å‘å…¥å°„äº®åº¦$L_{i}$ã€çš®è‚¤BRDF få’Œè¡¨é¢æ³•å‘$\mathbf{n}$ä¸$\omega_{i}$çƒé¢$S^2$ä¹‹é—´çš„åŠä½™å¼¦å‡½æ•°$(\omega_i\cdot\mathbf{n})^+$çš„ä¹˜ç§¯è¿›è¡Œç§¯åˆ†ã€‚<strong>å‡è®¾æ— é˜´å½±çš„å•å¼¹ç›´æ¥ç…§æ˜</strong>ï¼Œå› æ­¤$L_{i}$ä¸xæ— å…³ã€‚æ­¤å¤–ï¼Œç”±äº<strong>å‡è®¾åƒç´ çº§çš„æ¬¡è¡¨é¢æ•£å°„</strong>ï¼Œ$L_{o}$åªè€ƒè™‘å•ä¸ªå°åŒºåŸŸã€‚</p><p>çƒé¢è°æ³¢(SH)[6]å’Œçƒé¢é«˜æ–¯(SG)[58]é€šå¸¸è¢«ç”¨ä½œå…¥å°„ç…§æ˜çš„æœ‰æ•ˆè¡¨ç¤ºã€‚<strong>æœ¬ç ”ç©¶é€‰æ‹©SHæ˜¯å› ä¸ºå®ƒçš„å®Œå¤‡æ€§å’Œç´§å‡‘æ€§</strong>ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒå¯ä»¥éšå¼åœ°ä¿ƒè¿›ä½é˜¶çš„é•œé¢åˆ†ç¦»[47]ã€‚å› æ­¤ï¼ŒæœªçŸ¥$L_{i}$å¯ä»¥ç”¨å‰åé˜¶çš„çƒå½¢åŸºå‡½æ•°$Y_{\ell m}$ä¹˜ä»¥ç›¸åº”çš„å¯å­¦ä¹ ç³»æ•°$c_{\ell m}$æ¥è¿‘ä¼¼:$L_i(\omega_i)\approx\sum_{\ell=0}^{10}\sum_{m=-\ell}^{\ell}c_{\ell m}Y_{\ell m}(\omega_i),$ Eq.2</p><p>fè¢«å»ºæ¨¡ä¸ºä¸¤ä¸ªç»„ä»¶ï¼Œç±»ä¼¼äºç°æœ‰æŠ€æœ¯<br>$f\left(x,\omega_i,\omega_o\right)=\frac{\mathbf{a}(x)}\pi+\varrho f_\mathrm{s}\left(x,\omega_i,\omega_o\right),$ Eq.3</p><p>å…¶ä¸­å·¦é¡¹æ˜¯æ¼«åå°„åˆ†é‡(Lambertian)ï¼Œä»…ç”±åç…§ç‡a(x)å†³å®šï¼Œå‰©ä½™é¡¹ä¸»è¦è´Ÿè´£å…‰æ»‘åå°„ï¼Œç”±$f_\mathrm{s}\left(x,\omega_i,\omega_o\right)$è¡¨ç¤ºï¼Œå…¶æ¯”ä¾‹å› å­$\varrho$è¡¨ç¤ºé•œé¢å¼ºåº¦ã€‚å› æ­¤ï¼Œæ¸²æŸ“æ–¹ç¨‹(Eq.(1))å¯åˆ†ä¸ºä¸¤é¡¹:<br>Eq.4:<br>$L_o(x,\omega_o)=\underbrace{\frac{\mathbf{a}(x)}{\pi}\int_{S^{2}}L_i(\omega_i)(\omega_i\cdot\mathbf{n})^{+}\mathrm{d}\omega_i}_{\text{diffuse term }L_\mathrm{d}} +\underbrace{\varrho\int_{S^2}L_i(\omega_i)f_\mathrm{s}(x,\omega_i,\omega_o)(\omega_i\cdot\mathbf{n})^+\mathrm{d}\omega_i}_{residual (specular) term L_{8}}$</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æˆ‘ä»¬å°†ç¥ç»brdfæ•´åˆåˆ°PBRä¸­ï¼Œä»¥<strong>ååŒå­¦ä¹ å¤æ‚çš„å¤–è§‚å±æ€§(å³æ¼«å°„åç…§ç‡å’Œé•œé¢åç…§ç‡)å’Œå¤æ‚çš„å‡ ä½•å±æ€§</strong>ã€‚æå‡ºçš„NeuFaceä»å¤šè§†å›¾å›¾åƒä¸­è¿›è¡Œ3Däººè„¸æ•è·ï¼Œ<strong>åªéœ€è¦é¢å¤–çš„ç›¸æœºå§¿åŠ¿</strong>ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œå®ƒåˆ©ç”¨Spatial MLPå’ŒIntegrated Basis MLPæ¥å­¦ä¹ çš®è‚¤BRDFsï¼Œå¹¶é€šè¿‡å°†å…¶æ˜ç¡®åˆ†è§£ä¸ºæ¼«åå°„åç…§ç‡ã€å…‰ç§¯åˆ†å’ŒBRDFsç§¯åˆ†æ¥æ¨¡æ‹Ÿç‰©ç†æ­£ç¡®çš„å…‰ä¼ è¾“ã€‚é¢éƒ¨å¤–è§‚å»ºæ¨¡å¯ä»¥ç”¨Eq.(4)è¡¨ç¤ºï¼Œæˆ‘ä»¬åŠªåŠ›è§£å†³å­¦ä¹ è¿‡ç¨‹ä¸­è®¡ç®—æˆæœ¬é«˜å’Œæ•°æ®éœ€æ±‚å¤§å¸¦æ¥çš„æŒ‘æˆ˜ã€‚ä¸ºäº†è·å¾—æ›´å‡†ç¡®çš„ä¼°è®¡ï¼ŒNeuFaceè¿›ä¸€æ­¥åˆ©ç”¨åŸºäºsdfçš„è¡¨ç¤ºï¼Œå³imface[63]ï¼Œä½œä¸ºå‰å‘æ˜ å°„çš„é¢éƒ¨å‡ ä½•å½¢çŠ¶ã€‚<strong>é€šè¿‡ç«¯åˆ°ç«¯çš„é€†æ¸²æŸ“ï¼Œå°†äººè„¸å¤–è§‚å’Œå‡ ä½•åœºè”åˆæ¢å¤</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829163918.png" alt="image.png"></p><h2 id="Specular-Modeling"><a href="#Specular-Modeling" class="headerlink" title="Specular Modeling"></a>Specular Modeling</h2><p>å¯¹äºå¸¦æœ‰BRDF $f_\mathbf{s}(x,\omega_i,\omega_o),$çš„é•œé¢é¡¹$L_{\mathrm{s}}$ï¼Œç”±äº$\omega_{o}$çš„è§†åŸŸä¾èµ–ç‰¹æ€§ï¼Œéš¾ä»¥æ±‚è§£ã€‚åœ¨å…ˆå‰å¤„ç†éé¢éƒ¨ç¥ç»æ¸²æŸ“çš„ç ”ç©¶ä¸­ï¼Œåˆ†æBRDFsï¼Œä¾‹å¦‚microfacetæ¨¡å‹[32,42,58]ï¼Œå·²è¢«ç”¨äºè¿‘ä¼¼ç§¯åˆ†ã€‚<strong>ç„¶è€Œï¼Œè¿™äº›æ˜¾å¼æ¨¡å‹åªèƒ½æ¢å¤ä¸€å°éƒ¨åˆ†ææ–™ï¼Œè€Œä¸åŒ…æ‹¬å…·æœ‰ç›¸å½“ç‹¬ç‰¹å±æ€§çš„é¢éƒ¨çš®è‚¤</strong>[33]ã€‚ä¸ºäº†è·å¾—æ›´å¼ºçš„è¡¨ç¤ºèƒ½åŠ›ï¼ŒNeRFactor[61]é‡‡ç”¨äº†ä»çœŸå®ä¸–ç•Œæ•è·çš„MERLæ•°æ®åº“[28]ä¸­å­¦ä¹ åˆ°çš„æ•°æ®é©±åŠ¨BRDFsï¼Œ<strong>ä½†é¢éƒ¨çš®è‚¤ç­‰å…·æœ‰ç©ºé—´å˜åŒ–BRDFsçš„æ´»ç»„ç»‡åœ¨ä½“å†…[16]æéš¾æµ‹é‡</strong>ã€‚æ­¤å¤–ï¼Œåœ¨NeRFactorä¸­å¿…é¡»æ‰§è¡Œå¤§é‡è’™ç‰¹å¡ç½—é‡‡æ ·æ¥æ±‚è§£æ¸²æŸ“æ–¹ç¨‹ï¼Œè¿™åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹æ˜¯ä¸å®ç”¨çš„ï¼Œå› ä¸ºé¢éƒ¨å‡ ä½•å½¢çŠ¶æœ€åˆæ˜¯æœªçŸ¥çš„ã€‚<br>åœ¨è¿™é¡¹ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§<strong>ä¸éœ€è¦å¤–éƒ¨æ•°æ®å’Œæ•°å€¼ç§¯åˆ†çš„æ–¹æ³•</strong>æ¥æ¸²æŸ“å¤æ‚çš„é¢éƒ¨é«˜å…‰ã€‚ç‰¹åˆ«åœ°ï¼Œå—åˆ°å®æ—¶æ¸²æŸ“[1]ä¸­çš„åˆ†è£‚ç§¯åˆ†è¿‘ä¼¼çš„å¯å‘ï¼Œå¯¹é•œé¢è¿›è¡Œäº†åˆ†è§£ï¼Œå…¶ä¸­$L_{\mathrm{s}}$å¯ä»¥è¿‘ä¼¼ä¸º: $L_{\mathrm{s}}\approx\varrho\int_{\mathrm{s}^{2}}f_{\mathrm{s}}\left(x,\omega_{i},\omega_{o}\right)(\omega_{i}\cdotp\mathrm{n})^{+}\mathrm{d}\omega_{i}\int_{\mathrm{s}^{2}}D(h)L_{i}\left(\omega_{i}\right)\mathrm{d}\omega_{i}$ Eq.5</p><p>å…¶ä¸­D(h)æ˜¯ä¸€ä¸ªåˆ†å¸ƒå‡½æ•°ï¼Œè¡¨ç¤ºå…‰åœ¨åŠå‘é‡$h=\frac{\omega_i+\omega_o}{|\omega_i+\omega_o|_2}$å¤„çš„åå°„ã€‚æ•´ä¸ªæ–¹ç¨‹ä¸¤ä¾§åˆ†åˆ«æ˜¯ææ–™å’Œå…‰çš„ç§¯åˆ†é¡¹ï¼Œå®ƒä»¬åœ¨åé¢åˆ†åˆ«æ±‚è§£ã€‚</p><p><strong>Material Integral</strong>.<br>Eq.(5)ä¸­çš„ç¬¬ä¸€ä¸ªåˆ†è£‚ç§¯åˆ†é¡¹ä»…ä¸ææ–™å±æ€§æœ‰å…³ï¼Œåœ¨æˆ‘ä»¬çš„æ–¹æ³•ä¸­ï¼Œææ–™å±æ€§ç”±å¯å­¦ä¹ ç½‘ç»œå‚æ•°åŒ–ï¼Œä»¥è·å¾—æ›´é«˜çš„é¢éƒ¨çš®è‚¤è¡¨ç¤ºèƒ½åŠ›ã€‚è€ƒè™‘åˆ°äºŒç»´è§‚æµ‹åªèƒ½çº¦æŸç§¯åˆ†å€¼ï¼Œè€Œä¸æ˜¯åƒ[61,62]é‚£æ ·å»ºæ¨¡$f_{\mathrm{s}}(\tilde{x,\omega_{i}},\omega_{o})$ï¼Œæˆ‘ä»¬ç›´æ¥å°†æ•´ä¸ªç§¯åˆ†è¡¨ç¤ºä¸ºæ›´å¹³æ»‘çš„å‡½æ•°F: $\int_{\mathrm{s}^{2}}f_{\mathrm{s}}\left(x,\omega_{i},\omega_{o}\right)\left(\omega_{i}\cdot\mathbf{n}\right)^{+}\mathrm{d}\omega_{i}=F(x,\omega_{o},\mathbf{n}).$ Eq.6</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºè¿™æ ·ä¸€ä¸ªç©ºé—´å˜åŒ–çš„9å˜é‡å‡½æ•°ï¼Œä½¿ç”¨MLPå®ç°é²æ£’æ‹Ÿåˆéœ€è¦å¤§é‡çš„çœŸå®æ ·æœ¬ï¼Œè¿™åœ¨å®è·µä¸­æ˜¯ä¸å¯ç”¨çš„ã€‚åŸºäºä¹‹å‰å¯¹äººè„¸å¤–è§‚æµ‹é‡çš„ç ”ç©¶[13,53]ï¼Œ<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå…³é”®å‡è®¾ï¼Œå³ä¸ªä½“çš„æ‰€æœ‰é¢éƒ¨è¡¨é¢ä½ç½®éƒ½å…·æœ‰ç›¸ä¼¼çš„é•œé¢ç»“æ„ï¼Œå› æ­¤ç©ºé—´å˜åŒ–çš„ç‰¹æ€§å¯ä»¥ç”±å°‘æ•°(ä½ç§©)å¯å­¦ä¹ BRDFsçš„ä¸åŒçº¿æ€§ç»„åˆè¡¨ç¤º</strong>:<br>$f_\mathrm{s}\left(x,\omega_i,\omega_o\right)\approx\sum_{j=1}^{k}c_j(x)b_j(\omega_i,\omega_o),$ Eq.7<br>å…¶ä¸­$\{b_j(\omega_i,\omega_o)\}_{j=1}^k$è¡¨ç¤º<strong>kä¸ªå…¨å±€ä¸ç©ºé—´æ— å…³çš„BRDFåŸº</strong>ï¼Œ$\mathbf{c}(x)=[c_1(x),c_2(x),â€¦,c_k(x)]^T$è¡¨ç¤ºæ¯ä¸ªè¡¨é¢ä½ç½®xå¯¹åº”çš„çº¿æ€§ç³»æ•°ã€‚</p><p>å› æ­¤ï¼Œææ–™ç§¯åˆ†å¯è¡¨ç¤ºä¸º:<br>$\int_{\mathrm{s}^2}f_\mathrm{s}\left(x,\omega_i,\omega_o\right)(\omega_i\cdot\mathbf{n})^+\mathrm{d}\omega_i=\mathbf{c}(x)\cdot\mathbf{B}(\omega_o,\mathbf{n}),$ Eq.8<br>å¼ä¸­$\mathbf{B}(\omega_o,\mathbf{n})=[B_1,B_2,â€¦,B_k]^T$è¡¨ç¤ºkç§¯åˆ†BRDFåŸº$b_{j}$ä¹˜ä»¥åŠä½™å¼¦å‡½æ•°$(\omega_{i}\cdot\mathbf{n})^{+}$:<br>$B_j(\omega_o,\mathbf{n})=\int_{\text{s}^2}b_j\left(\omega_i,\omega_o\right)(\omega_i\cdot\mathbf{n})^+\mathrm{d}\omega_i,j=1,2,â€¦,k.$ Eq.9</p><p>æˆ‘ä»¬åˆ©ç”¨ä¸€ä¸ªMLPï¼Œå³Integrated Basis MLPï¼Œæ¥æ‹Ÿåˆ$\mathbf{B}(\omega_o,\mathbf{n})$ã€‚$\omega_{o}\cdot\mathbf{n}$ä¹Ÿè¢«è¾“å…¥å…¶ä¸­ï¼Œä»¥è€ƒè™‘è²æ¶…è€³æ•ˆåº”ã€‚åŒæ—¶ï¼Œä»¥xä¸ºè¾“å…¥çš„Spatial MLPé¢„æµ‹ç³»æ•°å‘é‡$\mathbf{c}(x)$ã€‚è¯·æ³¨æ„ï¼Œé¢éƒ¨çš®è‚¤æ˜¯ä»‹ç”µçš„ï¼Œä¸èƒ½å¯¹é«˜å…‰ç€è‰²ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨å•ä¸ªé€šé“$B_{j}$æ¥è¡¨ç¤ºå•è‰²é¢éƒ¨brdf ã€‚<br>å¦‚å›¾ 2 (c) æ‰€ç¤ºï¼Œä½ç§©å…ˆéªŒå…¨å±€é™åˆ¶äº†æ‰€æœ‰é¢éƒ¨é•œé¢çš„è§£ç©ºé—´ï¼Œè€Œä¸å¼ºåˆ¶ä»»ä½•ç©ºé—´å¹³æ»‘æ€§[55]æˆ–é‡‡æ ·ä½ç½®èšç±»[32]ã€‚æœ‰äº†è¿™æ ·çš„å…ˆéªŒï¼Œææ–™ç§¯åˆ†é¡¹å°±æ›´å®¹æ˜“æ‹Ÿåˆå’Œæ’å€¼ï¼Œåªéœ€é€‚é‡çš„è®­ç»ƒæ•°æ®å°±èƒ½äº§ç”Ÿä»¤äººå°è±¡æ·±åˆ»çš„ç»“æœã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829163918.png" alt="image.png"></p><p><strong>Light Integral</strong>.<br>å¯¹äºå…‰æ»‘è¡¨é¢ï¼Œåå°„èƒ½é‡ä¸»è¦é›†ä¸­åœ¨åå°„æ–¹å‘é™„è¿‘ï¼Œç”¨$\omega_{r}$è¡¨ç¤ºï¼Œå¦‚å›¾2 (b)æ‰€ç¤ºã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†$D(h)$å»ºæ¨¡ä¸º<strong>ä¸‰ç»´å½’ä¸€åŒ–çƒé¢é«˜æ–¯åˆ†å¸ƒ</strong>(vMF)ï¼Œä»¥$\omega_{r}$ä¸ºä¸­å¿ƒï¼Œæµ“åº¦å‚æ•°Îºè¡¨ç¤ºäº®åº¦: $D(h)\approx\mathrm{vMF}(\omega_i;\omega_r,\kappa),$<br>Îºæ˜¯ç”±Spatial MLPé¢„æµ‹çš„ï¼Œè¾ƒå¤§çš„å€¼è¡¨æ˜æŒ‡å‘$\omega_{r}$çš„BRDFæ³¢ç“£æ›´å°–é”ï¼Œä½¿é¢éƒ¨çš®è‚¤çœ‹èµ·æ¥æ›´æœ‰å…‰æ³½ã€‚æ­£å¦‚æˆ‘ä»¬è¡¥å……ææ–™ä¸­çš„è¯æ˜æ‰€ç¤ºï¼Œæ–¹ç¨‹(5)ä¸­æè¿°é•œé¢å…‰è¾“è¿çš„ç¬¬äºŒæ¬¡åˆ†è£‚ç§¯åˆ†å¯ä»¥è¿‘ä¼¼ä¸º:<br>$\int_{\mathrm{s}^2}D(h)L_i\left(\omega_i\right)\mathrm{d}\omega_i\approx\sum_{\ell=0}\sum_{m=-\ell}^{\ell}e^{-\frac{\ell(\ell+1)}{2\kappa}}c_{\ell m}Y_{\ell m}(\omega_r).$ Eq.11</p><p>ç„¶åï¼Œç¥ç»brdf (Eq.(4))ä¸­çš„æ•´ä¸ªé•œé¢é¡¹å¯ä»¥æœ‰æ•ˆåœ°å¾®åˆ†è®¡ç®—ä¸º:<br>$L_\mathrm{s}\approx\varrho\left(\mathbf{c}(x)\cdot\mathbf{B}(\omega_o,\mathbf{n})\right)\sum_{\ell=0}\sum_{m=-\ell}^{\ell}e^{-\frac{\ell(\ell+1)}{2\kappa}}c_{\ell m}Y_{\ell m}(\omega_r).$ Eq.12</p><h2 id="Diffuse-Modeling"><a href="#Diffuse-Modeling" class="headerlink" title="Diffuse Modeling"></a>Diffuse Modeling</h2><p>ç”±å¼(2)å¯çŸ¥ï¼Œè¡¨é¢ä½ç½®xå¤„çš„æ¼«å°„äº®åº¦$L_{\mathrm{d}}$å¯æ”¹å†™ä¸º:<br>$L_{\mathrm{d}}(x)=\frac{\mathbf{a}(x)}{\pi}\sum_{\ell=0}\sum_{m=-\ell}^{\ell}c_{\ell m}\int_{\mathrm{s}^{2}}Y_{\ell m}\left(\omega_{i}\right)\left(\omega_{i}\cdot\mathbf{n}\right)^{+}\mathrm{d}\omega_{i}.$Eq.13</p><p>æ ¹æ®Funk-Heckeå®šç†[2]ï¼Œ$(\omega_{i}\cdot\mathbf{n})^{+}$ä¸çƒæ¬¡è°æ³¢$Y_{\ell m}$çš„å·ç§¯å¯è§£æè®¡ç®—ä¸º:<br>$\int_{\mathrm{s}^{2}}Y_{\ell m}\left(\omega_{i}\right)\left(\omega_{i}\cdot\mathrm{n}\right)^{+}\mathrm{d}\omega_{i}\approx\Lambda_{\ell m}Y_{\ell m}(\mathrm{n}),$ Eq.14</p><p>$\Lambda_{\ell m}=\begin{cases}\frac{2\pi}{3},&amp;\mathrm{if~\ell=1,}\\\frac{(-1)^{\ell/2+1}\pi}{2^{\ell-1}(\ell-1)(\ell+2)}\binom{\ell}{\ell/2},&amp;\mathrm{if~\ell~is~even},\\0,&amp;\mathrm{if~\ell~is~odd},\end{cases}$ Eq.15</p><p>è¯¦è§[2]ã€‚åœ¨NeuFaceä¸­ï¼Œæ¼«å°„åç…§ç‡a(x)ç”±Spatial MLPå»ºæ¨¡ã€‚å¯¹äºå¯å­¦ä¹ çš„SHç…§æ˜ç³»æ•°$c_{lm}$ï¼Œæ¼«å°„é¡¹å¯ç›´æ¥è®¡ç®—ä¸º: $L_{\mathrm{d}}(x)\approx\frac{\mathbf{a}(x)}{\pi}\sum_{\ell=0}\sum_{m=-\ell}^{\ell}\mathbf{\Lambda}_{\ell m}c_{\ell m}Y_{\ell m}\left(\mathbf{n}\right).$ Eq.16</p><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒNeuFaceçš„å¤–è§‚åˆ†é‡ç”±ä¸€ä¸ªSpatial MLP: $\begin{aligned}x\mapsto(\varrho,\mathbf{c},\kappa,\mathbf{a})\end{aligned}$ï¼Œä¸€ä¸ªIntegrated Basis MLP:$(\omega_o,\mathbf{n},\omega_o\cdot\mathbf{n})\mapsto\mathbf{B}$ï¼Œä»¥åŠå¯å­¦ä¹ çš„ç¯å¢ƒå…‰ç³»æ•°$c_{\ell m}.$ç»„æˆã€‚æœ€åå¯ä»¥é€šè¿‡Eq.(12)å’ŒEq.(16)ä¼°ç®—å‡ºRadiance $L_{o}$ã€‚</p><h2 id="Geometry-Modeling"><a href="#Geometry-Modeling" class="headerlink" title="Geometry Modeling"></a>Geometry Modeling</h2><p>ä¸ºäº†å®ç°ç«¯åˆ°ç«¯è®­ç»ƒï¼Œä¸€ä¸ªå¯å¾®çš„å‡ ä½•è¡¨ç¤ºæ˜¯å¿…ä¸å¯å°‘çš„ã€‚ä¸å¤§å¤šæ•°ç¥ç»æ¸²æŸ“å®è·µç±»ä¼¼[50,56 - 58]ï¼Œç¥ç»SDFå¯ç”¨äºéšå¼å®šä¹‰é¢éƒ¨å‡ ä½•å½¢çŠ¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ©ç”¨ImFace[63]ä½œä¸ºç›´æ¥çš„é¢éƒ¨SDFï¼Œä»¥ä¾¿äºé‡‡æ ·å’Œè®­ç»ƒã€‚ä¸ºäº†æ•è·å…ˆéªŒåˆ†å¸ƒä¹‹å¤–çš„å‡ ä½•å½¢çŠ¶ï¼Œæˆ‘ä»¬å¯¹ImFace I: $x\mapsto\mathrm{SDF}$è¿›è¡Œå¾®è°ƒï¼Œå¹¶å¼•å…¥ç¥ç»ä½ç§»åœº$\mathcal{D}(x)$æ¥çº æ­£æœ€ç»ˆç»“æœ:$\mathrm{SDF}(x)=\mathcal{I}(x)+\mathcal{D}(x).$ Eq.17<br>æ ¹æ®SDFçš„æ€§è´¨ï¼Œå¯ä»¥é€šè¿‡è‡ªæ¢¯åº¦æå–è¡¨é¢æ³•å‘n: $\mathbf{n}=\nabla\text{SDF}(x).$ã€‚</p><h2 id="Sampling-and-Rendering"><a href="#Sampling-and-Rendering" class="headerlink" title="Sampling and Rendering"></a>Sampling and Rendering</h2><p>ä¸ºäº†å¤„ç†å¤šå±‚é¢éƒ¨çš®è‚¤ï¼Œæˆ‘ä»¬åƒVolSDF[56]ä¸€æ ·å¯¹äº®åº¦å€¼è¿›è¡Œä½“ç§¯æ¸²æŸ“ã€‚å¯¹äºä»ç›¸æœºä½ç½®$\mathbf{o}\in\mathbb{R}^3$å‘$\omega_{o}$æ–¹å‘å‘å°„çš„å°„çº¿$x(t)$ï¼Œå®šä¹‰ä¸º$x(t)=\mathbf{o}+t\omega_{o},t&gt;0,$ï¼Œå¯†åº¦å‡½æ•°å®šä¹‰ä¸º$\sigma(t)=\beta^{-1}\Psi_{\beta}(-\mathrm{SDF}(x(t))).$ã€‚$\Psi_{\beta}$ä¸ºé›¶å‡å€¼æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°å’Œå­¦ä¹ åˆ°çš„å°ºåº¦å‚æ•°Î²ã€‚å› æ­¤ï¼Œæ¯æ¡å°„çº¿çš„ç»¼åˆè¾å°„åº¦ç”±ä»¥ä¸‹å…¬å¼è®¡ç®—:<br>$\mathbf{I}(\mathbf{o},\omega_o)=\int_{t_a}^{t_b}L_o(x(t),\omega_o)\sigma(t)T(t)\mathrm{d}t,$ Eq.18<br>å…¶ä¸­$T(t)=\exp(-\int_{0}^{t}\sigma(s)\mathrm{d}s)$ä¸ºé€æ˜åº¦ã€‚</p><p>ä¸ºäº†åŠ é€Ÿæ¸²æŸ“ï¼Œæˆ‘ä»¬ä¸åƒ[56]é‚£æ ·æ²¿ç€å°„çº¿å¯†é›†é‡‡æ ·ç‚¹ï¼Œè€Œæ˜¯é¦–å…ˆè¿›è¡Œç§¯æçš„çƒä½“è¿½è¸ª[24]ï¼Œå¿«é€Ÿæ‰¾åˆ°è¡¨é¢é™„è¿‘çš„ä½ç½®$t_{0}$(é˜ˆå€¼ä¸º0.05mm)ï¼Œç„¶åä»$t\in[t_a,t_b]$å‡åŒ€é‡‡æ ·32ä¸ªç‚¹ï¼Œå…¶ä¸­$\begin{aligned}t_a=t_0-0.5mm\end{aligned}$,$t_{b}=t_{0}+0.5mm.$ã€‚å¦‚å›¾3æ‰€ç¤ºï¼Œå¯¹äºæœªå‡»ä¸­è¡¨é¢çš„å…‰çº¿ï¼Œæˆ‘ä»¬ä»ImFace[63]ä¸­ç¨€ç–é‡‡æ ·ç”±å…ˆå‰å‡ ä½•å®šä¹‰çš„çƒä½“Î©å†…çš„ç‚¹ï¼Œå¹¶è®¡ç®—ç´¯ç§¯ï¼Œç»•è¿‡éœ€è¦å¤§é‡é‡‡æ ·çš„æ©è†œæŸå¤±[57]ã€‚é€šè¿‡ç»“åˆä½“å’Œè¡¨é¢æ¸²æŸ“ï¼Œå®ƒåœ¨æ¸²æŸ“è´¨é‡ã€å‡ ä½•ç²¾åº¦å’Œé‡‡æ ·æ•ˆç‡ä¹‹é—´å–å¾—äº†å¾ˆå¥½çš„å¹³è¡¡ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829190928.png" alt="image.png"><br><em>æŠ½æ ·ç­–ç•¥çš„è¯´æ˜ã€‚é‡‡ç”¨ä¾µç•¥æ€§çƒä½“è·Ÿè¸ªæ¥åŠ é€Ÿä½“ç»˜åˆ¶çš„é‡‡æ ·è¿‡ç¨‹ã€‚å¯¹äºæœªå‡»ä¸­è¡¨é¢çš„å…‰çº¿ï¼Œä½¿ç”¨ImFaceçš„å‡ ä½•å…ˆéªŒå®šä¹‰çš„çƒä½“æ¥çº¦æŸé‡‡æ ·ç©ºé—´ã€‚</em></p><p><strong>Neural Photometric Calibration</strong><br>ä¸ºäº†è‡ªåŠ¨æ ¡å‡†ç›¸æœºä¹‹é—´ä¸ä¸€è‡´çš„è‰²å½©å“åº”å’Œç™½å¹³è¡¡ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªå›¾åƒçš„çº¿æ€§æ˜ å°„çŸ©é˜µ$\mathbf{A}_n\in \mathbb{R}^{3\times3}$åº”ç”¨äºæ¸²æŸ“çš„äº®åº¦å€¼: $\mathbf{I}_n=\mathbf{A}_n\mathbf{I},$ Eq.19<br>å…¶ä¸­$\mathbf{A}_{n}$ç”±åŸºäºå¯å­¦ä¹ çš„æ¯å¹…å›¾åƒåµŒå…¥çš„è½»é‡çº§MLPé¢„æµ‹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829195532.png" alt="image.png"></p><h2 id="Loss-Functions"><a href="#Loss-Functions" class="headerlink" title="Loss Functions"></a>Loss Functions</h2><p>NeuFace é€šè¿‡å¤åˆæ‰¹è¯„å™¨è¿›è¡Œè®­ç»ƒï¼Œä»¥å­¦ä¹ å‡†ç¡®çš„å¤–è§‚å’Œå‡ ä½•å±æ€§: $\mathcal{L}=\mathcal{L}_{RGB}+\mathcal{L}_{white}+\mathcal{L}_{spec}+\mathcal{L}_{geo}.$ Eq.20<br>è®¾$P_{n}$ä¸ºç¬¬nå¼ å¤šè§†å›¾å›¾åƒ$\bar{\mathbf{I}}_n.$çš„åƒç´ ã€‚$\mathcal{L}$çš„æ¯ä¸€é¡¹æè¿°å¦‚ä¸‹ï¼Œå…¶ä¸­Î»è¡¨ç¤ºæƒè¡¡è¶…å‚æ•°ã€‚</p><ul><li>Reconstruction Loss.å®ƒç”¨äºç›‘ç£æ¸²æŸ“çš„2Däººè„¸æ˜¯å¦æ¥è¿‘çœŸå®è§‚æµ‹å€¼:<ul><li>$\mathcal{L}_{RGB}=\lambda_{1}\sum_{n}\sum_{\omega_{o}\in P_{n}}|\mathbf{I}_{n}-\bar{\mathbf{I}}_{n}|.$ Eq.21</li></ul></li><li>Light Regularization.æˆ‘ä»¬å‡è®¾æ•è·çš„ç¯å¢ƒå…‰æ¥è¿‘ç™½è‰²ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°:<ul><li>$\mathcal{L}_{white}=\lambda_{2}\sum_{n}\sum_{\omega_{o}\in P_{n}}|L_{i}-\bar{L}_{i}|,$ Eq.22</li><li>å…¶ä¸­ï¼Œ$\bar{L}_i$æ˜¯é€šè¿‡å¹³å‡RGBé€šé“æ¥è®¡ç®—çš„ã€‚</li></ul></li><li>Facial Specular Regularization.åªæœ‰ä¸€å°éƒ¨åˆ†å…¥å°„å…‰åœ¨è¡¨é¢ä¸Š(å¤§çº¦6%[48])ç›´æ¥åå°„ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼æƒ©ç½šé•œé¢èƒ½é‡:<ul><li>$\mathcal{L}_{spec}=\lambda_3\sum_n\sum_{\omega_o\in P_n}L_s.$ Eq.23</li></ul></li><li>Geometry Losses. Following ImFaceï¼Œåˆ©ç”¨åµŒå…¥æ­£åˆ™åŒ–ã€Eikonalæ­£åˆ™åŒ–å’Œä¸€ç§æ–°çš„æ®‹å·®çº¦æŸè¿›è¡Œç²¾ç¡®å‡ ä½•å»ºæ¨¡:<ul><li>$\mathcal{L}_{geo}=\lambda_{4}|\mathbf{z}|^{2}+\lambda_{5}\sum_{x\in\Omega}||\nabla\mathrm{SDF}(x)|-1|+\lambda_{6}\sum_{x\in\Omega}|\mathcal{D}(x)|,$ Eq.24</li><li>å…¶ä¸­zä»£è¡¨ImFaceçš„åµŒå…¥</li></ul></li></ul><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Dataset: FaceScape</p><p>Comparison</p><ul><li>NeRF, Ref-NeRF</li><li>Volume Rendering of Neural Implicit Surfaces</li><li>Extracting Triangular 3D Models, Materials, and Lighting From Images</li><li>PhySG</li><li>DIFFREC</li></ul><p>metrics: PSNRã€SSIM[52]å’ŒLPIPS[60]ã€Chamfer distance</p><p>Ablation Study</p><ul><li>On Shading Model.</li><li>On Neural Integrated Basis.</li></ul><p>Extension to Common Objects</p><ul><li>DTU</li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Shadow&amp;Highlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Face </tag>
            
            <tag> Shadow&amp;Highlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FreeNeRF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/FreeNeRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/FreeNeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>FreeNeRF: Improving Few-shot Neural Rendering with Free Frequency Regularization</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://jiawei-yang.github.io/">Jiawei Yang</a> <a href="https://web.stanford.edu/~pavone/index.html">Marco Pavone</a> <a href="https://yuewang.xyz/">Yue Wang</a></td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://jiawei-yang.github.io/FreeNeRF/">FreeNeRF: Frequency-regularized NeRF (jiawei-yang.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4733566158242856961&amp;noteId=1937442832522335232">FreeNeRF: Improving Few-shot Neural Rendering with Free Frequency Regularization (readpaper.com)</a></td></tr></tbody></table></div><p><strong>Fre</strong>qu<strong>e</strong>ncy regularized <strong>NeRF</strong> (FreeNeRF)<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829140344.png" alt="image.png"><br>Tä¸ºæ­£åˆ™åŒ–æŒç»­æ—¶é—´ï¼Œtä¸ºå½“å‰è®­ç»ƒè¿­ä»£ï¼ŒLä¸ºè¾“å…¥ä½ç½®ç¼–ç çš„é•¿åº¦</p><p>Howï¼š</p><ul><li>High-frequency inputs cause the catastrophic failure in few-shot neural rendering.<ul><li>ä½ç½®ç¼–ç ä¸­é«˜é¢‘ä¿¡å·å¯ä»¥ä½¿é«˜é¢‘åˆ†é‡æ›´å¿«æ”¶æ•›ï¼Œä½†æ˜¯è¿‡å¿«æ”¶æ•›å°†å¯¼è‡´å°‘æ ·æœ¬ç¥ç»æ¸²æŸ“ä¸­ç¾éš¾æ€§çš„è¿‡æ‹Ÿåˆ</li><li>æµ‹è¯•ï¼šå°†é«˜é¢‘ä½ç½®ç¼–ç ä½è®¾ç½®ä¸º0ï¼Œ<code>pos_enc[int(L * x%): ] = 0,</code> ï¼Œ Lä¸ºä½ç½®ç¼–ç çš„é•¿åº¦ï¼Œxæ˜¯å¯è§æ¯”ç‡</li></ul></li><li>Frequency regularization enjoys the benefits of both high-frequency and low-frequency signals.<ul><li>é¢‘ç‡æ­£åˆ™åŒ–ï¼šæ ¹æ®è®­ç»ƒæ—¶é—´stepsï¼Œçº¿æ€§å¢åŠ çš„é¢‘ç‡maskï¼Œæ¥æ­£åˆ™åŒ–å¯è§é¢‘è°±ã€‚<strong>å³åˆšå¼€å§‹ä½¿ç”¨ä½é¢‘ï¼Œé€æ­¥å¢åŠ é«˜é¢‘ä¿¡å·çš„å¯è§æ€§</strong></li><li>é¢‘ç‡æ­£åˆ™åŒ–æœ‰åŠ©äºé™ä½åœ¨å¼€å§‹æ—¶å¯¼è‡´ç¾éš¾æ€§æ•…éšœçš„è¿‡åº¦æ‹Ÿåˆé£é™©ï¼Œå¹¶é¿å…åœ¨æœ€ç»ˆå¯¼è‡´è¿‡åº¦å¹³æ»‘çš„æ¬ æ‹Ÿåˆ</li></ul></li><li>Occlusion regularization addresses the near-camera floaters.<ul><li>é®æŒ¡æ­£åˆ™åŒ–ï¼Œå¯¹ç›¸æœºé™„è¿‘å¯†é›†åœºè¿›è¡Œä¹˜æ³•</li></ul></li></ul><span id="more"></span><h1 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h1><p>æˆ‘ä»¬çš„FreeNeRFæœ‰ä¸¤ä¸ªé™åˆ¶</p><ul><li>é¦–å…ˆï¼Œè¾ƒé•¿çš„é¢‘ç‡curriculumå¯ä»¥ä½¿åœºæ™¯æ›´æµç•…ï¼Œä½†å¯èƒ½ä¼šé™ä½LPIPSåˆ†æ•°ï¼Œå°½ç®¡è¾¾åˆ°äº†å…·æœ‰ç«äº‰åŠ›çš„PSNRåˆ†æ•°ã€‚</li><li>å…¶æ¬¡ï¼Œé®æŒ¡æ­£åˆ™åŒ–ä¼šå¯¼è‡´DTUæ•°æ®é›†ä¸­è¿‘ç›¸æœºå¯¹è±¡çš„è¿‡åº¦æ­£åˆ™åŒ–å’Œä¸å®Œæ•´è¡¨ç¤ºã€‚<strong>æ¯ä¸ªåœºæ™¯è°ƒæ•´æ­£åˆ™åŒ–èŒƒå›´å¯ä»¥ç¼“è§£è¿™ä¸ªé—®é¢˜</strong>ï¼Œä½†æˆ‘ä»¬é€‰æ‹©ä¸åœ¨æœ¬æ–‡ä¸­ä½¿ç”¨å®ƒã€‚</li></ul><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†FreeNeRFï¼Œä¸€ç§ç®€åŒ–çš„å°‘é•œå¤´ç¥ç»æ¸²æŸ“æ–¹æ³•ã€‚<strong>æˆ‘ä»¬çš„ç ”ç©¶æ­ç¤ºäº†è¾“å…¥é¢‘ç‡ä¸å°‘é•œå¤´ç¥ç»æ¸²æŸ“å¤±è´¥ä¹‹é—´çš„æ·±å±‚å…³ç³»</strong>ã€‚ä¸€ä¸ªç®€å•çš„é¢‘ç‡æ­£åˆ™åŒ–å™¨å¯ä»¥å½»åº•è§£å†³è¿™ä¸ªæŒ‘æˆ˜ã€‚FreeNeRFåœ¨å¤šæ•°æ®é›†ä¸Šçš„æ€§èƒ½ä¼˜äºç°æœ‰çš„æœ€å…ˆè¿›çš„æ–¹æ³•ï¼Œå¼€é”€æœ€å°ã€‚<br>æˆ‘ä»¬çš„ç ”ç©¶ç»“æœä¸ºæœªæ¥çš„ç ”ç©¶æä¾›äº†å‡ ä¸ªæ–¹å‘ã€‚ä¾‹å¦‚ï¼Œå°†FreeNeRFåº”ç”¨äºå—é«˜é¢‘å™ªå£°å½±å“çš„å…¶ä»–é—®é¢˜æ˜¯æœ‰è¶£çš„ï¼Œä¾‹å¦‚NeRF in the wildï¼Œin the darkï¼Œä»¥åŠé‡å¤–æ›´å…·æœ‰æŒ‘æˆ˜æ€§çš„å›¾åƒï¼Œä¾‹å¦‚æ¥è‡ªè‡ªåŠ¨é©¾é©¶åœºæ™¯çš„å›¾åƒã€‚<br>æ­¤å¤–ï¼Œ<strong>åœ¨é™„å½•ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†é¢‘ç‡æ­£åˆ™åŒ–çš„NeRFäº§ç”Ÿæ›´å¹³æ»‘çš„æ­£é¢‘ä¼°è®¡</strong>ï¼Œè¿™å¯ä»¥ä¿ƒè¿›å¤„ç†å…‰æ»‘è¡¨é¢çš„åº”ç”¨ï¼Œå¦‚RefNeRF[32]ã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å·¥ä½œèƒ½æ¿€å‘å¯¹å°‘é•œå¤´ç¥ç»æ¸²æŸ“çš„è¿›ä¸€æ­¥ç ”ç©¶ï¼Œå¹¶åœ¨ç¥ç»æ¸²æŸ“ä¸­æ›´æ™®éåœ°ä½¿ç”¨é¢‘ç‡æ­£åˆ™åŒ–ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>å…·æœ‰<strong>ç¨€ç–è¾“å…¥</strong>çš„æ–°é¢–è§†å›¾åˆæˆæ˜¯ç¥ç»è¾å°„åœº (NeRF) çš„ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚æœ€è¿‘çš„å·¥ä½œé€šè¿‡å¼•å…¥å¤–éƒ¨ç›‘ç£ï¼ˆä¾‹å¦‚é¢„è®­ç»ƒæ¨¡å‹å’Œé¢å¤–çš„æ·±åº¦ä¿¡å·ï¼‰æˆ–ä½¿ç”¨éå¹³å‡¡çš„åŸºäºè¡¥ä¸çš„æ¸²æŸ“æ¥ç¼“è§£è¿™ä¸€æŒ‘æˆ˜ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†<strong>é¢‘ç‡æ­£åˆ™åŒ– NeRF</strong> (FreeNeRF)ï¼Œè¿™æ˜¯ä¸€ä¸ªä»¤äººæƒŠè®¶çš„ç®€å•åŸºçº¿ï¼Œåœ¨å¯¹æ™®é€š NeRF è¿›è¡Œæœ€å°ä¿®æ”¹çš„æƒ…å†µä¸‹ä¼˜äºä»¥å‰çš„æ–¹æ³•ã€‚<br>æˆ‘ä»¬åˆ†æäº†å°‘é•œå¤´ç¥ç»æ¸²æŸ“çš„å…³é”®æŒ‘æˆ˜ï¼Œå‘ç°é¢‘ç‡åœ¨NeRFçš„è®­ç»ƒä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚åŸºäºè¯¥åˆ†æï¼Œæˆ‘ä»¬æå‡ºäº†ä¸¤ä¸ªæ­£åˆ™åŒ–é¡¹ï¼šä¸€ä¸ªç”¨äºæ­£åˆ™åŒ– NeRF è¾“å…¥é¢‘ç‡èŒƒå›´ï¼Œå¦ä¸€ä¸ªç”¨äºæƒ©ç½šè¿‘ç›¸æœºå¯†åº¦åœºã€‚è¿™ä¸¤ç§æŠ€æœ¯éƒ½æ˜¯â€free lunchesâ€ï¼Œæ— éœ€é¢å¤–çš„è®¡ç®—æˆæœ¬ã€‚<br>æˆ‘ä»¬è¯æ˜äº†å³ä½¿åªæœ‰ä¸€è¡Œä»£ç æ›´æ”¹ï¼ŒåŸå§‹ NeRF ä¹Ÿå¯ä»¥åœ¨å°‘æ ·æœ¬è®¾ç½®ä¸­å®ç°ä¸å…¶ä»–å¤æ‚æ–¹æ³•ç›¸ä¼¼çš„æ€§èƒ½ã€‚FreeNeRF åœ¨ä¸åŒçš„æ•°æ®é›†ä¸Šå®ç°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼ŒåŒ…æ‹¬ Blenderã€DTU å’Œ LLFFã€‚æˆ‘ä»¬å¸Œæœ›è¿™ä¸ªç®€å•çš„åŸºçº¿èƒ½å¤Ÿ<strong>æ¿€å‘äººä»¬é‡æ–°æ€è€ƒé¢‘ç‡åœ¨ NeRF è®­ç»ƒä¸­çš„åŸºæœ¬ä½œç”¨ï¼Œåœ¨ä½æ•°æ®æ¨¡å¼ä¸‹å’Œæ›´é«˜æ¨¡å¼ä¸‹</strong></p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li><strong>NeRFç¨€ç–è§†å›¾</strong><ul><li>è¿ç§»å­¦ä¹ æ–¹æ³•<ul><li>PixelNerf</li><li>MVSNeRF</li></ul></li><li>æ·±åº¦ç›‘ç£æ–¹æ³•</li><li>åŸºäºè¡¥ä¸çš„æ­£åˆ™åŒ–æ–¹æ³•<ul><li>è¯­ä¹‰ä¸€è‡´æ€§æ­£åˆ™åŒ–</li><li>å‡ ä½•æ­£åˆ™åŒ–</li><li>å¤–è§‚æ­£åˆ™åŒ–</li></ul></li></ul></li></ul><p>æˆ‘ä»¬æå‡º<strong>ä¸¤ä¸ªæ­£åˆ™åŒ–é¡¹</strong>ï¼š</p><ul><li>é¢‘ç‡æ­£åˆ™åŒ–</li><li>é®æŒ¡æ­£åˆ™åŒ–</li></ul><p>æˆ‘ä»¬çš„æ–¹æ³•FreeNeRF<strong>ç‰¹ç‚¹</strong>: </p><ul><li>æ— ä¾èµ–ï¼Œä¸éœ€è¦æ˜‚è´µçš„é¢„è®­ç»ƒï¼Œä¹Ÿä¸éœ€è¦é¢å¤–çš„ç›‘ç£ä¿¡å·</li><li>æ— å¼€é”€ï¼Œä¸éœ€è¦é¢å¤–çš„åŸºäºè¡¥ä¸çš„æ­£åˆ™åŒ–è®­ç»ƒæ—¶é—´</li></ul><p>è´¡çŒ®ï¼š</p><ul><li>æˆ‘ä»¬æ­ç¤ºäº†å°‘é•œå¤´ç¥ç»æ¸²æŸ“å¤±è´¥ä¸ä½ç½®ç¼–ç é¢‘ç‡ä¹‹é—´çš„è”ç³»ï¼Œå¹¶é€šè¿‡å®è¯ç ”ç©¶è¿›ä¸€æ­¥éªŒè¯äº†è¿™ä¸€ç‚¹ï¼Œå¹¶é€šè¿‡æˆ‘ä»¬æå‡ºçš„æ–¹æ³•è§£å†³äº†ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯<strong>é¦–æ¬¡å°è¯•ä»é¢‘ç‡çš„è§’åº¦è§£å†³å°‘é•œå¤´ç¥ç»æ¸²æŸ“</strong>ã€‚</li><li>æˆ‘ä»¬ä»ç¨€ç–è¾“å…¥ä¸­ç¡®å®šäº†å­¦ä¹ NeRFçš„å¦ä¸€ä¸ªå¸¸è§å¤±è´¥æ¨¡å¼ï¼Œå¹¶é€šè¿‡æ–°çš„<strong>é®æŒ¡æ­£åˆ™åŒ–å™¨</strong>æ¥ç¼“è§£å®ƒã€‚è¿™ä¸ªæ­£åˆ™åŒ–å™¨æœ‰æ•ˆåœ°æé«˜äº†æ€§èƒ½å¹¶æ³›åŒ–äº†æ•°æ®é›†ã€‚</li><li>ç»“åˆï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªç®€å•çš„åŸºçº¿ FreeNeRFï¼Œå®ƒå¯ä»¥é€šè¿‡å‡ è¡Œä»£ç ä¿®æ”¹æ¥å®ç°ï¼ŒåŒæ—¶ä¼˜äºä»¥å‰çš„æœ€å…ˆè¿›æ–¹æ³•ã€‚æˆ‘ä»¬çš„æ–¹æ³•æ˜¯æ— ä¾èµ–å’Œæ— å¼€é”€çš„ï¼Œä½¿å…¶æˆä¸ºè¿™ä¸ªé—®é¢˜çš„å®ç”¨ä¸”æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p><strong>Neural fields</strong> ç¥ç»åœº[36]ä½¿ç”¨æ·±åº¦ç¥ç»ç½‘ç»œå°†2Då›¾åƒæˆ–3Dåœºæ™¯è¡¨ç¤ºä¸ºè¿ç»­å‡½æ•°ã€‚å¼€åˆ›æ€§çš„å·¥ä½œç¥ç»è¾å°„åœº(Neural Radiance Fields, NeRF)[21]åœ¨å„ç§åº”ç”¨ä¸­å¾—åˆ°äº†å¹¿æ³›çš„ç ”ç©¶å’Œæ¨è¿›[2,3,32,19,23,13,25]ï¼ŒåŒ…æ‹¬æ–°å‹è§†å›¾åˆæˆ[21,18]ã€3Dç”Ÿæˆ[25,10]ã€å˜å½¢[23,26,28]ã€è§†é¢‘[15,35,7,24,14]ã€‚å°½ç®¡å–å¾—äº†å·¨å¤§çš„è¿›æ­¥ï¼Œ<strong>NeRFä»ç„¶éœ€è¦æ•°ç™¾ä¸ªè¾“å…¥å›¾åƒæ¥å­¦ä¹ é«˜è´¨é‡çš„åœºæ™¯è¡¨ç¤º</strong>; å®ƒæ— æ³•ç”¨ä¸€äº›è¾“å…¥è§†å›¾(ä¾‹å¦‚3,6å’Œ9è§†å›¾)åˆæˆæ–°çš„è§†å›¾ï¼Œ<strong>ä»è€Œé™åˆ¶äº†å®ƒåœ¨ç°å®ä¸–ç•Œä¸­çš„æ½œåœ¨åº”ç”¨</strong>ã€‚</p><p><strong>Few-shot Neural Rendering</strong>. <strong>è®¸å¤šä½œå“è¯•å›¾é€šè¿‡åˆ©ç”¨é¢å¤–çš„ä¿¡æ¯</strong>æ¥è§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„å°‘æ•°é•œå¤´ç¥ç»æ¸²æŸ“é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå¤–éƒ¨æ¨¡å‹å¯ç”¨äºè·å¾—å½’ä¸€åŒ–â€”â€”æµæ­£åˆ™åŒ–[22]ã€æ„ŸçŸ¥æ­£åˆ™åŒ–[38]ã€æ·±åº¦ç›‘ç£[29,6,34]å’Œè·¨è§†å›¾è¯­ä¹‰ä¸€è‡´æ€§[11]ã€‚å¦ä¸€é¡¹ç ”ç©¶[5,37,4]è¯•å›¾é€šè¿‡åœ¨ä¸€ä¸ªå¤§å‹çš„ã€ç²¾å¿ƒç­–åˆ’çš„æ•°æ®é›†ä¸Šè®­ç»ƒæ¥å­¦ä¹ å¯è½¬ç§»æ¨¡å‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¤–éƒ¨æ¨¡å‹ã€‚æœ€è¿‘çš„ç ”ç©¶è®¤ä¸ºå‡ ä½•æ˜¯å°‘é•œå¤´ç¥ç»æ¸²æŸ“ä¸­æœ€é‡è¦çš„å› ç´ ï¼Œå¹¶æå‡ºå‡ ä½•æ­£åˆ™åŒ–[22,1,8]ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•éœ€è¦åœ¨å®šåˆ¶çš„å¤šè§†å›¾æ•°æ®é›†ä¸Šè¿›è¡Œæ˜‚è´µçš„é¢„è®­ç»ƒ[5,37,4]æˆ–æ˜‚è´µçš„è®­ç»ƒæ—¶é—´è¡¥ä¸æ¸²æŸ“[11,22,1,8]ï¼Œ<strong>è¿™åœ¨æ–¹æ³•ã€å·¥ç¨‹å®æ–½å’Œè®­ç»ƒé¢„ç®—æ–¹é¢å¸¦æ¥äº†å·¨å¤§çš„å¼€é”€</strong>ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¡¨æ˜ï¼Œé€šè¿‡ç»“åˆæˆ‘ä»¬çš„é¢‘ç‡æ­£åˆ™åŒ–å’Œé®æŒ¡æ­£åˆ™åŒ–ï¼Œç®€å•çš„NeRFå¯ä»¥é€šè¿‡æœ€å°çš„ä¿®æ”¹(å‡ è¡Œä»£ç )å‡ºå¥‡åœ°å¥½åœ°å·¥ä½œã€‚ä¸å¤§å¤šæ•°ä»¥å‰çš„æ–¹æ³•ä¸åŒï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¿æŒäº†ä¸åŸå§‹NeRFç›¸åŒçš„è®¡ç®—æ•ˆç‡</p><p><strong>Frequency in neural representations</strong> <strong>ä½ç½®ç¼–ç æ˜¯NeRFæˆåŠŸçš„æ ¸å¿ƒ</strong>[21,31]ã€‚å…ˆå‰çš„ç ”ç©¶[31,30]è¡¨æ˜ï¼Œç¥ç»ç½‘ç»œé€šå¸¸éš¾ä»¥ä»ä½ç»´è¾“å…¥ä¸­å­¦ä¹ é«˜é¢‘å‡½æ•°ã€‚ç”¨ä¸åŒé¢‘ç‡çš„æ­£å¼¦å‡½æ•°ç¼–ç è¾“å…¥å¯ä»¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚æœ€è¿‘çš„ç ”ç©¶è¡¨æ˜ï¼Œåœ¨éåˆšæ€§åœºæ™¯å˜å½¢[23]ã€æŸè°ƒæ•´[16]ã€æ›²é¢é‡æ„[33]å’Œæ›´å®½é¢‘å¸¦çš„æ‹Ÿåˆå‡½æ•°[9]ç­‰ä¸åŒåº”ç”¨ä¸­ï¼Œé€æ¸å¢åŠ è¾“å…¥é¢‘ç‡æ˜¯æœ‰å¥½å¤„çš„ã€‚æˆ‘ä»¬çš„å·¥ä½œåˆ©ç”¨é¢‘ç‡è¯¾ç¨‹æ¥è§£å†³å°‘æ•°é•œå¤´çš„ç¥ç»æ¸²æŸ“é—®é¢˜ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¸ä»…è¯æ˜äº†é¢‘ç‡æ­£åˆ™åŒ–åœ¨ä»ç¨€ç–è¾“å…¥ä¸­å­¦ä¹ æ–¹é¢çš„æƒŠäººæœ‰æ•ˆæ€§ï¼Œè€Œä¸”æ­ç¤ºäº†è¿™ä¸ªé—®é¢˜èƒŒåçš„å¤±æ•ˆæ¨¡å¼ä»¥åŠé¢‘ç‡æ­£åˆ™åŒ–ä¸ºä»€ä¹ˆæœ‰å¸®åŠ©ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Preliminaries"><a href="#Preliminaries" class="headerlink" title="Preliminaries"></a>Preliminaries</h2><p><strong>Neural radiance fields</strong>. ç¥ç»è¾å°„åœº(NeRF)[21]ä½¿ç”¨å¤šå±‚æ„ŸçŸ¥å™¨(MLP)å°†åœºæ™¯è¡¨ç¤ºä¸ºä½“ç§¯å¯†åº¦åœºÏƒå’Œåœºæ™¯ä¸­æ¯ä¸ªç‚¹çš„ç›¸å…³RGBå€¼cã€‚å®ƒä»¥ä¸‰ç»´åæ ‡$\mathrm{x~\in~\mathbb{R}^3}$å’Œè§‚çœ‹æ–¹å‘å•ä½çŸ¢é‡$\mathbf{d}\in\mathbb{S}^{2},$ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºç›¸åº”çš„å¯†åº¦å’Œé¢œè‰²ã€‚åœ¨å…¶æœ€åŸºæœ¬çš„å½¢å¼ä¸­ï¼ŒNeRFå­¦ä¹ ä¸€ä¸ªè¿ç»­å‡½æ•°$f_\theta(\mathbf{x},\mathbf{d})=(\sigma,\mathbf{c})$ï¼Œå…¶ä¸­Î¸è¡¨ç¤ºMLPå‚æ•°ã€‚</p><p><strong>Positional encoding</strong>. ç›´æ¥ä¼˜åŒ–åŸå§‹è¾“å…¥(x, d)ä¸Šçš„NeRFé€šå¸¸ä¼šå¯¼è‡´åˆæˆé«˜é¢‘ç»†èŠ‚çš„å›°éš¾[31,21]ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€è¿‘çš„ç ”ç©¶ä½¿ç”¨ä¸åŒé¢‘ç‡çš„æ­£å¼¦å‡½æ•°å°†è¾“å…¥æ˜ å°„åˆ°é«˜ç»´ç©ºé—´[21]<br>$\gamma_{L}(\mathbf{x})=\left[\sin(\mathbf{x}),\cos(\mathbf{x}),â€¦,\sin(2^{L-1}\mathbf{x}),\cos(2^{L-1}\mathbf{x})\right],$  Eq.1</p><p>å…¶ä¸­Læ˜¯ä¸€ä¸ªæ§åˆ¶æœ€å¤§ç¼–ç é¢‘ç‡çš„è¶…å‚æ•°ï¼Œå¯¹äºåæ ‡xå’Œæ–¹å‘å‘é‡då¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ä¸€ç§å¸¸è§çš„åšæ³•æ˜¯å°†åŸå§‹è¾“å…¥ä¸é¢‘ç‡ç¼–ç è¾“å…¥è¿æ¥èµ·æ¥:$\mathbf{xâ€™}=[\mathbf{x},\gamma_L(\mathbf{x})]$ Eq.2ï¼Œæ­¤è¿æ¥åº”ç”¨äºåæ ‡è¾“å…¥å’Œè§†å›¾æ–¹å‘è¾“å…¥ã€‚</p><p><strong>Rendering</strong>. ä¸ºäº†åœ¨NeRFä¸­æ¸²æŸ“ä¸€ä¸ªåƒç´ ï¼Œä»ç›¸æœºåŸç‚¹oæ²¿ç€æ–¹å‘dæŠ•å°„ä¸€æ¡å°„çº¿$\mathbf{r}(t)=\mathbf{o}+t\mathbf{d}$ç©¿è¿‡åƒç´ ï¼Œå…¶ä¸­tæ˜¯åˆ°åŸç‚¹çš„è·ç¦»ã€‚åœ¨æŠ•å°„å…‰çº¿çš„è¿‘ç•Œå’Œè¿œç•Œ$[t_\mathrm{near},t_\mathrm{far}]$å†…ï¼ŒNeRFä½¿ç”¨Kä¸ªé‡‡æ ·ç‚¹$\mathbf{t}_{K}=\{t_{1},\ldots,t_{K}\}$çš„æ±‚ç§¯æ¥è®¡ç®—è¯¥å…‰çº¿çš„é¢œè‰²ï¼š<br>$\hat{\mathbf{c}}(\mathbf{r};\theta,\mathbf{t}_K)=\sum_{K}T_k(1-\exp(-\sigma_k(t_{k+1}-t_k)))\mathbf{c_k},$<br>$\text{with}\quad T_{k}=\exp\left(-\sum_{kâ€™&lt;k}\sigma_{k}^{\prime}\left(t_{kâ€™+1}-t_{kâ€™}\right)\right),$ Eq.3</p><p>$\hat{\mathbf{c}}(\mathbf{r};\theta,\mathbf{t}_K)$ä¸ºæœ€ç»ˆçš„ç§¯åˆ†è‰²ã€‚æ³¨æ„ï¼Œé‡‡æ ·ç‚¹$\mathbf t_{K}$æ˜¯æŒ‰è¿œè¿‘é¡ºåºæ’åˆ—çš„ï¼Œå³æŒ‡æ•°kè¾ƒå°çš„ç‚¹ç¦»ç›¸æœºåŸç‚¹æ›´è¿‘ã€‚</p><h2 id="Frequency-Regularization"><a href="#Frequency-Regularization" class="headerlink" title="Frequency Regularization"></a>Frequency Regularization</h2><p>å°‘é•œå¤´ç¥ç»æ¸²æŸ“æœ€å¸¸è§çš„å¤±æ•ˆæ¨¡å¼æ˜¯è¿‡æ‹Ÿåˆã€‚NeRFä»ä¸€ç»„æ²¡æœ‰æ˜ç¡®çš„3Då‡ ä½•å›¾å½¢çš„2Då›¾åƒä¸­å­¦ä¹ 3Dåœºæ™¯è¡¨ç¤ºã€‚é€šè¿‡ä¼˜åŒ–2DæŠ•å½±è§†å›¾ä¸­çš„å¤–è§‚ï¼Œéšå¼åœ°å­¦ä¹ 3Då‡ ä½•ã€‚ç„¶è€Œï¼Œç”±äºåªæœ‰å°‘æ•°è¾“å…¥è§†å›¾ï¼ŒNeRFå¾ˆå®¹æ˜“è¿‡åº¦æ‹Ÿåˆè¿™äº›2Då›¾åƒï¼ŒæŸå¤±å¾ˆå°ï¼ŒåŒæ—¶ä¸èƒ½ä»¥å¤šè§†å›¾ä¸€è‡´çš„æ–¹å¼è§£é‡Š3Då‡ ä½•ã€‚ä»è¿™äº›æ¨¡å‹ä¸­ç»¼åˆæ–°çš„è§‚ç‚¹ä¼šå¯¼è‡´ç³»ç»Ÿå¤±è´¥ã€‚å¦‚å›¾1å·¦ä¾§æ‰€ç¤ºï¼Œåœ¨åˆæˆæ–°è§†å›¾æ—¶ï¼Œæ²¡æœ‰NeRFæ¨¡å‹èƒ½å¤ŸæˆåŠŸæ¢å¤åœºæ™¯å‡ ä½•å½¢çŠ¶ã€‚</p><p><strong>é«˜é¢‘è¾“å…¥å¯èƒ½ä¼šåŠ å‰§å°‘æ•°é•œå¤´ç¥ç»æ¸²æŸ“ä¸­çš„è¿‡æ‹Ÿåˆé—®é¢˜</strong>ã€‚[31]è¡¨æ˜ï¼Œ<strong>é«˜é¢‘æ˜ å°„ä½¿é«˜é¢‘åˆ†é‡çš„æ”¶æ•›é€Ÿåº¦æ›´å¿«</strong>ã€‚ç„¶è€Œï¼Œé«˜é¢‘ä¸Šçš„è¿‡å¿«æ”¶æ•›é˜»ç¢äº†NeRFå¯¹ä½é¢‘ä¿¡æ¯çš„æ¢ç´¢ï¼Œå¹¶æ˜¾è‘—åœ°ä½¿NeRFå€¾å‘äºä¸éœ€è¦çš„é«˜é¢‘ä¼ªå½±(å›¾1ä¸­çš„å–‡å­å’Œæˆ¿é—´ç¤ºä¾‹)ã€‚åœ¨å°‘æ‹åœºæ™¯ä¸­ï¼ŒNeRFå¯¹æ˜“å—å½±å“çš„å™ªå£°æ›´æ•æ„Ÿï¼Œå› ä¸ºéœ€è¦å­¦ä¹ ç›¸å¹²å‡ ä½•çš„å›¾åƒæ›´å°‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬<strong>å‡è®¾é«˜é¢‘æˆåˆ†æ˜¯åœ¨å°‘é‡ç¥ç»æ¸²æŸ“ä¸­è§‚å¯Ÿåˆ°çš„å¤±æ•ˆæ¨¡å¼çš„ä¸»è¦åŸå› </strong>ã€‚æˆ‘ä»¬åœ¨ä¸‹é¢æä¾›äº†ç»éªŒè¯æ®</p><p>æˆ‘ä»¬ç ”ç©¶äº†å½“è¾“å…¥ç”±ä¸åŒæ•°é‡çš„é¢‘å¸¦ç¼–ç æ—¶ï¼Œæ™®é€šNeRFæ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨æ©ç (é›†æˆ)ä½ç½®ç¼–ç æ¥è®­ç»ƒmipNeRF[2]ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬è®¾ç½®<code>pos enc[int(L*x%]):]=0</code>ï¼Œå…¶ä¸­Lè¡¨ç¤ºç»è¿‡ä½ç½®ç¼–ç (Eq.(1))åçš„é¢‘ç‡ç¼–ç åæ ‡çš„é•¿åº¦ï¼Œxä¸ºå¯è§æ¯”ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œç®€å•åœ°è¯´æ˜æˆ‘ä»¬çš„è§‚å¯Ÿç»“æœï¼Œå¹¶æŠŠå®éªŒçš„ç»†èŠ‚æ¨è¿Ÿåˆ°Â§4.1ã€‚å›¾2æ˜¾ç¤ºäº†DTUæ•°æ®é›†åœ¨3ä¸ªè¾“å…¥è§†å›¾è®¾ç½®ä¸‹çš„ç»“æœã€‚æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°å½“å‘æ¨¡å‹æä¾›æ›´é«˜é¢‘ç‡çš„è¾“å…¥æ—¶ï¼ŒmipNeRFçš„æ€§èƒ½æ˜¾ç€ä¸‹é™ã€‚å½“ä½¿ç”¨æ€»åµŒå…¥ä½çš„10%æ—¶ï¼ŒmipNeRFå®ç°äº†17.62çš„é«˜PSNRï¼Œè€Œæ™®é€šmipNeRFæœ¬èº«ä»…å®ç°9.01çš„PSNR(åœ¨100%å¯è§æ¯”ä¸‹)ã€‚è¿™ä¸¤ç§æ¨¡å‹ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯æ˜¯å¦ä½¿ç”¨æ©ç ä½ç½®ç¼–ç ã€‚è™½ç„¶å»é™¤é«˜é¢‘æˆåˆ†çš„å¾ˆå¤§ä¸€éƒ¨åˆ†é¿å…äº†åœ¨è®­ç»ƒå¼€å§‹æ—¶çš„ç¾éš¾æ€§æ•…éšœï¼Œä½†å®ƒä¸ä¼šå¯¼è‡´ç«äº‰æ€§çš„åœºæ™¯è¡¨ç¤ºï¼Œå› ä¸ºæ¸²æŸ“çš„å›¾åƒé€šå¸¸æ˜¯è¿‡åº¦å¹³æ»‘çš„(å¦‚å›¾2æ”¾å¤§è¡¥ä¸æ‰€ç¤º)ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<strong>åœ¨å°‘æ•°åœºæ™¯ä¸­ï¼Œä½¿ç”¨ä½é¢‘è¾“å…¥çš„æ¨¡å‹å¯èƒ½æ¯”ä½¿ç”¨é«˜é¢‘è¾“å…¥çš„æ¨¡å‹äº§ç”Ÿæ›´å¥½çš„è¡¨ç¤º</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829144515.png" alt="image.png"></p><p>åŸºäºè¿™ä¸€ç»éªŒå‘ç°ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§é¢‘ç‡æ­£åˆ™åŒ–æ–¹æ³•ã€‚ç»™å®šé•¿åº¦ä¸ºL + 3çš„ä½ç½®ç¼–ç (Eq.(2))ï¼Œæˆ‘ä»¬<strong>ä½¿ç”¨çº¿æ€§å¢åŠ çš„é¢‘ç‡æ©ç </strong>Î±æ¥<strong>æ ¹æ®è®­ç»ƒæ—¶é—´æ­¥é•¿è°ƒèŠ‚å¯è§é¢‘è°±</strong>ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><p>$\gamma_{L}^{\prime}(t,T;\mathbf{x})=\gamma_{L}(\mathbf{x})\odot\mathbf{\alpha}(t,T,L),$ Eq.4<br>$\text{with }\alpha_i(t,T,L)=\begin{cases}1&amp;\text{if }i\le\frac{t\cdot L}{T}+3\\\dfrac{t\cdot L}{T}-\lfloor\dfrac{t\cdot L}{T}\rfloor&amp;\text{if }\frac{t\cdot L}{T}+3<i\le\frac{t\cdot L}{T}+6\\0&\text{if }i>\frac{t\cdot L}{T}+6\end{cases}$ Eq.5</p><p>å¼ä¸­$\alpha_i(t,T,L)$ä¸º$\alpha(t,T,L)$çš„ç¬¬iä½å€¼ï¼Œtå’ŒTåˆ†åˆ«ä¸ºé¢‘ç‡æ­£åˆ™åŒ–çš„å½“å‰è®­ç»ƒè¿­ä»£å’Œæœ€ç»ˆè¿­ä»£ã€‚å…·ä½“åœ°è¯´ï¼Œæˆ‘ä»¬ä»æ²¡æœ‰ä½ç½®ç¼–ç çš„åŸå§‹è¾“å…¥å¼€å§‹ï¼Œéšç€è®­ç»ƒçš„è¿›è¡Œï¼Œæ¯æ¬¡çº¿æ€§å¢åŠ 3ä½çš„å¯è§é¢‘ç‡ã€‚è¿™ä¸ªæ—¶é—´è¡¨ä¹Ÿå¯ä»¥ç®€åŒ–ä¸ºä¸€è¡Œä»£ç ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚æˆ‘ä»¬çš„é¢‘ç‡æ­£åˆ™åŒ–ç»•è¿‡äº†è®­ç»ƒå¼€å§‹æ—¶ä¸ç¨³å®šã€æ˜“å—å½±å“çš„é«˜é¢‘ä¿¡å·ï¼Œé€æ­¥æä¾›NeRFé«˜é¢‘ä¿¡æ¯ï¼Œé¿å…è¿‡å¹³æ»‘ã€‚<br>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬çš„é¢‘ç‡æ­£åˆ™åŒ–ä¸å…¶ä»–å·¥ä½œä¸­ä½¿ç”¨çš„ç²—åˆ°ç»†é¢‘ç‡è°ƒåº¦æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„[23,16]ã€‚<strong>ä¸ä»–ä»¬ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬çš„å·¥ä½œä¾§é‡äºå°‘é•œå¤´ç¥ç»æ¸²æŸ“é—®é¢˜ï¼Œæ­ç¤ºäº†é«˜é¢‘è¾“å…¥å¼•èµ·çš„ç¾éš¾æ€§æ•…éšœæ¨¡å¼åŠå…¶å¯¹è¯¥é—®é¢˜çš„å½±å“</strong>ã€‚</p><h2 id="Occlusion-Regularization"><a href="#Occlusion-Regularization" class="headerlink" title="Occlusion Regularization"></a>Occlusion Regularization</h2><p>é¢‘ç‡æ­£åˆ™åŒ–å¹¶ä¸èƒ½è§£å†³å°‘é•œå¤´ç¥ç»æ¸²æŸ“ä¸­çš„æ‰€æœ‰é—®é¢˜ã€‚ç”±äºè®­ç»ƒè§†å›¾çš„æ•°é‡æœ‰é™å’Œé—®é¢˜çš„ä¸é€‚å®šæ€§è´¨ï¼Œåœ¨æ–°è§†å›¾ä¸­å¯èƒ½ä»ç„¶å­˜åœ¨æŸäº›ç‰¹å¾ä¼ªè±¡ã€‚è¿™äº›å¤±æ•ˆæ¨¡å¼é€šå¸¸è¡¨ç°ä¸ºé è¿‘ç›¸æœºçš„â€œå¢™å£â€æˆ–â€œæ¼‚æµ®ç‰©â€ï¼Œå¦‚å›¾3åº•éƒ¨æ‰€ç¤ºã€‚å³ä½¿æœ‰è¶³å¤Ÿæ•°é‡çš„è®­ç»ƒè§†å›¾[3]ï¼Œä»ç„¶å¯ä»¥è§‚å¯Ÿåˆ°è¿™æ ·çš„å·¥ä»¶ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒMip-NeRF 360[3]æå‡ºäº†å¤±çœŸæŸå¤±ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œ<strong>è¿™ç§æ­£åˆ™åŒ–åœ¨å¾ˆå°‘çš„é•œå¤´è®¾ç½®ä¸­æ²¡æœ‰å¸®åŠ©ï¼Œç”šè‡³å¯èƒ½åŠ å‰§é—®é¢˜</strong>ã€‚</p><p>æˆ‘ä»¬å‘ç°å¤§å¤šæ•°çš„å¤±è´¥æ¨¡å¼æºè‡ªè®­ç»ƒè§†å›¾ä¸­é‡å æœ€å°‘çš„åŒºåŸŸã€‚å›¾3æ˜¾ç¤ºäº†3ä¸ªè®­ç»ƒè§†å›¾å’Œ2ä¸ªå¸¦æœ‰â€œç™½å¢™â€çš„æ–°è§†å›¾çš„ç¤ºä¾‹ã€‚ä¸ºäº†æ¼”ç¤º(å›¾3ä¸­çš„(a)å’Œ(b))ï¼Œæˆ‘ä»¬æ‰‹åŠ¨æ ‡æ³¨äº†è®­ç»ƒè§†å›¾ä¸­é‡å æœ€å°‘çš„åŒºåŸŸã€‚ç”±äºå¯ç”¨ä¿¡æ¯æå…¶æœ‰é™(ä¸€æ¬¡æ€§)ï¼Œè¿™äº›åŒºåŸŸå¾ˆéš¾ä»å‡ ä½•è§’åº¦è¿›è¡Œä¼°è®¡ã€‚å› æ­¤ï¼Œ<strong>NeRFæ¨¡å‹å°†è¿™äº›æœªå¼€å‘åŒºåŸŸè§£é‡Šä¸ºä½äºç›¸æœºé™„è¿‘çš„å¯†é›†ä½“ç§¯æ¼‚æµ®ç‰©</strong>ã€‚æˆ‘ä»¬æ€€ç–‘åœ¨[3]ä¸­è§‚å¯Ÿåˆ°çš„æ¼‚æµ®ç‰©ä¹Ÿæ¥è‡ªè¿™äº›é‡å æœ€å°‘çš„åŒºåŸŸã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230829144547.png" alt="image.png"><br><em>é®æŒ¡æ­£åˆ™åŒ–ç¤ºæ„å›¾ã€‚æˆ‘ä»¬å±•ç¤ºäº†3ä¸ªè®­ç»ƒè§†å›¾(å®å¿ƒçŸ©å½¢)å’Œ2ä¸ªæ–°è§†å›¾(è™šçº¿çŸ©å½¢)ï¼Œè¿™äº›è§†å›¾ç”±é¢‘ç‡æ­£åˆ™åŒ–çš„NeRFæ¸²æŸ“ã€‚åœ¨è®­ç»ƒè§†å›¾(è™šçº¿åœˆ)ä¸­ï¼Œæ–°è§†å›¾ä¸­çš„æ¼‚æµ®ç‰©ä¼¼ä¹æ˜¯é è¿‘ç›¸æœºçš„å¯†é›†åœºï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥æƒ©ç½šå®ƒä»¬ï¼Œè€Œä¸éœ€è¦åœ¨[11,22]ä¸­è¿›è¡Œæ˜‚è´µçš„æ–°è§†å›¾æ¸²æŸ“ã€‚</em></p><p>å¦‚ä¸Šæ‰€è¿°ï¼Œæ–°è§†å›¾ä¸­æ¼‚æµ®ç‰©å’Œå¢™å£çš„å­˜åœ¨æ˜¯ç”±ä¸å®Œå–„çš„è®­ç»ƒè§†å›¾å¼•èµ·çš„ï¼Œå› æ­¤å¯ä»¥åœ¨è®­ç»ƒæ—¶ç›´æ¥è§£å†³ï¼Œè€Œä¸éœ€è¦è¿›è¡Œæ–°å§¿æ€é‡‡æ ·[22,11,37]ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„â€œé®æŒ¡â€æ­£åˆ™åŒ–æ–¹æ³•ï¼Œå¯¹ç›¸æœºé™„è¿‘çš„å¯†é›†åœºè¿›è¡Œæƒ©ç½šã€‚æˆ‘ä»¬å®šä¹‰: $\mathcal{L}_{occ}=\frac{\sigma_{K}^{\mathsf{T}}\cdot\mathrm{m}_{K}}{K}=\frac{1}{K}\sum_{K}\sigma_{k}\cdot m_{k},$ Eq.6</p><p>å…¶ä¸­$m_k$æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ©æ¨¡å‘é‡ï¼Œå®ƒå†³å®šäº†ä¸€ä¸ªç‚¹æ˜¯å¦ä¼šè¢«æƒ©ç½šï¼Œ$\sigma_{K}$è¡¨ç¤ºæ²¿ç€å°„çº¿é‡‡æ ·çš„Kä¸ªç‚¹çš„å¯†åº¦å€¼ï¼Œå…¶é¡ºåºä»è¿‘åˆ°è¿œã€‚ä¸ºäº†å‡å°‘ç›¸æœºé™„è¿‘çš„å›ºä½“æ¼‚æµ®ç‰©ï¼Œæˆ‘ä»¬å°†æŒ‡æ•° Mä»¥ä¸‹çš„$m_k$å€¼(æ­£åˆ™åŒ–èŒƒå›´)ï¼Œè®¾ç½®ä¸º1ï¼Œå…¶ä½™ä¸º0ã€‚é—­å¡æ­£åˆ™åŒ–æŸå¤±æ˜“äºå®ç°å’Œè®¡ç®—ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>Datasets &amp; metrics</p><ul><li>NeRF Blenderåˆæˆæ•°æ®é›†(Blender) DietNeRF</li><li>DTUæ•°æ®é›† RegNeRF</li><li>LLFFæ•°æ®é›† RegNeRF</li><li>metricsï¼šPSNR, SSIMå’ŒLPIPS <ul><li>and $\mathrm{MSE~=~10^{-PSNR/10}},$$\sqrt{1-\mathrm{SSIM}},$LPIPS,</li></ul></li></ul><p>Implementations<br>ç›´æ¥æ”¹è¿›NeRFå’ŒmipNeRF</p><p>Hyper-parameters</p><ul><li>$T=\lfloor90\%*\text{total-iters}\rfloor$ to  3-view setting</li><li>$T=\lfloor70\%*\text{total-iters}\rfloor$ to  6-view setting</li><li>$T=\lfloor20\%*\text{total-iters}\rfloor$ to  9-view setting</li><li>$\mathcal{L}_{occ}$ ä½¿ç”¨0.01æƒé‡</li><li>LLFFå’ŒBlenderçš„æ­£åˆ™åŒ–èŒƒå›´è®¾ç½®ä¸ºM = 20, DTUçš„æ­£åˆ™åŒ–èŒƒå›´è®¾ç½®ä¸ºM = 10</li></ul><p>Comparing methods.<br>é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™æˆ‘ä»¬ç›´æ¥ä½¿ç”¨<strong>DietNeRF</strong>[11]å’Œ<strong>RegNeRF</strong>[22]ä¸­æŠ¥å‘Šçš„ç»“æœè¿›è¡Œæ¯”è¾ƒï¼Œå› ä¸ºæˆ‘ä»¬çš„æ–¹æ³•æ˜¯ä½¿ç”¨å®ƒä»¬çš„ä»£ç åº“å®ç°çš„ã€‚æˆ‘ä»¬è¿˜åŒ…æ‹¬æˆ‘ä»¬çš„å¤åˆ¶ç»“æœä¾›å‚è€ƒã€‚</p><h2 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h2><h2 id="Ablation-Study"><a href="#Ablation-Study" class="headerlink" title="Ablation Study"></a>Ablation Study</h2><p>Frequency curriculum.<br>Occlusion regularization</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Sparse </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Sparse </tag>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Floaters No More</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Sampling/Floaters%20No%20More/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Sampling/Floaters%20No%20More/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Floaters No More: Radiance Field Gradient Scaling for Improved Near-Camera Training</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://julienphilip.com/">Julien Philip</a>1, <a href="https://valentin.deschaintre.fr/">Valentin Deschaintre</a>1</td></tr><tr><td>Conf/Jour</td><td>The Eurographics Association</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://gradient-scaling.github.io/#Code">Floaters No More: Radiance Field Gradient Scaling for Improved Near-Camera Training (gradient-scaling.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4767319201526317057&amp;noteId=1933542681554555392">Floaters No More: Radiance Field Gradient Scaling for Improved Near-Camera Training (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828181707.png" alt="image.png"></p><p><strong>æ¶ˆé™¤</strong>ç”±è¿‘å¹³é¢è¿‡åº¦é‡‡æ ·å¯¼è‡´çš„<strong>æ‘„åƒå¤´é™„è¿‘æ¼‚æµ®ç‰©</strong><br>å¯ä»¥é€šè¿‡å‡ è¡Œä»£ç ç®€å•çš„ç”¨äºï¼š</p><ul><li>Mip-NeRF 360</li><li>InstantNGP</li><li>DVGO</li><li>TensoRF</li></ul><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„æ¢¯åº¦ç¼©æ”¾æ–¹æ³•ï¼Œ<strong>åœ¨é˜²æ­¢èƒŒæ™¯å¡Œé™·çš„åŒæ—¶ï¼Œæ¶ˆé™¤äº†NeRFç±»æ–¹æ³•ä¸­å¯¹è¿‘å¹³é¢è®¾ç½®çš„éœ€è¦</strong>ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•è®¡ç®—æ•ˆç‡é«˜ï¼Œè§£å†³äº†å¤§å¤šæ•°å·²å‘è¡¨æ–¹æ³•ä¸­å­˜åœ¨çš„é‡‡æ ·ä¸å¹³è¡¡é—®é¢˜ã€‚è¿™åœ¨ç‰©ä½“è·ç¦»ç›¸æœºä»»æ„è¿‘æˆ–è·ç¦»ä¸åŒçš„æ•æ‰åœºæ™¯ä¸­å°¤ä¸ºé‡è¦ã€‚æˆ‘ä»¬çš„ç¼©æ”¾ç›´æ¥é€‚ç”¨äºå¤§å¤šæ•°ç±»ä¼¼NeRFçš„è¡¨ç¤ºï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå®¹æ˜“åœ°ä¸å‡ è¡Œä»£ç é›†æˆ</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>NeRFé‡‡é›†é€šå¸¸éœ€è¦ä»”ç»†é€‰æ‹©ä¸åŒç›¸æœºçš„è¿‘å¹³é¢ï¼Œå¦åˆ™ä¼šé­å—èƒŒæ™¯å´©æºƒï¼Œåœ¨æ•è·åœºæ™¯çš„è¾¹ç¼˜äº§ç”Ÿæµ®åŠ¨ä¼ªå½±ã€‚è¿™é¡¹å·¥ä½œçš„å…³é”®è§è§£æ˜¯ï¼ŒèƒŒæ™¯å¡Œé™·æ˜¯ç”±é è¿‘ç›¸æœºçš„åŒºåŸŸçš„é«˜å¯†åº¦æ ·æœ¬å¼•èµ·çš„ã€‚ç”±äºè¿™ç§é‡‡æ ·ä¸å¹³è¡¡ï¼Œè¿‘ç›¸æœºä½“ç§¯æ¥æ”¶åˆ°æ›´å¤šçš„æ¢¯åº¦ï¼Œå¯¼è‡´ä¸æ­£ç¡®çš„å¯†åº¦ç§¯ç´¯ã€‚<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ¢¯åº¦ç¼©æ”¾æ–¹æ³•æ¥å¹³è¡¡è¿™ç§é‡‡æ ·ä¸å¹³è¡¡</strong>ï¼Œ<strong>æ¶ˆé™¤äº†å¯¹è¿‘å¹³é¢çš„éœ€è¦ï¼ŒåŒæ—¶é˜²æ­¢èƒŒæ™¯å´©æºƒ</strong>ã€‚æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥åœ¨å‡ è¡Œä»£ç ä¸­å®ç°ï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•æ˜¾è‘—çš„å¼€é”€ï¼Œå¹¶ä¸”ä¸å¤§å¤šæ•°NeRFå®ç°å…¼å®¹ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ç¥ç»è¾å°„åœº(Neural Radiance Fields, NeRF) [MST <em> 20]å¼•å…¥äº†ä¸€ç§æ–°çš„æ–¹æ³•ï¼Œå¯¹ç»™å®šä¸€ç»„å¤šè§†å›¾å›¾åƒçš„çœŸå®æ•è·ç‰©ä½“å’Œåœºæ™¯è¿›è¡Œ3Dé‡å»ºå’Œæ¸²æŸ“ã€‚NeRFæ–¹æ³•<strong>åŸºäºå¯å¾®åˆ†çš„ä½“ç§¯æ¸²æŸ“</strong>ï¼Œåœ¨ä½“ç§¯çš„æ¯ä¸ªç‚¹ä¸ŠæŒ‡å¯¼å¯†åº¦å’Œè¾å°„çš„å­˜åœ¨æˆ–ä¸å­˜åœ¨ã€‚è¿™ç§çµæ´»çš„è¡¨ç¤ºå’Œä»¤äººå°è±¡æ·±åˆ»çš„é‡å»ºè´¨é‡æ¿€å‘äº†æ–°çš„ç ”ç©¶æ–¹å‘ï¼Œåœ¨é‡å»ºè´¨é‡ã€é‡å»ºé€Ÿåº¦ã€æ¸²æŸ“é€Ÿåº¦ã€æ¨¡å‹å‹ç¼©æˆ–æ‰€éœ€å†…å­˜ç­‰æ–¹é¢æ”¹è¿›äº†åŸå§‹å…¬å¼ã€‚<em>*å°½ç®¡å¦‚æ­¤ï¼Œä¸€äº›é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯èƒŒæ™¯å´©æºƒå’Œæµ®åŠ¨</em></em>ä»ç„¶å­˜åœ¨äºå¤§å¤šæ•°æ–¹æ³•çš„é‡å»ºä¸­ï¼Œç‰¹åˆ«æ˜¯å¯¹äºçœŸå®åœºæ™¯ï¼Œè¿™æŒ‡å‘äº†ä¸€ä¸ªæ›´æ ¹æœ¬çš„é—®é¢˜ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶å¹¶æå‡ºäº†ä¸€ä¸ªå‡è®¾å’Œä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆæ¥è§£å†³èƒŒæ™¯å´©æºƒå’Œè¿‘ç›¸æœºæ¼‚æµ®ç‰©çš„é—®é¢˜ã€‚</p><p>èƒŒæ™¯å¡Œç¼©ç—‡çŠ¶æ˜¯éå¸¸æ˜æ˜¾çš„æµ®åŠ¨ä¼ªå½±ï¼Œå‡ºç°åœ¨è®­ç»ƒæ‘„åƒæœºé™„è¿‘ï¼Œ<strong>é”™è¯¯åœ°å°†ä¸€äº›èƒŒæ™¯çƒ¤æˆå‰æ™¯å¯†åº¦</strong>ã€‚</p><ul><li>å…ˆå‰çš„ç ”ç©¶Mip-NeRF 360[BMVâˆ—22]å·²ç»ç¡®å®šäº†è¿™ä¸ªé—®é¢˜ï¼Œè¯¥ç ”ç©¶åœ¨å¼ºè¿«å¯†åº¦é›†ä¸­å¹¶æ¥è¿‘ç‹„æ‹‰å…‹[BMVâˆ—22]çš„æŸå¤±ä¸­å¢åŠ äº†ä¸€ä¸ªé¡¹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<strong>è™½ç„¶è¿™ä¸ªé¡¹ç¡®å®å‡å°‘äº†èƒŒæ™¯å´©æºƒï¼Œä½†å®ƒå¹¶æ²¡æœ‰è§£é‡Šå®ƒï¼Œå¹¶ä¸”åœ¨ä¼˜åŒ–ä¸­å­˜åœ¨ä¸€äº›å…ˆéªŒï¼Œè¿™å¯èƒ½ä¸é€‚åˆæ‰€æœ‰åœºæ™¯</strong>ã€‚</li><li>å¦ä¸€ä¸ªç»å¸¸è¢«æ©ç›–çš„åœ¨å‡å°‘èƒŒæ™¯å¡Œç¼©ä¸­èµ·ä½œç”¨çš„ç»†èŠ‚æ˜¯<strong>åœ¨å°„çº¿è¡Œè¿›è¿‡ç¨‹ä¸­ä½¿ç”¨è¿‘å¹³é¢</strong>ã€‚å®ƒå®Œå…¨é˜²æ­¢æ¢¯åº¦åå‘ä¼ æ’­åˆ°è¿‘ç›¸æœºåŒºåŸŸï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰é‡‡æ ·ï¼Œ<strong>ä½†å®ƒæ˜¯åœºæ™¯ç›¸å…³çš„ï¼Œå¿…é¡»æ‰‹åŠ¨è°ƒæ•´ï¼Œå¹¶ä¸”åœ¨ç‰©ç†ä¸Šæ˜¯ä¸å‡†ç¡®çš„</strong>ã€‚æ­¤å¤–ï¼Œå¯¹äºä¸è¢«æ‘„å¯¹è±¡è·ç¦»ä¸åŒçš„å¤æ‚æ•è·ï¼Œå¯èƒ½ä¸å­˜åœ¨è‰¯å¥½çš„å…¨æ™¯å¼è¿‘å¹³é¢ã€‚</li><li>ç›¸åï¼Œæˆ‘ä»¬è®¤ä¸ºä»»ä½•NeRFæ–¹æ³•éƒ½åº”è¯¥èƒ½å¤Ÿç›´æ¥è·Ÿè¸ªæ¥è‡ªç›¸æœºçš„å…‰çº¿ï¼Œè€Œä¸ä¼šå¯¼è‡´èƒŒæ™¯å¡Œé™·æˆ–æ¼‚æµ®ç‰©ï¼Œå¹¶ä¸”<strong>è¿™ç§ä¼ªå½±çš„ä¸€ä¸ªå¯èƒ½åŸå› æ˜¯è¿‘ç›¸æœºä½“ç§¯å…ƒç´ æ¥æ”¶çš„æ¢¯åº¦ä¸æˆæ¯”ä¾‹</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®åœ¨åå‘ä¼ æ’­æœŸé—´ç¼©æ”¾æ¢¯åº¦ï¼Œä»¥ä½¿ç”¨éå¸¸ç®€å•çš„è¿‘ä¼¼æ¥è¡¥å¿è¿™ç§ä¸å¹³è¡¡ã€‚è¿™ç§ç¼©æ”¾å…è®¸æˆ‘ä»¬å®Œå…¨æ¶ˆé™¤å¯¹è¿‘å¹³é¢çš„éœ€æ±‚ï¼ŒåŒæ—¶é˜²æ­¢èƒŒæ™¯å¡Œé™·ã€‚</li></ul><p>åŸºäºNeRFçš„æ–¹æ³•ä¸»è¦åœ¨å…¶åº•å±‚ä½“ç§¯æ•°æ®ç»“æ„ä¸Šæœ‰æ‰€ä¸åŒï¼Œè¿™äº›æ•°æ®ç»“æ„å¯ä»¥ç®€å•åˆ°å¤šå±‚æ„ŸçŸ¥æœº[BMTâˆ—21,BMVâˆ—22,MSTâˆ—20]ï¼Œä½“ç´ å“ˆå¸Œç½‘æ ¼[MESK22]ï¼Œå¼ é‡åˆ†è§£[CXGâˆ—22]ç”šè‡³æ˜¯æ™®é€šä½“ç´ [SSC22a]ã€‚<strong>æˆ‘ä»¬è¡¨æ˜ï¼Œæ— è®ºé€‰æ‹©çš„æ•°æ®ç»“æ„å¦‚ä½•ï¼Œé‡æ„éƒ½å—ç›Šäºæˆ‘ä»¬çš„æ¢¯åº¦ç¼©æ”¾æ–¹æ³•</strong>ã€‚</p><p>è´¡çŒ®ï¼š</p><ul><li>ç¡®å®šä¸€ä¸ªèƒŒæ™¯å¡Œé™·å¯èƒ½çš„æ ¹æœ¬åŸå› ï¼šè¿‘ç›¸æœºåŒºåŸŸæ¢¯åº¦æ¥æ”¶çš„ä¸å¹³è¡¡ã€‚</li><li>æå‡ºä¸€ä¸ªè½»é‡çº§çš„æ¢¯åº¦ç¼©æ”¾è§£å†³æ–¹æ¡ˆã€‚</li><li>æ¼”ç¤ºäº†å®ƒåœ¨å…·æœ‰å¹¿æ³›ä¸åŒæ•°æ®ç»“æ„çš„å‡ ç§æ–¹æ³•ä¸­çš„æœ‰æ•ˆæ€§ã€‚</li></ul><h2 id="Related-work"><a href="#Related-work" class="headerlink" title="Related work"></a>Related work</h2><p>æˆ‘ä»¬è¯æ˜æˆ‘ä»¬çš„æ–¹æ³•å¯¹è®¸å¤šç°æœ‰çš„NeRF [MST <em> 20]ç›¸å…³æ–¹æ³•æ˜¯æœ‰ç›Šçš„ã€‚æˆ‘ä»¬é¦–å…ˆ<strong>ä»‹ç»åŸºäºè¾å°„åœºçš„è§†å›¾åˆæˆæ–¹æ³•</strong>ï¼Œç„¶å<strong>è¿›ä¸€æ­¥è®¨è®ºè¾å°„åœºæ–‡çŒ®ä¸­çš„èƒŒæ™¯å¡Œé™·å’Œè¿‘ç›¸æœºé‡‡æ ·é—®é¢˜</strong>ï¼Œä»¥åŠè¿„ä»Šä¸ºæ­¢<strong>å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜</strong>ã€‚ä¸ºäº†æ›´è¯¦å°½åœ°äº†è§£æœ€è¿‘å¿«èŠ‚å¥çš„æ–‡çŒ®ï¼Œæˆ‘ä»¬æ¨èTewariç­‰äººæœ€è¿‘å¯¹ç¥ç»æ¸²æŸ“çš„è°ƒæŸ¥Advances in Neural Rendering[TTM </em> 22]ã€‚</p><p><strong>NeRF representations</strong><br>NeRF [MST * 20]ä¸ºæ–°è§†å›¾åˆæˆå¼•å…¥äº†ä¸€ç§ä¸åŒçš„è¡¨ç¤ºã€‚ä¸ä¾èµ–äºé¢„è®¡ç®—å‡ ä½•å’Œé‡æŠ•å½±çš„åŸºäºç½‘æ ¼çš„æ–¹æ³•[OCDD15, HRDB16, HPPâˆ—18,RK20, RK21,PMGD21]æˆ–åŸºäºç‚¹äº‘çš„æ–¹æ³•[ASKâˆ—20,KPLD21, RALB22, KLRâˆ—22]ç›¸åï¼Œè¾å°„åœºé€šè¿‡å¯å¾®å°„çº¿æ¨è¿›å’Œä½“ç»˜åˆ¶å…±åŒä¼˜åŒ–ä¸‰ç»´ä½“ç§¯å¯†åº¦åœºå’Œå…­ç»´è¾å°„åœºã€‚è¿™ç§æ–¹æ³•ç»è¿‡è°ƒæ•´ï¼Œå¯ä»¥ä½¿ç”¨å„ç§æ•°æ®ç»“æ„æ¥å­˜å‚¨åº•å±‚å­—æ®µï¼Œä»è€Œæä¾›ä¸åŒçš„è´¨é‡ã€ç´§å‡‘æ€§ã€ä¼˜åŒ–é€Ÿåº¦å’Œå‘ˆç°é€Ÿåº¦æƒè¡¡ã€‚</p><ul><li>æœ€åˆçš„å·¥ä½œçº¿[MSTâˆ—20,ZRSK20]ä½¿ç”¨mlpæ¥è¡¨ç¤ºåœºæ™¯ï¼Œåæ¥æ‰©å±•åˆ°é˜²æ­¢æ··å [BMTâˆ—21]ï¼Œå¤„ç†æ— ç•Œåœºæ™¯[BMVâˆ—22]å¹¶æ›´å¥½åœ°è¡¨ç¤ºåå°„[VHMâˆ—22]ã€‚<strong>è™½ç„¶è¿™äº›æ–¹æ³•æä¾›äº†ä¸€äº›æœ€é«˜è´¨é‡çš„ç»“æœï¼Œä½†å®ƒä»¬çš„ä¼˜åŒ–é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼Œæ¸²æŸ“é€Ÿåº¦ä¹Ÿå¾ˆæ…¢ï¼Œé€šå¸¸æ¯å¸§éœ€è¦å‡ ç§’é’Ÿ</strong>ã€‚</li><li>ä¸ºäº†å…‹æœè¿™äº›é™åˆ¶ï¼Œä¸€äº›ä½œå“åœ¨è¡¨ç¤ºä¸­é‡æ–°å¼•å…¥äº†ä¸€äº›å±€éƒ¨æ€§ï¼Œä»¥é¿å…å¯¹æ¯ä¸ªç©ºé—´ç‚¹è¯„ä¼°ä¸€ä¸ªå¤§çš„MLPã€‚KiloNeRF [RPLG21]æå‡ºå…ˆè®­ç»ƒNeRFï¼Œç„¶åå†ç”¨å¾®å°çš„å±€éƒ¨mlpå†ç°ä¼˜åŒ–åçš„åœºï¼Œä»è€ŒåŠ å¿«æ¸²æŸ“é€Ÿåº¦ã€‚ä»¥ç±»ä¼¼çš„ç²¾ç¥ï¼ŒPlenOctrees [YLT <em> 21]åœ¨è®­ç»ƒåŸå§‹NeRFåçƒ˜çƒ¤ä¸€ä¸ªå…«å‰æ ‘ã€‚Hedmanç­‰äººæå‡ºçƒ˜çƒ¤[HSM </em> 21]é¢„è®­ç»ƒçš„NeRFæ¥æé«˜æ¸²æŸ“é€Ÿåº¦ï¼Œ<strong>ç„¶è€Œï¼Œå®ƒå¹¶æ²¡æœ‰æé«˜ä¼˜åŒ–æ—¶é—´</strong>ã€‚</li><li>åŠ é€Ÿä¼˜åŒ–å·²è¢«è¯æ˜å¯ä»¥é€šè¿‡ç›´æ¥ä¼˜åŒ–ç½‘æ ¼æˆ–åŸºäºä½“ç´ çš„æ•°æ®ç»“æ„[STCâˆ—22,SSC22a,SSC22b]ã€‚åœ¨è¿™ç§å¿«é€Ÿä¼˜åŒ–çš„èƒŒæ™¯ä¸‹ï¼Œç´§å‡‘æ€§ä¹Ÿå¾—åˆ°äº†æ”¹è¿›ï¼Œä½¿ç”¨å¼ é‡åˆ†è§£[CXGâˆ—22]æˆ–æ•£åˆ—ä½“ç´ [MESK22]å’Œè‡ªå®šä¹‰CUDAå†…æ ¸æ¥å®ç°æå¿«çš„ä¼˜åŒ–å’Œæ¸²æŸ“ã€‚</li></ul><p>æˆ‘ä»¬è¡¨æ˜ï¼Œè¿™ç§è¡¨ç¤ºçš„é€‰æ‹©ä¸æˆ‘ä»¬çš„è´¡çŒ®æ˜¯æ­£äº¤çš„ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„æ¢¯åº¦ç¼©æ”¾å¯ä»¥å¾ˆå®¹æ˜“åœ°é›†æˆï¼Œé€šè¿‡å¯¹å…·æœ‰ä¸åŒè¡¨ç¤ºçš„çªå‡ºæ–¹æ³•è¿›è¡Œè¯„ä¼°æ¥è§£å†³èƒŒæ™¯å´©æºƒã€‚</p><p><strong>Floaters, Background collapse and Sampling</strong><br>ä¸€äº›å·¥ä½œè§‚å¯Ÿå¹¶æå‡ºäº†è§£å†³åŸºäºè¾å°„åœºçš„æ–¹æ³•ä¸­æµ®å­å’ŒèƒŒæ™¯å¡Œç¼©é—®é¢˜çš„æ–¹æ³•ã€‚</p><ul><li>Roessleç­‰äºº[RBMâˆ—22]æå‡ºåœ¨ç¨€ç–æ•è·çš„èƒŒæ™¯ä¸‹ä½¿ç”¨æ·±åº¦å…ˆéªŒæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè€Œåœ¨NeRFShopä¸­ï¼ŒJambonç­‰äºº[JKKâˆ—23]æ‰¿è®¤æµ®åŠ¨çš„é—®é¢˜ï¼Œå¹¶æå‡ºäº†ä¸€ç§ç¼–è¾‘æ–¹æ³•æ¥å»é™¤å®ƒä»¬ã€‚MipNeRF360 [BMV <em> 22]æå‡ºäº†ä¸€ç§æŸè€—ï¼Œé¼“åŠ±å¯†åº¦æ²¿ç€å°„çº¿é›†ä¸­åœ¨å•ä¸ªç‚¹å‘¨å›´ï¼Œæœ‰æ•ˆåœ°å‡å°‘è¿‘ç›¸æœºçš„åŠé€æ˜è¾å°„ã€‚è¿™ç§ç›¸å¯¹è¾ƒå¤§çš„æŸå¤±è¿›ä¸€æ­¥æé«˜äº†æ•ˆç‡[SSC22b]ã€‚NeRF in the Dark[MHMB </em> 22]ä¹Ÿå»ºè®®å‡å°‘æƒé‡æ–¹å·®ä»¥å‡å°‘æµ®åŠ¨ã€‚FreeNeRF [YPW23]è¯¦ç»†è®¨è®ºäº†è¿™ä¸ªé—®é¢˜ï¼Œå°†å…¶ç§°ä¸ºâ€œå¢™å£â€å’Œâ€œæ¼‚æµ®ç‰©â€ï¼Œæ³¨æ„åˆ°å®ƒä»¬å­˜åœ¨äºç›¸æœºé™„è¿‘ï¼Œå› æ­¤å»ºè®®ç”¨é®æŒ¡æŸå¤±æ¥æƒ©ç½šç›¸æœºé™„è¿‘çš„å¯†åº¦ã€‚<strong>ç„¶è€Œï¼Œä½¿ç”¨è¿™äº›æŸå¤±ä¼šå¯¹åœºæ™¯å¯†åº¦åˆ†å¸ƒæ–½åŠ å…ˆéªŒï¼Œè¿™å¯èƒ½ä¸é€‚åˆæ‰€æœ‰å†…å®¹</strong>ã€‚<strong>æ­¤å¤–ï¼Œè¿™äº›æ–¹æ³•å¹¶ä¸èƒ½è§£é‡Šè¿™ç§ç°è±¡çš„æ ¹æœ¬åŸå› ï¼Œä¹Ÿä¸èƒ½è§£é‡Šä¸ºä»€ä¹ˆå¯†åº¦åœ¨ç›¸æœºé™„è¿‘è€Œä¸æ˜¯åœ¨å…¶ä»–åœ°æ–¹ç§¯èš</strong>ã€‚</li></ul><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ç§å¯èƒ½çš„è§£é‡Šå’Œè§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡æ³¨æ„åˆ°è¿‘ç›¸æœºåŒºåŸŸæ˜¯è¿‡åº¦é‡‡æ ·çš„ï¼Œå› æ­¤æ¥æ”¶åˆ°æ›´å¼ºçƒˆå’Œæ›´é¢‘ç¹çš„æ¢¯åº¦ã€‚<br>Nimier-Davidç­‰äºº[NDMKJ22]åœ¨ä½“ç§¯æ•ˆåº”ä¼˜åŒ–(ä¾‹å¦‚çƒŸé›¾)çš„èƒŒæ™¯ä¸‹å‘ç°äº†ç±»ä¼¼çš„é‡‡æ ·é—®é¢˜ï¼Œ<strong>å…¶ä¸­ä¸é€å°„ç‡å’Œå¯†åº¦çš„ç§¯æˆæ¯”ä¾‹çš„é‡‡æ ·å¯¼è‡´å¯†åº¦ç´¯ç§¯æ–‘å—ï¼Œè€Œä»…ä¸é€å°„ç‡æˆæ¯”ä¾‹çš„é‡‡æ ·å¯æ˜¾ç€å‡å°‘ä¼ªå½±</strong>ã€‚<br>åœ¨<strong>æˆ‘ä»¬</strong>çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¿®æ”¹é‡‡æ ·ï¼Œè€Œæ˜¯<strong>è€ƒè™‘äº†å®ƒåœ¨åå‘ä¼ æ’­æ­¥éª¤ä¸­çš„ä¸å¹³è¡¡</strong>ã€‚</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç®€è¦å›é¡¾äº†è¾å°„åœºä¼˜åŒ–(ç¬¬3.1èŠ‚)ï¼Œæˆ‘ä»¬å®šä¹‰äº†é—®é¢˜(ç¬¬3.2èŠ‚)ï¼Œå¹¶æå‡ºäº†æˆ‘ä»¬å¯¹è¯¥é—®é¢˜åŸå› çš„å‡è®¾(ç¬¬3.3èŠ‚)ã€‚</p><h2 id="Neural-Radiance-Fields-optimization"><a href="#Neural-Radiance-Fields-optimization" class="headerlink" title="Neural Radiance Fields optimization"></a>Neural Radiance Fields optimization</h2><p>å¤§å¤šæ•°NeRFæ–¹æ³•å…±äº«å…±åŒçš„ç»„ä»¶å’Œå‡è®¾ï¼Œä»¥ä¼˜åŒ–å…¶ä½“ç§¯è¡¨ç¤ºã€‚ä»æ ¡å‡†ç›¸æœºæ•è·çš„ä¸€ç»„å›¾åƒå¼€å§‹ï¼Œç›®æ ‡æ˜¯ä¼˜åŒ–å‘å°„emissiveä½“ç§¯å¯†åº¦ï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨åˆ†æ®µæ’å®šä½“ç§¯æ¸²æŸ“æ¸²æŸ“æ—¶å†ç°è¾“å…¥å›¾ç‰‡çš„å¤–è§‚ã€‚ä¸€èˆ¬ä¼˜åŒ–æ¡†æ¶åœ¨è¾“å…¥çš„è®­ç»ƒå›¾åƒä¸­é€‰æ‹©åƒç´ ç‚¹ï¼Œç”Ÿæˆä¸€æ¡ä»æ‘„åƒæœºå‡ºå‘ï¼Œæœå‘æ‰€é€‰åƒç´ ç‚¹çš„å°„çº¿ï¼Œå¹¶æ²¿ç€å°„çº¿åœ¨ç¦»æ•£ä½ç½®å¯¹æ•°æ®ç»“æ„è¿›è¡Œé‡‡æ ·ï¼Œä»è€Œè¿›è¡Œå°„çº¿è¡Œè¿›ï¼Œä»è€Œè·å¾—é¢œè‰²å’Œå¯†åº¦ã€‚è¿™äº›æ ·æœ¬çš„é¢œè‰²å’Œå¯†åº¦è¢«æ•´åˆï¼Œä»¥è·å¾—é€šè¿‡è¯¥åƒç´ æŠ•å°„çš„æ¯æ¡å…‰çº¿çš„é¢œè‰²ã€‚æœ€åå°†è¿™äº›é¢œè‰²çš„èšåˆä¸åŸå§‹åƒç´ å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¯¼è‡´ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™è¿›è¡Œä¼˜åŒ–çš„æŸå¤±ã€‚</p><h2 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h2><p>ä»…ç»™å®šä¸€ç»„æ ¡å‡†çš„è¾“å…¥å›¾åƒï¼ŒNeRFé‡å»ºé—®é¢˜æ˜¯ä¸é€‚å®šçš„ï¼Œå­˜åœ¨å¹¼ç¨šçš„è§£å†³æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œé è¿‘æ¯ä¸ªç›¸æœºçš„ä¸€ä¸ªå¹³é¢ï¼Œå†ç°å®ƒä»¬çš„å›¾åƒå†…å®¹ï¼Œå¯èƒ½å¯¼è‡´é‡å»ºæŸå¤±ä¸º0ã€‚åœ¨å®è·µä¸­ï¼Œæ•°æ®ç»“æ„å’ŒæŸå¤±æ­£åˆ™å™¨çš„æ€§è´¨éƒ¨åˆ†åœ°é˜»æ­¢äº†è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚ç„¶è€Œï¼Œä¸€äº›äººå·¥åˆ¶å“ç»å¸¸ä¿ç•™ä¸‹æ¥:æœ€çªå‡ºçš„ä¸¤ä¸ªæ˜¯æ¼‚æµ®ç‰©å’Œä¸€ç§è¢«ç§°ä¸ºèƒŒæ™¯å¡Œé™·çš„ç°è±¡ï¼Œåœ¨è¿™ç§ç°è±¡ä¸­ï¼Œä¸€äº›å‡ ä½•å½¢çŠ¶åœ¨ç›¸æœºé™„è¿‘è¢«é‡å»ºã€‚åè¿‡æ¥ï¼Œä»å…¶ä»–è§’åº¦æ¥çœ‹ï¼Œ<strong>è¿™ç§é”™è¯¯é‡å»ºçš„å‡ ä½•å½¢çŠ¶è¢«è§†ä¸ºæµ®åŠ¨å‡ ä½•å½¢çŠ¶</strong>ã€‚<strong>è¯·æ³¨æ„ï¼Œè™½ç„¶èƒŒæ™¯å¡Œé™·ä¼šå¯¼è‡´æµ®åŠ¨ï¼Œä½†ä¸€äº›æµ®åŠ¨å¯èƒ½æœ‰ä¸åŒçš„æ¥æºï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ— æ³•è§£å†³</strong>ã€‚</p><p>åœ¨å›¾2ä¸­ï¼Œæˆ‘ä»¬ç”¨falseé¢œè‰²å¯è§†åŒ–æ·±åº¦å›¾ï¼Œä»æ·±è“è‰²(è¿‘)åˆ°çº¢è‰²(è¿œ)ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ·±åº¦å›¾ä¸­çœ‹åˆ°æ²¡æœ‰æ­£åˆ™åŒ–å™¨æŸå¤±çš„æ·±è“è‰²åŒºåŸŸ(a)ï¼Œè¡¨æ˜åœ¨ç›¸æœºé™„è¿‘é‡å»ºäº†ä¸€äº›å‡ ä½•å½¢çŠ¶ã€‚åœ¨MipNeRF360ä¸­ï¼Œä½œè€…æå‡ºäº†ä¸€ä¸ªç›¸å¯¹å¤æ‚çš„loss $\mathcal{L}_{\mathrm{dist}}$ï¼Œä»¥éƒ¨åˆ†è§£å†³æµ®åŠ¨å’ŒèƒŒæ™¯å¡Œé™·é—®é¢˜â€”â€”è¿™äº›é—®é¢˜ä¸è¿‘è·ç¦»æ‘„åƒæœºå¯†åº¦åœ¨å…¶ä»–è§†è§’ä¸‹è¡¨ç°ä¸ºæµ®åŠ¨å‡ ä½•ç›¸å…³è”ã€‚å¯¹äºç»™å®šçš„å°„çº¿ï¼ŒæŸå¤±çš„ç›®çš„æ˜¯å°†æ ·æœ¬æƒå€¼åˆå¹¶åˆ°å°½å¯èƒ½å°çš„åŒºåŸŸå†…</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828161137.png" alt="image.png"></p><p>è™½ç„¶è¿™ç§æŸå¤±éƒ¨åˆ†åœ°é˜»æ­¢äº†èƒŒæ™¯å´©æºƒï¼Œä½†å®ƒå¹¶ä¸èƒ½è§£é‡Šå®ƒã€‚æ­¤å¤–ï¼Œå®ƒæ¨åŠ¨å¯†åº¦é›†ä¸­ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåŠé€æ˜çš„è¡¨é¢å‡ºç°åœ¨åœºæ™¯ä¸­ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç”¨éƒ¨åˆ†å¯†åº¦è¡¨ç¤ºçš„ã€‚<br>å¦ä¸€ç§å‡è½»èƒŒæ™¯å¡Œç¼©çš„ç®€å•æ–¹æ³•æ˜¯ä¸ºsuperior é›¶çš„å…‰çº¿è®¾ç½®ä¸€ä¸ªè¿‘å¹³é¢ï¼Œå³å…‰çº¿ä¸æ˜¯ä»ç›¸æœºä¸­å¿ƒå¼€å§‹ï¼Œè€Œæ˜¯ä»å®ƒæœ‰ä¸€å®šè·ç¦»ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªæŠ€å·§åœ¨å¤§å¤šæ•°nerfç›¸å…³çš„å·¥ä½œä¸­éƒ½æœ‰ä½¿ç”¨ï¼Œä½†å¾ˆå°‘è®¨è®ºï¼Œä¹Ÿå¾ˆå°‘è®¨è®ºå®ƒçš„å«ä¹‰ã€‚åœ¨ä¼˜åŒ–åƒç´ æ—¶ï¼Œ<strong>ä½¿ç”¨éé›¶è¿‘å¹³é¢å¯é˜²æ­¢ä»»ä½•æ¢¯åº¦å½±å“ç”±ç›¸æœºä¸­å¿ƒå’Œè¿‘å¹³é¢å½¢æˆçš„é‡‘å­—å¡”</strong>ã€‚<strong>å¦ä¸€æ–¹é¢ï¼Œå®ƒé˜²æ­¢åœ¨è¿™ä¸ªé‡‘å­—å¡”ä¸­é‡å»ºå’Œæ¸²æŸ“ï¼Œè¿™æ„å‘³ç€åº”è¯¥ä»”ç»†é€‰æ‹©è¿‘å¹³é¢è·ç¦»</strong>ã€‚å¦‚æœå®ƒç¦»ç›¸æœºå¤ªè¿‘ï¼Œå¯èƒ½ä¼šå‡ºç°èƒŒæ™¯å¡Œé™·ï¼Œå¦‚æœå®ƒå¤ªè¿œï¼Œåœ¨é‡å»ºè¿‡ç¨‹ä¸­ä¼šä¸¢å¤±ä¸€äº›å‡ ä½•å½¢çŠ¶ï¼Œå¹¶å¯èƒ½å¯¼è‡´å…¶ä»–ä¼ªå½±ã€‚ç¡®å®ï¼Œå½“è¿‘å¹³é¢ä½ç½®è¿‡è¿œæ—¶ï¼Œæ¨¡å‹å¿…é¡»åœ¨è¿‘å¹³é¢ä¹‹åç”¨å¯†åº¦è¡¨ç¤ºè®­ç»ƒåƒç´ çš„é¢œè‰²ã€‚è™½ç„¶é€šå¸¸å¯ä»¥ä¸ºè¿‘å¹³é¢è·ç¦»æ‰¾åˆ°åˆç†çš„å€¼ï¼Œ<strong>ä½†åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®ƒéœ€è¦å¯¹æ¯ä¸ªåœºæ™¯è¿›è¡Œè°ƒæ•´</strong>ã€‚åœ¨ä»ä¸åŒè·ç¦»æ‹æ‘„ä¸»ä½“çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè¿‘å¹³é¢è·ç¦»å¯èƒ½éœ€è¦ä¸ºæ¯å°ç›¸æœºç‹¬ç«‹è®¾ç½®ã€‚<strong>æ­¤å¤–ï¼Œå½“æŸäº›å†…å®¹åœ¨ç¦»ç›¸æœºå¾ˆè¿‘çš„åœ°æ–¹è¢«æ•è·æ—¶ï¼Œå¯èƒ½å°±æ²¡æœ‰ä»€ä¹ˆå¥½çš„ä»·å€¼äº†</strong>ã€‚</p><h2 id="Cause"><a href="#Cause" class="headerlink" title="Cause"></a>Cause</h2><p>æˆ‘ä»¬å‡è®¾èƒŒæ™¯å¡Œç¼©ä¸»è¦æ˜¯ç”±æ¥æ”¶åˆ°çš„è¿‘ç›¸æœºä½“ç§¯æ¢¯åº¦ä¸æˆæ¯”ä¾‹å¼•èµ·çš„ã€‚å¦‚å›¾3æ‰€ç¤ºï¼Œæ¥è‡ªç›¸æœºçš„å…‰çº¿æŠ•å°„ç±»ä¼¼äºå…‰çš„ä¼ æ’­ï¼Œå¹¶ä¸”é­å—ç±»ä¼¼çš„äºŒæ¬¡è¡°å‡ã€‚ç»™å®šä¸€ä¸ªç›¸æœºå’Œä¸€ä¸ªå¯è§çš„ä½“ç§¯å…ƒç´ ï¼Œå¹¶å‡è®¾æ²¿å…‰çº¿çš„é‡‡æ ·é—´éš”ç›¸ç­‰ï¼Œ<strong>åˆ™è½åœ¨ä½“ç§¯å…ƒç´ ä¸­çš„é‡‡æ ·å¯†åº¦ä¸åˆ°è¯¥ç›¸æœºçš„è·ç¦»çš„å¹³æ–¹çš„åæ¯”æˆæ­£æ¯”</strong>ã€‚è¿™æ„å‘³ç€é è¿‘ç›¸æœºçš„ä½“ç§¯æ¯”å®ƒçš„å…¶ä½™éƒ¨åˆ†é‡‡æ ·æ›´å¤šï¼Œ<strong>å¹¶ä¸”é è¿‘ç›¸æœºçš„åŒºåŸŸæ¯ä¸ªä½“ç§¯å…ƒç´ æ¥æ”¶åˆ°æ›´å¤šçš„æ¢¯åº¦ï¼Œä»è€Œé¼“åŠ±å¯†åº¦çš„å¿«é€Ÿå»ºç«‹</strong>ï¼Œå¹¶åˆ›å»ºæµ®åŠ¨ä¼ªå½±ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828162428.png" alt="image.png"><br><em>å½“å…‰çº¿ä»ç›¸æœºå‘åœºæ™¯ä¼ æ’­æ—¶ï¼Œé‡‡æ ·ç‚¹çš„å¯†åº¦é™ä½:ç¬¬ä¸€ä¸ªçŸ©å½¢ä¸­æ‰€æœ‰åŒºåŸŸéƒ½è¢«é‡‡æ ·ï¼Œè€Œç¬¬äºŒä¸ªçŸ©å½¢(ç”¨çº¢è‰²åœ†åœˆæ ‡è®°)ä¸­$\frac{1}{9}$åªæœ‰ä¸ªé‡‡æ ·ç‚¹ã€‚</em></p><p>äº‹å®ä¸Šï¼Œç”±äºç”¨äºè¡¨ç¤ºäº®åº¦åœºçš„æ•°æ®ç»“æ„é€šå¸¸æ˜¯è¿ç»­çš„ï¼Œä½“ç§¯å…ƒç´ è¾ƒé«˜çš„é‡‡æ ·ç‡ç›´æ¥è½¬åŒ–ä¸ºç”¨äºè¡¨ç¤ºä½“ç§¯çš„å¯†åº¦å’Œé¢œè‰²çš„å˜é‡çš„æ›´å¼ºå’Œæ›´é¢‘ç¹çš„æ¢¯åº¦ã€‚ä¾‹å¦‚ï¼Œåœ¨ä½¿ç”¨ç±»ä½“ç´ ç»“æ„[STC <em> 22, MESK22, SSC22a, SSC22b]çš„åŠç¦»æ•£è¡¨ç¤ºä¸­ï¼Œæƒå€¼å…·æœ‰å±€éƒ¨æ’åˆ—ã€‚åœ¨ç›´æ¥ä½“ç´ ç½‘æ ¼ä¼˜åŒ–(DVGO) [SSC22a]å’Œåç»­å·¥ä½œ(DVGOv2) [SSC22b]ä¸­ï¼Œåªæœ‰ä¸åŒ…å«é‡‡æ ·ç‚¹çš„ä½“ç´ è§’ç›¸å…³çš„8ä¸ªæƒé‡å—åˆ°åå‘ä¼ é€’çš„å½±å“ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œ<strong>æ›´é«˜çš„é‡‡æ ·å¯†åº¦ç›´æ¥è½¬åŒ–ä¸ºæ›´é¢‘ç¹åœ°æ¥æ”¶æ¢¯åº¦ï¼Œä»è€Œæ›´å¿«åœ°æ›´æ–°</strong>ã€‚åŒæ ·çš„æ¨ç†ä¹Ÿå¯ä»¥åº”ç”¨äºNGP [MESK22]ä¸­ä¸åŒçº§åˆ«çš„å“ˆå¸Œç½‘æ ¼ã€‚åœ¨ç±»ä¼¼MLPçš„éšå¼è¡¨ç¤º[MSTâˆ—20,BMTâˆ—21,BMVâˆ—22]çš„æƒ…å†µä¸‹ï¼Œ<em>*æ›´é«˜çš„é‡‡æ ·ç‡æ„å‘³ç€MLPåœ¨è¿‘ç›¸æœºç©ºé—´æ¥æ”¶åˆ°æ¯”å…¶ä»–åœ°æ–¹æ›´å¤šçš„ä¿¡å·</em></em>ã€‚</p><p>æˆ‘ä»¬è¿˜æ³¨æ„åˆ°ï¼Œå½“ä½é¢‘å°šæœªæ‹Ÿåˆæ—¶ï¼Œè¿™ç§é‡‡æ ·ä¸å¹³è¡¡åœ¨è®­ç»ƒæ—©æœŸå…·æœ‰æœ€å¼ºçš„å½±å“ã€‚åœ¨è¿™ä¸ªæ—©æœŸè®­ç»ƒé˜¶æ®µï¼Œæ¢¯åº¦å¯èƒ½åœ¨å±€éƒ¨éå¸¸ä¸€è‡´ï¼Œå› ä¸ºå®ƒä»¬éƒ½æœç€åŒä¸€ä¸ªå…¨å±€æ–¹å‘æ¨è¿›ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨æ—©æœŸè¿­ä»£ä¸­é¢„æµ‹çš„å°ä½“ç§¯çš„é¢œè‰²åœ¨ç°è‰²å‘¨å›´å˜åŒ–ï¼Œä½†ç›®æ ‡æ˜¯çº¢è‰²ï¼Œåˆ™æ‰€æœ‰ç‚¹éƒ½å°†è·å¾—è¿‘ä¼¼ç›¸åŒçš„æ¢¯åº¦ä»¥å°†é¢œè‰²æ›´æ”¹ä¸ºæ›´çº¢ã€‚<strong>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€å½±å“ä½“ç§¯å…ƒç´ çš„æƒé‡çš„æ¢¯åº¦éšè¯¥ä½“ç§¯çš„é‡‡æ ·å¯†åº¦çº¿æ€§ç¼©æ”¾ï¼Œå¹¶ä¸”æƒé‡å˜åŒ–å¾—æ›´å¿«</strong>ã€‚<br>å¯†åº¦å¤§çš„è¿‘ç›¸æœºéƒ¨åˆ†ï¼Œæ¢¯åº¦åº”è¯¥è¿›è¡Œç¼©å°</p><h2 id="Sampling-in-NeRF"><a href="#Sampling-in-NeRF" class="headerlink" title="Sampling in NeRF"></a>Sampling in NeRF</h2><p>ç»™å®šä¸€ä¸ªé’ˆå­”ç›¸æœº$c_i$ï¼Œè§†ç‚¹æ–¹å‘ä¸º$\vec{d}_i,$ï¼Œå¯¹å›¾åƒå¹³é¢ä¸Šçš„åƒç´ è¿›è¡Œå‡åŒ€é‡‡æ ·ã€‚æ²¿ç€è¿™äº›å°„çº¿ï¼Œå‡è®¾å¯¹ç‚¹è¿›è¡Œçº¿æ€§é‡‡æ ·ï¼Œåˆ™ç»™å®šç‚¹på¤„çš„é‡‡æ ·å¯†åº¦ä¸º:<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828163528.png" alt="image.png"></p><ul><li>å…¶ä¸­$\nu_i(p)$æ˜¯å¯è§æ€§å‡½æ•°(å¦‚æœpåœ¨ç›¸æœºè§†åœºä¸­ï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0)ã€‚</li><li>ç¬¬äºŒé¡¹è§£é‡Šäº†è¾¹ç•Œä¸Šå…‰çº¿çš„ç©ºé—´å¯†åº¦è¾ƒä½</li><li>ç¬¬ä¸‰é¡¹è§£é‡Šäº†å…‰çº¿éšè·ç¦»çš„æ‰©æ•£ã€‚å¯¹äºåˆç†çš„ç›¸æœºè§†åœºï¼Œä¸è·ç¦»è¡°å‡ç›¸æ¯”ï¼Œç¬¬äºŒé¡¹çš„å½±å“å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œæˆ‘ä»¬å¯ä»¥è¿‘ä¼¼åœ°è®¡ç®—å‡º$\frac{|p-c_i|}{\vec{d}_i\cdot(p-c_i)}\approx1$ï¼Œå¾—åˆ°:</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828164357.png" alt="image.png"><br>$\delta_{p}^i$ æ˜¯$c_i$ä¸pä¹‹é—´çš„è·ç¦»</p><p>å¯¹äºæœ‰nä¸ªæ‘„åƒæœºçš„å®Œæ•´åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ç»™å®šç‚¹på¤„çš„é‡‡æ ·å¯†åº¦ä¸ºæ‰€æœ‰æ‘„åƒæœºçš„å¯†åº¦ä¹‹å’Œï¼š$\mathsf{p}(p)\approx\sum_{i=0}^{n}\nu_{i}(p)\times\frac{1}{(\delta_{p}^{i})^{2}}$ Eq.3</p><p>ç”±å…¬å¼3ä¸­çš„æ€»å’Œç»™å‡ºçš„ä¸»è¦ç›´è§‰æ˜¯ï¼Œå¯¹äºä¸€ä¸ªç‚¹ï¼Œå¯è§ä¸”é è¿‘ç»™å®šçš„ç›¸æœºï¼Œæ€»å’Œç”±å•ä¸ªç›¸æœºé¡¹ä¸»å¯¼ï¼Œè€Œå¯¹äºè·ç¦»ç›¸æœºè¾ƒè¿œä¸”è·ç¦»å¤§è‡´ç›¸ç­‰çš„ç‚¹ï¼Œå¯è§æ€§é¡¹èµ·ç€é‡è¦ä½œç”¨ã€‚</p><ul><li>å¯¹äºé è¿‘æ‘„åƒæœºçš„ç‚¹ï¼Œè·ç¦»çš„å¹³æ–¹åæ¯”æœ‰éå¸¸æ˜¾è‘—çš„å½±å“ï¼Œè€Œè¿™äº›ç‚¹å¾€å¾€åªæœ‰å°‘æ•°æ‘„åƒæœºå¯è§ã€‚</li><li>å¦ä¸€æ–¹é¢ï¼Œæ‹æ‘„ä¸»ä½“å‘¨å›´çš„ç‚¹å¾€å¾€ä¼šè¢«æ›´å¤šçš„ç›¸æœºçœ‹åˆ°ã€‚è¿™ç§ç›¸æœºå¯è§ç°è±¡å¦‚å›¾4aæ‰€ç¤ºã€‚</li><li>åœ¨å›¾4bä¸­ï¼Œæˆ‘ä»¬ä»¥å¯¹æ•°å°ºåº¦è¯´æ˜äº†æ²¿ç›¸æœºå…‰çº¿çš„å¹³å‡é‡‡æ ·å¯†åº¦ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç›¸æœºé™„è¿‘ï¼Œå¯†åº¦å‘ˆäºŒæ¬¡è¡°å‡ï¼Œå°½ç®¡èƒ½è§åº¦è¾ƒä½ï¼Œ<strong>ä½†é è¿‘ç›¸æœºçš„ä½“ç§¯çš„é‡‡æ ·å¯†åº¦ä¸æˆæ¯”ä¾‹ï¼Œå¯¼è‡´è¿™äº›åŒºåŸŸçš„æ¢¯åº¦ä¸æˆæ¯”ä¾‹</strong>ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828164654.png" alt="image.png"><br><em>å°†çœ‹åˆ°å…‰çº¿ä¸Šä¸€ä¸ªç‚¹çš„ç›¸æœºçš„å¹³å‡æ•°é‡å¯è§†åŒ–ä¸ºåˆ°å…‰çº¿åŸç‚¹è·ç¦»çš„å‡½æ•°ã€‚ä»å„ç§æ–¹æ³•[BMVâˆ—22,CXGâˆ—22,SSC22a,MESK22]å¯¹12ä¸ªåœºæ™¯ä¸­æ‰€æœ‰æ‘„åƒæœºçš„å¾—åˆ†è¿›è¡Œå¹³å‡ã€‚å¤§å¤šæ•°é è¿‘æ‘„åƒæœºçš„ç‚¹åªèƒ½è¢«å°‘æ•°æ‘„åƒæœºçœ‹åˆ°ã€‚èƒ½è§åº¦å¢åŠ ï¼Œç›´åˆ°è¾¾åˆ°è¢«æ‘„ç‰©çš„å¹³å‡è·ç¦»ï¼Œç„¶åå†æ¬¡ä¸‹é™</em></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828164757.png" alt="image.png"><br><em>å¯è§†åŒ–çš„å¹³å‡ä½“ç§¯é‡‡æ ·çš„å…‰çº¿åœ¨ç›†æ™¯åœºæ™¯ä½œä¸ºä¸€ä¸ªå‡½æ•°åˆ°ç›¸æœºçš„è·ç¦»ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œå°½ç®¡èƒ½è§åº¦å¾ˆä½ï¼Œä½†é è¿‘ç›¸æœºçš„ä½“ç§¯å•ä½ä»è¢«è¿‡åº¦é‡‡æ ·</em></p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>ä¸ºäº†è¡¥å¿é è¿‘ç›¸æœºçš„é‡‡æ ·å¯†åº¦ä¸å¹³è¡¡ï¼Œæˆ‘ä»¬å»ºè®®åœ¨åå‘ä¼ é€’æœŸé—´ç¼©æ”¾æ¯ä¸ªç‚¹ç‰¹å¾(å¦‚å¯†åº¦æˆ–é¢œè‰²)åå‘ä¼ æ’­åˆ°NeRFè¡¨ç¤º(MLPï¼Œä½“ç´ ç½‘æ ¼ç­‰)çš„æ¢¯åº¦ã€‚æˆ‘ä»¬å»ºè®®é‡‡ç”¨ä»¥ä¸‹æ¢¯åº¦ç¼©æ”¾:</p><p>$s_{\nabla p}=min(1,(\mathbf{\delta}_{p}^{i})^{2})$ Eq.4</p><p>ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç”¨$\nabla p\times s_{\nabla p}.$æ¥ä»£æ›¿$\nabla_{p}$ã€‚å…¶ä¸­$\delta_{p}^{i}$æ˜¯ç‚¹åˆ°ç›¸æœºå…‰çº¿åŸç‚¹çš„è·ç¦»ã€‚</p><p>è¿™ç§ç¼©æ”¾è¡¥å¿äº†é è¿‘ç›¸æœºçš„ä¸»è¦æ­£æ–¹å½¢å¯†åº¦ï¼ŒåŒæ—¶ä¿æŒå…¶ä½™çš„æ¢¯åº¦ä¸å˜ã€‚<strong>è¯·æ³¨æ„ï¼Œç»™å®šç‚¹çš„ç¼©æ”¾å–å†³äºå…‰çº¿æŠ•å°„çš„ç›¸æœº</strong>ã€‚</p><p>å¯¹äºæå‡ºçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å‡è®¾ç›¸æœºå’Œæ•è·å†…å®¹ä¹‹é—´çš„å…¸å‹è·ç¦»ä¸º1ä¸ªå•ä½çš„è·ç¦»ã€‚æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå‡è®¾æ¥æ¨å¯¼Eq. 4ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬çš„å®éªŒä¸­æ²¡æœ‰è°ƒæ•´åœºæ™¯æ¯”ä¾‹ï¼Œå› ä¸ºå¤§å¤šæ•°åœºæ™¯éƒ½éµå¾ªè¿™ä¸ªå‡è®¾ã€‚å¦‚æœåœºæ™¯å°ºåº¦ä¸æ­¤å‡è®¾æœ‰æ˜¾è‘—å·®å¼‚ï¼Œå¹¶ä¸”æ•è·çš„å†…å®¹å¤„äºÏƒå•ä½è·ç¦»çš„æ•°é‡çº§ï¼Œåˆ™æƒé‡å¯ä»¥æ›¿æ¢ä¸º:$s_{\nabla P}=min(1,\frac{(\delta_{p}^{i})^{2}}{\sigma^{2}})$ Eq.5</p><p>åœ¨æ‘„åƒæœºæ ‡å®šçš„åŸºç¡€ä¸Šï¼Œæœ‰å¯èƒ½è‡ªåŠ¨ä¼°è®¡å‡ºÏƒã€‚<br><strong>ç›´æ¥ä½œç”¨äºæ¢¯åº¦æ˜¯ä¸å¸¸è§çš„ï¼Œä½†è®¾è®¡ä¸€ä¸ªæŸå¤±æ¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœå°†æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„</strong>: æŸå¤±éœ€è¦è®¿é—®æ ·æœ¬çš„å•ä¸ªå¯†åº¦/é¢œè‰²ï¼Œå› ä¸ºä¸å¯èƒ½æ ¹æ®ä½“ç§¯ç§¯åˆ†åçš„è·ç¦»å¯¹å•ä¸ªç‚¹äº§ç”Ÿä¸åŒçš„å½±å“ã€‚æ­£åˆ™åŒ–å•ä¸ªå¯†åº¦/é¢œè‰²ä¼šå¯¹å®ƒä»¬çš„å€¼æ–½åŠ å…ˆéªŒï¼Œè€Œç¼©æ”¾æ¢¯åº¦ä¼šé™ä½å®ƒä»¬å˜åŒ–çš„é€Ÿåº¦ã€‚<strong>æ­¤å¤–ï¼Œå¯†åº¦ä¸º0çš„æ ·å“å¯¹å‰å‘é¢œè‰²æ²¡æœ‰è´¡çŒ®ï¼Œä½†å¯èƒ½ä¼šæ”¶åˆ°æ˜¾è‘—çš„æ¢¯åº¦</strong>ã€‚æ·»åŠ æ–°çš„æŸå¤±æ„å‘³ç€å°†è¯¥æŸå¤±çš„æ¢¯åº¦æ·»åŠ åˆ°å…¶ä»–æŸå¤±/æ­£åˆ™åŒ–å™¨çš„æ¢¯åº¦(å¾®åˆ†æ±‚å’Œè§„åˆ™)ï¼Œä½¿å…¶éš¾ä»¥é‡ç°ç¼©æ”¾çš„æ•ˆæœã€‚<br><strong>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¢¯åº¦ç¼©æ”¾æ˜¯ç›´æ¥çš„ï¼Œå®ƒæ”¹å˜äº†ç›¸æœºé™„è¿‘æ ·æœ¬çš„å¯†åº¦/é¢œè‰²çš„æ›´æ–°å¹…åº¦ï¼Œæœ‰åŠ©äºé¿å…å±€éƒ¨æœ€å°å€¼</strong>ã€‚</p><h2 id="Non-linear-space-parameterization"><a href="#Non-linear-space-parameterization" class="headerlink" title="Non-linear space parameterization"></a>Non-linear space parameterization</h2><p>ä¸€äº›æ–¹æ³•[BMV * 22]ä½¿ç”¨åæ ‡$f(p)\in\mathbb{R}^3\rightarrow\mathbb{R}^3$çš„éçº¿æ€§å‚æ•°åŒ–å°†æ— ç•Œåœºæ™¯æ‹Ÿåˆåˆ°æœ‰ç•Œåæ ‡ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥è€ƒè™‘ç©ºé—´çš„ä½“ç§¯æ”¶ç¼©æ¥ç¼©æ”¾æ¢¯åº¦ã€‚è¿™ä¸ªæ”¶ç¼©å› å­æ˜¯é›…å¯æ¯”çŸ©é˜µ$\mathbb{J}_{f}$ of fçš„è¡Œåˆ—å¼çš„ç»å¯¹å€¼ã€‚è¿™æ ·ç¼©æ”¾å°±å˜æˆ:<br>$s_{\nabla p}=min(1,\frac{(\delta_{p}^{i})^{2}}{|\det(\mathbb{J}_{f}(p)|})$</p><p>æ ¹æ®æ˜ å°„ï¼Œ$\det(\mathbb{J}_f(p))$è®¡ç®—èµ·æ¥å¯èƒ½ä¸å®¹æ˜“ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨å®ƒï¼Œä½†æœªæ¥çš„å·¥ä½œå¯èƒ½éœ€è¦å®ƒã€‚äº‹å®ä¸Šï¼Œåœ¨MipNeRF360ä¸­ï¼Œåœºæ™¯çš„ä¸­å¿ƒç©ºé—´ï¼ŒåŒ…å«å¤§å¤šæ•°ç›¸æœºä¸å—æ˜ å°„å½±å“ï¼Œå› æ­¤é›…å¯æ¯”çŸ©é˜µæ˜¯æ’ç­‰å¼ã€‚</p><h2 id="Implementation-and-performance"><a href="#Implementation-and-performance" class="headerlink" title="Implementation and performance"></a>Implementation and performance</h2><p>åœ¨PyTorchä¸­ä½¿ç”¨è‡ªå®šä¹‰autogradå®ç°æ­¤æ“ä½œéå¸¸ç®€å•ã€‚å‡½æ•°ï¼Œå¦‚å›¾5ä¸­çš„10è¡Œä»£ç æ‰€ç¤ºã€‚æˆ‘ä»¬è¿˜åœ¨è¡¥å……ææ–™ä¸­æä¾›äº†ä¸€ä¸ªJAXå®ç°ï¼Œå®ƒç›´æ¥ä¸multinerf [MVS * 22]ä»£ç åº“å…¼å®¹ã€‚ä½¿ç”¨æ­¤æ“ä½œï¼Œå¯ä»¥åœ¨æ•°æ®ç»“æ„(MLPï¼Œå“ˆå¸Œç½‘æ ¼ï¼Œä½“ç´ ç­‰)é‡‡æ ·ä¹‹åï¼Œä»¥åŠæ²¿ç€å°„çº¿çš„ç‚¹ç§¯åˆ†ä¹‹å‰æ’å…¥å¯¹å®ƒçš„å•ä¸ªè°ƒç”¨ã€‚è¿™ç¡®ä¿äº†æ¯ä¸ªç‚¹æ¢¯åº¦æ˜¯ç‹¬ç«‹ç¼©æ”¾çš„ï¼ŒåŒæ—¶å½±å“æ§åˆ¶å…¶ç‰¹å¾(å¯†åº¦å’Œé¢œè‰²)çš„æƒé‡ã€‚ç¬¬4.2èŠ‚ä¸­ç»™å‡ºçš„ä»£ç åœ¨é€†å‘ä¼ é€’300kä¸ªç‚¹æ—¶äº§ç”Ÿ100Î¼sçš„å¼€é”€ï¼Œè¿™åœ¨~ 50msè¿­ä»£çš„ä¸Šä¸‹æ–‡ä¸­å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚å®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨å¤§å¤šæ•°ä»£ç åº“ä¸­ä½¿ç”¨ï¼Œåªéœ€è¿›è¡Œæœ€å°çš„è°ƒæ•´ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828170720.png" alt="image.png"></p><h1 id="Evaluations"><a href="#Evaluations" class="headerlink" title="Evaluations"></a>Evaluations</h1><p>æˆ‘ä»¬å¯¹å¹¿æ³›çš„ä½“ç§¯é‡å»ºæ–¹æ³•å’Œè¡¨ç¤ºè¿›è¡Œäº†ç»éªŒè¯„ä¼°ã€‚è™½ç„¶æˆ‘ä»¬æ²¡æœ‰å¯¹æ”¹è¿›ä¼˜åŒ–çš„æ”¶æ•›æ€§æä¾›ç†è®ºåˆ†æï¼Œä½†æˆ‘ä»¬å‘ç°æ‰€æå‡ºçš„ç¼©æ”¾å‡å°‘äº†æ‰€æœ‰æµ‹è¯•æ–¹æ³•çš„æµ®åŠ¨æ•°ï¼ŒåŒæ—¶ä¿ç•™æˆ–æ”¹è¿›äº†åŒ…æ‹¬ä¼˜åŒ–æŸå¤±åœ¨å†…çš„å®šé‡åº¦é‡ã€‚</p><h2 id="Clamped-quadratic-scaling"><a href="#Clamped-quadratic-scaling" class="headerlink" title="Clamped quadratic scaling"></a>Clamped quadratic scaling</h2><p>è€ƒè™‘åˆ°é—®é¢˜çš„æ€§è´¨ï¼Œä¸€ä¸ªç›´æ¥çš„å€™é€‰æ–¹æ³•å¯èƒ½æ˜¯å°†æ¢¯åº¦æŒ‰$(\mathbf{\delta}_p^i)^2$ç¼©æ”¾ï¼Œä»¥è¡¥å¿é‡‡æ ·å¯†åº¦çš„äºŒæ¬¡è¡°å‡ã€‚è™½ç„¶è¿™ç¡®å®è§£å†³äº†è¿‘ç›¸æœºé‡‡æ ·ä¸å¹³è¡¡é—®é¢˜ï¼Œä½†å®ƒä¼šå¯¼è‡´è¿œç¦»ç›¸æœºçš„éå¸¸å¼ºçš„æ¢¯åº¦ï¼Œä»è€Œæ— æ³•æ­£ç¡®å­¦ä¹ å¦‚å›¾6(ä¸­è¡Œ)æ‰€ç¤ºçš„æ›²é¢ã€‚<br>å¦‚å¼3æ‰€ç¤ºï¼Œç»™å®šç‚¹çš„é‡‡æ ·å¯†åº¦æ˜¯æ‰€æœ‰æ‘„åƒæœºé‡‡æ ·å¯†åº¦ä¹‹å’Œçš„ç»“æœã€‚è¿™æ„å‘³ç€åœ¨æ¯ä¸ªç»™å®šçš„ç›¸æœºé™„è¿‘ï¼Œä½“ç§¯å…ƒç´ çš„é‡‡æ ·å¯†åº¦çš„é€†äºŒæ¬¡æ€§è´¨çš„å‡è®¾å¤§å¤šæ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºæ¥è‡ªå…¶ä»–ç›¸æœºçš„é‡‡æ ·åœ¨è¯¥åŒºåŸŸå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚å› æ­¤ï¼Œå½“åˆ°è¾¾åœºæ™¯çš„ä¸»è¦å†…å®¹(æ·±åº¦ä¸º1å·¦å³)æ—¶ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸ä¿®æ”¹æ¢¯åº¦ï¼Œè®©ç›¸æœºçš„åˆ†å¸ƒå¼•å¯¼è¿™äº›åŒºåŸŸçš„é‡‡æ ·å¯†åº¦ï¼Œå¦‚å›¾4bæ‰€ç¤ºã€‚<br>è®©æ›´å¤šçš„ç›¸æœºçœ‹åˆ°ä¸€ä¸ªç‚¹å…·æœ‰æ½œåœ¨çš„ç§¯æä½œç”¨ï¼Œå› ä¸ºå®ƒå°†æ ·æœ¬é›†ä¸­åœ¨æœ‰è¶£çš„åŒºåŸŸï¼Œè€Œä¸æ˜¯è¿‘ç›¸æœºé‡‡æ ·ä¸å¹³è¡¡ï¼Œè¿™çº¯ç²¹æ˜¯ç”±äºå…‰çº¿è¡Œè¿›è¿‡ç¨‹çš„æ€§è´¨è€Œäº§ç”Ÿçš„ä¼ªå½±ã€‚æˆ‘ä»¬åœ¨å›¾6ä¸­è¯´æ˜ï¼Œæˆ‘ä»¬çš„æ¢¯åº¦ç¼©æ”¾æ–¹æ³•æœ‰åŠ©äºå°†æ¢¯åº¦é›†ä¸­åœ¨åœºæ™¯ä¸­å¿ƒé™„è¿‘ï¼Œé˜²æ­¢èƒŒæ™¯å´©æºƒï¼Œå¹¶ä¸”ä½¿ç”¨çº¯äºŒæ¬¡ç¼©æ”¾ä¼šå¯¼è‡´æ›´å·®çš„æ”¶æ•›å’Œé‡å»ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828170940.png" alt="image.png"></p><p>æˆ‘ä»¬æ¯”è¾ƒäº†ä½¿ç”¨NGPè‡ªå®šä¹‰å®ç°çš„ä¸‰ç§ä¸åŒçš„æ¢¯åº¦ç¼©æ”¾æ–¹æ³•[MESK22]ã€‚å¯¹äºå®ƒä»¬ï¼Œæˆ‘ä»¬è®¾è¿‘å¹³é¢ä¸º0ã€‚</p><ul><li>åœ¨æœ€ä¸Šé¢ä¸€è¡Œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ²¡æœ‰ä»»ä½•ç¼©æ”¾çš„æƒ…å†µä¸‹ï¼Œå¯†åº¦åœ¨è®­ç»ƒæ‘„åƒæœºé™„è¿‘å»ºç«‹å¾—éå¸¸å¿«ï¼Œè™½ç„¶åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­æœ‰äº›å¯†åº¦è¢«åˆ é™¤äº†ï¼Œä½†ä¸€äº›è¿‘è·ç¦»æ‘„åƒæœºå¯†åº¦æœ€ç»ˆä¿ç•™äº†ä¸‹æ¥ã€‚</li><li>åœ¨ä¸­é—´ä¸€è¡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œçº¯äºŒæ¬¡ç¼©æ”¾å¯¼è‡´è¿œå¯†åº¦çš„åå‘ã€‚Tableé¦–å…ˆåœ¨èƒŒæ™¯é‡å»ºï¼Œä¼˜åŒ–ä¸ä¼šä»è¿™ä¸ªé”™è¯¯çš„åˆå§‹åŒ–ä¸­æ¢å¤ã€‚</li><li>æˆ‘ä»¬åœ¨ä¸‹é¢ä¸€è¡Œå±•ç¤ºäº†æˆ‘ä»¬çš„<strong>é—­åˆæ¢¯åº¦ç¼©æ”¾</strong>çš„ç»“æœã€‚æˆ‘ä»¬æ¸…æ¥šåœ°çœ‹åˆ°äº†è¯¥æ–¹æ³•çš„ä¼˜ç‚¹ï¼Œè¯¥è¡¨çš„å‡ ä½•å½¢çŠ¶è¢«å¿«é€Ÿè€Œè‰¯å¥½åœ°é‡å»ºï¼Œå¹¶ä¸”åœ¨æ²¡æœ‰èƒŒæ™¯å´©æºƒçš„æƒ…å†µä¸‹æ”¶æ•›åˆ°æ›´å¥½çš„ä¼°è®¡ã€‚</li></ul><h2 id="Gradient-scaling-for-various-NeRF-representation"><a href="#Gradient-scaling-for-various-NeRF-representation" class="headerlink" title="Gradient scaling for various NeRF representation"></a>Gradient scaling for various NeRF representation</h2><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†<strong>å±•ç¤ºæ·»åŠ æ¢¯åº¦ç¼©æ”¾åˆ°å„ç§ç°æœ‰æ–¹æ³•çš„æ•ˆæœ</strong>ï¼Œå¹¶å±•ç¤ºå®ƒåˆ é™¤äº†æ‰€æœ‰è¿™äº›æ–¹æ³•çš„èƒŒæ™¯æŠ˜å æ•ˆæœã€‚è¿™åœ¨è¡¥å……ææ–™ä¸­çš„è§†é¢‘ä¸­å°¤ä¸ºæ˜æ˜¾ã€‚å¯¹äºæ¯ç§æ–¹æ³•ï¼Œæˆ‘ä»¬éƒ½å°½å¯èƒ½åœ°ä½¿ç”¨å®ƒä»¬çš„å®ç°ï¼Œå¯¼è‡´ä¸åŒé¢œè‰²çš„æ·±åº¦ç¼–ç ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªå›¾å½¢å®šä¹‰å®ƒã€‚é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™æˆ‘ä»¬å‘ˆç°æµ‹è¯•è§†å›¾ã€‚</p><ul><li>DVGOä½¿ç”¨æ ‡é‡scalarä½“ç´ ç½‘æ ¼è¡¨ç¤ºå¯†åº¦ï¼Œä½¿ç”¨å¸¦æœ‰æµ…MLPçš„ç‰¹å¾ç½‘æ ¼è¡¨ç¤ºé¢œè‰²</li><li>Instant NGPä½¿ç”¨å¤šå±‚å“ˆå¸Œç‰¹å¾ç½‘æ ¼å’Œæµ…MLPæ¥è¡¨ç¤ºåœºæ™¯çš„å¯†åº¦å’Œé¢œè‰²</li><li>TensoRFä½¿ç”¨è¡¨ç¤ºåœºæ™¯çš„4Då¼ é‡çš„å› å¼åˆ†è§£æ¥æ¨¡æ‹Ÿå¯†åº¦å’Œé¢œè‰²</li><li>MipNeRF360ä½¿ç”¨MLPå’Œè‡ªå®šä¹‰é¢‘ç‡ç¼–ç åœ¨å¤šä¸ªç»†èŠ‚çº§åˆ«å¯¹åœºæ™¯è¿›è¡Œå»ºæ¨¡ï¼Œé˜²æ­¢æ··å ï¼Œ<strong>å°†MipNeRF360ä¸­çš„$\mathcal{L}_{dist}$ä¸æœ¬æ–‡æ–¹æ³•ç»“åˆèµ·æ¥å¾—åˆ°æœ€å¥½çš„æ•ˆæœ</strong></li></ul><h2 id="Quantitative-evaluation-and-discussions"><a href="#Quantitative-evaluation-and-discussions" class="headerlink" title="Quantitative evaluation and discussions"></a>Quantitative evaluation and discussions</h2><p>PSNR â†‘ SSIM â†‘ LPIPS â†“</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
            <tag> Sampling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeuS2</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/NeuS2/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/NeuS2/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeuS2: Fast Learning of Neural Implicit Surfaces for Multi-view Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://19reborn.github.io/">Yiming Wang</a><em> 1   Qin Han</em> 1   <a href="https://people.mpi-inf.mpg.de/~mhaberma/">Marc Habermann</a> 2   <a href="https://www.cis.upenn.edu/~kostas/">Kostas Daniilidis</a> 3   <a href="http://people.mpi-inf.mpg.de/~theobalt/">Christian Theobalt</a>2   <a href="https://lingjie0206.github.io/">Lingjie Liu</a> 2,3</td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://vcai.mpi-inf.mpg.de/projects/NeuS2/">NeuS2: Fast Learning of Neural Implicit Surfaces for Multi-view Reconstruction (mpg.de)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4791605939006341121&amp;noteId=1933174180423622400">NeuS2: Fast Learning of Neural Implicit Surfaces for Multi-view Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826151714.png" alt="image.png"></p><p>åœ¨NeusåŸºç¡€ä¸Šæ·»åŠ äº†ï¼š</p><ul><li>å“ˆå¸Œç¼–ç åŠ é€Ÿ<ul><li>å®šåˆ¶çš„äºŒé˜¶å¯¼æ•°åå‘ä¼ æ’­è®¡ç®—</li><li>æ¸è¿›å¼å­¦ä¹ ç­–ç•¥(æ¸è¿›æ·»åŠ é«˜leveçš„å“ˆå¸Œè¡¨)</li></ul></li><li>åŠ¨æ€åœºæ™¯é‡å»º<ul><li>å…¨å±€å˜æ¢é¢„æµ‹</li><li>å¢é‡è®­ç»ƒç­–ç•¥</li></ul></li></ul><p>ä¸»è¦ä»£ç é€šè¿‡cuda c++ç¼–å†™</p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>å±€é™:<br>è™½ç„¶æˆ‘ä»¬çš„æ–¹æ³•ä»¥é«˜è´¨é‡é‡å»ºåŠ¨æ€åœºæ™¯çš„æ¯ä¸€å¸§ï¼Œ<strong>ä½†å¸§ä¹‹é—´æ²¡æœ‰å¯†é›†çš„è¡¨é¢å¯¹åº”</strong>ã€‚ä¸€ç§å¯èƒ½çš„æ–¹æ³•æ˜¯ä½¿ç½‘æ ¼æ¨¡æ¿å˜å½¢ï¼Œä»¥é€‚åº”æˆ‘ä»¬ä¸ºæ¯ä¸€å¸§å­¦ä¹ çš„ç¥ç»è¡¨é¢ï¼Œå°±åƒ[9ï¼Œ71]ä¸­ä½¿ç”¨çš„ç½‘æ ¼è·Ÿè¸ªä¸€æ ·ã€‚ç›®å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¿å­˜æ¯å¸§ï¼ˆ25Mï¼‰çš„ç½‘ç»œå‚æ•°ã€‚<strong>ä½œä¸ºæœªæ¥çš„å·¥ä½œï¼Œå¯ä»¥æ¢ç´¢å¯¹åŠ¨æ€åœºæ™¯è¿›è¡Œç¼–ç çš„æ­¤ç±»å‚æ•°çš„å‹ç¼©</strong></p><p>ç»“è®ºï¼š<br>æˆ‘ä»¬æå‡ºäº†ä¸€ç§åŸºäºå­¦ä¹ çš„æ–¹æ³•ï¼Œä»¥å‰æ‰€æœªæœ‰çš„è¿è¡Œæ—¶æ€§èƒ½å¯¹é™æ€å’ŒåŠ¨æ€åœºæ™¯è¿›è¡Œç²¾ç¡®çš„å¤šè§†å›¾é‡å»ºã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç é›†æˆåˆ°ç¥ç»SDFä¸­ï¼Œå¹¶æ ¹æ®æˆ‘ä»¬çš„ä¸“ç”¨ç½‘ç»œæ¶æ„å¼•å…¥äº†äºŒé˜¶å¯¼æ•°çš„ç®€å•è®¡ç®—ã€‚ä¸ºäº†å¢å¼ºè®­ç»ƒæ”¶æ•›æ€§ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ¸è¿›å¼è®­ç»ƒç­–ç•¥æ¥å­¦ä¹ å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ã€‚å¯¹äºåŠ¨æ€åœºæ™¯é‡å»ºï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§å¸¦æœ‰å…¨å±€å˜æ¢é¢„æµ‹ç»„ä»¶çš„å¢é‡è®­ç»ƒç­–ç•¥ï¼Œè¯¥ç­–ç•¥åˆ©ç”¨äº†ä¸¤ä¸ªè¿ç»­å¸§ä¸­çš„å…±äº«å‡ ä½•ä½“å’Œå¤–è§‚ä¿¡æ¯ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æœ€è¿‘çš„ç¥ç»è¡¨é¢è¡¨ç¤ºå’Œæ¸²æŸ“æ–¹æ³•ï¼Œä¾‹å¦‚Neus[62]ï¼Œå·²ç»è¯æ˜äº†é™æ€åœºæ™¯çš„é«˜è´¨é‡é‡å»ºã€‚ç„¶è€Œï¼ŒNeusçš„è®­ç»ƒæ—¶é—´éå¸¸é•¿(8å°æ—¶)ï¼Œè¿™ä½¿å¾—å®ƒå‡ ä¹ä¸å¯èƒ½åº”ç”¨åˆ°æ•°åƒå¸§çš„åŠ¨æ€åœºæ™¯ä¸­ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§å¿«é€Ÿçš„ç¥ç»è¡¨é¢é‡å»ºæ–¹æ³•ï¼Œç§°ä¸ºNeuS2ï¼Œåœ¨ä¸å½±å“é‡å»ºè´¨é‡çš„æƒ…å†µä¸‹ï¼Œåœ¨åŠ é€Ÿæ–¹é¢å®ç°äº†ä¸¤ä¸ªæ•°é‡çº§çš„æ”¹è¿›ã€‚ä¸ºäº†åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ï¼Œæˆ‘ä»¬é€šè¿‡<strong>å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç å‚æ•°åŒ–</strong>ç¥ç»è¡¨é¢è¡¨ç¤ºï¼Œå¹¶æå‡ºäº†ä¸€ç§é’ˆå¯¹æˆ‘ä»¬çš„ç½‘ç»œ<strong>å®šåˆ¶çš„äºŒé˜¶å¯¼æ•°çš„æ–°å‹è½»é‡çº§è®¡ç®—</strong>ï¼Œä»¥åˆ©ç”¨CUDAå¹¶è¡Œæ€§ï¼Œå®ç°äº†ä¸¤å€çš„é€Ÿåº¦æå‡ã€‚ä¸ºäº†è¿›ä¸€æ­¥ç¨³å®šå’ŒåŠ é€Ÿè®­ç»ƒï¼Œ<strong>æå‡ºäº†ä¸€ç§æ¸è¿›å¼å­¦ä¹ ç­–ç•¥ï¼Œå°†å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ä»ç²—åˆ°ç»†è¿›è¡Œä¼˜åŒ–</strong>ã€‚<br>æˆ‘ä»¬<strong>æ‰©å±•äº†åŠ¨æ€åœºæ™¯çš„å¿«é€Ÿè®­ç»ƒæ–¹æ³•ï¼Œæå‡ºäº†ä¸€ç§å¢é‡è®­ç»ƒç­–ç•¥å’Œä¸€ç§æ–°çš„å…¨å±€å˜æ¢é¢„æµ‹ç»„ä»¶ï¼Œä½¿æˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿå¤„ç†å…·æœ‰å¤§è¿åŠ¨å’Œå˜å½¢çš„å…·æœ‰æŒ‘æˆ˜æ€§çš„é•¿åºåˆ—</strong>ã€‚<br>æˆ‘ä»¬åœ¨å„ç§æ•°æ®é›†ä¸Šçš„å®éªŒè¡¨æ˜ï¼Œæ— è®ºæ˜¯é™æ€åœºæ™¯è¿˜æ˜¯åŠ¨æ€åœºæ™¯ï¼ŒNeuS2åœ¨è¡¨é¢é‡å»ºç²¾åº¦å’Œè®­ç»ƒé€Ÿåº¦æ–¹é¢éƒ½æ˜æ˜¾ä¼˜äºç›®å‰çš„æŠ€æœ¯æ°´å¹³ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>Reconstructing the dynamic 3D world from 2D imagesçš„åº”ç”¨ï¼šAR/VRã€3Dç”µå½±ã€æ¸¸æˆã€telepresenceã€3Dæ‰“å°ç­‰ç­‰<ul><li>ä¼ ç»Ÿæ–¹æ³•ï¼šå¦‚ç‰¹å¾åŒ¹é…ï¼Œä»ç„¶ç›¸å¯¹ç¼“æ…¢ï¼Œéš¾ä»¥é‡å»ºé«˜è´¨é‡çš„ç»“æœã€‚</li><li>åŸºäºéšå¼è¡¨ç¤ºçš„ä¸‰ç»´é‡å»ºï¼šå¦‚Neuså¯ä»¥äº§ç”Ÿé«˜è´¨é‡çš„é‡å»ºç»“æœï¼Œä½†å…¶è®­ç»ƒè¿‡ç¨‹éå¸¸ç¼“æ…¢</li><li>Instant-NGPé€šè¿‡åˆ©ç”¨å¤šåˆ†è¾¨ç‡å“ˆå¸Œè¡¨å¢å¼ºç¥ç»ç½‘ç»œç¼–ç çš„è¾å°„åœºï¼Œæ¢ç´¢äº†ç¥ç»è¾å°„åœº(NeRF)çš„è®­ç»ƒåŠ é€Ÿï¼Œä½†ç”±äºä¸‰ç»´è¡¨ç¤ºç¼ºä¹è¡¨é¢çº¦æŸï¼Œä»å­¦ä¹ çš„å¯†åº¦åœºä¸­æå–çš„å‡ ä½•å½¢çŠ¶åŒ…å«å¯è¯†åˆ«çš„å™ªå£°</li></ul></li></ul><p>ä¸ºäº†å…‹æœè¿™äº›ç¼ºç‚¹ï¼Œæˆ‘ä»¬æå‡ºäº†NeuS2</p><ul><li>ä½¿ç”¨å¯å­¦ä¹ ç‰¹å¾å‘é‡çš„å¤šåˆ†è¾¨ç‡å“ˆå¸Œè¡¨å‚æ•°åŒ–ç¥ç»ç½‘ç»œç¼–ç çš„SDF</li><li>æ¨å¯¼äº†ä¸€ä¸ªé’ˆå¯¹åŸºäºreluçš„mlpçš„äºŒé˜¶å¯¼æ•°çš„ç®€å•å…¬å¼ï¼Œè¯¥å…¬å¼å¯ä»¥åœ¨æ˜¾ç€é™ä½è®¡ç®—æˆæœ¬çš„æƒ…å†µä¸‹ï¼Œä»¥è¾ƒå°çš„å†…å­˜å ç”¨å®ç°é«˜æ•ˆçš„CUDA</li><li>å¼•å…¥äº†ä¸€ç§é«˜æ•ˆçš„æ¸è¿›å¼è®­ç»ƒç­–ç•¥ï¼Œè¯¥ç­–ç•¥ä»¥ä»ç²—åˆ°ç²¾çš„æ–¹å¼æ›´æ–°å“ˆå¸Œè¡¨ç‰¹å¾</li></ul><p>æˆ‘ä»¬è¿›ä¸€æ­¥å°†è¯¥æ–¹æ³•æ‰©å±•åˆ°å¤šè§†å›¾åŠ¨æ€åœºæ™¯é‡å»ºä¸­ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¢é‡å­¦ä¹ ç­–ç•¥ï¼Œä»¥æœ‰æ•ˆåœ°å­¦ä¹ å…·æœ‰å¤§è¿åŠ¨å’Œå˜å½¢çš„ç‰©ä½“çš„ç¥ç»åŠ¨æ€è¡¨ç¤ºï¼Œè€Œä¸æ˜¯å•ç‹¬è®­ç»ƒåºåˆ—ä¸­çš„æ¯ä¸€å¸§ã€‚è™½ç„¶ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç§ç­–ç•¥æ•ˆæœå¾ˆå¥½ï¼Œä½†æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œå½“ä¸¤ä¸ªè¿ç»­å¸§ä¹‹é—´çš„è¿åŠ¨ç›¸å¯¹è¾ƒå¤§æ—¶ï¼Œå¤§å¤šæ•°å›¾åƒä¸­æœªè§‚å¯Ÿåˆ°çš„é®æŒ¡åŒºåŸŸçš„é¢„æµ‹SDFå¯èƒ½ä¼šå¡åœ¨å‰ä¸€å¸§çš„å­¦ä¹ SDFä¸­ã€‚<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é¢„æµ‹äº†ä¸€ä¸ªå…¨å±€è½¬æ¢ï¼Œåœ¨å­¦ä¹ æ–°æ¡†æ¶çš„è¡¨ç¤ºä¹‹å‰å¤§è‡´å¯¹é½è¿™ä¸¤ä¸ªæ¡†æ¶ã€‚</p><p>æ€»ç»“è´¡çŒ®ï¼š</p><ul><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ³•NeuS2ï¼Œç”¨äºä»é™æ€å’ŒåŠ¨æ€åœºæ™¯çš„å¤šè§†å›¾RGBè¾“å…¥ä¸­å¿«é€Ÿå­¦ä¹ ç¥ç»è¡¨é¢è¡¨ç¤ºï¼Œè¯¥æ–¹æ³•åœ¨å®ç°å‰æ‰€æœªæœ‰çš„é‡å»ºè´¨é‡çš„åŒæ—¶å®ç°äº†æœ€å…ˆè¿›çš„é€Ÿåº¦</li><li>æå‡ºäº†ä¸€ç§é’ˆå¯¹åŸºäºreluçš„mlpçš„äºŒé˜¶å¯¼æ•°çš„ç®€å•å…¬å¼ï¼Œä»¥å®ç°GPUè®¡ç®—çš„é«˜æ•ˆå¹¶è¡ŒåŒ–ã€‚</li><li>æå‡ºäº†ä¸€ç§ä»ç²—åˆ°ç»†çš„å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç å­¦ä¹ çš„æ¸è¿›å¼è®­ç»ƒç­–ç•¥ï¼Œä»¥å®ç°æ›´å¿«æ›´å¥½çš„è®­ç»ƒæ”¶æ•›æ€§ã€‚</li><li>æˆ‘ä»¬è®¾è®¡äº†ä¸€ç§å…·æœ‰æ–°çš„å…¨å±€å˜æ¢é¢„æµ‹ç»„ä»¶çš„å¢é‡å­¦ä¹ æ–¹æ³•ï¼Œç”¨äºä»¥é«˜æ•ˆå’Œç¨³å®šçš„æ–¹å¼é‡å»ºå…·æœ‰å¤§è¿åŠ¨çš„é•¿åºåˆ—(ä¾‹å¦‚2000å¸§)ã€‚</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><ul><li>Multi-view Stereo.ä¼ ç»Ÿçš„å¤šè§†å›¾ä¸‰ç»´é‡å»ºæ–¹æ³•å¯åˆ†ä¸ºåŸºäºæ·±åº¦å’ŒåŸºäºä½“ç´ çš„æ–¹æ³•ã€‚<ul><li>åŸºäºæ·±åº¦çš„æ–¹æ³•[5,13,14,52]é€šè¿‡è¯†åˆ«å›¾åƒä¹‹é—´çš„ç‚¹å¯¹åº”å…³ç³»æ¥é‡å»ºç‚¹äº‘ã€‚<strong>ç„¶è€Œï¼Œå¯¹åº”åŒ¹é…çš„å‡†ç¡®æ€§ä¸¥é‡å½±å“é‡æ„çš„è´¨é‡</strong>ã€‚</li><li>åŸºäºä½“ç´ çš„æ–¹æ³•[11,6,54]é€šè¿‡ä½¿ç”¨å…‰åº¦ä¸€è‡´æ€§æ ‡å‡†ä»å¤šè§†å›¾å›¾åƒä¸­æ¢å¤ä½“ç´ ç½‘æ ¼ä¸­çš„å ç”¨ç‡å’Œé¢œè‰²ï¼Œé¿å¼€äº†æ˜¾å¼å¯¹åº”åŒ¹é…çš„å›°éš¾ã€‚<strong>ç„¶è€Œï¼Œç”±äºä½“ç´ ç½‘æ ¼çš„é«˜å†…å­˜æ¶ˆè€—ï¼Œè¿™äº›æ–¹æ³•çš„é‡å»ºå—åˆ°ä½åˆ†è¾¨ç‡çš„é™åˆ¶</strong>ã€‚</li></ul></li><li>Classical Multi-view 4D Reconstruction.åœ¨å¤šè§†å›¾å››ç»´é‡å»ºä¸­ï¼Œå¤§é‡çš„å·¥ä½œä½¿ç”¨é¢„å…ˆè®¡ç®—çš„å¯å˜å½¢æ¨¡å‹ï¼Œç„¶åå°†å…¶æ‹Ÿåˆåˆ°å¤šè§†å›¾å›¾åƒä¸­ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¸ä¾èµ–äºé¢„å…ˆè®¡ç®—çš„æ¨¡å‹ï¼Œå¯ä»¥é‡å»ºè¯¦ç»†çš„ç»“æœï¼Œå¹¶å¤„ç†æ‹“æ‰‘å˜åŒ–ã€‚ä¸æˆ‘ä»¬çš„å·¥ä½œæœ€ç›¸å…³çš„ä¹Ÿæ˜¯ä¸€ç§æ— æ¨¡å‹æ–¹æ³•ã€‚ä»–ä»¬åˆ©ç”¨RGBå’Œæ·±åº¦è¾“å…¥ä¸ºæ¯å¸§é‡å»ºé«˜è´¨é‡çš„ç‚¹äº‘ï¼Œç„¶åäº§ç”Ÿæ—¶é—´ç›¸å¹²å‡ ä½•ã€‚ç›¸åï¼Œæˆ‘ä»¬åªéœ€è¦RGBä½œä¸ºè¾“å…¥ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ¯å¸§20ç§’å†…ä»¥ç«¯åˆ°ç«¯æ–¹å¼å­¦ä¹ æ¯å¸§çš„é«˜è´¨é‡å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ã€‚</li><li>Neural Implicit Representations<ul><li>NeRF[36]åœ¨æ–°çš„è§†å›¾åˆæˆä»»åŠ¡ä¸­æ˜¾ç¤ºäº†é«˜è´¨é‡çš„ç»“æœï¼Œ<strong>ä½†ç”±äºå‡ ä½•è¡¨ç¤ºç¼ºä¹è¡¨é¢çº¦æŸï¼Œå®ƒæ— æ³•æå–é«˜è´¨é‡çš„è¡¨é¢</strong>ã€‚</li><li>Neuså°†3Dè¡¨é¢è¡¨ç¤ºä¸ºSDFï¼Œç”¨äºé«˜è´¨é‡çš„å‡ ä½•é‡å»ºã€‚<strong>ä½†æ˜¯ï¼ŒNeusçš„è®­ç»ƒé€Ÿåº¦å¾ˆæ…¢ï¼Œè€Œä¸”åªé€‚ç”¨äºé™æ€åœºæ™¯</strong>ã€‚</li><li>ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•è¦å¿«100å€ï¼Œå½“åº”ç”¨äºåŠ¨æ€åœºæ™¯é‡å»ºæ—¶ï¼Œå¯ä»¥è¿›ä¸€æ­¥åŠ é€Ÿåˆ°æ¯å¸§20ç§’</li><li>ä¸€äº›åŸºäºnerfçš„ä½œå“[50,58,37]å¼•å…¥äº†voxelgridç‰¹å¾æ¥è¡¨ç¤ºå¿«é€Ÿè®­ç»ƒçš„3Då±æ€§ã€‚<strong>ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•ä¸èƒ½æå–é«˜è´¨é‡çš„è¡¨é¢ï¼Œå› ä¸ºå®ƒä»¬ç»§æ‰¿äº†ä½“ç§¯å¯†åº¦åœºä½œä¸ºNeRFçš„å‡ ä½•è¡¨ç¤º</strong>[36]ã€‚</li><li>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å®ç°é«˜è´¨é‡çš„è¡¨é¢é‡å»ºå’Œå¿«é€Ÿè®­ç»ƒã€‚å¯¹äºåŠ¨æ€åœºæ™¯å»ºæ¨¡ï¼Œè®¸å¤šä½œå“[59,41,46,42,29,65,27]æå‡ºå°†4Dåœºæ™¯åˆ†è§£ä¸ºå…±äº«è§„èŒƒç©ºé—´å’Œæ¯å¸§å¯å˜å½¢åœº</li><li>[12]è¡¨ç¤ºå…·æœ‰æ—¶é—´æ„ŸçŸ¥ä½“ç´ ç‰¹å¾çš„4Dåœºæ™¯ã€‚[30]æå‡ºäº†ä¸€ç§ç”¨äºå¿«é€ŸåŠ¨æ€åœºæ™¯å­¦ä¹ çš„é™æ€åˆ°åŠ¨æ€å­¦ä¹ èŒƒå¼ã€‚[26]æå‡ºäº†ä¸€ç§åŸºäºç½‘æ ¼çš„é€å¸§é«˜æ•ˆé‡å»ºè¾å°„åœºçš„æ–¹æ³•ã€‚[61]æå‡ºäº†ä¸€ç§æ–°é¢–çš„å‚…ç«‹å¶å…«å‰æ ‘æ–¹æ³•å°†åŠ¨æ€åœºæ™¯å‹ç¼©åˆ°ä¸€ä¸ªæ¨¡å‹ä¸­ã€‚è¿™å››ç§æ–¹æ³•éƒ½é›†ä¸­åœ¨æ–°é¢–çš„è§†å›¾åˆæˆä¸Šï¼Œå› æ­¤ï¼Œå®ƒä»¬å¹¶ä¸æ˜¯ä¸ºäº†é‡å»ºé«˜è´¨é‡çš„è¡¨é¢è€Œè®¾è®¡çš„ï¼Œè¿™ä¸æˆ‘ä»¬è·å¾—é«˜è´¨é‡çš„è¡¨é¢å‡ ä½•å’Œå¤–è§‚æ¨¡å‹çš„ç›®æ ‡ä¸åŒã€‚<strong>è™½ç„¶è¿™äº›å·¥ä½œæé«˜äº†åŠ¨æ€åœºæ™¯çš„è®­ç»ƒæ•ˆç‡ï¼Œä½†è®­ç»ƒä»ç„¶å¾ˆè€—æ—¶ã€‚æ­¤å¤–ï¼Œè¿™äº›æ–¹æ³•ä¸èƒ½å¤„ç†å¤§çš„è¿åŠ¨ï¼Œåªèƒ½é‡å»ºä¸­ç­‰è´¨é‡çš„è¡¨é¢</strong></li><li>åœ¨äººç±»è¡Œä¸ºå»ºæ¨¡ä¸­çš„ä¸€äº›å·¥ä½œ[57,32,44,8,66,39,20,45,25,63]å¯ä»¥é€šè¿‡å¼•å…¥å¯å˜å½¢æ¨¡æ¿ä½œä¸ºå…ˆéªŒæ¥å»ºæ¨¡å¤§å‹åŠ¨ä½œã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å¤„ç†å¤§çš„ç§»åŠ¨ï¼Œä¸éœ€è¦å¯å˜å½¢çš„æ¨¡æ¿ï¼Œå› æ­¤ï¼Œä¸å±€é™äºç‰¹å®šçš„åŠ¨æ€å¯¹è±¡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯å¸§20ç§’çš„æ—¶é—´å†…å­¦ä¹ åŠ¨æ€åœºæ™¯çš„é«˜è´¨é‡è¡¨é¢ã€‚</li><li>Instant-NSR[71]æå‡ºäº†ä¸€ç§äººä½“å»ºæ¨¡å’Œæ¸²æŸ“çš„æ–¹æ³•ã€‚å®ƒé¦–å…ˆä¸ºæ¯ä¸€å¸§é‡å»ºä¸€ä¸ªç¥ç»è¡¨é¢è¡¨ç¤º;ç„¶ååº”ç”¨éåˆšæ€§å˜å½¢è·å¾—æ—¶é—´ç›¸å¹²ç½‘æ ¼åºåˆ—ã€‚æˆ‘ä»¬çš„å·¥ä½œä¸»è¦é›†ä¸­åœ¨ç¬¬ä¸€éƒ¨åˆ†ï¼Œå³åŠ¨æ€åœºæ™¯çš„å¿«é€Ÿé‡å»ºï¼Œæˆ‘ä»¬åˆ©ç”¨ä¸¤ä¸ªè¿ç»­å¸§ä¹‹é—´çš„æ—¶é—´ä¸€è‡´æ€§æ¥åŠ é€ŸåŠ¨æ€è¡¨ç¤ºçš„å­¦ä¹ ã€‚<strong>å› æ­¤ï¼Œæˆ‘ä»¬çš„å·¥ä½œä¸[71]æ˜¯æ­£äº¤çš„ï¼Œå¯ä»¥ä½œä¸ºç¬¬ä¸€æ­¥æ•´åˆåˆ°[71]ä¸­</strong>ã€‚</li></ul></li><li>Concurrent Work<ul><li>Voxurf[64]æå‡ºäº†ä¸€ç§åŸºäºä½“ç´ çš„è¡¨é¢è¡¨ç¤ºï¼Œç”¨äºå¿«é€Ÿå¤šè§†å›¾ä¸‰ç»´é‡å»ºã€‚è™½ç„¶å®ƒåœ¨åŸºçº¿ä¸Šå®ç°äº†20å€çš„åŠ é€Ÿ(å³news[62])ï¼Œ<strong>ä½†æˆ‘ä»¬æå‡ºçš„æ–¹æ³•æ¯”Voxurfå¿«3å€ä»¥ä¸Šï¼Œå¹¶ä¸”ä¸ä»–ä»¬è®ºæ–‡ä¸­æŠ¥é“çš„Voxurfç»“æœç›¸æ¯”ï¼Œå®ç°äº†æ›´å¥½çš„å‡ ä½•è´¨é‡</strong>ã€‚</li><li>Neuralangelo[28]æå‡ºäº†ä¸€ç§åˆ©ç”¨å¤šåˆ†è¾¨ç‡å“ˆå¸Œç½‘æ ¼å’Œæ•°å€¼æ¢¯åº¦è®¡ç®—è¿›è¡Œç¥ç»è¡¨é¢é‡å»ºçš„æ–°æ–¹æ³•ã€‚å®ƒå¯ä»¥åœ¨ç‰ºç‰²è®­ç»ƒæˆæœ¬çš„åŒæ—¶ï¼Œé€šè¿‡å¤šä¸ªç²¾è‡´çš„è®¾è®¡ä»å¤šè§†å›¾å›¾åƒä¸­è·å¾—å¯†é›†å’Œé«˜ä¿çœŸçš„å¤§è§„æ¨¡åœºæ™¯å‡ ä½•é‡å»ºç»“æœï¼Œ<strong>æ¯”æˆ‘ä»¬çš„é€Ÿåº¦æ…¢100å€</strong>ã€‚</li><li>æ­¤å¤–ï¼Œ<strong>Voxurfå’ŒNeuralangeloä¸æ˜¯ä¸ºåŠ¨æ€åœºæ™¯é‡å»ºè€Œè®¾è®¡çš„</strong>ã€‚</li><li>æœ€åï¼ŒUnbiased4d[22]é€šè¿‡æ‰©å±•å¼¯æ›²å°„çº¿çš„NeuSå…¬å¼ï¼Œæå‡ºäº†ä¸€ç§å•çœ¼åŠ¨æ€è¡¨é¢é‡å»ºæ–¹æ³•ã€‚ä¸æˆ‘ä»¬çš„æ–¹æ³•å½¢æˆé²œæ˜å¯¹æ¯”çš„æ˜¯ï¼Œ<strong>ä»–ä»¬çš„é‡ç‚¹åœ¨äºè¯æ˜åœ¨å…‰çº¿å¼¯æ›²å’Œå…·æœ‰æŒ‘æˆ˜æ€§çš„å•ç›®ç¯å¢ƒä¸‹ä¹Ÿèƒ½ä¿æŒæ— åæ€§ï¼Œè€Œä¸æ˜¯åœ¨æœ€å¿«çš„é€Ÿåº¦ä¸‹å°½å¯èƒ½é«˜çš„è´¨é‡</strong>ã€‚</li></ul></li></ul><h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><p><strong>Neus</strong><br>ç»™å®šæ ‡å®šè¿‡çš„é™æ€åœºæ™¯å¤šè§†å›¾å›¾åƒï¼ŒNeuS[62]éšå¼åœ°å°†åœºæ™¯çš„è¡¨é¢å’Œå¤–è§‚è¡¨ç¤ºä¸ºå¸¦ç¬¦å·çš„è·ç¦»åœº$f(\mathbf{x}):\mathbb{R}^3\to \mathbb{R}$å’Œè¾å°„åœº$c(\mathbf{x},\mathbf{v}):\mathbb{R}^3\times\mathbb{S}^2\to\mathbb{R}^3$ï¼Œå…¶ä¸­xè¡¨ç¤ºä¸‰ç»´ä½ç½®ï¼Œ$\textbf{v}\in\mathbb{S}^{2}$è¡¨ç¤ºè§‚çœ‹æ–¹å‘ã€‚é€šè¿‡æå–$\text{SDF }\mathcal{S}=\{\mathbf{x}\in\mathbb{R}^3|f(\mathbf{x})=0\}$çš„é›¶æ°´å¹³é›†ï¼Œå³å¯å¾—åˆ°ç›®æ ‡è¡¨é¢Sã€‚<br>ä¸ºäº†å°†ç‰©ä½“æ¸²æŸ“æˆå›¾åƒï¼ŒNeusåˆ©ç”¨äº†ä½“æ¸²æŸ“ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºå›¾åƒçš„æ¯ä¸ªåƒç´ ï¼Œæˆ‘ä»¬é‡‡æ ·ç‚¹$\{\mathbf{p}(\mathbf{t_i})=\mathbf{o}+t_i\mathbf{v}|i=0,1,\ldots,n-1\}$ï¼Œå…¶ä¸­oä¸ºç›¸æœºä¸­å¿ƒï¼Œvä¸ºè§‚å¯Ÿæ–¹å‘ã€‚é€šè¿‡ç´¯ç§¯åŸºäºsdfçš„å¯†åº¦å’Œæ ·æœ¬ç‚¹çš„é¢œè‰²ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å…‰çº¿çš„é¢œè‰²ã€‚ç”±äºæ¸²æŸ“è¿‡ç¨‹æ˜¯å¯å¾®çš„ï¼ŒNeuSå¯ä»¥ä»å¤šè§†å›¾å›¾åƒä¸­å­¦ä¹ ç¬¦å·è·ç¦»åœºfå’Œäº®åº¦åœºcã€‚<strong>ç„¶è€Œï¼Œè®­ç»ƒè¿‡ç¨‹éå¸¸ç¼“æ…¢ï¼Œåœ¨å•ä¸ªGPUä¸Šéœ€è¦å¤§çº¦8ä¸ªå°æ—¶</strong>ã€‚</p><p><strong>InstantNGP</strong><br>ä¸ºäº†å…‹æœdeepåŸºäºåæ ‡çš„mlpè®­ç»ƒæ—¶é—´æ…¢çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯å¯¼è‡´Neusæ€§èƒ½ç¼“æ…¢çš„ä¸»è¦åŸå› ï¼Œæœ€è¿‘ï¼ŒInstant-NGP[37]æå‡ºäº†ä¸€ç§å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ï¼Œå¹¶è¯æ˜äº†å…¶æœ‰æ•ˆæ€§ã€‚å…·ä½“æ¥è¯´ï¼ŒInstant-NGPå‡è®¾è¦é‡å»ºçš„å¯¹è±¡åœ¨å¤šåˆ†è¾¨ç‡ä½“ç´ ç½‘æ ¼ä¸­æœ‰ç•Œã€‚æ¯ä¸ªåˆ†è¾¨ç‡çš„ä½“ç´ ç½‘æ ¼è¢«æ˜ å°„åˆ°å…·æœ‰å›ºå®šå¤§å°çš„å¯å­¦ä¹ ç‰¹å¾å‘é‡æ•°ç»„çš„å“ˆå¸Œè¡¨ã€‚<br>å¯¹äºä¸€ä¸ª3Dä½ç½®$\mathrm{x\in\mathbb{R}^3}$ï¼Œå®ƒåœ¨æ¯ä¸€å±‚å¾—åˆ°ä¸€ä¸ªå“ˆå¸Œç¼–ç $h^i(\mathbf{x})\in\mathbb{R}^d$ (dæ˜¯ç‰¹å¾å‘é‡çš„ç»´æ•°ï¼Œ$i=1,â€¦,L$)é€šè¿‡æ’å€¼åœ¨è¿™ä¸€å±‚çš„å‘¨å›´ä½“ç´ ç½‘æ ¼ä¸Šåˆ†é…çš„ç‰¹å¾å‘é‡ã€‚ç„¶åå°†æ‰€æœ‰Lçº§åˆ«çš„å“ˆå¸Œç¼–ç è¿æ¥ä¸ºå¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç $h(\mathbf{x})=\{h^i(\mathbf{x})\}_{i=1}^L\in \mathbb{R}^{L\times d}.$ã€‚é™¤äº†å“ˆå¸Œç¼–ç ï¼Œè®­ç»ƒåŠ é€Ÿçš„å¦ä¸€ä¸ªå…³é”®å› ç´ æ˜¯æ•´ä¸ªç³»ç»Ÿçš„CUDAå®ç°ï¼Œå®ƒåˆ©ç”¨äº†GPUçš„å¹¶è¡Œæ€§ã€‚è™½ç„¶è¿è¡Œæ—¶é—´å¾—åˆ°äº†æ˜¾è‘—æ”¹å–„ï¼Œä½†åœ¨å‡ ä½•é‡å»ºç²¾åº¦æ–¹é¢ï¼ŒInstant-NGPä»ç„¶æ²¡æœ‰è¾¾åˆ°Neusçš„è´¨é‡ã€‚</p><p><strong>Challenges.</strong><br>è€ƒè™‘åˆ°ä»¥ä¸Šè®¨è®ºï¼Œäººä»¬å¯èƒ½ä¼šé—®ï¼ŒNeus[62]å’ŒInstantNGP[37]çš„<strong>å¤©çœŸç»„åˆ</strong>æ˜¯å¦å¯ä»¥å°†ä¸¤ä¸ªä¸–ç•Œçš„ä¼˜ç‚¹ç»“åˆèµ·æ¥ï¼Œå³é«˜çš„3Dè¡¨é¢é‡å»ºè´¨é‡å’Œé«˜æ•ˆçš„è®¡ç®—ã€‚æˆ‘ä»¬å¼ºè°ƒï¼Œè¦å®ç°åƒInstant-NGP[37]ä¸€æ ·å¿«çš„è®­ç»ƒï¼ŒåŒæ—¶å®ç°åƒNeus[62]ä¸€æ ·é«˜è´¨é‡çš„é‡å»ºï¼Œç»éæ˜“äº‹ã€‚å…·ä½“æ¥è¯´ï¼Œä¸ºäº†ä¿è¯é«˜è´¨é‡çš„è¡¨é¢å­¦ä¹ ï¼ŒNeus[62]ä¸­ä½¿ç”¨çš„<strong>Eikonalçº¦æŸæ˜¯å¿…ä¸å¯å°‘çš„</strong>ï¼Œå¦‚å›¾2å’Œå›¾1ï¼ŒåŠè¡¥å……ææ–™ã€‚å°†EikonalæŸå¤±æ·»åŠ åˆ°åŸºäºcudaçš„mlp (Instant-NGPå¿«é€Ÿè®­ç»ƒçš„å…³é”®å› ç´ [37])çš„<strong>å…³é”®æŒ‘æˆ˜æ˜¯å¦‚ä½•æœ‰æ•ˆåœ°è®¡ç®—åå‘ä¼ æ’­çš„äºŒé˜¶å¯¼æ•°</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828134721.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828134728.png" alt="image.png"></p><p>InstantNSR[71]é€šè¿‡<strong>ä½¿ç”¨æœ‰é™å·®åˆ†è¿‘ä¼¼äºŒé˜¶å¯¼æ•°è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œè¿™ç§æ–¹æ³•å­˜åœ¨ç²¾åº¦é—®é¢˜</strong>ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´è®­ç»ƒä¸ç¨³å®šã€‚ç›¸åï¼Œ<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç®€å•ã€ç²¾ç¡®ã€é«˜æ•ˆçš„é’ˆå¯¹mlpçš„äºŒé˜¶å¯¼æ•°å…¬å¼</strong>(ç¬¬4.2èŠ‚)ï¼Œä»è€Œå®ç°äº†å¿«é€Ÿã€é«˜è´¨é‡çš„é‡å»ºã€‚æˆ‘ä»¬çš„æ–¹æ³•ç›¸å¯¹äºInstant-NSRçš„ä¼˜åŠ¿è§è¡¨1å’Œå›¾4æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828134905.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828134937.png" alt="image.png"></p><p>å¯¹äºåŠ¨æ€åœºæ™¯é‡å»ºï¼Œæœ‰ä¸¤ä¸ªå…³é”®çš„æŒ‘æˆ˜:<strong>å¦‚ä½•åˆ©ç”¨æ—¶é—´ä¿¡æ¯è¿›è¡ŒåŠ é€Ÿï¼Œä»¥åŠå¦‚ä½•å¤„ç†å…·æœ‰å¤§è¿åŠ¨å’Œå˜å½¢çš„é•¿åºåˆ—</strong>ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆæå‡ºäº†ä¸€ç§<strong>å¢é‡è®­ç»ƒç­–ç•¥</strong>ï¼Œåˆ©ç”¨ä¸¤ä¸ªè¿ç»­å¸§å…±äº«çš„å‡ ä½•å’Œå¤–è§‚ä¿¡æ¯çš„ç›¸ä¼¼æ€§ï¼Œä»è€Œå®ç°æ›´å¿«çš„æ”¶æ•›(ç¬¬5.1èŠ‚)ã€‚ä¸ºäº†å¤„ç†å¤§çš„è¿åŠ¨å’Œå˜å½¢ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§<strong>æ–°çš„å…¨å±€å˜æ¢é¢„æµ‹ç»„ä»¶</strong>ï¼Œå®ƒå¯ä»¥é˜²æ­¢é¢„æµ‹çš„SDFè®­ç»ƒé™·å…¥å±€éƒ¨æœ€å°å€¼ã€‚æ­¤å¤–ï¼Œå®ƒå¯ä»¥åœ¨å°ä½“ç§¯ä¸­ç»‘å®šåŠ¨æ€åºåˆ—ä»¥èŠ‚çœå†…å­˜å¹¶æé«˜é‡å»ºç²¾åº¦(ç¬¬5.2èŠ‚)ã€‚</p><h1 id="Static-Neural-Surface-Reconstruction"><a href="#Static-Neural-Surface-Reconstruction" class="headerlink" title="Static Neural Surface Reconstruction"></a>Static Neural Surface Reconstruction</h1><p>æˆ‘ä»¬é¦–å…ˆå±•ç¤ºäº†æˆ‘ä»¬çš„å…¬å¼å¦‚ä½•æœ‰æ•ˆåœ°ä»æ ¡å‡†çš„å¤šè§†å›¾å›¾åƒä¸­å­¦ä¹ é™æ€åœºæ™¯çš„ç¬¦å·è·ç¦»åœº(è§å›¾3a)ã€‚ä¸ºäº†åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ï¼Œæˆ‘ä»¬é¦–å…ˆæ¼”ç¤ºäº†å¦‚ä½•ç»“åˆå¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç [37]æ¥è¡¨ç¤ºåœºæ™¯çš„SDFï¼Œä»¥åŠå¦‚ä½•åº”ç”¨ä½“æ¸²æŸ“å°†åœºæ™¯æ¸²æŸ“æˆå›¾åƒ(ç¬¬4.1èŠ‚)ã€‚æ¥ä¸‹æ¥ï¼Œ<strong>æˆ‘ä»¬æ¨å¯¼äº†é’ˆå¯¹åŸºäºreluçš„mlpçš„äºŒé˜¶å¯¼æ•°çš„ç®€åŒ–è¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼å¯ä»¥åœ¨å®šåˆ¶çš„CUDAå†…æ ¸ä¸­æœ‰æ•ˆåœ°å¹¶è¡ŒåŒ–</strong>(ç¬¬4.2èŠ‚)ã€‚æœ€åï¼Œæˆ‘ä»¬é‡‡ç”¨æ¸è¿›å¼è®­ç»ƒç­–ç•¥æ¥å­¦ä¹ å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ï¼Œè¿™å¯¼è‡´æ›´å¿«çš„è®­ç»ƒæ”¶æ•›å’Œæ›´å¥½çš„é‡å»ºè´¨é‡(ç¬¬4.3èŠ‚)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826151714.png" alt="image.png"></p><h2 id="Volume-Rendering-of-a-Hash-encoded-SDF"><a href="#Volume-Rendering-of-a-Hash-encoded-SDF" class="headerlink" title="Volume Rendering of a Hash-encoded SDF"></a>Volume Rendering of a Hash-encoded SDF</h2><p>å¯¹äºæ¯ä¸ª3Dä½ç½®xï¼Œæˆ‘ä»¬å°†å…¶æ˜ å°„åˆ°å…·æœ‰å¯å­¦ä¹ å“ˆå¸Œè¡¨é¡¹Î©çš„å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç $h_{\Omega}(\mathbf{x})$ã€‚ç”±äº$h_{\Omega}(\mathbf{x})$æ˜¯ç©ºé—´ä½ç½®çš„ä¿¡æ¯ç¼–ç ï¼Œå› æ­¤å°†xæ˜ å°„åˆ°å…¶SDFå’Œé¢œè‰²cçš„mlpå¯ä»¥éå¸¸æµ…ï¼Œè¿™å°†å¯¼è‡´æ›´æœ‰æ•ˆçš„æ¸²æŸ“å’Œè®­ç»ƒï¼Œè€Œä¸ä¼šå½±å“è´¨é‡ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828143956.png" alt="image.png"></p><p><strong>SDF Network.</strong><br>$(d,\mathbf{g})=f_\Theta(\mathbf{e}),\quad\mathbf{e}=(\mathbf{x},h_\Omega(\mathbf{x})).$ Eq.1</p><p>æƒé‡ä¸º$\Theta$ï¼Œä»¥3Dä½ç½®xåŠå…¶å“ˆå¸Œç¼–ç $h_{\Omega}(\mathbf{x})$ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºSDFå€¼då’Œå‡ ä½•ç‰¹å¾å‘é‡$\mathbf{g}\in\mathbb{R}^{15}.$ Concatenatingä½ç½®ä½œä¸ºå‡ ä½•åˆå§‹åŒ–[4]ï¼Œå¯¼è‡´æ›´ç¨³å®šçš„å‡ ä½•å­¦ä¹ ã€‚</p><p><strong>Color Network.</strong><br>$\mathbf{n}=\nabla_{\mathbf{x}}d.$   Eq.2 æ³•å‘$\nabla_{\mathbf{x}}d$è¡¨ç¤ºSDFç›¸å¯¹äºxçš„æ¢¯åº¦ã€‚<br>$\mathbf{c}=c_\Upsilon(\mathbf{x},\mathbf{n},\mathbf{v},d,\mathbf{g}),$ Eq.3é¢„æµ‹äº†xçš„é¢œè‰²cã€‚</p><p><strong>Volume Rendering.</strong><br>ä¸ºäº†æ¸²æŸ“å›¾åƒï¼Œæˆ‘ä»¬é‡‡ç”¨äº†<strong>Neusçš„æ— åä½“æ¸²æŸ“</strong>[62]ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åœ¨<strong>InstantNGPä¸­ä½¿ç”¨çš„å°„çº¿æ¨è¿›åŠ é€Ÿç­–ç•¥</strong>[37]ã€‚æ›´å¤šç»†èŠ‚è¯·å‚è§supportæ–‡æ¡£</p><p><strong>Supervision</strong><br>ä¸ºäº†è®­ç»ƒNeuS2ï¼Œæˆ‘ä»¬æœ€å°åŒ–æ¸²æŸ“åƒç´ $\hat{C}_i$$i\in\{1,â€¦,m\}$å’Œç›¸åº”çš„åœ°é¢çœŸå€¼åƒç´ $C_{i}$ä¹‹é—´çš„è‰²å·®ï¼Œæ— éœ€ä»»ä½•3Dç›‘ç£ã€‚å…¶ä¸­ï¼Œmè¡¨ç¤ºè®­ç»ƒè¿‡ç¨‹ä¸­çš„æ‰¹å¤§å°ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨äº†Eikonalé¡¹[15]æ¥æ­£åˆ™åŒ–å­¦ä¹ åˆ°çš„å¸¦ç¬¦å·è·ç¦»åŸŸï¼Œä»è€Œå¯¼è‡´æˆ‘ä»¬çš„æœ€ç»ˆæŸå¤±ä¸ºï¼š$\mathcal{L}=\mathcal{L}_{\mathrm{color}}+\beta\mathcal{L}_{\mathrm{eikonal}},$ Eq.4</p><ul><li>$\begin{aligned}\mathcal{L}_{\mathrm{color}}=\frac{1}{m}\sum_{i}\mathcal{R}(\hat{C}_{i},C_{i}),\end{aligned}$</li><li>$\mathcal{L}_{\mathrm{eikonal}}=\frac{1}{mn}\sum_{k,i}(||\mathbf{n}_{k,i}||-1)^{2}.$<ul><li>kä¸ºæ²¿ç€å°„çº¿çš„ç¬¬kä¸ªé‡‡æ ·ç‚¹$k\in\{1,â€¦,n\}$</li><li>nä¸ºé‡‡æ ·ç‚¹æ•°é‡</li><li>$\mathrm{n}_{k,i}$ä¸ºé‡‡æ ·ç‚¹çš„æ³•å‘é‡</li></ul></li></ul><h2 id="Efficient-Handling-of-Second-order-Derivatives"><a href="#Efficient-Handling-of-Second-order-Derivatives" class="headerlink" title="Efficient Handling of Second-order Derivatives"></a>Efficient Handling of Second-order Derivatives</h2><p>ä¸ºäº†é¿å…å­¦ä¹ æ¡†æ¶å¸¦æ¥çš„è®¡ç®—å¼€é”€ï¼Œæˆ‘ä»¬åœ¨CUDAä¸­å®ç°äº†æ•´ä¸ªç³»ç»Ÿã€‚ä¸Instant-NGP[37]åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­åªéœ€è¦ä¸€é˜¶å¯¼æ•°ç›¸æ¯”ï¼Œæˆ‘ä»¬å¿…é¡»è®¡ç®—ä¸è¾“å…¥åˆ°é¢œè‰²ç½‘ç»œ$c_{\Upsilon}$(Eq. 3)çš„æ­£æ€é¡¹$\mathbf{n}=\nabla_{\mathbf{x}}d$(Eq. 2)å’ŒEikonalæŸå¤±é¡¹$\mathcal{L}_{\mathrm{eikonal}}.$ç›¸å…³çš„å‚æ•°çš„äºŒé˜¶å¯¼æ•°ã€‚</p><p>äºŒé˜¶å¯¼æ•°ã€‚ä¸ºäº†åŠ å¿«è®¡ç®—é€Ÿåº¦ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç®€åŒ–å…¬å¼è®¡ç®—å®ƒä»¬ï¼Œè€Œä¸æ˜¯ä½¿ç”¨PyTorchçš„è®¡ç®—å›¾[43]ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨é“¾å¼æ³•åˆ™è®¡ç®—å“ˆå¸Œè¡¨å‚æ•°Î©å’ŒSDFç½‘ç»œå‚æ•°Î˜çš„äºŒé˜¶å¯¼æ•°</p><ul><li>$\frac{\partial\mathcal{L}}{\partial\Omega}=\frac{\partial\mathcal{L}}{\partial\mathbf{n}}(\frac{\partial\mathbf{e}}{\partial\mathbf{x}}\frac{\partial\frac{\partial d}{\partial\mathbf{e}}}{\partial\mathbf{e}}\frac{\partial\mathbf{e}}{\partial\Omega}+\frac{\partial d}{\partial\mathbf{e}}\frac{\partial\frac{\partial\mathbf{e}}{\partial\mathbf{x}}}{\partial\Omega})$ Eq.5</li><li>$\frac{\partial\mathcal{L}}{\partial\Theta}=\frac{\partial\mathcal{L}}{\partial\mathbf{n}}(\frac{\partial\mathbf{e}}{\partial\mathbf{x}}\frac{\partial\frac{\partial d}{\partial\mathbf{e}}}{\partial\Theta}+\frac{\partial d}{\partial\mathbf{e}}\frac{\partial\frac{\partial\mathbf{e}}{\partial\mathbf{x}}}{\partial\Theta})$ Eq.6</li></ul><p>æ³¨æ„é¢œè‰²ç½‘ç»œ$c_{\Upsilon}$åªæ¥å—nä½œä¸ºè¾“å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦è®¡ç®—é¢œè‰²ç½‘ç»œå‚æ•°$\Upsilon$çš„äºŒé˜¶æ¢¯åº¦ã€‚å…¬å¼14å’Œ15çš„æ¨å¯¼åœ¨è¡¥å……æ–‡æ¡£ä¸­ã€‚<br>ä¸ºäº†åŠ å¿«å…¬å¼14å’Œ15çš„è®¡ç®—é€Ÿåº¦ï¼Œ<strong>æˆ‘ä»¬å‘ç°åŸºäºreluçš„mlpå¯ä»¥å¤§å¤§ç®€åŒ–ä¸Šè¿°é¡¹</strong>ï¼Œä»è€Œå‡å°‘è®¡ç®—å¼€é”€ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†å¯¹æ­¤è¿›è¡Œæ›´è¯¦ç»†çš„è®¨è®ºï¼Œå¹¶åœ¨è¡¥å……æ–‡ä»¶ä¸­æä¾›è¯¥å‘½é¢˜çš„è¯æ˜ã€‚æˆ‘ä»¬é¦–å…ˆä»‹ç»å¦‚ä¸‹ä¸€äº›æœ‰ç”¨çš„å®šä¹‰ã€‚</p><ul><li>å®šä¹‰1<ul><li>ç»™å®šä¸€ä¸ªåŸºäºReLUçš„MLP fï¼Œå…¶ä¸­Lä¸ªéšè—å±‚ä»¥$x\in\mathbb{R}^{d}$ä¸ºè¾“å…¥ï¼Œå®ƒè®¡ç®—è¾“å‡º$y =H_{L}g(H_{L-1}\ldots g(H_{1}x))$ï¼Œå…¶ä¸­$\begin{aligned}H_l\in\mathbb{R}^{n_l}\times\mathbb{R}^{n_{l-1}}\end{aligned}$,$l \in \{1,\ldots,L\}$ä¸ºå±‚ç´¢å¼•ï¼Œgä¸ºReLUå‡½æ•°ã€‚æˆ‘ä»¬å®šä¹‰$P_l^j\in\mathbb{R}^{n_{l-1}}\times\mathbb{R}^1$, $\begin{aligned}S_l^i\in\mathbb{R}^1\times\mathbb{R}^{n_l}\end{aligned}$ä¸ºï¼š<ul><li>$P_l^j=G_lH_{l-1}\ldots G_2H_1^{(_,j)}$</li><li>$S_l^i=H_L^{(i,_)}G_L\ldots H_{l+1}G_{l+1}$ Eq.7<ul><li>$H_1^{(-,j)}$æ˜¯$H_{1}$çš„ç¬¬jåˆ—ï¼Œ$H_{L}^{(i,_)}$æ˜¯$H_{L}$çš„ç¬¬iè¡Œ</li><li>$G_l=\begin{cases}1,H_{l-1}\ldots g(H_1x)&gt;0\\0,otherwise\end{cases}$</li></ul></li></ul></li><li>ç°åœ¨å¯ä»¥å®šä¹‰åŸºäºreluçš„MLPå…³äºå…¶è¾“å…¥å±‚å’Œä¸­é—´å±‚çš„äºŒé˜¶å¯¼æ•°ã€‚</li></ul></li><li>å®šç†1ï¼šåŸºäºreluçš„MLPäºŒé˜¶å¯¼æ•°<ul><li>ç»™å®šä¸€ä¸ªåŸºäºReLUçš„MLP f æœ‰Lä¸ªéšè—å±‚ï¼Œä¸å®šä¹‰2ä¸­å®šä¹‰ç›¸åŒã€‚MLP fçš„äºŒé˜¶å¯¼æ•°ä¸º:<ul><li>$\frac{\partial\frac{\partial y}{\partial x}_{(i,j)}}{\partial H_l}=(P_l^jS_l^i)^T,$ $\frac{\partial^2y}{\partial\mathbf{x}^2}=0$ Eq.8<ul><li>$\frac{\partial y}{\partial x}_{(i,j)}$ æ˜¯$\frac{\partial\overline{y}}{\partial x}$çš„çŸ©é˜µå…ƒç´ (i,j)</li></ul></li></ul></li><li>å›åˆ°æˆ‘ä»¬æœ€åˆçš„äºŒé˜¶å¯¼æ•°(å…¬å¼14å’Œ15)ï¼Œæ ¹æ®å®šç†2ï¼Œæˆ‘ä»¬å¾—åˆ°$\frac{\partial\frac{\partial d}{\partial\mathbf{e}}}{\partial\mathbf{e}}=0.$ã€‚å› ä¸º$\frac{\partial\mathbf{e}}{\partial\mathbf{x}}$ä¸$\Theta$æ— å…³ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰$\frac{\partial\frac{\partial\mathbf{e}}{\partial\mathbf{x}}}{\partial\Theta}=0.$ã€‚ç»“æœæ˜¯ä¸‹é¢çš„ç®€åŒ–å½¢å¼:<ul><li>$\frac{\partial\mathcal{L}}{\partial\Omega}=\frac{\partial\mathcal{L}}{\partial\mathrm{n}}\frac{\partial d}{\partial\mathrm{e}}\frac{\partial\frac{\partial\mathbf{e}}{\partial\mathbf{x}}}{\partial\Omega}$ Eq.9</li><li>$\frac{\partial\mathcal{L}}{\partial\Theta}=\frac{\partial\mathcal{L}}{\partial\mathbf{n}}\frac{\partial\mathbf{e}}{\partial\mathbf{x}}\frac{\partial\frac{\partial d}{\partial\mathbf{e}}}{\partial\Theta}$ Eq.10</li></ul></li><li>å¯¹äºäºŒé˜¶å¯¼æ•°ï¼Œè¿™å¯¼è‡´æé«˜æ•ˆç‡å’Œæ›´å°‘çš„è®¡ç®—å¼€é”€ã€‚$\frac{\partial\mathcal{L}}{\partial\Omega}$å’Œ$\frac{\partial\mathcal{L}}{\partial\Theta}$çš„æœ€ç®€å•å½¢å¼å¯ä»¥é€šè¿‡ä½¿ç”¨å…¬å¼17æ›¿æ¢$\frac{\partial\frac{\partial\mathbf{e}}{\partial\mathbf{x}}}{\partial\Omega}$å’Œ$\frac{\partial\frac{\partial d}{\partial\mathbf{e}}}{\partial\mathbf{\Theta}}$çš„é¡¹æ¥è·å¾—ã€‚æˆ‘ä»¬åœ¨å›¾9ä¸­æ˜¾ç¤ºï¼Œä½¿ç”¨Eq. 17çš„è®¡ç®—æ¯”PyTorchæ›´æœ‰æ•ˆã€‚</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828141520.png" alt="image.png"></p><h2 id="Progressive-Training"><a href="#Progressive-Training" class="headerlink" title="Progressive Training"></a>Progressive Training</h2><p>è™½ç„¶æˆ‘ä»¬é«˜åº¦ä¼˜åŒ–çš„æ¢¯åº¦è®¡ç®—å·²ç»æ”¹å–„äº†è®­ç»ƒæ—¶é—´ï¼Œä½†æˆ‘ä»¬å‘ç°åœ¨è®­ç»ƒæ”¶æ•›æ€§å’Œé€Ÿåº¦æ–¹é¢ä»æœ‰æ”¹è¿›çš„ç©ºé—´ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é€šè¿‡ç»éªŒè§‚å¯Ÿåˆ°ï¼Œ<strong>åœ¨ä½åˆ†è¾¨ç‡ä¸‹ä½¿ç”¨ç½‘æ ¼ä¼šå¯¼è‡´æ•°æ®çš„æ¬ æ‹Ÿåˆï¼Œå…¶ä¸­å‡ ä½•é‡å»ºæ˜¯å…‰æ»‘çš„ï¼Œç¼ºä¹ç»†èŠ‚</strong>ï¼Œè€Œ<strong>åœ¨é«˜åˆ†è¾¨ç‡ä¸‹ä½¿ç”¨ç½‘æ ¼ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆï¼Œå¯¼è‡´ç»“æœçš„å™ªå£°å’Œä¼ªåƒå¢åŠ </strong>ã€‚<strong>å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ç§æ¸è¿›å¼è®­ç»ƒæ–¹æ³•</strong>ï¼Œé€šè¿‡é€æ¸å¢åŠ ç©ºé—´ç½‘æ ¼ç¼–ç çš„å¸¦å®½ï¼Œè¡¨ç¤ºä¸º:</p><p>$h_{\Omega}(\mathbf{x},\lambda)=\big(w_{1}(\lambda)h_{\Omega}^{1}(\mathbf{x}),\ldots,w_{L}(\lambda)h_{\Omega}^{L}(\mathbf{x})\big),$ Eq.11</p><p>å…¶ä¸­$h_{\Omega}^i$ä¸ºlevel i çš„å“ˆå¸Œç¼–ç ï¼Œæ¯ä¸ªç½‘æ ¼ç¼–ç å±‚çš„æƒé‡$w_{i}$ç”±$w_{i}(\lambda)=I[i\leq\lambda]$å®šä¹‰ï¼Œå‚æ•°Î»è°ƒåˆ¶åº”ç”¨äºå¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç çš„ä½é€šæ»¤æ³¢å™¨çš„å¸¦å®½ã€‚è¾ƒå°çš„å‚æ•°Î»å¯¼è‡´æ›´å¿«çš„è®­ç»ƒé€Ÿåº¦ï¼Œä½†é™åˆ¶äº†æ¨¡å‹æ¨¡æ‹Ÿé«˜é¢‘ç»†èŠ‚çš„èƒ½åŠ›ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åˆå§‹åŒ–Î»ä¸º2ï¼Œç„¶ååœ¨æ‰€æœ‰å®éªŒä¸­æ¯2.5%çš„æ€»è®­ç»ƒæ­¥é•¿é€æ¸å¢åŠ 1ã€‚</p><h1 id="Dynamic-Neural-Surface-Reconstruction"><a href="#Dynamic-Neural-Surface-Reconstruction" class="headerlink" title="Dynamic Neural Surface Reconstruction"></a>Dynamic Neural Surface Reconstruction</h1><p>æˆ‘ä»¬å·²ç»è§£é‡Šäº†NeuS2å¦‚ä½•èƒ½å¤Ÿäº§ç”Ÿé«˜åº¦å‡†ç¡®å’Œå¿«é€Ÿçš„é™æ€åœºæ™¯é‡å»ºã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†NeuS2æ‰©å±•åˆ°åŠ¨æ€åœºæ™¯é‡å»ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ç»™å®šä¸€ä¸ªè¿åŠ¨ç‰©ä½“çš„å¤šè§†å›¾è§†é¢‘å’Œæ¯ä¸ªè§†å›¾çš„æ‘„åƒæœºå‚æ•°</strong>ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å­¦ä¹ æ¯ä¸ªè§†é¢‘å¸§ä¸­ç‰©ä½“çš„ç¥ç»éšå¼è¡¨é¢(è§å›¾3b)ã€‚</p><h2 id="Incremental-Training"><a href="#Incremental-Training" class="headerlink" title="Incremental Training"></a>Incremental Training</h2><p>å°½ç®¡æˆ‘ä»¬çš„é™æ€å¯¹è±¡é‡å»ºæ–¹æ³•å¯ä»¥è¾¾åˆ°å¾ˆå¥½çš„æ•ˆç‡å’Œè´¨é‡ï¼Œä½†æ˜¯é€šè¿‡å•ç‹¬è®­ç»ƒæ¯ä¸€å¸§æ¥æ„å»ºåŠ¨æ€åœºæ™¯ä»ç„¶å¾ˆè€—æ—¶ã€‚ç„¶è€Œï¼Œä»ä¸€å¸§åˆ°å¦ä¸€å¸§çš„åœºæ™¯å˜åŒ–é€šå¸¸å¾ˆå°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§å¢é‡è®­ç»ƒç­–ç•¥æ¥åˆ©ç”¨ä¸¤ä¸ªè¿ç»­å¸§ä¹‹é—´å…±äº«çš„å‡ ä½•å’Œå¤–è§‚ä¿¡æ¯çš„ç›¸ä¼¼æ€§ï¼Œä»è€Œä½¿æˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤Ÿæ›´å¿«åœ°æ”¶æ•›ã€‚å…·ä½“æ¥è¯´ï¼Œ<strong>æˆ‘ä»¬åƒé™æ€åœºæ™¯é‡å»ºä¸­ä¸€æ ·ä»å¤´å¼€å§‹è®­ç»ƒç¬¬ä¸€å¸§</strong>ï¼Œ<strong>ç„¶åæ ¹æ®å­¦ä¹ åˆ°çš„å‰ä¸€å¸§çš„å“ˆå¸Œç½‘æ ¼è¡¨ç¤ºå¯¹åç»­å¸§çš„æ¨¡å‹å‚æ•°è¿›è¡Œå¾®è°ƒ</strong>ã€‚ä½¿ç”¨è¯¥ç­–ç•¥ï¼Œè¯¥æ¨¡å‹èƒ½å¤Ÿå¯¹ç›®æ ‡å¸§çš„ç¥ç»è¡¨ç¤ºè¿›è¡Œè‰¯å¥½çš„åˆå§‹åŒ–ï¼Œä»è€Œæ˜¾è‘—åŠ å¿«å…¶æ”¶æ•›é€Ÿåº¦ã€‚</p><h2 id="Global-Transformation-Prediction"><a href="#Global-Transformation-Prediction" class="headerlink" title="Global Transformation Prediction"></a>Global Transformation Prediction</h2><p>æˆ‘ä»¬åœ¨å¢é‡è®­ç»ƒè¿‡ç¨‹ä¸­è§‚å¯Ÿåˆ°ï¼Œé¢„æµ‹çš„SDFå¾ˆå®¹æ˜“å¡åœ¨å‰ä¸€å¸§å­¦ä¹ åˆ°çš„SDFçš„å±€éƒ¨æå°å€¼ä¸­ï¼Œç‰¹åˆ«æ˜¯å½“ç›®æ ‡åœ¨ç›¸é‚»å¸§ä¹‹é—´çš„ç§»åŠ¨æ¯”è¾ƒå¤§çš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬çš„æ¨¡å‹ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºè¡Œèµ°åºåˆ—æ—¶ï¼Œé‡å»ºçš„è¡¨é¢çœ‹èµ·æ¥æœ‰è®¸å¤šå­”ï¼Œå¦‚å›¾10æ‰€ç¤ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ª<strong>å…¨å±€è½¬æ¢é¢„æµ‹</strong>ï¼Œ<strong>åœ¨å¢é‡è®­ç»ƒä¹‹å‰å°†ç›®æ ‡SDFç²—ç•¥åœ°è½¬æ¢åˆ°ä¸€ä¸ªè§„èŒƒç©ºé—´</strong>ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬é¢„æµ‹äº†ç‰©ä½“åœ¨ä¸¤ä¸ªç›¸é‚»å¸§ä¹‹é—´çš„æ—‹è½¬Rå’Œè¿‡æ¸¡Tã€‚å¯¹äºåæ ‡ç³»iåæ ‡ç©ºé—´ä¸­ä»»æ„ç»™å®šçš„ä¸‰ç»´ä½ç½®$\mathrm{x}_i$ï¼Œå®ƒè¢«è½¬æ¢å›å‰ä¸€åæ ‡ç³»i - 1çš„åæ ‡ç©ºé—´ï¼Œè®°ä½œ$\mathbf{x}_{i-1}$<br>$\mathbf{x}_{i-1}=R_i(\mathbf{x}_i+T_i).$ Eq.12</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230828142350.png" alt="image.png"></p><p>ç„¶åå¯ä»¥ç´¯ç§¯å˜æ¢ï¼Œå°†ç‚¹xiè½¬æ¢å›ç¬¬ä¸€å¸§åæ ‡ç©ºé—´ä¸­çš„$x_c$<br>$\mathbf{x}_{c}=R_{i-1}^{c}(\mathbf{x}_{i-1}+T_{i-1}^{c})=R_{i}^{c}(\mathbf{x}_{i}+T_{i}^{c}),$ Eq.13</p><ul><li>$R_i^c=R_{i-1}^cR_i$</li><li>$T_{i}^{c}=T_{i}+R_{i}^{-1}T_{i-1}^{c}.$</li></ul><p>å…¨å±€å˜æ¢é¢„æµ‹è¿˜å…è®¸æˆ‘ä»¬<strong>åœ¨å°åŒºåŸŸå†…å¯¹å…·æœ‰å¤§ç§»åŠ¨çš„åŠ¨æ€åºåˆ—è¿›è¡Œå»ºæ¨¡</strong>ï¼Œè€Œä¸æ˜¯ç”¨å¤§çš„å“ˆå¸Œç½‘æ ¼è¦†ç›–æ•´ä¸ªåœºæ™¯ã€‚ç”±äºå“ˆå¸Œç½‘æ ¼åªéœ€è¦å¯¹æ•´ä¸ªåœºæ™¯çš„ä¸€å°éƒ¨åˆ†è¿›è¡Œå»ºæ¨¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è·å¾—æ›´å‡†ç¡®çš„é‡å»ºå¹¶é™ä½å†…å­˜æˆæœ¬ã€‚<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”±äºæˆ‘ä»¬çš„æ–¹æ³•çš„ä»¥ä¸‹è®¾è®¡ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å¤„ç†å¤§çš„è¿åŠ¨å’Œå˜å½¢ï¼Œè¿™å¯¹ç°æœ‰çš„åŠ¨æ€åœºæ™¯é‡å»ºæ–¹æ³•[59]ï¼Œ[46]æ¥è¯´æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ï¼š<br>ï¼ˆ1ï¼‰å…¨å±€å˜æ¢é¢„æµ‹ï¼Œå…¶è§£é‡Šäº†åºåˆ—ä¸­çš„å¤§çš„å…¨å±€è¿åŠ¨ï¼›<br>ï¼ˆ2ï¼‰ å¢é‡è®­ç»ƒï¼Œå­¦ä¹ ä¸¤ä¸ªç›¸é‚»å¸§ä¹‹é—´ç›¸å¯¹è¾ƒå°çš„å¯å˜å½¢è¿åŠ¨ï¼Œè€Œä¸æ˜¯å­¦ä¹ ä»æ¯ä¸ªå¸§åˆ°å…¬å…±è§„èŒƒç©ºé—´çš„ç›¸å¯¹è¾ƒå¤§çš„è¿åŠ¨ã€‚<br>æˆ‘ä»¬å°†å¢é‡è®­ç»ƒä¸å…¨å±€å˜æ¢é¢„æµ‹ç›¸ç»“åˆä½œä¸ºä¸€ç§ç«¯åˆ°ç«¯çš„å­¦ä¹ æ–¹æ¡ˆæ¥å®ç°ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚ç¬¬3ï¼ˆbï¼‰æ®µã€‚åœ¨å¤„ç†æ–°å¸§æ—¶ï¼Œ<strong>æˆ‘ä»¬é¦–å…ˆç‹¬ç«‹é¢„æµ‹å…¨å±€å˜æ¢</strong>ï¼Œ<strong>ç„¶åå°†æ¨¡å‹çš„å‚æ•°å’Œå…¨å±€å˜æ¢ä¸€èµ·å¾®è°ƒ</strong>ï¼Œä»¥æœ‰æ•ˆåœ°å­¦ä¹ ç¥ç»è¡¨ç¤ºã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><p>3090 GPU</p><ul><li>Static Scene Reconstruction<ul><li>æ•°æ®é›†ï¼šDTU</li><li>Baselineï¼šNeusã€InstantNGPã€Instant-NSRã€Voxurf</li><li>quantitativeï¼šChamfer Distanceã€PSNR</li><li>qualitative</li></ul></li><li>Dynamic Scene Reconstruction<ul><li>æ•°æ®é›†ï¼š<ul><li>Synthetic Scenesï¼šNeRFå…±äº«çš„ä¹é«˜åœºæ™¯ã€Artemisæä¾›çš„ç‹®å­åºåˆ—ã€RenderPeopleä¸­çš„äººç±»è§’è‰²</li><li>Real Scenesï¼šDynacapæ•°æ®é›†ä¸­é€‰æ‹©äº†ä¸‰ä¸ªåºåˆ—</li></ul></li><li>Baselineï¼šD-NeRFã€TiNeuVox</li><li>quantitativeï¼šChamfer Distanceã€PSNR</li><li>qualitative</li></ul></li><li>Ablation<ul><li>é«˜æ•ˆäºŒé˜¶å¯¼åå‘ä¼ æ’­è®¡ç®— VS Pytorch</li><li>with or without :<ul><li>GTP</li><li>PT</li></ul></li></ul></li></ul><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>PyTorch  1.11.0 | Python  3.8(ubuntu20.04) | Cuda  11.3</p><p>å‡çº§cmake 3.18ä»¥ä¸Š<br><code>sudo apt-get install xorg-dev</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/19reborn/NeuS2</span><br><span class="line"><span class="built_in">cd</span> NeuS2</span><br><span class="line"></span><br><span class="line">cmake . -B build</span><br><span class="line">cmake --build build --config RelWithDebInfo -j </span><br><span class="line"></span><br><span class="line"><span class="comment"># conda create env</span></span><br><span class="line">conda create -n neus2 python= your image</span><br><span class="line">conda activate neus2</span><br><span class="line">pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">commentjson~=0.9.0</span><br><span class="line">imageio~=2.16.0</span><br><span class="line">numpy~=1.21.2</span><br><span class="line">pybind11~=2.7.1</span><br><span class="line">scipy~=1.7.1</span><br><span class="line">tqdm~=4.62.2</span><br><span class="line">opencv-python~=4.5.5.62</span><br><span class="line">trimesh</span><br><span class="line">tensorboard</span><br><span class="line">https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line"><span class="comment"># install pytorch and pytorch3d</span></span><br><span class="line">pip install torch</span><br><span class="line">pip install <span class="string">&quot;git+https://github.com/facebookresearch/pytorch3d.git@stable&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/facebookresearch/pytorch3d/blob/main/INSTALL.md">pytorch3d/INSTALL.md at main Â· facebookresearch/pytorch3d (github.com)</a></p></blockquote><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># run c++</span></span><br><span class="line">./build/testbed --scene $&#123;data_path&#125;/transform.json</span><br><span class="line"><span class="comment">## eg:</span></span><br><span class="line">./build/testbed --scene ./data/neus/dtu_scan114/transform_train.json -n dtu.json --no-gui</span><br><span class="line"><span class="comment">## questions:</span></span><br><span class="line">no output</span><br><span class="line"></span><br><span class="line"><span class="comment"># run python</span></span><br><span class="line">python scripts/run.py --scene $&#123;data_path&#125;/transform.json --name $&#123;your_experiment_name&#125; --network $&#123;config_name&#125; --n_steps $&#123;training_steps&#125;</span><br><span class="line"><span class="comment">## eg: autodl-tmp/NeuS2/data/neus/dtu_scan114/transform_train.json</span></span><br><span class="line">python scripts/run.py --scene ./data/neus/dtu_scan114/transform_train.json --name neus --network dtu.json --n_steps -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®è½¬æ¢</span></span><br><span class="line">python tools/data_format_from_neus.py --dataset_name dtu_scan114 --copy_image</span><br><span class="line"><span class="keyword">or</span> </span><br><span class="line">python tools/data_format_from_neus.py --dataset_all --copy_image </span><br></pre></td></tr></table></figure><h3 id="Miku"><a href="#Miku" class="headerlink" title="Miku"></a>Miku</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python scripts/run.py --scene ./data/neus/Miku/transform_train.json --name Miku --network dtu.json --n_steps <span class="number">20000</span></span><br></pre></td></tr></table></figure><p>neuspp â€”&gt; womask</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python scripts/run.py --scene ./data/neus/Miku/transform_train.json --name Miku --network womask.json --n_steps -<span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Efficiency </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeUDF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeUDF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeUDF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeUDF: Leaning Neural Unsigned Distance Fields with Volume Rendering</th></tr></thead><tbody><tr><td>Author</td><td>Yu-Tao Liu1,2          Li Wang1,2          Jie Yang1,2          Weikai Chen3          Xiaoxu Meng3          Bo Yang3          Lin Gao1,2*</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="http://geometrylearning.com/neudf/">NeUDF (CVPR 2023) (geometrylearning.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4746971745559265281&amp;noteId=1931719993718658048">NeUDF: Leaning Neural Unsigned Distance Fields with Volume Rendering (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230825151238.png" alt="image.png"></p><p>è§£å†³äº†Neusä¸­SDFçš„ä¸€ä¸ªé™åˆ¶ï¼šä»…é™äºå°é—­è¡¨é¢çš„é‡å»ºï¼Œæ— æ³•é‡å»ºåŒ…å«å¼€æ”¾è¡¨é¢ç»“æ„çš„å¹¿æ³›çš„ç°å®ä¸–ç•Œå¯¹è±¡<br>NeUDFä½¿ç”¨UDFï¼šä»…ä»å¤šè§†å›¾ç›‘ç£ä¸­<strong>é‡å»ºå…·æœ‰ä»»æ„æ‹“æ‰‘çš„è¡¨é¢</strong></p><ul><li>æå‡ºäº†ä¸¤ä¸ªä¸“é—¨ä¸ºåŸºäºUDFçš„ä½“æ¸²æŸ“é‡èº«å®šåˆ¶çš„æƒé‡å‡½æ•°çš„æ–°å…¬å¼<ul><li>$w_r(t)=\tau_r(t)e^{-\int_0^t\tau_r(u)du}$ Eq.4</li><li>$\tau_r(t)=\left|\frac{\frac{\partial(\varsigma_r\circ\Psi\circ p)}{\partial t}(t)}{\varsigma_r\circ\Psi\circ p(t)}\right|$ Eq.5<ul><li>$\varsigma_{r}(d) = \frac x{1+x}$</li><li>UDF: $d=\Psi_{\mathcal{O}}(x)$</li></ul></li></ul></li><li>ä¸ºäº†åº”å¯¹å¼€æ”¾è¡¨é¢æ¸²æŸ“ï¼Œå½“è¾“å…¥/è¾“å‡ºæµ‹è¯•ä¸å†æœ‰æ•ˆæ—¶ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ä¸“ç”¨çš„<strong>æ³•å‘æ­£åˆ™åŒ–ç­–ç•¥</strong>æ¥è§£å†³è¡¨é¢æ–¹å‘æ¨¡ç³Šé—®é¢˜<ul><li>ç”¨é‚»è¿‘çš„æ’å€¼æ³•å‘æ›¿æ¢åŸå§‹é‡‡æ ·çš„è¡¨é¢æ³•å‘</li></ul></li></ul><p>å±€é™ï¼š</p><ul><li>æ— æ³•é‡å»ºé€æ˜è¡¨é¢</li><li>å¹³æ»‘åº¦å’Œé«˜é¢‘ç»†èŠ‚æ— æ³•åŒæ—¶æ‹¥æœ‰</li><li>éœ€è¦é¢å¤–çš„ç½‘æ ¼åˆ’åˆ†å·¥å…·ï¼Œå¯¼è‡´é‡æ„è¯¯å·®</li><li>å±•æœ›ï¼šé€æ˜è¡¨é¢ã€ç¨€ç–è§†å›¾</li></ul><span id="more"></span><h1 id="Discussions-amp-Conclusions"><a href="#Discussions-amp-Conclusions" class="headerlink" title="Discussions&amp;Conclusions"></a>Discussions&amp;Conclusions</h1><p><strong>å±€é™æ€§</strong></p><ul><li>é¦–å…ˆï¼Œ<strong>å¾ˆéš¾</strong>ç”¨æˆ‘ä»¬çš„å…¬å¼æ¥<strong>æ¨¡æ‹Ÿé€æ˜è¡¨é¢</strong>ã€‚å½“è¾“å…¥å›¾åƒä¸­æ²¡æœ‰è¶³å¤Ÿçš„å¯è§ä¿¡æ¯(ä¾‹å¦‚è§†ç‚¹ç¨€ç–æˆ–ä¸¥é‡é®æŒ¡)æ—¶ï¼Œé‡å»ºè´¨é‡ä¼šä¸‹é™ï¼Œå›¾11ç»™å‡ºäº†ä¸€ä¸ªå¤±è´¥æ¡ˆä¾‹çš„ä¾‹å­ã€‚</li><li>ç”±äºæ­£æ€æ­£åˆ™åŒ–ä¼šç´¯ç§¯é™„è¿‘ä¿¡æ¯ä»¥å‡è½»è¡¨é¢æ³•å‘æ¨¡ç³Šï¼Œ<strong>å› æ­¤åœ¨å¹³æ»‘åº¦å’Œé«˜é¢‘ç»†èŠ‚ä¹‹é—´ä¹Ÿå­˜åœ¨æƒè¡¡</strong>ã€‚</li><li>æ­¤å¤–ï¼Œç”±äºæˆ‘ä»¬å¼•å…¥UDFæ˜¯ä¸ºäº†æ›´å¥½çš„è¡¨ç¤ºèƒ½åŠ›ï¼Œæˆ‘ä»¬<strong>éœ€è¦é¢å¤–çš„ç½‘æ ¼åˆ’åˆ†å·¥å…·</strong>ï¼Œå¦‚MeshUDF[19]æˆ–SPSR[23]ï¼Œè¿™<strong>å¯èƒ½ä¼šå¼•å…¥æ›´å¤šçš„é‡æ„è¯¯å·®</strong>ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826144949.png" alt="image.png"></p><p>æˆ‘ä»¬æå‡ºäº†NeUDFï¼Œè¿™æ˜¯ä¸€ç§æ–°çš„åŸºäºUDFçš„ä½“ç»˜åˆ¶æ–¹æ³•ï¼Œç”¨äº<strong>ä»æœ‰æˆ–æ²¡æœ‰æ©ç çš„2Då›¾åƒä¸­</strong>å®ç°ä»»æ„å½¢çŠ¶çš„<strong>é«˜ä¿çœŸå¤šè§†å›¾é‡å»º</strong>ã€‚NeUDF åœ¨å®šæ€§å’Œå®šé‡ä¸Šéƒ½ä¼˜äºæœ€å…ˆè¿›çš„æ–¹æ³•ï¼Œ<strong>å°¤å…¶æ˜¯åœ¨å…·æœ‰å¼€æ”¾è¾¹ç•Œçš„å¤æ‚è¡¨é¢ä¸Š</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„ NeUDF å¯ä»¥åœ¨çœŸå®ä¸–ç•Œçš„ 3D åº”ç”¨ç¨‹åºä¸­å‘æŒ¥å…³é”®ä½œç”¨ã€‚<br>åœ¨æœªæ¥çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•æˆ‘ä»¬çš„å…¬å¼ä»¥æ›´å¥½åœ°<strong>é‡å»ºé€æ˜è¡¨é¢</strong>ã€‚å¢å¼ºæˆ‘ä»¬çš„ NeUDF ä»¥æ”¯æŒ<strong>ç¨€ç–è¾“å…¥å›¾åƒ</strong>ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰è¶£çš„æœªæ¥æ–¹å‘ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ç”±äºç¥ç»éšå¼è¡¨é¢ç»˜åˆ¶çš„æœ€æ–°è¿›å±•ï¼Œå¤šè§†å›¾å½¢çŠ¶é‡å»ºå–å¾—äº†ä»¤äººå°è±¡æ·±åˆ»çš„è¿›å±•ã€‚ç„¶è€Œï¼Œç°æœ‰çš„åŸºäºç¬¦å·è·ç¦»å‡½æ•°(SDF)çš„æ–¹æ³•<strong>ä»…é™äºå°é—­è¡¨é¢</strong>ï¼Œæ— æ³•é‡å»ºåŒ…å«å¼€æ”¾è¡¨é¢ç»“æ„çš„å¹¿æ³›çš„ç°å®ä¸–ç•Œå¯¹è±¡ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç¥ç»æ¸²æŸ“æ¡†æ¶ï¼Œç¼–ç ä¸ºNeUDFï¼Œå®ƒå¯ä»¥ä»…ä»å¤šè§†å›¾ç›‘ç£ä¸­é‡å»ºå…·æœ‰ä»»æ„æ‹“æ‰‘çš„è¡¨é¢ã€‚ä¸ºäº†è·å¾—è¡¨ç¤ºä»»æ„æ›²é¢çš„çµæ´»æ€§ï¼ŒNeUDFåˆ©ç”¨æ— ç¬¦å·è·ç¦»å‡½æ•°(unsigned distance function, UDF)ä½œä¸ºæ›²é¢è¡¨ç¤ºã€‚è™½ç„¶åŸºäºsdfçš„ç¥ç»æ¸²æŸ“å™¨çš„ç®€å•æ‰©å±•ä¸èƒ½æ‰©å±•åˆ°UDFï¼Œä½†æˆ‘ä»¬æå‡ºäº†ä¸¤ä¸ªä¸“é—¨ä¸ºåŸºäºUDFçš„ä½“æ¸²æŸ“é‡èº«å®šåˆ¶çš„æƒé‡å‡½æ•°çš„æ–°å…¬å¼ã€‚æ­¤å¤–ï¼Œä¸ºäº†åº”å¯¹å¼€æ”¾è¡¨é¢æ¸²æŸ“ï¼Œå½“è¾“å…¥/è¾“å‡ºæµ‹è¯•ä¸å†æœ‰æ•ˆæ—¶ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ä¸“ç”¨çš„æ­£æ€æ­£åˆ™åŒ–ç­–ç•¥æ¥è§£å†³è¡¨é¢æ–¹å‘æ¨¡ç³Šé—®é¢˜ã€‚æˆ‘ä»¬åœ¨è®¸å¤šå…·æœ‰æŒ‘æˆ˜æ€§çš„æ•°æ®é›†ä¸Šå¹¿æ³›è¯„ä¼°äº†æˆ‘ä»¬çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬DTU [21]ï¼Œ MGN[5]å’ŒDeep Fashion 3D[61]ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œåœ¨å¤šè§†å›¾æ›²é¢é‡å»ºä»»åŠ¡ä¸­ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå…·æœ‰å¼€æ”¾è¾¹ç•Œçš„å¤æ‚å½¢çŠ¶ï¼ŒNeUDFå¯ä»¥æ˜¾è‘—ä¼˜äºæœ€å…ˆè¿›çš„æ–¹æ³•ã€‚</p><p>NeUDFå»ºç«‹åœ¨æ— ç¬¦å·è·ç¦»å‡½æ•°(unsigned distance function, UDF)çš„åŸºç¡€ä¸Šï¼ŒUDFæ˜¯ä¸€ä¸ªç®€å•çš„éšå¼å‡½æ•°ï¼Œå®ƒè¿”å›ä»æŸ¥è¯¢ç‚¹åˆ°ç›®æ ‡æ›²é¢çš„ç»å¯¹è·ç¦»ã€‚å°½ç®¡å®ƒå¾ˆç®€å•ï¼Œä½†æˆ‘ä»¬è¡¨æ˜ï¼Œ<strong>å°†åŸºäºsdfçš„ç¥ç»æ¸²æŸ“æœºåˆ¶å¤©çœŸåœ°æ‰©å±•åˆ°æ— ç¬¦å·è·ç¦»åœºå¹¶ä¸èƒ½ç¡®ä¿éæ°´å¯†è¡¨é¢çš„æ— åæ¸²æŸ“</strong>ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚å›¾2æ‰€ç¤ºï¼ŒåŸºäºsdfçš„åŠ æƒå‡½æ•°ä¼šç”Ÿæˆè™šå‡æ›²é¢ï¼Œå…¶ä¸­æ¸²æŸ“æƒé‡ä¼šåœ¨ç©ºæ´åŒºåŸŸè§¦å‘ä¸å¸Œæœ›çš„å±€éƒ¨æœ€å¤§å€¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ–°çš„æ— ååŠ æƒèŒƒå¼ï¼Œä¸“é—¨ä¸ºUDFé‡èº«å®šåˆ¶ï¼ŒåŒæ—¶æ„è¯†åˆ°è¡¨é¢é®æŒ¡ã€‚ä¸ºäº†é€‚åº”æ‰€æå‡ºçš„åŠ æƒå‡½æ•°ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æå‡ºäº†ä¸€ç§å®šåˆ¶çš„é‡è¦æ€§é‡‡æ ·ç­–ç•¥ï¼Œä»¥ç¡®ä¿éæ°´å¯†è¡¨é¢çš„é«˜è´¨é‡é‡å»ºã€‚æ­¤å¤–ï¼Œä¸ºäº†è§£å†³é›¶ç­‰å€¼é¢é™„è¿‘udfæ¢¯åº¦ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ­£æ€æ­£åˆ™åŒ–æ–¹æ³•ï¼Œåˆ©ç”¨æ›²é¢é‚»åŸŸçš„æ­£æ€ä¿¡æ¯æ¥å¢å¼ºæ¢¯åº¦ä¸€è‡´æ€§ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230825153332.png" alt="image.png"></p><p>æˆ‘ä»¬çš„è´¡çŒ®æ€»ç»“å¦‚ä¸‹:</p><ul><li>ç¬¬ä¸€ä¸ªåŸºäºudfçš„ç¥ç»ä½“ç»˜åˆ¶æ¡†æ¶ï¼Œç§°ä¸ºNeUDFï¼Œå¯ç”¨äºå…·æœ‰ä»»æ„æ‹“æ‰‘çš„å½¢çŠ¶çš„å¤šè§†å›¾é‡å»ºï¼ŒåŒ…æ‹¬å…·æœ‰å¼€æ”¾è¾¹ç•Œçš„å¤æ‚å½¢çŠ¶ã€‚</li><li>é’ˆå¯¹UDFæ¸²æŸ“æå‡ºäº†ä¸€ç§<strong>æ–°çš„æ— ååŠ æƒå‡½æ•°å’Œé‡è¦é‡‡æ ·ç­–ç•¥</strong>ã€‚</li><li>åœ¨å…·æœ‰<strong>éæ°´å¯†3Då½¢çŠ¶</strong>(å¸¦æœ‰å­”æ´)çš„è®¸å¤šå…·æœ‰æŒ‘æˆ˜æ€§çš„æ•°æ®é›†ä¸Šè¿›è¡Œå¤šè§†å›¾è¡¨é¢é‡å»ºçš„æœ€æ–°æ€§èƒ½</li></ul><p>RW</p><ul><li>Neural Implicit Representation</li><li>Neural Rendering</li><li>Multi-view Reconstruction<ul><li>SDF+NR = Neus</li></ul></li></ul><h1 id="Methodology"><a href="#Methodology" class="headerlink" title="Methodology"></a>Methodology</h1><p>ç»™å®šä¸€ç»„ç‰©ä½“æˆ–åœºæ™¯çš„<strong>æ ¡å‡†å›¾åƒ</strong>$\{\mathcal{I}_k|1\leq k\leq n\}$ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»…ä½¿ç”¨äºŒç»´å›¾åƒç›‘ç£æ¥é‡å»ºä»»æ„è¡¨é¢ï¼ŒåŒ…æ‹¬å°é—­å’Œå¼€æ”¾ç»“æ„ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæ›²é¢è¢«è¡¨ç¤ºä¸ºæ— ç¬¦å·è·ç¦»å‡½æ•°(udf)çš„é›¶æ°´å¹³é›†ã€‚ä¸ºäº†å­¦ä¹ å¯¹è±¡æˆ–åœºæ™¯çš„UDFè¡¨ç¤ºï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°çš„ç¥ç»æ¸²æŸ“æ¶æ„ï¼Œè¯¥æ¶æ„åŒ…å«ç”¨äºæ¸²æŸ“çš„æ— åæƒé‡å…¬å¼ã€‚</p><ul><li>é¦–å…ˆå®šä¹‰åŸºäºUDFçš„åœºæ™¯è¡¨ç¤º(ç¬¬3.1èŠ‚)ã€‚</li><li>ç„¶åï¼Œæˆ‘ä»¬ä»‹ç»äº†NeUDFï¼Œå¹¶ä¸ºåŸºäºudfçš„ä½“ç»˜åˆ¶ä¸“é—¨å®šåˆ¶äº†ä¸¤ä¸ªå…³é”®çš„æƒé‡å‡½æ•°å…¬å¼(ç¬¬3.2èŠ‚)</li><li>æœ€åï¼Œæˆ‘ä»¬è¯´æ˜äº†ç”¨äºå‡è½»2Då›¾åƒæ­§ä¹‰çš„æ­£å¸¸æ­£åˆ™åŒ–(ç¬¬3.3èŠ‚)å’Œæˆ‘ä»¬çš„lossé…ç½®(ç¬¬3.4èŠ‚)ã€‚</li></ul><h2 id="Scene-Representation"><a href="#Scene-Representation" class="headerlink" title="Scene Representation"></a>Scene Representation</h2><p>ä¸æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)ä¸åŒï¼Œæ— ç¬¦å·è·ç¦»å‡½æ•°(UDF)æ˜¯æ— ç¬¦å·çš„ï¼Œèƒ½å¤Ÿè¡¨ç¤ºä»»æ„æ‹“æ‰‘çš„å¼€æ”¾è¡¨é¢ï¼Œé™¤äº†æ°´å¯†è¡¨é¢ã€‚<br>ç»™å®šä¸€ä¸ªä¸‰ç»´ç‰©ä½“$\mathcal{O}=\{V,F\}$ï¼Œå…¶ä¸­Vå’ŒFæ˜¯é¡¶ç‚¹å’Œé¢çš„é›†åˆï¼Œç‰©ä½“$\mathcal{O}$çš„UDFå¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªå‡½æ•°$d=\Psi_{\mathcal{O}}(x):\mathbb{R}^3\mapsto\mathbb{R}^+,$ï¼Œå®ƒå°†ä¸€ä¸ªç‚¹åæ ‡æ˜ å°„åˆ°è¡¨é¢çš„æ¬§å‡ é‡Œå¾—è·ç¦»dã€‚æˆ‘ä»¬å®šä¹‰$\mathrm{UDF}_{\mathcal{O}}=\{\Psi_{\mathcal{O}}(x)|d&lt;\epsilon,d=\mathrm{argmin}_{f\in F}(|x-f|_2)\},$ï¼Œå…¶ä¸­Îµæ˜¯ä¸€ä¸ªå°é˜ˆå€¼ï¼Œç›®æ ‡è¡¨é¢å¯ä»¥è¢«UDFOçš„é›¶æ°´å¹³é›†è°ƒåˆ¶ã€‚<br>æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªå¯å¾®ä½“ç»˜åˆ¶æ¡†æ¶æ¥ä»è¾“å…¥å›¾åƒä¸­é¢„æµ‹UDFã€‚è¯¥æ¡†æ¶ç”±ç¥ç»ç½‘ç»œÏˆè¿‘ä¼¼ï¼Œè¯¥ç½‘ç»œ<strong>æ ¹æ®</strong>æ²¿é‡‡æ ·å°„çº¿vçš„<strong>ç©ºé—´ä½ç½®xé¢„æµ‹UDFå€¼då’Œæ¸²æŸ“é¢œè‰²c</strong>:<br>$(d,c)=\psi(v,x):\mathbb{S}^2\times\mathbb{R}^3\mapsto(\mathbb{R}^+,[0,1]^3)$ Eq.1</p><p>åœ¨ä½“ç»˜åˆ¶çš„å¸®åŠ©ä¸‹ï¼Œæƒé‡é€šè¿‡æœ€å°åŒ–é¢„æµ‹å›¾åƒ$\mathcal{I}_{k}^{\prime}$å’ŒçœŸå®å›¾åƒ$\mathcal{I}_{k}$ä¹‹é—´çš„è·ç¦»æ¥ä¼˜åŒ–<br>å­¦ä¹ åˆ°çš„è¡¨é¢$\mathcal{S}_{\mathcal{O}}$å¯ä»¥ç”¨é¢„æµ‹UDFçš„é›¶æ°´å¹³é›†è¡¨ç¤º:$\mathcal{S}_{\mathcal{O}}=\{x\in\mathbb{R}^{3}|d=0,(d,c)=\psi(v,x)\}$ Eq.2</p><h2 id="NeUDF-Rendering"><a href="#NeUDF-Rendering" class="headerlink" title="NeUDF Rendering"></a>NeUDF Rendering</h2><p>æ¸²æŸ“è¿‡ç¨‹æ˜¯å­¦ä¹ å‡†ç¡®UDFçš„å…³é”®ï¼Œå› ä¸ºå®ƒé€šè¿‡æ²¿å°„çº¿vçš„ç§¯åˆ†å°†è¾“å‡ºé¢œè‰²å’ŒUDFå€¼è¿æ¥èµ·æ¥<br>$C(o,v)=\int_{0}^{+\infty}w(t)c(p(t),v)dt,$ Eq.3</p><p>å…¶ä¸­C(o, v)ä¸ºä»ç›¸æœºåŸç‚¹0å¼€å§‹æ²¿è§†ç‚¹æ–¹å‘vçš„è¾“å‡ºåƒç´ é¢œè‰²ï¼Œw(t)ä¸ºç‚¹p(t)çš„æƒå€¼å‡½æ•°ï¼ŒC(p(t)ï¼Œ v)ä¸ºç‚¹p(t)æ²¿è§†ç‚¹æ–¹å‘vçš„é¢œè‰²ã€‚<br>ä¸ºäº†é€šè¿‡ä½“ç»˜åˆ¶é‡å»ºUDFï¼Œæˆ‘ä»¬é¦–å…ˆå¼•å…¥ä¸€ä¸ªæ¦‚ç‡å¯†åº¦å‡½æ•°$\varsigma_r^{\prime}(\Psi(x)),$ï¼Œç§°ä¸º<strong>U-density</strong>ï¼Œå…¶ä¸­Î¨(x)æ˜¯xçš„æ— ç¬¦å·è·ç¦»ã€‚å¯†åº¦å‡½æ•°$\varsigma_r^{\prime}(\Psi(x))$å°†UDFåœºæ˜ å°„åˆ°æ¦‚ç‡å¯†åº¦åˆ†å¸ƒï¼Œè¯¥åˆ†å¸ƒåœ¨è¡¨é¢é™„è¿‘å…·æœ‰æ˜¾è‘—çš„é«˜å€¼ï¼Œä»¥ä¾¿å‡†ç¡®é‡å»ºã€‚å—Neus[53]çš„å¯å‘ï¼Œæˆ‘ä»¬æ¨å¯¼äº†ä¸€ä¸ªæ— åå’Œé—­å¡çš„æƒå‡½æ•°$w_{r}(t)$åŠå…¶ä¸é€æ˜å¯†åº¦$\tau_r(t)$</p><ul><li>$w_r(t)=\tau_r(t)e^{-\int_0^t\tau_r(u)du}$ Eq.4</li><li>$\tau_r(t)=\left|\frac{\frac{\partial(\varsigma_r\circ\Psi\circ p)}{\partial t}(t)}{\varsigma_r\circ\Psi\circ p(t)}\right|$ Eq.5</li></ul><p>å…¶ä¸­â—¦æ˜¯å‡½æ•°ç»„åˆæ“ä½œç¬¦ï¼Œå¹¶ä¸”ä¸ºäº†æœ‰æ•ˆçš„UDFé‡å»ºï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹è§„åˆ™:</p><ul><li>$\varsigma_r(0)=0,\lim_{d\to+\infty}\varsigma_r(d)=1$ Eq.6<ul><li>åœ¨d=0ï¼Œå³è¡¨é¢å¤„ï¼Œæƒé‡å¤§ï¼Œæ¦‚ç‡å¯†åº¦å‡½æ•°å€¼ä¸º1</li></ul></li><li>$\varsigma_râ€™(d)&gt;0;\varsigma_râ€™â€™(d)<0,\forall d>0$ Eq.7</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230825160227.png" alt="image.png"><br>å˜é‡$\varsigma_r(d)$å¯ä»¥æ˜¯å›¾æ‰€ç¤ºçš„ä»»æ„å‡½æ•°ã€‚ç”±äº$\varsigma_{r}(d)$æ˜¯uå¯†åº¦çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼Œæ‰€ä»¥$\varsigma_r(0)=0$ä¿è¯äº†è´Ÿè·ç¦»çš„ç‚¹æ²¡æœ‰ç´¯ç§¯å¯†åº¦ã€‚æ­¤å¤–ï¼Œ$\varsigma_r^{\prime}(d)&gt;0$å’Œ$\varsigma_{r}^{\prime\prime}(d)<0$ç¡®ä¿é è¿‘è¡¨é¢çš„ç‚¹çš„uå¯†åº¦å€¼ä¸ºæ­£ä¸”æ˜¾è‘—é«˜ã€‚$\varsigma_r(d)$ä¸­å‚æ•°ræ˜¯å¯å­¦ä¹ çš„ï¼Œæ§åˆ¶ç€å¯†åº¦çš„åˆ†å¸ƒã€‚è¯¥å‡½æ•°ç»“æ„è§£å†³äº†ä½“ç»˜åˆ¶å’Œè¡¨é¢é‡å»ºä¹‹é—´çš„ä½“é¢å·®è·ï¼Œä¿è¯äº†æ•´ä½“æ— åæ€§ã€‚è¯¦ç»†è®¨è®ºè¯·å‚è€ƒæˆ‘ä»¬çš„è¡¥å……æˆ‘ä»¬è®¤ä¸ºï¼ŒåŸºäºsdfçš„ç¥ç»æ¸²æŸ“å™¨çš„å¹¼ç¨šæ‰©å±•å°†è¿åä¸Šè¿°ä¸€äº›è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œ**Neus**[53]ä¸­**uå¯†åº¦çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°**ä¸º$Î¦_s$(Sigmoid function)ï¼Œ $Î¦_s(0) > 0$<strong>è¿åå¼6</strong>ã€‚è¿™ç§è¿èƒŒä¼šå¯¼è‡´æƒé‡æ¸²æŸ“çš„åå·®ï¼Œä»è€Œ<strong>å¯¼è‡´å¤šä½™çš„æµ®é¢å’Œä¸è§„åˆ™çš„å™ªå£°</strong>ï¼Œå¦‚å›¾2æ‰€ç¤ºã€‚æ³¨æ„ï¼ŒNeusä¸­æå‡ºçš„å±€éƒ¨æœ€å¤§çº¦æŸä¸èƒ½è§£å†³UDFä¸­çš„è¿™ç§å‘ˆç°åå·®ã€‚è¯·æŸ¥çœ‹æˆ‘ä»¬è¡¥å……èµ„æ–™ä¸­å…³äºæ— åæ€§å’Œå…¨å±€/å±€éƒ¨æå¤§çº¦æŸçš„è¯¦ç»†è®¨è®ºã€‚å’Œå…¨å±€/å±€éƒ¨æœ€å¤§çº¦æŸçš„è¯¦ç»†è®¨è®ºã€‚</p><p>åœ¨å¹¿æ³›è¯„ä¼°äº†æ¶ˆèç ”ç©¶ä¸­ä¸åŒå½¢å¼çš„$\varsigma_{r}(d)$å(ç¬¬4.3èŠ‚)ï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©$\varsigma_{r}(d) = \frac{rd}{1+rd}$, råˆå§‹åŒ–ä¸º0.05ã€‚è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬é‡‡ç”¨Î±-åˆæˆå¯¹æƒå‡½æ•°è¿›è¡Œç¦»æ•£åŒ–ï¼Œå¯¹æ²¿å°„çº¿æ–¹å‘çš„ç‚¹è¿›è¡Œé‡‡æ ·ï¼Œå¹¶æ ¹æ®æƒç§¯åˆ†å¯¹é¢œè‰²è¿›è¡Œç´¯åŠ ã€‚å…³äºEqn. 4å’ŒEqn. 5çš„æ— åå’Œé—­å¡æ„ŸçŸ¥ç‰¹æ€§çš„è¯¦ç»†ç¦»æ•£åŒ–å’Œè¯æ˜ï¼Œè¯·å‚è€ƒæˆ‘ä»¬çš„è¡¥å……ææ–™ã€‚</p><p>The choice of $\varsigma_{r}$ in $\tau_{r}$</p><p>å°½ç®¡æˆ‘ä»¬å·²ç»ç»™å‡ºäº† $\varsigma_{r}$ åº”è¯¥æ»¡è¶³çš„è§„åˆ™ï¼ˆEq.6ã€Eq.7)ï¼Œæœ‰ä¸€ç³»åˆ—æ»¡è¶³è§„åˆ™çš„å‡½æ•°ã€‚In the family, æ‰€æœ‰å‡½æ•°éƒ½é€‚ç”¨äºUDFä½“ç»˜åˆ¶ï¼Œå› æ­¤æˆ‘ä»¬å¯¹å‡ ç§ä¸åŒçš„å€™é€‰å‡½æ•°è¿›è¡ŒéªŒè¯ï¼Œä»¥æ£€æŸ¥æ¯ä¸ªå‡½æ•°çš„æ”¶æ•›èƒ½åŠ›è¿›è¡Œç½‘ç»œä¼˜åŒ–ï¼Œå³åœ¨ç»™å®šè®­ç»ƒè¿­ä»£ä¸­ï¼Œç½‘ç»œæ”¶æ•›åˆ°æœ€ä½³ç»“æœçš„å‡½æ•°ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826150109.png" alt="image.png"><br>å›¾ 9 æ˜¾ç¤ºäº†éµå¾ªè§„åˆ™çš„ä¸‰ä¸ªå€™é€‰å‡½æ•°$(1-e^{-x},\frac{2arctan(x)}\pi\text{ and }\frac x{1+x})$ çš„è§†è§‰ç»“æœã€‚åœ¨ç»™å®šè¿­ä»£(300k)ä¹‹åï¼Œä½¿ç”¨å‡½æ•°$\frac x{1+x}$çš„ç½‘ç»œåœ¨å®šæ€§å’Œå®šé‡ä¸Šéƒ½æ”¶æ•›åˆ°æœ€ä½³ç»“æœï¼Œè€Œå…¶ä»–å‡½æ•°ä¸æ˜¯å®Œå…¨æ”¶æ•›çš„ï¼Œå¯¼è‡´è¡¨é¢ä¸å®Œæ•´ï¼Œå€’è§’è·ç¦»ç•¥é«˜ã€‚å¯¹ä¸åŒå½¢çŠ¶çš„è¯„ä¼°è¿˜è¡¨æ˜ï¼Œæ‰€æœ‰å‡½æ•°éƒ½è¿è¡Œè‰¯å¥½ï¼Œå¹¶ä¸”æ‰€é€‰å‡½æ•° $\frac x{1+x}$åœ¨æˆ‘ä»¬çš„è®¾ç½®ä¸­æ•ˆæœæœ€å¥½ï¼ˆæˆ‘ä»¬çš„ï¼š1.11 å¯¹ candidatesï¼š1.13/1.18ï¼‰ã€‚</p><ul><li>çº¢è‰²ï¼š$\varsigma_{r}(d) = \frac x{1+x}$</li><li>è“è‰²ï¼š$\varsigma_r^{\prime}(d) = \frac{1}{(1+x)^{2}}$<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826150617.png" alt="image.png"></li></ul><p><strong>Importance points sampling.</strong></p><p>é€‚åº”æ¸²æŸ“æƒé‡çš„ç‚¹é‡‡æ ·æ˜¯ä½“ç»˜åˆ¶çš„é‡è¦æ­¥éª¤ã€‚ä¸SDFä¸åŒï¼Œä¸ºäº†å®ç°UDFçš„æ— åæ¸²æŸ“ï¼Œæ¸²æŸ“å‡½æ•°åº”è¯¥åœ¨äº¤ç‚¹å‰åˆ†é…æ›´å¤šçš„æƒé‡(å›¾2(c))ã€‚å› æ­¤ï¼Œå¦‚æœæ¸²æŸ“å’Œé‡‡æ ·å‡½æ•°éƒ½ä½¿ç”¨ç›¸åŒçš„æƒé‡ï¼Œåˆ™UDFæ¢¯åº¦çš„æ­£åˆ™åŒ–(EikonalæŸå¤±)å°†å¯¼è‡´è¡¨é¢ä¸¤ä¾§çš„æ¢¯åº¦å¹…åº¦é«˜åº¦ä¸å¹³è¡¡ã€‚è¿™å¯èƒ½ä¼šä¸¥é‡å½±å“é‡å»ºUDF fieldçš„è´¨é‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªä¸“é—¨å®šåˆ¶çš„é‡‡æ ·æƒå‡½æ•°(å›¾2(c))ï¼Œä»¥å®ç°æ•´ä¸ªç©ºé—´çš„è‰¯å¥½å¹³è¡¡æ­£åˆ™åŒ–ã€‚é‡è¦æ€§æŠ½æ ·$w_{s}(t)$çš„å…¬å¼ä¸º:$w_s(t)=\tau_s(t)e^{-\int_0^t\tau_s(u)du},\tau_s(t)=\zeta_s\circ\Psi\circ p(t),$ Eq.8</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230825153332.png" alt="image.png"></p><p>å…¶ä¸­ï¼Œ$\zeta_{s}(\cdot)$æ»¡è¶³ä»¥ä¸‹è§„åˆ™:$\zeta_s(d)&gt;0$ä¸”$\zeta_s^{\prime}(d) &lt; 0$ï¼Œ$âˆ€d &gt; 0$ã€‚ç›´è§‚åœ°è¯´ï¼Œ$\zeta_{s}(\cdot)$åœ¨ç¬¬ä¸€è±¡é™æ˜¯ä¸€ä¸ªå•è°ƒé€’å‡çš„å‡½æ•°ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨$\zeta_s(d)=\frac{se^{-sd}}{(1+e^{-sd})^2}$ï¼Œå…¶ä¸­$\zeta_{s}(d)$ä¸­çš„å‚æ•°bæ§åˆ¶x = 0å¤„çš„å¼ºåº¦ã€‚Sä»0.05å¼€å§‹ï¼Œä»¥$2^{zâˆ’1}$çš„é€Ÿç‡æ”¹å˜æ¯ä¸ªé‡‡æ ·æ­¥é•¿zã€‚ä»»ä½•å¯ä»¥ä¸æ¸²æŸ“å‡½æ•°å®ç°å¹³è¡¡æ­£åˆ™åŒ–çš„é‡‡æ ·å‡½æ•°éƒ½ä¸æˆ‘ä»¬çš„æ¡†æ¶å…¼å®¹ã€‚æœ‰å…³ä¸Šè¿°è§„åˆ™çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„è¡¥å……æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å®šæ€§å’Œå®šé‡åœ°è¯„ä¼°äº†åœ¨çƒ§èš€ç ”ç©¶ä¸­ä½¿ç”¨$\zeta_s(d)$çš„å¿…è¦æ€§(ç¬¬4.3èŠ‚)ã€‚</p><p>æ€»ä½“è€Œè¨€ï¼Œåœ¨ä½“ç»˜åˆ¶è¿‡ç¨‹ä¸­ï¼Œæƒé‡å‡½æ•°åœ¨æ¸²æŸ“(Eqn. 4)å’Œé‡‡æ ·(Eqn. 8)ä¸­ååŒä½¿ç”¨ï¼Œå®ç°äº†å…·æœ‰å¯å¾®ä½“ç»˜åˆ¶çš„é«˜ä¿çœŸå¼€æ”¾è¡¨é¢é‡å»ºã€‚</p><h2 id="Normal-Regularization"><a href="#Normal-Regularization" class="headerlink" title="Normal Regularization"></a>Normal Regularization</h2><p>ç”±äºUDFçš„é›¶æ°´å¹³é›†ä¸­çš„ç‚¹ä¸æ˜¯ä¸€é˜¶å¯å¾®çš„é¡¶ç‚¹ï¼Œå› æ­¤åœ¨å­¦ä¹ è¡¨é¢é™„è¿‘çš„é‡‡æ ·ç‚¹çš„<strong>æ¢¯åº¦åœ¨æ•°å€¼ä¸Šä¸æ˜¯ç¨³å®šçš„</strong>(æŠ–åŠ¨çš„)ã€‚ç”±äºç»˜åˆ¶æƒå‡½æ•°ä»¥UDFæ¢¯åº¦ä¸ºè¾“å…¥ï¼Œä¸å¯é çš„æ¢¯åº¦ä¼šå¯¼è‡´æ›²é¢é‡å»ºä¸å‡†ç¡®ã€‚ä¸ºäº†ç¼“è§£è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†æ­£æ€æ­£åˆ™åŒ–æ¥æ‰§è¡Œç©ºé—´æ’å€¼ã€‚<strong>æ³•å‘æ­£åˆ™åŒ–ç”¨é‚»è¿‘çš„æ’å€¼æ³•å‘æ›¿æ¢åŸå§‹é‡‡æ ·çš„è¡¨é¢æ³•å‘</strong>ã€‚å›¾4ç»™å‡ºäº†ä¸€ä¸ªè¯¦ç»†çš„è¯´æ˜ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826143805.png" alt="image.png"><br><em>æ³•å‘æ­£åˆ™åŒ–å›¾ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸è¡¨é¢åç§»çš„ç‚¹çš„æ¢¯åº¦(è“è‰²)æ¥è¿‘ä¼¼UDFè¡¨ç¤ºçš„ä¸ç¨³å®šè¡¨é¢æ³•çº¿(ç»¿è‰²)ã€‚</em></p><p>ç”±äºä¸ç¨³å®šæ³•çº¿åªå­˜åœ¨äºæ›²é¢é™„è¿‘ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸æ›²é¢æœ‰åç§»çš„ç‚¹æ³•çº¿æ¥è¿‘ä¼¼ä¸ç¨³å®šæ³•çº¿ã€‚æˆ‘ä»¬åœ¨$p(t_i)$ç‚¹ç¦»æ•£åœ°è¡¨ç¤ºä¸º:</p><p>$\mathbf{n}(p(t_i))=\frac{\sum_{k=1}^Kw_{i-k}\Psi^{\prime}(p(t_{i-k}))}{\sum_{k=1}^Kw_{i-k}}$ Eq.9</p><p>å…¶ä¸­ï¼Œ$\begin{aligned}w_{i-k}=|p(i)-p(i-k)|_2^2\end{aligned}$æ˜¯$p(i)$åˆ°$p(i-k)$çš„è·ç¦»ã€‚$\Psi^{\prime}(\cdot)$æ˜¯UDF $\Psi(\cdot)$çš„å¯¼æ•°ï¼Œè¿”å›UDFçš„æ¢¯åº¦ã€‚<strong>é€šè¿‡åˆ©ç”¨æ³•å‘æ­£åˆ™åŒ–ï¼Œæˆ‘ä»¬çš„æ¡†æ¶ä»2Då›¾åƒä¸­å®ç°äº†æ›´å¹³æ»‘çš„å¼€æ”¾è¡¨é¢é‡å»º</strong>ã€‚æˆ‘ä»¬å¯ä»¥è°ƒæ•´æ³•å‘æ­£åˆ™åŒ–æƒå€¼ä»¥è·å¾—æ›´è¯¦ç»†çš„å‡ ä½•å½¢çŠ¶ã€‚å®éªŒè¡¨æ˜ï¼Œæ³•å‘æ­£åˆ™åŒ–å¯ä»¥é˜²æ­¢äºŒç»´å›¾åƒä¸­é«˜äº®å’Œé«˜æš—åŒºåŸŸçš„é«˜è´¨é‡é‡å»ºï¼Œå¦‚å›¾10æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230826144049.png" alt="image.png"></p><h2 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h2><p>ä¸ºäº†å­¦ä¹ é«˜ä¿çœŸå¼€æ”¾è¡¨é¢é‡å»ºï¼Œæˆ‘ä»¬åœ¨æ²¡æœ‰ä»»ä½•3Dç›‘ç£çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æœ€å°åŒ–æ¸²æŸ“å›¾åƒå’Œå·²çŸ¥ç›¸æœºå§¿åŠ¿çš„ground truthå›¾åƒä¹‹é—´çš„å·®å¼‚æ¥ä¼˜åŒ–ç½‘ç»œã€‚ç»§Neus[53]ä¹‹åï¼Œæˆ‘ä»¬è¿˜åº”ç”¨äº†SDFä½“ç»˜åˆ¶ä¸­ä½¿ç”¨çš„ä¸‰ä¸ªæŸå¤±æœ¯è¯­: é¢œè‰²æŸå¤±$\mathcal{L}_{c}$, EikonalæŸå¤±[58]$\mathcal{L}_{e}$å’ŒMaskæŸå¤±$\mathcal{L}_{m}$ã€‚</p><ul><li>é¢œè‰²æŸå¤±è¡¡é‡çš„æ˜¯L1æŸå¤±ä¸‹æ¸²æŸ“å›¾åƒä¸è¾“å…¥å›¾åƒä¹‹é—´çš„å·®å¼‚ã€‚</li><li>EikonalæŸå¤±å¯¹é‡‡æ ·ç‚¹ä¸Šçš„UDFæ¢¯åº¦è¿›è¡Œäº†æ•°å€¼æ­£åˆ™åŒ–ã€‚</li><li>å¦‚æœæä¾›äº†æ©æ¨¡ï¼Œæ©æ¨¡æŸå¤±ä¹Ÿä¼šä¿ƒä½¿é¢„æµ‹æ©æ¨¡æ¥è¿‘BCEæµ‹é‡ä¸‹çš„çœŸå€¼æ©æ¨¡ã€‚</li></ul><p>æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æŸå¤±ç”±ä¸‰éƒ¨åˆ†ç»„æˆ:</p><p>$\mathcal{L}=\mathcal{L}_{c}+\alpha\mathcal{L}_{e}+\beta\mathcal{L}_{m}$ Eq.10</p><h1 id="å®éªŒå’Œè¯„ä¼°"><a href="#å®éªŒå’Œè¯„ä¼°" class="headerlink" title="å®éªŒå’Œè¯„ä¼°"></a>å®éªŒå’Œè¯„ä¼°</h1><h2 id="Experimental-Setup"><a href="#Experimental-Setup" class="headerlink" title="Experimental Setup"></a>Experimental Setup</h2><p>Datasets</p><ul><li>Multi-Garment Netæ•°æ®é›†(MGN)[4]</li><li>Deep Fashion3Dæ•°æ®é›†(DF3D)[61]</li><li>DTU MVSæ•°æ®é›†(DTU)[21]<ul><li>æ¯ä¸ªåœºæ™¯åŒ…å«49æˆ–64å¼ 1600 Ã— 1200åˆ†è¾¨ç‡çš„å›¾åƒï¼Œè’™ç‰ˆæ¥è‡ªIDR[58]ã€‚</li></ul></li></ul><p>Baselines</p><ul><li>Colmap</li><li>IDR</li><li>Neus</li><li>NeuralWarp</li><li>HF-Neus</li></ul><p>Metrics</p><ul><li>Chamfer Distance (CD) to quantitative</li></ul><h2 id="Comparisons-on-Multi-view-Reconstruction"><a href="#Comparisons-on-Multi-view-Reconstruction" class="headerlink" title="Comparisons on Multi-view Reconstruction"></a>Comparisons on Multi-view Reconstruction</h2><ul><li>Quantitative Results</li><li>Qualitative Results.</li><li>Captured Real Scenes</li></ul><h2 id="Further-Discussions-and-Analysis"><a href="#Further-Discussions-and-Analysis" class="headerlink" title="Further Discussions and Analysis"></a>Further Discussions and Analysis</h2><ul><li>The choice of $\varsigma_{r}$ in $\tau_{r}$</li><li>Necessity of Importance Points Sampling</li><li>Necessity of Normal Regularization.</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> UDF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Point-NeRF</title>
      <link href="/3DReconstruction/Multi-view/Explicit%20Volumetric/Point-NeRF/"/>
      <url>/3DReconstruction/Multi-view/Explicit%20Volumetric/Point-NeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Point-NeRF: Point-based Neural Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td>Qiangeng Xu, Zexiang Xu, Julien Philip, Sai Bi, Zhixin ShuKalyan Sunkavalli , Ulrich Neumann</td></tr><tr><td>Conf/Jour</td><td>CVPR 2022 Oral</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://xharlie.github.io/projects/project_sites/pointnerf/">Point-NeRF: Point-based Neural Radiance Fields (xharlie.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4734283362588442625&amp;noteId=1930369628502938624">Point-NeRF: Point-based Neural Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230824165453.png" alt="image.png"></p><ul><li>ç”Ÿæˆåˆå§‹ç‚¹äº‘(æœ¬æ–‡)ï¼Œ<em>æ­¤å¤–è¿˜æœ‰Colmapå’ŒMetashapeç­‰æ–¹æ³•ç”Ÿæˆ</em><ul><li>åŸºäºMVS Netçš„$G_{p,Î³}$ï¼Œç”Ÿæˆæ¯ä¸ªç‚¹çš„ä½ç½®å’Œç½®ä¿¡åº¦ï¼ˆç‚¹æ˜¯å¦åœ¨è¡¨é¢ä¸Šï¼‰</li><li>åŸºäº2D CNNçš„$G_f$ï¼Œç”Ÿæˆæ¯ä¸ªç‚¹çš„ç‰¹å¾</li></ul></li><li>ç‚¹äº‘å¤„ç†ï¼šæ’é™¤é™ä½æ¸²æŸ“è´¨é‡çš„å­”å’Œå¼‚å¸¸å€¼ <strong>æ¯10Kæ¬¡è¿­ä»£</strong><ul><li>Point pruning å¯¹ç½®ä¿¡åº¦ä½äº0.1çš„ç‚¹è¿›è¡Œåˆ é™¤</li><li>Point growing å½“ray marchingä¸­å¯†åº¦æœ€å¤§ç‚¹(è¡¨é¢é™„è¿‘çš„ç‚¹)å‘¨å›´çš„ç‚¹æ¯”è¾ƒå°‘æ—¶ï¼Œæ·»åŠ ç‚¹æ¥å¡«è¡¥ç©ºç™½</li></ul></li><li>MLPè·å–ç‚¹xçš„ä¿¡æ¯<ul><li>MLP Fï¼šxç‚¹å‘¨å›´ç‚¹çš„æ–°ç‰¹å¾$f_{i,x}=F(f_{i},x-p_{i}).$</li><li>MLP Rï¼šxç‚¹çš„è¾å°„å€¼(oré¢œè‰²) $r=R(f_{x},d).$<ul><li>xç‚¹çš„èšåˆç‰¹å¾$f_{x}=\sum_{i}\gamma_{i}\frac{w_{i}}{\sum w_{i}}f_{i,x},\mathrm{~where~}w_{i}=\frac{1}{|p_{i}-x|}.$</li></ul></li><li>MLP Tï¼šxç‚¹å‘¨å›´ç‚¹çš„å¯†åº¦ $\sigma_i=T(f_{i,x})$<ul><li>xç‚¹çš„èšåˆå¯†åº¦$\sigma=\sum_{i}\sigma_{i}\gamma_{i}\frac{w_{i}}{\sum w_{i}},w_{i}=\frac{1}{|p_{i}-x|}.$</li></ul></li></ul></li></ul><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§é«˜è´¨é‡ç¥ç»åœºæ™¯é‡å»ºå’Œæ¸²æŸ“çš„æ–°æ–¹æ³•ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç¥ç»åœºæ™¯è¡¨ç¤ºPoint-NeRFï¼Œç”¨ç¥ç»ç‚¹äº‘æ¨¡æ‹Ÿä½“ç§¯è¾å°„åœºã€‚æˆ‘ä»¬é€šè¿‡ç›´æ¥ç½‘ç»œæ¨ç†ç›´æ¥ä»è¾“å…¥å›¾åƒé‡å»ºäº†ä¸€ä¸ªè‰¯å¥½çš„Point-NeRFåˆå§‹åŒ–ï¼Œå¹¶è¡¨æ˜æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆåœ°å¯¹åœºæ™¯çš„åˆå§‹åŒ–è¿›è¡Œå¾®è°ƒã€‚è¿™ä½¿å¾—é«˜æ•ˆçš„Point-NeRFé‡å»ºåªéœ€è¦20 - 40åˆ†é’Ÿçš„æ¯ä¸ªåœºæ™¯ä¼˜åŒ–ï¼Œå¯¼è‡´æ¸²æŸ“è´¨é‡å¯ä»¥åª²ç¾ç”šè‡³è¶…è¿‡éœ€è¦æ›´é•¿çš„è®­ç»ƒæ—¶é—´(20+å°æ—¶)çš„NeRFã€‚æˆ‘ä»¬è¿˜ä¸ºæˆ‘ä»¬çš„æ¯åœºæ™¯ä¼˜åŒ–æå‡ºäº†æ–°çš„æœ‰æ•ˆçš„ç”Ÿé•¿å’Œä¿®å‰ªæŠ€æœ¯ï¼Œæ˜¾è‘—æ”¹å–„äº†æˆ‘ä»¬çš„ç»“æœï¼Œå¹¶ä½¿æˆ‘ä»¬çš„æ–¹æ³•åœ¨ä¸åŒçš„ç‚¹äº‘è´¨é‡ä¸‹å…·æœ‰é²æ£’æ€§ã€‚æˆ‘ä»¬çš„Point-NeRFæˆåŠŸåœ°ç»“åˆäº†ç»å…¸ç‚¹äº‘è¡¨ç¤ºå’Œç¥ç»è¾å°„åœºè¡¨ç¤ºçš„ä¼˜ç‚¹ï¼Œå‘é«˜æ•ˆå’Œé€¼çœŸçš„å®ç”¨åœºæ™¯é‡å»ºè§£å†³æ–¹æ¡ˆè¿ˆå‡ºäº†é‡è¦ä¸€æ­¥ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>åƒNeRF[35]è¿™æ ·çš„ä½“ç§¯ç¥ç»æ¸²æŸ“æ–¹æ³•å¯ä»¥ç”Ÿæˆé«˜è´¨é‡çš„è§†å›¾åˆæˆç»“æœï¼Œä½†å¯¹æ¯ä¸ªåœºæ™¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¯¼è‡´é‡å»ºæ—¶é—´è¿‡é•¿ã€‚å¦ä¸€æ–¹é¢ï¼Œæ·±åº¦å¤šè§†ç‚¹ç«‹ä½“è§†è§‰æ–¹æ³•<strong>deep multi-view stereo methods</strong>å¯ä»¥é€šè¿‡ç›´æ¥ç½‘ç»œæ¨ç†å¿«é€Ÿé‡å»ºåœºæ™¯å‡ ä½•ã€‚Point-NeRFç»“åˆäº†è¿™ä¸¤ç§æ–¹æ³•çš„ä¼˜ç‚¹ï¼Œé€šè¿‡ä½¿ç”¨ç¥ç»3Dç‚¹äº‘å’Œç›¸å…³çš„ç¥ç»ç‰¹å¾æ¥æ¨¡æ‹Ÿè¾å°„åœºã€‚åœ¨åŸºäºå…‰çº¿è¡Œè¿›çš„æ¸²æŸ“ç®¡é“ä¸­ï¼Œé€šè¿‡èšé›†åœºæ™¯è¡¨é¢é™„è¿‘çš„ç¥ç»ç‚¹ç‰¹å¾ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æ¸²æŸ“ç‚¹nerfã€‚æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡é¢„å…ˆè®­ç»ƒçš„æ·±åº¦ç½‘ç»œçš„ç›´æ¥æ¨æ–­æ¥åˆå§‹åŒ–ç‚¹ç¥ç»ç½‘ç»œï¼Œä»è€Œç”Ÿæˆç¥ç»ç‚¹äº‘;è¿™ä¸ªç‚¹äº‘å¯ä»¥ç»è¿‡å¾®è°ƒï¼Œä»¥30å€å¿«çš„è®­ç»ƒæ—¶é—´è¶…è¶ŠNeRFçš„è§†è§‰è´¨é‡ã€‚<strong>Point-NeRFå¯ä»¥ä¸å…¶ä»–ä¸‰ç»´é‡å»ºæ–¹æ³•ç›¸ç»“åˆï¼Œå¹¶é€šè¿‡ä¸€ç§æ–°çš„ä¿®å‰ªç”Ÿé•¿æœºåˆ¶æ¥å¤„ç†è¿™äº›æ–¹æ³•ä¸­çš„è¯¯å·®å’Œå¼‚å¸¸å€¼</strong>ã€‚åœ¨DTU[18]ã€NeRF synthetic[35]ã€ScanNet[11]å’ŒTanks and temple[23]æ•°æ®é›†ä¸Šçš„å®éªŒè¡¨æ˜ï¼ŒPoint-NeRFå¯ä»¥è¶…è¶Šç°æœ‰çš„æ–¹æ³•ï¼Œå®ç°æœ€å…ˆè¿›çš„ç»“æœã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä»å›¾åƒæ•°æ®ä¸­å»ºæ¨¡çœŸå®åœºæ™¯å¹¶ç»˜åˆ¶é€¼çœŸçš„æ–°è§†å›¾æ˜¯è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦çš„æ ¸å¿ƒé—®é¢˜ã€‚NeRF[35]åŠå…¶æ‰©å±•[29,32,64]é€šè¿‡æ¨¡æ‹Ÿç¥ç»è¾å°„åœºåœ¨è¿™æ–¹é¢å–å¾—äº†å·¨å¤§æˆåŠŸã€‚è¿™äº›æ–¹æ³•[35,38,64]é€šå¸¸é€šè¿‡å°„çº¿marchingï¼Œä½¿ç”¨å…¨å±€mlpå¯¹æ•´ä¸ªç©ºé—´é‡å»ºè¾å°„åœºã€‚<strong>ç”±äºæ¯ä¸ªåœºæ™¯ç½‘ç»œæ‹Ÿåˆç¼“æ…¢ä»¥åŠä¸å¿…è¦çš„å¤§é‡ç©ºç™½ç©ºé—´é‡‡æ ·ï¼Œè¿™å¯¼è‡´é‡å»ºæ—¶é—´é•¿</strong>ã€‚<br>æˆ‘ä»¬ä½¿ç”¨Point-NeRFè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼ŒPoint-NeRFæ˜¯ä¸€ç§æ–°çš„åŸºäºç‚¹çš„è¾å°„åœºè¡¨ç¤ºï¼Œå®ƒä½¿ç”¨3Dç¥ç»ç‚¹æ¥æ¨¡æ‹Ÿè¿ç»­çš„ä½“ç§¯è¾å°„åœºã€‚ä¸NeRFå®Œå…¨ä¾èµ–äºæ¯ä¸ªåœºæ™¯çš„æ‹Ÿåˆä¸åŒï¼ŒPointNeRFå¯ä»¥é€šè¿‡å‰é¦ˆæ·±åº¦ç¥ç»ç½‘ç»œè¿›è¡Œæœ‰æ•ˆçš„åˆå§‹åŒ–ï¼Œè·¨åœºæ™¯è¿›è¡Œé¢„è®­ç»ƒã€‚æ­¤å¤–ï¼ŒPointNeRFé€šè¿‡åˆ©ç”¨æ¥è¿‘å®é™…åœºæ™¯å‡ ä½•çš„ç»å…¸ç‚¹äº‘æ¥é¿å…åœ¨ç©ºåœºæ™¯ç©ºé—´ä¸­è¿›è¡Œå…‰çº¿é‡‡æ ·ã€‚ä¸å…¶ä»–ç¥ç»è¾å°„åœºæ¨¡å‹ç›¸æ¯”ï¼ŒPoint-NeRFçš„è¿™ä¸€ä¼˜åŠ¿å¯¼è‡´äº†æ›´é«˜æ•ˆçš„é‡å»ºå’Œæ›´å‡†ç¡®çš„æ¸²æŸ“[8,35,53,63]ã€‚<br>æˆ‘ä»¬çš„Point-NeRFè¡¨ç¤ºç”±å…·æœ‰ç‚¹ç¥ç»ç‰¹å¾çš„ç‚¹äº‘ç»„æˆ: <strong>æ¯ä¸ªç¥ç»ç‚¹ç¼–ç å…¶å‘¨å›´çš„å±€éƒ¨3Dåœºæ™¯å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚</strong>ã€‚å…ˆå‰çš„åŸºäºç‚¹çš„æ¸²æŸ“æŠ€æœ¯[2]ä½¿ç”¨ç±»ä¼¼çš„ç¥ç»ç‚¹äº‘ï¼Œä½†åœ¨å›¾åƒç©ºé—´ä¸­ä½¿ç”¨æ …æ ¼åŒ–å’Œ2D CNNsè¿›è¡Œæ¸²æŸ“ã€‚ç›¸åï¼Œæˆ‘ä»¬å°†è¿™äº›ç¥ç»ç‚¹è§†ä¸º3Dä¸­çš„å±€éƒ¨ç¥ç»åŸºå‡½æ•°ï¼Œä»¥æ¨¡æ‹Ÿè¿ç»­çš„ä½“è¾å°„åœºï¼Œä»è€Œä½¿ç”¨å¯å¾®å°„çº¿è¡Œè¿›å®ç°é«˜è´¨é‡çš„æ¸²æŸ“ã€‚ç‰¹åˆ«åœ°ï¼Œå¯¹äºä»»ä½•3Dä½ç½®ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨MLPç½‘ç»œæ¥èšé›†å…¶é‚»åŸŸçš„ç¥ç»ç‚¹ï¼Œä»¥å›å½’è¯¥ä½ç½®çš„ä½“ç§¯å¯†åº¦å’Œè§†å›¾ä¾èµ–è¾å°„ã€‚è¿™è¡¨ç¤ºä¸€ä¸ªè¿ç»­çš„è¾å°„åœºã€‚<br>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåŸºäºå­¦ä¹ çš„æ¡†æ¶æ¥æœ‰æ•ˆåœ°åˆå§‹åŒ–å’Œä¼˜åŒ–åŸºäºç‚¹çš„è¾å°„åœºã€‚ä¸ºäº†ç”Ÿæˆ<strong>åˆå§‹åœº</strong>ï¼Œæˆ‘ä»¬åˆ©ç”¨æ·±åº¦å¤šè§†å›¾ç«‹ä½“(MVS)æŠ€æœ¯[59]ï¼Œå³åº”ç”¨cost-volume-basedçš„ç½‘ç»œæ¥é¢„æµ‹æ·±åº¦ï¼Œç„¶åå°†å…¶éæŠ•å½±åˆ°3Dç©ºé—´ã€‚æ­¤å¤–ï¼Œè®­ç»ƒæ·±åº¦CNNä»è¾“å…¥å›¾åƒä¸­æå–2Dç‰¹å¾æ˜ å°„ï¼Œè‡ªç„¶åœ°æä¾›ç‚¹ç‰¹å¾ã€‚è¿™äº›æ¥è‡ªå¤šä¸ªè§†å›¾çš„ç¥ç»ç‚¹è¢«ç»„åˆæˆä¸€ä¸ªç¥ç»ç‚¹äº‘ï¼Œå½¢æˆä¸€ä¸ªåŸºäºç‚¹çš„åœºæ™¯è¾å°„åœºã€‚æˆ‘ä»¬ä½¿ç”¨åŸºäºç‚¹çš„ä½“ç»˜åˆ¶ç½‘ç»œå¯¹è¯¥ç‚¹ç”Ÿæˆæ¨¡å—è¿›è¡Œäº†ç«¯åˆ°ç«¯è®­ç»ƒï¼Œä»¥å‘ˆç°æ–°é¢–çš„è§†å›¾å›¾åƒå¹¶ä½¿ç”¨åœ°é¢çœŸå®åº¦å¯¹å…¶è¿›è¡Œç›‘ç£ã€‚è¿™å¯¼è‡´äº†ä¸€ä¸ªå¯æ¨å¹¿çš„æ¨¡å‹ï¼Œå¯ä»¥ç›´æ¥é¢„æµ‹åŸºäºç‚¹çš„è¾å°„åœºåœ¨æ¨ç†æ—¶é—´ã€‚ä¸€æ—¦é¢„æµ‹ï¼Œåˆå§‹çš„åŸºäºç‚¹çš„åœºå°†åœ¨çŸ­æ—¶é—´å†…è¿›ä¸€æ­¥ä¼˜åŒ–æ¯ä¸ªåœºæ™¯ï¼Œä»¥å®ç°é€¼çœŸçš„æ¸²æŸ“ã€‚å¦‚å›¾1(å·¦)æ‰€ç¤ºï¼Œä½¿ç”¨Point-NeRFè¿›è¡Œ21åˆ†é’Ÿä¼˜åŒ–çš„æ•ˆæœä¼˜äºç»è¿‡æ•°å¤©è®­ç»ƒçš„NeRFæ¨¡å‹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230824183903.png" alt="image.png"></p><p>é™¤äº†ä½¿ç”¨å†…ç½®çš„ç‚¹äº‘é‡å»ºå¤–ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯é€šç”¨çš„ï¼Œä¹Ÿå¯ä»¥åŸºäºå…¶ä»–é‡å»ºæŠ€æœ¯çš„ç‚¹äº‘ç”Ÿæˆè¾å°„åœºã€‚ç„¶è€Œï¼Œä½¿ç”¨COLMAP[44]ç­‰æŠ€æœ¯ç”Ÿæˆçš„é‡å»ºç‚¹äº‘åœ¨å®é™…ä¸­åŒ…å«å­”æ´å’Œå¼‚å¸¸å€¼ï¼Œè¿™äº›å­”æ´å’Œå¼‚å¸¸å€¼ä¼šå¯¹æœ€ç»ˆæ¸²æŸ“äº§ç”Ÿä¸åˆ©å½±å“ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<strong>æˆ‘ä»¬å¼•å…¥ç‚¹ç”Ÿé•¿å’Œä¿®å‰ªä½œä¸ºæˆ‘ä»¬ä¼˜åŒ–è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†</strong>ã€‚æˆ‘ä»¬åœ¨ä½“ç»˜åˆ¶è¿‡ç¨‹ä¸­åˆ©ç”¨å‡ ä½•æ¨ç†[13]ï¼Œåœ¨é«˜ä½“å¯†åº¦åŒºåŸŸä¸­ç‚¹äº‘è¾¹ç•Œé™„è¿‘ç”Ÿé•¿ç‚¹ï¼Œåœ¨ä½ä½“å¯†åº¦åŒºåŸŸä¸­ä¿®å‰ªç‚¹ã€‚è¯¥æœºåˆ¶æœ‰æ•ˆåœ°æé«˜äº†æˆ‘ä»¬æœ€ç»ˆçš„é‡å»ºå’Œæ¸²æŸ“è´¨é‡ã€‚æˆ‘ä»¬åœ¨å›¾1(å³)ä¸­å±•ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œå…¶ä¸­æˆ‘ä»¬å°†COLMAPç‚¹è½¬æ¢ä¸ºè¾å°„åœºï¼Œå¹¶æˆåŠŸå¡«å……å¤§å­”å¹¶ç”Ÿæˆé€¼çœŸçš„æ¸²æŸ“å›¾ã€‚</p><p>æˆ‘ä»¬åœ¨DTUæ•°æ®é›†[18]ä¸Šè®­ç»ƒæˆ‘ä»¬çš„æ¨¡å‹ï¼Œå¹¶åœ¨DTUæµ‹è¯•åœºæ™¯ã€NeRFåˆæˆåœºæ™¯ã€Tanks &amp; Temples[23]å’ŒScanNet[11]åœºæ™¯ä¸Šè¿›è¡Œè¯„ä¼°ã€‚ç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥å®ç°æœ€å…ˆè¿›çš„æ–°è§†å›¾åˆæˆï¼Œä¼˜äºè®¸å¤šç°æœ‰æŠ€æœ¯ï¼ŒåŒ…æ‹¬åŸºäºç‚¹çš„æ–¹æ³•[2]ã€NeRFã€NSVF[29]å’Œè®¸å¤šå…¶ä»–å¯æ¨å¹¿çš„ç¥ç»æ–¹æ³•[8,53,63]ï¼Œè¯¦ç»†(è§è¡¨1å’Œè¡¨2)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230824184217.png" alt="image.png"></p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><ul><li><strong>Scene representations.</strong><ul><li>ä¼ ç»Ÿæ–¹æ³•å’Œç¥ç»æ–¹æ³•å·²ç»åœ¨ä¸åŒçš„è§†è§‰å’Œå›¾å½¢åº”ç”¨ä¸­ç ”ç©¶äº†è®¸å¤š3Dåœºæ™¯è¡¨ç¤ºï¼ŒåŒ…æ‹¬ä½“[19,25,41,46,56]ã€ç‚¹äº‘[1,40,51]ã€ç½‘æ ¼[20,52]ã€æ·±åº¦å›¾[17,28]å’Œéšå¼å‡½æ•°[9,33,37,60]ã€‚æœ€è¿‘ï¼Œå„ç§ç¥ç»åœºæ™¯è¡¨ç¤ºå·²ç»è¢«æå‡º[4,30,47,67]ï¼Œæ¨è¿›äº†æ–°è§†å›¾åˆæˆå’Œé€¼çœŸæ¸²æŸ“çš„æŠ€æœ¯æ°´å¹³ï¼Œä½“ç§¯ç¥ç»è¾å°„åœº(NeRF)[35]äº§ç”Ÿäº†é«˜ä¿çœŸåº¦çš„ç»“æœã€‚NeRFé€šå¸¸è¢«é‡æ„ä¸ºç¼–ç æ•´ä¸ªåœºæ™¯ç©ºé—´çš„å…¨å±€MLP[35,38,64];åœ¨é‡å»ºå¤æ‚çš„å¤§è§„æ¨¡åœºæ™¯æ—¶ï¼Œè¿™ç§æ–¹æ³•æ•ˆç‡ä½ä¸‹ä¸”æˆæœ¬é«˜æ˜‚ã€‚ç›¸åï¼ŒPoint-NeRFæ˜¯ä¸€ç§å±€éƒ¨ç¥ç»è¡¨ç¤ºï¼Œå°†ä½“ç§¯è¾å°„åœºä¸ç»å…¸ç”¨äºè¿‘ä¼¼åœºæ™¯å‡ ä½•çš„ç‚¹äº‘ç›¸ç»“åˆã€‚æˆ‘ä»¬åˆ†é…ç»†ç²’åº¦çš„ç¥ç»ç‚¹æ¥æ¨¡æ‹Ÿå¤æ‚çš„å±€éƒ¨åœºæ™¯å‡ ä½•å’Œå¤–è§‚ï¼Œä»è€Œè·å¾—æ¯”NeRFæ›´å¥½çš„æ¸²æŸ“è´¨é‡(è§å›¾6,7)ã€‚</li><li>å…·æœ‰per-voxelç¥ç»ç‰¹å¾çš„ä½“ç´ ç½‘æ ¼[8,16,29]ä¹Ÿæ˜¯ä¸€ç§å±€éƒ¨ç¥ç»è¾å°„è¡¨ç¤ºã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åŸºäºç‚¹çš„è¡¨ç¤ºæ›´é€‚åˆå®é™…è¡¨é¢ï¼Œä»è€Œè·å¾—æ›´å¥½çš„è´¨é‡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ç›´æ¥é¢„æµ‹äº†è‰¯å¥½çš„åˆå§‹ç¥ç»ç‚¹ç‰¹å¾ï¼Œç»•è¿‡äº†å¤§å¤šæ•°åŸºäºä½“ç´ çš„æ–¹æ³•æ‰€éœ€çš„é€åœºæ™¯ä¼˜åŒ–[16,29]ã€‚</li></ul></li><li><strong>Multi-view reconstruction and rendering</strong><ul><li>å¤šè§†å›¾ä¸‰ç»´é‡å»ºå·²ç»å¾—åˆ°äº†å¹¿æ³›çš„ç ”ç©¶å’Œè§£å†³ï¼ŒåŒ…æ‹¬ä¸€äº›SFM[43,49,50]å’ŒMVSæŠ€æœ¯[10,14,25,44,59]ã€‚ç‚¹äº‘é€šå¸¸æ˜¯MVSæˆ–æ·±åº¦ä¼ æ„Ÿå™¨çš„ç›´æ¥è¾“å‡ºï¼Œå°½ç®¡å®ƒä»¬é€šå¸¸è¢«è½¬æ¢ä¸ºç½‘æ ¼[21,31]ç”¨äºæ¸²æŸ“å’Œå¯è§†åŒ–ã€‚ç½‘æ ¼åˆ’åˆ†å¯èƒ½ä¼šå¼•å…¥è¯¯å·®ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦åŸºäºå›¾åƒçš„æ¸²æŸ“[6,12,66]æ‰èƒ½å®ç°é«˜è´¨é‡çš„æ¸²æŸ“ã€‚æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ·±åº¦MVSä¸­çš„ç‚¹äº‘æ¥å®ç°é€¼çœŸçš„æ¸²æŸ“ã€‚</li><li>ç‚¹äº‘åœ¨æ¸²æŸ“ä¸­å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ï¼Œé€šå¸¸æ˜¯é€šè¿‡åŸºäºæ …æ ¼åŒ–çš„ç‚¹splattingï¼Œç”šè‡³æ˜¯å¯å¾®æ …æ ¼åŒ–æ¨¡å—[26,55]ã€‚ç„¶è€Œï¼Œé‡å»ºçš„ç‚¹äº‘é€šå¸¸æœ‰å­”æ´å’Œå¼‚å¸¸å€¼ï¼Œå¯¼è‡´æ¸²æŸ“ä¸­çš„ä¼ªå½±ã€‚åŸºäºç‚¹çš„ç¥ç»æ¸²æŸ“æ–¹æ³•é€šè¿‡splattingç¥ç»ç‰¹å¾å¹¶ä½¿ç”¨2D cnnæ¥æ¸²æŸ“å®ƒä»¬æ¥è§£å†³è¿™ä¸ªé—®é¢˜[2,24,34]ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„åŸºäºç‚¹çš„æ–¹æ³•åˆ©ç”¨3Dä½“æ¸²æŸ“ï¼Œå¯¼è‡´æ¯”ä»¥å‰çš„åŸºäºç‚¹çš„æ–¹æ³•æ˜æ˜¾æ›´å¥½çš„ç»“æœã€‚</li></ul></li><li><strong>Neural radiance fields</strong><ul><li>NeRF[35]å·²ç»è¯æ˜äº†æ–°è§†å›¾åˆæˆçš„æ˜¾è‘—é«˜è´¨é‡ç»“æœã€‚å®ƒä»¬å·²ç»æ‰©å±•åˆ°å®ç°åŠ¨æ€åœºæ™¯æ•è·[27,39]ã€é‡å…‰ç…§[3,5]ã€å¤–è§‚ç¼–è¾‘[57]ã€å¿«é€Ÿæ¸²æŸ“[16,62]å’Œç”Ÿæˆæ¨¡å‹[7,36,45]ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°æ–¹æ³•[3,27,39,57]ä»ç„¶éµå¾ªåŸå§‹çš„NeRFæ¡†æ¶ï¼Œå¹¶è®­ç»ƒæ¯ä¸ªåœºæ™¯çš„mlpæ¥è¡¨ç¤ºäº®åº¦åœºã€‚æˆ‘ä»¬åˆ©ç”¨åœºæ™¯ä¸­å…·æœ‰ç©ºé—´å˜åŒ–ç¥ç»ç‰¹å¾çš„ç¥ç»ç‚¹å¯¹å…¶è¾å°„åœºè¿›è¡Œç¼–ç ã€‚ä¸ç½‘ç»œå®¹é‡æœ‰é™çš„çº¯mlpç›¸æ¯”ï¼Œè¿™ç§æœ¬åœ°åŒ–è¡¨ç¤ºå¯ä»¥æ¨¡æ‹Ÿæ›´å¤æ‚çš„åœºæ™¯å†…å®¹ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬è¯æ˜äº†æˆ‘ä»¬çš„åŸºäºç‚¹çš„ç¥ç»åœºå¯ä»¥é€šè¿‡ä¸€ä¸ªé¢„è®­ç»ƒçš„æ·±åº¦ç¥ç»ç½‘ç»œæœ‰æ•ˆåœ°åˆå§‹åŒ–ï¼Œè¯¥ç¥ç»ç½‘ç»œå¯ä»¥æ³›åŒ–æ•´ä¸ªåœºæ™¯ï¼Œå¹¶å¯¼è‡´é«˜æ•ˆçš„è¾å°„åœºé‡å»ºã€‚</li><li>å…ˆå‰çš„å·¥ä½œä¹Ÿæå‡ºäº†åŸºäºè¾å°„åœºçš„é€šç”¨æ–¹æ³•ã€‚PixelNeRF[63]å’ŒIBRNet[53]åœ¨æ¯ä¸ªé‡‡æ ·çš„å°„çº¿ç‚¹èšåˆå¤šè§†å›¾2Då›¾åƒç‰¹å¾ï¼Œå›å½’ä½“æ¸²æŸ“å±æ€§è¿›è¡Œäº®åº¦åœºæ¸²æŸ“ã€‚ç›¸åï¼Œ<strong>æˆ‘ä»¬åˆ©ç”¨åœºæ™¯è¡¨é¢å‘¨å›´çš„3Dç¥ç»ç‚¹çš„ç‰¹å¾æ¥æ¨¡æ‹Ÿè¾å°„åœº</strong>ã€‚è¿™é¿å…äº†åœ¨å¹¿é˜”çš„ç©ºç™½ç©ºé—´ä¸­é‡‡æ ·ç‚¹ï¼Œå¹¶å¯¼è‡´æ¯”PixelNeRFå’ŒIBRNetæ›´é«˜çš„æ¸²æŸ“è´¨é‡å’Œæ›´å¿«çš„è¾å°„åœºé‡å»ºã€‚MVSNeRF[8]å¯ä»¥å®ç°éå¸¸å¿«é€Ÿçš„åŸºäºä½“ç´ çš„è¾å°„åœºé‡å»ºã€‚ç„¶è€Œï¼Œå…¶é¢„æµ‹ç½‘ç»œéœ€è¦å›ºå®šæ•°é‡çš„ä¸‰å¹…å°åŸºçº¿å›¾åƒä½œä¸ºè¾“å…¥ï¼Œå› æ­¤åªèƒ½æœ‰æ•ˆåœ°é‡å»ºå±€éƒ¨è¾å°„åœºã€‚æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥ä»ä»»æ„æ•°é‡çš„è§†å›¾èåˆç¥ç»ç‚¹ï¼Œå®ç°å®Œæ•´çš„360åº¦è¾å°„åœºçš„å¿«é€Ÿé‡å»ºï¼Œè¿™æ˜¯MVSNeRFæ— æ³•æ”¯æŒçš„ã€‚</li></ul></li></ul><h1 id="Point-NeRF-Representation"><a href="#Point-NeRF-Representation" class="headerlink" title="Point-NeRF Representation"></a>Point-NeRF Representation</h1><p>æˆ‘ä»¬æå‡ºäº†æ–°çš„åŸºäºç‚¹çš„äº®åº¦åœºè¡¨ç¤ºï¼Œè®¾è®¡ç”¨äºé«˜æ•ˆé‡å»ºå’Œæ¸²æŸ“(è§å›¾2 (b))ã€‚æˆ‘ä»¬ä»ä¸€äº›é¢„å¤‡å¼€å§‹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230824165453.png" alt="image.png"><br><em>Point-NeRFæ¦‚è¿°(a)ä»å¤šè§†å›¾å›¾åƒä¸­ï¼Œæˆ‘ä»¬çš„æ¨¡å‹é€šè¿‡ä½¿ç”¨åŸºäºcost volumeçš„3D CNN Gpï¼ŒÎ³æ¥ç”Ÿæˆæ¯ä¸ªè§†å›¾çš„æ·±åº¦ï¼Œå¹¶é€šè¿‡2D CNN Gfä»è¾“å…¥å›¾åƒä¸­æå–2Dç‰¹å¾ã€‚åœ¨å¯¹æ·±åº¦å›¾è¿›è¡Œèšåˆåï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªåŸºäºç‚¹çš„è¾å°„åœºï¼Œå…¶ä¸­æ¯ä¸ªç‚¹å…·æœ‰ç©ºé—´ä½ç½®piã€ç½®ä¿¡åº¦Î³iå’ŒæœªæŠ•å½±å›¾åƒç‰¹å¾fiã€‚(b)ä¸ºäº†åˆæˆä¸€ä¸ªæ–°çš„è§†å›¾ï¼Œæˆ‘ä»¬åªåœ¨ç¥ç»ç‚¹äº‘(ä¾‹å¦‚xa, xb, xc)é™„è¿‘è¿›è¡Œå¯å¾®å°„çº¿è¡Œè¿›å’Œè®¡ç®—é˜´å½±ã€‚åœ¨æ¯ä¸ªshadingä½ç½®ï¼Œpoint - nerfä»å®ƒçš„Kä¸ªç¥ç»ç‚¹é‚»å±…ä¸­èšé›†ç‰¹å¾ï¼Œè®¡ç®—äº®åº¦rå’Œä½“ç§¯å¯†åº¦Ïƒï¼Œç„¶åä½¿ç”¨Ïƒè®¡ç®—ç´¯åŠ é‡ã€‚æ•´ä¸ªè¿‡ç¨‹æ˜¯ç«¯åˆ°ç«¯å¯è®­ç»ƒçš„ï¼ŒåŸºäºç‚¹çš„äº®åº¦åœºå¯ä»¥ä¼˜åŒ–æ¸²æŸ“æŸå¤±ã€‚</em></p><p><strong>Volume rendering and radiance fields</strong></p><p>åŸºäºç‰©ç†çš„ä½“ç»˜åˆ¶å¯ä»¥é€šè¿‡å¯å¾®å°„çº¿æ¨è¿›è¿›è¡Œæ•°å€¼è¯„ä¼°ã€‚å…·ä½“æ¥è¯´ï¼Œåƒç´ çš„äº®åº¦å¯ä»¥é€šè¿‡è®©å…‰çº¿ç©¿è¿‡åƒç´ æ¥è®¡ç®—ï¼Œåœ¨$\{x_{j}\mid j=1,â€¦,M\}$æ²¿å°„çº¿ï¼Œå¹¶åˆ©ç”¨ä½“ç§¯å¯†åº¦ç´¯ç§¯è¾å°„ï¼Œå¦‚:<br>$c=\sum_{M}\tau_{j}(1-\exp(-\sigma_{j}\Delta_{j}))r_{j},$<br>$\tau_{j}=\exp(-\sum_{t=1}^{j-1}\sigma_{t}\Delta_{t}).$<br>å…¶ä¸­ï¼ŒÏ„è¡¨ç¤ºä½“ç§¯é€è¿‡ç‡;$Ïƒ_j$ã€$r_j$ä¸º$x_j$å¤„æ¯ä¸ªshadingç‚¹jçš„ä½“ç§¯å¯†åº¦å’Œäº®åº¦ï¼Œ$âˆ†_t$ä¸ºç›¸é‚»é®é˜³æ ·æœ¬ä¹‹é—´çš„è·ç¦»ã€‚<br>è¾å°„åœºè¡¨ç¤ºä»»ä½•3Dä½ç½®çš„ä½“ç§¯å¯†åº¦Ïƒå’Œè§†æ™¯ç›¸å…³çš„è¾å°„rã€‚NeRF[35]æå‡ºä½¿ç”¨å¤šå±‚æ„ŸçŸ¥å™¨(MLP)æ¥å›å½’è¿™æ ·çš„è¾å°„åœºã€‚æˆ‘ä»¬æå‡ºäº†Point-NeRFï¼Œå®ƒåˆ©ç”¨ç¥ç»ç‚¹äº‘æ¥è®¡ç®—ä½“ç§¯å±æ€§ï¼Œä»è€Œå®ç°æ›´å¿«ã€æ›´é«˜è´¨é‡çš„æ¸²æŸ“ã€‚</p><p><strong>Point-based radiance field.</strong></p><p>æˆ‘ä»¬ç”¨$P=\{(p_i,f_i,\gamma_i)|i=1,â€¦,N\},$å…¶ä¸­æ¯ä¸ªç‚¹iä½äº$p_i$ï¼Œå¹¶ä¸ç¼–ç å±€éƒ¨åœºæ™¯å†…å®¹çš„ç¥ç»ç‰¹å¾å‘é‡$f_i$ç›¸å…³è”ã€‚æˆ‘ä»¬è¿˜ä¸ºæ¯ä¸ªç‚¹åˆ†é…ä¸€ä¸ªå°ºåº¦ç½®ä¿¡åº¦å€¼$Î³_iâˆˆ[0,1]$ï¼Œå®ƒè¡¨ç¤ºè¯¥ç‚¹ä½äºå®é™…åœºæ™¯è¡¨é¢é™„è¿‘çš„å¯èƒ½æ€§ã€‚æˆ‘ä»¬ä»è¿™ä¸ªç‚¹äº‘å›å½’è¾å°„åœºã€‚<br>ç»™å®šä»»ä½•3Dä½ç½®xï¼Œæˆ‘ä»¬åœ¨ä¸€å®šåŠå¾„rå†…æŸ¥è¯¢å®ƒå‘¨å›´çš„Kä¸ªç›¸é‚»ç¥ç»ç‚¹ã€‚æˆ‘ä»¬åŸºäºç‚¹çš„äº®åº¦åœºå¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªç¥ç»æ¨¡å—ï¼Œå®ƒä»ç›¸é‚»ç¥ç»ç‚¹å›å½’ä»»ä½•é˜´å½±shadingä½ç½®xçš„ä½“ç§¯å¯†åº¦Ïƒå’Œè§†å›¾ä¾èµ–äº®åº¦r(æ²¿ä»»ä½•è§‚çœ‹æ–¹å‘d)ï¼Œå¦‚ä¸‹æ‰€ç¤º:<br>$(\sigma,r)=\text{Point-NeRF}(x,d,p_1,f_1,\gamma_1,â€¦,p_K,f_K,\gamma_K).$<br>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç±»ä¼¼äºpointnetçš„[40]ç¥ç»ç½‘ç»œï¼Œå…·æœ‰å¤šä¸ªå­mlpï¼Œæ¥è¿›è¡Œè¿™ç§å›å½’ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹æ¯ä¸ªç¥ç»ç‚¹è¿›è¡Œç¥ç»å¤„ç†ï¼Œç„¶åå°†å¤šä¸ªç‚¹çš„ä¿¡æ¯è¿›è¡Œèšåˆï¼Œå¾—åˆ°æœ€ç»ˆçš„ä¼°è®¡å€¼ã€‚</p><p><strong>Per-point processing.</strong></p><p>æˆ‘ä»¬ä½¿ç”¨<strong>MLP F</strong>æ¥å¤„ç†æ¯ä¸ªç›¸é‚»çš„ç¥ç»ç‚¹ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹æ³•é¢„æµ‹é˜´å½±ä½ç½®xçš„æ–°ç‰¹å¾å‘é‡:$f_{i,x}=F(f_{i},x-p_{i}).$<br>æœ¬è´¨ä¸Šï¼ŒåŸå§‹ç‰¹å¾$f_i$ç¼–ç äº†$p_i$å‘¨å›´çš„å±€éƒ¨3Dåœºæ™¯å†…å®¹ã€‚è¯¥MLPç½‘ç»œè¡¨ç¤ºä¸€ä¸ªå±€éƒ¨3Då‡½æ•°ï¼Œè¯¥å‡½æ•°è¾“å‡ºç‰¹å®šçš„ç¥ç»åœºæ™¯æè¿°åœ¨xå¤„$f_{i,x}$ï¼Œç”±å…¶å±€éƒ¨å¸§ä¸­çš„ç¥ç»ç‚¹å»ºæ¨¡ã€‚ç›¸å¯¹ä½ç½®xâˆ’pçš„ä½¿ç”¨ä½¿å¾—ç½‘ç»œå¯¹ç‚¹å¹³ç§»å…·æœ‰ä¸å˜æ€§ï¼Œä»è€Œæ›´å¥½åœ°æ³›åŒ–ã€‚</p><p><strong>View-dependent radiance regression</strong></p><p>æˆ‘ä»¬ä½¿ç”¨æ ‡å‡†é€†è·ç¦»åŠ æƒæ¥èšåˆä»è¿™Kä¸ªç›¸é‚»ç‚¹å›å½’çš„ç¥ç»ç‰¹å¾$f_{i,x}$ï¼Œä»¥è·å¾—æè¿°xå¤„åœºæ™¯å¤–è§‚çš„å•ä¸ªç‰¹å¾$f_x$:<br>$f_{x}=\sum_{i}\gamma_{i}\frac{w_{i}}{\sum w_{i}}f_{i,x},\mathrm{~where~}w_{i}=\frac{1}{|p_{i}-x|}.$</p><p>ç„¶åä¸€ä¸ª<strong>MLP R</strong>ï¼Œæ ¹æ®ç»™å®šçš„è§‚æµ‹æ–¹å‘dï¼Œä»è¯¥ç‰¹å¾ä¸­å›å½’ä¸è§†å›¾ç›¸å…³çš„è¾å°„:$r=R(f_{x},d).$</p><p>åè·ç¦»æƒå€¼$w_i$å¹¿æ³›åº”ç”¨äºç¦»æ•£æ•°æ®æ’å€¼;æˆ‘ä»¬åˆ©ç”¨å®ƒæ¥èšåˆç¥ç»ç‰¹å¾ï¼Œä½¿æ›´æ¥è¿‘çš„ç¥ç»ç‚¹å¯¹ç€è‰²è®¡ç®—è´¡çŒ®æ›´å¤šã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨æ­¤è¿‡ç¨‹ä¸­ä½¿ç”¨äº†<strong>é€ç‚¹ç½®ä¿¡åº¦</strong>Î³;è¿™åœ¨æœ€åçš„é‡æ„ä¸­è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¹¶å‡å°‘äº†ç¨€ç–æ€§æŸå¤±ï¼Œä½¿ç½‘ç»œèƒ½å¤Ÿçµæ´»åœ°æ‹’ç»ä¸å¿…è¦çš„ç‚¹ã€‚</p><p><strong>Density regression</strong></p><p>ä¸ºäº†è®¡ç®—xå¤„çš„ä½“ç§¯å¯†åº¦Ïƒï¼Œæˆ‘ä»¬éµå¾ªç±»ä¼¼çš„å¤šç‚¹èšåˆã€‚ç„¶è€Œï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨<strong>MLP T</strong>å›å½’æ¯ä¸ªç‚¹çš„å¯†åº¦$Ïƒ_i$ï¼Œç„¶ååšåŸºäºè·ç¦»çš„é€†åŠ æƒï¼Œç»™å‡ºå¦‚ä¸‹:$\sigma_i=T(f_{i,x})$<br>ç„¶ååœ¨xå¤„çš„å¯†åº¦ä¸ºï¼ˆæ ‡å‡†é€†è·ç¦»åŠ æƒï¼‰<br>$\sigma=\sum_{i}\sigma_{i}\gamma_{i}\frac{w_{i}}{\sum w_{i}},w_{i}=\frac{1}{|p_{i}-x|}.$</p><p>å› æ­¤ï¼Œæ¯ä¸ªç¥ç»ç‚¹ç›´æ¥è´¡çŒ®ä½“ç§¯å¯†åº¦ï¼Œç‚¹ç½®ä¿¡åº¦$Î³_i$ä¸è¿™ç§è´¡çŒ®æ˜ç¡®ç›¸å…³ã€‚æˆ‘ä»¬åœ¨ç‚¹å»é™¤è¿‡ç¨‹ä¸­åˆ©ç”¨äº†è¿™ä¸€ç‚¹(è§ç¬¬4.2èŠ‚)ã€‚</p><p><strong>Discussion</strong></p><p>ä¸ä¹‹å‰åŸºäºç¥ç»ç‚¹çš„æ–¹æ³•[2,34]ä¸åŒï¼Œè¿™äº›æ–¹æ³•å°†ç‚¹ç‰¹å¾æ …æ ¼åŒ–ï¼Œç„¶åç”¨2D cnnæ¸²æŸ“å®ƒä»¬ï¼Œæˆ‘ä»¬çš„è¡¨ç¤ºå’Œæ¸²æŸ“å®Œå…¨æ˜¯3Dçš„ã€‚é€šè¿‡ä½¿ç”¨è¿‘ä¼¼åœºæ™¯å‡ ä½•å½¢çŠ¶çš„ç‚¹äº‘ï¼Œæˆ‘ä»¬çš„è¡¨ç¤ºè‡ªç„¶è€Œæœ‰æ•ˆåœ°é€‚åº”åœºæ™¯è¡¨é¢ï¼Œå¹¶é¿å…åœ¨ç©ºåœºæ™¯ç©ºé—´ä¸­é‡‡æ ·é˜´å½±ä½ç½®ã€‚å¯¹äºæ²¿ç€æ¯æ¡å°„çº¿çš„é˜´å½±ç‚¹ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ç§æœ‰æ•ˆçš„ç®—æ³•æ¥æŸ¥è¯¢ç›¸é‚»çš„ç¥ç»ç‚¹;è¯¦æƒ…è§è¡¥å……ææ–™ã€‚</p><h1 id="Point-NeRF-Reconstruction"><a href="#Point-NeRF-Reconstruction" class="headerlink" title="Point-NeRF Reconstruction"></a>Point-NeRF Reconstruction</h1><p>æˆ‘ä»¬ç°åœ¨ä»‹ç»æˆ‘ä»¬çš„ç®¡é“æœ‰æ•ˆåœ°é‡å»ºåŸºäºç‚¹çš„è¾å°„åœºã€‚</p><ul><li>æˆ‘ä»¬é¦–å…ˆåˆ©ç”¨<strong>è·¨åœºæ™¯è®­ç»ƒçš„æ·±åº¦ç¥ç»ç½‘ç»œ</strong>ï¼Œé€šè¿‡ç›´æ¥ç½‘ç»œæ¨ç†<strong>ç”Ÿæˆåˆå§‹çš„åŸºäºç‚¹çš„åœº</strong>(ç¬¬4.1èŠ‚)ã€‚</li><li>ç”¨æˆ‘ä»¬çš„<strong>ç‚¹ç”Ÿé•¿å’Œä¿®å‰ªæŠ€æœ¯</strong>è¿›ä¸€æ­¥ä¼˜åŒ–æ¯ä¸ªåœºæ™¯çš„åˆå§‹åœºï¼Œå¯¼è‡´æˆ‘ä»¬æœ€ç»ˆçš„é«˜è´¨é‡äº®åº¦åœºé‡å»º(ç¬¬4.2èŠ‚)ã€‚</li></ul><p>å›¾3æ˜¾ç¤ºäº†è¿™ä¸ªå·¥ä½œæµï¼Œä»¥åŠç”¨äºåˆå§‹é¢„æµ‹å’Œåœºæ™¯ä¼˜åŒ–çš„ç›¸åº”æ¢¯åº¦æ›´æ–°ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230825142715.png" alt="image.png"><br><em>è™šçº¿è¡¨ç¤ºäº®åº¦åœºåˆå§‹åŒ–å’Œæ¯ä¸ªåœºæ™¯ä¼˜åŒ–çš„æ¢¯åº¦æ›´æ–°ã€‚</em></p><h2 id="Generating-initial-point-based-radiance-fields"><a href="#Generating-initial-point-based-radiance-fields" class="headerlink" title="Generating initial point-based radiance fields"></a>Generating initial point-based radiance fields</h2><p>ç»™å®šä¸€ç»„å·²çŸ¥å›¾åƒ$I_1ï¼Œâ€¦ï¼ŒI_Q$å’Œä¸€ä¸ªç‚¹äº‘ï¼Œæˆ‘ä»¬çš„point -NeRFè¡¨ç¤ºå¯ä»¥é€šè¿‡ä¼˜åŒ–éšæœºåˆå§‹åŒ–çš„æ¯ç‚¹ç¥ç»ç‰¹å¾å’Œå…·æœ‰æ¸²æŸ“æŸå¤±(ç±»ä¼¼äºNeRF)çš„mlpæ¥é‡å»ºã€‚ç„¶è€Œï¼Œè¿™ç§çº¯ç²¹çš„é€åœºæ™¯ä¼˜åŒ–ä¾èµ–äºç°æœ‰çš„ç‚¹äº‘ï¼Œå¹¶ä¸”å¯èƒ½ä¼šéå¸¸æ…¢ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ª<strong>ç¥ç»ç”Ÿæˆæ¨¡å—</strong>ï¼Œé€šè¿‡å‰é¦ˆç¥ç»ç½‘ç»œé¢„æµ‹æ‰€æœ‰ç¥ç»ç‚¹å±æ€§ï¼ŒåŒ…æ‹¬ç‚¹ä½ç½®piï¼Œç¥ç»ç‰¹å¾fiå’Œç‚¹ç½®ä¿¡åº¦Î³iï¼Œä»¥å®ç°é«˜æ•ˆé‡å»ºã€‚ç½‘ç»œçš„ç›´æ¥æ¨ç†è¾“å‡ºäº†ä¸€ä¸ªè‰¯å¥½çš„åˆå§‹åŸºäºç‚¹çš„è¾å°„åœºã€‚ç„¶åå¯ä»¥å¯¹åˆå§‹å­—æ®µè¿›è¡Œå¾®è°ƒï¼Œä»¥å®ç°é«˜è´¨é‡çš„å‘ˆç°ã€‚åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…ï¼Œæ¸²æŸ“è´¨é‡æ›´å¥½æˆ–ä¸NeRFç›¸å½“ï¼Œè€ŒNeRFéœ€è¦æ›´é•¿çš„æ—¶é—´æ¥ä¼˜åŒ–(è§è¡¨1å’Œ2)ã€‚</p><p><strong>Point location and confidence.</strong></p><p>æˆ‘ä»¬åˆ©ç”¨æ·±åº¦MVSæ–¹æ³•ï¼Œä½¿ç”¨åŸºäºæˆæœ¬ä½“ç§¯çš„3D cnnç”Ÿæˆ3Dç‚¹ä½ç½®[10,59]ã€‚è¿™æ ·çš„ç½‘ç»œäº§ç”Ÿé«˜è´¨é‡çš„å¯†é›†å‡ ä½•ï¼Œå¹¶åœ¨å„ä¸ªé¢†åŸŸæ¨å¹¿è‰¯å¥½ã€‚å¯¹äºæ¯ä¸ªåœ¨è§†ç‚¹qå¤„å…·æœ‰ç›¸æœºå‚æ•°$Î¦_q$çš„è¾“å…¥å›¾åƒ$I_q$ï¼Œæˆ‘ä»¬éµå¾ªMVSNet[17]ï¼Œé¦–å…ˆé€šè¿‡ä»é‚»è¿‘è§†ç‚¹å¼¯æ›²äºŒç»´å›¾åƒç‰¹å¾æ¥æ„å»ºå¹³é¢æ‰«æä»£ä»·ä½“ç§¯ï¼Œç„¶åä½¿ç”¨æ·±åº¦3D cnnå›å½’æ·±åº¦æ¦‚ç‡ä½“ç§¯ã€‚æ·±åº¦å›¾æ˜¯é€šè¿‡çº¿æ€§ç»„åˆæ¯ä¸ªå¹³é¢çš„æ·±åº¦å€¼åŠ æƒæ¦‚ç‡æ¥è®¡ç®—çš„ã€‚æˆ‘ä»¬å°†æ·±åº¦å›¾åæŠ•å½±åˆ°3Dç©ºé—´ï¼Œå¾—åˆ°æ¯ä¸ªè§†å›¾qçš„ä¸€ä¸ªç‚¹äº‘${p_1ï¼Œâ€¦ï¼Œ p_{N_{q}}}$ã€‚</p><p>ç”±äºæ·±åº¦æ¦‚ç‡æè¿°äº†ç‚¹åœ¨è¡¨é¢ä¸Šçš„å¯èƒ½æ€§ï¼Œæˆ‘ä»¬å¯¹æ·±åº¦æ¦‚ç‡ä½“ç§¯è¿›è¡Œä¸‰çº¿æ€§é‡‡æ ·ï¼Œä»¥è·å¾—æ¯ä¸ªç‚¹$p_i$çš„ç‚¹ç½®ä¿¡åº¦Î³ã€‚ä»¥ä¸Šè¿‡ç¨‹å¯ä»¥ç”¨<br>$\{p_{i},\gamma_{i}\}=G_{p,\gamma}(I_{q},\Phi_{q},I_{q_{1}},\Phi_{q_{1}},I_{q_{2}},\Phi_{q_{2}},â€¦),$</p><p>å…¶ä¸­$G_{p,Î³}$ä¸º<strong>åŸºäºmvsnetçš„ç½‘ç»œ</strong>ã€‚$I_{q_{1}}ï¼Œ Î¦_{q_{1}}ï¼Œâ€¦$æ˜¯MVSé‡å»ºä¸­ä½¿ç”¨çš„é™„åŠ ç›¸é‚»è§†å›¾;åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªé™„åŠ è§†å›¾ã€‚</p><p><strong>Point features.</strong></p><p>æˆ‘ä»¬ä½¿ç”¨<strong>2D CNN</strong> $G_f$ä»æ¯ä¸ªå›¾åƒ$I_q$ä¸­æå–ç¥ç»2Då›¾åƒç‰¹å¾æ˜ å°„ã€‚è¿™äº›ç‰¹å¾æ˜ å°„ä¸æ¥è‡ª$G_{p,Î³}$çš„ç‚¹(æ·±åº¦)é¢„æµ‹å¯¹é½ï¼Œå¹¶ç”¨äºç›´æ¥é¢„æµ‹æ¯ä¸ªç‚¹çš„ç‰¹å¾$f_i$:$\{f_i\}=G_f(I_q).$<br>ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªæœ‰ä¸‰ä¸ªä¸‹é‡‡æ ·å±‚çš„VGGç½‘ç»œæ¶æ„ã€‚æˆ‘ä»¬å°†ä¸åŒåˆ†è¾¨ç‡çš„ä¸­é—´ç‰¹å¾ç»„åˆä¸ºfiï¼Œæä¾›äº†ä¸€ä¸ªæœ‰æ„ä¹‰çš„ç‚¹æè¿°æ¥æ¨¡æ‹Ÿå¤šå°ºåº¦åœºæ™¯çš„å¤–è§‚ã€‚(è§å›¾2(a))<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230825144059.png" alt="image.png"></p><p><strong>End-to-end reconstruction.</strong></p><p>æˆ‘ä»¬ç»“åˆæ¥è‡ªå¤šä¸ªè§†ç‚¹çš„ç‚¹äº‘æ¥è·å¾—æˆ‘ä»¬æœ€ç»ˆçš„ç¥ç»ç‚¹äº‘ã€‚æˆ‘ä»¬è®­ç»ƒç‚¹ç”Ÿæˆç½‘ç»œå’Œè¡¨ç¤ºç½‘ç»œï¼Œä»å¤´åˆ°å°¾éƒ½æœ‰æ¸²æŸ“æŸå¤±(è§å›¾3)ã€‚è¿™ä½¿å¾—æˆ‘ä»¬çš„ç”Ÿæˆæ¨¡å—äº§ç”Ÿåˆç†çš„åˆå§‹è¾å°„åœºã€‚å®ƒè¿˜ä»¥åˆç†çš„æƒé‡åˆå§‹åŒ–Point-NeRFè¡¨ç¤ºä¸­çš„mlpï¼Œæå¤§åœ°èŠ‚çœäº†æ¯ä¸ªåœºæ™¯çš„æ‹Ÿåˆæ—¶é—´ã€‚<br>æ­¤å¤–ï¼Œé™¤äº†ä½¿ç”¨å®Œæ•´çš„ç”Ÿæˆæ¨¡å—ï¼Œæˆ‘ä»¬çš„ç®¡é“è¿˜æ”¯æŒä½¿ç”¨ä»å…¶ä»–æ–¹æ³•(å¦‚COLMAP[44])é‡å»ºçš„ç‚¹äº‘ï¼Œå…¶ä¸­æˆ‘ä»¬çš„æ¨¡å‹(ä¸åŒ…æ‹¬MVSç½‘ç»œ)ä»ç„¶å¯ä»¥ä¸ºæ¯ä¸ªç‚¹æä¾›æœ‰æ„ä¹‰çš„åˆå§‹ç¥ç»ç‰¹å¾ã€‚è¯¦æƒ…è¯·å‚è€ƒæˆ‘ä»¬çš„è¡¥å……èµ„æ–™ã€‚</p><h2 id="Optimizing-point-based-radiance-fields"><a href="#Optimizing-point-based-radiance-fields" class="headerlink" title="Optimizing point-based radiance fields"></a>Optimizing point-based radiance fields</h2><p><strong>ä¸Šé¢çš„ç®¡é“</strong>å¯ä»¥ä¸ºä¸€ä¸ªæ–°åœºæ™¯<strong>è¾“å‡ºä¸€ä¸ªåˆç†çš„åŸºäºåˆå§‹ç‚¹çš„äº®åº¦åœº</strong>ã€‚é€šè¿‡å¯å¾®å°„çº¿è¡Œè¿›ï¼Œå¯¹äºç‰¹å®šåœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼˜åŒ–ç¥ç»ç‚¹äº‘(ç‚¹ç‰¹å¾$f_i$andç‚¹ç½®ä¿¡åº¦$Î³_i$)å’Œæˆ‘ä»¬è¡¨ç¤ºä¸­çš„mlpæ¥è¿›ä¸€æ­¥æ”¹å–„äº®åº¦åœº(è§å›¾3)ã€‚</p><p>åˆå§‹ç‚¹äº‘ï¼Œç‰¹åˆ«æ˜¯æ¥è‡ªå¤–éƒ¨é‡å»ºæ–¹æ³•çš„ç‚¹äº‘(ä¾‹å¦‚ï¼Œå›¾1ä¸­çš„Metashapeæˆ–COLMAP)ï¼Œé€šå¸¸ä¼š<strong>åŒ…å«é™ä½æ¸²æŸ“è´¨é‡çš„å­”å’Œå¼‚å¸¸å€¼</strong>ã€‚åœ¨é€åœºæ™¯ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å‘ç°ç›´æ¥ä¼˜åŒ–ç°æœ‰ç‚¹çš„ä½ç½®ä¼šä½¿è®­ç»ƒä¸ç¨³å®šï¼Œæ— æ³•å¡«å……å¤§æ´(è§1)ã€‚ç›¸åï¼Œ<strong>æˆ‘ä»¬é‡‡ç”¨äº†æ–°çš„ç‚¹ä¿®å‰ªå’Œç”Ÿé•¿æŠ€æœ¯ï¼Œé€æ¸æé«˜å‡ ä½•å»ºæ¨¡å’Œæ¸²æŸ“è´¨é‡</strong>ã€‚</p><p><strong>Point pruning.</strong></p><p>å¦‚ç¬¬3èŠ‚æ‰€è¿°ï¼Œæˆ‘ä»¬è®¾è®¡äº†ç‚¹ç½®ä¿¡åº¦å€¼$Î³_i$æ¥æè¿°ç¥ç»ç‚¹æ˜¯å¦é è¿‘åœºæ™¯è¡¨é¢ã€‚æˆ‘ä»¬åˆ©ç”¨è¿™äº›ç½®ä¿¡åº¦å€¼æ¥ä¿®å‰ªä¸å¿…è¦çš„å¼‚å¸¸ç‚¹ã€‚è¯·æ³¨æ„ï¼Œ<strong>ç‚¹ç½®ä¿¡åº¦ä¸ä½“ç§¯å¯†åº¦å›å½’ä¸­æ¯ä¸ªç‚¹çš„è´¡çŒ®ç›´æ¥ç›¸å…³</strong>(Eqn. 7);å› æ­¤ï¼Œä½ç½®ä¿¡åº¦åæ˜ äº†ç‚¹å±€éƒ¨åŒºåŸŸçš„ä½ä½“ç§¯å¯†åº¦ï¼Œè¡¨æ˜å®ƒæ˜¯ç©ºçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ¯10Kæ¬¡è¿­ä»£å°±ä¿®å‰ª$Î³_i &lt; 0.1$çš„ç‚¹ã€‚æˆ‘ä»¬è¿˜å¯¹ç‚¹ç½®ä¿¡åº¦æ–½åŠ äº†ç¨€ç–æ€§æŸå¤±[30], $\mathcal{L}_{\mathrm{sparse}}=\frac{1}{|\gamma|}\sum_{\gamma_{i}}\left[log(\gamma_{i})+log(1-\gamma_{i})\right]$ è¿™è¿«ä½¿ç½®ä¿¡å€¼è¦ä¹ˆæ¥è¿‘0ï¼Œè¦ä¹ˆæ¥è¿‘1ã€‚å¦‚å›¾4æ‰€ç¤ºï¼Œè¿™ç§å‰ªææŠ€æœ¯å¯ä»¥å»é™¤ç¦»ç¾¤ç‚¹ï¼Œå‡å°‘ç›¸åº”çš„ä¼ªå½±ã€‚</p><p><strong>Point growing.</strong></p><p>æˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ç§æ–°çš„æŠ€æœ¯æ¥ç”Ÿé•¿æ–°çš„ç‚¹æ¥è¦†ç›–åŸå§‹ç‚¹äº‘ä¸­ç¼ºå¤±çš„åœºæ™¯å‡ ä½•ã€‚ä¸ç›´æ¥åˆ©ç”¨ç°æœ‰ç‚¹ä¿¡æ¯çš„ç‚¹ä¿®å‰ªä¸åŒï¼Œ<strong>ç”Ÿé•¿ç‚¹éœ€è¦åœ¨ä¸å­˜åœ¨ç‚¹çš„ç©ºç™½åŒºåŸŸæ¢å¤ä¿¡æ¯</strong>ã€‚æˆ‘ä»¬é€šè¿‡åŸºäºæˆ‘ä»¬çš„point - nerfè¡¨ç¤ºå»ºæ¨¡çš„å±€éƒ¨åœºæ™¯å‡ ä½•æ¥é€æ­¥å¢é•¿ç‚¹äº‘è¾¹ç•Œé™„è¿‘çš„ç‚¹æ¥å®ç°è¿™ä¸€ç‚¹ã€‚<br>ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬åˆ©ç”¨åœ¨å…‰çº¿è¡Œè¿›ä¸­é‡‡æ ·çš„æ¯å°„çº¿ç€è‰²ä½ç½®(Eqn. 1ä¸­çš„$x_j$)æ¥è¯†åˆ«æ–°çš„å€™é€‰ç‚¹ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ç¡®å®šæ²¿å…‰çº¿<strong>ä¸é€æ˜åº¦æœ€é«˜çš„é˜´å½±ä½ç½®</strong>$x_{j_{g}}$:<br>$\alpha_j=1-\exp(-\sigma_j\Delta_j),j_g=\operatorname*{argmax}_j\alpha_j.$<br>æˆ‘ä»¬å°†$\epsilon_{j_{g}}$è®¡ç®—ä¸º$x_{j_{g}}$åˆ°å®ƒæœ€è¿‘çš„ç¥ç»ç‚¹çš„è·ç¦»ã€‚</p><p>å¯¹äºè¡Œè¿›å°„çº¿ï¼Œå¦‚æœ$\alpha_{j_g}&gt;T_{\text{opacity}}$, $\epsilon_{j_{g}}&gt;T_{\mathrm{dist}}$ï¼Œæˆ‘ä»¬åœ¨$x_{j_{g}}$å¤„ç”Ÿé•¿ä¸€ä¸ªç¥ç»ç‚¹ã€‚è¿™æ„å‘³ç€è¯¥ä½ç½®ä½äºè¡¨é¢é™„è¿‘ï¼Œä½†è¿œç¦»å…¶ä»–ç¥ç»ç‚¹ã€‚é€šè¿‡é‡å¤è¿™ç§å¢é•¿ç­–ç•¥ï¼Œæˆ‘ä»¬çš„äº®åº¦åœºå¯ä»¥æ‰©å±•åˆ°è¦†ç›–åˆå§‹ç‚¹äº‘ä¸­çš„ç¼ºå¤±åŒºåŸŸã€‚<strong>ç‚¹å¢é•¿å°¤å…¶æœ‰åˆ©äºé€šè¿‡COLMAPç­‰æ–¹æ³•é‡å»ºçš„ç‚¹äº‘</strong>ï¼Œè¿™äº›æ–¹æ³•ä¸å¯†é›†(è§å›¾4)ã€‚æˆ‘ä»¬è¡¨æ˜ï¼Œå³ä½¿åœ¨åªæœ‰1000ä¸ªåˆå§‹ç‚¹çš„æç«¯æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æŠ€æœ¯ä¹Ÿèƒ½å¤Ÿé€æ­¥å¢é•¿æ–°çš„ç‚¹å¹¶åˆç†åœ°è¦†ç›–ç‰©ä½“è¡¨é¢(è§å›¾5)ã€‚</p><h1 id="Implementation-details"><a href="#Implementation-details" class="headerlink" title="Implementation details"></a>Implementation details</h1><p><strong>Network details</strong><br>æˆ‘ä»¬å¯¹æ¯ç‚¹å¤„ç†ç½‘ç»œ$G_f$çš„ç›¸å¯¹ä½ç½®å’Œæ¯ç‚¹ç‰¹å¾ä»¥åŠç½‘ç»œrçš„è§‚çœ‹æ–¹å‘åº”ç”¨<strong>é¢‘ç‡ä½ç½®ç¼–ç </strong>ã€‚æˆ‘ä»¬åœ¨network $G_f$ä¸­ä»¥<strong>ä¸åŒåˆ†è¾¨ç‡ä»ä¸‰å±‚æå–å¤šå°ºåº¦å›¾åƒç‰¹å¾</strong>ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå…·æœ‰56(8+16+32)ä¸ªé€šé“çš„å‘é‡ã€‚æˆ‘ä»¬è¿˜ä»æ¯ä¸ªè¾“å…¥è§†ç‚¹é™„åŠ ç›¸åº”çš„è§‚çœ‹æ–¹å‘ï¼Œä»¥å¤„ç†ä¸è§†å›¾ç›¸å…³çš„æ•ˆæœã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬æœ€ç»ˆçš„é€ç‚¹ç¥ç»ç‰¹å¾æ˜¯ä¸€ä¸ª59é€šé“å‘é‡</strong>ã€‚è¯·å‚è€ƒæˆ‘ä»¬çš„è¡¥å……èµ„æ–™ï¼Œäº†è§£ç½‘ç»œæ¶æ„å’Œé®é˜³æ—¶çš„ç¥ç»ç‚¹æŸ¥è¯¢çš„ç»†èŠ‚ã€‚</p><p><strong>Training and optimization details.</strong><br>æˆ‘ä»¬åœ¨DTUæ•°æ®é›†ä¸Šè®­ç»ƒæˆ‘ä»¬çš„å®Œæ•´ç®¡é“ï¼Œä½¿ç”¨ä¸PixelNeRFå’ŒMVSNeRFç›¸åŒçš„è®­ç»ƒå’Œæµ‹è¯•åˆ†å‰²ã€‚æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ç±»ä¼¼äºåŸå§‹MVSNetè®ºæ–‡[59]çš„åœ°é¢çœŸå€¼æ·±åº¦å¯¹åŸºäºMVSNetçš„æ·±åº¦ç”Ÿæˆç½‘ç»œè¿›è¡Œé¢„è®­ç»ƒã€‚ç„¶åï¼Œæˆ‘ä»¬çº¯ç²¹ä½¿ç”¨L2æ¸²æŸ“æŸå¤±$L_render$ä»ç«¯åˆ°ç«¯è®­ç»ƒæˆ‘ä»¬çš„å®Œæ•´ç®¡é“ï¼Œç”¨ground truthç›‘ç£æˆ‘ä»¬ä»å…‰çº¿è¡Œè¿›(é€šè¿‡Eqn. 1)ä¸­æ¸²æŸ“çš„åƒç´ ï¼Œä»¥è·å¾—æˆ‘ä»¬çš„Point-NeRFé‡å»ºç½‘ç»œã€‚æˆ‘ä»¬ä½¿ç”¨Adam[22]ä¼˜åŒ–å™¨è®­ç»ƒæ•´ä¸ªç®¡é“ï¼Œåˆå§‹å­¦ä¹ ç‡ä¸º5eâˆ’4ã€‚æˆ‘ä»¬çš„å‰é¦ˆç½‘ç»œä»ä¸‰ä¸ªè¾“å…¥è§†å›¾ç”Ÿæˆä¸€ä¸ªç‚¹äº‘éœ€è¦0.2sã€‚<br>åœ¨é€åœºæ™¯ä¼˜åŒ–é˜¶æ®µï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§ç»“åˆäº†æ¸²æŸ“å’Œç¨€ç–åº¦æŸå¤±çš„æŸå¤±å‡½æ•°$\mathcal{L}_{\mathrm{opt}}=\mathcal{L}_{\mathrm{render}}+a\mathcal{L}_{\mathrm{sparse}},$<br>æˆ‘ä»¬ç”¨a = 2e - 3æ¥åšæ‰€æœ‰çš„å®éªŒã€‚æˆ‘ä»¬<strong>æ¯10Kæ¬¡è¿­ä»£æ‰§è¡Œç‚¹ç”Ÿé•¿å’Œä¿®å‰ª</strong>ï¼Œä»¥å®ç°æœ€ç»ˆçš„é«˜è´¨é‡é‡å»ºã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><ul><li>Evaluation on the DTU testing set.</li><li>Evaluation on the NeRF Synthetic dataset.</li><li>Evaluation on the Tanks &amp; Temples and the ScanNet dataset.</li><li>Additional experiments.<ul><li>Converting COLMAP point clouds to Point-NeRF</li><li>Point growing and pruning.</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PointCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>COLMAP Basic Knowlege</title>
      <link href="/Learn/CG%20or%20CV/Colmap/"/>
      <url>/Learn/CG%20or%20CV/Colmap/</url>
      
        <content type="html"><![CDATA[<p><a href="https://colmap.github.io/tutorial.html">colmap tutorial</a></p><p>æ›´å¥½çš„é‡å»ºæ•ˆæœéœ€è¦æ‹æ‘„çš„å›¾ç‰‡ä¿è¯:</p><ul><li>å¥½çš„çº¹ç†</li><li>ç›¸ä¼¼çš„ç…§æ˜æ¡ä»¶ï¼Œé¿å…é«˜åŠ¨æ€èŒƒå›´åœºæ™¯ï¼ˆä¾‹å¦‚ï¼Œé€†å…‰é˜´å½±æˆ–é€è¿‡é—¨çª—çš„ç…§ç‰‡ï¼‰ï¼Œé¿å…åœ¨å…‰æ»‘è¡¨é¢ä¸Šå‡ºç°åå°„å…‰</li><li>é«˜è§†è§‰é‡å åº¦ï¼Œç¡®ä¿æ¯ä¸ªå¯¹è±¡è‡³å°‘åœ¨ 3 å¼ å›¾åƒä¸­å¯è§ï¼Œå›¾åƒè¶Šå¤šè¶Šå¥½</li><li>ä»ä¸åŒçš„è§†è§’æ‹æ‘„å›¾åƒï¼Œä¸è¦åªé€šè¿‡æ—‹è½¬ç›¸æœºæ¥æ‹æ‘„ç›¸åŒä½ç½®çš„å›¾åƒ</li></ul><span id="more"></span><p><a href="../../3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Neus-code.md">Neus-code</a></p><p>Colmap ç®—æ³•ä¸»è¦åŒ…æ‹¬ SFM å’Œ MVS</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230717204531.png" alt="image.png|500"></p><h1 id="Structure-from-Motion-SFM"><a href="#Structure-from-Motion-SFM" class="headerlink" title="Structure-from-Motion(SFM)"></a>Structure-from-Motion(SFM)</h1><blockquote><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=553224841006579712&amp;noteId=1991438575104619008">Structure-from-Motion Revisited (readpaper.com)</a> &gt; <a href="https://jiajiewu.gitee.io/post/tech/slam-sfm/sfm-intro/">SFM ç®—æ³•åŸç†åˆç®€ä»‹ | jiajie (gitee.io)</a></p></blockquote><p>å¢é‡å¼ SFMï¼šè¾“å…¥ä¸€ç³»åˆ—ä»å¤šä¸ªä¸åŒè§†è§’å¯¹ç›¸åŒç‰©ä½“ overlapping çš„å›¾åƒï¼Œè¾“å‡ºç¨€ç– 3D ç‚¹äº‘å’Œæ‰€æœ‰å›¾åƒå¯¹åº”çš„ç›¸æœºå†…å¤–å‚</p><ol><li>Feature detection and extraction</li><li>Feature matching and geometric verification</li><li>Structure and motion reconstruction</li></ol><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231005200141.png" alt="image.png|666"></p><p>SFM:</p><ul><li>Correspondence Search. <strong>è¾“å…¥å›¾åƒ</strong> â€”&gt; ä¸€ç»„ç»è¿‡å‡ ä½•éªŒè¯çš„<strong>å›¾åƒå¯¹</strong>ï¼Œä»¥åŠæ¯ä¸ªç‚¹çš„å›¾åƒ<strong>æŠ•å½±å›¾</strong><ul><li>Feature Extraction. SIFT ç®—å­(å¯ä»¥æ˜¯ä»»ä½•ä¸€ç§ç‰¹å¼‚æ€§è¾ƒå¼ºçš„ç‰¹å¾)<ul><li>SIFT ç®—æ³•(Scale-invariant feature transform)æ˜¯ä¸€ç§ç”µè„‘è§†è§‰çš„ç®—æ³•ç”¨æ¥ä¾¦æµ‹ä¸æè¿°å½±åƒä¸­çš„å±€éƒ¨æ€§ç‰¹å¾ï¼Œå®ƒåœ¨ç©ºé—´å°ºåº¦ä¸­å¯»æ‰¾æå€¼ç‚¹ï¼Œå¹¶æå–å‡ºå…¶ä½ç½®ã€å°ºåº¦ã€æ—‹è½¬ä¸å˜é‡ï¼Œæ­¤ç®—æ³•ç”±  David Lowe åœ¨ 1999 å¹´æ‰€å‘è¡¨ï¼Œ2004 å¹´å®Œå–„æ€»ç»“, ref: <a href="https://blog.csdn.net/u010440456/article/details/81483145">éå¸¸è¯¦ç»†çš„ sift ç®—æ³•åŸç†è§£æ_å¯æ—¶é—´å€’æ•°äº†çš„åšå®¢-CSDN åšå®¢</a></li><li>æ”¹è¿›çš„SIFTç®—æ³•ï¼Œmickey: <a href="https://nianticlabs.github.io/mickey/">Matching 2D Images in 3D: Metric Relative Pose from Metric Correspondences</a></li></ul></li><li>Matching.</li><li>Geometric Verification. å¦‚æœä¸€ä¸ªæœ‰æ•ˆçš„å˜æ¢åœ¨å›¾åƒä¹‹é—´æ˜ å°„äº†è¶³å¤Ÿæ•°é‡çš„ç‰¹å¾ï¼Œå®ƒä»¬å°±è¢«è®¤ä¸ºæ˜¯å‡ ä½•éªŒè¯çš„<ul><li>å•åº”æ€§Hæè¿°äº†çº¯æ—‹è½¬æˆ–ç§»åŠ¨æ‘„åƒæœºæ•æ‰å¹³é¢åœºæ™¯çš„å˜æ¢</li><li>å¯¹æå‡ ä½•é€šè¿‡essentialçŸ©é˜µE(æ ¡å‡†)æˆ–fundamentalçŸ©é˜µF(æœªæ ¡å‡†)æè¿°äº†ç§»åŠ¨æ‘„åƒæœºçš„å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸‰ç„¦å¼ é‡æ‰©å±•åˆ°ä¸‰ä¸ªè§†å›¾</li></ul></li></ul></li><li>Incremental Reconstruction. <strong>scene graph.</strong> â€”&gt; <strong>pose estimates and reconstructed scene structure as a set of points</strong><ul><li>Initialization. é€‰æ‹©åˆé€‚çš„åˆå§‹pairè‡³å…³é‡è¦</li><li>Image Registration. é…å‡†ï¼šä»åº¦é‡é‡å»ºå¼€å§‹ï¼Œé€šè¿‡ä½¿ç”¨å·²é…å‡†å›¾åƒä¸­ä¸‰è§’ç‚¹çš„ç‰¹å¾å¯¹åº”(2D-3Då¯¹åº”)æ¥è§£å†³Perspective-n-Point (PnP)é—®é¢˜ï¼Œå¯ä»¥å°†æ–°å›¾åƒé…å‡†åˆ°å½“å‰æ¨¡å‹</li><li>Triangulation. ä¸‰è§’æµ‹é‡æ˜¯SfMçš„å…³é”®æ­¥éª¤ï¼Œå› ä¸ºå®ƒé€šè¿‡å†—ä½™å¢åŠ äº†ç°æœ‰æ¨¡å‹çš„ç¨³å®šæ€§</li><li>Bundle Adjustment. BAæ˜¯æ‘„åƒæœºå‚æ•°Pcå’Œç‚¹å‚æ•°Xkçš„è”åˆéçº¿æ€§ç»†åŒ–ï¼Œä½¿é‡æŠ•å½±è¯¯å·®æœ€å°åŒ–</li></ul></li></ul><h1 id="Multi-View-Stereo-MVS"><a href="#Multi-View-Stereo-MVS" class="headerlink" title="Multi-View Stereo(MVS)"></a>Multi-View Stereo(MVS)</h1><blockquote><p><a href="https://readpaper.com/pdf-annotate/note?pdfId=709983199334641664&amp;noteId=1991447797942823424">Pixelwise View Selection for Unstructured Multi-View Stereo (readpaper.com)</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Colmap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRF in the industrial and robotics domain</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/NeRF%20in%20the%20industrial%20and%20robotics%20domain/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/NeRF%20in%20the%20industrial%20and%20robotics%20domain/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Neural Radiance Fields in the Industrial and Robotics Domain: Applications, Research Opportunities and Use Cases</th></tr></thead><tbody><tr><td>Author</td><td>Eugen Ë‡Slapak, Enric Pardo, Mat ÌuË‡s Dopiriak, Taras Maksymyuk and Juraj Gazda</td></tr><tr><td>Conf/Jour</td><td>cs.RO</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/Maftej/iisnerf">Maftej/iisnerf (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4789767752768290817&amp;noteId=1925861245942862080">Neural radiance fields in the industrial and robotics domain: applications, research opportunities and use cases (readpaper.com)</a></td></tr></tbody></table></div><p>æ¢ç´¢äº†NeRFåœ¨å·¥ä¸šå’Œæœºå™¨äººé¢†åŸŸçš„åº”ç”¨</p><ul><li>Instant-NGP åŸºäºNeRFçš„è§†é¢‘å‹ç¼©æŠ€æœ¯</li><li>D-NeRF æ ¹æ®è¿‡å»çš„armä½ç½®æ¥é¢„æµ‹æœªæ¥çš„armè¿åŠ¨</li></ul><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨è¿™é¡¹ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å…¨é¢çš„ç ”ç©¶ï¼Œå¹¶æ¢è®¨äº†NeRFåœ¨å·¥ä¸šéƒ¨é—¨çš„æ½œåœ¨åº”ç”¨ã€‚æˆ‘ä»¬çš„ç ”ç©¶è¡¨æ˜ï¼Œnerfå¯ä»¥å…‹æœä¼ ç»Ÿ3Dè¡¨ç¤ºå’Œæ¸²æŸ“æ–¹æ³•çš„å±€é™æ€§ï¼Œä¾‹å¦‚æˆæœ¬é«˜ã€å­˜å‚¨æ•ˆç‡ä½ã€è®¾å¤‡è¦æ±‚é«˜å’ŒçœŸå®æ„Ÿæœ‰é™ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ç ”ç©¶äº†åˆ›æ–°çš„NeRFåœ¨å·¥ä¸šç¯å¢ƒä¸­çš„åº”ç”¨ï¼Œå¹¶é€šè¿‡æ¦‚å¿µéªŒè¯å®éªŒè¯å®äº†å®ƒä»¬çš„å¯è¡Œæ€§ã€‚æˆ‘ä»¬è®¤ä¸º<strong>æˆ‘ä»¬çš„å·¥ä½œæ˜¯å¯¹ä¸æ–­æ‰©å¤§çš„å…³äºnerfåŠå…¶åœ¨å„ä¸ªé¢†åŸŸçš„ä¸åŒåº”ç”¨çš„æ–‡çŒ®çš„æœ‰ä»·å€¼çš„è¡¥å……</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡æä¾›å®ç”¨çš„æŒ‡å¯¼å’Œå»ºè®®ï¼Œå¸®åŠ©<strong>å¼¥åˆå­¦æœ¯ç ”ç©¶ä¸å·¥ä¸šå®è·µä¹‹é—´çš„å·®è·</strong>ï¼Œä»¥åˆ©ç”¨nerfæ¥åº”å¯¹ç°å®ä¸–ç•Œçš„å·¥ä¸šæŒ‘æˆ˜ã€‚<br>ä½œä¸ºä¸€ç§æ–°é¢–è€Œæœ‰å‰é€”çš„æ–¹æ³•ï¼Œnerfä¸ºæœªæ¥å·¥ä¸šé¢†åŸŸçš„ç ”ç©¶æä¾›äº†å¹¿æ³›çš„æœºä¼šã€‚</p><ul><li>æˆ‘ä»¬çš„æ¦‚å¿µéªŒè¯å®éªŒå¯ä»¥æ‰©å±•åˆ°<strong>åŸºäºå¯¹æœªæ¥æœºå™¨äººç›¸æœºå§¿åŠ¿çš„é¢„æµ‹</strong>æ¥<strong>æ¢ç´¢è§†é¢‘å¸§çš„é¢„æµ‹æ€§æ¨æµ‹ç”Ÿæˆ</strong>ï¼Œç”šè‡³å¯ä»¥é¢„æµ‹ä½¿ç”¨è¿™äº›å¸§è¿›è¡Œå…¶ä»–ä¸‹æ¸¸ä»»åŠ¡ï¼Œä¾‹å¦‚å¯¹è±¡åˆ†ç±»ã€‚æ¨æµ‹æ€§é¢„æµ‹æ‰§è¡Œå¯ä»¥ä»æ ¹æœ¬ä¸Šå‡å°‘è¿™ç±»ä»»åŠ¡çš„å»¶è¿Ÿã€‚</li><li>é™¤äº†æˆ‘ä»¬å®éªŒçš„æ‰©å±•ï¼Œè¿˜æœ‰è®¸å¤šæœªæ¢ç´¢çš„ä¸»é¢˜ã€‚å…¶ä¸­åŒ…æ‹¬<strong>é€šè¿‡nerfå¯¹æ— çº¿ç”µé¢‘è°±è¿›è¡Œå»ºæ¨¡</strong>ï¼Œä»¥ä¼°è®¡ä¿¡å·è´¨é‡ï¼Œæˆ–è€…<strong>é€šè¿‡é™æ€å¤–éƒ¨æ‘„åƒæœºè§‚å¯Ÿèœ‚ç¾¤åŠå…¶å‘¨å›´ç¯å¢ƒçš„è§†é¢‘æµ</strong>ï¼Œä¸ºæœºå™¨äººç¾¤ä¸­çš„å•ä¸ªæœºå™¨äººç”Ÿæˆè§†å›¾ã€‚<strong>åµŒå…¥è¯­è¨€çš„nerf</strong>ï¼Œå¦‚[110]LERFä¸­æå‡ºçš„nerfï¼Œä¹Ÿå¯ä»¥ä½¿åŸºäºè¯­è¨€æ¨¡å‹çš„æ™ºèƒ½ä½“èƒ½å¤Ÿåœ¨3Dä¸­è¿›è¡Œæ­£ç¡®çš„è¡ŒåŠ¨è®¡åˆ’çš„å¸¸è¯†æ€§æ¨ç†ã€‚</li></ul><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æ‰©å±•ç°å®(XR)ç­‰æŠ€æœ¯çš„æ¿€å¢å¢åŠ äº†å¯¹é«˜è´¨é‡ä¸‰ç»´(3D)å›¾å½¢è¡¨ç¤ºçš„éœ€æ±‚ã€‚å·¥ä¸š3Dåº”ç”¨åŒ…æ‹¬è®¡ç®—æœºè¾…åŠ©è®¾è®¡(CAD)ã€æœ‰é™å…ƒåˆ†æ(FEA)ã€æ‰«æå’Œæœºå™¨äººæŠ€æœ¯ã€‚ç„¶è€Œï¼Œç›®å‰ç”¨äºå·¥ä¸š3Dè¡¨ç¤ºçš„æ–¹æ³•å­˜åœ¨å®æ–½æˆæœ¬é«˜å’Œä¾èµ–äººå·¥è¾“å…¥æ¥è¿›è¡Œç²¾ç¡®çš„3Då»ºæ¨¡çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œç¥ç»è¾å°„åœº(nerf)å·²ç»æˆä¸ºä¸€ç§å¾ˆæœ‰å‰é€”çš„æ–¹æ³•ï¼Œå¯ä»¥åŸºäºæä¾›çš„è®­ç»ƒ2Då›¾åƒæ¥å­¦ä¹ 3Dåœºæ™¯è¡¨ç¤ºã€‚<strong>å°½ç®¡äººä»¬å¯¹nerfçš„å…´è¶£æ—¥ç›Šæµ“åšï¼Œä½†å®ƒä»¬åœ¨å„ç§å·¥ä¸šå­é¢†åŸŸçš„æ½œåœ¨åº”ç”¨ä»æœªå¾—åˆ°æ¢ç´¢</strong>ã€‚<br>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†NeRFå·¥ä¸šåº”ç”¨çš„å…¨é¢æ£€æŸ¥ï¼ŒåŒæ—¶ä¹Ÿä¸ºæœªæ¥çš„ç ”ç©¶å·¥ä½œæä¾›äº†æ–¹å‘ã€‚æˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ç³»åˆ—æ¦‚å¿µéªŒè¯å®éªŒï¼Œè¯æ˜äº†nerfåœ¨å·¥ä¸šé¢†åŸŸçš„æ½œåŠ›ã€‚è¿™äº›å®éªŒåŒ…æ‹¬<strong>åŸºäºnerfçš„è§†é¢‘å‹ç¼©æŠ€æœ¯</strong>ï¼Œä»¥åŠ<strong>åœ¨é¿å…ç¢°æ’çš„æƒ…å†µä¸‹ä½¿ç”¨nerfè¿›è¡Œ3Dè¿åŠ¨ä¼°è®¡</strong>ã€‚åœ¨è§†é¢‘å‹ç¼©å®éªŒä¸­ï¼Œæˆ‘ä»¬çš„ç»“æœæ˜¾ç¤ºï¼Œåœ¨åˆ†è¾¨ç‡åˆ†åˆ«ä¸º1920x1080å’Œ300x168çš„æƒ…å†µä¸‹ï¼Œå‹ç¼©èŠ‚çœé«˜è¾¾48%å’Œ74%ã€‚è¿åŠ¨ä¼°è®¡å®éªŒé‡‡ç”¨æœºæ¢°è‡‚ä¸‰ç»´åŠ¨ç”»å¯¹åŠ¨æ€nerf (D-NeRF)è¿›è¡Œè®­ç»ƒï¼Œå¾—åˆ°è§†å·®å›¾çš„å¹³å‡å³°å€¼ä¿¡å™ªæ¯”(PSNR)ä¸º23 dBï¼Œç»“æ„ç›¸ä¼¼æŒ‡æ•°(SSIM)ä¸º0.97ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>äººå·¥æ™ºèƒ½(AI)åº”ç”¨äºè®¡ç®—æœºè§†è§‰å’Œæœºå™¨äººä¸­çš„3Dåœºæ™¯ç†è§£çš„æ—©æœŸç ”ç©¶ä¸»è¦é›†ä¸­åœ¨ç®€å•çš„ç®—æ³•ä¸Šï¼Œä¾‹å¦‚å¯¼èˆªçš„è¾¹ç¼˜è¯†åˆ«[1]ã€‚åˆ°20ä¸–çºª90å¹´ä»£æœ«ï¼Œå¤§å¤šæ•°ç®—æ³•ç¼ºä¹ä»è§†è§‰æ•°æ®ä¸­æå–ç‰¹å¾çš„èƒ½åŠ›ã€‚æœºå™¨äººä¸­å›¾åƒç‰¹å¾æå–èƒ½åŠ›çš„å¢é•¿å§‹äºå°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢(SIFT)[2]çš„å‡ºç°å’ŒåŠ é€Ÿé²æ£’ç‰¹å¾(SURF)[3]æ–¹æ³•çš„å‘å±•ã€‚<br>æœºå™¨å­¦ä¹ çš„æœ€æ–°å‘å±•åŠ é€Ÿäº†æ·±åº¦å­¦ä¹ åœ¨æœºå™¨äººé¢†åŸŸçš„åº”ç”¨ã€‚ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„çªç ´æ˜¯åŸºäºAlexNetå·ç§¯ç¥ç»ç½‘ç»œ(CNN)çš„æ·±åº¦å­¦ä¹ çš„æˆåŠŸå®ç°[4]ï¼Œåœ¨æ€§èƒ½æ–¹é¢ä¼˜äºä¼ ç»Ÿçš„è®¡ç®—æœºè§†è§‰æ–¹æ³•ã€‚ä»é‚£æ—¶èµ·ï¼Œæ·±åº¦å­¦ä¹ è¢«å¹¿æ³›åº”ç”¨äºå„ç§æœºå™¨äººåœºæ™¯ï¼Œå®ç°äº†è®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸ç«¯åˆ°ç«¯è®­ç»ƒæœºå™¨äººæ§åˆ¶ä»£ç†çš„é›†æˆã€‚<br>åœ¨[5]ä¸­è¿›è¡Œçš„ä¸€é¡¹å…¨é¢è°ƒæŸ¥å‘ç°ï¼Œæ·±åº¦å­¦ä¹ å·²ç»æˆåŠŸåœ°åº”ç”¨äºæœºå™¨äººçš„å„ä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬æŠ“å–è§„åˆ’ã€è·¯å¾„è§„åˆ’ã€æ„Ÿè§‰æ•´åˆä»¥åŠå¹¿æ³›çš„æ·±åº¦å¼ºåŒ–å­¦ä¹ æ–¹æ³•ã€‚è¿™äº›åº”ç”¨ä½¿æœºå™¨äººèƒ½å¤Ÿå­¦ä¹ å¤æ‚çš„ä»»åŠ¡ï¼ŒåŒ…æ‹¬è”åˆè§„åˆ’å’Œæ§åˆ¶æ¨¡å‹ï¼Œå¦‚[6]ç­‰ä½œå“æ‰€ç¤ºã€‚<br>æ­¤å¤–ï¼Œéšç€è¿‘å¹´æ¥cpuã€gpuå’Œtpuè®¡ç®—èƒ½åŠ›çš„å¢é•¿ï¼Œæˆ‘ä»¬åœ¨æ•°å­—å­ªç”Ÿå’Œå·¥ä¸šå…ƒåº”ç”¨ä¸Šè§‚å¯Ÿåˆ°æ›´å¤šçš„å·¥ä¸šæ´»åŠ¨ã€‚ä¸€ä¸ªçªå‡ºçš„ä¾‹å­æ˜¯<strong>å®é©¬çš„æ•°å­—å·¥å‚</strong>ï¼Œåœ¨é‚£é‡Œï¼Œå…¨é¢çš„3Dæ‰«æè¢«ç”¨æ¥å‡†ç¡®åœ°è¡¨ç¤ºæ‰€æœ‰çš„ç”Ÿäº§åœ°ç‚¹å’Œæ•°å­—å­ªç”Ÿä½“ï¼Œä½¿å®æ—¶ï¼Œè™šæ‹Ÿå¯¼èˆªä¸å—åœ°ç†æˆ–æ—¶é—´çš„é™åˆ¶[7]ã€‚è¿™ç§æŠ€æœ¯å…è®¸é‡å»ºå„ç§æ“ä½œè¦ç´ ï¼Œå¦‚ç”Ÿäº§çº¿ã€æœºå™¨å’Œäººå‘˜ã€‚æ­¤å¤–ï¼Œå¼€å‘çš„è™šæ‹Ÿå·¥å‚å¯ä»¥ä½¿ç”¨è™šæ‹Ÿç°å®è€³æœºheadsetsæ¥æ•è·ã€åˆ†æå’Œä½“éªŒè™šæ‹Ÿé¢†åŸŸçš„å·¥ä½œç©ºé—´ï¼Œä»è€Œå®ç°æ²‰æµ¸å¼å‚ä¸ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨3Dæ‰«ææˆ–3Då»ºæ¨¡è®¾è®¡çš„æ•°å­—å­ªç”Ÿå¯ä»¥åœ¨æ•´ä¸ªå·¥ä¸šè¿‡ç¨‹ä¸­èŠ‚çœå¤§é‡çš„è¿è¥è´¹ç”¨ã€‚<br>[8]ä¸­çš„ä½œè€…è¯¦ç»†å›é¡¾äº†2017å¹´ä¹‹å‰åŸºäºæ·±åº¦å­¦ä¹ çš„æœºå™¨äºº3Dè®¡ç®—æœºè§†è§‰æŠ€æœ¯ã€‚æœ¬æ–‡ç»¼è¿°äº†ä¸¤ç§ä¸»è¦çš„ä¸‰ç»´è®¡ç®—æœºè§†è§‰ä»»åŠ¡ç±»åˆ«:<strong>ä¸‰ç»´åˆ†ç±»å’Œä¸‰ç»´ç”Ÿæˆ</strong>ã€‚åˆ†ç±»ä»»åŠ¡åŒ…æ‹¬å¯¹è±¡ç±»çš„å­˜åœ¨å’Œä¼°è®¡å…¶3Dè¾¹ç•Œæ¡†ã€‚ç”Ÿæˆä»»åŠ¡åŒ…æ‹¬å°†è¾“å…¥è½¬æ¢ä¸º3Dç©ºé—´çš„2Dæˆ–3Dè¡¨ç¤ºã€‚3Dè¡¨ç¤ºçš„ä¾‹å­åŒ…æ‹¬æ·±åº¦å›¾[9]å’Œä½“ç´ ç½‘æ ¼[10]ï¼Œ[11]ã€‚è¯¥ç»¼è¿°è¿˜æ¦‚è¿°äº†å„ç§ç¥ç»ç»“æ„ï¼Œä¸»è¦æ˜¯cnnï¼Œå®ƒä»¬ä½¿ç”¨2Då›¾åƒæ·±åº¦å›¾é€šé“æˆ–3Dè¡¨ç¤º(å¦‚ä½“ç´ )è¿›è¡Œè®­ç»ƒã€‚è¿™äº›åŸºäºæ·±åº¦å­¦ä¹ çš„æ–¹æ³•åœ¨ä»2Då›¾åƒä¸­æå–æ·±åº¦å’Œ3Dè¡¨ç¤ºæ–¹é¢æ¯”ä»¥å‰çš„æ–¹æ³•è¡¨ç°å¾—æ›´å¥½<br><strong>ç„¶è€Œï¼Œç°æœ‰çš„æ–¹æ³•æœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œä¾‹å¦‚éœ€è¦äººå·¥è¾“å…¥3Då»ºæ¨¡</strong>ï¼Œè¿™å¯¼è‡´äº†é«˜æ˜‚çš„ç®¡ç†æˆæœ¬å’Œå®ç°æ—¶é—´ã€‚åŸºäºæ‰«æå¯¹è±¡ç‚¹äº‘çš„æ›¿ä»£æ–¹æ³•å…·æœ‰æé«˜çš„å­˜å‚¨å’Œè®¡ç®—è¦æ±‚ã€‚è¿™äº›ç¼ºç‚¹æ­£åœ¨æ¨åŠ¨è¿›ä¸€æ­¥çš„ç ”ç©¶ä»¥æ”¹è¿›ç°æœ‰çš„æŠ€æœ¯ã€‚<br>ç¥ç»éšå¼è¡¨å¾åœ¨[12]ä¸­æœ‰æ­£å¼æè¿°ï¼Œæ˜¯æ·±åº¦å­¦ä¹ ä¸­æœ€è¿‘å‡ºç°çš„ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„èŒƒå¼ã€‚ä¸è·å–å¹¿ä¹‰çŸ¥è¯†çš„ä¼ ç»Ÿæ¨¡å‹ä¸åŒï¼Œç¥ç»éšå¼è¡¨ç¤ºè¢«è®¾è®¡ä¸ºè¿‡æ‹Ÿåˆè®­ç»ƒæ ·æœ¬ã€‚è¿™ä½¿ä»–ä»¬èƒ½å¤Ÿåœ¨æ¨ç†è¿‡ç¨‹ä¸­ä»¥ä½è¯¯å·®é‡å»ºæ ·æœ¬ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿåœ¨ç¥ç»ç½‘ç»œæƒé‡å†…å­˜å‚¨å¤šåª’ä½“æ•°æ®ï¼Œå¦‚å›¾åƒï¼ŒéŸ³é¢‘å’Œè§†é¢‘</p><p><strong>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ä¸“æ³¨äºNeRFï¼Œä¸€ä¸ªéšå¼ç¥ç»è¡¨å¾çš„ä¾‹å­</strong>ã€‚NeRFé€šè¿‡åŸºäºæç»˜åœºæ™¯çš„æ ·æœ¬å›¾åƒå°†3Dåæ ‡æ˜ å°„åˆ°ç›¸åº”çš„äº®åº¦å’Œå…‰å¯†åº¦æ¥å­¦ä¹ 3Dåœºæ™¯è¡¨ç¤ºã€‚æˆ‘ä»¬æ¢ç´¢äº†å‡ ç§å·¥ä¸šåº”ç”¨ï¼Œå…¶ä¸­nerfå·²è¢«å®éªŒæ€§åœ°ç”¨äºè§£å†³å„ç§é—®é¢˜ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å°±nerfçš„æœªæ¥æ½œåŠ›æä¾›äº†å»ºè®®å’Œè§è§£ï¼Œä»¥åº”å¯¹ç°æœ‰çš„å·¥ä¸šæŒ‘æˆ˜ã€‚<br>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå·²ç»å‘è¡¨äº†å‡ ç¯‡å…³äºnerfçš„reviewæ–‡ç« ã€‚å€¼å¾—æ³¨æ„çš„è´¡çŒ®åŒ…æ‹¬Gaoç­‰[13]ã€Zhuç­‰[14]å’ŒTewariç­‰[80]ã€‚ç„¶è€Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›è¯„è®ºä¸»è¦é›†ä¸­åœ¨nerfåŠå…¶è¡ç”Ÿç‰©ä¸Šï¼Œå¿½ç•¥äº†åˆ©ç”¨å›¾åƒç©ºé—´2Dæ¨ç†çš„ç¥ç»æ¸²æŸ“æŠ€æœ¯çš„è®¨è®ºã€‚æ­¤å¤–ï¼Œä¸€é¡¹é¢å¤–çš„å·¥ä½œ[15]åœ¨æ·±å…¥æ¢ç´¢NeRFçš„åŒæ—¶ï¼Œå¯¹ç¥ç»é¢†åŸŸçš„æ›´å¹¿æ³›ä¸»é¢˜è¿›è¡Œäº†å…¨é¢çš„è®¨è®ºã€‚<br>æˆ‘ä»¬çš„å·¥ä½œæœ‰å‡ ä¸ªç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼Œå¡«è¡¥äº†è¯¥é¢†åŸŸç°æœ‰ç»¼è¿°è®ºæ–‡çš„ç©ºç™½ã€‚<strong>é¦–å…ˆï¼Œå®ƒç‰¹åˆ«å…³æ³¨NeRFåœ¨å·¥ä¸šå’Œæœºå™¨äººé¢†åŸŸçš„åº”ç”¨</strong>ï¼Œå¼ºè°ƒäº†åœ¨è¿™ä¸€ç‰¹å®šé¢†åŸŸæ‰©å±•NeRFåº”ç”¨çš„å·¨å¤§æ½œåŠ›ã€‚è¿™ç§æœ‰é’ˆå¯¹æ€§çš„æ–¹æ³•å¯ä»¥æ›´æ·±å…¥åœ°æ¢ç´¢å·¥ä¸šå’Œæœºå™¨äººç¯å¢ƒä¸­å­˜åœ¨çš„ç‹¬ç‰¹æŒ‘æˆ˜å’Œæœºé‡ã€‚<strong>å…¶æ¬¡ï¼Œæˆ‘ä»¬çš„å·¥ä½œä¸ä»…æ¶µç›–äº†å·²å»ºç«‹çš„NeRFåº”ç”¨ï¼Œè¿˜å¼•å…¥äº†æœ‰å‰é€”çš„åˆ›æ–°æƒ³æ³•</strong>ï¼Œè¿™äº›æƒ³æ³•æœ‰å¯èƒ½æ¨åŠ¨è¿›ä¸€æ­¥çš„é«˜çº§ç ”ç©¶ã€‚ä¸åƒç°æœ‰çš„è¯„è®ºå¯èƒ½åªæ˜¯ç®€å•åœ°è§¦åŠè¿™äº›æƒ³æ³•ï¼Œæˆ‘ä»¬çš„å·¥ä½œæ›´å¹¿æ³›åœ°æ¢è®¨äº†å®ƒä»¬ï¼Œæ­ç¤ºäº†å®ƒä»¬çš„æ½œåœ¨å½±å“å’Œå¥½å¤„<br>æˆ‘ä»¬çš„å·¥ä½œè¶…è¶Šäº†ç†è®ºè®¨è®ºï¼ŒåŒ…æ‹¬æ¦‚å¿µéªŒè¯å®éªŒã€‚è¿™äº›å®éªŒéªŒè¯äº†è¿™äº›å»ºè®®çš„å¯è¡Œæ€§å’Œæ½œåŠ›ï¼Œå¯ä¾›è¿›ä¸€æ­¥ç ”ç©¶ã€‚åŒ…æ‹¬è¿™æ ·çš„å®éªŒè¯æ®åŠ å¼ºäº†æˆ‘ä»¬å…³äºæå‡ºçš„æƒ³æ³•çš„é€‚ç”¨æ€§å’Œæœ‰æ•ˆæ€§çš„è®ºç‚¹ã€‚<br>æ€»ä¹‹ï¼Œè¿™é¡¹å·¥ä½œå¡«è¡¥äº†ä¸¤ä¸ªä¸»è¦çš„ç ”ç©¶ç©ºç™½ã€‚<strong>ä¸€æ˜¯ç¼ºä¹å¯¹nerfåœ¨å·¥ä¸šé¢†åŸŸçš„ç»¼è¿°å’Œåº”ç”¨æ¢ç´¢è®ºæ–‡</strong>ã€‚<strong>å…¶æ¬¡æ˜¯ä¼ ç»Ÿçš„åº”ç”¨ä¸‰ç»´å›¾å½¢å’Œè¡¨ç¤ºæ–¹æ³•åœ¨è¯¥é¢†åŸŸçš„ä¸è¶³</strong>ï¼Œç°æœ‰çš„å’Œæ–°çš„åŸºäºnerfçš„æ–¹æ³•å¯ä»¥è§£å†³è¿™äº›é—®é¢˜ã€‚æˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹:</p><ul><li>æˆ‘ä»¬å…¨é¢å›é¡¾äº†å·¥ä¸šåº”ç”¨ä¸­è®¡ç®—æœºå›¾å½¢å­¦å’Œ3Dè¡¨ç¤ºçš„ç°æœ‰æ–¹æ³•ï¼Œå¹¶æ¦‚è¿°äº†å®ƒä»¬çš„å¼±ç‚¹ã€‚</li><li>æˆ‘ä»¬ç ”ç©¶äº†NeRFæ–¹æ³•åœ¨å·¥ä¸šåº”ç”¨ä¸­çš„å¯è¡Œæ€§ï¼Œå¹¶ä¸ä¸»è¦ä½¿ç”¨çš„éNeRFæ–¹æ³•çš„ç¼ºç‚¹è¿›è¡Œäº†æ¯”è¾ƒã€‚</li><li>æˆ‘ä»¬å¯¹è¿™é¡¹å·¥ä½œä¸­ç ”ç©¶çš„æ–°å‹NeRFåº”ç”¨è¿›è¡Œäº†å®éªŒè¯„ä¼°ã€‚</li></ul><p><em>æœ¬æ–‡å…¶ä½™éƒ¨åˆ†çš„ç»“æ„æ¦‚è¿°å¦‚ä¸‹ã€‚ç¬¬äºŒèŠ‚è§£é‡Šäº†åŸºæœ¬nerfçš„åŸºæœ¬åŸåˆ™ï¼Œç‰¹åˆ«æ˜¯é™æ€åœºæ™¯çš„æ“ä½œã€‚ç¬¬ä¸‰èŠ‚è®¨è®ºäº†NeRFè¡ç”Ÿå˜ä½“çš„ä¸»è¦å®¶æ—çš„åˆ†ç±»åŠå…¶ä¸æ„Ÿå…´è¶£é¢†åŸŸçš„ç›¸å…³æ€§ã€‚ç¬¬å››éƒ¨åˆ†æ¦‚è¿°äº†å·¥ä¸šé¢†åŸŸä¸­3Dæ¸²æŸ“å’Œ3Dåœºæ™¯è¡¨ç¤ºåº”ç”¨çš„ç°çŠ¶ï¼Œä»¥åŠnerfåœ¨è¿™äº›åº”ç”¨ä¸­çš„æ½œåœ¨é€‚ç”¨æ€§ã€‚ç¬¬VèŠ‚ä»‹ç»äº†nerfçš„æ•°å­¦æè¿°å’Œæˆ‘ä»¬çš„æ¦‚å¿µéªŒè¯å®éªŒæ‰€éœ€çš„è¯„ä¼°æŒ‡æ ‡ã€‚ç¬¬å…­èŠ‚å’Œç¬¬ä¸ƒèŠ‚åˆ†åˆ«ä»‹ç»äº†åŸºäºnerfçš„è§†é¢‘å‹ç¼©å’Œæ·±åº¦ä¼°è®¡çš„é¿éšœå®éªŒã€‚æœ€åï¼Œè®ºæ–‡åœ¨ç¬¬å…«éƒ¨åˆ†ç»“æŸï¼Œæ€»ç»“äº†æœ¬æ–‡çš„ä¸»è¦å‘ç°å’Œè´¡çŒ®ã€‚</em></p><h1 id="NEURAL-RADIANCE-FIELDS-NERFS-FUNDAMENTALS-AND-WORKFLOW"><a href="#NEURAL-RADIANCE-FIELDS-NERFS-FUNDAMENTALS-AND-WORKFLOW" class="headerlink" title="NEURAL RADIANCE FIELDS (NERFS): FUNDAMENTALS AND WORKFLOW"></a>NEURAL RADIANCE FIELDS (NERFS): FUNDAMENTALS AND WORKFLOW</h1><p>NeRFs [16]å±äºå†…éšç¥ç»è¡¨å¾æ¨¡å‹å®¶æ—ã€‚è¿™ç§æ¨¡å‹é€šå¸¸è¡¨ç¤ºå•ä¸ªè¿ç»­å®ä½“ï¼Œä¾‹å¦‚ï¼Œæè¿°å•ä¸ªå›¾åƒæˆ–å•ä¸ª3Dåœºæ™¯å±æ€§çš„ä¿¡å·ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯è¿™ç§å®ä½“çš„å‹ç¼©å’Œä¿¡å·å‡½æ•°è¿‘ä¼¼æŠ€æœ¯ã€‚<strong>nerfä½¿ç”¨å®Œå…¨è¿æ¥çš„æ·±åº¦ç¥ç»ç½‘ç»œå°†3Dé™æ€åœºæ™¯è¡¨ç¤ºé›†æˆåˆ°ç¥ç»ç½‘ç»œæƒé‡ä¸­</strong>ã€‚å…¶ç›®çš„æ˜¯ä»¥å›¾åƒçš„å½¢å¼å¯¹ä¿¡å·è¿›è¡Œå‚æ•°åŒ–ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œè¿‡æ‹Ÿåˆã€‚åŸå§‹çš„NeRFå®ç°ä½¿ç”¨åŸºäºåŸºæœ¬å¤šå±‚æ„ŸçŸ¥å™¨(MLP)ä½“ç³»ç»“æ„çš„æ¨¡å‹ã€‚è¿™ä¸å¤§å¤šæ•°è¿‡åº¦æ‹Ÿåˆæ˜¯ä¸å¿…è¦ç°è±¡çš„ä»»åŠ¡ä¸åŒï¼Œå› ä¸ºç¥ç»ç½‘ç»œé€šå¸¸ç”¨äºå¯¹ä¸€ç»„å®ä½“çš„æ³›åŒ–ï¼Œè€Œä¸æ˜¯å¯¹å•ä¸ªå­¦ä¹ å®ä½“çš„è¿‡åº¦æ‹Ÿåˆã€‚è¾“å…¥æ˜¯ä¸€ç»„æç»˜å•ä¸ª3Dåœºæ™¯åŠå…¶ç›¸åº”ç›¸æœºå§¿åŠ¿çš„å›¾åƒã€‚å¯å¾®åˆ†æ¸²æŸ“å‡½æ•°è®¡ç®—äº®åº¦ï¼Œç”¨äºè·å¾—2Då›¾åƒæ¸²æŸ“çš„ç»“æœåƒç´ ã€‚ä¼˜åŒ–ç¥ç»åœºæ™¯è¡¨ç¤ºï¼Œç„¶åé€šè¿‡æœ€å°åŒ–åœ°é¢çœŸå®å’Œç”Ÿæˆçš„å›¾åƒä¹‹é—´çš„æŒ‡å¯¼ã€‚nerfå®Œæˆäº†ä¸€é¡¹è¢«å¹¿æ³›ç§°ä¸ºæ–°è§†å›¾åˆæˆçš„ä»»åŠ¡ï¼Œç”¨äºä»ç‰¹å®šå§¿åŠ¿ç”Ÿæˆ2Då›¾åƒæˆ–ç”Ÿæˆ3Dåœºæ™¯æ¨¡å‹ã€‚</p><p>å›¾1æä¾›äº†NeRFå·¥ä½œåŸç†çš„æ–‡æœ¬æè¿°çš„è§†è§‰æ¦‚è¿°ï¼Œä»¥åŠæ•´ç¯‡è®ºæ–‡ä¸­ä½¿ç”¨çš„ä¸€äº›åŸºæœ¬ç¬¦å·ã€‚ä¸å¤§å¤šæ•°å…¶ä»–æ–¹æ³•ç›¸æ¯”ï¼Œä½¿ç”¨nerfç”Ÿæˆé«˜ä¿çœŸ3Dé™æ€åœºæ™¯æˆ–å¯¹è±¡æ‰€éœ€çš„å·¥ä½œé‡æ›´å°‘ï¼Œå·¥ä½œæµç¨‹ç±»ä¼¼äºç«‹ä½“æ‘„å½±æµ‹é‡[17]ã€‚è¯¥å·¥ä½œæµç¨‹åŒ…æ‹¬è®­ç»ƒNeRFï¼Œä»…ä½¿ç”¨ä»ä¸åŒè§†ç‚¹æ•è·æ‰€éœ€3Dåœºæ™¯çš„è¾“å…¥å›¾åƒé›†åˆã€‚åŸå§‹NeRFæ¶æ„çš„ä¸€ä¸ªé™åˆ¶æ˜¯ï¼Œå®ƒéœ€è¦ä»¥ç›¸æœºå˜æ¢çŸ©é˜µçš„å½¢å¼æä¾›å…³äºæ¯ä¸ªè®­ç»ƒå›¾åƒçš„ç›¸æœºä½ç½®å’Œè§’åº¦çš„é¢å¤–ä¿¡æ¯ã€‚ç„¶è€Œï¼Œå®ƒçš„ä¸€äº›è¡ç”Ÿå˜ä½“æˆåŠŸåœ°è§£å†³äº†è¿™ä¸ªç¼ºç‚¹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821142517.png" alt="image.png"></p><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒNeRFé€šè¿‡è¿‘ä¼¼3Dç©ºé—´ä¸­ç‚¹çš„ä½“ç§¯å¯†åº¦å’Œäº®åº¦æ¥å¢å¼ºå…¶è¾“å‡ºçš„å‡†ç¡®æ€§å’ŒçœŸå®æ„Ÿã€‚è¿™ä¸¤ä¸ªé‡å¯¹äºå®šä¹‰ç»™å®šåœºæ™¯ä¸­çš„å¯¹è±¡å±æ€§è‡³å…³é‡è¦ã€‚ä½“ç§¯å¯†åº¦å†³å®šäº†ç‰©è´¨åœ¨ç©ºé—´ä¸­æŸä¸€ç‚¹çš„ä¸é€æ˜åº¦ã€‚è¾å°„åº¦å†³å®šäº†ç”±æ— é™å°çš„æŠ•å½±é¢ç§¯å‘å°„æˆ–åå°„çš„è¾å°„åŠŸç‡çš„é‡ï¼Œå•ä½æ˜¯æ¯æ— é™å°çš„ç«‹ä½“è§’çš„ç“¦æ•°ã€‚å›¾1aç›´è§‚åœ°è¡¨ç¤ºäº†è¿™äº›æ¦‚å¿µã€‚ä¸ºäº†æ˜¾è‰²ï¼Œæœ‰å¿…è¦åˆ†åˆ«è€ƒè™‘å•ä¸ªçº¢ã€ç»¿ã€è“é¢œè‰²é€šé“çš„äº®åº¦ã€‚<br>å½“ç›¸æœºæ•æ‰2Dåœºæ™¯æŠ•å½±æ—¶ï¼Œæ¯ä¸ªå›¾åƒçœ‹èµ·æ¥å¯èƒ½å®Œå…¨ä¸åŒã€‚NeRFå­¦ä¹ ä¸€ä¸ªç‹¬ç«‹äºä»»ä½•è§†å›¾è½¬æ¢çš„åº•å±‚3Dåœºæ™¯è¡¨ç¤ºï¼Œå¯ç”¨äºç”Ÿæˆè®­ç»ƒé›†ä¸­æœªè§çš„æ–°è§†å›¾ã€‚å¤šä¸ªè®­ç»ƒå›¾åƒå…è®¸NeRFå­¦ä¹ æ‰€æœ‰è®­ç»ƒæ‘„åƒæœºè§†ç‚¹ä¸€è‡´çš„åœºæ™¯è¡¨ç¤ºã€‚<br>å›¾åƒç”±NeRFä½¿ç”¨ä¼ ç»Ÿçš„ä½“ç»˜åˆ¶åˆæˆï¼Œå¦‚å›¾1bæ‰€ç¤ºã€‚ä½“ç§¯æ¸²æŸ“å°†æ–°è§†å›¾å›¾åƒçš„åƒç´ ä½œä¸ºæ²¿3Dåœºæ™¯ä¸­ç©¿è¶Šç‚¹çš„å…‰çº¿è·¯å¾„çš„æ•°å€¼é›†æˆçš„äº®åº¦ï¼Œé€æ¸ç´¯ç§¯äº®åº¦å¹¶æœ€ç»ˆè¿›å…¥ç›¸æœºå…‰åœˆã€‚åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼ŒNeRFåªæŸ¥è¯¢ç›¸å…³å…‰çº¿è·¯å¾„çš„ä½“ç§¯å¯†åº¦å’Œäº®åº¦ï¼Œè¿™å–å†³äºç›¸æœºçš„è§†ç‚¹ã€‚<br>å°†è®­ç»ƒé›†ä¸­æ‘„åƒæœºè§†ç‚¹åˆæˆçš„æ¸²æŸ“ç»“æœä¸åœ°é¢çœŸå€¼å›¾åƒè¿›è¡Œå¯¹æ¯”ï¼Œå¾—åˆ°æ¢¯åº¦ä¸‹é™çš„æŸå¤±ä¿¡å·ï¼Œå¦‚å›¾1cæ‰€ç¤ºã€‚è¿™å…è®¸æˆ‘ä»¬é€æ­¥ä¼˜åŒ–MLPæƒé‡ï¼Œä»¥æ›´å¥½åœ°è¡¨ç¤ºåœºæ™¯ã€‚</p><h1 id="CLASSIFICATION-OF-DERIVATIVE-NERF-IMPLEMENTATIONS"><a href="#CLASSIFICATION-OF-DERIVATIVE-NERF-IMPLEMENTATIONS" class="headerlink" title="CLASSIFICATION OF DERIVATIVE NERF IMPLEMENTATIONS"></a>CLASSIFICATION OF DERIVATIVE NERF IMPLEMENTATIONS</h1><p>æœ¬èŠ‚æ€»ç»“äº†è¡ç”Ÿçš„NeRFå˜ä½“ï¼Œè¿™äº›å˜ä½“åœ¨æ•ˆç‡æˆ–è´¨é‡æ”¹è¿›æ–¹é¢å¢å¼ºäº†åŸå§‹NeRFæ¶æ„çš„ç‰¹å®šæ–¹é¢ã€‚å·²ç»å¼€å‘äº†å‡ ä¸ªæ‰©å±•æ¥å¢å¼ºå„ç§åŸºæœ¬çš„NeRFæ¶æ„å±æ€§ï¼ŒåŒ…æ‹¬è®­ç»ƒæ—¶é—´ã€è´¨é‡ã€æ‰€éœ€çš„æ ·æœ¬å’Œæ¸²æŸ“æ—¶é—´ã€‚äº†è§£è¿™äº›NeRFæ”¹è¿›çš„çŸ¥è¯†å¯¹äºè§£å†³ä¸åŒç§‘å­¦å’Œå®é™…ç¯å¢ƒä¸­å›ºæœ‰çš„ç‰¹å®šåº”ç”¨é™åˆ¶å’Œè¦æ±‚è‡³å…³é‡è¦ã€‚<br>æ¯ä¸€é¡¹æ”¹è¿›éƒ½æ˜¯ç”±è¡ç”Ÿçš„NeRFå˜ä½“å¼•å…¥çš„ï¼Œè¿™äº›å˜ä½“è§£å†³äº†å·¥ä¸šNeRFç”¨ä¾‹ä¸­çš„å„ç§é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœºå™¨äººåœ¨ç§»åŠ¨åˆ°æœªçŸ¥ç¯å¢ƒæ—¶éœ€è¦ä½¿ç”¨NeRFè¿›è¡Œç©ºé—´å¯¼èˆªï¼Œç›´åˆ°ä»ä¸åŒè§†ç‚¹æ”¶é›†åˆ°ç¯å¢ƒä¸­é‡è¦éƒ¨åˆ†çš„è¶³å¤Ÿå¤šçš„å›¾åƒï¼Œåˆ™æ ·æœ¬æ•ˆç‡å¯èƒ½æ˜¯æœ‰ç”¨çš„ã€‚ä½æ¸²æŸ“æ—¶é—´(ä»¥æ€§èƒ½ä¸ºå¯¼å‘)å¯¹äºéœ€è¦ä½ååº”æ—¶é—´çš„ç³»ç»Ÿæ˜¯æœ‰ç”¨çš„ï¼Œä¾‹å¦‚ï¼Œæœºå™¨äººåœ¨ç©ºé—´ä¸­é«˜é€Ÿç§»åŠ¨ã€‚æœ€åï¼ŒåŠ¨æ€NeRFå˜é‡å¯ç”¨äºæ•è·è¿åŠ¨ï¼Œå…¶åº”ç”¨çš„ä¸€ä¸ªä¾‹å­æ˜¯å­¦ä¹ æœºå™¨äººçš„é¢„å®šä¹‰é‡å¤è¿åŠ¨ä»¥è¿›è¡Œæ—¶ç©ºåè°ƒã€‚<br>æˆ‘ä»¬å¯¹NeRFå˜ä½“è¿›è¡Œäº†åˆ†ç±»ï¼Œå¹¶æ ¹æ®å…¶å¯¹åŸå§‹NeRFçš„ä¸»è¦æ”¹è¿›é‡ç‚¹å¯¹ä»¥ä¸‹å­éƒ¨åˆ†è¿›è¡Œäº†æ„å»ºã€‚è¿™äº›ä¸€èˆ¬ç±»åˆ«æ˜¯NeRFå˜ä½“ï¼Œä¾§é‡äºæ ·æœ¬æ•ˆç‡ã€æ€§èƒ½å’Œç³»ç»ŸåŠ¨åŠ›å­¦ã€‚å°½ç®¡è¿™ç§åˆ†ç±»æœ‰åŠ©äºå¿«é€Ÿç¡®å®šç‰¹å®šä»»åŠ¡çš„æœ€ä½³NeRFå˜ä½“ï¼Œä½†å¤§å¤šæ•°è®ºæ–‡åŒæ—¶å…³æ³¨å¤šç§æ”¹è¿›ã€‚ä¸ºäº†åæ˜ è¿™ä¸€ç‚¹ï¼Œè¡¨1å¯¹è¿™äº›ä½œå“è¿›è¡Œäº†æ›´ç»†ç²’åº¦çš„åˆ†ç±»ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821142946.png" alt="image.png"></p><h2 id="Latent-vectors-for-sample-efficiency-and-scene-modification"><a href="#Latent-vectors-for-sample-efficiency-and-scene-modification" class="headerlink" title="Latent vectors for sample efficiency and scene modification"></a>Latent vectors for sample efficiency and scene modification</h2><p>ä¸€äº›å®ç°é‡‡æ ·æ•ˆç‡çš„NeRFå˜ä½“åˆ©ç”¨æ½œåœ¨å‘é‡å¯¹ä»ä¸åŒè®­ç»ƒæ•°æ®ä¸­å­¦ä¹ åˆ°çš„å¯¹è±¡ç±»åˆ«çš„æŠ½è±¡ç‰¹å¾è¿›è¡Œç¼–ç ã€‚è™½ç„¶æ½œåœ¨å‘é‡ä¸æ˜¯æé«˜æ ·æœ¬æ•ˆç‡çš„å”¯ä¸€æ–¹æ³•ï¼Œå¦‚RegNeRF[36]æ‰€ç¤ºï¼Œä½†å®ƒä»¬ä¹Ÿå¯ä»¥åœ¨ä¸€äº›NeRFæ¶æ„ä¸­å®ç°åœºæ™¯ä¿®æ”¹ï¼Œå¦‚CodeNeRF[41]ã€‚</p><p>RegNeRF[36]ä»å°‘è‡³ä¸‰å¼ è¾“å…¥å›¾åƒä¸­å¢å¼ºåœºæ™¯é‡å»ºã€‚å› æ­¤ï¼Œå®ƒè§„èŒƒäº†æ–°è§†å›¾æ¸²æŸ“å›¾åƒè¡¥ä¸çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ã€‚å‡ ä½•æ­£åˆ™åŒ–åˆ©ç”¨äº†ä¸‰ç»´å‡ ä½•å¹³æ»‘çš„å…ˆéªŒå‡è®¾ï¼Œè¿™é€‚ç”¨äºå¤§å¤šæ•°å…·æœ‰ä½ç©ºé—´é¢‘ç‡å‡ ä½•çš„ç°å®ä¸–ç•Œåœºæ™¯ã€‚å¤–è§‚æ­£åˆ™åŒ–åŸºäºä¸€ä¸ªæ–°çš„è§†å›¾å›¾åƒè¡¥ä¸ï¼Œåˆ©ç”¨å…¶æ­£ç¡®æ€§çš„å¯èƒ½æ€§æ¥ä¼˜åŒ–NeRFã€‚è¿™ç§ä¼¼ç„¶æ˜¯ä½¿ç”¨åœ¨éç»“æ„åŒ–å›¾åƒæ•°æ®é›†ä¸Šè®­ç»ƒçš„å½’ä¸€åŒ–æµæ¨¡å‹è·å¾—çš„<br>pixelNeRF[37]åˆ©ç”¨CNNæå–çš„å±€éƒ¨ç‰¹å¾ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ 2Då’Œ3Dç‰¹å¾ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚è¯¥æ–¹æ³•è¿˜é‡‡ç”¨èšç±»ç®—æ³•å°†å›¾åƒåƒç´ åˆ’åˆ†ä¸ºNeRFå­æ¨¡å—ï¼Œä»è€Œå®ç°å¹¶è¡Œè®­ç»ƒã€‚<br>LOLNeRF[38]ä½¿ç”¨NeRFçš„ç”Ÿæˆæ½œåœ¨ä¼˜åŒ–(GLO)ä»ç»™å®šå¯¹è±¡ç±»çš„å•ä¸ªå›¾åƒæ‰§è¡Œ3Dç»“æ„é‡å»ºã€‚è§£ç å™¨ç½‘ç»œä½¿ç”¨ä»æ¯ä¸ªå›¾åƒä¸­æå–çš„æ½œåœ¨ä»£ç è¡¨ç¤ºè¿›è¡Œè®­ç»ƒï¼Œè¯¥ç¼–ç è¡¨ç¤ºç¼–ç ä¸3Dåœºæ™¯é‡å»ºç›¸å…³çš„æŠ½è±¡ç‰¹å¾ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå¯¹æ½œåœ¨ä»£ç çš„æå–è¿›è¡Œé€æ­¥ç»†åŒ–<br>CodeNeRF[41]åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ å¯¹è±¡ä¸‰ç»´ç»“æ„å’Œçº¹ç†çš„è§£çº ç¼ æ½œç ã€‚å®ƒåœ¨å•ä¸ªå¸§ä¸Šä½¿ç”¨æ¨ç†æ—¶é—´ä¼˜åŒ–æ¥è°ƒæ•´æ½œåœ¨ä»£ç ï¼Œè¿™ç”¨äºè°ƒèŠ‚NeRFè¾“å‡ºã€‚è¿™ä½¿å¾—åœ¨ä¸æ”¹å˜MLPæƒé‡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æ¨ç†æ—¶ä¿®æ”¹å¯¹è±¡å½¢çŠ¶æˆ–çº¹ç†ä»¥åŒ¹é…å•ä¸ªå›¾åƒç¤ºä¾‹ã€‚æ­¤å¤–ï¼Œä¸ç±»ä¼¼çš„æ–¹æ³•ä¸åŒï¼Œæ‰§è¡Œæ­¤ä»»åŠ¡ä¸éœ€è¦äº†è§£ç›¸æœºå§¿åŠ¿ã€‚<br>ç”¨äºé«˜è´¨é‡è§†å›¾åˆæˆçš„ç¨€ç–RGB-Då›¾åƒçš„nerf[46]è¡¨æ˜ï¼Œé€šè¿‡å¯¹æ¯ä¸ªåœºæ™¯è¿›è¡Œé¢„è®­ç»ƒå’Œå¾®è°ƒï¼Œå®ƒå¯ä»¥ä»å°‘è‡³6ä¸ªè¾“å…¥å›¾åƒä¸­è¿›è¡Œè®­ç»ƒã€‚<br>ActiveNeRF[47]ä¸ºNeRFæä¾›äº†ä¸ç¡®å®šæ€§æ„ŸçŸ¥çš„ä¸»åŠ¨å­¦ä¹ ï¼Œå¹¶é€šè¿‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é€‰æ‹©æœ€èƒ½é™ä½NeRFä¸ç¡®å®šæ€§çš„ç‰¹å®šæ ·æœ¬æ¥æé«˜åœºæ™¯è¡¨ç¤ºè´¨é‡ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå®ƒå¯ä»¥é€šè¿‡å…³æ³¨æœ€é‡è¦çš„æ ·æœ¬æ¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨èµ„æºã€‚<br>NeRDi[39]ä»¥è¯­è¨€å¼•å¯¼æ‰©æ•£ä¸ºä¸€èˆ¬å›¾åƒå…ˆéªŒçš„å•è§†å›¾NeRFåˆæˆ, åˆ©ç”¨2Dæ‰©æ•£æ¨¡å‹å­¦ä¹ çš„å¤šè§†å›¾å…ˆéªŒä»å•ä¸ªå›¾åƒé‡å»º3Dåœºæ™¯ã€‚å®ƒä½¿ç”¨å›¾åƒå­—å¹•å’Œè¾“å…¥å›¾åƒçš„æ–‡æœ¬åè½¬æ¥åˆ†åˆ«å¼•å¯¼ç²—å’Œç»†ç‰©ä½“çš„å¤–è§‚ã€‚<br><strong>SparseNeRF</strong>[48]åˆ©ç”¨æ¥è‡ªä½æˆæœ¬æ·±åº¦ä¼ æ„Ÿå™¨æˆ–æ·±åº¦ä¼°è®¡æ¨¡å‹çš„ä¸å®Œå…¨æ·±åº¦ä¿¡æ¯ï¼Œä»¥å°‘é‡æ ·æœ¬è®­ç»ƒNeRFã€‚å®ƒåœ¨å±€éƒ¨å…‰åœºèåˆ(LLFF)[49]å’Œæ•°æ®åº“äº‹åŠ¡å•å…ƒ(DTU)[50]æ•°æ®é›†ä¸Šä¼˜äºå…¶ä»–æœ€å…ˆè¿›çš„æ–¹æ³•ã€‚</p><h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><p>ç°æœ‰çš„ç ”ç©¶å·¥ä½œæ”¹è¿›äº†å„ç§NeRFæ€§èƒ½æŒ‡æ ‡ï¼Œå¦‚æ¸²æŸ“é€Ÿåº¦ã€è®­ç»ƒé€Ÿåº¦å’Œæ¨¡å‹å†…å­˜å ç”¨ã€‚æœ‰äº›æ–¹æ³•å¯ä»¥åŒæ—¶å¯¹å¤šä¸ªæŒ‡æ ‡è¿›è¡Œæ”¹è¿›ã€‚æ•ˆç‡çš„å¢å¼ºè¿˜å¯ä»¥åœ¨èµ„æºå—é™çš„ç¡¬ä»¶ä¸Šå®ç°æ›´å¥½çš„æ€§èƒ½å’Œæ–°çš„å®é™…åº”ç”¨ï¼Œé™ä½éƒ¨ç½²æˆæœ¬å¹¶å®ç°å¯¹æœºå™¨äººæœ‰ç”¨çš„æ›´å°çš„ç¡¬ä»¶å°ºå¯¸ã€‚</p><p>NSVF: Neural sparse voxel fields[18]é€šè¿‡åœ¨ä½“ç´ å…«æ ‘ä¸­æ’åˆ—çš„ä½“ç´ å†…è®­ç»ƒä¸€ç»„éšå¼åœºï¼Œå°†æ¸²æŸ“æ€§èƒ½æé«˜äº†10å€ã€‚ä½“ç´ ç»“æ„æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦ä¹ çš„ï¼Œé€šè¿‡è·³è¿‡ä¸ç›¸å…³çš„ä½“ç´ æ¥åŠ é€Ÿæ¸²æŸ“ã€‚<br>KiloNeRF[19]æ˜¯ä¸€ç§é¢å‘æ¸²æŸ“æ€§èƒ½çš„æ–¹æ³•ï¼Œå®ƒå°†3Dåœºæ™¯ä½“åˆ†æˆè®¸å¤šè¾ƒå°çš„å­ä½“ï¼Œæ¯ä¸ªå­ä½“ç”±ä¸€ä¸ªå•ç‹¬çš„å°MLPæœåŠ¡ï¼Œè€Œä¸æ˜¯åœ¨æ•´ä¸ª3Dåœºæ™¯ä¸Šè®­ç»ƒå•ä¸ªå¤§MLPã€‚ä¸åŸå§‹NeRFç›¸æ¯”ï¼Œè¿™å¯¼è‡´æ¸²æŸ“é€Ÿåº¦æé«˜äº†ä¸‰ä¸ªæ•°é‡çº§<br>Adaptive Voronoi NeRF[20]ä½¿ç”¨ä¸KiloNeRFç±»ä¼¼çš„æ–¹æ³•ï¼Œå°†å•ä¸ªNeRFå‡½æ•°åˆ’åˆ†ä¸ºæ›´å°çš„å‡½æ•°ã€‚ç„¶è€Œï¼Œå®ƒä½¿ç”¨Voronoiå›¾ï¼Œé€šè¿‡ä¸€ç»„è¿‘ä¼¼å™¨å°†è¦å­¦ä¹ çš„å‡ ä½•å›¾å½¢å‡åŒ€åœ°åˆ’åˆ†åˆ°å•ä¸ªVoronoiç»†èƒä¸­ã€‚è¯¥æ–¹æ³•ä¸éœ€è¦åƒKiloNeRFé‚£æ ·å•ç‹¬çš„ç¥ç»ç½‘ç»œè’¸é¦æ­¥éª¤ï¼Œå¹¶ä¸”ä½¿ç”¨256ä¸ªVoronoiç»†èƒæ¯”ä½¿ç”¨512ä¸ªè§„åˆ™é—´éš”ç»†èƒçš„KiloNeRFè·å¾—æ›´å¥½çš„è´¨é‡<br>Mega-NeRF[25]æ˜¯ä¸€ç§è®¾è®¡<strong>ç”¨äºå¤§å‹3Dåœºæ™¯è®­ç»ƒçš„æ¶æ„</strong>ï¼Œä¾‹å¦‚æ— äººæœº(UAV)é£è¶Šï¼Œå¯ä»¥æ•è·æ•´ä¸ªåŸå¸‚è¡—åŒºå¤§å°çš„åŒºåŸŸã€‚å®ƒä½¿ç”¨ä¸€ä¸ªç¨€ç–ç¥ç»ç½‘ç»œï¼Œå…¶å‚æ•°ä¸“é—¨ç”¨äºåœºæ™¯çš„å±€éƒ¨éƒ¨åˆ†ã€‚å½“åœ¨Mega-NeRFæ¶æ„ä¸Šä½¿ç”¨å¿«é€Ÿæ¸²æŸ“NeRFå˜ä½“æ—¶ï¼Œå®ƒå¯ä»¥åœ¨åŸºæœ¬NeRFçš„åŸºç¡€ä¸Šå®ç°40å€çš„åŠ é€Ÿï¼Œè€Œè´¨é‡æŸå¤±å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚<br>SNeRG[21]å¼•å…¥äº†ä¸€ç§ç§°ä¸ºç¨€ç–ç¥ç»è¾å°„ç½‘æ ¼(SNeRG)çš„æ•°æ®ç»“æ„ï¼Œå®ƒå¯ä»¥å°†é¢„å…ˆè®¡ç®—çš„æ•°æ®å­˜å‚¨åœ¨ä½“ç´ çš„ç¨€ç–ç½‘æ ¼ä¸­ã€‚æ¯ä¸ªä½“ç´ åŒ…å«ç”±NeRFè®¡ç®—çš„å…‰å¯†åº¦ï¼Œæ¼«åå°„é¢œè‰²å’Œå­¦ä¹ çš„é•œé¢é¢œè‰²ç‰¹å¾å‘é‡ï¼Œä»…åœ¨è®­ç»ƒæœŸé—´ä½¿ç”¨ã€‚åœ¨æ¨æ–­æ—¶ï¼Œæ¼«å°„é¢œè‰²å’Œå…‰å¯†åº¦æ²¿å°„çº¿è¿›è¡Œalphaåˆæˆã€‚é«˜å…‰é¢œè‰²ç‰¹å¾å‘é‡åˆ†åˆ«è¿›è¡Œalphaåˆæˆï¼Œå¹¶é¦ˆé€åˆ°è¾“å‡ºé«˜å…‰é¢œè‰²ç»„ä»¶çš„MLPã€‚ç„¶åå°†æ¼«åå°„å’Œé•œé¢åˆ†é‡å›¾åƒåˆå¹¶åˆ°æœ€ç»ˆå›¾åƒä¸­ã€‚è¿™ç§æ–¹æ³•å¯ä»¥å°†NeRFåœ¨æ™®é€šç¡¬ä»¶ä¸Šçš„æ¸²æŸ“é€Ÿåº¦æé«˜åˆ°æ¯ç§’30å¸§ã€‚å®ƒè¿˜å®ç°äº†ç©ºé—´æ•ˆç‡ï¼Œåªéœ€è¦90mbçš„å­˜å‚¨ç©ºé—´ã€‚<br>PlenOctrees[22]é¦–å…ˆè®­ç»ƒNeRFå˜ä½“NeRFSH (SHä»£è¡¨çƒé¢è°æ³¢)ï¼Œå®ƒä½¿ç”¨å°é—­å½¢å¼çš„çƒé¢åŸºå‡½æ•°ä»£æ›¿é¢œè‰²ã€‚ç„¶åï¼ŒNeRF-SHè¢«é¢„å…ˆè®¡ç®—æˆä¸€ä¸ªåŸºäºå…«å‰æ ‘çš„3Dç»“æ„ï¼Œç§°ä¸ºPlenOctreesã€‚é¢œè‰²å¯ä»¥é€šè¿‡å°†ä¸¤ä¸ªè§†è§’å®šä¹‰çš„ç»™å®šæ–¹å‘çš„åŠ æƒçƒè°åŸºç›¸åŠ å¾—åˆ°ã€‚å…¨å…«å‰æ ‘å…è®¸ç›´æ¥ä¼˜åŒ–è¿›ä¸€æ­¥çš„è´¨é‡æ”¹è¿›å’Œä¸‰å€çš„è®­ç»ƒåŠ é€Ÿã€‚ä»–ä»¬ä¹Ÿå®ç°äº†3000å€çš„æ¸²æŸ“é€Ÿåº¦æ¯”åŸæ¥çš„NeRFåœ¨150 FPSã€‚<br>Plenoxels[28]æ˜¯PlenOctreesçš„åç»­ä½œå“ï¼Œå®ƒä½¿ç”¨ä¸åŒçš„ä½“ç´ ç»“æ„æ¥è¡¨ç¤ºåœºæ™¯ã€‚å®ƒæ²¡æœ‰ä½¿ç”¨å…«å‰æ ‘ï¼Œè€Œæ˜¯ä½¿ç”¨æŒ‡å‘ä½“ç´ çš„å¯†é›†3DæŒ‡é’ˆæ•°ç»„ã€‚æ¯ä¸ªä½“ç´ è¾¹ç¼˜å®šä¹‰ä¸€ä¸ªçƒè°å‡½æ•°ï¼Œé€šè¿‡çƒè°å‡½æ•°çš„ä¸‰çº¿æ€§æ’å€¼å¾—åˆ°æ¯ä¸ªä½“ç´ å†…çš„å…¨å…‰å‡½æ•°ã€‚è¿™ä¸PlenOctreeå½¢æˆå¯¹æ¯”ï¼ŒPlenOctreeä½¿ç”¨å•ä¸ªå¸¸é‡æ¥è¡¨ç¤ºä½“ç´ ä½“ç§¯ã€‚Plenoxelså¯ä»¥åœ¨ä¸ä½¿ç”¨NeRFçš„æƒ…å†µä¸‹è¿›è¡Œç«¯åˆ°ç«¯ä¼˜åŒ–ï¼Œå®ç°æ¯”åŸå§‹NeRFå¿«çº¦100å€çš„è®­ç»ƒé€Ÿåº¦ã€‚å› æ­¤ï¼ŒåŸºäºæˆ‘ä»¬çš„NeRFåˆ†ç±»æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°†Plenoxelsä¸»è¦åˆ†ç±»ä¸ºä»¥è®­ç»ƒç»©æ•ˆä¸ºé‡ç‚¹çš„æ–¹æ³•<br>FastNeRF[23]å°†åŸå§‹NeRF MLPåˆ†è§£ä¸ºä¸¤ä¸ªMLP:ä¸€ä¸ªä¾èµ–äºä½ç½®ï¼Œä¸€ä¸ªä¾èµ–äºè§†å›¾ã€‚ä½ç½®ç›¸å…³çš„MLPå°†3Dä½ç½®åæ ‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºå…·æœ‰Dåˆ†é‡çš„æ·±äº®åº¦å›¾ã€‚è§†ç›¸å…³MLPä»¥ä¸¤ä¸ªè§†è§’Î¸å’ŒÏ†ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºäº®åº¦è´´å›¾åˆ†é‡æƒé‡ã€‚è¿™ç§åˆ†è§£ä½¿å¾—é«˜æ•ˆçš„ç¼“å­˜å’ŒæŸ¥è¯¢äº®åº¦å­—æ®µï¼Œå¯¼è‡´é€Ÿåº¦æ¯”åŸæ¥çš„NeRFå¢åŠ äº†å¤§çº¦3000å€ï¼Œå¹³å‡å¸§ç‡çº¦ä¸º200 FPSã€‚<br>SqueezeNeRF[26]é€šè¿‡å°†ä½ç½®ç›¸å…³çš„MLPæ‹†åˆ†ä¸ºä¸‰ä¸ªç‹¬ç«‹çš„MLP(æ¯ä¸ªè½´å¯¹ä¸€ä¸ªMLP)è¿›ä¸€æ­¥æ”¹è¿›äº†FastNeRFã€‚ä¸FastNeRFç›¸æ¯”ï¼Œè¿™å°†ç¼“å­˜å†…å­˜éœ€æ±‚å‡å°‘äº†60å€ã€‚<br>æ·±åº¦ç›‘ç£NeRF[29]ä½¿ç”¨ä»å¤šè§†å›¾å›¾åƒä¸­æå–çš„ç¨€ç–ç‚¹äº‘ä½œä¸ºä¸€ç§å»‰ä»·çš„ä¿¡å·æ¥æŒ‡å¯¼NeRFè¿›è¡Œåœºæ™¯é‡å»ºã€‚è¿™æé«˜äº†åœºæ™¯é‡å»ºè´¨é‡ï¼Œå¹¶å°†è®­ç»ƒé€Ÿåº¦æé«˜äº†2Ã—to 3å€ã€‚</p><h2 id="Dynamic-scene-reconstruction-with-NeRF"><a href="#Dynamic-scene-reconstruction-with-NeRF" class="headerlink" title="Dynamic scene reconstruction with NeRF"></a>Dynamic scene reconstruction with NeRF</h2><p>NeRFå¯ä»¥ä»å¤šä¸ªè§†å›¾ç”Ÿæˆé€¼çœŸçš„é™æ€åœºæ™¯é‡å»ºã€‚å®ƒè¿˜å¯ä»¥æ‰©å±•åˆ°å¤„ç†å…·æœ‰æ—¶é—´å˜åŒ–çš„åŠ¨æ€åœºæ™¯ã€‚åŠ¨æ€NeRFæ¨¡å‹å¯¹äºéœ€è¦3Dæ•è·é‡å¤è¿‡ç¨‹çš„å·¥ä¸šåº”ç”¨éå¸¸æœ‰ç”¨ã€‚å¤§å¤šæ•°ç°æœ‰çš„åŠ¨æ€NeRFæ¨¡å‹ä¸“æ³¨äºæ•æ‰è¿‡å»çš„è¿åŠ¨ï¼Œè€Œä¸æ˜¯é¢„æµ‹æœªæ¥çš„åœºæ™¯è¿åŠ¨ã€‚<strong>å®ƒä»¬ä¸­çš„è®¸å¤šéƒ½ä¾èµ–äºå˜å½¢åœºçš„æ¦‚å¿µ</strong>ã€‚æœ¬èŠ‚ä¸­æåˆ°çš„ä¸€äº›æ–¹æ³•ä¸»è¦æ˜¯ç”±äººä½“åŠ¨ä½œæ•æ‰å¼•èµ·çš„ï¼Œå…¶ä¸­è·å¾—å¤šä¸ªå®Œç¾é™æ€è§†å›¾æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„<br>D-NeRF[44]ä½¿ç”¨å­¦ä¹ å‡½æ•°$\Psi_{\mathrm{x}}(\mathbf{x},\mathbf{d})\mapsto(\mathbf{c},\sigma)$çš„MLPå¯¹å‚è€ƒæ—¶åˆ»(é€šå¸¸ä¸ºt = 0)çš„é™æ€3Dåœºæ™¯çš„è§„èŒƒå¤–è§‚è¿›è¡Œç¼–ç ï¼Œå°†3Dä½ç½®å’Œè§†å›¾æ–¹å‘æ˜ å°„åˆ°é¢œè‰²å’Œå…‰å¯†åº¦å¯¹ã€‚å¯¹äºå…¶ä»–æ—¶åˆ»ï¼Œå®ƒä½¿ç”¨å¦ä¸€ä¸ªMLPæ¥å­¦ä¹ ä¸€ä¸ªå˜å½¢å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœºæ™¯ä¸­çš„æ¯ä¸ªè§„èŒƒç‚¹æ˜ å°„åˆ°å…¶æ–°ä½ç½®Î¨t(x, t)ã€‚è¯¥å‡½æ•°è¾“å‡ºä½ç§»å‘é‡âˆ†xï¼Œå¯¹åº”äºæ¯ä¸ªåœºæ™¯ç‚¹çš„è¿åŠ¨ã€‚è¿™ç§æ–¹æ³•æ¯”å•ç‹¬å­¦ä¹ æ¯ä¸ªæ—¶é—´ç¬é—´çš„åœºæ™¯å¤–è§‚çš„å•ä¸ªæ—¶é—´æ¡ä»¶MLPæ›´æœ‰æ•ˆã€‚<br>TiNeuVox[31]å…·æœ‰æ—¶é—´æ„ŸçŸ¥ç¥ç»ä½“ç´ çš„å¿«é€ŸåŠ¨æ€è¾å°„åœºï¼Œé‡‡ç”¨å°å˜å½¢ç½‘ç»œå’Œå¤šè·ç¦»æ’å€¼æ¥å®ç°ä¸D-NeRFç›¸å½“æˆ–æ›´å¥½çš„è´¨é‡ï¼Œä½†è®­ç»ƒæ—¶é—´è¦å¿«å¾—å¤šï¼Œé€šå¸¸ä¸åˆ°10åˆ†é’Ÿï¼Œè€ŒD-NeRFéœ€è¦æ•°åå°æ—¶ã€‚<br>Nerfies[45]é€šè¿‡NeRFè§£å†³äººä½“æ•æ‰çš„æŒ‘æˆ˜ï¼Œå³ä½¿åœ¨å¤šæ¬¡è‡ªæ‹æ‹æ‘„æœŸé—´è¯•å›¾ä¿æŒé™æ­¢ï¼Œç”±äºä¸å¯é¿å…çš„äººä½“è¿åŠ¨(ä¾‹å¦‚ï¼Œå‘¼å¸ï¼Œè‚Œè‚‰æŠ½æç­‰)ï¼Œè¿™ä¹Ÿæ˜¯å›°éš¾çš„ã€‚å½“ä»ä¸åŒè§’åº¦æŠ•å°„å…‰çº¿æ—¶ï¼Œè¿™ç§è¿åŠ¨å¯¼è‡´Ïƒå’Œcåœ¨ç©ºé—´ä¸Šçš„ä¸å¯¹å‡†ã€‚ä¸D-NeRFä½¿ç”¨æ—¶é—´æ½œåœ¨å‘é‡è¿›è¡Œå˜å½¢ç½‘ç»œè®­ç»ƒä¸åŒï¼ŒNerfiesä½¿ç”¨åŸºäºæ—¶é—´å’Œè§†å›¾å˜æ¢çš„æ½œåœ¨å‘é‡ï¼Œå› ä¸ºå¯èƒ½æœ‰æ¥è‡ªç›¸åŒè§†å›¾ä½†ä¸åŒæ—¶é—´æˆ³çš„å¤šä¸ªæ ·æœ¬ã€‚<br>HyperNeRF[42]æ‰©å±•äº†Nerfiesæ¥å¤„ç†æ‹“æ‰‘å˜åŒ–ï¼Œç”±äºæ‹“æ‰‘å˜åŒ–å¼•å…¥äº†ä¸è¿ç»­ï¼Œå˜å½¢åœºæ— æ³•å¾ˆå¥½åœ°æ•æ‰åˆ°æ‹“æ‰‘å˜åŒ–ã€‚HyperNeRFå°†NeRFæŠ•å½±åˆ°ä¸€ä¸ªæ›´é«˜ç»´åº¦çš„ç©ºé—´ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªæ ·æœ¬ä»£è¡¨è¯¥ç©ºé—´çš„ä¸€ä¸ªåˆ‡ç‰‡ã€‚å®ƒå­¦ä¹ äº†ä¸€ä¸ªé«˜ç»´å‡½æ•°åœ¨åˆ‡ç‰‡ä¹‹é—´è¿›è¡Œæ’å€¼ã€‚å—æ°´å¹³é›†æ–¹æ³•çš„å¯å‘ï¼ŒHyperNeRFä½¿ç”¨å¼¯æ›²çš„åˆ‡å‰²é¢è€Œä¸æ˜¯ç›´çš„è¶…å¹³é¢ï¼Œä»è€Œäº§ç”Ÿç”±é«˜ç»´å‡½æ•°æè¿°çš„æ›´ç®€å•çš„å½¢çŠ¶ã€‚HyperNeRFåœ¨æ’å€¼(4.1%)å’Œæ–°é¢–è§†å›¾åˆæˆ(8.6%)æ–¹é¢ä¼˜äºNerfiesã€‚<br>NeRF-DS[43]è§£å†³äº†åŸºäºå˜å½¢åœºçš„æ–¹æ³•çš„å±€é™æ€§ï¼Œå¦‚Nerfieså’ŒHyperNeRFç”¨äºé‡å»ºåŠ¨æ€é•œé¢ç‰©ä½“(ä¾‹å¦‚ï¼Œé—ªäº®çš„èŒ¶å£¶æˆ–ç»ç’ƒå™¨çš¿)ã€‚é‡æ–°åˆ¶å®šäº†NeRFå‡½æ•°ï¼Œä½¿å…¶ä¾èµ–äºæ›²é¢çš„ä½ç½®å’Œæ–¹å‘ï¼Œå¹¶å¢åŠ äº†ä¸€ä¸ªè¿åŠ¨ç‰©ä½“é®ç½©æ¥å¼•å¯¼å˜å½¢åœºã€‚<br><strong>DeVRF</strong>[32]ä¸å…¶ä»–åŠ¨æ€NeRFæ¨¡å‹(å¦‚D-NeRFã€Nerfiesã€HyperNeRFå’Œç¥ç»åœºæ™¯æµåœº(NSFF))ç›¸æ¯”ï¼ŒDeVRF[32]æ–¹æ³•åœ¨è®­ç»ƒä¸­å®ç°äº†100å€çš„åŠ é€Ÿã€‚<strong>å®ƒçš„ç›®æ ‡æ˜¯é¢å‘å†…çš„åœºæ™¯ï¼Œå¹¶ä½¿ç”¨å¤šæ‘„åƒå¤´è®¾ç½®åœºæ™¯æ•æ‰</strong>ã€‚<br>LFNs: LFNs(å…‰åœºç½‘ç»œ)æ˜¯å¦ä¸€ç§åŸºäºç¥ç»å…‰åœºè€Œä¸æ˜¯è¾å°„åœºæ¥æ¢ç´¢ç¥ç»è¡¨å¾çš„ç ”ç©¶ã€‚åŠ¨æ€LFNæ¨¡å‹DyLiN[51]å‘HyperNeRFå­¦ä¹ ï¼ŒHyperNeRFæ˜¯ä¸€ä½é«˜è´¨é‡ä½†é€Ÿåº¦æ…¢çš„teacherã€‚åœ¨PSNRè§†è§‰è´¨é‡æŒ‡æ ‡æ–¹é¢ï¼ŒDyLiNä¼˜äºå½“å‰æœ€å…ˆè¿›çš„åŠ¨æ€æ¨¡å‹HyperNeRFå’ŒTiNeuVoxã€‚æ­¤å¤–ï¼ŒDyLiNæ¯”è¿™ä¸¤ç§æ–¹æ³•éƒ½å¿«å¾—å¤šï¼Œå®ç°äº†ä¸€ä¸ªæ•°é‡çº§çš„åŠ é€Ÿã€‚<br>æœ€è¿‘è§£å†³åŠ¨æ€LFNé—®é¢˜çš„å…¶ä»–ç ”ç©¶åŒ…æ‹¬å¸¦é™è¾å°„åœº(blrf)[52]ã€RefiNeRF[53]ã€æ—¶é—´æ’å€¼(temporal interpolation is all you need)[35]ã€D-Tensorf[34]å’ŒDyNeRF[33]ã€‚</p><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><p>Mip-NeRF: Mip-NeRF[27]æå‡ºäº†ä¸€ç§æŠ—æ··å æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯å¯¹3Dåœºæ™¯çš„æ¯ä¸ªåƒç´ ä½¿ç”¨é”¥ä½“è€Œä¸æ˜¯å°„çº¿è¿›è¡Œé‡‡æ ·ï¼Œå°±åƒåœ¨åŸå§‹NeRFä¸­ä¸€æ ·ã€‚è¿™æé«˜äº†ä¸åŒç›¸æœºè·ç¦»å’Œè§†å›¾åˆ†è¾¨ç‡çš„æ¸²æŸ“è´¨é‡ï¼Œåœ¨åŸå§‹NeRFæ•°æ®é›†ä¸Šå¹³å‡è¯¯å·®å‡å°‘äº†17%ã€‚æ­¤å¤–ï¼Œä¸è›®åŠ›NeRFè¶…é‡‡æ ·ç›¸æ¯”ï¼Œè¯¥æ¨¡å‹å®ç°äº†60%çš„è¯¯å·®å‡å°‘å’Œ22å€çš„æ¸²æŸ“åŠ é€Ÿã€‚ä¸æœ€åˆçš„NeRFå®ç°ç›¸æ¯”ï¼Œè¯¥æ¨¡å‹è¿˜å°†æ¨¡å‹å¤§å°å‡å°äº†ä¸€åŠã€‚<br>ICARUS: ICARUS[54]æ˜¯åœ¨FPGAä¸Šæµ‹è¯•çš„ä¸€ç§èŠ‚èƒ½çš„NeRFæ¨ç†å’Œæ¸²æŸ“åŠ é€Ÿå™¨ç¡¬ä»¶æ¶æ„ã€‚å½“å‰è®¾è®¡çš„ICARUSå®ç°äº†æ¯å¸§45.75 sçš„NeRFæ¸²æŸ“é€Ÿåº¦ï¼ŒåŠŸè€—ä»…ä¸º282.8 mWã€‚è¯¥è®¾è®¡å°šæœªå®ç°å¹¶è¡ŒåŒ–ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜å¸§ç”Ÿæˆæ—¶é—´ã€‚</p><h1 id="CURRENT-STATUS-OF-INDUSTRY-AND-ADVANTAGES-OFNERF-ALTERNATIVES"><a href="#CURRENT-STATUS-OF-INDUSTRY-AND-ADVANTAGES-OFNERF-ALTERNATIVES" class="headerlink" title="CURRENT STATUS OF INDUSTRY AND ADVANTAGES OFNERF ALTERNATIVES"></a>CURRENT STATUS OF INDUSTRY AND ADVANTAGES OFNERF ALTERNATIVES</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»3Dè¡¨ç¤ºå’Œå¯è§†åŒ–åº”ç”¨äºæ­¤ç±»åº”ç”¨çš„å•†ä¸šæ–¹æ³•çš„ä¸»è¦é¢†åŸŸï¼Œä»¥åŠåº”ç”¨äºè¿™äº›é¢†åŸŸçš„ç‰¹å®šåŸºäºnerfçš„æœ€æ–°æ–¹æ³•ã€‚</p><h2 id="CAE-Computer-aided-engineering"><a href="#CAE-Computer-aided-engineering" class="headerlink" title="CAE: Computer-aided engineering"></a>CAE: Computer-aided engineering</h2><p>è®¡ç®—æœºè¾…åŠ©å·¥ç¨‹(CAE)æ˜¯æŒ‡ä½¿ç”¨è®¡ç®—æœºè½¯ä»¶å’Œå·¥å…·æ¥ååŠ©å·¥ç¨‹å’Œè®¾è®¡è¿‡ç¨‹ã€‚å®ƒåŒ…å«å„ç§æŠ€æœ¯å’Œæ–¹æ³•ï¼Œåˆ©ç”¨è®¡ç®—æœºæŠ€æœ¯æ¥åˆ†æå’Œæ¨¡æ‹Ÿäº§å“å’Œç³»ç»Ÿçš„è¡Œä¸ºã€‚<br>è®¡ç®—æœºè¾…åŠ©è®¾è®¡(CAD)ä½œä¸ºCAEçš„ä¸€ä¸ªç‰¹æ®Šåˆ†æ”¯ï¼Œä½¿ç”¨è®¡ç®—æœºè½¯ä»¶æ¥åˆ›å»ºå’Œä¿®æ”¹ç‰©ç†å¯¹è±¡çš„å‡ ä½•æ¨¡å‹ã€‚ä½¿ç”¨çš„ä¸»è¦å»ºæ¨¡æ–¹æ³•æ˜¯è‡ªç”±æ›²é¢å»ºæ¨¡ã€‚è‡ªç”±æ›²é¢é€šå¸¸ä½¿ç”¨åŸºäºéå‡åŒ€æœ‰ç†bæ ·æ¡(NURBS)çš„è¾¹ç•Œè¡¨ç¤º(B-Rep)[55]ã€‚ç”Ÿæˆçš„æ¨¡å‹å¯ä»¥ä½œä¸ºäº§å“å°ºå¯¸åˆ†æã€è‡ªåŠ¨åˆ›å»ºæŠ€æœ¯å›¾çº¸ã€ç‰©æ–™æ¸…å•ç”Ÿæˆå’Œå…¶ä»–ä»»åŠ¡çš„è¾“å…¥ã€‚<br>CADæ¨¡å‹å¯ä»¥é‡æ–°ç”¨äºå„ç§åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“é‡‡ç”¨ç‰¹å®šæŠ€æœ¯æ¥ä¿ƒè¿›å…¶é‡ç”¨æ—¶[56]ã€‚ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„åº”ç”¨æ˜¯é€šè¿‡æœ‰é™å…ƒåˆ†æ(FEA)è¿›è¡Œä»¿çœŸï¼Œå®ƒå…è®¸å¯¹äº§å“æˆ–åˆ¶é€ è®¾å¤‡å†…çš„ç‰¹æ€§å’Œç›¸äº’ä½œç”¨è¿›è¡Œè®¡ç®—å’Œäº¤äº’å¼å¯è§†åŒ–ã€‚è¿™äº›æ¨¡æ‹Ÿå¯ä»¥åŒ…å«è¯¸å¦‚é›¶ä»¶åº”åŠ›ã€æ¸©åº¦ã€å¤±æ•ˆæ¨¡å¼ã€æµä½“åŠ¨åŠ›å­¦å’Œç”µç£ç›¸äº’ä½œç”¨ç­‰å› ç´ ï¼Œå¹¶ä¸”å®ƒä»¬é€šå¸¸ä¼šå‘ç°CADæ¨¡å‹ä¸­çš„ç¼ºé™·æˆ–ç¼ºç‚¹ï¼Œä»è€Œéœ€è¦å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚å› æ­¤ï¼ŒCADæ¨¡å‹ä¹Ÿå¯ä»¥åŸºäºFEAä»¿çœŸä¸­ä½¿ç”¨çš„ä¿®æ”¹ç½‘æ ¼æ¨¡å‹è¿›è¡Œæ›´æ–°[57]ã€‚<br>CAEçš„æ›´å¹¿æ³›é¢†åŸŸåŒ…æ‹¬ä¸€ç³»åˆ—ç±»ä¼¼çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬æœ‰é™ä½“ç§¯æ³•(FVM)å’Œæœ‰é™å·®åˆ†æ³•(FDM)ã€è®¡ç®—æœºè¾…åŠ©åˆ¶é€ (CAM)å’Œè®¡ç®—æµä½“åŠ¨åŠ›å­¦(CFD)ã€‚è¿™äº›æŠ€æœ¯å…±åŒä½¿å·¥ç¨‹å¸ˆå’Œè®¾è®¡å¸ˆèƒ½å¤Ÿåˆ†æå’Œä¼˜åŒ–ä»–ä»¬çš„è®¾è®¡ï¼Œè€ƒè™‘å„ç§å› ç´ å’Œç›¸äº’ä½œç”¨ï¼Œä»è€Œæ”¹è¿›äº§å“å’Œç³»ç»Ÿã€‚<br>é™¤äº†äº§å“è®¾è®¡ä¹‹å¤–ï¼Œåˆ¶é€ è¿‡ç¨‹éœ€è¦é€šè¿‡å°½å¯èƒ½å°‘çš„æ˜‚è´µçš„éƒ¨ç½²å’Œé‡æ–°éƒ¨ç½²è¿­ä»£æ¥è®¾è®¡å’Œä¼˜åŒ–ã€‚3Dè®¡ç®—æœºå¯è§†åŒ–å…è®¸å¯¹åŸå‹åˆ¶é€ è®¾æ–½è¿›è¡Œå¿«é€Ÿå’Œæ— é”™è¯¯çš„è§†è§‰è¯„ä¼°ã€‚</p><ul><li>æ–°å…´çš„<strong>ç”Ÿæˆå¼nerf</strong>å¯ä»¥ä»é›¶å¼€å§‹ç”Ÿæˆæ‰€éœ€çš„3Dæ¨¡å‹ï¼Œå¯ä»¥éƒ¨åˆ†è¡¥å……ç”šè‡³å®ç°CADå·¥å…·åœ¨æœªæ¥çš„ä½œç”¨ã€‚ç”Ÿæˆè®¾è®¡çš„åº”ç”¨åŒ…æ‹¬äº§å“è®¾è®¡ï¼Œä¸ºå…¶ä»–æ¨¡å‹ç”Ÿæˆè®­ç»ƒæ•°æ®ï¼Œæˆ–ç¯å¢ƒè®¾è®¡ï¼Œå…è®¸å¦ä¸€ä¸ªè®­ç»ƒå¥½çš„æ¨¡å‹æ›´å¥½åœ°æ³›åŒ–ã€‚ä¸ºNeRFå¼€å‘çš„ç”Ÿæˆæ–¹æ³•å…·æœ‰ä¸åŒç¨‹åº¦çš„å¤æ‚æ€§å’Œå¯¹ç”Ÿæˆç»“æœçš„å¯ç”¨æ§åˆ¶ã€‚è¿™åæ˜ äº†ç°æœ‰2Då±å¹•ç©ºé—´å›¾åƒç”Ÿæˆæ–¹æ³•çš„ä¸åŒæ§åˆ¶é€‰é¡¹çš„ç±»ä¼¼æƒ…å†µï¼Œä¾‹å¦‚ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ(gan)ã€æ‰©æ•£æ¨¡å‹å’Œå¤šæ¨¡æ€å˜å‹å™¨æ¨¡å‹ã€‚çº¯ç²¹ç”±è‡ªç„¶è¯­è¨€å¼•å¯¼çš„ç”Ÿæˆå¼nerfå¯ä»¥äº§ç”Ÿå¤šæ ·åŒ–å’Œåˆ›é€ æ€§çš„è¾“å‡ºã€‚<strong>ç„¶è€Œï¼Œå®ƒä»¬å¯¹è¾“å‡ºå±æ€§çš„æ§åˆ¶æœ‰é™ï¼Œè¿™ä½¿å¾—å®ƒä»¬åªé€‚åˆè£…é¥°å’Œå¨±ä¹å¯¼å‘çš„è®¾è®¡</strong><ul><li>ä¸ä»…ä»¥è‡ªç„¶è¯­è¨€ä¸ºæ¡ä»¶çš„æ–¹æ³•ç›¸æ¯”ï¼Œæ–‡æœ¬å’Œå½¢çŠ¶å¼•å¯¼çš„latent-NeRFæ–¹æ³•[58]å¯¹ç”Ÿæˆçš„ç»“æœæä¾›äº†æ›´å¥½çš„æ§åˆ¶ã€‚é™¤äº†æ–‡æœ¬æè¿°å¤–ï¼Œè¯¥æ–¹æ³•è¿˜ä¸ºè‡ªåŠ¨çº¹ç†ç”Ÿæˆæä¾›å½¢çŠ¶æŒ‡å¯¼æˆ–ç²¾ç¡®çš„3Då½¢çŠ¶ã€‚æ½œåœ¨çš„NeRFæ–¹æ³•æ˜¯åŸºäºæ‰©æ•£çš„ï¼Œè¿™ä¸ä¼ ç»Ÿçš„åœ¨çº¢ã€ç»¿ã€è“(RGB)è‰²å½©ç©ºé—´ä¸­è®­ç»ƒNeRFæ¨¡å‹ä¸åŒã€‚ç›¸åï¼Œ<strong>NeRFæ¨¡å‹æ˜¯åœ¨æ½œåœ¨ç©ºé—´ä¸­è®­ç»ƒçš„</strong>ã€‚è¿™ç§é€‰æ‹©æ¶ˆé™¤äº†åœ¨è®­ç»ƒæœŸé—´å°†å›¾åƒè½¬æ¢ä¸ºæ½œåœ¨ç©ºé—´çš„éœ€è¦ï¼Œä»è€Œå‡å°‘äº†è®¡ç®—å¼€é”€ã€‚</li><li>DreamFusion[59]æ˜¯å¦ä¸€ç§å°†æ–‡æœ¬è½¬æ¢ä¸ºNeRF 3Dåœºæ™¯çš„åŸºäºæ‰©æ•£çš„æ–¹æ³•ã€‚ç”±äºæ²¡æœ‰è¶³å¤Ÿå¤§çš„3Dæ¨¡å‹è®­ç»ƒæ•°æ®é›†ä¸å…¶æ–‡æœ¬æè¿°é…å¯¹ï¼Œå› æ­¤ä½œè€…ä½¿ç”¨ç°æœ‰çš„Imagen[60]åŸºäºæ‰©æ•£çš„ç”Ÿæˆæ¨¡å‹ï¼Œè¯¥æ¨¡å‹ä»…ä½¿ç”¨2Då›¾åƒç©ºé—´ä½œä¸ºå…ˆéªŒã€‚<strong>Imagenæ¨¡å‹å°†NeRFæ¸²æŸ“çš„é˜´å½±å›¾åƒä¸éšæœºå™ªå£°çº¿æ€§ç»“åˆ</strong>ï¼Œç”Ÿæˆå»å™ªåçš„å›¾åƒï¼ŒæŒ‡å¯¼NeRFåœ¨åƒç´ ç©ºé—´è¿›è¡Œä¼˜åŒ–ã€‚åˆ©ç”¨è¯¥æ–¹æ³•å¯¹NeRFè¿›è¡Œäº†ä¼˜åŒ–ï¼Œå®ç°äº†éšæœºè§’åº¦NeRFè§†å›¾çš„ä½æŸè€—ã€‚</li><li>Magic3D[61]é€šè¿‡è§£å†³ä¸¤ä¸ªä¸»è¦é™åˆ¶æ¥æ”¹è¿›DreamFusion:ç¼“æ…¢çš„NeRFä¼˜åŒ–å’Œé™ä½3Dæ¨¡å‹è´¨é‡çš„ä½åˆ†è¾¨ç‡å›¾åƒå¼•å¯¼ã€‚å®ƒé‡‡ç”¨äº†ä¸¤é˜¶æ®µçš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œå®ƒä½¿ç”¨ä½åˆ†è¾¨ç‡æ‰©æ•£æ¨¡å‹ä½œä¸ºå…ˆéªŒï¼Œä½¿ç”¨Instant-NGP NeRFåˆ›å»ºç²—ç•¥çš„3Dè¡¨ç¤ºã€‚åœ¨ç¬¬äºŒé˜¶æ®µï¼Œå®ƒä»NeRFä¸­æå–å¤šè¾¹å½¢ç½‘æ ¼åŠå…¶çº¹ç†ï¼Œå¹¶ä½¿ç”¨å¯å¾®åˆ†æ¸²æŸ“å™¨å’Œé«˜åˆ†è¾¨ç‡æ‰©æ•£å…ˆéªŒè¿›ä¸€æ­¥ä¼˜åŒ–å®ƒä»¬ã€‚</li></ul></li><li>æœ€è¿‘çš„ä¸€äº›å·¥ä½œä¹Ÿæå‡ºäº†æœ‰å‰é€”çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿NeRFè¡¨ç¤ºç”¨äºå·¥ç¨‹æ¨¡æ‹Ÿï¼Œå¦‚[62]å’Œ[63]ã€‚</li></ul><h2 id="SCADA-systems"><a href="#SCADA-systems" class="headerlink" title="SCADA systems"></a>SCADA systems</h2><p>supervisory control and data acquisition</p><p>å»ºæ¨¡åˆ¶é€ è¿‡ç¨‹çš„å›¾å½¢å·¥å…·ä¸ä»…åœ¨ç”Ÿäº§å¼€å§‹å‰çš„è®¡åˆ’é˜¶æ®µæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œä¸”å¯¹äºæŒç»­çš„ç›‘ç£ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚åœ¨è®¸å¤šå·¥ä¸šç¯å¢ƒä¸­ï¼Œäººä¸ºæ“ä½œå‘˜çš„è¿ç»­ç›‘æµ‹å’Œæ§åˆ¶æ˜¯ç¡®ä¿æœ€ä½³è¿è¡Œçš„å¿…è¦æ¡ä»¶ã€‚è¿™ç§ç›‘æµ‹å’Œæ§åˆ¶é€šå¸¸é€šè¿‡ç›‘æ§å’Œæ•°æ®é‡‡é›†(SCADA)ç³»ç»Ÿæ¥å®ç°ï¼ŒSCADAç³»ç»Ÿé‡‡ç”¨å›¾å½¢ç•Œé¢ï¼Œå®ç°ç³»ç»Ÿç›‘æµ‹å’Œæ§åˆ¶åŠŸèƒ½ã€‚ç”¨äºSCADAæ¥å£çš„å›¾å½¢èŒƒå›´ä»å¸¸ç”¨çš„2Däº¤äº’å¼åŸç†å›¾åˆ°ä¸‰ç»´å›¾å½¢ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸ºäº†å‡†ç¡®åœ°ç†è§£ç³»ç»Ÿçš„çŠ¶æ€ï¼Œæˆ–è€…è‡³å°‘ï¼Œå®ƒæœ‰åŠ©äºæé«˜æ“ä½œå‘˜æ§åˆ¶ç³»ç»Ÿçš„èƒ½åŠ›ï¼Œç»“åˆä¸‰ç»´è§†è§‰å˜å¾—åŠ¿åœ¨å¿…è¡Œã€‚<br>å°½ç®¡å‰é¢æåˆ°äº†3D SCADAå›¾å½¢ç•Œé¢çš„ä¼˜ç‚¹ï¼Œä½†2Dç•Œé¢æ¯”3Dç•Œé¢æ›´å®¹æ˜“è®¾è®¡ã€‚è¿™æ˜¯å› ä¸º2Dç•Œé¢ä¸éœ€è¦åˆ›å»ºå¤æ‚çš„3Då¤šè¾¹å½¢æ¨¡å‹ã€æ§åˆ¶å™¨å’ŒåŠ¨ç”»ã€‚<br>ä½¿ç”¨nerfï¼Œå¯ä»¥å¤§å¤§ç®€åŒ–åˆ›å»ºæè¿°å—æ§ç³»ç»Ÿçš„3Dåœºæ™¯ã€‚ç”±äºSCADAç³»ç»Ÿå‘ˆç°äº¤äº’å¼å›¾å½¢ï¼Œå¯ä»¥ç›´è§‚åœ°åæ˜ å—æ§ç³»ç»ŸçŠ¶æ€çš„å˜åŒ–ï¼Œå› æ­¤åº”è¯¥ä½¿ç”¨å…·æœ‰<strong>å¯ä¿®æ”¹åœºæ™¯çš„NeRFå˜ä½“</strong>ã€‚ä¾‹å¦‚ï¼Œå½“æ“ä½œå‘˜è¿œç¨‹å¼€å…³ä¸€ä»¶å·¥ä¸šæœºæ¢°æ—¶ï¼Œå…¶é¢œè‰²ï¼Œç…§æ˜æˆ–ç±»ä¼¼çš„æŒ‡ç¤ºåº”è¯¥æ”¹å˜ã€‚</p><ul><li>ä¸€äº›NeRFå˜ä½“å¯ä»¥å¯¹3Dåœºæ™¯è¿›è¡Œæ§åˆ¶ä¿®æ”¹ï¼Œä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ä¾‹å­æ˜¯CodeNeRF[41]ã€‚CodeNeRFå…è®¸åœ¨3Dåœºæ™¯ä¸­ç²¾ç¡®åœ°æ”¹å˜ç‰©ä½“çš„çº¹ç†å’Œå½¢çŠ¶ã€‚</li><li>CLIP-NeRF[64]é€šè¿‡è°ƒèŠ‚æ–‡æœ¬æˆ–å›¾åƒè¾“å…¥æ¥ä¿ƒè¿›NeRFåœºæ™¯çš„ä¿®æ”¹ã€‚å®ƒåˆ©ç”¨æ¥è‡ªå¯¹æ¯”è¯­è¨€å›¾åƒé¢„è®­ç»ƒ(CLIP)æ¨¡å‹çš„é¢„å…ˆå­˜åœ¨çš„åµŒå…¥ï¼Œè¯¥æ¨¡å‹ä¸ºè¯­è¨€å’Œå›¾åƒå­¦ä¹ è”åˆåµŒå…¥ç©ºé—´ã€‚</li><li>CLIP-NeRFçš„ä¸€ä¸ªæ½œåœ¨åº”ç”¨æ˜¯èƒ½å¤Ÿä½¿ç”¨å‚è€ƒå›¾åƒå¿«é€Ÿå°†çœŸå®ä¸–ç•Œçš„å˜åŒ–å¼•å…¥NeRFåœºæ™¯ã€‚ä¾‹å¦‚ï¼Œæ–°äº§å“åŸå‹çš„ç…§ç‰‡å¯ä»¥æä¾›æ¯”å•ç‹¬çš„æ–‡æœ¬æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œä»¥å‡†ç¡®æè¿°æ–°çš„å¯¹è±¡å±æ€§ã€‚é€šè¿‡ä½¿ç”¨CLIP-NeRFï¼Œè¿™äº›å‚è€ƒå›¾åƒå¯ä»¥ä½œä¸ºä¿®æ”¹NeRFåœºæ™¯çš„å®è´µè¾“å…¥ï¼Œä»¥çº³å…¥æ‰€éœ€çš„å˜åŒ–ã€‚</li><li>åŠ¨æ€nerfæä¾›äº†ä¸€ç§æ›¿ä»£æ–¹æ³•æ¥è¡¨ç¤ºå„ç§å—æ§æœºæ¢°çŠ¶æ€ã€‚ä»–ä»¬é€šè¿‡æ˜¾ç¤º3Dç‰©ä½“è¿åŠ¨åºåˆ—çš„ä¸åŒç‰‡æ®µæˆ–å•ä¸ªå†»ç»“æ—¶é—´å®ä¾‹æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘é£è½¦çš„3Dè¡¨ç¤º:ä½¿ç”¨åŠ¨æ€NeRFï¼Œå½“æŸ¥è¯¢å•ä¸ªæ—¶é—´ç¬é—´çš„åŠ¨æ€NeRFæ—¶ï¼Œå¶ç‰‡å¯ä»¥è¢«æè¿°ä¸ºé™æ€æˆ–è¿åŠ¨ï¼Œåæ˜ ç°å®ä¸–ç•Œçš„é£è½¦çŠ¶æ€ã€‚</li></ul><h2 id="Training-simulations-for-workforce"><a href="#Training-simulations-for-workforce" class="headerlink" title="Training simulations for workforce"></a>Training simulations for workforce</h2><p>å…ˆè¿›çš„3Dæ¨¡æ‹Ÿå™¨ç”¨äºåœ¨å·¥ä¸šç¯å¢ƒä¸­åŸ¹è®­å·¥äººã€‚è¿™äº›æ¨¡æ‹Ÿå™¨çš„èŒƒå›´ä»ç®€å•çš„é”®ç›˜å’Œé¼ æ ‡æ§åˆ¶ï¼Œæ™®é€šçš„è®¡ç®—æœºæ˜¾ç¤ºå™¨åˆ°è™šæ‹Ÿç°å®(VR)ã€å¢å¼ºç°å®(AR)å’Œç‰©ç†æ§åˆ¶å™¨ï¼Œè¿™äº›æ§åˆ¶å™¨æ¨¡ä»¿äº†åæ˜ ç°å®ä¸–ç•Œäº¤äº’çš„ç›®æ ‡åº”ç”¨ç¨‹åºçš„ç‰©ç†æ§åˆ¶ã€‚<br>ARå’ŒVRåŸ¹è®­åœ¨å·¥ä¸šç»´æŠ¤å’Œè£…é…ä»»åŠ¡ä¸­çš„æœ‰æ•ˆæ€§åœ¨[65]ä¸­è¿›è¡Œäº†è¯„ä¼°ï¼Œå¹¶ä¸ç°å®ä¸–ç•Œçš„åŸ¹è®­è¿›è¡Œäº†æ¯”è¾ƒã€‚<strong>ç ”ç©¶å‘ç°ï¼Œåº”è¯¥é¼“åŠ±é’ˆå¯¹æ­¤ç±»ä»»åŠ¡çš„ARåŸ¹è®­ï¼Œä½†VRéœ€è¦è¿›ä¸€æ­¥è¯„ä¼°</strong>ã€‚ç„¶è€Œï¼Œè®¸å¤šä»»åŠ¡å’Œæƒ…å†µè¿‡äºæ˜‚è´µã€å±é™©æˆ–ç½•è§ï¼Œæ— æ³•åœ¨ç°å®ä¸–ç•Œä¸­è¿›è¡Œè®­ç»ƒã€‚ä¾‹å¦‚ï¼ŒåŒ–å·¥è¡Œä¸šçš„æ“ä½œå‘˜åœ¨è™šæ‹Ÿç¯å¢ƒä¸­æ¥å—åŸ¹è®­[66]ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒVRåŸ¹è®­éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºæ²¡æœ‰æœ‰æ•ˆçš„æ›¿ä»£æ–¹æ³•ã€‚</p><ul><li>ç»“åˆç²¾ç¡®æ§åˆ¶çš„ä¼ ç»Ÿæ¸²æŸ“å›¾å½¢å’ŒNeRFä¸ä»…å¯ä»¥ç”¨äºè®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå¦‚NeRF2Real[67]æ‰€ç¤ºï¼Œè¿˜å¯ä»¥ç”¨äºè®­ç»ƒäººç±»ã€‚</li><li>äººçš„ä¸­å¿ƒè§†è§‰æ¯”ä½æ•é”åº¦çš„å‘¨è¾¹è§†è§‰æ›´æ•é”ã€‚è¿™æ˜¯ç”±äºè§†ç½‘è†œçš„ä¸­å¿ƒåŒºåŸŸåœ¨ä¸€ä¸ªå«åšä¸­å¤®å‡¹çš„åŒºåŸŸå«æœ‰å¯†é›†æ’åˆ—çš„å…‰é”¥ã€‚å¯¹äºäººç±»åœ¨VRç¯å¢ƒä¸­å®æ—¶ä½¿ç”¨çš„nerfï¼Œä¼ ç»Ÿçš„æ¸²æŸ“å’Œäº®åº¦åœºè¡¨ç¤ºæ–¹æ³•ä¼šä¸å¿…è¦åœ°æ¸²æŸ“å›¾åƒçš„æ‰€æœ‰åŒºåŸŸï¼ŒåŒ…æ‹¬é‚£äº›ç”¨äºäººç±»è§†è§‰å¤–å›´éƒ¨åˆ†çš„åŒºåŸŸï¼Œä»è€Œæµªè´¹èµ„æºã€‚FoV-NeRF[68]è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œ<strong>æå‡ºäº†å°†å›¾åƒçš„è´¨é‡è°ƒæ•´åˆ°æœ€é«˜çš„ä¸­å¿ƒè§†è§‰å’Œæœ€ä½çš„å‘¨è¾¹è§†è§‰</strong>ï¼Œä»è€Œå‘ˆç°å‡ºè´¨é‡ä¸å‡åŒ€çš„å›¾åƒã€‚è¿™ç§æ–¹æ³•é™ä½äº†åŠ³åŠ¨åŠ›åŸ¹è®­æˆ–æ²‰æµ¸å¼SCADAç³»ç»Ÿçš„VRæˆæœ¬å’Œå»¶è¿Ÿã€‚</li></ul><h2 id="Training-simulations-for-machine-learning"><a href="#Training-simulations-for-machine-learning" class="headerlink" title="Training simulations for machine learning"></a>Training simulations for machine learning</h2><p><strong>Transfer of skills</strong> acquired in simulation:</p><ul><li>NeRF2Real[67]æ–¹æ³•å±•ç¤ºäº†åœ¨æ¨¡æ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨NeRFè¿›è¡Œæ¸²æŸ“ã€‚ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºçœŸå®æœºå™¨äººç¯å¢ƒçš„NeRFè¡¨ç¤ºï¼Œå…¶ä¸­æå–éšœç¢ç‰©è¿›è¡Œç¢°æ’å»ºæ¨¡ï¼Œå¹¶ä¸åˆæˆç‰©ä½“(åŒ…æ‹¬åŠ¨æ€çƒ)é›†æˆã€‚æ­¤å¤–ï¼Œåˆ©ç”¨NeRFä½œä¸ºæœºå™¨äººçš„è§†è§‰è¾“å…¥ï¼Œå¹¶ä¸åˆæˆçš„åŠ¨æ€çƒç›®æ ‡ç›¸ç»“åˆã€‚éšåï¼Œä¸€ä¸ª20è‡ªç”±åº¦çš„äººå½¢æœºå™¨äººåœ¨è¿™ä¸ªç¯å¢ƒä¸­é€šè¿‡å¼ºåŒ–å­¦ä¹ å­¦ä¼šäº†æ¨çƒçš„ä»»åŠ¡ã€‚</li></ul><p>Capture of environment for training of other <strong>navigation algorithms</strong>: </p><ul><li>åœ¨å¯¼èˆªç®—æ³•çš„èƒŒæ™¯ä¸‹ï¼Œç»è¿‡è®­ç»ƒçš„æ™ºèƒ½ä½“ä»nerfä¸­è·å¾—è§†å›¾æ¸²æŸ“è¾“å‡ºï¼Œè€Œä¸æ˜¯ä¸çœŸå®çš„3Dç¯å¢ƒäº¤äº’æˆ–ä¾èµ–äºä¼ ç»Ÿçš„3Dç¯å¢ƒå¤šè¾¹å½¢æ¸²æŸ“ã€‚è¿™æ˜¯é€šè¿‡å‘nerfæä¾›æœ‰å…³å…¶æ¨¡æ‹ŸåŠ¨ä½œæ‰€å¯¼è‡´çš„ä»£ç†ä½ç½®å’Œè§†è§’å˜åŒ–çš„ä¿¡æ¯æ¥å®ç°çš„[69]ã€‚</li><li>é€šè¿‡å°†ç¯å¢ƒè¡¨ç¤ºåˆ’åˆ†ä¸ºé‡å çš„NeRFå—(ç§°ä¸ºblock-NeRF)ï¼Œè¿™ç§èƒ½åŠ›ç”šè‡³å¯ä»¥æ‰©å±•åˆ°å¤§è§„æ¨¡ç¯å¢ƒï¼Œä¾‹å¦‚æ•´ä¸ªåŸå¸‚[70]ã€‚</li><li>ä½¿ç”¨nerfï¼Œè¿˜å¯ä»¥ä¿®æ”¹åœºæ™¯å±æ€§ï¼Œä¾‹å¦‚å®ç°ä»»æ„åœºæ™¯é‡ç…§æ˜ã€‚è¿™æå¤§åœ°æ‰©å±•äº†ä¸ºç»™å®šçš„3Dåœºæ™¯ç”Ÿæˆçš„é€¼çœŸ2Då›¾åƒæ ·æœ¬çš„ç§ç±»å’Œæ•°é‡ã€‚ä¾‹å¦‚ï¼Œä»¥æ–‡æœ¬æè¿°ä¸ºæ¡ä»¶çš„æ¨¡å‹å¯ä»¥å¯¹åœºæ™¯ä¸­çš„å¯¹è±¡ææ–™è¿›è¡Œä»»æ„æ›´æ”¹ï¼Œä»è€Œå®ç°å…·æœ‰æˆæœ¬æ•ˆç›Šçš„è®­ç»ƒç¯å¢ƒä¿®æ”¹ä»¥å¢å¼ºå¤šæ ·æ€§[71]ã€‚</li></ul><p>Extracting quantitative physical properties:</p><ul><li>åŸºäºNeRFçš„åœºæ™¯ä¸­ç‰©ä½“çš„ç‰©ç†å‚æ•°æå–å¾—åˆ°äº†æœ‰è¶£çš„ç»“æœï¼Œå¦‚[72]æ‰€ç¤ºã€‚ä½œè€…è¯æ˜ï¼Œ<strong>é€šè¿‡NeRFåº”ç”¨å¯ä»¥è·å¾—æ‘©æ“¦è§’ã€ç²˜åº¦å’Œæ¨æ°æ¨¡é‡ç­‰ç‰©ä½“çš„åŠ¨æ€ç‰¹æ€§</strong>ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥æ”¶é›†èµ·æ¥ä¾›ä»¥ååœ¨æ¨¡æ‹Ÿä¸­ä½¿ç”¨ï¼Œæœºå™¨äººå¯ä»¥çº¯ç²¹ä½œä¸ºæ•°æ®æ”¶é›†ä»£ç†æˆ–ç›´æ¥ç”¨äºå®æ—¶æœºå™¨äººé¢„æµ‹èƒ½åŠ›å’Œå†³ç­–è¿‡ç¨‹ã€‚</li></ul><h2 id="Positioning-and-navigation"><a href="#Positioning-and-navigation" class="headerlink" title="Positioning and navigation"></a>Positioning and navigation</h2><p>æœ‰å‡ ç§æ–¹æ³•å¯ç”¨äºå·¥ä¸šå®šä½å’Œå¯¼èˆª[73]ã€‚è¿™äº›åŒ…æ‹¬è¶…å®½å¸¦(UWB)å®šä½ã€å…¨çƒå®šä½ç³»ç»Ÿ(GPS)ã€å·®åˆ†GPSå’Œsimultaneous localization and mapping(SLAM)ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•éƒ½æœ‰ç¼ºç‚¹ï¼Œå¦‚ç”±äºä¿¡å·é£è¡Œæ—¶é—´è®¡ç®—ä¸ç²¾ç¡®å’Œè¯¯å·®ç´¯ç§¯è€Œå¯¼è‡´ç²¾åº¦æœ‰é™ã€‚æ­¤å¤–ï¼Œåœ¨åŸºäºæ¿€å…‰é›·è¾¾çš„SLAMæƒ…å†µä¸‹ï¼Œç‚¹äº‘æ•°æ®çš„è®¾å¤‡æˆæœ¬å’Œæ•°æ®å­˜å‚¨/ä¼ è¾“è¦æ±‚å¯èƒ½å¾ˆé«˜ã€‚</p><p>åŸºäºç¥ç»è¾å°„åœºçš„SLAMæ–¹æ³•åŒ…æ‹¬æŸè°ƒèŠ‚ç¥ç»è¾å°„åœº(BARFs)[74]ã€‚BARFèƒ½å¤Ÿå¯¹NeRFå­¦ä¹ åˆ°çš„è¡¨ç¤ºå’Œè®­ç»ƒæ ·æœ¬(å›¾åƒ)çš„ç›¸æœºå§¿æ€è¿›è¡Œä»ç²—åˆ°ç²¾çš„é…å‡†ï¼Œå¹¶åŒæ—¶ä¼˜åŒ–ã€‚è¿™ä½¿å¾—NeRFè®­ç»ƒä¸å®Œç¾æˆ–ç¼ºå¤±çš„ç›¸æœºå§¿åŠ¿ã€‚<br>SLAMæ˜¯ä¸€ç§éœ€è¦å¯¹ç¯å¢ƒè¿›è¡Œ3Dæ˜ å°„çš„æŠ€æœ¯ã€‚å› æ­¤ï¼Œå¯ä»¥é‡å»º3Dåœºæ™¯çš„æ–¹æ³•ï¼Œå¦‚NeRFï¼Œé€šå¸¸å¯¹SLAMæœ‰ç”¨ã€‚Sunç­‰äººçš„ç ”ç©¶æ˜¯SLAMç¥ç»ä¸‰ç»´è¡¨é¢é‡å»ºæ–¹æ³•çš„ä¸€ä¸ªä¾‹å­[75]ã€‚ä»–ä»¬æå‡ºäº†ä¸€ç§å•ç›®æ—¶é—´ç›¸å¹²3Dé‡å»ºæŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯ä½¿ç”¨æ—¶é—´çª—å£æ¥æ•æ‰åœºæ™¯çš„æ—¶é—´ä¸€è‡´æ€§ï¼Œè€Œä¸æ˜¯é‡å»ºå’Œåˆå¹¶å•ä¸ªå¸§<br>NICE-SLAM[76]å¯¹å‡ ä½•å›¾å½¢ä½¿ç”¨å•ç‹¬çš„ç²—ã€ä¸­ã€ç»†åˆ†å±‚ç‰¹å¾ç½‘æ ¼ï¼Œå¯¹å¤–è§‚ä½¿ç”¨å¦ä¸€ä¸ªç‰¹å¾ç½‘æ ¼ã€‚å—NeRFå¯å‘çš„SLAMæ–¹æ³•çš„ä¸€ä¸ªä¾‹å­æ˜¯NeRF-SLAM[77]ï¼Œå®ƒä½¿ç”¨åŸºäºå³æ—¶ngpçš„åˆ†å±‚ä½“NeRFåœ°å›¾<br>åœ¨Zhuç­‰äºº[78]çš„å¦ä¸€é¡¹å·¥ä½œä¸­ï¼Œä¸ºåŸå¸‚è§„æ¨¡çš„NeRFå¼•å…¥äº†ä¸€ç§åä¸ºLATITUDE(æˆªæ–­åŠ¨æ€ä½é€šæ»¤æ³¢å™¨çš„å…¨çƒå®šä½)çš„å®šä½æ–¹æ³•ã€‚è¯¥æ–¹æ³•é‡‡ç”¨äº†ä»ç²—åˆ°ç²¾çš„å®šä½ç­–ç•¥ã€‚é¦–å…ˆï¼Œä½¿ç”¨nerfç”Ÿæˆçš„æ ·æœ¬å›¾åƒè®­ç»ƒçš„å›å½’é‡æ¥è·å¾—åˆå§‹ä¼°è®¡ç‚¹ï¼Œä»¥ä¼˜åŒ–ä½ç½®ä¼°è®¡ã€‚ä¸ºäº†é™ä½é™·å…¥å±€éƒ¨æå°å€¼çš„é£é™©ï¼Œå¼•å…¥äº†æˆªæ–­åŠ¨æ€ä½é€šæ»¤æ³¢å™¨(TDLF)ä½œä¸ºè§£å†³æ–¹æ¡ˆã€‚</p><h2 id="3D-scanning-and-tomography"><a href="#3D-scanning-and-tomography" class="headerlink" title="3D scanning and tomography"></a>3D scanning and tomography</h2><p>3Dæ‰«ææ˜¯ä¸€é¡¹å¤šåŠŸèƒ½æŠ€æœ¯ï¼Œåœ¨ä¸åŒçš„è¡Œä¸šæœ‰ä¸åŒçš„åº”ç”¨ã€‚ä¸€äº›ä¾‹å­æ˜¯:åˆ†æé‡‡çŸ¿æˆ–åˆ¶é€ åœºæ‰€çš„åœ°å½¢ï¼Œç›‘æµ‹å’Œç®¡ç†èµ„æºï¼Œå¦‚ç”Ÿç‰©è´¨[79]ï¼Œæ£€æŸ¥é—®é¢˜å’Œç¼ºé™·ï¼Œä»¥åŠæ‰§è¡ŒSLAMã€‚3Dæ‰«æè¿˜å¯ä»¥å®ç°é«˜ä»·å€¼çš„å®šåˆ¶å’Œä¸ç°æœ‰å¯¹è±¡çš„å…¼å®¹æ€§ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥ä¿ƒè¿›ä¼ ç»Ÿæˆ–ç¬¬ä¸‰æ–¹ç»„ä»¶çš„æ›´å¿«é€†å‘å·¥ç¨‹ï¼Œå®šåˆ¶å‡è‚¢ï¼Œä»¥åŠä¸ºé«˜ä»·å€¼äº§å“æˆ–è®¾å¤‡(ä¾‹å¦‚ï¼Œè´§èˆ¹)çš„å®šåˆ¶ä¿®å¤è¿›è¡Œç²¾ç¡®çš„æŸåå‡ ä½•æµ‹é‡ã€‚<strong>ç„¶è€Œï¼Œå­˜å‚¨å’Œå¤„ç†æ¿€å…‰é›·è¾¾æ•°æ®ä»ç„¶æ˜¯ä¸€ä¸ªæŒ‘æˆ˜</strong>ã€‚å…¸å‹çš„æ¿€å…‰é›·è¾¾æ‰«æå¯ä»¥åŒ…å«æ•°ç™¾ä¸‡ä¸ªç¦»æ•£ç‚¹ï¼Œåœ¨å¤§é¢ç§¯ä¸Šæ‰«æäº§ç”Ÿçš„æ•°æ®é›†å¯ä»¥è¢«è®¤ä¸ºæ˜¯å¤§æ•°æ®[80]ï¼Œ[81]ã€‚å¯¹äºå¤§è§„æ¨¡ä½“ç§¯ä¼°è®¡ï¼Œä»æ„Ÿå…´è¶£åŒºåŸŸçš„ä¸€å°éƒ¨åˆ†è·å¾—çš„ç»Ÿè®¡æ•°æ®é€šå¸¸è¢«å¤–æ¨åˆ°æ•´ä¸ªåŒºåŸŸ[79]ã€‚</p><p>3Dåœºæ™¯å‡ ä½•çŸ¥è¯†å…·æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œä¾‹å¦‚ä»å°å‹ç»„ä»¶åˆ°å¤§å‹å»ºç­‘ç‰©çš„ç‰©ä½“çš„3Dæ‰«æï¼Œå¹¶ä½¿æœºå™¨äººèƒ½å¤Ÿä¸å…¶ç¯å¢ƒè¿›è¡Œäº¤äº’(ä¾‹å¦‚ï¼Œé¿å…éšœç¢ç‰©å’ŒæŠ“åœ°åŠ›è§„åˆ’)ã€‚ä¼°è®¡å‡ ä½•å½¢çŠ¶çš„ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥æŸ¥è¯¢NeRFçš„ä½“ç§¯å¯†åº¦ï¼Œè¿™å·²è¢«è¯æ˜ä¸ç‰©è´¨çš„å­˜åœ¨æœ‰å¾ˆå¥½çš„ç›¸å…³æ€§[69]ã€‚æˆ–è€…ï¼Œå¯ä»¥ä½¿ç”¨ç«‹æ–¹ä½“æ¨è¿›æˆ–åŸºäºç¬¦å·è·ç¦»åœºçš„æ–¹æ³•æå–éšœç¢ç‰©ç½‘æ ¼ï¼Œå¦‚<a href="https://readpaper.com/paper/4734289236769914881">NeRFMeshing: Distilling Neural Radiance Fields into Geometrically-Accurate 3D Meshes</a> ï¼Œè¿™å¯ä»¥æé«˜æå–å‡ ä½•å½¢çŠ¶çš„è´¨é‡ã€‚</p><p>å¯¹äºä¸€äº›å…·æœ‰æŒ‘æˆ˜æ€§çš„æƒ…å†µï¼Œä¾‹å¦‚é€æ˜ç‰©ä½“[83]ï¼Œnerfåœ¨æ·±åº¦ä¼°è®¡æ–¹é¢æä¾›äº†æ˜¾è‘—çš„æ”¹è¿›ã€‚è¿™è¯æ˜äº†ä¸å…¶ä»–æŠ€æœ¯ç›¸æ¯”ï¼Œç¥ç»ç½‘ç»œåœ¨å­¦ä¹ æ¨æ–­ç‰©ä½“å‡ ä½•å½¢çŠ¶æ‰€éœ€çš„å¾®å¦™è§†è§‰çº¿ç´¢æ–¹é¢çš„ä¼˜åŠ¿ã€‚æ­¤å¤–ï¼Œå¯ä»¥ä»æ¨¡ç³Šå›¾åƒä¸­è·å¾—3Dåœºæ™¯ï¼ŒNeRFåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ¶ˆé™¤äº†æ¨¡ç³Šæ€§[84]ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ä¸ºNeRFè®­ç»ƒæä¾›æ›´å¿«çš„æ•°æ®é‡‡é›†ï¼Œè€Œä¸éœ€è¦èƒ½å¤Ÿæ•è·è¿åŠ¨ä¸­æ¸…æ™°å›¾åƒçš„ç‰¹æ®Šè®¾å¤‡ï¼Œä¾‹å¦‚ï¼Œå…è®¸é€šè¿‡åœ¨ä½ç©ºå¿«é€Ÿç§»åŠ¨çš„æ— äººæœºæ”¶é›†å¤§é¢ç§¯å›¾åƒã€‚æœ¬å°èŠ‚ä¸­è®¨è®ºçš„å‡ ä½•ä¼°è®¡é—®é¢˜åœ¨åœ°ç†ç©ºé—´è¡Œä¸šä¸­ç‰¹åˆ«å¸¸è§ï¼Œå¹¶ç”±NeRFç ”ç©¶è§£å†³(ä¾‹å¦‚ï¼Œ[85])ã€‚</p><p>å‡ ç§åŸºäºnerfçš„æ–¹æ³•æ˜¯ä¸“é—¨ä¸ºäººä½“è·Ÿè¸ªå’Œå§¿æ€ä¼°è®¡è€Œè®¾è®¡çš„ã€‚ä¸å·¥ä¸šç¯å¢ƒä¸­çš„å¤§å¤šæ•°å…¶ä»–ç‰©ä½“ä¸åŒï¼Œäººç±»æ˜¯é«˜åº¦ç§»åŠ¨çš„ï¼Œä»–ä»¬çš„è¿åŠ¨å¯èƒ½æ˜¯ä¸å¯é¢„æµ‹çš„ã€‚è¿™äº›äººçš„æµåŠ¨æ€§ç‰¹ç‚¹éœ€è¦å‡†ç¡®ã€å¿«é€Ÿçš„å®æ—¶è·Ÿè¸ªå’Œç†æƒ³çš„é¢„æµ‹æ–¹æ³•ã€‚[86]ä»å•ç›®è§†é¢‘ä¸­å¯¹äººä½“3Då§¿åŠ¿è¿›è¡Œäº†ç»†ç²’åº¦è·Ÿè¸ªï¼ŒåŒ…æ‹¬è§†é¢‘ä¸­ä¸å¯è§çš„å‡ ä½•éƒ¨åˆ†ã€‚</p><p>æœºå™¨äººè®¾è®¡çš„ä¸€ç§å…·ä½“æ–¹æ³•æ˜¯åˆ›å»ºå¼ºè°ƒäººä¸æœºå™¨äººä¹‹é—´åä½œçš„åä½œæœºå™¨äºº(collaborative robots)[87]ã€‚è¿™ç§åä½œæœºå™¨äººéœ€è¦å¯¹äººç±»è¿åŠ¨è¿›è¡Œæ›´ç»†è‡´çš„è·Ÿè¸ªå’Œé¢„æµ‹ï¼Œè€Œä¸æ˜¯ä»…ä»…ä¸ºäº†èº²é¿æˆ–æ¾æ•£åˆä½œè€Œè·Ÿè¸ªäººç±»ã€‚æœ€è¿‘ï¼Œä¸€äº›å·¥ä½œé›†ä¸­åœ¨åŸºäºnerfçš„äººä½“æ•è·å’Œè·Ÿè¸ªä¸Šï¼Œè¿™æœ‰åŠ©äºè§£å†³åœ¨åä½œæœºå™¨äººè®¾ç½®ä¸­å®ç°ç²¾ç¡®äººæœºäº¤äº’çš„æŒ‘æˆ˜ã€‚ä¾‹å¦‚ï¼Œ[88]ä»‹ç»äº†ä¸€ç§åŸºäºnerfçš„æ–¹æ³•ï¼Œé€šè¿‡ä»ç¨€ç–çš„å¤šè§†å›¾å›¾åƒé›†é‡å»ºç»™å®šçš„äººä½“ï¼Œæ¥æ¸²æŸ“æ–°é¢–çš„äººä½“å§¿åŠ¿å’Œæ–°é¢–çš„3Dåœºæ™¯è§†å›¾ã€‚</p><p>æ–­å±‚æ‰«æåœ¨å·¥ä¸šç¯å¢ƒä¸­æœ‰å„ç§åº”ç”¨ï¼Œå¦‚æ¢ä¼¤ã€å¤±æ•ˆåˆ†æã€è®¡é‡ã€è£…é…åˆ†æå’Œé€†å‘å·¥ç¨‹ã€‚æ–­å±‚æ‰«æä¹Ÿè¢«ç”¨äºæ–°çš„ä»»åŠ¡ï¼Œå¦‚æ— äººæœºè¾…åŠ©æ‰«ææ°”ä½“ç¾½æµçš„ç©ºé—´åˆ†å¸ƒ[89]ã€‚å¦‚æ–‡çŒ®[90]æ‰€ç¤ºï¼Œå°†nerfåº”ç”¨äºxå°„çº¿æ‰«æä»ªè·å¾—çš„sinographæ•°æ®å¯ä»¥è·å¾—æœ€å…ˆè¿›çš„3Dé‡å»ºç»“æœï¼Œå…¶ä¸­è¶…è¿‡æ‰«æä»ªåˆ†è¾¨ç‡çš„ç¼©æ”¾ç§°ä¸ºè¶…åˆ†è¾¨ç‡(åˆ†è¾¨ç‡æé«˜8å€)ï¼Œå®ç°äº†ä»å°‘é‡æ ·æœ¬é‡å»ºå’Œä»45åº¦èŒƒå›´å†…çš„æœ‰é™è§’åº¦æ–­å±‚æ‰«æé‡å»ºã€‚</p><h2 id="Other-areas"><a href="#Other-areas" class="headerlink" title="Other areas"></a>Other areas</h2><p>Dense object descriptors: è®ºæ–‡[91]æå‡ºäº†ä¸€ç§åˆ›å»ºå¯†é›†å¯¹è±¡æè¿°ç¬¦çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ç”¨äºç‚¹å¯¹åº”å’Œå…³é”®ç‚¹æ£€æµ‹ã€‚è¿™ç§æ–¹æ³•å¯¹äºè–„ç‰©ä½“å’Œåå°„ç‰©ä½“çš„6è‡ªç”±åº¦æ‹¾å–å’Œæ”¾ç½®æ“ä½œç‰¹åˆ«æœ‰ç”¨ï¼Œè¿™åœ¨è¿‡å»ä¸€ç›´å…·æœ‰æŒ‘æˆ˜æ€§ã€‚æ‰€æå‡ºçš„æ–¹æ³•æ˜æ˜¾ä¼˜äºæœ€è¿‘çš„ç°æˆè§£å†³æ–¹æ¡ˆï¼Œå¦‚GLU-Net[92]ã€GOCor[93]å’ŒPDC-Net[94]ã€‚</p><p>Point-set registration : åœ¨åœ°ç†ç©ºé—´å’ŒåŒ»ç–—é¢†åŸŸç­‰ä¸åŒè¡Œä¸šä¸­ï¼Œç»å¸¸éœ€è¦å¯¹æ¥è‡ªä¸åŒæ¥æºæˆ–æ—¶é—´çš„è§†è§‰æ•°æ®è¿›è¡Œå¯¹é½ã€‚è¿™ç§å¯¹é½å¯ä»¥è¯†åˆ«å’Œæ¯”è¾ƒä¸åŒå›¾åƒä¸­3Då¯¹è±¡æˆ–åœºæ™¯ä¸Šçš„ç›¸åŒç‚¹æˆ–åŒºåŸŸã€‚ä¾‹å¦‚ï¼Œå¤šæ¬¡æ–­å±‚æ‰«æå¯ç”¨äºè¯„ä¼°éšæ—¶é—´çš„ç”Ÿç†å˜åŒ–ã€‚ç‚¹é…å‡†æ˜¯å®ç°è¿™ç§å¯¹é½çš„ä¸€ç§æ–¹æ³•ã€‚Goliç­‰[95]ä½¿ç”¨ä»nerfä¸­æå–çš„è¡¨é¢åœºæ¥å®ç°æˆå¯¹ç‚¹é…å‡†ã€‚è¿™äº›è¡¨é¢åœºä¸å—æ‘„åƒæœºè§†ç‚¹å˜åŒ–çš„å½±å“ã€‚ç„¶åï¼Œä¼˜åŒ–è¿‡ç¨‹æ‰¾åˆ°å¯¹é½è¡¨é¢åœºçš„åˆšæ€§è½¬æ¢ï¼Œç¡®ä¿ç›¸åº”è§†è§‰æ•°æ®çš„å¯¹é½</p><p>Synthetic Perturbations for <strong>Augmenting Robot Trajectories</strong> via NeRF (SPARTN)[96]æ˜¯ä¸€ç§æœºå™¨äººæ“ä½œè®­ç»ƒæ–¹æ³•ï¼Œå®ƒä½¿ç”¨NeRFä¸ºæ‰‹çœ¼æœºå™¨äººæ“ä½œä»»åŠ¡çš„ä¸“å®¶æ¼”ç¤ºç”Ÿæˆæ‘„åŠ¨å’Œç›¸åº”çš„çº æ­£åŠ¨ä½œã€‚è¿™å°†æ¨¡ä»¿å­¦ä¹ æ€§èƒ½æé«˜äº†2.8å€ã€‚</p><p>Synthetic dataset generation for supervised learning :Neural-Simä¸­æå‡ºäº†ä¸€ç§ä½¿ç”¨åˆæˆnerfç”Ÿæˆçš„å›¾åƒæ¥è®­ç»ƒè§†è§‰æ¨¡å‹çš„æ–¹æ³•[97]ã€‚åˆæˆå›¾åƒçš„å˜åŒ–åŒ…æ‹¬å§¿åŠ¿ã€å˜ç„¦å’Œç…§æ˜ã€‚å®ç°äº†å¯¹ç”¨äºè®­ç»ƒçš„æ•°æ®çš„ç²¾ç¡®æ§åˆ¶ï¼Œå¹¶ä¸”æœ‰ç›®çš„åœ°ç”Ÿæˆäº†æœ€å®¹æ˜“å¯¼è‡´è§†è§‰æ¨¡å‹æŸå¤±çš„å›¾åƒã€‚å› æ­¤ï¼Œé’ˆå¯¹ç‰¹å®šé¢†åŸŸçš„å›¾åƒè°ƒæ•´çš„é«˜è´¨é‡è§†è§‰æ¨¡å‹å¯ä»¥åœ¨ä¸æ”¶é›†è®¸å¤šæ½œåœ¨å†—ä½™ä¸”å˜åŒ–æœ‰é™çš„çœŸå®ä¸–ç•Œæ ·æœ¬çš„æƒ…å†µä¸‹è·å¾—</p><p>Learned semantic relationships: ä½¿ç”¨JacobiNeRF[98]ä¸­æå‡ºçš„æ–¹æ³•çš„NeRFå¯ä»¥å­¦ä¹ åœºæ™¯å®ä½“(å¦‚å¯¹è±¡ç”šè‡³å•ä¸ªåƒç´ )ä¹‹é—´çš„åº•å±‚æŠ½è±¡è¯­ä¹‰å…³ç³»ã€‚å½“å…¶æƒé‡æ²¿åœºæ™¯ä¸­ç‰¹å®šç‚¹çš„æ¢¯åº¦æ‰°åŠ¨æ—¶ï¼Œè¿™æ ·çš„NeRFåœ¨å…¶è¾“å‡ºä¸­è¡¨ç°å‡ºè¯­ä¹‰å…³è”å…±æŒ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¢™å£ä¸Šçš„å•ä¸ªç‚¹çš„äº®åº¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç»™å®šå¢™å£ä¸Šå…¶ä»–ç‚¹çš„äº®åº¦ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œè€Œåœºæ™¯ä¸­çš„å…¶ä»–ç‚¹ä¿æŒä¸å˜ã€‚ä¸€ä¸ªJacobiNeRFåº”ç”¨ç¨‹åºæ­£åœ¨å‡å°‘æ³¨é‡Šè´Ÿæ‹…ï¼Œå› ä¸ºæ³¨é‡Šå¯ä»¥ä¼ æ’­åˆ°è¯­ä¹‰é“¾æ¥ç‚¹ã€‚è¿™ç§æ–¹æ³•é€šå¸¸ç”¨äºå®ä½“é€‰æ‹©å’Œåœºæ™¯ä¿®æ”¹ã€‚</p><h1 id="REQUIREMENTS-FOR-PROOF-OF-CONCEPTEXPERIMENTS"><a href="#REQUIREMENTS-FOR-PROOF-OF-CONCEPTEXPERIMENTS" class="headerlink" title="REQUIREMENTS FOR PROOF-OF-CONCEPTEXPERIMENTS"></a>REQUIREMENTS FOR PROOF-OF-CONCEPTEXPERIMENTS</h1><p>æˆ‘ä»¬è¿›è¡Œäº†å®šé‡å®éªŒï¼Œä»¥æµ‹è¯•æˆ‘ä»¬çš„ä¸€äº›æ–°é¢–çš„NeRFåº”ç”¨åœ¨æˆ‘ä»¬æ„Ÿå…´è¶£çš„é¢†åŸŸçš„å¯è¡Œæ€§ï¼Œå¹¶ç ”ç©¶å®ç°æ‰€éœ€çš„æ–¹æ³•ã€‚<br><strong>ç¬¬ä¸€ä¸ªå®éªŒ</strong>æ£€æŸ¥äº†ä¸åŒè®¾ç½®(å¦‚åˆ†è¾¨ç‡å’Œå‹ç¼©è´¨é‡é¢„è®¾)ä¸‹çš„<strong>æ•°æ®èŠ‚çœå’Œå‹ç¼©è´¨é‡ä¹‹é—´çš„æƒè¡¡</strong>ã€‚æˆ‘ä»¬åœ¨è¿™ä¸ªå®éªŒä¸­ä½¿ç”¨äº†<strong>Instant-NGP</strong>[99]ï¼Œä¸€ç§å¿«é€Ÿçš„NeRFå˜ä½“ï¼Œå› ä¸ºå®ƒå¯ä»¥é€šè¿‡ä¸åŒçš„å®éªŒé…ç½®è¿›è¡Œå¿«é€Ÿè¿­ä»£ã€‚<br><strong>ç¬¬äºŒä¸ªå®éªŒ</strong>æ¢è®¨äº†ä½¿ç”¨<strong>åŠ¨æ€nerfè¿›è¡Œé¢„æµ‹å¯¼èˆª</strong>ã€‚æˆ‘ä»¬é€‰æ‹©äº†<strong>D-NeRF</strong>[44]ï¼Œè¿™æ˜¯ä¸€ç§åŠ¨æ€NeRFå˜ä½“ï¼Œå¯ä»¥é‡å»ºé«˜è´¨é‡çš„åŠ¨æ€åœºæ™¯ã€‚å®ƒçš„æ˜¾è‘—ä¼˜ç‚¹æ˜¯ä¸€ä¸ªç°æœ‰çš„å¼€æºå®ç°ï¼Œæ–¹ä¾¿äº†åŠ¨æ€åœºæ™¯å®éªŒçš„å¿«é€Ÿå’Œå¯é‡å¤è®¾ç½®ã€‚</p><h2 id="A-Mathematical-representation"><a href="#A-Mathematical-representation" class="headerlink" title="A. Mathematical representation"></a>A. Mathematical representation</h2><p>æˆ‘ä»¬æå‡ºäº†æˆ‘ä»¬åœ¨å®éªŒä¸­ä½¿ç”¨çš„ä¸¤ç§ç®—æ³•â€”â€”Instant-NGP and dynamic NeRF,çš„æ•°å­¦æ¨¡å‹ã€‚æˆ‘ä»¬è¿˜è§£é‡Šäº†è¿™äº›NeRFå˜ä½“ä¸­ä½¿ç”¨çš„è½´å¯¹é½è¾¹ç•Œæ¡†(AABB)é•¿æ–¹ä½“ï¼Œé€šè¿‡é™åˆ¶æ¸²æŸ“ä½“ç§¯æ¥åŠ å¿«æ¸²æŸ“è¿‡ç¨‹ã€‚</p><p>1) ä¸»è¦å®šä¹‰:åœ¨æ•°å­¦ä¸­ï¼ŒåŸŸæ˜¯å®šä¹‰ä¸€äº›åŸºæœ¬ä»£æ•°è¿ç®—è¡Œä¸ºçš„é›†åˆã€‚ç¥ç»åŸŸæ˜¯ä¸€ä¸ªå¯ä»¥é€šè¿‡ç¥ç»ç½‘ç»œå‚æ•°åŒ–çš„åŸŸã€‚</p><p>NeRFç”¨äºä»ä¸€ç»„2Då›¾åƒä¸­å»ºç«‹3Dåœºæ™¯é‡å»ºæ¨¡å‹ã€‚é‡å»ºæ˜¯ä¸€ä¸ªç¥ç»åœºï¼Œè¡¨ç¤ºä¸º $\Phi:X\rightarrow Y$ï¼Œå°†æ¯ä¸ª$\mathbf{x}_{\mathrm{recon}}\in X$æ˜ å°„åˆ°å¯¹åº”çš„åœºé‡$\mathbf{y}_{\mathrm{recon}}\in Y.$ã€‚ç›¸æœºä¼ æ„Ÿå™¨å›¾åƒè§‚æµ‹ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªfield$\Omega:S\rightarrow T$ï¼Œè¯¥fieldå°†ä¼ æ„Ÿå™¨åæ ‡S, $\mathbf{x}_{\mathrm{sens}}\in S$æ˜ å°„åˆ°æµ‹é‡å€¼T, $\mathbf{t}_{\mathrm{sens}}\in T.$ã€‚æ­£å‘æ˜ å°„æ˜¯ä¸¤ä¸ªå‡½æ•°$F:(X\rightarrow Y)\rightarrow(S\rightarrow T).$ä¹‹é—´çš„å¯å¾®æ˜ å°„ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœforward mapæ˜¯å¯å¾®çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚è§£ä»¥ä¸‹ä¼˜åŒ–é—®é¢˜[100]æ¥å¯»æ‰¾ç¥ç»åœºÎ¦: $\operatorname{argmin}_W\int_{X\times S}||F(\Phi(\mathbf{x}_{\mathrm{recon}}))-\Omega(\mathbf{x}_{\mathrm{sens}})||.$<br>Wä¸ºÎ¦çš„å‚æ•°ã€‚ç¥ç»åŸŸçš„ä¸€èˆ¬å®šä¹‰ä¹Ÿé€‚ç”¨äºå„ç§énerfè¡¨ç¤ºï¼Œä¾‹å¦‚ç¥ç»ç¬¦å·è·ç¦»åŸŸ</p><p>ç¼©å°åˆ°NeRFï¼Œä»æ•°å­¦çš„è§’åº¦æ¥çœ‹ï¼ŒNeRFç‰¹å®šçš„$x_{recon}$æ˜¯ä¸€ä¸ª5å…ƒç»„(x, y, zï¼Œ Î¸ï¼Œ Ï†)ä¸€ä¸ªç‚¹çš„ä¸‰ç»´ç›´è§’åæ ‡x, y, zåæ ‡æ²¿ç€å°„çº¿å’Œè§†è§’Î¸ï¼Œ Ï†åœ¨çƒåæ ‡ç³»ä¸­é‡‡æ ·ï¼Œè¿™å†³å®šäº†ä»ç›¸æœºå‘å‡ºçš„å°„çº¿çš„æ–¹å‘ã€‚NeRF-specific $y_{recon}$æ˜¯ä¸€ä¸ª4å…ƒç»„(r, g, bï¼Œ Ïƒ)ï¼Œå…¶ä¸­r, gå’Œbæ˜¯æ²¿ç‰¹å®šæ–¹å‘çš„å°„çº¿é‡‡æ ·çš„ç‰¹å®šç‚¹çš„RGBäº®åº¦é¢œè‰²åˆ†é‡ï¼ŒÏƒæ˜¯è¯¥ç»™å®šç‚¹çš„å…‰å¯†åº¦ã€‚å› æ­¤ï¼ŒNeRFæ˜¯ä¸€ä¸ªå°†5ç»´xreconå‘é‡è½¬æ¢ä¸ºå¦ä¸€ä¸ª4ç»´xreconå‘é‡çš„å‡½æ•°ã€‚è¿™ä¸ªæ˜ å°„å¯ä»¥è¡¨ç¤ºä¸º:    $F(W):(x,y,z,\theta,\phi)\implies(r,g,b,\sigma),$</p><p>åœ¨ä½“ç»˜åˆ¶è¿‡ç¨‹ä¸­ï¼Œå…‰çº¿é€šè¿‡æ¯ä¸ªåƒç´ å‘å°„ï¼Œä»¥è®¡ç®—ç»“æœåƒç´ çš„é¢œè‰²ã€‚åªæœ‰è½åœ¨AABBè¾¹ç•Œä½“å†…çš„å°„çº¿æ®µæ‰ç”¨äºæ¸²æŸ“è®¡ç®—ã€‚åœ¨è¿‘ã€è¿œå°„çº¿ç•Œ$t_n$å’Œ$t_f$å†…ï¼Œç”±å°„çº¿åŸç‚¹å’Œæ–¹å‘dåœ¨å°„çº¿ä¸Šçš„ç‚¹tå¤„å®šä¹‰çš„ç›¸æœºå°„çº¿r(t) = 0 + tdçš„æœŸæœ›é¢œè‰²C(r)å®šä¹‰ä¸º:$C(\mathbf{r})=\int_{t_n}^{t_f}T(t)\sigma(\mathbf{r}(t))\mathbf{c}(\mathbf{r}(t),\mathbf{d})dt,$</p><p>å…¶ä¸­ï¼Œcä¸ºå°„çº¿çº¿æ®µä¸ŠæŸä¸€ç‚¹çš„å…‰çº¿è§’åº¦dæ‰€å†³å®šçš„å‘å°„é¢œè‰²ï¼Œå‚æ•°åŒ–ä¸ºå‚æ•°tã€‚å‡½æ•°T (t)ä¸ºé€å°„ç‡ï¼Œå®ƒå†³å®šäº†å•ä¸ªcå€¼å¯¹æ€»c (r)çš„è´¡çŒ®ã€‚</p><p>2) Instant Neural Graphics Primitives:</p><p>ä½¿ç”¨NeRFæ¸²æŸ“å®Œæ•´å›¾åƒçš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯è®¡ç®—æ—¶é—´ã€‚è‡ªä»æœ€åˆçš„NeRFæ–‡ä»¶é‡‡ç”¨NeRFæ–¹æ³•ä»¥æ¥ï¼Œå·²ç»è¿›è¡Œäº†ä¸åŒçš„å°è¯•æ¥åŠ å¿«è¿™ä¸€è¿›ç¨‹ã€‚å³æ—¶ç¥ç»å›¾å½¢åŸè¯­(Instant neural graphics primitives, Instant NGPs)[101]è¯•å›¾å‡å°‘å±‚æ•°ï¼Œå¹¶ä»¥æŒ‡æ•°æ–¹å¼å‡å°‘MLPè®¡ç®—ä¸­çš„è®¡ç®—æ¬¡æ•°ã€‚è¿™èƒŒåçš„æ€æƒ³æ˜¯è€ƒè™‘ä¸¤ä¸ªå‚æ•°:å‚æ•°çš„æ•°é‡Tå’Œæˆ‘ä»¬æƒ³è¦è·å¾—$N_{max}$çš„ç›®æ ‡åˆ†è¾¨ç‡ã€‚æ‰€è°“çš„å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ä¸ä»…å°è¯•åƒé€šå¸¸çš„MLPä¸€æ ·è®­ç»ƒæƒé‡ï¼Œè¿˜å°è¯•è®­ç»ƒå‚æ•°ã€‚æ¯ä¸€å±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç½‘æ ¼é¡¶ç‚¹å¤„çš„ç‰¹å¾å‘é‡ï¼Œå…¶åˆ†è¾¨ç‡è¢«é€‰æ‹©ä¸ºæœ€å·®å’Œæœ€æ¸…æ™°åˆ†è¾¨ç‡ä¹‹é—´çš„å‡ ä½•çº§æ•°[Nmin, Nmax]<br>$N_{l}=N_{\mathrm{min}}bl,$<br>$b=\exp\left(\frac{\ln N_{\max}-\ln N_{\min}}{L-1}\right),$bå–å†³äºå±‚æ•°å’Œattemptedåˆ†è¾¨ç‡ã€‚</p><p>3) D-NeRF</p><p>åŠ¨æ€NeRF (D-NeRF)æ˜¯ä¸€ç§èƒ½å¤Ÿ3DåŠ¨æ€åœºæ™¯æ•è·çš„NeRFå˜ä½“ã€‚ç”±äºé¢å¤–çš„æ—¶é—´ç»´åº¦ï¼ŒåŠ¨æ€NeRFå˜é‡çš„æ˜ å°„å¿…é¡»ä»Eq. 2ä¿®æ”¹ä¸ºä»¥ä¸‹å½¢å¼:</p><p>$F(W):(x,y,z,\theta,\phi,t)\implies(r,g,b,\sigma).$</p><p>è™½ç„¶å­¦ä¹ ä»6Dåˆ°4Dçš„ç›´æ¥æ˜ å°„çš„æ¨¡å‹å¯ä»¥ç”¨äºè¯¥ä»»åŠ¡ï¼Œä½†[44]çš„ç»“æœè¡¨æ˜ï¼Œå°†æ˜ å°„åˆ†è§£ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„å‡½æ•°å¯ä»¥å‡å°‘è®¡ç®—æ—¶é—´ã€‚å…·ä½“æ¥è¯´ï¼Œä¸€ä¸ªMLP $Î¦_x$ä½œä¸ºåŠ¨æ€åœºæ™¯çš„å•ä¸ªæ—¶é—´ç¬é—´çš„å‚è€ƒé™æ€åœºæ™¯è¡¨ç¤ºï¼Œé€šå¸¸ä¸ºt = 0ã€‚ç„¶åï¼Œå¦ä¸€ä¸ªMLP $Î¦_t$å­¦ä¹ å—æ—¶é—´é™åˆ¶çš„è§„èŒƒåœºæ™¯çš„åŠ¨æ€åœºæ™¯å˜å½¢ã€‚å› æ­¤ï¼Œä¸¤ä¸ªmlpéƒ½åœ¨æ„Ÿå…´è¶£çš„æ—¶é—´é—´éš”å†…å­¦ä¹ åœºæ™¯çš„å¤–è§‚ã€‚</p><p>4) AABB representation</p><p>ä¸€èˆ¬æ¥è¯´ï¼ŒAABBæ˜¯ä¸€ä¸ªä¸åæ ‡è½´å¯¹é½çš„äºŒç»´çŸ©å½¢è¾¹ç•ŒåŒºæˆ–ä¸‰ç»´é•¿æ–¹ä½“è¾¹ç•Œä½“ã€‚å®ƒç”¨äºç®€åŒ–æ¨¡æ‹Ÿä»»åŠ¡çš„è®¡ç®—ï¼Œå¦‚ç¢°æ’æ£€æµ‹æˆ–å°„çº¿ç›¸äº¤ã€‚åœ¨nerfä¸­ï¼Œä½¿ç”¨é•¿æ–¹ä½“AABBæ¥åˆ‡æ–­AABBè¾¹ç•Œå¤„çš„å°„çº¿ä¼ æ’­ã€‚<br>AABBå¯ä»¥ç”¨ä¸¤ä¸ªå‚æ•°æ¥å®šä¹‰:ä¸€ä¸ªä¸­å¿ƒç‚¹å’Œä¸€ä¸ªåŠå»¶ä¼¸å‘é‡ã€‚ä¸­å¿ƒç‚¹å…·æœ‰ä¸‰ç»´ç¬›å¡å°”åæ ‡$(X_0,Y_0,Z_0)$å¹¶æŒ‡å®šé•¿æ–¹ä½“çš„ä½ç½®ã€‚åŠå»¶ä¼¸å‘é‡å…·æœ‰åˆ†é‡(X,Y,Z)ï¼Œå¹¶æŒ‡å®šé•¿æ–¹ä½“åœ¨æ¯ä¸ªæ–¹å‘ä¸Šä»ä¸­å¿ƒç‚¹å»¶ä¼¸çš„è·ç¦»ã€‚å› æ­¤ï¼Œé•¿æ–¹ä½“çš„å®½åº¦ä¸º2Xå•ä½ï¼Œé«˜åº¦ä¸º2Yå•ä½ï¼Œæ·±åº¦ä¸º2Zå•ä½ã€‚ç»¼ä¸Šæ‰€è¿°ï¼ŒèŒƒå›´å‘é‡åŠå…¶ä¸­å¿ƒå”¯ä¸€åœ°å®šä¹‰äº†AABBï¼Œå¯ä»¥ç”¨äºæ¸²æŸ“åŠ é€Ÿã€‚</p><h2 id="B-Evaluation-metrics"><a href="#B-Evaluation-metrics" class="headerlink" title="B. Evaluation metrics"></a>B. Evaluation metrics</h2><p>æˆ‘ä»¬è€ƒè™‘å®Œå–„çš„è®¡ç®—æœºè§†è§‰é¢†åŸŸè¯„ä¼°æŒ‡æ ‡:PSNRå’ŒSSIMã€‚</p><p>PSNRæ˜¯æœ€å¤§ä¿¡å·åŠŸç‡ä¸å™ªå£°åŠŸç‡ä¹‹æ¯”ï¼Œå•ä½ä¸ºdBã€‚è®¡ç®—PSNRæ—¢éœ€è¦å™ªå£°ç ´åå‰çš„åŸå§‹å›¾åƒï¼Œä¹Ÿéœ€è¦å™ªå£°ç ´ååçš„å›¾åƒã€‚åˆ©ç”¨å™ªå£°å›¾åƒçš„å‡æ–¹è¯¯å·®(MSE)æ¥è®¡ç®—å™ªå£°åŠŸç‡åˆ†é‡ã€‚å¯¹äºå°ºå¯¸ä¸ºm x nåƒç´ çš„ç°åº¦å›¾åƒï¼ŒMSEçš„è®¡ç®—æ–¹æ³•å¦‚ä¸‹[102]</p><p>$MSE=\frac{1}{mn}\sum_{i=0}^{m-1}\sum_{j=0}^{n-1}[I(i,j)-K(i,j)]^{2},$</p><p>å…¶ä¸­Iå’ŒKåˆ†åˆ«æ˜¯æè¿°åŸå§‹å›¾åƒå’Œå™ªå£°å›¾åƒçš„å‡½æ•°ï¼Œé€šè¿‡å°†ä»¥i and jä¸ºç´¢å¼•çš„åƒç´ æ˜ å°„åˆ°ä¿¡å·å€¼ã€‚å¯¹äºç°åº¦å›¾åƒï¼Œä¿¡å·å€¼å†³å®šäº†æ•´ä½“åƒç´ äº®åº¦ï¼Œå¯¹äºå½©è‰²å›¾åƒï¼Œä¿¡å·å€¼å†³å®šäº†RGBé¢œè‰²é€šé“äº®åº¦å€¼ã€‚å¯¹äºRGBé¢œè‰²ç©ºé—´ä¸­çš„å½©è‰²å›¾åƒï¼ŒMSEåªæ˜¯åœ¨æ‰€æœ‰ä¸‰ä¸ªé¢œè‰²é€šé“ä¸Šè®¡ç®—ã€‚</p><p>PSNRçš„è®¡ç®—å…¬å¼å¦‚ä¸‹:$PSNR=10\cdot\log_{10}\left(\frac{MAX_{I}^{2}}{MSE}\right),$<br>$MAX_{I}$è¡¨ç¤ºåŸå§‹æ— å™ªå£°å›¾åƒä¸­çš„å³°å€¼ä¿¡å·å€¼ã€‚<br>PSNRé€šå¸¸ä»¥dBè¡¨ç¤ºï¼Œå¯è®¡ç®—ä¸º: $PSNR(dB)=20log_{10}(MAX_I)-10log_{10}(MSE).$</p><p>SSIMæ˜¯åŸºäºå›¾åƒçš„äº®åº¦ã€å¯¹æ¯”åº¦å’Œç»“æ„æ¥è¡¡é‡ä¸¤å¹…å›¾åƒä¹‹é—´çš„ç»“æ„ç›¸ä¼¼æ€§ã€‚ä¸PSNRç›¸åï¼Œè¯¥æŒ‡æ ‡è€ƒè™‘äº†äººç±»è§†è§‰æ„ŸçŸ¥içš„å…·ä½“æƒ…å†µï¼Œå¹¶æä¾›äº†æ›´æ¥è¿‘æ™®é€šäººçš„è´¨é‡è¯„ä¼°å‡½æ•°ã€‚å®ƒæ˜¯é€šè¿‡æ¯”è¾ƒå›¾åƒä¸­åƒç´ çš„å±€éƒ¨æ–‘å—(çŸ©å½¢çª—å£)æ¥è®¡ç®—çš„ã€‚å…¶è®¡ç®—å…¬å¼å¦‚ä¸‹å¼[102]<br>$\mathrm{SSIM}(x,y)=\frac{\left(2\mu_x\mu_y+c_1\right)\left(2\sigma_{xy}+c_2\right)}{\left(\mu_x^2+\mu_y^2+c_1\right)\left(\sigma_x^2+\sigma_y^2+c_2\right)},$</p><p>å¼ä¸­ï¼Œxã€yä¸ºä¸¤ä¸ªå¤§å°ä¸ºN Ã— Nçš„å›¾åƒå—ï¼ŒÎ¼xã€Î¼yä¸ºxã€yçš„å¹³å‡åƒç´ å€¼ï¼ŒÏƒ2xã€Ïƒ2yä¸ºxã€yçš„æ–¹å·®ï¼ŒÏƒxyä¸ºx and yçš„åæ–¹å·®ï¼Œc1ã€c2ä¸ºåˆ†æ¯è¶‹è¿‘äºé›¶æ—¶é¿å…ä¸ç¨³å®šçš„ä¸¤ä¸ªå¸¸æ•°ã€‚SSIMçš„å–å€¼èŒƒå›´æ˜¯-1 ~ 1,<strong>1è¡¨ç¤ºå®Œå…¨ç›¸ä¼¼ï¼Œ-1è¡¨ç¤ºå®Œå…¨ä¸ç›¸ä¼¼</strong>ã€‚</p><h1 id="PROOF-OF-CONCEPT-I-UAV-VIDEO-COMPRESSION-USING-INSTANT-NGP"><a href="#PROOF-OF-CONCEPT-I-UAV-VIDEO-COMPRESSION-USING-INSTANT-NGP" class="headerlink" title="PROOF-OF-CONCEPT I.: UAV VIDEO COMPRESSION USING INSTANT-NGP"></a>PROOF-OF-CONCEPT I.: UAV VIDEO COMPRESSION USING INSTANT-NGP</h1><p>æˆ‘ä»¬æå‡ºçš„ç¬¬ä¸€ä¸ªæ–°é¢–çš„NeRFåº”ç”¨æ˜¯åŸºäºNeRFçš„è§†é¢‘å‹ç¼©æŠ€æœ¯ã€‚è¿™ç§æ–¹æ³•åªå¯¹nerfç”Ÿæˆçš„å…·æœ‰ç»™å®šç›¸æœºå§¿åŠ¿çš„åœºæ™¯çš„é¢„æœŸ2Dè¡¨ç¤ºä¸å®æ—¶æ•è·çš„å®é™…å¸§ä¹‹é—´çš„å·®å¼‚è¿›è¡Œç¼–ç ã€‚è¿™ç§å¢å¼ºçš„è§†é¢‘å‹ç¼©é™ä½äº†ä¼ è¾“æ‰€éœ€çš„æ¯”ç‰¹ç‡ï¼Œå› ä¸ºåªæœ‰å…³äºæ‘„åƒæœºå§¿æ€çš„æ•°æ®å’ŒçœŸå®å¸§ä¸ç”Ÿæˆå¸§ä¹‹é—´è½¬æ¢çš„ä¿¡æ¯ä¼šé€šè¿‡ç½‘ç»œå‘é€ã€‚æˆ‘ä»¬åœ¨è™šæ‹Ÿå·¥ä¸š3Dåœºæ™¯ä¸­è¿›è¡Œäº†å®éªŒï¼Œå¹¶æµ‹é‡äº†åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨æˆ‘ä»¬çš„å‹ç¼©æ–¹æ³•ä¼ è¾“è§†é¢‘æµçš„æ— äººæœºæ‰€èƒ½å®ç°çš„å‹ç¼©èŠ‚çœã€‚</p><h2 id="A-Proposed-NeRF-based-compression"><a href="#A-Proposed-NeRF-based-compression" class="headerlink" title="A. Proposed NeRF-based compression"></a>A. Proposed NeRF-based compression</h2><p>è™½ç„¶å¹¿æ³›ä½¿ç”¨çš„è§†é¢‘å‹ç¼©ç®—æ³•ä½¿ç”¨å…‰æµæ¥ç¼–ç å¸§é—´çš„å·®å¼‚ï¼Œä½†ç”±äºä¸€äº›å¸§çš„å˜åŒ–ä¸èƒ½ç”¨å‰ä¸€å¸§çš„è§†è§‰æµå˜æ¢æ¥æè¿°ï¼Œå› æ­¤é™åˆ¶å¢åŠ äº†éœ€è¦æ·»åŠ åˆ°æ¯ä¸€å¸§çš„ä¿¡æ¯é‡[103]ã€‚å¦ä¸€æ–¹é¢ï¼Œnerfå¯ä»¥æå–é€šè¿‡å¹¿æ³›çš„3Dè½¬æ¢è·å¾—çš„è§†å›¾ä¿¡æ¯ã€‚<br>ç”±äºNeRFå¯¹å®Œæ•´3Dåœºæ™¯çš„äº†è§£ï¼Œä¸ä¼ ç»Ÿçš„è§†é¢‘å‹ç¼©ç›¸æ¯”ï¼Œå®ƒå…·æœ‰ä¹‹å‰æ‰€æœ‰ç¼–ç å¸§ä¸­æœªè§çš„åƒç´ çŸ¥è¯†ã€‚ä¾‹å¦‚ï¼Œå½“è§†å›¾æŒ«æŠ˜ç§»åŠ¨åˆ°è§†é¢‘ä¸­æ˜¾ç¤ºè¿™äº›æ—¶ï¼Œè§†è§‰æµæ— æ³•è®¿é—®è§†å›¾è¾¹ç¼˜ä»¥å¤–çš„æœªè§åƒç´ çš„ä¿¡æ¯ã€‚åŒæ ·ï¼Œå½“ç‰©ä½“åœ¨æ—‹è½¬è¿‡ç¨‹ä¸­è¢«é®æŒ¡çš„éƒ¨åˆ†å˜å¾—å¯è§æ—¶ï¼Œå®ƒä¹Ÿæ²¡æœ‰å…³äºè¿™äº›éƒ¨åˆ†çš„ä¿¡æ¯ã€‚<br>é‡è¦çš„æ˜¯ï¼Œç»è¿‡è®­ç»ƒçš„NeRFçš„æƒé‡æ¯”ä¸ºå­¦ä¹ çš„3Dåœºæ™¯ç”Ÿæˆçš„å•ä¸ª2Dè§†å›¾å›¾åƒå ç”¨çš„æ•°æ®å­˜å‚¨ç©ºé—´æ›´å°‘[16]ã€‚<br>æˆ‘ä»¬æ‰€æœ‰çš„å®éªŒéƒ½ä½¿ç”¨äº†H.264å‹ç¼©ç®—æ³•ã€‚åœ¨H.264ä¸­ï¼Œå‹ç¼©å¸§æµåŒ…æ‹¬æ‰€è°“çš„Iå¸§å’ŒPå¸§ã€‚Iå¸§åŒ…å«å®Œæ•´çš„å›¾åƒä¿¡æ¯ï¼ŒPå¸§ä»…ç¼–ç Iå¸§ä¸­ç¼–ç çš„å›¾åƒä¸å…¶æ—¶é—´ç›¸é‚»å›¾åƒä¹‹é—´çš„å·®å¼‚æ•°æ®[104]ã€‚åœ¨å‹ç¼©è§†é¢‘ä¸­ï¼Œæ¯nå¸§æ˜¯ä¸€ä¸ªIå¸§ï¼Œåœ¨å‹ç¼©å¼€å§‹å‰né€šå¸¸è¢«ç¡®å®šä¸ºä¸€ä¸ªå¸¸æ•°ã€‚<br>åœ¨ç»™å®šåœºæ™¯ä¸Šå¯¹NeRFè¿›è¡Œé¢„è®­ç»ƒåï¼Œå‹ç¼©è§†é¢‘ä¸­é€šå¸¸å­˜å‚¨åœ¨ç¬¬ä¸€å¸§ä¸­çš„æ•´å¸§ä¿¡æ¯å¯ä»¥è¢«çœç•¥ï¼ŒNeRFæ ¹æ®éœ€è¦ä»…ä»æ‘„åƒæœºå§¿æ€ä¿¡æ¯ä¸­ç”Ÿæˆï¼Œæ‰€éœ€æ•°æ®å°‘äº1kbã€‚å¯¹äºç½‘ç»œä¸Šçš„è§†é¢‘æµï¼Œå‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½ä½¿ç”¨NeRFåœ¨æ„Ÿå…´è¶£çš„åœºæ™¯ä¸Šè®­ç»ƒçš„å‰¯æœ¬ï¼Œå› æ­¤ä¸¤è€…éƒ½å¯ä»¥ä½¿ç”¨NeRFç”Ÿæˆçš„å›¾åƒè€Œä¸æ˜¯å‘é€Iå¸§ã€‚<br>é€‚åˆæ— äººæœºç”¨ä¾‹åœºæ™¯çš„ç½‘ç»œæ¶æ„åŒ…æ‹¬åœ¨MECç½‘ç»œä¸­åˆ†é…è®¡ç®—è´Ÿè½½ï¼Œä»¥ä¾¿å°†nerfç›¸å…³çš„è®¡ç®—ä»æ— äººæœºå¸è½½åˆ°è¾¹ç¼˜æœåŠ¡å™¨ã€‚æˆ‘ä»¬çš„å‹ç¼©æ–¹æ³•å’ŒMECç½‘ç»œæ¶æ„çš„è®¾è®¡å¦‚å›¾2æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821160422.png" alt="image.png"><br><em>(a)æ— äººæœºæ‘„åƒæœºæ•æ‰ç¯å¢ƒã€‚ç›¸æœºçš„çœŸå®å¸§å’Œå§¿æ€è¢«æ— çº¿ä¼ è¾“åˆ°é™„è¿‘çš„å¤šå€è¾¹ç¼˜è®¡ç®—(MEC)æœåŠ¡å™¨ã€‚(b) MECæœåŠ¡å™¨é‡‡ç”¨NeRFæ¨¡å‹è¿›è¡ŒåŸºäºç›¸æœºå§¿æ€çš„æ–°è§†å›¾åˆæˆã€‚H.264ç¼–è§£ç å™¨å¯¹realå¸§å’ŒNeRFå¸§è¿›è¡Œç¼–ç ï¼Œå¾—åˆ°åŒ…å«å®ƒä»¬å·®å¼‚çš„På¸§ï¼Œå¹¶éšå§¿æ€é€šè¿‡ç½‘ç»œä¼ è¾“ã€‚(c)æ¥æ”¶å™¨ä½¿ç”¨H.264ç¼–è§£ç å™¨ä»På¸§å’Œä»ç›¸æœºå§¿æ€ç”Ÿæˆçš„æœ¬åœ°NeRFå¸§é‡å»ºçœŸå®å¸§ã€‚</em></p><h2 id="B-Experimental-design-and-results"><a href="#B-Experimental-design-and-results" class="headerlink" title="B. Experimental design and results"></a>B. Experimental design and results</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨è¡¨2ä¸­åˆ—å‡ºäº†æ‰€æœ‰é‡è¦çš„ä»¿çœŸå‚æ•°ã€‚ä½œä¸ºNeRFæ¨¡å‹ï¼Œä½¿ç”¨çš„æ˜¯Instant-NGP[99]ï¼Œæ²¡æœ‰ä»»ä½•è¶…å‚æ•°æ”¹å˜æˆ–æ¶æ„ä¿®æ”¹ã€‚æˆ‘ä»¬å‡†å¤‡äº†ä¸€ä¸ªå®éªŒæ¥è¯æ˜æ–°å‹åŸºäºNeRFçš„å‹ç¼©ç®—æ³•åœ¨å›¾2æ‰€ç¤ºçš„å·¥ä¸š3Dåœºæ™¯ä¸­çš„æ€§èƒ½ï¼Œå¹¶é€šè¿‡åœ¨Blender 3Då»ºæ¨¡è½¯ä»¶ä¸­<strong>æ¸²æŸ“å·¥ä¸š3Dåœºæ™¯æ¥ç”ŸæˆNeRFçš„è®­ç»ƒæ•°æ®é›†</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821161057.png" alt="image.png"></p><p>å®éªŒç¤ºæ„å›¾å¦‚å›¾3æ‰€ç¤ºï¼Œå…¶ä¸­ä¸€æ¶æ— äººæœºå¸¦ç€ç›¸æœºåœ¨è™šæ‹Ÿç¯å¢ƒä¸­é£è¡Œï¼Œå¹¶å¯¹æ²¿å…¶è½¨è¿¹æ•è·çš„å¸§è¿›è¡Œç´¢å¼•æ–¹æ¡ˆã€‚è¯¥å›¾è¿˜è¯´æ˜äº†NeRFåœ¨å¸§é‡å»ºè¿‡ç¨‹ä¸­å¼•å…¥çš„ä¸€äº›è´¨é‡é€€åŒ–ä¼ªå½±ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821161801.png" alt="image.png"><br><em>ä¸€æ¶æ— äººæœºæ‘„åƒæœºåœ¨è™šçº¿æ— äººæœºè½¨è¿¹ä¸Šçš„ç‚¹æ•æ‰å›¾åƒã€‚å›¾åƒçš„ç´¢å¼•ä»0åˆ°158ï¼Œè¿™ç§ç´¢å¼•ä¹Ÿåœ¨å›¾5-7ä¸­ä½¿ç”¨ã€‚ç´¢å¼•ä¸º10çš„å¸§SSIMæœ€å·®ï¼Œå¦‚å›¾5æ‰€ç¤ºã€‚ä»è¿™ä¸ªæ¡†æ¶è£å‰ªçš„åŒºåŸŸï¼Œé€šè¿‡NeRFé‡å»ºï¼Œè¢«æ˜¾ç¤ºä¸ºçªå‡ºSSIMé€€åŒ–çš„åŸå› ã€‚</em></p><p>å›¾4æ˜¾ç¤ºäº†ä»£è¡¨PSNRæŒ‡æ ‡çš„å››æ¡æµ‹é‡æ›²çº¿ï¼Œå®ƒè¯„ä¼°äº†NeRFé‡å»º3Dåœºæ™¯è§†å›¾çš„è´¨é‡ä¸åŸå§‹è§†å›¾è´¨é‡çš„æ¯”è¾ƒã€‚è¿™äº›æµ‹é‡æ˜¯ä»æ¨¡æ‹Ÿæ— äººæœºè½¨è¿¹æœŸé—´æ•è·çš„å•ä¸ªå¸§ä¸­è·å¾—çš„ï¼Œæ¯ä¸ªå¸§åˆ†é…ä¸€ä¸ªindexèŒƒå›´ä»0åˆ°158ã€‚PSNRæ›²çº¿å¯¹åº”äºè¡¨2ä¸­åˆ—å‡ºçš„ä¸åŒåˆ†è¾¨ç‡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸åŒæŒ‡æ ‡çš„PSNRå€¼ä¸åŒï¼Œè¡¨æ˜é‡å»ºè´¨é‡ä¸åŒã€‚æœ‰è¶£çš„æ˜¯ï¼Œå½“å°è¯•æ›´é«˜çš„åˆ†è¾¨ç‡æ—¶ï¼Œå¯å®ç°çš„PSNRä¼šé™ä½ã€‚ç„¶è€Œï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<strong>åœ¨500å’Œ720åˆ†è¾¨ç‡ä¸‹ï¼ŒPSNRå€¼æ˜¯ç›¸ä¼¼çš„ï¼Œåœ¨è¿™ä¸ªåˆ†è¾¨ç‡èŒƒå›´å†…ï¼ŒPSNRå’Œåˆ†è¾¨ç‡ä¹‹é—´è¡¨ç°å‡ºæ›´å¥½çš„æƒè¡¡</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821161912.png" alt="image.png"><br><em>ç”¨PSNR (dB)æµ‹é‡äº†æ— äººæœºæ²¿ä¸‰ç»´åœºæ™¯è½¨è¿¹çš„NeRFå¸§é‡å»ºè´¨é‡ã€‚</em></p><p>å›¾5æ˜¾ç¤ºäº†å¯¹åº”çš„ä¸€ç»„åˆ†è¾¨ç‡ç›®æ ‡çš„SSIMã€‚SSIMæµ‹é‡å€¼ä¸åŒ;ç„¶è€Œï¼Œæ•´ä½“è¡Œä¸ºä¿æŒä¸€è‡´ï¼Œæ‰€æœ‰åˆ†è¾¨ç‡éƒ½éµå¾ªä¸PSNRç›¸ä¼¼çš„è¶‹åŠ¿ã€‚æ­¤å¤–ï¼Œ<strong>åœ¨500å’Œ720åˆ†è¾¨ç‡ä¸‹</strong>å®ç°çš„SSIMä¹Ÿæœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œè¿™è¿›ä¸€æ­¥æ”¯æŒäº†è¿™æ ·ä¸€ä¸ªæ¦‚å¿µï¼Œ<strong>å³åœ¨SSIMä¸­æ— éœ€åšå‡ºé‡å¤§å¦¥åå°±å¯ä»¥å®ç°æ›´é«˜çš„åˆ†è¾¨ç‡</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821162121.png" alt="image.png"><br><em>åˆ©ç”¨SSIMæµ‹é‡äº†æ— äººæœºä¸‰ç»´åœºæ™¯æ²¿è½¨è¿¹çš„NeRFå¸§é‡æ„è´¨é‡</em></p><p>å›¾6æ˜¾ç¤ºäº†ä¸åŒåˆ†è¾¨ç‡ä¸‹å‹ç¼©èŠ‚çœçš„ç™¾åˆ†æ¯”ã€‚æˆ‘ä»¬çš„æ–¹æ³•çš„å‹ç¼©èŠ‚çœæ˜¯ç›¸å¯¹äºH.264å‹ç¼©å¾—åˆ°çš„ä¸€ç»„å¸§å¯¹Iåˆ°På¸§æ¥è®¡ç®—çš„ã€‚æˆ‘ä»¬ä½¿ç”¨å…¬å¼100 <em> Isize/(Isize + Psize)æ¥è®¡ç®—å‹ç¼©èŠ‚çœï¼Œå…¶ä¸­Isizeå’ŒPsizeåˆ†åˆ«æ˜¯Iå¸§å’ŒPå¸§çš„å¤§å°ã€‚ç”±äºæˆ‘ä»¬ä¸é€šè¿‡ç½‘ç»œä¼ è¾“Iå¸§ï¼Œè€Œæ˜¯ä½¿ç”¨NeRFç”Ÿæˆå®ƒï¼Œå› æ­¤<em>*Isizeå Isize + Psizeæ€»æ•°çš„ç™¾åˆ†æ¯”è¡¨ç¤ºèŠ‚çœ</em></em></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821162214.png" alt="image.png"><br><em>ç›¸å¯¹äºH.264çš„å‹ç¼©èŠ‚çœå®ç°äº†å•ä¸ªå›¾åƒæ²¿æ— äººæœºè½¨è¿¹é€šè¿‡3Dåœºæ™¯ã€‚</em></p><p>æˆ‘ä»¬ç»˜åˆ¶äº†é€šè¿‡æ‰€æå‡ºçš„å‹ç¼©æ–¹æ³•æ²¿æ— äººæœºè½¨è¿¹å¯¹ä¸åŒå¸§åˆ†è¾¨ç‡ä»300 Ã—168åˆ°1920 Ã— 1080(å…¨é«˜æ¸…)çš„159ä¸ªè¿ç»­å¸§æ‰€è·å¾—çš„å‹ç¼©å¢ç›Šã€‚ä¸»è¦ç»“æœæ˜¯å‹ç¼©èŠ‚çœä¸å¸§åˆ†è¾¨ç‡æˆåæ¯”ã€‚å¯¹äº1920x1080åˆ†è¾¨ç‡ï¼Œå‹ç¼©èŠ‚çœç™¾åˆ†æ¯”çš„å€¼ä»45- 48%åˆ°300x168åˆ†è¾¨ç‡æ—¶çš„66- 74%ä¸ç­‰ã€‚<strong>ä½åˆ†è¾¨ç‡èŠ‚çœçš„ä¼ è¾“æ•°æ®æ›´å¤š</strong></p><p><strong>åˆ†è¾¨ç‡å’Œå‹ç¼©èŠ‚çœç™¾åˆ†æ¯”çš„åæ¯”å…³ç³»åˆ°nerfç”Ÿæˆå›¾åƒçš„ç¼ºé™·</strong>ã€‚å·²ç»è§‚å¯Ÿåˆ°ï¼ŒåŸå§‹å’Œnerfç”Ÿæˆçš„å›¾åƒçš„é«˜é¢‘ä¿¡å·æˆåˆ†åœ¨é™å°ºåº¦æœŸé—´ä¸¢å¤±ã€‚è¿™ç§ç°è±¡å¯ä»¥çœ‹ä½œæ˜¯æœ‰æŸå‹ç¼©çš„ä¸€ç§å½¢å¼ï¼Œé€šè¿‡å»é™¤NeRFå¼•å…¥çš„é«˜é¢‘ä¼ªå½±ï¼Œä½¿NeRFç”Ÿæˆçš„å›¾åƒæ›´æ¥è¿‘åœ°é¢çœŸå®è§†å›¾ã€‚SSIMçš„è¡Œä¸ºæ”¯æŒè¿™äº›è§‚å¯Ÿç»“æœã€‚å®ƒä»¥ä¸€ç§ä¼¼ä¹ä¸å‹ç¼©èŠ‚çœç›¸å…³çš„æ–¹å¼éšç€åˆ†è¾¨ç‡çš„é™ä½è€Œæé«˜ã€‚å¯¹æ¯”ï¼Œåˆ†åˆ«è§å›¾5å’Œå›¾6å¯¹åº”çš„SSIMå’Œå‹ç¼©ç‰¹æ€§ã€‚<br>æˆ‘ä»¬ä½¿ç”¨çš„åˆ†è¾¨ç‡èŒƒå›´ä½ç«¯çš„ç›¸å¯¹è¾ƒä½çš„å€¼é€‚ç”¨äºå¤šä¸ªé‡è¦åœºæ™¯ã€‚å¦‚æœè§†é¢‘ç”¨äºè§†è§‰æœºå™¨å­¦ä¹ ä¸‹æ¸¸æ¨¡å‹ï¼Œä¾‹å¦‚cnnï¼Œç”±äºå†…å­˜é™åˆ¶ï¼Œç›®å‰æœ€å…ˆè¿›çš„é¢„è®­ç»ƒæ¨¡å‹é€šå¸¸åªèƒ½ä»¥ç›¸å¯¹è¾ƒä½çš„åˆ†è¾¨ç‡å·¥ä½œï¼Œæœ€é«˜å¯è¾¾800 Ã— 600ã€‚</p><h2 id="C-Computational-and-energy-tradeoffs-of-NeRF-based-video-compression"><a href="#C-Computational-and-energy-tradeoffs-of-NeRF-based-video-compression" class="headerlink" title="C. Computational and energy tradeoffs of NeRF-based video compression"></a>C. Computational and energy tradeoffs of NeRF-based video compression</h2><p>æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œä¸ä¼ ç»Ÿçš„å‹ç¼©æŠ€æœ¯ç›¸æ¯”ï¼Œ<strong>ä½¿ç”¨NeRFå¯ä»¥å®ç°æ˜¾è‘—çš„å‹ç¼©èŠ‚çœï¼Œä½†ä»£ä»·æ˜¯æ›´é«˜çš„è®¡ç®—å’Œèƒ½æºéœ€æ±‚</strong>ã€‚è¿™å¯ä»¥é€šè¿‡è®¾è®¡åˆé€‚çš„ç½‘ç»œä½“ç³»ç»“æ„(å¦‚MEC)æ¥å‡å°‘ï¼Œè¯¥ä½“ç³»ç»“æ„å°†è®¡ç®—èµ„æºæ”¾ç½®åœ¨é€šä¿¡ç«¯ç‚¹é™„è¿‘<br>è™½ç„¶è¿™æ ·çš„é…ç½®è¦æ±‚æ— äººæœºåœ¨æ²¡æœ‰æˆ‘ä»¬çš„å‹ç¼©æ–¹æ³•çš„æƒ…å†µä¸‹å‘MECæœåŠ¡å™¨å‘é€å•ä¸ªæ— äººæœºè§†é¢‘æµï¼Œä½†ä»æœåŠ¡å™¨å‘å‡ºçš„æµé‡ä»ç„¶æ˜æ˜¾è¾ƒä½ã€‚è¿™offloadsäº†å·¥å‚ç½‘ç»œèŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹èšåˆäº†æ¥è‡ªå¤šä¸ªé“¾æ¥çš„æµé‡ï¼Œé€šå¸¸ä¼šç»å†æœ€é«˜çš„ç½‘ç»œè´Ÿè½½ï¼Œä¾‹å¦‚ï¼Œè®¸å¤šè¿™æ ·çš„æ— äººæœºæ‘„åƒå¤´æµã€‚åœ¨ç½‘ç»œè¾¹ç¼˜æœ¬åœ°æä¾›é«˜ååé‡å’Œä½å»¶è¿Ÿé€šå¸¸æˆæœ¬æ›´ä½ï¼Œä¹Ÿæ›´å®¹æ˜“ï¼Œåœ¨é‚£é‡Œä¸å­˜åœ¨è¿™ç§æµé‡èšåˆçš„é—®é¢˜ã€‚<br>æ ¹æ®å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„è®¡ç®—èƒ½åŠ›ï¼Œæœ‰å¤šç§å¯èƒ½çš„è®¡ç®—å¸è½½é…ç½®ã€‚NeRFè®¡ç®—å¯ä»¥å¸è½½åˆ°é è¿‘å‹ç¼©è§†é¢‘å‘é€æ–¹ã€æ¥æ”¶æ–¹æˆ–ä¸¤è€…çš„è¾¹ç¼˜æœåŠ¡å™¨ã€‚å¦‚æœå‘é€æ–¹æˆ–æ¥æ”¶æ–¹ä¸å—ç”µæ± æˆ–è®¡ç®—èµ„æºçš„é™åˆ¶ï¼Œåˆ™ä¸éœ€è¦å¸è½½ã€‚ç„¶è€Œï¼Œç”±äºåœ¨æˆ‘ä»¬çš„æ¨¡æ‹Ÿåœºæ™¯ä¸­ï¼Œå‘é€æ–¹æ˜¯ä¸€ä¸ªç”µæ± å—é™çš„æ— äººæœºï¼Œ<strong>å› æ­¤å°†åŸºäºnerfçš„å‹ç¼©å·¥ä½œè´Ÿè½½å¸è½½åˆ°è¾¹ç¼˜æœåŠ¡å™¨MECå¹¶å‘é€é«˜ååé‡æµæ˜¯æœ‰ç›Šçš„</strong>ã€‚</p><h1 id="PROOF-OF-CONCEPT-II-OBSTACLE-AVOIDANCE-USING-D-NERF"><a href="#PROOF-OF-CONCEPT-II-OBSTACLE-AVOIDANCE-USING-D-NERF" class="headerlink" title="PROOF-OF-CONCEPT II. : OBSTACLE AVOIDANCE USING D-NERF"></a>PROOF-OF-CONCEPT II. : OBSTACLE AVOIDANCE USING D-NERF</h1><p>å…³äºåŠ¨æ€NeRFæ¦‚å¿µéªŒè¯å®éªŒï¼Œæˆ‘ä»¬åœ¨é‡å¤æœºæ¢°æ‰‹è‡‚è¿åŠ¨çš„3DåŠ¨ç”»å›¾åƒä¸Šè®­ç»ƒ<strong>D-NeRF</strong>ã€‚ç”±äºè¿™äº›åŠ¨ä½œçš„é‡å¤æ€§ï¼ŒD-NeRFå¯ä»¥æ ¹æ®è¿‡å»çš„æ‰‹è‡‚ä½ç½®æ¥é¢„æµ‹æœªæ¥çš„æ‰‹è‡‚è¿åŠ¨ã€‚</p><h2 id="A-Proposed-D-NeRF-based-obstacle-avoidance"><a href="#A-Proposed-D-NeRF-based-obstacle-avoidance" class="headerlink" title="A. Proposed D-NeRF-based obstacle avoidance"></a>A. Proposed D-NeRF-based obstacle avoidance</h2><p>å¯¹äºD-NeRFä¸­åŠ¨æ€åœºæ™¯çš„å•ä¸ªæ—¶é—´ç¬é—´ï¼Œæœ‰å¤šç§åœºæ™¯å‡ ä½•æå–æ–¹æ³•ï¼Œå¯ç”¨äºé¿éšœã€‚ç”±äºè¯¸å¦‚å…‰çº¿è¡Œè¿›ä¹‹ç±»çš„æ–¹æ³•ç›¸å¯¹è¾ƒæ…¢ï¼Œæˆ‘ä»¬å¯¹ä¸€ç»„å…‰çº¿ä½¿ç”¨è§†å·®å›¾ã€‚è§†å·®å›¾æ˜¯å¯¹ä¸€å¯¹ç«‹ä½“å›¾åƒä¹‹é—´çš„è§†è·ç¦»æˆ–åƒç´ è¿åŠ¨çš„åº¦é‡ï¼Œå¯ç”¨äºä¼°è®¡åœºæ™¯çš„æ·±åº¦ã€‚<strong>è§†å·®å›¾å› æ­¤å¸®åŠ©æˆ‘ä»¬ä¼°è®¡ä¸ç»™å®šåƒç´ ç›¸äº¤çš„å…‰çº¿ä¸æœ€è¿‘éšœç¢ç‰©è¡¨é¢ç›¸äº¤çš„è·ç¦»</strong>ã€‚ç”±äºä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥æ£€æµ‹æˆ–é¢„æµ‹ä¸æ— äººæœºè¾¹ç•Œä½“çš„ç¢°æ’æ˜¯å¾®ä¸è¶³é“çš„ï¼Œå› æ­¤æˆ‘ä»¬ä»å®éªŒä¸­çœç•¥äº†ç¢°æ’æ£€æµ‹ï¼Œå¹¶ç›´æ¥å…³æ³¨ç”Ÿæˆçš„è§†å·®å›¾çš„æ•ˆç”¨å’Œè´¨é‡ã€‚<br>è¿åŠ¨é¢„æµ‹éœ€è¦ä¸å®æ—¶æ‰‹è‡‚3Då§¿åŠ¿åŒæ­¥ï¼Œå¹¶å°†å…¶ä¸å­¦ä¹ åˆ°çš„åŠ¨æ€åœºæ™¯æ—¶é—´è½´ä¸Šçš„è¿‡å»å§¿åŠ¿ç›¸åŒ¹é…ã€‚å‡ ç§è¶…å‡ºæˆ‘ä»¬å·¥ä½œèŒƒå›´çš„æ–¹æ³•å¯ç”¨äºå§¿æ€ç¡®å®šï¼Œä¾‹å¦‚[105]ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å±•ç¤ºæœºå™¨äººæ‰‹è‡‚å’Œç§»åŠ¨æœºå™¨äºº(åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæ— äººæœº)ä¹‹é—´é¿å…ç¢°æ’çš„å¯èƒ½æ€§ã€‚è¿™ä¸ªç”¨ä¾‹æ˜¾ç„¶å¯ä»¥æ‰©å±•åˆ°å…¶ä»–å…·æœ‰é‡å¤ç§»åŠ¨æ¨¡å¼çš„å·¥ä¸šè¿‡ç¨‹ã€‚æˆ‘ä»¬åŸºäºd - nerfçš„é¿éšœè®¾è®¡å¦‚å›¾7æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821170702.png" alt="image.png"><br><em>a)å…·æœ‰ç‰¹å®šç›¸æœºå§¿æ€çš„æ— äººæœºåœ¨tæ—¶åˆ»æ•è·ç›®æ ‡b) D-NeRFæ¨¡å‹ä»¥RGBå›¾ã€ä¸é€æ˜åº¦å›¾å’Œè§†å·®å›¾çš„å½¢å¼è¾“å‡ºæŒ‡å®šæ—¶é—´tç›¸æœºå§¿æ€çš„æ–°è§†å›¾ï¼Œå¦‚å›¾8æ‰€ç¤ºã€‚c)ä¸é€æ˜åº¦å›¾å’Œè§†å·®å›¾æ˜¯æ— äººæœºè¿›è¡Œé¿éšœæˆ–è·¯å¾„è§„åˆ’çš„å…³é”®ç»„ä»¶ã€‚</em></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821170743.png" alt="image.png"><br><em>ä»ä»£è¡¨æœºå™¨äººæ‰‹è‡‚çš„D-NeRFæ¨¡å‹ä¸­æå–çš„æ‰€æœ‰åœ°å›¾ï¼Œåœ¨t1 = 0.05å’Œt3 = 0.95ä¸¤ä¸ªæ—¶é—´ç¬é—´è¿›è¡Œæ¸²æŸ“ã€‚a) RGBåœ°å›¾æè¿°äº†æ–°çš„è§†å›¾åˆæˆã€‚b)ä¸é€æ˜åº¦å›¾æ˜¾ç¤ºå…‰çº¿é€šè¿‡ç¯å¢ƒçš„ä¼ è¾“ï¼Œç¯å¢ƒå¯ä»¥æ˜¯é€æ˜çš„ã€éƒ¨åˆ†ä¸é€æ˜çš„æˆ–å®Œå…¨ä¸é€æ˜çš„ã€‚c)å¤„ç†åçš„è§†å·®å›¾ä»¥çƒ­å›¾çš„å½¢å¼æ•æ‰è¿™äº›æ—¶åˆ»é‡å¤è¿åŠ¨æ—¶çš„æœºæ¢°è‡‚è¡¨é¢æ·±åº¦ã€‚</em></p><h2 id="B-Experimental-design-and-results-1"><a href="#B-Experimental-design-and-results-1" class="headerlink" title="B. Experimental design and results"></a>B. Experimental design and results</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨IIIä¸­åˆ—å‡ºäº†æ‰€æœ‰é‡è¦çš„ä»¿çœŸå‚æ•°ã€‚åœ¨D-NeRFè®­ç»ƒä¸­ï¼Œåˆ©ç”¨ç¯ç»•æœºæ¢°è‡‚çš„åœ†å½¢è½¨è¿¹çš„è™šæ‹Ÿæ‘„åƒæœºæ”¶é›†ç»˜åˆ¶çš„æœºæ¢°è‡‚åŠ¨ç”»è§†å›¾ï¼Œæ¨¡æ‹Ÿæ— äººæœºçš„é£è¡Œè½¨è¿¹ã€‚ä¸ºäº†è·å¾—å¯ç”¨äºç¢°æ’æ£€æµ‹çš„æè¿°æœºæ¢°è‡‚è¡¨é¢çš„æ·±åº¦æ•°æ®ï¼Œè€ƒè™‘äº†D-NeRFç”Ÿæˆçš„è§†å·®å›¾ã€‚ç”±è®­ç»ƒD-NeRFç”Ÿæˆçš„åŸå§‹è§†å·®å›¾åŒ…å«ä¸€å®šæ•°é‡çš„è§†è§‰å™ªå£°ï¼Œå¯è§ä¸ºä¸è§„åˆ™ç‚¹ã€‚å®ƒä»¬ç¦»æœºæ¢°è‡‚çš„è½®å»“æ—¢è¿œåˆè¿‘ã€‚æœ‰å‡ ç§å¯èƒ½çš„æ–¹æ³•æ¥å»é™¤è¿™ç§å™ªå£°[106]ï¼Œ[107]ï¼Œ[108]ï¼Œå¯¹äºè¿™ä¸ªç‰¹æ®Šçš„ç”¨ä¾‹ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†[109]ä¸­æå‡ºçš„å›¾åƒå¤„ç†æŠ€æœ¯ã€‚æˆ‘ä»¬æ¼”ç¤ºäº†è®­ç»ƒå¥½çš„D-NeRFæ¸²æŸ“ï¼Œå™ªå£°å»é™¤è’™ç‰ˆï¼Œå¹¶åœ¨t1 = 0.05å’Œt3 = 0.95ä¸¤ä¸ªæ—¶é—´ç¬é—´è·å¾—æ·±åº¦æ•°æ®ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821171943.png" alt="image.png"></p><p>å›¾8aæ˜¾ç¤ºäº†è¿™äº›æ—¶é—´ç¬é—´çš„D-NeRFæ¸²æŸ“ã€‚ä¸ºäº†å¾—åˆ°æœ€ç»ˆçš„æ¸…ç†åçš„è§†å·®å›¾ï¼Œå¦‚å›¾8cæ‰€ç¤ºï¼Œæˆ‘ä»¬é¦–å…ˆç”Ÿæˆäº†ä¸€ä¸ªä¸é€æ˜åº¦å›¾ï¼Œå®ƒæ¯”è§†å·®å›¾æä¾›äº†æ›´é«˜æ°´å¹³å’Œè´¨é‡çš„æ‰‹è‡‚è½®å»“ç»†èŠ‚ï¼Œä½†ä¹ŸåŒ…å«äº†è¾ƒå°çš„å™ªå£°ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯¹ä¸é€æ˜åº¦å›¾åº”ç”¨ç®€å•çš„ä¾µèš€å’Œæ‰©å¼ OpenCVæ“ä½œåºåˆ—ï¼Œä»¥åˆ›å»ºå¦‚å›¾8bæ‰€ç¤ºçš„å¹²å‡€çš„ä¸é€æ˜åº¦è’™ç‰ˆï¼Œè¯¥è’™ç‰ˆå¯ç”¨ä½œè£å‰ªè’™ç‰ˆæ¥è£å‰ªåŸå§‹çš„å™ªå£°è§†å·®å›¾ã€‚ä¸é€æ˜åº¦åœ°å›¾ä¾µèš€å»é™¤äº†å¤§éƒ¨åˆ†ä¸å±äºæœºæ¢°è‡‚è½®å»“çš„å™ªå£°ï¼Œ<strong>å› ä¸ºæœºæ¢°è‡‚æ˜¯åœºæ™¯ä¸­æœ€å¤§çš„è¿ç»­ç‰©ä½“</strong>ã€‚åœ¨è†¨èƒ€æ­¥éª¤ä¸­è¯»å–äº†æœºæ¢°è‡‚è½®å»“ä¸Šçš„å¤§éƒ¨åˆ†åƒç´ ã€‚æˆ‘ä»¬æŠŠå»å™ªåçš„ä¸é€æ˜åº¦è´´å›¾è£å‰ªå‡ºæ¥çš„è§†å·®è´´å›¾ç§°ä¸ºå¤„ç†åçš„è§†å·®è´´å›¾ã€‚</p><p>D-NeRFç”Ÿæˆçš„è§†å·®å›¾çš„è´¨é‡ä»¥PSNRè¡¡é‡ï¼Œç›¸å¯¹äºé€šè¿‡åŠ¨æ€åœºæ™¯çš„è¿ç»­å¸§çš„è®­ç»ƒã€æµ‹è¯•å’ŒéªŒè¯è½¨è¿¹çš„åœ°é¢çœŸå®è§†å·®å›¾ï¼Œå¦‚å›¾9æ‰€ç¤ºã€‚ä¸ºäº†å¯è§†åŒ–å¤šæ¨¡æ€æ•°æ®åˆ†å¸ƒï¼Œé‡‡ç”¨æ ¸å¯†åº¦ä¼°è®¡ï¼Œè®­ç»ƒã€æµ‹è¯•å’ŒéªŒè¯æ•°æ®é›†åˆ†åˆ«ç”¨ç°è‰²ã€è“è‰²å’Œé»„è‰²è¡¨ç¤ºã€‚å¯è§†åŒ–ä¸­è¾ƒå®½çš„éƒ¨åˆ†è¡¨ç¤ºå­˜åœ¨æŸäº›å€¼çš„å¯èƒ½æ€§è¾ƒé«˜ã€‚è“ç‚¹è¡¨ç¤ºä¸­ä½æ•°ï¼Œæ°´å¹³çº¿è¡¨ç¤ºå¹³å‡å¹³å‡å€¼ï¼Œç®±å½¢å›¾æè¿°äº†å››åˆ†ä½æ•°èŒƒå›´ï¼Œå¯ä»¥æ·±å…¥äº†è§£åˆ†å¸ƒçš„ä¸­é—´éƒ¨åˆ†çš„åˆ†å¸ƒæƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<strong>åŒ…å«åœ¨D-NeRFè®­ç»ƒé›†ä¸­çš„å¸§å¯¹ä¸¤ä¸ªæµ‹é‡çš„è´¨é‡æŒ‡æ ‡åç¦»åŸºæœ¬äº‹å®çš„ç¨‹åº¦è¾ƒå°</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821171222.png" alt="image.png"><br><em>ä½¿ç”¨PSNRåº¦é‡æ¯”è¾ƒBlenderå’ŒD-NeRFå›¾åƒä¹‹é—´çš„è§†å·®å›¾ã€‚</em></p><p>å›¾10æ‰€ç¤ºçš„ç»“æœè¡¨æ˜ï¼Œä¸PSNRç›¸æ¯”ï¼ŒSSIMæµ‹é‡çš„æ·±åº¦é‡å»ºå¹³å‡è´¨é‡æ˜æ˜¾æ›´é«˜ã€‚å¯¹äºä¸Šä¸‹æ–‡ä¸­ï¼Œé‡è¦çš„æ˜¯è¦æ³¨æ„å“ªäº›å€¼è¢«è®¤ä¸ºå¯¹SSIMå’ŒPSNRæœ‰åˆ©ã€‚SSIMçš„å–å€¼èŒƒå›´æ˜¯0.97åˆ°1.0ï¼Œè€ŒPSNRçš„å–å€¼èŒƒå›´æ˜¯30 dBåˆ°50 dBã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230821171347.png" alt="image.png"><br><em>ä½¿ç”¨SSIMåº¦é‡æ¯”è¾ƒBlenderå’ŒD-NeRFå›¾åƒä¹‹é—´çš„è§†å·®å›¾ã€‚</em></p><p>åœ¨é¿å…ç¢°æ’çš„èƒŒæ™¯ä¸‹ï¼ŒSSIMåº¦é‡å¯¹å¤§å‹ç»“æ„é‡å»ºè´¨é‡çš„å…³æ³¨å˜å¾—è‡³å…³é‡è¦ã€‚è¿™æ˜¯ç”±äºç¢°æ’è¾¹ç•Œä½“ç§¯ï¼Œå®ƒåªèƒ½ç²—ç•¥åœ°è¿‘ä¼¼éšœç¢ç‰©çš„å‡ ä½•å½¢çŠ¶ï¼Œå› æ­¤æä¾›äº†ä¸€ä¸ªå¯å®¹å¿çš„è¯¯å·®å¹…åº¦ï¼Œä»¥åº”å¯¹è¾ƒå°çš„æ·±åº¦ä¼°è®¡åå·®ã€‚PSNRæŒ‡æ ‡å¯¹è¿™ç§å°å°ºåº¦åå·®æ›´ä¸ºæ•æ„Ÿ;ç„¶è€Œï¼Œé¿å…ç¢°æ’å¾ˆå°‘éœ€è¦å®Œç¾çš„ç²¾åº¦ã€‚æ­¤å¤–ï¼Œæœªæ¥çš„ç ”ç©¶å¯ä»¥æ¢ç´¢PSNRå’ŒSSIMä¹‹é—´çš„å·®å¼‚å¦‚ä½•å½±å“å…¶ä»–ç‰¹å®šçš„ä¸‹æ¸¸ä»»åŠ¡ï¼Œä»è€Œä¸ºè¿›ä¸€æ­¥çš„ç ”ç©¶æä¾›æœ‰ä»·å€¼çš„è§è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Review </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Audio Visualization</title>
      <link href="/Project/Audio%20Visualization/"/>
      <url>/Project/Audio%20Visualization/</url>
      
        <content type="html"><![CDATA[<p>Audio Visualization(ä¸€èˆ¬ç”¨æ¥æ˜¾ç¤ºéŸ³ä¹çš„é¢‘è°±ä¿¡æ¯ï¼Œå¯ä»¥ç›´è§‚åœ°çœ‹å‡ºä¹å™¨/äººå£°çš„é¢‘ç‡)</p><span id="more"></span><blockquote><p><a href="https://github.com/search?q=Visualization+audio+python&amp;type=repositories">Github: Visualization audio python</a><br><a href="https://github.com/aiXander/Realtime_PyAudio_FFT">aiXander/Realtime_PyAudio_FFT: Realtime audio analysis in Python, using PyAudio and Numpy to extract and visualize FFT features from streaming audio.</a></p></blockquote><p><strong>å°è¯•ä½¿ç”¨å„ç§ç®—æ³•è¿›è¡ŒéŸ³é¢‘å¯è§†åŒ–</strong></p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><p><strong>Python Lib</strong>: pyaudio</p><h1 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h1><h2 id="FFT"><a href="#FFT" class="headerlink" title="FFT"></a>FFT</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/666803939?">è¶…çº§è¯¦ç»†çš„FFTç®—æ³•ï¼ˆä¸€ï¼‰â€”â€”ç¦»æ•£å‚…é‡Œå¶å˜æ¢ - çŸ¥ä¹</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>3D Gaussian Splatting</title>
      <link href="/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/3D%20Gaussian%20Splatting/"/>
      <url>/3DReconstruction/Multi-view/Explicit%20Volumetric/GS-based/3D%20Gaussian%20Splatting/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>3D Gaussian Splatting for Real-Time Radiance Field Rendering</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://scholar.google.at/citations?user=jeasMB0AAAAJ&amp;hl=en">Bernhard Kerbl</a><em> 1,2      <a href="https://grgkopanas.github.io/">Georgios Kopanas</a></em> 1,2      <a href="https://people.mpi-inf.mpg.de/~tleimkue/">Thomas LeimkÃ¼hler</a>3      <a href="http://www-sop.inria.fr/members/George.Drettakis/">George Drettakis</a>1,2</td></tr><tr><td>Conf/Jour</td><td>SIGGRAPH</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/">3D Gaussian Splatting for Real-Time Radiance Field Rendering (inria.fr)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4786887855003664385&amp;noteId=1920399556132916992">3D Gaussian Splatting for Real-Time Radiance Field Rendering (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230817194605.png" alt="image.png"></p><ul><li>å°†ç‚¹æè¿°æˆé«˜æ–¯ä½“ï¼Œå¯¹ç‚¹äº‘è¿›è¡Œ<strong>ä¼˜åŒ–</strong>ï¼ˆç‚¹äº‘æ¨¡å‹ï¼‰<ul><li>é«˜è´¨é‡ã€éç»“æ„åŒ–çš„ç¦»æ•£è¡¨ç¤ºâ€”â€”é«˜æ–¯ä½“ï¼šå‡å€¼æ§åˆ¶ä½ç½®ï¼Œåæ–¹å·®æ§åˆ¶é«˜æ–¯ä½“å½¢çŠ¶ï¼ˆç¼©æ”¾+æ—‹è½¬ï¼‰</li><li>é’ˆå¯¹3Dé«˜æ–¯ç‰¹æ€§çš„ä¼˜åŒ–æ–¹æ³•ï¼Œå¹¶åŒæ—¶è¿›è¡Œè‡ªé€‚åº”å¯†åº¦æ§åˆ¶</li></ul></li><li>Splattingçš„æ¸²æŸ“æ–¹å¼ï¼ŒåŒºåˆ«äºä½“æ¸²æŸ“<ul><li>å®ç°äº†ä½¿ç”¨GPUè¿›è¡Œå¿«é€Ÿå¯å¾®çš„æ¸²æŸ“ï¼Œå…è®¸å„å‘å¼‚æ€§çš„æŠ›é›ªçƒ(Splatting)å’Œå¿«é€Ÿåå‘ä¼ æ’­</li></ul></li></ul><span id="more"></span><h1 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h1><p>ä¸€ç»´é«˜æ–¯åˆ†å¸ƒ$x\sim\mathcal{N}(\mu,\sigma^2)$</p><ul><li>æ¦‚ç‡å¯†åº¦å‡½æ•°$p(x)=\frac1{\sigma\sqrt{2\pi}}exp(-\frac{(x-\mu)^2}{2\sigma^2})$</li></ul><p>ä¸‰ç»´æ ‡å‡†é«˜æ–¯ï¼š$\mathbf{v}=[a,b,c]^T$ </p><script type="math/tex; mode=display">\begin{aligned}p(\mathbf{v})& =p(a)p(b)p(c)  \\&=\frac1{(2\pi)^{3/2}}exp(-\frac{a^2+b^2+c^2}2) \\&=\frac1{(2\pi)^{3/2}}exp(-\frac12\mathbf{v}^T\mathbf{v})\end{aligned}</script><p>å…¶ä¸­p(a),p(b),p(c)~N(0,1)</p><p>ç„¶å<strong>æ¨å¹¿åˆ°ä¸€èˆ¬ä¸‰ç»´é«˜æ–¯</strong>ï¼š$\mathbf{v}=\mathbf{A}(\mathbf{x}-\mu)$<br>$p(\mathbf{v})=\frac{1}{(2\pi)^{3/2}}exp(-\frac{1}{2}(\mathbf{x}-\mu)^T\mathbf{A}^T\mathbf{A}(\mathbf{x}-\mu))$ , å…¶ä¸­$\mathbf{x}=[x,y,z]^T$ ï¼Œ $\mu=[E(x),E(y),E(z)]^T$ </p><ul><li>å¯¹ä¸¤è¾¹æ±‚ç§¯åˆ†ï¼š$\int p(\mathbf{v}) d\mathbf{v} = 1=\iiint_{-\infty}^{+\infty}\frac{1}{(2\pi)^{3/2}}exp(-\frac{1}{2}(\mathbf{x}-\mu)^T\mathbf{A}^T\mathbf{A}(\mathbf{x}-\mu))d\mathbf{v}$ ,å…¶ä¸­$d\mathbf{v}=d(\mathbf{A}(\mathbf{x}-\mu))=|\mathbf{A}|d\mathbf{x}$</li><li>å¾—åˆ°$1 =\iiint_{-\infty}^{+\infty}\frac{|\mathbf{A}|}{(2\pi)^{3/2}}exp(-\frac{1}{2}(\mathbf{x}-\mu)^T\mathbf{A}^T\mathbf{A}(\mathbf{x}-\mu))d\mathbf{x}$</li><li>å› æ­¤ä¸€èˆ¬ä¸‰ç»´é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°$p(\mathbf{x})=\dfrac{|\mathbf{A}|}{(2\pi)^{3/2}}exp(-\dfrac{1}{2}(\mathbf{x}-\mu)^T\mathbf{A}^T\mathbf{A}(\mathbf{x}-\mu))$</li></ul><p>æ¦‚å¯†å‡½æ•°-åæ–¹å·®çŸ©é˜µå½¢å¼ï¼š$p(\mathbf{x})=\frac1{|\Sigma|^{1/2}(2\pi)^{3/2}}exp(-\frac12(\mathbf{x}-\mu)^T\Sigma^{-1}(\mathbf{x}-\mu))$<br>åæ–¹å·®çŸ©é˜µ(å¯¹ç§°çŸ©é˜µ)-ç‰¹å¾å€¼åˆ†è§£ï¼š$\Sigma=U\Lambda U^T$  ï¼Œå…¶ä¸­$U^{T}U=I$</p><ul><li>æœ¬æ–‡ç®€åŒ–ä¸º$G(x)=e^{-\frac{1}{2}(x)^{T}\Sigma^{-1}(x)}$</li><li>åæ–¹å·®çŸ©é˜µå¯ä»¥çœ‹åšä¸€ä¸ªç¼©æ”¾$\Lambda = S S^T$(ç‰¹å¾å€¼)å’Œä¸€ä¸ªæ—‹è½¬$U = R$(ç‰¹å¾å‘é‡)<ul><li>$\Sigma=RSS^{T}R^{T}$,  $\Sigma=\mathbf{A}\mathbf{A}^{T}= (U\Lambda^{1/2})(U\Lambda^{1/2})^T$</li></ul></li></ul><blockquote><p><a href="https://www.zhihu.com/tardis/zm/art/37609917?source_id=1003">å¦‚ä½•ç›´è§‚åœ°ç†è§£ã€Œåæ–¹å·®çŸ©é˜µã€ï¼Ÿ (zhihu.com)</a></p></blockquote><h1 id="L-amp-D-amp-C"><a href="#L-amp-D-amp-C" class="headerlink" title="L&amp;D&amp;C"></a>L&amp;D&amp;C</h1><p>æˆ‘ä»¬çš„æ–¹æ³•å¹¶éæ²¡æœ‰å±€é™æ€§ã€‚In regions where the scene is not well observed we have artifacts;åœ¨è¿™äº›åœ°åŒºï¼Œå…¶ä»–æ–¹æ³•ä¹Ÿå¾ˆå›°éš¾(ä¾‹å¦‚ï¼Œå›¾11ä¸­çš„Mip-NeRF360)ã€‚å°½ç®¡å„å‘å¼‚æ€§é«˜æ–¯å‡½æ•°å…·æœ‰å¦‚ä¸Šæ‰€è¿°çš„è®¸å¤šä¼˜ç‚¹ï¼Œä½†æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥åˆ›å»ºæ‹‰é•¿çš„ä¼ªå½±æˆ–â€œæ–‘ç‚¹â€é«˜æ–¯å‡½æ•°(è§å›¾12);åŒæ ·ï¼Œä»¥å‰çš„æ–¹æ³•åœ¨è¿™äº›æƒ…å†µä¸‹ä¹Ÿå¾ˆå›°éš¾ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230818141809.png" alt="image.png"></p><p>å½“æˆ‘ä»¬çš„ä¼˜åŒ–äº§ç”Ÿè¾ƒå¤§çš„é«˜æ–¯åˆ†å¸ƒæ—¶ï¼Œå¶å°”ä¹Ÿä¼šå‡ºç°å¼¹å‡ºç°è±¡popping artifacts;è¿™å¾€å¾€å‘ç”Ÿåœ¨è§†è§‰ä¾èµ–çš„åŒºåŸŸã€‚äº§ç”Ÿè¿™äº›å¼¹å‡ºä¼ªå½±çš„ä¸€ä¸ªåŸå› æ˜¯å…‰æ …åŒ–å™¨ä¸­çš„ä¿æŠ¤å¸¦å¯¹é«˜æ–¯ä¿¡å·çš„å¾®ä¸è¶³é“çš„æŠ‘åˆ¶ã€‚ä¸€ç§æ›´æœ‰åŸåˆ™çš„ç­›é€‰æ–¹æ³•å°†å‡è½»è¿™äº›äººä¸ºå› ç´ ã€‚å¦ä¸€ä¸ªå› ç´ æ˜¯æˆ‘ä»¬ç®€å•çš„å¯è§æ€§ç®—æ³•ï¼Œè¿™å¯èƒ½å¯¼è‡´é«˜æ–¯å‡½æ•°çªç„¶åˆ‡æ¢æ·±åº¦/æ··åˆé¡ºåºã€‚<strong>è¿™å¯ä»¥é€šè¿‡åé”¯é½¿æ¥è§£å†³ï¼Œæˆ‘ä»¬æŠŠå®ƒç•™ç»™æœªæ¥çš„å·¥ä½œ</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ç›®å‰æ²¡æœ‰å°†ä»»ä½•æ­£åˆ™åŒ–åº”ç”¨äºæˆ‘ä»¬çš„ä¼˜åŒ–;è¿™æ ·åšå°†æœ‰åŠ©äºå¤„ç†çœ‹ä¸è§çš„åŒºåŸŸå’Œå¼¹å‡ºçš„å·¥ä»¶ã€‚</p><p>è™½ç„¶æˆ‘ä»¬åœ¨å®Œæ•´çš„è¯„ä¼°ä¸­ä½¿ç”¨äº†ç›¸åŒçš„è¶…å‚æ•°ï¼Œä½†æ—©æœŸçš„å®éªŒè¡¨æ˜ï¼Œé™ä½ä½ç½®å­¦ä¹ ç‡å¯¹äºåœ¨éå¸¸å¤§çš„åœºæ™¯(ä¾‹å¦‚åŸå¸‚æ•°æ®é›†)ä¸­æ”¶æ•›æ˜¯å¿…è¦çš„ã€‚<br>å°½ç®¡ä¸ä»¥å‰çš„åŸºäºç‚¹çš„è§£å†³æ–¹æ¡ˆç›¸æ¯”ï¼Œæˆ‘ä»¬éå¸¸ç´§å‡‘ï¼Œä½†æˆ‘ä»¬çš„<strong>å†…å­˜æ¶ˆè€—</strong>æ˜æ˜¾é«˜äºåŸºäºnerfçš„è§£å†³æ–¹æ¡ˆã€‚åœ¨å¤§åœºæ™¯çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œåœ¨æˆ‘ä»¬æœªä¼˜åŒ–çš„åŸå‹ä¸­ï¼ŒGPUå†…å­˜æ¶ˆè€—å³°å€¼å¯ä»¥è¶…è¿‡20gbã€‚ç„¶è€Œï¼Œè¿™ä¸ªæ•°å­—å¯ä»¥é€šè¿‡ä»”ç»†çš„åº•å±‚ä¼˜åŒ–é€»è¾‘å®ç°(ç±»ä¼¼äºInstantNGP)è€Œæ˜¾è‘—é™ä½ã€‚<strong>æ¸²æŸ“ç»è¿‡è®­ç»ƒçš„åœºæ™¯éœ€è¦è¶³å¤Ÿçš„GPUå†…å­˜æ¥å­˜å‚¨å®Œæ•´çš„æ¨¡å‹</strong>(å¤§å‹åœºæ™¯éœ€è¦å‡ ç™¾å…†å­—èŠ‚)ï¼Œ<strong>å…‰æ …åŒ–éœ€è¦é¢å¤–çš„30-500å…†å†…å­˜</strong>ï¼Œå…·ä½“å–å†³äºåœºæ™¯å¤§å°å’Œå›¾åƒåˆ†è¾¨ç‡ã€‚æˆ‘ä»¬æ³¨æ„åˆ°æœ‰å¾ˆå¤šæœºä¼šå¯ä»¥è¿›ä¸€æ­¥å‡å°‘æˆ‘ä»¬çš„æ–¹æ³•çš„å†…å­˜æ¶ˆè€—ã€‚ç‚¹äº‘çš„å‹ç¼©æŠ€æœ¯æ˜¯ä¸€ä¸ªç ”ç©¶å¾—å¾ˆå¥½çš„é¢†åŸŸ[De Queiroz and Chou 2016];çœ‹çœ‹è¿™äº›æ–¹æ³•å¦‚ä½•é€‚åº”æˆ‘ä»¬çš„è¡¨ç°å°†æ˜¯å¾ˆæœ‰è¶£çš„ã€‚</p><h2 id="DISCUSSION-AND-CONCLUSIONS"><a href="#DISCUSSION-AND-CONCLUSIONS" class="headerlink" title="DISCUSSION AND CONCLUSIONS"></a>DISCUSSION AND CONCLUSIONS</h2><p>æˆ‘ä»¬å·²ç»æå‡ºäº†ç¬¬ä¸€ç§æ–¹æ³•ï¼ŒçœŸæ­£å…è®¸å®æ—¶ï¼Œé«˜è´¨é‡çš„è¾å°„åœºæ¸²æŸ“ï¼Œåœ¨å„ç§åœºæ™¯å’Œæ•è·é£æ ¼ï¼ŒåŒæ—¶éœ€è¦è®­ç»ƒæ—¶é—´ä¸æœ€å¿«çš„ä»¥å‰çš„æ–¹æ³•ç«äº‰ã€‚<br>æˆ‘ä»¬é€‰æ‹©çš„3Dé«˜æ–¯åŸè¯­ä¿ç•™äº†ä¼˜åŒ–ä½“æ¸²æŸ“çš„å±æ€§ï¼ŒåŒæ—¶ç›´æ¥å…è®¸å¿«é€ŸåŸºäºé£æº…çš„æ …æ ¼åŒ–ã€‚æˆ‘ä»¬çš„å·¥ä½œè¡¨æ˜ï¼Œä¸å¹¿æ³›æ¥å—çš„è§‚ç‚¹ç›¸åï¼Œ<strong>è¿ç»­è¡¨ç¤ºå¹¶ä¸æ˜¯ä¸¥æ ¼å¿…è¦çš„ï¼Œä»¥å…è®¸å¿«é€Ÿå’Œé«˜è´¨é‡çš„è¾å°„åœºè®­ç»ƒ</strong>ã€‚<br>æˆ‘ä»¬çš„å¤§éƒ¨åˆ†(~ 80%)è®­ç»ƒæ—¶é—´éƒ½èŠ±åœ¨Pythonä»£ç ä¸Šï¼Œå› ä¸ºæˆ‘ä»¬åœ¨PyTorchä¸­æ„å»ºäº†æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥å…è®¸å…¶ä»–äººè½»æ¾ä½¿ç”¨æˆ‘ä»¬çš„æ–¹æ³•ã€‚åªæœ‰æ …æ ¼åŒ–ä¾‹ç¨‹æ˜¯ä½œä¸ºä¼˜åŒ–çš„CUDAå†…æ ¸å®ç°çš„ã€‚æˆ‘ä»¬æœŸæœ›å°†å‰©ä½™çš„ä¼˜åŒ–å®Œå…¨ç§»æ¤åˆ°CUDAï¼Œä¾‹å¦‚ï¼Œåœ¨InstantNGP [MuÌˆller et al . 2022]ï¼Œå¯ä»¥ä¸ºæ€§èƒ½è‡³å…³é‡è¦çš„åº”ç”¨ç¨‹åºæä¾›è¿›ä¸€æ­¥çš„æ˜¾ç€åŠ é€Ÿã€‚<br>æˆ‘ä»¬è¿˜å±•ç¤ºäº†æ„å»ºå®æ—¶æ¸²æŸ“åŸåˆ™çš„é‡è¦æ€§ï¼Œåˆ©ç”¨GPUçš„åŠŸèƒ½å’Œè½¯ä»¶å…‰æ …åŒ–ç®¡é“æ¶æ„çš„é€Ÿåº¦ã€‚è¿™äº›è®¾è®¡é€‰æ‹©æ˜¯è®­ç»ƒå’Œå®æ—¶æ¸²æŸ“æ€§èƒ½çš„å…³é”®ï¼Œæä¾›äº†æ¯”ä»¥å‰çš„ä½“ç§¯å°„çº¿marchingæ€§èƒ½çš„ç«äº‰ä¼˜åŠ¿ã€‚<br>çœ‹çœ‹æˆ‘ä»¬çš„é«˜æ–¯å‡½æ•°æ˜¯å¦å¯ä»¥ç”¨æ¥å¯¹æ•è·çš„åœºæ™¯è¿›è¡Œç½‘æ ¼meshé‡å»ºï¼Œè¿™å°†æ˜¯å¾ˆæœ‰è¶£çš„ã€‚é™¤äº†å¹¿æ³›ä½¿ç”¨ç½‘æ ¼çš„å®é™…æ„ä¹‰ä¹‹å¤–ï¼Œè¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£æˆ‘ä»¬çš„æ–¹æ³•åœ¨ä½“ç§¯å’Œè¡¨é¢è¡¨ç¤ºä¹‹é—´çš„è¿ç»­ä½“ä¸­çš„ä½ç½®ã€‚<br>æ€»ä¹‹ï¼Œæˆ‘ä»¬å·²ç»æå‡ºäº†ç¬¬ä¸€ä¸ªå®æ—¶æ¸²æŸ“è§£å†³æ–¹æ¡ˆçš„äº®åº¦åœºï¼Œä¸æ¸²æŸ“è´¨é‡åŒ¹é…æœ€æ˜‚è´µçš„ä»¥å‰çš„æ–¹æ³•ï¼Œè®­ç»ƒæ—¶é—´ä¸æœ€å¿«çš„ç°æœ‰è§£å†³æ–¹æ¡ˆç«äº‰ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>è¾å°„åœºæ–¹æ³•æœ€è¿‘å½»åº•æ”¹å˜äº†ç”¨å¤šå¼ ç…§ç‰‡æˆ–è§†é¢‘æ•è·çš„åœºæ™¯çš„æ–°é¢–è§†å›¾åˆæˆã€‚ç„¶è€Œï¼Œå®ç°é«˜è§†è§‰è´¨é‡ä»ç„¶éœ€è¦è®­ç»ƒå’Œæ¸²æŸ“æˆæœ¬é«˜æ˜‚çš„ç¥ç»ç½‘ç»œï¼Œè€Œæœ€è¿‘æ›´å¿«çš„æ–¹æ³•ä¸å¯é¿å…åœ°è¦ç‰ºç‰²é€Ÿåº¦æ¥æ¢å–è´¨é‡ã€‚<br>å¯¹äºæ— ç•Œå’Œå®Œæ•´çš„åœºæ™¯(è€Œä¸æ˜¯å­¤ç«‹çš„å¯¹è±¡)å’Œ1080påˆ†è¾¨ç‡çš„æ¸²æŸ“ï¼Œ<strong>ç›®å‰æ²¡æœ‰ä»»ä½•æ–¹æ³•å¯ä»¥å®ç°å®æ—¶æ˜¾ç¤ºé€Ÿç‡</strong>ã€‚<br>æˆ‘ä»¬ä»‹ç»äº†ä¸‰ä¸ªå…³é”®è¦ç´ ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¿æŒæœ‰ç«äº‰åŠ›çš„è®­ç»ƒæ—¶é—´çš„åŒæ—¶å®ç°æœ€å…ˆè¿›çš„è§†è§‰è´¨é‡ï¼Œé‡è¦çš„æ˜¯èƒ½å¤Ÿ<strong>åœ¨1080påˆ†è¾¨ç‡ä¸‹</strong>å®ç°<strong>é«˜è´¨é‡çš„å®æ—¶</strong>(â‰¥30 fps)æ–°è§†å›¾åˆæˆã€‚</p><ul><li>é¦–å…ˆï¼Œä»ç›¸æœºæ ¡å‡†è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ç¨€ç–ç‚¹å¼€å§‹ï¼Œæˆ‘ä»¬ç”¨3Dé«˜æ–¯åˆ†å¸ƒè¡¨ç¤ºåœºæ™¯ï¼Œè¯¥åˆ†å¸ƒä¿ç•™äº†è¿ç»­ä½“è¾å°„åœºçš„ç†æƒ³å±æ€§ï¼Œç”¨äºåœºæ™¯ä¼˜åŒ–ï¼ŒåŒæ—¶é¿å…äº†åœ¨ç©ºç™½ç©ºé—´ä¸­ä¸å¿…è¦çš„è®¡ç®—;</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬å¯¹ä¸‰ç»´é«˜æ–¯å‡½æ•°è¿›è¡Œäº¤é”™ä¼˜åŒ–/å¯†åº¦æ§åˆ¶ï¼Œç‰¹åˆ«æ˜¯ä¼˜åŒ–å„å‘å¼‚æ€§åæ–¹å·®ï¼Œä»¥å®ç°å¯¹åœºæ™¯çš„å‡†ç¡®è¡¨ç¤º;</li><li>ç¬¬ä¸‰ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ç§å¿«é€Ÿçš„å¯è§†æ€§æ„ŸçŸ¥æ¸²æŸ“ç®—æ³•ï¼Œè¯¥ç®—æ³•æ”¯æŒå„å‘å¼‚æ€§é£æº…splattingï¼Œæ—¢åŠ é€Ÿäº†è®­ç»ƒï¼Œåˆå…è®¸å®æ—¶æ¸²æŸ“ã€‚</li></ul><p>æˆ‘ä»¬åœ¨å‡ ä¸ªå·²å»ºç«‹çš„æ•°æ®é›†ä¸Šå±•ç¤ºäº†æœ€å…ˆè¿›çš„è§†è§‰è´¨é‡å’Œå®æ—¶æ¸²æŸ“ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ç½‘æ ¼å’Œç‚¹æ˜¯æœ€å¸¸è§çš„3Dåœºæ™¯è¡¨ç¤ºï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ˜¾å¼çš„ï¼Œéå¸¸é€‚åˆåŸºäºGPU/ cudaçš„å¿«é€Ÿå…‰æ …åŒ–ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæœ€è¿‘çš„ç¥ç»è¾å°„åœº(NeRF)æ–¹æ³•å»ºç«‹åœ¨è¿ç»­åœºæ™¯è¡¨ç¤ºçš„åŸºç¡€ä¸Šï¼Œé€šå¸¸ä½¿ç”¨ä½“ç§¯å°„çº¿æ¨è¿›ä¼˜åŒ–å¤šå±‚æ„ŸçŸ¥å™¨(MLP)ï¼Œç”¨äºæ•è·åœºæ™¯çš„æ–°è§†å›¾åˆæˆã€‚<br>åŒæ ·ï¼Œè¿„ä»Šä¸ºæ­¢æœ€æœ‰æ•ˆçš„è¾å°„åœºè§£å†³æ–¹æ¡ˆ<strong>å»ºç«‹åœ¨è¿ç»­è¡¨ç¤ºçš„åŸºç¡€ä¸Š</strong>ï¼Œé€šè¿‡æ’å€¼å­˜å‚¨çš„å€¼ï¼Œä¾‹å¦‚ï¼Œä½“ç´ Plenoxels[fridovic - keil and Yu et al. 2022]æˆ–å“ˆå¸ŒInstantNGP[MuÌˆller et al . 2022]ç½‘æ ¼æˆ–ç‚¹Point-nerf:[Xu et al .2022]ã€‚è™½ç„¶è¿™äº›æ–¹æ³•çš„è¿ç»­æ€§æœ‰åŠ©äºä¼˜åŒ–ï¼Œä½†æ¸²æŸ“æ‰€éœ€çš„éšæœºé‡‡æ ·æˆæœ¬å¾ˆé«˜ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´å™ªå£°ã€‚<br>æˆ‘ä»¬å¼•å…¥äº†ä¸€ç§ç»“åˆäº†ä¸¤ç§ä¸–ç•Œæœ€ä½³çš„æ–°æ–¹æ³•: </p><ul><li>æˆ‘ä»¬çš„3Dé«˜æ–¯è¡¨ç¤ºå…è®¸ä¼˜åŒ–æœ€å…ˆè¿›çš„(SOTA)è§†è§‰è´¨é‡å’Œç«äº‰æ€§è®­ç»ƒæ—¶é—´ï¼Œ</li><li>è€Œæˆ‘ä»¬çš„tile-based splattingè§£å†³æ–¹æ¡ˆç¡®ä¿åœ¨å‡ ä¸ªå…ˆå‰å‘å¸ƒçš„æ•°æ®é›†ä¸Šä»¥1080påˆ†è¾¨ç‡ä»¥SOTAè´¨é‡å®æ—¶æ¸²æŸ“Mip-NeRF 360[Barronç­‰äºº2022;æµ·å¾·æ›¼ç­‰äºº2018;Knapitsch et al. 2017]ã€‚</li></ul><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å…è®¸å¯¹å¤šå¼ ç…§ç‰‡æ‹æ‘„çš„åœºæ™¯è¿›è¡Œå®æ—¶æ¸²æŸ“ï¼Œå¹¶ä»¥ä¼˜åŒ–æ—¶é—´åˆ›å»ºè¡¨ç¤ºï¼Œé€Ÿåº¦ä¸ä¹‹å‰é’ˆå¯¹å…¸å‹çœŸå®åœºæ™¯çš„æœ€æœ‰æ•ˆæ–¹æ³•ä¸€æ ·å¿«ã€‚è¿‘æœŸå®ç°å¿«é€Ÿè®­ç»ƒçš„æ–¹æ³•Plenoxelsã€InstantNGPï¼Œä½†éš¾ä»¥è¾¾åˆ°å½“å‰SOTA NeRFæ–¹æ³•(å³Mip-NeRF360)æ‰€è·å¾—çš„è§†è§‰è´¨é‡[Barron et al.2022]ï¼Œè¿™éœ€è¦é•¿è¾¾48å°æ—¶çš„åŸ¹è®­æ—¶é—´ã€‚å¿«é€Ÿä½†è´¨é‡è¾ƒä½çš„äº®åº¦åœºæ–¹æ³•å¯ä»¥æ ¹æ®åœºæ™¯å®ç°äº¤äº’å¼æ¸²æŸ“æ—¶é—´(æ¯ç§’10-15å¸§)ï¼Œä½†<strong>åœ¨é«˜åˆ†è¾¨ç‡ä¸‹æ— æ³•å®ç°å®æ—¶æ¸²æŸ“</strong>ã€‚</p><p>æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆåŸºäºä¸‰ä¸ªä¸»è¦ç»„ä»¶ï¼š</p><ul><li>æˆ‘ä»¬é¦–å…ˆå¼•å…¥ä¸‰ç»´é«˜æ–¯å‡½æ•°ä½œä¸ºçµæ´»å’Œå¯Œæœ‰è¡¨ç°åŠ›çš„åœºæ™¯è¡¨ç¤ºã€‚æˆ‘ä»¬ä»ä¸ä»¥å‰ç±»ä¼¼nerfçš„æ–¹æ³•ç›¸åŒçš„è¾“å…¥å¼€å§‹ï¼Œå³ä½¿ç”¨è¿åŠ¨ç»“æ„(SfM)æ ¡å‡†çš„ç›¸æœº[Snavelyç­‰äºº]ã€‚å¹¶ä½¿ç”¨ä½œä¸ºSfMè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†å…è´¹ç”Ÿæˆçš„ç¨€ç–ç‚¹äº‘åˆå§‹åŒ–3Dé«˜æ–¯é›†ã€‚ä¸å¤§å¤šæ•°éœ€è¦å¤šè§†å›¾ç«‹ä½“(MVS)æ•°æ®çš„åŸºäºç‚¹çš„è§£å†³æ–¹æ¡ˆç›¸å[Alievç­‰äººï¼Œ2020;Kopanasç­‰äººï¼Œ2021;ckert et al. 2022]ï¼Œæˆ‘ä»¬<strong>ä»…ä½¿ç”¨SfMç‚¹ä½œä¸ºè¾“å…¥å°±è·å¾—äº†é«˜è´¨é‡çš„ç»“æœ</strong>ã€‚<ul><li>è¯·æ³¨æ„ï¼Œ<strong>å¯¹äºnerfåˆæˆæ•°æ®é›†ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å³ä½¿åœ¨éšæœºåˆå§‹åŒ–çš„æƒ…å†µä¸‹ä¹Ÿèƒ½è¾¾åˆ°é«˜è´¨é‡</strong>ã€‚æˆ‘ä»¬å±•ç¤ºäº†3Dé«˜æ–¯å‡½æ•°æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸€ç§å¯å¾®çš„ä½“ç§¯è¡¨ç¤ºï¼Œä½†å®ƒä»¬ä¹Ÿå¯ä»¥be rasterizedé€šè¿‡å°†å®ƒä»¬æŠ•å½±åˆ°2Då¹¶åº”ç”¨æ ‡å‡†$\alpha$-æ··åˆï¼Œä½¿ç”¨ç­‰æ•ˆçš„å›¾åƒå½¢æˆæ¨¡å‹ä½œä¸ºNeRFã€‚</li></ul></li><li>æˆ‘ä»¬æ–¹æ³•çš„ç¬¬äºŒä¸ªç»„æˆéƒ¨åˆ†æ˜¯ä¼˜åŒ–ä¸‰ç»´é«˜æ–¯å‡½æ•°çš„å±æ€§-ä¸‰ç»´ä½ç½®ï¼Œä¸é€æ˜åº¦$\alpha$ï¼Œå„å‘å¼‚æ€§åæ–¹å·®å’Œçƒé¢è°æ³¢(SH)ç³»æ•°-ä¸è‡ªé€‚åº”å¯†åº¦æ§åˆ¶æ­¥éª¤äº¤é”™ï¼Œåœ¨<strong>ä¼˜åŒ–è¿‡ç¨‹ä¸­æˆ‘ä»¬æ·»åŠ å’Œå¶å°”åˆ é™¤3Dé«˜æ–¯</strong>ã€‚ä¼˜åŒ–è¿‡ç¨‹äº§ç”Ÿäº†ä¸€ä¸ªç›¸å½“ç´§å‡‘ã€éç»“æ„åŒ–å’Œç²¾ç¡®çš„åœºæ™¯è¡¨ç¤º(æ‰€æœ‰æµ‹è¯•åœºæ™¯çš„1-5ç™¾ä¸‡é«˜æ–¯)ã€‚</li><li>æˆ‘ä»¬æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªä¹Ÿæ˜¯æœ€åä¸€ä¸ªå…ƒç´ æ˜¯æˆ‘ä»¬çš„å®æ—¶æ¸²æŸ“è§£å†³æ–¹æ¡ˆï¼Œ<strong>å®ƒä½¿ç”¨å¿«é€ŸGPUæ’åºç®—æ³•</strong>ï¼Œå¹¶å—åˆ°tile-based rasterizationçš„å¯å‘ï¼Œéµå¾ªæœ€è¿‘çš„å·¥ä½œ[Lassnerå’ŒZollhofer 2021]ã€‚</li><li>ç„¶è€Œï¼Œç”±äºæˆ‘ä»¬çš„3Dé«˜æ–¯è¡¨ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œrespects visibility orderingçš„å„å‘å¼‚æ€§splattingâ€”â€”è¿™è¦å½’åŠŸäºæ’åºå’Œğ›¼-blending ï¼Œå¹¶é€šè¿‡è·Ÿè¸ªå°½å¯èƒ½å¤šçš„splatsçš„éå†å®ç°å¿«é€Ÿå‡†ç¡®çš„backwardã€‚ </li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æä¾›äº†ä»¥ä¸‹è´¡çŒ®:<br>â€¢å¼•å…¥å„å‘å¼‚æ€§3Dé«˜æ–¯ä½œä¸ºé«˜è´¨é‡ï¼Œéç»“æ„åŒ–çš„è¾å°„åœºè¡¨ç¤ºã€‚<br>â€¢3Dé«˜æ–¯å±æ€§çš„ä¼˜åŒ–æ–¹æ³•ï¼Œä¸è‡ªé€‚åº”å¯†åº¦æ§åˆ¶äº¤é”™ï¼Œä¸ºæ•è·çš„åœºæ™¯åˆ›å»ºé«˜è´¨é‡çš„è¡¨ç¤ºã€‚<br>â€¢GPUçš„å¿«é€Ÿã€å¯å¾®åˆ†æ¸²æŸ“æ–¹æ³•ï¼Œå…·æœ‰å¯è§†æ€§æ„ŸçŸ¥ï¼Œå…è®¸å„å‘å¼‚æ€§splattingå’Œå¿«é€Ÿåå‘ä¼ æ’­ï¼Œä»¥å®ç°é«˜è´¨é‡çš„æ–°è§†å›¾åˆæˆã€‚</p><p>æˆ‘ä»¬åœ¨å…ˆå‰å‘å¸ƒçš„æ•°æ®é›†ä¸Šçš„ç»“æœè¡¨æ˜ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥ä»å¤šè§†å›¾capturesä¸­ä¼˜åŒ–æˆ‘ä»¬çš„3Dé«˜æ–¯åˆ†å¸ƒ</strong>ï¼Œå¹¶è·å¾—ä¸ä¹‹å‰æœ€ä½³è´¨é‡çš„éšå¼è¾å°„åœºæ–¹æ³•ç›¸åŒæˆ–æ›´å¥½çš„è´¨é‡ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å®ç°ä¸æœ€å¿«æ–¹æ³•ç›¸ä¼¼çš„è®­ç»ƒé€Ÿåº¦å’Œè´¨é‡ï¼Œé‡è¦çš„æ˜¯ä¸ºæ–°è§†å›¾åˆæˆæä¾›é«˜è´¨é‡çš„å®æ—¶æ¸²æŸ“ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>é¦–å…ˆç®€è¦æ¦‚è¿°äº†ä¼ ç»Ÿçš„é‡å»ºï¼Œç„¶åè®¨è®ºäº†åŸºäºç‚¹çš„æ¸²æŸ“å’ŒåŸºäºRFçš„æ¸²æŸ“ï¼Œè®¨è®ºäº†å®ƒä»¬çš„ç›¸ä¼¼æ€§; è¾å°„åœºæ˜¯ä¸€ä¸ªå¹¿é˜”çš„é¢†åŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬åªå…³æ³¨ç›´æ¥ç›¸å…³çš„å·¥ä½œã€‚æœ‰å…³è¯¥é¢†åŸŸçš„å®Œæ•´è¦†ç›–ï¼Œè¯·å‚é˜…æœ€è¿‘çš„ä¼˜ç§€è°ƒæŸ¥[Tewari et al. 2022;è°¢ç­‰ã€‚2022]ã€‚</p><h3 id="Traditional-Scene-Reconstruction-and-Rendering"><a href="#Traditional-Scene-Reconstruction-and-Rendering" class="headerlink" title="Traditional Scene Reconstruction and Rendering"></a>Traditional Scene Reconstruction and Rendering</h3><p>ç¬¬ä¸€ç§æ–°é¢–çš„è§†å›¾åˆæˆæ–¹æ³•æ˜¯åŸºäºå…‰åœºï¼Œé¦–å…ˆå¯†é›†é‡‡æ ·[Gortlerç­‰äººï¼Œ1996;Levoyå’ŒHanrahan 1996]ï¼Œç„¶åå…è®¸éç»“æ„åŒ–æ•è·[Buehlerç­‰ï¼Œ2001]ã€‚ç»“æ„-ä»è¿åŠ¨(SfM)çš„å‡ºç°[Snavelyç­‰ã€‚2006]å¼€åˆ›äº†ä¸€ä¸ªå…¨æ–°çš„é¢†åŸŸï¼Œä¸€ç»„ç…§ç‰‡å¯ä»¥ç”¨æ¥åˆæˆæ–°çš„viewsã€‚SfMåœ¨ç›¸æœºæ ¡å‡†æœŸé—´ä¼°è®¡ç¨€ç–ç‚¹äº‘ï¼Œæœ€åˆç”¨äºç®€å•çš„3Dç©ºé—´å¯è§†åŒ–ã€‚éšåçš„å¤šè§†å›¾ç«‹ä½“(MVS)å¤šå¹´æ¥äº§ç”Ÿäº†ä»¤äººå°è±¡æ·±åˆ»çš„å…¨3Dé‡å»ºç®—æ³•[Goeseleç­‰äººï¼Œ2007]ï¼Œä½¿å‡ ç§è§†å›¾åˆæˆç®—æ³•å¾—ä»¥å‘å±•[Chaurasiaç­‰äººï¼Œ2013;Eisemann et al. 2008;æµ·å¾·æ›¼ç­‰äººã€‚2018;Kopanasç­‰äººã€‚2021]ã€‚æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯å°†è¾“å…¥å›¾åƒé‡æ–°æŠ•å½±å’Œèåˆåˆ°æ–°çš„è§†å›¾æ‘„åƒæœºä¸­ï¼Œå¹¶åˆ©ç”¨å‡ ä½•ç»“æ„æ¥æŒ‡å¯¼è¿™ç§é‡æ–°æŠ•å½±ã€‚<strong>è¿™äº›æ–¹æ³•</strong>åœ¨è®¸å¤šæƒ…å†µä¸‹äº§ç”Ÿäº†å¾ˆå¥½çš„ç»“æœï¼Œä½†<strong>å½“MVSç”Ÿæˆä¸å­˜åœ¨çš„å‡ ä½•å½¢çŠ¶æ—¶ï¼Œé€šå¸¸ä¸èƒ½ä»æœªé‡å»ºçš„åŒºåŸŸæˆ–â€œè¿‡åº¦é‡å»ºâ€ä¸­å®Œå…¨æ¢å¤</strong>ã€‚æœ€è¿‘çš„ç¥ç»æ¸²æŸ“ç®—æ³•[Tewari et al. 2022]å¤§å¤§å‡å°‘äº†è¿™ç§ä¼ªå½±ï¼Œé¿å…äº†åœ¨GPUä¸Šå­˜å‚¨æ‰€æœ‰è¾“å…¥å›¾åƒçš„å·¨å¤§æˆæœ¬ï¼Œåœ¨å¤§å¤šæ•°æ–¹é¢éƒ½ä¼˜äºè¿™äº›æ–¹æ³•ã€‚</p><h3 id="Neural-Rendering-and-Radiance-Fields"><a href="#Neural-Rendering-and-Radiance-Fields" class="headerlink" title="Neural Rendering and Radiance Fields"></a>Neural Rendering and Radiance Fields</h3><p>æ·±åº¦å­¦ä¹ æŠ€æœ¯å¾ˆæ—©å°±è¢«ç”¨äºæ–°é¢–è§†å›¾åˆæˆ[Flynn et al. 2016;Zhou et al. 2016]; cnnç”¨äºä¼°è®¡æ··åˆæƒé‡[Hedmanç­‰äººï¼Œ2018]ï¼Œæˆ–ç”¨äºçº¹ç†ç©ºé—´è§£å†³æ–¹æ¡ˆ[Rieglerå’ŒKoltun 2020;ä»–ä»¬ç­‰äººã€‚2019]ã€‚<strong>ä½¿ç”¨åŸºäºmvsçš„å‡ ä½•æ˜¯å¤§å¤šæ•°è¿™äº›æ–¹æ³•çš„ä¸»è¦ç¼ºç‚¹</strong>; æ­¤å¤–ï¼Œä½¿ç”¨cnnè¿›è¡Œæœ€ç»ˆæ¸²æŸ“ç»å¸¸ä¼šå¯¼è‡´æ—¶é—´é—ªçƒtemporal flickering.ã€‚<br>æ–°è§†è§’åˆæˆçš„ä½“ç§¯è¡¨ç¤ºç”±Soft3Dæå‡º[Penner and Zhang 2017]; éšåæå‡ºäº†ä¸ä½“ç§¯ray-marchingç›¸ç»“åˆçš„æ·±åº¦å­¦ä¹ æŠ€æœ¯[Henzlerç­‰äººï¼Œ2019;Sitzmann et al. 2019]åŸºäºè¿ç»­å¯å¾®å¯†åº¦åœºæ¥è¡¨ç¤ºå‡ ä½•ã€‚<strong>ç”±äºæŸ¥è¯¢ä½“ç§¯éœ€è¦å¤§é‡çš„æ ·æœ¬ï¼Œå› æ­¤ä½¿ç”¨ä½“ç§¯å°„çº¿è¡Œè¿›æ¸²æŸ“å…·æœ‰æ˜¾ç€çš„æˆæœ¬</strong>ã€‚ç¥ç»è¾å°„åœº(Neural Radiance Fields, nerf) [Mildenhall et al. 2020]å¼•å…¥äº†é‡è¦æ€§é‡‡æ ·å’Œä½ç½®ç¼–ç æ¥æé«˜è´¨é‡ï¼Œ<strong>ä½†ä½¿ç”¨äº†å¤§å‹å¤šå±‚æ„ŸçŸ¥å™¨ï¼Œå¯¹é€Ÿåº¦äº§ç”Ÿäº†è´Ÿé¢å½±å“</strong>ã€‚NeRFçš„æˆåŠŸå¯¼è‡´äº†åç»­æ–¹æ³•çš„çˆ†ç‚¸å¼å¢é•¿ï¼Œè¿™äº›æ–¹æ³•é€šå¸¸æ˜¯é€šè¿‡å¼•å…¥è§„èŒƒåŒ–ç­–ç•¥æ¥è§£å†³è´¨é‡å’Œé€Ÿåº¦é—®é¢˜; ç›®å‰æœ€å…ˆè¿›çš„æ–°è§†è§’åˆæˆå›¾åƒè´¨é‡æ˜¯Mip-NeRF360 [Barron et al. 2022]ã€‚<strong>è™½ç„¶æ¸²æŸ“è´¨é‡éå¸¸å‡ºè‰²ï¼Œä½†è®­ç»ƒå’Œæ¸²æŸ“æ—¶é—´ä»ç„¶éå¸¸é«˜</strong>; åœ¨æä¾›å¿«é€ŸåŸ¹è®­å’Œå®æ—¶æ¸²æŸ“çš„åŒæ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¾¾åˆ°æˆ–åœ¨æŸäº›æƒ…å†µä¸‹è¶…è¿‡è¿™ç§è´¨é‡ã€‚</p><p>æœ€è¿‘çš„æ–¹æ³•ä¸»è¦é›†ä¸­åœ¨æ›´å¿«çš„è®­ç»ƒå’Œ/æˆ–æ¸²æŸ“ä¸Šï¼Œä¸»è¦æ˜¯é€šè¿‡åˆ©ç”¨ä¸‰ç§è®¾è®¡é€‰æ‹©: <strong>ä½¿ç”¨ç©ºé—´æ•°æ®ç»“æ„æ¥å­˜å‚¨(ç¥ç»)ç‰¹å¾</strong>ï¼Œè¿™äº›ç‰¹å¾éšååœ¨ä½“å°„çº¿è¡Œè¿›æœŸé—´è¢«æ’å€¼ï¼Œ<strong>ä¸åŒçš„ç¼–ç </strong>å’Œ<strong>MLPå®¹é‡</strong>ã€‚è¿™äº›æ–¹æ³•åŒ…æ‹¬ç©ºé—´ç¦»æ•£åŒ–çš„ä¸åŒå˜ä½“different variants of space discretization[Chen et al. 2022b,a;fridovic - keilå’ŒYuç­‰äººã€‚2022;Garbin et al. 2021;æµ·å¾·æ›¼ç­‰äººã€‚2021;Reiserç­‰äººã€‚2021;Takikawaç­‰äººã€‚2021;Wuç­‰äººã€‚2022;Yu et al. 2021]ï¼Œç æœ¬codebooks[Takikawa et al. 2022]ï¼Œä»¥åŠå“ˆå¸Œè¡¨ç­‰ç¼–ç encodings such as hash tables[m<s:1> ller et al. 2022]ï¼Œå…è®¸å®Œå…¨ä½¿ç”¨è¾ƒå°çš„MLPæˆ–å‰è¿°foregoingç¥ç»ç½‘ç»œ[friovich - keil and Yu et al. 2022;Sun et al. 2022]ã€‚<br>è¿™äº›æ–¹æ³•ä¸­æœ€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<br>InstantNGP ï¼Œä½¿ç”¨å“ˆå¸Œç½‘æ ¼å’Œå ç”¨ç½‘æ ¼æ¥åŠ é€Ÿè®¡ç®—ï¼Œå¹¶ä½¿ç”¨è¾ƒå°çš„MLPæ¥è¡¨ç¤ºå¯†åº¦å’Œå¤–è§‚;<br>Plenoxels [friovich - keil and Yu et al. 2022]ä½¿ç”¨ç¨€ç–ä½“ç´ ç½‘æ ¼æ¥æ’å€¼è¿ç»­å¯†åº¦åœºï¼Œå¹¶ä¸”èƒ½å¤Ÿå®Œå…¨æ”¾å¼ƒç¥ç»ç½‘ç»œã€‚<br>ä¸¤è€…éƒ½ä¾èµ–äº<strong>çƒé¢è°æ³¢</strong>: å‰è€…ç›´æ¥è¡¨ç¤ºæ–¹å‘æ•ˆæœï¼Œåè€…å°†å…¶è¾“å…¥ç¼–ç åˆ°é¢œè‰²ç½‘ç»œã€‚è™½ç„¶ä¸¤è€…éƒ½æä¾›äº†å‡ºè‰²çš„ç»“æœï¼Œ<strong>ä½†è¿™äº›æ–¹æ³•ä»ç„¶éš¾ä»¥æœ‰æ•ˆåœ°è¡¨ç¤ºç©ºç™½ç©ºé—´</strong>ï¼Œè¿™éƒ¨åˆ†å–å†³äºåœºæ™¯/æ•è·ç±»å‹ã€‚æ­¤å¤–ï¼Œ<strong>å›¾åƒè´¨é‡</strong>åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Š<strong>å—åˆ°ç”¨äºåŠ é€Ÿçš„ç»“æ„åŒ–ç½‘æ ¼çš„é€‰æ‹©çš„é™åˆ¶</strong>ï¼Œè€Œ<strong>æ¸²æŸ“é€Ÿåº¦</strong>åˆ™<strong>å—åˆ°éœ€è¦ä¸ºç»™å®šçš„å°„çº¿è¡Œè¿›æ­¥éª¤æŸ¥è¯¢è®¸å¤šæ ·æœ¬çš„é˜»ç¢</strong>ã€‚<br>æˆ‘ä»¬ä½¿ç”¨çš„éç»“æ„åŒ–ï¼Œæ˜¾å¼gpuå‹å¥½çš„<strong>3Dé«˜æ–¯å‡½æ•°</strong>å®ç°äº†æ›´å¿«çš„æ¸²æŸ“é€Ÿåº¦å’Œæ›´å¥½çš„è´¨é‡ï¼Œè€Œ<strong>ä¸éœ€è¦ç¥ç»ç»„ä»¶</strong>ã€‚</p><h3 id="Point-Based-Rendering-and-Radiance-Fields"><a href="#Point-Based-Rendering-and-Radiance-Fields" class="headerlink" title="Point-Based Rendering and Radiance Fields"></a>Point-Based Rendering and Radiance Fields</h3><p>åŸºäºç‚¹çš„æ–¹æ³•æœ‰æ•ˆåœ°æ¸²æŸ“ä¸è¿è´¯å’Œéç»“æ„åŒ–çš„å‡ ä½•æ ·æœ¬(å³ç‚¹äº‘)[Gross and Pfister 2011]ã€‚åœ¨å…¶æœ€ç®€å•çš„å½¢å¼ä¸­ï¼Œç‚¹æ ·æœ¬æ¸²æŸ“[Grossman and Dally 1998]æ …æ ¼åŒ–å…·æœ‰å›ºå®šå¤§å°çš„éç»“æ„åŒ–ç‚¹é›†ï¼Œä¸ºæ­¤å®ƒå¯ä»¥åˆ©ç”¨æœ¬åœ°æ”¯æŒçš„ç‚¹ç±»å‹å›¾å½¢api [Sainz and Pajarola 2004]æˆ–GPUä¸Šçš„å¹¶è¡Œè½¯ä»¶æ …æ ¼åŒ–[Laine and Karras 2011; SchuÌˆtz et al . 2022]ã€‚è™½ç„¶å¯¹åº•å±‚æ•°æ®æ˜¯çœŸå®çš„ï¼Œ<strong>ä½†ç‚¹æ ·æœ¬æ¸²æŸ“å­˜åœ¨æ¼æ´ï¼Œå¯¼è‡´æ··å ï¼Œå¹¶ä¸”æ˜¯ä¸¥æ ¼ä¸è¿ç»­çš„</strong>ã€‚é«˜è´¨é‡çš„åŸºäºç‚¹çš„æ¸²æŸ“å¼€åˆ›æ€§å·¥ä½œè§£å†³äº†è¿™äº›é—®é¢˜ï¼Œé€šè¿‡â€œSplattingâ€ç‚¹åŸºå…ƒçš„èŒƒå›´å¤§äºä¸€ä¸ªåƒç´ ï¼Œä¾‹å¦‚åœ†å½¢æˆ–æ¤­åœ†å½¢åœ†ç›˜ï¼Œæ¤­çƒä½“æˆ–å†²æµª[Botschç­‰äººï¼Œ2005;è²æ–¯ç‰¹ç­‰äººã€‚2000;Ren et al. 2002;Zwicker et al. 2001b]ã€‚</p><p>æœ€è¿‘äººä»¬å¯¹åŸºäºç‚¹çš„å¯å¾®åˆ†æ¸²æŸ“æŠ€æœ¯äº§ç”Ÿäº†å…´è¶£[Wilesç­‰äºº2020;Yifan et al. 2019]ã€‚ç”¨ç¥ç»ç‰¹å¾å¢å¼ºç‚¹å¹¶ä½¿ç”¨CNNè¿›è¡Œæ¸²æŸ“[Alievç­‰äºº2020;ckert et al. 2022]å¯¼è‡´å¿«é€Ÿç”šè‡³å®æ—¶çš„è§†å›¾åˆæˆ; <strong>ç„¶è€Œï¼Œå®ƒä»¬ä»ç„¶ä¾èµ–äºåˆå§‹å‡ ä½•å½¢çŠ¶çš„MVS</strong>ï¼Œå› æ­¤ç»§æ‰¿äº†å®ƒçš„artifactsï¼Œæœ€æ˜æ˜¾çš„æ˜¯åœ¨æ— ç‰¹å¾/é—ªäº®åŒºåŸŸæˆ–è–„ç»“æ„ç­‰å›°éš¾æƒ…å†µä¸‹çš„è¿‡åº¦æˆ–é‡å»ºä¸è¶³ã€‚</p><p><strong>Point-based ğ›¼-blending and NeRF-style volumetric rendering</strong> å›¾åƒå½¢æˆæ¨¡å¼åŸºæœ¬ç›¸åŒ. å…·ä½“æ¥è¯´ï¼Œé¢œè‰²cæ˜¯ç”±æ²¿å°„çº¿çš„ä½“ç»˜åˆ¶ç»™å‡ºçš„ï¼š<br>$C=\sum_{i=1}^{N}T_{i}(1-\exp(-\sigma_{i}\delta_{i}))\mathbf{c}_{i}\quad\mathrm{with}\quad T_{i}=\exp\left(-\sum_{j=1}^{i-1}\sigma_{j}\delta_{j}\right),$ Eq.1<br>where </p><ul><li>samples of density ğœ, </li><li>transmittance ğ‘‡ , </li><li>and color c<br>are taken along the ray with intervals $ğ›¿_ğ‘–$ . </li></ul><p><strong>This can be re-written as</strong><br>$C=\sum_{i=1}^{N}T_{i}\alpha_{i}\mathbf{c}_{i},$ å…¶ä¸­ $\alpha_i=(1-\exp(-\sigma_i\delta_i))\text{and}T_i=\prod_{j=1}^{i-1}(1-\alpha_i).$Eq.2</p><p>ä¸€ç§å…¸å‹çš„åŸºäºç¥ç»ç‚¹çš„æ–¹æ³•(ä¾‹å¦‚ï¼Œ[Kopanas et al. 2022, 2021])è®¡ç®—é¢œè‰²cé€šè¿‡å°†é‡å åœ¨åƒç´ ä¸Šçš„Nä¸ªæœ‰åºç‚¹æ··åˆåœ¨ä¸€èµ·ï¼Œå¾—åˆ°ä¸€ä¸ªåƒç´ ;<br>$C=\sum_{i\in\mathcal{N}}c_{i}\alpha_i\prod_{j=1}^{i-1}(1-\alpha_{j}),$Eq.3<br>where </p><ul><li>$c_ğ‘–$ is the color of each point </li><li>$ğ›¼_ğ‘–$ is given é€šè¿‡è®¡ç®—äºŒç»´é«˜æ–¯å‡½æ•°çš„åæ–¹å·® Î£ [Yifan et al . 2019] ä¹˜ä»¥å­¦ä¹ åˆ°çš„æ¯ä¸ªç‚¹çš„ä¸é€æ˜åº¦ã€‚</li></ul><p>ä»Eq. 2å’ŒEq. 3å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œ<strong>å›¾åƒçš„å½¢æˆæ¨¡å‹æ˜¯ç›¸åŒçš„</strong>ã€‚<strong>ç„¶è€Œï¼Œæ¸²æŸ“ç®—æ³•æ˜¯éå¸¸ä¸åŒçš„</strong>ã€‚</p><ul><li>nerfæ˜¯ä¸€ä¸ªè¿ç»­çš„è¡¨ç¤ºï¼Œéšå«åœ°è¡¨ç¤ºç©º/å ç”¨ç©ºé—´; <strong>ä¸ºäº†æ‰¾åˆ°</strong>Eq. 2ä¸­çš„<strong>æ ·æœ¬ï¼Œéœ€è¦è¿›è¡Œæ˜‚è´µçš„éšæœºæŠ½æ ·</strong>ï¼Œç”±æ­¤äº§ç”Ÿå™ªå£°å’Œè®¡ç®—å¼€é”€ã€‚</li><li>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>ç‚¹æ˜¯ä¸€ç§éç»“æ„åŒ–çš„ç¦»æ•£è¡¨ç¤ºï¼Œå®ƒå…·æœ‰è¶³å¤Ÿçš„çµæ´»æ€§ï¼Œå¯ä»¥åˆ›å»ºã€ç ´åå’Œæ›¿æ¢ç±»ä¼¼äºNeRFçš„å‡ ä½•ä½“</strong>ã€‚è¿™æ˜¯é€šè¿‡ä¼˜åŒ–ä¸é€æ˜åº¦å’Œä½ç½®æ¥å®ç°çš„ï¼Œæ­£å¦‚ä¹‹å‰çš„å·¥ä½œ[Kopanasç­‰äººï¼Œ2021]æ‰€ç¤ºï¼ŒåŒæ—¶é¿å…äº†å®Œæ•´ä½“ç§¯è¡¨ç¤ºçš„ç¼ºç‚¹ã€‚</li></ul><p>Pulsar[Lassner and Zollhofer 2021]å®ç°äº†å¿«é€Ÿçƒä½“å…‰æ …åŒ–ï¼Œè¿™å¯å‘äº†æˆ‘ä»¬tile-based and sorting rendererã€‚ç„¶è€Œï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬æƒ³è¦ä¿æŒ(è¿‘ä¼¼)ä¼ ç»Ÿğ›¼-blending on sorted splatsï¼Œä»¥å…·æœ‰ä½“ç§¯è¡¨ç¤ºçš„ä¼˜åŠ¿: ä¸é¡ºåºæ— å…³çš„æ–¹æ³•ç›¸æ¯”order-independentï¼Œæˆ‘ä»¬çš„<strong>æ …æ ¼åŒ–respects visibility order</strong>ã€‚<br>æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªåƒç´ çš„æ‰€æœ‰splatsä¸Šåå‘ä¼ æ’­æ¢¯åº¦ï¼Œå¹¶å¯¹å„å‘å¼‚æ€§splatsè¿›è¡Œå…‰æ …åŒ–ã€‚è¿™äº›å…ƒç´ éƒ½æœ‰åŠ©äºæˆ‘ä»¬çš„é«˜è§†è§‰è´¨é‡çš„ç»“æœ(è§7.3èŠ‚)ã€‚æ­¤å¤–ï¼Œå‰é¢æåˆ°çš„æ–¹æ³•ä¹Ÿä½¿ç”¨cnnè¿›è¡Œæ¸²æŸ“ï¼Œå¯¼è‡´æ—¶é—´ä¸ç¨³å®štemporal instabilityã€‚å°½ç®¡å¦‚æ­¤ï¼ŒPulsar [Lassner and Zollhofer 2021]å’ŒADOP [RuÌˆckert et al . 2022] çš„æ¸²æŸ“é€Ÿåº¦æˆä¸ºæˆ‘ä»¬å¼€å‘å¿«é€Ÿæ¸²æŸ“è§£å†³æ–¹æ¡ˆçš„åŠ¨åŠ›ã€‚</p><p>åœ¨å…³æ³¨é•œé¢æ•ˆæœçš„åŒæ—¶ï¼ŒNeural Point Catacaustics [Kopanasç­‰äººï¼Œ2022]çš„åŸºäºæ¼«å°„ç‚¹çš„æ¸²æŸ“è½¨è¿¹é€šè¿‡ä½¿ç”¨MLPå…‹æœäº†è¿™ç§æ—¶é—´ä¸ç¨³å®šæ€§ï¼Œ<strong>ä½†ä»ç„¶éœ€è¦MVSå‡ ä½•ä½œä¸ºè¾“å…¥</strong>ã€‚<br>è¯¥ç±»åˆ«ä¸­æœ€æ–°çš„æ–¹æ³•[Zhang et al. 2022]ä¸éœ€è¦MVSï¼Œå¹¶ä¸”è¿˜ä½¿ç”¨SHä½œä¸ºæ–¹å‘; <strong>ç„¶è€Œï¼Œå®ƒåªèƒ½å¤„ç†ä¸€ä¸ªå¯¹è±¡çš„åœºæ™¯ï¼Œå¹¶ä¸”éœ€è¦æ©ç è¿›è¡Œåˆå§‹åŒ–</strong>ã€‚è™½ç„¶å¯¹äºå°åˆ†è¾¨ç‡å’Œä½ç‚¹è®¡æ•°æ¥è¯´é€Ÿåº¦å¾ˆå¿«ï¼Œä½†å°šä¸æ¸…æ¥šå®ƒå¦‚ä½•æ‰©å±•åˆ°å…¸å‹æ•°æ®é›†çš„åœºæ™¯[Barron et al. 2022;æµ·å¾·æ›¼ç­‰äººã€‚2018;Knapitsch et al. 2017]ã€‚<br>æˆ‘ä»¬ä½¿ç”¨3Dé«˜æ–¯å›¾åƒè¿›è¡Œæ›´çµæ´»çš„åœºæ™¯è¡¨ç¤ºï¼Œ<strong>é¿å…äº†å¯¹MVSå‡ ä½•å›¾å½¢çš„éœ€è¦</strong>ï¼Œ<strong>å¹¶å®ç°äº†å®æ—¶æ¸²æŸ“</strong>ï¼Œè¿™è¦å½’åŠŸäºæˆ‘ä»¬å¯¹æŠ•å½±é«˜æ–¯å›¾åƒçš„tile-based rendering algorithmã€‚</p><p>æœ€è¿‘çš„ä¸€ç§æ–¹æ³•[Xu et al .2022]é‡‡ç”¨å¾„å‘åŸºå‡½æ•°æ–¹æ³•ï¼Œç”¨ç‚¹æ¥è¡¨ç¤ºè¾å°„åœºã€‚ä»–ä»¬åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é‡‡ç”¨ç‚¹ä¿®å‰ªå’Œè‡´å¯†åŒ–æŠ€æœ¯ï¼Œ<strong>ä½†ä½¿ç”¨ä½“ç§¯å°„çº¿æ¨è¿›ï¼Œæ— æ³•å®ç°å®æ—¶æ˜¾ç¤ºé€Ÿç‡</strong>ã€‚</p><p>åœ¨äººä½“è¡Œä¸ºæ•æ‰é¢†åŸŸï¼Œå·²ç»ä½¿ç”¨ä¸‰ç»´é«˜æ–¯å‡½æ•°æ¥è¡¨ç¤ºæ•è·çš„äººä½“[Rhodin et al. 2015;Stoll et al. 2011]; æœ€è¿‘ï¼Œå®ƒä»¬è¢«ç”¨äºè§†è§‰ä»»åŠ¡çš„ä½“ç§¯å°„çº¿è¡Œè¿›[Wangç­‰äºº2023]ã€‚åœ¨ç±»ä¼¼çš„èƒŒæ™¯ä¸‹ä¹Ÿæå‡ºäº†ç¥ç»ä½“ç§¯åŸè¯­Neural volumetric primitives[Lombardiç­‰äººï¼Œ2021]ã€‚è™½ç„¶è¿™äº›æ–¹æ³•å¯å‘äº†é€‰æ‹©3Dé«˜æ–¯ä½œä¸ºæˆ‘ä»¬çš„åœºæ™¯è¡¨ç¤ºï¼Œ<strong>ä½†å®ƒä»¬ä¾§é‡äºé‡å»ºå’Œæ¸²æŸ“å•ä¸ªå­¤ç«‹å¯¹è±¡(äººä½“æˆ–é¢éƒ¨)çš„å…·ä½“æƒ…å†µ</strong>ï¼Œ<strong>ä»è€Œäº§ç”Ÿæ·±åº¦å¤æ‚æ€§è¾ƒå°çš„åœºæ™¯</strong>ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬<strong>å¯¹å„å‘å¼‚æ€§åæ–¹å·®çš„ä¼˜åŒ–</strong>ã€<strong>äº¤é”™ä¼˜åŒ–/å¯†åº¦æ§åˆ¶</strong>ä»¥åŠ<strong>é«˜æ•ˆçš„æ·±åº¦æ’åºæ¸²æŸ“</strong>ä½¿æˆ‘ä»¬<strong>èƒ½å¤Ÿå¤„ç†å®Œæ•´ã€å¤æ‚çš„åœºæ™¯ï¼ŒåŒ…æ‹¬å®¤å†…å’Œå®¤å¤–çš„èƒŒæ™¯ï¼Œä»¥åŠæ·±åº¦å¤æ‚æ€§å¾ˆå¤§çš„åœºæ™¯</strong>ã€‚</p><h1 id="OVERVIEW"><a href="#OVERVIEW" class="headerlink" title="OVERVIEW"></a>OVERVIEW</h1><p>æˆ‘ä»¬æ–¹æ³•çš„è¾“å…¥æ˜¯ä¸€ç»„é™æ€åœºæ™¯å›¾åƒï¼Œä»¥åŠé€šè¿‡ SfM [SchÃ¶nberger å’Œ Frahm 2016] æ ¡å‡†çš„ç›¸åº”æ‘„åƒæœºï¼Œè¯¥æ–¹æ³•ä¼šäº§ç”Ÿç¨€ç–ç‚¹äº‘ä½œä¸ºside-effectã€‚<br>æˆ‘ä»¬<strong>ä»è¿™äº›ç‚¹ä¸­åˆ›å»ºäº†ä¸€ç»„ä¸‰ç»´é«˜æ–¯</strong>ï¼ˆç¬¬ 4 ç« ï¼‰ï¼Œç”±ä½ç½®ï¼ˆå‡å€¼ï¼‰ã€åæ–¹å·®çŸ©é˜µå’Œä¸é€æ˜åº¦ğ›¼ å®šä¹‰ï¼Œå¯ä»¥å®ç°éå¸¸çµæ´»çš„ä¼˜åŒ–æœºåˆ¶ã€‚è¿™ä½¿å¾—ä¸‰ç»´åœºæ™¯çš„è¡¨ç¤ºç›¸å½“ç´§å‡‘ï¼Œéƒ¨åˆ†åŸå› æ˜¯é«˜åº¦å„å‘å¼‚æ€§çš„ä½“ç§¯æ–‘å—å¯ä»¥ç”¨æ¥ç´§å‡‘åœ°è¡¨ç¤ºç²¾ç»†ç»“æ„ã€‚è¾å°„åœºçš„<strong>æ–¹å‘æ€§å¤–è§‚åˆ†é‡</strong>ï¼ˆé¢œè‰²ï¼‰<strong>é€šè¿‡çƒé¢è°æ³¢ï¼ˆSHï¼‰è¡¨ç¤º</strong>ï¼Œéµå¾ªæ ‡å‡†åšæ³•[Fridovich-Keil å’Œ Yu ç­‰äººï¼Œ2022ï¼›MÃ¼ller ç­‰äººï¼Œ2022]ã€‚<br>æˆ‘ä»¬çš„ç®—æ³•<strong>é€šè¿‡ä¸€ç³»åˆ—ä¸‰ç»´é«˜æ–¯å‚æ•°çš„ä¼˜åŒ–æ­¥éª¤</strong>ï¼Œå³ä½ç½®ã€åæ–¹å·®ã€ğ›¼ å’Œ SH ç³»æ•°ï¼Œä»¥åŠé«˜æ–¯å¯†åº¦è‡ªé€‚åº”æ§åˆ¶çš„äº¤é”™æ“ä½œï¼Œæ¥<strong>åˆ›å»ºè¾å°„åœºè¡¨ç¤º</strong>ï¼ˆç¬¬ 5 èŠ‚ï¼‰ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•ä¹‹æ‰€ä»¥é«˜æ•ˆï¼Œå…³é”®åœ¨äºæˆ‘ä»¬<strong>tile-based rasterizer</strong>ï¼ˆç¬¬ 6 ç« ï¼‰ï¼Œå®ƒå¯ä»¥å¯¹å„å‘å¼‚æ€§çš„splatsè¿›è¡Œğ›¼ æ··åˆï¼Œå¹¶é€šè¿‡å¿«é€Ÿæ’åºéµå®ˆå¯è§æ€§é¡ºåºã€‚å¿«é€Ÿæ …æ ¼åŒ–å™¨è¿˜åŒ…æ‹¬é€šè¿‡è·Ÿè¸ªç´¯ç§¯çš„ğ›¼å€¼å®ç°çš„fast backwardï¼Œå¯¹å¯æ¥æ”¶æ¢¯åº¦çš„é«˜æ–¯æ•°é‡æ²¡æœ‰é™åˆ¶ã€‚å›¾ 2 å±•ç¤ºäº†æˆ‘ä»¬çš„æ–¹æ³•æ¦‚è§ˆã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230817210209.png" alt="image.png"><br><em>ä¼˜åŒ–ä»ç¨€ç–çš„SfMç‚¹äº‘å¼€å§‹ï¼Œå¹¶åˆ›å»ºä¸€ç»„3Dé«˜æ–¯ç‚¹äº‘ã€‚ç„¶åï¼Œæˆ‘ä»¬ä¼˜åŒ–å’Œè‡ªé€‚åº”æ§åˆ¶è¿™ç»„é«˜æ–¯å‡½æ•°çš„å¯†åº¦ã€‚åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¿«é€Ÿçš„åŸºäºtileçš„æ¸²æŸ“å™¨ï¼Œä¸SOTAå¿«é€Ÿè¾å°„åœºæ–¹æ³•ç›¸æ¯”ï¼Œå…è®¸æœ‰ç«äº‰åŠ›çš„è®­ç»ƒæ—¶é—´ã€‚ä¸€æ—¦è®­ç»ƒï¼Œæˆ‘ä»¬çš„æ¸²æŸ“å™¨å…è®¸å®æ—¶å¯¼èˆªçš„å„ç§åœºæ™¯ã€‚</em></p><h1 id="DIFFERENTIABLE-3D-GAUSSIAN-SPLATTING"><a href="#DIFFERENTIABLE-3D-GAUSSIAN-SPLATTING" class="headerlink" title="DIFFERENTIABLE 3D GAUSSIAN SPLATTING"></a>DIFFERENTIABLE 3D GAUSSIAN SPLATTING</h1><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»æ²¡æœ‰æ³•çº¿çš„ç¨€ç–ç‚¹é›†(SfM)å¼€å§‹ï¼Œä¼˜åŒ–ä¸€ä¸ªåœºæ™¯è¡¨ç¤ºï¼Œå…è®¸é«˜è´¨é‡çš„æ–°è§†å›¾åˆæˆã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦<strong>ä¸€ä¸ªåŸè¯­ï¼Œå®ƒç»§æ‰¿äº†å¯å¾®åˆ†ä½“ç§¯è¡¨ç¤ºçš„å±æ€§ï¼ŒåŒæ—¶æ˜¯éç»“æ„åŒ–å’Œæ˜¾å¼çš„ï¼Œä»¥å…è®¸éå¸¸å¿«é€Ÿçš„æ¸²æŸ“</strong>ã€‚æˆ‘ä»¬é€‰æ‹©3Dé«˜æ–¯åˆ†å¸ƒï¼Œå®ƒæ˜¯å¯å¾®çš„ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°æŠ•å½±åˆ°2Dåˆ†å¸ƒï¼Œå…è®¸å¿«é€Ÿ$\alpha$-æ··åˆæ¸²æŸ“ã€‚</p><p>æˆ‘ä»¬çš„è¡¨ç¤ºæ–¹æ³•ä¸ä¹‹å‰ä½¿ç”¨äºŒç»´ç‚¹çš„æ–¹æ³•æœ‰ç›¸ä¼¼ä¹‹å¤„[Kopanas ç­‰äººï¼Œ2021 å¹´ï¼›Yifan ç­‰äººï¼Œ2019 å¹´]ï¼Œå¹¶å‡å®šæ¯ä¸ªç‚¹éƒ½æ˜¯å…·æœ‰æ³•çº¿çš„å¹³é¢å°åœ†ã€‚é‰´äº SfM ç‚¹çš„æåº¦ç¨€ç–æ€§ï¼Œä¼°è®¡æ³•çº¿éå¸¸å›°éš¾ã€‚åŒæ ·ï¼Œä»è¿™æ ·çš„ä¼°è®¡ä¸­ä¼˜åŒ–å™ªå£°éå¸¸å¤§çš„æ³•çº¿ä¹Ÿéå¸¸å…·æœ‰æŒ‘æˆ˜æ€§ã€‚ç›¸åï¼Œ<strong>æˆ‘ä»¬å°†å‡ ä½•å»ºæ¨¡ä¸ºä¸€ç»„æ— éœ€æ³•çº¿çš„ 3D é«˜æ–¯</strong>ã€‚æˆ‘ä»¬çš„é«˜æ–¯æ˜¯ç”±ä»¥ç‚¹ï¼ˆå¹³å‡å€¼ï¼‰ ğœ‡ ä¸ºä¸­å¿ƒçš„å…¨ä¸‰ç»´åæ–¹å·®çŸ©é˜µ Î£ åœ¨ä¸–ç•Œç©ºé—´ä¸­å®šä¹‰çš„[Zwicker ç­‰äººï¼Œ2001a]ï¼š</p><p>$G(x)=e^{-\frac{1}{2}(x)^{T}\Sigma^{-1}(x)}$<br>è¿™ä¸ªé«˜æ–¯å‡½æ•°åœ¨æˆ‘ä»¬çš„æ··åˆè¿‡ç¨‹ä¸­ä¹˜ä»¥$\alpha$ã€‚<br>ä¸è¿‡ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸‰ç»´é«˜æ–¯æŠ•å½±åˆ°äºŒç»´ç©ºé—´ï¼Œä»¥ä¾¿è¿›è¡Œæ¸²æŸ“ã€‚Zwicker ç­‰äºº [2001a] æ¼”ç¤ºäº†å¦‚ä½•å°†ä¸‰ç»´é«˜æ–¯æŠ•å½±åˆ°å›¾åƒç©ºé—´ã€‚ç»™å®šä¸€ä¸ªè§†å›¾å˜æ¢ Wï¼Œæ‘„åƒæœºåæ ‡ä¸­çš„åæ–¹å·®çŸ©é˜µ Î£â€² å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>$\Sigmaâ€™=JW\Sigma W^{T}J^{T}$<br>å…¶ä¸­ï¼Œğ½ æ˜¯æŠ•å½±å˜æ¢ä»¿å°„è¿‘ä¼¼çš„é›…å„æ¯”ã€‚Zwicker ç­‰äºº[2001a]çš„ç ”ç©¶è¿˜è¡¨æ˜ï¼Œå¦‚æœæˆ‘ä»¬è·³è¿‡ Î£â€² çš„ç¬¬ä¸‰è¡Œå’Œç¬¬ä¸‰åˆ—ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ª 2Ã—2 çš„æ–¹å·®çŸ©é˜µï¼Œå…¶ç»“æ„å’Œæ€§è´¨ä¸ä»¥å‰çš„ç ”ç©¶[Kopanas ç­‰äººï¼Œ2021]ä¸­ä»æœ‰æ³•çº¿çš„å¹³é¢ç‚¹å‡ºå‘çš„æ–¹å·®çŸ©é˜µç›¸åŒã€‚<br>ä¸€ä¸ªæ˜æ˜¾çš„æ–¹æ³•æ˜¯ç›´æ¥ä¼˜åŒ–åæ–¹å·®çŸ©é˜µÎ£æ¥è·å¾—ä»£è¡¨è¾å°„åœºçš„ä¸‰ç»´é«˜æ–¯å‡½æ•°ã€‚<strong>ç„¶è€Œï¼Œåæ–¹å·®çŸ©é˜µåªæœ‰åœ¨æ­£åŠå®šæ—¶æ‰æœ‰ç‰©ç†æ„ä¹‰</strong>ã€‚å¯¹äºæˆ‘ä»¬çš„æ‰€æœ‰å‚æ•°çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¢¯åº¦ä¸‹é™ï¼Œä¸èƒ½è½»æ˜“åœ°çº¦æŸäº§ç”Ÿè¿™æ ·çš„æœ‰æ•ˆçŸ©é˜µï¼Œæ›´æ–°æ­¥éª¤å’Œæ¢¯åº¦å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ›å»ºæ— æ•ˆçš„åæ–¹å·®çŸ©é˜µã€‚<br><strong>å› æ­¤ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ç§æ›´ç›´è§‚ï¼Œä½†åŒæ ·å…·æœ‰è¡¨ç°åŠ›çš„è¡¨ç¤ºæ¥è¿›è¡Œä¼˜åŒ–</strong>ã€‚ä¸‰ç»´é«˜æ–¯å‡½æ•°çš„åæ–¹å·®çŸ©é˜µÎ£ç±»ä¼¼äºæè¿°æ¤­çƒä½“çš„ç»“æ„ã€‚ç»™å®šä¸€ä¸ªç¼©æ”¾çŸ©é˜µSå’Œæ—‹è½¬çŸ©é˜µRï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ç›¸åº”çš„Î£:<br>$\Sigma=RSS^{T}R^{T}$</p><p><strong>ä¸ºäº†å…è®¸ç‹¬ç«‹ä¼˜åŒ–è¿™ä¸¤ä¸ªå› ç´ </strong>ï¼Œæˆ‘ä»¬å°†å®ƒä»¬åˆ†å¼€å­˜å‚¨:ä¸€ä¸ª3DçŸ¢é‡sç¼©æ”¾å’Œå››å…ƒæ•°qè¡¨ç¤ºæ—‹è½¬ã€‚è¿™äº›å¯ä»¥ç®€å•åœ°è½¬æ¢æˆå®ƒä»¬å„è‡ªçš„çŸ©é˜µå¹¶ç»„åˆèµ·æ¥ï¼Œç¡®ä¿å½’ä¸€åŒ–qå¾—åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„å•ä½å››å…ƒæ•°ã€‚<br><strong>ä¸ºäº†é¿å…åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç”±äºè‡ªåŠ¨å¾®åˆ†é€ æˆçš„å·¨å¤§å¼€é”€</strong>ï¼Œæˆ‘ä»¬æ˜ç¡®åœ°æ¨å¯¼äº†æ‰€æœ‰å‚æ•°çš„æ¢¯åº¦ã€‚å…·ä½“çš„å¯¼æ•°è®¡ç®—ç»†èŠ‚è§é™„å½•Aã€‚<br>è¿™ç§å„å‘å¼‚æ€§åæ–¹å·®çš„è¡¨ç¤º-é€‚åˆäºä¼˜åŒ–-å…è®¸æˆ‘ä»¬ä¼˜åŒ–3Dé«˜æ–¯å‡½æ•°ä»¥é€‚åº”æ•è·åœºæ™¯ä¸­ä¸åŒå½¢çŠ¶çš„å‡ ä½•å½¢çŠ¶ï¼Œä»è€Œ<strong>äº§ç”Ÿç›¸å½“ç´§å‡‘çš„è¡¨ç¤º</strong>ã€‚å›¾3è¯´æ˜äº†è¿™äº›æƒ…å†µã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230818133754.png" alt="image.png"></p><h1 id="OPTIMIZATION-WITH-ADAPTIVE-DENSITY-CONTROL-OF-3D-GAUSSIANS"><a href="#OPTIMIZATION-WITH-ADAPTIVE-DENSITY-CONTROL-OF-3D-GAUSSIANS" class="headerlink" title="OPTIMIZATION WITH ADAPTIVE DENSITY CONTROL OF 3D GAUSSIANS"></a>OPTIMIZATION WITH ADAPTIVE DENSITY CONTROL OF 3D GAUSSIANS</h1><p><strong>æˆ‘ä»¬æ–¹æ³•çš„æ ¸å¿ƒ</strong>æ˜¯ä¼˜åŒ–æ­¥éª¤ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªå¯†é›†çš„3Dé«˜æ–¯é›†ï¼Œå‡†ç¡®åœ°ä»£è¡¨è‡ªç”±è§†å›¾åˆæˆçš„åœºæ™¯ã€‚é™¤äº†positions ğ‘, ğ›¼, and covarianceÎ£ï¼Œæˆ‘ä»¬è¿˜ä¼˜åŒ–äº†ä»£è¡¨é¢œè‰²cçš„SHç³»æ•°ï¼Œæ¯ä¸€ä¸ªé«˜æ–¯çš„æ­£ç¡®æ•è·è§†å›¾ä¾èµ–çš„åœºæ™¯å¤–è§‚ã€‚è¿™äº›å‚æ•°çš„ä¼˜åŒ–ä¸æ§åˆ¶é«˜æ–¯å¯†åº¦çš„æ­¥éª¤äº¤ç»‡åœ¨ä¸€èµ·ï¼Œä»¥æ›´å¥½åœ°è¡¨ç¤ºåœºæ™¯ã€‚</p><h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><p>ä¼˜åŒ–æ˜¯åŸºäºæ¸²æŸ“çš„è¿ç»­è¿­ä»£ï¼Œå¹¶å°†ç»“æœå›¾åƒä¸æ•è·æ•°æ®é›†ä¸­çš„è®­ç»ƒè§†å›¾è¿›è¡Œæ¯”è¾ƒã€‚ä¸å¯é¿å…åœ°ï¼Œç”±äº3Dåˆ°2DæŠ•å½±çš„æ¨¡ç³Šæ€§ï¼Œå‡ ä½•ä½“å¯èƒ½ä¼šè¢«é”™è¯¯åœ°æ”¾ç½®ã€‚å› æ­¤ï¼Œæˆ‘<strong>ä»¬çš„ä¼˜åŒ–éœ€è¦èƒ½å¤Ÿåˆ›å»ºå‡ ä½•ä½“ï¼Œå¹¶åœ¨å‡ ä½•ä½“ä½ç½®ä¸æ­£ç¡®æ—¶ç ´åæˆ–ç§»åŠ¨å®ƒ</strong>ã€‚ä¸‰ç»´é«˜æ–¯åˆ†å¸ƒçš„åæ–¹å·®å‚æ•°çš„è´¨é‡å¯¹äºè¡¨ç¤ºçš„ç´§å‡‘æ€§è‡³å…³é‡è¦ï¼Œå› ä¸ºå¤§çš„å‡åŒ€åŒºåŸŸå¯ä»¥ç”¨å°‘é‡çš„å¤§å„å‘å¼‚æ€§é«˜æ–¯åˆ†å¸ƒæ¥æ•è·ã€‚<br>æˆ‘ä»¬ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™æŠ€æœ¯è¿›è¡Œä¼˜åŒ–ï¼Œå……åˆ†åˆ©ç”¨æ ‡å‡†gpuåŠ é€Ÿæ¡†æ¶ï¼Œä»¥åŠä¸ºæŸäº›æ“ä½œæ·»åŠ è‡ªå®šä¹‰CUDAå†…æ ¸çš„èƒ½åŠ›ï¼Œéµå¾ªæœ€è¿‘çš„æœ€ä½³å®è·µ[fridovic - keilå’ŒYuç­‰äººã€‚2022;Sun et al. 2022]ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬çš„<strong>å¿«é€Ÿæ …æ ¼åŒ–</strong>(å‚è§ç¬¬6èŠ‚)å¯¹äºä¼˜åŒ–çš„æ•ˆç‡è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒæ˜¯ä¼˜åŒ–çš„ä¸»è¦è®¡ç®—ç“¶é¢ˆã€‚<br>æˆ‘ä»¬ä½¿ç”¨så‹æ¿€æ´»å‡½æ•°ä¸ºäº†å°†$\alpha$å…¶çº¦æŸåœ¨<code>[0âˆ’1)</code>èŒƒå›´å†…å¹¶è·å¾—å¹³æ»‘çš„æ¢¯åº¦ï¼Œä¸ç”¨æŒ‡æ•°æ¿€æ´»å‡½æ•°è¡¨ç¤ºåæ–¹å·®çš„å°ºåº¦åŸå› ç±»ä¼¼ã€‚<br>æˆ‘ä»¬å°†åˆå§‹åæ–¹å·®çŸ©é˜µä¼°è®¡ä¸ºå„å‘åŒæ€§é«˜æ–¯çŸ©é˜µï¼Œå…¶è½´ç­‰äºåˆ°æœ€è¿‘çš„ä¸‰ä¸ªç‚¹çš„è·ç¦»çš„å¹³å‡å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨ç±»ä¼¼äºPlenoxelsçš„æ ‡å‡†æŒ‡æ•°è¡°å‡è°ƒåº¦æŠ€æœ¯[friovich - keil and Yu et al. 2022]ï¼Œä½†ä»…ç”¨äºä½ç½®ã€‚æŸå¤±å‡½æ•°ä¸ºL1ç»“åˆD-SSIMé¡¹:<br>$\mathcal{L}=(1-\lambda)\mathcal{L}_{1}+\lambda\mathcal{L}_{\mathrm{D-SSIM}}$<br>æˆ‘ä»¬ç”¨$\lambda= 0.2$åœ¨æˆ‘ä»¬æ‰€æœ‰çš„æµ‹è¯•ä¸­æˆ‘ä»¬åœ¨ç¬¬7.1èŠ‚ä¸­æä¾›äº†å­¦ä¹ æ—¶é—´è¡¨å’Œå…¶ä»–è¦ç´ çš„è¯¦ç»†ä¿¡æ¯</p><h2 id="Adaptive-Control-of-Gaussians"><a href="#Adaptive-Control-of-Gaussians" class="headerlink" title="Adaptive Control of Gaussians"></a>Adaptive Control of Gaussians</h2><p>æˆ‘ä»¬ä»SfMçš„åˆå§‹ç¨€ç–ç‚¹é›†å¼€å§‹ï¼Œç„¶ååº”ç”¨æˆ‘ä»¬çš„æ–¹æ³•<strong>è‡ªé€‚åº”åœ°æ§åˆ¶å•ä½ä½“ç§¯ä¸Šçš„é«˜æ–¯ç‚¹çš„æ•°é‡åŠå…¶å¯†åº¦</strong>ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä»åˆå§‹çš„é«˜æ–¯ç¨€ç–é›†åˆ°æ›´å¯†é›†çš„é›†ï¼Œæ›´å¥½åœ°ä»£è¡¨åœºæ™¯ï¼Œå¹¶å…·æœ‰æ­£ç¡®çš„å‚æ•°ã€‚åœ¨ä¼˜åŒ–é¢„çƒ­ä¹‹å(å‚è§7.1èŠ‚)ï¼Œæˆ‘ä»¬æ¯100æ¬¡è¿­ä»£è‡´å¯†åŒ–ä¸€æ¬¡ï¼Œå¹¶åˆ é™¤ä»»ä½•æœ¬è´¨ä¸Šé€æ˜çš„é«˜æ–¯åˆ†å¸ƒï¼Œå³$\alpha$ä½äºé˜ˆå€¼$\epsilon_{\alpha}$ ã€‚<br>æˆ‘ä»¬å¯¹é«˜æ–¯å‡½æ•°çš„è‡ªé€‚åº”æ§åˆ¶éœ€è¦å¡«å……ç©ºç™½åŒºåŸŸã€‚å®ƒä¾§é‡äºç¼ºå°‘å‡ ä½•ç‰¹å¾çš„åŒºåŸŸ(â€œæ¬ é‡å»ºâ€)ï¼Œä½†ä¹Ÿé€‚ç”¨äºåœºæ™¯ä¸­é«˜æ–¯åˆ†å¸ƒè¦†ç›–å¤§é¢ç§¯çš„åŒºåŸŸ(é€šå¸¸å¯¹åº”äºâ€œè¿‡åº¦é‡å»ºâ€)ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ä¸¤è€…éƒ½å…·æœ‰è¾ƒå¤§çš„è§†å›¾ç©ºé—´ä½ç½®æ¢¯åº¦ã€‚ç›´è§‚åœ°è¯´ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºå®ƒä»¬å¯¹åº”çš„åŒºåŸŸè¿˜æ²¡æœ‰å¾ˆå¥½åœ°é‡å»ºï¼Œè€Œä¼˜åŒ–è¯•å›¾ç§»åŠ¨é«˜æ–¯å‡½æ•°æ¥çº æ­£è¿™ä¸€ç‚¹ã€‚<br>ç”±äºè¿™ä¸¤ç§æƒ…å†µéƒ½æ˜¯è‡´å¯†åŒ–çš„è‰¯å¥½å€™é€‰è€…ï¼Œå› æ­¤æˆ‘ä»¬å¯¹å…·æœ‰é«˜äºé˜ˆå€¼çš„è§†å›¾ç©ºé—´ä½ç½®æ¢¯åº¦çš„å¹³å‡å¹…åº¦çš„é«˜æ–¯å‡½æ•°è¿›è¡Œè‡´å¯†åŒ–$\tau_{\mathrm{pos}}$ï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•ä¸­å°†å…¶è®¾ç½®ä¸º0.0002ã€‚<br>We next present details of this process, illustrated in Fig. 4.<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230818134813.png" alt="image.png"><br><em>æˆ‘ä»¬çš„è‡ªé€‚åº”é«˜æ–¯è‡´å¯†åŒ–æ–¹æ¡ˆã€‚é¡¶è¡Œ(é‡å»ºä¸è¶³):å½“å°å°ºåº¦å‡ ä½•(é»‘è‰²è½®å»“)æ²¡æœ‰è¢«å……åˆ†è¦†ç›–æ—¶ï¼Œæˆ‘ä»¬å…‹éš†ç›¸åº”çš„é«˜æ–¯ã€‚ä¸‹è¡Œ(è¿‡åº¦é‡å»º):å¦‚æœå°å°ºåº¦å‡ ä½•ç”±ä¸€ä¸ªå¤§çš„ç¢ç‰‡è¡¨ç¤ºï¼Œæˆ‘ä»¬å°†å…¶åˆ†æˆä¸¤éƒ¨åˆ†ã€‚</em></p><p>å¯¹äºå¤„äºé‡å»ºä¸è¶³åŒºåŸŸçš„å°é«˜æ–¯å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦è¦†ç›–å¿…é¡»åˆ›å»ºçš„æ–°å‡ ä½•ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæœ€å¥½æ˜¯å…‹éš†é«˜æ–¯å‡½æ•°ï¼Œé€šè¿‡ç®€å•åœ°åˆ›å»ºä¸€ä¸ªç›¸åŒå¤§å°çš„å‰¯æœ¬ï¼Œå¹¶æ²¿ç€ä½ç½®æ¢¯åº¦çš„æ–¹å‘ç§»åŠ¨å®ƒã€‚<br>å¦ä¸€æ–¹é¢ï¼Œé«˜æ–¹å·®åŒºåŸŸä¸­çš„å¤§é«˜æ–¯åˆ†å¸ƒéœ€è¦è¢«åˆ†å‰²æˆå°é«˜æ–¯åˆ†å¸ƒã€‚æˆ‘ä»¬ç”¨ä¸¤ä¸ªæ–°çš„é«˜æ–¯å‡½æ•°æ›¿æ¢è¿™äº›é«˜æ–¯å‡½æ•°ï¼Œå¹¶å°†å®ƒä»¬çš„å°ºåº¦é™¤ä»¥$\phi=1.6$ï¼Œæˆ‘ä»¬é€šè¿‡å®éªŒç¡®å®šã€‚æˆ‘ä»¬è¿˜é€šè¿‡ä½¿ç”¨åŸå§‹çš„3Dé«˜æ–¯ä½œä¸ºé‡‡æ ·çš„PDFæ¥åˆå§‹åŒ–å®ƒä»¬çš„ä½ç½®ã€‚</p><p>åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ£€æµ‹å¹¶å¤„ç†å¢åŠ ç³»ç»Ÿçš„æ€»ä½“ç§¯å’Œé«˜æ–¯æ•°çš„éœ€è¦ï¼Œè€Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¿ç•™æ€»ä½“ç§¯ï¼Œä½†å¢åŠ é«˜æ–¯æ•°ã€‚<br>ä¸å…¶ä»–ä½“ç§¯è¡¨ç¤ºç±»ä¼¼ï¼Œæˆ‘ä»¬çš„ä¼˜åŒ–å¯èƒ½ä¼šé‡åˆ°é è¿‘è¾“å…¥æ‘„åƒå¤´çš„<strong>æ¼‚æµ®ç‰©</strong>; åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é«˜æ–¯å¯†åº¦çš„ä¸åˆç†å¢åŠ ã€‚è°ƒèŠ‚é«˜æ–¯å‡½æ•°æ•°é‡å¢åŠ çš„æœ‰æ•ˆæ–¹æ³•æ˜¯æ¯è¿­ä»£ğ‘ = 3000 æ¬¡ï¼Œå°†ğ›¼ å€¼è®¾ç½®ä¸ºæ¥è¿‘é›¶ã€‚ä¼˜åŒ–åï¼Œæˆ‘ä»¬ä¼šåœ¨éœ€è¦çš„åœ°æ–¹å¢åŠ é«˜æ–¯çš„ ğ›¼ï¼ŒåŒæ—¶å…è®¸æˆ‘ä»¬çš„å‰”é™¤æ–¹æ³•åˆ é™¤ ğ›¼ å°äº ğœ–ğ›¼ çš„é«˜æ–¯ã€‚å¦‚ä¸Šæ‰€è¿°ã€‚é«˜æ–¯åˆ†å¸ƒå¯èƒ½ä¼šç¼©å°æˆ–å¢é•¿ï¼Œå¹¶ä¸å…¶ä»–åˆ†å¸ƒæœ‰ç›¸å½“å¤§çš„é‡å ï¼Œä½†æˆ‘ä»¬ä¼šå®šæœŸåˆ é™¤åœ¨ä¸–ç•Œç©ºé—´ä¸­éå¸¸å¤§çš„é«˜æ–¯åˆ†å¸ƒå’Œåœ¨è§†å›¾ç©ºé—´ä¸­å ç”¨ç©ºé—´å¾ˆå¤§çš„é«˜æ–¯åˆ†å¸ƒã€‚è¿™ç§ç­–ç•¥å¯ä»¥å¾ˆå¥½åœ°æ§åˆ¶é«˜æ–¯å‡½æ•°çš„æ€»æ•°ã€‚æˆ‘ä»¬æ¨¡å‹ä¸­çš„é«˜æ–¯å‡½æ•°åœ¨æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­å§‹ç»ˆä¿æŒåŸå‡½æ•°;ä¸å…¶ä»–æ–¹æ³•ä¸åŒ[Barron et al. 2022;fridovitch - keilå’ŒYuç­‰äºº2022]ï¼Œæˆ‘<strong>ä»¬ä¸éœ€è¦ç©ºé—´å‹ç¼©ã€ç¿˜ç¿˜æˆ–æŠ•å½±ç­–ç•¥æ¥å¤„ç†è¿œè·ç¦»æˆ–å¤§å‹é«˜æ–¯åˆ†å¸ƒ</strong>ã€‚</p><h1 id="FAST-DIFFERENTIABLE-RASTERIZER-FOR-GAUSSIANS"><a href="#FAST-DIFFERENTIABLE-RASTERIZER-FOR-GAUSSIANS" class="headerlink" title="FAST DIFFERENTIABLE RASTERIZER FOR GAUSSIANS"></a>FAST DIFFERENTIABLE RASTERIZER FOR GAUSSIANS</h1><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æœ‰å¿«é€Ÿçš„æ•´ä½“æ¸²æŸ“å’Œå¿«é€Ÿæ’åºï¼Œä»¥å…è®¸è¿‘ä¼¼ğ›¼-blending-åŒ…æ‹¬å„å‘å¼‚æ€§splats-å¹¶é¿å…å¯¹splatsæ•°é‡çš„ç¡¬é™åˆ¶ï¼Œè¿™äº›splatså¯ä»¥æ¥æ”¶ä»¥å‰å·¥ä½œä¸­å­˜åœ¨çš„æ¢¯åº¦[Lassnerå’ŒZollhofer 2021]ã€‚<br>ä¸ºäº†å®ç°è¿™äº›ç›®æ ‡ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªtile-based rasterizer Gaussian splatsï¼Œçµæ„Ÿæ¥è‡ªäºæœ€è¿‘çš„è½¯ä»¶å…‰æ …åŒ–æ–¹æ³•[Lassnerå’ŒZollhofer 2021]ï¼Œä¸€æ¬¡å¯¹æ•´ä¸ªå›¾åƒè¿›è¡Œé¢„æ’åºï¼Œé¿å…äº†ä»¥å¾€ğ›¼ æ··åˆè§£å†³æ–¹æ¡ˆä¸­æ¯ä¸ªåƒç´ çš„æ’åºè´¹ç”¨[Kopanasç­‰äººï¼Œ2022,2021]ã€‚æˆ‘ä»¬çš„å¿«é€Ÿå…‰æ …åŒ–å™¨å…è®¸åœ¨ä»»æ„æ•°é‡çš„æ··åˆé«˜æ–¯ä¸Šè¿›è¡Œæœ‰æ•ˆçš„åå‘ä¼ æ’­ï¼Œå¹¶ä¸”é¢å¤–çš„å†…å­˜æ¶ˆè€—å¾ˆä½ï¼Œæ¯åƒç´ åªéœ€è¦æ’å®šçš„å¼€é”€ã€‚æˆ‘ä»¬çš„æ …æ ¼åŒ–ç®¡é“æ˜¯å®Œå…¨å¯å¾®çš„ï¼Œå¹¶ä¸”ç»™å®š2DæŠ•å½±(ç¬¬4èŠ‚)ï¼Œå¯ä»¥æ …æ ¼åŒ–å„å‘å¼‚æ€§splatsï¼Œç±»ä¼¼äºä»¥å‰çš„2D splatsæ–¹æ³•[Kopanas et al. 2021]ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•é¦–å…ˆå°†å±å¹•åˆ†å‰²ä¸º16Ã—16å—tilesï¼Œç„¶åé’ˆå¯¹è§†é”¥ä½“å’Œæ¯ä¸ªå—ç»§ç»­å‰”é™¤3Dé«˜æ–¯ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬<strong>åªä¿ç•™ä¸è§†é”¥ä½“ç›¸äº¤çš„å…·æœ‰99%ç½®ä¿¡åŒºé—´çš„é«˜æ–¯å‡½æ•°</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¿æŠ¤å¸¦åœ¨æç«¯ä½ç½®trivially reject Gaussians(å³ï¼Œé‚£äº›æ¥è¿‘è¿‘å¹³é¢å’Œè¿œç¦»è§†é”¥å°çš„å¹³å‡å€¼)ï¼Œå› ä¸ºè®¡ç®—å®ƒä»¬çš„æŠ•å½±äºŒç»´åæ–¹å·®å°†æ˜¯ä¸ç¨³å®šçš„ã€‚ç„¶åï¼Œæˆ‘ä»¬æ ¹æ®é‡å çš„è´´å›¾æ•°é‡å®ä¾‹åŒ–æ¯ä¸ªé«˜æ–¯å‡½æ•°ï¼Œå¹¶ä¸ºæ¯ä¸ªå®ä¾‹åˆ†é…ä¸€ä¸ªé”®ï¼Œè¯¥é”®ç»“åˆäº†è§†å›¾ç©ºé—´æ·±åº¦å’Œè´´å›¾IDã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¿«é€Ÿçš„GPUåŸºæ•°æ’åº(Merrill and Grimshaw 2010)ï¼ŒåŸºäºè¿™äº›é”®å¯¹é«˜æ–¯å‡½æ•°è¿›è¡Œæ’åºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ²¡æœ‰é¢å¤–çš„æŒ‰åƒç´ æ’åºçš„ç‚¹ï¼Œæ··åˆæ˜¯åŸºäºè¿™ç§åˆå§‹æ’åºæ‰§è¡Œçš„ã€‚å› æ­¤ï¼Œåœ¨æŸäº›é…ç½®ä¸­ï¼Œæˆ‘ä»¬çš„ğ›¼æ··åˆå¯èƒ½æ˜¯è¿‘ä¼¼çš„ã€‚ä¸è¿‡ï¼Œå½“æ–‘ç‚¹çš„å¤§å°æ¥è¿‘å•ä¸ªåƒç´ æ—¶ï¼Œè¿™äº›è¿‘ä¼¼å€¼å°±å¯ä»¥å¿½ç•¥ä¸è®¡äº†ã€‚æˆ‘ä»¬å‘ç°è¿™ç§é€‰æ‹©å¤§å¤§æé«˜äº†è®­ç»ƒå’Œæ¸²æŸ“æ€§èƒ½ï¼Œè€Œä¸ä¼šåœ¨èåˆåœºæ™¯ä¸­äº§ç”Ÿå¯è§çš„å·¥ä»¶artifactsã€‚<br>åœ¨å¯¹é«˜æ–¯è¿›è¡Œæ’åºåï¼Œæˆ‘ä»¬ä¼šé€šè¿‡è¯†åˆ«ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ·±åº¦æ’åºçš„æ¡ç›®æ¥ä¸ºæ¯ä¸ªç“¦ç‰‡ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™äº›æ¡ç›®ä¼šæº…å°„åˆ°ç»™å®šçš„ç“¦ç‰‡ä¸Šã€‚åœ¨å…‰æ …åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªç“¦ç‰‡å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å—ã€‚æ¯ä¸ªçº¿ç¨‹å—é¦–å…ˆååŒå°†é«˜æ–¯æ•°æ®åŒ…åŠ è½½åˆ°å…±äº«å†…å­˜ä¸­ï¼Œç„¶åé’ˆå¯¹ç»™å®šåƒç´ ï¼Œé€šè¿‡å‰åéå†åˆ—è¡¨æ¥ç´¯ç§¯é¢œè‰²å’Œğ›¼ å€¼ï¼Œä»è€Œæœ€å¤§é™åº¦åœ°æé«˜æ•°æ®åŠ è½½/å…±äº«å’Œå¤„ç†çš„å¹¶è¡Œæ€§ã€‚<strong>å½“æŸä¸ªåƒç´ è¾¾åˆ°ç›®æ ‡é¥±å’Œåº¦ğ›¼ æ—¶ï¼Œç›¸åº”çš„çº¿ç¨‹å°±ä¼šåœæ­¢</strong>ã€‚æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œæˆ‘ä»¬å°±ä¼šå¯¹ä¸€ä¸ªå¹³é“ºä¸­çš„çº¿ç¨‹è¿›è¡ŒæŸ¥è¯¢ï¼Œå½“æ‰€æœ‰åƒç´ éƒ½è¾¾åˆ°é¥±å’Œï¼ˆå³ğ›¼ å˜ä¸º 1ï¼‰æ—¶ï¼Œæ•´ä¸ªå¹³é“ºçš„å¤„ç†å°±ä¼šç»ˆæ­¢ã€‚æœ‰å…³æ’åºçš„è¯¦ç»†ä¿¡æ¯å’Œæ•´ä¸ªå…‰æ …åŒ–æ–¹æ³•çš„é«˜çº§æ¦‚è¿°è§é™„å½• Cã€‚<br>åœ¨å…‰æ …åŒ–è¿‡ç¨‹ä¸­ï¼Œğ›¼ çš„é¥±å’Œåº¦æ˜¯å”¯ä¸€çš„åœæ­¢æ ‡å‡†ã€‚ä¸ä¹‹å‰çš„å·¥ä½œä¸åŒï¼Œæˆ‘ä»¬<strong>ä¸é™åˆ¶æ¥å—æ¢¯åº¦æ›´æ–°çš„æ··åˆåŸºå…ƒçš„æ•°é‡ã€‚æˆ‘ä»¬å¼ºåˆ¶æ‰§è¡Œè¿™ä¸€ç‰¹æ€§ï¼Œæ˜¯ä¸ºäº†è®©æˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿå¤„ç†å…·æœ‰ä»»æ„ä¸åŒæ·±åº¦å¤æ‚åº¦çš„åœºæ™¯</strong>ï¼Œå¹¶å‡†ç¡®åœ°å­¦ä¹ å®ƒä»¬ï¼Œè€Œæ— éœ€è¯‰è¯¸ç‰¹å®šåœºæ™¯çš„è¶…å‚æ•°è°ƒæ•´ã€‚å› æ­¤ï¼Œåœ¨åå‘å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»æ¢å¤å‰å‘å¤„ç†è¿‡ç¨‹ä¸­æ¯ä¸ªåƒç´ æ··åˆç‚¹çš„å®Œæ•´åºåˆ—ã€‚ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åœ¨å…¨å±€å†…å­˜ä¸­å­˜å‚¨æ¯ä¸ªåƒç´ ä»»æ„é•¿çš„æ··åˆç‚¹åˆ—è¡¨[Kopanas ç­‰äººï¼Œ2021 å¹´]ã€‚ä¸ºäº†é¿å…éšå«çš„åŠ¨æ€å†…å­˜ç®¡ç†å¼€é”€ï¼Œæˆ‘ä»¬é€‰æ‹©å†æ¬¡éå†æ¯ä¸ªtileåˆ—è¡¨ï¼›æˆ‘ä»¬å¯ä»¥é‡å¤ä½¿ç”¨å‰å‘éå†ä¸­çš„é«˜æ–¯æ’åºæ•°ç»„å’Œç“¦ç‰‡èŒƒå›´ã€‚ä¸ºäº†æ–¹ä¾¿æ¢¯åº¦è®¡ç®—ï¼Œæˆ‘ä»¬ç°åœ¨ä»åå‘å‰éå†å®ƒä»¬<br>éå†ä»å½±å“tileä¸­ä»»ä½•åƒç´ çš„æœ€åä¸€ä¸ªç‚¹å¼€å§‹ï¼Œå¹¶ä¸”å†æ¬¡åä½œåœ°å°†ç‚¹åŠ è½½åˆ°å…±äº«å†…å­˜ä¸­ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªåƒç´ åªæœ‰åœ¨æ·±åº¦ä½äºæˆ–ç­‰äºå‰å‘ä¼ é€’è¿‡ç¨‹ä¸­å¯¹å…¶é¢œè‰²åšå‡ºè´¡çŒ®çš„æœ€åä¸€ä¸ªç‚¹çš„æ·±åº¦æ—¶ï¼Œæ‰ä¼šå¼€å§‹(æ˜‚è´µçš„)é‡å æµ‹è¯•å’Œå¤„ç†ã€‚ç¬¬4èŠ‚ä¸­æè¿°çš„æ¢¯åº¦è®¡ç®—éœ€è¦åŸå§‹æ··åˆè¿‡ç¨‹ä¸­æ¯ä¸€æ­¥çš„ä¸é€æ˜åº¦å€¼çš„ç´¯ç§¯ã€‚è€Œä¸æ˜¯éå†ä¸€ä¸ªæ˜ç¡®çš„åˆ—è¡¨é€æ­¥ç¼©å°çš„ä¸é€æ˜åº¦åœ¨å‘åä¼ é€’ï¼Œæˆ‘ä»¬å¯ä»¥æ¢å¤è¿™äº›ä¸­é—´çš„ä¸é€æ˜åº¦ï¼Œåªå­˜å‚¨æ€»ç´¯ç§¯çš„ä¸é€æ˜åº¦åœ¨å‘å‰ä¼ é€’ç»“æŸã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªç‚¹éƒ½å­˜å‚¨äº†å‰å‘è¿‡ç¨‹ä¸­æœ€ç»ˆç´¯ç§¯çš„ä¸é€æ˜åº¦ğ›¼ï¼›æˆ‘ä»¬åœ¨ä»ååˆ°å‰çš„éå†ä¸­å°†å…¶é™¤ä»¥æ¯ä¸ªç‚¹çš„ğ›¼ï¼Œä»¥è·å¾—æ¢¯åº¦è®¡ç®—æ‰€éœ€çš„ç³»æ•°ã€‚</p><h1 id="IMPLEMENTATION-RESULTS-AND-EVALUATION"><a href="#IMPLEMENTATION-RESULTS-AND-EVALUATION" class="headerlink" title="IMPLEMENTATION, RESULTS AND EVALUATION"></a>IMPLEMENTATION, RESULTS AND EVALUATION</h1><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è®¨è®ºå®ç°çš„ä¸€äº›ç»†èŠ‚ï¼Œç›®å‰çš„ç»“æœä»¥åŠä¸ä»¥å‰çš„å·¥ä½œå’Œæ¶ˆèç ”ç©¶ç›¸æ¯”æˆ‘ä»¬çš„ç®—æ³•çš„è¯„ä¼°ã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>å®ä¾‹é•œåƒ<br>PyTorch  2.0.0<br>Python  3.8(ubuntu20.04)<br>Cuda  11.8</p><ul><li><code>git clone https://github.com/graphdeco-inria/gaussian-splatting --recursive</code><ul><li>ä¿®æ”¹environment.ymlä¸­çš„ç¯å¢ƒåç§°ï¼šgaussian_splatting</li></ul></li><li>conda env create â€”file environment.yml</li><li>conda activate gaussian_splatting</li></ul><p>å®‰è£…colmapç”¨äºconvert.py</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br><span class="line">sudo apt-get install \</span><br><span class="line">    git \</span><br><span class="line">    cmake \</span><br><span class="line">    build-essential \</span><br><span class="line">    libboost-program-options-dev \</span><br><span class="line">    libboost-filesystem-dev \</span><br><span class="line">    libboost-graph-dev \</span><br><span class="line">    libboost-system-dev \</span><br><span class="line">    libboost-test-dev \</span><br><span class="line">    libeigen3-dev \</span><br><span class="line">    libsuitesparse-dev \</span><br><span class="line">    libfreeimage-dev \</span><br><span class="line">    libmetis-dev \</span><br><span class="line">    libgoogle-glog-dev \</span><br><span class="line">    libgflags-dev \</span><br><span class="line">    libglew-dev \</span><br><span class="line">    qtbase5-dev \</span><br><span class="line">    libqt5opengl5-dev \</span><br><span class="line">    libcgal-dev</span><br><span class="line"><span class="comment"># å¦‚æœä¸€æ¬¡å®‰è£…ä¸ä¸Šï¼Œå¯ä»¥ç»§ç»­ä¸‹æ­¥ï¼Œç¼ºä»€ä¹ˆè£…ä»€ä¹ˆ</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install colmap</span><br><span class="line"></span><br><span class="line">The following packages have unmet dependencies:  </span><br><span class="line">colmap : Depends: libqt5gui5 (&gt;= 5.4.0) but it is not going to be installed  </span><br><span class="line">Depends: libqt5widgets5 (&gt;= 5.4.0) but it is not going to be installed  </span><br><span class="line">E: Unable to correct problems, you have held broken packages.</span><br><span class="line">    sudo apt install libqt5gui5</span><br><span class="line">    Depends: libegl1 but it is not going to be installed  </span><br><span class="line">    Depends: libxkbcommon-x11-0 (&gt;= 0.5.0) but it is not going to be installed  </span><br><span class="line">        sudo apt install libegl1</span><br><span class="line">        Depends: libglvnd0 (= 1.0.0-2ubuntu2.3) but 1.3.2-1~ubuntu0.20.04.2 is to be installed  </span><br><span class="line">        Depends: libegl-mesa0 but it is not going to be installed </span><br><span class="line">            sudo apt install libglvnd0=1.0.0-2ubuntu2.3</span><br><span class="line">            sudo apt install libegl-mesa0</span><br><span class="line">                sudo apt install libglapi-mesa=20.0.8-0ubuntu1~18.04.1</span><br><span class="line">            sudo apt install libegl-mesa0</span><br><span class="line">        sudo apt install libxkbcommon-x11-0</span><br><span class="line">        Depends: libxkbcommon0 (= 0.8.2-1~ubuntu18.04.1) but 0.10.0-1 is to be installed</span><br><span class="line">            sudo apt install libxkbcommon0=0.8.2-1~ubuntu18.04.1</span><br><span class="line">        sudo apt install libxkbcommon-x11-0</span><br><span class="line">    sudo apt install libqt5widgets5</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p><a href="https://github.com/graphdeco-inria/gaussian-splatting">gaussian-splatting</a></p><blockquote><p><a href="https://github.com/graphdeco-inria/gaussian-splatting/issues/35">remote viewer cannot find the model path Â· Issue #35 Â· graphdeco-inria/gaussian-splatting (github.com)</a> æœåŠ¡ç«¯å’Œæœ¬åœ°ç«¯å‘½ä»¤</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- ./data/db/playroom</span><br><span class="line">- ./data/db/drjohnson</span><br><span class="line">- ./data/Miku</span><br><span class="line"># remote</span><br><span class="line">ssh -p 22938 root@connect.beijinga.seetacloud.com</span><br><span class="line">zZF/91WLl1</span><br><span class="line"></span><br><span class="line">conda activate gaussian_splatting</span><br><span class="line">python train.py -s ./data/Miku  # --port 6009 # åœ¨æœåŠ¡ç«¯127.0.0.1:6009ä¸Šè¿è¡Œç¨‹åº</span><br><span class="line"></span><br><span class="line"># new terminal å°†è¿œç¨‹6009æ˜ å°„åˆ°æœ¬åœ°6009</span><br><span class="line">ssh -L 6009:localhost:6009 root@connect.beijinga.seetacloud.com -p 22938</span><br><span class="line"></span><br><span class="line"># new terminal è¿è¡Œæœ¬åœ°SIBR GUIç¨‹åº</span><br><span class="line">SIBR_remoteGaussian_app -s E:\Download\tandt_db\db\drjohnson --port 6009 --rendering-size 480 240 --force-aspect-ratio</span><br></pre></td></tr></table></figure><p>SIBR_remoteGaussian_appä¸­æ“ä½œï¼š</p><ul><li>W, A, S, D, Q, Eæ§åˆ¶ç›¸æœºç§»åŠ¨</li><li>I, K, J, L, U, Oæ§åˆ¶ç›¸æœºæ—‹è½¬</li></ul><h3 id="è‡ªå®šä¹‰æ•°æ®é›†"><a href="#è‡ªå®šä¹‰æ•°æ®é›†" class="headerlink" title="è‡ªå®šä¹‰æ•°æ®é›†"></a>è‡ªå®šä¹‰æ•°æ®é›†</h3><ul><li>è‡ªå®šä¹‰æ•°æ®é›†- ./data/Miku<ul><li><code>python convert.py -s &lt;location&gt; [--resize] #If not resizing, ImageMagick is not needed</code></li><li>python convert.py -s ./data/Mikuï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨è¿‡colmapç”Ÿæˆäº†sparse/0/ï¼Œåˆ™åªéœ€è¦undistortion</li><li><code>ssh -L 6009:localhost:6009 root@connect.beijinga.seetacloud.com -p 22938</code></li><li><code>SIBR_remoteGaussian_app -s E:\Download\Miku --port 6009 --rendering-size 480 240 --force-aspect-ratio</code></li></ul></li></ul><p>results</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230824163133.png" alt="image.png"></p><p>ç›¸æ¯”äºå¯¹MLPè¿›è¡Œä¼˜åŒ–ï¼Œ3D Gaussian Splattingç›´æ¥å¯¹æœ‰æ„ä¹‰çš„ç‚¹äº‘è¿›è¡Œä¼˜åŒ–</p><ul><li><strong>æ¸²æŸ“æ•ˆæœéå¸¸å¥½(åˆ†è¾¨ç‡é«˜)ï¼Œé€Ÿåº¦å¿«</strong><ul><li><strong>ä½†æ˜¯æ¯”è¾ƒåƒæ˜¾å­˜</strong></li><li>è¾“å‡ºçš„ç‚¹äº‘ä¸­å¿…å®šåŒ…å«å‘¨å›´çš„ç¯å¢ƒï¼Œé™¤éé€‚ç”¨maskå°†è®­ç»ƒæ•°æ®åªé™å®šåˆ°æ„Ÿå…´è¶£ç‰©ä½“</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230824164154.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PointCloud </tag>
            
            <tag> Real-time </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Learn-cs148</title>
      <link href="/Learn/CG%20or%20CV/Learn-cs148/"/>
      <url>/Learn/CG%20or%20CV/Learn-cs148/</url>
      
        <content type="html"><![CDATA[<p><a href="https://web.stanford.edu/class/cs148/index.html">CS 148: Introduction to Computer Graphics and Imaging (stanford.edu)</a></p><span id="more"></span><h1 id="Introduction-amp-Geometry-and-Transformations"><a href="#Introduction-amp-Geometry-and-Transformations" class="headerlink" title="Introduction &amp; Geometry and Transformations"></a>Introduction &amp; Geometry and Transformations</h1><p>Blenderæ“ä½œå’Œä¸¤ä¸ªä½œä¸š(Sphere&amp;Transformation)</p><p>Sphere<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> bpy</span><br><span class="line"><span class="keyword">import</span> bmesh </span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># Your job is to write a program that fills in </span></span><br><span class="line"><span class="comment"># the right vertex locations and faces to make a sphere. </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># I is the number of stacks minus 1 (Since we count from 0)</span></span><br><span class="line">I = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># J is the number of sectors</span></span><br><span class="line">J = <span class="number">15</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># r is the radius </span></span><br><span class="line">r = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">vertex_locations = []</span><br><span class="line">faces = []</span><br><span class="line"></span><br><span class="line"><span class="comment">############## <span class="doctag">TODO:</span> ADD VERTICES ##############</span></span><br><span class="line"><span class="comment"># 1. Add the top vertex (i = 0)</span></span><br><span class="line"><span class="comment"># 2. For each stack, and each sector in that stack, </span></span><br><span class="line"><span class="comment">#    add a vertex (i between 1 and I - 1)</span></span><br><span class="line"><span class="comment"># 3. Add the bottom vertex (i = I)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> Add the top vertex (i = 0)</span></span><br><span class="line">vertex_locations.append((<span class="number">0.</span>,<span class="number">0.</span>,-<span class="number">10.</span>)) <span class="comment"># FIX THIS LINE</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> For each stack, and each sector in that stack, </span></span><br><span class="line"><span class="comment">#       add a vertex (i between 1 and I - 1)</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> You could use theta and phi to find the correct (x,y,z) coordinate</span></span><br><span class="line"><span class="comment">#       You could also figure out the height of each stack to find z,</span></span><br><span class="line"><span class="comment">#       use the radius and z to find the radius of that stack,</span></span><br><span class="line"><span class="comment">#       and use the stack radius and theta to find x and y.</span></span><br><span class="line"><span class="comment">#       Or you could find some other intuition! How do you parse a sphere?</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> Just make sure to take note of the vertex order - you&#x27;ll need that!         </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,I):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(J):</span><br><span class="line">        <span class="comment"># x = 10 # FIX THESE LINES</span></span><br><span class="line">        z = (i * <span class="number">2</span> * r / I) - r</span><br><span class="line">        stack_raidus = math.sqrt(r**<span class="number">2</span> - z**<span class="number">2</span>)  </span><br><span class="line">        theta = <span class="number">2</span> * math.pi * j / J</span><br><span class="line">        x = stack_raidus * math.cos(theta)</span><br><span class="line">        y = stack_raidus * math.sin(theta)</span><br><span class="line">        vertex_locations.append((x,y,z))</span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> Add the bottom vertex (i = I)</span></span><br><span class="line">vertex_locations.append((<span class="number">0.</span>,<span class="number">0.</span>,<span class="number">10.</span>)) <span class="comment"># FIX THIS LINE</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">############## <span class="doctag">TODO:</span> ADD FACES ##############</span></span><br><span class="line"><span class="comment"># 1. Add the top face ring (i = 0)</span></span><br><span class="line"><span class="comment"># 2. Between every two sectors in a stack, add two triangles </span></span><br><span class="line"><span class="comment">#    to form a quad below them. (i between 1 and I - 2)</span></span><br><span class="line"><span class="comment">#    (I - 1 is the bottom sector, so there is only the bottom ring below)</span></span><br><span class="line"><span class="comment"># 3. Add the bottom face ring (i = I)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> Add the top face ring (i = 0)</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> For every sector, you want the face to connect </span></span><br><span class="line"><span class="comment">#       your point with the following point and the top point</span></span><br><span class="line"><span class="comment">#       EXCEPT the last sector, which you want to wrap back around </span></span><br><span class="line"><span class="comment">#       to the first sector in the stack. You&#x27;ll need a separate case here. </span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> What index is the top point? If it&#x27;s the first point in your array, </span></span><br><span class="line"><span class="comment">#       it should be 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># FIX AND EXPAND THIS BEYOND JUST ONE LINE OF CODE</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(J):</span><br><span class="line">    <span class="keyword">if</span> j == J - <span class="number">1</span>:</span><br><span class="line">        faces.append((<span class="number">0</span>, j + <span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        faces.append((<span class="number">0</span>, j + <span class="number">1</span>, j + <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> Between every two sectors in a stack, add two triangles </span></span><br><span class="line"><span class="comment">#       to form a quad below them. (i between 1 and I - 2)</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> Looking at two consecutive sectors in a stack: v1 and v2,</span></span><br><span class="line"><span class="comment">#       what are the indices of v1 and v2? What are the indices of the </span></span><br><span class="line"><span class="comment">#       two points below v1 and v2? </span></span><br><span class="line"><span class="comment">#       How will you compose 2 triangles out of these 4 points? </span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> As before, when you get to the last sector, you must wrap back around </span></span><br><span class="line"><span class="comment">#       to the first sector in that stack. This is a different case for </span></span><br><span class="line"><span class="comment">#       calculating the indices.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, I-<span class="number">2</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(J):</span><br><span class="line">        n = J * i + <span class="number">1</span> + j</span><br><span class="line">        <span class="keyword">if</span> j == J - <span class="number">1</span>:</span><br><span class="line">            faces.append((n , n + <span class="number">1</span> - J, n + J))</span><br><span class="line">            faces.append((n + <span class="number">1</span> - J, n + J, n + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            faces.append((n , n + <span class="number">1</span>, n + J))</span><br><span class="line">            faces.append((n + <span class="number">1</span>, n + J, n + J + <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(faces)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ADD LINES OF CODE TO GENERATE TWO TRIANGLES</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> Add the bottom face ring (i = I)</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> For every sector, you want the face to connect </span></span><br><span class="line"><span class="comment">#       your point with the following point and the bottom point</span></span><br><span class="line"><span class="comment">#       EXCEPT the last sector, which you want to wrap back around </span></span><br><span class="line"><span class="comment">#       to the first sector in the stack. You&#x27;ll need a separate case here. </span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> What index is the bottom point? If you have &quot;x&quot; points total, it should be</span></span><br><span class="line"><span class="comment">#       indexed &quot;x - 1&quot;. How can you calculate the index? This should follow the</span></span><br><span class="line"><span class="comment">#       same pattern as finding the indices above. </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># FIX AND EXPAND THIS BEYOND JUST ONE LINE OF CODE</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(J):</span><br><span class="line">    <span class="keyword">if</span> j == J - <span class="number">1</span>:</span><br><span class="line">        faces.append((<span class="built_in">len</span>(vertex_locations) - <span class="number">1</span>, <span class="built_in">len</span>(vertex_locations) - <span class="number">2</span> - j, <span class="built_in">len</span>(vertex_locations) - <span class="number">2</span>))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        faces.append((<span class="built_in">len</span>(vertex_locations) - <span class="number">1</span>, <span class="built_in">len</span>(vertex_locations) - <span class="number">2</span> - j, <span class="built_in">len</span>(vertex_locations) - <span class="number">3</span> - j))</span><br><span class="line"></span><br><span class="line"><span class="comment">################ Don&#x27;t worry about anything below this! ################</span></span><br><span class="line"><span class="comment">#### Although it&#x27;s good to read if you&#x27;re interested in Blender scripting! ####</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Delete any old object - rename anything you want to keep! </span></span><br><span class="line"><span class="keyword">for</span> o <span class="keyword">in</span> bpy.context.scene.objects:</span><br><span class="line">    <span class="keyword">if</span> o.name == <span class="string">&quot;mySphere&quot;</span>:</span><br><span class="line">        o.select_set(<span class="literal">True</span>)</span><br><span class="line">        bpy.ops.<span class="built_in">object</span>.delete()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Find collection, and make one if none exists</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(bpy.data.collections) &lt; <span class="number">1</span>:</span><br><span class="line">    new_collection = bpy.data.collections.new(<span class="string">&#x27;Scene Collection&#x27;</span>)</span><br><span class="line">    bpy.context.scene.collection.children.link(new_collection)</span><br><span class="line">        </span><br><span class="line">collection = bpy.data.collections[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a new mesh and object to put the data into</span></span><br><span class="line">sphere_mesh = bpy.data.meshes.new(<span class="string">&#x27;mySphere_mesh&#x27;</span>)</span><br><span class="line">sphere_object = bpy.data.objects.new(<span class="string">&#x27;mySphere&#x27;</span>, sphere_mesh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add object to scene collection</span></span><br><span class="line">collection.objects.link(sphere_object)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bmesh is a method of editing the mesh data within an object</span></span><br><span class="line">bm = bmesh.new()</span><br><span class="line">bm.from_mesh(sphere_object.data) </span><br><span class="line"></span><br><span class="line"><span class="comment"># Now we&#x27;ll add all the vertices into the new mesh</span></span><br><span class="line">vertices = []</span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> vertex_locations:</span><br><span class="line">    vertices.append(bm.verts.new(v))</span><br><span class="line"></span><br><span class="line"><span class="comment"># For the faces, we want the bmesh vertices, instead of the integer indices </span></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> faces:</span><br><span class="line">    face = [vertices[i] <span class="keyword">for</span> i <span class="keyword">in</span> f]</span><br><span class="line">    bm.faces.new(face)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Finally, we&#x27;ll reload the mesh into the object! </span></span><br><span class="line">bm.to_mesh(sphere_object.data)  </span><br><span class="line">bm.free()</span><br></pre></td></tr></table></figure></p><p>Transformation<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> bpy</span><br><span class="line"><span class="keyword">import</span> bmesh </span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">cones = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reset_scene</span>():</span><br><span class="line">    <span class="keyword">for</span> o <span class="keyword">in</span> bpy.context.scene.objects:</span><br><span class="line">        o.select_set(<span class="literal">True</span>)</span><br><span class="line">        bpy.ops.<span class="built_in">object</span>.delete()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_cone</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="comment"># Create a new mesh and object to put the data into</span></span><br><span class="line">    bpy.ops.mesh.primitive_cone_add(location=(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">    cone_object = bpy.context.active_object</span><br><span class="line">    cone_object.name = name</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Bmesh is a method of editing the mesh data within an object</span></span><br><span class="line">    bm = bmesh.new()</span><br><span class="line">    bm.from_mesh(cone_object.data) </span><br><span class="line">    cones.append((cone_object, bm))</span><br><span class="line">    <span class="keyword">return</span> bm</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">apply_transforms</span>():</span><br><span class="line">    <span class="keyword">for</span> cone <span class="keyword">in</span> cones:</span><br><span class="line">        bm = cone[<span class="number">1</span>]</span><br><span class="line">        cone_object = cone[<span class="number">0</span>]</span><br><span class="line">        bm.to_mesh(cone_object.data)  </span><br><span class="line">        bm.free()</span><br><span class="line">        </span><br><span class="line"><span class="comment">####################### DO NOT EDIT ABOVE THIS LINE! #######################</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">translate_matrix</span> (distance, axis):</span><br><span class="line">    <span class="comment"># <span class="doctag">TODO:</span> Edit this matrix to be the correct translation matrix</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># X_AXIS = 0, Y_AXIS = 1, Z_AXIS = 2</span></span><br><span class="line">    <span class="keyword">if</span> axis == <span class="number">0</span>:</span><br><span class="line">        arr = np.array([ [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, distance],</span><br><span class="line">                            [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="keyword">elif</span> axis == <span class="number">1</span>:</span><br><span class="line">        arr = np.array([ [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                            [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, distance],</span><br><span class="line">                            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                            [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="keyword">elif</span> axis == <span class="number">2</span>:</span><br><span class="line">        arr = np.array([ [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, distance],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">               </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rotate_matrix</span> (degrees, axis):</span><br><span class="line">    <span class="comment"># <span class="doctag">TODO:</span> Edit this matrix to be the correct rotation matrix</span></span><br><span class="line">    <span class="comment"># We want to keep the 4x4 version so that we can multiply it with the</span></span><br><span class="line">    <span class="comment"># translation matrix, which has to be 4x4 as discussed in lecture.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># X_AXIS = 0, Y_AXIS = 1, Z_AXIS = 2</span></span><br><span class="line">    <span class="keyword">if</span> axis == <span class="number">0</span>:</span><br><span class="line">        arr = np.array([ [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, math.cos(math.radians(degrees)), -math.sin(math.radians(degrees)), <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, math.sin(math.radians(degrees)), math.cos(math.radians(degrees)), <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="keyword">elif</span> axis == <span class="number">1</span>:</span><br><span class="line">        arr = np.array([ [math.cos(math.radians(degrees)), <span class="number">0</span>, math.sin(math.radians(degrees)), <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                    [-math.sin(math.radians(degrees)), <span class="number">0</span>, math.cos(math.radians(degrees)), <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="keyword">elif</span> axis == <span class="number">2</span>:</span><br><span class="line">        arr = np.array([ [math.cos(math.radians(degrees)), -math.sin(math.radians(degrees)), <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                    [math.sin(math.radians(degrees)), math.cos(math.radians(degrees)), <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]])</span><br><span class="line">    <span class="keyword">return</span> arr </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">transform_cone</span>(<span class="params">cone_bm, matrix</span>):</span><br><span class="line">    <span class="comment"># You do not need to edit this function, but you might want to include</span></span><br><span class="line">    <span class="comment"># more print statements to the OS console for debugging!</span></span><br><span class="line">    <span class="keyword">for</span> v <span class="keyword">in</span> cone_bm.verts:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;----------Vertex BEFORE transformation (x, y, z)----------&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(v.co)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Apply the transformation matrix to every vertex</span></span><br><span class="line">        r = np.matmul(matrix, np.append(np.asarray(v.co), <span class="number">1</span>))</span><br><span class="line">        v.co = r[:-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;----------Vertices AFTER transformation (x, y, z)----------&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(v.co)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Do not touch this line. This just clears the scene.</span></span><br><span class="line">reset_scene()</span><br><span class="line"></span><br><span class="line"><span class="comment"># These add 4 cones, each with the names in quotes as you see below.</span></span><br><span class="line"><span class="comment"># The names will show up in the Scene Collection in Blender to let you</span></span><br><span class="line"><span class="comment"># differentiate amongst the cones.</span></span><br><span class="line"><span class="comment"># You should not need to edit these lines.</span></span><br><span class="line">q1 = add_cone(<span class="string">&quot;rot_45_x_rot_45_y&quot;</span>)</span><br><span class="line">q2 = add_cone(<span class="string">&quot;rot_45_y_rot_45_x&quot;</span>)</span><br><span class="line">q3 = add_cone(<span class="string">&quot;trans_10_x_rot_45_y&quot;</span>)</span><br><span class="line">q4 = add_cone(<span class="string">&quot;rot_45_y_trans_10_x&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">TODO:</span> Uncomment the lines below to apply the appropriate transformations</span></span><br><span class="line"><span class="comment"># to all 4 cones. They are commented out for now, since you&#x27;ll likely prefer</span></span><br><span class="line"><span class="comment"># to just work with 1 cone at first for debugging purposes.</span></span><br><span class="line"><span class="comment"># When debugging your matrices, you&#x27;ll want to only enable one transformation</span></span><br><span class="line"><span class="comment"># at a time, as your OS console will get flooded by print outs of all the</span></span><br><span class="line"><span class="comment"># changed cone vertices for each transformation.</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Rotate X 45&quot;</span>)</span><br><span class="line">transform_cone(q1, rotate_matrix(<span class="number">45</span>, <span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Rotate Y 45&quot;</span>)</span><br><span class="line">transform_cone(q1, rotate_matrix(<span class="number">45</span>, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Rotate Y 45&quot;</span>)</span><br><span class="line">transform_cone(q2, rotate_matrix(<span class="number">45</span>, <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Rotate X 45&quot;</span>)</span><br><span class="line">transform_cone(q2, rotate_matrix(<span class="number">45</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Translate X 10&quot;</span>)</span><br><span class="line">transform_cone(q3, translate_matrix(<span class="number">10</span>, <span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Rotate Y 45&quot;</span>)</span><br><span class="line">transform_cone(q3, rotate_matrix(<span class="number">45</span>, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Rotate Y 45&quot;</span>)</span><br><span class="line">transform_cone(q4, rotate_matrix(<span class="number">45</span>, <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Translate X 10&quot;</span>)</span><br><span class="line">transform_cone(q4, translate_matrix(<span class="number">10</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Do not touch this line. This applys the transformations above.</span></span><br><span class="line">apply_transforms()</span><br></pre></td></tr></table></figure></p><h1 id="Rasterization-and-Shading"><a href="#Rasterization-and-Shading" class="headerlink" title="Rasterization and Shading"></a>Rasterization and Shading</h1><h2 id="Phong-Reflection-Model"><a href="#Phong-Reflection-Model" class="headerlink" title="Phong Reflection Model"></a>Phong Reflection Model</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816184143.png" alt="image.png"></p><p>$c=c_{a}+c_{d}c_{l}max(0,n\cdot l)+c_{specular}$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816184315.png" alt="image.png"></p><p>$c_{specular}=c_sc_lmax(0,e\cdot r)$<br>=&gt;+ shininess value: how shiny we want to tune the material<br>$c_{specular}=c_sc_lmax(0,e\cdot r)^\alpha$<br>=&gt;+ åå°„rä¸å¥½è®¡ç®—<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816184900.png" alt="image.png"><br>è®¡ç®—lå’Œeçš„halfway vector hï¼Œ å½“eä¸rå¯¹é½æ—¶ï¼Œhä¸nå¯¹é½<br>$h=\frac{e+l}{|e+l|}$<br>$c_{specular}=c_sc_lmax(0,n\cdot h)^\alpha$</p><p>æœ€ç»ˆï¼š$c=c_{ambient}+c_{diffuse}+c_{specular}$<br>$\begin{aligned}c&amp;=c_a+c_dc_lmax(0,n\cdot l)+c_sc_lmax(0,n\cdot h)^\alpha\end{aligned}$</p><h2 id="How-do-we-make-the-teapot-image-look-smooth"><a href="#How-do-we-make-the-teapot-image-look-smooth" class="headerlink" title="How do we make the teapot image look smooth?"></a>How do we make the teapot image look smooth?</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816190517.png" alt="image.png"></p><p>Gourad Shading:</p><p>a. b. c. ä¸‰ä¸ªvertexçš„é¢œè‰²å€¼å’Œæ³•å‘é‡ï¼Œåˆ™ä¸‰è§’å½¢ä¸­ä»»æ„ä¸€ç‚¹v</p><p>$c_{v}=\frac{A_{a}}{A_{total}}c_{a}+\frac{A_{b}}{A_{total}}c_{b}+\frac{A_{c}}{A_{total}}c_{c}$<br>$n_{v}=\frac{A_{a}}{A_{total}}n_{a}+\frac{A_{b}}{A_{total}}n_{b}+\frac{A_{c}}{A_{total}}n_{c}$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816190549.png" alt="image.png"></p><p>å¯¹æ¯”ä¸‰ç§ä¸åŒè®¡ç®—é¢œè‰²çš„æ–¹æ³•ï¼š</p><div class="table-container"><table><thead><tr><th>name</th><th>æ–¹æ³•æè¿°</th><th>result</th></tr></thead><tbody><tr><td>Flat</td><td>ä½¿ç”¨æ¯ä¸ªé¡¶ç‚¹è®¡ç®—å‡ºçš„é¢œè‰²å¹³å‡å€¼ä¸ºä¸‰è§’å½¢ç€è‰²</td><td>simple, fast, but looks bad.</td></tr><tr><td>Gourad</td><td>é€šè¿‡å¯¹æ¯ä¸ªé¡¶ç‚¹çš„é¢œè‰²è¿›è¡Œå†…æ’ï¼Œå¯¹ä¸‰è§’å½¢è¿›è¡Œé˜´å½±å¤„ç†</td><td>good balance between speed and visual result</td></tr><tr><td>Phong</td><td>å†…æ’æ¯ä¸ªé¡¶ç‚¹çš„æ³•çº¿ï¼Œç„¶åè®¡ç®—ä¸‰è§’å½¢ä¸­æ¯ä¸ªç‚¹çš„é¢œè‰²</td><td>expensive but best look!</td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816191216.png" alt="image.png"></p><ul><li>å…‰æ …åŒ–çš„pipeline</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816191354.png" alt="image.png"></p><h1 id="Color-Images-and-Cameras"><a href="#Color-Images-and-Cameras" class="headerlink" title="Color, Images, and Cameras"></a>Color, Images, and Cameras</h1><p><strong>The images we create ARE NOT intended to duplicate reality, only to fool humans into believing such</strong></p><h2 id="Camera"><a href="#Camera" class="headerlink" title="Camera"></a>Camera</h2><p>ç›¸æœºåæ ‡ç³»</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816201009.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816202528.png" alt="image.png"></p><p>æŠ•å½±å˜æ¢çŸ©é˜µï¼Œå°†é”¥å½¢ç©ºé—´è½¬æ¢åˆ°æ­£æ–¹ä½“ç©ºé—´orthographic clipping space<br><em>transform viewing frustrum to an orthographic bounding box</em></p><p>$\begin{pmatrix}\frac{1}{r_x}&amp;0&amp;0&amp;0\\0&amp;\frac{1}{r_y}&amp;0&amp;0\\0&amp;0&amp;\frac{d0+d1}{d0-d1}&amp;2\frac{d0d1}{d0-d1}\\0&amp;0&amp;-1&amp;0\end{pmatrix}\begin{pmatrix}x\\y\\z\\1\end{pmatrix}$</p><p>ç„¦è·fè¶Šå°ï¼Œä¼ æ„Ÿå™¨hè¶Šå¤§==&gt;è§†é‡è¶Šå®½<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816203747.png" alt="image.png"></p><p>å…‰åœˆè¶Šå¤§ï¼Œæ™¯æ·±è¶Šå¤§è¿˜æ˜¯è¶Šå°ï¼Ÿ</p><ul><li>F = ç„¦è·/å…¥ç³ç›´å¾„ ==&gt; æ§åˆ¶æ›å…‰ï¼Œå½±å“æ™¯æ·±</li><li>Fè¶Šå° â€”&gt; å…‰åœˆè¶Šå¤§ â€”&gt; å…¥ç³ç›´å¾„è¶Šå¤§ â€”&gt; æ™¯æ·±è¶Šå°</li></ul><blockquote><p><a href="https://www.bilibili.com/video/BV1t24y1k7Ye">https://www.bilibili.com/video/BV1t24y1k7Ye</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816204530.png" alt="image.png"></p><h1 id="Light-and-Optics"><a href="#Light-and-Optics" class="headerlink" title="Light and Optics"></a>Light and Optics</h1><p>3D ==&gt; solid angle</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816210323.png" alt="image.png"></p><p>è¾å°„å¼ºåº¦Radiant Intensityï¼š$I(\omega)=\frac{dP}{d\omega}$ å…‰æºåœ¨æ¯ä¸ªsolid angleä¸Šçš„åŠŸç‡powerï¼Œå•ä½w</p><ul><li>å„é¡¹å¼‚æ€§å…‰æºï¼šè¾å°„å¼ºåº¦åœ¨æ•´ä¸ªå…‰æºä¸­éƒ½æ˜¯ä¸åŒçš„ï¼Œéœ€è¦function of steradiansç«‹ä½“è§’çš„å‡½æ•°</li><li>å„é¡¹åŒæ€§ç‚¹å…‰æºï¼šå¯¹$\begin{aligned}dP=Id\omega\end{aligned}$ç§¯åˆ† ==&gt; $P=\int_{sphere}Id\omega=4\pi I$</li></ul><p>è¾ç…§åº¦Irradiance: å…‰ç…§å°„ç‰©ä½“å•ä½è¡¨é¢ç§¯çš„åŠŸç‡ã€‚å…‰çš„å•ä½è¡¨é¢ç§¯åŠŸç‡$E=\frac{dP}{dA}$</p><ul><li>å¦‚æœè¡¨é¢å€¾æ–œï¼Œåˆ™è¾ç…§åº¦å‡å°ï¼š$E=\frac{dP}{dA}\rightarrow E_{tilted}=\frac{\frac{A\cos\theta}{A}P}{A}=E\cos\theta$</li><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816210737.png" alt="image.png"></li><li>Irradiance <ul><li>varies based on tilt angle of surface with light</li><li>varies based on distance from light</li></ul></li></ul><p>ç°å®ä¸–ç•Œä¸­ï¼Œå…‰æºä¸æ˜¯ç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªå•ä½é¢ç§¯ï¼Œå› æ­¤å°†è¾å°„åº¦å®šä¹‰ä¸º<strong>å•ä½é¢ç§¯</strong>chunkçš„è¾å°„å¼ºåº¦<br>è¾å°„åº¦radianceï¼š$L=\frac{dI}{dA\cos\theta}$<br>$L=\frac{dI}{dA\cos\theta}=\left(\frac{d(dP)}{d\omega dA\cos\theta}=\frac{dE}{d\omega\cos\theta}\right)$</p><p>ç°å®ä¸–ç•Œä¸­ï¼Œå…‰æºæ¥è‡ªå„ä¸ªå¯ä»¥çœ‹è§çš„ç‰©ä½“ï¼Œå…‰çº¿ä¼ æ’­åˆ°ä¸€ä¸ªç‰©ä½“materialä¸Šåï¼Œä¼šå‘ç”Ÿï¼šåå°„ã€å¸æ”¶ã€ä¼ è¾“ï¼ˆæ•£å°„ï¼‰</p><p>å»ºæ¨¡materialsçš„æ–¹æ³•ï¼š</p><ul><li>BRDF â€”&gt; Reflectance $BRDF(\omega_i,\omega_o)=\frac{dL_o(\omega_o)}{dE_i(\omega_i)}$<ul><li>BRDF æ¨¡æ‹Ÿåœ¨å…¥å°„æ–¹å‘ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå‘å¤–æ–¹å‘åå°„å¤šå°‘å…‰</li></ul></li><li>BTDF â€”&gt; Transmittance</li><li>BSSRDF â€”&gt; Surface Scatteringæ•£å°„ Reflectance</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816211756.png" alt="image.png"></p><p>æ›´ç²¾ç¡®Lightingæ–¹ç¨‹ï¼šæ ¹æ®BRDF<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230816212333.png" alt="image.png"></p><p>å¾—å‡ºï¼š$L_o(\omega_o)=\int_{i\in in}BRDF(\omega_i,\omega_o)L_i\cos\theta_id\omega_i$</p><p>HW2</p><ul><li>ç„¦è·å’Œè·ç¦»ç­‰æ¯”ä¾‹å˜åŒ–ï¼Œç„¦è·è¶Šå¤§ï¼Œç…§ç‰‡çš„ä¿¡æ¯è¶Šå¤š(è€³æœµå˜å¤§)</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/GIF%202023-8-17%2016-43-19.gif" alt="GIF 2023-8-17 16-43-19.gif"></p><h1 id="Raytracing"><a href="#Raytracing" class="headerlink" title="Raytracing"></a>Raytracing</h1>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PlankAssembly</title>
      <link href="/3DReconstruction/Multi-view/Generative%20Models/PlankAssembly/"/>
      <url>/3DReconstruction/Multi-view/Generative%20Models/PlankAssembly/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>PlankAssembly: Robust 3D Reconstruction from Three Orthographic Views with Learnt Shape Programs</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://github.com/Huenao">Wentao Hu</a>    <a href="https://bertjiazheng.github.io/">Jia Zheng</a>     <a href="https://github.com/Elsa-zhang">Zixin Zhang</a>     <a href="https://yuan-xiaojun.github.io/Yuan-Xiaojun/">Xiaojun Yuan</a>     <a href="https://sai.sysu.edu.cn/teacher/teacher01/1385356.htm">Jian Yin</a>     <a href="https://zihan-z.github.io/">Zihan Zhou</a></td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://manycore-research.github.io/PlankAssembly/">PlankAssembly: Robust 3D Reconstruction from Three Orthographic Views with Learnt Shape Programs (manycore-research.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4787600278115319809&amp;noteId=1912848205953901312">PlankAssembly: Robust 3D Reconstruction from Three Orthographic Views with Learnt Shape Programs (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230813211026.png" alt="image.png"></p><p>è´¡çŒ®ï¼š</p><ul><li>åŸºäºTransformçš„è‡ªæ³¨æ„åŠ›æå‡ºæ¨¡å‹ï¼Œç”¨äºå°†2Dçš„ä¸‰ä¸ªorthographicçš„line drawingè½¬åŒ–ä¸º3Dæ¨¡å‹ï¼Œå¯ä»¥å®ç°ä»å›¾çº¸ä¸å®Œç¾çš„è¾“å…¥ä¸­ç”Ÿæˆæ­£ç¡®çš„3Dæ¨¡å‹</li><li>è¾“å…¥çš„ä¸‰ä¸ªorthographicå›¾çº¸è¢«ç¼–ç ï¼Œè¾“å‡ºçš„æ˜¯3Dæ¨¡å‹ç¨‹åºçš„ç¼–ç ï¼Œæœ€åè§£ç åå³3Dæ¨¡å‹å¯¹åº”çš„ç¨‹åºDSL</li></ul><p>æŒ‘æˆ˜ï¼š</p><ul><li>åº”ç”¨äºæ— æ³•è·å¾—ç”šè‡³ä¸å­˜åœ¨å¤§è§„æ¨¡CADæ•°æ®çš„é¢†åŸŸï¼Œä¾‹å¦‚å»ºç­‘ç‰©æˆ–å¤æ‚çš„æœºæ¢°è®¾å¤‡</li><li>æ²¡æœ‰è€ƒè™‘å›¾çº¸ä¸­çš„ç¬¦å·ã€å›¾å±‚ç­‰ä¿¡æ¯</li></ul><span id="more"></span><h1 id="Discussion-amp-Conclusion"><a href="#Discussion-amp-Conclusion" class="headerlink" title="Discussion&amp;Conclusion"></a>Discussion&amp;Conclusion</h1><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºä¸‰ä¸ªæ­£å°„å½±è§†å›¾çš„ä¸‰ç»´CADæ¨¡å‹é‡å»ºç”Ÿæˆæ–¹æ³•ã€‚ä»æˆ‘ä»¬çš„å®éªŒä¸­å¯ä»¥å­¦åˆ°ä¸¤ä¸ªæ•™è®­lessons:</p><ul><li>é¦–å…ˆï¼Œä¸å¯»æ‰¾2Dçº¿æ¡å›¾å’Œ3Dæ¨¡å‹ä¹‹é—´çš„æ˜ç¡®å¯¹åº”å…³ç³»ç›¸æ¯”ï¼Œ<strong>æ³¨æ„æœºåˆ¶åœ¨æ·±åº¦ç½‘ç»œå¯¹ä¸å®Œç¾è¾“å…¥çš„é²æ£’æ€§ä¸­èµ·ç€å…³é”®ä½œç”¨</strong>ã€‚</li><li>å…¶æ¬¡ï¼Œ<strong>åœ¨ç”Ÿæˆæ¨¡å‹ä¸­åŠ å…¥é¢†åŸŸçŸ¥è¯†æœ‰åˆ©äºé‡æ„å’Œä¸‹æ¸¸åº”ç”¨</strong></li></ul><p>æœ‰äººå¯èƒ½ä¼šè¯´ï¼Œæˆ‘ä»¬çš„å®éªŒä»…é™äºæ©±æŸœå®¶å…·ï¼Œè¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„CADæ¨¡å‹ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¼ºè°ƒæˆ‘ä»¬çš„ä¸»è¦æ€æƒ³å’Œç»éªŒæ•™è®­æ˜¯é€šç”¨çš„ï¼Œå¯ä»¥åº”ç”¨äºä»»ä½•CADæ¨¡å‹ã€‚ä¾‹å¦‚ï¼ŒDeepCAD[35]ç­‰å…ˆå‰çš„å·¥ä½œå·²ç»å¼€å‘å‡ºèƒ½å¤Ÿç”Ÿæˆé€‚åˆæœºæ¢°é›¶ä»¶çš„CADå‘½ä»¤åºåˆ—çš„ç¥ç»ç½‘ç»œã€‚ä¸æ©±æŸœå®¶å…·ä¸åŒï¼Œæœºæ¢°éƒ¨ä»¶é€šå¸¸å…·æœ‰éçŸ©å½¢è½®å»“(ä½†å—çŠ¶è¾ƒå°‘)ã€‚å› æ­¤ï¼Œå°†æˆ‘ä»¬çš„æ–¹æ³•æ‰©å±•åˆ°è¿™äº›é¢†åŸŸæ˜¯ç›¸å¯¹ç®€å•çš„ã€‚</p><p>ä¸€ä¸ªæ›´å…·<strong>æŒ‘æˆ˜</strong>æ€§çš„åœºæ™¯æ˜¯å°è¯•å°†æˆ‘ä»¬çš„æ•°æ®é©±åŠ¨æ–¹æ³•<strong>åº”ç”¨äºæ— æ³•è·å¾—ç”šè‡³ä¸å­˜åœ¨å¤§è§„æ¨¡CADæ•°æ®çš„é¢†åŸŸï¼Œä¾‹å¦‚å»ºç­‘ç‰©æˆ–å¤æ‚çš„æœºæ¢°è®¾å¤‡</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ç›®å‰çš„æ–¹æ³•<strong>æ²¡æœ‰è€ƒè™‘</strong>CADå›¾çº¸ä¸­å¯ç”¨çš„å…¶ä»–ä¿¡æ¯ï¼Œå¦‚<strong>å›¾å±‚ã€æ–‡æœ¬ã€ç¬¦å·å’Œæ³¨é‡Š</strong>ã€‚è¿‘å¹´æ¥ï¼Œäººä»¬æå‡ºäº†å‡ ç§ç”¨äºCADå›¾ä¸­å…¨å…‰å­¦ç¬¦å·è¯†åˆ«çš„æ–¹æ³•[6,39,5]ã€‚æˆ‘ä»¬ç›¸ä¿¡è¿™äº›ä¿¡æ¯å¯¹äºä»å¤æ‚çš„CADå›¾çº¸è¿›è¡Œ3Dé‡å»ºä¹Ÿæ˜¯è‡³å…³é‡è¦çš„ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ç§æ–°çš„æ–¹æ³•æ¥è‡ªåŠ¨è½¬æ¢äºŒç»´çº¿æ¡å›¾ä»ä¸‰ä¸ªæ­£å°„å½±åˆ°ä¸‰ç»´CADæ¨¡å‹ã€‚<br>è¯¥é—®é¢˜çš„<strong>ç°æœ‰æ–¹æ³•</strong>é€šè¿‡å°†2Dè§‚æµ‹æ•°æ®åå‘æŠ•å½±åˆ°3Dç©ºé—´æ¥é‡å»º3Dæ¨¡å‹ï¼ŒåŒæ—¶ä¿æŒè¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„æ˜¾å¼å¯¹åº”ã€‚<strong>è¿™ç§æ–¹æ³•å¯¹è¾“å…¥ä¸­çš„é”™è¯¯å’Œå™ªå£°å¾ˆæ•æ„Ÿï¼Œå› æ­¤åœ¨å®è·µä¸­ç»å¸¸å¤±è´¥ï¼Œå› ä¸ºäººç±»è®¾è®¡å¸ˆåˆ›å»ºçš„è¾“å…¥å›¾çº¸ä¸å®Œç¾</strong>ã€‚<br>ä¸ºäº†å…‹æœè¿™ä¸€å›°éš¾ï¼Œæˆ‘ä»¬åˆ©ç”¨åŸºäºtransformerçš„åºåˆ—ç”Ÿæˆæ¨¡å‹ä¸­çš„<strong>æ³¨æ„æœºåˆ¶</strong>æ¥å­¦ä¹ è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„çµæ´»æ˜ å°„ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜è®¾è®¡äº†<strong>é€‚åˆç”Ÿæˆæ„Ÿå…´è¶£å¯¹è±¡çš„å½¢çŠ¶ç¨‹åº</strong>ï¼Œä»¥æé«˜é‡å»ºç²¾åº¦å¹¶ä¿ƒè¿›CADå»ºæ¨¡åº”ç”¨ã€‚<br>åœ¨ä¸€ä¸ªæ–°çš„åŸºå‡†æ•°æ®é›†ä¸Šçš„å®éªŒè¡¨æ˜ï¼Œå½“è¾“å…¥æœ‰å™ªå£°æˆ–ä¸å®Œæ•´æ—¶ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜æ˜¾ä¼˜äºç°æœ‰çš„æ–¹æ³•ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è§£å†³äº†è®¡ç®—æœºè¾…åŠ©è®¾è®¡(CAD)ä¸­ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„é—®é¢˜ï¼Œå³ä»ä¸‰ä¸ªæ­£å°„å½±è§†å›¾é‡å»ºä¸‰ç»´ç‰©ä½“ã€‚åœ¨å½“ä»Šçš„äº§å“è®¾è®¡å’Œåˆ¶é€ è¡Œä¸šä¸­ï¼Œè®¾è®¡å¸ˆé€šå¸¸ä½¿ç”¨äºŒç»´å·¥ç¨‹å›¾çº¸æ¥å®ç°ï¼Œæ›´æ–°å’Œåˆ†äº«ä»–ä»¬çš„æƒ³æ³•ï¼Œç‰¹åˆ«æ˜¯åœ¨åˆå§‹è®¾è®¡é˜¶æ®µã€‚ä½†ä¸ºäº†è¿›ä¸€æ­¥åˆ†æ(å¦‚æœ‰é™å…ƒåˆ†æ)å’Œåˆ¶é€ ï¼Œè¿™äº›2Dè®¾è®¡å¿…é¡»åœ¨CADè½¯ä»¶ä¸­æ‰‹åŠ¨å®ç°ä¸º3Dæ¨¡å‹ã€‚å› æ­¤ï¼Œå¦‚æœæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥è‡ªåŠ¨å°†äºŒç»´å›¾çº¸è½¬æ¢ä¸ºä¸‰ç»´æ¨¡å‹ï¼Œå°†å¤§å¤§ç®€åŒ–è®¾è®¡è¿‡ç¨‹ï¼Œæé«˜æ•´ä½“æ•ˆç‡</p><p>ä½œä¸º2Dç»˜å›¾ä¸­æœ€æµè¡Œçš„æè¿°ç‰©ä½“çš„æ–¹å¼ï¼Œæ­£å°„å½±è§†å›¾æ˜¯ç‰©ä½“åœ¨å‚ç›´äºä¸‰ä¸ªä¸»è½´ä¹‹ä¸€çš„å¹³é¢ä¸Šçš„æŠ•å½±(å›¾1)ã€‚åœ¨è¿‡å»çš„å‡ åå¹´é‡Œï¼Œä»ä¸‰ä¸ªæ­£å°„å½±è§†å›¾è¿›è¡Œä¸‰ç»´é‡å»ºå¾—åˆ°äº†å¹¿æ³›çš„ç ”ç©¶ï¼Œåœ¨é€‚ç”¨å¯¹è±¡çš„ç±»å‹å’Œè®¡ç®—æ•ˆç‡æ–¹é¢æœ‰äº†æ˜¾è‘—çš„æ”¹è¿›[25,10,19,37,38,28,18,21,8,9]ã€‚ç„¶è€Œï¼Œæ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™äº›æŠ€æœ¯å¹¶æ²¡æœ‰åœ¨CADè½¯ä»¶å’Œå•†ä¸šäº§å“ä¸­å¾—åˆ°å¹¿æ³›é‡‡ç”¨ã€‚</p><p>åœ¨ç°æœ‰çš„æ–¹æ³•åœ¨å®è·µä¸­é¢ä¸´çš„æŒ‘æˆ˜ä¸­ï¼Œå®ƒä»¬å¯¹å›¾çº¸ä¸­çš„é”™è¯¯å’Œç¼ºå¤±éƒ¨ä»¶çš„æ•æ„Ÿæ€§å¯ä»¥è¯´æ˜¯æœ€å…³é”®çš„ã€‚ä¸ºäº†ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°<strong>å‡ ä¹æ‰€æœ‰ç°æœ‰çš„æ–¹æ³•éƒ½éµå¾ª3Dé‡å»ºçš„æ ‡å‡†ç¨‹åº</strong>ï¼Œå…¶ä¸­åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤:<br>(i)ä»2Dé¡¶ç‚¹ç”Ÿæˆ3Dé¡¶ç‚¹;<br>(ii)ä»ä¸‰ç»´é¡¶ç‚¹ç”Ÿæˆä¸‰ç»´è¾¹ç¼˜;<br>(iii)ç”±ä¸‰ç»´è¾¹ç¼˜ç”Ÿæˆä¸‰ç»´é¢;<br>(iv)ä»3Dé¢æ„å»º3Dæ¨¡å‹(å¦‚å›¾6æ‰€ç¤º)ã€‚éµå¾ªç®¡é“çš„ä¸€ä¸ªä¸»è¦å¥½å¤„æ˜¯å¯ä»¥æ‰¾åˆ°ä¸è¾“å…¥è§†å›¾åŒ¹é…çš„æ‰€æœ‰è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒåœ¨3Dæ¨¡å‹ä¸­çš„å®ä½“å’Œç»˜å›¾ä¸­çš„å®ä½“ä¹‹é—´å»ºç«‹äº†æ˜¾å¼çš„å¯¹åº”å…³ç³»ã€‚<strong>ä½†åœ¨å®è·µä¸­ï¼Œè®¾è®¡å¸ˆå¹¶ä¸ä¼šèŠ±é¢å¤–çš„ç²¾åŠ›å»å®Œå–„å›¾çº¸ï¼Œåªè¦èƒ½ä¼ è¾¾ä»–ä»¬çš„æƒ³æ³•ï¼Œä»–ä»¬å°±ä¼šè®¤ä¸ºä¸€å¹…å›¾çº¸è¶³å¤Ÿå¥½</strong>ã€‚å› æ­¤ï¼ŒæŸäº›å®ä½“å¯èƒ½æ˜¯é”™è¯¯çš„æˆ–ç¼ºå¤±çš„ã€‚å› æ­¤ï¼Œå‰é¢æåˆ°çš„ç®¡é“ç»å¸¸æ— æ³•æ‰¾åˆ°æ‰€éœ€çš„è§£å†³æ–¹æ¡ˆã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230813161256.png" alt="image.png"></p><p>å› æ­¤ï¼Œä¸ºäº†å…‹æœè¿™ä¸€å›°éš¾ï¼Œæœ‰å¿…è¦ä»¥æ›´å…¨é¢çš„æ–¹å¼å¯¹äºŒç»´å›¾å½¢è¿›è¡Œæ¨ç†ï¼Œå¹¶åœ¨è¾“å…¥å’Œè¾“å‡ºä¹‹é—´å®ç°æ›´çµæ´»çš„æ˜ å°„ã€‚æœ€è¿‘ï¼ŒTransformer[29]å·²ç»æˆä¸ºè®¸å¤šNLPå’ŒCVä»»åŠ¡çš„æ ‡å‡†æ¶æ„ã€‚<strong>å®ƒåœ¨åºåˆ—åˆ°åºåˆ—(seq2seq)é—®é¢˜ä¸­ç‰¹åˆ«æœ‰æ•ˆ</strong>ï¼Œä¾‹å¦‚æœºå™¨ç¿»è¯‘ï¼Œå…¶ä¸­å…³äºä¸Šä¸‹æ–‡çš„æ¨ç†ä»¥åŠè¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„è½¯å¯¹é½æ˜¯è‡³å…³é‡è¦çš„ã€‚å—æ­¤å¯å‘ï¼Œæˆ‘ä»¬å°†é—®é¢˜è½¬åŒ–ä¸ºseq2seqé—®é¢˜ï¼Œå¹¶æå‡ºäº†ä¸€ç§åŸºäºtransformerçš„æ·±åº¦å­¦ä¹ æ–¹æ³•ã€‚ç›´è§‚ä¸Šï¼Œ<strong>è‡ªå…³æ³¨æ¨¡å—å¯ä»¥è®©æ¨¡å‹æ•æ‰åˆ°äº§å“è®¾è®¡å¸ˆçš„æ„å›¾ï¼Œå³ä½¿ä»–ä»¬çš„å›¾çº¸ä¸å®Œç¾ï¼Œäº¤å‰å…³æ³¨æ¨¡å—å¯ä»¥å®ç°2Då›¾çº¸å’Œ3Dæ¨¡å‹ä¸­å‡ ä½•å®ä½“ä¹‹é—´çš„çµæ´»æ˜ å°„</strong>ã€‚</p><p>å¯¹å‡ ä½•å®ä½“ä½¿ç”¨å­¦ä¹ è¡¨å¾å’Œè½¯å¯¹é½çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œäººä»¬å¯ä»¥è‡ªç”±é€‰æ‹©å¦‚ä½•æ„å»º3Dæ¨¡å‹ã€‚è¿™ä¸ºæˆ‘ä»¬æä¾›äº†å°†é¢†åŸŸçŸ¥è¯†åˆå¹¶åˆ°æˆ‘ä»¬çš„æ–¹æ³•ä¸­ä»¥æé«˜å…¶æ€§èƒ½çš„æœºä¼šã€‚ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œ<strong>æœ¬æ–‡å°†é‡ç‚¹</strong>æ”¾åœ¨ä¸€ä¸ªç‰¹å®šç±»å‹çš„äº§å“â€”â€”<strong>æ©±æŸœå®¶å…·ä¸Š</strong>ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œä¸€ä¸ªæ©±æŸœé€šå¸¸æ˜¯é€šè¿‡åœ¨3Då»ºæ¨¡è½¯ä»¶ä¸­æ’åˆ—å’Œè¿æ¥ä¸€äº›æœ¨æ¿(å³æœ¨æ¿)æ¥æ„å»ºçš„ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬<strong>å¼€å‘äº†ä¸€ç§ç®€å•çš„é¢†åŸŸç‰¹å®šè¯­è¨€(DSL)</strong>ï¼Œå®ƒåŸºäºå£°æ˜æœ¨æ¿ï¼Œç„¶åå°†å®ƒä»¬å½¼æ­¤è¿æ¥èµ·æ¥ï¼Œè¿™æ ·æ¯ä¸ªæŸœå­å°±å¯ä»¥ç”¨ä¸€ä¸ªç¨‹åºæ¥è¡¨ç¤ºã€‚æœ€åï¼Œç»™å®šè¾“å…¥çš„æ­£äº¤è§†å›¾ï¼Œæˆ‘ä»¬è®­ç»ƒåŸºäºtransformerçš„æ¨¡å‹æ¥é¢„æµ‹ä¸æœºæŸœç›¸å…³çš„ç¨‹åºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230813161422.png" alt="image.png"></p><p>ä¸ºäº†ç³»ç»Ÿåœ°è¯„ä¼°è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ºæ­¤ä»»åŠ¡æ„å»ºäº†ä¸€ä¸ªæ–°çš„åŸºå‡†æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†ç”±26,000å¤šä¸ª3Dæ©±æŸœæ¨¡å‹ç»„æˆã€‚å…¶ä¸­å¤§éƒ¨åˆ†æ˜¯ç”±ä¸“ä¸šå®¤å†…è®¾è®¡å¸ˆä½¿ç”¨å•†ä¸š3Då»ºæ¨¡è½¯ä»¶åˆ›å»ºçš„ã€‚<strong>å¤§é‡çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯¹ä¸å®Œç¾è¾“å…¥å…·æœ‰æ›´å¼ºçš„é²æ£’æ€§</strong>ã€‚ä¾‹å¦‚ï¼Œå½“è¾“å…¥å›¾çº¸ä¸­30%çš„çº¿æ¡æŸåæˆ–ç¼ºå¤±æ—¶ï¼Œä¼ ç»Ÿæ–¹æ³•çš„F1åˆ†æ•°ä¸º8.20%ï¼Œè€Œæˆ‘ä»¬çš„æ–¹æ³•çš„F1åˆ†æ•°ä¸º90.14%ã€‚</p><p>æ€»ä¹‹ï¼Œè¿™é¡¹å·¥ä½œçš„è´¡çŒ®æ˜¯:<br>(i)æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œ<strong>æˆ‘ä»¬æ˜¯ç¬¬ä¸€ä¸ªåœ¨ä¸‰ç»´CADæ¨¡å‹é‡å»ºä»»åŠ¡ä¸­ä½¿ç”¨æ·±åº¦ç”Ÿæˆæ¨¡å‹çš„äºº</strong>ã€‚ä¸ç°æœ‰æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å­¦ä¹ äº†æ›´çµæ´»çš„è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„æ˜ å°„ï¼Œä»è€Œå¯¹æœ‰å™ªå£°æˆ–ä¸å®Œæ•´çš„è¾“å…¥å…·æœ‰æ›´å¼ºçš„é²æ£’æ€§ã€‚<br>(ii)æˆ‘ä»¬æå‡ºäº†ä¸€ç§<strong>æ–°çš„ç½‘ç»œè®¾è®¡</strong>ï¼Œå®ƒå­¦ä¹ å½¢çŠ¶ç¨‹åºå°†æœ¨æ¿ç»„è£…æˆ3DæœºæŸœæ¨¡å‹ã€‚è¿™æ ·çš„è®¾è®¡ä¸ä»…æé«˜äº†é‡å»ºçš„ç²¾åº¦ï¼Œè€Œä¸”æ–¹ä¾¿äº†CADæ¨¡å‹ç¼–è¾‘ç­‰ä¸‹æ¸¸åº”ç”¨ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p><strong>3D reconstruction from three orthographic views</strong> ä»ä¸‰ä¸ªæ­£å°„è§†å›¾ä¸­æ¢å¤ä¸‰ç»´æ¨¡å‹çš„ç ”ç©¶å¯ä»¥è¿½æº¯åˆ°70å¹´ä»£å’Œ80å¹´ä»£[13,22,32,25,10]ã€‚å…³äºè¿™ä¸€ä¸»é¢˜çš„æ—©æœŸè°ƒæŸ¥å‡ºç°åœ¨[31]ã€‚æ ¹æ®[31]ï¼Œä¸ºäº†è·å¾—è¾¹ç•Œè¡¨ç¤º(Brep)æ ¼å¼çš„3Då¯¹è±¡ï¼Œç°æœ‰æ–¹æ³•é‡‡ç”¨å››é˜¶æ®µæ–¹æ¡ˆï¼Œåœ¨å‰å‡ æ­¥çš„ç»“æœåŸºç¡€ä¸Šé€æ­¥æ„å»º3Dé¡¶ç‚¹ã€è¾¹ã€é¢å’Œå—ã€‚å¦‚å‰æ‰€è¿°ï¼Œ<strong>è¯¥æ¡†æ¶çš„ä¸€ä¸ªå…³é”®ä¼˜åŠ¿æ˜¯å¯ä»¥æ‰¾åˆ°ä¸è¾“å…¥è§†å›¾å®Œå…¨åŒ¹é…çš„æ‰€æœ‰å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ</strong>ã€‚<br>è¯¥ä»»åŠ¡çš„åç»­æ–¹æ³•[37,38,28,18,21,8,9]ä¹Ÿéµå¾ªç›¸åŒçš„æ­¥éª¤ï¼Œå¹¶ä¾§é‡äºæ‰©å±•æ–¹æ³•çš„é€‚ç”¨èŒƒå›´ä»¥è¦†ç›–æ›´å¤šç±»å‹çš„å¯¹è±¡ã€‚</p><ul><li>ä¾‹å¦‚ï¼ŒShinå’ŒShin[28]å¼€å‘äº†ä¸€ç§æ–¹æ³•æ¥é‡å»ºç”±å¹³é¢å’Œæœ‰é™äºŒæ¬¡é¢ç»„æˆçš„ç‰©ä½“ï¼Œå¦‚åœ†æŸ±ä½“å’Œç¯é¢ï¼Œå®ƒä»¬å¹³è¡Œäºä¸€ä¸ªä¸»è½´ã€‚</li><li>Liuç­‰[21]ä¸ºäº†æ¶ˆé™¤å¯¹æ›²é¢è½´çº¿çš„é™åˆ¶ï¼Œè®¾è®¡äº†ä¸€ç§å°†äºŒæ¬¡æ›²çº¿çš„å‡ ä½•æ€§è´¨ä¸ä»¿å°„æ€§è´¨ç›¸ç»“åˆçš„ç®—æ³•ã€‚</li><li>åæ¥ï¼ŒGongç­‰äºº[9]æå‡ºé€šè¿‡é“¾æ¥å…³ç³»å›¾(Link-Relation Graph, LRG)ä¸­åŸºäºæç¤ºçš„æ¨¡å¼åŒ¹é…æ¥è¯†åˆ«äºŒæ¬¡æ›²é¢ç‰¹å¾ï¼Œå°†é€‚ç”¨èŒƒå›´æ‰©å¤§åˆ°åŒ…æ‹¬å…·æœ‰äº¤äº’äºŒæ¬¡æ›²é¢çš„å¯¹è±¡ã€‚</li><li><strong>ç„¶è€Œï¼Œæ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½å‡è®¾è¾“å…¥æ˜¯å¹²å‡€çš„ï¼Œå¹¶ä¸”æ­£å¦‚æˆ‘ä»¬å°†åœ¨å®éªŒéƒ¨åˆ†æ‰€ç¤ºï¼Œåœ¨å­˜åœ¨è¯¯å·®å’Œå™ªå£°çš„æƒ…å†µä¸‹å¾ˆå®¹æ˜“å´©æºƒ</strong>ã€‚</li></ul><p>æœ€è¿‘ï¼ŒHanç­‰äºº[12]ä¹Ÿè®­ç»ƒäº†ä¸€ä¸ªæ·±åº¦ç½‘ç»œæ¥ä»ä¸‰ä¸ªæ­£å°„è§†å›¾é‡å»º3Dæ¨¡å‹ã€‚<strong>ç„¶è€Œï¼Œä»–ä»¬çš„æ–¹æ³•ä»¥æ …æ ¼å›¾åƒä½œä¸ºè¾“å…¥ï¼Œå¹¶äº§ç”Ÿéç»“æ„åŒ–ç‚¹äº‘æ ¼å¼çš„ç»“æœï¼Œè¿™åœ¨CADå»ºæ¨¡åº”ç”¨ä¸­å‡ ä¹æ²¡æœ‰ç”¨å¤„</strong>ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ç›´æ¥ä½¿ç”¨çŸ¢é‡åŒ–çš„çº¿æ¡å›¾ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç”Ÿæˆç»“æ„åŒ–çš„CADæ¨¡å‹ä½œä¸ºè¾“å‡ºã€‚</p><p><strong>Deep generative models for CAD</strong> éšç€ABC[17]å’ŒFusion 360 Gallery[34]ç­‰å¤§è§„æ¨¡CADæ•°æ®é›†çš„å¯ç”¨æ€§ï¼Œæœ€è¿‘çš„ä¸€ç³»åˆ—å·¥ä½œè®­ç»ƒæ·±åº¦ç½‘ç»œä»¥2Dè‰å›¾[33,7,27]æˆ–3Dæ¨¡å‹[35,14,11,36]çš„å½¢å¼ç”Ÿæˆç»“æ„åŒ–CADæ•°æ®ã€‚è¿™äº›æ–¹æ³•éƒ½å°†å…¶è§†ä¸ºåºåˆ—ç”Ÿæˆé—®é¢˜ï¼Œ<strong>ä½†ç”¨äºäº§ç”Ÿè¾“å‡ºçš„DSLsæœ‰æ‰€ä¸åŒ</strong>ã€‚æˆ‘ä»¬é€šè¿‡å°†æœ¨æ¿æ¨¡å‹ç»„è£…åœ¨ä¸€èµ·æ¥ç”Ÿæˆæ©±æŸœå®¶å…·çš„æƒ³æ³•å—åˆ°ShapeAssembly[15]çš„å¯å‘ï¼ŒShapeAssemblyå­¦ä¹ ä»¥åˆ†å±‚3Dé›¶ä»¶å›¾çš„å½¢å¼ç”Ÿæˆå¯¹è±¡ã€‚<strong>ç„¶è€Œï¼Œä¸ä¸Šè¿°ç ”ç©¶å…³æ³¨ç”Ÿæˆæ¨¡å‹æœ¬èº«ä¸åŒï¼Œæˆ‘ä»¬æå‡ºåˆ©ç”¨ç”Ÿæˆæ¨¡å‹ä»ä¸‰ä¸ªæ­£å°„å½±è§†å›¾æ„å»ºæœ‰æ•ˆçš„ä¸‰ç»´CADæ¨¡å‹é‡å»ºæ–¹æ³•</strong>ã€‚</p><h1 id="A-Simple-Assembly-Language-for-Cabinets"><a href="#A-Simple-Assembly-Language-for-Cabinets" class="headerlink" title="A Simple Assembly Language for Cabinets"></a>A Simple Assembly Language for Cabinets</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸ºæ„Ÿå…´è¶£çš„å½¢çŠ¶(å³æ©±æŸœå®¶å…·)å®šä¹‰ç‰¹å®šäºé¢†åŸŸçš„è¯­è¨€domain-specific language(DSL)ã€‚ä½¿ç”¨è¿™ç§è¯­è¨€ï¼Œæ¯ä¸ªæœºæŸœæ¨¡å‹éƒ½å¯ä»¥ç”¨å½¢çŠ¶ç¨‹åºè¡¨ç¤ºï¼Œç„¶åå°†å…¶è½¬æ¢ä¸ºæ ‡è®°åºåˆ—ï¼Œ<strong>ä½œä¸ºåŸºäºtransformerçš„seq2seqæ¨¡å‹çš„è¾“å‡º</strong>ã€‚</p><p>æˆ‘ä»¬ä»¥ç±»ä¼¼äºäººç±»è®¾è®¡å¸ˆåœ¨3Då»ºæ¨¡è½¯ä»¶ä¸­æ„å»ºæ¨¡å‹çš„æ–¹å¼æ¥å®šä¹‰æˆ‘ä»¬çš„DSLã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œä¸€ä¸ªæœºæŸœé€šå¸¸æ˜¯ç”±ä¸€åˆ—æœ¨æ¿æ¨¡å‹ç»„è£…è€Œæˆçš„ã€‚å®é™…ä¸Šï¼Œå¤§å¤šæ•°æœ¨æ¿éƒ½æ˜¯è½´çº¿æ’åˆ—çš„é•¿æ–¹ä½“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨é•¿æ–¹ä½“ä½œä¸ºæˆ‘ä»¬è¯­è¨€ä¸­å”¯ä¸€çš„æ•°æ®ç±»å‹ã€‚åœ¨ç¬¬6èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•æ‰©å±•æˆ‘ä»¬çš„æ–¹æ³•ä»¥é€‚åº”æ›´å¤æ‚çš„å½¢çŠ¶(ä¾‹å¦‚ï¼Œå…·æœ‰éçŸ©å½¢è½®å»“çš„æœ¨æ¿)ã€‚</p><p>è½´å‘é•¿æ–¹ä½“æœ‰6ä¸ªè‡ªç”±åº¦(DOF)ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªè½´çš„èµ·å§‹å’Œç»“æŸåæ ‡:<br>$\operatorname{Cuboid}(x_{\min},y_{\min},z_{\min},x_{\max},y_{\max},z_{\max}).$ Eq.1</p><p>åœ¨å®è·µä¸­ï¼Œäººç±»è®¾è®¡äººå‘˜ç»å¸¸ä½¿ç”¨é™„ä»¶æ“ä½œattachment operationï¼Œè€Œä¸æ˜¯ä¸ºæ‰€æœ‰åæ ‡æŒ‡å®šæ•°å€¼ã€‚ä½œä¸ºå‡ ä½•çº¦æŸçš„ä¸€ç§å½¢å¼ï¼Œä½¿ç”¨é™„ä»¶çš„å¥½å¤„è‡³å°‘æ˜¯åŒé‡çš„:</p><ul><li>é¦–å…ˆï¼Œå®ƒä½¿ç”¨æˆ·èƒ½å¤Ÿå¿«é€ŸæŒ‡å®šæœ¨æ¿çš„ä½ç½®ï¼Œè€Œæ— éœ€æ˜¾å¼è®¡ç®—(ä¸€äº›)å…¶åæ ‡;</li><li>å…¶æ¬¡ï¼Œå®ƒä¿ƒè¿›äº†æœªæ¥çš„ç¼–è¾‘ï¼Œå› ä¸ºå¯¹æœ¨æ¿æ‰€åšçš„ä»»ä½•æ›´æ”¹éƒ½å°†è‡ªåŠ¨ä¼ æ’­åˆ°å…¶ä»–æœ¨æ¿ã€‚</li><li>ä»¥å›¾2ä¸ºä¾‹ã€‚å½“æ·»åŠ ä¸€ä¸ªæœ¨æ¿(ä»¥è“è‰²çªå‡ºæ˜¾ç¤º)æ—¶ï¼Œè®¾è®¡å¸ˆå¯ä»¥å°†å®ƒçš„å››ä¸ªä¾§é¢é™„åŠ åˆ°ç°æœ‰çš„æœ¨æ¿ä¸Š(åŒ…æ‹¬ä¸å¯è§çš„è¾¹ç•Œæ¡†)ï¼ŒåŒæ—¶ä»¥æ•°å€¼æŒ‡å®šåˆ°é¡¶éƒ¨å’Œåº•éƒ¨çš„è·ç¦»ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230813161422.png" alt="image.png"></p><p>æˆ‘ä»¬çš„è¯­è¨€é‡‡ç”¨ç¼–ç¨‹è¯­è¨€(å¦‚c++)ä¸­å¸¸ç”¨çš„unionç»“æ„ï¼Œæ”¯æŒé€šè¿‡æ•°å€¼æˆ–é™„åŠ æ“ä½œæ¥æŒ‡å®šæœ¨æ¿åæ ‡ã€‚å¦‚å³å›¾æ‰€ç¤ºï¼Œå¼(1)ä¸­çš„å…­ä¸ªåæ ‡å¯ä»¥æ˜¯æ•°å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯æŒ‡å‘å¦ä¸€ä¸ªé•¿æ–¹ä½“(å®ƒæ‰€ä¾é™„çš„é•¿æ–¹ä½“)å¯¹åº”åæ ‡çš„æŒ‡é’ˆã€‚å›¾3æ˜¾ç¤ºäº†ä¸€ä¸ªé€šè¿‡å¼ºåˆ¶æ‰§è¡Œç¨‹åºå‘½ä»¤(ç¨‹åº1)é€æ­¥æ„å»ºçš„ç¤ºä¾‹æœºæŸœã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> <span class="title class_">Coord</span>&#123; <span class="type">float</span> v; <span class="type">float</span>* p; &#125;;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230813162814.png" alt="image.png"></p><p>ç¨‹åº1ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bbox = <span class="built_in">Cuboid</span>(<span class="number">-0.35</span>, <span class="number">-0.23</span>, <span class="number">-0.76</span>, <span class="number">0.35</span>, <span class="number">0.23</span>, <span class="number">0.76</span>)</span><br><span class="line">plank1 = <span class="built_in">Cuboid</span>(bbox1 , bbox2 , bbox3 , <span class="number">-0.34</span>, bbox5, bbox6 )</span><br><span class="line">plank2 = <span class="built_in">Cuboid</span>(<span class="number">0.34</span>, bbox2 , bbox3 , bbox4 , bbox5 , bbox6 )</span><br><span class="line">plank3 = <span class="built_in">Cuboid</span>(plank14 , bbox2 , <span class="number">-0.70</span>, plank21 , bbox5 , <span class="number">-0.69</span>)</span><br><span class="line">plank4 = <span class="built_in">Cuboid</span>(plank14 , bbox2 , <span class="number">0.75</span>, plank21 , bbox5 , bbox6 )</span><br><span class="line">plank5 = <span class="built_in">Cuboid</span>(plank14 , <span class="number">0.21</span>, plank36 , plank21 , <span class="number">0.22</span>, plank43 )</span><br><span class="line">plank6 = <span class="built_in">Cuboid</span>(plank14 , bbox2 , bbox3 , plank21, <span class="number">-0.21</span>, plank33 )</span><br><span class="line">plank7 = <span class="built_in">Cuboid</span>(plank14 , <span class="number">0.21</span>, bbox3 , plank21 , bbox5 , plank33 )</span><br></pre></td></tr></table></figure><p><strong>Shape program as a DAG</strong></p><p>æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥å°†å½¢çŠ¶ç¨‹åºè§£é‡Šä¸ºæœ‰å‘æ— ç¯å›¾(DAG)ã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ªå¹³æ¿æ¨¡å‹ç”±å…­ä¸ªé¢ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªé¢æ­£å¥½å¯¹åº”äºè½´å‘é•¿æ–¹ä½“ä¸­çš„ä¸€ä¸ªè‡ªç”±åº¦$(i.e.,{x_\mathrm{min}},y_\mathrm{min},z_\mathrm{min},x_\mathrm{max},y_\mathrm{max},z_\mathrm{max}).$ã€‚å› æ­¤ï¼Œæ¯ä¸ªç¨‹åºéƒ½å¯ä»¥ç”¨å›¾$\mathcal{G}=\{\mathcal{F},\mathcal{E}\},$æ¥è¡¨å¾ï¼Œå…¶é¡¶ç‚¹$\mathcal{F}=\{f_1,\ldots,f_{|\mathcal{F}|}\}$è¡¨ç¤ºæœ¨æ¿æ¨¡å‹çš„é¢ï¼Œå…¶è¾¹$\mathcal{E}=\{e_{1},\ldots,e_{|\mathcal{E}|}\}$è¡¨ç¤ºé¢ä¹‹é—´çš„ä¾æ‹å…³ç³»ã€‚æ¯ä¸ªæœ‰å‘è¾¹$e_{i{\to}j}$éƒ½æ˜¯ä¸€å¯¹æœ‰åºçš„é¡¶ç‚¹$(f_i,f_j)$ï¼Œè¡¨ç¤ºç¬¬iä¸ªé¢$f_{i}$è¿æ¥åˆ°ç¬¬jä¸ªé¢$f_{j}$ã€‚æˆ‘ä»¬å‡è®¾æ¯ä¸ªé¢æœ€å¤šå¯ä»¥ä¸å¦ä¸€ä¸ªé¢ç›¸è¿;ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•é¢$f_{i}$çš„è¾“å‡ºåº¦æœ€å¤šä¸º1ã€‚è¿›ä¸€æ­¥ï¼Œè¿™äº›è¾¹å¯ä»¥ç”¨é‚»æ¥çŸ©é˜µ$A\in\mathbb{R}^{|\mathcal{F}|\times|\mathcal{F}|}$æ¥è¡¨ç¤ºã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœ$f_{i}$æŒ‡å‘$f_{j}$, $A_{ij}$ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</p><h1 id="The-PlankAssembly-Model"><a href="#The-PlankAssembly-Model" class="headerlink" title="The PlankAssembly Model"></a>The PlankAssembly Model</h1><p>å¦‚å›¾1æ‰€ç¤ºï¼Œæˆ‘ä»¬å‡è®¾è¾“å…¥ç”±ç‰©ä½“çš„ä¸‰ä¸ªæ­£å°„å½±ç»„æˆï¼Œå³å‰è§†å›¾ã€ä¿¯è§†å›¾å’Œä¾§è§†å›¾:$\mathcal{V}=\{V_{F},V_{T},V_{S}\}$ã€‚æ¯ä¸ªè§†å›¾éƒ½å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªäºŒç»´è¾¹å’Œè¾¹ç›¸äº¤èŠ‚ç‚¹çš„å¹³é¢å›¾ã€‚æˆ‘ä»¬ç”¨å®çº¿è¡¨ç¤ºå¯è§çš„è¾¹ç¼˜ï¼Œè™šçº¿è¡¨ç¤ºéšè—çš„è¾¹ç¼˜ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯é‡å»ºç”±å½¢çŠ¶ç¨‹åºæˆ–ç­‰æ•ˆDAG $\mathcal{G}$æè¿°çš„ä¸‰ç»´æœºæŸœæ¨¡å‹ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230813164320.png" alt="image.png"></p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æŠŠä¸‰ç»´é‡å»ºè§†ä¸ºä¸€ä¸ªseq2seqé—®é¢˜ã€‚åœ¨4.1èŠ‚å’Œ4.2èŠ‚ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†å¦‚ä½•å°†è¾“å…¥è§†å›¾$\mathcal{V}$å’Œå½¢çŠ¶ç¨‹åº$\mathcal{G}$åˆ†åˆ«ç¼–ç ä¸º1Dåºåˆ—$\mathcal{V}^{seq}$å’Œ$\mathcal{G}^{seq}$ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨4.3èŠ‚ä¸­ä»‹ç»äº†æˆ‘ä»¬çš„æµ®æ¸¸è£…é…æ¨¡å‹çš„è®¾è®¡ï¼Œè¯¥æ¨¡å‹é‡‡ç”¨åŸºäºå˜å‹å™¨çš„ç¼–ç å™¨-è§£ç å™¨æ¶æ„æ¥å­¦ä¹ æ¦‚ç‡åˆ†å¸ƒ$p(\mathcal{G}^\mathrm{seq}\mid\mathcal{V}^\mathrm{seq}),$ã€‚æœ€åï¼Œæˆ‘ä»¬å°†åœ¨4.4èŠ‚ä¸­ä»‹ç»å®ç°ç»†èŠ‚ã€‚</p><h2 id="Input-Sequences-and-Embeddings"><a href="#Input-Sequences-and-Embeddings" class="headerlink" title="Input Sequences and Embeddings"></a>Input Sequences and Embeddings</h2><p>å¯¹äºè¾“å…¥æ¡ä»¶ï¼Œæˆ‘ä»¬é¦–å…ˆæŒ‰è§†å›¾$\mathcal{V}$å¯¹2Dè¾¹è¿›è¡Œæ’åºã€‚æ¯æ¡äºŒç»´è¾¹éƒ½å†™æˆ$(x_{1},y_{1},x_{2},y_{2})$ï¼Œå…¶ä¸­æˆ‘ä»¬æŒ‰ç…§xåæ ‡ä»ä½åˆ°é«˜æ’åºå®ƒçš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œç„¶åæ˜¯yåæ ‡(å¦‚æœ$x_1 = x_2$)ã€‚ç„¶åï¼Œæˆ‘ä»¬ç”¨$x_1, x_2, y_1, y_2$æ¥æ’åºä¸€ç»„äºŒç»´è¾¹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰è¾¹å¹³é“ºæˆ1Dåºåˆ—$\mathcal{V}^{\mathrm{seq}}=\{v_{1},\ldots,v_{N_{v}}\}.$ã€‚æ³¨æ„ï¼Œç”±äºæ¯æ¡2Dè¾¹éƒ½æœ‰å››ä¸ªè‡ªç”±åº¦(å³ä¸¤ä¸ªç«¯ç‚¹çš„xåæ ‡å’Œyåæ ‡)ï¼Œæ‰€ä»¥$\mathcal{V}_{\mathrm{seq}}$çš„é•¿åº¦ä¸º$N_{v}=4N_{\mathrm{edge}}$ï¼Œå…¶ä¸­$N_{\mathrm{edge}}$æ˜¯æ‰€æœ‰ä¸‰ä¸ªæ­£å°„å½±è§†å›¾ä¸­2Dè¾¹çš„æ€»æ•°ã€‚<br>æˆ‘ä»¬å°†ç¬¬ i ä¸ªæ ‡è®° $v_{i}$ åµŒå…¥ä¸º</p><p>$\begin{aligned}E(v_i)=E_{\mathrm{value}}(v_i)+E_{\mathrm{view}}(v_i)+E_{\mathrm{cdge}}(v_i)\+E_{\mathrm{coord}}(v_i)+E_{\mathrm{type}}(v_i),\end{aligned}$ Eq.2</p><ul><li>å€¼åµŒå…¥$E_{\mathrm{value}}$è¡¨ç¤ºtokenä»¤ç‰Œçš„é‡åŒ–åæ ‡å€¼ï¼Œ</li><li>è§†å›¾åµŒå…¥$E_{\mathrm{view}}$è¡¨ç¤º2Dè¾¹ç¼˜æ¥è‡ªå“ªä¸ªè§†å›¾(å³å‰è§†å›¾ã€å‰è§†å›¾æˆ–ä¾§è§†å›¾)ï¼Œ</li><li>è¾¹ç¼˜åµŒå…¥$E_{\mathrm{edge}}$è¡¨ç¤º2Dè¾¹ç¼˜åœ¨å¯¹åº”è§†å›¾ä¸­çš„ç›¸å¯¹ä½ç½®ï¼Œ</li><li>åæ ‡åµŒå…¥$E_{\mathrm{coord}}$è¡¨ç¤ºåæ ‡åœ¨å¯¹åº”2Dè¾¹ç¼˜çš„ç›¸å¯¹ä½ç½®ã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»å‹åµŒå…¥ Etype æ¥è¡¨ç¤º 2D è¾¹ç¼˜æ˜¯å¦å¯è§æˆ–éšè—ã€‚</li></ul><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åæ ‡å€¼é‡åŒ–ä¸º 9 ä½æ•´æ•°ï¼Œå¹¶ä¸ºæ–¹ç¨‹å¼ä¸­çš„æ¯ä¸€é¡¹ä½¿ç”¨å­¦ä¹ çš„ 512-D åµŒå…¥ã€‚ (2)ã€‚</p><h2 id="Output-Sequences-and-Embeddings"><a href="#Output-Sequences-and-Embeddings" class="headerlink" title="Output Sequences and Embeddings"></a>Output Sequences and Embeddings</h2><p>ä¸ºäº†æŒ‰é¡ºåºç”Ÿæˆå½¢çŠ¶ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦å°†å›¾ G æ˜ å°„åˆ°åºåˆ— $\mathcal{G}^{\mathrm{seq}}$ã€‚è¿™éœ€è¦æˆ‘ä»¬åœ¨ G ä¸Šå®šä¹‰ä¸€ä¸ªé¡¶ç‚¹é¡ºåº Ï€ï¼š</p><ul><li>æˆ‘ä»¬é¦–å…ˆåœ¨æ‹“æ‰‘ä¸Šå¯¹é¡¶ç‚¹è¿›è¡Œæ’åºï¼Œç¡®ä¿ç›´æ¥åç»§è€…åœ¨å…¶ç›¸åº”çš„ç›´æ¥å‰è¾ˆä¹‹å‰åˆ—å‡ºã€‚</li><li>ç„¶åï¼Œä¸ç›´æ¥è¿æ¥çš„é¡¶ç‚¹æŒ‰åæ ‡å€¼æ’åºã€‚</li></ul><p>è¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ’åºå›¾$\mathcal{G}^{\pi}$ï¼Œå…¶é¡¶ç‚¹ $\mathcal{F}^{\pi}$éµå¾ªé¡ºåº Ï€ã€‚</p><p>ç”±äºæˆ‘ä»¬æƒ³æ•è·å»ºæ¨¡è¿‡ç¨‹å¹¶ä¿ƒè¿›æœªæ¥çš„ç¼–è¾‘ï¼Œæˆ‘ä»¬å°†é™„ä»¶å…³ç³»ä¼˜å…ˆäºå‡ ä½•å®ä½“ã€‚ä¸è¾“å…¥åºåˆ—ç¼–ç ç±»ä¼¼ï¼Œæˆ‘ä»¬å±•å¹³ $\mathcal{G}^{\pi}$ ä»¥è·å¾—ä¸€ç»´åºåˆ— $\mathcal{G}^{seq}$ã€‚åºåˆ— $\mathcal{G}^{seq}$ çš„ç¬¬ i ä¸ªå…ƒç´ å¯ä»¥å¾—åˆ°ï¼š</p><p>$g_i=\begin{cases}f_i^\pi,&amp;\text{if}A_{ij}^\pi=0,\forall j,\\e_{i\to j}^\pi,&amp;\text{if}A_{ij}^\pi=1.\end{cases}$ Eq.3</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªç‰¹æ®Šæ ‡è®° [SOS] å’Œ [EOS] åˆ†åˆ«è¡¨ç¤ºè¾“å‡ºåºåˆ—çš„å¼€å§‹å’Œç»“æŸ</p><p>å¯¹äºæˆ‘ä»¬æ¨¡å‹çš„è§£ç å™¨çš„è¾“å…¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸å…³çš„é¢ $f_{i}^{\pi}$ åµŒå…¥ä»¤ç‰Œ $g_{i}$ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br>$E(g_i)=E(f_i^\pi)=E_{\text{value}}(f_i^\pi)+E_{\text{plank}}(f_i^\pi)+E_{\text{face}}(f_i^\pi).$ Eq.4</p><ul><li>å€¼åµŒå…¥ $E_{\mathrm{value}}$ è¡¨ç¤ºé‡åŒ–çš„åæ ‡å€¼ï¼Œè¯¥å€¼ç”¨äºè¾“å…¥å’Œè¾“å‡ºåºåˆ—ã€‚</li><li>plank åµŒå…¥ $E_{\mathrm{plank}}$è¡¨ç¤ºæŸœæ¨¡å‹ä¸­ç›¸åº”plankçš„ä½ç½®ï¼Œ</li><li>é¢åµŒå…¥$E_{\mathrm{face}}$ è¡¨ç¤ºé¢åœ¨plankå†…çš„ç›¸å¯¹ä½ç½®ã€‚</li></ul><p>å¦‚æœä»¤ç‰Œå¯¹åº”äº G ä¸­çš„ä¸€æ¡è¾¹ $e_{i\to j}^{\pi}$ï¼Œæˆ‘ä»¬å°†è¯†åˆ«å½“å‰é¢$f_{i}^{\pi}$é™„åŠ çš„äººè„¸ $f_{j}^{\pi}$ï¼Œå¹¶ä½¿ç”¨ä¸$f_{j}^{\pi}$ç›¸åŒçš„å€¼åµŒå…¥ã€‚</p><h2 id="Model-Design"><a href="#Model-Design" class="headerlink" title="Model Design"></a>Model Design</h2><p>ä¸ºäº†è§£å†³è¿™ä¸ª seq2seq é—®é¢˜ï¼Œæˆ‘ä»¬å°†è¾“å‡ºåºåˆ—ä¸Šçš„è”åˆåˆ†å¸ƒåˆ†è§£ä¸ºä¸€ç³»åˆ—æ¡ä»¶åˆ†å¸ƒï¼š<br>$p(\mathcal{G}^{\mathrm{seq}}\mid\mathcal{V}^{\mathrm{seq}})=\prod_{t}p\left(g_{t}\mid\mathcal{G}_{&lt;t}^{\mathrm{seq}},\mathcal{V}^{\mathrm{seq}}\right).$ Eq.5</p><p>åœ¨è¿™é‡Œï¼Œç”±äº $g_t$ å¯ä»¥é‡‡ç”¨å‡ ä½•å®ä½“ï¼ˆå³$f_{i}^{\pi}$ ï¼‰æˆ–é™„ä»¶å…³ç³»ï¼ˆå³ $e_{i\to j}^{\pi}$ï¼‰çš„å½¢å¼ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å›ºå®šé•¿åº¦çš„è¯æ±‡è¡¨é›†ï¼ˆé‡åŒ–åæ ‡å€¼ï¼‰åŠ ä¸Šè¾“å‡ºåºåˆ—ä¸­çš„å¯å˜é•¿åº¦æ ‡è®°é›† $\mathcal{G}_{&lt;t}^{\mathrm{seq}}$ä¸Šäº§ç”Ÿæ¦‚ç‡åˆ†å¸ƒã€‚</p><p>å‰è€…åˆ†å¸ƒæ˜¯ä¸€ä¸ªåˆ†ç±»åˆ†å¸ƒï¼Œé€šå¸¸ç”¨äºåˆ†ç±»ä»»åŠ¡ã€‚è®¾$\mathbf{h}_t$æ˜¯è§£ç å™¨åœ¨æ—¶é—´ t è·å¾—çš„éšè—ç‰¹å¾ï¼Œæˆ‘ä»¬é€šè¿‡çº¿æ€§å±‚å°†å…¶æŠ•å½±åˆ°è¯æ±‡è¡¨çš„å¤§å°ï¼Œç„¶åå°†å…¶å½’ä¸€åŒ–ä»¥å½¢æˆæœ‰æ•ˆåˆ†å¸ƒï¼š</p><p>$p_{\mathrm{vocab}}(g_{t}\mid\mathcal{G}_{&lt;t}^{\mathrm{seq}},\mathcal{V}^{\mathrm{seq}})=\mathrm{softmax}\left(\mathrm{linear}\left(\mathbf{h}_{t}\right)\right).$ Eq.6</p><p>ä¸ºäº†ç”Ÿæˆè¾“å‡ºåºåˆ— $\mathcal{G}_{&lt;t}^{\mathrm{seq}}$ åœ¨æ—¶é—´t ä¸Šçš„åˆ†å¸ƒï¼Œæˆ‘ä»¬é‡‡ç”¨æŒ‡é’ˆç½‘ç»œ [30]ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨çº¿æ€§å±‚æ¥é¢„æµ‹æŒ‡é’ˆã€‚ç„¶åï¼Œé€šè¿‡ç‚¹ç§¯å°†æŒ‡é’ˆä¸æ‰€æœ‰å‰ä¸€æ­¥çš„éšè—ç‰¹å¾è¿›è¡Œæ¯”è¾ƒã€‚æœ€åï¼Œè¾“å‡ºåºåˆ—ä¸Šçš„åˆ†å¸ƒæ˜¯é€šè¿‡ softmax å±‚è·å¾—çš„ï¼š</p><p>$p_\mathrm{attach}(g_t\to g_k\mid\mathcal{G}_{&lt;t}^\mathrm{seq},\mathcal{V}^\mathrm{seq})=\mathrm{softmax}_k\left(\mathrm{linear}\left(\mathbf{h}_t\right)^T\mathbf{h}_{&lt;t}\right).$ Eq.7</p><p>æˆ‘ä»¬æ²¡æœ‰ç›´æ¥æ¯”è¾ƒè¿™ä¸¤ä¸ªåˆ†å¸ƒï¼Œè€Œæ˜¯éµå¾ª Pointer-Generator Networks [26] å¹¶å¼•å…¥é™„ä»¶æ¦‚ç‡ $w_{t}$ æ¥åŠ æƒè¿™ä¸¤ä¸ªåˆ†å¸ƒã€‚é™„ä»¶æ¦‚ç‡ $w_{t}$ æ˜¯é€šè¿‡çº¿æ€§å±‚å’Œ sigmoid å‡½æ•° Ïƒ(Â·) è·å¾—çš„ï¼š$\sigma(\cdot) : w_{t}=\sigma(linear(\mathbf{h}_t))$ã€‚å› æ­¤ï¼Œæœ€ç»ˆåˆ†å¸ƒæ˜¯ä¸¤ä¸ªåŠ æƒåˆ†å¸ƒçš„ä¸²è”concatenationï¼š<br>$p(g_t\mid\mathcal{G}_{&lt;t}^{\text{seq}},\mathcal{V}^{\text{seq}})=\text{concat}\left\{(1-w_t)\cdot p_{\text{vocab}},w_t\cdot p_{\text{attach}}\right\}.$ Eq.8</p><p>æœ€åï¼Œç»™å®šä¸€ä¸ªè®­ç»ƒé›†ï¼Œå¯ä»¥é€šè¿‡æ ‡å‡†çš„äº¤å‰ç†µæŸå¤±æœ€å¤§åŒ–æ¡ä»¶åˆ†å¸ƒEq.(8)æ¥å­¦ä¹ æ¨¡å‹çš„å‚æ•°ã€‚</p><p><strong>Network architecture</strong></p><p>æˆ‘ä»¬ä½¿ç”¨æ ‡å‡† Transformer å— [29] ä½œä¸ºæˆ‘ä»¬ PlankAssembly æ¨¡å‹çš„åŸºæœ¬å—ã€‚ç»™å®šè¾“å…¥åµŒå…¥ $\{E(v_1),E(v_2),\ldots\},$ç¼–ç å™¨å°†å®ƒä»¬ç¼–ç ä¸ºä¸Šä¸‹æ–‡åµŒå…¥ã€‚åœ¨è§£ç æ—¶é—´ tï¼Œè§£ç å™¨æ ¹æ®ä¸Šä¸‹æ–‡åµŒå…¥å’Œè§£ç å™¨è¾“å…¥ $\{E(g_{1}),E(g_{2}),\ldots\}.$ç”Ÿæˆéšè—ç‰¹å¾ $\mathbf{h}_{t}$ã€‚æˆ‘ä»¬ä¸ºç¼–ç å™¨å’Œè§£ç å™¨ä½¿ç”¨ 6 ä¸ª Transformer å±‚ã€‚æ¯å±‚çš„å‰é¦ˆç»´åº¦ä¸º 1024 å’Œ 8 ä¸ªæ³¨æ„åŠ›å¤´ã€‚ç½‘ç»œæ¶æ„å¦‚å›¾ 4 æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230813205510.png" alt="image.png"></p><h2 id="Implementation-Details"><a href="#Implementation-Details" class="headerlink" title="Implementation Details"></a>Implementation Details</h2><p>Trainingã€‚æˆ‘ä»¬ä½¿ç”¨ PyTorch Lightning [1] å®ç°æˆ‘ä»¬çš„æ¨¡å‹ã€‚æˆ‘ä»¬ä¸ºç¼–ç å™¨å’Œè§£ç å™¨ä½¿ç”¨ 6 ä¸ª Transformer å±‚ã€‚æ¯å±‚çš„å‰é¦ˆç»´åº¦ä¸º 1024 å’Œ 8 ä¸ªæ³¨æ„åŠ›å¤´ã€‚è¯¥ç½‘ç»œåœ¨å››ä¸ªNVIDIA RTX 3090 GPUè®¾å¤‡ä¸Šè®­ç»ƒäº†400Kæ¬¡è¿­ä»£ã€‚æˆ‘ä»¬ä½¿ç”¨å­¦ä¹ ç‡ä¸º 10âˆ’4 çš„ Adam ä¼˜åŒ–å™¨ [16]ã€‚æ¯ä¸ª GPU çš„æ‰¹é‡å¤§å°è®¾ç½®ä¸º 16ã€‚</p><p>Inferenceã€‚åœ¨æ¨ç†æ—¶ï¼Œæˆ‘ä»¬é‡‡å–å‡ ä¸ªæ­¥éª¤æ¥ç¡®ä¿æˆ‘ä»¬æ¨¡å‹ä¸­çš„æœ‰æ•ˆé¢„æµ‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ä¸¤ä¸ªé™„åŠ é¢å¿…é¡»å¯¹åº”äºåŒä¸€è½´ä¸Šçš„ç›¸åè‡ªç”±åº¦ï¼Œä»¥é¿å…ä»»ä½•ç©ºé—´å†²çªã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª plank çš„ $x_min$ æ ‡è®°åªèƒ½æŒ‡å‘å¦ä¸€ä¸ª plank çš„ $x_max$ æ ‡è®°ï¼Œåä¹‹äº¦ç„¶ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ¨ç†è¿‡ç¨‹ä¸­å±è”½æ‰€æœ‰æ— æ•ˆä½ç½®ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬è¿‡æ»¤æ‰ä½“ç§¯ä¸ºé›¶çš„é¢„æµ‹è®¡åˆ’ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><h2 id="Experimental-Setup"><a href="#Experimental-Setup" class="headerlink" title="Experimental Setup"></a>Experimental Setup</h2><p>æ•°æ®é›†ã€‚æˆ‘ä»¬ä¸ºæ­¤ä»»åŠ¡åˆ›å»ºäº†ä¸€ä¸ªå¤§è§„æ¨¡çš„åŸºå‡†æ•°æ®é›†ï¼Œåˆ©ç”¨æ¥è‡ª<a href="https://www.kujiale.com/">Kujiale1</a>çš„å¤§å‹æ©±æŸœå®¶å…·æ¨¡å‹å­˜å‚¨åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…éƒ¨è®¾è®¡è¡Œä¸šçš„åœ¨çº¿ 3D å»ºæ¨¡å¹³å°ã€‚å­˜å‚¨åº“ä¸­çš„<strong>å¤§å¤šæ•°æ¨¡å‹éƒ½æ˜¯ç”±ä¸“ä¸šè®¾è®¡å¸ˆä½¿ç”¨å•†ä¸šå‚æ•°å»ºæ¨¡è½¯ä»¶åˆ›å»ºçš„ï¼Œå¹¶ç”¨äºç°å®ä¸–ç•Œçš„ç”Ÿäº§</strong>ã€‚<br>å‡ ä¸ªè§„åˆ™ç”¨äºè¿‡æ»¤æ•°æ®ï¼š<br>(i) æˆ‘ä»¬æ ¹æ®ä¸‰ä¸ªæ­£å­—æ³•orthographicè§†å›¾çš„ç›¸ä¼¼æ€§åˆ é™¤é‡å¤çš„ 3D æ¨¡å‹ï¼›<br>(ii) æˆ‘ä»¬æ’é™¤äº†å°‘äºå››ä¸ª planks çš„æ¨¡å‹ï¼Œè¶…è¿‡ 20 ä¸ª planksï¼Œæˆ–æ€»å…±è¶…è¿‡ 300 ä¸ªè¾¹ç¼˜ã€‚<br>å…¶ä½™<strong>æ•°æ®è¢«éšæœºåˆ†æˆä¸‰éƒ¨åˆ†</strong>ï¼š24039 ä¸ªç”¨äºè®­ç»ƒï¼Œ1329 ä¸ªç”¨äºéªŒè¯ï¼Œ1339 ä¸ªç”¨äºæµ‹è¯•ã€‚<br>ä¸ºäº†åˆæˆä¸‰ä¸ªæ­£å­—æ³•è§†å›¾ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥è‡ªpythonOCC[3]çš„HLRBRep Algo APIï¼Œè¯¥APIå»ºç«‹åœ¨Open CASCADEæŠ€æœ¯å»ºæ¨¡å†…æ ¸[2]ä¹‹ä¸Šã€‚</p><p><strong>å¯¹äºæˆ‘ä»¬çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªå‚æ•°æŸœæ¨¡å‹è§£æä¸ºå½¢çŠ¶ç¨‹åº</strong>ã€‚æˆ‘ä»¬é¦–å…ˆæå–æ©±æŸœæ¨¡å‹ä¸­çš„å‡ ä½•å®ä½“æ¥è·å¾—planksã€‚è¯·æ³¨æ„ï¼Œåœ¨å‚æ•°å»ºæ¨¡è½¯ä»¶ä¸­ï¼Œé€šå¸¸é€šè¿‡é¦–å…ˆç»˜åˆ¶ 2D è½®å»“ç„¶ååº”ç”¨æŒ¤å‹å‘½ä»¤æ¥åˆ›å»º plankã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æ¯ä¸ª plank çš„é¢åˆ†ä¸ºä¾§é¢æˆ–ç«¯é¢ï¼Œè¿™å–å†³äºå®ƒä»¬æ˜¯å¦æ²¿æŒ¤å‹æ–¹å‘ã€‚ç„¶åï¼Œç»™å®šæ¥è‡ªä¸¤ä¸ªä¸åŒplanksçš„ä¸€å¯¹faceï¼Œæˆ‘ä»¬è®¤ä¸ºå¦‚æœ (i) ä¸¤ä¸ªfaceåœ¨ 1mm çš„è·ç¦»é˜ˆå€¼å†…ï¼Œåˆ™å­˜åœ¨é™„ä»¶å…³ç³»ï¼Œå¹¶ä¸” (ii) è¯¥å¯¹ç”±ä¸€ä¸ªä¾§é¢å’Œä¸€ä¸ªç»“æŸé¢ç»„æˆã€‚æœ€åï¼Œåœ¨Gä¸­æ·»åŠ äº†ä»ç«¯é¢åˆ°ä¾§é¢çš„æœ‰å‘è¾¹</p><p>Evaluation metrics ä¸ºäº†è¯„ä¼° 3D é‡å»ºç»“æœçš„è´¨é‡ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸‰ä¸ªæ ‡å‡†æŒ‡æ ‡ï¼šç²¾åº¦precisionã€å¬å›ç‡recallå’Œ F1 åˆ†æ•°F1 scoreã€‚<br>å…·ä½“æ¥è¯´ï¼Œå¯¹äºæ©±æŸœæ¨¡å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨åŒˆç‰™åˆ©åŒ¹é…æ¥åŒ¹é…é¢„æµ‹çš„plankså’Œground truth planksã€‚å¦‚æœå…·æœ‰ä¸€ä¸ªgtçš„ 3D intersection-over-union (IOU) å¤§äº 0.5ï¼Œåˆ™è¯¥é¢„æµ‹è¢«è®¤ä¸ºæ˜¯çœŸé˜³æ€§ã€‚</p><h2 id="Comparison-to-Traditional-Methods"><a href="#Comparison-to-Traditional-Methods" class="headerlink" title="Comparison to Traditional Methods"></a>Comparison to Traditional Methods</h2><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç³»ç»Ÿåœ°å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸ä»ä¸‰ä¸ªæ­£å­—æ³•è§†å›¾è¿›è¡Œ 3D é‡å»ºçš„ä¼ ç»Ÿæ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒã€‚ç”±äºæ²¡æœ‰å…¬å¼€å®ç°ä¼ ç»Ÿç®¡é“ï¼Œæˆ‘ä»¬é€šè¿‡ç´§è·Ÿä¹‹å‰çš„å·¥ä½œ [25, 28] é‡æ–°å®ç°ç®¡é“ã€‚å›æƒ³ä¸€ä¸‹ï¼Œä»è¾“å…¥è§†å›¾å¼€å§‹ï¼Œä¼ ç»Ÿçš„ç®¡é“é€æ­¥ç”Ÿæˆ 3D é¡¶ç‚¹ã€3D è¾¹ã€3D é¢å’Œ 3D å—ã€‚ç„¶åï¼Œé€šè¿‡æšä¸¾å€™é€‰å—çš„æ‰€æœ‰ç»„åˆå¹¶æ£€æŸ¥å®ƒä»¬çš„ 2D æŠ•å½±æ˜¯å¦ä¸è¾“å…¥è§†å›¾åŒ¹é…æ¥æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> CAD </tag>
            
            <tag> Transformer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>A Critical Analysis of NeRF-Based 3D Reconstruction</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/A%20Critical%20Analysis%20of%20NeRF-Based%203D%20Reconstruction/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Review/A%20Critical%20Analysis%20of%20NeRF-Based%203D%20Reconstruction/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>A Critical Analysis of NeRF-Based 3D Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Fabio Remondino , Ali Karami  , Ziyang Yan, Gabriele Mazzacca , Simone Rigon and Rongjun Qin</td></tr><tr><td>Conf/Jour</td><td>MDPI remote sensing</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://www.mdpi.com/2072-4292/15/14/3585">A Critical Analysis of NeRF-Based 3D Reconstruction</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4787981282168537089&amp;noteId=1912892973790366720">A Critical Analysis of NeRF-Based 3D Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812171053.png" alt="image.png"></p><p>å¯¹æ¯”photogrammetryä¸NeRFåœ¨3D Reconstructionä¸­çš„è¡¨ç°ï¼Œæä¾›æ•°æ®é›†<a href="https://github.com/3DOM-FBK/NeRFBK">Github_NeRFBK</a></p><ul><li>photogrammetry(Colmap)<ul><li>å¯¹æ— çº¹ç†ç‰©ä½“é‡å»ºæ•ˆæœå¾ˆå·®(non-collaborative surfacesçš„3Dæµ‹é‡)ï¼Œä¾‹å¦‚é•œé¢åå°„ç‰©ä½“<ul><li>éåä½œè¡¨é¢: åå°„ã€æ— çº¹ç†ç­‰</li></ul></li></ul></li><li>NeRF(InstantNGP | NerfStudio | SDFstudio)</li></ul><p>ç»“è®ºï¼š</p><ul><li>åœ¨ä¼ ç»Ÿæ‘„å½±æµ‹é‡æ–¹æ³•å¤±è´¥æˆ–äº§ç”Ÿå˜ˆæ‚ç»“æœçš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚æ— çº¹ç†ã€é‡‘å±ã€é«˜åå°„å’Œé€æ˜ç‰©ä½“ï¼ŒNeRFä¼˜äºæ‘„å½±æµ‹é‡</li><li>å¯¹äºçº¹ç†è‰¯å¥½å’Œéƒ¨åˆ†çº¹ç†çš„ç‰©ä½“ï¼Œæ‘„å½±æµ‹é‡ä»ç„¶è¡¨ç°æ›´å¥½</li></ul><p>è¯¥ç ”ç©¶ä¸ºNeRFåœ¨ä¸åŒç°å®åœºæ™¯ä¸­çš„é€‚ç”¨æ€§æä¾›äº†æœ‰ä»·å€¼çš„è§è§£ï¼Œç‰¹åˆ«æ˜¯åœ¨é—äº§å’Œå·¥ä¸šåœºæ™¯ä¸­ï¼Œè¿™äº›åœºæ™¯çš„è¡¨é¢å¯èƒ½ç‰¹åˆ«å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œæœªæ¥çš„ç ”ç©¶å¯ä»¥æ¢ç´¢NeRFå’Œæ‘„å½±æµ‹é‡çš„ç»“åˆï¼Œä»¥æé«˜å…·æœ‰æŒ‘æˆ˜æ€§åœºæ™¯ä¸‹ä¸‰ç»´é‡å»ºçš„è´¨é‡å’Œæ•ˆç‡</p><span id="more"></span><h1 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h1><p>æœ¬æ–‡å¯¹ç¥ç»è¾å°„åœº(NeRF)æ–¹æ³•åœ¨åŸºäºå›¾åƒçš„ä¸‰ç»´é‡å»ºä¸­çš„åº”ç”¨è¿›è¡Œäº†å…¨é¢åˆ†æã€‚ä¸ä¼ ç»Ÿæ‘„å½±æµ‹é‡è¿›è¡Œæ¯”è¾ƒï¼ŒæŠ¥å‘Šå®šé‡å’Œè§†è§‰ç»“æœï¼Œä»¥äº†è§£åœ¨å¤„ç†å¤šç§ç±»å‹çš„è¡¨é¢å’Œåœºæ™¯æ—¶çš„ä¼˜ç¼ºç‚¹ã€‚<br>è¯¥ç ”ç©¶å®¢è§‚åœ°è¯„ä¼°äº†nerfç”Ÿæˆçš„3Dæ•°æ®çš„ä¼˜ç¼ºç‚¹ï¼Œå¹¶æ·±å…¥äº†è§£äº†å®ƒä»¬åœ¨ä¸åŒç°å®åœºæ™¯å’Œåº”ç”¨ä¸­çš„é€‚ç”¨æ€§ã€‚<br>è¯¥ç ”ç©¶é‡‡ç”¨äº†ä¸€ç³»åˆ—çº¹ç†è‰¯å¥½çš„ã€æ— çº¹ç†çš„ã€é‡‘å±çš„ã€åŠé€æ˜çš„å’Œé€æ˜çš„ç‰©ä½“ï¼Œä½¿ç”¨ä¸åŒçš„æ¯”ä¾‹å’Œå›¾åƒé›†è¿›è¡Œæˆåƒã€‚ä½¿ç”¨å„ç§è¯„ä¼°æ–¹æ³•å’ŒæŒ‡æ ‡å¯¹ç”Ÿæˆçš„åŸºäºnerfçš„3Dæ•°æ®çš„è´¨é‡è¿›è¡Œè¯„ä¼°ï¼ŒåŒ…æ‹¬å™ªå£°æ°´å¹³ã€è¡¨é¢åå·®ã€å‡ ä½•ç²¾åº¦å’Œå®Œæ•´æ€§ã€‚<br>æŠ¥å‘Šçš„ç»“æœè¡¨æ˜ï¼Œ<strong>åœ¨ä¼ ç»Ÿæ‘„å½±æµ‹é‡æ–¹æ³•å¤±è´¥æˆ–äº§ç”Ÿå˜ˆæ‚ç»“æœçš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚æ— çº¹ç†ã€é‡‘å±ã€é«˜åå°„å’Œé€æ˜ç‰©ä½“ï¼ŒNeRFä¼˜äºæ‘„å½±æµ‹é‡</strong>ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>å¯¹äºçº¹ç†è‰¯å¥½å’Œéƒ¨åˆ†çº¹ç†çš„ç‰©ä½“ï¼Œæ‘„å½±æµ‹é‡ä»ç„¶è¡¨ç°æ›´å¥½</strong>ã€‚è¿™æ˜¯å› ä¸ºåŸºäºNeRFçš„æ–¹æ³•èƒ½å¤Ÿç”Ÿæˆä¸åå°„ç‡å’Œé€æ˜åº¦ç›¸å…³çš„å‡ ä½•å½¢çŠ¶ï¼Œè¿™æ˜¯ç”±äºNeRFæ¨¡å‹ä¾èµ–äºè§†å›¾çš„ç‰¹æ€§ã€‚</p><p><strong>è¯¥ç ”ç©¶ä¸ºNeRFåœ¨ä¸åŒç°å®åœºæ™¯ä¸­çš„é€‚ç”¨æ€§æä¾›äº†æœ‰ä»·å€¼çš„è§è§£ï¼Œç‰¹åˆ«æ˜¯åœ¨é—äº§å’Œå·¥ä¸šåœºæ™¯ä¸­ï¼Œè¿™äº›åœºæ™¯çš„è¡¨é¢å¯èƒ½ç‰¹åˆ«å…·æœ‰æŒ‘æˆ˜æ€§</strong>ã€‚æ›´å¤šçš„æ•°æ®é›†æ­£åœ¨å‡†å¤‡ä¸­ï¼Œå¹¶å°†å¾ˆå¿«åœ¨<a href="https://github.com/3DOM-FBK/NeRFBK">Github_NeRFBK</a>ä¸Šå…±äº«[103]ã€‚ç ”ç©¶ç»“æœçªå‡ºäº†NeRFå’Œæ‘„å½±æµ‹é‡çš„æ½œåŠ›å’Œå±€é™æ€§ï¼Œä¸ºè¯¥é¢†åŸŸçš„åç»­ç ”ç©¶å¥ å®šäº†åŸºç¡€ã€‚æœªæ¥çš„ç ”ç©¶å¯ä»¥æ¢ç´¢NeRFå’Œæ‘„å½±æµ‹é‡çš„ç»“åˆï¼Œä»¥æé«˜å…·æœ‰æŒ‘æˆ˜æ€§åœºæ™¯ä¸‹ä¸‰ç»´é‡å»ºçš„è´¨é‡å’Œæ•ˆç‡ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æ‘˜è¦:æœ¬æ–‡å¯¹åŸºäºå›¾åƒçš„ä¸‰ç»´é‡å»ºè¿›è¡Œäº†æ‰¹åˆ¤æ€§åˆ†æï¼Œå¹¶å°†å…¶ä¸ä¼ ç»Ÿæ‘„å½±æµ‹é‡æ³•photogrammetryè¿›è¡Œäº†å®šé‡æ¯”è¾ƒã€‚å› æ­¤ï¼Œç›®çš„æ˜¯å®¢è§‚åœ°è¯„ä¼°NeRFçš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ï¼Œå¹¶æ·±å…¥äº†è§£å…¶åœ¨ä¸åŒç°å®åœºæ™¯ä¸­çš„é€‚ç”¨æ€§ï¼Œä»å°å‹ç‰©ä½“åˆ°é—äº§å’Œå·¥ä¸šåœºæ™¯ã€‚åœ¨å…¨é¢æ¦‚è¿°æ‘„å½±æµ‹é‡å’ŒNeRFæ–¹æ³•ï¼Œçªå‡ºå„è‡ªçš„ä¼˜ç‚¹å’Œç¼ºç‚¹åï¼Œä½¿ç”¨ä¸åŒå°ºå¯¸å’Œè¡¨é¢ç‰¹å¾çš„ä¸åŒç‰©ä½“ï¼ŒåŒ…æ‹¬æ— çº¹ç†ï¼Œé‡‘å±ï¼ŒåŠé€æ˜å’Œé€æ˜è¡¨é¢ï¼Œå¯¹å„ç§NeRFæ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚<br>æˆ‘ä»¬ä½¿ç”¨å¤šç§æ ‡å‡†è¯„ä¼°ç”Ÿæˆçš„3Dé‡å»ºçš„è´¨é‡ï¼Œä¾‹å¦‚å™ªå£°æ°´å¹³ã€å‡ ä½•ç²¾åº¦å’Œæ‰€éœ€å›¾åƒçš„æ•°é‡(å³å›¾åƒåŸºçº¿)ã€‚<br>ç»“æœè¡¨æ˜ï¼Œ<strong>åœ¨å…·æœ‰æ— çº¹ç†ã€åå°„å’ŒæŠ˜å°„è¡¨é¢çš„éåä½œå¯¹è±¡æ–¹é¢</strong>ï¼ŒNeRFè¡¨ç°å‡ºä¼˜äºæ‘„å½±æµ‹é‡çš„æ€§èƒ½ã€‚<br>ç›¸åï¼Œ<strong>åœ¨ç‰©ä½“è¡¨é¢å…·æœ‰ååŒçº¹ç†çš„æƒ…å†µä¸‹</strong>ï¼Œæ‘„å½±æµ‹é‡ä¼˜äºNeRFã€‚è¿™ç§äº’è¡¥æ€§åº”åœ¨ä»Šåçš„å·¥ä½œä¸­è¿›ä¸€æ­¥åŠ ä»¥åˆ©ç”¨ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨è®¡ç®—æœºè§†è§‰å’Œæ‘„å½±æµ‹é‡é¢†åŸŸä¸­ï¼Œé«˜è´¨é‡çš„ä¸‰ç»´é‡å»ºæ˜¯ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ï¼Œåœ¨è´¨é‡æ£€æµ‹ã€é€†å‘å·¥ç¨‹ã€ç»“æ„ç›‘æµ‹ã€æ•°å­—ä¿å­˜ç­‰æ–¹é¢æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚ç„¶è€Œï¼Œæä¾›é«˜å‡ ä½•ç²¾åº¦å’Œé«˜åˆ†è¾¨ç‡ç»†èŠ‚çš„ä½æˆæœ¬ï¼Œä¾¿æºå¼å’Œçµæ´»çš„3Dæµ‹é‡æŠ€æœ¯å¤šå¹´æ¥ä¸€ç›´éœ€æ±‚é‡å¾ˆå¤§ã€‚<br><strong>ç°æœ‰çš„ä¸‰ç»´é‡å»ºæ–¹æ³•å¤§è‡´å¯åˆ†ä¸ºæ¥è§¦å¼å’Œéæ¥è§¦å¼ä¸¤å¤§ç±»</strong>[1]ã€‚</p><ul><li>ä¸ºäº†ç¡®å®šç‰©ä½“çš„ç²¾ç¡®3Då½¢çŠ¶ï¼Œ<strong>åŸºäºæ¥è§¦çš„æŠ€æœ¯</strong>é€šå¸¸ä½¿ç”¨ç‰©ç†å·¥å…·ï¼Œå¦‚å¡å°ºæˆ–åæ ‡æµ‹é‡æœºã€‚è™½ç„¶ç²¾ç¡®çš„å‡ ä½•3Dæµ‹é‡æ˜¯å¯è¡Œçš„ï¼Œå¹¶ä¸”éå¸¸é€‚åˆäºè®¸å¤šåº”ç”¨ï¼Œä½†å®ƒä»¬ç¡®å®æœ‰ä¸€äº›ç¼ºç‚¹ï¼Œä¾‹å¦‚è·å–æ•°æ®å’Œæ‰§è¡Œç¨€ç–3Dé‡å»ºæ‰€éœ€çš„æ—¶é—´é•¿åº¦ï¼Œæµ‹é‡ç³»ç»Ÿçš„å±€é™æ€§ï¼Œå’Œ/æˆ–éœ€è¦æ˜‚è´µçš„ä»ªå™¨ï¼Œè¿™<strong>é™åˆ¶äº†å®ƒä»¬åœ¨å…·æœ‰ç‹¬ç‰¹è®¡é‡è§„èŒƒçš„ä¸“ä¸šå®éªŒå®¤å’Œé¡¹ç›®ä¸­çš„ä½¿ç”¨</strong>ã€‚</li><li>å¦ä¸€æ–¹é¢ï¼Œéæ¥è§¦å¼æŠ€æœ¯å…è®¸ç²¾ç¡®çš„3Dé‡å»ºï¼Œè€Œæ²¡æœ‰ç›¸å…³çš„ç¼ºç‚¹ã€‚å¤§å¤šæ•°ç ”ç©¶äººå‘˜éƒ½ä¸“æ³¨äºè¢«åŠ¨å›¾åƒæ–¹æ³•ï¼Œå› ä¸ºå®ƒä»¬çš„ä½æˆæœ¬ï¼Œä¾¿æºæ€§å’Œçµæ´»æ€§åœ¨å¹¿æ³›çš„åº”ç”¨é¢†åŸŸï¼ŒåŒ…æ‹¬å·¥ä¸šæ£€æµ‹å’Œè´¨é‡æ§åˆ¶[2-5]ä»¥åŠé—äº§heritage 3Dæ–‡æ¡£[6-9]ã€‚</li></ul><p>åœ¨åŸºäºå›¾åƒçš„ä¸‰ç»´é‡å»ºæ–¹æ³•ä¸­ï¼Œ<strong>æ‘„å½±æµ‹é‡photogrammetry</strong>æ˜¯ä¸€ç§è¢«å¹¿æ³›è®¤å¯çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥ä»ä¸åŒè§’åº¦æ‹æ‘„çš„ä¸€ç»„å›¾åƒä¸­åˆ›å»ºçœŸå®åœºæ™¯çš„å¯†é›†å’Œå‡ ä½•ç²¾ç¡®çš„ä¸‰ç»´ç‚¹äº‘ã€‚æ‘„å½±æµ‹é‡å¯ä»¥å¤„ç†ä»å®¤å†…åˆ°å®¤å¤–ç¯å¢ƒçš„å„ç§åœºæ™¯ï¼Œå¹¶ä¸”åœ¨å¤šä¸ªé¡¹ç›®ä¸­å…·æœ‰è®¸å¤šå•†ä¸šå’Œå¼€æºå·¥å…·[10,11]ã€‚<strong>ç„¶è€Œï¼Œæ‘„å½±æµ‹é‡æœ‰å…¶å±€é™æ€§</strong>ï¼Œç‰¹åˆ«æ˜¯å½“æ¶‰åŠåˆ°éåä½œè¡¨é¢çš„3Dæµ‹é‡æ—¶ï¼Œç”±äºå…¶å¯¹ç‰©ä½“çº¹ç†å±æ€§çš„æ•æ„Ÿæ€§ï¼Œå¹¶ä¸”å®ƒå¯èƒ½éš¾ä»¥ç”Ÿæˆéå¸¸è¯¦ç»†çš„3Dé‡å»ºã€‚ä¾‹å¦‚ï¼Œå›¾åƒä¸­é•œé¢åå°„çš„å­˜åœ¨ä¼šå¯¼è‡´é«˜åå°„å’Œå¼±çº¹ç†ç‰©ä½“çš„å™ªå£°ç»“æœï¼Œè€Œé€æ˜ç‰©ä½“ç”±äºæŠ˜å°„å’Œé•œé¢åå°„å¼•èµ·çš„çº¹ç†å˜åŒ–ä¼šå¸¦æ¥é‡å¤§æŒ‘æˆ˜[12-15]ã€‚</p><p>æœ€è¿‘ï¼Œä¸€ç§åŸºäºç¥ç»è¾å°„åœº(Neural Radiance Fields, NERF)çš„å›¾åƒæ•°æ®é›†ä¸‰ç»´é‡å»ºçš„æ–°æ–¹æ³•å¼•èµ·äº†ç ”ç©¶ç•Œçš„æå¤§å…³æ³¨[16 - 22]ã€‚è¯¥æ–¹æ³•é€šè¿‡ä¼˜åŒ–ä¸€ç»„å®šå‘å›¾åƒçš„è¿ç»­åœºæ™¯å‡½æ•°ï¼Œèƒ½å¤Ÿç”Ÿæˆå¤æ‚åœºæ™¯çš„æ–°è§†å›¾ã€‚NeRFçš„å·¥ä½œåŸç†æ˜¯è®­ç»ƒä¸€ä¸ªå®Œå…¨è¿æ¥çš„ç½‘ç»œï¼Œç§°ä¸ºç¥ç»è¾å°„åœºï¼Œé€šè¿‡ä½¿ç”¨æ¸²æŸ“æŸå¤±æ¥å¤åˆ¶åœºæ™¯çš„è¾“å…¥è§†å›¾(å›¾1)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812154804.png" alt="image.png|666"></p><p>å¦‚å›¾1æ‰€ç¤ºï¼Œç¥ç»ç½‘ç»œä»¥ä¸€ç»„ç”±ç©ºé—´ä½ç½®(x, y, z)å’Œè§‚çœ‹æ–¹å‘(Î¸ï¼Œ Ï†)ç»„æˆçš„è¿ç»­5Dåæ ‡ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºæ¯ä¸ªç‚¹åœ¨æ¯ä¸ªæ–¹å‘ä¸Šçš„ä½“ç§¯å¯†åº¦(Ïƒ)å’Œä¸è§†å›¾ç›¸å…³çš„å‘å°„äº®åº¦(RGB)ã€‚ç„¶åä»æŸä¸ªè§’åº¦æ¸²æŸ“NeRFï¼Œå¹¶ä¸”å¯ä»¥å¯¼å‡º3Då‡ ä½•å½¢çŠ¶ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡è¡Œè¿›ç›¸æœºå…‰çº¿ä»¥ç½‘æ ¼çš„å½¢å¼[23]Marching cubesã€‚</p><p><strong>å°½ç®¡å®ƒä»¬æœ€è¿‘å¾ˆå—æ¬¢è¿ï¼Œä½†æ˜¯ï¼Œä¸æ›´ä¼ ç»Ÿçš„æ‘„å½±æµ‹é‡ç›¸æ¯”ï¼Œä»ç„¶éœ€è¦å¯¹åŸºäºNeRFçš„æ–¹æ³•è¿›è¡Œæ‰¹åˆ¤æ€§åˆ†æï¼Œä»¥ä¾¿å®¢è§‚åœ°é‡åŒ–æ‰€äº§ç”Ÿçš„3Dæ¨¡å‹çš„è´¨é‡ï¼Œå¹¶å……åˆ†äº†è§£å®ƒä»¬çš„ä¼˜åŠ¿å’Œå±€é™æ€§</strong>ã€‚</p><p>NeRFæ–¹æ³•æœ€è¿‘åœ¨åŸºäºå›¾åƒçš„3Dé‡å»ºé¢†åŸŸæˆä¸ºæ‘„å½±æµ‹é‡å’Œè®¡ç®—æœºè§†è§‰çš„ä¸€ç§æœ‰å‰é€”çš„æ›¿ä»£æ–¹æ³•ã€‚å› æ­¤ï¼Œ<strong>æœ¬ç ”ç©¶æ—¨åœ¨æ·±å…¥åˆ†æNeRFæ–¹æ³•ç”¨äº3Dé‡å»ºç›®çš„</strong>ã€‚æˆ‘ä»¬è¯„ä¼°äº†ä½¿ç”¨åŸºäºNeRFçš„æŠ€æœ¯å’Œé€šè¿‡æ‘„å½±æµ‹é‡åœ¨å°ºå¯¸å’Œè¡¨é¢ç‰¹å¾(çº¹ç†è‰¯å¥½ï¼Œæ— çº¹ç†ï¼Œé‡‘å±ï¼ŒåŠé€æ˜å’Œé€æ˜)çš„å„ç§ç‰©ä½“ä¸Šç”Ÿæˆçš„3Dé‡å»ºçš„å‡†ç¡®æ€§ã€‚æˆ‘ä»¬æ ¹æ®è¡¨é¢åå·®(å™ªå£°æ°´å¹³)å’Œå‡ ä½•ç²¾åº¦æ£€æŸ¥äº†æ¯ç§æŠ€æœ¯äº§ç”Ÿçš„æ•°æ®ã€‚<strong>æœ€ç»ˆç›®çš„æ˜¯è¯„ä¼°NeRFæ–¹æ³•åœ¨ç°å®åœºæ™¯ä¸­çš„é€‚ç”¨æ€§ï¼Œå¹¶æä¾›å…³äºåŸºäºNeRFçš„3Dé‡å»ºæ–¹æ³•çš„ä¼˜åŠ¿å’Œå±€é™æ€§çš„å®¢è§‚è¯„ä¼°æŒ‡æ ‡</strong></p><p>æœ¬æ–‡ç»„ç»‡å¦‚ä¸‹:ç¬¬2èŠ‚ä»‹ç»äº†ä»¥å‰ä½¿ç”¨åŸºäºæ‘„å½±æµ‹é‡å’ŒåŸºäºNeRFçš„æ–¹æ³•è¿›è¡Œ3Dé‡å»ºçš„ç ”ç©¶æ´»åŠ¨çš„æ¦‚è¿°ã€‚ç¬¬3èŠ‚ä»‹ç»äº†å»ºè®®çš„è´¨é‡è¯„ä¼°ç®¡é“å’Œä½¿ç”¨çš„æ•°æ®é›†ï¼Œè€Œç¬¬4èŠ‚æŠ¥å‘Šäº†è¯„ä¼°å’Œæ¯”è¾ƒç»“æœã€‚æœ€åï¼Œåœ¨ç¬¬5èŠ‚ç»™å‡ºç»“è®ºå’Œæœªæ¥çš„ç ”ç©¶è®¡åˆ’ã€‚</p><h2 id="The-State-of-the-Art-SOTA"><a href="#The-State-of-the-Art-SOTA" class="headerlink" title="The State of the Art(SOTA)"></a>The State of the Art(SOTA)</h2><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œå…¨é¢æ¦‚è¿°äº†ä¹‹å‰çš„3Dé‡å»ºç ”ç©¶ï¼Œç»“åˆäº†æ‘„å½±æµ‹é‡å’ŒåŸºäºNeRFçš„æ–¹æ³•ï¼Œå¹¶è€ƒè™‘äº†å®ƒä»¬åœ¨éåä½œè¡¨é¢(åå°„ã€æ— çº¹ç†ç­‰)ä¸Šçš„åº”ç”¨ã€‚</p><h3 id="Photogrammetric-Based-Methods"><a href="#Photogrammetric-Based-Methods" class="headerlink" title="Photogrammetric-Based Methods"></a>Photogrammetric-Based Methods</h3><p>æ‘„å½±æµ‹é‡æ˜¯ä¸€ç§è¢«å¹¿æ³›æ¥å—çš„å¯¹çº¹ç†è‰¯å¥½çš„ç‰©ä½“è¿›è¡Œä¸‰ç»´å»ºæ¨¡çš„æ–¹æ³•ï¼Œå®ƒèƒ½å¤Ÿé€šè¿‡å¤šè§†å›¾ç«‹ä½“(<strong>MVS</strong>)æ–¹æ³•å‡†ç¡®å¯é åœ°æ¢å¤ç‰©ä½“çš„ä¸‰ç»´å½¢çŠ¶ã€‚åŸºäºæ‘„å½±æµ‹é‡çš„æ–¹æ³•[19,24 - 30]<strong>è¦ä¹ˆä¾é ç‰¹å¾åŒ¹é…è¿›è¡Œæ·±åº¦ä¼°è®¡</strong>[27,28]ï¼Œ<strong>è¦ä¹ˆä½¿ç”¨ä½“ç´ æ¥è¡¨ç¤ºå½¢çŠ¶</strong>[24,29,31,32]ã€‚<strong>ä¹Ÿå¯ä»¥ä½¿ç”¨åŸºäºå­¦ä¹ çš„MVSæ–¹æ³•</strong>ï¼Œä½†å®ƒä»¬é€šå¸¸ä¼šå–ä»£ç»å…¸MVSç®¡é“çš„æŸäº›éƒ¨åˆ†ï¼Œä¾‹å¦‚ç‰¹å¾åŒ¹é…[33 - 36]ï¼Œæ·±åº¦èåˆ[37,38]æˆ–å¤šè§†å›¾å›¾åƒæ·±åº¦æ¨æ–­[39 - 41]ã€‚<strong>ç„¶è€Œï¼Œå…·æœ‰æ— çº¹ç†ã€åå°„æˆ–æŠ˜å°„è¡¨é¢çš„ç‰©ä½“é‡å»ºå…·æœ‰æŒ‘æˆ˜æ€§</strong>ï¼Œå› ä¸ºæ‰€æœ‰æ‘„å½±æµ‹é‡æ–¹æ³•éƒ½éœ€è¦åœ¨å¤šä¸ªå›¾åƒä¹‹é—´åŒ¹é…å¯¹åº”å…³ç³»[14]ã€‚<br><strong>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜</strong>ï¼Œå·²ç»å¼€å‘äº†å„ç§æ‘„å½±æµ‹é‡æ–¹æ³•æ¥é‡å»ºè¿™äº›éåä½œå¯¹è±¡ã€‚å¯¹äºæ— çº¹ç†çš„å¯¹è±¡ï¼Œå·²ç»<strong>æå‡ºäº†éšæœºæ¨¡å¼æŠ•å½±</strong>[13,42,43]æˆ–<strong>åˆæˆæ¨¡å¼</strong>[14,44]ç­‰è§£å†³æ–¹æ¡ˆã€‚<strong>ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•éš¾ä»¥å¤„ç†å…·æœ‰å¼ºé•œé¢åå°„æˆ–äº’åå°„çš„é«˜åå°„è¡¨é¢</strong>[43]ã€‚å…¶ä»–æ–¹æ³•ï¼Œå¦‚<strong>äº¤å‰æåŒ–</strong>[7,45]å’Œ<strong>å›¾åƒé¢„å¤„ç†</strong>[46,47]å·²ç”¨äºåå°„æˆ–éååŒè¡¨é¢ï¼Œ<strong>ä½†ä¸€äº›æŠ€æœ¯å¯èƒ½ä¼šå¹³æ»‘è¡¨é¢ç²—ç³™åº¦å¹¶å½±å“è§†å›¾é—´çš„çº¹ç†ä¸€è‡´æ€§</strong>[48,49]ã€‚<br>æ‘„å½±æµ‹é‡ä¹Ÿç”¨äºæ··åˆæ–¹æ³•[50 -53]ï¼Œå…¶ä¸­MVSæ–¹æ³•ç”¨äºç”Ÿæˆç¨€ç–çš„3Då½¢çŠ¶ï¼Œå¯ä»¥ä½œä¸ºä½¿ç”¨å…‰åº¦ç«‹ä½“(PS)è¿›è¡Œé«˜åˆ†è¾¨ç‡æµ‹é‡çš„åŸºç¡€ã€‚ä¼ ç»Ÿçš„[52,54,55]å’ŒåŸºäºå­¦ä¹ çš„[56 - 58]PSæ–¹æ³•ä¹Ÿç”¨äºç†è§£å›¾åƒè¾ç…§åº¦æ–¹ç¨‹å’Œæ£€ç´¢æˆåƒç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ï¼Œ<strong>ä½†é•œé¢ä»ç„¶æ˜¯æ‰€æœ‰åŸºäºå›¾åƒçš„æ–¹æ³•çš„æŒ‘æˆ˜</strong>ã€‚</p><h3 id="NeRF-Based-Methods"><a href="#NeRF-Based-Methods" class="headerlink" title="NeRF-Based Methods"></a>NeRF-Based Methods</h3><p>åˆæˆé€¼çœŸçš„å›¾åƒå’Œè§†é¢‘æ˜¯è®¡ç®—æœºå›¾å½¢å­¦çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯å‡ åå¹´æ¥ç ”ç©¶çš„ç„¦ç‚¹[59]ã€‚ç¥ç»æ¸²æŸ“æ˜¯ä¸€ç§åŸºäºå­¦ä¹ çš„å›¾åƒå’Œè§†é¢‘ç”Ÿæˆæ–¹æ³•ï¼Œç”¨äºæ§åˆ¶åœºæ™¯å±æ€§(ä¾‹å¦‚ï¼Œç…§æ˜ï¼Œç›¸æœºå‚æ•°ï¼Œå§¿åŠ¿ï¼Œå‡ ä½•å½¢çŠ¶ï¼Œå¤–è§‚ç­‰)ã€‚<strong>ç¥ç»æ¸²æŸ“å°†æ·±åº¦å­¦ä¹ æ–¹æ³•ä¸è®¡ç®—æœºå›¾å½¢å­¦çš„ç‰©ç†çŸ¥è¯†ç›¸ç»“åˆï¼Œä»¥å®ç°å¯æ§å’Œé€¼çœŸçš„åœºæ™¯(3D)æ¨¡å‹</strong>ã€‚å…¶ä¸­ï¼Œç”±Mildenhallç­‰äººäº2020å¹´é¦–æ¬¡æå‡ºçš„NeRFæ˜¯ä¸€ç§ä½¿ç”¨éšå¼è¡¨ç¤ºå‘ˆç°æ–°è§†å›¾å¹¶é‡å»º3Dåœºæ™¯çš„æ–¹æ³•(å›¾1)ã€‚åœ¨NeRFæ–¹æ³•ä¸­ï¼Œä½¿ç”¨ç¥ç»ç½‘ç»œä»2Då›¾åƒä¸­å­¦ä¹ ç‰©ä½“çš„3Då½¢çŠ¶ã€‚å¦‚å¼(1)æ‰€å®šä¹‰çš„äº®åº¦åœºï¼Œä»æ¯ä¸ªå¯èƒ½çš„è§‚çœ‹æ–¹å‘æ•è·åœºæ™¯ä¸­æ¯ä¸ªç‚¹çš„é¢œè‰²å’Œä½“ç§¯å¯†åº¦:<br>$F(X,d)====&gt;(c,\sigma)$ Eq.1</p><p>NeRFæ¨¡å‹ä½¿ç”¨ç¥ç»ç½‘ç»œè¡¨ç¤ºï¼Œå…¶ä¸­Xè¡¨ç¤ºå›¾åƒçš„ä¸‰ç»´åæ ‡ï¼Œdè¡¨ç¤ºæ–¹ä½è§’å’Œæè§†è§’ï¼Œcè¡¨ç¤ºé¢œè‰²ï¼ŒÏƒè¡¨ç¤ºåœºæ™¯çš„ä½“ç§¯å¯†åº¦ã€‚ä¸ºäº†ä¿è¯å¤šè§†è§’çš„ä¸€è‡´æ€§ï¼ŒÏƒçš„é¢„æµ‹è¢«è®¾è®¡æˆä¸è§‚å¯Ÿæ–¹å‘æ— å…³ï¼Œè€Œé¢œè‰²cå¯ä»¥æ ¹æ®è§‚å¯Ÿæ–¹å‘å’Œä½ç½®è€Œå˜åŒ–ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œå¤šå±‚æ„ŸçŸ¥å™¨(MLP)åˆ†ä¸¤æ­¥ä½¿ç”¨ã€‚åœ¨ç¬¬ä¸€æ­¥ä¸­ï¼ŒMLPä»¥Xä½œä¸ºè¾“å…¥ï¼ŒåŒæ—¶è¾“å‡ºÏƒå’Œé«˜ç»´ç‰¹å¾å‘é‡ã€‚ç„¶åå°†ç‰¹å¾å‘é‡ä¸è§‚å¯Ÿæ–¹å‘dç»“åˆï¼Œå¹¶é€šè¿‡å¦ä¸€ä¸ªMLPï¼Œäº§ç”Ÿé¢œè‰²è¡¨ç¤ºcã€‚</p><p>æœ€åˆçš„NeRFå®ç°ä»¥åŠéšåçš„æ–¹æ³•ä½¿ç”¨äº†ä¸ç¡®å®šæ€§åˆ†å±‚æŠ½æ ·æ–¹æ³•ï¼Œå¦‚å¼(2)-(4)æ‰€ç¤ºã€‚è¿™ç§æ–¹æ³•åŒ…æ‹¬å°†å°„çº¿åˆ†æˆNä¸ªç­‰é—´éš”çš„ç®±å­ï¼Œå¹¶ä»æ¯ä¸ªç®±å­å‡åŒ€åœ°æŠ½å–ä¸€ä¸ªæ ·æœ¬:<br>$C(r)=\sum_{i=1}^N\alpha_iT_ic_i$ Eq.2</p><p>$T_i=e^{-\sum_{j=1}^{i-1}\sigma_j\delta_j}$ Eq.3</p><p>$\alpha_i=1-e^{\sigma_i\delta_i}$ Eq.4</p><p>å…¶ä¸­$Î´_i$è¡¨ç¤ºè¿ç»­æ ·æœ¬(iå’Œi + 1)ä¹‹é—´çš„è·ç¦»ï¼Œ$Ïƒ_i$å’Œ$c_i$è¡¨ç¤ºæ²¿æ ·æœ¬ç‚¹(i)çš„ä¼°è®¡å¯†åº¦å’Œé¢œè‰²å€¼ã€‚é€æ˜åº¦æˆ–ä¸é€æ˜åº¦$Î±_i$åœ¨æ ·æœ¬ç‚¹(i)ä¹Ÿä½¿ç”¨å¼(4)è®¡ç®—ã€‚</p><p>è¿ç»­çš„æ–¹æ³•[60 - 62]ä¹Ÿçº³å…¥äº†<strong>ä¼°è®¡çš„æ·±åº¦</strong>ï¼Œå¦‚å¼(5)æ‰€ç¤ºï¼Œå¯¹å¯†åº¦æ–½åŠ é™åˆ¶ï¼Œä½¿å®ƒä»¬ç±»ä¼¼äºåœºæ™¯è¡¨é¢çš„ç±»deltaå‡½æ•°ï¼Œæˆ–è€…åœ¨æ·±åº¦ä¸Šå¼ºåˆ¶å¹³æ»‘:</p><p>$D(r)=\sum_{i=1}^{N}\alpha_{i}t_{i}T_{i}$ Eq.5</p><p>ä¸ºäº†ä¼˜åŒ–MLPå‚æ•°ï¼Œå¯¹æ¯ä¸ªåƒç´ ä½¿ç”¨å¹³æ–¹è¯¯å·®å…‰åº¦æŸå¤±: $M=\sum_{r\in R}|C-C_{gt}|_{2}^{2}$</p><p>å…¶ä¸­ï¼Œå˜é‡$C_{gt}(R)$è¡¨ç¤ºè®­ç»ƒå›¾åƒä¸­ä¸å°„çº¿Rå¯¹åº”çš„åƒç´ çš„åœ°é¢çœŸè‰²ï¼ŒRè¡¨ç¤ºä¸å¾…åˆæˆå›¾åƒç›¸å…³è”çš„å°„çº¿æ‰¹æ¬¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒNeRFçš„éšå¼3Dè¡¨ç¤ºè¢«æŒ‡å®šç”¨äºè§†å›¾æ¸²æŸ“ã€‚<strong>ä¸ºäº†è·å¾—æ˜ç¡®çš„ä¸‰ç»´å‡ ä½•å›¾å½¢ï¼Œéœ€è¦é€šè¿‡å¯¹æ¯æ¡å…‰çº¿å–æ·±åº¦åˆ†å¸ƒçš„æœ€å¤§ä¼¼ç„¶æ¥æå–ä¸åŒè§†å›¾çš„æ·±åº¦å›¾ã€‚ç„¶åå¯ä»¥å°†è¿™äº›æ·±åº¦å›¾èåˆä»¥å¯¼å‡ºç‚¹äº‘æˆ–è¾“å…¥Marching Cube[23]ç®—æ³•ä»¥å¯¼å‡º3Dç½‘æ ¼</strong>ã€‚</p><p>å°½ç®¡NeRFä¸º3Dé‡å»ºæä¾›äº†ä¸€ç§æ›¿ä»£ä¼ ç»Ÿæ‘„å½±æµ‹é‡æ–¹æ³•çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ‘„å½±æµ‹é‡å¯èƒ½æ— æ³•æä¾›å‡†ç¡®ç»“æœçš„æƒ…å†µä¸‹äº§ç”Ÿæœ‰å¸Œæœ›çš„ç»“æœï¼Œä½†æ­£å¦‚ä¸åŒä½œè€…æ‰€æŠ¥é“çš„é‚£æ ·ï¼Œ<strong>å®ƒä»ç„¶é¢ä¸´ä¸€äº›å±€é™æ€§</strong>[63 -68]ã€‚ä»3Dè®¡é‡çš„è§’åº¦æ¥çœ‹ï¼Œéœ€è¦è€ƒè™‘çš„ä¸€äº›ä¸»è¦é—®é¢˜åŒ…æ‹¬:</p><ul><li>ç”Ÿæˆçš„ç¥ç»æ¸²æŸ“å›¾(éšåè½¬æ¢ä¸º3Dç½‘æ ¼)çš„åˆ†è¾¨ç‡å¯èƒ½å—åˆ°è¾“å…¥æ•°æ®çš„è´¨é‡å’Œåˆ†è¾¨ç‡çš„é™åˆ¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ<strong>æ›´é«˜åˆ†è¾¨ç‡çš„è¾“å…¥æ•°æ®å°†äº§ç”Ÿæ›´é«˜åˆ†è¾¨ç‡çš„3Dç½‘æ ¼ï¼Œä½†ä»£ä»·æ˜¯å¢åŠ äº†è®¡ç®—éœ€æ±‚</strong>ã€‚</li><li>ä½¿ç”¨NeRFç”Ÿæˆç¥ç»æ¸²æŸ“(ç„¶åæ˜¯3Dç½‘æ ¼)å¯èƒ½æ˜¯è®¡ç®—å¯†é›†å‹çš„ï¼Œ<strong>éœ€è¦å¤§é‡çš„è®¡ç®—èƒ½åŠ›å’Œå†…å­˜</strong>ã€‚</li><li><strong>ä¸€èˆ¬æ— æ³•å‡†ç¡®åœ°æ¨¡æ‹Ÿéåˆšæ€§ç‰©ä½“çš„ä¸‰ç»´å½¢çŠ¶</strong>ã€‚</li><li>åŸå§‹NeRFæ¨¡å‹æ˜¯åŸºäºæ¯åƒç´ RGBé‡å»ºæŸå¤±è¿›è¡Œä¼˜åŒ–çš„ï¼Œå½“ä»…ä½¿ç”¨RGBå›¾åƒä½œä¸ºè¾“å…¥æ—¶ï¼Œå­˜åœ¨æ— é™æ•°é‡çš„ä¸ç…§ç‰‡ä¸€è‡´çš„è§£é‡Šï¼Œè¿™<strong>å¯èƒ½å¯¼è‡´å™ªå£°é‡å»º</strong>ã€‚</li><li>NeRFé€šå¸¸éœ€è¦å¤§é‡å…·æœ‰å°åŸºçº¿çš„è¾“å…¥å›¾åƒæ¥ç”Ÿæˆç²¾ç¡®çš„3Dç½‘æ ¼ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå…·æœ‰å¤æ‚å‡ ä½•æˆ–é®æŒ¡çš„åœºæ™¯ã€‚<strong>åœ¨éš¾ä»¥è·å–å›¾åƒæˆ–è®¡ç®—èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªæŒ‘æˆ˜</strong>ã€‚</li></ul><p>é’ˆå¯¹ä¸Šè¿°é—®é¢˜ï¼Œ<strong>ç ”ç©¶äººå‘˜å¯¹åŸå§‹NeRFæ–¹æ³•è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹å’Œæ‰©å±•</strong>ï¼Œä»¥æé«˜æ€§èƒ½å’Œ3Dç»“æœã€‚</p><ul><li>Tancikç­‰äºº[69]å’ŒSitzmannç­‰äºº[70]åœ¨NeRFé«˜é¢‘è¡¨ç¤ºèƒ½åŠ›ä¸è¶³çš„æƒ…å†µä¸‹ï¼Œä¸ºäº†æé«˜ç¥ç»æ¸²æŸ“ç»“æœçš„åˆ†è¾¨ç‡ï¼Œ<strong>é‡‡ç”¨äº†ä¸nerfä¸åŒé¢‘ç‡çš„ä½ç½®ç¼–ç æ“ä½œ</strong>ã€‚</li><li>åœ¨æ­¤ä¹‹åï¼Œå…¶ä»–æ–¹æ³•<strong>ä¾§é‡äºä»¥ä¸åŒçš„æ–¹å¼æé«˜ç¥ç»æ¸²æŸ“ç»“æœçš„æ•ˆç‡å’Œåˆ†è¾¨ç‡</strong>ï¼ŒåŒ…æ‹¬æ¨¡å‹åŠ é€Ÿ[20,71]ã€å‹ç¼©[72 -74]ã€é‡å…‰ç…§[75 -77]å’Œè§†å›¾ä¾èµ–å½’ä¸€åŒ–[78]ï¼Œæˆ–é«˜åˆ†è¾¨ç‡2Dç‰¹å¾å¹³é¢[68]ã€‚<ul><li>MuÌˆllerç­‰äºº[20]InstantNGP å¼•å…¥äº†å…·æœ‰å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç çš„å³æ—¶ç¥ç»å›¾å½¢åŸè¯­çš„æ¦‚å¿µï¼Œè¯¥æ¦‚å¿µå…è®¸å¿«é€Ÿé«˜æ•ˆåœ°ç”Ÿæˆ3Dæ¨¡å‹ã€‚</li><li>Barronç­‰äºº[64,79]æå‡ºMip-NeRFæ˜¯åŸå§‹NeRFçš„ä¿®æ”¹ç‰ˆæœ¬ï¼Œå…è®¸åœ¨è¿ç»­å€¼å°ºåº¦ä¸Šè¡¨ç¤ºåœºæ™¯, Mip-NeRFé€šè¿‡æœ‰æ•ˆåœ°æ¸²æŸ“æŠ—é”¯é½¿åœ†é”¥å½¢æˆªä½“è€Œä¸æ˜¯å°„çº¿ï¼Œå¤§å¤§å¢åŠ äº†NeRFå¼ºè°ƒç»†èŠ‚çš„èƒ½åŠ›ã€‚<strong>ç„¶è€Œï¼Œè¯¥æ–¹æ³•çš„å±€é™æ€§å¯èƒ½åŒ…æ‹¬è®­ç»ƒå›°éš¾å’Œè®¡ç®—æ•ˆç‡é—®é¢˜</strong>ã€‚</li><li>Chenç­‰äºº[72]æå‡ºäº†ä¸€ç§åä¸ºTensoRFçš„æ–°æ–¹æ³•ï¼Œç”¨äºå°†åœºæ™¯çš„äº®åº¦åœºå»ºæ¨¡å’Œé‡å»ºä¸º4Då¼ é‡ã€‚è¿™ç§æ–¹æ³•è¡¨ç¤ºå…·æœ‰æ¯ä½“ç´ å¤šé€šé“ç‰¹å¾çš„3Dä½“ç´ ç½‘æ ¼ã€‚<strong>é™¤äº†æä¾›å“è¶Šçš„æ¸²æŸ“è´¨é‡ä¹‹å¤–ï¼Œä¸ä»¥å‰å’Œç°ä»£çš„æ–¹æ³•ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•å®ç°äº†æ›´ä½çš„å†…å­˜ä½¿ç”¨</strong>ã€‚</li><li>Yangç­‰äºº[80]æå‡ºäº†ä¸€ç§åŸºäºèåˆçš„æ–¹æ³•ï¼Œç§°ä¸ºPS-NeRFï¼Œå°†NeRFçš„ä¼˜åŠ¿ä¸å…‰åº¦ç«‹ä½“æ–¹æ³•ç›¸ç»“åˆã€‚<strong>è¯¥æ–¹æ³•æ—¨åœ¨é€šè¿‡åˆ©ç”¨NeRFé‡å»ºåœºæ™¯çš„èƒ½åŠ›æ¥è§£å†³ä¼ ç»Ÿå…‰åº¦ç«‹ä½“æŠ€æœ¯çš„å±€é™æ€§ï¼Œæœ€ç»ˆæé«˜æ‰€å¾—ç½‘æ ¼çš„åˆ†è¾¨ç‡</strong>ã€‚</li><li>Reiserç­‰äºº[68]å¼•å…¥äº†Memory-Efficient Radiance Field (MERF)è¡¨ç¤ºï¼Œé€šè¿‡åˆ©ç”¨ç¨€ç–ç‰¹å¾ç½‘æ ¼å’Œé«˜åˆ†è¾¨ç‡2Dç‰¹å¾å¹³é¢ï¼Œ<strong>å¯ä»¥å¿«é€Ÿæ¸²æŸ“å¤§è§„æ¨¡åœºæ™¯</strong>ã€‚</li><li>Liç­‰äºº[21]ä»‹ç»äº†Neuralangeloï¼Œè¿™æ˜¯ä¸€ç§åˆ©ç”¨å¤šåˆ†è¾¨ç‡3Dæ•£åˆ—ç½‘æ ¼å’Œç¥ç»è¡¨é¢æ¸²æŸ“çš„åˆ›æ–°æ–¹æ³•ï¼Œ<strong>åœ¨ä»å¤šè§†å›¾å›¾åƒä¸­æ¢å¤å¯†é›†çš„3Dè¡¨é¢ç»“æ„æ–¹é¢å–å¾—äº†ä¼˜å¼‚çš„æ•ˆæœ</strong>ï¼Œ<strong>å¯ä»¥ä»RGBè§†é¢‘æ•è·ä¸­å®ç°éå¸¸è¯¦ç»†çš„å¤§è§„æ¨¡åœºæ™¯é‡å»º</strong>ã€‚</li></ul></li><li>å·²ç»æå‡ºäº†ä¸€äº›æ–¹æ³•[67,81 - 85]ï¼Œå°†NeRFæ‰©å±•åˆ°<strong>åŠ¨æ€é¢†åŸŸ</strong>ã€‚è¿™äº›æ–¹æ³•ä½¿å¾—é‡å»ºå’Œæ¸²æŸ“ç‰©ä½“çš„å›¾åƒæˆä¸ºå¯èƒ½ï¼Œè€Œå®ƒä»¬æ­£åœ¨ç»å†åˆšæ€§å’Œéåˆšæ€§è¿åŠ¨ï¼Œä»ä¸€ä¸ªåœ¨åœºæ™¯ä¸­ç§»åŠ¨çš„ç›¸æœºã€‚<ul><li>ä¾‹å¦‚ï¼ŒYanç­‰äºº[84]å¼•å…¥äº†è¡¨é¢æ„ŸçŸ¥çš„åŠ¨æ€NeRF (NeRF- DS)å’Œæ©æ¨¡å¼•å¯¼çš„å˜å½¢åœºã€‚é€šè¿‡å°†è¡¨é¢ä½ç½®å’Œæ–¹å‘ä½œä¸ºç¥ç»è¾å°„åœºå‡½æ•°çš„è°ƒèŠ‚å› ç´ ï¼Œ<strong>NeRF-DSæ”¹å–„äº†é«˜å…‰è¡¨é¢å¤æ‚åå°„ç‰¹æ€§çš„è¡¨å¾</strong>ã€‚æ­¤å¤–ï¼Œ<strong>ä½¿ç”¨æ©æ¨¡å¼•å¯¼çš„å˜å½¢åœºä½¿NeRF-DSèƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†ç‰©ä½“è¿åŠ¨è¿‡ç¨‹ä¸­å‘ç”Ÿçš„å¤§å˜å½¢å’Œé®æŒ¡</strong></li></ul></li><li>ä¸ºäº†<strong>æé«˜</strong>å­˜åœ¨å™ªå£°çš„ä¸‰ç»´é‡å»ºçš„<strong>ç²¾åº¦</strong>ï¼Œ<strong>ç‰¹åˆ«æ˜¯å¯¹äºå…‰æ»‘å’Œæ— çº¹ç†çš„è¡¨é¢</strong>ï¼Œä¸€äº›ç ”ç©¶å°†å„ç§<strong>å…ˆéªŒçº³å…¥ä¼˜åŒ–è¿‡ç¨‹</strong>ã€‚<ul><li>è¿™äº›å…ˆéªŒåŒ…æ‹¬è¯­ä¹‰ç›¸ä¼¼åº¦[86]ã€æ·±åº¦å¹³æ»‘åº¦[60]ã€è¡¨é¢å¹³æ»‘åº¦[87,88]ã€æ›¼å“ˆé¡¿ä¸–ç•Œå‡è®¾[89]å’Œå•ç›®å‡ ä½•å…ˆéªŒ[90]ã€‚</li><li>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒBianç­‰äºº[91]æå‡ºçš„NoPe-NeRFæ–¹æ³•ä½¿ç”¨å•æ·±åº¦æ˜ å°„æ¥çº¦æŸå¸§ä¹‹é—´çš„ç›¸å¯¹å§¿æ€å¹¶è§„èŒƒNeRFçš„å‡ ä½•å½¢çŠ¶ã€‚<strong>è¯¥æ–¹æ³•å…·æœ‰è¾ƒå¥½çš„å§¿æ€ä¼°è®¡æ•ˆæœï¼Œæé«˜äº†æ–°è§†å›¾åˆæˆå’Œå‡ ä½•é‡å»ºçš„è´¨é‡</strong>ã€‚</li><li>Rakotosaonaç­‰äºº[92]ä¸º3Dè¡¨é¢é‡å»ºå¼•å…¥äº†ä¸€ç§æ–°é¢–ä¸”é€šç”¨çš„æ¶æ„ï¼Œè¯¥æ¶æ„æœ‰æ•ˆåœ°å°†nerfé©±åŠ¨æ–¹æ³•ä¸­çš„ä½“ç§¯è¡¨ç¤ºæå–åˆ°ç­¾åè¡¨é¢è¿‘ä¼¼ç½‘ç»œä¸­ã€‚<strong>è¿™ç§æ–¹æ³•å¯ä»¥æå–ç²¾ç¡®çš„3Dç½‘æ ¼å’Œå¤–è§‚ï¼ŒåŒæ—¶ä¿æŒè·¨å„ç§è®¾å¤‡çš„å®æ—¶æ¸²æŸ“èƒ½åŠ›</strong>ã€‚</li><li>Elsnerç­‰äºº[93]æå‡ºäº†è‡ªé€‚åº”Voronoi nerfï¼Œè¿™æ˜¯ä¸€ç§é€šè¿‡ä½¿ç”¨Voronoiå›¾å°†åœºæ™¯åˆ’åˆ†ä¸ºå•å…ƒæ¥æé«˜å¤„ç†æ•ˆç‡çš„æŠ€æœ¯ã€‚<strong>è¿™äº›ç»†èƒéšåè¢«ç»†åˆ†ï¼Œä»¥æœ‰æ•ˆåœ°æ•è·å’Œè¡¨ç¤ºå¤æ‚çš„ç»†èŠ‚ï¼Œä»è€Œæé«˜æ€§èƒ½å’Œå‡†ç¡®æ€§</strong>ã€‚</li><li>ç±»ä¼¼åœ°ï¼ŒKulhanekå’ŒSattler[94]å¼•å…¥äº†ä¸€ç§åä¸ºtera-NeRFçš„æ–°çš„äº®åº¦åœºè¡¨ç¤ºï¼Œå®ƒæˆåŠŸåœ°é€‚åº”äº†ä½œä¸ºç¨€ç–ç‚¹äº‘ç»™å‡ºçš„3Då‡ ä½•å…ˆéªŒï¼Œä»¥è·å–æ›´å¤šç»†èŠ‚ã€‚<strong>ç„¶è€Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ¸²æŸ“åœºæ™¯çš„è´¨é‡å¯èƒ½ä¼šæ ¹æ®ä¸åŒåŒºåŸŸç‚¹äº‘çš„å¯†åº¦è€Œæœ‰æ‰€ä¸åŒ</strong>ã€‚</li></ul></li><li>ä¸€äº›å·¥ä½œæ—¨åœ¨<strong>å‡å°‘è¾“å…¥å›¾åƒçš„æ•°é‡</strong>[60,70,78,86,90,95]ã€‚<ul><li>Yuç­‰äºº[95]æå‡ºäº†ä¸€ç§æ¶æ„PixelNeRFï¼Œè¯¥æ¶æ„ä½¿ç”¨å…¨å·ç§¯æ–¹æ³•å¯¹å›¾åƒè¾“å…¥æ¡ä»¶NeRFï¼Œ<strong>ä½¿ç½‘ç»œèƒ½å¤Ÿåœ¨å¯¹å¤šä¸ªåœºæ™¯è¿›è¡Œè®­ç»ƒä¹‹å‰å­¦ä¹ ä¸€ä¸ªåœºæ™¯</strong>ã€‚è¿™å…è®¸å®ƒä»å°‘é‡è§†ç‚¹æ‰§è¡Œå‰é¦ˆè§†å›¾åˆæˆï¼Œç”šè‡³å°‘åˆ°åªæœ‰ä¸€ä¸ªè§†ç‚¹ã€‚</li><li>ç±»ä¼¼åœ°ï¼ŒNiemeyerç­‰äºº[60]å¼•å…¥äº†ä¸€ç§æ–¹æ³•RegNeRFï¼Œ<strong>å¯¹æœªè§è§†å›¾è¿›è¡Œé‡‡æ ·ï¼Œå¹¶å¯¹è¿™äº›è§†å›¾ç”Ÿæˆçš„æ–‘å—çš„å¤–è§‚å’Œå‡ ä½•å½¢çŠ¶è¿›è¡Œæ­£åˆ™åŒ–</strong>ã€‚</li><li>Jainç­‰äºº[86]æå‡ºäº†DietNeRFï¼Œé€šè¿‡è¾…åŠ©çš„è¯­ä¹‰ä¸€è‡´æ€§æŸå¤±æ¥å¢å¼ºå°‘æ•°é•œå¤´çš„è´¨é‡ï¼Œ<strong>ä»è€Œæé«˜æ–°ä½ç½®çš„é€¼çœŸæ¸²æŸ“</strong>ã€‚DietNeRFä»å•ä¸ªåœºæ™¯ä¸­å­¦ä¹ ï¼Œä»¥å‡†ç¡®åœ°å‘ˆç°æ¥è‡ªç›¸åŒä½ç½®çš„è¾“å…¥å›¾åƒï¼Œå¹¶åœ¨ä¸åŒçš„éšæœºå§¿åŠ¿ä¸­åŒ¹é…é«˜çº§è¯­ä¹‰ç‰¹å¾ã€‚</li></ul></li><li>åœ¨æ–‡åŒ–é—äº§é¢†åŸŸï¼Œåªæœ‰æœ‰é™æ•°é‡çš„å‡ºç‰ˆç‰©æ˜ç¡®è°ƒæŸ¥å¹¶è®¤è¯†åˆ°nerfåœ¨3Dé‡å»ºã€æ•°å­—ä¿å­˜å’Œä¿æŠ¤ç›®çš„æ–¹é¢çš„æ½œåŠ›[96,97]ã€‚</li></ul><h1 id="Analysis-and-Evaluation-Methodology"><a href="#Analysis-and-Evaluation-Methodology" class="headerlink" title="Analysis and Evaluation Methodology"></a>Analysis and Evaluation Methodology</h1><p>ä¸»è¦ç›®æ ‡æ˜¯é€šè¿‡<strong>å®¢è§‚æµ‹é‡äº§ç”Ÿçš„3Dæ•°æ®çš„è´¨é‡</strong>ï¼Œå¯¹åŸºäºnerfçš„ä¼ ç»Ÿæ‘„å½±æµ‹é‡æ–¹æ³•è¿›è¡Œæ‰¹åˆ¤æ€§è¯„ä¼°ã€‚<br>ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬è€ƒè™‘äº†å„ç§ä¸åŒå¤§å°å’Œè¡¨é¢ç‰¹å¾çš„ç‰©ä½“å’Œåœºæ™¯ï¼ŒåŒ…æ‹¬çº¹ç†è‰¯å¥½çš„ã€æ— çº¹ç†çš„ã€é‡‘å±çš„ã€åŠé€æ˜çš„å’Œé€æ˜çš„(ç¬¬3.3èŠ‚)ã€‚<br>æ‹Ÿè®®çš„è¯„ä¼°ç­–ç•¥å’ŒæŒ‡æ ‡(ç¬¬3.1å’Œ3.2èŠ‚)åº”æœ‰åŠ©äºç ”ç©¶äººå‘˜äº†è§£æ¯ç§æ–¹æ³•çš„ä¼˜åŠ¿å’Œå±€é™æ€§ï¼Œå¹¶å¯ç”¨äºå¯¹æ–°æå‡ºçš„æ–¹æ³•è¿›è¡Œå®šé‡è¯„ä¼°ã€‚<br><strong>æ‰€æœ‰å®éªŒå‡åŸºäºSDFStudio[98]å’ŒNerfstudio[22]æ¡†æ¶</strong>ã€‚å€¼å¾—æé†’çš„æ˜¯ï¼ŒNeRFè¾“å‡ºæ˜¯ä¸€ä¸ªç¥ç»æ¸²æŸ“;å› æ­¤ï¼Œä½¿ç”¨marching cubeæ–¹æ³•[23]ä»æ¯ä¸ªè§†å›¾çš„ä¸åŒæ·±åº¦å›¾åˆ›å»ºç½‘æ ¼æ¨¡å‹ã€‚ç„¶åä»ç½‘æ ¼é¡¶ç‚¹æå–ç‚¹äº‘ï¼Œä½¿ç”¨Open3Dåº“[78]è¿›è¡Œå®šé‡è¯„ä¼°ã€‚</p><h2 id="Proposed-Methodology"><a href="#Proposed-Methodology" class="headerlink" title="Proposed Methodology"></a>Proposed Methodology</h2><p>é¦–å…ˆï¼Œå°†ä¸“ç”¨æ¡†æ¶[22,98]ä¸­å¯ç”¨çš„å„ç§NeRFæ–¹æ³•åº”ç”¨äº<strong>ä¸¤ä¸ªæ•°æ®é›†</strong>ï¼Œä»¥äº†è§£å…¶æ€§èƒ½å¹¶é€‰æ‹©æ€§èƒ½æœ€ä½³çš„æ–¹æ³•(ç¬¬4.1èŠ‚)ã€‚ç„¶åï¼Œå°†è¯¥æ–¹æ³•åº”ç”¨äºå…¶ä»–æ•°æ®é›†ï¼Œå¯¹å¸¸è§„æ‘„å½±æµ‹é‡å’Œå¯ç”¨çš„åœ°é¢çœŸå€¼(GT)æ•°æ®è¿›è¡Œè¯„ä¼°å’Œæ¯”è¾ƒ(ç¬¬4.2-4.7èŠ‚)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812162140.png" alt="image.png"></p><p>å›¾2æ˜¾ç¤ºäº†proposed procedureçš„æ€»ä½“æ¦‚è¿°ï¼Œ<strong>ç”¨äºå®šé‡è¯„ä¼°åŸºäºnerfçš„3Dé‡å»ºçš„æ€§èƒ½</strong>ã€‚<br>æ‰€æœ‰æ”¶é›†çš„å›¾åƒæˆ–è§†é¢‘éƒ½éœ€è¦ç›¸æœºå§¿åŠ¿æ‰èƒ½ç”Ÿæˆ3Dé‡å»ºï¼Œæ— è®ºæ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„æ‘„å½±æµ‹é‡è¿˜æ˜¯åŸºäºnerfçš„æ–¹æ³•ã€‚</p><ul><li>ä»å¯ç”¨å›¾åƒå¼€å§‹ï¼Œä½¿ç”¨Colmapæ£€ç´¢ç›¸æœºå§¿åŠ¿ã€‚</li><li>ç„¶åï¼Œåº”ç”¨å¤šè§†è§’ç«‹ä½“(MVS)æˆ–NeRFæ¥ç”Ÿæˆ3Dæ•°æ®ã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç‹¬ç‰¹è€Œå¼ºå¤§çš„ç¯å¢ƒå’Œæ¡ä»¶ï¼Œä»¥æä¾›å®¢è§‚çš„å‡ ä½•æ¯”è¾ƒã€‚<strong>ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œä½¿ç”¨æ‘„å½±æµ‹é‡å’ŒNeRFç”Ÿæˆçš„3Dæ•°æ®åœ¨Cloud Compare</strong>(ä½¿ç”¨è¿­ä»£æœ€è¿‘ç‚¹(ICP)ç®—æ³•[99])<strong>ä¸­ç›¸å¯¹äºå¯ç”¨çš„åœ°é¢çœŸå€¼(GT)æ•°æ®è¿›è¡Œå…±åŒæ³¨å†Œå’Œé‡æ–°ç¼©æ”¾ï¼Œå¹¶è¿›è¡Œè´¨é‡è¯„ä¼°</strong>ã€‚</li></ul><p>ä¸ºäº†æä¾›å¯¹å‡ ä½•ç²¾åº¦çš„æ— åè¯„ä¼°ï¼Œåº”ç”¨äº†ä¸åŒçš„çŸ¥åæ ‡å‡†[13,43,100 - 102]ï¼ŒåŒ…æ‹¬<strong>æœ€ä½³å¹³é¢æ‹Ÿåˆplane fitting</strong>ã€<strong>äº‘å¯¹äº‘æ¯”è¾ƒ</strong>ã€<strong>å‰–é¢åˆ†æprofiling</strong>ã€ç²¾åº¦å’Œå®Œæ•´æ€§completenessã€‚<br>å¯¹äºå‰ä¸¤ä¸ªæ ‡å‡†ï¼Œä½¿ç”¨äº†æ ‡å‡†åå·®(STD)ã€å¹³å‡è¯¯å·®(Mean_E)ã€å‡æ–¹æ ¹è¯¯å·®(RMSE)å’Œå¹³å‡ç»å¯¹è¯¯å·®(MAE)ç­‰æŒ‡æ ‡(ç¬¬3.2èŠ‚)ã€‚</p><ul><li>æœ€ä½³å¹³é¢æ‹Ÿåˆæ˜¯é€šè¿‡ä½¿ç”¨æœ€å°äºŒä¹˜æ‹Ÿåˆ(LSF)ç®—æ³•æ¥å®Œæˆçš„ï¼Œè¯¥ç®—æ³•åœ¨ç‰©ä½“çš„ä¸€ä¸ªåŒºåŸŸä¸Šå®šä¹‰ä¸€ä¸ªæœ€ä½³æ‹Ÿåˆå¹³é¢ï¼Œå‡è®¾è¯¥åŒºåŸŸæ˜¯å¹³é¢çš„ã€‚<strong>è¯¥æ ‡å‡†å…è®¸æˆ‘ä»¬è¯„ä¼°ç”±æ‘„å½±æµ‹é‡æˆ–NeRF mç”Ÿæˆçš„3Dæ•°æ®ä¸­çš„å™ªå£°æ°´å¹³</strong></li><li>é€šè¿‡ä»ä¸‰ç»´æ•°æ®ä¸­æå–æˆªé¢æ¥çªå‡ºé‡å»ºè¡¨é¢çš„å¤æ‚å‡ ä½•ç»†èŠ‚ï¼Œä»è€Œè¿›è¡Œå‰–é¢åˆ†æã€‚<strong>å¯¹è½®å»“çš„æ£€æŸ¥ä½¿æˆ‘ä»¬èƒ½å¤Ÿè¯„ä¼°ä¸€ç§æ–¹æ³•åœ¨ä¿ç•™å‡ ä½•ç»†èŠ‚(å¦‚è¾¹ç¼˜å’Œè§’è½)å’Œé¿å…å¹³æ»‘æ•ˆæœæ–¹é¢çš„æ€§èƒ½</strong>ã€‚</li><li>C2C (Cloud-to-cloud)æ¯”è¾ƒæ˜¯æŒ‡<strong>æµ‹é‡ä¸¤ä¸ªç‚¹äº‘ä¸­å¯¹åº”ç‚¹ä¹‹é—´çš„æœ€è¿‘é‚»è·ç¦»</strong></li></ul><h2 id="Metrics"><a href="#Metrics" class="headerlink" title="Metrics"></a>Metrics</h2><p>å°½ç®¡NeRFåœ¨3Dé‡å»ºä¸­è¶Šæ¥è¶Šå—æ¬¢è¿å’Œå¹¿æ³›åº”ç”¨ï¼Œä½†ä»ç„¶<strong>ç¼ºä¹åŸºäºç‰¹å®šæ ‡å‡†æˆ–æ ‡å‡†</strong>(ä¾‹å¦‚VDI/VDE 2643 BLATT 3)çš„è´¨é‡è¯„ä¼°ä¿¡æ¯ã€‚æ ¹æ®ä¹‹å‰æåˆ°çš„å…±åŒæ³¨å†Œè¿‡ç¨‹å’Œæ ‡å‡†ï¼Œä½¿ç”¨ä»¥ä¸‹æŒ‡æ ‡(ç‰¹åˆ«æ˜¯äº‘å¯¹äº‘å’Œplane fittingè¿‡ç¨‹):</p><p>$STD=\sqrt{\frac{1}{N-1}\sum_{j=1}^{N}(X_{j}-\underline{X})^{2}}$ Eq.7<br>$Mean_E=\frac{(X_1+X_2+\cdots X_j)}{N}$ Eq.8<br>$RMSE=\sqrt{\frac{\sum_{j=1}^{N}(X_{j})^{2}}{N}}$  Eq.9<br>$\text{MAE} =\sqrt{\frac{\sum_{j=1}^N|X_j|}N}$ Eq.10</p><p>å¼ä¸­ï¼ŒNä¸ºè§‚æµ‹ç‚¹äº‘çš„ä¸ªæ•°ï¼Œ$X_j$ä¸ºæ¯ä¸ªç‚¹ä¸ç›¸åº”å‚è€ƒç‚¹æˆ–å‚è€ƒé¢æœ€è¿‘çš„è·ç¦»ï¼Œ$X$ä¸ºå¹³å‡è§‚æµ‹è·ç¦»ã€‚</p><p>å‡†ç¡®åº¦(Accuracy)å’Œå®Œå¤‡æ€§(completeness)ï¼Œä¹Ÿç§°ä¸ºç²¾ç¡®åº¦(precision)å’Œå¬å›ç‡(recall)[101,102]ï¼Œæ¶‰åŠæµ‹é‡ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„è·ç¦»ã€‚<br><strong>åœ¨è¯„ä¼°ç²¾åº¦æ—¶</strong>ï¼Œè®¡ç®—ä»è®¡ç®—æ•°æ®åˆ°åœ°é¢çœŸå€¼(GT)çš„è·ç¦»ã€‚ç›¸åï¼Œä¸ºäº†<strong>è¯„ä¼°å®Œæ•´æ€§</strong>ï¼Œè®¡ç®—ä»GTåˆ°è®¡ç®—æ•°æ®çš„è·ç¦»ã€‚æ ¹æ®å…·ä½“çš„è¯„ä¼°æ–¹æ³•ï¼Œè¿™äº›è·ç¦»å¯ä»¥æ˜¯æœ‰ç¬¦å·çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯æ— ç¬¦å·çš„ã€‚<strong>å‡†ç¡®æ€§åæ˜ äº†é‡å»ºç‚¹ä¸åœ°é¢çœŸå®å€¼å¯¹é½çš„ç´§å¯†ç¨‹åº¦</strong>ï¼Œ<strong>è€Œå®Œæ•´æ€§è¡¨ç¤ºæ‰€æœ‰GTç‚¹è¢«è¦†ç›–çš„ç¨‹åº¦</strong>ã€‚é€šå¸¸ï¼Œä½¿ç”¨<strong>é˜ˆå€¼è·ç¦»æ¥ç¡®å®šè½åœ¨å¯æ¥å—é˜ˆå€¼å†…çš„ç‚¹çš„åˆ†æ•°æˆ–ç™¾åˆ†æ¯”ã€‚é˜ˆå€¼æ˜¯æ ¹æ®æ•°æ®å¯†åº¦å’Œå™ªå£°æ°´å¹³ç­‰å› ç´ ç¡®å®šçš„</strong>ã€‚</p><h2 id="Testing-Objects"><a href="#Testing-Objects" class="headerlink" title="Testing Objects"></a>Testing Objects</h2><p>ä¸ºäº†å®ç°å·¥ä½œç›®æ ‡ï¼Œä½¿ç”¨äº†ä¸åŒçš„æ•°æ®é›†(å›¾3):å®ƒä»¬å…·æœ‰ä¸åŒå°ºå¯¸å’Œè¡¨é¢ç±»å‹çš„ç‰©ä½“ï¼Œå¹¶ä¸”åœ¨ä¸åŒçš„ç…§æ˜æ¡ä»¶ã€ææ–™ã€ç›¸æœºç½‘ç»œã€å°ºåº¦å’Œåˆ†è¾¨ç‡ä¸‹æ•è·ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812163209.png" alt="image.png"></p><p><strong>Ignatiuså’ŒTruckæ•°æ®é›†</strong>æ¥æºäºTankså’ŒTemplesåŸºå‡†[101]ï¼Œå…¶ä¸­GTæ•°æ®(é€šè¿‡æ¿€å…‰æ‰«æè·å¾—)ä¹Ÿæ˜¯å¯ç”¨çš„</p><p>å…¶ä»–æ•°æ®é›†(Stair, Synthetic, Industrial, Bottle_1å’ŒBottle_2)åœ¨<strong>FBK</strong>ä¸­åˆ›å»ºã€‚</p><ul><li><strong>Stairæ•°æ®é›†</strong>æä¾›äº†ä¸€ä¸ªå…·æœ‰é”åˆ©è¾¹ç¼˜çš„å¹³å¦ã€åå°„å’Œçº¹ç†è‰¯å¥½çš„è¡¨é¢ã€‚GTç”±å°é˜¶è¡¨é¢çš„ç†æƒ³å¹³é¢æä¾›ã€‚</li><li>ä½¿ç”¨Blender v3.2.2(ç”¨äºå‡ ä½•æ¨¡å‹ï¼ŒUVçº¹ç†å’Œææ–™)å’ŒQuixel Mixer v2022(ç”¨äºPBRçº¹ç†)åˆ›å»ºçš„<strong>Synthetic 3Då¯¹è±¡</strong>å…·æœ‰å…·æœ‰å¤æ‚å‡ ä½•å½¢çŠ¶çš„çº¹ç†è‰¯å¥½çš„è¡¨é¢ï¼ŒåŒ…æ‹¬è¾¹ç¼˜å’Œè§’ã€‚å…·æœ‰ç‰¹å®šå‚æ•°çš„è™šæ‹Ÿæ‘„åƒæœº(ç„¦è·:50mm;ä¼ æ„Ÿå™¨å°ºå¯¸:36mm;å›¾åƒå¤§å°:1920 Ã— 1080åƒç´ )ç”¨äºåˆ›å»ºä¸€ç³»åˆ—å›¾åƒï¼Œè¿™äº›å›¾åƒéµå¾ªå¯¹è±¡å‘¨å›´çš„èºæ—‹æ›²çº¿è·¯å¾„ã€‚ä½¿ç”¨Blenderä¸­ç”Ÿæˆçš„3Dæ¨¡å‹ä½œä¸ºGTè¿›è¡Œç²¾åº¦è¯„ä¼°ã€‚</li><li><strong>Industrial object</strong>å…·æœ‰æ— çº¹ç†å’Œé«˜åå°„çš„é‡‘å±è¡¨é¢ï¼Œè¿™ç»™æ‰€æœ‰è¢«åŠ¨3Dæ–¹æ³•å¸¦æ¥äº†é—®é¢˜ã€‚å…¶GTæ•°æ®ç”±Hexagon/AICON Primescanæœ‰æºæ‰«æä»ªè·å–ï¼Œæ ‡ç§°ç²¾åº¦ä¸º63 Î¼mã€‚è¿˜åŒ…æ‹¬ä¸¤ä¸ªç“¶å­ï¼Œå…·æœ‰é€æ˜å’ŒæŠ˜å°„è¡¨é¢:å®ƒä»¬çš„GTæ•°æ®æ˜¯åœ¨è¡¨é¢ç²‰æœ«/å–·æ¶‚åä½¿ç”¨æ‘„å½±æµ‹é‡æ³•ç”Ÿæˆçš„ã€‚</li></ul><p>ä½œè€…æ­£åœ¨å‡†å¤‡NeRFæ–¹æ³•çš„å…·ä½“åŸºå‡†ï¼Œå¹¶å°†åœ¨[103]ä¸Šæä¾›ï¼Œå…¶ä¸­åŒ…å«æ›´å¤šå…·æœ‰åœ°é¢çœŸå®æ•°æ®çš„æ•°æ®é›†<br><a href="https://github.com/3DOM-FBK/NeRFBK"># NERFBK: A HOLISTIC DATASET FOR BENCHMARKING NERF-BASED 3D RECONSTRUCTION</a></p><h1 id="Comparisons-and-Analyses"><a href="#Comparisons-and-Analyses" class="headerlink" title="Comparisons and Analyses"></a>Comparisons and Analyses</h1><p>æœ¬èŠ‚ä»‹ç»äº†è¯„ä¼°å’Œæ¯”è¾ƒåŸºäºnerfçš„æŠ€æœ¯ä¸æ ‡å‡†æ‘„å½±æµ‹é‡(Colmap)æ€§èƒ½çš„å®éªŒã€‚åœ¨æ¯”è¾ƒäº†å¤šç§æœ€å…ˆè¿›çš„æ–¹æ³•(ç¬¬4.1èŠ‚)åï¼Œ<strong>é€‰æ‹©Instant-NGPä½œä¸ºåŸºäºnerfçš„æ–¹æ³•è¿›è¡Œå…¨é¢è¯„ä¼°ï¼Œå› ä¸ºç›¸å¯¹äºå…¶ä»–æ–¹æ³•ï¼Œå®ƒæä¾›äº†æ›´å¥½çš„ç»“æœ</strong>ã€‚NeRFè®­ç»ƒä½¿ç”¨Nvidia A40 GPUæ‰§è¡Œï¼Œè€Œ<strong>3Dç»“æœçš„å‡ ä½•æ¯”è¾ƒåœ¨æ ‡å‡†PCä¸Šæ‰§è¡Œ</strong>ã€‚</p><h2 id="State-of-the-Art-Comparison"><a href="#State-of-the-Art-Comparison" class="headerlink" title="State-of-the-Art Comparison"></a>State-of-the-Art Comparison</h2><p>ä¸»è¦ç›®æ ‡æ˜¯å¯¹å¤šç§åŸºäºnerfçš„æ–¹æ³•è¿›è¡Œç»¼åˆåˆ†æã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Yuç­‰äºº[98]å¼€å‘çš„SDFStudioç»Ÿä¸€æ¡†æ¶ï¼Œè¯¥æ¡†æ¶å°†å¤šç§ç¥ç»éšå¼è¡¨é¢é‡å»ºæ–¹æ³•æ•´åˆåˆ°ä¸€ä¸ªæ¡†æ¶ä¸­ã€‚SDFStudioæ˜¯å»ºç«‹åœ¨Nerfstudioæ¡†æ¶ä¸Šçš„[22]ã€‚åœ¨å®ç°çš„æ–¹æ³•ä¸­ï¼Œé€‰æ‹©äº†10ç§æ–¹æ³•æ¥æ¯”è¾ƒå®ƒä»¬çš„æ€§èƒ½:</p><ul><li>æ¥è‡ªNerfstudioçš„Nerfacto and Tensorf</li><li>æ¥è‡ªSDFStudioçš„Mono-Neus, Neus-Facto, MonoSDF, VolSDF, NeuS, MonoUnisurf and UniSurf</li><li>ä»¥åŠæ¥è‡ªMuÌˆllerç­‰äººæœ€åˆå®ç°çš„InstantNGP[20]ã€‚</li></ul><p>ä½¿ç”¨äº†<strong>ä¸¤ä¸ªæ•°æ®é›†</strong>:<br>(i) åˆæˆæ•°æ®é›†ï¼Œç”±200å¼ å›¾åƒ(1920 Ã— 1080åƒç´ )ç»„æˆ;<br>(ii) Ignatius dataset [101]ï¼ŒåŒ…å«263å¼ å›¾åƒ(ä»1920 Ã— 1080åƒç´ åˆ†è¾¨ç‡çš„è§†é¢‘ä¸­æå–)</p><p>ä¸GTæ•°æ®çš„å¯¹æ¯”ç»“æœå¦‚å›¾4æ‰€ç¤ºã€‚åœ¨RMSEã€MAEå’ŒSTDæ–¹é¢çš„ç»“æœè¡¨æ˜ï¼Œ<strong>Instant-NGPå’ŒNerfactoæ–¹æ³•å–å¾—äº†æœ€å¥½çš„ç»“æœï¼Œä¼˜äºæ‰€æœ‰å…¶ä»–æ–¹æ³•</strong>ã€‚åœ¨å¤„ç†æ—¶é—´æ–¹é¢ï¼Œinstantngpéœ€è¦ä¸åˆ°ä¸€åˆ†é’Ÿçš„æ—¶é—´æ¥è®­ç»ƒä¸¤ä¸ªæ•°æ®é›†çš„æ¨¡å‹ï¼ŒNerfactoå¤§çº¦éœ€è¦15åˆ†é’Ÿã€‚<br>åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºIgnatiusåºåˆ—(å›¾4b)ï¼Œ<strong>å°½ç®¡MonoSDFã€VolSDFå’ŒNeus-Factoçš„ç¥ç»æ¸²æŸ“åœ¨è§†è§‰ä¸Šä»¤äººæ»¡æ„ï¼Œä½†å¯¼å‡ºç½‘æ ¼æ¨¡å‹çš„è¡Œè¿›ç«‹æ–¹ä½“å¤±è´¥äº†;å› æ­¤ï¼Œä¸å¯èƒ½è¿›è¡Œè¯„ä¼°ã€‚</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812164112.png" alt="image.png"></p><p>å› æ­¤ï¼Œæ ¹æ®æ‰€è·å¾—çš„ç²¾åº¦å’Œå¤„ç†æ—¶é—´ï¼Œæœ¬æ–‡é€‰æ‹©äº†Instant-NGPè¿›è¡Œåç»­å®éªŒã€‚</p><h2 id="Image-Baselineâ€™s-Evaluation"><a href="#Image-Baselineâ€™s-Evaluation" class="headerlink" title="Image Baselineâ€™s Evaluation"></a>Image Baselineâ€™s Evaluation</h2><p>æœ¬èŠ‚æŠ¥å‘Šäº†å½“è¾“å…¥å›¾åƒæ•°é‡å‡å°‘(å³åŸºçº¿å¢åŠ )æ—¶åŸºäºnerfçš„æ–¹æ³•çš„è¯„ä¼°ã€‚<br>æœ¬æ–‡å¯¹è¢«è®¤ä¸ºä¼˜äºå…¶ä»–æ–¹æ³•(ç¬¬4.1èŠ‚)çš„<strong>Instant-NGPå’Œä¸€ç§æˆç†Ÿçš„ç”¨äºç¨€ç–å›¾åƒåœºæ™¯çš„æ–¹æ³•Mono-Neusè¿›è¡Œäº†æ¯”è¾ƒè¯„ä¼°</strong>[66,90]ã€‚<br>å®éªŒåˆ©ç”¨ç”±å››ä¸ªè¾“å…¥å›¾åƒå­é›†ç»„æˆçš„<strong>åˆæˆæ•°æ®é›†</strong>ï¼Œä»200åˆ°20å¼ å›¾åƒä¸ç­‰(å›¾5)ï¼Œé€æ­¥å‡å°‘è¾“å…¥å›¾åƒçš„æ•°é‡(å³å¤§çº¦åŠ å€å›¾åƒåŸºçº¿)ã€‚å¯¹äºæ¯ä¸€ç»„è¾“å…¥å›¾åƒï¼Œä¸¤ç§nerfæ–¹æ³•éƒ½ç”¨äºç”Ÿæˆ3Dç»“æœï¼Œä¿æŒç›¸ä¼¼çš„epochæ•°ã€‚å¯¹äºæ¯ä¸ªå­é›†ï¼Œé€šè¿‡ä¸GTæ•°æ®ç‚¹å¯¹ç‚¹æ¯”è¾ƒå¾—å‡ºçš„RMSEä¼°è®¡å¦‚å›¾5æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812164545.png" alt="image.png"></p><p>ç ”ç©¶ç»“æœè¡¨æ˜ï¼Œå½“å¤§é‡è¾“å…¥å›¾åƒå¯ç”¨æ—¶ï¼ŒInstant-NGPè¡¨ç°å‡ºä¼˜äºMono-Neusçš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œåœ¨å›¾åƒæ•°é‡è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼ŒMono-Neusä¼˜äºInstant-NGPã€‚ç„¶è€Œï¼Œé‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œ<strong>æ— è®ºæ˜¯Instant-NGPè¿˜æ˜¯Mono-Neuséƒ½æ— æ³•ä»…ä½¿ç”¨10ä¸ªè¾“å…¥å›¾åƒæˆåŠŸç”Ÿæˆ3Dé‡å»º</strong>ã€‚</p><h2 id="Monte-Carlo-Simulation"><a href="#Monte-Carlo-Simulation" class="headerlink" title="Monte Carlo Simulation"></a>Monte Carlo Simulation</h2><p>ç›®çš„æ˜¯åœ¨ç›¸æœºå§¿åŠ¿æ”¹å˜/æ‰°åŠ¨æ—¶è¯„ä¼°åŸºäºnerfçš„3Dç»“æœçš„è´¨é‡ã€‚å› æ­¤ï¼Œé‡‡ç”¨è’™ç‰¹å¡ç½—æ¨¡æ‹Ÿ[104]ï¼Œ<strong>åœ¨æœ‰é™èŒƒå›´å†…éšæœºæ‰°åŠ¨æ‘„åƒæœºå‚æ•°çš„æ—‹è½¬å’Œå¹³ç§»</strong>ã€‚æ‰°åŠ¨åï¼Œä½¿ç”¨<strong>Instant-NGP</strong>ç”Ÿæˆä¸‰ç»´é‡å»ºï¼Œå¹¶ä¸å‚è€ƒæ•°æ®è¿›è¡Œæ¯”è¾ƒã€‚<br>åœ¨ä¸¤ç§æƒ…å†µä¸‹å…±è¿›è¡Œ30æ¬¡è¿­ä»£(è¿è¡Œ):<br>(A)åœ¨å¹³ç§»Â±20 mmå’Œæ—‹è½¬Â±2åº¦èŒƒå›´å†…éšæœºæ‰°åŠ¨æ—‹è½¬å’Œå¹³ç§»ï¼Œ<br>(B)åœ¨Â±40 mmå’ŒÂ±4åº¦èŒƒå›´å†…éšæœºæ‰°åŠ¨æ—‹è½¬å’Œå¹³ç§»ã€‚<br><strong>ä½¿ç”¨Ignatiusæ•°æ®é›†è¿è¡Œæ­¤æ¨¡æ‹Ÿ</strong>ï¼Œç»“æœå¦‚å›¾6å’Œè¡¨1æ‰€ç¤ºã€‚è¿™äº›å‘ç°æ¸…æ¥šåœ°è¡¨æ˜äº†æ‹¥æœ‰å‡†ç¡®çš„ç›¸æœºå‚æ•°çš„é‡è¦æ€§ã€‚åœ¨æƒ…æ™¯Aä¸­ï¼Œå¹³å‡ä¼°è®¡RMSEä¸º19.72 mmï¼Œä¸ç¡®å®šæ€§ä¸º2.95 mmã€‚åœ¨æƒ…æ™¯Bä¸­ï¼Œå¹³å‡ä¼°è®¡RMSEå‡ ä¹ä¿æŒä¸å˜(19.97 mm)ï¼Œè€Œç”±äºè¾ƒå¤§çš„æ‰°åŠ¨èŒƒå›´ï¼Œä¸ç¡®å®šæ€§å¢åŠ äº†ä¸€å€(5.87 mm)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165107.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165231.png" alt="image.png"></p><h2 id="Plane-Fitting"><a href="#Plane-Fitting" class="headerlink" title="Plane Fitting"></a>Plane Fitting</h2><p>å¹³é¢æ‹Ÿåˆæ–¹æ³•å¯ç”¨äºè¯„ä¼°/æµ‹é‡é‡å»ºå¹³é¢ä¸Šçš„å™ªå£°æ°´å¹³ã€‚åœ¨Stairæ•°æ®é›†çš„ç¬¬ä¸€ä¸ªå®éªŒä¸­(å›¾7a)ï¼Œé‡‡ç”¨ç›¸åŒæ•°é‡çš„å›¾åƒå’Œç›¸æœºå§¿åŠ¿ï¼Œ<strong>å¯¼å‡ºäº†æ‘„å½±æµ‹é‡ç‚¹äº‘å’ŒåŸºäºnerfçš„é‡å»º</strong>ã€‚æ ¹æ®æœ€ä½³æ‹Ÿåˆè¿‡ç¨‹è¯†åˆ«å’Œåˆ†æä¸¤ä¸ªæ°´å¹³é¢å’Œä¸‰ä¸ªå‚ç›´å¹³é¢(å›¾7b)ã€‚æ´¾ç”Ÿçš„åº¦é‡å¦‚è¡¨2æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165151.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165257.png" alt="image.png"></p><p>ä»¥ç±»ä¼¼çš„æ–¹å¼ï¼Œä½¿ç”¨äº†<strong>åˆæˆæ•°æ®é›†</strong>ï¼Œå…¶ä¸­200å¼ å›¾åƒç”¨äºInstant-NGP, 24å¼ å›¾åƒç”¨äºæ‘„å½±æµ‹é‡å¤„ç†ã€‚é€‰æ‹©5ä¸ªå‚ç›´å¹³é¢å’Œ5ä¸ªæ°´å¹³é¢ï¼Œå¦‚å›¾8æ‰€ç¤ºï¼Œé€šè¿‡æ‹Ÿåˆç†æƒ³å¹³é¢æ¥è¿›è¡Œé‡æ„å¯¹è±¡è¡¨é¢çš„æ›²é¢åå·®åˆ†æã€‚æ´¾ç”Ÿçš„åº¦é‡æŠ¥å‘Šåœ¨è¡¨3ä¸­ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165543.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165643.png" alt="image.png"></p><p>ä»ä¸¤ä¸ªç»“æœ(è¡¨2å’Œè¡¨3)å¯ä»¥æ¸…æ¥šåœ°çœ‹å‡ºï¼Œ<strong>å¯¹äºè¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œæ‘„å½±æµ‹é‡ä¼˜äºNeRFï¼Œå¹¶ä¸”å¯ä»¥è·å¾—æ›´å°‘çš„å™ªå£°ç»“æœ</strong>ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒNeRFçš„å‡æ–¹æ ¹è¯¯å·®è‡³å°‘æ¯”æ‘„å½±æµ‹é‡é«˜2-3å€ã€‚</p><h2 id="Profiling"><a href="#Profiling" class="headerlink" title="Profiling"></a>Profiling</h2><p>æˆªé¢è½®å»“çš„æå–æœ‰åŠ©äºè¯æ˜ä¸‰ç»´é‡å»ºæ–¹æ³•æ£€ç´¢å‡ ä½•ç»†èŠ‚æˆ–å¯¹ä¸‰ç»´å‡ ä½•åº”ç”¨å¹³æ»‘æ•ˆæœçš„èƒ½åŠ›ã€‚ä½¿ç”¨Cloud Compareå¤„ç†ç¬¬4.4èŠ‚ä¸­æä¾›çš„åˆæˆæ•°æ®é›†çš„ç»“æœ:<strong>åœ¨é¢„å®šä¹‰çš„è·ç¦»ä¸Šæå–å‡ ä¸ªæ¨ªæˆªé¢</strong>(å›¾9)ï¼Œ<strong>å¹¶ä½¿ç”¨ä¸åŒçš„æŒ‡æ ‡ä¸å‚è€ƒæ•°æ®è¿›è¡Œå‡ ä½•æ¯”è¾ƒ</strong>ï¼Œå¦‚è¡¨4æ‰€ç¤º</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165727.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165802.png" alt="image.png"></p><p>å¯¹å•ä¸ªæ¨ªæˆªé¢å‰–é¢ä»¥åŠæ‰€æœ‰å‰–é¢çš„å¹³å‡å€¼æ‰€è·å¾—çš„ç»“æœè¡¨æ˜ï¼Œ<strong>æ‘„å½±æµ‹é‡ä¼˜äºNeRFï¼Œåè€…é€šå¸¸ä¼šäº§ç”Ÿæ›´å¤šçš„å™ªå£°ç»“æœ</strong>(å›¾9a-c)ã€‚ä¾‹å¦‚ï¼Œæ‘„å½±æµ‹é‡çš„ä¼°è®¡RMSEå’ŒSTDçš„å¹³å‡å€¼çº¦ä¸º0.09 mmå’Œ0.08 mmï¼Œè€ŒNeRFçš„è¿™ä¸ªå€¼å¤§äº0.13 mm</p><h2 id="Cloud-to-Cloud-Comparison"><a href="#Cloud-to-Cloud-Comparison" class="headerlink" title="Cloud-to-Cloud Comparison"></a>Cloud-to-Cloud Comparison</h2><p>äº‘å¯¹äº‘æ¯”è¾ƒæ˜¯æŒ‡è¯„ä¼°æ•°æ®é›†ä¸­ç›¸åº”3Dæ ·æœ¬ç›¸å¯¹äºå‚è€ƒæ•°æ®ä¹‹é—´çš„ç›¸å¯¹æ¬§å‡ é‡Œå¾—è·ç¦»ã€‚<br>è€ƒè™‘å…·æœ‰ä¸åŒç‰¹å¾çš„ä¸åŒå¯¹è±¡(å›¾3):Ignatiusã€Truckã€Industrialå’ŒSyntheticã€‚å®ƒä»¬æ˜¯å°å‹å’Œå¤§å‹çš„ç‰©ä½“ï¼Œå…·æœ‰æ— çº¹ç†ï¼Œé—ªäº®å’Œé‡‘å±è¡¨é¢ã€‚<br>å¯¹äºæ¯ä¸ªæ•°æ®é›†ï¼Œä½¿ç”¨æ‘„å½±æµ‹é‡(<strong>Colmap</strong>)å’Œ<strong>Instant-NGP</strong>ç”Ÿæˆ3Dæ•°æ®ï¼Œç„¶åå…±åŒæ³¨å†Œåˆ°å¯ç”¨çš„GT(å›¾10)ã€‚æœ€åï¼Œåº¦é‡çš„æ¨å¯¼å¦‚è¡¨5æ‰€ç¤ºã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ‰§è¡Œçš„æµ‹è¯•ä¸­ä½¿ç”¨çš„å›¾åƒæ•°é‡å¹¶ä¸æ€»æ˜¯ç›¸åŒçš„:<br>äº‹å®ä¸Šï¼Œå¯¹äºSyntheticã€Ignatiuså’ŒTruckæ•°æ®é›†ï¼Œ</p><ul><li><strong>æ‘„å½±æµ‹é‡å·²ç»ç”¨è¾ƒå°‘çš„å›¾åƒæ•°é‡æä¾›äº†å‡†ç¡®çš„ç»“æœï¼Œå› æ­¤å¢åŠ æ›´å¤šçš„å›¾åƒä¸ä¼šå¯¼è‡´è¿›ä¸€æ­¥çš„æ”¹è¿›</strong>ã€‚</li><li><strong>å¦ä¸€æ–¹é¢ï¼Œå¯¹äºNeRFï¼Œæ‰€æœ‰å¯ç”¨çš„å›¾åƒéƒ½è¢«ä½¿ç”¨ï¼Œå› ä¸ºè¾ƒå°‘çš„å›¾åƒ(æˆ–æ‰©å¤§åŸºçº¿)ä¸ä¼šå¯¼è‡´è‰¯å¥½çš„ç»“æœ</strong>(å‚è§4.2èŠ‚)ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812165937.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812170049.png" alt="image.png"></p><p><strong>ä»æä¾›çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼Œå¯¹äºé‡‘å±å’Œé«˜åå°„ç‰©ä½“(å·¥ä¸šæ•°æ®é›†)ï¼ŒNeRFçš„è¡¨ç°ä¼˜äºæ‘„å½±æµ‹é‡ï¼Œè€Œå¯¹äºå…¶ä»–åœºæ™¯ï¼Œæ‘„å½±æµ‹é‡äº§ç”Ÿçš„ç»“æœæ›´å‡†ç¡®</strong></p><p>å¦å¤–ä¸¤ç§åŠé€æ˜å’Œé€æ˜ç‰©ä½“è¢«è€ƒè™‘:Bottle_1å’ŒBottle_2(å›¾3)ã€‚<strong>ç»ç’ƒç‰©ä½“ä¸ä¼šæ¼«åå°„å…¥å°„å…‰ï¼Œä¹Ÿæ²¡æœ‰è‡ªå·±çš„çº¹ç†ç”¨äºæ‘„å½±æµ‹é‡3Dé‡å»ºä»»åŠ¡ã€‚å®ƒä»¬çš„å¤–è§‚å–å†³äºç‰©ä½“çš„å½¢çŠ¶ã€å‘¨å›´çš„èƒŒæ™¯å’Œå…‰ç…§æ¡ä»¶</strong>ã€‚<br>å› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‘„å½±æµ‹é‡å¾ˆå®¹æ˜“å¤±è´¥æˆ–äº§ç”Ÿéå¸¸å˜ˆæ‚çš„ç»“æœã€‚å¦ä¸€æ–¹é¢ï¼Œæ­£å¦‚Mildenhallç­‰äººæ‰€å®£ç§°çš„é‚£æ ·[16]ï¼Œç”±äºNeRFæ¨¡å‹çš„è§†å›¾ä¾èµ–æ€§è´¨ï¼ŒNeRFå¯ä»¥å­¦ä¹ æ­£ç¡®åœ°ç”Ÿæˆä¸é€æ˜åº¦ç›¸å…³çš„å‡ ä½•å½¢çŠ¶ã€‚<br>å¯¹äºè¿™ä¸¤ä¸ªç›®æ ‡ï¼ŒåŸºäºæ‘„å½±æµ‹é‡å’ŒNeRFçš„3Dç»“æœè¢«å…±åŒæ³¨å†Œåˆ°GTæ•°æ®ä¸­ï¼Œå¹¶è®¡ç®—åº¦é‡(å›¾11å’Œè¡¨6)ã€‚<br>ç ”ç©¶ç»“æœè¯æ˜ï¼Œ<strong>å¯¹äºé€æ˜ç›®æ ‡ï¼ŒNeRFçš„è¡¨ç°ä¼˜äºæ‘„å½±æµ‹é‡</strong>ã€‚ä¾‹å¦‚ï¼ŒBottle_1ä¸Šæ‘„å½±æµ‹é‡çš„ä¼°è®¡RMSE, STDå’ŒMAEåˆ†åˆ«ä¸º6.5 mm, 7.1 mmå’Œ7.5 mmã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒNeRFå€¼åˆ†åˆ«æ˜¾è‘—é™ä½åˆ°1.3 mmã€1.7 mmå’Œ2.1 mmã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812170239.png" alt="image"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812170320.png" alt="image.png"></p><h2 id="Accuracy-and-Completeness"><a href="#Accuracy-and-Completeness" class="headerlink" title="Accuracy and Completeness"></a>Accuracy and Completeness</h2><p>ä¸‰ä¸ªä¸åŒçš„æ•°æ®é›†ç”¨äºæ¯”è¾ƒæ‘„å½±æµ‹é‡å’ŒNeRFçš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§: Ignatius, Industrialå’ŒBottle_1ã€‚<br>å¯¹äºNeRF (Instant-NGP)å’Œæ‘„å½±æµ‹é‡ï¼Œè¿™ä¸¤ä¸ªåº¦é‡éƒ½æ˜¯æ ¹æ®å¯ç”¨çš„åœ°é¢çœŸå€¼æ•°æ®è®¡ç®—çš„ã€‚ç»“æœå¦‚å›¾12æ‰€ç¤ºï¼Œæ­ç¤ºäº†ä»¥ä¸‹è§è§£:<br>(i)å¯¹äºIgnatiusæ•°æ®é›†ï¼Œä¸NeRFç›¸æ¯”ï¼Œæ‘„å½±æµ‹é‡æ˜¾ç¤ºå‡ºæ›´é«˜çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§;<br>(ii)å¯¹äºå·¥ä¸šå’ŒBottle_1æ•°æ®é›†ï¼ŒNeRFæ˜¾ç¤ºäº†ç¨å¥½çš„ç»“æœã€‚<br>è¿™äº›å‘ç°åœ¨æ•°é‡ä¸Šè¯å®äº†ç¬¬4.6èŠ‚ï¼Œå¹¶ä¸”åŸºäºnerfçš„æ–¹æ³•åœ¨å¤„ç†å…·æœ‰éåä½œè¡¨é¢çš„ç‰©ä½“æ—¶è¡¨ç°å‡ºè‰²ï¼Œç‰¹åˆ«æ˜¯é‚£äº›é€æ˜æˆ–æœ‰å…‰æ³½çš„ç‰©ä½“ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ‘„å½±æµ‹é‡å­¦åœ¨æ•æ‰è¿™äº›è¡¨é¢çš„å¤æ‚ç»†èŠ‚æ–¹é¢é¢ä¸´æŒ‘æˆ˜ï¼Œä½¿NeRFæˆä¸ºæ›´åˆé€‚æˆ–äº’è¡¥çš„é€‰æ‹©</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230812170453.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> NeRF </tag>
            
            <tag> Review </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRFactor</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeRFactor/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeRFactor/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeRFactor: Neural Factorization of Shape and Reflectance Under an Unknown Illumination</th></tr></thead><tbody><tr><td>Author</td><td><a href="http://people.csail.mit.edu/xiuming/">Xiuming Zhang</a> â€ƒâ€ƒ <a href="https://pratulsrinivasan.github.io/">Pratul P. Srinivasan</a> â€ƒâ€ƒ <a href="https://boyangdeng.com/">Boyang Deng</a> â€ƒâ€ƒ <a href="http://www.pauldebevec.com/">Paul Debevec</a> â€ƒâ€ƒ <a href="http://billf.mit.edu/">William T. Freeman</a> â€ƒâ€ƒ <a href="https://jonbarron.info/">Jonathan T. Barron</a></td></tr><tr><td>Conf/Jour</td><td>TOG 2021 (Proc. SIGGRAPH Asia)</td></tr><tr><td>Year</td><td>2021</td></tr><tr><td>Project</td><td><a href="https://xiuming.info/projects/nerfactor/">NeRFactor (xiuming.info)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4667303505241849857&amp;noteId=1915674464034570496">NeRFactor: Neural Factorization of Shape and Reflectance Under an Unknown Illumination (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814133227.png" alt="image.png"></p><p>è´¡çŒ®ï¼š</p><ul><li>NeRFactoråœ¨æœªçŸ¥å…‰ç…§æ¡ä»¶ä¸‹ä»å›¾åƒä¸­æ¢å¤ç‰©ä½“å½¢çŠ¶å’Œåå°„ç‡<ul><li>åœ¨æ²¡æœ‰ä»»ä½•ç›‘ç£çš„æƒ…å†µä¸‹ï¼Œä»…ä½¿ç”¨é‡æ¸²æŸ“æŸå¤±ã€ç®€å•çš„å¹³æ»‘å…ˆéªŒå’Œä»çœŸå®ä¸–ç•ŒBRDFæµ‹é‡ä¸­å­¦ä¹ çš„æ•°æ®é©±åŠ¨çš„BRDFå…ˆéªŒï¼Œæ¢å¤äº†è¡¨é¢æ³•çº¿ã€å…‰èƒ½è§åº¦ã€åç…§ç‡å’ŒåŒå‘åå°„åˆ†å¸ƒå‡½æ•°(BRDFs)çš„3Dç¥ç»åœº</li></ul></li><li>é€šè¿‡NeRFactorçš„åˆ†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç‚¹å…‰æˆ–å…‰æ¢é’ˆå›¾åƒé‡æ–°ç…§äº®ç‰©ä½“ï¼Œä»ä»»æ„è§†ç‚¹æ¸²æŸ“å›¾åƒï¼Œç”šè‡³ç¼–è¾‘ç‰©ä½“çš„åç…§ç‡å’ŒBRDF</li></ul><span id="more"></span><h1 id="LIMITATIONS"><a href="#LIMITATIONS" class="headerlink" title="LIMITATIONS"></a>LIMITATIONS</h1><p>å°½ç®¡æˆ‘ä»¬è¯æ˜NeRFactorä¼˜äºå…¶å˜ä½“å’ŒåŸºçº¿æ–¹æ³•ï¼Œä½†ä»ç„¶å­˜åœ¨ä¸€äº›é‡è¦çš„å±€é™æ€§ã€‚</p><ul><li>é¦–å…ˆï¼Œä¸ºäº†ä½¿å…‰å¯è§æ€§è®¡ç®—æ˜“äºå¤„ç†ï¼Œæˆ‘ä»¬å°†å…‰æ¢é’ˆå›¾åƒçš„åˆ†è¾¨ç‡é™åˆ¶ä¸º16 Ã— 32ï¼Œè¯¥åˆ†è¾¨ç‡å¯èƒ½<strong>ä¸è¶³ä»¥ç”Ÿæˆéå¸¸ç¡¬çš„é˜´å½±æˆ–æ¢å¤éå¸¸é«˜é¢‘çš„brdf</strong>ã€‚å› æ­¤ï¼Œå½“ç‰©ä½“è¢«éå¸¸é«˜é¢‘çš„ç…§æ˜ç…§äº®æ—¶ï¼Œå¦‚å›¾S1(æƒ…å†µD)æ‰€ç¤ºï¼Œå…¶ä¸­å¤ªé˜³åƒç´ æ˜¯å®Œå…¨HDRçš„ï¼Œåç…§ç‡ä¼°è®¡ä¸­å¯èƒ½å­˜åœ¨é•œé¢æˆ–é˜´å½±æ®‹ä½™(ä¾‹å¦‚èŠ±ç“¶ä¸Šçš„é‚£äº›)ã€‚</li><li>å…¶æ¬¡ï¼Œä¸ºäº†å¿«é€Ÿæ¸²æŸ“ï¼Œæˆ‘ä»¬<strong>åªè€ƒè™‘å•å¼¹ç›´æ¥ç…§æ˜ï¼Œå› æ­¤NeRFactorä¸èƒ½é€‚å½“åœ°è€ƒè™‘é—´æ¥ç…§æ˜æ•ˆæœ</strong>ã€‚</li><li>æœ€åï¼ŒNeRFactorä½¿ç”¨NeRFæˆ–MVSåˆå§‹åŒ–å…¶å‡ ä½•ä¼°è®¡ã€‚è™½ç„¶å®ƒèƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¿®å¤NeRFé€ æˆçš„é”™è¯¯ï¼Œä½†<strong>å¦‚æœNeRFä»¥ä¸€ç§ç¢°å·§ä¸å½±å“è§†å›¾åˆæˆçš„æ–¹å¼ä¼°è®¡ç‰¹åˆ«å·®çš„å‡ ä½•å½¢çŠ¶ï¼Œå®ƒå¯èƒ½ä¼šå¤±è´¥</strong>ã€‚æˆ‘ä»¬åœ¨ä¸¤ä¸ªçœŸå®çš„NeRFåœºæ™¯ä¸­è§‚å¯Ÿåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒä»¬åŒ…å«è¿œå¤„ä¸æ­£ç¡®çš„â€œæµ®åŠ¨â€å‡ ä½•ä½“ï¼Œä»è¾“å…¥æ‘„åƒæœºä¸­çœ‹ä¸åˆ°ï¼Œä½†åœ¨ç‰©ä½“ä¸ŠæŠ•ä¸‹é˜´å½±ã€‚</li></ul><h1 id="CONCLUSION"><a href="#CONCLUSION" class="headerlink" title="CONCLUSION"></a>CONCLUSION</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ç¥ç»è¾å°„åˆ†è§£(NeRFactor)ï¼Œä¸€ç§ä»å¤šè§†å›¾å›¾åƒåŠå…¶ç›¸æœºå§¿åŠ¿ä¸­æ¢å¤ç‰©ä½“å½¢çŠ¶å’Œåå°„ç‡çš„æ–¹æ³•ã€‚<strong>é‡è¦çš„æ˜¯ï¼ŒNeRFactoråœ¨æœªçŸ¥å…‰ç…§æ¡ä»¶ä¸‹ä»å›¾åƒä¸­æ¢å¤è¿™äº›å±æ€§</strong>ï¼Œè€Œå¤§å¤šæ•°å…ˆå‰çš„å·¥ä½œéœ€è¦åœ¨å¤šä¸ªå·²çŸ¥å…‰ç…§æ¡ä»¶ä¸‹è¿›è¡Œè§‚å¯Ÿã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ç—…æ€æ€§è´¨ï¼Œ<strong>NeRFactorä¾é å…ˆéªŒ</strong>æ¥ä¼°è®¡ä¸€ç»„åˆç†çš„å½¢çŠ¶ã€åå°„ç‡å’Œç…§æ˜ï¼Œè¿™äº›éƒ½èƒ½è§£é‡Šè§‚å¯Ÿåˆ°çš„å›¾åƒã€‚<br>è¿™äº›å…ˆéªŒåŒ…æ‹¬ç®€å•ä½†æœ‰æ•ˆçš„ç©ºé—´å¹³æ»‘çº¦æŸ(åœ¨å¤šå±‚æ„ŸçŸ¥å™¨[MLPs]ä¸Šä¸‹æ–‡ä¸­å®ç°)å’ŒçœŸå®BRDFsä¸Šçš„æ•°æ®é©±åŠ¨å…ˆéªŒã€‚æˆ‘ä»¬è¯æ˜NeRFactorå®ç°äº†é«˜è´¨é‡çš„å‡ ä½•å½¢çŠ¶ï¼Œè¶³ä»¥è¿›è¡Œé‡ç…§æ˜å’Œè§†å›¾åˆæˆï¼Œäº§ç”Ÿä»¤äººä¿¡æœçš„åç…§ç‡ä»¥åŠç©ºé—´å˜åŒ–çš„brdfï¼Œå¹¶ç”Ÿæˆæ­£ç¡®åæ˜ ä¸»å…‰æºå­˜åœ¨æˆ–ä¸å­˜åœ¨çš„ç…§æ˜ä¼°è®¡ã€‚<strong>é€šè¿‡NeRFactorçš„åˆ†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç‚¹å…‰æˆ–å…‰æ¢é’ˆå›¾åƒé‡æ–°ç…§äº®ç‰©ä½“ï¼Œä»ä»»æ„è§†ç‚¹æ¸²æŸ“å›¾åƒï¼Œç”šè‡³ç¼–è¾‘ç‰©ä½“çš„åç…§ç‡å’ŒBRDF</strong>ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œè¿™é¡¹å·¥ä½œåœ¨ä»éšæ„æ•è·çš„ç…§ç‰‡ä¸­æ¢å¤å…¨åŠŸèƒ½3Då›¾å½¢èµ„äº§çš„ç›®æ ‡æ–¹é¢å–å¾—äº†é‡è¦è¿›å±•ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æˆ‘ä»¬è§£å†³äº†<strong>ä»ä¸€ä¸ªæœªçŸ¥ç…§æ˜æ¡ä»¶ä¸‹ç…§äº®çš„ç‰©ä½“çš„å¤šè§†å›¾å›¾åƒ(åŠå…¶ç›¸æœºå§¿åŠ¿)ä¸­æ¢å¤ç‰©ä½“çš„å½¢çŠ¶å’Œç©ºé—´å˜åŒ–åå°„ç‡</strong>çš„é—®é¢˜ã€‚è¿™ä½¿å¾—åœ¨ä»»æ„ç¯å¢ƒã€ç…§æ˜å’Œç¼–è¾‘ç‰©ä½“çš„ææ–™å±æ€§ä¸‹æ¸²æŸ“ç‰©ä½“çš„æ–°è§†å›¾æˆä¸ºå¯èƒ½ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºç¥ç»è¾å°„åˆ†è§£(<strong>NeRFactor</strong>)çš„æ–¹æ³•çš„å…³é”®æ˜¯<strong>å°†ç¥ç»è¾å°„åœº(NeRF)</strong> [Mildenhall et al. 2020]è¡¨ç¤ºçš„ç‰©ä½“çš„ä½“ç§¯å‡ ä½•å›¾å½¢æå–ä¸ºdistillè¡¨é¢è¡¨ç¤ºï¼Œç„¶ååœ¨æ±‚è§£ç©ºé—´å˜åŒ–çš„åå°„ç‡å’Œç¯å¢ƒç…§æ˜çš„åŒæ—¶è”åˆä¼˜åŒ–å‡ ä½•å›¾å½¢ã€‚<br>å…·ä½“æ¥è¯´ï¼ŒNeRFactoråœ¨æ²¡æœ‰ä»»ä½•ç›‘ç£çš„æƒ…å†µä¸‹ï¼Œä»…ä½¿ç”¨é‡æ¸²æŸ“æŸå¤±ã€ç®€å•çš„å¹³æ»‘å…ˆéªŒå’Œä»çœŸå®ä¸–ç•ŒBRDFæµ‹é‡ä¸­å­¦ä¹ çš„æ•°æ®é©±åŠ¨çš„BRDFå…ˆéªŒï¼Œæ¢å¤äº†è¡¨é¢æ³•çº¿ã€å…‰èƒ½è§åº¦ã€åç…§ç‡å’ŒåŒå‘åå°„åˆ†å¸ƒå‡½æ•°(BRDFs)çš„3Dç¥ç»åœºã€‚é€šè¿‡æ˜¾å¼åœ°å»ºæ¨¡å…‰å¯è§†æ€§ï¼ŒNeRFactorèƒ½å¤Ÿä»åç…§ç‡ä¸­åˆ†ç¦»é˜´å½±ï¼Œå¹¶åœ¨ä»»æ„å…‰ç…§æ¡ä»¶ä¸‹åˆæˆçœŸå®çš„è½¯é˜´å½±æˆ–ç¡¬é˜´å½±ã€‚NeRFactorèƒ½å¤Ÿåœ¨åˆæˆå’ŒçœŸå®åœºæ™¯çš„è¿™ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§å’Œçº¦æŸä¸è¶³çš„æ•è·è®¾ç½®ä¸­æ¢å¤ä»¤äººä¿¡æœçš„è‡ªç”±è§†ç‚¹é‡ç…§æ˜3Dæ¨¡å‹ã€‚å®šæ€§å’Œå®šé‡å®éªŒè¡¨æ˜ï¼ŒNeRFactoråœ¨å„ç§ä»»åŠ¡ä¸­çš„è¡¨ç°ä¼˜äºç»å…¸å’ŒåŸºäºæ·±åº¦å­¦ä¹ çš„æœ€æ–°æŠ€æœ¯</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä»æ•è·çš„å›¾åƒä¸­æ¢å¤ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’Œææ–™å±æ€§ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥åœ¨æ–°çš„ç…§æ˜æ¡ä»¶ä¸‹ä»ä»»æ„è§†ç‚¹æ¸²æŸ“ï¼Œè¿™æ˜¯è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦ä¸­ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜çš„å›°éš¾æºäºå…¶<strong>åŸºæœ¬çš„æ¬ çº¦æŸæ€§è´¨</strong>ï¼Œä»¥å‰çš„å·¥ä½œé€šå¸¸é€šè¿‡ä½¿ç”¨é¢å¤–çš„è§‚å¯Ÿ(å¦‚æ‰«æå‡ ä½•å½¢çŠ¶ã€å·²çŸ¥çš„ç…§æ˜æ¡ä»¶æˆ–å¤šä¸ªä¸åŒç…§æ˜æ¡ä»¶ä¸‹çš„ç‰©ä½“å›¾åƒ)æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ–è€…é€šè¿‡é™åˆ¶æ€§å‡è®¾(å¦‚å‡è®¾æ•´ä¸ªç‰©ä½“çš„å•ä¸€ææ–™æˆ–å¿½ç•¥è‡ªé˜´å½±)æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¯æ˜äº†ä»æœªçŸ¥è‡ªç„¶å…‰ç…§æ¡ä»¶ä¸‹æ•è·çš„ç‰©ä½“å›¾åƒä¸­æ¢å¤ä»¤äººä¿¡æœçš„å¯ç…§æ˜è¡¨ç¤ºæ˜¯å¯èƒ½çš„ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚æˆ‘ä»¬çš„å…³é”®è§è§£æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é¦–å…ˆä»è¾“å…¥å›¾åƒä¸­ä¼˜åŒ–ç¥ç»è¾å°„åœº(NeRF) [Mildenhallç­‰äººï¼Œ2020]æ¥åˆå§‹åŒ–æˆ‘ä»¬æ¨¡å‹çš„è¡¨é¢æ³•çº¿å’Œå…‰ç…§å¯è§åº¦(å°½ç®¡æˆ‘ä»¬è¡¨æ˜ä½¿ç”¨å¤šè§†å›¾ç«‹ä½“[MVS]å‡ ä½•ä¹Ÿæœ‰æ•ˆ)ï¼Œç„¶åå…±åŒä¼˜åŒ–è¿™äº›åˆå§‹ä¼°è®¡ä»¥åŠç©ºé—´å˜åŒ–åå°„ç‡å’Œç…§æ˜æ¡ä»¶ï¼Œä»¥æœ€å¥½åœ°è§£é‡Šè§‚å¯Ÿåˆ°çš„å›¾åƒã€‚ä½¿ç”¨NeRFç”Ÿæˆåˆå§‹åŒ–çš„é«˜è´¨é‡å‡ ä½•ä¼°è®¡æœ‰åŠ©äºæ‰“ç ´å½¢çŠ¶ï¼Œåå°„ç‡å’Œç…§æ˜ä¹‹é—´å›ºæœ‰çš„æ¨¡ç³Šæ€§ï¼Œä»è€Œä½¿æˆ‘ä»¬èƒ½å¤Ÿæ¢å¤å®Œæ•´çš„3Dæ¨¡å‹ï¼Œç”¨äºä»¤äººä¿¡æœçš„è§†å›¾åˆæˆå’Œé‡æ–°ç…§æ˜ï¼Œä»…ä½¿ç”¨é‡æ–°æ¸²æŸ“æŸå¤±ï¼Œæ¯ä¸ªç»„ä»¶çš„ç®€å•ç©ºé—´å¹³æ»‘å…ˆéªŒï¼Œä»¥åŠæ–°é¢–çš„æ•°æ®é©±åŠ¨åŒå‘åå°„åˆ†å¸ƒå‡½æ•°(BRDF)å…ˆéªŒã€‚ç”±äºNeRFactoræ˜ç¡®è€Œæœ‰æ•ˆåœ°æ¨¡æ‹Ÿå…‰èƒ½è§åº¦ï¼Œå› æ­¤å®ƒèƒ½å¤Ÿä»åç…§ç‡ä¼°è®¡ä¸­å»é™¤é˜´å½±ï¼Œå¹¶åœ¨ä»»æ„æ–°é¢–çš„å…‰ç…§æ¡ä»¶ä¸‹åˆæˆé€¼çœŸçš„è½¯é˜´å½±æˆ–ç¡¬é˜´å½±ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814133227.png" alt="image.png"></p><p>è™½ç„¶<strong>NeRFä¼°è®¡çš„å‡ ä½•å½¢çŠ¶</strong>å¯¹äºè§†å›¾åˆæˆæ˜¯æœ‰æ•ˆçš„ï¼Œä½†å®ƒ<strong>æœ‰ä¸¤ä¸ªé™åˆ¶ï¼Œä½¿å…¶ä¸å®¹æ˜“ç”¨äºé‡æ–°ç…§æ˜</strong>ã€‚</p><ul><li>é¦–å…ˆï¼ŒNeRFå°†å½¢çŠ¶å»ºæ¨¡ä¸ºä¸€ä¸ªä½“ç§¯åœºï¼Œå› æ­¤è®¡ç®—æ²¿ç€æ‘„åƒæœºå…‰çº¿çš„æ¯ä¸ªç‚¹çš„é˜´å½±å’Œèƒ½è§åº¦å¯¹äºæ•´ä¸ªåŠçƒçš„ç…§æ˜æ¥è¯´æ˜¯æ˜‚è´µçš„ã€‚</li><li>å…¶æ¬¡ï¼Œç”±NeRFä¼°è®¡çš„å‡ ä½•å½¢çŠ¶åŒ…å«æ— å…³çš„é«˜é¢‘å†…å®¹ï¼Œè™½ç„¶åœ¨è§†å›¾åˆæˆç»“æœä¸­ä¸æ˜æ˜¾ï¼Œä½†å°†é«˜é¢‘ä¼ªå½±å¼•å…¥åˆ°ä»NeRFå‡ ä½•å½¢çŠ¶è®¡ç®—çš„è¡¨é¢æ³•çº¿å’Œå…‰å¯è§æ€§ä¸­ã€‚</li></ul><p>æˆ‘ä»¬é€šè¿‡ä½¿ç”¨NeRFå‡ ä½•å›¾å½¢çš„â€œç¡¬è¡¨é¢â€è¿‘ä¼¼æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå…¶ä¸­æˆ‘ä»¬åªåœ¨æ¯æ¡å°„çº¿çš„å•ä¸ªç‚¹ä¸Šæ‰§è¡Œé˜´å½±è®¡ç®—ï¼Œå¯¹åº”äºä½“ç§¯çš„é¢„æœŸç»ˆæ­¢æ·±åº¦ã€‚æˆ‘ä»¬é€šè¿‡å°†è¯¥è¡¨é¢ä¸Šä»»ä½•3Dä½ç½®çš„è¡¨é¢æ³•çº¿å’Œå…‰å¯è§æ€§è¡¨ç¤ºä¸ºç”±å¤šå±‚æ„ŸçŸ¥å™¨(mlp)å‚æ•°åŒ–çš„è¿ç»­å‡½æ•°æ¥è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå¹¶é¼“åŠ±è¿™äº›å‡½æ•°æ¥è¿‘äºä»é¢„è®­ç»ƒçš„NeRFä¸­è·å¾—çš„å€¼ï¼Œå¹¶ä¸”åœ¨ç©ºé—´ä¸Šå¹³æ»‘ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬çš„æ¨¡å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç¥ç»è¾å°„å› å­åˆ†è§£Factorization(NeRFactor)ï¼Œå°†è§‚æµ‹åˆ°çš„å›¾åƒè€ƒè™‘åˆ°ä¼°è®¡çš„ç¯å¢ƒç…§æ˜ä¸­ï¼Œä»¥åŠå…·æœ‰è¡¨é¢æ³•çº¿ã€å…‰èƒ½è§åº¦ã€åç…§ç‡å’Œç©ºé—´å˜åŒ–çš„BRDFsçš„ç‰©ä½“çš„3Dè¡¨é¢è¡¨ç¤ºã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä»»æ„çš„æ–°ç¯å¢ƒç…§æ˜ä¸‹æ¸²æŸ“ç‰©ä½“çš„æ–°è§†å›¾ã€‚</p><p>In summary, our main technical contributions are:</p><ul><li>ä¸€ç§å°†ç‰©ä½“åœ¨æœªçŸ¥å…‰ç…§æ¡ä»¶ä¸‹çš„å›¾åƒåˆ†è§£ä¸ºå½¢çŠ¶ã€åå°„ç‡å’Œç…§åº¦illuminationçš„æ–¹æ³•ï¼Œä»è€Œæ”¯æŒè‡ªç”±è§†ç‚¹é‡ç…§æ˜(å¸¦é˜´å½±)å’Œæè´¨ç¼–è¾‘</li><li>å°†nerfä¼°è®¡çš„ä½“ç§¯å¯†åº¦æå–åˆ°è¡¨é¢å‡ ä½•å½¢çŠ¶(å…·æœ‰æ³•çº¿å’Œå…‰å¯è§æ€§)çš„ç­–ç•¥ï¼Œä»¥ä¾¿åœ¨æ”¹è¿›å‡ ä½•å½¢çŠ¶å’Œæ¢å¤åå°„ç‡æ—¶ç”¨ä½œåˆå§‹åŒ–</li><li>ä¸€ç§æ–°çš„æ•°æ®é©±åŠ¨çš„BRDFå…ˆéªŒï¼Œé€šè¿‡<strong>å¯¹å®é™…æµ‹é‡çš„BRDF</strong>è¿›è¡Œæ½œåœ¨ä»£ç æ¨¡å‹çš„è®­ç»ƒæ¥å­¦ä¹ ã€‚</li></ul><p><strong>è¾“å…¥å’Œè¾“å‡º</strong>ã€‚NeRFactorçš„è¾“å…¥æ˜¯ä¸€ç»„<strong>åœ¨æœªçŸ¥ç¯å¢ƒç…§æ˜æ¡ä»¶ä¸‹</strong>çš„ç‰©ä½“çš„å¤šè§†å›¾å›¾åƒä»¥åŠè¿™äº›å›¾åƒçš„ç›¸æœºå§¿åŠ¿ã€‚NeRFactorè”åˆä¼°è®¡è¡¨é¢æ³•çº¿ã€å…‰èƒ½è§åº¦ã€åç…§ç‡ã€ç©ºé—´å˜åŒ–brdfå’Œç¯å¢ƒç…§æ˜çš„åˆç†é›†åˆï¼Œè¿™äº›é›†åˆå…±åŒè§£é‡Šäº†è§‚æµ‹åˆ°çš„è§†å›¾ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨æ¢å¤çš„å‡ ä½•å½¢çŠ¶å’Œåå°„ç‡æ¥<strong>åˆæˆä»»æ„å…‰ç…§ä¸‹çš„æ–°è§†ç‚¹çš„ç‰©ä½“å›¾åƒ</strong>ã€‚æ˜ç¡®å»ºæ¨¡èƒ½è§åº¦ï¼ŒNeRFactorèƒ½å¤Ÿä»åç…§ç‡ä¸­å»é™¤é˜´å½±ï¼Œå¹¶<strong>åœ¨ä»»æ„ç…§æ˜ä¸‹åˆæˆè½¯é˜´å½±æˆ–ç¡¬é˜´å½±</strong>ã€‚</p><p><strong>å‡è®¾</strong>ã€‚NeRFactorè®¤ä¸ºç‰©ä½“æ˜¯ç”±åšç¡¬çš„è¡¨é¢ç»„æˆçš„ï¼Œæ¯æ¡å…‰çº¿åªæœ‰ä¸€ä¸ªäº¤ç‚¹ï¼Œå› æ­¤<strong>æ²¡æœ‰å¯¹æ•£å°„ã€é€æ˜å’ŒåŠé€æ˜ç­‰ä½“ç§¯å…‰ä¼ è¾“æ•ˆåº”è¿›è¡Œå»ºæ¨¡</strong>ã€‚æ­¤å¤–ï¼Œä¸ºäº†ç®€åŒ–è®¡ç®—ï¼Œæˆ‘ä»¬<strong>åªå¯¹ç›´æ¥å…‰ç…§è¿›è¡Œå»ºæ¨¡</strong>ã€‚æœ€åï¼Œæˆ‘ä»¬çš„åå°„ç‡æ¨¡å‹è€ƒè™‘äº†å…·æœ‰æ¶ˆè‰²å·®é•œé¢åå°„ç‡çš„ææ–™(ç”µä»‹è´¨)ï¼Œå› æ­¤æˆ‘ä»¬<strong>ä¸æ¨¡æ‹Ÿé‡‘å±ææ–™</strong>(å°½ç®¡å¯ä»¥é€šè¿‡é¢å¤–é¢„æµ‹æ¯ä¸ªè¡¨é¢ç‚¹çš„é•œé¢é¢œè‰²æ¥è½»æ¾æ‰©å±•æˆ‘ä»¬çš„é‡‘å±ææ–™æ¨¡å‹)ã€‚</p><h2 id="RELATED-WORK"><a href="#RELATED-WORK" class="headerlink" title="RELATED WORK"></a>RELATED WORK</h2><p><strong>Inverse rendering</strong><br>[ä½è—¤ç­‰ã€‚1997;é©¬æ–¯çº³1998;Yu et al. 1999;Ramamoorthi and Hanrahan 2001]ï¼Œå°†è§‚å¯Ÿå›¾åƒä¸­ç‰©ä½“çš„å¤–è§‚åˆ†è§£ä¸ºæ½œåœ¨çš„å‡ ä½•å½¢çŠ¶ã€ææ–™å±æ€§å’Œå…‰ç…§æ¡ä»¶çš„ä»»åŠ¡ï¼Œæ˜¯è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦ä¸­é•¿æœŸå­˜åœ¨çš„é—®é¢˜ã€‚ç”±äºä¼—æ‰€å‘¨çŸ¥ï¼Œå®Œæ•´çš„ä¸€èˆ¬åå‘æ¸²æŸ“é—®é¢˜æ˜¯ä¸¥é‡ç¼ºä¹çº¦æŸçš„ï¼Œå› æ­¤å¤§å¤šæ•°å…ˆå‰çš„æ–¹æ³•éƒ½é€šè¿‡å‡è®¾æ²¡æœ‰é˜´å½±ï¼Œå­¦ä¹ å½¢çŠ¶ï¼Œç…§æ˜å’Œåå°„ç‡çš„å…ˆéªŒï¼Œæˆ–è€…éœ€è¦é¢å¤–çš„è§‚å¯Ÿï¼Œä¾‹å¦‚æ‰«æå‡ ä½•å½¢çŠ¶ï¼Œæµ‹é‡çš„ç…§æ˜æ¡ä»¶ï¼Œæˆ–åœ¨å¤šç§(å·²çŸ¥)ç…§æ˜æ¡ä»¶ä¸‹çš„ç‰©ä½“çš„é¢å¤–å›¾åƒæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br>å•å¹…å›¾åƒé€†æ¸²æŸ“æ–¹æ³•Methods for single-image inverse rendering<br>[Barronå’ŒMalik, 2014;Li et al. 2018;Senguptaç­‰äºº2019;Yu and Smith 2019;Sang and Chandraker 2020;Weiç­‰äººã€‚2020;Liç­‰äººã€‚2020;Lichyç­‰äººã€‚2021]å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºä»å¤§å‹æ•°æ®é›†ä¸­å­¦ä¹ åˆ°çš„å‡ ä½•ã€åå°„ç‡å’Œç…§æ˜çš„å¼ºå¤§å…ˆéªŒã€‚æœ€è¿‘çš„æ–¹æ³•å¯ä»¥ä»å•ä¸ªå›¾åƒä¸­æœ‰æ•ˆåœ°æ¨æ–­å‡ºè¿™äº›å› ç´ çš„åˆç†è®¾ç½®ï¼Œ<strong>ä½†ä¸èƒ½æ¢å¤å¯ä»¥ä»ä»»æ„è§†ç‚¹æŸ¥çœ‹çš„å®Œæ•´3Dè¡¨ç¤º</strong>ã€‚</p><p>å¤§å¤šæ•°æ¢å¤å› å¼å…¨3Dæ¨¡å‹çš„æ–¹æ³•éƒ½ä¾èµ–äºé¢å¤–çš„è§‚æµ‹ï¼Œè€Œä¸æ˜¯å¼ºå…ˆéªŒã€‚<strong>ä¸€ç§å¸¸è§çš„ç­–ç•¥æ˜¯ä½¿ç”¨ä¸»åŠ¨æ‰«æè·å¾—çš„3Då‡ ä½•å›¾å½¢</strong>[Lenschç­‰äººã€‚2003;éƒ­ç­‰ã€‚2019;Parkç­‰äººã€‚2020;Schmitt et al. 2020;Zhangç­‰ã€‚2021a]ï¼Œä»£ç†æ¨¡å‹[Satoç­‰ã€‚2003;Dongç­‰äººã€‚2014;Georgoulis et al. 2015;Gaoç­‰ã€‚2020;Chenç­‰äºº]å‰ªå½±é¢å…·[Oxholmå’ŒNishino 2014;æˆˆè¾¾å°”ç­‰äººã€‚2015;å¤ç­‰ã€‚2016]ï¼Œæˆ–å¤šè§†ç‚¹ç«‹ä½“(MVS;ç„¶åæ˜¯æ›²é¢é‡å»ºå’Œç½‘æ ¼åˆ’åˆ†)[Laffont et al. 2012;Nam et al. 2018;è²åˆ©æ™®ç­‰äººã€‚2019;Goelç­‰äºº]ã€‚ä½œä¸ºæ¢å¤åå°„ç‡å’Œç²¾ç»†å‡ ä½•ä¹‹å‰çš„èµ·ç‚¹ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¡¨æ˜ï¼Œä»ä½¿ç”¨æœ€å…ˆè¿›çš„ç¥ç»ä½“ç§¯è¡¨ç¤ºä¼°è®¡çš„å‡ ä½•å½¢çŠ¶å¼€å§‹ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä»…ä½¿ç”¨åœ¨ä¸€æ¬¡ç…§æ˜ä¸‹æ•è·çš„å›¾åƒæ¢å¤å®Œå…¨åˆ†è§£çš„3Dæ¨¡å‹ï¼Œè€Œæ— éœ€ä»»ä½•é¢å¤–çš„è§‚å¯Ÿã€‚è‡³å…³é‡è¦çš„æ˜¯ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ä¼°è®¡çš„åˆå§‹å‡ ä½•å½¢çŠ¶ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ¢å¤å¯¹ä¼ ç»Ÿå‡ ä½•å½¢çŠ¶ä¼°è®¡æ–¹æ³•å…·æœ‰æŒ‘æˆ˜æ€§çš„ç‰©ä½“çš„å› å­æ¨¡å‹ï¼ŒåŒ…æ‹¬å…·æœ‰é«˜åå°„è¡¨é¢å’Œè¯¦ç»†å‡ ä½•å½¢çŠ¶çš„ç‰©ä½“ã€‚</p><p>è®¡ç®—æœºå›¾å½¢ç•Œçš„å¤§é‡å·¥ä½œé›†ä¸­åœ¨ææ–™è·å–çš„ç‰¹å®šå­é—®é¢˜ä¸Šï¼Œå…¶ç›®æ ‡æ˜¯<strong>ä»å·²çŸ¥(é€šå¸¸æ˜¯å¹³é¢)å‡ ä½•å½¢çŠ¶çš„ææ–™å›¾åƒä¸­ä¼°è®¡åŒå‘åå°„åˆ†å¸ƒå‡½æ•°(BRDF)å±æ€§</strong>ã€‚è¿™äº›æ–¹æ³•ä¼ ç»Ÿä¸Šåˆ©ç”¨åŸºäºä¿¡å·å¤„ç†çš„é‡å»ºç­–ç•¥ï¼Œå¹¶ä½¿ç”¨å¤æ‚çš„æ§åˆ¶ç›¸æœºå’Œç…§æ˜è®¾ç½®æ¥å……åˆ†é‡‡æ ·BRDF [Foo 2015;Matusik et al. 2003;å°¼å°”æ£®ç­‰äººã€‚2015å¹´]ï¼Œè€Œæœ€è¿‘çš„æ–¹æ³•ä½¿å¾—ä»æ›´ä¼‘é—²çš„æ™ºèƒ½æ‰‹æœºè®¾ç½®ä¸­è·å–ææ–™æˆä¸ºå¯èƒ½[Aittalaç­‰äººã€‚2015;Hui et al. 2017]ã€‚<strong>ç„¶è€Œï¼Œè¿™ä¸€è¡Œçš„å·¥ä½œé€šå¸¸è¦æ±‚å‡ ä½•å½¢çŠ¶ç®€å•ä¸”å®Œå…¨å·²çŸ¥</strong>ï¼Œè€Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯ä¸€ä¸ªæ›´ä¸€èˆ¬çš„é—®é¢˜ï¼Œå³æˆ‘ä»¬å”¯ä¸€çš„è§‚å¯Ÿæ˜¯å…·æœ‰å¤æ‚å½¢çŠ¶å’Œç©ºé—´å˜åŒ–åå°„ç‡çš„ç‰©ä½“çš„å›¾åƒã€‚</p><p>æˆ‘ä»¬çš„å·¥ä½œå»ºç«‹åœ¨è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢ç¤¾åŒºçš„æœ€æ–°è¶‹åŠ¿ä¹‹ä¸Šï¼Œ<strong>è¯¥è¶‹åŠ¿å°†ä¼ ç»Ÿçš„å½¢çŠ¶è¡¨ç¤º(å¦‚å¤šè¾¹å½¢ç½‘æ ¼æˆ–ç¦»æ•£ä½“ç´ ç½‘æ ¼)æ›¿æ¢ä¸ºå°†å‡ ä½•è¡¨ç¤ºä¸ºå‚æ•°å‡½æ•°çš„å¤šå±‚æ„ŸçŸ¥å™¨(mlp)</strong>ã€‚è¿™äº›mlpç»è¿‡ä¼˜åŒ–ï¼Œå¯ä»¥é€šè¿‡å°†3Dåæ ‡æ˜ å°„åˆ°è¯¥ä½ç½®çš„ç‰©ä½“æˆ–åœºæ™¯å±æ€§(å¦‚ä½“ç§¯å¯†åº¦ã€å ç”¨ç‡æˆ–ç­¾åè·ç¦»)æ¥è¿‘ä¼¼è¿ç»­3Då‡ ä½•ã€‚è¯¥ç­–ç•¥å·²ç»æˆåŠŸåœ°ä»3Dè§‚æµ‹ä¸­æ¢å¤è¿ç»­çš„3Då½¢çŠ¶è¡¨ç¤º[Meschederç­‰äººã€‚2019;Park et al. 2019;Tancikç­‰äºº]ã€‚å’Œå›ºå®šç…§æ˜ä¸‹è§‚æµ‹åˆ°çš„å›¾åƒ[Mildenhallç­‰ã€‚2020;Yarivç­‰ã€‚2020]ã€‚ç¥ç»è¾å°„åœº(NeRF) [Mildenhallç­‰ã€‚2020]æŠ€æœ¯åœ¨ä¼˜åŒ–è§‚å¯Ÿå›¾åƒçš„ä½“ç§¯å‡ ä½•å’Œå¤–è§‚æ–¹é¢ç‰¹åˆ«æˆåŠŸï¼Œç›®çš„æ˜¯æ¸²æŸ“é€¼çœŸçš„æ–°è§†å›¾</p><p>NeRFå¯å‘äº†åç»­æ–¹æ³•ï¼Œæ‰©å±•å…¶ç¥ç»è¡¨å¾ä»¥å®ç°é‡ç…§æ˜[Bi et al. 2020;Bossç­‰;2021;Srinivasanç­‰äººã€‚2021;å¼ ç­‰ã€‚2021b]ã€‚æˆ‘ä»¬åˆ—å‡ºäº†è¿™äº›å¹¶å‘æ–¹æ³•ä¸NeRFactorä¹‹é—´çš„åŒºåˆ«å¦‚ä¸‹</p><ul><li>Biç­‰äººã€‚[2020]å’ŒNeRV [Srinivasanç­‰ã€‚2021]<strong>éœ€è¦å¤šä¸ªå·²çŸ¥çš„ç…§æ˜æ¡ä»¶</strong>ï¼Œè€ŒNeRFactoråªå¤„ç†ä¸€ä¸ªæœªçŸ¥çš„ç…§æ˜ã€‚</li><li>NeRD[Bossç­‰äºº,2021]ä¸æ¨¡æ‹Ÿèƒ½è§åº¦æˆ–é˜´å½±ï¼Œè€ŒNeRFactorå¯ä»¥æˆåŠŸåœ°å°†é˜´å½±ä¸åç…§ç‡åˆ†å¼€(å¦‚ä¸‹æ‰€ç¤º)ã€‚NeRDä½¿ç”¨åˆ†æBRDFï¼Œè€ŒNeRFactorä½¿ç”¨ç¼–ç å…ˆéªŒçš„å­¦ä¹ BRDF</li><li>PhySG [Zhangç­‰ã€‚2021b]ä¸æ¨¡æ‹Ÿèƒ½è§åº¦æˆ–é˜´å½±ï¼Œå¹¶ä½¿ç”¨åˆ†æBRDFï¼Œå°±åƒNeRDä¸€æ ·ã€‚æ­¤å¤–ï¼ŒPhySGå‡è®¾éç©ºé—´å˜åŒ–çš„åå°„ç‡ï¼Œè€ŒNeRFactoræ¨¡å‹æ˜¯ç©ºé—´å˜åŒ–çš„brdfã€‚</li></ul><h1 id="METHOD"><a href="#METHOD" class="headerlink" title="METHOD"></a>METHOD</h1><p>NeRFactorçš„è¾“å…¥è¢«<strong>å‡è®¾ä¸ºä¸€ä¸ªæœªçŸ¥ç…§æ˜æ¡ä»¶ä¸‹çš„ç‰©ä½“çš„å¤šè§†å›¾å›¾åƒ(ä»¥åŠå®ƒä»¬çš„ç›¸æœºå§¿åŠ¿)</strong>ã€‚NeRFactorå°†ç‰©ä½“çš„å½¢çŠ¶å’Œç©ºé—´å˜åŒ–åå°„ç‡è¡¨ç¤ºä¸ºä¸€ç»„3Då­—æ®µï¼Œæ¯ä¸ªå­—æ®µç”±å¤šå±‚æ„ŸçŸ¥å™¨(mlp)å‚æ•°åŒ–ï¼Œå…¶æƒé‡ç»è¿‡ä¼˜åŒ–ï¼Œä»¥ä¾¿â€œè§£é‡Šâ€è§‚å¯Ÿåˆ°çš„è¾“å…¥å›¾åƒé›†ã€‚ä¼˜åŒ–åï¼ŒNeRFactorçš„è¾“å‡ºï¼Œåœ¨ç‰©ä½“çš„è¡¨é¢ä¸Šçš„æ¯ä¸ª3Dä½ç½®x: è¡¨é¢æ³•å‘$n$,ä»»ä½•æ–¹å‘çš„èƒ½è§åº¦$v(\omega_i)$ ï¼Œåç…§ç‡$a$å’Œåå°„æ¯”reflectance $z_{BRDF}$å…±åŒè§£é‡Šè§‚å¯Ÿåˆ°çš„ç°è±¡ã€‚é€šè¿‡æ¢å¤ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’Œåå°„ç‡ï¼ŒNeRFactoræ”¯æŒè¯¸å¦‚è‡ªç”±è§†ç‚¹é‡ç…§æ˜(å¸¦é˜´å½±)å’Œææ–™ç¼–è¾‘ç­‰åº”ç”¨ç¨‹åºã€‚</p><p>æˆ‘ä»¬åœ¨å›¾2ä¸­å¯è§†åŒ–NeRFactoræ¨¡å‹å’Œå®ƒäº§ç”Ÿçš„åˆ†è§£ç¤ºä¾‹ã€‚æœ‰å…³å®ç°ç»†èŠ‚ï¼ŒåŒ…æ‹¬ç½‘ç»œæ¶æ„ï¼Œè®­ç»ƒèŒƒä¾‹ï¼Œè¿è¡Œæ—¶ç­‰ï¼Œè¯·å‚é˜…é™„å½•çš„Aéƒ¨åˆ†å’Œæˆ‘ä»¬çš„GitHubå­˜å‚¨åº“ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814141123.png" alt="image.png"><br><em>Model. NeRFactor leverages NeRFâ€™s ğœ-volume as an initialization to predict, for each surface location $ğ’™_{surf}$, surface normal ğ’, light visibility ğ‘£, albedo ğ’‚, BRDF latent code $ğ’›_{BRDF}$, and the lighting condition. ğ’™ denotes 3D locations, $ğ_i$ light direction, $ğ_o$ viewing direction, and $ğœ™_d, ğœƒ_h, ğœƒ_d$ Rusinkiewicz coordinates. Note that NeRFactor is an <strong>all-MLP architecture</strong> that models only surface points (unlike NeRF that models the entire volume).</em></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814140950.png" alt="image.png"><br><em>Example factorization. NeRFactor jointly solves for plausible surface normals, light visibility, albedo, BRDFs, and lighting that together explain the observed views. Here we visualize light visibility as ambient occlusion and ğ‘§BRDF directly as RGBs (similar colors indicate similar materials).</em></p><p><em>NeRFactoræ˜¯ä¸€ç§åŸºäºåæ ‡çš„æ¨¡å‹ï¼Œå®ƒå¯ä»¥åœ¨æ— ç›‘ç£çš„æƒ…å†µä¸‹åˆ†è§£åœ¨ä¸€ä¸ªæœªçŸ¥å…‰ç…§æ¡ä»¶ä¸‹è§‚å¯Ÿåˆ°çš„åœºæ™¯çš„å¤–è§‚ã€‚å®ƒé€šè¿‡ä½¿ç”¨é‡å»ºæŸå¤±ã€ç®€å•çš„å¹³æ»‘æ­£åˆ™åŒ–å’Œæ•°æ®é©±åŠ¨çš„BRDFå…ˆéªŒæ¥è§£å†³è¿™ä¸ªä¸¥é‡ä¸é€‚å®šçš„é—®é¢˜ã€‚æ˜ç¡®å»ºæ¨¡å¯è§æ€§ï¼ŒNeRFactoræ˜¯ä¸€ä¸ªåŸºäºç‰©ç†çš„æ¨¡å‹ï¼Œæ”¯æŒä»»æ„å…‰ç…§ä¸‹çš„é˜´å½±ã€‚</em></p><h2 id="Shape"><a href="#Shape" class="headerlink" title="Shape"></a>Shape</h2><p>æˆ‘ä»¬æ¨¡å‹çš„è¾“å…¥ä¸NeRF [Mildenhallç­‰äººï¼Œ2020]ä½¿ç”¨çš„è¾“å…¥ç›¸åŒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†NeRFåº”ç”¨äºæˆ‘ä»¬çš„è¾“å…¥å›¾åƒä»¥è®¡ç®—åˆå§‹å‡ ä½•(å°½ç®¡ä½¿ç”¨å¤šè§†å›¾ç«‹ä½“[MVS]å‡ ä½•ä½œä¸ºåˆå§‹åŒ–ä¹Ÿæœ‰æ•ˆï¼Œå¦‚ç¬¬4.4èŠ‚æ‰€ç¤º)ã€‚NeRFä¼˜åŒ–äº†ä¸€ä¸ªç¥ç»è¾å°„åœº:ä¸€ä¸ªMLPï¼Œå®ƒä»ä»»ä½•3Dç©ºé—´åæ ‡å’Œ2Dè§‚çœ‹æ–¹å‘æ˜ å°„åˆ°è¯¥3Dä½ç½®çš„ä½“ç§¯å¯†åº¦å’Œè¯¥ä½ç½®çš„ç²’å­æ²¿2Dè§‚çœ‹æ–¹å‘å‘å°„çš„é¢œè‰²ã€‚NeRFactoré€šè¿‡å°†NeRFçš„ä¼°è®¡å‡ ä½•å½¢çŠ¶â€œæç‚¼distillingâ€æˆä¸€ä¸ªè¿ç»­çš„è¡¨é¢è¡¨ç¤ºæ¥åˆå§‹åŒ–NeRFactorçš„å‡ ä½•å½¢çŠ¶ï¼Œä»è€Œåˆ©ç”¨NeRFçš„ä¼°è®¡å‡ ä½•å½¢çŠ¶ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¼˜åŒ–çš„NeRFæ¥è®¡ç®—æ²¿ä»»ä½•ç›¸æœºå…‰çº¿çš„é¢„æœŸè¡¨é¢ä½ç½®ï¼Œç‰©ä½“è¡¨é¢ä¸Šæ¯ä¸ªç‚¹çš„è¡¨é¢æ³•çº¿ï¼Œä»¥åŠä»ç‰©ä½“è¡¨é¢ä¸Šæ¯ä¸ªç‚¹çš„ä»»ä½•æ–¹å‘åˆ°è¾¾çš„å…‰çš„å¯è§åº¦ã€‚æœ¬å°èŠ‚æè¿°äº†æˆ‘ä»¬å¦‚ä½•ä»ä¼˜åŒ–çš„NeRFä¸­è·å¾—è¿™äº›å‡½æ•°ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨mlpé‡æ–°å‚æ•°åŒ–å®ƒä»¬ï¼Œä»¥ä¾¿åœ¨åˆå§‹åŒ–æ­¥éª¤ä¹‹åå¯¹å®ƒä»¬è¿›è¡Œå¾®è°ƒï¼Œä»¥æ”¹å–„å®Œå…¨çš„é‡æ–°å‘ˆç°æŸå¤±(å›¾3)ã€‚</p><p><strong>è¡¨é¢ç‚¹</strong>ã€‚ç»™å®šä¸€ä¸ªcameraå’Œä¸€ä¸ªtrainedçš„NeRFï¼Œæˆ‘ä»¬æ ¹æ®NeRFçš„ä¼˜åŒ–ä½“ç§¯å¯†åº¦$\sigma$ï¼Œè®¡ç®—ä»æ‘„åƒæœºåŸç‚¹$\text{o}$æ²¿ç€æ–¹å‘$\text{d}$çš„å…‰çº¿$\mathbf{r}(t)=\mathbf{o}+t\boldsymbol{d}$ï¼Œé¢„æœŸä¼šç»ˆæ­¢çš„ä½ç½®ï¼š</p><p>$x_{\mathrm{surf}}=\boldsymbol{o}+\left(\int_{0}^{\infty}T(t)\sigma\big(\boldsymbol{r}(t)\big)tdt\right)\boldsymbol{d},$</p><p>åœ¨ä¸è¢«é˜»æŒ¡çš„æƒ…å†µä¸‹ï¼Œå°„çº¿è¡Œè¿›è·ç¦»ğ‘¡çš„æ¦‚ç‡å¯ä»¥è¡¨ç¤ºä¸º$T(t)=\exp\left(-\int_{0}^{t}\sigma\big(\boldsymbol{r}(s)\big)ds\right)$ã€‚ä¸ç»´æŠ¤å®Œæ•´çš„ä½“ç§¯è¡¨ç¤ºä¸åŒï¼Œæˆ‘ä»¬å°†å‡ ä½•ç»“æ„å›ºå®šåœ¨è¿™ä¸ªä»ä¼˜åŒ–çš„NeRFæå–å‡ºçš„è¡¨é¢ä¸Šã€‚è¿™åœ¨è®­ç»ƒå’Œæ¨æ–­è¿‡ç¨‹ä¸­éƒ½èƒ½å¤Ÿå®ç°æ›´é«˜æ•ˆçš„é‡æ–°å…‰ç…§ï¼Œ<strong>å› ä¸ºæˆ‘ä»¬åªéœ€åœ¨æ¯ä¸ªç›¸æœºå°„çº¿é¢„æœŸç»ˆæ­¢çš„ä½ç½®è®¡ç®—å‡ºå°„è¾å°„ï¼Œè€Œä¸æ˜¯æ²¿ç€æ¯æ¡ç›¸æœºå°„çº¿çš„æ¯ä¸ªç‚¹éƒ½è¿›è¡Œè®¡ç®—</strong></p><p><strong>è¡¨é¢æ³•çº¿</strong>ã€‚æˆ‘ä»¬åœ¨ä»»æ„3Dä½ç½®è®¡ç®—è§£æè¡¨é¢æ³•çº¿$ğ’_{a}(ğ’™)$ï¼Œå®ƒæ˜¯ç›¸å¯¹äºğ’™çš„NeRFçš„ğœ-ä½“ç§¯çš„è´Ÿå½’ä¸€åŒ–æ¢¯åº¦ã€‚ç„¶è€Œï¼Œä»è®­ç»ƒè¿‡çš„NeRFæ´¾ç”Ÿå‡ºçš„æ³•çº¿å¾€å¾€å¸¦æœ‰å™ªå£°ï¼ˆå›¾3ï¼‰ï¼Œå› æ­¤åœ¨æ¸²æŸ“æ—¶ä¼šäº§ç”Ÿâ€œå‡¹å‡¸â€ç‘•ç–µï¼ˆè¯·å‚é˜…è¡¥å……è§†é¢‘ï¼‰ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814143126.png" alt="image.png"><br><em>NeRFactoræ¢å¤çš„é«˜è´¨é‡å‡ ä½•ã€‚ (A) æˆ‘ä»¬å¯ä»¥ç›´æ¥ä»è®­ç»ƒè¿‡çš„NeRFä¸­å¯¼å‡ºè¡¨é¢æ³•çº¿å’Œå…‰èƒ½è§åº¦ã€‚ç„¶è€Œï¼Œç”¨è¿™ç§æ–¹å¼å¯¼å‡ºçš„å‡ ä½•ç»“æ„å¤ªå˜ˆæ‚ï¼Œæ— æ³•ç”¨äºé‡æ–°å…‰ç…§ï¼ˆè¯·å‚é˜…è¡¥å……è§†é¢‘ï¼‰ã€‚ (B) è”åˆä¼˜åŒ–å½¢çŠ¶å’Œåå°„æ€§èƒ½æ”¹å–„äº†NeRFçš„å‡ ä½•ç»“æ„ï¼Œä½†ä»ç„¶å­˜åœ¨æ˜¾è‘—çš„å™ªå£°ï¼ˆä¾‹å¦‚ï¼Œå›¾IIä¸­çš„æ¡çº¹ä¼ªå½±ï¼‰ã€‚ (C) åœ¨å¹³æ»‘æ€§çº¦æŸä¸‹è¿›è¡Œè”åˆä¼˜åŒ–ï¼Œå¾—åˆ°äº†å¹³æ»‘çš„è¡¨é¢æ³•çº¿å’Œå…‰èƒ½è§åº¦ï¼Œç±»ä¼¼äºåœ°é¢çœŸå®æƒ…å†µã€‚åœ¨æ‰€æœ‰å…¥å°„å…‰æ–¹å‘ä¸Šå¹³å‡çš„èƒ½è§åº¦æ˜¯ç¯å¢ƒé®æŒ¡ã€‚</em></p><p>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªMLP $f_{\mathrm{n}}$å¯¹è¿™äº›æ³•çº¿è¿›è¡Œé‡æ–°å‚æ•°åŒ–ï¼Œå°†ä»è¡¨é¢ä»»ä½•ä½ç½®$x_{\mathrm{surf}}$æ˜ å°„åˆ°â€œå»å™ªâ€çš„è¡¨é¢æ³•çº¿$n\colon f_{\mathrm{n}}:x_{\mathrm{surf}}\mapsto n.$åœ¨ä¼˜åŒ–NeRFactoræƒé‡çš„è”åˆä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é¼“åŠ±è¿™ä¸ªMLPçš„è¾“å‡ºï¼š<br>Iï¼‰ä¿æŒæ¥è¿‘é¢„è®­ç»ƒNeRFäº§ç”Ÿçš„æ³•çº¿ï¼Œ<br>IIï¼‰åœ¨3Dç©ºé—´ä¸­å¹³æ»‘å˜åŒ–ï¼Œ<br>IIIï¼‰é‡ç°ç‰©ä½“çš„è§‚å¯Ÿå¤–è§‚ã€‚å…·<br>ä½“è€Œè¨€ï¼Œåæ˜ Iï¼‰å’ŒIIï¼‰çš„æŸå¤±å‡½æ•°ä¸ºâ€¦<br>$\ell_{\mathrm{n}}=\sum_{x_{\mathrm{surf}}}\left(\frac{\lambda_{1}}{3}|f_{\mathrm{n}}(x_{\mathrm{surf}})-n_{\mathrm{a}}(x_{\mathrm{surf}})|_{2}^{2}+\frac{\lambda_{2}}{3}|f_{\mathrm{n}}(x_{\mathrm{surf}})-f_{\mathrm{n}}(x_{\mathrm{surf}}+\epsilon)|_{1}\right)$<br>å…¶ä¸­ğæ˜¯ä»å‡å€¼ä¸ºé›¶ã€æ ‡å‡†å·®ä¸º0.01çš„é«˜æ–¯åˆ†å¸ƒä¸­é‡‡æ ·å¾—åˆ°çš„å…³äº$x_{\mathrm{surf}}$çš„éšæœº3Dä½ç§»ï¼ˆå¯¹äºå®é™…åœºæ™¯ï¼Œç”±äºä¸åŒçš„åœºæ™¯å°ºåº¦ï¼Œğçš„æ ‡å‡†å·®ä¸º0.001æˆ–0.25ï¼‰ï¼Œè€Œ$ğœ†_1$å’Œ$ğœ†_2$æ˜¯åˆ†åˆ«è®¾å®šä¸º0.1å’Œ0.05çš„è¶…å‚æ•°ã€‚Oechsleç­‰äººåœ¨å…¶å¹¶è¡Œå·¥ä½œä¸­ä¹Ÿä½¿ç”¨äº†ç±»ä¼¼çš„è¡¨é¢æ³•çº¿å¹³æ»‘æ€§æŸå¤±ï¼Œç”¨äºå½¢çŠ¶é‡å»ºçš„ç›®æ ‡ã€‚è‡³å…³é‡è¦çš„æ˜¯ï¼Œä¸é™åˆ¶ğ’™åœ¨é¢„æœŸè¡¨é¢ä¸Šï¼Œå¢åŠ äº†MLPçš„ç¨³å¥æ€§ï¼Œä¸ºè¾“å‡ºæä¾›äº†ä¸€ä¸ªâ€œå®‰å…¨ä½™åœ°â€ï¼Œå³ä½¿è¾“å…¥ç•¥å¾®åç¦»è¡¨é¢ï¼Œè¾“å‡ºä»ä¿æŒè‰¯å¥½è¡Œä¸ºã€‚æ­£å¦‚å›¾3æ‰€ç¤ºï¼ŒNeRFactorçš„æ³•çº¿MLPäº§ç”Ÿçš„æ³•çº¿è´¨é‡æ˜æ˜¾ä¼˜äºNeRFäº§ç”Ÿçš„æ³•çº¿ï¼Œå¹¶ä¸”è¶³å¤Ÿå¹³æ»‘ä»¥ç”¨äºé‡æ–°å…‰ç…§ï¼ˆå›¾5ï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814145305.png" alt="image.png"></p><p><strong>å…‰èƒ½è§åº¦</strong>ã€‚æˆ‘ä»¬é€šè¿‡ä»ç‚¹åˆ°æ¯ä¸ªå…‰æºä½ç½®åœ¨NeRFçš„ğœä½“ç§¯ä¸­è¿›è¡Œè¡Œè¿›ï¼Œè®¡ç®—æ¯ä¸ªç‚¹åˆ°æ¯ä¸ªå…‰æºçš„èƒ½è§åº¦$ğ‘£_ğ‘$ï¼Œç±»ä¼¼äºBiç­‰äºº[2020]çš„æ–¹æ³•ã€‚ç„¶è€Œï¼Œä¸ä¸Šè¿°ä¼°è®¡çš„è¡¨é¢æ³•çº¿ä¸€æ ·ï¼Œç›´æ¥ä»NeRFçš„ğœä½“ç§¯ä¸­å¾—å‡ºçš„èƒ½è§åº¦ä¼°è®¡è¿‡äºå˜ˆæ‚ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨ï¼ˆå›¾3ï¼‰ï¼Œå¹¶å¯¼è‡´æ¸²æŸ“äº§ç”Ÿä¼ªå½±ï¼ˆè¯·å‚è§è¡¥å……è§†é¢‘ï¼‰ã€‚æˆ‘ä»¬é€šè¿‡å°†èƒ½è§åº¦å‡½æ•°é‡æ–°å‚æ•°åŒ–ä¸ºå¦ä¸€ä¸ªå¤šå±‚æ„ŸçŸ¥å™¨ï¼ˆMLPï¼‰ï¼Œè¯¥MLPä»è¡¨é¢ä½ç½®$x_{\mathrm{surf}}$å’Œå…‰çº¿æ–¹å‘$ğ_i$æ˜ å°„åˆ°å…‰èƒ½è§åº¦$v{:}f_\mathrm{V}:(x_\mathrm{surf},\omega_\mathrm{i})\mapsto v.$ã€‚æˆ‘ä»¬ä¼˜åŒ–$ğ‘“_ğ‘£$çš„æƒé‡ï¼Œä»¥é¼“åŠ±æ¢å¤çš„èƒ½è§åº¦åœºï¼š<br>Iï¼‰æ¥è¿‘ä»NeRFè·Ÿè¸ªçš„èƒ½è§åº¦ï¼Œ<br>IIï¼‰ç©ºé—´å¹³æ»‘ï¼Œ<br>IIIï¼‰å¤ç°è§‚å¯Ÿåˆ°çš„å¤–è§‚ã€‚<br>å…·ä½“è€Œè¨€ï¼Œå®æ–½Iï¼‰å’ŒIIï¼‰çš„æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š<br>$\ell_\mathrm{v}=\sum_{x_\mathrm{surf}}\sum_{\omega_\mathrm{i}}\left(\lambda_3\big(f_\mathrm{v}(x_\mathrm{surf},\omega_\mathrm{i})-v_\mathrm{a}(x_\mathrm{surf},\omega_\mathrm{i})\big)^2+\lambda_4\big|f_\mathrm{v}(x_\mathrm{surf},\omega_\mathrm{i})-f_\mathrm{v}(x_\mathrm{surf}+\epsilon,\omega_\mathrm{i})\big|\right)$<br>å…¶ä¸­ï¼Œğ æ˜¯ä¸Šæ–‡å®šä¹‰çš„éšæœºä½ç§»ï¼Œ$ğœ†_3$ å’Œ$ğœ†_4$ åˆ†åˆ«æ˜¯è®¾ç½®ä¸º 0.1 å’Œ 0.05 çš„è¶…å‚æ•°ã€‚å¦‚ç­‰å¼æ‰€ç¤ºï¼Œåœ¨ç›¸åŒçš„$ğ_i$ æ¡ä»¶ä¸‹ï¼Œé¼“åŠ±ä¸åŒç©ºé—´ä½ç½®çš„å¹³æ»‘æ€§ï¼Œè€Œä¸æ˜¯ç›¸åã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†é¿å…æŸä¸€ä½ç½®çš„å¯è§åº¦åœ¨ä¸åŒå…‰ç…§ä½ç½®ä¸Šå˜å¾—æ¨¡ç³Šã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ Srinivasan ç­‰äºº[2021]ä¸­çš„å¯è§åº¦fieldsç±»ä¼¼ï¼Œä½†åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¼˜åŒ–äº†å¯è§åº¦ MLP å‚æ•°ï¼Œä»¥å»å™ªä»é¢„è®­ç»ƒ NeRF å¾—å‡ºçš„å¯è§åº¦ï¼Œå¹¶å°†é‡æ–°æ¸²æŸ“æŸå¤±é™è‡³æœ€ä½ã€‚ä¸ºäº†è®¡ç®— NeRF å¯è§åº¦ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ç»„å›ºå®šçš„ 512 ä¸ªå…‰ç…§ä½ç½®ï¼Œå¹¶é¢„å…ˆå®šä¹‰äº†å…‰ç…§åˆ†è¾¨ç‡ï¼ˆç¨åè®¨è®ºï¼‰ã€‚ç»è¿‡ä¼˜åŒ–åï¼Œ$f_{\mathrm{V}}$å¯ä»¥ç”Ÿæˆç©ºé—´ä¸Šå¹³æ»‘ä¸”çœŸå®çš„å…‰çº¿å¯è§åº¦ä¼°è®¡å€¼ï¼Œå¦‚å›¾ 3 (II) å’Œå›¾ 4 (C)æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰€æœ‰å…‰çº¿æ–¹å‘çš„å¹³å‡å¯è§åº¦ï¼ˆå³ç¯å¢ƒé®æŒ¡ï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814143126.png" alt="image.png"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814145248.png" alt="image.png"></p><p>åœ¨å®è·µä¸­ï¼Œ<strong>åœ¨å¯¹æ¨¡å‹è¿›è¡Œå…¨é¢ä¼˜åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹å¯è§åº¦å’Œæ³•çº¿ MLP è¿›è¡Œäº†ç‹¬ç«‹é¢„è®­ç»ƒ</strong>ï¼Œä½¿å…¶ä»…å†ç°æ¥è‡ª NeRF ğœ å·çš„å¯è§åº¦å’Œæ³•çº¿å€¼ï¼Œè€Œæ²¡æœ‰ä»»ä½•å¹³æ»‘åº¦æ­£åˆ™åŒ–æˆ–é‡æ–°æ¸²æŸ“æŸå¤±ã€‚è¿™ä¸ºå¯è§åº¦mapsæä¾›äº†åˆç†çš„åˆå§‹åŒ–ï¼Œä»è€Œé¿å…åç…§ç‡æˆ–åŒå‘åå°„ç‡åˆ†å¸ƒå‡½æ•°ï¼ˆBRDFï¼‰MLP å°†é˜´å½±è¯¯è§£ä¸º â€œæ¶‚æŠ¹åœ¨ â€œåå°„ç‡å˜åŒ–ä¸Šï¼ˆè§è¡¨ 1 å’Œå›¾ S2 ä¸­çš„ â€œw/o geom.ï¼‰</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814141123.png" alt="image.png"></p><h2 id="Reflectance"><a href="#Reflectance" class="headerlink" title="Reflectance"></a>Reflectance</h2><p>æˆ‘ä»¬çš„å®Œæ•´ BRDF æ¨¡å‹ğ‘¹åŒ…æ‹¬ä¸€ä¸ªå®Œå…¨ç”±åç…§ç‡ğ’‚å†³å®šçš„æ¼«åå°„éƒ¨åˆ†ï¼ˆæœ—ä¼¯ï¼‰å’Œä¸€ä¸ªé•œé¢ç©ºé—´å˜åŒ– BRDF$f_\mathrm{r}$ï¼ˆæ ¹æ®å…¥å°„å…‰æ–¹å‘$\omega_{i}$ å’Œå‡ºå°„æ–¹å‘$\omega_{o}$ ï¼Œå®šä¹‰ä¸ºè¡¨é¢ä¸Šçš„ä»»æ„ä½ç½®$x_{\mathrm{surf}}$ ï¼‰ä»çœŸå®ä¸–ç•Œçš„åå°„ç‡ä¸­å­¦ä¹ çš„ï¼š$R(x_{\mathrm{surf}},\omega_{\mathrm{i}},\omega_{\mathrm{o}})=\frac{a(x_{\mathrm{surf}})}{\pi}+f_{\mathrm{r}}\left(x_{\mathrm{surf}},\omega_{\mathrm{i}},\omega_{\mathrm{o}}\right).$</p><p>ç¥ç»æ¸²æŸ“çš„ç°æœ‰æŠ€æœ¯å·²ç»æ¢ç´¢äº†å‚æ•°åŒ–çš„ä½¿ç”¨ã€‚ä½¿ç”¨microfacetæ¨¡å‹ç­‰åˆ†æbrdf [Biç­‰ã€‚2020;Srinivasanç­‰äººã€‚2021]åœ¨ç±»ä¼¼nerfçš„ç¯å¢ƒä¸­ã€‚æˆ‘ä»¬è¿˜å°†åœ¨ç¬¬5.1èŠ‚ä¸­æ¢è®¨NeRFactorçš„â€œåˆ†æBRDFâ€ç‰ˆæœ¬ã€‚å°½ç®¡è¿™äº›åˆ†ææ¨¡å‹ä¸ºä¼˜åŒ–æ¢ç´¢æä¾›äº†æœ‰æ•ˆçš„BRDFå‚æ•°åŒ–ï¼Œä½†æ²¡æœ‰å¯¹å‚æ•°æœ¬èº«æ–½åŠ å…ˆéªŒ:åœ¨microfacetæ¨¡å‹ä¸­å¯è¡¨ç¤ºçš„æ‰€æœ‰ææ–™éƒ½è¢«è®¤ä¸ºæ˜¯åŒç­‰å…ˆéªŒçš„ã€‚æ­¤å¤–ï¼Œä½¿ç”¨æ˜¾å¼åˆ†ææ¨¡å‹é™åˆ¶äº†å¯ä»¥å›æ”¶çš„ææ–™é›†ï¼Œè¿™å¯èƒ½ä¸è¶³ä»¥å¯¹æ‰€æœ‰ç°å®ä¸–ç•Œçš„brdfè¿›è¡Œå»ºæ¨¡ã€‚<br>NeRFactorä¸æ˜¯å‡è®¾ä¸€ä¸ªè§£æBRDFï¼Œè€Œæ˜¯ä»ä¸€ä¸ªå­¦ä¹ åˆ°çš„åå°„å‡½æ•°å¼€å§‹ï¼Œè¯¥å‡½æ•°ç»è¿‡é¢„è®­ç»ƒï¼Œå¯ä»¥å†ç°å¤§é‡çš„ç»éªŒè§‚å¯Ÿåˆ°çš„çœŸå®ä¸–ç•Œçš„BRDFï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å­¦ä¹ è¿™äº›çœŸå®ä¸–ç•ŒBRDFçš„æ½œåœ¨ç©ºé—´ã€‚é€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹ çœŸå®ä¸–ç•Œbrdfçš„æ•°æ®é©±åŠ¨å…ˆéªŒï¼Œä»è€Œé¼“åŠ±ä¼˜åŒ–æ¢å¤åˆç†çš„åå°„å‡½æ•°ã€‚ä½¿ç”¨è¿™æ ·çš„å…ˆéªŒæ˜¯è‡³å…³é‡è¦çš„:å› ä¸ºæˆ‘ä»¬æ‰€æœ‰è§‚å¯Ÿåˆ°çš„å›¾åƒéƒ½æ˜¯åœ¨ä¸€ä¸ª(æœªçŸ¥)ç…§æ˜ä¸‹æ‹æ‘„çš„ï¼Œæˆ‘ä»¬çš„é—®é¢˜æ˜¯é«˜åº¦ç—…æ€çš„ï¼Œæ‰€ä»¥å…ˆéªŒæ˜¯å¿…è¦çš„ï¼Œå¯ä»¥ä»æ‰€æœ‰å¯èƒ½çš„åˆ†è§£é›†åˆä¸­æ¶ˆé™¤æœ€å¯èƒ½çš„åœºæ™¯åˆ†è§£çš„æ­§ä¹‰ã€‚</p><p><strong>Albedo</strong>. æˆ‘ä»¬å°†ä»»ä½•è¡¨é¢ä½ç½®$x_{\mathrm{surf}}$çš„åç…§ç‡ğ’‚å‚æ•°åŒ–ä¸ºä¸€ä¸ª MLP $f_{\mathrm{a}}:x_{\mathrm{surf}}\mapsto a.$ç”±äºæ²¡æœ‰å¯¹åç…§ç‡çš„ç›´æ¥ç›‘ç£ï¼Œè€Œä¸”æˆ‘ä»¬çš„æ¨¡å‹åªèƒ½è§‚å¯Ÿåˆ°ä¸€ç§å…‰ç…§æ¡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ä¾é ç®€å•çš„ç©ºé—´å¹³æ»‘å…ˆéªŒï¼ˆå’Œå…‰ç…§å¯è§åº¦ï¼‰æ¥åŒºåˆ† â€œå«æœ‰é˜´å½±çš„ç™½æ¼†è¡¨é¢ â€œå’Œ â€œé»‘ç™½ç›¸é—´çš„ç™½æ¼†è¡¨é¢ â€œç­‰æƒ…å†µã€‚æ­¤å¤–ï¼Œè§‚æµ‹è§†å›¾çš„é‡å»ºæŸå¤±ä¹Ÿæ˜¯ä¼˜åŒ–$\text{f}_a$ çš„é©±åŠ¨å› ç´ ã€‚åæ˜ è¿™ç§å¹³æ»‘å…ˆéªŒçš„æŸå¤±å‡½æ•°æ˜¯</p><p>$\ell_{\mathrm{a}}=\lambda_{5}\sum_{x_{\mathrm{surf}}}\frac{1}{3}\big\Vert f_{\mathrm{a}}(x_{\mathrm{surf}})-f_{\mathrm{a}}(x_{\mathrm{surf}}+\epsilon)\big\Vert_{1},$</p><p>å…¶ä¸­ï¼Œğ æ˜¯ä¸ä¸Šè¿°å®šä¹‰ç›¸åŒçš„éšæœºä¸‰ç»´æ‰°åŠ¨ï¼Œ$ğœ†_5$ æ˜¯è®¾ç½®ä¸º 0.05 çš„è¶…å‚æ•°ã€‚$\text{f}_a$çš„è¾“å‡ºåœ¨æœ—ä¼¯åå°„ç‡ä¸­ç”¨ä½œåç…§ç‡ï¼Œä½†åœ¨éæ¼«åå°„åˆ†é‡ä¸­ä¸ç”¨ä½œåç…§ç‡ï¼Œ<strong>æˆ‘ä»¬å‡å®šéæ¼«åå°„åˆ†é‡çš„é•œé¢é«˜å…‰é¢œè‰²ä¸ºç™½è‰²</strong>ã€‚æ ¹æ® Ward å’Œ Shakespeare [1998] çš„ç»éªŒï¼Œæˆ‘ä»¬å°†åç…§ç‡é¢„æµ‹å€¼é™åˆ¶åœ¨ [0.03, 0.8]ï¼Œæ–¹æ³•æ˜¯å°†ç½‘ç»œçš„æœ€ç»ˆ sigmoid è¾“å‡ºå€¼ç¼©æ”¾ 0.77ï¼Œç„¶ååŠ ä¸Š 0.03 çš„åå·®ã€‚</p><p><strong>Learning priors from real-world BRDFs</strong>. å¯¹äº BRDF çš„é•œé¢æˆåˆ†ï¼Œæˆ‘ä»¬è¯•å›¾å­¦ä¹ ç°å®ä¸–ç•Œ BRDF çš„æ½œåœ¨ç©ºé—´ï¼Œä»¥åŠå°†æ‰€å­¦ç©ºé—´ $ğ’›_{BRDF}$ ä¸­çš„æ¯ä¸ªæ½œåœ¨ä»£ç è½¬æ¢ä¸ºå®Œæ•´ 4D BRDF çš„é…å¯¹ â€œè§£ç å™¨â€ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ç”Ÿæˆå¼æ½œåœ¨ä¼˜åŒ–ï¼ˆGLOï¼‰æ–¹æ³•[Bojanowski ç­‰äººï¼Œ2018]ï¼Œå…¶ä»–åŸºäºåæ ‡çš„æ¨¡å‹ï¼Œå¦‚ Park ç­‰äºº[2019]å’Œ Martin-Brualla ç­‰äºº[2021]ä¹Ÿæ›¾ä½¿ç”¨è¿‡è¿™ç§æ–¹æ³•ã€‚æˆ‘ä»¬æ¨¡å‹çš„$\text{f}_{r}$éƒ¨åˆ†æ˜¯ä½¿ç”¨ MERL æ•°æ®é›†[Matusik ç­‰äººï¼Œ2003 å¹´]é¢„è®­ç»ƒçš„ã€‚ç”±äº MERL æ•°æ®é›†å‡å®šææ–™å„å‘åŒæ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨ Rusinkiewicz åæ ‡[Rusinkiewicz 1998]$(\phi_{\mathbf{d}},\theta_{\mathbf{h}},\theta_{\mathbf{d}})$ï¼ˆ3 ä¸ªè‡ªç”±åº¦ï¼‰è€Œä¸æ˜¯ $ğ_i$ å’Œ $ğ_o$ï¼ˆ4 ä¸ªè‡ªç”±åº¦ï¼‰å¯¹$ğ’‡_r$ çš„è¾“å…¥å’Œè¾“å‡ºæ–¹å‘è¿›è¡Œå‚æ•°åŒ–ã€‚ç”¨ ğ’ˆ è¡¨ç¤ºè¿™ç§åæ ‡è½¬æ¢ï¼š$g:(n,\omega_{\mathrm{i}},\omega_{0})\mapsto(\phi_{\mathrm{d}},\theta_{\mathrm{h}},\theta_{\mathrm{d}}),$ï¼Œå…¶ä¸­ğ’ æ˜¯è¯¥ç‚¹çš„è¡¨é¢æ³•çº¿ã€‚æˆ‘ä»¬è®­ç»ƒäº†ä¸€ä¸ªå‡½æ•°$f_{\mathrm{r}}^{\prime}$ï¼ˆ$ğ’‡_r$ çš„é‡æ–°å‚æ•°åŒ–ï¼‰ï¼Œè¯¥å‡½æ•°å°†æ½œåœ¨ä»£ç  $ğ’›_{BRDF}$ï¼ˆä»£è¡¨ BRDF ç‰¹æ€§ï¼‰å’Œ Rusinkiewicz åæ ‡$(\phi_{\mathbf{d}},\theta_{\mathbf{h}},\theta_{\mathbf{d}})$çš„ç»„åˆæ˜ å°„åˆ°æ¶ˆè‰²å·®åå°„ç‡ ğ’“ï¼š</p><p>$f_\mathrm{r}â€™:(z_\mathrm{BRDF},(\phi_\mathrm{d},\theta_\mathrm{h},\theta_\mathrm{d}))\mapsto r.$</p><p>ä¸ºäº†è®­ç»ƒè¿™ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬ä¼˜åŒ–äº† MLP çš„æƒé‡å’Œæ½œåœ¨ä»£ç é›† $ğ’›_{BRDF}$ï¼Œä»¥å†ç°ä¸€ç»„çœŸå®ä¸–ç•Œçš„ BRDFã€‚è®¡ç®—é«˜åŠ¨æ€èŒƒå›´ï¼ˆHDRï¼‰åå°„ç‡å€¼å¯¹æ•°çš„ç®€å•å‡æ–¹è¯¯å·®æ¥è®­ç»ƒ$ğ’‡ â€²_{r}$</p><p>ç”±äºæˆ‘ä»¬çš„åå°„ç‡æ¨¡å‹ä¸­çš„<strong>é¢œè‰²éƒ¨åˆ†å‡å®šç”±åç…§ç‡ MLP å¤„ç†</strong>ï¼Œå› æ­¤æˆ‘ä»¬å°† MERL æ•°æ®é›†çš„ RGB åå°„ç‡å€¼è½¬æ¢ä¸ºæ¶ˆè‰²å·®å€¼â€ ï¼Œä»è€Œèˆå¼ƒäº†æ‰€æœ‰é¢œè‰²ä¿¡æ¯ã€‚æ½œåœ¨ BRDF è¯†åˆ«ä»£ç $ğ’›_{BRDF}$ çš„å‚æ•°ä¸ºæ— çº¦æŸä¸‰ç»´å‘é‡ï¼Œåˆå§‹åŒ–ä¸ºæ ‡å‡†åå·®ä¸º 0.01 çš„é›¶å‡å€¼å„å‘åŒæ€§é«˜æ–¯ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰å¯¹ $ğ’›_{BRDF}$ æ–½åŠ ç¨€ç–æ€§æˆ–è§„èŒƒæƒ©ç½šã€‚ç»è¿‡é¢„è®­ç»ƒåï¼ŒBRDF MLP çš„æƒé‡åœ¨æ•´ä¸ªæ¨¡å‹çš„è”åˆä¼˜åŒ–è¿‡ç¨‹ä¸­è¢«å†»ç»“ï¼Œæˆ‘ä»¬é€šè¿‡ä»å¤´å¼€å§‹è®­ç»ƒ BRDF æ ‡è¯† MLPï¼ˆå›¾ 2aï¼‰ï¼Œå¯¹æ¯ä¸ª$x_{\mathrm{surf}}$ åªé¢„æµ‹${z_{\mathrm{BRDF}}}$ï¼š$f_\mathrm{z}:x_\mathrm{surf}\mapsto z_\mathrm{BRDF}.$.è¿™å¯ä»¥çœ‹ä½œæ˜¯é¢„æµ‹çœŸå®ä¸–ç•Œ BRDF çš„å¯ä¿¡ç©ºé—´ä¸­æ‰€æœ‰è¡¨é¢ç‚¹çš„ç©ºé—´å˜åŒ– BRDFã€‚æˆ‘ä»¬å¯¹ BRDF ç‰¹æ€§ MLP è¿›è¡Œä¼˜åŒ–ï¼Œä»¥æœ€å°åŒ–é‡æ–°æ¸²æŸ“æŸå¤±å’Œä¸åç…§ç‡ç›¸åŒçš„ç©ºé—´å¹³æ»‘å…ˆéªŒï¼š<br>$\ell_{z}=\lambda_{6}\sum_{x_{\mathrm{surf}}}\frac{\left|f_{z}(x_{\mathrm{surf}})-f_{z}(x_{\mathrm{surf}}+\epsilon)\right|_{1}}{\dim(z_{\mathrm{BRDF}})},$</p><p>å…¶ä¸­ï¼Œ$ğœ†_6$æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œè®¾ç½®ä¸º 0.01ï¼›$\dim(z_{\mathrm{BRDF}})$è¡¨ç¤º BRDF æ½œåœ¨ä»£ç çš„ç»´æ•°ï¼ˆåœ¨æˆ‘ä»¬çš„å®ç°ä¸­ä¸º 3ï¼Œå› ä¸º MERL æ•°æ®é›†ä¸­åªæœ‰ 100 ç§ææ–™ï¼‰ã€‚æœ€ç»ˆçš„ BRDF æ˜¯æœ—ä¼¯åˆ†é‡ä¸å­¦ä¹ åˆ°çš„éæ¼«åå°„ä¹‹å’Œï¼ˆä¸ºç®€æ´èµ·è§ï¼Œå»æ‰äº†$x_{\mathrm{surf}}$ çš„ä¸‹æ ‡ï¼‰ï¼š</p><p>$R(x,\omega_{\mathrm{i}},\omega_{0})=\frac{f_{\mathrm{a}}(x)}{\pi}+f_{\mathrm{r}}^{\prime}\left(f_{\mathrm{z}}(x),g(f_{\mathrm{n}}(x),\omega_{\mathrm{i}},\omega_{0})\right),$</p><p>å…¶ä¸­é•œé¢é«˜å…‰é¢œè‰²å‡å®šä¸ºç™½è‰²ã€‚</p><h2 id="Lighting"><a href="#Lighting" class="headerlink" title="Lighting"></a>Lighting</h2><p>æˆ‘ä»¬é‡‡ç”¨ä¸€ç§ç®€å•è€Œç›´æ¥çš„ç…§æ˜è¡¨ç¤º:ä¸€å¹…HDRå…‰æ¢æµ‹å›¾åƒ[Debevec 1998]ï¼Œ<strong>é‡‡ç”¨ç»çº¬åº¦æ ¼å¼</strong>ã€‚ä¸çƒé¢è°æ³¢æˆ–çƒé¢é«˜æ–¯æ··åˆç›¸æ¯”ï¼Œè¿™ç§è¡¨ç¤ºå…è®¸æˆ‘ä»¬çš„æ¨¡å‹è¡¨ç¤ºè¯¦ç»†çš„é«˜é¢‘ç…§æ˜ï¼Œå› æ­¤æ”¯æŒç¡¬æŠ•å°„é˜´å½±ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è¿™ç§è¡¨ç¤ºçš„æŒ‘æˆ˜å¾ˆæ˜æ˜¾:å®ƒåŒ…å«å¤§é‡å‚æ•°ï¼Œå¹¶ä¸”æ¯ä¸ªåƒç´ /å‚æ•°éƒ½å¯ä»¥ç‹¬ç«‹äºæ‰€æœ‰å…¶ä»–åƒç´ è€Œå˜åŒ–ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ä½¿ç”¨å…‰å¯è§æ€§MLPæ¥æ”¹å–„ï¼Œå®ƒå…è®¸æˆ‘ä»¬å¿«é€Ÿè¯„ä¼°ä¸€ä¸ªè¡¨é¢ç‚¹å¯¹å…‰æ¢å¤´æ‰€æœ‰åƒç´ çš„å¯è§æ€§ã€‚ä»ç»éªŒä¸Šè®²ï¼Œæˆ‘ä»¬åœ¨ç…§æ˜ç¯å¢ƒä¸­ä½¿ç”¨16Ã—32åˆ†è¾¨ç‡ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æœŸæœ›æ¢å¤è¶…å‡ºè¯¥åˆ†è¾¨ç‡çš„é«˜é¢‘å†…å®¹(ç…§æ˜è¢«ç‰©ä½“çš„BRDFsæœ‰æ•ˆåœ°ä½é€šè¿‡æ»¤[Ramamoorthiå’ŒHanrahan 2001]ï¼Œè€Œä¸”æˆ‘ä»¬çš„ç‰©ä½“æ²¡æœ‰å…‰æ³½æˆ–é•œé¢ä¸€æ ·)ã€‚</p><p>ä¸ºäº†ä½¿å…‰ç…§æ›´åŠ å¹³æ»‘ï¼Œæˆ‘ä»¬åœ¨å…‰æ¢é’ˆğ‘³ çš„åƒç´ ç‚¹ä¸Šæ²¿æ°´å¹³å’Œå‚ç›´ä¸¤ä¸ªæ–¹å‘åº”ç”¨äº†ç®€å•çš„$\ell^{2}$æ¢¯åº¦æƒ©ç½šï¼š<br>$\ell_{\mathrm{i}}=\lambda_{7}\left(\left|\begin{bmatrix}-1&amp;&amp;1\end{bmatrix}<em>L\right|_{2}^{2}+\left|\begin{bmatrix}-1\\1\end{bmatrix}</em>L\right|_{2}^{2}\right),$</p><p>å…¶ä¸­ï¼Œâˆ— è¡¨ç¤ºå·ç§¯ç®—å­ï¼Œ$ğœ†_7$ æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œè®¾ç½®ä¸º $5 Ã— 10^{-6}$ï¼ˆè€ƒè™‘åˆ°æœ‰ 512 ä¸ªåƒç´ å…·æœ‰ HDR å€¼ï¼‰ã€‚åœ¨è”åˆä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œè¿™äº›æ¢æµ‹åƒç´ ä¼šç›´æ¥æ ¹æ®æœ€ç»ˆé‡å»ºæŸå¤±å’Œæ¢¯åº¦æƒ©ç½šè¿›è¡Œæ›´æ–°ã€‚</p><h2 id="Rendering"><a href="#Rendering" class="headerlink" title="Rendering"></a>Rendering</h2><p>é‰´äºæ¯ä¸ªç‚¹ $ğ’™_{surf}$ çš„è¡¨é¢æ³•çº¿ã€æ‰€æœ‰å…‰ç…§æ–¹å‘çš„å¯è§åº¦ã€åç…§ç‡å’Œ BRDF ä»¥åŠä¼°è®¡çš„å…‰ç…§ï¼Œæœ€ç»ˆåŸºäºç‰©ç†çš„ä¸å¯å­¦ä¹ æ¸²æŸ“å™¨ä¼šæ¸²æŸ“ä¸€å¹…å›¾åƒï¼Œç„¶åå°†å…¶ä¸è§‚æµ‹å›¾åƒè¿›è¡Œæ¯”è¾ƒã€‚æ¸²æŸ“å›¾åƒä¸­çš„è¯¯å·®ä¼šåå‘ä¼ æ’­ï¼Œä½†ä¸åŒ…æ‹¬é¢„è®­ç»ƒ NeRF çš„ğœ-volumeï¼Œä»è€Œæ¨åŠ¨è¡¨é¢æ³•çº¿ã€å…‰èƒ½è§åº¦ã€åç…§ç‡ã€BRDF å’Œå…‰ç…§çš„è”åˆä¼°è®¡ã€‚</p><p>é‰´äºé—®é¢˜çš„ä¸ç¡®å®šæ€§ï¼ˆä¸»è¦æ˜¯ç”±äºæˆ‘ä»¬åªè§‚æµ‹åˆ°ä¸€ç§æœªçŸ¥å…‰ç…§ï¼‰ï¼Œæˆ‘ä»¬é¢„è®¡å¤§éƒ¨åˆ†æœ‰ç”¨ä¿¡æ¯å°†æ¥è‡ªç›´æ¥å…‰ç…§è€Œéå…¨å±€å…‰ç…§ï¼Œå› æ­¤åªè€ƒè™‘å•è·³single-bounceç›´æ¥å…‰ç…§ï¼ˆå³ä»å…‰æºåˆ°ç‰©ä½“è¡¨é¢å†åˆ°æ‘„åƒæœºï¼‰ã€‚è¿™ä¸€å‡è®¾ä¹Ÿé™ä½äº†è¯„ä¼°æ¨¡å‹çš„è®¡ç®—æˆæœ¬ã€‚åœ¨æ•°å­¦ä¸Šï¼Œæˆ‘ä»¬è®¾ç½®çš„æ¸²æŸ“æ–¹ç¨‹ä¸ºï¼ˆä¸ºç®€æ´èµ·è§ï¼Œå†æ¬¡å»æ‰$ğ’™_{surf}$çš„ä¸‹æ ‡ï¼‰ï¼š</p><script type="math/tex; mode=display">\begin{aligned}L_{0}(x,\omega_{0})=\int_{\Omega}R(x,\omega_{1},\omega_{0})L_{1}(x,\omega_{1})\big(\omega_{1}\cdot n(x)\big)d\omega_{1} \\=\sum_{\omega_{\mathrm{i}}}R(x,\omega_{\mathrm{i}},\omega_{\mathrm{0}})L_{\mathrm{i}}(x,\omega_{\mathrm{i}})\big(\omega_{\mathrm{i}}\cdot f_{\mathrm{n}}(x)\big)\Delta\omega_{\mathrm{i}}=\sum_{\omega_{\mathrm{i}}}\bigg(\frac{f_{\mathrm{a}}(x)}{\pi}+ \\f_{\mathrm{r}}^{\prime}\Big(f_{z}(x),g\big(f_{\mathrm{n}}(x),\omega_{\mathrm{i}},\omega_{0}\big)\Big)\Big)L_{\mathrm{i}}(x,\omega_{\mathrm{i}})\big(\omega_{\mathrm{i}}\cdot f_{\mathrm{n}}(x)\big)\Delta\omega_{\mathrm{i}},\end{aligned}</script><p>å…¶ä¸­ï¼Œ$ğ‘³_o (ğ’™, ğ_{o})$æ˜¯ä»ğ’™ çœ‹$ğ_{o}$çš„å‡ºå°„è¾å°„åº¦ï¼Œ$ğ‘³_i (ğ’™, ğ_{i})$æ˜¯å…¥å°„è¾å°„åº¦ï¼Œè¢«å¯è§åº¦ $f_{\mathbf{v}}(x,\omega_{\mathbf{i}}),$é®æŒ¡ã€æ²¿$ğ_{i}$ ç›´æ¥åˆ°è¾¾ğ’™ çš„å…‰æ¢æµ‹åƒç´ ï¼ˆå› ä¸ºæˆ‘ä»¬åªè€ƒè™‘å•è·³ç›´æ¥ç…§å°„ï¼‰ï¼Œ$\Delta\omega_{\mathrm{i}}$æ˜¯åœ¨$\omega_{\mathrm{i}}$å¤„ä¸ç…§æ˜æ ·æœ¬ç›¸å¯¹åº”çš„å®ä½“è§’ã€‚</p><p>æœ€ç»ˆçš„é‡å»ºæŸå¤± $â„“_{recon}$ åªæ˜¯æ¸²æŸ“å›¾åƒä¸è§‚å¯Ÿå›¾åƒä¹‹é—´çš„å‡æ–¹è¯¯å·®ï¼ˆæƒé‡ä¸ºå•ä½ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„å®Œæ•´æŸå¤±å‡½æ•°æ˜¯ä¹‹å‰å®šä¹‰çš„æ‰€æœ‰æŸå¤±çš„æ€»å’Œï¼š$\ell_\mathrm{recon}+\ell_\mathrm{n}+\ell_\mathrm{v}+\ell_\mathrm{a}+\ell_\mathrm{z}+\ell_\mathrm{i}.$</p><h1 id="RESULTS-amp-APPLICATIONS"><a href="#RESULTS-amp-APPLICATIONS" class="headerlink" title="RESULTS &amp; APPLICATIONS"></a>RESULTS &amp; APPLICATIONS</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å±•ç¤º<br>I) NeRFactorå®ç°çš„é«˜è´¨é‡å‡ ä½•å›¾å½¢ï¼Œ<br>II) NeRFactorè”åˆä¼°è®¡å½¢çŠ¶ã€åå°„ç‡å’Œç…§æ˜çš„èƒ½åŠ›ï¼Œ<br>III)ä½¿ç”¨å•ç‚¹å…‰æˆ–ä»»æ„å…‰æ¢é’ˆ(å›¾5å’Œå›¾6)å®ç°è‡ªç”±è§†ç‚¹é‡ç…§æ˜çš„åº”ç”¨ï¼Œ<br>IV)ä½¿ç”¨MVSè€Œä¸æ˜¯NeRFè¿›è¡Œå½¢çŠ¶åˆå§‹åŒ–æ—¶NeRFactorçš„æ€§èƒ½ã€‚<br>æœ€åæ˜¯ææ–™ç¼–è¾‘çš„åº”ç”¨(å›¾8)ã€‚å‚è§é™„å½•çš„Béƒ¨åˆ†ï¼Œäº†è§£åœ¨è¿™é¡¹å·¥ä½œä¸­ä½¿ç”¨çš„å„ç§ç±»å‹çš„æ•°æ®æ˜¯å¦‚ä½•å‘ˆç°ã€æ•è·æˆ–æ”¶é›†çš„</p><h2 id="Shape-Optimization"><a href="#Shape-Optimization" class="headerlink" title="Shape Optimization"></a>Shape Optimization</h2><p>NeRFactorä»¥è¡¨é¢ç‚¹åŠå…¶ç›¸å…³è¡¨é¢æ³•çº¿çš„å½¢å¼è”åˆä¼°è®¡ç‰©ä½“çš„å½¢çŠ¶ï¼Œä»¥åŠå®ƒä»¬å¯¹æ¯ä¸ªå…‰ä½ç½®çš„å¯è§æ€§ã€‚å›¾3æ˜¾ç¤ºäº†è¿™äº›å‡ ä½•å±æ€§ã€‚ä¸ºäº†å¯è§†åŒ–å…‰çš„å¯è§æ€§ï¼Œæˆ‘ä»¬å–16Ã—32å…‰æ¢æµ‹å™¨æ¯ä¸ªåƒç´ å¯¹åº”çš„512å¹…å¯è§æ€§å›¾çš„é€åƒç´ å¹³å‡å€¼ï¼Œå¹¶å°†è¯¥å¹³å‡å›¾(å³ç¯å¢ƒé®æŒ¡)å¯è§†åŒ–ä¸ºç°åº¦å›¾åƒã€‚å‚è§è¡¥å……è§†é¢‘çš„ç”µå½±çš„æ¯å…‰èƒ½è§åº¦åœ°å›¾(å³ï¼Œé˜´å½±åœ°å›¾)ã€‚å¦‚å›¾3æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„è¡¨é¢æ³•çº¿å’Œå…‰çº¿å¯è§åº¦æ˜¯å…‰æ»‘çš„ï¼Œä¸åœ°é¢çœŸå®æƒ…å†µç›¸ä¼¼ï¼Œè¿™è¦å½’åŠŸäºè”åˆä¼°è®¡è¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹æœ€å¤§é™åº¦åœ°å‡å°‘äº†é‡æ¸²æŸ“é”™è¯¯ï¼Œå¹¶é¼“åŠ±ç©ºé—´å¹³æ»‘ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814143126.png" alt="image.png"></p><p>å¦‚æœæˆ‘ä»¬æ¶ˆé™¤ç©ºé—´å¹³æ»‘æ€§çº¦æŸï¼Œåªä¾èµ–äºé‡æ–°æ¸²æŸ“æŸå¤±ï¼Œæˆ‘ä»¬æœ€ç»ˆä¼šå¾—åˆ°ä¸è¶³ä»¥æ¸²æŸ“çš„å˜ˆæ‚å‡ ä½•ã€‚è™½ç„¶è¿™äº›å‡ ä½•å¼•èµ·çš„ä¼ªå½±å¯èƒ½ä¸ä¼šåœ¨ä½é¢‘ç…§æ˜ä¸‹å‡ºç°ï¼Œä½†æ¶åŠ£çš„ç…§æ˜æ¡ä»¶(å¦‚æ²¡æœ‰ç¯å¢ƒç…§æ˜çš„å•ç‚¹å…‰ï¼Œå³ä¸€æ¬¡ä¸€ç¯[OLAT])ä¼šæ˜¾ç¤ºå®ƒä»¬ï¼Œå¦‚è¡¥å……è§†é¢‘ä¸­æ‰€ç¤ºã€‚ä¹Ÿè®¸ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œå³ä½¿å½“æˆ‘ä»¬çš„å¹³æ»‘é™åˆ¶è¢«ç¦ç”¨æ—¶ï¼ŒNeRFactorä¼°è®¡çš„å‡ ä½•ä½“ä»ç„¶æ˜æ˜¾æ¯”åŸå§‹çš„NeRFå‡ ä½•ä½“å°‘å™ªå£°(æ¯”è¾ƒå›¾3çš„[A]å’Œ[B]ï¼Œè§è¡¨1çš„[I])ï¼Œå› ä¸ºé‡æ¸²æŸ“æŸå¤±é¼“åŠ±æ›´å¹³æ»‘çš„å‡ ä½•ä½“ã€‚å‚è§5.1èŠ‚äº†è§£æ›´å¤šç»†èŠ‚ã€‚</p><h2 id="Joint-Estimation-of-Shape-Reflectance-amp-Lighting"><a href="#Joint-Estimation-of-Shape-Reflectance-amp-Lighting" class="headerlink" title="Joint Estimation of Shape, Reflectance, &amp; Lighting"></a>Joint Estimation of Shape, Reflectance, &amp; Lighting</h2><p>åœ¨è¿™ä¸ªå®éªŒä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†NeRFactorå¦‚ä½•å°†å¤–è§‚åˆ†è§£ä¸ºå…·æœ‰å¤æ‚å‡ ä½•å’Œ/æˆ–åå°„ç‡çš„åœºæ™¯çš„å½¢çŠ¶ï¼Œåå°„ç‡å’Œç…§æ˜ã€‚</p><p>åœ¨å¯¹åç…§ç‡è¿›è¡Œè§†è§‰åŒ–æ—¶ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å›ºæœ‰å›¾åƒæ–‡çŒ®æ‰€ä½¿ç”¨çš„æƒ¯ä¾‹ï¼Œ<strong>å³å‡è®¾åç…§ç‡å’Œé˜´å½±çš„ç»å¯¹äº®åº¦æ˜¯ä¸å¯æ¢å¤çš„</strong>[Land and McCann 1971]ï¼Œæ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜<strong>å‡è®¾é¢œè‰²æ’å®šé—®é¢˜</strong>(è§£å†³å…‰æºå¹³å‡é¢œè‰²å’Œåç…§ç‡å¹³å‡é¢œè‰²ä¹‹é—´çš„æ¨¡ç³Šé—®é¢˜çš„å…¨å±€é¢œè‰²æ ¡æ­£[Buchsbaum 1980])ä¹Ÿä¸åœ¨è€ƒè™‘èŒƒå›´ä¹‹å†…ã€‚<br>æ ¹æ®è¿™ä¸¤ä¸ªå‡è®¾ï¼Œæˆ‘ä»¬å°†é¢„æµ‹çš„åç…§ç‡å¯è§†åŒ–ï¼Œå¹¶æµ‹é‡å…¶ç²¾åº¦ï¼Œæ–¹æ³•æ˜¯é¦–å…ˆç”¨ä¸€ä¸ªå·²è¯†åˆ«çš„å…¨å±€æ ‡é‡å¯¹æ¯ä¸ªRGBé€šé“è¿›è¡Œç¼©æ”¾ï¼Œä»¥ä¾¿æœ€å°åŒ–ä¸çœŸå®åç…§ç‡ç›¸æ¯”çš„å‡æ–¹è¯¯å·®(mean squared error)ï¼Œæ­£å¦‚Barronå’ŒMalik[2014]æ‰€åšçš„é‚£æ ·ã€‚é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™æ‰€æœ‰åˆæˆåœºæ™¯çš„åç…§ç‡é¢„æµ‹éƒ½ä»¥è¿™ç§æ–¹å¼è¿›è¡Œæ ¡æ­£ï¼Œå¹¶ä¸”æˆ‘ä»¬åº”ç”¨ä¼½é©¬æ ¡æ­£($\gamma$= 2.2)åœ¨å›¾ä¸­æ­£ç¡®åœ°æ˜¾ç¤ºå®ƒä»¬ã€‚æˆ‘ä»¬ä¼°è®¡çš„å…‰æ¢å¤´æ²¡æœ‰æŒ‰è¿™ç§æ–¹å¼è¿›è¡Œç¼©æ”¾(å› ä¸ºç…§æ˜ä¼°è®¡ä¸æ˜¯è¿™é¡¹å·¥ä½œçš„ä¸»è¦ç›®æ ‡)ï¼Œå¹¶ä¸”é€šè¿‡ç®€å•åœ°å°†æ‰€æœ‰RGBé€šé“çš„æœ€å¤§å¼ºåº¦ç¼©æ”¾ä¸º1ï¼Œç„¶ååº”ç”¨ä¼½é©¬æ ¡æ­£($\gamma$= 2.2)ã€‚</p><p>å¦‚å›¾4 (B)æ‰€ç¤ºï¼ŒNeRFactoré¢„æµ‹çš„é«˜è´¨é‡å’Œå…‰æ»‘çš„è¡¨é¢æ³•çº¿æ¥è¿‘åœ°é¢çœŸç›¸ï¼Œä½†åœ¨å…·æœ‰é«˜é¢‘ç»†èŠ‚çš„åŒºåŸŸ(å¦‚çƒ­ç‹—é¢åŒ…çš„å‡¹å‡¸ä¸å¹³çš„è¡¨é¢)é™¤å¤–ã€‚åœ¨é¼“ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°NeRFactoræˆåŠŸåœ°é‡å»ºäº†ç²¾ç»†çš„ç»†èŠ‚ï¼Œå¦‚é’¹ä¸­å¿ƒçš„èºä¸å’Œé¼“ä¾§é¢çš„é‡‘å±è¾¹ç¼˜ã€‚å¯¹äºæ¦•æ ‘ï¼ŒNeRFactorå¯ä»¥æ¢å¤å¤æ‚çš„å¶ç‰‡å‡ ä½•å½¢çŠ¶ã€‚ç¯å¢ƒé®æŒ¡è´´å›¾ä¹Ÿæ­£ç¡®åœ°æç»˜äº†åœºæ™¯ä¸­æ¯ä¸ªç‚¹å¯¹ç¯å…‰çš„å¹³å‡æ›å…‰ã€‚åç…§ç‡çš„æ¢å¤å¹²å‡€ï¼Œå‡ ä¹æ²¡æœ‰ä»»ä½•é˜´å½±æˆ–é˜´å½±ç»†èŠ‚ä¸å‡†ç¡®åœ°å½’å› äºåç…§ç‡å˜åŒ–;è¯·æ³¨æ„ï¼Œåœ¨åç…§ç‡é¢„æµ‹ä¸­ï¼Œé¼“ä¸Šçš„é˜´å½±æ˜¯å¦‚ä½•ç¼ºå¤±çš„ã€‚æ­¤å¤–ï¼Œé¢„æµ‹çš„å…‰æ¢å¤´æ­£ç¡®åœ°åæ˜ äº†ä¸»å…‰æºå’Œè“å¤©çš„ä½ç½®([I]ä¸­çš„è“è‰²åƒç´ )ã€‚åœ¨è¿™ä¸‰ä¸ªåœºæ™¯ä¸­ï¼Œé¢„æµ‹çš„BRDFéƒ½æ˜¯ç©ºé—´å˜åŒ–çš„ï¼Œæ­£ç¡®åæ˜ äº†åœºæ™¯çš„ä¸åŒéƒ¨åˆ†å…·æœ‰ä¸åŒçš„ææ–™ï¼Œå¦‚(E)ä¸­ä¸åŒçš„BRDFæ½œç æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814145248.png" alt="image.png"></p><p>è€Œä¸æ˜¯ç”¨æ›´å¤æ‚çš„è¡¨ç¤º(å¦‚çƒé¢è°æ³¢)æ¥è¡¨ç¤ºç…§æ˜ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªç›´æ¥çš„è¡¨ç¤º:ä¸€ä¸ªçº¬åº¦-ç»åº¦å›¾ï¼Œå…¶åƒç´ æ˜¯HDRå¼ºåº¦ã€‚ç”±äºå…‰ç…§åœ¨é€‚åº¦æ¼«å°„çš„BRDFåå°„æ—¶è¢«ä½é€šæ»¤æ³¢å™¨æœ‰æ•ˆåœ°å·ç§¯[Ramamoorthi and Hanrahan 2001]ï¼Œæˆ‘ä»¬ä¸æœŸæœ›ä»¥é«˜äº16 Ã— 32çš„åˆ†è¾¨ç‡æ¢å¤å…‰ç…§ã€‚å¦‚å›¾4 (I)æ‰€ç¤ºï¼ŒNeRFactorä¼°è®¡äº†ä¸€ä¸ªå…‰æ¢æµ‹å™¨ï¼Œå®ƒæ­£ç¡®åœ°æ•è·äº†æœ€å·¦è¾¹çš„æ˜äº®å…‰æºå’Œè“å¤©ã€‚åŒæ ·ï¼Œåœ¨å›¾4 (II)ä¸­ï¼Œä¸»å…‰æºçš„ä½ç½®ä¹Ÿå¾—åˆ°äº†æ­£ç¡®çš„ä¼°è®¡(å·¦è¾¹æ˜äº®çš„ç™½è‰²æ–‘ç‚¹)ã€‚</p><h2 id="Free-Viewpoint-Relighting"><a href="#Free-Viewpoint-Relighting" class="headerlink" title="Free-Viewpoint Relighting"></a>Free-Viewpoint Relighting</h2><p>NeRFactorä¼°è®¡3Dåœºçš„å½¢çŠ¶å’Œåå°„ç‡ï¼Œä»è€Œå®ç°åŒæ­¥é‡å…‰ç…§å’Œè§†å›¾åˆæˆã€‚å› æ­¤ï¼Œæœ¬æ–‡æ˜¾ç¤ºçš„æ‰€æœ‰é‡å…‰ç…§ç»“æœå’Œè¡¥å……è§†é¢‘éƒ½æ˜¯ä»æ–°çš„è§’åº¦å‘ˆç°çš„ã€‚ä¸ºäº†æ¢æµ‹NeRFactorçš„æé™ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†è‹›åˆ»çš„æµ‹è¯•ç…§æ˜æ¡ä»¶ï¼Œå³ä¸€æ¬¡åªæ‰“å¼€ä¸€ä¸ªç‚¹ç¯(OLAT)ï¼Œæ²¡æœ‰ç¯å¢ƒç…§æ˜ã€‚è¿™äº›æµ‹è¯•ç…§æ˜è¯±å¯¼ç¡¬æŠ•å°„é˜´å½±ï¼Œè¿™æœ‰æ•ˆåœ°æš´éœ²äº†ç”±äºä¸å‡†ç¡®çš„å‡ ä½•æˆ–ææ–™å¯¼è‡´çš„æ¸²æŸ“ä¼ªå½±ã€‚å‡ºäºå¯è§†åŒ–çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†relitç»“æœ(ä½¿ç”¨NeRFçš„é¢„æµ‹ä¸é€æ˜åº¦æˆ–MVSçš„ç½‘æ ¼è½®å»“)åˆæˆåˆ°èƒŒæ™¯ä¸Šï¼ŒèƒŒæ™¯çš„é¢œè‰²æ˜¯å…‰æ¢é’ˆä¸ŠåŠéƒ¨åˆ†çš„å¹³å‡å€¼</p><p>å¦‚å›¾5 (II)æ‰€ç¤ºï¼ŒNeRFactoråˆæˆäº†åœ¨ä¸‰ç§æµ‹è¯•OLATæ¡ä»¶ä¸‹çƒ­ç‹—æŠ•å°„çš„æ­£ç¡®ç¡¬é˜´å½±ã€‚NeRFactorè¿˜ä¼šåœ¨OLATæ¡ä»¶(I)ä¸‹ç”Ÿæˆé€¼çœŸçš„æ¦•æ ‘æ¸²æŸ“å›¾ï¼Œç‰¹åˆ«æ˜¯å½“(D)ä¸­çš„ç‚¹å…‰æºèƒŒå…‰ç…§å°„æ¦•æ ‘æ—¶ã€‚æ³¨æ„ï¼Œ(D)ä¸­çš„ground truthçœ‹èµ·æ¥æ¯”NeRFactorçš„ç»“æœæ›´äº®ï¼Œå› ä¸ºNeRFactoråªæ¨¡æ‹Ÿç›´æ¥å…‰ç…§ï¼Œè€Œground truthå›¾åƒæ˜¯ç”¨å…¨å±€å…‰ç…§æ¸²æŸ“çš„ã€‚å½“æˆ‘ä»¬ç”¨ä¸¤ä¸ªæ–°çš„å…‰æ¢é’ˆé‡æ–°ç…§äº®ç‰©ä½“æ—¶ï¼Œåœ¨çƒ­å¯¼æ¿ä¸Šåˆæˆäº†é€¼çœŸçš„æŸ”å’Œé˜´å½±(II)ã€‚åœ¨æ— èŠ±æœä¸­ï¼ŒèŠ±ç“¶ä¸Šçš„é•œé¢æ­£ç¡®åœ°åå°„äº†ä¸¤ä¸ªæµ‹è¯•æ¢é’ˆä¸­çš„ä¸»å…‰æºã€‚åœ¨(F)ä¸­ï¼Œæ ‘å¶ä¹Ÿè¡¨ç°å‡ºæ¥è¿‘åœ°é¢çœŸå€¼çš„çœŸå®é•œé¢é«˜å…‰ã€‚åœ¨é¼“(III)ä¸­ï¼Œé’¹è¢«æ­£ç¡®åœ°ä¼°è®¡ä¸ºé•œé¢é«˜å…‰ï¼Œå¹¶è¡¨ç°å‡ºçœŸå®åå°„ï¼Œå°½ç®¡ä¸åœ°é¢çœŸå€¼å„å‘å¼‚æ€§åå°„(D)ä¸åŒã€‚è¿™æ˜¯é¢„æœŸçš„ï¼Œå› ä¸ºæ‰€æœ‰MERL brdféƒ½æ˜¯å„å‘åŒæ€§çš„[Matusikç­‰äººï¼Œ2003]ã€‚å°½ç®¡NeRFactoræ— æ³•è§£é‡Šè¿™äº›å„å‘å¼‚æ€§åå°„ï¼Œä½†å®ƒæ­£ç¡®åœ°å°†å®ƒä»¬æ’é™¤åœ¨åç…§ç‡ä¹‹å¤–ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬è§£é‡Šä¸ºåç…§ç‡æ¶‚æ–™ï¼Œå› ä¸ºè¿™æ ·åšä¼šè¿ååç…§ç‡å¹³æ»‘çº¦æŸï¼Œå¹¶ä¸é‚£äº›åå°„çš„è§†å›¾ä¾èµ–æ€§ç›¸çŸ›ç›¾ã€‚åœ¨legoä¸­ï¼Œé’ˆå¯¹OLATæµ‹è¯•æ¡ä»¶(IV)ï¼Œä½¿ç”¨NeRFactoråˆæˆäº†é€¼çœŸçš„ç¡¬é˜´å½±ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814161008.png" alt="image.png"></p><p><strong>Relighting real scenes</strong><br>æˆ‘ä»¬å°†NeRFactoråº”ç”¨äºMildenhallç­‰äºº[2020]æ•è·çš„ä¸¤ä¸ªçœŸå®åœºæ™¯ï¼ŒèŠ±ç“¶å’Œæ¾æœvasedeck and pineconeã€‚è¿™äº›æ•è·ç‰¹åˆ«é€‚åˆNeRFactor:æ¯ä¸ªåœºæ™¯æœ‰å¤§çº¦100ä¸ªç”±æœªçŸ¥ç¯å¢ƒç…§æ˜çš„å¤šè§†å›¾å›¾åƒã€‚ä¸NeRFä¸€æ ·ï¼Œæˆ‘ä»¬è¿è¡ŒCOLMAP Structure From Motion (SFM) [SchÃ¶nberger and Frahm 2016]æ¥è·å–æ¯ä¸ªè§†å›¾çš„ç›¸æœºå†…å‚å’Œå¤–å‚ã€‚ç„¶åï¼Œæˆ‘ä»¬è®­ç»ƒä¸€ä¸ªvanilla NeRFæ¥è·å¾—åˆå§‹å½¢çŠ¶ä¼°è®¡ï¼Œæˆ‘ä»¬å°†å…¶æå–åˆ°NeRFactorä¸­ï¼Œå¹¶ä¸åå°„ç‡å’Œç…§åº¦ä¸€èµ·è¿›è¡Œä¼˜åŒ–ã€‚å¦‚å›¾6 (I)æ‰€ç¤ºï¼Œå¤–è§‚è¢«åˆ†è§£ä¸ºè¡¨é¢æ³•çº¿ã€å…‰èƒ½è§åº¦ã€åç…§ç‡å’Œç©ºé—´å˜åŒ–çš„BRDFæ½œç çš„ç…§æ˜å’Œ3Dåœºï¼Œå®ƒä»¬å…±åŒè§£é‡Šäº†è§‚æµ‹åˆ°çš„è§†å›¾ã€‚é€šè¿‡è¿™ç§åˆ†è§£ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨æ–°çš„ä»»æ„å…‰æ¢é’ˆæ›¿æ¢ä¼°è®¡çš„ç…§åº¦æ¥é‡æ–°ç…§äº®åœºæ™¯(å›¾6 [II])ã€‚å› ä¸ºæˆ‘ä»¬çš„åˆ†è§£æ˜¯å®Œå…¨3Dçš„ï¼Œæ‰€ä»¥æ‰€æœ‰çš„ä¸­é—´ç¼“å†²éƒ½å¯ä»¥ä»ä»»ä½•è§†ç‚¹æ¸²æŸ“ï¼Œå¹¶ä¸”æ˜¾ç¤ºçš„é‡ç…§æ˜ç»“æœä¹Ÿæ¥è‡ªæ–°çš„è§†ç‚¹ã€‚è¯·æ³¨æ„ï¼Œå°†è¿™äº›çœŸå®åœºæ™¯ç»‘å®šåœ¨3Dç›’å­ä¸­ï¼Œä»¥é¿å…é¥è¿œçš„å‡ ä½•å½¢çŠ¶é˜»æŒ¡æŸäº›æ–¹å‘çš„å…‰çº¿ï¼Œå¹¶åœ¨é‡ç…§æ˜æ—¶æŠ•ä¸‹é˜´å½±ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814161454.png" alt="image.png"></p><h2 id="Shape-Initialization-Using-Multi-View-Stereo"><a href="#Shape-Initialization-Using-Multi-View-Stereo" class="headerlink" title="Shape Initialization Using Multi-View Stereo"></a>Shape Initialization Using Multi-View Stereo</h2><p>æˆ‘ä»¬å·²ç»æ¼”ç¤ºäº†NeRFactorå¦‚ä½•ä½¿ç”¨ä»NeRFä¸­æå–çš„å‡ ä½•å›¾å½¢ä½œä¸ºåˆå§‹åŒ–ï¼Œå¹¶åœ¨å°†åå°„ç‡å’Œå…‰ç…§è”åˆåˆ†è§£çš„åŒæ—¶ç»§ç»­ç»†åŒ–è¯¥å‡ ä½•å›¾å½¢ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ¢è®¨NeRFactoræ˜¯å¦å¯ä»¥ä¸å…¶ä»–å½¢çŠ¶åˆå§‹åŒ–(å¦‚MVS)ä¸€èµ·å·¥ä½œã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬è€ƒè™‘DTU-MVSæ•°æ®é›†[Jensenç­‰äººã€‚2014;AanÃ¦sç­‰ã€‚2016]ä¸ºæ¯ä¸ªåœºæ™¯æä¾›å¤§çº¦50ä¸ªå¤šè§†å›¾å›¾åƒ(ä»¥åŠç›¸åº”çš„ç›¸æœºå§¿åŠ¿)ã€‚æˆ‘ä»¬ç”¨æ³Šæ¾é‡æ„[Kazhdanç­‰äºº]åˆå§‹åŒ–NeRFactorçš„å½¢çŠ¶ã€‚Furukawaå’ŒPonce[2009]é‡å»ºçš„MVSã€‚æœ‰å…³è¿™äº›æ•°æ®çš„æ›´å¤šç»†èŠ‚ï¼Œè¯·å‚é˜…é™„å½•Béƒ¨åˆ†ã€‚<strong>è¿™ä¸ªå®éªŒä¸ä»…æ¢ç´¢äº†å½¢çŠ¶åˆå§‹åŒ–çš„å¦ä¸€ç§å¯èƒ½æ€§ï¼Œè€Œä¸”è¿˜æ¢ç´¢äº†NeRFactorè¯„ä¼°çš„çœŸå®å›¾åƒçš„å¦ä¸€ä¸ªæ¥æº</strong>ã€‚</p><p>NeRFactorå®ç°é«˜è´¨é‡çš„å½¢çŠ¶ä¼°è®¡æ—¶ï¼Œä»MVSå‡ ä½•è€Œä¸æ˜¯NeRFå‡ ä½•å¼€å§‹ã€‚å¦‚å›¾7 (A, B)æ‰€ç¤ºï¼ŒNeRFactorä¼°ç®—çš„è¡¨é¢æ³•çº¿å’Œå…‰å¯è§åº¦æ²¡æœ‰MVSæ‰€é­å—çš„å™ªå£°ï¼ŒåŒæ—¶å…·æœ‰è¶³å¤Ÿçš„å‡ ä½•ç»†èŠ‚ã€‚é€šè¿‡è¿™äº›é«˜è´¨é‡çš„å‡ ä½•ä¼°è®¡ï¼ŒNeRFactorå®ç°äº†ä¸æœ€è¿‘é‚»è¾“å…¥å›¾åƒç›¸ä¼¼çš„é€¼çœŸè§†å›¾åˆæˆç»“æœ(å›¾7 [C])ã€‚scan110çš„å‘å…‰ææ–™ç¡®å®æœ‰åŠ©äºæ¢å¤é«˜é¢‘ç…§æ˜æ¡ä»¶(æ¯”è¾ƒåœ¨[C]ä¸­æ¢å¤çš„ä¸¤ç§ç…§æ˜æ¡ä»¶)ã€‚ç„¶åï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ä»è¿™ä¸ªæ–°é¢–çš„è§†è§’ï¼Œç”¨ä¸¤ä¸ªæ–°é¢–çš„å…‰æ¢å¤´é‡æ–°ç…§äº®åœºæ™¯ï¼Œå¦‚å›¾(D, E)æ‰€ç¤ºã€‚é™¤äº†é€¼çœŸçš„é•œé¢é«˜å…‰å¤–ï¼Œè¿˜è¦æ³¨æ„(D)ä¸­ç”±NeRFactoråˆæˆçš„é˜´å½±ï¼Œè¿™è¦å½’åŠŸäºå®ƒçš„å¯è§æ€§å»ºæ¨¡ã€‚è¯·æ³¨æ„ï¼ŒNeRFactoré€‰æ‹©ç”¨ç™½è‰²åç…§ç‡å’Œé‡‘è‰²ç…§æ˜æ¥è§£é‡Šscan110(è€Œä¸æ˜¯ç›¸å)ï¼Œå› ä¸ºåœ¨4.2èŠ‚ä¸­è®¨è®ºäº†åŸºæœ¬çš„æ¨¡ç³Šæ€§ï¼Œä½†ä»ç„¶è®¾æ³•ç”¨è¿™ç§åˆç†çš„è§£é‡Šæ¥çœŸå®åœ°é‡æ–°ç…§äº®åœºæ™¯ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814161812.png" alt="image.png"></p><h2 id="Material-Editing"><a href="#Material-Editing" class="headerlink" title="Material Editing"></a>Material Editing</h2><p>ç”±äºNeRFactorä»å¤–è§‚ä¸Šåˆ†è§£äº†æ¼«åå°„åç…§ç‡å’Œé•œé¢BRDFï¼Œå› æ­¤å¯ä»¥ç¼–è¾‘åç…§ç‡ï¼Œéæ¼«åå°„BRDFï¼Œæˆ–ä¸¤è€…å…¼è€Œæœ‰ä¹‹ï¼Œç„¶ååœ¨ä»»æ„å…‰ç…§æ¡ä»¶ä¸‹ä»ä»»ä½•è§†ç‚¹é‡æ–°æ¸²æŸ“ç¼–è¾‘è¿‡çš„å¯¹è±¡ã€‚è¿™é‡Œæˆ‘ä»¬é‡å†™äº†é¢„ä¼°$z_{\mathrm{BRDF}}$Få¯¹MERLæ•°æ®é›†ä¸­å­¦ä¹ åˆ°çš„çç æ¼†pearl-paintæ½œåœ¨ä»£ç å’Œä»æ¶¡è½®é¢œè‰²å›¾çº¿æ€§æ’å€¼çš„é¢œè‰²çš„ä¼°è®¡åç…§ç‡ï¼ŒåŸºäºè¡¨é¢ç‚¹$\text{x-coordinates.}$çš„ç©ºé—´å˜åŒ–ã€‚å¦‚å›¾8(å·¦)æ‰€ç¤ºï¼Œé€šè¿‡NeRFactorè¿›è¡Œå› å­åˆ†è§£ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸¤ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„OLATæ¡ä»¶ä¸‹çœŸå®åœ°å†ç°åŸå§‹ä¼°è®¡ææ–™ã€‚æ­¤å¤–ï¼Œç¼–è¾‘åçš„ææ–™ä¹Ÿé€šè¿‡ç›¸åŒçš„æµ‹è¯•OLATæ¡ä»¶(å›¾8[å³])é‡æ–°æ¸²æŸ“äº†é€¼çœŸçš„é«˜å…‰å’Œç¡¬é˜´å½±ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230814162003.png" alt="image.png"></p><h1 id="EVALUATION-STUDIES"><a href="#EVALUATION-STUDIES" class="headerlink" title="EVALUATION STUDIES"></a>EVALUATION STUDIES</h1><p>In this section, we perform <strong>ablation studies</strong> to evaluate the importance of each model component and <strong>compare NeRFactor against both classic and deep learning-based state of the art in the tasks of appearance factorization and relighting</strong>.<br>For <strong>quantitative</strong> evaluations, we use as metrics <strong>Peak Signal-to-Noise Ratio (PSNR)</strong>, <strong>Structural Similarity Index Measure (SSIM)</strong> [Wang et al. 2004], and <strong>Learned Perceptual Image Patch Similarity (LPIPS)</strong> [Zhang et al. 2018]</p><p>å¦è§é™„å½•C.1èŠ‚ï¼Œå…³äºåœ¨ä¸åŒè¾“å…¥å…‰ç…§æ¡ä»¶ä¸‹å¯¹åŒä¸€ç‰©ä½“çš„åç…§ç‡ä¼°è®¡æ˜¯å¦ä¿æŒä¸€è‡´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Shadow&amp;Highlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shadow&amp;Highlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ref-NeRF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/Ref-NeRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/Ref-NeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Ref-NeRF: Structured View-Dependent Appearance for Neural Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td>Dor Verbin and Peter Hedman and Ben Mildenhall and Todd Zickler and Jonathan T. Barron and Pratul P. Srinivasan</td></tr><tr><td>Conf/Jour</td><td>CVPR 2022 (Oral Presentation, Best Student Paper Honorable Mention)</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://dorverbin.github.io/refnerf/">Ref-NeRF (dorverbin.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4566506849944215553&amp;noteId=1909890964757625088">Ref-NeRF: Structured View-Dependent Appearance for Neural Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810134741.png" alt="image.png"></p><p>è´¡çŒ®ï¼š</p><ul><li>å€Ÿé‰´Mip-NeRFçš„IPEï¼Œæå‡ºä¸€ç§æ–°çš„IDEæ¥ç¼–ç æ–¹å‘å‘é‡</li><li>è¡¨é¢æ³•å‘é€šè¿‡Spatial MLPæ¥é¢„æµ‹ï¼Œå¹¶é€šè¿‡$\mathcal{R}_{\mathrm{p}}=\sum_{i}w_{i}|\hat{\mathbf{n}}_{i}-\hat{\mathbf{n}}_{i}^{\prime}|^{2},$æ¥æ­£åˆ™åŒ–ä½¿å¾—é¢„æµ‹å¾—åˆ°çš„æ³•å‘é‡å’Œè¿›ä¸€æ­¥è®¡ç®—çš„åå°„æ›´åŠ å¹³æ»‘<ul><li>è¿™äº›MLPé¢„æµ‹çš„æ³•çº¿å¾€å¾€æ¯”æ¢¯åº¦å¯†åº¦æ³•çº¿æ›´å¹³æ»‘</li><li>$\hat{\mathbf{n}}(\mathbf{x})=-\frac{\nabla\tau(\mathbf{x})}{|\nabla\tau(\mathbf{x})|}.$Eq.3</li></ul></li><li>è®¡ç®—åå°„å…‰çš„æ–°æ¸²æŸ“æ–¹å¼$\mathbf{c}=\gamma(\mathbf{c}_d+\mathbf{s}\odot\mathbf{c}_s),$<ul><li>$\hat{\mathbf{\omega}}_r=2(\hat{\mathbf{\omega}}_o\cdot\hat{\mathbf{n}})\hat{\mathbf{n}}-\hat{\mathbf{\omega}}_o,$ Eq.4</li><li>$L_{\mathrm{out}}(\hat{\mathbf{\omega}}_{o})\propto\int L_{\mathrm{in}}(\hat{\mathbf{\omega}}_{i})p(\hat{\mathbf{\omega}}_{r}\cdot\hat{\mathbf{\omega}}_{i})d\hat{\mathbf{\omega}}_{i}=F(\hat{\mathbf{\omega}}_{r}).$ å€Ÿé‰´æ­¤BRDFï¼Œæå‡ºçš„Direction MLP å¾—å‡º$c_s$</li><li>æ¼«åå°„é¢œè‰²$c_d$é€šè¿‡Spatial MLPé¢„æµ‹å¾—åˆ°</li><li>sæ˜¯é«˜å…‰è‰²è°ƒ</li><li>å°†ç©ºé—´MLPè¾“å‡ºçš„ç“¶é¢ˆå‘é‡bä¼ é€’åˆ°Direction MLPä¸­ï¼Œè¿™æ ·åå°„çš„äº®åº¦å°±å¯ä»¥éšç€3Dä½ç½®çš„å˜åŒ–è€Œå˜åŒ–ã€‚</li></ul></li><li>$\mathcal{R}_{\mathrm{o}}=\sum_{i}w_{i}\max(0,\hat{\mathbf{n}}_{i}^{\prime}\cdot\hat{\mathbf{d}})^{2}.$ æ­£åˆ™åŒ–é¡¹æƒ©ç½šæœå‘è¿œç¦»ç›¸æœºçš„æ³•çº¿</li></ul><p>å±€é™ï¼š</p><ul><li>ç¼–ç å¯¼è‡´çš„é€Ÿåº¦æ…¢ï¼Œå’ŒSpatial MLPçš„lossåå‘ä¼ æ’­é€Ÿåº¦æ¯”Mip-NeRFæ…¢</li><li>æ²¡æœ‰æ˜ç¡®åœ°æ¨¡æ‹Ÿç›¸äº’åå°„æˆ–éè¿œè·ç¦»ç…§æ˜<ul><li>å¿½ç•¥äº’åå°„å’Œè‡ªé®æŒ¡ç­‰ç°è±¡</li></ul></li></ul><span id="more"></span><h1 id="Limitation"><a href="#Limitation" class="headerlink" title="Limitation"></a>Limitation</h1><ul><li>ç¼–ç å’Œåå‘ä¼ æ’­æ—¶é€Ÿåº¦æ…¢<ul><li>è™½ç„¶Ref-NeRFåœ¨è§†å›¾åˆæˆæ–¹é¢æ˜¾è‘—æ”¹å–„äº†ä¹‹å‰è¡¨ç°æœ€å¥½çš„ç¥ç»åœºæ™¯è¡¨ç¤ºï¼Œä½†å®ƒéœ€è¦å¢åŠ è®¡ç®—é‡:è¯„ä¼°<strong>æˆ‘ä»¬çš„é›†æˆæ–¹å‘ç¼–ç æ¯”è®¡ç®—æ ‡å‡†ä½ç½®ç¼–ç ç¨å¾®æ…¢ä¸€äº›</strong>ï¼Œå¹¶ä¸”é€šè¿‡ç©ºé—´MLPçš„æ¢¯åº¦åå‘ä¼ æ’­æ¥è®¡ç®—æ³•å‘é‡ä½¿æˆ‘ä»¬çš„æ¨¡å‹æ¯”mip-NeRFæ…¢å¤§çº¦25%ã€‚</li></ul></li><li>æˆ‘ä»¬é€šè¿‡åå°„æ–¹å‘å¯¹å‡ºå°„äº®åº¦çš„é‡æ–°å‚æ•°åŒ–å¹¶æ²¡æœ‰æ˜ç¡®åœ°æ¨¡æ‹Ÿç›¸äº’åå°„æˆ–éè¿œè·ç¦»ç…§æ˜ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯¹mip-NeRFçš„æ”¹è¿›å‡å°‘äº†ã€‚</li></ul><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬å·²ç»è¯æ˜ï¼Œå…ˆå‰ç”¨äºè§†å›¾åˆæˆçš„ç¥ç»è¡¨ç¤ºä¸èƒ½å‡†ç¡®åœ°è¡¨ç¤ºå’Œæ¸²æŸ“å…·æœ‰é•œé¢å’Œåå°„çš„åœºæ™¯ã€‚<br>æˆ‘ä»¬çš„æ¨¡å‹Ref-NeRFå¼•å…¥äº†ä¸€ç§<strong>æ–°çš„å‚æ•°åŒ–å’ŒåŸºäºè§†å›¾çš„å¤–å‘è¾å°„ç»“æ„</strong>ï¼Œ<strong>ä»¥åŠæ³•å‘é‡ä¸Šçš„æ­£åˆ™åŒ–å™¨</strong>ã€‚<br>è¿™äº›è´¡çŒ®ä½¿Ref-NeRFèƒ½å¤Ÿæ˜¾è‘—æé«˜è§†å›¾ä¾èµ–å¤–è§‚çš„è´¨é‡å’Œåœºæ™¯åˆæˆè§†å›¾ä¸­æ³•å‘é‡çš„å‡†ç¡®æ€§ã€‚<br>æˆ‘ä»¬ç›¸ä¿¡è¿™é¡¹å·¥ä½œåœ¨æ•æ‰å’Œå†ç°ç‰©ä½“å’Œåœºæ™¯çš„ä¸°å¯Œé€¼çœŸå¤–è§‚æ–¹é¢å–å¾—äº†é‡è¦è¿›å±•ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ç¥ç»è¾å°„åœº(Neural Radiance Fields, NeRF)æ˜¯ä¸€ç§æµè¡Œçš„è§†å›¾åˆæˆæŠ€æœ¯ï¼Œå®ƒå°†åœºæ™¯è¡¨ç¤ºä¸ºè¿ç»­çš„ä½“ç§¯å‡½æ•°ï¼Œç”±å¤šå±‚æ„ŸçŸ¥å™¨å‚æ•°åŒ–ï¼Œæä¾›æ¯ä¸ªä½ç½®çš„ä½“ç§¯å¯†åº¦å’Œä¾èµ–äºè§†å›¾çš„å‘å°„è¾å°„ã€‚<br>è™½ç„¶åŸºäºnerfçš„æŠ€æœ¯æ“…é•¿è¡¨ç¤ºå…·æœ‰å¹³æ»‘å˜åŒ–çš„è§†å›¾ä¾èµ–å¤–è§‚çš„ç²¾ç»†å‡ ä½•ç»“æ„ï¼Œ<strong>ä½†å®ƒä»¬å¾€å¾€æ— æ³•å‡†ç¡®æ•æ‰å’Œå†ç°å…‰æ»‘è¡¨é¢çš„å¤–è§‚</strong>ã€‚<br>æˆ‘ä»¬é€šè¿‡å¼•å…¥Ref-NeRFæ¥è§£å†³è¿™ä¸€é™åˆ¶ï¼Œå®ƒç”¨åå°„äº®åº¦çš„è¡¨ç¤ºå–ä»£äº†NeRFå¯¹ä¾èµ–äºè§†å›¾çš„ç…§å°„äº®åº¦çš„å‚æ•°åŒ–ï¼Œå¹¶ä½¿ç”¨ç©ºé—´å˜åŒ–çš„åœºæ™¯å±æ€§é›†åˆæ¥æ„é€ è¯¥å‡½æ•°ã€‚<br>æˆ‘ä»¬è¡¨æ˜ï¼ŒåŠ ä¸Šæ³•å‘é‡ä¸Šçš„æ­£åˆ™åŒ–å™¨ï¼Œæˆ‘ä»¬çš„æ¨¡å‹æ˜¾è‘—æé«˜äº†é•œé¢åå°„çš„çœŸå®æ„Ÿå’Œå‡†ç¡®æ€§ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ¨¡å‹çš„å†…éƒ¨è¡¨ç¤ºçš„å¤–å‘è¾å°„æ˜¯å¯è§£é‡Šçš„å’Œæœ‰ç”¨çš„åœºæ™¯ç¼–è¾‘ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ç¥ç»è¾å°„åœº(Neural Radiance Fields, NeRF)[24]ä½¿ç”¨ç¥ç»ä½“ç§¯åœºæ™¯è¡¨ç¤ºä»æ–°é¢–çš„è§†ç‚¹å‘ˆç°å¼•äººæ³¨ç›®çš„é€¼çœŸçš„3Dåœºæ™¯å›¾åƒã€‚ç»™å®šåœºæ™¯ä¸­çš„ä»»ä½•è¾“å…¥3Dåæ ‡ï¼Œâ€œç©ºé—´â€å¤šå±‚æ„ŸçŸ¥å™¨(MLP)åœ¨è¯¥ç‚¹è¾“å‡ºç›¸åº”çš„ä½“ç§¯å¯†åº¦ï¼Œè€Œâ€œdirectionalâ€MLPæ²¿ç€ä»»ä½•è¾“å…¥è§‚çœ‹æ–¹å‘è¾“å‡ºè¯¥ç‚¹çš„è¾“å‡ºè¾å°„ã€‚è™½ç„¶NeRFæ¸²æŸ“çš„è§†å›¾ä¾èµ–å¤–è§‚ä¹ä¸€çœ‹ä¼¼ä¹æ˜¯åˆç†çš„ï¼Œä½†ä»”ç»†æ£€æŸ¥é•œé¢é«˜å…‰ä¼šå‘ç°è™šå‡çš„å…‰æ³½ä¼ªå½±åœ¨æ¸²æŸ“è§†å›¾ä¹‹é—´é€æ¸æ¶ˆå¤±(å›¾1)ï¼Œè€Œä¸æ˜¯ä»¥ç‰©ç†ä¸Šåˆç†çš„æ–¹å¼å¹³æ»‘åœ°åœ¨è¡¨é¢ä¸Šç§»åŠ¨</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810135033.png" alt="image.png"><br><em>ä¸ä¹‹å‰è¡¨ç°æœ€å¥½çš„ç¥ç»è§†å›¾åˆæˆæ¨¡å‹mip-NeRFç›¸æ¯”ï¼ŒRef-NeRFæ˜¾ç€æ”¹å–„äº†æ³•å‘é‡(é¡¶éƒ¨è¡Œ)å’Œè§†è§‰çœŸå®æ„Ÿ(å…¶ä½™è¡Œ)ã€‚RefNeRFçš„æ”¹è¿›åœ¨æ¸²æŸ“å¸§(ç¬¬2è¡Œå’Œç¬¬3è¡Œ)ä¸­å¾ˆæ˜æ˜¾ï¼Œåœ¨æ¸²æŸ“è§†é¢‘(åº•éƒ¨è¡Œæå¹³é¢å›¾åƒå’Œè¡¥å……è§†é¢‘)ä¸­æ›´æ˜¯å¦‚æ­¤ï¼Œå…¶å…‰æ»‘çš„é«˜å…‰åœ¨è§†å›¾ä¸­çœŸå®åœ°ç§»åŠ¨ï¼Œè€Œä¸æ˜¯åƒmipNeRFé‚£æ ·æ¨¡ç³Šå’Œè¤ªè‰²ã€‚å›¾åƒPSNR(è¶Šé«˜è¶Šå¥½)å’Œè¡¨é¢æ³•å‘å¹³å‡è§’åº¦è¯¯å·®(è¶Šä½è¶Šå¥½)å¦‚å›¾æ‰€ç¤ºã€‚</em></p><p>è¿™äº›ä¼ªå½±æ˜¯ç”±NeRF(ä»¥åŠæ€§èƒ½æœ€å¥½çš„æ‰©å±•ï¼Œå¦‚mipNeRF[2])çš„ä¸¤ä¸ªåŸºæœ¬é—®é¢˜å¼•èµ·çš„ã€‚</p><ul><li>é¦–å…ˆï¼ŒNeRFå°†æ¯ä¸ªç‚¹çš„å‡ºå°„äº®åº¦å‚æ•°åŒ–ä¸ºè§‚çœ‹æ–¹å‘çš„å‡½æ•°ï¼Œè¿™å¾ˆä¸é€‚åˆæ’å€¼ã€‚å›¾2è¡¨æ˜ï¼Œå³ä½¿æ˜¯ä¸€ä¸ªç®€å•çš„ç©å…·è®¾ç½®ï¼Œåœºæ™¯çš„çœŸå®äº®åº¦åŠŸèƒ½ä¹Ÿä¼šéšç€è§†è§’æ–¹å‘çš„å˜åŒ–è€Œè¿…é€Ÿå˜åŒ–ï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜å…‰å‘¨å›´ã€‚å› æ­¤ï¼Œ<strong>NeRFåªèƒ½ä»è®­ç»ƒå›¾åƒä¸­è§‚å¯Ÿåˆ°çš„ç‰¹å®šè§‚çœ‹æ–¹å‘å‡†ç¡®åœ°æ¸²æŸ“åœºæ™¯ç‚¹çš„å¤–è§‚ï¼Œå¹¶ä¸”å…¶å¯¹æ–°è§†ç‚¹çš„å…‰æ»‘å¤–è§‚çš„æ’å€¼æ•ˆæœè¾ƒå·®</strong>ã€‚</li><li>å…¶æ¬¡ï¼ŒNeRFå€¾å‘äºä½¿ç”¨ç‰©ä½“å†…éƒ¨çš„å„å‘åŒæ€§å‘å°„å™¨æ¥â€œä¼ªé€ â€é•œé¢åå°„ï¼Œè€Œä¸æ˜¯ç”±è¡¨é¢ä¸Šçš„ç‚¹å‘å‡ºçš„ä¸è§†å›¾ç›¸å…³çš„è¾å°„ï¼Œä»è€Œå¯¼è‡´ç‰©ä½“å…·æœ‰åŠé€æ˜æˆ–â€œé›¾è’™è’™â€çš„å¤–å£³ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810135656.png" alt="image.png"><br><em>åœ¨NeRFå’ŒRefNeRFä¸­ï¼Œä½¿ç”¨æ²¿xå‚æ•°åŒ–è¡¨é¢æ›²çº¿çš„äºŒç»´ä½è§’è¾å°„åˆ‡ç‰‡ï¼Œåœ¨å½©è‰²ç¯å…‰ä¸‹å¯¹å…‰æ»‘ç‰©ä½“è¿›è¡Œäº†æ˜¾ç¤ºã€‚ç”±äºNeRF(ä¸­è¡Œ)ä½¿ç”¨è§†è§’$Ï†_o$ä½œä¸ºè¾“å…¥ï¼Œå½“å‘ˆç°æœ‰å…‰æ³½çš„åå°„ç‡(å·¦)æˆ–ç©ºé—´å˜åŒ–çš„ææ–™(å³)æ—¶ï¼Œå®ƒå¿…é¡»åœ¨é«˜åº¦å¤æ‚çš„å‡½æ•°ä¹‹é—´è¿›è¡Œæ’å€¼ï¼Œä¾‹å¦‚å¦‚å›¾æ‰€ç¤ºçš„ä¸è§„åˆ™å¼¯æ›²çš„å½©è‰²çº¿æ¡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒRef-NeRF(ä¸‹è¡Œ)ä½¿ç”¨æ³•å‘é‡$Ï†_n$å’Œåå°„è§’$Ï†_r$æ¥å‚æ•°åŒ–è¾å°„ï¼Œå¹¶åœ¨å…¶ç©ºé—´MLPä¸­æ·»åŠ æ¼«å°„é¢œè‰²cdå’Œç²—ç³™åº¦Ïï¼Œè¿™ä½¿å¾—å³ä½¿å¯¹äºæœ‰å…‰æ³½æˆ–ç©ºé—´å˜åŒ–çš„ææ–™ï¼Œè¾å°„å‡½æ•°ä¹Ÿå¯ä»¥ç®€å•åœ°å»ºæ¨¡ã€‚ç°è‰²æ£‹ç›˜æ ¼è¡¨ç¤ºåœ¨xä½ç½®è¡¨é¢ä¸‹çš„æ–¹å‘ã€‚</em></p><div class="note info">            <ul><li><p>NeRFç®€å•çš„ä½¿ç”¨è§‚å¯Ÿæ–¹å‘æ¥ä½œä¸ºMLPè¾“å…¥ï¼Œæ’å€¼å¾—åˆ°é¢œè‰²ï¼Œå‡½æ•°å»ºæ¨¡èµ·æ¥å¾ˆå¤æ‚</p></li><li><p>Ref-NeRFä½¿ç”¨æ›´å¤æ‚çš„ä½“æ¸²æŸ“å‡½æ•°ï¼Œè¾“å…¥åŒ…æ‹¬æ³•å‘é‡ï¼Œåå°„è§’ä»¥åŠæ¼«åå°„é¢œè‰²å’Œç²—ç³™åº¦ï¼Œå¯ä½¿ç”¨çš„è¾“å…¥å‚æ•°å¾ˆå¤šï¼Œå› æ­¤å‡½æ•°çš„å»ºæ¨¡å¾ˆç®€å•</p></li></ul>          </div><p>æˆ‘ä»¬çš„å…³é”®è§è§£æ˜¯ï¼Œæ„å»ºNeRFå¯¹è§†å›¾ä¾èµ–å¤–è§‚çš„è¡¨ç¤ºå¯ä»¥ä½¿åº•å±‚åŠŸèƒ½æ›´ç®€å•ï¼Œæ›´å®¹æ˜“æ’å€¼ã€‚<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºRef-NeRFï¼Œå®ƒé€šè¿‡æä¾›è§‚çœ‹å‘é‡å¯¹å±€éƒ¨æ³•å‘é‡çš„åå°„ä½œä¸ºè¾“å…¥ï¼Œè€Œä¸æ˜¯è§‚çœ‹å‘é‡æœ¬èº«ï¼Œæ¥é‡æ–°å‚æ•°åŒ–NeRFçš„å®šå‘MLP</strong>ã€‚å›¾2(å·¦æ )è¡¨æ˜ï¼Œå¯¹äºä¸€ä¸ªç”±å…‰æ»‘ç‰©ä½“ç»„æˆçš„ç©å…·åœºæ™¯ï¼Œåœ¨è¿œå¤„ç…§æ˜ä¸‹ï¼Œè¿™ä¸ªåå°„è¾å°„å‡½æ•°åœ¨æ•´ä¸ªåœºæ™¯ä¸­æ˜¯æ’å®šçš„(å¿½ç•¥å…‰ç…§é®æŒ¡å’Œç›¸äº’åå°„)ï¼Œå› ä¸ºå®ƒä¸å—è¡¨é¢æ–¹å‘å˜åŒ–çš„å½±å“ã€‚å› æ­¤ï¼Œç”±äºå®šå‘MLPä½œä¸ºæ’å€¼å†…æ ¸ï¼Œæˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°â€œå…±äº«â€é™„è¿‘ç‚¹ä¹‹é—´çš„å¤–è§‚è§‚å¯Ÿï¼Œä»è€Œåœ¨æ’å€¼è§†å›¾ä¸­å‘ˆç°æ›´é€¼çœŸçš„è§†å›¾ä¾èµ–æ•ˆæœã€‚æˆ‘ä»¬è¿˜å¼•å…¥äº†ä¸€ä¸ª<strong>é›†æˆçš„å®šå‘ç¼–ç æŠ€æœ¯</strong>ï¼Œæˆ‘ä»¬å°†å¤–å‘çš„äº®åº¦ç»“æ„æˆæ˜ç¡®çš„æ¼«å°„å’Œé«˜å…‰ç»„ä»¶ï¼Œä»¥å…è®¸åå°„çš„äº®åº¦åŠŸèƒ½ä¿æŒå¹³æ»‘ï¼Œå°½ç®¡åœ¨åœºæ™¯ä¸­ææ–™å’Œçº¹ç†çš„å˜åŒ–ã€‚</p><p>è™½ç„¶è¿™äº›æ”¹è¿›è‡³å…³é‡è¦åœ°ä½¿Ref-NeRFèƒ½å¤Ÿå‡†ç¡®åœ°æ’å€¼ä¾èµ–äºè§†å›¾çš„å¤–è§‚ï¼Œä½†å®ƒä»¬ä¾èµ–äºåæ˜ ä»NeRFçš„ä½“ç§¯å‡ ä½•ä¼°è®¡çš„æ³•å‘é‡çš„è§‚çœ‹å‘é‡çš„èƒ½åŠ›ã€‚è¿™å°±å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºNeRFçš„å‡ ä½•å½¢çŠ¶æ˜¯æ¨¡ç³Šçš„ï¼Œå¹¶ä¸”ä¸æ˜¯ç´§å¯†åœ°é›†ä¸­åœ¨è¡¨é¢ä¸Šï¼Œå¹¶ä¸”å®ƒçš„æ³•å‘é‡too noisyï¼Œå¯¹äºè®¡ç®—åå°„æ–¹å‘æ˜¯æœ‰ç”¨çš„(å¦‚å›¾1çš„å³åˆ—æ‰€ç¤º)ã€‚<strong>æˆ‘ä»¬ç”¨ä¸€ç§æ–°çš„ä½“ç§¯å¯†åº¦æ­£åˆ™åŒ–å™¨æ”¹å–„äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒæ˜¾è‘—æé«˜äº†NeRFæ³•å‘é‡çš„è´¨é‡ï¼Œå¹¶é¼“åŠ±ä½“ç§¯å¯†åº¦é›†ä¸­åœ¨è¡¨é¢å‘¨å›´</strong>ã€‚ä½¿æˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤Ÿè®¡ç®—å‡†ç¡®çš„åå°„å‘é‡å¹¶å‘ˆç°çœŸå®çš„é•œé¢åå°„ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚</p><p>ä¸»è¦è´¡çŒ®ï¼š</p><ul><li>åŸºäºè§‚æµ‹å‘é‡å¯¹å±€éƒ¨æ³•å‘é‡çš„åå°„ï¼ŒNeRFçš„å‡ºå°„äº®åº¦çš„é‡æ–°å‚æ•°åŒ–(ç¬¬3.1èŠ‚)ã€‚</li><li>é›†æˆæ–¹å‘ç¼–ç (ç¬¬3.2èŠ‚)ï¼Œå½“ä¸æ¼«å°„å’Œé«˜å…‰é¢œè‰²çš„åˆ†ç¦»(ç¬¬3.3èŠ‚)ç›¸ç»“åˆæ—¶ï¼Œä½¿åå°„çš„äº®åº¦å‡½æ•°èƒ½å¤Ÿåœ¨ä¸åŒæè´¨å’Œçº¹ç†çš„åœºæ™¯ä¸­å¹³æ»‘åœ°æ’å€¼ã€‚</li><li>ä¸€ç§<strong>å°†ä½“ç§¯å¯†åº¦é›†ä¸­åœ¨è¡¨é¢å‘¨å›´å¹¶æ”¹å–„NeRFæ³•å‘é‡æ–¹å‘çš„æ­£åˆ™åŒ–æ–¹æ³•</strong>(ç¬¬4èŠ‚)ã€‚</li></ul><p>æˆ‘ä»¬å°†è¿™äº›å˜åŒ–åº”ç”¨äºmip-NeRF[2]ä¹‹ä¸Šï¼Œmip-NeRFæ˜¯ç›®å‰è¡¨ç°æœ€å¥½çš„è§†å›¾åˆæˆç¥ç»è¡¨ç¤ºã€‚æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼ŒRef-NeRFäº§ç”Ÿäº†æœ€å…ˆè¿›çš„æ–°è§†ç‚¹æ¸²æŸ“ï¼Œå¹¶å¤§å¤§æé«˜äº†ä»¥å‰é«˜é•œé¢æˆ–å…‰æ»‘ç‰©ä½“çš„æœ€ä½³è§†å›¾åˆæˆæ–¹æ³•çš„è´¨é‡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„å¤–å‘è¾å°„ç»“æ„äº§ç”Ÿå¯è§£é‡Šçš„ç»„ä»¶(æ³•å‘é‡ï¼Œææ–™ç²—ç³™åº¦ï¼Œæ¼«å°„çº¹ç†å’Œé«˜å…‰è‰²è°ƒ)ï¼Œä½¿ä»¤äººä¿¡æœçš„åœºæ™¯ç¼–è¾‘èƒ½åŠ›ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>æˆ‘ä»¬å›é¡¾äº†NeRFå’Œç”¨äºçœŸå®æ„Ÿè§†å›¾åˆæˆçš„ç›¸å…³æ–¹æ³•ï¼Œä»¥åŠç”¨äºæ•è·å’Œæ¸²æŸ“é•œé¢å¤–è§‚çš„è®¡ç®—æœºå›¾å½¢å­¦æŠ€æœ¯ã€‚</p><ul><li><strong>3D scene representations for view synthesis</strong> è§†å›¾åˆæˆï¼Œå³ä½¿ç”¨ä¸€ä¸ªåœºæ™¯çš„è§‚å¯Ÿå›¾åƒæ¥ä»æ–°çš„æœªè§‚å¯Ÿåˆ°çš„æ‘„åƒæœºè§†ç‚¹æ¸²æŸ“å›¾åƒçš„ä»»åŠ¡ï¼Œæ˜¯è®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦é¢†åŸŸä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„ç ”ç©¶é—®é¢˜ã€‚<ul><li>åœ¨å¯èƒ½å¯†é›†æ•è·åœºæ™¯å›¾åƒçš„æƒ…å†µä¸‹ï¼Œ<strong>ç®€å•çš„å…‰åœºæ’å€¼æŠ€æœ¯</strong>[12,18]å¯ä»¥å‘ˆç°é«˜ä¿çœŸåº¦çš„æ–°è§†å›¾ã€‚<strong>ç„¶è€Œï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…‰åœºçš„è¯¦å°½é‡‡æ ·æ˜¯ä¸åˆ‡å®é™…çš„</strong>ï¼Œå› æ­¤ä»ç¨€ç–æ•è·çš„å›¾åƒä¸­è¿›è¡Œè§†å›¾åˆæˆçš„æ–¹æ³•é‡å»º3Dåœºæ™¯å‡ ä½•ï¼Œä»¥ä¾¿å°†è§‚å¯Ÿåˆ°çš„å›¾åƒé‡æ–°æŠ•å½±åˆ°æ–°çš„è§†ç‚¹ä¸­[8]ã€‚</li><li>å¯¹äºå…·æœ‰å…‰æ»‘è¡¨é¢çš„åœºæ™¯ï¼Œä¸€äº›æ–¹æ³•æ˜ç¡®åœ°æ„å»ºè™šæ‹Ÿå‡ ä½•æ¥è§£é‡Šåå°„çš„è¿åŠ¨[17,33,35]ã€‚æ—©æœŸçš„æ–¹æ³•ä½¿ç”¨ä¸‰è§’å½¢ç½‘æ ¼ä½œä¸ºå‡ ä½•è¡¨ç¤ºï¼Œå¹¶é€šè¿‡å¯å‘å¼[7,9,42]æˆ–å­¦ä¹ å¼[13,32]æ··åˆç®—æ³•é‡æ–°æŠ•å½±å’Œæ··åˆå¤šä¸ªæ•è·çš„å›¾åƒæ¥å‘ˆç°æ–°çš„è§†å›¾ã€‚æœ€è¿‘çš„ç ”ç©¶ä½¿ç”¨äº†ä½“ç§¯è¡¨ç¤ºï¼Œå¦‚ä½“ç´ ç½‘æ ¼[20]æˆ–å¤šå¹³é¢å›¾åƒ[10,23,37,41,48]ï¼Œå®ƒä»¬æ¯”ç½‘æ ¼æ›´é€‚åˆåŸºäºæ¢¯åº¦çš„ä¼˜åŒ–ã€‚<strong>è™½ç„¶è¿™äº›ç¦»æ•£çš„ä½“ç§¯è¡¨ç¤ºå¯ä»¥æœ‰æ•ˆåœ°ç”¨äºè§†å›¾åˆæˆï¼Œä½†å®ƒä»¬çš„ç«‹æ–¹ç¼©æ”¾é™åˆ¶äº†å®ƒä»¬è¡¨ç¤ºå¤§å‹æˆ–é«˜åˆ†è¾¨ç‡åœºæ™¯çš„èƒ½åŠ›</strong></li><li>æœ€è¿‘åŸºäºåæ ‡çš„ç¥ç»è¡¨ç¤ºèŒƒå¼ç”¨MLPå–ä»£äº†ä¼ ç»Ÿçš„ç¦»æ•£è¡¨ç¤ºï¼Œè¯¥MLPä»ä»»ä½•è¿ç»­è¾“å…¥çš„3Dåæ ‡æ˜ å°„åˆ°è¯¥ä½ç½®çš„åœºæ™¯çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ã€‚<strong>NeRF</strong>[24]æ˜¯ä¸€ç§ç”¨äºçœŸå®æ„Ÿè§†å›¾åˆæˆçš„æœ‰æ•ˆçš„åŸºäºåæ ‡çš„ç¥ç»è¡¨ç¤ºï¼Œå®ƒå°†åœºæ™¯è¡¨ç¤ºä¸ºé˜»æŒ¡å’Œå‘å°„ä¸è§†å›¾ç›¸å…³çš„å…‰çš„ç²’å­åœºã€‚NeRFå¯å‘äº†è®¸å¤šåç»­çš„å·¥ä½œï¼Œå°†å…¶ç¥ç»ä½“åœºæ™¯è¡¨ç¤ºæ‰©å±•åˆ°åº”ç”¨é¢†åŸŸï¼ŒåŒ…æ‹¬åŠ¨æ€å’Œå¯å˜å½¢åœºæ™¯[26]ï¼ŒåŒ–èº«åŠ¨ç”»[11,27]ï¼Œç”šè‡³æ‘„å½±æ—…æ¸¸[21]ã€‚<strong>æˆ‘ä»¬çš„å·¥ä½œé‡ç‚¹æ˜¯æ”¹è¿›NeRFçš„æ ¸å¿ƒç»„ä»¶:è§†å›¾ä¾èµ–å¤–è§‚çš„è¡¨ç¤º</strong>ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œè¿™é‡Œæå‡ºçš„æ”¹è¿›å¯ä»¥ç”¨äºæ”¹å–„ä¸Šè¿°è®¸å¤šNeRFåº”ç”¨ç¨‹åºçš„æ¸²æŸ“è´¨é‡ã€‚</li><li>æˆ‘ä»¬çš„æ–¹æ³•çš„ä¸€ä¸ªå…³é”®ç»„æˆéƒ¨åˆ†è€ƒè™‘ç›¸æœºå…‰çº¿åå°„çš„NeRFçš„å‡ ä½•å½¢çŠ¶ã€‚è¿™ä¸€æƒ³æ³•è¢«æœ€è¿‘çš„ä½œå“æ‰€åˆ†äº«ï¼Œè¿™äº›ä½œå“æ‰©å±•äº†NeRFï¼Œé€šè¿‡å°†å¤–è§‚åˆ†è§£ä¸ºåœºæ™¯ç…§æ˜å’Œææ–™æ¥å®ç°é‡ç…§æ˜[3 - 5,36,45,47]ã€‚<strong>è‡³å…³é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å°†åœºæ™¯structuresæˆä¸éœ€è¦å…·æœ‰ç²¾ç¡®ç‰©ç†å«ä¹‰çš„ç»„ä»¶ï¼Œå› æ­¤èƒ½å¤Ÿé¿å…è¿™äº›ä½œå“éœ€è¦åšå‡ºçš„å¼ºçƒˆç®€åŒ–å‡è®¾</strong>(ä¾‹å¦‚å·²çŸ¥ç…§æ˜[3,36]ï¼Œæ— è‡ªé®æŒ¡[4,5,45]ï¼Œå•ä¸€ææ–™åœºæ™¯[45])ï¼Œä»¥æ¢å¤ç…§æ˜å’Œææ–™çš„æ˜ç¡®å‚æ•°è¡¨ç¤ºã€‚æˆ‘ä»¬çš„å·¥ä½œè¿˜ä¾§é‡äºæé«˜ä»NeRFå‡ ä½•ä¸­æå–çš„æ³•å‘é‡çš„å¹³æ»‘æ€§å’Œè´¨é‡ã€‚æœ€è¿‘å°†NeRFçš„ç¥ç»ä½“ç§¯è¡¨ç¤ºä¸ç¥ç»éšå¼è¡¨é¢è¡¨ç¤ºç›¸ç»“åˆçš„ç ”ç©¶ä¹Ÿå®ç°äº†è¿™ä¸€ç›®æ ‡[25,39,43]UNISURF,Neusã€‚<strong>ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•ä¸»è¦å…³æ³¨ä»å…¶è¡¨ç¤ºä¸­æå–çš„ç­‰å€¼é¢çš„è´¨é‡ï¼Œè€Œä¸æ˜¯å‘ˆç°çš„æ–°è§†å›¾çš„è´¨é‡ï¼Œå› æ­¤å®ƒä»¬çš„è§†å›¾åˆæˆæ€§èƒ½æ˜æ˜¾ä½äºæ€§èƒ½æœ€å¥½çš„nerfç±»æ¨¡å‹</strong>ã€‚</li></ul></li><li><strong>Efficient rendering of glossy appearance</strong> æˆ‘ä»¬çš„å·¥ä½œçµæ„Ÿæ¥è‡ªè®¡ç®—æœºå›¾å½¢å­¦ä¸­<strong>ç”¨äºè¡¨ç¤ºå’Œæ¸²æŸ“ä¾èµ–äºè§†å›¾çš„é•œé¢å’Œåå°„å¤–è§‚çš„å¼€åˆ›æ€§æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯åŸºäºé¢„è®¡ç®—çš„æŠ€æœ¯</strong>[29]ã€‚<ul><li>åœ¨æˆ‘ä»¬çš„å®šå‘MLPä¸­ç¼–ç çš„åå°„äº®åº¦å‡½æ•°ç±»ä¼¼äºé¢„è¿‡æ»¤çš„ç¯å¢ƒåœ°å›¾[15,31]ï¼Œå®ƒä»¬è¢«å¼•å…¥ç”¨äºé«˜å…‰å¤–è§‚çš„å®æ—¶æ¸²æŸ“ã€‚é¢„è¿‡æ»¤çš„ç¯å¢ƒå›¾åˆ©ç”¨äº†è¿™æ ·çš„æ´å¯ŸåŠ›ï¼Œå³<strong>ä»è¡¨é¢å‘å‡ºçš„å…‰å¯ä»¥è¢«è§†ä¸ºå…¥å°„å…‰å’Œ(å¾„å‘å¯¹ç§°çš„)åŒå‘åå°„åˆ†å¸ƒå‡½æ•°(BRDF)çš„çƒé¢å·ç§¯ï¼Œè¯¥å‡½æ•°æè¿°äº†è¡¨é¢çš„ææ–™ç‰¹æ€§</strong>[30]ã€‚åœ¨å­˜å‚¨è¿™ä¸ªå·ç§¯ç»“æœä¹‹åï¼Œé€šè¿‡ç®€å•åœ°ç´¢å¼•åˆ°é¢„å…ˆè¿‡æ»¤çš„ç¯å¢ƒåœ°å›¾ä¸­ï¼Œé€šè¿‡è§‚å¯Ÿå‘é‡å…³äºæ³•å‘é‡çš„åå°„æ–¹å‘ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æ¸²æŸ“ä¸ç‰©ä½“ç›¸äº¤çš„å…‰çº¿ã€‚</li><li>æˆ‘ä»¬çš„å·¥ä½œä¸æ˜¯æ¸²æŸ“é¢„å®šä¹‰çš„3Dèµ„äº§ï¼Œè€Œæ˜¯åˆ©ç”¨è¿™äº›è®¡ç®—æœºå›¾å½¢å­¦çš„è§è§£æ¥è§£å†³è®¡ç®—æœºè§†è§‰é—®é¢˜ï¼Œæˆ‘ä»¬æ­£åœ¨ä»å›¾åƒä¸­æ¢å¤åœºæ™¯çš„å¯æ¸²æŸ“æ¨¡å‹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„å®šå‘MLPå¯¹åå°„è¾å°„çš„è¡¨ç¤ºåœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ä½¿ç”¨çš„é¢„è¿‡æ»¤ç¯å¢ƒåœ°å›¾è¡¨ç¤ºçš„åŸºç¡€ä¸Šè¿›è¡Œäº†å…³é”®çš„æ”¹è¿›:<strong>æˆ‘ä»¬çš„å®šå‘MLPå¯ä»¥è¡¨ç¤ºç”±äºå…‰ç…§å’Œåœºæ™¯å±æ€§(å¦‚ææ–™ç²—ç³™åº¦å’Œçº¹ç†)çš„ç©ºé—´å˜åŒ–è€Œå¯¼è‡´çš„åå°„è¾å°„çš„ç©ºé—´å˜åŒ–</strong>ï¼Œè€Œå‰é¢æè¿°çš„æŠ€æœ¯éœ€è¦è®¡ç®—å’Œå­˜å‚¨æ¯ä¸ªå¯èƒ½ææ–™çš„ç¦»æ•£é¢„è¿‡æ»¤è¾å°„åœ°å›¾ã€‚</li></ul></li><li>æˆ‘ä»¬çš„å·¥ä½œä¹Ÿå—åˆ°äº†è®¡ç®—æœºå›¾å½¢å­¦ä¸­ä¸€ç³»åˆ—å·¥ä½œçš„å¯å‘ï¼Œè¿™äº›å·¥ä½œé‡æ–°å‚æ•°åŒ–äº†directionalå‡½æ•°ï¼Œå¦‚BRDF[31,34]å’Œå¤–å‘è¾å°„[42]ï¼Œä»¥æ”¹è¿›æ’å€¼å’Œå‹ç¼©ã€‚</li></ul><h2 id="NeRF-Preliminaries"><a href="#NeRF-Preliminaries" class="headerlink" title="NeRF Preliminaries"></a>NeRF Preliminaries</h2><p>NeRF[24]å°†åœºæ™¯è¡¨ç¤ºä¸ºå‘å°„å’Œå¸æ”¶å…‰çš„ç²’å­çš„ä½“ç§¯åœºã€‚ç»™å®šä»»ä½•è¾“å…¥3Dä½ç½®x, NeRFä½¿ç”¨ç©ºé—´MLPè¾“å‡ºä½“ç§¯ç²’å­çš„å¯†åº¦Ï„ (x)ä»¥åŠâ€œç“¶é¢ˆbottleneckâ€å‘é‡b(x)ï¼Œè¯¥å‘é‡ä¸è§†å›¾æ–¹å‘dä¸€èµ·æä¾›ç»™ç¬¬äºŒä¸ªå®šå‘MLPï¼Œè¯¥æ–¹å‘dè¾“å‡ºè¯¥3Dä½ç½®ä¸Šç²’å­å‘å‡ºçš„å…‰çš„é¢œè‰²c(x, d)(è§å›¾4çš„å¯è§†åŒ–)ã€‚è¯·æ³¨æ„ï¼ŒMildenhallç­‰äºº[24]åœ¨ä»–ä»¬çš„å·¥ä½œä¸­ä½¿ç”¨äº†å•å±‚å®šå‘MLPï¼Œè€Œä¹‹å‰çš„å·¥ä½œé€šå¸¸å°†NeRFçš„ç©ºé—´å’Œå®šå‘MLPç»„åˆä¸ºå•ä¸ªMLPã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810134741.png" alt="image.png"></p><p>ä¸¤ä¸ªMLPåœ¨ç‚¹$\mathbf{x}_{i}=\mathbf{o}+t_{i}\hat{\mathbf{d}}$å¤„æ²¿å‘æºäºoæ–¹å‘ä¸ºdçš„å°„çº¿è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿”å›å¯†åº¦$\{\tau_{i}\}$å’Œé¢œè‰²$\{c_{i}\}$ã€‚è¿™äº›å¯†åº¦å’Œé¢œè‰²ä½¿ç”¨æ•°å€¼æ­£äº¤[22]è¿›è¡Œalphaåˆæˆï¼Œå¾—åˆ°å…‰çº¿å¯¹åº”åƒç´ çš„é¢œè‰²:$\mathbf{C}(\mathbf{o},\hat{\mathbf{d}})=\sum_iw_i\mathbf{c}_i,$ $w_i=e^{-\sum_{j&lt;i}\tau_j(t_{j+1}-t_j)}\left(1-e^{-\tau_i(t_{i+1}-t_i)}\right).$ Eq.1</p><p>å¯¹MLPå‚æ•°è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä»¥æœ€å°åŒ–æ¯ä¸ªåƒç´ çš„é¢„æµ‹é¢œè‰²$\mathbf{C}(\mathbf{o},\hat{\mathbf{d}})$ä¸å…¶ä»è¾“å…¥å›¾åƒä¸­è·å–çš„çœŸå®é¢œè‰²$\mathbf{C}_{gt}(\mathbf{o},\hat{\mathbf{d}})$ä¹‹é—´çš„L2å·®å¼‚<br>$\mathcal{L}=\sum_{\mathrm{o,\hat{d}}}|\mathbf{C}(\mathbf{o},\hat{\mathbf{d}})-\mathbf{C}_{\mathrm{gt}}(\mathbf{o},\hat{\mathbf{d}})|^{2}.$ Eq.2</p><p>åœ¨å®è·µä¸­ï¼ŒNeRFä½¿ç”¨ä¸¤ç»„mlpï¼Œä¸€ç»„æ˜¯ç²—çš„ï¼Œä¸€ç»„æ˜¯ç»†çš„ï¼Œä»¥åˆ†å±‚é‡‡æ ·çš„æ–¹å¼ï¼Œä¸¤è€…éƒ½ç»è¿‡è®­ç»ƒä»¥æœ€å°åŒ–å…¬å¼2ä¸­çš„æŸå¤±</p><p>å…ˆå‰åŸºäºnerfçš„æ¨¡å‹é€šè¿‡ä½¿ç”¨ç©ºé—´MLPæ¥é¢„æµ‹ä»»ä½•3Dä½ç½®çš„å•ä½å‘é‡[3,47]ï¼Œæˆ–ä½¿ç”¨ç›¸å¯¹äº3Dä½ç½®çš„ä½“ç§¯å¯†åº¦æ¢¯åº¦æ¥å®šä¹‰åœºæ™¯ä¸­çš„æ³•å‘é‡åœº[4,36] :$\hat{\mathbf{n}}(\mathbf{x})=-\frac{\nabla\tau(\mathbf{x})}{|\nabla\tau(\mathbf{x})|}.$Eq.3</p><h1 id="Structured-View-Dependent-Appearance"><a href="#Structured-View-Dependent-Appearance" class="headerlink" title="Structured View-Dependent Appearance"></a>Structured View-Dependent Appearance</h1><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æè¿°Ref-NeRFå¦‚ä½•å°†æ¯ä¸ªç‚¹çš„å‡ºå°„äº®åº¦ç»“æ„ä¸º(é¢„è¿‡æ»¤çš„)å…¥å°„äº®åº¦ã€æ¼«å°„é¢œè‰²ã€ææ–™ç²—ç³™åº¦å’Œé•œé¢è‰²è°ƒtintï¼Œè¿™æ¯”é€šè¿‡è§†å›¾æ–¹å‘å‚æ•°åŒ–çš„å‡ºå°„äº®åº¦å‡½æ•°æ›´é€‚åˆäºæ•´ä¸ªåœºæ™¯çš„å¹³æ»‘æ’å€¼ã€‚é€šè¿‡åœ¨æˆ‘ä»¬çš„å®šå‘MLPä¸­æ˜ç¡®åœ°ä½¿ç”¨è¿™äº›ç»„ä»¶(å›¾4)ï¼ŒRef-NeRFå¯ä»¥å‡†ç¡®åœ°é‡ç°é•œé¢é«˜å…‰å’Œåå°„çš„å¤–è§‚ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ¨¡å‹çš„å¤–å‘è¾å°„çš„åˆ†è§£ä½¿åœºæ™¯ç¼–è¾‘<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810134741.png" alt="image.png"></p><h2 id="Reflection-Direction-Parameterization"><a href="#Reflection-Direction-Parameterization" class="headerlink" title="Reflection Direction Parameterization"></a>Reflection Direction Parameterization</h2><p>å¯¹æ¯”NeRFç›´æ¥ä½¿ç”¨è§†å›¾æ–¹å‘ï¼Œæˆ‘ä»¬å°†è¾“å‡ºäº®åº¦ä½œä¸ºè§†å›¾æ–¹å‘å…³äºå±€éƒ¨æ³•å‘é‡åå°„çš„å‡½æ•°é‡æ–°å‚æ•°åŒ–: $\hat{\mathbf{\omega}}_r=2(\hat{\mathbf{\omega}}_o\cdot\hat{\mathbf{n}})\hat{\mathbf{n}}-\hat{\mathbf{\omega}}_o,$ Eq.4</p><p>å¼ä¸­ï¼Œ$\hat{\omega}_o=-\hat{\mathbf{d}}$ä¸ºç©ºé—´ä¸­æŸç‚¹æŒ‡å‘æ‘„åƒæœºçš„å•ä½å‘é‡ï¼Œ$\hat n$ä¸ºè¯¥ç‚¹å¤„çš„æ³•å‘é‡ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œè¿™ç§é‡æ–°å‚æ•°åŒ–ä½¿é•œé¢å¤–è§‚æ›´é€‚åˆæ’å€¼ã€‚</p><p>å¯¹äºåå°„è§†å›¾æ–¹å‘æ—‹è½¬å¯¹ç§°çš„BRDFsï¼Œå³å¯¹äºæŸäº›å¶ç“£å‡½æ•°lobe function pæ»¡è¶³$f(\hat{\mathbf{\omega}}_i,\hat{\mathbf{\omega}}_o) = p(\hat{\mathbf{\omega}}_r\cdot\hat{\mathbf{\omega}}_i)$çš„BRDF(åŒ…æ‹¬Phongç­‰brdf[28])ï¼Œ<strong>å¿½ç•¥äº’åå°„å’Œè‡ªé®æŒ¡ç­‰ç°è±¡</strong>ï¼Œè§†ç›¸å…³è¾å°„åº¦ä»…æ˜¯åå°„æ–¹å‘$\hat{\mathbf{\omega}}_r$çš„å‡½æ•°:</p><p>$L_{\mathrm{out}}(\hat{\mathbf{\omega}}_{o})\propto\int L_{\mathrm{in}}(\hat{\mathbf{\omega}}_{i})p(\hat{\mathbf{\omega}}_{r}\cdot\hat{\mathbf{\omega}}_{i})d\hat{\mathbf{\omega}}_{i}=F(\hat{\mathbf{\omega}}_{r}).$Eq.5</p><p>å› æ­¤ï¼Œé€šè¿‡æŸ¥è¯¢å…·æœ‰åå°„æ–¹å‘çš„å®šå‘MLPï¼Œæˆ‘ä»¬æœ‰æ•ˆåœ°è®­ç»ƒå®ƒä½œä¸º$\hat{\omega}_{r}$çš„å‡½æ•°è¾“å‡ºè¯¥ç§¯åˆ†ã€‚ç”±äºè²æ¶…è€³æ•ˆåº”ç­‰ç°è±¡[15]ï¼Œæ›´ä¸€èˆ¬çš„BRDFå¯èƒ½ä¼šéšç€è§†å›¾æ–¹å‘ä¸æ³•å‘é‡ä¹‹é—´çš„è§’åº¦è€Œå˜åŒ–ï¼Œå› æ­¤æˆ‘ä»¬è¿˜å‘å®šå‘MLPè¾“å…¥äº†$\hat{\mathbf{n}}\cdot\hat{\hat{\omega}}_{o}$ï¼Œä»¥å…è®¸æ¨¡å‹è°ƒæ•´åº•å±‚BRDFçš„å½¢çŠ¶ã€‚</p><h2 id="Integrated-Directional-Encoding"><a href="#Integrated-Directional-Encoding" class="headerlink" title="Integrated Directional Encoding"></a>Integrated Directional Encoding</h2><p>åœ¨å…·æœ‰ç©ºé—´å˜åŒ–çš„ææ–™çš„ç°å®åœºæ™¯ä¸­ï¼Œradianceä¸èƒ½å•ç‹¬è¡¨ç¤ºä¸ºåå°„æ–¹å‘çš„å‡½æ•°ã€‚è¾ƒç²—ç³™çš„ææ–™å¤–è§‚éšåå°„æ–¹å‘å˜åŒ–ç¼“æ…¢ï¼Œè€Œè¾ƒå…‰æ»‘æˆ–å…‰æ³½çš„ææ–™å¤–è§‚å˜åŒ–è¿…é€Ÿã€‚æˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æŠ€æœ¯ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºé›†æˆå®šå‘ç¼–ç (IDE)ï¼Œå®ƒä½¿å®šå‘MLPèƒ½å¤Ÿæœ‰æ•ˆåœ°è¡¨ç¤ºå…·æœ‰ä»»ä½•è¿ç»­å€¼ç²—ç³™åº¦çš„ææ–™çš„è¾å°„åº¦å‡½æ•°ã€‚æˆ‘ä»¬çš„IDEå—åˆ°mip-NeRF[2]å¼•å…¥çš„é›†æˆä½ç½®ç¼–ç çš„å¯å‘ï¼Œå®ƒä½¿ç©ºé—´MLPè¡¨ç¤ºé¢„è¿‡æ»¤çš„æŠ—æ··å ä½“ç§¯å¯†åº¦ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¸æ˜¯åƒåœ¨NeRFä¸­é‚£æ ·ç”¨ä¸€ç»„æ­£å¼¦æ³¢ç¼–ç æ–¹å‘ï¼Œè€Œæ˜¯ç”¨ä¸€ç»„çƒé¢è°æ³¢$\{Y_{\ell}^{m}\}.$ç¼–ç æ–¹å‘ã€‚è¿™ç§ç¼–ç å¾—ç›Šäºåœ¨çƒä½“ä¸Šçš„é™æ­¢æ€§ï¼Œè¿™ä¸€ç‰¹æ€§å¯¹æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­ä½ç½®ç¼–ç çš„æœ‰æ•ˆæ€§è‡³å…³é‡è¦[24,38]ã€‚<br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç¼–ç åå°„å‘é‡çš„åˆ†å¸ƒè€Œä¸æ˜¯å•ä¸ªå‘é‡ï¼Œä½¿å®šå‘MLPèƒ½å¤Ÿæ¨æ–­å…·æœ‰ä¸åŒç²—ç³™åº¦çš„ææ–™ã€‚æˆ‘ä»¬ç”¨von Mises-Fisher (vMF)åˆ†å¸ƒ(ä¹Ÿç§°ä¸ºå½’ä¸€åŒ–çƒå½¢é«˜æ–¯åˆ†å¸ƒ)å¯¹å•ä½çƒä¸Šå®šä¹‰çš„åˆ†å¸ƒè¿›è¡Œå»ºæ¨¡ï¼Œä»¥åå°„å‘é‡$\hat{\omega}_{r}$ä¸ºä¸­å¿ƒï¼Œæµ“åº¦å‚æ•°Îºå®šä¹‰ä¸ºé€†ç²—ç³™åº¦$\kappa=1/\rho.$ã€‚ç²—ç³™åº¦Ïç”±ç©ºé—´MLP(ä½¿ç”¨softplusæ¿€æ´»)è¾“å‡ºï¼Œå¹¶å†³å®šè¡¨é¢çš„ç²—ç³™åº¦:è¾ƒå¤§çš„Ïå€¼å¯¹åº”äºå…·æœ‰æ›´å®½vMFåˆ†å¸ƒçš„æ›´ç²—ç³™çš„è¡¨é¢ã€‚æˆ‘ä»¬çš„IDEä½¿ç”¨åœ¨è¿™ä¸ªvMFåˆ†å¸ƒä¸‹çš„ä¸€ç»„çƒé¢è°æ³¢çš„æœŸæœ›å€¼æ¥ç¼–ç åå°„æ–¹å‘çš„åˆ†å¸ƒEq.6<br>$\mathrm{IDE}(\hat{\mathbf{\omega}}_r,\kappa)=\left\{\mathbb{E}_{\hat{\mathbf{\omega}}\sim\mathrm{vMF}(\hat{\mathbf{\omega}}_r,\kappa)}[Y_\ell^m(\hat{\mathbf{\omega}})]\colon(\ell,m)\in\mathcal{M}_L\right\},$<br>$\mathcal{M}_{L}=\{(\ell,m):\ell=1,â€¦,2^{L},m=0,â€¦,\ell\}.$</p><p>åœ¨æˆ‘ä»¬çš„è¡¥å……ä¸­ï¼Œæˆ‘ä»¬è¯æ˜äº†vMFåˆ†å¸ƒä¸‹ä»»æ„çƒè°çš„æœŸæœ›å€¼æœ‰å¦‚ä¸‹ç®€å•çš„å°é—­è¡¨è¾¾å¼:$\mathbb{E}_{\hat{\mathbf{\omega}}\sim\mathrm{vMF}(\hat{\mathbf{\omega}}_r,\kappa)}[Y_\ell^m(\hat{\mathbf{\omega}})]=A_\ell(\kappa)Y_\ell^m(\hat{\mathbf{\omega}}_r),$Eq.7</p><p>å¹¶ä¸”ç¬¬$\ell$ä¸ªè¡°å‡å‡½æ•°A (Îº)å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„æŒ‡æ•°å‡½æ•°å¾ˆå¥½åœ°è¿‘ä¼¼:$A_{\ell}(\kappa)\approx\exp\left(-\frac{\ell(\ell+1)}{2\kappa}\right).$ Eq.8</p><p>å›¾3è¯´æ˜äº†æˆ‘ä»¬çš„é›†æˆæ–¹å‘ç¼–ç å…·æœ‰ç›´è§‚çš„è¡Œä¸º;é€šè¿‡é™ä½Îºæ¥å¢åŠ ææ–™çš„ç²—ç³™åº¦å¯¹åº”äºè¡°å‡ç¼–ç çš„é«˜é˜¶çƒé¢è°æ³¢ï¼Œä»è€Œäº§ç”Ÿæ›´å®½çš„æ’å€¼æ ¸ï¼Œä»è€Œ<strong>é™åˆ¶äº†æ‰€è¡¨ç¤ºçš„è§†ç›¸å…³é¢œè‰²ä¸­çš„é«˜é¢‘</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810152303.png" alt="image.png"><br><em>æˆ‘ä»¬ä½¿ç”¨é›†æˆçš„æ–¹å‘ç¼–ç ä½¿å®šå‘MLPèƒ½å¤Ÿè¡¨ç¤ºä»»ä½•è¿ç»­å€¼ç²—ç³™åº¦çš„åå°„äº®åº¦å‡½æ•°ã€‚ç¼–ç çš„æ¯ä¸ªåˆ†é‡éƒ½æ˜¯ä¸€ä¸ªçƒè°å‡½æ•°ä¸ä¸€ä¸ªå…·æœ‰æµ“åº¦å‚æ•°Îºçš„vMFåˆ†å¸ƒå·ç§¯ï¼Œç”±æˆ‘ä»¬çš„ç©ºé—´MLPè¾“å‡º(ç›¸å½“äºvMFä¸‹çƒè°çš„æœŸæœ›)ã€‚è¾ƒå°‘ç²—ç³™çš„ä½ç½®æ¥æ”¶æ›´é«˜é¢‘ç‡çš„ç¼–ç (é¡¶éƒ¨)ï¼Œè€Œæ›´å¤šç²—ç³™çš„åŒºåŸŸæ¥æ”¶è¡°å‡çš„é«˜é¢‘ç¼–ç ã€‚æˆ‘ä»¬çš„IDEå…è®¸åœ¨ä¸åŒç²—ç³™åº¦çš„ä½ç½®ä¹‹é—´å…±äº«ç…§æ˜ä¿¡æ¯ï¼Œå¹¶å…è®¸ç¼–è¾‘åå°„ç‡ã€‚</em></p><h2 id="Diffuse-and-Specular-Colors"><a href="#Diffuse-and-Specular-Colors" class="headerlink" title="Diffuse and Specular Colors"></a>Diffuse and Specular Colors</h2><p>æˆ‘ä»¬é€šè¿‡åˆ†ç¦»æ¼«å°„å’Œé«˜å…‰ç»„ä»¶è¿›ä¸€æ­¥ç®€åŒ–äº†å‡ºå°„äº®åº¦çš„å‡½æ•°ï¼Œä½¿ç”¨æ¼«å°„é¢œè‰²(æ ¹æ®å®šä¹‰)ä»…æ˜¯ä½ç½®çš„å‡½æ•°ã€‚æˆ‘ä»¬ä¿®æ”¹ç©ºé—´MLPä»¥è¾“å‡ºæ¼«å°„è‰²$c_d$å’Œé«˜å…‰è‰²è°ƒsï¼Œå¹¶å°†å…¶ä¸å®šå‘MLPæä¾›çš„é«˜å…‰è‰²$c_s$ç›¸ç»“åˆä»¥è·å¾—å•ä¸ªé¢œè‰²å€¼:$\mathbf{c}=\gamma(\mathbf{c}_d+\mathbf{s}\odot\mathbf{c}_s),$Eq.9</p><p>å¼ä¸­$\odot$ä¸ºå…ƒç´ ä¹˜æ³•ï¼Œ$\gamma$ä¸ºå›ºå®šè‰²è°ƒæ˜ å°„å‡½æ•°ï¼Œå°†çº¿æ€§é¢œè‰²è½¬æ¢ä¸ºsRGB[1]ï¼Œå¹¶å°†è¾“å‡ºé¢œè‰²å‰ªè¾‘ä¸ºlie[0,1]ã€‚</p><h2 id="Additional-Degrees-of-Freedom"><a href="#Additional-Degrees-of-Freedom" class="headerlink" title="Additional Degrees of Freedom"></a>Additional Degrees of Freedom</h2><p>ç…§æ˜çš„ç›¸äº’åå°„å’Œè‡ªé®æŒ¡ç­‰æ•ˆæœä¼šå¯¼è‡´ç…§æ˜åœ¨åœºæ™¯ä¸­çš„ç©ºé—´å˜åŒ–ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†ç©ºé—´MLPè¾“å‡ºçš„ç“¶é¢ˆå‘é‡bä¼ é€’åˆ°å®šå‘MLPä¸­ï¼Œè¿™æ ·åå°„çš„äº®åº¦å°±å¯ä»¥éšç€3Dä½ç½®çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p><h1 id="Accurate-Normal-Vectors"><a href="#Accurate-Normal-Vectors" class="headerlink" title="Accurate Normal Vectors"></a>Accurate Normal Vectors</h1><p>è™½ç„¶ä¸Šä¸€èŠ‚ä¸­æè¿°çš„å‡ºå°„è¾å°„ç»“æ„ä¸ºé•œé¢æ’å€¼æä¾›äº†æ›´å¥½çš„å‚æ•°åŒ–ï¼Œä½†å®ƒä¾èµ–äºå¯¹ä½“ç§¯å¯†åº¦çš„è‰¯å¥½ä¼°è®¡ï¼Œä»¥ä¿ƒè¿›å‡†ç¡®çš„åå°„æ–¹å‘çŸ¢é‡ã€‚ç„¶è€Œï¼Œ<strong>åŸºäºnerfçš„æ¨¡å‹æ‰€æ¢å¤çš„ä½“ç§¯å¯†åº¦åœºå­˜åœ¨ä¸¤ä¸ªå±€é™æ€§</strong>:<br>1) æ ¹æ®æ–¹ç¨‹3çš„ä½“ç§¯å¯†åº¦æ¢¯åº¦ä¼°è®¡çš„æ³•å‘é‡é€šå¸¸éå¸¸å˜ˆæ‚(å›¾1å’Œå›¾5);<br>2) NeRFå€¾å‘äºé€šè¿‡åœ¨ç‰©ä½“å†…éƒ¨åµŒå…¥å‘å°„å™¨å¹¶ä½¿ç”¨â€œé›¾è’™è’™çš„â€æ¼«å°„è¡¨é¢éƒ¨åˆ†é®æŒ¡å®ƒä»¬æ¥â€œä¼ªé€ â€é•œé¢é«˜å…‰(è§å›¾5)ã€‚è¿™æ˜¯ä¸€ä¸ªæ¬¡ä¼˜çš„è§£é‡Šï¼Œå› ä¸ºå®ƒè¦æ±‚è¡¨é¢ä¸Šçš„æ¼«å°„å†…å®¹æ˜¯åŠé€æ˜çš„ï¼Œè¿™æ ·åµŒå…¥çš„å‘å°„å™¨å°±å¯ä»¥â€œå‘å…‰â€ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230810154823.png" alt="image.png"></p><p>æˆ‘ä»¬é€šè¿‡ä½¿ç”¨é¢„æµ‹æ³•çº¿æ¥è®¡ç®—åå°„æ–¹å‘æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜:<br>å¯¹äºæ²¿ç€å°„çº¿çš„æ¯ä¸ªä½ç½®$x_i$ï¼Œæˆ‘ä»¬ä»ç©ºé—´MLPè¾“å‡ºä¸€ä¸ª3å‘é‡ï¼Œç„¶åæˆ‘ä»¬å°†å…¶å½’ä¸€åŒ–ä»¥è·å¾—é¢„æµ‹æ³•çº¿$\hat{\mathbf{n}}_i^{\prime}.$<br>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„æƒ©ç½šå°†è¿™äº›é¢„æµ‹çš„æ³•çº¿ä¸æ²¿æ¯æ¡å°„çº¿$\{\hat{\mathbf{n}}_{i}\}$çš„æ½œåœ¨å¯†åº¦æ¢¯åº¦æ³•çº¿æ ·æœ¬è”ç³»èµ·æ¥:$\mathcal{R}_{\mathrm{p}}=\sum_{i}w_{i}|\hat{\mathbf{n}}_{i}-\hat{\mathbf{n}}_{i}^{\prime}|^{2},$ Eq.10</p><p>å…¶ä¸­ï¼Œ$w_i$ä¸ºç¬¬iä¸ªæ ·æœ¬æ²¿å°„çº¿çš„æƒé‡ï¼Œå®šä¹‰å¦‚å¼1ã€‚<strong>è¿™äº›MLPé¢„æµ‹çš„æ³•çº¿å¾€å¾€æ¯”æ¢¯åº¦å¯†åº¦æ³•çº¿æ›´å¹³æ»‘</strong>ï¼Œå› ä¸ºæ¢¯åº¦ç®—å­åœ¨MLPçš„æœ‰æ•ˆæ’å€¼æ ¸ä¸Šèµ·åˆ°äº†é«˜é€šæ»¤æ³¢å™¨çš„ä½œç”¨[38]ã€‚</p><p>æˆ‘ä»¬é€šè¿‡å¼•å…¥ä¸€ä¸ªæ–°çš„æ­£åˆ™åŒ–æœ¯è¯­æ¥è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œ<strong>è¯¥æœ¯è¯­æƒ©ç½šâ€œèƒŒå‘â€çš„æ³•çº¿</strong>ï¼Œå³æœå‘è¿œç¦»ç›¸æœºçš„æ³•çº¿ï¼Œæ²¿ç€æœ‰åŠ©äºå…‰çº¿æ¸²æŸ“é¢œè‰²çš„å…‰çº¿çš„æ ·æœ¬$\mathcal{R}_{\mathrm{o}}=\sum_{i}w_{i}\max(0,\hat{\mathbf{n}}_{i}^{\prime}\cdot\hat{\mathbf{d}})^{2}.$ Eq.11</p><p>è¿™ç§æ­£åˆ™åŒ–åœ¨â€œé›¾è’™è’™â€çš„è¡¨é¢ä¸Šèµ·ç€æƒ©ç½šä½œç”¨:å½“æ ·æœ¬â€œå¯è§â€(é«˜$w_i$)å¹¶ä¸”ä½“ç§¯å¯†åº¦æ²¿ç€å°„çº¿å‡å°æ—¶(å³ï¼Œ$\hat{\mathbf{n}}_i^{\prime}$ä¸å°„çº¿æ–¹å‘$\hat{\mathrm{d}}$ä¹‹é—´çš„ç‚¹ç§¯ä¸ºæ­£)ï¼Œæ ·æœ¬å°±ä¼šå—åˆ°æƒ©ç½šã€‚è¿™ç§æ³•çº¿æ–¹å‘çš„æŸå¤±ä½¿æˆ‘ä»¬çš„æ–¹æ³•æ— æ³•å°†é•œé¢è§£é‡Šä¸ºéšè—åœ¨åŠé€æ˜è¡¨é¢ä¸‹çš„å‘å°„å™¨ï¼Œå¹¶ä¸”ç”±æ­¤äº§ç”Ÿçš„æ”¹è¿›æ³•çº¿ä½¿Ref-NeRFèƒ½å¤Ÿè®¡ç®—ç²¾ç¡®çš„åå°„æ–¹å‘ï¼Œç”¨äºæŸ¥è¯¢å®šå‘MLP</p><p>åœ¨æ•´ç¯‡è®ºæ–‡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¢¯åº¦å¯†åº¦æ³•çº¿è¿›è¡Œå¯è§†åŒ–å’Œå®šé‡è¯„ä¼°ï¼Œå› ä¸ºå®ƒä»¬ç›´æ¥å±•ç¤ºäº†åº•å±‚æ¢å¤åœºæ™¯å‡ ä½•çš„è´¨é‡ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>æˆ‘ä»¬åœ¨mip-NeRF[2]ä¸Šå®ç°äº†æˆ‘ä»¬çš„æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå‡å°‘æ··å çš„NeRFçš„æ”¹è¿›ç‰ˆæœ¬ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸mip-NeRFç›¸åŒçš„ç©ºé—´MLPæ¶æ„(8å±‚ï¼Œ256ä¸ªéšè—å•å…ƒï¼ŒReLUæ¿€æ´»)ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨äº†æ¯”mip-NeRFæ›´å¤§çš„æ–¹å‘MLP(8å±‚ï¼Œ256ä¸ªéšè—å•å…ƒï¼ŒReLUæ¿€æ´»)ï¼Œä»¥æ›´å¥½åœ°è¡¨ç¤ºé«˜é¢‘åå°„è¾å°„åˆ†å¸ƒã€‚<br>æˆ‘ä»¬ä½¿ç”¨ä¸ä¹‹å‰çš„è§†å›¾åˆæˆå·¥ä½œç›¸åŒçš„å®šé‡æŒ‡æ ‡[2,24,45]PSNR, SSIM[40]å’ŒLPIPS[46]ç”¨äºè¯„ä¼°æ¸²æŸ“è´¨é‡ï¼Œå¹³å‡è§’è¯¯å·®(MAE)ç”¨äºè¯„ä¼°ä¼°è®¡çš„æ³•å‘é‡ã€‚</p><p>è™½ç„¶NeRF[24]ä½¿ç”¨çš„â€œBlenderâ€æ•°æ®é›†åŒ…å«äº†å„ç§å¤æ‚å‡ ä½•å½¢çŠ¶çš„ç‰©ä½“ï¼Œä½†å®ƒåœ¨ææ–™å¤šæ ·æ€§æ–¹é¢å—åˆ°ä¸¥é‡é™åˆ¶:å¤§å¤šæ•°åœºæ™¯ä¸»è¦æ˜¯Lambertiançš„ã€‚ä¸ºäº†æ¢ç´¢æ›´å…·æŒ‘æˆ˜æ€§çš„ææ–™å±æ€§ï¼Œæˆ‘<strong>ä»¬åˆ›å»ºäº†ä¸€ä¸ªé¢å¤–çš„â€œShiny Blenderâ€æ•°æ®é›†ï¼Œå…¶ä¸­æœ‰6ä¸ªä¸åŒçš„å…‰æ»‘ç‰©ä½“åœ¨ç±»ä¼¼NeRFæ•°æ®é›†çš„æ¡ä»¶ä¸‹åœ¨Blenderä¸­æ¸²æŸ“(æ¯ä¸ªåœºæ™¯100ä¸ªè®­ç»ƒå’Œ200ä¸ªæµ‹è¯•å›¾åƒ)</strong>ã€‚è¡¨1ä¸­çš„å®šé‡ç»“æœçªå‡ºäº†æˆ‘ä»¬çš„æ¨¡å‹åœ¨æ¸²æŸ“è¿™äº›é«˜åº¦é•œé¢åœºæ™¯çš„æ–°è§†å›¾æ–¹é¢æ¯”mip-NeRF(ä»¥å‰è¡¨ç°æœ€å¥½çš„æŠ€æœ¯)å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ã€‚<br>æˆ‘ä»¬è¿˜åŒ…æ‹¬ä¸‰ä¸ªæ”¹è¿›ç‰ˆæœ¬çš„mip-NeRFï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ª8å±‚å®šå‘MLPï¼Œåˆ†åˆ«æ˜¯:<br>1)æ²¡æœ‰é¢å¤–çš„ç»„ä»¶;<br>2)åœ¨å®šå‘MLPä¸­é™„åŠ è§†ç‚¹æ–¹å‘çš„æ³•å‘é‡(å¦‚IDR[44]å’ŒVolSDF [43]);<br>3)æˆ‘ä»¬çš„æ–¹å‘æŸå¤±åº”ç”¨äºmipNeRFçš„å¯†åº¦æ¢¯åº¦æ³•å‘é‡ã€‚</p><p>æˆ‘ä»¬çš„æ–¹æ³•åœ¨æ–°é¢–çš„è§†å›¾æ¸²æŸ“è´¨é‡å’Œæ³•å‘é‡ç²¾åº¦æ–¹é¢æ˜æ˜¾ä¼˜äºæ‰€æœ‰è¿™äº›æ”¹è¿›çš„å˜ä½“ï¼Œéƒ½æ˜¯ä»¥å‰è¡¨ç°æœ€å¥½çš„ç¥ç»è§†å›¾åˆæˆæ–¹æ³•ã€‚</p><ul><li>è™½ç„¶PhySG[45]æ¢å¤æ›´å‡†ç¡®çš„æ³•çº¿ï¼Œä½†å®ƒéœ€è¦çœŸå®çš„å¯¹è±¡æ©ç (æ‰€æœ‰å…¶ä»–æ–¹æ³•åªéœ€è¦RGBå›¾åƒ)ï¼Œå¹¶ä¸”äº§ç”Ÿæ˜æ˜¾æ›´å·®çš„æ¸²æŸ“ã€‚å›¾5å±•ç¤ºäº†æˆ‘ä»¬ä½¿ç”¨æ•°æ®é›†ä¸­çš„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•çš„å½±å“:</li><li>è™½ç„¶mip-NeRF[2]æ— æ³•æ¢å¤å…·æœ‰ä¸¤ä¸ªç²—ç³™åº¦çš„ç®€å•é‡‘å±çƒä½“çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ï¼Œä½†æˆ‘ä»¬çš„æ–¹æ³•äº§ç”Ÿäº†è¿‘ä¹å®Œç¾çš„é‡å»ºã€‚å›¾9æ˜¾ç¤ºäº†è¯¥æ•°æ®é›†çš„å¦ä¸€ä¸ªå¯è§†åŒ–ç¤ºä¾‹ï¼Œå±•ç¤ºäº†æˆ‘ä»¬çš„æ¨¡å‹åœ¨æ¢å¤æ³•å‘é‡å’Œæ¸²æŸ“é•œé¢æ–¹é¢çš„æ”¹è¿›ã€‚</li></ul><p>æˆ‘ä»¬è¿˜å°†Ref-NeRFä¸æ¥è‡ªåŸå§‹NeRFè®ºæ–‡[24]çš„<strong>æ ‡å‡†Blenderæ•°æ®é›†</strong>ä¸Šçš„æœ€æ–°ç¥ç»è§†å›¾åˆæˆåŸºçº¿æ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒã€‚è¡¨2æ˜¾ç¤ºï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨æ‰€æœ‰å›¾åƒè´¨é‡æŒ‡æ ‡ä¸Šä¼˜äºæ‰€æœ‰å…ˆå‰çš„å·¥ä½œã€‚ä¸mip-NeRFç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨æ³•å‘é‡çš„MAEæ–¹é¢ä¹Ÿæœ‰äº†å¾ˆå¤§çš„æé«˜(35%)ã€‚è™½ç„¶æ··åˆè¡¨é¢ä½“ç§¯VolSDFè¡¨ç¤º[43]æ¢å¤çš„æ³•å‘é‡ç•¥å‡†ç¡®(MAEä½15%)ï¼Œä½†æˆ‘ä»¬çš„PSNRæ¯”ä»–ä»¬çš„é«˜å¾—å¤š(6dB)ã€‚æ­¤å¤–ï¼ŒVolSDFå€¾å‘äºè¿‡åº¦å¹³æ»‘å‡ ä½•ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬çš„ç»“æœåœ¨è´¨é‡ä¸Šä¼˜äºæ£€æŸ¥(å‚è§å›¾6)ã€‚</p><p>é™¤äº†è¿™ä¸¤ä¸ªåˆæˆæ•°æ®é›†ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨ä¸€ç»„3ä¸ª<strong>Real Captured ScenesçœŸå®æ•è·çš„åœºæ™¯</strong>ä¸Šè¯„ä¼°äº†æˆ‘ä»¬çš„æ¨¡å‹ã€‚æˆ‘ä»¬æ•è·äº†ä¸€ä¸ªâ€œè½¿è½¦â€åœºæ™¯ï¼Œå¹¶ä½¿ç”¨äº†ç¨€ç–ç¥ç»è¾å°„ç½‘æ ¼è®ºæ–‡[14]ä¸­çš„â€œèŠ±å›­çƒä½“â€å’Œâ€œç©å…·è½¦â€æ•è·ã€‚å›¾8å’Œæˆ‘ä»¬çš„è¡¥å……è¡¨æ˜ï¼Œæˆ‘ä»¬æ¸²æŸ“çš„é•œé¢åå°„å’Œæ¢å¤çš„æ³•å‘é‡é€šå¸¸åœ¨è¿™äº›çœŸå®åœºæ™¯ä¸­æ›´åŠ å‡†ç¡®ã€‚</p><p>æˆ‘ä»¬çš„å¤–å‘è¾å°„ç»“æ„ä½¿è§†å›¾ä¸€è‡´çš„åœºæ™¯ç¼–è¾‘ã€‚è™½ç„¶æˆ‘ä»¬æ²¡æœ‰å°†å¤–è§‚è¿›è¡Œå®Œæ•´çš„åå‘æ¸²æŸ“åˆ†è§£ä¸ºbrdfå’Œç…§æ˜ï¼Œä½†æˆ‘ä»¬çš„å„ä¸ªç»„ä»¶çš„è¡Œä¸ºç›´è§‚ï¼Œå¹¶å®ç°äº†ä»æ ‡å‡†NeRFæ— æ³•å®ç°çš„è§†è§‰ä¸Šåˆç†çš„åœºæ™¯ç¼–è¾‘ç»“æœã€‚å›¾7æ˜¾ç¤ºäº†åœºæ™¯ç»„ä»¶çš„ç¤ºä¾‹ç¼–è¾‘ï¼Œæˆ‘ä»¬çš„è¡¥å……è§†é¢‘åŒ…å«äº†æ¼”ç¤ºç¼–è¾‘æ¨¡å‹çš„è§†å›¾ä¸€è‡´æ€§çš„å…¶ä»–ç¤ºä¾‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Shadow&amp;Highlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shadow&amp;Highlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ShadowNeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/ShadowNeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/ShadowNeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>ShadowNeuS: Neural SDF Reconstruction by Shadow Ray Supervision</th></tr></thead><tbody><tr><td>Author</td><td>Jingwang Ling and Zhibo Wang and Feng Xu</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://gerwang.github.io/shadowneus/">ShadowNeuS (gerwang.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4736823086481948673&amp;noteId=1908667790249771264">ShadowNeuS: Neural SDF Reconstruction by Shadow Ray Supervision (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230809181405.png" alt="image.png"><br>æ–¹æ³•ï¼šå‡è®¾åœºæ™¯ä¸å‘å…‰ï¼Œä¸”å¿½ç•¥ç›¸äº’åå°„</p><ul><li>ä»äºŒå€¼é˜´å½±å›¾åƒä¸­è·å¾—å¯è§è¡¨é¢çš„å…¥å°„äº®åº¦ï¼Œç„¶åå¤„ç†æ›´å¤æ‚çš„RGBå›¾åƒ</li><li>å…¥å°„å…‰è¾å°„$C_\mathrm{in}(x,l)=L\prod_{i=1}^N(1-\alpha_i)$ï¼Œ ä»å•è§†å›¾ã€å¤šå…‰æºä¸­é‡å»ºå‡º3D shape<ul><li>$\mathcal{L}_\mathrm{shadow}=|\widehat{C}_\mathrm{in}-I_\mathrm{s}|_1.$ </li></ul></li><li>å‡ºå°„å…‰è¾å°„$C(x,-\mathbf{v})=(\rho_d+\rho_s)C_{\mathrm{in}}(x,l)(l\cdot\mathbf{n})$<ul><li>$\mathcal{L}_\mathrm{rgb}=|\widehat{C}-I_\mathrm{r}|_1$</li></ul></li></ul><p>è¡¨ç°ï¼š<strong>outperforms the SOTAs in single-view reconstruction</strong>, and it has the power to reconstruct scene geometries out of the cameraâ€™s line of sight.</p><span id="more"></span><h1 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h1><p>å¤§é‡çš„å®éªŒè¯æ˜äº†æ‰€æå‡ºçš„é˜´å½±å°„çº¿ç›‘ç£åœ¨é‡å»ºç¥ç»åœºæ™¯ä¸­çš„æœ‰æ•ˆæ€§ã€‚ç„¶è€Œï¼Œä½œä¸ºå¯¹é˜´å½±å°„çº¿å»ºæ¨¡çš„æ—©æœŸå°è¯•ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯åŸºäºå‡ ä¸ªå‡è®¾çš„ã€‚<strong>æˆ‘ä»¬å‡è®¾åœºæ™¯ä¸å‘å…‰ï¼Œå¿½ç•¥ç›¸äº’åå°„æ¥ç®€åŒ–å…‰å»ºæ¨¡</strong>ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ä¸€äº›è–„ç»“æ„è¿‡äºå¤æ‚ï¼Œåœ¨æˆ‘ä»¬çš„é‡å»ºä¸­ä»ç„¶å¯èƒ½ç¼ºå¤±ã€‚è¿™æ˜¯ä¸€ä¸ªæ™®éçš„é™åˆ¶ï¼Œå¯ä»¥é€šè¿‡è–„ç»“æ„ç¥ç»SDFçš„è¿›å±•å¾—åˆ°æ”¹å–„ï¼Œæ­£å¦‚æœ€è¿‘çš„å·¥ä½œ[10,27]ã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>ä¸NeRFç›‘æ§æ‘„åƒæœºå…‰çº¿ç›¸æ¯”ï¼Œæˆ‘ä»¬åœ¨ç¥ç»åœºæ™¯è¡¨ç¤ºä¸­å®ç°äº†é˜´å½±å…‰çº¿çš„å®Œå…¨å¯å¾®ç›‘æ§ã€‚è¯¥æŠ€æœ¯å¯ä»¥ä»å•è§†å›¾å¤šå…‰è§‚æµ‹ä¸­è¿›è¡Œå½¢çŠ¶é‡å»ºï¼Œ<strong>å¹¶æ”¯æŒçº¯é˜´å½±å’ŒRGBè¾“å…¥</strong>ã€‚æˆ‘ä»¬çš„æŠ€æœ¯å¯¹ç‚¹å’Œæ–¹å‘å…‰éƒ½å¾ˆæœ‰æ•ˆï¼Œå¯ä»¥ç”¨äº3Dé‡å»ºå’Œé‡ç…§æ˜ã€‚æå‡ºäº†ä¸€ç§å¤šå°„çº¿é‡‡æ ·ç­–ç•¥ï¼Œä»¥è§£å†³è¡¨é¢è¾¹ç•Œå¯¹é˜´å½±å°„çº¿å®šä½çš„æŒ‘æˆ˜ã€‚å®éªŒè¡¨æ˜ï¼Œ<strong>è¯¥æ–¹æ³•åœ¨å•è§†å›¾é‡å»ºæ–¹é¢ä¼˜äºsotaï¼Œå¹¶ä¸”å…·æœ‰åœ¨ç›¸æœºè§†çº¿ä¹‹å¤–é‡å»ºåœºæ™¯å‡ ä½•å½¢çŠ¶çš„èƒ½åŠ›</strong>ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>é€šè¿‡ç›‘ç£åœºæ™¯å’Œå¤šè§†å›¾å›¾åƒå¹³é¢ä¹‹é—´çš„æ‘„åƒæœºå…‰çº¿ï¼ŒNeRFä¸ºæ–°è§†å›¾åˆæˆä»»åŠ¡é‡å»ºç¥ç»åœºæ™¯è¡¨ç¤ºã€‚å¦ä¸€æ–¹é¢ï¼Œå…‰æºå’Œåœºæ™¯ä¹‹é—´çš„é˜´å½±å…‰çº¿è¿˜éœ€è¦è€ƒè™‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§<strong>æ–°çš„é˜´å½±å°„çº¿ç›‘ç£æ–¹æ¡ˆ</strong>ï¼Œè¯¥æ–¹æ¡ˆæ—¢ä¼˜åŒ–äº†æ²¿å°„çº¿çš„é‡‡æ ·ï¼Œä¹Ÿä¼˜åŒ–äº†å°„çº¿çš„ä½ç½®ã€‚é€šè¿‡ç›‘ç£é˜´å½±å…‰çº¿ï¼Œæˆ‘ä»¬æˆåŠŸåœ°ä»å¤šä¸ªå…‰ç…§æ¡ä»¶ä¸‹çš„å•è§†å›¾å›¾åƒä¸­é‡å»ºäº†åœºæ™¯çš„ç¥ç»SDFã€‚ç»™å®šå•è§†å›¾äºŒå…ƒé˜´å½±ï¼Œæˆ‘ä»¬è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥é‡å»ºä¸€ä¸ªä¸å—ç›¸æœºè§†çº¿é™åˆ¶çš„å®Œæ•´åœºæ™¯ã€‚é€šè¿‡è¿›ä¸€æ­¥å»ºæ¨¡å›¾åƒé¢œè‰²å’Œé˜´å½±å…‰çº¿ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œæˆ‘ä»¬çš„æŠ€æœ¯ä¹Ÿå¯ä»¥æœ‰æ•ˆåœ°æ‰©å±•åˆ°RGBè¾“å…¥ã€‚æˆ‘ä»¬å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸ä»¥å‰çš„å·¥ä½œè¿›è¡Œäº†æ¯”è¾ƒï¼Œåœ¨æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ä¸Šï¼šä»å•è§†å›¾äºŒè¿›åˆ¶é˜´å½±æˆ–RGBå›¾åƒä¸­é‡å»ºå½¢çŠ¶ï¼Œå¹¶è§‚å¯Ÿåˆ°æ˜¾è‘—çš„æ”¹è¿›</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>è¿‘å¹´æ¥ï¼Œç¥ç»åœº[45]è¢«ç”¨äºä¸‰ç»´åœºæ™¯çš„è¡¨å¾ã€‚ç”±äºèƒ½å¤Ÿä½¿ç”¨ç´§å‡‘çš„ç¥ç»ç½‘ç»œè¿ç»­å‚æ•°åŒ–åœºæ™¯ï¼Œå› æ­¤å®ƒè¾¾åˆ°äº†å“è¶Šçš„è´¨é‡ã€‚ç¥ç»ç½‘ç»œçš„æ€§è´¨ä½¿å…¶èƒ½å¤Ÿé€‚åº”3Dè§†è§‰ä¸­çš„å„ç§ä¼˜åŒ–ä»»åŠ¡ï¼ŒåŒ…æ‹¬åŸºäºå›¾åƒçš„[30,53]å’ŒåŸºäºç‚¹äº‘çš„[28,33]ç­‰é•¿æœŸå­˜åœ¨çš„é—®é¢˜ã€‚å› æ­¤ï¼Œè¶Šæ¥è¶Šå¤šçš„ç ”ç©¶ä½¿ç”¨ç¥ç»åœºä½œä¸ºä¸‰ç»´åœºæ™¯çš„è¡¨å¾æ¥å®Œæˆå„ç§ç›¸å…³ä»»åŠ¡ã€‚</p><p>å…¶ä¸­ï¼ŒNeRF[29]æ˜¯å°†éƒ¨åˆ†åŸºäºç‰©ç†çš„å…‰ä¼ è¾“[40]çº³å…¥ç¥ç»åœºçš„ä»£è¡¨æ€§æ–¹æ³•ã€‚å…‰ä¼ è¾“æè¿°äº†å…‰ä»å…‰æºåˆ°åœºæ™¯ï¼Œç„¶åä»åœºæ™¯åˆ°ç›¸æœºçš„ä¼ æ’­ã€‚NeRFè€ƒè™‘åä¸€éƒ¨åˆ†æ²¿ç›¸æœºå…‰çº¿(ä»ç›¸æœºç©¿è¿‡åœºæ™¯çš„å…‰çº¿)å»ºæ¨¡åœºæ™¯å’Œç›¸æœºä¹‹é—´çš„ç›¸äº’ä½œç”¨ã€‚é€šè¿‡å°†ä¸åŒè§†ç‚¹çš„æ‘„åƒæœºå…‰çº¿ä¸ç›¸åº”çš„è®°å½•å›¾åƒè¿›è¡Œç›‘ç£ï¼ŒNeRFä¼˜åŒ–äº†ä¸€ä¸ªç¥ç»åœºæ¥ä»£è¡¨åœºæ™¯ã€‚ç„¶åï¼ŒNeRFé€šè¿‡ä¼˜åŒ–åçš„ç¥ç»åœºï¼Œä»æ–°çš„è§†ç‚¹æŠ•å°„ç›¸æœºå…‰çº¿ï¼Œç”Ÿæˆæ–°çš„è§†ç‚¹å›¾åƒã€‚<br>ç„¶è€Œï¼Œ<strong>NeRFå¹¶æ²¡æœ‰å¯¹ä»åœºæ™¯åˆ°å…‰æºçš„å…‰çº¿è¿›è¡Œå»ºæ¨¡</strong>ï¼Œè¿™ä¿ƒä½¿æˆ‘ä»¬è€ƒè™‘:æˆ‘ä»¬èƒ½å¦é€šè¿‡ç›‘ç£è¿™äº›å…‰çº¿æ¥ä¼˜åŒ–ç¥ç»åœº?è¿™äº›å…‰çº¿é€šå¸¸è¢«ç§°ä¸ºé˜´å½±å…‰çº¿ï¼Œå› ä¸ºä»å…‰æºå‘å‡ºçš„å…‰å¯ä»¥è¢«æ²¿ç€å…‰çº¿çš„åœºæ™¯ç²’å­å¸æ”¶ï¼Œä»è€Œåœ¨åœºæ™¯è¡¨é¢äº§ç”Ÿä¸åŒçš„å…‰å¯è§æ€§(ä¹Ÿç§°ä¸ºé˜´å½±)ã€‚é€šè¿‡è®°å½•è¡¨é¢çš„å…¥å°„å…‰ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿç›‘ç£é˜´å½±å…‰çº¿æ¥æ¨æ–­åœºæ™¯å‡ ä½•ã€‚<br>é‰´äºè¿™ä¸€è§‚å¯Ÿï¼Œæˆ‘ä»¬æ¨å¯¼å‡ºä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œå³ç›‘ç£é˜´å½±å…‰çº¿ä»¥ä¼˜åŒ–è¡¨ç¤ºåœºæ™¯çš„ç¥ç»åœºï¼Œç±»ä¼¼äºå¯¹ç›¸æœºå…‰çº¿å»ºæ¨¡çš„ NeRFã€‚ä¸NeRFä¸­çš„å¤šä¸ªè§†ç‚¹ä¸€æ ·ï¼Œ<strong>æˆ‘ä»¬ä½¿ç”¨ä¸åŒçš„å…‰æ–¹å‘å¤šæ¬¡ç…§äº®åœºæ™¯ï¼Œä»¥è·å¾—è¶³å¤Ÿçš„è§‚æµ‹</strong>ã€‚å¯¹äºæ¯ä¸ªç…§æ˜ï¼Œæˆ‘ä»¬ä½¿ç”¨å›ºå®šç›¸æœºå°†åœºæ™¯è¡¨é¢çš„å…‰å¯è§æ€§è®°å½•ä¸ºé˜´å½±å°„çº¿çš„ç›‘ç£æ ‡ç­¾ã€‚ç”±äºé€šè¿‡ 3D ç©ºé—´è¿æ¥åœºæ™¯å’Œå…‰æºçš„å…‰çº¿ï¼Œæˆ‘ä»¬å¯ä»¥é‡å»ºä¸å—ç›¸æœºè§†çº¿é™åˆ¶çš„å®Œæ•´ 3D å½¢çŠ¶ã€‚<br>å½“ä½¿ç”¨ç›¸æœºè¾“å…¥ç›‘ç£é˜´å½±å…‰çº¿æ—¶ï¼Œæˆ‘ä»¬è§£å†³äº†å‡ ä¸ªæŒ‘æˆ˜ã€‚åœ¨NeRFä¸­ï¼Œæ¯æ¡å°„çº¿çš„ä½ç½®å¯ä»¥ç”±å·²çŸ¥çš„ç›¸æœºä¸­å¿ƒå”¯ä¸€ç¡®å®šï¼Œä½†é˜´å½±å°„çº¿éœ€è¦ç”±åœºæ™¯è¡¨é¢ç¡®å®šï¼Œè¿™æ˜¯æ²¡æœ‰ç»™å‡ºçš„ï¼Œå°šæœªé‡å»ºã€‚æˆ‘ä»¬ä½¿ç”¨è¿­ä»£æ›´æ–°ç­–ç•¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…¶ä¸­æˆ‘ä»¬ä»å½“å‰è¡¨é¢ä¼°è®¡å¼€å§‹å¯¹é˜´å½±å°„çº¿è¿›è¡Œé‡‡æ ·ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å°†é‡‡æ ·ä½ç½®å¯å¾®åˆ°å‡ ä½•è¡¨ç¤ºï¼Œä»è€Œå¯ä»¥ä¼˜åŒ–é˜´å½±å°„çº¿çš„èµ·å§‹ä½ç½®ã€‚ç„¶è€Œï¼Œè¿™ç§æŠ€æœ¯ä¸è¶³ä»¥åœ¨æ·±åº¦çªç„¶å˜åŒ–çš„è¡¨é¢è¾¹ç•Œå¤„æ¨å¯¼å‡ºæ­£ç¡®çš„æ¢¯åº¦ï¼Œè¿™ä¸æœ€è¿‘åœ¨å¯å¾®æ¸²æŸ“çš„å‘ç°ç›¸å»åˆ[2,21,24,42,56]ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡èšåˆä»å¤šä¸ªæ·±åº¦å€™é€‰å¼€å§‹çš„é˜´å½±å°„çº¿æ¥è®¡ç®—è¡¨é¢è¾¹ç•Œã€‚å®ƒä»ç„¶æ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºè¾¹ç•Œåªå å°‘é‡çš„è¡¨é¢ï¼Œä½†å®ƒæ˜¾è‘—æé«˜äº†è¡¨é¢é‡å»ºè´¨é‡ã€‚<strong>æ­¤å¤–ï¼Œæ‘„åƒæœºè®°å½•çš„RGBå€¼ç¼–ç äº†è¡¨é¢çš„å‡ºå°„è¾å°„ï¼Œè€Œä¸æ˜¯å…¥å°„è¾å°„ã€‚å‡ºå°„è¾å°„æ˜¯å…‰ã€ææ–™å’Œè¡¨é¢å–å‘çš„è€¦åˆæ•ˆåº”</strong>ã€‚æˆ‘ä»¬å»ºè®®å¯¹ææ–™å’Œè¡¨é¢æ–¹å‘è¿›è¡Œå»ºæ¨¡ï¼Œä»¥åˆ†è§£æ¥è‡ªRGBè¾“å…¥çš„å…¥å°„è¾å°„ï¼Œä»¥å®ç°é‡å»ºï¼Œè€Œä¸éœ€è¦é˜´å½±åˆ†å‰²(å›¾1ä¸­çš„ç¬¬1è¡Œå’Œç¬¬2è¡Œ)ã€‚ç”±äºææ–™å»ºæ¨¡æ˜¯å¯é€‰çš„ï¼Œæˆ‘ä»¬çš„æ¡†æ¶è¿˜å¯ä»¥é‡‡<strong>ç”¨äºŒå€¼é˜´å½±å›¾åƒ</strong>[18]æ¥<strong>å®ç°å½¢çŠ¶é‡å»º</strong>(å›¾1ä¸­çš„ç¬¬3è¡Œ)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230809174633.png" alt="image.png"></p><p>æˆ‘ä»¬å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸ä»¥å‰çš„å•è§†å›¾é‡å»ºæ–¹æ³•ï¼ˆåŒ…æ‹¬åŸºäºé˜´å½±å’ŒåŸºäº RGBï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶è§‚å¯Ÿåˆ°å½¢çŠ¶é‡å»ºçš„æ˜¾ç€æ”¹è¿›ã€‚ç†è®ºä¸Šï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¤„ç†äº† NeRF çš„åŒé‡é—®é¢˜ã€‚å› æ­¤ï¼Œæ¯”è¾ƒè¿™ä¸¤ç§æŠ€æœ¯çš„ç›¸åº”éƒ¨åˆ†å¯ä»¥å¯å‘è¯»è€…åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ›´æ·±å…¥åœ°äº†è§£ç¥ç»åœºæ™¯è¡¨ç¤ºçš„æœ¬è´¨ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</p><p>è´¡çŒ®æ€»ç»“ï¼š</p><ul><li>åˆ©ç”¨å…‰å¯è§æ€§ä»å¤šä¸ªå…‰ç…§æ¡ä»¶ä¸‹ä»é˜´å½±æˆ–RGBå›¾åƒé‡å»ºç¥ç»SDFçš„æ¡†æ¶ã€‚</li><li>ä¸€ç§é˜´å½±å°„çº¿ç›‘ç£æ–¹æ¡ˆï¼Œé€šè¿‡æ¨¡æ‹Ÿæ²¿é˜´å½±å°„çº¿çš„ç‰©ç†ç›¸äº’ä½œç”¨æ¥åŒ…å«å¯å¾®å…‰å¯è§æ€§ï¼Œå¹¶æœ‰æ•ˆåœ°å¤„ç†è¡¨é¢è¾¹ç•Œã€‚</li><li>ä¸ä¹‹å‰å…³äº RGB æˆ–äºŒè¿›åˆ¶é˜´å½±è¾“å…¥çš„å·¥ä½œè¿›è¡Œæ¯”è¾ƒï¼Œä»¥éªŒè¯é‡å»ºåœºæ™¯è¡¨ç¤ºçš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><ul><li><strong>Neural fields for 3D reconstruction</strong>.ç¥ç»åœº[45]é€šå¸¸ä½¿ç”¨å¤šå±‚æ„ŸçŸ¥å™¨(MLP)ç½‘ç»œå‚æ•°åŒ–3Dåœºæ™¯ï¼Œè¯¥ç½‘ç»œå°†åœºæ™¯åæ ‡ä½œä¸ºè¾“å…¥ã€‚å®ƒå¯ä»¥åƒç‚¹äº‘[28,33]è¿™æ ·çš„3Dçº¦æŸæ¥ç›‘ç£ï¼Œä»¥é‡å»ºä¸‰ç»´å½¢çŠ¶çš„éšå¼è¡¨ç¤ºã€‚ä¹Ÿå¯ä»¥é€šè¿‡å¯å¾®æ¸²æŸ“ä»å¤šè§†å›¾å›¾åƒä¼˜åŒ–ç¥ç»åœº [2, 30, 53]ã€‚<ul><li>NeRF[29]åœ¨å…·æœ‰å¤æ‚å‡ ä½•å½¢çŠ¶çš„åœºæ™¯ä¸­å±•ç¤ºäº†æ˜¾è‘—çš„æ–°è§†å›¾åˆæˆè´¨é‡ã€‚<strong>ç„¶è€Œï¼ŒNeRFä¸­çš„å¯†åº¦è¡¨ç¤ºå¯¹äºæ­£åˆ™åŒ–å’Œæå–åœºæ™¯è¡¨é¢å¹¶ä¸å®¹æ˜“</strong>ã€‚</li><li>å› æ­¤ï¼Œ[31,43,52]æå‡ºå°†NeRFä¸è¡¨é¢è¡¨ç¤ºç›¸ç»“åˆï¼Œé‡å»ºé«˜è´¨é‡å’Œå®šä¹‰è‰¯å¥½çš„è¡¨é¢ã€‚è™½ç„¶ä¸Šè¿°æ‰€æœ‰å·¥ä½œéƒ½<strong>éœ€è¦å·²çŸ¥çš„ç›¸æœºè§†ç‚¹</strong>ï¼Œ[12,25,44]BARFç­‰æ¢ç´¢è”åˆä¼˜åŒ–å…·æœ‰ç¥ç»åœºçš„ç›¸æœºå‚æ•°ã€‚</li><li><strong>NeRFä¸å¯¹å…‰æºè¿›è¡Œå»ºæ¨¡ï¼Œå¹¶å‡è®¾åœºæ™¯å‘å‡ºå…‰</strong>ã€‚è¿™ä¸ªå‡è®¾é€‚ç”¨äºè§†å›¾åˆæˆï¼Œä½†ä¸æ˜¯é‡æ–°ç…§æ˜ã€‚ä¸€äº›ä½œå“å°† NeRF æ‰©å±•åˆ°é‡æ–°ç…§æ˜ï¼Œå…¶ä¸­é˜´å½±æ˜¯ä¸€ä¸ªé‡è¦çš„å› ç´ ã€‚[3, 4, 56] éœ€è¦å…±å®šä½çš„ç›¸æœºå…‰è®¾ç½®æ¥é¿å…æ•è·å›¾åƒä¸­çš„é˜´å½±ã€‚[5, 6, 57] å‡è®¾ç¯å¢ƒå…‰å¹³æ»‘å¹¶å¿½ç•¥é˜´å½±ã€‚[11,35,39,49,51,59]é‡‡ç”¨ä»¥å…‰æ–¹å‘ä¸ºæ¡ä»¶çš„ç¥ç»ç½‘ç»œå¯¹å…‰ç›¸å…³é˜´å½±è¿›è¡Œå»ºæ¨¡ã€‚å…¶ä¸­ï¼Œ[11,49,51,58,59]é¦–å…ˆä½¿ç”¨å¤šè§†å›¾ç«‹ä½“é‡å»ºå‡ ä½•å›¾å½¢ï¼Œå¹¶ä½¿ç”¨å›ºå®šå‡ ä½•è®¡ç®—é˜´å½±ã€‚<strong>è¿™äº›ä½œå“éƒ½æ²¡æœ‰ç»†åŒ–å‡ ä½•å›¾å½¢ä»¥åŒ¹é…æ•è·çš„å›¾åƒä¸­çš„é˜´å½±</strong>ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬è¡¨æ˜ï¼Œé€šè¿‡åˆ©ç”¨é˜´å½±ä¸­çš„ä¿¡æ¯ä»å¤´å¼€å§‹é‡å»ºå®Œæ•´çš„ 3D å½¢çŠ¶ã€‚</li></ul></li><li><strong>Single-view reconstruction</strong>. [17, 47, 54] æ¢ç´¢äº†ä»å°‘æ•°æˆ–ä¸€å¼ å›¾åƒé‡å»ºç¥ç»åœºï¼Œä½†å®ƒä»¬éœ€è¦åœ¨é¢„è®­ç»ƒç½‘ç»œä¸­è¿›è¡Œæ•°æ®é©±åŠ¨çš„å…ˆéªŒï¼Œå› æ­¤ä¸æˆ‘ä»¬çš„èŒƒå›´ä¸åŒã€‚éè§†è·æˆåƒ[32,38,46]é‡‡ç”¨ç¬æ€ä¼ æ„Ÿå™¨æ•è·æ—¶é—´åˆ†è¾¨ä¿¡å·ï¼Œä½¿é‡å»ºç›¸æœºè§†å›¾æˆªé”¥ä¹‹å¤–çš„åœºæ™¯ã€‚å…‰åº¦ç«‹ä½“[9,23]ä»å®šå‘å…‰ä¸‹æ•è·çš„å›¾åƒé‡å»ºè¡¨é¢æ³•çº¿ã€‚æ³•çº¿å¯ä»¥é›†æˆä»¥äº§ç”Ÿæ·±åº¦å›¾ï¼Œä½†éœ€è¦éå¹³å‡¡çš„å¤„ç† [7, 8]</li><li><strong>Shape from Shadows</strong>. é˜´å½±è¡¨ç¤ºé®æŒ¡å¼•èµ·çš„ä¸åŒå…¥å°„è¾å°„ï¼Œæä¾›åœºæ™¯å‡ ä½•çº¿ç´¢ã€‚ä»é˜´å½±é‡å»ºå½¢çŠ¶çš„å†å²æ‚ ä¹…ä¸ºä¸€ç»´æ›²çº¿[16,19]ã€äºŒç»´é«˜åº¦å›¾[14,34,37,55]å’Œä¸‰ç»´ä½“ç´ ç½‘æ ¼[22,36,48]ã€‚è¿™äº›å·¥ä½œé€šå¸¸åœ¨ä¸åŒçš„å…‰æ–¹å‘ä¸‹æ•è·ï¼Œä»¥è·å¾—å¯¹é˜´å½±çš„å……åˆ†è§‚å¯Ÿã€‚é˜´å½±æ˜¾ç¤ºäº†è¿™äº›å·¥ä½œé‡å»ºè¡¨é¢ç»†èŠ‚[55]å’Œå¤æ‚çš„è–„ç»“æ„[48]çš„æ½œåŠ›ã€‚è¯¥é¢†åŸŸæœ€è¿‘çš„å·¥ä½œæ˜¯ DeepShahadow [18]ï¼Œå®ƒä»é˜´å½±é‡å»ºç¥ç»æ·±åº¦å›¾ã€‚[41]ä¹Ÿé‡‡ç”¨äº†å…·æœ‰å›ºå®šç…§æ˜ä½†å¤šä¸ªè§†ç‚¹çš„ä¸åŒè®¾ç½®ï¼Œè¯¥è®¾ç½®é›†æˆäº†é˜´å½±æ˜ å°„æ¥é‡å»ºç¥ç»è¡¨ç¤ºã€‚åŒæ—¶ç‹¬ç«‹ï¼Œ[50] å»ºè®®åŒæ—¶åœ¨ç¥ç»åœºé‡å»ºä¸­ä½¿ç”¨é˜´å½±å’Œé˜´å½±ã€‚ç‰¹åˆ«æ˜¯ï¼Œ<strong>ä»–ä»¬</strong>åœ¨ç”±æ ¹æŸ¥æ‰¾å®šä½çš„ä¸å¯å¾®è¡¨é¢ç‚¹è®¡ç®—é˜´å½±ï¼Œ<strong>ä½¿å…¶ä¾èµ–äºå¯å¾®é˜´å½±è®¡ç®—</strong>ã€‚<strong>æˆ‘ä»¬æå‡ºäº†å®Œå…¨å¯å¾®çš„é˜´å½±å°„çº¿ç›‘ç£</strong>ï¼Œä¼˜åŒ–äº†é˜´å½±å°„çº¿æ ·æœ¬å’Œè¡¨é¢ç‚¹ï¼Œ<strong>å®ç°äº†çº¯é˜´å½±æˆ–RGBå›¾åƒçš„ç¥ç»åœºé‡å»º</strong>ã€‚</li></ul><h1 id="Ray-Supervision-in-Neural-Fields"><a href="#Ray-Supervision-in-Neural-Fields" class="headerlink" title="Ray Supervision in Neural Fields"></a>Ray Supervision in Neural Fields</h1><p>æœ¬èŠ‚é¦–å…ˆæ­ç¤ºNeRF[29]è®­ç»ƒä¸­ä½œä¸ºç›‘ç£ç›¸æœºå°„çº¿çš„æœ¬è´¨ã€‚ä»é‚£é‡Œï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªå¯æ¨å¹¿åˆ°ä»»æ„å°„çº¿çš„å°„çº¿ç›‘ç£æ–¹æ¡ˆã€‚è¯¥æ–¹æ¡ˆä½¿é˜´å½±å°„çº¿èƒ½å¤Ÿç›‘ç£ç¥ç»åœºæ™¯è¡¨ç¤ºçš„ä¼˜åŒ–æ˜¯å¯è¡Œçš„ã€‚</p><h2 id="Camera-ray-supervision-in-NeRF"><a href="#Camera-ray-supervision-in-NeRF" class="headerlink" title="Camera ray supervision in NeRF"></a>Camera ray supervision in NeRF</h2><p>NeRF æ—¨åœ¨ä¼˜åŒ–ç¥ç»åœºä»¥é€‚åº”æ„Ÿå…´è¶£çš„åœºæ™¯ã€‚ä¸ºäº†è·å¾—åœºæ™¯çš„è§‚å¯Ÿï¼ŒNeRF éœ€è¦åœ¨å…·æœ‰å·²çŸ¥ç›¸æœºå‚æ•°çš„å¤šä¸ªç›¸æœºè§†ç‚¹è®°å½•å›¾åƒã€‚æ¯ä¸ªå›¾åƒåƒç´ è®°å½•ä»å·²çŸ¥æ–¹å‘ç©¿è¿‡å·²çŸ¥ç›¸æœºä¸­å¿ƒçš„ç›¸æœºå…‰çº¿çš„å…¥å°„è¾å°„ã€‚<strong>ç”±äº NeRF æ²¡æœ‰å¯¹å¤–éƒ¨å…‰æºè¿›è¡Œå»ºæ¨¡å¹¶å‡è®¾å…‰æ˜¯ä»åœºæ™¯ç²’å­å‘å°„ä»¥ç®€åŒ–å…·æœ‰å›ºå®šç…§æ˜çš„åœºæ™¯å»ºæ¨¡ï¼Œå› æ­¤å…¥å°„è¾å°„å®é™…ä¸Šå½’å› äºæ²¿ç›¸æœºå…‰çº¿æ— ç©·å°ç²’å­çš„å…‰å¸æ”¶å’Œå‘å°„çš„ç»¼åˆå½±å“</strong>ã€‚ä¸ºäº†æ‹Ÿåˆè§‚å¯Ÿï¼ŒNeRF ä½¿ç”¨å¯å¾®åˆ†ä½“æ¸²æŸ“æ¥æ¨¡æ‹Ÿç¥ç»åœºä¸­çš„ç›¸åŒç›¸æœºå…‰çº¿ã€‚NeRFä½¿ç”¨æ±‚ç§¯æ¥è¿‘ä¼¼ä½“æ¸²æŸ“ä¸­çš„è¿ç»­ç§¯åˆ†ï¼Œé‡‡æ ·Nä¸ªè·ç¦»$t_{1},\cdots,t_{N}$ï¼Œä»ç›¸æœºä¸­å¿ƒoæ²¿ç›¸æœºå°„çº¿æ–¹å‘vå¼€å§‹ã€‚åˆ©ç”¨åœºæ™¯å¯†åº¦$\sigma_{i}$å’Œæ¯ä¸ªæ ·æœ¬ç‚¹$\mathbf{p}(t_i)=o+t_i\mathbf{v},$å‘å°„äº®åº¦$c_{i}$ï¼Œæ‘„åƒæœºå¤„çš„ä¼°è®¡äº®åº¦Cå¯è¡¨ç¤ºä¸º:<br>$C(\mathbf{o},\mathbf{v})=\sum_{i=1}^{N}T_{i}\alpha_{i}c_{i},$æ–¹ç¨‹å¼(1)<br>å…¶ä¸­$\alpha_{i}=1-\exp{(-\sigma_{i}(t_{i+1}-t_{i}))}$ æ˜¯ç¦»æ•£ä¸é€æ˜åº¦ï¼Œ$T_i=\exp(-\sum_{j=1}^{i-1}\sigma_j\cdot(t_{j+1}-t_j))$ è¡¨ç¤ºå…‰é€å°„ç‡ï¼Œå³å‘å°„å…‰çš„æ¯”ä¾‹ä»ç‚¹$\mathbf{p}(t_i)$åˆ°è¾¾ç›¸æœºã€‚åœ¨åƒç´ å¤„è®°å½•çš„å…¥å°„è¾å°„å¯ç”¨äºç›‘ç£æ¨¡æ‹Ÿè¾å°„ Cã€‚NeRFåœ¨æ¯æ¬¡è¿­ä»£ä¸­å¯¹ç›¸æœºå…‰çº¿çš„éšæœºå­é›†è¿›è¡Œè®­ç»ƒã€‚ç”±äºç¥ç»åœºæ¥æ”¶æ¥è‡ªè®¸å¤šæ‘„åƒæœºå…‰çº¿åœ¨ä¸åŒè§†ç‚¹æ–¹å‘ä¸Šè¡Œè¿›çš„ç›‘ç£ä¿¡å·ï¼Œå› æ­¤å®ƒè·å¾—è¶³å¤Ÿçš„åœºæ™¯ä¿¡æ¯æ¥ä¼˜åŒ–è¿™äº›å…‰çº¿ç©¿è¿‡ç©ºé—´ä¸­çš„ç¥ç»åœºã€‚</p><h2 id="Generalized-ray-supervision"><a href="#Generalized-ray-supervision" class="headerlink" title="Generalized ray supervision"></a>Generalized ray supervision</h2><p>NeRF å¯ä»¥ç›‘ç£ç›¸æœºå…‰çº¿ä»¥ä¼˜åŒ–ç¥ç»åœºçš„åŸå› æ˜¯å¤šè§†å›¾ç›¸æœºå°†è¾å°„è®°å½•ä¸ºå…‰çº¿çš„æ ‡ç­¾ã€‚æ­¤å¤–ï¼Œç”±äºæ¯ä¸ªç›¸æœºéƒ½ç»è¿‡æ ¡å‡†ï¼Œæ¯ä¸ªè®°å½•çš„å…‰çº¿çš„ 3D ä½ç½®å’Œæ–¹å‘éƒ½æ˜¯æ˜ç¡®å®šä¹‰çš„ã€‚æˆ‘ä»¬å¯ä»¥<strong>å°†å¤šè§†è§’ç›¸æœºçš„æ¯ä¸ªåƒç´ è§†ä¸ºä¸€ä¸ªâ€œå°„çº¿ä¼ æ„Ÿå™¨â€</strong>ï¼Œè®°å½•ç‰¹å®šå…‰çº¿çš„å…¥å°„äº®åº¦ï¼Œå› ä¸ºæ¯ä¸ªåƒç´ åœ¨è®­ç»ƒä¸­ç‹¬ç«‹ä½¿ç”¨ã€‚è¿™äº›å°„çº¿ä¼ æ„Ÿå™¨æ˜¯NeRFæŠ€æœ¯çš„å…³é”®ã€‚æ›´ä¸€èˆ¬åœ°è¯´ï¼Œå¦‚æœæˆ‘ä»¬è®©â€œå°„çº¿ä¼ æ„Ÿå™¨â€è®°å½•åœºæ™¯ä¸­çš„å…¶ä»–ç±»å‹çš„å…‰çº¿ï¼Œä¹Ÿå¯ä»¥å®ç°åœºæ™¯é‡å»ºã€‚è¿™ä¿ƒä½¿æˆ‘ä»¬è€ƒè™‘æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›‘ç£å…¶ä»–å…‰çº¿å¹¶è®¾è®¡å…‰çº¿ä¼ æ„Ÿå™¨æ¥è®°å½•å®ƒä»¬çš„è¾å°„ã€‚</p><h2 id="Shadow-ray-supervision"><a href="#Shadow-ray-supervision" class="headerlink" title="Shadow ray supervision"></a>Shadow ray supervision</h2><p>ç”±äºç›¸æœºå…‰çº¿åœ¨ç¥ç»åœºæ™¯é‡å»ºæ–¹é¢å–å¾—äº†å·¨å¤§æˆåŠŸï¼Œä½œä¸ºå…‰ä¼ è¾“ä¸­çš„å¯¹åº”ç‰©ï¼Œè¿æ¥åœºæ™¯å’Œä»æºçš„å°„çº¿ï¼Œä¹Ÿå°±æ˜¯é˜´å½±å…‰çº¿ï¼Œä¹Ÿåº”è¯¥èƒ½å¤Ÿç”¨äºé‡å»ºç¥ç»åœºæ™¯ã€‚æˆ‘ä»¬é¦–å…ˆè€ƒè™‘ä¸€ä¸ªç†æƒ³çš„è®¾ç½®ï¼Œå…¶ä¸­<strong>è®¸å¤šå‡è®¾çš„å°„çº¿ä¼ æ„Ÿå™¨è¢«æ”¾ç½®åœ¨ä¸åŒä½†å·²çŸ¥ä½ç½®çš„åœºæ™¯ä¸­</strong>ï¼Œå¦‚å›¾ 2 æ‰€ç¤ºã€‚ä¸ºäº†æ²¿ç€é˜´å½±å…‰çº¿è§‚å¯Ÿåœºæ™¯ï¼Œæˆ‘ä»¬ç”¨å·²çŸ¥çš„æ–¹å‘å…‰æ¥è¯´æ˜åœºæ™¯ã€‚æ¯æ¡å°„çº¿ä¼ æ„Ÿå™¨éƒ½æ•è·ä¸€æ¡å°„çº¿ï¼Œè¯¥å°„çº¿ä»å…‰æ–¹å‘ä¼ é€’ä¼ æ„Ÿå™¨ã€‚ä¸ NeRF ä¸åŒï¼Œç”±äºæˆ‘ä»¬å¯¹æºè¿›è¡Œå»ºæ¨¡ï¼Œ<strong>æˆ‘ä»¬å‡è®¾åœºæ™¯ä¸ä¼šå‘å‡ºå…‰ï¼Œè¿™åœ¨ç‰©ç†ä¸Šæ›´æ­£ç¡®å¹¶ä¸”å¯ä»¥ç®€åŒ–ä»¥ä¸‹è¿‡ç¨‹</strong>ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230809180827.png" alt="image.png"></p><p>å› æ­¤ï¼Œå°„çº¿ä¼ æ„Ÿå™¨å¤„çš„ä¼ å…¥å…‰æ˜¯ä»å…‰æºå‘å‡ºçš„ï¼Œå¹¶ç”±æ²¿å°„çº¿çš„æ— ç©·å°çš„ç²’å­å¸æ”¶ã€‚ä½¿ç”¨ä¸ç­‰å¼1: $C(\mathbf{o},\mathbf{v})=\sum_{i=1}^{N}T_{i}\alpha_{i}c_{i},$ç±»ä¼¼çš„æ­£äº¤ã€‚ æˆ‘ä»¬å¯ä»¥å°†ç¥ç»åœºä¸­æ¨¡æ‹Ÿçš„ä¼ å…¥è¾å°„è¡¨ç¤ºä¸º<br>$C_\mathrm{in}(x,l)=L\prod_{i=1}^N(1-\alpha_i),$<br>å…¶ä¸­ï¼ŒLä¸ºå…‰æºçš„å¼ºåº¦ï¼Œxä¸ºå°„çº¿ä¼ æ„Ÿå™¨çš„ä½ç½®ï¼Œlä¸ºå…‰æ–¹å‘ã€‚ä¸ºäº†è·å¾—è¶³å¤Ÿçš„ä¿¡æ¯æ¥çº¦æŸä¼˜åŒ–ï¼Œæˆ‘ä»¬è¦æ±‚é˜´å½±å…‰çº¿åœ¨ä¸åŒçš„æ–¹å‘ä¸Šå¯¹åœºæ™¯è¿›è¡Œåˆ†å±‚ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€ä¸ªç…§äº®å…·æœ‰å¤šä¸ªå…‰æ–¹å‘çš„åœºæ™¯ï¼Œå¹¶æ¯æ¬¡è®°å½•ä¼ å…¥çš„è¾å°„ã€‚ç”±äº NeRF å·²ç»è¯æ˜äº†è¿™ç§å…‰çº¿ç›‘ç£æ–¹æ¡ˆçš„æˆåŠŸï¼Œå› æ­¤åœ¨è¿™é‡Œé‡å»ºç¥ç»åœºæ™¯ä¹Ÿå¾ˆæœ‰å¸Œæœ›ã€‚</p><h1 id="Shadow-ray-supervision-with-a-single-view-camera"><a href="#Shadow-ray-supervision-with-a-single-view-camera" class="headerlink" title="Shadow ray supervision with a single-view camera"></a>Shadow ray supervision with a single-view camera</h1><p>$C_\mathrm{in}(x,l)=L\prod_{i=1}^N(1-\alpha_i),$æ–¹ç¨‹å¼(2)<br>è¯·æ³¨æ„ï¼Œåœ¨ä¸Šè¿°å…¬å¼ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨å‡è®¾å°„çº¿ä¼ æ„Ÿå™¨æ¥è®°å½•å…‰æ–¹å‘ä¸Šçš„å…¥å°„è¾å°„å’Œåœºæ™¯ä¸­çš„å·²çŸ¥ä½ç½®ã€‚è¿™äº›å°„çº¿ä¼ æ„Ÿå™¨æ˜¯ç†æƒ³çš„ï¼Œå› ä¸ºå®ƒä»¬è¢«æ”¾ç½®åœ¨åœºæ™¯ä¸­çš„æœŸæœ›ä½ç½®ï¼Œæ€»æ˜¯é¢å¯¹å…‰çº¿ã€‚åœ¨è¿™äº›å¼ºæœ‰åŠ›çš„å‡è®¾ä¸‹ï¼Œå¯ä»¥å¯¹é˜´å½±å°„çº¿è·å¾—è¶³å¤Ÿçš„ç›‘ç£ã€‚ç„¶è€Œï¼Œä¸NeRFä¸åŒçš„æ˜¯ï¼Œ<strong>è¿™äº›å°„çº¿ä¼ æ„Ÿå™¨å¾ˆéš¾åœ¨å®é™…è®¾ç½®ä¸­å®ç°ï¼Œå…¶ä¸­å°„çº¿ä¼ æ„Ÿå™¨åªæ˜¯å¤šè§†è§’ç›¸æœºçš„åƒç´ </strong>ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºçœŸæ­£çš„æ•è·è®¾ç½®æå‡ºä¸€ä¸ªæ›´å®ç”¨çš„è®¾ç½®ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä»å•è§†å›¾ç›¸æœºè¿›è¡Œé˜´å½±å°„çº¿ç›‘ç£ï¼Œè¿™å¯èƒ½æ˜¯å…ˆå‰å…¬å¼ä¸­å°„çº¿ä¼ æ„Ÿå™¨çš„å®ç”¨æ›¿ä»£æ–¹æ¡ˆã€‚æˆ‘ä»¬ç±»ä¼¼åœ°ç”¨$l$æ–¹å‘çš„å…‰ç…§äº®åœºæ™¯ã€‚å‡è®¾åœºæ™¯æ˜¯ä¸é€æ˜çš„ï¼Œå› æ­¤ç›¸æœºå‡†ç¡®åœ°æ•æ‰åˆ°å¯è§è¡¨é¢çš„å‡ºå°„è¾å°„ã€‚æˆ‘ä»¬è€ƒè™‘ä¸¤ç§ç±»å‹çš„ç›¸æœºè¾“å…¥:<strong>äºŒå€¼é˜´å½±å›¾åƒ[18]å’ŒRGBå›¾åƒ</strong>ï¼Œå¦‚å›¾3æ‰€ç¤ºã€‚</p><ul><li>äºŒå€¼é˜´å½±å›¾åƒä½¿ç”¨è¾“å‡ºäº®åº¦æ¥ç¡®å®šä¸€ä¸ªç‚¹æ˜¯å¦è¢«ç…§äº®ï¼Œè¿™å¯ä»¥çœ‹ä½œæ˜¯äºŒå€¼åŒ–å…¥å°„äº®åº¦çš„è¿‘ä¼¼å€¼ã€‚</li><li>RGBå›¾åƒæ˜¯ä¸€ç§æ›´å¤æ‚çš„æƒ…å†µï¼Œè®°å½•äº†ææ–™ã€è¡¨é¢æ–¹å‘å’Œå…¥å°„è¾å°„çš„ç»¼åˆå½±å“ã€‚</li></ul><p>æˆ‘ä»¬å°†é¦–å…ˆè€ƒè™‘æ›´ç›´æ¥çš„æƒ…å†µï¼Œå½“æˆ‘ä»¬å¯ä»¥ä»äºŒå€¼é˜´å½±å›¾åƒä¸­è·å¾—å¯è§è¡¨é¢çš„å…¥å°„äº®åº¦ï¼Œç„¶åå¤„ç†æ›´å¤æ‚çš„RGBå›¾åƒã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230809181405.png" alt="image.png"><br><em>æˆ‘ä»¬çš„æ–¹æ³•æ¦‚è¿°ã€‚æ‰€æå‡ºçš„é˜´å½±å°„çº¿ç›‘ç£å¯ä»¥åº”ç”¨äºä¸¤ç§è¾“å…¥ç±»å‹çš„å•è§†å›¾ç¥ç»åœºæ™¯é‡å»º:äºŒå€¼é˜´å½±å›¾åƒ(å·¦)å’ŒRGBå›¾åƒ(å³)ã€‚å¯¹äºäºŒè¿›åˆ¶è¾“å…¥ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ä½“ç»˜åˆ¶è®¡ç®—é˜´å½±å°„çº¿çš„å…¥å°„äº®åº¦ã€‚ç„¶åï¼Œæˆ‘ä»¬æ„é€ äº†ä¸€ä¸ªå…‰åº¦æŸå¤±æ¥è®­ç»ƒç¥ç»SDFä»¥åŒ¹é…é˜´å½±ã€‚å¯¹äº RGB è¾“å…¥ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ä½¿ç”¨ææ–™ç½‘ç»œå’Œæ¸²æŸ“æ–¹ç¨‹å°†ä¼ å…¥çš„è¾å°„è½¬æ¢ä¸ºä¼ å‡ºè¾å°„ã€‚è®­ç»ƒSDFå’Œææ–™ç½‘ç»œä»¥åŒ¹é…åœ°é¢çœŸå®é¢œè‰²ã€‚</em></p><p>ç„¶è€Œï¼Œå¦ä¸€ä¸ªæŒ‘æˆ˜æ˜¯ï¼Œç»™å®šè®°å½•çš„åƒç´ å€¼ï¼Œæˆ‘ä»¬ä»ç„¶ä¸çŸ¥é“å¯è§è¡¨é¢ç‚¹çš„ç¡®åˆ‡æ·±åº¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†åœºæ™¯è§‚å¯Ÿä½œä¸ºç›¸æœºè§‚å¯Ÿæ–¹å‘åœ¨æœªçŸ¥æ·±åº¦çš„ç‚¹å¤„çš„å‡ºå°„äº®åº¦ã€‚è¿™ä¸ªé—®é¢˜ç”±æå‡ºçš„æŠ€æœ¯å¤„ç†ï¼Œè¿™äº›æŠ€æœ¯ç¡®å®šæ·±åº¦å¹¶å°†ä¼ å‡ºè¾å°„ä¸å…¥å°„è¾å°„è”ç³»èµ·æ¥ã€‚<br>æˆ‘ä»¬å°†åœºæ™¯è¡¨ç¤ºä¸ºç¬¦å·è·ç¦»å‡½æ•° (SDF) $\mathcal{S}=\big\{u\in\mathbb{R}^{3}|f(u)=0\big\},$ çš„é›¶æ°´å¹³é›†ï¼Œå…¶ä¸­ f æ˜¯ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œå®ƒå›å½’è¾“å…¥ 3D ä½ç½®çš„ç¬¦å·è·ç¦»ã€‚ç›¸æœºå¯è§çš„3Dç‚¹æ˜¯ç›¸æœºå…‰çº¿å’ŒSDFä¹‹é—´çš„ç¬¬ä¸€ä¸ªäº¤ç‚¹ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œç›¸æœºå…‰çº¿ä»…ç”¨äºç¡®å®šè¡¨é¢ç‚¹ï¼Œè€Œä¸æ˜¯æ„å»ºç›‘ç£ï¼Œè¿™æ˜¯é˜´å½±å…‰çº¿çš„å·¥ä½œã€‚å…·ä½“æ¥è¯´ï¼Œå°„çº¿è¡Œè¿›[53]ç”¨äºè®¡ç®—å½“å‰SDFçš„äº¤ç‚¹xã€‚ç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½“ç»˜åˆ¶è®¡ç®—äº¤ç‚¹å¤„çš„å…¥å°„è¾å°„åº¦$C_{\mathrm{in}}(x,l)$ã€‚ç”±äºæˆ‘ä»¬æ­£åœ¨å»ºæ¨¡SDFè€Œä¸æ˜¯å¯†åº¦åœºï¼Œæˆ‘ä»¬å°†Eq.(2)$C_\mathrm{in}(x,l)=L\prod_{i=1}^N(1-\alpha_i),$ä¸­çš„ç¦»æ•£ä¸é€æ˜åº¦$\alpha_{i}$æ›¿æ¢ä¸ºNeuS[43]ä¸­SDFå¾—åˆ°çš„ä¸é€æ˜åº¦$\alpha_{i}$ï¼Œå¦‚<br>$\alpha_i=\max\left(1-\frac{\Phi_s(f(p(t_{i+1})))}{\Phi_s(f(p(t_i)))},0\right),$æ–¹ç¨‹å¼(3)<br>å…¶ä¸­$\begin{aligned}\Phi_s(x)=(1+e^{-sx})^{-1}\end{aligned}$ æ˜¯ sigmoid å‡½æ•°ï¼Œs æ˜¯æ§åˆ¶ç­‰å¼çš„å¯å­¦ä¹ æ ‡é‡å‚æ•°ã€‚ Eq.(2) æ¥è¿‘ä½“ç§¯æ¸²æŸ“æˆ–è¡¨é¢æ¸²æŸ“ã€‚</p><p><strong>Differentiable intersection points</strong><br>ä¸ºäº†åœ¨ç»™å®šSDFçš„æƒ…å†µä¸‹å®šä½äº¤ç‚¹xï¼Œå…‰çº¿è¡Œè¿›æ˜¯æœ€ç›´æ¥çš„é€‰æ‹©ã€‚ç„¶è€Œï¼Œç”±äºä¸å¯å¾®ï¼Œå®¹æ˜“è¢«æ·±åº¦ä¸æ­£ç¡®çš„è¡¨é¢ç‚¹è¯¯å¯¼ï¼Œå¯¼è‡´ç»“æœæ›´å·®ã€‚ä¸ºäº†ä½¿ç”¨åå‘ä¼ æ’­çš„æ¢¯åº¦ä¼˜åŒ–äº¤ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨éšå¼å¾®åˆ† [1, 53]ï¼Œè¿™ä½¿å¾—äº¤ç‚¹å¯å¾®åˆ° SDF ç½‘ç»œå‚æ•°ä¸º:<br>$\widehat{x}=x-\frac{v}{n\cdot v}f(x),$æ–¹ç¨‹å¼(4)</p><ul><li>v æ˜¯ç›¸æœºå…‰çº¿æ–¹å‘</li><li>$n=\nabla_{\mathbf{x}}f(x)$ä»SDFç½‘ç»œå¯¼å‡ºçš„è¡¨é¢æ³•çº¿</li></ul><p>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ $C_{\mathrm{in}}(\widehat{x},\mathbf{l})$ ä½œä¸ºäº¤ç‚¹ x å¤„çš„å¯å¾®è¾å°„ã€‚ç”±äºxå……å½“é˜´å½±å°„çº¿çš„èµ·å§‹ä½ç½®ï¼Œå®ƒå¯ä»¥é€šè¿‡Eq.(2)çš„æ¢¯åº¦è¿›è¡Œä¼˜åŒ–ã€‚å½“è®¡ç®—çš„å…¥å°„è¾å°„åº¦$:C_{\mathrm{in}}(\widehat{x},\mathbf{l})$ä¸ç›‘ç£ä¸ä¸€è‡´æ—¶ï¼ŒSDFç½‘ç»œå¯ä»¥ä¼˜åŒ–æ²¿é˜´å½±å…‰çº¿çš„ç¬¦å·è·ç¦»å’Œå…‰çº¿çš„èµ·å§‹ä½ç½®ä»¥é€‚åº”è§‚æµ‹ã€‚</p><p><strong>Multiple shadow rays at boundaries</strong><br>æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼ŒEq.(4)ä¸­çš„$\hat x$åªæ²¿ç›¸æœºæ–¹å‘å˜åŒ–ã€‚å½“ç”¨è®°å½•çš„å›¾åƒç›‘ç£$C_\mathrm{in}(\widehat{x},\mathbf{l})$æ—¶ï¼Œä¼šåœ¨è¡¨é¢è¾¹ç•Œå¯¹åº”çš„åƒç´ å¤„äº§ç”Ÿé—®é¢˜ã€‚åœ¨è¡¨é¢è¾¹ç•Œï¼Œåƒç´ è·¨è¶Šä¸åŒæ·±åº¦çš„ä¸ç›¸è¿åŒºåŸŸï¼Œå…¶ä¸­æ¯ä¸ªåŒºåŸŸå æ®åƒç´ åŒºåŸŸçš„ä¸€éƒ¨åˆ†ã€‚å½“$\hat x$å‚ç›´äºç›¸æœºæ–¹å‘vç§»åŠ¨æ—¶ï¼Œé€šè¿‡æ”¹å˜ä¸æ¯ä¸ªåŒºåŸŸæˆæ¯”ä¾‹çš„é¢ç§¯ï¼Œå¯ä»¥æ˜¾è‘—æ”¹å˜è¡¨é¢è¾¹ç•Œå¤„çš„è®¡ç®—äº®åº¦ã€‚å¦‚æœæˆ‘ä»¬åªä»ä¸€ä¸ªåŒºåŸŸå¼€å§‹é‡‡æ ·ä¸€æ¡é˜´å½±å…‰çº¿ï¼Œå°±ä¼šå¯¼è‡´ä¸æ­£ç¡®çš„æ¢¯åº¦ï¼Œç±»ä¼¼äºå¯å¾®ç½‘æ ¼æ¸²æŸ“çš„æƒ…å†µ[21,24]ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆè·å¾—ä¸€ä¸ªå¯¹åº”äºè¡¨é¢è¾¹ç•Œçš„åƒç´ å­é›†Î©ï¼Œå¹¶ä½¿ç”¨[56]ä¸­çš„è¡¨é¢è¡Œèµ°ç¨‹åºä¸ºæ¯ä¸ªè¾¹ç•Œåƒç´ è·å–å¯å¾®åˆ†çš„é¢ç§¯æ¯”$w$ã€‚ç„¶åæˆ‘ä»¬åœ¨åƒç´ å†…çš„ä¸åŒæ·±åº¦å¤„æ‰¾åˆ°ä¸¤ä¸ªäº¤ç‚¹$x_{\mathrm{n}}$å’Œ$x_{\mathrm{f}}$ï¼Œå¹¶åˆ†åˆ«è®¡ç®—å®ƒä»¬çš„å…¥å°„äº®åº¦$\dot{C}_{\mathrm{in}}(\widehat{x}_{\mathrm{n}},l)$å’Œ$\dot{C}_{\mathrm{in}}(\widehat{x}_{\mathrm{f}},l)$ã€‚è®¡ç®—åƒç´ på¯¹åº”çš„å…¥å°„è¾äº®åº¦æ—¶ï¼Œæˆ‘ä»¬å°†è¾¹ç•Œåƒç´ å¤„çš„å…¥å°„è¾äº®åº¦å¹³å‡ä¸º Eq.5</p><script type="math/tex; mode=display">\widehat{C}_\text{in}=\begin{cases}C_\text{in}(\widehat{x},l)&p\notin\Omega\\wC_\text{in}(\widehat{x}_\text{n},l)+(1-w)C_\text{in}(\widehat{x}_\text{f},l)&p\in\Omega\end{cases}</script><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨äºŒå€¼é˜´å½±å›¾åƒä¸Šçš„åƒç´ $I_{s}$æ¥ç›‘ç£è®¡ç®—å¾—åˆ°çš„å…¥å°„è¾å°„$\widehat{C}_\mathrm{in}$: $\mathcal{L}_\mathrm{shadow}=|\widehat{C}_\mathrm{in}-I_\mathrm{s}|_1.$  Eq.6</p><p><strong>Decomposing incoming radiance by inverse rendering</strong></p><p>ä¸ºäº†å¤„ç†RGBå›¾åƒï¼Œæˆ‘ä»¬ç»“åˆäº†ä¸€ä¸ªç”±ææ–™ã€å…¥å°„å…‰å’Œè¡¨é¢æ–¹å‘ç»„æˆçš„é€†æ¸²æŸ“æ–¹ç¨‹ã€‚æˆ‘ä»¬å°†éæœ—ä¼¯BRDFå»ºæ¨¡ä¸ºæ¼«å°„åˆ†é‡$Ï_{d}$å’Œé•œé¢åˆ†é‡$Ï_{s}$ã€‚æ ¹æ®[23,49]ï¼Œæˆ‘ä»¬ä½¿ç”¨çƒé¢é«˜æ–¯åŸºçš„åŠ æƒç»„åˆå°†é•œé¢åˆ†é‡Ïsè¡¨ç¤ºä¸º:$\rho_s=y^TD(h,n)$ï¼Œå…¶ä¸­$\cdot\mathbf{h}=\frac{\mathbf{l}-\mathbf{v}}{|\mathbf{l}-\mathbf{v}|}$ä¸ºå…‰æ–¹å‘lä¸è§†åœºæ–¹å‘âˆ’vä¹‹é—´çš„åŠå‘é‡ï¼ˆvä¸ºè§‚å¯Ÿæ–¹å‘ï¼‰ï¼ŒDä¸ºé•œé¢åŸºï¼Œyä¸ºé•œé¢ç³»æ•°ã€‚æˆ‘ä»¬å¯¹å¦ä¸€ä¸ªMLPç½‘ç»œgè¿›è¡Œå»ºæ¨¡ï¼Œä»¥å›å½’è¡¨é¢ä½ç½®xå¤„çš„ææ–™æ€§è´¨$(\mathbf{\rho}_{d},\mathbf{y})=g(\mathbf{x})$ã€‚</p><p>ç‚¹xå¤„çš„å‡ºå°„è¾å°„å¯è¡¨ç¤ºä¸º$C(x,-\mathbf{v})=(\rho_d+\rho_s)C_{\mathrm{in}}(x,l)(l\cdot\mathbf{n})$ Eq.7</p><p>è¾¹ç•Œåƒç´ å¯¹åº”çš„å‡ºå°„äº®åº¦$\widehat{C}$æ˜¯å¤šä¸ªæ ·æœ¬çš„åŠ æƒç»„åˆï¼Œç±»ä¼¼äºEq.(5)ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨RGBå›¾åƒä¸Šçš„åƒç´ $I_r$æ¥ç›‘ç£è®¡ç®—çš„äº®åº¦: $\mathcal{L}_\mathrm{rgb}=|\widehat{C}-I_\mathrm{r}|_1$  Eq.8</p><p><strong>Light source modeling</strong></p><p>æˆ‘ä»¬çš„æŠ€æœ¯æ”¯æŒå®šå‘å…‰æˆ–ç‚¹å…‰ä½œä¸ºå…‰æºæ¥è®¡ç®—å¼(2)ä¸­çš„å…¥å°„è¾äº®åº¦ã€‚å¯¹äºå®šå‘å…‰ï¼Œæ‰€æœ‰é˜´å½±å°„çº¿çš„å…‰æ–¹å‘$l$å’Œå¼ºåº¦$L$éƒ½æ˜¯å·²çŸ¥çš„ï¼Œå¹¶ä¸”æ˜¯å‡åŒ€çš„ã€‚å¯¹äºç‚¹å…‰ï¼Œæˆ‘ä»¬è®¡ç®—ç‚¹xå¤„çš„å…‰æ–¹å‘å’Œå…‰å¼ºä¸º$L=\frac{L_p}{|q-x|_2^2},l=\frac{q-x}{|q-x|_2}$  Eq.9, å¼ä¸­$L_{p}$ä¸ºæ ‡é‡ç‚¹å…‰å¼ºï¼Œqä¸ºå…‰ä½ç½®</p><p><strong>Training</strong><br>ä¸ºäº†æ­£åˆ™åŒ–ç½‘ç»œä»¥è¾“å‡ºæœ‰æ•ˆçš„SDFï¼Œæˆ‘ä»¬åœ¨Mä¸ªæ ·æœ¬ç‚¹ä¸Šæ·»åŠ ä¸€ä¸ªEikonalæŸå¤±[15]ä¸º<br>$\mathcal{L}_{\mathrm{eik}}=\frac{1}{M}\sum_{i}^{M}(|\nabla f(p_{i})|_{2}-1)^{2}.$ Eq.10<br>æˆ‘ä»¬è®­ç»ƒEikonalæŸå¤±with Eq.(6)æˆ–Eq.(8)ï¼Œè¿™å–å†³äºæ˜¯å¦ä½¿ç”¨äºŒè¿›åˆ¶é˜´å½±å›¾åƒæˆ–RGBå›¾åƒä½œä¸ºç›‘ç£</p><p>æˆ‘ä»¬çš„æŠ€æœ¯ä¸»è¦æ˜¯åœ¨åœ°é¢ç‰©ä½“çš„æœ‰ç•Œåœºæ™¯ä¸Šè¿›è¡Œè¯„ä¼°ã€‚ä¸ºäº†çº¦æŸæ‘„åƒæœºå…‰çº¿ï¼Œ<strong>æˆ‘ä»¬å°†ä¸ä¸SDFç›¸äº¤çš„æ‘„åƒæœºå…‰çº¿è®¾ç½®ä¸ºä¸åœ°é¢ç›¸äº¤</strong>ã€‚ä¸ºäº†è§£å†³å•è§†è§’è¾“å…¥çš„æ¯”ä¾‹æ¨¡ç³Šé—®é¢˜ï¼Œä»¥ç²¾ç¡®çš„æ¯”ä¾‹é‡å»ºåœºæ™¯ï¼Œæˆ‘ä»¬å‡è®¾åœ°å¹³é¢çš„ä½ç½®å’Œæ–¹å‘å·²çŸ¥ã€‚æ›´å¤šå…³äºåœ°å¹³é¢å¤„ç†çš„è®¨è®ºå¯ä»¥åœ¨è¡¥å……ææ–™ä¸­æ‰¾åˆ°ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><h2 id="Implementation-details"><a href="#Implementation-details" class="headerlink" title="Implementation details"></a>Implementation details</h2><p>å¯¹äºäºŒè¿›åˆ¶é˜´å½±è¾“å…¥å’ŒRGBè¾“å…¥ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ç±»ä¼¼äºNeus[43]çš„SDF MLPç½‘ç»œã€‚å½“å¤„ç†RGBè¾“å…¥æ—¶ï¼ŒSDFç½‘ç»œè¾“å‡ºä¸€ä¸ªé¢å¤–çš„256ç»´ç‰¹å¾å‘é‡ã€‚å®ƒå°†ä¸3Dä½ç½®å’Œè¡¨é¢æ³•çº¿è¿æ¥ï¼Œé€šè¿‡å¦ä¸€ä¸ªMLPç½‘ç»œå›å½’æ¼«åå°„å’Œé«˜å…‰ç³»æ•°ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åœ¨æ¯æ‰¹ä¸­éšæœºé€‰æ‹©4å¼ å›¾åƒï¼Œå¯¹æ¯å¼ å›¾åƒé‡‡æ ·256ä¸ªåƒç´ ä½ç½®ä½œä¸ºç›‘ç£ä¿¡å·ã€‚é€šè¿‡å°„çº¿è¡Œè¿›æ¥å®šä½ç›¸æœºå…‰çº¿äº¤å‰ç‚¹ï¼Œå¹¶ä½¿ç”¨ä»è¿™äº›äº¤å‰ç‚¹å¼€å§‹çš„è¡¨é¢è¡Œèµ°è¿‡ç¨‹[56]æ¥è®¡ç®—å¯èƒ½çš„è¡¨é¢è¾¹ç•Œã€‚æˆ‘ä»¬å¯¹ç½‘ç»œè¿›è¡Œäº†150kæ¬¡è¿­ä»£è®­ç»ƒï¼Œåœ¨å•ä¸ªRTX 2080Tiä¸Šå¤§çº¦éœ€è¦24å°æ—¶ã€‚æ›´å¤šçš„å®ç°ç»†èŠ‚å¯ä»¥åœ¨è¡¥å……ææ–™ä¸­æ‰¾åˆ°ã€‚</p><h2 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h2><p>ä¸ºäº†è¯æ˜åœ¨åœºæ™¯é‡å»ºä¸­åˆ©ç”¨é˜´å½±å…‰çº¿ä¿¡æ¯çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬åœ¨å•è§†å›¾äºŒè¿›åˆ¶é˜´å½±å›¾åƒå’Œå¤šä¸ªå·²çŸ¥å…‰æ–¹å‘ä¸‹æ•è·çš„RGBå›¾åƒä¸Šè¯„ä¼°äº†æˆ‘ä»¬çš„æ–¹æ³•ã€‚æˆ‘ä»¬é¦–å…ˆä¸æ”¯æŒç±»ä¼¼è¾“å…¥çš„æœ€å…ˆè¿›æ–¹æ³•è¿›è¡Œå®šæ€§å’Œå®šé‡æ¯”è¾ƒã€‚ç„¶åï¼Œé€šè¿‡ç»¼åˆæ¶ˆèç ”ç©¶æ¥è¯„ä¼°é˜´å½±å°„çº¿ç›‘æµ‹æ–¹æ¡ˆçš„æœ‰æ•ˆæ€§ã€‚æœ€åï¼Œæˆ‘ä»¬å±•ç¤ºäº†è¯¥æ–¹æ³•çš„æ›´å¤šç»“æœå’Œåº”ç”¨ã€‚<br>ä¸Šè¿°å®éªŒåœ¨ä¸‰ä¸ªæ•°æ®é›†ä¸Šè¿›è¡Œã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨DeepShadow[18]å‘å¸ƒçš„æ•°æ®é›†ï¼Œå…¶ä¸­åŒ…å«å…­ä¸ªåœºæ™¯åœ¨ä¸åŒç‚¹å…‰ä¸‹çš„äºŒè¿›åˆ¶é˜´å½±å›¾åƒã€‚æ¯ä¸ªåœºæ™¯éƒ½æ˜¯ç±»ä¼¼åœ°å½¢çš„ï¼Œå¹¶ç”±å‚ç›´å‘ä¸‹çš„æ‘„åƒæœºæ•æ‰åˆ°ã€‚å¯¹äºå…¶ä»–è§†ç‚¹æ•è·çš„æ›´å¤æ‚çš„åœºæ™¯ï¼Œæˆ‘ä»¬å‘ç°æ²¡æœ‰å…¬å¼€å¯ç”¨çš„æ•°æ®é›†å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ„å»ºæ–°çš„åˆæˆå’ŒçœŸå®æ•°æ®é›†è¿›è¡Œå…¨é¢è¯„ä¼°ã€‚</li><li>å¯¹äºåˆæˆæ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥è‡ªNeRFåˆæˆæ•°æ®é›†[29]çš„å¯¹è±¡æ¸²æŸ“å…«ä¸ªåœºæ™¯ã€‚æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½æ˜¯é€šè¿‡æ·»åŠ ä¸€ä¸ªæ°´å¹³é¢æ¥å»ºæ¨¡åœ°é¢ï¼Œå°†å¯¹è±¡æ”¾ç½®åœ¨å¹³é¢ä¸Šï¼Œå¹¶ä½¿ç”¨Blender[13]æ¸²æŸ“åœºæ™¯æ¥æ„å»ºçš„ã€‚æˆ‘ä»¬æ¸²æŸ“äºŒè¿›åˆ¶é˜´å½±å›¾åƒå’Œåˆ†è¾¨ç‡800Ã—800çš„RGBå›¾åƒã€‚ä¸ºäº†æµ‹è¯•ä¸åŒçš„å…‰ç±»å‹ï¼Œæˆ‘ä»¬ç”¨100ä¸ªæ–¹å‘å…‰å’Œ100ä¸ªç‚¹å…‰æ¸²æŸ“æ¯ä¸ªåœºæ™¯ã€‚æˆ‘ä»¬é€‰æ‹©åœ¨ä¸ŠåŠçƒéšæœºé‡‡æ ·çš„å…‰ï¼Œç±»ä¼¼äºNeRFä¸­çš„ç›¸æœºä½ç½®é€‰æ‹©ã€‚æˆ‘ä»¬çš„åˆæˆæ•°æ®é›†å…·æœ‰é•œé¢æ•ˆæœçš„ç°å®ææ–™ã€‚é€æ˜åº¦å’Œç›¸äº’åå°„è¢«ç¦ç”¨ï¼Œå› ä¸ºè¿™äº›æ•ˆæœè¶…å‡ºäº†æˆ‘ä»¬çš„å‡è®¾ã€‚</li><li>æˆ‘ä»¬è¿˜æ•è·äº†ä¸€ä¸ªçœŸå®çš„æ•°æ®é›†ï¼Œä»¥ç ”ç©¶æˆ‘ä»¬çš„æ–¹æ³•å¯¹çœŸå®æ•è·è®¾ç½®çš„é€‚ç”¨æ€§ã€‚å¯¹äºæ¯ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬å°†ç‰©ä½“æ”¾åœ¨åœ°é¢ä¸Šï¼Œä»…ç”¨æ‰‹æŒæ‰‹æœºæ‰‹ç”µç­’ç…§äº®åœºæ™¯ï¼Œå¹¶ç”¨å›ºå®šæ‘„åƒæœºæ•æ‰å®ƒã€‚å½“æ‰‹æŒæ‰‹ç”µç­’åœ¨åœºæ™¯ä¸­ç§»åŠ¨æ—¶ï¼Œæˆ‘ä»¬æ•è·äº†å¤§çº¦40ä¸ªRGBå›¾åƒï¼Œå¹¶è·å¾—ç±»ä¼¼[4]çš„å…‰ä½ç½®ã€‚æˆ‘ä»¬åœ¨åœ°é¢ä¸Šæ”¾ç½®ä¸€ä¸ªæ£‹ç›˜ï¼Œå¹¶ç”¨ç›¸åŒçš„å›ºå®šæ‘„åƒæœºæ•æ‰é¢å¤–çš„å›¾åƒæ¥æ ¡å‡†åœ°é¢ã€‚æ‰€ç”¨æ•°æ®é›†çš„æ‘˜è¦è¯·å‚è§è¡¨1ã€‚</li></ul><h2 id="Metrics"><a href="#Metrics" class="headerlink" title="Metrics"></a>Metrics</h2><p>ç”±äºæ¯”è¾ƒçš„æ–¹æ³•è¾“å‡ºäº†å¯è§åŒºåŸŸçš„æ·±åº¦å›¾æˆ–æ³•çº¿å›¾ï¼Œæˆ‘ä»¬è¿˜é€šè¿‡L1çš„æ·±åº¦è¯¯å·®(depth L1)å’Œåœ¨å¯è§å‰æ™¯åŒºåŸŸè®¡ç®—çš„å¹³å‡è§’è¯¯å·®(normal MAE)çš„æ­£æ€è¯¯å·®æ¥è¯„ä¼°å•è§†å›¾é‡å»ºçš„è´¨é‡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”±äºä¸€äº›æ¯”è¾ƒæ–¹æ³•è¾“å‡ºçš„æ·±åº¦å›¾æ²¡æœ‰ç‰¹å®šçš„æ¯”ä¾‹å°ºï¼Œå› æ­¤æ·±åº¦L1æ˜¯åœ¨ä½¿ç”¨ICPå°†æ·±åº¦å›¾ä¸åœ°é¢çœŸå®å€¼å¯¹é½åè®¡ç®—çš„ã€‚</p><h3 id="Comparison-on-binary-shadow-inputs"><a href="#Comparison-on-binary-shadow-inputs" class="headerlink" title="Comparison on binary shadow inputs"></a>Comparison on binary shadow inputs</h3><h3 id="Comparison-on-RGB-inputs"><a href="#Comparison-on-RGB-inputs" class="headerlink" title="Comparison on RGB inputs"></a>Comparison on RGB inputs</h3><h3 id="Ablation-Study"><a href="#Ablation-Study" class="headerlink" title="Ablation Study"></a>Ablation Study</h3><h3 id="More-Results"><a href="#More-Results" class="headerlink" title="More Results"></a>More Results</h3>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Shadow&amp;Highlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Shadow&amp;Highlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Strivec</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/Strivec/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/Strivec/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Strivec: Sparse Tri-Vector Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td>Quankai Gao and Qiangeng Xu and Hao su and Ulrich Neumann and Zexiang Xu</td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/Zerg-Overmind/Strivec">Zerg-Overmind/Strivec (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4781773925486952449&amp;noteId=1905442275767271936">Strivec: Sparse Tri-Vector Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807134854.png" alt="image.png"></p><ul><li>å±€éƒ¨CPåˆ†è§£ï¼Œä¸‰å‘é‡</li><li>å¤šå°ºåº¦ï¼Œå ç”¨ç½‘æ ¼æ–¹å¼</li></ul><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§é«˜è´¨é‡çš„ç¥ç»åœºæ™¯é‡å»ºå’Œé€¼çœŸçš„æ–°è§†å›¾åˆæˆçš„æ–°æ–¹æ³•ã€‚æˆ‘ä»¬<strong>æå‡ºäº†ä¸€ç§æ–°çš„åŸºäºå¼ é‡åˆ†è§£çš„åœºæ™¯è¡¨ç¤ºï¼Œå®ƒåˆ©ç”¨CPåˆ†è§£å°†3Dåœºæ™¯ç´§å‡‘åœ°å»ºæ¨¡ä¸ºè¡¨è¾¾å±€éƒ¨äº®åº¦åœºçš„å¤šå°ºåº¦ä¸‰å‘é‡å¼ é‡çš„ç¨€ç–é›†</strong>ã€‚æˆ‘ä»¬çš„è¡¨ç¤ºåˆ©ç”¨äº†ç¨€ç–æ€§å’Œç©ºé—´å±€éƒ¨ä¸€è‡´æ€§ï¼Œå¹¶å¯¼è‡´å¤æ‚åœºæ™¯å‡ ä½•å’Œå¤–è§‚çš„å‡†ç¡®å’Œæœ‰æ•ˆçš„å»ºæ¨¡ã€‚æˆ‘ä»¬è¯æ˜äº†ç¨€ç–çš„ä¸‰å‘é‡è¾å°„åœºå¯ä»¥æ¯”ä»¥å‰æœ€å…ˆè¿›çš„ç¥ç»è¡¨ç¤º(åŒ…æ‹¬TensoRFå’ŒiNGP)è·å¾—æ›´å¥½çš„æ¸²æŸ“è´¨é‡ï¼ŒåŒæ—¶ä½¿ç”¨æ›´å°‘çš„å‚æ•°ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æˆ‘ä»¬æå‡ºäº†Strivecï¼Œä¸€ç§æ–°çš„ç¥ç»è¡¨ç¤ºï¼Œå®ƒå°†3Dåœºæ™¯å»ºæ¨¡ä¸ºå…·æœ‰ç¨€ç–åˆ†å¸ƒå’Œç´§å‡‘åˆ†è§£çš„å±€éƒ¨å¼ é‡ç‰¹å¾ç½‘æ ¼çš„è¾å°„åœºã€‚æˆ‘ä»¬çš„æ–¹æ³•åˆ©ç”¨å¼ é‡åˆ†è§£ï¼Œåœ¨æœ€è¿‘çš„å·¥ä½œTensoRF[7]ä¹‹åï¼Œå¯¹å¼ é‡ç½‘æ ¼å»ºæ¨¡ã€‚<strong>ä¸ä½¿ç”¨å…¨å±€å¼ é‡å¹¶ä¸“æ³¨äºå…¶å‘é‡çŸ©é˜µåˆ†è§£çš„TensoRFç›¸åï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨å±€éƒ¨å¼ é‡äº‘å¹¶åº”ç”¨ç»å…¸çš„CANDECOMP/PARAFAC (CP)åˆ†è§£</strong>[5]å°†æ¯ä¸ªå¼ é‡åˆ†è§£ä¸ºä¸‰ä¸ªå‘é‡ï¼Œè¿™äº›å‘é‡è¡¨ç¤ºæ²¿ç©ºé—´è½´çš„å±€éƒ¨ç‰¹å¾åˆ†å¸ƒå¹¶ç´§å‡‘åœ°ç¼–ç å±€éƒ¨ç¥ç»åœºã€‚æˆ‘ä»¬<strong>è¿˜åº”ç”¨å¤šå°ºåº¦å¼ é‡ç½‘æ ¼æ¥å‘ç°å‡ ä½•å’Œå¤–è§‚çš„å…±æ€§ï¼Œå¹¶åˆ©ç”¨ä¸‰å‘é‡åˆ†è§£åœ¨å¤šä¸ªå±€éƒ¨å°ºåº¦ä¸Šçš„ç©ºé—´ä¸€è‡´æ€§</strong>ã€‚<br>æœ€ç»ˆçš„äº®åº¦åœºå±æ€§æ˜¯é€šè¿‡èšåˆç¥ç»ç‰¹å¾ä»å¤šä¸ªå±€éƒ¨å¼ é‡åœ¨æ‰€æœ‰å°ºåº¦ä¸Šå›å½’ã€‚æˆ‘ä»¬çš„ä¸‰å‘é‡å¼ é‡ç¨€ç–åˆ†å¸ƒåœ¨å®é™…åœºæ™¯è¡¨é¢å‘¨å›´ï¼Œé€šè¿‡å¿«é€Ÿç²—é‡å»ºå‘ç°ï¼Œåˆ©ç”¨3Dåœºæ™¯çš„ç¨€ç–æ€§ã€‚æˆ‘ä»¬è¯æ˜äº†æˆ‘ä»¬çš„æ¨¡å‹å¯ä»¥åœ¨ä½¿ç”¨æ¯”ä»¥å‰çš„æ–¹æ³•(åŒ…æ‹¬TensoRFå’ŒInstantNGP)æ›´å°‘çš„å‚æ•°çš„æƒ…å†µä¸‹è·å¾—æ›´å¥½çš„æ¸²æŸ“è´¨é‡[27]ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>NeRFï¼Œå°†3Dåœºæ™¯è¡¨ç¤ºä¸ºäº®åº¦åœº[26]å·²ç»å®ç°äº†é€¼çœŸçš„æ¸²æŸ“è´¨é‡ï¼Œå¹¶æˆä¸º3Dè§†è§‰å’Œå›¾å½¢åº”ç”¨ä¸­æµè¡Œçš„è®¾è®¡é€‰æ‹©ã€‚<br>TensoRF[7]å’ŒInstant-NGP[27]ï¼Œå·²ç»è¯æ˜äº†åœ¨é€Ÿåº¦ï¼Œç´§å‡‘æ€§å’Œè´¨é‡æ–¹é¢ä½¿ç”¨å…±äº«å…¨å±€ç‰¹å¾ç¼–ç è¿›è¡Œè¾å°„åœºå»ºæ¨¡çš„ä¼˜åŠ¿ã€‚<strong>ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•åœ¨åœºæ™¯ä¸­å‡åŒ€åœ°å…±äº«å’Œåˆ†é…ç¥ç»ç‰¹å¾</strong>(ä½¿ç”¨å¼ é‡å› å­æˆ–å“ˆå¸Œè¡¨)ï¼Œ<strong>å‡è®¾åœºæ™¯å†…å®¹åœ¨æ•´ä¸ªç©ºé—´ä¸­åŒæ ·å¤æ‚ï¼Œè¿™å¯èƒ½æ˜¯ä½æ•ˆçš„</strong>(éœ€è¦é«˜æ¨¡å‹å®¹é‡)ï¼Œ<strong>æ— æ³•å‡†ç¡®åœ°æ¨¡æ‹Ÿå¤æ‚çš„å±€éƒ¨åœºæ™¯ç»†èŠ‚</strong>(è§å›¾1)ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230831143518.png" alt="image.png"></p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å‡†ç¡®è€Œç´§å‡‘åœ°å»ºæ¨¡ä¸€ä¸ª3Dåœºæ™¯ï¼Œå¹¶é‡ç°å¤æ‚çš„å±€éƒ¨ç»†èŠ‚ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†Strivecï¼Œä¸€ç§æ–°çš„ç¥ç»åœºæ™¯è¡¨ç¤ºï¼Œå®ƒ<strong>åˆ©ç”¨ç¨€ç–åˆ†å¸ƒå’Œç´§å‡‘åˆ†è§£çš„å±€éƒ¨å¼ é‡ç½‘æ ¼æ¥æ¨¡æ‹Ÿé«˜è´¨é‡çš„æ–°è§†å›¾åˆæˆçš„ä½“ç§¯è¾å°„åœº</strong>ã€‚å¦‚å›¾1æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿå‡†ç¡®åœ°æ¨¡æ‹Ÿå‡ºå¤æ‚çš„åœºæ™¯ç»“æ„ï¼Œè€Œè¿™äº›ç»“æ„æ˜¯ä»¥å‰çš„æ–¹æ³•æ— æ³•å¾ˆå¥½åœ°æ¢å¤çš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œ<strong>æˆ‘ä»¬å“è¶Šçš„æ¸²æŸ“è´¨é‡æ˜¯ç”¨æ›´å°‘çš„æ¨¡å‹å®¹é‡å®ç°çš„</strong>ã€‚</p><ul><li>TensoRFåº”ç”¨CPå’Œå‘é‡çŸ©é˜µ(VM)åˆ†è§£æŠ€æœ¯å°†ä¸€ä¸ªåœºåˆ†è§£ä¸ºå‘é‡å’ŒçŸ©é˜µï¼Œå¹¶å°†æ•´ä¸ªåœºæ™¯å»ºæ¨¡ä¸ºä¸€ä¸ªå…¨å±€åˆ†è§£å¼ é‡<ul><li>TensoRFä¸­çš„å…¨å±€CPåˆ†è§£å¯¼è‡´äº†ä¸€ä¸ªé«˜åº¦ç´§å‡‘çš„æ¨¡å‹ï¼Œä½†æ— æ³•è¾¾åˆ°ä¸VMåˆ†è§£ç›¸å½“çš„æ¸²æŸ“è´¨é‡ã€‚è¿™æ˜¯å› ä¸ºä¸‰å‘é‡CPåˆ†é‡æ˜¯ä¸€çº§çš„ï¼Œè€Œæ•´ä¸ª3Dåœºæ™¯çš„å…¨å±€ç‰¹å¾ç½‘æ ¼é€šå¸¸æ˜¯å¤æ‚å’Œé«˜ç§©çš„ï¼Œéœ€è¦å¤§é‡(ä¸åˆ‡å®é™…çš„)CPåˆ†é‡æ¥å®ç°é«˜ç²¾åº¦ã€‚TensoRFé€šè¿‡åœ¨VMåˆ†è§£ä¸­å¼•å…¥çŸ©é˜µå› å­æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬è´¨ä¸Šæ˜¯å¢åŠ æ¯ä¸ªå¼ é‡åˆ†é‡çš„ç§©ã€‚</li></ul></li><li>æˆ‘ä»¬åˆ©ç”¨åˆ†å¸ƒåœ¨åœºæ™¯è¡¨é¢å‘¨å›´çš„å¤šä¸ªå°å±€éƒ¨å¼ é‡çš„ç¨€ç–é›†æ¥ä»£æ›¿å•ä¸ªå…¨å±€å¼ é‡ï¼Œä»¥å®ç°æ›´æœ‰æ•ˆçš„åœºæ™¯å»ºæ¨¡ã€‚<strong>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬çš„æ¯ä¸ªå¼ é‡éƒ½è¡¨ç¤ºå…¶å±€éƒ¨è¾¹ç•Œæ¡†å†…çš„å±€éƒ¨è¾å°„åœºï¼Œå¹¶åŸºäºCPåˆ†è§£ç”¨åˆ†è§£çš„ä¸‰é‡å‘é‡ç´§å‡‘å»ºæ¨¡</strong>ã€‚<ul><li>æˆ‘ä»¬çš„æ¨¡å‹ç”±å¤šä¸ªå°å¼ é‡ç½‘æ ¼ç»„æˆï¼Œåˆ©ç”¨åœºæ™¯ä¸­çš„å±€éƒ¨ç©ºé—´å…±æ€§ã€‚ä¸å…¨å±€å¼ é‡ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„å±€éƒ¨å¼ é‡ä¸é‚£ä¹ˆå¤æ‚ï¼Œç­‰çº§ä¹Ÿä½å¾—å¤šï¼Œä»è€Œæœ‰æ•ˆåœ°å‡å°‘äº†æ‰€éœ€çš„CPåˆ†é‡(æ¯ä¸ªå¼ é‡)çš„æ•°é‡ï¼Œå¹¶é€šè¿‡é«˜åº¦ç´§å‡‘çš„ä¸‰å‘é‡å› å­å®ç°äº†å®é™…çš„é«˜è´¨é‡è¾å°„åœºé‡å»ºã€‚ä¸TensoRFçš„VMæ¨¡å‹ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„å±€éƒ¨ä¸‰å‘é‡å¼ é‡å¯ä»¥å¸¦æ¥æ›´å¥½çš„æ¸²æŸ“è´¨é‡å’Œç´§å‡‘æ€§(è§å›¾1)ã€‚æˆ‘ä»¬è¿˜è§‚å¯Ÿåˆ°ï¼Œæˆ‘ä»¬çš„å±€éƒ¨å¼ é‡åœ¨ç©ºé—´è½´æ–¹å‘ä¸Šé€šå¸¸æ¯”å…¨å±€å¼ é‡æ›´robust(è¿™ä¼šå½±å“å¼ é‡çš„ç§©ï¼Œä»è€Œå½±å“è´¨é‡;è§å›¾2)</li></ul></li></ul><p><strong>é‡è¦çš„æ˜¯ï¼Œé‡‡ç”¨å±€éƒ¨å¼ é‡(è€Œä¸æ˜¯å…¨å±€å¼ é‡)ä¹Ÿä½¿æˆ‘ä»¬èƒ½å¤Ÿæ ¹æ®å®é™…åœºæ™¯åˆ†å¸ƒçµæ´»åœ°åˆ†é…ç¥ç»ç‰¹å¾ï¼Œä»è€Œæ¯”å…¨å±€è¡¨ç¤ºæ›´æœ‰æ•ˆåœ°è¿›è¡Œåœºæ™¯å»ºæ¨¡å’Œæ›´å¥½åœ°åˆ©ç”¨æ¨¡å‹å‚æ•°</strong>ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é¢„å…ˆè·å–ç²—ç³™çš„åœºæ™¯å‡ ä½•å½¢çŠ¶â€”â€”è¿™å¯ä»¥é€šè¿‡å¿«é€ŸRGBÏƒä½“ç§¯é‡å»º(å¦‚DVGO[36])æˆ–å¤šè§†å›¾ç«‹ä½“(å¦‚Point-NeRF[43])è½»æ¾å®ç°â€”â€”ç›´æ¥åœ¨å®é™…åœºæ™¯è¡¨é¢å‘¨å›´åˆ†å¸ƒå±€éƒ¨å¼ é‡ï¼Œä»è€Œäº§ç”Ÿç¨€ç–çš„åœºæ™¯è¡¨ç¤ºï¼Œé¿å…ä¸å¿…è¦åœ°å¯¹ç©ºåœºæ™¯ç©ºé—´è¿›è¡Œå»ºæ¨¡ã€‚è¯·æ³¨æ„ï¼Œè™½ç„¶ä»¥å‰çš„æ–¹æ³•ä¹Ÿåˆ©ç”¨äº†è¾å°„åœºçš„ç¨€ç–è¡¨ç¤º(ä½¿ç”¨ä½“ç´ [22,45]Plenoxelsæˆ–Point-NERF[43])ï¼Œä½†å®ƒä»¬çš„å±€éƒ¨ç‰¹å¾æ˜¯ç‹¬ç«‹å»ºæ¨¡å’Œä¼˜åŒ–çš„ã€‚<br>æˆ‘ä»¬çš„æ¨¡å‹å°†å±€éƒ¨æ¡†å†…çš„ä¸€ç»„å±€éƒ¨ç‰¹å¾å…³è”èµ·æ¥ï¼Œå¹¶ç”¨ä¸‰å‘é‡ç´§å‡‘åœ°è¡¨ç¤ºå®ƒä»¬ï¼Œç‹¬ç‰¹åœ°åˆ©ç”¨äº†æ²¿è½´çš„å±€éƒ¨ç©ºé—´ç›¸å¹²æ€§ï¼Œå¹¶é€šè¿‡å¼ é‡åˆ†è§£åœ¨ç‰¹å¾ç¼–ç ä¸­æ–½åŠ äº†å±€éƒ¨ä½ç§©å…ˆéªŒã€‚æ­¤å¤–ï¼Œä¸ä»¥å¾€ä»…ä½¿ç”¨å•å°ºåº¦ç‰¹å¾ç½‘æ ¼æˆ–ç‚¹äº‘çš„ç¨€ç–è¡¨ç¤ºä¸åŒï¼Œæˆ‘ä»¬é€šè¿‡åˆ†å¸ƒå¤šå°ºåº¦å±€éƒ¨å¼ é‡ï¼Œä»¥åˆ†å±‚æ–¹å¼åœ¨å¤šå°ºåº¦ä¸Šæœ‰æ•ˆåœ°å»ºæ¨¡åœºæ™¯å‡ ä½•å’Œå¤–è§‚ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¯¹äºä»»æ„çš„3Dä½ç½®ï¼Œæˆ‘ä»¬åœ¨æ‰€æœ‰å°ºåº¦ä¸Šèšåˆå…¶ç›¸é‚»ä¸‰å‘é‡åˆ†é‡çš„ç¥ç»ç‰¹å¾ï¼Œå¹¶ä»èšåˆç‰¹å¾ä¸­è§£ç ä½“ç§¯å¯†åº¦å’Œè§†å›¾ç›¸å…³é¢œè‰²ï¼Œç”¨äºäº®åº¦åœºæ¸²æŸ“ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•é‡‡ç”¨äº†æœ€å¥½çš„ä»¥å‰çš„å±€éƒ¨å’Œå…¨å±€çš„äº®åº¦åœºè¡¨ç¤ºã€‚ä¸TensoRFå’ŒInstant-NGPç­‰å…¨å±€è¡¨ç¤ºç›¸æ¯”ï¼Œ<strong>æˆ‘ä»¬çš„æ¨¡å‹æ›´ç›´æ¥åœ°åˆ©ç”¨äº†åœºæ™¯çš„ç¨€ç–æ€§</strong>;ä¸Plenoxelså’ŒPointNeRFç­‰å±€éƒ¨è¡¨ç¤ºç›¸æ¯”ï¼Œ<strong>æˆ‘ä»¬çš„æ¨¡å‹åˆ©ç”¨äº†åœºæ™¯å‡ ä½•å’Œå¤–è§‚çš„å±€éƒ¨å¹³æ»‘æ€§å’Œä¸€è‡´æ€§</strong>ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨åˆæˆæ•°æ®é›†å’ŒçœŸå®æ•°æ®é›†ä¸Šçš„å®éªŒç»“æœæ‰€ç¤ºï¼Œæˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤Ÿåœ¨è¿™äº›æ•°æ®é›†ä¸Šå®ç°æœ€å…ˆè¿›çš„æ¸²æŸ“è´¨é‡ï¼Œä¼˜äºä»¥å‰çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬TensoRFå’ŒInstant-NGPï¼ŒåŒæ—¶ä½¿ç”¨æ›´å°‘çš„æ¨¡å‹å‚æ•°ï¼Œå±•ç¤ºäº†æˆ‘ä»¬æ¨¡å‹çš„ä¼˜è¶Šè¡¨å¾èƒ½åŠ›ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p><strong>Scene representations.</strong><br>ä¸ºäº†è¡¨ç¤ºä¸‰ç»´åœºæ™¯ï¼Œä¼ ç»Ÿçš„å’ŒåŸºäºå­¦ä¹ çš„æ–¹æ³•ç ”ç©¶äº†å„ç§è¡¨ç¤ºæ–¹æ³•ï¼Œå¦‚æ·±åº¦å›¾[16,21]ã€ç½‘æ ¼[18,40,34]ã€ç‚¹äº‘[32,1,39]å’Œéšå¼å‡½æ•°[10,25,28,44]ã€‚è¿‘å¹´æ¥ï¼Œè¿ç»­ç¥ç»åœºè¡¨å¾åœ¨å•è§†å›¾ä¸‰ç»´é‡å»º[42,14]ã€æ›²é¢è¡¥å…¨[11,30]ã€å¤šè§†å›¾é‡å»º[28]å’Œæ–°è§†å›¾åˆæˆ[26,24]ç­‰å„ç§ä¸‰ç»´ä»»åŠ¡ä¸­è¡¨ç°çªå‡ºã€‚ä¸ä¼ ç»Ÿçš„ç¦»æ•£è¡¨ç¤ºç›¸æ¯”ï¼Œ<strong>è¿ç»­åœº</strong>ä¸å—ç©ºé—´åˆ†è¾¨ç‡çš„é™åˆ¶ï¼Œä¾‹å¦‚ä½“ç§¯åˆ†è¾¨ç‡æˆ–ç‚¹çš„æ•°é‡ã€‚å®ƒä¹Ÿå¯ä»¥è‡ªç„¶åœ°ç”¨ç¥ç»ç½‘ç»œæ¥è¡¨ç¤ºï¼Œæ¯”å¦‚MLPï¼Œå®ƒä»¥å¾ˆå¥½åœ°é€¼è¿‘å¤æ‚å‡½æ•°è€Œé—»åã€‚</p><p><strong>Neural field representations</strong>.<br>å…·ä½“æ¥è¯´ï¼ŒNeRF[26]å°†3Dåœºæ™¯è¡¨ç¤ºä¸ºå…·æœ‰å…¨å±€åæ ‡MLPçš„äº®åº¦åœºï¼Œå®ƒè”åˆå»ºæ¨¡å‡ ä½•ã€å…‰ç…§å’Œçº¹ç†ä¿¡æ¯ï¼Œä»è€Œåœ¨æ–°é¢–çš„è§†å›¾åˆæˆä¸­å®ç°äº†é€¼çœŸçš„æ¸²æŸ“è´¨é‡ã€‚é™¤äº†å…¶ä¼˜åŠ¿å¤–ï¼Œçº¯ç²¹åŸºäºmlpçš„NeRFæ¨¡å‹[3,38]åœ¨å»ºæ¨¡é«˜åº¦å¤æ‚æˆ–å¤§è§„æ¨¡åœºæ™¯æ—¶ï¼Œç”±äºæ¨¡å‹å®¹é‡æœ‰é™ï¼Œä¼˜åŒ–é€Ÿåº¦æ…¢ï¼Œä»¥åŠå»ºæ¨¡ç©ºç™½ç©ºé—´çš„æˆæœ¬ï¼Œé€šå¸¸å­˜åœ¨æ•ˆç‡ä½ä¸‹çš„é—®é¢˜[2]ã€‚</p><p>ä¸ºäº†æ›´æœ‰æ•ˆåœ°å»ºæ¨¡è¾å°„åœºï¼Œæœ€è¿‘çš„å·¥ä½œå·²ç»æ¢ç´¢äº†å°†ç¥ç»åœºä¸å„ç§ä¼ ç»Ÿçš„3Dè¡¨ç¤ºç›¸ç»“åˆï¼ŒåŒ…æ‹¬ä½“ç´ [22,45,36,48]å’Œç‚¹[43]ã€‚è¿˜ç ”ç©¶äº†ä½ç§©è¡¨ç¤ºï¼Œå¦‚ä¸‰å¹³é¢[6,13]å’Œå¼ é‡åˆ†è§£[7,29]ã€‚<br>ç‰¹åˆ«æ˜¯ï¼ŒDVGO[36]å’ŒPlenoxels[45]åˆ†åˆ«ä½¿ç”¨å…·æœ‰ç¥ç»ç‰¹å¾çš„å¯†é›†ä½“ç´ å’Œç¨€ç–ä½“ç´ è¿›è¡Œè¾å°„åœºå»ºæ¨¡ã€‚è™½ç„¶ä¼˜åŒ–æ•ˆç‡é«˜ï¼Œä½†<strong>è¿™äº›åŸºäºå±€éƒ¨ç‰¹å¾ç½‘æ ¼çš„è¡¨ç¤ºå¯¼è‡´æ¨¡å‹å°ºå¯¸è¾ƒå¤§ï¼Œå¹¶ä¸”åœ¨ç‰¹å¾åˆ†è¾¨ç‡éå¸¸é«˜æ—¶å¯èƒ½é¢ä¸´è¿‡æ‹Ÿåˆé—®é¢˜</strong>ã€‚å› æ­¤ï¼ŒDVGOä¹Ÿå¯ä»¥ä¸ä½åˆ†è¾¨ç‡ç½‘æ ¼ä¸€èµ·å·¥ä½œï¼Œè€ŒPlenoxelséœ€è¦é¢å¤–çš„ç©ºé—´æ­£åˆ™åŒ–æ¡æ¬¾ã€‚<br>å¦ä¸€æ–¹é¢ï¼Œæœ€è¿‘çš„ç ”ç©¶é‡‡ç”¨å…¨å±€ç‰¹å¾ç¼–ç æ¥è¡¨è¾¾é«˜åˆ†è¾¨ç‡ç‰¹å¾ç½‘æ ¼ï¼ŒåŒ…æ‹¬å°†ç©ºé—´ç‰¹å¾æ•£åˆ—æˆå¤šå°ºåº¦å“ˆå¸Œè¡¨çš„Instant-NGP[27]å’Œå°†ç‰¹å¾ç½‘æ ¼åˆ†è§£æˆçŸ¢é‡å’ŒçŸ©é˜µå› å­çš„TensoRF[7]ã€‚è¿™äº›å…¨å±€ç‰¹å¾ç¼–ç æ–¹æ³•åˆ©ç”¨äº†æ•´ä¸ªåœºæ™¯ç©ºé—´çš„ç©ºé—´ç›¸å…³æ€§ï¼Œå¯¼è‡´äº†å¿«é€Ÿå’Œç´§å‡‘çš„é‡å»ºï¼Œå¹¶ä¸”åœ¨æ¸²æŸ“è´¨é‡ä¸Šè¶…è¶Šäº†ä»¥å‰åŸºäºmlpæˆ–åŸºäºç½‘æ ¼çš„è¡¨ç¤ºã€‚<strong>ç„¶è€Œï¼Œä¸NeRFç±»ä¼¼ï¼Œå½“è¡¨ç¤ºé«˜åº¦å¤æ‚æˆ–å¤§è§„æ¨¡çš„å†…å®¹æ—¶ï¼Œè¿™ç§å…¨å±€è¡¨ç¤ºä¹Ÿä¼šå—åˆ°å…¶æ¨¡å‹å®¹é‡çš„é™åˆ¶</strong>ã€‚</p><p>ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•ç»“åˆäº†å±€éƒ¨å’Œå…¨å±€ä»£è¡¨ã€‚æˆ‘ä»¬çš„ä¸‰å‘é‡åœºåœ¨åœºæ™¯ä¸­æ˜¯ç¨€ç–åˆ†å¸ƒçš„ï¼Œç±»ä¼¼äºå±€éƒ¨è¡¨ç¤º(å¦‚plenoxelså’ŒPoint-NeRF); åŒæ—¶ï¼ŒåƒTensoRFä¸€æ ·ï¼Œæ¯ä¸ªåŸŸçš„ç‰¹å¾ç”±å±€éƒ¨åŒºåŸŸå…±äº«çš„ä¸‰å‘é‡åˆ†é‡è¡¨ç¤ºï¼Œåˆ©ç”¨äº†ç©ºé—´ç‰¹å¾çš„å…±æ€§ã€‚æˆ‘ä»¬çš„æ¨¡å‹åˆ©ç”¨äº†ç©ºé—´ç¨€ç–æ€§å’Œç›¸å¹²æ€§ï¼Œæ¯”ä»¥å‰çš„å±€éƒ¨å’Œå…¨å±€è¡¨ç¤ºå…·æœ‰æ›´é«˜çš„ç´§å‡‘æ€§å’Œæ›´å¥½çš„é‡å»ºè´¨é‡(è§è¡¨1)ã€‚<br>ä¸æˆ‘ä»¬çš„å·¥ä½œç›¸å…³ï¼Œä»¥å‰çš„æ–¹æ³•ï¼Œå¦‚KiloNeRF[33]å’ŒBlockNeRF[37]ä¹Ÿåˆ©ç”¨å¤šä¸ªæœ¬åœ°mlpæ¥è¡¨ç¤ºä¸€ä¸ªåœºæ™¯ã€‚å…·ä½“æ¥è¯´ï¼ŒKiloNeRFå…³æ³¨å’ŒåŠ é€ŸNeRFï¼Œç‰ºç‰²äº†å®ƒä»¬çš„æ¸²æŸ“è´¨é‡;BlockNeRFæœ¬è´¨ä¸Šä½¿ç”¨å¤šä¸ªnerfæ¥å¢åŠ æ€»æ¨¡å‹å®¹é‡ã€‚æˆ‘ä»¬çš„å·¥ä½œä¸æ˜¯çº¯ç²¹çš„mlpï¼Œè€Œæ˜¯å»ºç«‹åœ¨TensoRF[7]ä¸­åŸºäºå¼ é‡åˆ†è§£çš„ç‰¹å¾ç¼–ç ä¸Šï¼Œ<strong>å®é™…ä¸Šæˆ‘ä»¬åœ¨é™ä½æ¨¡å‹å®¹é‡çš„åŒæ—¶å®ç°äº†å“è¶Šçš„æ¸²æŸ“è´¨é‡</strong>ã€‚</p><h1 id="Sparse-Tri-Vector-Field-Representation"><a href="#Sparse-Tri-Vector-Field-Representation" class="headerlink" title="Sparse Tri-Vector Field Representation"></a>Sparse Tri-Vector Field Representation</h1><p>æˆ‘ä»¬ç°åœ¨æå‡ºäº†æˆ‘ä»¬çš„æ–°è¾å°„åœºè¡¨ç¤ºã€‚æœ¬è´¨ä¸Šï¼Œæˆ‘ä»¬çš„æ¨¡å‹ç”±å¤šå°ºåº¦çš„å°å±€éƒ¨ä¸‰å‘é‡å¼ é‡ç»„æˆï¼Œæ—¨åœ¨åˆ©ç”¨ç¨€ç–æ€§å’Œå¤šå°ºåº¦ç©ºé—´ç›¸å¹²æ€§(è§å›¾2)ã€‚</p><p>ä¸‰å‘é‡å¼ é‡äº‘ $\mathcal{T}=\{\tau_n|n=1,â€¦,N\}$<br>æ¯ä¸ªå±€éƒ¨å¼ é‡Ï„ä½äºpï¼Œè¦†ç›–ä¸€ä¸ªè¾¹é•¿ä¸ºlçš„å±€éƒ¨ç«‹æ–¹ä½“ç©ºé—´Ï‰ã€‚è¿™ä¸ªä¸‰å‘é‡å¼ é‡äº‘ä»£è¡¨äº†3Dç©ºé—´çš„è¾å°„åœº: $\Omega=\bigcup_{n=1}^N\omega_n.$ Eq.1</p><p>åœ¨è¿™é‡Œï¼Œæ¯ä¸ªå¼ é‡Ï„ç¼–ç ä¸€ä¸ªå±€éƒ¨å¤šé€šé“ç‰¹å¾ç½‘æ ¼ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ä¸ª(å•é€šé“)å¯†åº¦ç½‘æ ¼$A_{\sigma}$å’Œä¸€ä¸ª(å¤šé€šé“)å¤–è§‚ç½‘æ ¼$A_{c}$ï¼Œç±»ä¼¼äºTensoRFä¸­çš„å¼ é‡ç½‘æ ¼[7]ã€‚ä¸åœ¨TensoRFä¸­ä½¿ç”¨å•ä¸ªå…¨å±€å¼ é‡[7]ç›¸æ¯”ï¼Œæˆ‘ä»¬ä½¿ç”¨å¤šä¸ªå±€éƒ¨å¼ é‡å¯¹ä½“ç§¯å¯†åº¦å’Œè§†å›¾ç›¸å…³é¢œè‰²è¿›è¡Œå»ºæ¨¡ã€‚ç‰¹åˆ«åœ°ï¼Œå¯¹äºä»»æ„ä½ç½®$\chi\in\Omega$ï¼Œæˆ‘ä»¬é€‰æ‹©Mä¸ªè¦†ç›–$Ï‡$çš„æœ€è¿‘å¼ é‡ã€‚åœ¨é€‰æ‹©çš„å¼ é‡ä¸­ï¼Œæˆ‘ä»¬å°†æå–çš„å¯†åº¦å’Œç”±å®ƒä»¬çš„ä¸‰å‘é‡å› å­æ¢å¤çš„å¤–è§‚ç‰¹å¾è¿›è¡Œèšåˆï¼Œç”¨äºè¾å°„åœºå±æ€§å›å½’ï¼Œå…¶ä¸­åœ¨èšåˆåç›´æ¥è·å¾—ä½“ç§¯å¯†åº¦Ïƒï¼Œå¹¶é€šè¿‡å°MLP $Ïˆ$éšè§‚å¯Ÿæ–¹å‘å›å½’ä¸è§†å›¾ç›¸å…³çš„é¢œè‰²cã€‚è¿ç»­è¾å°„åœºå¯è¡¨ç¤ºä¸º:<br>$\sigma_{\chi},c_{\chi}=A_{\sigma}(\{\mathcal G^{\sigma}(\chi)\}),\psi(A_{c}(\{\mathcal G^{c}(\chi)\}),\mathbf{d}).$ Eq.2</p><h2 id="Local-tri-vector-tensors"><a href="#Local-tri-vector-tensors" class="headerlink" title="Local tri-vector tensors."></a>Local tri-vector tensors.</h2><p>æˆ‘ä»¬åº”ç”¨ç»å…¸çš„æ­£åˆ™å¤šè¿›(CP)åˆ†è§£[5]æ¥æ¨¡æ‹Ÿå…·æœ‰ä¸‰å‘é‡åˆ†é‡çš„å±€éƒ¨å¼ é‡ã€‚</p><p><strong>CP decomposition.</strong><br>CPåˆ†è§£å°†Mç»´å¼ é‡$\tau\in\mathbb{R}^{I_1\times I_2\times\ldots\times I_M}$å› å¼åˆ†è§£ä¸ºRä¸ªrank-1å¼ é‡çš„çº¿æ€§ç»„åˆ:<br>$\tau=\sum_{r=1}^{R}\lambda_{r}\mathbf{v}_{r}^{0}\otimes\mathbf{v}_{r}^{1}\otimesâ€¦,\otimes\mathbf{v}_{r}^{M},$ Eq.3<br>å¼ä¸­âŠ—è¡¨ç¤ºå¤–ç§¯;æƒé‡å› å­$Î»_{r}$å¯ä»¥å¸æ”¶æˆå‘é‡$\colon\{\mathbf{v}_{r}^{0},â€¦,\mathbf{v}_{r}^{M}\}.$ã€‚<br><strong>Density and appearance tensors.</strong><br>åœ¨æˆ‘ä»¬å»ºæ¨¡3Dè¾å°„åœºçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†å‡ ä½•ç½‘æ ¼$\mathcal{G}^{\sigma}\in \mathbb{R}^{I\times J\times K}$è®¾ç½®ä¸º3Då¼ é‡ã€‚å¤šé€šé“å¤–è§‚ç½‘æ ¼$\mathcal{G}^c\in\mathbb{R}^{I\times J\times K\times P}$å¯¹åº”ä¸€ä¸ª4Då¼ é‡ã€‚ç¬¬å››ç§å¤–è§‚modeæ˜¯è¾ƒä½çš„ç»´åº¦(ä¸ç©ºé—´æ¨¡å¼ç›¸æ¯”)ï¼Œä»£è¡¨å‘é€åˆ°MLPè§£ç å™¨ç½‘ç»œçš„ç‰¹å¾çš„æœ€ç»ˆç»´åº¦ã€‚<br>æ ¹æ®Eqn.3ï¼Œæˆ‘ä»¬é€šè¿‡CPåˆ†è§£å¯¹æ¯ä¸ªå¼ é‡çš„ç‰¹å¾ç½‘æ ¼$\mathcal{G}^{\sigma}$å’Œ$\mathcal{G}^{c}$è¿›è¡Œåˆ†è§£:<br>$\mathcal{G}^\sigma=\sum_{r=1}^{R_\sigma}\mathcal{A}_{\sigma,r}=\sum_{r=1}^{R_\sigma}\mathrm{v}_{\sigma,r}^X\otimes\mathrm{v}_{\sigma,r}^Y\otimes\mathrm{v}_{\sigma,r}^Z,$ Eq.4<br>$\mathcal{G}^c=\sum_{r=1}^{R_c}\mathcal{A}_{c,r}\otimes\mathbf{b}_r=\sum_{r=1}^{R_c}\mathbf{v}_{c,r}^X\otimes\mathbf{v}_{c,r}^Y\otimes\mathbf{v}_{c,r}^Z\otimes\mathbf{b}_r,$ Eq.5</p><p>å…¶ä¸­ï¼Œ$R_{\sigma}$å’Œ$R_{c}$è¡¨ç¤ºç»„åˆ†æ•°;$\mathcal{A}_{\sigma,r}$å’Œ$\mathcal{A}_{c,r}$æ˜¯ç©ºé—´åˆ†è§£çš„åˆ†é‡å¼ é‡;$\mathbf{V}_{\sigma,r}^{X},â€¦,\mathbf{V}_{c,r}^{X},â€¦$åˆ†åˆ«ä¸ºåˆ†è¾¨ç‡ä¸ºIã€Jã€Kçš„ä¸€ç»´çŸ¢é‡ï¼Œæ²¿Xã€Yã€zè½´å¯¹åœºæ™¯å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚è¿›è¡Œå»ºæ¨¡; $R_{\sigma}$å’Œ$R_{c}$ä¸ºç»„åˆ†æ•°;$\mathbf{b}_{r}$è¡¨ç¤ºç‰¹å¾ç»´åº¦</p><p>æ­£å¦‚åœ¨TensoRF[7]ä¸­æ‰€åšçš„é‚£æ ·ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰ç‰¹å¾æ¨¡å¼å‘é‡$\mathbf{b}_{r}$ä½œä¸ºåˆ—å †å åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆå¾—åˆ°$P\times R_{c}$å¤–è§‚çŸ©é˜µBã€‚è¯¥çŸ©é˜µå¯¹å¼ é‡çš„å¤–è§‚ç‰¹å¾å˜åŒ–è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶å‘æŒ¥å¤–è§‚å­—å…¸çš„ä½œç”¨ã€‚æ³¨æ„ï¼ŒåƒTensoRFè¿™æ ·å¤©çœŸçš„CPåˆ†è§£å°†ä¸ºæ¯ä¸ªå±€éƒ¨å¼ é‡åˆ†é…ä¸åŒçš„å¤–è§‚çŸ©é˜µã€‚<strong>ç›¸åï¼Œæˆ‘ä»¬å»ºè®®åˆ©ç”¨åœ¨æ•´ä¸ªå±€éƒ¨å¼ é‡äº‘ä¸Šå…±äº«çš„å…¨å±€å¤–è§‚çŸ©é˜µBcï¼Œä»è€Œäº§ç”Ÿä¸€ä¸ªå…¨å±€å¤–è§‚å­—å…¸ï¼Œè§£é‡Šæ•´ä¸ªåœºæ™¯çš„é¢œè‰²ç›¸å…³æ€§ã€‚è¿™è¿›ä¸€æ­¥æé«˜äº†æ¨¡å‹çš„è®¡ç®—æ•ˆç‡å’Œæ¨¡å‹ç´§å‡‘æ€§</strong>ã€‚<br>å› æ­¤ï¼Œæ¯ä¸ªå±€éƒ¨å¼ é‡éƒ½ç”±å®ƒä»¬å”¯ä¸€çš„å±€éƒ¨ä¸‰å‘é‡å› å­$\mathbf{v}_{r}^{X},\mathbf{v}_{r}^{Y},\mathbf{v}_{r}^{Z}.$è¡¨ç¤ºã€‚</p><p><strong>Feature evaluation.</strong><br>ä¸ºäº†è·å¾—ä¸€ä¸ªè¿ç»­çš„åœºï¼Œæˆ‘ä»¬åœ¨è¯„ä¼°å¼ é‡ç½‘æ ¼ç‰¹å¾æ—¶è€ƒè™‘äº†ä¸‰çº¿æ€§æ’å€¼ã€‚å¯¹äºä½ç½®$Ï‡$ï¼Œæˆ‘ä»¬é¦–å…ˆè®¡ç®—å…¶ç›¸å¯¹äºä½äº$p$å¤„çš„é€‰å®šå¼ é‡çš„ä½ç½®$\tilde{X}$:<br>$\tilde{x},\tilde{y},\tilde{z}=x-p_x,y-p_y,z-p_z.$ Eq.6<br>ç„¶åï¼Œä¾‹å¦‚ï¼Œä¸ºäº†å¾—åˆ°åœ¨$(\tilde{x},\tilde{y},\tilde{z})$å¤„çš„$\mathcal{A}_{\sigma,r}$ ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è§’ä¸Šè®¡ç®—å¹¶ä¸‰çº¿æ€§æ’å€¼8ä¸ª$\mathcal{A}_{\sigma,r}$ã€‚<br>å¦‚[7]æ‰€è¿°ï¼Œé¦–å…ˆå¯¹æ¯ä¸ªå‘é‡è¿›è¡Œçº¿æ€§æ’å€¼åœ¨æ•°å­¦ä¸Šæ˜¯ç­‰ä»·çš„ï¼Œå¯ä»¥å‡å°‘è®¡ç®—æˆæœ¬ã€‚æ ¹æ®å¤–ç§¯æ³•åˆ™ï¼Œæœ‰$\mathcal{A}_{r,i,j,k}=\mathbf{v}_{r,i}^{X}\mathbf{v}_{r,j}^{Y}\mathbf{v}_{r,k}^{Z},$åˆ™åœ¨$Ï‡$ä½ç½®æ’å€¼çš„å¯†åº¦ç‰¹å¾ä¸º:<br>$\mathcal{G}^{\sigma}(\chi)=\sum_{r}\mathbf{v}_{\sigma,r}^{X}(\tilde{x})\mathbf{v}_{\sigma,r}^{Y}(\tilde{y})\mathbf{v}_{\sigma,r}^{Z}(\tilde{z})=\sum_{r}\mathcal{A}_{\sigma,r}(\tilde{\chi}),$ Eq.7</p><p>å…¶ä¸­$\mathbf{v}_{\sigma,r}^{X}(\tilde{x})$æ˜¯$\mathrm{v}_{\sigma,r}^X$åœ¨xè½´(x)å¤„çš„çº¿æ€§æ’å€¼å€¼ã€‚è¿™é‡Œï¼Œ$\mathcal{G}^{\sigma}(\chi)$æ˜¯ä¸€ä¸ªæ ‡é‡ã€‚</p><p>åŒæ ·ï¼Œæ’å€¼åçš„å¤–è§‚ç‰¹å¾å¯ä»¥è®¡ç®—ä¸º: Eq.8,9,10</p><script type="math/tex; mode=display">\begin{aligned}\mathcal{G}^{c}(\chi)& =\sum_{r}\mathbf{v}_{c,r}^{X}(\tilde{x})\mathbf{v}_{c,r}^{Y}(\tilde{y})\mathbf{v}_{c,r}^{Z}(\tilde{z})\mathbf{b}_{r}  \\&=\sum_r\mathcal{A}_{c,r}(\tilde{\chi})\mathbf{b}_r \\&=\mathbf{B}\cdot(\oplus[\mathcal{A}_{c,r}]_r),\end{aligned}</script><p>å…¶ä¸­â€œâŠ•â€è¡¨ç¤ºä¸²è”concatenationï¼Œâ€œÂ·â€è¡¨ç¤ºç‚¹ç§¯ã€‚å¤–è§‚ç‰¹å¾$\mathcal{G}^c(\chi)\in\mathbb{R}^P$æ˜¯ä¸€ä¸ªå‘é‡ã€‚</p><h2 id="Feature-aggregation"><a href="#Feature-aggregation" class="headerlink" title="Feature aggregation."></a>Feature aggregation.</h2><p>æˆ‘ä»¬å»ºè®®èšåˆæ¥è‡ªMä¸ªç›¸é‚»å¼ é‡çš„ç‰¹å¾ï¼Œä»¥è”åˆå»ºæ¨¡æ¯ä¸ª3Dä½ç½®çš„ä½“ç§¯å¯†åº¦å’Œå¤–è§‚Ï‡ã€‚ç‰¹åˆ«æ˜¯ï¼Œ<strong>å—Point-NeRFçš„å¯å‘ï¼Œæˆ‘ä»¬åˆ©ç”¨åŸºäºé€†è·ç¦»çš„åŠ æƒå‡½æ•°æ¥ç›´æ¥èšåˆå¤šå¼ é‡ç‰¹å¾</strong>ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™ä¸ªæƒé‡å¯ä»¥è¡¨ç¤ºä¸º$w_m=\frac{1}{|p_m-\chi|}.$ Eq.11<br>æœ‰äº†è¿™ä¸ªæƒå‡½æ•°ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡åŠ æƒå’Œå¾—åˆ°å¯†åº¦ç‰¹å¾:<br>$f^{\sigma}(\chi)=\frac{1}{\sum w_{m}}\sum_{m=1}^{M}w_{m}\mathcal{G}_{m}^{\sigma}(\chi).$ Eq.12</p><p>åŒæ ·ï¼Œå¤–è§‚ç‰¹å¾èšåˆä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹å¼è¡¨ç¤ºï¼ŒåŒæ—¶ä½¿ç”¨è·¨å±€éƒ¨å¼ é‡çš„å…±äº«å¤–è§‚çŸ©é˜µ(å¦‚ç¬¬3.1èŠ‚æ‰€è¿°): Eq.13,14,15</p><script type="math/tex; mode=display">\begin{aligned}f^{c}(\chi)& =\frac1{\sum w_m}\sum_{m=1}^Mw_m\mathcal{G}_m^c(\chi)  \\&=\frac1{\sum w_m}\sum_{m=1}^Mw_m\mathbf{B}^c\cdot(\oplus[\mathcal{A}_{c,r}]_r) \\&=\frac{1}{\sum w_m}\mathbf{B}^c\cdot(\sum_{m=1}^Mw_m(\oplus[\mathcal{A}_{c,r}]_r)).\end{aligned}</script><p>æ³¨æ„ï¼Œç”±äºåœ¨å¼ é‡ä¹‹é—´å…±äº«å¤–è§‚çŸ©é˜µï¼Œæˆ‘ä»¬å°†è®¡ç®—å¤æ‚åº¦ä»Eqn.14ä¸­çš„$O(M\cdot P\cdot R_c)$é™ä½åˆ°Eqn.15ä¸­çš„$O((M+P)\cdot R_{c})$ã€‚</p><h2 id="Multi-scale-tri-vector-fields"><a href="#Multi-scale-tri-vector-fields" class="headerlink" title="Multi-scale tri-vector fields."></a>Multi-scale tri-vector fields.</h2><p>å¤æ‚çš„3Dåœºæ™¯é€šå¸¸åŒ…å«å¤šé¢‘å‡ ä½•å’Œå¤–è§‚ç»†èŠ‚ã€‚è¿™ä¿ƒä½¿æˆ‘ä»¬æ„å»ºå¤šå°ºåº¦å¼ é‡äº‘ï¼Œä»¥å‘ç°å¤šå°ºåº¦ä¸‹çš„å±€éƒ¨å‡ ä½•å’Œå¤–è§‚å…±æ€§ã€‚æˆ‘ä»¬æœ€ç»ˆçš„äº®åº¦åœºæ˜¯ç”±å¤šä¸ªä¸‰å‘é‡å¼ é‡äº‘åœ¨Sä¸åŒçš„å°ºåº¦ã€‚ä¸åŒçš„äº‘ç”±ä¸åŒåˆ†è¾¨ç‡çš„å¼ é‡ç»„æˆ<br>ä¸ºäº†å›å½’ä½ç½®$Ï‡$çš„å¯†åº¦å’Œå¤–è§‚ï¼Œæˆ‘ä»¬ä»è¦†ç›–$Ï‡$çš„ä¸€ç»„å¼ é‡äº‘ä¸­æ”¶é›†å¯†åº¦å’Œå¤–è§‚ç‰¹å¾ï¼Œ$\{\mathcal{T}_{s}|1\leq s\leq S,\chi\in\Omega_{s}\}$ã€‚è¯·æ³¨æ„ï¼ŒæŸäº›å°ºåº¦çš„å¼ é‡äº‘å¯èƒ½æ²¡æœ‰è¦†ç›–ä½ç½®ï¼Œå› æ­¤$\mathfrak{l}|\{\mathcal{T}_{s}\}|\leq S.$ã€‚æˆ‘ä»¬ç®€å•åœ°è®¡ç®—è¿™äº›å°ºåº¦ä¸Šçš„å¹³å‡ç‰¹å¾:<br>$f^{\sigma}(\chi)=\frac{1}{|\{\mathcal{T}_{s}\}|}\sum_{s}f_{s}^{\sigma}(\chi),$ Eq.16<br>$f^{c}(\chi)=\frac{1}{|\{\mathcal{T}_{s}\}|}\sum_{s}f_{s}^{c}(\chi).$ Eq.17<br>æ³¨æ„ï¼Œ$f^{\sigma}(\chi)$å’Œ$f^{c}(\chi)$æ˜¯æˆ‘ä»¬åœ¨å¤šä¸ªå°ºåº¦å’Œå¤šä¸ªç›¸é‚»å¼ é‡ä¸Šèšåˆçš„æœ€ç»ˆå¯†åº¦å’Œå¤–è§‚ç‰¹å¾ã€‚</p><h2 id="Decoding"><a href="#Decoding" class="headerlink" title="Decoding."></a>Decoding.</h2><p>æˆ‘ä»¬å¯¹å¯†åº¦ç‰¹å¾$f^{\sigma}(\chi)$åº”ç”¨softplusæ¿€æ´»æ¥è·å¾—æœ€ç»ˆçš„ä½“ç§¯å¯†åº¦ï¼Œå¹¶é€šè¿‡å°†å¤–è§‚ç‰¹å¾$f^{c}(\chi)$å’Œè§‚å¯Ÿæ–¹å‘då‘é€åˆ°MLPè§£ç å™¨$Ïˆ$æ¥å›å½’ä¸è§†å›¾ç›¸å…³çš„é¢œè‰²ã€‚</p><h1 id="Rendering-and-Reconstruction"><a href="#Rendering-and-Reconstruction" class="headerlink" title="Rendering and Reconstruction"></a>Rendering and Reconstruction</h1><p><strong>Volume Rendering</strong><br>æˆ‘ä»¬è¯„ä¼°æ¯ä¸ªåƒç´ çš„é¢œè‰²ä¸åŸºäºç‰©ç†çš„ä½“ç§¯æ¸²æŸ“é€šè¿‡å¯å¾®åˆ†å°„çº¿æ¨è¿›ã€‚æ ¹æ®NeRF[26]ï¼Œæˆ‘ä»¬åœ¨$\{\chi_{q}\mid q=1,â€¦,Q\}$æ²¿å°„çº¿ï¼Œå¹¶æŒ‰å¯†åº¦ç´¯ç§¯è¾ç…§åº¦: Eq.18<br>$c=\sum_{q=1}^{Q}T_{q}(1-\exp(-\sigma_{q}\delta_{q}))c_{q},$<br>$T_{q}=\exp(-\sum_{t=1}^{q-1}\sigma_{t}\delta_{t}).$<br>$\sigma_q\mathrm{~and~}c_q$ä¸ºé®å…‰ç‚¹çš„å¯†åº¦å’Œäº®åº¦; $Î´_{t}$ä¸ºæ¯ä¸€æ­¥çš„è¡Œè¿›è·ç¦»;Tä¸ºé€å…‰ç‡ã€‚</p><p><strong>Distributing local tensors</strong><br>é¦–å…ˆï¼Œä¸ºäº†æ›´å¥½åœ°åˆ©ç”¨åœºæ™¯çš„ç¨€ç–æ€§ï¼Œæˆ‘ä»¬é¦–å…ˆè·å¾—ä¸€ä¸ªå¤§è‡´è¦†ç›–åœºæ™¯å‡ ä½•çš„å‡ ä½•å…ˆéªŒã€‚å‡ ä½•å…ˆéªŒå¯ä»¥æ˜¯ä»»ä½•å¸¸ç”¨çš„å½¢å¼ï¼Œä¾‹å¦‚ç‚¹äº‘ã€å ç”¨ç½‘æ ¼ã€å…«å‰æ ‘æˆ–ç½‘æ ¼é¡¶ç‚¹ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨å‡ ä½•çš„ç©ºé—´é‚»åŸŸä¸­å‡åŒ€åˆ†å¸ƒå¼ é‡ã€‚å¯¹äºå¤šå°ºåº¦æ¨¡å‹ï¼Œæ¯ä¸ªå°ºåº¦éƒ½æ˜¯ç‹¬ç«‹åˆ†å¸ƒçš„ã€‚å¯¹äºæˆ‘ä»¬çš„å¤§å¤šæ•°ç»“æœï¼Œæˆ‘ä»¬å¿«é€Ÿåœ°ä»å¤šè§†å›¾å›¾åƒä¸­ä¼˜åŒ–ä¸€ä¸ªç²—ç³™çš„RGBAä½“ç§¯ï¼Œå¹¶ä½¿ç”¨ä¼˜åŒ–çš„å ç”¨ç½‘æ ¼ä½œä¸ºå…ˆéªŒå‡ ä½•ï¼Œå°±åƒåœ¨DVGOä¸­æ‰€åšçš„é‚£æ ·[36]ï¼Œè¿™åœ¨å‡ ç§’é’Ÿå†…å®Œæˆã€‚<br>ä¸ºäº†ä¿æŒè®­ç»ƒçš„ç¨³å®šæ€§å’Œé€Ÿåº¦ï¼Œæ¯ä¸ªå¼ é‡$Ï„$çš„ä½ç½®$p$å’Œè¦†ç›–èŒƒå›´$Ï‰$ä¸€æ—¦ç¡®å®šå°±å›ºå®šã€‚æˆ‘ä»¬è¿˜åˆå§‹åŒ–äº†æ¯ä¸ªæ­£æ€åˆ†å¸ƒå¼ é‡çš„$3(RÏƒ + Rc)$å‘é‡$(\mathbf{v}_{\sigma,r}^X,â€¦,\mathbf{v}_{c,r}^X,â€¦)$ã€‚å¯¹äºæ¯ä¸ªå°ºåº¦s, $P\times R_{c}$å¤–è§‚çŸ©é˜µ$\mathrm{B}_{s}^{c}$ç”±è¯¥å°ºåº¦çš„æ‰€æœ‰ä¸‰å‘é‡å¼ é‡å…±äº«ã€‚å…·ä½“æ¥è¯´ï¼ŒEqn.15ä¸­çš„â€œ$\mathbf{B}^{c}\cdot()$â€å¯ä»¥é«˜æ•ˆåœ°å®ç°ä¸ºå…¨è¿æ¥ç¥ç»å±‚ã€‚å› æ­¤ï¼Œæ¯ä¸ªå°ºåº¦çš„$B^{c}$å’Œå…¨å±€å¤–è§‚MLP $Ïˆ$å°†è¢«å®ç°ä¸ºç¥ç»ç½‘ç»œï¼Œå¹¶é€šè¿‡é»˜è®¤æ–¹æ³•åˆå§‹åŒ–[15]ã€‚</p><p><strong>Optimization and objectives.</strong><br>ç»™å®šä¸€ç»„å…·æœ‰ç›¸æœºå§¿æ€çš„å¤šè§†å›¾RGBå›¾åƒï¼Œåœ¨åœ°é¢çœŸå®åƒç´ é¢œè‰²çš„ç›‘ç£ä¸‹ï¼Œå¯¹ç¨€ç–ä¸‰å‘é‡è¾å°„åœºè¿›è¡Œé€åœºæ™¯ä¼˜åŒ–ä»¥é‡å»ºè¾å°„åœºã€‚æ ¹æ®ä½“æ¸²æŸ“æ–¹ç¨‹18,L2æ¸²æŸ“æŸå¤±å¯ä»¥å›æº¯åˆ°å…¨å±€MLPå’Œèšåˆç‰¹å¾ï¼Œç„¶åï¼Œä¸€ç›´åˆ°å±€éƒ¨å¼ é‡çš„å¤–è§‚çŸ©é˜µå’Œç‰¹å¾å‘é‡ã€‚<br>æˆ‘ä»¬ä½¿ç”¨æ¸²æŸ“æŸå¤±æ¥ç›‘ç£é‡å»ºï¼Œå¹¶åœ¨å¯†åº¦ç‰¹å¾å‘é‡$\mathbf{V}_{\sigma,r}$ä¸Šåº”ç”¨L1æ­£åˆ™åŒ–æŸå¤±æ¥æé«˜å‡ ä½•ç¨€ç–æ€§ï¼Œå¹¶é¿å…åƒTensoRF[7]ä¸­æ‰€åšçš„é‚£æ ·è¿‡æ‹Ÿåˆ:<br>$\mathcal{L}_r=|C-\tilde{C}|_2^2,$ Eq.19<br>$\mathcal{L}_{L1}=\frac{1}{N}\sum_{r}^{R_{\sigma}}|\mathbf{v}_{\sigma,r}|,$ Eq.20<br>å¼ä¸­ï¼Œ$\tilde{C}$ä¸ºåœ°é¢çœŸå€¼åƒç´ é¢œè‰²ï¼Œ$|\mathbf{v}_{\sigma,r}|$ä¸ºå¯†åº¦å‘é‡ä¸Šå„å…ƒç´ ç»å¯¹å€¼ä¹‹å’Œï¼ŒNä¸ºå…ƒç´ æ€»æ•°ã€‚æ€»æŸå¤±ä¸º:<br>$\mathcal{L}=\mathcal{L}_{r}+\alpha\mathcal{L}_{L1}.$ Eq.21<br>æˆ‘ä»¬å°†ç¨€ç–é¡¹Î±çš„æƒå€¼é»˜è®¤è®¾ç½®ä¸º1eâˆ’5ã€‚</p><h1 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h1><p>è·å¾—ç²—ç³™çš„åœºæ™¯å‡ ä½•ï¼š30så†…è·å¾—$100^{3}$çš„å æ®ä½“ç§¯ï¼Œå¦‚æœå­˜åœ¨å¯ç”¨çš„å‡ ä½•æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è·³è¿‡è¿™ä¸€æ­¥</p><p>é»˜è®¤å°ºåº¦æ•°ä¸º3</p><p>åœ¨[-1,1]çš„åœºæ™¯æ¡†ä¸­ï¼Œæˆ‘ä»¬å°†åœºæ™¯å‡ ä½•(è¢«å ç”¨çš„ä½“ç´ ä¸­å¿ƒæˆ–ç‚¹)æ …æ ¼åŒ–åˆ°3ä¸ªä¸åŒä½“ç´ å¤§å°çš„ç½‘æ ¼ä¸Šï¼Œä¾‹å¦‚$0.4^{3},0.2^{3},0.1^{3}$ã€‚å¯¹äºæ¯ä¸ªç½‘æ ¼ï¼Œæˆ‘ä»¬åœ¨å…¶å ç”¨ä½“ç´ çš„ä¸­å¿ƒåˆ†å¸ƒä¸‰å‘é‡å¼ é‡ã€‚3ä¸ªå°ºåº¦çš„å¼ é‡ç©ºé—´è¦†ç›–åº¦åˆ†åˆ«ä¸º$0.6^{3}ã€0.3^{3}ã€0.15^{3}$ã€‚å¯¹äºæ¯ä¸ªå°ºåº¦ï¼Œæˆ‘ä»¬æŸ¥è¯¢M = 4ä¸ªé™„è¿‘å¼ é‡<br>æ®[36]ï¼Œæˆ‘ä»¬çš„ç‰¹å¾è§£ç ç½‘ç»œ$Ïˆ$æ˜¯ä¸€ä¸ªå…·æœ‰128ä¸ªé€šé“çš„2å±‚MLPã€‚å¯¹äºæ¯ä¸ªå°ºåº¦ï¼Œå…¶å¤–è§‚çŸ©é˜µ$B^{c}$ç”±27ä¸ªé€šé“çš„å•ä¸€çº¿æ€§å±‚å®ç°</p><p>æˆ‘ä»¬åœ¨PyTorch[17]ä¸­ä½¿ç”¨è‡ªå®šä¹‰çš„CUDAæ“ä½œæ¥å®ç°è¯¥æ¡†æ¶ã€‚åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨[7]ä¸­çš„ç²—åˆ°ç»†ç­–ç•¥ï¼Œå°†å‘é‡çš„ç»´æ•°(I, J, K)ä»29çº¿æ€§ä¸Šé‡‡æ ·åˆ°121ï¼Œä»15ä¸Šé‡‡æ ·åˆ°61ï¼Œä»7ä¸Šé‡‡æ ·åˆ°31ã€‚ä¸Šé‡‡æ ·å‘ç”Ÿåœ¨ç¬¬2000ã€3000ã€4000ã€5500å’Œ7000æ­¥ã€‚æˆ‘ä»¬ä½¿ç”¨Adamä¼˜åŒ–å™¨[19]ï¼Œåˆå§‹å­¦ä¹ ç‡ä¸ºå‘é‡çš„0.02ï¼Œç½‘ç»œçš„0.001ã€‚åœ¨å•ä¸ª3090 RTX GPUä¸Šï¼Œæˆ‘ä»¬è®­ç»ƒæ¯ä¸ªæ¨¡å‹30000æ­¥ï¼Œè€Œæ¯ä¸ªæ‰¹æ¬¡åŒ…å«4096æ¡å°„çº¿ã€‚è¯·åœ¨è¡¥å……ææ–™ä¸­æ‰¾åˆ°æ›´å¤šçš„ç»†èŠ‚ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><ul><li>Evaluation on the NeRF Synthetic Dataset.</li><li>Evaluation on the real datasets.<ul><li>The ScanNet dataset.</li><li>The Tanks and Temples dataset.</li></ul></li><li>Ablation study</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Efficiency </tag>
            
            <tag> TensorDecomposition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TensoRF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/TensoRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/TensoRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>TensoRF: Tensorial Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://apchenstu.github.io/">Anpei Chen*</a>, <a href="http://cseweb.ucsd.edu/~zex014/">Zexiang Xu*</a>, <a href="http://www.cvlibs.net/">Andreas Geiger</a>, <a href="https://sist.shanghaitech.edu.cn/2020/0707/c7499a53862/page.htm">Jingyi Yu</a>, <a href="https://cseweb.ucsd.edu/~haosu/">Hao Su</a></td></tr><tr><td>Conf/Jour</td><td>ECCV</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://apchenstu.github.io/TensoRF/">TensoRF: Tensorial Radiance Fields (apchenstu.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4695564851771080705&amp;noteId=1905538040970952960">TensoRF: Tensorial Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807134443.png" alt="image.png"></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§é«˜è´¨é‡åœºæ™¯é‡å»ºå’Œæ¸²æŸ“çš„æ–°æ–¹æ³•ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„åœºæ™¯è¡¨ç¤ºTensoRFï¼Œå®ƒåˆ©ç”¨å¼ é‡åˆ†è§£æŠ€æœ¯<strong>å°†è¾å°„åœºç´§å‡‘åœ°å»ºæ¨¡å’Œé‡å»ºä¸ºåˆ†è§£çš„ä½ç§©å¼ é‡åˆ†é‡</strong>ã€‚è™½ç„¶æˆ‘ä»¬çš„æ¡†æ¶åŒ…å«äº†ç»å…¸çš„å¼ é‡åˆ†è§£æŠ€æœ¯(å¦‚CP)ï¼Œä½†<strong>æˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°çš„å‘é‡çŸ©é˜µåˆ†è§£VMï¼Œä»è€Œæé«˜äº†é‡å»ºè´¨é‡å’Œä¼˜åŒ–é€Ÿåº¦</strong>ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥åœ¨æ¯ä¸ªåœºæ™¯ä¸åˆ°<strong>30åˆ†é’Ÿçš„æ—¶é—´</strong>å†…å®ç°é«˜æ•ˆçš„è¾å°„åœºé‡å»ºï¼Œä¸éœ€è¦æ›´é•¿çš„è®­ç»ƒæ—¶é—´(20å¤šä¸ªå°æ—¶)çš„NeRFç›¸æ¯”ï¼Œå¯ä»¥è·å¾—æ›´å¥½çš„æ¸²æŸ“è´¨é‡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åŸºäºå¼ é‡åˆ†è§£çš„æ–¹æ³•<strong>å®ç°äº†é«˜ç´§å‡‘æ€§ï¼Œå¯¼è‡´å†…å­˜å ç”¨å°äº75MB</strong>ï¼Œå¤§å¤§å°äºè®¸å¤šå…¶ä»–å…ˆå‰å’Œå¹¶å‘çš„åŸºäºä½“ç´ ç½‘æ ¼çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬åœ¨å¼ å¼ åŒ–ä½ç§©ç‰¹å¾å»ºæ¨¡æ–¹é¢çš„å‘ç°å¯ä»¥å¯¹å…¶ä»–å»ºæ¨¡å’Œé‡å»ºä»»åŠ¡æœ‰æ‰€å¯å‘ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å»ºæ¨¡å’Œé‡å»ºè¾å°„åœºçš„æ–¹æ³•â€”â€”TensoRFã€‚ä¸çº¯ç²¹ä½¿ç”¨mlpçš„NeRFä¸åŒï¼Œæˆ‘ä»¬å°†åœºæ™¯çš„äº®åº¦åœºå»ºæ¨¡ä¸º4Då¼ é‡ï¼Œå®ƒä»£è¡¨å…·æœ‰æ¯ä½“ç´ å¤šé€šé“ç‰¹å¾çš„3Dä½“ç´ ç½‘æ ¼ã€‚æˆ‘ä»¬çš„ä¸­å¿ƒæ€æƒ³æ˜¯å°†4Dåœºæ™¯å¼ é‡åˆ†è§£æˆå¤šä¸ªç´§å‡‘çš„ä½ç§©å¼ é‡åˆ†é‡ã€‚æˆ‘ä»¬è¯æ˜ï¼Œåœ¨æˆ‘ä»¬çš„æ¡†æ¶ä¸­åº”ç”¨ä¼ ç»Ÿçš„CANDECOMP/PARAFAC (CP)åˆ†è§£-å°†å¼ é‡åˆ†è§£ä¸ºå…·æœ‰ç´§å‘é‡çš„ç§©ä¸€åˆ†é‡-å¯ä»¥æ”¹å–„vanilla NeRFã€‚<br><strong>ä¸ºäº†è¿›ä¸€æ­¥æé«˜æ€§èƒ½</strong>ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°çš„å‘é‡çŸ©é˜µ(VM)åˆ†è§£ï¼Œè¯¥åˆ†è§£æ”¾æ¾äº†å¼ é‡çš„ä¸¤ç§æ¨¡å¼çš„ä½ç§©çº¦æŸï¼Œå¹¶å°†å¼ é‡åˆ†è§£ä¸ºç´§å‡‘çš„å‘é‡å’ŒçŸ©é˜µå› å­ã€‚é™¤äº†å“è¶Šçš„æ¸²æŸ“è´¨é‡ä¹‹å¤–ï¼Œä¸ä¹‹å‰å’Œå¹¶å‘çš„ç›´æ¥ä¼˜åŒ–æ¯ä½“ç´ ç‰¹å¾çš„å·¥ä½œç›¸æ¯”ï¼Œæˆ‘ä»¬ä½¿ç”¨CPå’ŒVMåˆ†è§£çš„æ¨¡å‹æ˜¾è‘—é™ä½äº†å†…å­˜å ç”¨ã€‚å®éªŒè¯æ˜ï¼Œä¸NeRFç›¸æ¯”ï¼Œå…·æœ‰CPåˆ†è§£çš„TensoRFå®ç°äº†å¿«é€Ÿé‡å»º(&lt; 30åˆ†é’Ÿ)ï¼Œå…·æœ‰æ›´å¥½çš„æ¸²æŸ“è´¨é‡ï¼Œç”šè‡³æ›´å°çš„æ¨¡å‹å¤§å°(&lt; 4 MB)ã€‚æ­¤å¤–ï¼Œå…·æœ‰VMåˆ†è§£çš„TensoRFè¿›ä¸€æ­¥æé«˜äº†æ¸²æŸ“è´¨é‡ï¼Œä¼˜äºä»¥å‰æœ€å…ˆè¿›çš„æ–¹æ³•ï¼ŒåŒæ—¶å‡å°‘äº†é‡å»ºæ—¶é—´(&lt; 10åˆ†é’Ÿ)å¹¶ä¿ç•™äº†ç´§å‡‘çš„æ¨¡å‹å¤§å°(&lt; 75 MB)ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong>å»ºæ¨¡å’Œé‡å»º3Dåœºæ™¯</strong>ä½œä¸ºæ”¯æŒé«˜è´¨é‡å›¾åƒåˆæˆçš„è¡¨ç¤ºå¯¹äºè®¡ç®—æœºè§†è§‰å’Œå›¾å½¢åœ¨è§†è§‰æ•ˆæœï¼Œç”µå­å•†åŠ¡ï¼Œè™šæ‹Ÿå’Œå¢å¼ºç°å®ä»¥åŠæœºå™¨äººæŠ€æœ¯ä¸­çš„å„ç§åº”ç”¨è‡³å…³é‡è¦ã€‚<br>æœ€è¿‘ï¼Œ<strong>NeRF</strong>[37]åŠå…¶è®¸å¤šåç»­å·¥ä½œ[70,31]å·²ç»æˆåŠŸåœ°å°†åœºæ™¯å»ºæ¨¡ä¸ºè¾å°„åœºï¼Œå¹¶å®ç°äº†å…·æœ‰é«˜åº¦å¤æ‚å‡ ä½•å’Œè§†å›¾ä¾èµ–å¤–è§‚æ•ˆæœçš„åœºæ™¯çš„é€¼çœŸæ¸²æŸ“ã€‚å°½ç®¡(çº¯ç²¹åŸºäºmlpçš„)NeRFæ¨¡å‹éœ€è¦å¾ˆå°çš„å†…å­˜ï¼Œ<strong>ä½†å®ƒä»¬éœ€è¦å¾ˆé•¿æ—¶é—´(æ•°å°æ—¶æˆ–æ•°å¤©)æ¥è®­ç»ƒ</strong>ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¿½æ±‚ä¸€ç§æ–°é¢–çš„æ–¹æ³•ï¼Œæ—¢æœ‰æ•ˆçš„è®­ç»ƒæ—¶é—´å’Œç´§å‡‘çš„å†…å­˜å ç”¨ï¼ŒåŒæ—¶è¾¾åˆ°æœ€å…ˆè¿›çš„æ¸²æŸ“è´¨é‡ã€‚</p><p>ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æå‡ºäº†TensoRFï¼Œè¿™æ˜¯ä¸€ç§æ–°é¢–çš„äº®åº¦åœºè¡¨ç¤ºï¼Œå®ƒéå¸¸ç´§å‡‘ï¼Œä¹Ÿå¯ä»¥å¿«é€Ÿé‡å»ºï¼Œå®ç°é«˜æ•ˆçš„åœºæ™¯é‡å»ºå’Œå»ºæ¨¡ã€‚ä¸NeRFä¸­ä½¿ç”¨çš„åŸºäºåæ ‡çš„mlpä¸åŒï¼Œæˆ‘ä»¬å°†äº®åº¦åœºè¡¨ç¤ºä¸ºæ˜¾å¼çš„ç‰¹å¾ä½“ç´ ç½‘æ ¼ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›®å‰å°šä¸æ¸…æ¥šä½“ç´ ç½‘æ ¼è¡¨ç¤ºæ˜¯å¦èƒ½æé«˜é‡å»ºçš„æ•ˆç‡: è™½ç„¶<strong>ä¹‹å‰çš„å·¥ä½œä½¿ç”¨äº†ç‰¹å¾ç½‘æ ¼</strong>[31,68,20]ï¼Œ<strong>ä½†å®ƒä»¬éœ€è¦è¾ƒå¤§çš„GPUå†…å­˜æ¥å­˜å‚¨å°ºå¯¸éšåˆ†è¾¨ç‡å‘ˆç«‹æ–¹å¢é•¿çš„ä½“ç´ ï¼Œæœ‰äº›ç”šè‡³éœ€è¦é¢„å…ˆè®¡ç®—NeRFè¿›è¡Œè’¸é¦ï¼Œå¯¼è‡´é‡å»ºæ—¶é—´å¾ˆé•¿</strong>ã€‚</p><p>æˆ‘ä»¬çš„å·¥ä½œåœ¨ä¸€ä¸ªåŸåˆ™æ¡†æ¶ä¸­è§£å†³äº†ä½“ç´ ç½‘æ ¼è¡¨ç¤ºçš„ä½æ•ˆç‡é—®é¢˜ï¼Œä»è€Œäº§ç”Ÿäº†ä¸€ç³»åˆ—ç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•ã€‚æˆ‘ä»¬åˆ©ç”¨äº†ä¸€ä¸ªäº‹å®ï¼Œå³<strong>ç‰¹å¾ç½‘æ ¼å¯ä»¥è‡ªç„¶åœ°è¢«è§†ä¸ºä¸€ä¸ª4Då¼ é‡ï¼Œå…¶ä¸­ä¸‰ä¸ªæ¨¡å¼å¯¹åº”äºç½‘æ ¼çš„XYZè½´ï¼Œç¬¬å››ä¸ªæ¨¡å¼ä»£è¡¨ç‰¹å¾é€šé“ç»´åº¦</strong>ã€‚è¿™å¼€å¯äº†åˆ©ç”¨ç»å…¸å¼ é‡åˆ†è§£æŠ€æœ¯è¿›è¡Œè¾å°„åœºå»ºæ¨¡çš„å¯èƒ½æ€§ï¼Œè¯¥æŠ€æœ¯å·²å¹¿æ³›åº”ç”¨äºå„ä¸ªé¢†åŸŸçš„é«˜ç»´æ•°æ®åˆ†æå’Œå‹ç¼©[27]ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®å°†äº®åº¦åœºå¼ é‡åˆ†è§£ä¸ºå¤šä¸ªä½é˜¶å¼ é‡åˆ†é‡ï¼Œä»è€Œè·å¾—å‡†ç¡®è€Œç´§å‡‘çš„åœºæ™¯è¡¨ç¤ºã€‚æ³¨æ„ï¼Œæˆ‘ä»¬çš„ä¸­å¿ƒæ€æƒ³å¼ é‡åŒ–è¾å°„åœºæ˜¯ä¸€èˆ¬çš„ï¼Œå¯ä»¥æ½œåœ¨åœ°é‡‡ç”¨ä»»ä½•å¼ é‡åˆ†è§£æŠ€æœ¯ã€‚</p><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°è¯•äº†ç»å…¸çš„CANDECOMP/PARAFAC (CP)åˆ†è§£[7]ã€‚æˆ‘ä»¬è¡¨æ˜ï¼Œä½¿ç”¨CPåˆ†è§£çš„TensoRFå·²ç»å¯ä»¥å®ç°é€¼çœŸçš„æ¸²æŸ“ï¼Œå¹¶äº§ç”Ÿæ¯”çº¯ç²¹åŸºäºMLPçš„NeRFæ›´ç´§å‡‘çš„æ¨¡å‹(è§å›¾1å’Œè¡¨1)ã€‚ç„¶è€Œï¼Œåœ¨å®éªŒä¸­ï¼Œä¸ºäº†è¿›ä¸€æ­¥æé«˜å¤æ‚åœºæ™¯çš„é‡å»ºè´¨é‡ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨æ›´å¤šçš„ç»„ä»¶å› å­ï¼Œè¿™å¢åŠ äº†è®­ç»ƒæ—¶é—´ã€‚</p><p>å› æ­¤ï¼Œ<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å‘é‡çŸ©é˜µ(VM)åˆ†è§£æŠ€æœ¯</strong>ï¼Œè¯¥æŠ€æœ¯æœ‰æ•ˆåœ°å‡å°‘äº†ç›¸åŒè¡¨è¾¾èƒ½åŠ›æ‰€éœ€çš„ç»„ä»¶æ•°é‡ï¼Œä»è€Œå®ç°æ›´å¿«çš„é‡å»ºå’Œæ›´å¥½çš„æ¸²æŸ“ã€‚ç‰¹åˆ«æ˜¯ï¼Œå—CPå’Œåˆ†å—é¡¹åˆ†è§£[13]çš„å¯å‘ï¼Œæˆ‘ä»¬æå‡ºå°†è¾å°„åœºçš„å…¨å¼ é‡åˆ†è§£ä¸ºæ¯ä¸ªå¼ é‡åˆ†é‡çš„å¤šä¸ªçŸ¢é‡å’ŒçŸ©é˜µå› å­ã€‚ä¸CPåˆ†è§£ä¸­çº¯å‘é‡å¤–ç§¯çš„å’Œä¸åŒï¼Œæˆ‘ä»¬è€ƒè™‘å‘é‡-çŸ©é˜µå¤–ç§¯çš„å’Œ(è§å›¾2)ã€‚å®è´¨ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡åœ¨ä¸€ä¸ªçŸ©é˜µå› å­ä¸­è”åˆå»ºæ¨¡ä¸¤ä¸ªæ¨¡æ€æ¥æ”¾æ¾æ¯ä¸ªåˆ†é‡çš„ä¸¤ä¸ªæ¨¡æ€çš„ç§©ã€‚è™½ç„¶ä¸CPä¸­çº¯ç²¹çš„åŸºäºå‘é‡çš„åˆ†è§£ç›¸æ¯”ï¼Œè¿™å¢åŠ äº†æ¨¡å‹çš„å¤§å°ï¼Œä½†æˆ‘ä»¬ä½¿æ¯ä¸ªåˆ†é‡èƒ½å¤Ÿè¡¨è¾¾æ›´é«˜é˜¶çš„æ›´å¤æ‚çš„å¼ é‡æ•°æ®ï¼Œä»è€Œæ˜¾ç€å‡å°‘äº†è¾å°„åœºå»ºæ¨¡æ‰€éœ€çš„åˆ†é‡æ•°é‡ã€‚</p><p>é€šè¿‡CP/VMåˆ†è§£ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ç´§å‡‘åœ°ç¼–ç äº†ä½“ç´ ç½‘æ ¼ä¸­ç©ºé—´å˜åŒ–çš„ç‰¹å¾ã€‚å¯ä»¥ä»ç‰¹å¾ä¸­è§£ç å‡ºä½“ç§¯å¯†åº¦å’Œä¾èµ–äºè§†å›¾çš„é¢œè‰²ï¼Œæ”¯æŒä½“ç§¯äº®åº¦åœºæ¸²æŸ“ã€‚å› ä¸ºå¼ é‡è¡¨ç¤ºç¦»æ•£æ•°æ®ï¼Œæˆ‘ä»¬è¿˜å¯ç”¨äº†é«˜æ•ˆçš„ä¸‰çº¿æ€§æ’å€¼æ¥è¡¨ç¤ºè¿ç»­åœºã€‚æˆ‘ä»¬çš„è¡¨ç¤ºæ”¯æŒå…·æœ‰ä¸åŒè§£ç å‡½æ•°çš„å„ç§ç±»å‹çš„æ¯ä½“ç´ ç‰¹å¾ï¼ŒåŒ…æ‹¬ç¥ç»ç‰¹å¾(ä¾èµ–äºMLPä»ç‰¹å¾ä¸­å›å½’ä¸è§†å›¾ç›¸å…³çš„é¢œè‰²)å’Œçƒé¢è°æ³¢(SH)ç‰¹å¾(ç³»æ•°)â€”â€”å…è®¸ä»å›ºå®šçš„SHå‡½æ•°è¿›è¡Œç®€å•çš„é¢œè‰²è®¡ç®—ï¼Œå¹¶å¯¼è‡´æ²¡æœ‰ç¥ç»ç½‘ç»œçš„è¡¨ç¤ºã€‚</p><p>æˆ‘ä»¬çš„å¼ é‡è¾å°„åœºå¯ä»¥æœ‰æ•ˆåœ°ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºï¼Œå¹¶å®ç°ç°å®çš„æ–°è§†å›¾åˆæˆã€‚ä¸ä¹‹å‰ç›´æ¥é‡å»ºä½“ç´ çš„å·¥ä½œç›¸æ¯”ï¼Œæˆ‘ä»¬çš„å¼ é‡å› å¼åˆ†è§£å°†<strong>ç©ºé—´å¤æ‚åº¦</strong>ä»$\mathcal{O}(n^3)$é™ä½åˆ°$\mathcal{O}(n)$(CP)æˆ–$\mathcal{O}(n^2)$ (VM)ï¼Œæ˜¾è‘—é™ä½å†…å­˜å ç”¨ã€‚è¯·æ³¨æ„ï¼Œè™½ç„¶æˆ‘ä»¬åˆ©ç”¨äº†å¼ é‡åˆ†è§£ï¼Œä½†æˆ‘ä»¬ä¸æ˜¯åœ¨è§£å†³åˆ†è§£/å‹ç¼©é—®é¢˜ï¼Œè€Œæ˜¯åŸºäºæ¢¯åº¦ä½“é¢çš„é‡å»ºé—®é¢˜ï¼Œå› ä¸ºç‰¹å¾ç½‘æ ¼/å¼ é‡æ˜¯æœªçŸ¥çš„ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œæˆ‘ä»¬çš„CP/VMåˆ†è§£åœ¨ä¼˜åŒ–ä¸­æä¾›äº†ä½ç§©æ­£åˆ™åŒ–ï¼Œä»è€Œè·å¾—äº†é«˜æ¸²æŸ“è´¨é‡ã€‚æˆ‘ä»¬é€šè¿‡å„ç§è®¾ç½®å¯¹æˆ‘ä»¬çš„æ–¹æ³•è¿›è¡Œäº†å¹¿æ³›çš„è¯„ä¼°ï¼ŒåŒ…æ‹¬CPå’ŒVMæ¨¡å‹ã€ä¸åŒæ•°é‡çš„ç»„ä»¶å’Œç½‘æ ¼åˆ†è¾¨ç‡ã€‚æˆ‘ä»¬è¯æ˜ï¼Œæ‰€æœ‰æ¨¡å‹éƒ½èƒ½å¤Ÿå®ç°é€¼çœŸçš„æ–°é¢–è§†å›¾åˆæˆç»“æœï¼Œä¸ä¹‹å‰æœ€å…ˆè¿›çš„æ–¹æ³•ç›¸å½“æˆ–æ›´å¥½(è§å›¾1å’Œè¡¨1)ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å…·æœ‰è¾ƒé«˜çš„è®¡ç®—å’Œå†…å­˜æ•ˆç‡ã€‚æ‰€æœ‰TensoRFæ¨¡å‹éƒ½èƒ½åœ¨30åˆ†é’Ÿå†…é‡å»ºé«˜è´¨é‡çš„è¾å°„åœº;æˆ‘ä»¬æœ€å¿«çš„è™šæ‹Ÿæœºåˆ†è§£æ¨¡å‹éœ€è¦ä¸åˆ°10åˆ†é’Ÿï¼Œè¿™æ¯”NeRFå’Œè®¸å¤šå…¶ä»–æ–¹æ³•è¦å¿«å¾—å¤š(çº¦100å€)ï¼ŒåŒæ—¶æ¯”ä»¥å‰çš„åŸºäºä½“ç´ çš„å¹¶è¡Œæ–¹æ³•éœ€è¦æ›´å°‘çš„å†…å­˜ã€‚è¯·æ³¨æ„ï¼Œä¸éœ€è¦ç‹¬ç‰¹æ•°æ®ç»“æ„å’Œå®šåˆ¶CUDAå†…æ ¸çš„å¹¶å‘å·¥ä½œ[50,38]ä¸åŒï¼Œæˆ‘ä»¬çš„æ¨¡å‹çš„æ•ˆç‡æ”¶ç›Šæ˜¯ä½¿ç”¨æ ‡å‡†PyTorchå®ç°è·å¾—çš„ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œæˆ‘ä»¬çš„å·¥ä½œæ˜¯ç¬¬ä¸€æ¬¡ä»å¼ é‡çš„è§’åº¦æ¥çœ‹å¾…è¾å°„åœºå»ºæ¨¡ï¼Œå¹¶å°†è¾å°„åœºé‡å»ºé—®é¢˜ä½œä¸ºä½ç§©å¼ é‡é‡å»ºé—®é¢˜ä¹‹ä¸€ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p><strong>Tensor decomposition</strong>.<br>å¼ é‡åˆ†è§£[27]å·²ç»ç ”ç©¶äº†å‡ åå¹´ï¼Œåœ¨è§†è§‰ã€å›¾å½¢å­¦ã€æœºå™¨å­¦ä¹ å’Œå…¶ä»–é¢†åŸŸæœ‰ä¸åŒçš„åº”ç”¨[43,24,59,14,1,23]ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåº”ç”¨æœ€å¹¿æ³›çš„åˆ†è§£æ˜¯Tuckeråˆ†è§£[58]å’ŒCPåˆ†è§£[7,19]ï¼Œè¿™ä¸¤ç§åˆ†è§£éƒ½å¯ä»¥çœ‹ä½œæ˜¯çŸ©é˜µå¥‡å¼‚å€¼åˆ†è§£(SVD)çš„æ¨å¹¿ã€‚CPåˆ†è§£ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„Tuckeråˆ†è§£ï¼Œå…¶æ ¸å¿ƒå¼ é‡æ˜¯å¯¹è§’çš„ã€‚é€šè¿‡å°†CPå’ŒTuckeråˆ†è§£ç›¸ç»“åˆï¼Œæå‡ºäº†å—é¡¹åˆ†è§£(block term decomposition, BTD)åŠå…¶å¤šç§å˜ä½“[13]ï¼Œå¹¶å°†å…¶ç”¨äºè®¸å¤šè§†è§‰å’Œå­¦ä¹ ä»»åŠ¡[2,67,66]ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨å¼ é‡åˆ†è§£è¿›è¡Œè¾å°„åœºå»ºæ¨¡ã€‚æˆ‘ä»¬ç›´æ¥åº”ç”¨äº†CPåˆ†è§£ï¼Œå¹¶å¼•å…¥äº†ä¸€ç§æ–°çš„å‘é‡çŸ©é˜µåˆ†è§£ï¼Œå®ƒå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„BTDã€‚</p><p><strong>Scene representations and radiance fields</strong>.<br>å„ç§åœºæ™¯è¡¨ç¤ºï¼ŒåŒ…æ‹¬ç½‘æ ¼[18,61]ã€ç‚¹äº‘[47]ã€ä½“[22,48]ã€éšå¼å‡½æ•°[35,46]ï¼Œè¿‘å¹´æ¥å¾—åˆ°äº†å¹¿æ³›çš„ç ”ç©¶ã€‚è®¸å¤šç¥ç»è¡¨ç¤º[10,71,53,33,4]è¢«æå‡ºç”¨äºé«˜è´¨é‡çš„æ¸²æŸ“æˆ–è‡ªç„¶ä¿¡å·è¡¨ç¤º[52,56,29]ã€‚NeRF[37]å¼•å…¥äº†è¾å°„åœºæ¥è§£å†³æ–°çš„è§†å›¾åˆæˆå¹¶å®ç°ç…§ç‰‡é€¼çœŸçš„è´¨é‡ã€‚è¿™ç§è¡¨ç¤ºå·²è¿…é€Ÿæ‰©å±•å¹¶åº”ç”¨äºå„ç§å›¾å½¢å’Œè§†è§‰åº”ç”¨ï¼ŒåŒ…æ‹¬ç”Ÿæˆæ¨¡å‹[9,40]ã€å¤–è§‚è·å–[3,5]ã€è¡¨é¢é‡å»º[62,42]ã€å¿«é€Ÿæ¸²æŸ“[49,68,20,17]ã€å¤–è§‚ç¼–è¾‘[64,32]ã€åŠ¨æ€æ•è·[28,44]å’Œç”Ÿæˆæ¨¡å‹[41,8]ã€‚è™½ç„¶å¯¼è‡´é€¼çœŸçš„æ¸²æŸ“å’Œç´§å‡‘çš„æ¨¡å‹ï¼Œ<strong>ä½†NeRFçš„çº¯åŸºäºmlpçš„è¡¨ç¤ºåœ¨ç¼“æ…¢çš„é‡å»ºå’Œæ¸²æŸ“æ–¹é¢å­˜åœ¨å·²çŸ¥çš„å±€é™æ€§</strong>ã€‚æœ€è¿‘çš„æ–¹æ³•[68,31,20]åˆ©ç”¨äº†è¾å°„åœºå»ºæ¨¡ä¸­çš„ç‰¹å¾ä½“ç´ ç½‘æ ¼ï¼Œå®ç°äº†å¿«é€Ÿæ¸²æŸ“ã€‚<strong>ç„¶è€Œï¼Œè¿™äº›åŸºäºç½‘æ ¼çš„æ–¹æ³•ä»ç„¶éœ€è¦è¾ƒé•¿çš„é‡å»ºæ—¶é—´ï¼Œç”šè‡³å¯¼è‡´è¾ƒé«˜çš„å†…å­˜æˆæœ¬ï¼Œç‰ºç‰²äº†NeRFçš„ç´§å‡‘æ€§</strong>ã€‚åŸºäºç‰¹å¾ç½‘æ ¼ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¼ é‡åœºæ™¯è¡¨ç¤ºï¼Œåˆ©ç”¨å¼ é‡åˆ†è§£æŠ€æœ¯ï¼Œå®ç°å¿«é€Ÿé‡å»ºå’Œç´§å‡‘å»ºæ¨¡ã€‚<br>å…¶ä»–æ–¹æ³•è®¾è®¡äº†è·¨åœºæ™¯è®­ç»ƒçš„å¯é€šç”¨ç½‘ç»œæ¨¡å—ï¼Œä»¥å®ç°ä¾èµ–å›¾åƒçš„äº®åº¦åœºæ¸²æŸ“[57,69,63,12]å’Œå¿«é€Ÿé‡å»º[11,65]ã€‚æˆ‘ä»¬çš„æ–¹æ³•ä¾§é‡äºäº®åº¦åœºè¡¨ç¤ºï¼Œåªè€ƒè™‘æ¯ä¸ªåœºæ™¯çš„ä¼˜åŒ–(å¦‚NeRF)ã€‚æˆ‘ä»¬è¡¨æ˜ï¼Œæˆ‘ä»¬çš„è¡¨ç¤ºå·²ç»å¯ä»¥å¯¼è‡´é«˜æ•ˆç‡çš„è¾å°„åœºé‡å»ºï¼Œè€Œæ— éœ€ä»»ä½•è·¨åœºæ™¯æ³›åŒ–ã€‚æˆ‘ä»¬æŠŠæ‰©å±•ç•™ç»™ä¸€èˆ¬åŒ–çš„è®¾ç½®ä½œä¸ºå°†æ¥çš„å·¥ä½œã€‚</p><p><strong>Concurrent work</strong><br>åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œè¾å°„åœºå»ºæ¨¡é¢†åŸŸçš„å‘å±•éå¸¸å¿«ï¼Œè®¸å¤šå¹¶è¡Œçš„ä½œå“å·²ç»å‡ºç°åœ¨arXivä¸Šä½œä¸ºé¢„å°æœ¬ã€‚DVGO[55]å’ŒPlenoxels[50]è¿˜ä¼˜åŒ–äº†(ç¥ç»æˆ–SH)ç‰¹å¾çš„ä½“ç´ ç½‘æ ¼ï¼Œä»¥å®ç°å¿«é€Ÿè¾å°„åœºé‡å»ºã€‚ç„¶è€Œï¼Œå®ƒä»¬ä»ç„¶åƒä»¥å‰åŸºäºä½“ç´ çš„æ–¹æ³•ä¸€æ ·ç›´æ¥ä¼˜åŒ–æ¯ä½“ç´ ç‰¹å¾ï¼Œå› æ­¤éœ€è¦å¤§çš„å†…å­˜ã€‚æˆ‘ä»¬çš„æ–¹æ³•å°†ç‰¹å¾ç½‘æ ¼åˆ†è§£ä¸ºç´§å‡‘çš„ç»„ä»¶ï¼Œä»è€Œæ˜¾è‘—æé«˜äº†å†…å­˜æ•ˆç‡ã€‚Instant-NGP[38]ä½¿ç”¨å¤šåˆ†è¾¨ç‡å“ˆå¸Œæ¥å®ç°é«˜æ•ˆç¼–ç ï¼Œå¹¶å¯¼è‡´é«˜ç´§å‡‘æ€§ã€‚è¯¥æŠ€æœ¯ä¸æˆ‘ä»¬åŸºäºå› å­åˆ†è§£çš„æŠ€æœ¯æ˜¯æ­£äº¤çš„; æ½œåœ¨åœ°ï¼Œæˆ‘ä»¬çš„æ¯ä¸ªå‘é‡/çŸ©é˜µå› å­éƒ½å¯ä»¥ç”¨è¿™ç§æ•£åˆ—æŠ€æœ¯è¿›è¡Œç¼–ç ï¼Œæˆ‘ä»¬å°†è¿™ç§ç»„åˆç•™åˆ°æœªæ¥çš„å·¥ä½œä¸­ã€‚EG3D[8]ä½¿ç”¨ä¸‰å¹³é¢è¡¨ç¤º3D gan;å®ƒä»¬çš„è¡¨ç¤ºç±»ä¼¼äºæˆ‘ä»¬çš„VMåˆ†è§£ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å…·æœ‰å¸¸é‡å‘é‡çš„ç‰¹æ®ŠVMç‰ˆæœ¬ã€‚</p><h1 id="CP-and-VM-Decomposition"><a href="#CP-and-VM-Decomposition" class="headerlink" title="CP and VM Decomposition"></a>CP and VM Decomposition</h1><p>æˆ‘ä»¬å°†äº®åº¦åœºåˆ†è§£æˆç´§å‡‘çš„ç»„ä»¶ç”¨äºåœºæ™¯å»ºæ¨¡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åº”ç”¨äº†ç»å…¸çš„CPåˆ†è§£å’Œæ–°çš„å‘é‡çŸ©é˜µ(VM)åˆ†è§£; ä¸¤è€…å¦‚å›¾2æ‰€ç¤ºã€‚æˆ‘ä»¬ç°åœ¨ç”¨ä¸€ä¸ª3D(3é˜¶)å¼ é‡çš„ä¾‹å­æ¥è®¨è®ºè¿™ä¸¤ç§åˆ†è§£ã€‚æˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åœ¨è¾å°„åœºå»ºæ¨¡ä¸­åº”ç”¨å¼ é‡å› å¼åˆ†è§£(ä¸4Då¼ é‡)åœ¨ç¬¬4èŠ‚ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230830135615.png" alt="image.png"><br><em>å¼ é‡åˆ†è§£ã€‚å·¦:CPåˆ†è§£(Eqn. 1)ï¼Œå®ƒå°†å¼ é‡åˆ†è§£ä¸ºå‘é‡å¤–ç§¯çš„å’Œã€‚å³:æˆ‘ä»¬çš„å‘é‡çŸ©é˜µåˆ†è§£(Eqn. 3)ï¼Œå®ƒå°†å¼ é‡åˆ†è§£ä¸ºå‘é‡çŸ©é˜µå¤–ç§¯çš„å’Œã€‚</em></p><p><strong>CP decomposition</strong></p><p>ç»™å®šä¸€ä¸ªä¸‰ç»´å¼ é‡$\mathcal{T}\in\mathbb{R}^{I\times J\times K}$ï¼ŒCPåˆ†è§£å°†å…¶åˆ†è§£ä¸ºå‘é‡çš„å¤–ç§¯å’Œ(å¦‚å›¾2æ‰€ç¤º):<br>$\mathcal{T}=\sum_{r=1}^R\mathbf{v}_r^1\circ\mathbf{v}_r^2\circ\mathbf{v}_r^3$ Eq.1<br>å…¶ä¸­$\mathbf{v}_r^1\circ\mathbf{v}_r^2\circ\mathbf{v}_r^3$å¯¹åº”ä¸€ä¸ªrank-oneå¼ é‡åˆ†é‡ï¼Œ$\mathbf{v}_r^1\in\mathbb{R}^I$,$\mathbf{v}_r^2\in\mathbb{R}^{\boldsymbol{J}}$, $\mathbf{v}_r^3\in\mathbb{R}^K$æ˜¯ç¬¬rä¸ªåˆ†é‡ä¸‰ç§æ¨¡æ€çš„å› å¼åˆ†è§£å‘é‡ã€‚ä¸Šæ ‡è¡¨ç¤ºæ¯ä¸ªå› å­çš„æ¨¡æ€;â—¦è¡¨ç¤ºå¤–ç§¯ã€‚å› æ­¤ï¼Œæ¯ä¸ªå¼ é‡å…ƒç´ $T_{ijk}$æ˜¯æ ‡é‡ç§¯çš„å’Œ: $\mathcal{T}_{ijk}=\sum_{r=1}^R\mathbf{v}_{r,i}^1\mathbf{v}_{r,j}^2\mathbf{v}_{r,k}^3$ Eq.2<br>å…¶ä¸­i j kè¡¨ç¤ºä¸‰ç§æ¨¡æ€çš„indicesã€‚</p><p>CPåˆ†è§£å°†ä¸€ä¸ªå¼ é‡åˆ†è§£ä¸ºå¤šä¸ªå‘é‡ï¼Œè¡¨ç¤ºå¤šä¸ªç´§åŒ–ç§©ä¸€åˆ†é‡ã€‚CPå¯ä»¥ç›´æ¥åº”ç”¨äºæˆ‘ä»¬çš„å¼ é‡è¾å°„åœºå»ºæ¨¡ï¼Œå¾—åˆ°é«˜è´¨é‡çš„ç»“æœ(è§è¡¨1)ã€‚<strong>ä½†æ˜¯ï¼Œç”±äºCPåˆ†è§£çš„ç´§å‡‘æ€§å¤ªé«˜ï¼Œéœ€è¦å¾ˆå¤šç»„ä»¶æ¥å»ºæ¨¡å¤æ‚åœºæ™¯ï¼Œå¯¼è‡´è¾å°„åœºé‡æ„çš„è®¡ç®—æˆæœ¬å¾ˆé«˜</strong>ã€‚å—å—é¡¹åˆ†è§£(BTD)çš„å¯å‘ï¼Œ<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„VMåˆ†è§£æ–¹æ³•</strong>ï¼Œä»è€Œæ›´æœ‰æ•ˆåœ°é‡å»ºè¾å°„åœºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230830140627.png" alt="image.png"></p><p><strong>Vector-Matrix (VM) decomposition</strong></p><p>ä¸åˆ©ç”¨çº¯çŸ¢é‡å› å­çš„CPåˆ†è§£ä¸åŒï¼ŒVMåˆ†è§£å°†ä¸€ä¸ªå¼ é‡åˆ†è§£ä¸ºå¤šä¸ªçŸ¢é‡å’ŒçŸ©é˜µï¼Œå¦‚å›¾2æ‰€ç¤ºã€‚å®ƒè¡¨ç¤ºä¸º<br>$\mathcal{T}=\sum_{r=1}^{R_1}\mathrm{v}_r^1\circ\mathrm{M}_r^{2,3}+\sum_{r=1}^{R_2}\mathrm{v}_r^2\circ\mathrm{M}_r^{1,3}+\sum_{r=1}^{R_3}\mathrm{v}_r^3\circ\mathrm{M}_r^{1,2}$Eq.3<br>$\begin{aligned}\mathrm{M}_{r}^{2,3}\in\mathbb{R}^{J\times K},\mathrm{M}_{r}^{1,3}\in\mathbb{R}^{I\times K},\mathrm{M}_{r}^{1,2}\in\mathbb{R}^{I\times J}\end{aligned}$æ˜¯ä¸‰ç§æ¨¡æ€ä¸­ä¸¤ä¸ª(ç”¨ä¸Šæ ‡è¡¨ç¤º)çš„çŸ©é˜µå› å­ã€‚å¯¹äºæ¯ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬å°†å…¶ä¸¤ä¸ªæ¨¡æ€ç§©æ”¾å®½ä¸ºä»»æ„å¤§ï¼ŒåŒæ—¶å°†ç¬¬ä¸‰ä¸ªæ¨¡æ€é™åˆ¶ä¸ºç§©ä¸€; ä¾‹å¦‚ï¼Œå¯¹äºåˆ†é‡å¼ é‡$\mathbf{v}_{r}^{1}\circ\mathbf{M}_{r}^{2,3}$ï¼Œå…¶æ¨¡1ç§©ä¸º1ï¼Œæ¨¡2å’Œæ¨¡3ç§©å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œè¿™å–å†³äºçŸ©é˜µ$\mathrm{M}_{r}^{2,3}$çš„ç§©ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨CPä¸­ï¼Œæˆ‘ä»¬ä¸æ˜¯ä½¿ç”¨å•ç‹¬çš„å‘é‡ï¼Œè€Œæ˜¯å°†æ¯ä¸¤ä¸ªæ¨¡æ€ç»“åˆèµ·æ¥å¹¶ç”¨çŸ©é˜µè¡¨ç¤ºå®ƒä»¬ï¼Œå…è®¸æ¯ä¸ªæ¨¡æ€ç”¨è¾ƒå°‘çš„åˆ†é‡å……åˆ†å‚æ•°åŒ–ã€‚R1ã€R2ã€R3å¯è®¾ç½®ä¸åŒï¼Œåº”æ ¹æ®æ¯ç§æ¨¡å¼çš„å¤æ‚ç¨‹åº¦è¿›è¡Œé€‰æ‹©ã€‚<strong>æˆ‘ä»¬çš„VMåˆ†è§£å¯ä»¥çœ‹ä½œæ˜¯ä¸€èˆ¬BTDçš„ä¸€ä¸ªç‰¹ä¾‹</strong>ã€‚</p><p>æ³¨æ„ï¼Œæ¯ä¸ªåˆ†é‡å¼ é‡éƒ½æ¯”CPåˆ†è§£ä¸­çš„åˆ†é‡æœ‰æ›´å¤šçš„å‚æ•°ã€‚<strong>è™½ç„¶è¿™ä¼šå¯¼è‡´è¾ƒä½çš„ç´§å‡‘æ€§ï¼Œä½†VMåˆ†é‡å¼ é‡å¯ä»¥è¡¨è¾¾æ¯”CPåˆ†é‡æ›´å¤æ‚çš„é«˜ç»´æ•°æ®ï¼Œä»è€Œå‡å°‘äº†å¯¹ç›¸åŒå¤æ‚å‡½æ•°å»ºæ¨¡æ—¶æ‰€éœ€çš„åˆ†é‡æ•°é‡</strong>ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸å¯†é›†ç½‘æ ¼è¡¨ç¤ºç›¸æ¯”ï¼ŒVMåˆ†è§£ä»ç„¶å…·æœ‰éå¸¸é«˜çš„ç´§å‡‘æ€§ï¼Œå°†å†…å­˜å¤æ‚åº¦ä»$\mathcal{O}(N^3)$é™ä½åˆ°$\mathcal{O}(N^2)$ã€‚</p><p><strong>Tensor for scene modeling</strong>.<br>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„é‡ç‚¹æ˜¯å»ºæ¨¡å’Œé‡å»ºè¾å°„åœºçš„ä»»åŠ¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸‰ä¸ªå¼ é‡æ¨¡å¼å¯¹åº”äºXYZè½´ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥ç”¨XYZè¡¨ç¤ºæ¨¡å¼ä»¥ä½¿å…¶ç›´è§‚ã€‚åŒæ—¶ï¼Œåœ¨3Dåœºæ™¯è¡¨ç¤ºä¸­ï¼Œæˆ‘ä»¬å¯¹å¤§å¤šæ•°åœºæ™¯è€ƒè™‘$R_{1}=R_{2}=R_{3}=R$ï¼Œè¿™<strong>åæ˜ äº†ä¸€ä¸ªåœºæ™¯å¯ä»¥æ²¿ç€å®ƒçš„ä¸‰ä¸ªè½´åˆ†å¸ƒå’Œå‘ˆç°åŒæ ·å¤æ‚çš„äº‹å®</strong>ã€‚å› æ­¤ï¼ŒEqn. 3å¯ä»¥æ”¹å†™ä¸º<br>$\mathcal{T}=\sum_{r=1}^R\mathbf{v}_r^X\circ\mathbf{M}_r^{Y,Z}+\mathbf{v}_r^Y\circ\mathbf{M}_r^{X,Z}+\mathbf{v}_r^Z\circ\mathbf{M}_r^{X,Y}$ Eq.4</p><p>æ­¤å¤–ï¼Œä¸ºäº†ç®€åŒ–ç¬¦å·å’Œåé¢ç« èŠ‚çš„è®¨è®ºï¼Œæˆ‘ä»¬è¿˜å°†ä¸‰ç§ç±»å‹çš„åˆ†é‡å¼ é‡è¡¨ç¤ºä¸º$\mathcal{A}_r^X=\mathbf{v}_r^X\circ\mathbf{M}_r^{YZ},$$\mathcal{A}_r^Y=\mathrm{v}_r^Y\circ\mathrm{M}_r^{XZ},\mathrm{~and~}\mathcal{A}_r^Z=\mathrm{v}_r^Z\circ\mathrm{M}_r^{XY}$è¿™é‡ŒAçš„ä¸Šæ ‡XYZè¡¨ç¤ºä¸åŒç±»å‹çš„ç»„ä»¶ã€‚æ®æ­¤ï¼Œå¼ é‡å…ƒç´ $T_{ijk}$è¡¨ç¤ºä¸º<br>$\mathcal{T}_{ijk}=\sum_{r=1}^R\sum_m\mathcal{A}_{r,ijk}^m$ Eq.5</p><p>å…¶ä¸­$m\in XYZ,\mathcal{A}_{r,ijk}^X=\mathrm{v}_{r,i}^X\mathrm{M}_{r,jk}^{YZ},\mathcal{A}_{r,ijk}^Y=\mathrm{v}_{r,j}^Y\mathrm{M}_{r,ik}^{XZ},\mathrm{~and~}\mathcal{A}_{r,ijk}^Z=\mathrm{v}_{r,k}^Z\mathrm{M}_{r,ij}^{XY}.$åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†CPåˆ†é‡è¡¨ç¤ºä¸º$\mathcal{A}^\gamma=\mathbf{v}_r^X\circ\mathbf{v}_r^Y\circ\mathbf{v}_r^Z,$å¹¶ä¸”Eqn. 5ä¹Ÿå¯ä»¥é€šè¿‡è€ƒè™‘$\begin{aligned}m=\gamma,\end{aligned}$æ¥è¡¨ç¤ºCPåˆ†è§£ï¼Œå…¶ä¸­mçš„æ±‚å’Œå¯ä»¥å»æ‰ã€‚</p><h1 id="Tensorial-Radiance-Field-Representation"><a href="#Tensorial-Radiance-Field-Representation" class="headerlink" title="Tensorial Radiance Field Representation"></a>Tensorial Radiance Field Representation</h1><p>æˆ‘ä»¬ç°åœ¨æå‡ºäº†å¼ é‡è¾å°„åœºè¡¨ç¤º(TensoRF)ã€‚ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä¸“æ³¨äºç”¨æˆ‘ä»¬çš„VMåˆ†è§£æ¥è¡¨ç¤ºTensoRFã€‚CPåˆ†è§£è¾ƒä¸ºç®€å•ï¼Œå…¶åˆ†è§£æ–¹ç¨‹åªéœ€ç¨åŠ ä¿®æ”¹å³å¯ç›´æ¥åº”ç”¨(å¦‚Eqn. 5)ã€‚</p><h2 id="Feature-grids-and-radiance-field"><a href="#Feature-grids-and-radiance-field" class="headerlink" title="Feature grids and radiance field."></a>Feature grids and radiance field.</h2><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å»ºæ¨¡ä¸€ä¸ªè¾å°„åœºï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå°†ä»»ä½•3Dä½ç½®xå’Œè§‚çœ‹æ–¹å‘dæ˜ å°„åˆ°å…¶ä½“ç§¯å¯†åº¦Ïƒå’Œè§†å›¾ç›¸å…³é¢œè‰²cçš„å‡½æ•°ï¼Œæ”¯æŒå¯å¾®åˆ†çš„å°„çº¿è¡Œè¿›è¿›è¡Œä½“æ¸²æŸ“ã€‚æˆ‘ä»¬åˆ©ç”¨å…·æœ‰æ¯ä½“ç´ å¤šé€šé“ç‰¹å¾çš„å¸¸è§„3Dç½‘æ ¼$\mathcal{G}$æ¥å»ºæ¨¡è¿™æ ·çš„å‡½æ•°ã€‚æˆ‘ä»¬(é€šè¿‡ç‰¹å¾é€šé“)å°†å…¶åˆ†æˆå‡ ä½•ç½‘æ ¼$\mathcal{G}_{\sigma}$å’Œå¤–è§‚ç½‘æ ¼ï¼Œåˆ†åˆ«å¯¹ä½“ç§¯å¯†åº¦Ïƒå’Œè§†å›¾ç›¸å…³é¢œè‰²cè¿›è¡Œå»ºæ¨¡ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•æ”¯æŒ$\mathcal{G}_{c}$ä¸­çš„å„ç§ç±»å‹çš„å¤–è§‚ç‰¹å¾ï¼Œè¿™å–å†³äºé¢„å…ˆé€‰æ‹©çš„å‡½æ•°Sï¼Œå®ƒå°†å¤–è§‚ç‰¹å¾å‘é‡å’Œè§‚çœ‹æ–¹å‘dè½¬æ¢ä¸ºé¢œè‰²cã€‚ä¾‹å¦‚ï¼ŒSå¯ä»¥æ˜¯ä¸€ä¸ªå°çš„MLPæˆ–çƒé¢è°æ³¢(SH)å‡½æ•°ï¼Œå…¶ä¸­$\mathcal{G}_{c}$åˆ†åˆ«åŒ…å«ç¥ç»ç‰¹å¾å’ŒSHç³»æ•°ã€‚æˆ‘ä»¬è¯æ˜MLPå’ŒSHå‡½æ•°åœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¸­éƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œ(è§è¡¨1)ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬è€ƒè™‘å•é€šé“ç½‘æ ¼$\mathcal{G}_{\sigma},$å…¶å€¼ç›´æ¥è¡¨ç¤ºä½“ç§¯å¯†åº¦ï¼Œä¸éœ€è¦é¢å¤–çš„è½¬æ¢å‡½æ•°ã€‚è¿ç»­çš„åŸºäºç½‘æ ¼çš„è¾å°„åœºå¯ä»¥å†™æˆ<br>$\sigma,c=\mathcal{G}_\sigma(\mathrm{x}),S(\mathcal{G}_c(\mathrm{x}),d)$ Eq.6<br>å…¶ä¸­ï¼Œ$\mathcal{G}_{\sigma}$ï¼Œ$\mathcal{G}_{c}$è¡¨ç¤ºæ¥è‡ªä½ç½®xçš„ä¸¤ä¸ªç½‘æ ¼çš„ä¸‰çº¿æ€§æ’å€¼ç‰¹å¾ã€‚æˆ‘ä»¬å°†$\mathcal{G}_{\sigma}$å’Œ$\mathcal{G}_{c}$å»ºæ¨¡ä¸ºå› å¼å¼ é‡ã€‚</p><h2 id="Factorizing-radiance-fields"><a href="#Factorizing-radiance-fields" class="headerlink" title="Factorizing radiance fields"></a>Factorizing radiance fields</h2><p>$\mathcal{G}_\sigma\in\mathbb{R}^{I\times J\times K}$æ˜¯ä¸‰ç»´å¼ é‡ï¼Œ$\mathcal{G}_c\in\mathbb{R}^{I\times J\times K\times P}$æ˜¯4Då¼ é‡ã€‚å…¶ä¸­Iã€Jã€Kåˆ†åˆ«ä»£è¡¨ç‰¹å¾ç½‘æ ¼åœ¨Xã€Yã€Zè½´ä¸Šçš„åˆ†è¾¨ç‡ï¼Œpä»£è¡¨å¤–è§‚ç‰¹å¾é€šé“çš„ä¸ªæ•°ã€‚<br>æˆ‘ä»¬å°†è¿™äº›è¾å°„åœºå¼ é‡åˆ†è§£ä¸ºç´§åŒ–åˆ†é‡ã€‚ç‰¹åˆ«æ˜¯ä½¿ç”¨VMåˆ†è§£ã€‚å°†ä¸‰ç»´å‡ ä½•å¼ é‡$\mathcal{G}_{\sigma}$åˆ†è§£ä¸º<br>$\mathcal{G}_\sigma=\sum_{r=1}^{R_\sigma}\mathrm{v}_{\sigma,r}^X\circ\mathrm{M}_{\sigma,r}^{YZ}+\mathrm{v}_{\sigma,r}^Y\circ\mathrm{M}_{\sigma,r}^{XZ}+\mathrm{v}_{\sigma,r}^Z\circ\mathrm{M}_{\sigma,r}^{XY}=\sum_{r=1}^{R_\sigma}\sum_{m\in XYZ}A_{\sigma,r}^m$ Eq.7<br>å¤–è§‚å¼ é‡$\mathcal{G}_{c}$å…·æœ‰ä¸ç‰¹å¾é€šé“ç»´åº¦ç›¸å¯¹åº”çš„é™„åŠ æ¨¡å¼ã€‚è¯·æ³¨æ„ï¼Œä¸XYZæ¨¡å¼ç›¸æ¯”ï¼Œæ­¤æ¨¡å¼é€šå¸¸å…·æœ‰è¾ƒä½çš„ç»´åº¦ï¼Œä»è€Œå¯¼è‡´è¾ƒä½çš„æ’åã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸å°†è¯¥æ¨¡æ€ä¸å…¶ä»–æ¨¡æ€ç»“åˆåœ¨çŸ©é˜µå› å­ä¸­ï¼Œè€Œæ˜¯åœ¨åˆ†è§£ä¸­ä»…ä½¿ç”¨å‘é‡$\mathbf{b}_{r}$è¡¨ç¤ºè¯¥æ¨¡æ€ã€‚å…·ä½“åœ°è¯´ï¼Œ$\mathcal{G}_{c}$è¢«åˆ†è§£ä¸ºEq.8</p><script type="math/tex; mode=display">\begin{aligned}G_{c}& =\sum_{r=1}^{R_{c}}\mathbf{v}_{c,r}^{X}\circ\mathbf{M}_{c,r}^{YZ}\circ\mathbf{b}_{3r-2}+\mathbf{v}_{c,r}^{Y}\circ\mathbf{M}_{c,r}^{XZ}\circ\mathbf{b}_{3r-1}+\mathbf{v}_{c,r}^{Z}\circ\mathbf{M}_{c,r}^{XY}\circ\mathbf{b}_{3r}  \\&=\sum_{r=1}^{R_c}\mathcal{A}_{c,r}^X\circ\mathbf{b}_{3r-2}+\mathcal{A}_{c,r}^Y\circ\mathbf{b}_{3r-1}+\mathcal{A}_{c,r}^Z\circ\mathbf{b}_{3r}\end{aligned}</script><p>æ³¨æ„ï¼Œæˆ‘ä»¬æœ‰$3R_{c}$å‘é‡$\mathbf{b}_{r}$æ¥åŒ¹é…åˆ†é‡çš„æ€»æ•°ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬å°†æ•´ä¸ªå¼ é‡è¾å°„åœºåˆ†è§£ä¸º$3R_{\sigma}+3R_{c}$çŸ©é˜µ$(\mathbf{M}_{\sigma,r}^{YZ},â€¦,\mathbf{M}_{c,r}^{YZ},â€¦)$å’Œ$3R_{\sigma}+6R_{c}$å‘é‡$(\mathbf{v}_{\sigma,r}^{X},â€¦,\mathbf{v}_{c,r}^{X},â€¦,\mathbf{b}_{r}).$ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬é‡‡ç”¨$R_{\sigma}\ll I,J,K$, $R_{c}\ll I,J,K$ï¼Œä»è€Œå½¢æˆé«˜åº¦ç´§å‡‘çš„è¡¨ç¤ºï¼Œå¯ä»¥å¯¹é«˜åˆ†è¾¨ç‡çš„å¯†é›†ç½‘æ ¼è¿›è¡Œç¼–ç ã€‚æœ¬è´¨ä¸Šï¼Œxyzæ¨¡å‘é‡å’ŒçŸ©é˜µå› å­ï¼Œ$\mathbf{v}_{\sigma,r}^{X},\mathbf{M}_{\sigma,r}^{YZ},\mathbf{v}_{c,r}^{X},\mathbf{M}_{c,r}^{YZ},â€¦,$æè¿°åœºæ™¯å‡ ä½•å’Œå¤–è§‚æ²¿å…¶ç›¸åº”è½´çš„ç©ºé—´åˆ†å¸ƒã€‚å¦ä¸€æ–¹é¢ï¼Œå¤–è§‚ç‰¹å¾æ¨¡æ€å‘é‡$\mathbf{b}_{r}$è¡¨ç¤ºå…¨å±€å¤–è§‚ç›¸å…³æ€§ã€‚é€šè¿‡å°†æ‰€æœ‰$\mathbf{b}_{r}$ä½œä¸ºåˆ—å åŠ åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ª$P\times3R_{c}$çŸ©é˜µB; è¿™ä¸ªçŸ©é˜µBä¹Ÿå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªå…¨å±€å¤–è§‚å­—å…¸ï¼Œå®ƒæŠ½è±¡äº†æ•´ä¸ªåœºæ™¯çš„å¤–è§‚å…±æ€§ã€‚</p><h2 id="Efficient-feature-evaluation"><a href="#Efficient-feature-evaluation" class="headerlink" title="Efficient feature evaluation."></a>Efficient feature evaluation.</h2><p>æˆ‘ä»¬åŸºäºå› å­åˆ†è§£çš„æ¨¡å‹å¯ä»¥ä»¥ä½æˆæœ¬è®¡ç®—æ¯ä¸ªä½“ç´ çš„ç‰¹å¾å‘é‡ï¼Œæ¯ä¸ªxyzæ¨¡å¼å‘é‡/çŸ©é˜µå› å­åªéœ€è¦ä¸€ä¸ªå€¼ã€‚æˆ‘ä»¬è¿˜ä¸ºæˆ‘ä»¬çš„æ¨¡å‹å¯ç”¨äº†æœ‰æ•ˆçš„ä¸‰çº¿æ€§æ’å€¼ï¼Œä»è€Œå¯¼è‡´è¿ç»­åœºã€‚</p><p><strong>Direct evaluation</strong>.<br>é€šè¿‡VMåˆ†è§£ï¼Œå•ä¸ªä½“ç´ åœ¨æŒ‡æ ‡ijkå¤„çš„å¯†åº¦å€¼$\mathcal{G}_{\sigma,ijk}$å¯ä»¥é€šè¿‡å…¬å¼5ç›´æ¥æœ‰æ•ˆåœ°æ±‚å‡º:<br>$\mathcal{G}_{\sigma,ijk}=\sum_{r=1}^{R_\sigma}\sum_{m\in XYZ}\mathcal{A}_{\sigma,r,ijk}^{m}$ Eq.9<br>åœ¨è¿™é‡Œï¼Œè®¡ç®—æ¯ä¸ª$\mathcal{A}_{\sigma,r,ijk}^m$åªéœ€è¦ç´¢å¼•å’Œä¹˜ä»¥å¯¹åº”å‘é‡å’ŒçŸ©é˜µå› å­çš„ä¸¤ä¸ªå€¼ã€‚</p><p>å¯¹äºå¤–è§‚ç½‘æ ¼$\mathcal{G}_{c}$ï¼Œæˆ‘ä»¬æ€»æ˜¯éœ€è¦è®¡ç®—ä¸€ä¸ªå®Œæ•´çš„Pé€šé“ç‰¹å¾å‘é‡ï¼Œç€è‰²å‡½æ•°Séœ€è¦ä½œä¸ºè¾“å…¥ï¼Œå¯¹åº”äºå›ºå®šXYZç´¢å¼•ijkçš„$\mathcal{G}_{c}$çš„1Dåˆ‡ç‰‡:<br>$\mathcal{G}_{c,ijk}=\sum_{r=1}^{R_{c}}\mathcal{A}_{c,r,ijk}^X\mathbf{b}_{3r-2}+\mathcal{A}_{c,r,ijk}^Y\mathbf{b}_{3r-1}+\mathcal{A}_{c,r,ijk}^Z\mathbf{b}_{3r}$ Eq.10</p><p>åœ¨è¿™é‡Œï¼Œç‰¹å¾æ¨¡å¼æ²¡æœ‰é¢å¤–çš„ç´¢å¼•ï¼Œå› ä¸ºæˆ‘ä»¬è®¡ç®—äº†ä¸€ä¸ªå®Œæ•´çš„å‘é‡ã€‚æˆ‘ä»¬é€šè¿‡é‡æ–°æ’åºè®¡ç®—è¿›ä¸€æ­¥ç®€åŒ–Eqn. 10ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†$\oplus[\mathcal{A}_{c,ijk}^m]_{m,r}$è¡¨ç¤ºä¸ºå åŠ $m=X,Y,Z$å’Œ $r=1,â€¦,R_{c}$æ‰€æœ‰$\mathcal{A}_{c,r,ijk}^{m}$å€¼çš„å‘é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ª$3R_{c}$ç»´çš„å‘é‡;åœ¨å®è·µä¸­ï¼ŒâŠ•ä¹Ÿå¯ä»¥è¢«çœ‹ä½œæ˜¯å°†æ‰€æœ‰æ ‡é‡å€¼(1é€šé“å‘é‡)è¿æ¥æˆ$3R_{c}$é€šé“å‘é‡çš„è¿æ¥è¿ç®—ç¬¦ã€‚ä½¿ç”¨çŸ©é˜µB(åœ¨4.1èŠ‚ä¸­ä»‹ç»)å †å æ‰€æœ‰çš„$\mathbf{b}_{r}$, Eqn. 10ç­‰ä»·äºçŸ©é˜µå‘é‡ç§¯: $\mathcal{G}_{c,ijk}=\mathbf{B}(\oplus[\mathcal{A}_{c,ijk}^m]_{m,r})$ Eq.11</p><p>æ³¨æ„ï¼Œå…¬å¼11ä¸ä»…åœ¨å½¢å¼ä¸Šæ›´ç®€å•ï¼Œè€Œä¸”åœ¨å®è·µä¸­ä¹Ÿå¯¼è‡´äº†æ›´ç®€å•çš„å®ç°ã€‚å…·ä½“æ¥è¯´ï¼Œå½“å¹¶è¡Œè®¡ç®—å¤§é‡ä½“ç´ æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè®¡ç®—å¹¶è¿æ¥æ‰€æœ‰ä½“ç´ çš„$\mathcal{A}_{c,r,ijk}^{m}$ä½œä¸ºçŸ©é˜µä¸­çš„åˆ—å‘é‡ï¼Œç„¶åå°†å…±äº«çŸ©é˜µBä¹˜ä»¥ä¸€æ¬¡ã€‚</p><p><strong>Trilinear interpolation.</strong><br>æˆ‘ä»¬ç”¨ä¸‰çº¿æ€§æ’å€¼æ³•å¯¹è¿ç»­åœºè¿›è¡Œå»ºæ¨¡ã€‚Na ivelyå®ç°ä¸‰çº¿æ€§æ’å€¼æ˜¯æ˜‚è´µçš„ï¼Œå› ä¸ºå®ƒéœ€è¦è¯„ä¼°8ä¸ªå¼ é‡å€¼å¹¶å¯¹å®ƒä»¬è¿›è¡Œæ’å€¼ï¼Œä¸è®¡ç®—å•ä¸ªå¼ é‡å…ƒç´ ç›¸æ¯”ï¼Œè®¡ç®—é‡å¢åŠ äº†8å€ã€‚<strong>ç„¶è€Œï¼Œæˆ‘ä»¬å‘ç°ï¼Œç”±äºä¸‰çº¿æ€§æ’å€¼å’Œå¤–ç§¯çš„çº¿æ€§ä¹‹ç¾ï¼Œå¯¹åˆ†é‡å¼ é‡çš„ä¸‰çº¿æ€§æ’å€¼è‡ªç„¶ç­‰åŒäºå¯¹ç›¸åº”æ¨¡æ€çš„å‘é‡/çŸ©é˜µå› å­çš„çº¿æ€§/åŒçº¿æ€§æ’å€¼</strong>ã€‚</p><p>ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªåˆ†é‡å¼ é‡$\mathcal{A}_{r}^{X}=\mathrm{v}_{r}^{X}\circ\mathrm{M}_{r}^{YZ}$åŠå…¶æ¯ä¸ªå¼ é‡å…ƒç´ $\mathcal{A}_{r,ijk}=\mathrm{v}_{r,i}^{X}\mathrm{M}_{r,jk}^{YZ},$ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å…¶æ’å€¼å€¼ä¸º: $\mathcal{A}_r^X(\mathrm{x})=\mathrm{v}_r^X(x)\mathrm{M}_r^{YZ}(y,z)$ Eq.12<br>å…¶ä¸­$\mathcal{A}_r^X(\mathrm{x})$æ˜¯$\mathcal{A}_r$åœ¨ä¸‰ç»´ç©ºé—´ä¸­ä½ç½®x = (x, y, z)å¤„çš„ä¸‰çº¿æ€§æ’å€¼å€¼ï¼Œ$\mathrm{v}_{r}^{X}(x)$æ˜¯$\mathrm{v}_{r}^{X}$åœ¨xè½´ä¸Šåœ¨xå¤„çš„çº¿æ€§æ’å€¼å€¼ï¼Œ$\mathrm{M}_{r}^{YZ}(y,z)$æ˜¯$\mathrm{M}_{r}^{YZ}$åœ¨YZå¹³é¢ä¸Šåœ¨(y, z)å¤„çš„äºŒçº¿æ€§æ’å€¼å€¼ã€‚ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬æœ‰$\mathcal{A}_{r}^{Y}(\mathbf{x})=\mathbf{v}_{r}^{Y}(y)\mathbf{M}_{r}^{XZ}(x,z)$å’Œ$\mathcal{A}_{r}^{Z}(\mathbf{x})=\mathbf{v}_{r}^{Z}(z)\mathbf{M}_{r}^{XY}(x,y)$(å¯¹äºCPåˆ†è§£ï¼Œ$\mathcal{A}_{r}^{\gamma}(\mathbf{x})=\mathbf{v}_{r}^{X}(x)\mathbf{v}_{r}^{Y}(y)\mathbf{v}_{r}^{Z}(z)$ä¹Ÿæ˜¯æœ‰æ•ˆçš„)ã€‚å› æ­¤ï¼Œå¯¹ä¸¤ä¸ªç½‘æ ¼è¿›è¡Œä¸‰çº¿æ€§æ’å€¼è¡¨ç¤ºä¸º<br>$\mathcal{G}_\sigma(\mathrm{x})=\sum_r\sum_m\mathcal{A}_{\sigma,r}^m(\mathrm{x})$ Eq.13<br>$\mathcal{G}_c(\mathrm{x})=\mathbf{B}(\oplus[\mathcal{A}_{c,r}^m(\mathrm{x})]_{m,r})$ Eq.14</p><p>è¿™äº›æ–¹ç¨‹ä¸å…¬å¼9å’Œ11éå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯ç”¨æ’å€¼å€¼æ›¿æ¢å¼ é‡å…ƒç´ ã€‚æˆ‘ä»¬é¿å…äº†æ¢å¤8ä¸ªå•ç‹¬çš„å¼ é‡å…ƒç´ è¿›è¡Œä¸‰çº¿æ€§æ’å€¼ï¼Œè€Œæ˜¯ç›´æ¥æ¢å¤æ’å€¼å€¼ï¼Œä»è€Œé™ä½äº†è¿è¡Œæ—¶çš„è®¡ç®—å’Œå†…å­˜æˆæœ¬ã€‚</p><h2 id="Rendering-and-reconstruction"><a href="#Rendering-and-reconstruction" class="headerlink" title="Rendering and reconstruction."></a>Rendering and reconstruction.</h2><p>æ–¹ç¨‹6,12 - 14æè¿°äº†æˆ‘ä»¬æ¨¡å‹çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚ç»“åˆå…¬å¼6ã€13ã€14ï¼Œåˆ†è§£åçš„å¼ é‡è¾å°„åœºå¯è¡¨ç¤ºä¸º<br>$\sigma,c=\sum_{r}\sum_{m}\mathcal{A}_{\sigma,r}^{m}(\mathrm{x}),S(\mathbf{B}(\oplus[\mathcal{A}_{c,r}^{m}(\mathrm{x})]_{m,r}),d)$ Eq.15<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç»™å®šä»»ä½•3Dä½ç½®å’Œè§‚çœ‹æ–¹å‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è·å¾—è¿ç»­çš„ä½“ç§¯å¯†åº¦å’Œä¸è§†å›¾ç›¸å…³çš„é¢œè‰²ã€‚è¿™å…è®¸é«˜è´¨é‡çš„è¾å°„åœºé‡å»ºå’Œæ¸²æŸ“ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ªæ–¹ç¨‹æ˜¯é€šç”¨çš„ï¼Œå¹¶ä¸”æè¿°äº†å…·æœ‰CPå’ŒVMåˆ†è§£çš„TensoRFã€‚æˆ‘ä»¬çš„è¾å°„åœºé‡å»ºå’ŒVMåˆ†è§£æ¸²æŸ“çš„å®Œæ•´ç®¡é“å¦‚å›¾3æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230831142014.png" alt="image.png"></p><p><strong>Volume rendering.</strong><br>ä¸ºäº†æ¸²æŸ“å›¾åƒï¼Œæˆ‘ä»¬ä½¿ç”¨å¯å¾®ä½“æ¸²æŸ“ï¼Œéµå¾ªNeRF[37]ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºæ¯ä¸ªåƒç´ ï¼Œæˆ‘ä»¬æ²¿ç€ä¸€æ¡å°„çº¿å‰è¿›ï¼Œæ²¿ç€å°„çº¿é‡‡æ ·qä¸ªé˜´å½±ç‚¹å¹¶è®¡ç®—åƒç´ é¢œè‰²<br>$C=\sum_{q=1}^Q\tau_q(1-\exp(-\sigma_q\Delta_q))c_q,\tau_q=\exp(-\sum_{p=1}^{q-1}\sigma_p\Delta_p)$ Eq.16<br>å…¶ä¸­ï¼Œ$\sigma_q,c_q$æ˜¯æˆ‘ä»¬çš„æ¨¡å‹åœ¨å®ƒä»¬çš„é‡‡æ ·ä½ç½®$\mathbf{x}_{q}$è®¡ç®—å‡ºçš„ç›¸åº”çš„å¯†åº¦å’Œé¢œè‰²;$\Delta_{q}$ä¸ºå°„çº¿æ­¥é•¿ï¼Œ$Ï„_{q}$ä¸ºé€å°„ç‡ã€‚</p><p><strong>Reconstruction.</strong><br>ç»™å®šä¸€ç»„å…·æœ‰å·²çŸ¥ç›¸æœºå§¿åŠ¿çš„å¤šè§†å›¾è¾“å…¥å›¾åƒï¼Œæˆ‘ä»¬çš„å¼ é‡è¾å°„åœºé€šè¿‡æ¢¯åº¦ä¸‹é™æ¥ä¼˜åŒ–æ¯ä¸ªåœºæ™¯ï¼Œæœ€å°åŒ–L2æ¸²æŸ“æŸå¤±ï¼Œä»…ä½¿ç”¨åœ°é¢çœŸå®åƒç´ é¢œè‰²ä½œä¸ºç›‘ç£ã€‚<br>æˆ‘ä»¬çš„è¾å°„åœºç”±å¼ é‡åˆ†è§£è§£é‡Šï¼Œå¹¶ç”±ä¸€ç»„å…¨å±€å‘é‡å’ŒçŸ©é˜µå»ºæ¨¡ï¼Œä½œä¸ºä¼˜åŒ–ä¸­æ•´ä¸ªåœºçš„å…³è”å’Œæ­£åˆ™åŒ–çš„åŸºæœ¬å› ç´ ã€‚<strong>ç„¶è€Œï¼Œè¿™æœ‰æ—¶ä¼šå¯¼è‡´æ¢¯åº¦ä¸‹é™ä¸­çš„è¿‡æ‹Ÿåˆå’Œå±€éƒ¨æœ€å°é—®é¢˜ï¼Œå¯¼è‡´è§‚æµ‹å€¼è¾ƒå°‘çš„åŒºåŸŸå‡ºç°å¼‚å¸¸å€¼æˆ–å™ªå£°</strong>ã€‚æˆ‘ä»¬åˆ©ç”¨å‹ç¼©æ„ŸçŸ¥ä¸­å¸¸ç”¨çš„æ ‡å‡†æ­£åˆ™åŒ–æœ¯è¯­ï¼ŒåŒ…æ‹¬å‘é‡å’ŒçŸ©é˜µå› å­ä¸Šçš„L1èŒƒæ•°æŸå¤±å’ŒTV(æ€»å˜åŒ–)æŸå¤±ï¼Œæœ‰æ•ˆåœ°è§£å†³äº†è¿™äº›é—®é¢˜ã€‚æˆ‘ä»¬å‘ç°ä»…åº”ç”¨L1ç¨€ç–æ€§æŸå¤±å¯¹äºå¤§å¤šæ•°æ•°æ®é›†æ˜¯è¶³å¤Ÿçš„ã€‚ç„¶è€Œï¼Œå¯¹äºè¾“å…¥å›¾åƒå¾ˆå°‘çš„çœŸå®æ•°æ®é›†(å¦‚LLFF[36])æˆ–ä¸å®Œç¾çš„æ•è·æ¡ä»¶(å¦‚å¦å…‹å’Œå¯ºåº™[26,31]ï¼Œå…·æœ‰ä¸åŒçš„æ›å…‰å’Œä¸ä¸€è‡´çš„æ©æ¨¡)ï¼ŒTVæŸå¤±æ¯”L1èŒƒæ•°æŸå¤±æ›´æœ‰æ•ˆã€‚<br>ä¸ºäº†è¿›ä¸€æ­¥æé«˜è´¨é‡å’Œé¿å…å±€éƒ¨æå°å€¼ï¼Œæˆ‘ä»¬åº”ç”¨ç²—åˆ°ç»†é‡å»ºã€‚ä¸åƒä»¥å‰çš„ç²—åˆ°ç»†æŠ€æœ¯ï¼Œéœ€è¦å¯¹å…¶ç¨€ç–é€‰æ‹©çš„ä½“ç´ é›†è¿›è¡Œç‹¬ç‰¹çš„ç»†åˆ†ï¼Œ<strong>æˆ‘ä»¬çš„ç²—åˆ°ç»†é‡å»ºåªæ˜¯é€šè¿‡çº¿æ€§å’ŒåŒçº¿æ€§ä¸Šé‡‡æ ·æˆ‘ä»¬çš„xyzæ¨¡å¼å‘é‡å’ŒçŸ©é˜µå› å­æ¥å®ç°</strong>ã€‚</p><h1 id="Implementation-details"><a href="#Implementation-details" class="headerlink" title="Implementation details"></a>Implementation details</h1><p>ç‰¹å¾æ¥ç å‡½æ•°S ï¼š MLPæˆ–SHå‡½æ•°ï¼ŒP=27ä¸ªç‰¹å¾</p><ul><li>SHï¼šå¯¹åº”äºå…·æœ‰RGBé€šé“çš„ä¸‰é˜¶SHç³»æ•°</li><li>Neural Featuresï¼šä½¿ç”¨å¸¦æœ‰ä¸¤ä¸ªFCå±‚(128é€šé“éšè—å±‚)å’ŒReLUæ¿€æ´»çš„å°å‹MLP</li></ul><p>Adamä¼˜åŒ–</p><ul><li>å¼ é‡å› å­lr = 0.02</li><li>MLPè§£ç å™¨lr = 0.001</li></ul><p>GPUï¼šTesla V100 16GB</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>æå‡ºäº†ä¸€ä¸ªå¹¿æ³›çš„è¯„ä¼°æˆ‘ä»¬çš„å¼ é‡è¾å°„åœºã€‚æˆ‘ä»¬é¦–å…ˆåˆ†æåˆ†è§£æŠ€æœ¯ã€ç»„ä»¶æ•°é‡ã€ç½‘æ ¼åˆ†è¾¨ç‡å’Œä¼˜åŒ–æ­¥éª¤ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸ä¹‹å‰å’Œå¹¶å‘çš„360åº¦å¯¹è±¡å’Œé¢å‘æ•°æ®é›†çš„å·¥ä½œè¿›è¡Œæ¯”è¾ƒã€‚</p><ul><li>Analysis of different TensoRF models.</li><li>Optimization steps</li><li>Comparisons on 360â—¦ scenes</li><li>Forward-facing scenes</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Efficiency </tag>
            
            <tag> TensorDecomposition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UNISURF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/UNISURF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/UNISURF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>UNISURF: Unifying Neural Implicit Surfaces and Radiance Fields for Multi-View Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://moechsle.github.io/">Michael Oechsle</a> <a href="https://pengsongyou.github.io/">Songyou Peng</a> <a href="http://cvlibs.net/">Andreas Geiger</a></td></tr><tr><td>Conf/Jour</td><td>ICCV 2021 (oral)</td></tr><tr><td>Year</td><td>2021</td></tr><tr><td>Project</td><td><a href="https://moechsle.github.io/unisurf/">UNISURF: Unifying Neural Implicit Surfaces and Radiance Fields for Multi-View Reconstruction (moechsle.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4546355486135050241&amp;noteId=1791178045241021696">UNISURF: Unifying Neural Implicit Surfaces and Radiance Fields for Multi-View Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p>ä½¿ç”¨$\hat{C}(\mathbf{r})=\sum_{i=1}^No(\mathbf{x}_i)\prod_{j&lt;i}\bigl(1-o(\mathbf{x}_j)\bigr)c(\mathbf{x}_i,\mathbf{d})$ å æ®oæ¥ä»£æ›¿NeRFä¸­çš„$\alpha$<br>å°†VRä¸SRç»“åˆèµ·æ¥ï¼Œé¦–å…ˆæ ¹æ®å æ®åœºè·å–è¡¨é¢çš„ç‚¹$t_s$ï¼Œç„¶ååœ¨$t_s$çš„ä¸€ä¸ªåŒºé—´å†…å‡åŒ€é‡‡æ ·ç‚¹æ¥è¿›è¡Œé¢œè‰²åœºçš„ä¼˜åŒ–(å¦‚æœå…‰çº¿æ²¡æœ‰ç©¿è¿‡ç‰©ä½“ï¼Œåˆ™ä½¿ç”¨åˆ†å±‚é‡‡æ ·)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806143334.png" alt="image.png|700"></p><span id="more"></span><h1 id="Discussion-and-Conclusion"><a href="#Discussion-and-Conclusion" class="headerlink" title="Discussion and Conclusion"></a>Discussion and Conclusion</h1><p>è¿™é¡¹å·¥ä½œæå‡ºäº†UNISURFï¼Œä¸€ç§ç»Ÿä¸€çš„éšå¼è¡¨é¢å’Œè¾å°„åœºå…¬å¼ï¼Œç”¨äºåœ¨æ²¡æœ‰è¾“å…¥æ©æ¨¡çš„æƒ…å†µä¸‹ä»å¤šè§†å›¾å›¾åƒä¸­æ•è·é«˜è´¨é‡çš„éšå¼è¡¨é¢å‡ ä½•å½¢çŠ¶ã€‚æˆ‘ä»¬ç›¸ä¿¡ç¥ç»éšå¼æ›²é¢å’Œå…ˆè¿›çš„å¯å¾®åˆ†æ¸²æŸ“ç¨‹åºåœ¨æœªæ¥çš„3Dé‡å»ºæ–¹æ³•ä¸­å‘æŒ¥å…³é”®ä½œç”¨ã€‚æˆ‘ä»¬çš„ç»Ÿä¸€å…¬å¼æ˜¾ç¤ºäº†åœ¨æ¯”ä»¥å‰æ›´ä¸€èˆ¬çš„è®¾ç½®ä¸­ä¼˜åŒ–éšå¼æ›²é¢çš„è·¯å¾„ã€‚<br>é™åˆ¶:é€šè¿‡è®¾è®¡ï¼Œæˆ‘ä»¬çš„æ¨¡å‹ä»…é™äº<strong>è¡¨ç¤ºå›ºä½“</strong>ï¼Œ<strong>éé€æ˜è¡¨é¢</strong>ã€‚<strong>è¿‡åº¦æ›å…‰å’Œæ— çº¹ç†åŒºåŸŸä¹Ÿæ˜¯å¯¼è‡´ä¸å‡†ç¡®å’Œä¸å…‰æ»‘è¡¨é¢çš„é™åˆ¶å› ç´ </strong>ã€‚æ­¤å¤–ï¼Œåœ¨å›¾åƒä¸­å¾ˆå°‘å¯è§çš„åŒºåŸŸï¼Œé‡å»ºçš„ç²¾åº¦è¾ƒä½ã€‚åœ¨é™„å½•ä¸­æ›´è¯¦ç»†åœ°è®¨è®ºäº†é™åˆ¶ã€‚<br>åœ¨æœªæ¥çš„å·¥ä½œä¸­ï¼Œä¸ºäº†ä»å¾ˆå°‘å¯è§å’Œæ— çº¹ç†çš„åŒºåŸŸä¸­è§£å†³æ­§ä¹‰ï¼Œ<strong>å…ˆéªŒæ˜¯é‡å»ºçš„å¿…è¦æ¡ä»¶</strong>ã€‚è™½ç„¶æˆ‘ä»¬åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­åŠ å…¥äº†æ˜¾å¼å¹³æ»‘å…ˆéªŒï¼Œä½†å­¦ä¹ æ•è·å¯¹è±¡ä¹‹é—´çš„è§„å¾‹æ€§å’Œä¸ç¡®å®šæ€§çš„æ¦‚ç‡ç¥ç»è¡¨é¢æ¨¡å‹å°†æœ‰åŠ©äºè§£å†³æ¨¡ç³Šæ€§ï¼Œä»è€Œå®ç°æ›´å‡†ç¡®çš„é‡å»ºã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ç¥ç»éšå¼ä¸‰ç»´è¡¨ç¤ºå·²ç»æˆä¸ºä»å¤šè§†å›¾å›¾åƒé‡å»ºè¡¨é¢å’Œåˆæˆæ–°è§†å›¾çš„å¼ºå¤§èŒƒä¾‹ã€‚<strong>ä¸å¹¸çš„æ˜¯ï¼Œç°æœ‰çš„æ–¹æ³•ï¼Œå¦‚DVRæˆ–IDRéœ€è¦ç²¾ç¡®çš„è¿‡åƒç´ å¯¹è±¡æ©ç Maskä½œä¸ºç›‘ç£</strong>ã€‚<br>ä¸æ­¤åŒæ—¶ï¼Œç¥ç»è¾å°„åœºå·²ç»å½»åº•æ”¹å˜äº†æ–°çš„è§†å›¾åˆæˆã€‚<strong>ç„¶è€Œï¼ŒNeRFçš„ä¼°è®¡ä½“ç§¯å¯†åº¦ä¸å…è®¸ç²¾ç¡®çš„è¡¨é¢é‡å»º</strong>ã€‚<br>æˆ‘ä»¬çš„å…³é”®è§è§£æ˜¯éšå¼è¡¨é¢æ¨¡å‹å’Œäº®åº¦åœºå¯ä»¥ä»¥ç»Ÿä¸€çš„æ–¹å¼åˆ¶å®šï¼Œä½¿è¡¨é¢å’Œä½“æ¸²æŸ“ä½¿ç”¨ç›¸åŒçš„æ¨¡å‹ã€‚è¿™ç§ç»Ÿä¸€çš„è§†è§’ä½¿æ–°é¢–ï¼Œæ›´æœ‰æ•ˆçš„é‡‡æ ·ç¨‹åºå’Œé‡å»ºç²¾ç¡®è¡¨é¢çš„èƒ½åŠ›æ— éœ€è¾“å…¥æ©æ¨¡ã€‚æˆ‘ä»¬åœ¨DTUã€BlendedMVSå’Œåˆæˆå®¤å†…æ•°æ®é›†ä¸Šæ¯”è¾ƒäº†æˆ‘ä»¬çš„æ–¹æ³•ã€‚æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬åœ¨é‡å»ºè´¨é‡æ–¹é¢ä¼˜äºNeRFï¼ŒåŒæ—¶<strong>åœ¨ä¸éœ€è¦æ©æ¨¡çš„æƒ…å†µä¸‹ä¸IDRè¡¨ç°ç›¸å½“</strong>ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä»ä¸€ç»„å›¾åƒä¸­æ•æ‰3Dåœºæ™¯çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚æ˜¯è®¡ç®—æœºè§†è§‰çš„åŸºç¡€é—®é¢˜ä¹‹ä¸€ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼ŒåŸºäºåæ ‡çš„ç¥ç»æ¨¡å‹åœ¨è¿‡å»å‡ å¹´ä¸­å·²ç»æˆä¸ºä¸‰ç»´å‡ ä½•å’Œå¤–è§‚é‡å»ºçš„å¼ºå¤§å·¥å…·ã€‚<br>æœ€è¿‘çš„è®¸å¤šæ–¹æ³•ä½¿ç”¨è¿ç»­éšå¼å‡½æ•°å‚æ•°åŒ–ç¥ç»ç½‘ç»œä½œä¸ºå‡ ä½•å›¾å½¢çš„ä¸‰ç»´è¡¨ç¤º[3,8,12,31,32,37,41,43,47,57]æˆ–å¤–è§‚[34,38,39,40,47,52,61]ã€‚è¿™äº›ç¥ç»ç½‘ç»œä¸‰ç»´è¡¨ç¤ºåœ¨å¤šè§†å›¾å›¾åƒçš„å‡ ä½•é‡å»ºå’Œæ–°è§†å›¾åˆæˆæ–¹é¢æ˜¾ç¤ºå‡ºä»¤äººå°è±¡æ·±åˆ»çš„æ€§èƒ½ã€‚ç¥ç»éšå¼å¤šè§†å›¾é‡å»ºé™¤äº†é€‰æ‹©ä¸‰ç»´è¡¨ç¤ºå½¢å¼(å¦‚å ç”¨åœºã€æ— ç¬¦å·è·ç¦»åœºæˆ–æœ‰ç¬¦å·è·ç¦»åœº)å¤–ï¼Œæ¸²æŸ“æŠ€æœ¯æ˜¯å®ç°å¤šè§†å›¾é‡å»ºçš„å…³é”®ã€‚è™½ç„¶å…¶ä¸­ä¸€äº›ä½œå“å°†éšå¼è¡¨é¢è¡¨ç¤ºä¸ºæ°´å¹³é›†ï¼Œä»è€Œæ¸²æŸ“è¡¨é¢çš„å¤–è§‚[38,52,61]ï¼Œä½†å…¶ä»–ä½œå“é€šè¿‡æ²¿ç€è§‚å¯Ÿå…‰çº¿ç»˜åˆ¶æ ·æœ¬æ¥æ•´åˆå¯†åº¦[22,34,49]ã€‚<br>åœ¨ç°æœ‰çš„å·¥ä½œä¸­ï¼Œè¡¨é¢æ¸²æŸ“æŠ€æœ¯åœ¨ä¸‰ç»´é‡å»ºä¸­è¡¨ç°å‡ºäº†ä»¤äººå°è±¡æ·±åˆ»çš„æ€§èƒ½[38,61]ã€‚<strong>ç„¶è€Œï¼Œå®ƒä»¬éœ€è¦é€åƒç´ å¯¹è±¡æ©ç ä½œä¸ºè¾“å…¥å’Œé€‚å½“çš„ç½‘ç»œåˆå§‹åŒ–ï¼Œå› ä¸ºè¡¨é¢æ¸²æŸ“æŠ€æœ¯åªåœ¨è¡¨é¢ä¸å°„çº¿ç›¸äº¤çš„å±€éƒ¨æä¾›æ¢¯åº¦ä¿¡æ¯</strong>ã€‚ç›´è§‚åœ°è¯´ï¼Œoptimizing wrt. å±€éƒ¨æ¢¯åº¦å¯ä»¥çœ‹ä½œæ˜¯åº”ç”¨äºåˆå§‹ç¥ç»è¡¨é¢çš„è¿­ä»£å˜å½¢è¿‡ç¨‹ï¼Œåˆå§‹ç¥ç»è¡¨é¢é€šå¸¸è¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªçƒä½“ã€‚ä¸ºäº†æ”¶æ•›åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„è¡¨é¢ï¼Œéœ€è¦é¢å¤–çš„çº¦æŸï¼Œå¦‚æ©ç ç›‘ç£ï¼Œå¦‚å›¾2æ‰€ç¤ºã€‚<br>==ç°æœ‰å·¥ä½œ2021ç”±äºä¾èµ–maskï¼Œå› æ­¤åªèƒ½ç”¨äºå¯¹è±¡çº§é‡å»ºï¼Œè€Œæ— æ³•é‡å»ºå¤§åœºæ™¯==</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806160553.png" alt="image.png"></p><p>ç›¸åï¼ŒåƒNeRF[34]è¿™æ ·çš„ä½“ç»˜åˆ¶æ–¹æ³•åœ¨æ–°è§†å›¾åˆæˆæ–¹é¢ä¹Ÿæ˜¾ç¤ºäº†ä»¤äººå°è±¡æ·±åˆ»çš„ç»“æœï¼Œalsoå¯¹äºæ›´å¤§çš„åœºæ™¯ã€‚<strong>ç„¶è€Œï¼Œä½œä¸ºåº•å±‚ä½“ç§¯å¯†åº¦æ°´å¹³é›†æå–çš„è¡¨é¢é€šå¸¸æ˜¯éå…‰æ»‘çš„(NeRFç”¨å¯†åº¦æ¥æå–é›¶æ°´å¹³é›†è¡¨é¢æ˜¯éå…‰æ»‘çš„)</strong>ï¼Œå¹¶ä¸”ç”±äºè¾å°„åœºè¡¨ç¤ºçš„çµæ´»æ€§è€ŒåŒ…å«ä¼ªå½±ï¼Œè¿™åœ¨å­˜åœ¨æ­§ä¹‰çš„æƒ…å†µä¸‹ä¸èƒ½å……åˆ†çº¦æŸ 3D å‡ ä½•ï¼Œè§å›¾ 3ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807121145.png" alt="image.png"></p><p>è´¡çŒ®ï¼šåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº† UNISURFï¼ˆç»Ÿä¸€UNIfied ç¥ç»Neural éšå¼Implicit SUrface å’Œè¾å°„åœºRadianceï¼‰éšå¼è¡¨é¢å’Œè¾å°„åœºçš„åŸåˆ™æ€§ç»Ÿä¸€æ¡†æ¶ï¼Œç›®æ ‡æ˜¯ä»ä¸€ç»„ RGB å›¾åƒé‡å»ºå®ä½“ï¼ˆå³ä¸é€æ˜ï¼‰å¯¹è±¡ã€‚<strong>æˆ‘ä»¬çš„æ¡†æ¶ç»“åˆäº†è¡¨é¢æ¸²æŸ“çš„å¥½å¤„å’Œä½“ç»˜åˆ¶çš„å¥½å¤„ï¼Œä»è€Œèƒ½å¤Ÿä»æ²¡æœ‰æ©ç çš„å¤šè§†å›¾å›¾åƒé‡å»ºå‡†ç¡®çš„å‡ ä½•å›¾å½¢</strong>ã€‚é€šè¿‡æ¢å¤éšå¼æ›²é¢ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é€æ¸é™ä½é‡‡æ ·åŒºåŸŸè¿›è¡Œä½“ç»˜åˆ¶ã€‚ä»å¤§é‡‡æ ·åŒºåŸŸå¼€å§‹ï¼Œå¯ä»¥åœ¨æ—©æœŸè¿­ä»£æœŸé—´æ•è·ç²—ç•¥çš„å‡ ä½•å›¾å½¢å¹¶è§£å†³æ­§ä¹‰<br><strong>åœ¨åé¢çš„é˜¶æ®µï¼Œæˆ‘ä»¬æŠ½å–æ›´æ¥è¿‘è¡¨é¢çš„æ ·æœ¬ï¼Œæé«˜äº†é‡å»ºç²¾åº¦</strong>ã€‚æˆ‘ä»¬è¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿåœ¨DTU MVSæ•°æ®é›†[1]ä¸Šåœ¨æ²¡æœ‰æ©ç ç›‘ç£çš„æƒ…å†µä¸‹æ•è·ç²¾ç¡®çš„å‡ ä½•å›¾å½¢ï¼Œè·å¾—äº†ä¸æœ€å…ˆè¿›çš„éšå¼ç¥ç»é‡å»ºæ–¹æ³•(å¦‚IDR[61])ç«äº‰çš„ç»“æœï¼Œè¿™äº›æ–¹æ³•ä½¿ç”¨å¼ºæ©ç ç›‘ç£ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨BlendedMVSæ•°æ®é›†[60]çš„åœºæ™¯ä»¥åŠæ¥è‡ªSceneNet[29]çš„åˆæˆå®¤å†…åœºæ™¯ä¸Šå±•ç¤ºäº†æˆ‘ä»¬çš„æ–¹æ³•ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><ul><li>3D Reconstruction from Multi-View Images<ul><li>ä»å¤šä¸ªå›¾åƒé‡å»ºä¸‰ç»´å‡ ä½•ç»“æ„ä¸€ç›´æ˜¯ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„è®¡ç®—æœºè§†è§‰é—®é¢˜[14]ã€‚åœ¨æ·±åº¦å­¦ä¹ æ—¶ä»£ä¹‹å‰ï¼Œç»å…¸çš„å¤šè§†å›¾ç«‹ä½“(MVS)æ–¹æ³•[2,4,5,7,20,20,20,48,50,51]è¦ä¹ˆ<strong>å…³æ³¨è·¨è§†å›¾åŒ¹é…ç‰¹å¾</strong>[4,48]ï¼Œè¦ä¹ˆ<strong>å…³æ³¨ç”¨ä½“ç´ ç½‘æ ¼è¡¨ç¤ºå½¢çŠ¶</strong>[2,5,7,20,27,42,50,54,55]ã€‚å‰ä¸€ç§æ–¹æ³•é€šå¸¸æœ‰ä¸€ä¸ªå¤æ‚çš„ç®¡é“ï¼Œéœ€è¦é¢å¤–çš„æ­¥éª¤ï¼Œå¦‚èåˆæ·±åº¦ä¿¡æ¯[9,30]å’Œç½‘æ ¼åˆ’åˆ†[18,19]ï¼Œè€Œåä¸€ç§æ–¹æ³•ç”±äºç«‹æ–¹å†…å­˜è¦æ±‚è€Œé™åˆ¶åœ¨ä½åˆ†è¾¨ç‡ã€‚<strong>ç›¸æ¯”ä¹‹ä¸‹ï¼Œç”¨äº3Dé‡å»ºçš„ç¥ç»éšå¼è¡¨ç¤º</strong>ä¸ä¼šå—åˆ°ç¦»æ•£ä¼ªå½±çš„å½±å“ï¼Œå› ä¸ºå®ƒä»¬é€šè¿‡å…·æœ‰è¿ç»­è¾“å‡ºçš„ç¥ç»ç½‘ç»œçš„æ°´å¹³é›†è¡¨ç¤ºè¡¨é¢ã€‚</li><li>æœ€è¿‘åŸºäºå­¦ä¹ çš„MVSæ–¹æ³•è¯•å›¾å–ä»£ç»å…¸MVSç®¡é“çš„æŸäº›éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ä½œå“å­¦ä¹ åŒ¹é…2Dç‰¹å¾[15,21,26,56,62]ï¼Œèåˆæ·±åº¦å›¾[11,46]ï¼Œæˆ–è€…ä»å¤šè§†å›¾å›¾åƒä¸­æ¨æ–­æ·±åº¦å›¾[16,58,59]ã€‚ä¸è¿™äº›åŸºäºå­¦ä¹ çš„MVSæ–¹æ³•ç›¸åï¼Œ<strong>æˆ‘ä»¬çš„æ–¹æ³•åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­åªéœ€è¦å¼±2Dç›‘ç£</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ–¹æ³•äº§ç”Ÿäº†é«˜è´¨é‡çš„3Då‡ ä½•å›¾å½¢ï¼Œå¹¶åˆæˆäº†é€¼çœŸçš„ã€ä¸€è‡´çš„æ–°è§†å›¾</li></ul></li><li>Neural Implicit Representations<ul><li>æœ€è¿‘ï¼Œç¥ç»éšå¼å‡½æ•°ä½œä¸º3Då‡ ä½•[3,8,12,31,32,37,41,43,47,57]å’Œå¤–è§‚[22,24,34,38,39,40,47,49,52]çš„æœ‰æ•ˆè¡¨ç¤ºå‡ºç°äº†ï¼Œå› ä¸ºå®ƒä»¬è¿ç»­åœ°è¡¨ç¤º3Då†…å®¹ï¼Œæ— éœ€ç¦»æ•£åŒ–ï¼ŒåŒæ—¶å…·æœ‰è¾ƒå°çš„å†…å­˜å ç”¨ã€‚è¿™äº›æ–¹æ³•å¤§å¤šéœ€è¦ä¸‰ç»´ç›‘æ§ã€‚ç„¶è€Œï¼Œæœ€è¿‘çš„ä¸€äº›å·¥ä½œ[23,34,38,52,61]è¯æ˜äº†ç›´æ¥ä»å›¾åƒè¿›è¡Œè®­ç»ƒçš„å¯å¾®åˆ†æ¸²æŸ“[23,34,38,52,61]ã€‚æˆ‘ä»¬å°†è¿™äº›æ–¹æ³•åˆ†ä¸ºä¸¤ç»„:<strong>è¡¨é¢æ¸²æŸ“å’Œä½“æ¸²æŸ“</strong>ã€‚</li><li>è¡¨é¢æ¸²æŸ“æ–¹æ³•ï¼ŒåŒ…æ‹¬DVR[38]å’ŒIDR[61]ï¼Œç›´æ¥ç¡®å®šç‰©ä½“è¡¨é¢çš„äº®åº¦ï¼Œå¹¶ä½¿ç”¨éšå¼æ¢¯åº¦æä¾›å¯å¾®åˆ†çš„æ¸²æŸ“å…¬å¼ã€‚è¿™å…è®¸ä»å¤šè§†å›¾å›¾åƒä¼˜åŒ–ç¥ç»éšå¼æ›²é¢ã€‚è°ƒèŠ‚è§‚çœ‹æ–¹å‘å…è®¸IDRæ•æ‰é«˜æ°´å¹³çš„ç»†èŠ‚ï¼Œå³ä½¿æ˜¯éå…°ä¼¯æ›²é¢çš„å­˜åœ¨ã€‚<strong>ç„¶è€Œï¼ŒDVRå’ŒIDRéƒ½è¦æ±‚æ‰€æœ‰è§†å›¾çš„åƒç´ ç²¾ç¡®å¯¹è±¡æ©ç ä½œä¸ºè¾“å…¥ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥åœ¨ä¸éœ€è¦æ©æ¨¡çš„æƒ…å†µä¸‹è¿›è¡Œç±»ä¼¼çš„é‡å»º</strong>ã€‚</li><li>NeRF[34]å’Œåç»­ç ”ç©¶[6,28,35,36,44,45,49,53,63]é€šè¿‡å­¦ä¹ æ²¿å…‰çº¿çš„è¾å°„åœºçš„alphaåˆæˆæ¥ä½¿ç”¨ä½“æ¸²æŸ“ã€‚è¯¥æ–¹æ³•åœ¨æ–°è§†å›¾åˆæˆä¸Šå–å¾—äº†ä»¤äººå°è±¡æ·±åˆ»çš„æ•ˆæœï¼Œå¹¶ä¸”ä¸éœ€è¦æ©æ¨¡ç›‘ç£ã€‚ç„¶è€Œï¼Œæ¢å¤çš„ä¸‰ç»´å‡ ä½•å½¢çŠ¶è¿œä¸èƒ½ä»¤äººæ»¡æ„ï¼Œå¦‚å›¾3æ‰€ç¤ºã€‚åç»­çš„ä¸€äº›ä½œå“(Neural Body [44] D-NeRF[45]å’ŒNeRD[6])ä½¿ç”¨NeRFçš„ä½“ç§¯å¯†åº¦æå–ç½‘æ ¼ï¼Œä½†éƒ½æ²¡æœ‰è€ƒè™‘ç›´æ¥ä¼˜åŒ–è¡¨é¢ã€‚<strong>ä¸è¿™äº›ä½œå“ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ•è·ç²¾ç¡®çš„å‡ ä½•å½¢çŠ¶ï¼Œå¹¶æå‡ºä¸€ç§å¯ä»¥è¯æ˜æ¥è¿‘æé™è¡¨é¢æ¸²æŸ“çš„ä½“ç»˜åˆ¶å…¬å¼</strong></li></ul></li></ul><h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><p>ä»å¤šè§†å›¾å›¾åƒä¸­å­¦ä¹ ç¥ç»éšå¼3Dè¡¨ç¤ºçš„ä¸¤ä¸ªä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯3Dè¡¨ç¤ºå’Œè¿æ¥3Dè¡¨ç¤ºå’Œ2Dè§‚å¯Ÿçš„æ¸²æŸ“æŠ€æœ¯ã€‚æœ¬èŠ‚æä¾›äº†å…³äº<strong>éšå¼è¡¨é¢å’Œä½“ç§¯è¾å°„</strong>è¡¨ç¤ºçš„ç›¸å…³èƒŒæ™¯ï¼Œæˆ‘ä»¬åœ¨æœ¬æ–‡ä¸­ç»Ÿä¸€äº†å›ºä½“(éé€æ˜)ç‰©ä½“å’Œåœºæ™¯çš„æƒ…å†µã€‚</p><ul><li>Implicit Surface Models<ul><li>å ç”¨ç½‘ç»œ[31,38]å°†æ›²é¢è¡¨ç¤ºä¸ºäºŒå…ƒå ç”¨åˆ†ç±»å™¨çš„å†³ç­–è¾¹ç•Œï¼Œå¹¶é€šè¿‡ç¥ç»ç½‘ç»œå‚æ•°åŒ–<ul><li>$o_\theta(\mathbf{x}):\mathbb{R}^3\to[0,1]$<ul><li>å…¶ä¸­$xâˆˆ \mathbb{R}^3$ä¸ºä¸‰ç»´ç‚¹ï¼ŒÎ¸ä¸ºæ¨¡å‹å‚æ•°ã€‚æ›²é¢å®šä¹‰ä¸ºå æ®æ¦‚ç‡ä¸ºäºŒåˆ†ä¹‹ä¸€çš„æ‰€æœ‰3Dç‚¹çš„é›†åˆ$\mathcal{S}=\{\mathbf{x}_s|o_\theta(\mathbf{x}_s)=0.5\}.$</li></ul></li><li>ä¸ºäº†å°†é¢œè‰²ä¸è¡¨é¢ä¸Šçš„æ¯ä¸ª3Dç‚¹xsç›¸å…³è”ï¼Œå¯ä»¥å°†é¢œè‰²åœº$c_\theta(\mathbf{x}_s)$ä¸å ç”¨åœº$o_{\theta}(\mathbf{x}).$è”åˆå­¦ä¹ ï¼Œä»è€Œé¢„æµ‹ç‰¹å®šåƒç´ /å°„çº¿rçš„é¢œè‰²:$\hat{C}(\mathbf{r})=c_\theta(\mathbf{x}_s)$</li><li>å…¶ä¸­$x_s$æ˜¯é€šè¿‡æ²¿ç€å°„çº¿rè¿›è¡Œæ ¹æŸ¥æ‰¾æ¥æ£€ç´¢çš„ï¼Œå…·ä½“å‚è§[38]ã€‚å ç”¨åœº$o_Î¸$å’Œé¢œè‰²åœº$c_Î¸$çš„å‚æ•° Î¸ç”±[24,38,61]ä¸­æè¿°çš„é€šè¿‡æ¢¯åº¦ä¸‹é™ä¼˜åŒ–é‡å»ºæŸå¤±æ¥ç¡®å®šã€‚</li><li>è™½ç„¶è¡¨é¢æ¸²æŸ“å…è®¸å‡†ç¡®åœ°ä¼°è®¡å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ï¼Œä½†ç°æœ‰çš„æ–¹æ³•å¼ºçƒˆä¾èµ–äºç‰©ä½“æ©æ¨¡çš„ç›‘ç£ï¼Œå› ä¸ºè¡¨é¢æ¸²æŸ“æ–¹æ³•åªèƒ½æ¨æ–­ä¸è¡¨é¢ç›¸äº¤çš„å°„çº¿ã€‚</li></ul></li></ul></li><li>Volumetric Radiance Models<ul><li>ä¸éšå¼è¡¨é¢æ¨¡å‹ç›¸æ¯”ï¼ŒNeRF[34]å°†åœºæ™¯è¡¨ç¤ºä¸ºå½©è‰²ä½“ç§¯å¯†åº¦ï¼Œå¹¶é€šè¿‡alphaæ··åˆå°†è¾å°„æ²¿å…‰çº¿è¿›è¡Œæ•´åˆ[25,34]ã€‚æ›´å…·ä½“åœ°è¯´ï¼ŒNeRFä½¿ç”¨ç¥ç»ç½‘ç»œå°†3Dä½ç½®$xâˆˆR^3$å’Œè§‚çœ‹æ–¹å‘$dâˆˆR^3$æ˜ å°„åˆ°ä½“ç§¯å¯†åº¦$Ïƒ_{Î¸}(x)âˆˆR^{+}$å’Œé¢œè‰²å€¼$c_{Î¸}(x, d)âˆˆR^{3}$</li><li>å¯¹è§‚å¯Ÿæ–¹å‘çš„è°ƒèŠ‚å…è®¸å»ºæ¨¡ä¸è§†å›¾ç›¸å…³çš„æ•ˆæœï¼Œå¦‚é•œé¢åå°„[34,40]ï¼Œå¹¶åœ¨è¿åæœ—ä¼¯å‡è®¾çš„æƒ…å†µä¸‹æé«˜é‡å»ºè´¨é‡[61]ã€‚è®©æˆ‘ä»¬è¡¨ç¤ºç›¸æœºä¸­å¿ƒçš„ä½ç½®ã€‚ç»™å®šæ²¿å°„çº¿$\mathbf{r}=\mathbf{o}+t\mathbf{d},$çš„Nä¸ªæ ·æœ¬$\{\mathbf{x}_i\}$ï¼Œ NeRFä½¿ç”¨æ•°å€¼æ­£äº¤è¿‘ä¼¼åƒç´ /å°„çº¿rçš„é¢œè‰²:</li><li>$\hat{C}(\mathbf{r}) =\sum_{i=1}^NT_i\left(1-\exp\left(-\sigma_\theta(\mathbf{x}_i)\delta_i\right)\right)c_\theta(\mathbf{x}_i,\mathbf{d})  ,T_{i} =\exp\left(-\sum_{j&lt;i}\sigma_\theta(\mathbf{x}_j)\delta_j\right)$</li><li>å…¶ä¸­$T_{i}$ä¸ºæ²¿å°„çº¿çš„ç´¯ç§¯é€è¿‡ç‡ï¼Œ$\delta_i=|\mathbf{x}_{i+1}-\mathbf{x}_i|$ä¸ºç›¸é‚»æ ·å“ä¹‹é—´çš„è·ç¦»ã€‚ç”±äºEq.(3)æ˜¯å¯å¾®çš„ï¼Œå› æ­¤å¯†åº¦åœº$Ïƒ_Î¸$å’Œé¢œè‰²åœº$c_Î¸$çš„å‚æ•°Î¸å¯ä»¥é€šè¿‡ä¼˜åŒ–é‡æ„æŸå¤±æ¥ä¼°è®¡ã€‚è¯¦è§[34]ã€‚</li><li>è™½ç„¶ç”±äºNeRFçš„ä½“ç§¯äº®åº¦è¡¨ç¤ºï¼Œå®ƒä¸éœ€è¦å¯¹è±¡æ©æ¨¡è¿›è¡Œè®­ç»ƒï¼Œ<strong>ä½†ä»ä½“ç§¯å¯†åº¦ä¸­æå–åœºæ™¯å‡ ä½•å›¾å½¢éœ€è¦ä»”ç»†è°ƒæ•´å¯†åº¦é˜ˆå€¼ï¼Œå¹¶ç”±äºå¯†åº¦åœºä¸­å­˜åœ¨çš„æ¨¡ç³Šæ€§è€Œå¯¼è‡´ä¼ªå½±</strong>ï¼Œå¦‚å›¾3æ‰€ç¤ºã€‚</li></ul></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>ä¸ä¹Ÿé€‚ç”¨äºéå›ºä½“åœºæ™¯(å¦‚é›¾ã€çƒŸ)çš„NeRFç›¸åï¼Œæˆ‘ä»¬å°†ç„¦ç‚¹é™åˆ¶åœ¨<strong>å¯ä»¥ç”¨3Dè¡¨é¢å’Œä¾èµ–äºè§†å›¾çš„è¡¨é¢é¢œè‰²è¡¨ç¤ºçš„å›ºä½“ç‰©ä½“</strong>ä¸Šã€‚æˆ‘ä»¬çš„æ–¹æ³•åˆ©ç”¨äº†è¿™ä¸¤è€…ï¼Œä½“ç§¯è¾å°„è¡¨ç¤ºèƒ½åŠ›æ¥å­¦ä¹ ç²—ç³™çš„åœºæ™¯ç»“æ„ï¼Œè€Œä¸éœ€è¦æ©æ¨¡ç›‘ç£ï¼Œä»¥åŠè¡¨é¢æ¸²æŸ“ï¼Œä½œä¸ºä¸€ä¸ªæ„Ÿåº”åå·®ï¼Œé€šè¿‡ä¸€ç»„ç²¾ç¡®çš„3Dè¡¨é¢æ¥è¡¨ç¤ºå¯¹è±¡ï¼Œä»è€Œå®ç°ç²¾ç¡®çš„é‡å»ºã€‚</p><h2 id="Unifying-Surface-and-Volume-Rendering"><a href="#Unifying-Surface-and-Volume-Rendering" class="headerlink" title="Unifying Surface and Volume Rendering"></a>Unifying Surface and Volume Rendering</h2><p>$\hat{C}(\mathbf{r})=\sum_{i=1}^N\alpha_i(\mathbf{x}_i)\prod_{j&lt;i}\bigl(1-\alpha_j(\mathbf{x}_j)\bigr)c(\mathbf{x}_i,\mathbf{d})$</p><p>å°†$\alpha$å€¼æ›¿æ¢ä¸ºå æ®å€¼o<br>Î±å€¼ï¼š$\alpha_i(\mathbf{x})=1-\exp\left(-\sigma(\mathbf{x})\delta_i\right).$ã€‚å‡è®¾ç‰©ä½“ä¸ºå®ä½“ï¼Œåˆ™Î±ä¸ºç¦»æ•£å ç”¨æŒ‡æ ‡å˜é‡$o\in\{0,1\}$ï¼Œå…¶å€¼ä¸ºè‡ªç”±ç©ºé—´0 = 0ï¼Œå ç”¨ç©ºé—´0 = 1:</p><p>$\hat{C}(\mathbf{r})=\sum_{i=1}^No(\mathbf{x}_i)\prod_{j&lt;i}\bigl(1-o(\mathbf{x}_j)\bigr)c(\mathbf{x}_i,\mathbf{d})$</p><p>æˆ‘ä»¬å°†æ­¤è¡¨è¾¾å¼è¯†åˆ«ä¸ºå›ºä½“ç‰©ä½“çš„æˆåƒæ¨¡å‹[55]ï¼Œå…¶ä¸­é¡¹$\begin{aligned}o(\mathbf{x}_i)\prod_{j&lt;i}\left(1-o(\mathbf{x}_j)\right)\end{aligned}$å¯¹äºæ²¿å…‰çº¿ rçš„ç¬¬ä¸€ä¸ªè¢«å ç”¨çš„æ ·æœ¬$x_i$æ±‚å€¼ä¸º1ï¼Œå¯¹äºæ‰€æœ‰å…¶ä»–æ ·æœ¬æ±‚å€¼ä¸º0ã€‚$\prod_{j&lt;i}(1-o(\mathbf{x}_j))$æ˜¯å¯è§æ€§æŒ‡æ ‡ï¼Œå¦‚æœåœ¨æ ·æœ¬$x_i$ä¹‹å‰ä¸å­˜åœ¨j&lt;içš„è¢«å ç”¨æ ·æœ¬xjï¼Œåˆ™å¯è§æ€§æŒ‡æ ‡ä¸º1ã€‚å› æ­¤ï¼ŒC(r)å–æ²¿å°„çº¿rçš„ç¬¬ä¸€ä¸ªè¢«å ç”¨æ ·æœ¬çš„é¢œè‰²$C(x_i, d)$ã€‚</p><p>ä¸ºäº†ç»Ÿä¸€éšå¼è¡¨é¢å’Œä½“ç§¯äº®åº¦æ¨¡å‹ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨è¿ç»­å ç”¨åœº$o_{Î¸}(1)$æ¥å‚æ•°åŒ–oï¼Œè€Œä¸æ˜¯é¢„æµ‹ä½“ç§¯å¯†åº¦Ïƒã€‚æŒ‰ç…§[61]ï¼Œæˆ‘ä»¬åœ¨æ›²é¢æ³•å‘é‡nå’Œå‡ ä½•ç½‘ç»œçš„ç‰¹å¾å‘é‡hä¸Šå¯¹é¢œè‰²åœº$c_{Î¸}$è¿›è¡Œæ¡ä»¶è°ƒæ•´ï¼Œè¿™åœ¨ç»éªŒä¸Šè¯±å¯¼äº†ä¸€ä¸ªæœ‰ç”¨çš„åå·®ï¼Œè¿™ä¹Ÿåœ¨[61]ä¸­è§‚å¯Ÿåˆ°å¯¹äºéšå¼æ›²é¢çš„æƒ…å†µã€‚é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬ç»Ÿä¸€çš„é…æ–¹å…è®¸ä½“ç§¯å’Œè¡¨é¢æ¸²æŸ“</p><script type="math/tex; mode=display">\begin{aligned}\hat{C}_v(\mathbf{r})&=\sum_{i=1}^No_\theta(\mathbf{x}_i)\prod_{j<i}\bigl(1-o_\theta(\mathbf{x}_j)\bigr)c_\theta(\mathbf{x}_i,\mathbf{n}_i,\mathbf{h}_i,\mathbf{d})\\\hat{C}_s(\mathbf{r})&=c_\theta(\mathbf{x}_s,\mathbf{n}_s,\mathbf{h}_s,\mathbf{d})\end{aligned}</script><p>$x_s$æ˜¯æ²¿ç€å°„çº¿rå¾—åˆ°çš„åæ ‡ï¼Œ$n_s,h_s$åˆ†åˆ«æ˜¯$x_s$å‡ºçš„æ³•å‘é‡å’Œå‡ ä½•ç‰¹å¾ã€‚è¯·æ³¨æ„ï¼Œxä¾èµ–äºå ä½åœº$o_Î¸$ï¼Œä½†ä¸ºäº†æ¸…æ™°èµ·è§ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå»æ‰äº†è¿™ä¸ªä¾èµ–å…³ç³»ã€‚<br>è¿™ç§ç»Ÿä¸€å…¬å¼çš„ä¼˜ç‚¹æ˜¯ï¼Œå®ƒæ—¢å¯ä»¥ç›´æ¥åœ¨è¡¨é¢ä¸Šæ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥åœ¨æ•´ä¸ªä½“å—ä¸Šæ¸²æŸ“ï¼Œä»è€Œåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é€æ¸æ¶ˆé™¤æ­§ä¹‰ã€‚æ­£å¦‚æˆ‘ä»¬çš„å®éªŒæ‰€è¯æ˜çš„é‚£æ ·ï¼Œ<strong>å°†ä¸¤è€…ç»“åˆèµ·æ¥å¯¹äºåœ¨æ²¡æœ‰maskç›‘ç£çš„æƒ…å†µä¸‹è·å¾—å‡†ç¡®çš„é‡å»ºç¡®å®è‡³å…³é‡è¦</strong>ã€‚èƒ½å¤Ÿé€šè¿‡æ ¹æŸ¥æ‰¾å¿«é€Ÿæ¢å¤è¡¨é¢Sä½¿æ›´æœ‰æ•ˆçš„ä½“æ¸²æŸ“ï¼Œå…ˆåèšç„¦å’Œç»†åŒ–å¯¹è±¡è¡¨é¢ï¼Œæˆ‘ä»¬å°†åœ¨4.3èŠ‚ä¸­æè¿°ã€‚æ­¤å¤–ï¼Œè¡¨é¢æ¸²æŸ“å¯ä»¥å®ç°æ›´å¿«çš„æ–°è§†å›¾åˆæˆï¼Œå¦‚å›¾5æ‰€ç¤ºã€‚</p><h2 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h2><p>$\mathcal{L}=\mathcal{L}_{rec}+\lambda\mathcal{L}_{reg}$</p><ul><li><strong>rec</strong>onstruction loss $\mathcal{L}_{rec}=\sum_{\mathbf{r}\in\mathcal{R}}|\hat{C}_{v}(\mathbf{r})-C(\mathbf{r})|_{1}$</li><li>Surface <strong>reg</strong>ularization $\mathcal{L}_{reg}=\sum_{\mathbf{x}_s\in\mathcal{S}}|\mathbf{n}(\mathbf{x}_s)-\mathbf{n}(\mathbf{x}_s+\boldsymbol{\epsilon})|_2$</li></ul><p>å…¶ä¸­ï¼ŒRä¸ºminibatchä¸­æ‰€æœ‰åƒç´ /å°„çº¿çš„é›†åˆï¼ŒSä¸ºå¯¹åº”è¡¨é¢ç‚¹çš„é›†åˆï¼ŒC(R)ä¸ºåƒç´ /å°„çº¿Rçš„è§‚æµ‹é¢œè‰²ï¼ŒÎµä¸ºä¸€ä¸ªå°çš„éšæœºå‡åŒ€ä¸‰ç»´æ‰°åŠ¨ã€‚<br>xå¤„çš„æ³•çº¿$\mathbf{n}(\mathbf{x}_s)=\frac{\nabla_{\mathbf{x}_s}o_\theta(\mathbf{x}_s)}{|\nabla_{\mathbf{x}_s}o_\theta(\mathbf{x}_s)|_2}$å¯ä»¥ç”¨åŒåå‘ä¼ æ’­æ¥è®¡ç®—</p><h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><p><strong>éšå¼æ›²é¢æ¨¡å‹çš„å…³é”®å‡è®¾</strong>[38,61]æ˜¯ï¼Œ<strong>åªæœ‰ä¸æ›²é¢ç¬¬ä¸€ä¸ªäº¤ç‚¹å¤„çš„åŒºåŸŸå¯¹æ¸²æŸ“æ–¹ç¨‹æœ‰è´¡çŒ®</strong>ã€‚ç„¶è€Œï¼Œè¿™ä¸ªå‡è®¾åœ¨æ—©æœŸè¿­ä»£ä¸­æ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºåœ¨æ—©æœŸè¿­ä»£ä¸­æ›²é¢æ²¡æœ‰å¾ˆå¥½åœ°å®šä¹‰ã€‚å› æ­¤ï¼Œç°æœ‰çš„æ–¹æ³•[38,61]éœ€è¦å¼ºæœ‰åŠ›çš„maskç›‘ç®¡ã€‚ç›¸åï¼Œåœ¨éšåçš„è¿­ä»£ä¸­ï¼Œå½“è¯„ä¼°Eq.(7)ä¸­çš„ä½“ç»˜åˆ¶æ–¹ç¨‹æ—¶ï¼Œå…³äºè¿‘ä¼¼æ›²é¢çš„çŸ¥è¯†å¯¹äºç»˜åˆ¶ä¿¡æ¯æ ·æœ¬æ˜¯æœ‰ä»·å€¼çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ä½“ç»˜åˆ¶è¿‡ç¨‹ä¸­<strong>ä½¿ç”¨äº†ä¸€ä¸ªé‡‡æ ·é—´éš”å•è°ƒé€’å‡çš„è®­ç»ƒè®¡åˆ’æ¥ç»˜åˆ¶æ ·æœ¬</strong>ï¼Œå¦‚å›¾4æ‰€ç¤º</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807130717.png" alt="image.png"><br><em>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨å ç”¨åœºoÎ¸ä¸­å¯»æ‰¾è¡¨é¢$x_s$(ç»¿è‰²)ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬åœ¨è¡¨é¢å‘¨å›´å®šä¹‰ä¸€ä¸ªé—´éš”ï¼Œä»¥é‡‡æ ·ç‚¹$\{x_i\}$(çº¢è‰²)è¿›è¡Œä½“æ¸²æŸ“ã€‚</em></p><p>æ¢å¥è¯è¯´ï¼Œåœ¨æ—©æœŸçš„è¿­ä»£ä¸­ï¼Œæ ·æœ¬{$x_i$}è¦†ç›–äº†æ•´ä¸ªä¼˜åŒ–ä½“ç§¯ï¼Œæœ‰æ•ˆåœ°å¼•å¯¼äº†ä½¿ç”¨ä½“ç»˜åˆ¶çš„é‡å»ºè¿‡ç¨‹ã€‚åœ¨ä»¥åçš„è¿­ä»£ä¸­ï¼Œæ ·æœ¬{$x_i$}åœ¨ä¼°è®¡çš„è¡¨é¢é™„è¿‘è¢«æ‹‰è¿‘ã€‚ç”±äºå¯ä»¥é€šè¿‡å¯»æ ¹ç›´æ¥ä»å ç”¨åœºoÎ¸ä¼°è®¡è¡¨é¢[38]ï¼Œè¿™å°±æ¶ˆé™¤äº†åƒNeRFé‚£æ ·éœ€è¦åˆ†å±‚ä¸¤é˜¶æ®µé‡‡æ ·çš„éœ€è¦ã€‚æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯¹äºä¼°è®¡ç²¾ç¡®çš„å‡ ä½•å›¾å½¢ç‰¹åˆ«æœ‰æ•ˆï¼ŒåŒæ—¶å®ƒå…è®¸åœ¨æ—©æœŸè¿­ä»£ä¸­è§£å†³æ­§ä¹‰ã€‚</p><p>More formally, let $\mathbf{x}_s=\mathbf{o}+t_s\mathbf{d}.$ We obtain samples $\mathbf{x}_i=\mathbf{o}+t_i\mathbf{d}.$ by drawing N depth values $t_i$ using stratified sampling within the interval $[ts âˆ’ âˆ†, ts + âˆ†]$centered at $t_s$:<br>$t_i\sim\mathcal{U}\left[t_s+\left(\frac{2i-2}N-1\right)\Delta,t_s+\left(\frac{2i}N-1\right)\Delta\right]$</p><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»è¾ƒå¤§çš„é—´éš”âˆ†maxå¼€å§‹ï¼Œå¹¶é€æ¸å‡å°‘âˆ†ï¼Œä»¥ä¾¿ä½¿ç”¨ä»¥ä¸‹è¡°å‡æ—¶é—´è¡¨å¯¹è¡¨é¢è¿›è¡Œæ›´å‡†ç¡®çš„é‡‡æ ·å’Œä¼˜åŒ–$\Delta_k=\max(\Delta_{\max}\exp(-k\beta),\Delta_{\min})$<br>å…¶ä¸­kä¸ºè¿­ä»£æ¬¡æ•°ï¼ŒÎ²ä¸ºè¶…å‚æ•°ã€‚äº‹å®ä¸Šï¼Œå¯ä»¥è¯æ˜ï¼Œå½“âˆ†â†’0å’Œnâ†’âˆæ—¶ï¼Œä½“ç»˜åˆ¶(7)ç¡®å®æ¥è¿‘æ›²é¢ç»˜åˆ¶(8):$C_v (r)â†’C_s(r)$ã€‚è¡¥å……ææ–™ä¸­æä¾›äº†è¿™ä¸ªæé™çš„æ­£å¼è¯æ˜ã€‚</p><p>æ­£å¦‚æˆ‘ä»¬çš„å®éªŒæ‰€è¯æ˜çš„é‚£æ ·ï¼Œ(14)ä¸­çš„è¡°å‡è°ƒåº¦å¯¹äºæ•è·è¯¦ç»†çš„å‡ ä½•å›¾å½¢è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒå°†è®­ç»ƒå¼€å§‹æ—¶çš„å¤§å‹å’Œä¸ç¡®å®šä½“ç§¯çš„ä½“ç»˜åˆ¶ä¸è®­ç»ƒç»“æŸæ—¶çš„è¡¨é¢æ¸²æŸ“ç»“åˆèµ·æ¥ã€‚ä¸ºäº†å‡å°‘è‡ªç”±ç©ºé—´ä¼ªå½±ï¼Œ<strong>æˆ‘ä»¬å°†è¿™äº›æ ·æœ¬ä¸ç›¸æœºå’Œè¡¨é¢ä¹‹é—´éšæœºé‡‡æ ·çš„ç‚¹ç»“åˆèµ·æ¥</strong>ã€‚å¯¹äºæ²¡æœ‰æ›²é¢ç›¸äº¤çš„å…‰çº¿ï¼Œæˆ‘ä»¬å¯¹æ•´ä¸ªå…‰çº¿è¿›è¡Œåˆ†å±‚é‡‡æ ·ã€‚</p><h2 id="Implementation-Details"><a href="#Implementation-Details" class="headerlink" title="Implementation Details"></a>Implementation Details</h2><ul><li>Architectureä¸Yarivç­‰äºº[61]ç±»ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨å¸¦æœ‰Softplusæ¿€æ´»å‡½æ•°çš„8å±‚MLPï¼Œå ç”¨åœº$o_Î¸$çš„éšè—ç»´æ•°ä¸º256ã€‚æˆ‘ä»¬åˆå§‹åŒ–ç½‘ç»œï¼Œä½¿å¾—å†³ç­–è¾¹ç•Œæ˜¯ä¸€ä¸ªçƒä½“[13]ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¾å°„åœº$c_Î¸$è¢«å‚æ•°åŒ–ä¸º4å±‚çš„ReLU MLPã€‚æˆ‘ä»¬ä½¿ç”¨å‚…é‡Œå¶ç‰¹å¾[34]åœ¨kå€é¢‘é˜¶å¯¹3Dä½ç½®xå’Œè§‚çœ‹æ–¹å‘dè¿›è¡Œç¼–ç ã€‚æ ¹æ®ç»éªŒï¼Œæˆ‘ä»¬å‘ç°3Dä½ç½®xçš„k = 6å’Œè§‚çœ‹æ–¹å‘dçš„k = 4æ•ˆæœæœ€å¥½ã€‚<ul><li>å ç”¨åœºMLPï¼šlayer = 8 , neurons = 256 , activation = softplus, init_sphere</li><li>é¢œè‰²åœºMLPï¼šlayer = 4 , neurons = 256 , activation = ReLU</li><li>ç¼–ç é‡‡ç”¨é¢‘ç‡ç¼–ç ï¼Œä½ç½®xçš„k=6ï¼Œæ–¹å‘dçš„k=4</li></ul></li><li>Optimizationåœ¨æ‰€æœ‰çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬çš„æ¨¡å‹é€‚åˆå•ä¸€åœºæ™¯çš„å¤šè§†å›¾å›¾åƒã€‚åœ¨æ¨¡å‹å‚æ•°ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹ä¸€ä¸ªè§†å›¾è¿›è¡Œéšæœºé‡‡æ ·ï¼Œç„¶åæ ¹æ®ç›¸æœºçš„æœ¬å¾å’Œå¤–å¾å¯¹è¯¥è§†å›¾è¿›è¡ŒMåƒç´ /å°„çº¿Rçš„é‡‡æ ·ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¸²æŸ“æ‰€æœ‰å°„çº¿æ¥è®¡ç®—Eq.(9)ä¸­çš„æŸå¤±å‡½æ•°ã€‚å¯¹äºå¯»æ ¹ï¼Œæˆ‘ä»¬ä½¿ç”¨256ä¸ªå‡åŒ€é‡‡æ ·ç‚¹å¹¶åº”ç”¨å‰²çº¿æ–¹æ³•ï¼Œå…±8æ­¥[31]ã€‚å¯¹äºæˆ‘ä»¬çš„æ¸²æŸ“è¿‡ç¨‹ï¼Œæˆ‘ä»¬åœ¨åŒºé—´å†…ä½¿ç”¨N = 64ä¸ªæŸ¥è¯¢ç‚¹ï¼Œåœ¨ç›¸æœºå’ŒåŒºé—´ä¸‹ç•Œä¹‹é—´çš„ç©ºé—²ç©ºé—´ä¸­ä½¿ç”¨32ä¸ªæŸ¥è¯¢ç‚¹ã€‚åŒºé—´è¡°å‡å‚æ•°ä¸ºÎ² = 1.5eâˆ’5ï¼Œâˆ†min = 0.05ï¼Œâˆ†max = 1.0ã€‚æˆ‘ä»¬ä½¿ç”¨Adamï¼Œå­¦ä¹ ç‡ä¸º0.0001ï¼Œæ¯æ¬¡è¿­ä»£ä¼˜åŒ–M = 1024åƒç´ ï¼Œåœ¨200kå’Œ400kè¿­ä»£åè¿›è¡Œä¸¤ä¸ªè¡°å‡æ­¥éª¤ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬è®­ç»ƒæˆ‘ä»¬çš„æ¨¡å‹è¿›è¡Œäº†45ä¸‡æ¬¡è¿­ä»£ã€‚</li><li>Inferenceæˆ‘ä»¬çš„æ–¹æ³•å…è®¸æ¨æ–­ä¸‰ç»´å½¢çŠ¶ä»¥åŠåˆæˆæ–°çš„è§†å›¾å›¾åƒã€‚å¯¹äºåˆæˆå›¾åƒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ç§ä¸åŒçš„æ–¹å¼æ¸²æŸ“æˆ‘ä»¬çš„è¡¨ç°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä½“æ¸²æŸ“æˆ–è¡¨é¢æ¸²æŸ“ã€‚åœ¨å›¾5ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ä¸¤ç§æ¸²æŸ“æ–¹æ³•å¯¼è‡´ç›¸ä¼¼çš„ç»“æœã€‚ç„¶è€Œï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°è¡¨é¢æ¸²æŸ“æ¯”ä½“æ¸²æŸ“å¿«ã€‚<ul><li>ä¸ºäº†æå–ç½‘æ ¼ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†[31]ä¸­çš„å¤šåˆ†è¾¨ç‡ç­‰å€¼é¢æå–(MISE)ç®—æ³•ã€‚æˆ‘ä»¬ä½¿ç”¨$64^{3}$ä½œä¸ºåˆå§‹åˆ†è¾¨ç‡ï¼Œåˆ†3æ­¥å¯¹ç½‘æ ¼è¿›è¡Œä¸Šé‡‡æ ·ï¼Œæ²¡æœ‰åŸºäºæ¢¯åº¦çš„ç»†åŒ–ã€‚</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807132130.png" alt="image.png"></p><h1 id="Experimental-Evaluation"><a href="#Experimental-Evaluation" class="headerlink" title="Experimental Evaluation"></a>Experimental Evaluation</h1><p>æˆ‘ä»¬åœ¨å¹¿æ³›ä½¿ç”¨çš„<strong>DTU MVSæ•°æ®é›†</strong>[17]ä¸Šï¼Œå¯¹æˆ‘ä»¬çš„æ–¹æ³•ä¸ç°æœ‰æ–¹æ³•(IDR [61]ï¼Œ NeRF [34]ï¼Œ COLMAP[48])è¿›è¡Œäº†å®šæ€§å’Œå®šé‡æ¯”è¾ƒã€‚<br>å…¶æ¬¡ï¼Œæˆ‘ä»¬å±•ç¤ºäº†æ¥è‡ª<strong>blendedmvs dataset</strong>[60]çš„æ ·æœ¬å’Œæ¥è‡ªthe <strong>SceneNet dataset</strong>[29]çš„åœºæ™¯åˆæˆæ¸²æŸ“çš„å®šæ€§æ¯”è¾ƒã€‚<br>ç¬¬ä¸‰ï¼Œæˆ‘ä»¬åˆ†æäº†æ¶ˆèç ”ç©¶ä¸­çš„æ¸²æŸ“ç¨‹åºå’ŒæŸå¤±å‡½æ•°ã€‚åœ¨è¡¥å……ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†LLFFæ•°æ®é›†[33]ä¸Šçš„ç»“æœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> NeRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PAniC-3D</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Interesting/PAniC-3D/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Interesting/PAniC-3D/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>PAniC-3D: Stylized Single-view 3D Reconstruction from Portraits of Anime Characters</th></tr></thead><tbody><tr><td>Author</td><td>Chen, Shuhong and Zhang, Kevin and Shi, Yichun and Wang, Heng and Zhu, Yiheng and Song, Guoxian and An, Sizhe and Kristjansson, Janus and Yang, Xiao and Matthias Zwicker</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/ShuhongChen/panic3d-anime-reconstruction">ShuhongChen/panic3d-anime-reconstruction: CVPR 2023: PAniC-3D Stylized Single-view 3D Reconstruction from Portraits of Anime Characters (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4738337093785239553&amp;noteId=1903166679687203840">PAniC-3D: Stylized Single-view 3D Reconstruction from Portraits of Anime Characters (readpaper.com)</a></td></tr></tbody></table></div><p>åŸºäº<strong>EG3Dæ— æ¡ä»¶ç”Ÿæˆæ¨¡å‹</strong><br>PAniC-3Då¯¹æ¯”PixelNeRFã€EG3D(+Img2stylegan or +PTI)ã€Pifu</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806132746.png" alt="image.png"></p><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æˆ‘ä»¬æå‡ºäº†PAniC-3Dï¼Œè¿™æ˜¯ä¸€ä¸ªèƒ½å¤Ÿç›´æ¥ä»æ’ç”»é£æ ¼çš„ï¼ˆpï¼‰åŠ¨æ¼«ï¼ˆaniï¼‰è§’è‰²ï¼ˆcï¼‰è‚–åƒä¸­é‡å»ºç«‹ä½“åŒ–çš„ç³»ç»Ÿã€‚ä¸è‡ªç„¶äººå¤´éƒ¨çš„çœŸå®å›¾åƒç›¸æ¯”ï¼ŒåŠ¨æ¼«è§’è‰²è‚–åƒæ’ç”»å…·æœ‰æ›´å¤æ‚å’Œå¤šæ ·çš„å‘å‹ã€é…é¥°å‡ ä½•ï¼Œä¸”å‘ˆç°éç…§ç‰‡èˆ¬çš„è½®å»“çº¿é˜´å½±ï¼Œä»è€Œä¸ºå•è§†è§’é‡å»ºå¸¦æ¥ç‹¬ç‰¹çš„æŒ‘æˆ˜ã€‚æ­¤å¤–ï¼Œç¼ºä¹é€‚ç”¨äºè®­ç»ƒå’Œè¯„ä¼°è¿™ä¸€æ¨¡ç³ŠåŒ–é£æ ¼é‡å»ºä»»åŠ¡çš„3Dæ¨¡å‹å’Œè‚–åƒæ’ç”»æ•°æ®ã€‚é¢å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºçš„PAniC-3Dæ¶æ„é€šè¿‡çº¿æ¡å¡«å……æ¨¡å‹è·¨è¶Šäº†æ’ç”»åˆ°3Dé¢†åŸŸçš„å·®è·ï¼Œå¹¶åˆ©ç”¨ä½“ç§¯è¾å°„åœºæ¥è¡¨ç¤ºå¤æ‚çš„å‡ ä½•å½¢æ€ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå¤§å‹æ–°æ•°æ®é›†ï¼ˆ11.2kä¸ªVroid 3Dæ¨¡å‹ï¼Œ1kä¸ªVtuberè‚–åƒæ’ç”»ï¼‰æ¥è®­ç»ƒæˆ‘ä»¬çš„ç³»ç»Ÿï¼Œå¹¶åœ¨æ–°é¢–çš„AnimeReconæ’ç”»åˆ°3Då¯¹æ¯”åŸºå‡†ä¸Šè¿›è¡Œè¯„ä¼°ã€‚PAniC-3Dåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¼˜äºåŸºçº¿æ–¹æ³•ï¼Œå¹¶ä¸ºç¡®ç«‹ä»è‚–åƒæ’ç”»ä¸­è¿›è¡Œé£æ ¼åŒ–é‡å»ºçš„ä»»åŠ¡æä¾›äº†æ•°æ®æ”¯æŒã€‚</p><p>éšç€AR/VRåº”ç”¨çš„å…´èµ·ï¼Œé™¤äº†å¯¹é«˜ä¿çœŸåº¦human avatarsçš„éœ€æ±‚åœ¨å¢åŠ ï¼Œå¯¹è™šæ‹Ÿå½¢è±¡å¦‚åŠ¨æ¼«3Dè§’è‰²çš„éœ€æ±‚ä¹Ÿåœ¨å¢åŠ ã€‚å¤§å¤šæ•°è§’è‰²è®¾è®¡å¸ˆé€šå¸¸é¦–å…ˆåˆ›å»ºæ¦‚å¿µæ’å›¾ï¼Œå…è®¸ä»–ä»¬è¡¨è¾¾å¤æ‚å’Œé«˜åº¦å¤šæ ·åŒ–çš„ç‰¹å¾ï¼Œå¦‚å¤´å‘ï¼Œé…é¥°ï¼Œçœ¼ç›ï¼Œçš®è‚¤ï¼Œå¤´é¥°ç­‰ã€‚<strong>ä¸å¹¸çš„æ˜¯</strong>ï¼Œå°†æ’å›¾æ¦‚å¿µè‰ºæœ¯å¼€å‘æˆAR/VRå°±ç»ªçš„3Dèµ„äº§çš„è¿‡ç¨‹æ˜¯æ˜‚è´µçš„ï¼Œéœ€è¦ä¸“ä¸šçš„3Dè‰ºæœ¯å®¶è®­ç»ƒä½¿ç”¨ä¸“å®¶å»ºæ¨¡è½¯ä»¶ã€‚è™½ç„¶åŸºäºæ¨¡æ¿çš„åˆ›ä½œè€…åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ°‘ä¸»åŒ–äº†3DåŒ–èº«ï¼Œä½†å®ƒä»¬é€šå¸¸ä»…é™äºä¸ç‰¹å®šèº«ä½“æ¨¡å‹å…¼å®¹çš„3Dèµ„äº§ã€‚</p><p>æˆ‘ä»¬æå‡ºäº†PAniC-3Dï¼Œè¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿï¼Œå¯ä»¥ç›´æ¥ä»åŠ¨æ¼«è§’è‰²çš„è‚–åƒæ’å›¾è‡ªåŠ¨é‡å»ºé£æ ¼åŒ–çš„3Dè§’è‰²å¤´éƒ¨ã€‚æˆ‘ä»¬å°†é—®é¢˜åˆ†ä¸ºä¸¤éƒ¨åˆ†:<br>1)éšå¼å•è§†å›¾å¤´éƒ¨é‡å»ºï¼Œ implicit single-view head reconstruction<br>2)è·¨æ’å›¾- 3dåŸŸé—´éš™ï¼Œfrom across an illustration-3D domain gap.<br><strong>ä¸»è¦è´¡çŒ®</strong>ï¼š</p><ul><li>PAniC-3D: a system to <strong>reconstruct the 3D radiance field</strong> of a stylized character head <strong>from a single linebased portrait illustration.å•çº¿åŸºç¡€çš„è‚–åƒæ’å›¾</strong></li><li>The Vroid 3D dataset of 11.2k character models and renders, <strong>the first such dataset in the anime-style domain</strong> to provide 3D assets with multiview renders.</li><li>The Vtuber dataset of 1.0k reconstruction-friendly portraits (aligned, front-facing, neutral-expression) that <strong>bridges the illustration-render domain gap through the novel task of line removal from drawings</strong>.</li><li><strong>The AnimeRecon benchmark</strong> with 68 pairs of aligned 3D models and corresponding illustrations, enabling quantitative evaluation of both <strong>image and geometry metrics</strong> for stylized reconstruction.</li></ul><h2 id="Implicit-3D-Reconstruction"><a href="#Implicit-3D-Reconstruction" class="headerlink" title="Implicit 3D Reconstruction"></a>Implicit 3D Reconstruction</h2><p>è™½ç„¶å·²ç»æœ‰å¾ˆå¤šåŸºäºç½‘æ ¼çš„å›¾åƒé‡å»ºå·¥ä½œ[23]ï¼Œ<strong>ä½†è¿™äº›ç³»ç»Ÿçš„è¡¨ç°åŠ›ä¸è¶³ä»¥æ•æ‰3Då­—ç¬¦æ‹“æ‰‘çš„æç«¯å¤æ‚æ€§å’Œå¤šæ ·æ€§ã€‚</strong><br>å—åˆ°æœ€è¿‘åœ¨ç”Ÿæˆé«˜è´¨é‡3Dè¾å°„åœºæ–¹é¢å–å¾—æˆåŠŸçš„å¯å‘[4,5,25,39]ï¼Œæˆ‘ä»¬è½¬è€Œä½¿ç”¨éšå¼è¡¨ç¤ºã€‚ç„¶è€Œï¼Œä¸ºäº†è·å¾—é«˜è´¨é‡çš„ç»“æœï¼Œæœ€è¿‘çš„éšå¼é‡å»ºå·¥ä½œï¼Œå¦‚PixelNerf[40]ï¼Œ<strong>ç”±äºç¼ºä¹å…¬å¼€å¯ç”¨çš„é«˜è´¨é‡3Dæ•°æ®ï¼Œå¾€å¾€åªä»2Då›¾åƒè¿›è¡Œæ“ä½œã€‚</strong><br>ä¸€äº›ä½¿ç”¨å¤æ‚3Dèµ„äº§çš„éšå¼é‡å»ºç³»ç»Ÿï¼Œå¦‚Pifu[31]ï¼Œåœ¨ä½¿ç”¨åŸºäºç‚¹çš„ç›‘ç£æ–¹é¢å–å¾—äº†ä¸€å®šçš„æˆåŠŸï¼Œ<strong>ä½†éœ€è¦ä»”ç»†çš„ç‚¹é‡‡æ ·æŠ€æœ¯å’ŒæŸå¤±å¹³è¡¡ã€‚</strong><br>è¿˜æœ‰ä¸€ç»„å·¥ä½œæ˜¯åŸºäºè‰å›¾çš„å»ºæ¨¡ï¼Œå…¶ä¸­3Dè¡¨ç¤ºæ˜¯ä»è½®å»“å›¾åƒä¸­æ¢å¤çš„ã€‚ä¾‹å¦‚ï¼ŒRuiç­‰äºº[24]ä½¿ç”¨å¤šè§†å›¾è§£ç å™¨æ¥é¢„æµ‹è‰å›¾åˆ°æ·±åº¦å’Œæ³•çº¿ï¼Œç„¶åå°†å…¶ç”¨äºè¡¨é¢é‡å»ºã€‚Songç­‰äºº[44]è¿˜å°è¯•é€šè¿‡å­¦ä¹ é‡æ–°è°ƒæ•´è¾“å…¥æ¥è¡¥å¿å¤šè§†å›¾ç»˜åˆ¶å·®å¼‚ã€‚è™½ç„¶ä¸æˆ‘ä»¬çš„å•è§†å›¾è‚–åƒé‡å»ºé—®é¢˜æœ‰å…³ï¼Œ<strong>ä½†è¿™äº›æ–¹æ³•éœ€è¦å¤šè§†å›¾è‰å›¾ï¼Œè¿™å¯¹äºè§’è‰²è‰ºæœ¯å®¶æ¥è¯´å¾ˆéš¾ä¸€è‡´åœ°ç»˜åˆ¶ï¼Œå¹¶ä¸”æ— æ³•å¤„ç†é¢œè‰²è¾“å…¥</strong><br>å¯¹äºå¤æ‚çš„é«˜è´¨é‡3Dèµ„äº§ï¼Œæˆ‘ä»¬è¯æ˜äº†å¯å¾®ä½“ç»˜åˆ¶åœ¨é‡å»ºä¸­çš„ä¼˜è¶Šæ€§ã€‚æˆ‘ä»¬å»ºç«‹åœ¨æœ€è¿‘çš„æ— æ¡ä»¶ç”Ÿæˆå·¥ä½œ(EG3D[4])çš„åŸºç¡€ä¸Šï¼Œå°†é‡å»ºé—®é¢˜å®šä¹‰ä¸ºæ¡ä»¶ç”Ÿæˆï¼Œæå‡ºäº†ä¸€äº›æ¶æ„æ”¹è¿›ï¼Œå¹¶åº”ç”¨ç”±æˆ‘ä»¬çš„3Dæ•°æ®é›†æä¾›çš„ç›´æ¥2.5Dç›‘ç£ä¿¡å·ã€‚</p><h2 id="Anime-style-3D-Avatars-and-Illustrations"><a href="#Anime-style-3D-Avatars-and-Illustrations" class="headerlink" title="Anime-style 3D Avatars and Illustrations"></a>Anime-style 3D Avatars and Illustrations</h2><p>å¯¹äº3Dè§’è‰²è‰ºæœ¯å®¶æ¥è¯´ï¼Œä»è‚–åƒæ’å›¾ä¸­åˆ¶ä½œ3Dæ¨¡å‹æ˜¯ä¸€é¡¹ç›¸å½“å¸¸è§çš„ä»»åŠ¡;ç„¶è€Œï¼Œä»è®¡ç®—æœºå›¾å½¢å­¦çš„è§’åº¦æ¥çœ‹ï¼Œè¿™ç§ç¨‹å¼åŒ–çš„é‡å»ºè®¾ç½®ç»™å·²ç»ä¸é€‚å®šçš„é—®é¢˜å¢åŠ äº†é¢å¤–çš„æ¨¡ç³Šæ€§ã€‚æ­¤å¤–ï¼Œè™½ç„¶åœ¨æµè¡Œçš„åŠ¨æ¼«/æ¼«ç”»é¢†åŸŸæœ‰ä½¿ç”¨3Dè§’è‰²èµ„äº§çš„å·¥ä½œ(å§¿åŠ¿ä¼°è®¡[18]ï¼Œé‡æ–°å®šä½[17,20]å’Œä¼‘æ¯[22]ç­‰)ï¼Œä½†<strong>ç¼ºä¹å…¬å¼€å¯ç”¨çš„å¤šè§†å›¾æ¸²æŸ“3Dè§’è‰²èµ„äº§</strong>ï¼Œå…è®¸å¯æ‰©å±•çš„è®­ç»ƒ(è¡¨1)ã€‚é‰´äºè¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºAnimeRecon(å›¾1d)é€šè¿‡é…å¯¹çš„æ’å›¾åˆ°3DåŸºå‡†æ¥å½¢å¼åŒ–é£æ ¼åŒ–ä»»åŠ¡ã€‚å¹¶æä¾›3Dèµ„äº§çš„Vroidæ•°æ®é›†(å›¾1c)ï¼Œä»¥å®ç°å¤§è§„æ¨¡è®­ç»ƒã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806132746.png" alt="image.png"></p><p>åœ¨ç¨‹å¼åŒ–é‡å»ºé—®é¢˜ä¸­ï¼Œæˆ‘ä»¬è§£å†³äº†ä»æ’å›¾ä¸­å»é™¤è½®å»“çš„é—®é¢˜ã€‚åœ¨çº¿æ¡æå–[21,38]ã€è‰å›¾ç®€åŒ–[33,34]ã€çº¿æ¡é‡å»º[11,24]ã€è‰ºæœ¯å›¾åƒçš„çº¿æ¡åˆ©ç”¨[6,41]å’Œåˆ’çº¿å»é™¤[8,27,29,32,35]æ–¹é¢æœ‰å¾ˆå¤šå·¥ä½œ;<strong>ç„¶è€Œï¼Œä»åŸºäºçº¿æ¡çš„æ’å›¾ä¸­åˆ é™¤çº¿æ¡å´å¾ˆå°‘å—åˆ°å…³æ³¨</strong>ã€‚æˆ‘ä»¬åœ¨æ›´æœ‰åˆ©äº3Dé‡å»ºçš„æ¸²æŸ“å›¾åƒä¸­è°ƒæ•´å›¾çº¸çš„èƒŒæ™¯ä¸‹ç ”ç©¶äº†è¿™ç§è½®å»“åˆ é™¤ä»»åŠ¡;æˆ‘ä»¬å‘ç°æœ´ç´ çš„å›¾åƒåˆ°å›¾åƒç¿»è¯‘[19,45]ä¸é€‚åˆè¿™é¡¹ä»»åŠ¡ï¼Œå¹¶æå‡ºäº†ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„å¸¦æœ‰é¢éƒ¨ç‰¹å¾æ„ŸçŸ¥çš„å¯¹æŠ—æ€§è®­ç»ƒè®¾ç½®ã€‚æœ€åï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªVtuberè‚–åƒæ•°æ®é›†(å›¾1b)æ¥è®­ç»ƒå’Œè¯„ä¼°ç”¨äº3Dé‡å»ºçš„è½®å»“å»é™¤ã€‚</p><h1 id="Methodology"><a href="#Methodology" class="headerlink" title="Methodology"></a>Methodology</h1><p>PAniC-3Dç”±ä¸¤ä¸ªä¸»è¦ç»„ä»¶ç»„æˆ(å›¾1a):ä¸€ä¸ªç›´æ¥ç›‘ç£çš„3Dé‡å»ºå™¨ï¼Œç”¨äºé¢„æµ‹ç»™å®šå‰ç«¯æ¸²æŸ“çš„è¾å°„åœºï¼Œä»¥åŠä¸€ä¸ªå°†å›¾åƒè½¬æ¢ä¸ºé‡å»ºå™¨è®­ç»ƒåˆ†å¸ƒçš„æ’å›¾-æ¸²æŸ“æ¨¡å—ã€‚<strong>è¿™ä¸¤ä¸ªéƒ¨åˆ†æ˜¯ç‹¬ç«‹è®­ç»ƒçš„ï¼Œä½†åœ¨æ¨ç†æ—¶æ˜¯é¡ºåºä½¿ç”¨çš„</strong>ã€‚</p><h2 id="3D-Reconstruction-Module"><a href="#3D-Reconstruction-Module" class="headerlink" title="3D Reconstruction Module"></a>3D Reconstruction Module</h2><p>3Dé‡å»ºæ¨¡å—å›¾3åœ¨ç›´æ¥ç›‘ç£ä¸‹è¿›è¡Œè®­ç»ƒï¼Œå°†æ­£é¢æ¸²æŸ“è½¬æ¢ä¸ºä½“ç§¯è¾å°„åœºã€‚æˆ‘ä»¬ä»¥æœ€è¿‘çš„æ— æ¡ä»¶ç”Ÿæˆå·¥ä½œ(EG3D[4])ä¸ºåŸºç¡€ï¼Œå°†é‡å»ºé—®é¢˜è¡¨è¿°ä¸ºæ¡ä»¶ç”Ÿæˆé—®é¢˜ï¼Œæå‡ºäº†å‡ ç§æ¶æ„æ”¹è¿›ï¼Œå¹¶åº”ç”¨æˆ‘ä»¬çš„3Dæ•°æ®é›†æä¾›çš„ç›´æ¥2.5Dç›‘ç£ä¿¡å·ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806135527.png" alt="image.png"></p><ul><li>Conditional inputinputæ¡ä»¶è¾“å…¥:å°†ç»™å®šçš„è¦é‡å»ºçš„æ­£é¢æ­£äº¤è§†å›¾è°ƒæ•´å¤§å°å¹¶é™„åŠ åˆ°EG3Dä¸­ä½¿ç”¨çš„Stylegan2ä¸»å¹²çš„ä¸­é—´ç‰¹å¾å›¾ä¸­[4]ã€‚æ­¤å¤–ï¼Œåœ¨æœ€æ—©çš„ç‰¹å¾æ˜ å°„ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è¿æ¥é¢„è®­ç»ƒçš„Resnet-50åŠ¨ç”»æ ‡æ³¨å™¨çš„å€’æ•°ç¬¬äºŒä¸ªç‰¹å¾ï¼Œä¸ºæ¨¡å‹æä¾›æœ‰å…³è¾“å…¥çš„é«˜çº§é¢†åŸŸç‰¹å®šè¯­ä¹‰ä¿¡æ¯ã€‚æ‰€è¿°æ ‡æ³¨å™¨æä¾›é€‚åˆè°ƒèŠ‚æ‰€è¿°ç”Ÿæˆå™¨çš„é«˜çº§è¯­ä¹‰ç‰¹å¾;ä¹‹å‰çš„å·¥ä½œ[7]å¯¹1062ä¸ªç›¸å…³ç±»åˆ«è¿›è¡Œäº†é¢„è®­ç»ƒï¼Œå¦‚è“å¤´å‘ã€çŒ«è€³æœµã€åŒè¾«å­ç­‰</li><li>Feature poolingç‰¹å¾æ± åŒ–:ç”±äºç©ºé—´ç‰¹å¾æ˜ å°„å°†åƒEG3D[4]ä¸€æ ·è¢«é‡æ–°å¡‘é€ æˆä¸‰ç»´ä¸‰å¹³é¢ï¼Œæˆ‘ä»¬å‘ç°æ²¿ç€å›¾åƒè½´å°†æ¯ä¸ªç‰¹å¾æ˜ å°„çš„ä¸€éƒ¨åˆ†é€šé“æ± åŒ–æ˜¯æœ‰ç›Šçš„(è§å›¾3å·¦)ã€‚è¿™ç§ç®€å•çš„æŠ€æœ¯æœ‰åŠ©äºæ²¿ç€å…¬å…±ä¸‰å¹³é¢è½´åˆ†å‘ä¿¡æ¯ï¼Œä»è€Œæé«˜å‡ ä½•åº¦é‡çš„æ€§èƒ½ã€‚</li><li>Multi-layer triplaneå¤šå±‚ä¸‰å¹³é¢:æ ¹æ®å¹¶è¡Œå·¥ä½œ[1]ä¸­æå‡ºçš„ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨æ¯ä¸ªå¹³é¢ä¸Šå †å æ›´å¤šé€šé“æ¥æ”¹è¿›EG3Dä¸‰å¹³é¢(è§å›¾3ä¸­å¿ƒ)ã€‚è¯¥æ–¹æ³•å¯ä»¥è§£é‡Šä¸ºä¸‰å¹³é¢å’Œä½“ç´ ç½‘æ ¼ä¹‹é—´çš„æ··åˆ(å¦‚æœå±‚æ•°ç­‰äºç©ºé—´å¤§å°ï¼Œå®ƒä»¬æ˜¯ç­‰æ•ˆçš„)ã€‚å½“åŒçº¿æ€§é‡‡æ ·æ—¶ï¼Œæ¯ä¸ªå¹³é¢è®¾ç½®ä¸‰å±‚å¯ä»¥æ›´å¥½åœ°æ¶ˆé™¤ç©ºé—´æ­§ä¹‰ï¼Œç‰¹åˆ«æ˜¯æœ‰åŠ©äºæˆ‘ä»¬çš„æ¨¡å‹ç”Ÿæˆæ›´å¯ä¿¡çš„å¤´éƒ¨èƒŒé¢(EG3Dæ²¡æœ‰é¢ä¸´çš„æŒ‘æˆ˜)ã€‚</li><li>LossæŸå¤±:æˆ‘ä»¬å……åˆ†åˆ©ç”¨äº†æˆ‘ä»¬å¯ç”¨çš„3Dèµ„äº§æä¾›ç»™æˆ‘ä»¬çš„çœŸå®2.5Dè¡¨ç¤ºã€‚æˆ‘ä»¬çš„é‡å»ºæŸå¤±åŒ…æ‹¬:RGB L1ã€LPIPS[42]ã€è½®å»“L1å’Œæ·±åº¦L2;è¿™äº›åº”ç”¨äºå‰ã€åã€å³å’Œå·¦æ­£å°„å½±è§†å›¾ï¼Œå¦‚å›¾3æ‰€ç¤ºã€‚é™¤äº†ä¿æŒç”Ÿæˆæ–¹å‘å¤–ï¼Œè¿˜é‡‡ç”¨äº†åˆ¤åˆ«æŸå¤±æ¥æé«˜ç»†èŠ‚è´¨é‡ã€‚æˆ‘ä»¬è¿˜ä¿ç•™äº†EG3Dè®­ç»ƒä¸­çš„R1å’Œå¯†åº¦æ­£åˆ™åŒ–æŸå¤±ã€‚æˆ‘ä»¬çš„2.5Dè¡¨ç¤ºå’Œå¯¹æŠ—æ€§è®¾ç½®ä½¿æˆ‘ä»¬èƒ½å¤Ÿè¶…è¶Šç±»ä¼¼çš„å•è§†å›¾é‡æ„å™¨ï¼Œå¦‚PixelNerf[40]ï¼Œå®ƒåªé€‚ç”¨äºé¢œè‰²æŸå¤±</li><li>Post-processingåå¤„ç†:æˆ‘ä»¬åˆ©ç”¨æˆ‘ä»¬çš„å‡è®¾ï¼Œå³æ­£é¢è§†å›¾ä½œä¸ºè¾“å…¥ï¼Œé€šè¿‡åœ¨æ¨ç†æ—¶å°†ç»™å®šçš„è¾“å…¥æ‹¼æ¥åˆ°ç”Ÿæˆçš„äº®åº¦åœºã€‚æ¯ä¸ªåƒç´ çš„äº¤ç‚¹åœ¨ä½“å†…çš„åæ ‡è¢«ç”¨æ¥é‡‡æ ·ä½œä¸ºä¸€ä¸ªuvçº¹ç†å›¾çš„è¾“å…¥;æˆ‘ä»¬ä»æ¯ä¸ªäº¤å‰ç‚¹æŠ•å°„ä¸€äº›é¢å¤–çš„å…‰çº¿æ¥æµ‹è¯•æ­£é¢çš„å¯è§æ€§ï¼Œå¹¶ç›¸åº”åœ°åº”ç”¨çº¹ç†ã€‚è¿™ç§ç®€å•è€Œæœ‰æ•ˆçš„æ–¹æ³•ä»¥å¯å¿½ç•¥ä¸è®¡çš„æˆæœ¬æé«˜äº†è¾“å…¥çš„ç»†èŠ‚ä¿å­˜ã€‚</li></ul><h2 id="Illustration-to-Render-Module"><a href="#Illustration-to-Render-Module" class="headerlink" title="Illustration-to-Render Module"></a>Illustration-to-Render Module</h2><p>ä¸ºäº†å»é™¤è¾“å…¥æ’å›¾ä¸­å­˜åœ¨çš„ä¸çœŸå®çš„ç­‰é«˜çº¿ï¼Œä½†åœ¨æ¼«å°„å…‰ç…§åœºä¸­ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªæ’å›¾-æ¸²æŸ“æ¨¡å—(å›¾4)ã€‚å‡è®¾å¯ä»¥è®¿é—®æœªé…å¯¹çš„æ’å›¾å’Œæ¸²æŸ“(åˆ†åˆ«æ˜¯æˆ‘ä»¬çš„Vtuberå’ŒVroidæ•°æ®é›†)ï¼Œæµ…ç½‘ç»œåœ¨ç»˜åˆ¶çš„çº¿æ¡é™„è¿‘é‡æ–°ç”Ÿæˆåƒç´ é¢œè‰²ï¼Œä»¥ä¾¿å¯¹æŠ—æ€§åœ°åŒ¹é…æ¸²æŸ“å›¾åƒåˆ†å¸ƒã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806135919.png" alt="image.png"><br>ä¸CycleGANå’ŒUGATIT[19,45]ç­‰æœªé…å¯¹çš„å›¾åƒå¯¹å›¾åƒæ¨¡å‹ç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿæ–½åŠ äº†å°çš„èº«ä»½æŸå¤±;è™½ç„¶è¿™å¯¹äºæˆ‘ä»¬çš„å¡«å……æƒ…å†µä¼¼ä¹é€‚å¾—å…¶åï¼Œå› ä¸ºåœ¨éç”ŸæˆåŒºåŸŸä¸­ä¿ç•™äº†èº«ä»½ï¼Œä½†æˆ‘ä»¬å‘ç°è¿™å¯ä»¥ç¨³å®šGANè®­ç»ƒã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬çš„è®¾ç½®ä¹Ÿä¸åŒäºå…¶ä»–å¡«å……æ¨¡å‹ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç€è‰²æ˜¯ä¸ºäº†åŒ¹é…ä¸è¾“å…¥ä¸åŒçš„åˆ†å¸ƒã€‚æ ¹æ®ä¹‹å‰çš„å·¥ä½œï¼Œä»åŸºäºçº¿çš„åŠ¨ç”»ä¸­æå–è‰å›¾[6]ï¼Œæˆ‘ä»¬ä½¿ç”¨ç®€å•é«˜æ–¯å·®åˆ†(DoG)ç®—å­ï¼Œä»¥é˜²æ­¢åœ¨æ¯ä¸ªç¬”ç”»å‘¨å›´æå–åŒçº¿ã€‚<br>è™½ç„¶å›¾çº¸ä¸­å‡ºç°çš„å¤§å¤šæ•°çº¿æ¡åº”è¯¥è¢«åˆ é™¤ï¼Œä½†å…³é”®é¢éƒ¨ç‰¹å¾å‘¨å›´çš„æŸäº›çº¿æ¡å¿…é¡»ä¿ç•™ï¼Œå› ä¸ºå®ƒä»¬ç¡®å®å‡ºç°åœ¨æ•ˆæœå›¾ä¸­(çœ¼ç›ï¼Œå˜´å·´ï¼Œé¼»å­ç­‰)ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç°æˆçš„åŠ¨æ¼«é¢éƒ¨åœ°æ ‡æ£€æµ‹å™¨[16]ï¼Œåœ¨å…³é”®ç»“æ„å‘¨å›´åˆ›å»ºå‡¸å£³ï¼Œå…¶ä¸­ä¸å…è®¸å¡«å……ã€‚</p><p>æˆ‘ä»¬å±•ç¤ºäº†è¿™ä¸ªçº¿ç§»é™¤æ¨¡å—ç¡®å®å®ç°äº†ä¸€ä¸ªæ›´åƒæ¸²æŸ“çš„å¤–è§‚;å½“åœ¨æˆ‘ä»¬çš„AnimeReconå¯¹ä¸Šè¿›è¡Œè¯„ä¼°æ—¶ï¼Œå®ƒæ¯”åŸºçº¿æ–¹æ³•æ›´å‡†ç¡®åœ°æ‰§è¡Œå›¾åƒå¹³ç§»(è¡¨4)ï¼Œå¹¶ä»æœ€ç»ˆçš„äº®åº¦åœºæ¸²æŸ“ä¸­å»é™¤çº¿ä¼ªå½±(å›¾6)ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> NeRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FORGE</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/FORGE/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/FORGE/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Few-View Object Reconstruction with Unknown Categories and Camera Poses</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://hwjiang1510.github.io/">Hanwen Jiang</a>    <a href="https://zhenyujiang.me/">Zhenyu Jiang</a>    <a href="https://www.cs.utexas.edu/users/grauman/">Kristen Grauman</a>    <a href="https://cs.utexas.edu/~yukez">Yuke Zhu</a></td></tr><tr><td>Conf/Jour</td><td>ArXiv</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://ut-austin-rpl.github.io/FORGE/">FORGE (ut-austin-rpl.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4698779822646624257&amp;noteId=1899765094261033216">Few-View Object Reconstruction with Unknown Categories and Camera Poses (readpaper.com)</a></td></tr></tbody></table></div><p><strong>ä¼°è®¡è§†å›¾ä¹‹é—´çš„ç›¸å¯¹ç›¸æœºå§¿æ€</strong><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230803141338.png" alt="image.png"></p><p>è´¡çŒ®ï¼š </p><ul><li>2D<strong>æå–voxelç‰¹å¾</strong> â€”&gt; <strong>ç›¸æœºå§¿æ€ä¼°è®¡</strong> â€”&gt; <strong>ç‰¹å¾å…±äº«+èåˆ</strong> â€”&gt;  MLP<strong>ç¥ç»éšå¼é‡å»º</strong> â€”&gt; æ¸²æŸ“å·²æœ‰ç›¸æœºä½å§¿çš„å›¾ç‰‡ï¼Œå¹¶è®¡ç®—ä¸gtä¹‹é—´çš„loss</li><li>æ–°çš„æŸå¤±å‡½æ•°</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806144402.png" alt="image.png"></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬ç ”ç©¶äº†åœ¨ç‰©ä½“ç±»åˆ«ä¿¡æ¯å’Œç›¸æœºå§¿æ€éƒ½æœªçŸ¥çš„æƒ…å†µä¸‹ï¼Œä»å‡ ä¸ªè§†å›¾é‡æ„ç‰©ä½“çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„å…³é”®è§è§£æ˜¯åˆ©ç”¨å½¢çŠ¶é‡å»ºå’Œå§¿æ€ä¼°è®¡ä¹‹é—´çš„ååŒä½œç”¨æ¥æé«˜è¿™ä¸¤é¡¹ä»»åŠ¡çš„æ€§èƒ½ã€‚<br>æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªä½“ç´ ç¼–ç å™¨å’Œä¸€ä¸ªç›¸å¯¹ç›¸æœºå§¿æ€ä¼°è®¡å™¨ï¼Œå®ƒä»¬ä»¥çº§è”çš„æ–¹å¼è¿›è¡Œè®­ç»ƒã€‚å§¿æ€ä¼°è®¡å™¨è”åˆæ¨æ–­æ‰€æœ‰è§†å›¾çš„å§¿æ€ï¼Œå¹¶å»ºç«‹æ˜ç¡®çš„ä¸‰ç»´è·¨è§†å›¾å¯¹åº”å…³ç³»ã€‚ç„¶ååˆ©ç”¨é¢„æµ‹çš„å§¿æ€å°†ä»æ¯ä¸ªè§†å›¾ä¸­æå–çš„ä¸‰ç»´ä½“ç´ ç‰¹å¾è½¬æ¢ä¸ºå…±äº«çš„é‡å»ºç©ºé—´ã€‚ç„¶åé¢„æµ‹ç¥ç»ä½“ç§¯ï¼Œèåˆæ¯ä¸ªè§†å›¾çš„ä¿¡æ¯ã€‚<br>æˆ‘ä»¬çš„æ¨¡å‹åœ¨é‡å»ºå’Œç›¸å¯¹å§¿æ€ä¼°è®¡æ–¹é¢æ˜æ˜¾ä¼˜äºç°æœ‰æŠ€æœ¯ã€‚çƒ§èš€ç ”ç©¶ä¹Ÿæ˜¾ç¤ºäº†æˆ‘ä»¬è®¾è®¡çš„æ¯ä¸ªæ¨¡å—çš„æœ‰æ•ˆæ€§ã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å·¥ä½œèƒ½å¤Ÿæ¿€åŠ±æœªæ¥çš„åŠªåŠ›ï¼Œä½¿ç‰©ä½“é‡å»ºå¹¿æ³›é€‚ç”¨å’Œå¯æ‰©å±•ï¼Œä»¥æ•è·ç°å®ä¸–ç•Œä¸­çš„æ—¥å¸¸ç‰©ä½“ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>è™½ç„¶ç‰©ä½“é‡å»ºè¿‘å¹´æ¥å–å¾—äº†å¾ˆå¤§çš„è¿›æ­¥ï¼Œä½†<strong>ç›®å‰çš„æ–¹æ³•é€šå¸¸éœ€è¦å¯†é›†æ•è·çš„å›¾åƒå’Œ/æˆ–å·²çŸ¥çš„ç›¸æœºå§¿åŠ¿</strong>ï¼Œå¹¶ä¸”åœ¨æ–°çš„ç‰©ä½“ç±»åˆ«ä¸Šæ³›åŒ–å¾—å¾ˆå·®ã€‚<br>ä¸ºäº†åœ¨é‡å¤–é‡å»ºç‰©ä½“ï¼Œè¿™é¡¹å·¥ä½œæ¢ç´¢äº†<strong>ä»ä¸€äº›æ²¡æœ‰å·²çŸ¥ç›¸æœºå§¿åŠ¿æˆ–ç‰©ä½“ç±»åˆ«çš„å›¾åƒä¸­é‡å»ºä¸€èˆ¬çš„ç°å®ä¸–ç•Œç‰©ä½“</strong>ã€‚æˆ‘ä»¬å·¥ä½œçš„å…³é”®æ˜¯ç”¨ç»Ÿä¸€çš„æ–¹æ³•è§£å†³ä¸¤ä¸ªåŸºæœ¬çš„3Dè§†è§‰é—®é¢˜-<strong>å½¢çŠ¶é‡å»ºå’Œå§¿æ€ä¼°è®¡</strong>ã€‚æˆ‘ä»¬çš„æ–¹æ³•æŠ“ä½äº†è¿™ä¸¤ä¸ªé—®é¢˜çš„ååŒä½œç”¨:å¯é çš„ç›¸æœºå§¿æ€ä¼°è®¡å¯ä»¥äº§ç”Ÿå‡†ç¡®çš„å½¢çŠ¶é‡å»ºï¼Œè€Œå‡†ç¡®çš„é‡å»ºåè¿‡æ¥åˆå¯ä»¥åœ¨ä¸åŒè§†å›¾ä¹‹é—´äº§ç”Ÿé²æ£’å¯¹åº”å¹¶ä¿ƒè¿›å§¿æ€ä¼°è®¡ã€‚<br>æˆ‘ä»¬çš„æ–¹æ³•FORGEé¢„æµ‹æ¯ä¸ªè§†å›¾çš„3Dç‰¹å¾ï¼Œå¹¶å°†å®ƒä»¬ä¸è¾“å…¥å›¾åƒç»“åˆèµ·æ¥ï¼Œå»ºç«‹è·¨è§†å›¾å¯¹åº”å…³ç³»ï¼Œä»¥ä¼°è®¡ç›¸å¯¹ç›¸æœºå§¿åŠ¿ã€‚ç„¶åé€šè¿‡ä¼°è®¡çš„å§¿æ€å°†3Dç‰¹å¾è½¬æ¢ä¸ºå…±äº«ç©ºé—´ï¼Œå¹¶èåˆåˆ°ç¥ç»è¾å°„åœºä¸­ã€‚é‡å»ºç»“æœé€šè¿‡ä½“ç»˜åˆ¶æŠ€æœ¯è¿›è¡Œæ¸²æŸ“ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨æ²¡æœ‰ä¸‰ç»´å½¢çŠ¶çš„æƒ…å†µä¸‹è®­ç»ƒæ¨¡å‹ã€‚<br>å®éªŒè¡¨æ˜ï¼Œ<strong>FORGEå¯ä»¥å¯é åœ°ä»äº”ä¸ªè§’åº¦é‡æ„ç‰©ä½“</strong>ã€‚æˆ‘ä»¬çš„å§¿æ€ä¼°è®¡æ–¹æ³•åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¼˜äºç°æœ‰çš„æ–¹æ³•ã€‚é¢„æµ‹å§¿æ€ä¸‹çš„é‡å»ºç»“æœä¸ä½¿ç”¨åœ°çœŸå§¿æ€çš„é‡å»ºç»“æœç›¸å½“ã€‚åœ¨æ–°æµ‹è¯•ç±»åˆ«ä¸Šçš„è¡¨ç°ä¸è®­ç»ƒæœŸé—´çœ‹åˆ°çš„ç±»åˆ«ç»“æœç›¸åŒ¹é…ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>é€šè¿‡RGBç›¸æœºé•œå¤´é‡å»ºçœŸå®ä¸–ç•Œçš„ç‰©ä½“åœ¨AR/VRåº”ç”¨[3,36]ã€åµŒå…¥å¼AI[23,46]å’Œæœºå™¨äºº[11,59]ä¸­è‡³å…³é‡è¦ã€‚ä¼ ç»Ÿæ–¹æ³•[15,27,41]ä¾èµ–äºå¯†é›†æ•è·çš„å›¾åƒè¿›è¡ŒåŸºäºä¼˜åŒ–çš„é‡å»ºã€‚å¯¹å¯†é›†è¾“å…¥çš„ä¸¥æ ¼è¦æ±‚é˜»ç¢äº†è¿™äº›æ–¹æ³•çš„å¹¿æ³›é€‚ç”¨æ€§ã€‚<strong>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå°‘è§†å›¾å¯¹è±¡é‡å»º</strong>[61,63]æ—¨åœ¨ä»çœŸå®ä¸–ç•Œå¯¹è±¡çš„å°‘é‡å›¾åƒ(å¦‚åœ¨çº¿äº§å“å¿«ç…§)å¿«é€Ÿåˆ›å»º3Dæ¨¡å‹ã€‚ç„¶è€Œï¼Œç°æœ‰çš„å·¥ä½œ<strong>è¦ä¹ˆéœ€è¦3Dçš„åœ°é¢çœŸå®ç›‘ç£</strong>æ¥è¿›è¡Œè®­ç»ƒ[7]ï¼Œ<strong>è¦ä¹ˆéœ€è¦ç»è¿‡è‰¯å¥½æ ¡å‡†çš„ç›¸æœºå§¿åŠ¿</strong>æ¥è¿›è¡Œæ¨ç†[13,63]ï¼Œè€Œä¸”å¾€å¾€å±€é™äºçœ‹åˆ°çš„ç‰©ä½“ç±»åˆ«[61]ã€‚ä¸ºäº†æœ‰æ•ˆåœ°æ•æ‰ç°å®ç”Ÿæ´»ä¸­çš„ç‰©ä½“ï¼Œæˆ‘ä»¬<strong>æ¸´æœ›å¼€å‘ä¸€ç§å®ç”¨çš„æ–¹æ³•ï¼Œåœ¨ä¸ä¾èµ–ç‰©ä½“ç±»åˆ«æˆ–ç›¸æœºå§¿åŠ¿çš„æƒ…å†µä¸‹æ‰§è¡Œä¸€èˆ¬çš„å°‘è§†å›¾ç‰©ä½“é‡å»º</strong>ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†FORGE (Few-view Object Reconstruction that GEneralize)ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚ä¸åœ¨ç‰¹å®šç±»åˆ«çš„è§„èŒƒç©ºé—´ä¸­é‡æ„å¯¹è±¡çš„ç±»åˆ«çº§æ–¹æ³•ä¸åŒ[12,53]ï¼Œ<strong>FORGEå°†å•ä¸ªè¾“å…¥ç¼–ç ä¸ºå„è‡ªç›¸æœºç©ºé—´ä¸­çš„3Dç‰¹å¾ã€‚ç„¶åï¼Œå®ƒä¼°è®¡è¾“å…¥è§†å›¾ä¹‹é—´çš„ç›¸å¯¹ç›¸æœºå§¿æ€ï¼Œå¹¶å°†3Dç‰¹å¾è½¬æ¢ä¸ºå…·æœ‰ä¼°è®¡å§¿æ€çš„å…±äº«é‡å»ºç©ºé—´ã€‚è¿™ç§è®¾è®¡æ¶ˆé™¤äº†å¯¹æ¯ä¸ªç±»åˆ«çš„è§„èŒƒé‡æ„ç©ºé—´çš„éœ€è¦ï¼Œå¹¶ä½¿FORGEèƒ½å¤Ÿè·¨å¯¹è±¡ç±»åˆ«è¿›è¡Œæ³›åŒ–</strong>ã€‚<strong>è½¬æ¢åçš„ä¸‰ç»´ç‰¹å¾éšåè¢«èšåˆåˆ°ä¸€ä¸ªç¥ç»ä½“ä¸­</strong>ã€‚æˆ‘ä»¬éµå¾ªNeRF[26]ï¼Œå¹¶ä½¿ç”¨å¯å¾®ä½“ç§¯æ¸²æŸ“æ¥é¢„æµ‹ç¥ç»ä½“ç§¯çš„æ–°è§†å›¾ã€‚è¯¥æ¨¡å‹é€šè¿‡æ¸²æŸ“å›¾åƒå’ŒåŸå§‹è¾“å…¥å›¾åƒä¹‹é—´çš„é‡å»ºæŸå¤±è¿›è¡Œç›‘ç£ï¼Œè€Œä¸éœ€è¦å¯¹ç‰©ä½“å½¢çŠ¶è¿›è¡Œ3Dç›‘ç£</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230803141338.png" alt="image.png"></p><p><strong>æœ€é‡è¦çš„æŒ‘æˆ˜æ˜¯ä¼°è®¡è§†å›¾ä¹‹é—´çš„ç›¸å¯¹ç›¸æœºå§¿æ€</strong>ã€‚ç°æœ‰çš„ç›¸æœºå§¿æ€ä¼°è®¡å·¥ä½œåˆ©ç”¨äº†äºŒç»´å›¾åƒçš„å¯¹åº”å…³ç³»[22,42,64]ã€‚å¯¹äºå°‘è§†ç‚¹ç›®æ ‡é‡å»ºï¼Œç›¸æœºå§¿æ€çš„å‰§çƒˆå˜åŒ–é˜»ç¢äº†é²æ£’äºŒç»´å¯¹åº”å…³ç³»çš„å»ºç«‹ã€‚ä¸ºæ­¤ï¼Œ<strong>æˆ‘ä»¬è®¾è®¡äº†ä¸€ç§æ–°çš„ä»¥ä¸‰ç»´ç‰¹å¾å’ŒäºŒç»´å›¾åƒä¸ºè¾“å…¥çš„ç›¸å¯¹å§¿æ€ä¼°è®¡å™¨ï¼Œåˆ©ç”¨ä¸‰ç»´ç‰¹å¾çš„å¯¹åº”æ€§æ¥æ¶ˆé™¤é‡æŠ•å½±æ­§ä¹‰</strong>ã€‚æ­¤å¤–ï¼Œä¸ºäº†é¿å…æˆå¯¹ç›¸å¯¹å§¿æ€ä¼°è®¡ä¸­çš„å¤åˆè¯¯å·®[17,39]ï¼ŒFORGEåŸºäºæ‰€æœ‰è¾“å…¥ä¹‹é—´çš„å¯¹åº”å…³ç³»æ¥é¢„æµ‹å§¿æ€ã€‚å› æ­¤ï¼Œå®ƒå—ç›Šäº3Då¯¹åº”ï¼Œå¹¶å…·æœ‰ç›¸æœºé…ç½®çš„å…¨å±€ç†è§£ã€‚</p><p><strong>FORGEåˆ©ç”¨å½¢çŠ¶é‡å»ºå’Œå§¿æ€ä¼°è®¡ä¹‹é—´çš„ååŒä½œç”¨æ¥æé«˜ä¸¤è€…çš„æ€§èƒ½</strong>ã€‚</p><ul><li>æˆ‘ä»¬é¦–å…ˆç”¨çœŸå®çš„ç›¸æœºå§¿åŠ¿è®­ç»ƒæ¨¡å‹ã€‚ä½¿ç”¨åœ°é¢çœŸå®ç›¸æœºå§¿åŠ¿é¼“åŠ±æ¨¡å‹å­¦ä¹ 3Då‡ ä½•å…ˆéªŒï¼Œä»¥ä¾¿ä»æ¯ä¸ªè¾“å…¥è§†å›¾ä¸­æå–ä¸€è‡´çš„3Dç‰¹å¾ã€‚</li><li>ç„¶åï¼Œæˆ‘ä»¬å­¦ä¹ äº†ç›¸å¯¹ç›¸æœºå§¿æ€ä¼°è®¡å™¨ï¼Œè¯¥ä¼°è®¡å™¨åœ¨å·²å»ºç«‹çš„è§†å›¾ä¸€è‡´çš„ä¸‰ç»´ç‰¹å¾ç©ºé—´ä¸­å‡†ç¡®åœ°å»ºç«‹äº†ä¸‰ç»´å¯¹åº”å…³ç³»</li></ul><p>ä¸ºäº†è¯„ä¼°FORGEçš„æ³›åŒ–èƒ½åŠ›ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªæ–°çš„æ•°æ®é›†ï¼Œä¸ä»¥å‰çš„æ•°æ®é›†ç›¸æ¯”ï¼Œå®ƒå…·æœ‰ä¸åŒçš„ç›®æ ‡ç±»åˆ«å’Œæ›´ä¸¥æ ¼çš„ç›¸æœºè®¾ç½®[45,57]ã€‚æˆ‘ä»¬çš„ç»“æœè¡¨æ˜ï¼ŒFORGEåœ¨é‡å»ºå’Œç›¸å¯¹ç›¸æœºå§¿æ€ä¼°è®¡æ–¹é¢éƒ½å¤§å¤§ä¼˜äºç°æœ‰æŠ€æœ¯ã€‚åœ¨é¢„æµ‹å§¿æ€ä¸‹çš„é‡å»ºè´¨é‡ä¸ä½¿ç”¨åœ°çœŸç›¸å¯¹ç›¸æœºå§¿æ€çš„æ€§èƒ½ç›¸åŒ¹é…ã€‚æ­¤å¤–ï¼ŒFORGEåœ¨æ–°å¯¹è±¡ç±»åˆ«ä¸Šè¡¨ç°å‡ºè¾ƒå¼ºçš„æ³›åŒ–èƒ½åŠ›ï¼Œå‡ ä¹ä¸åœ¨å·²çŸ¥å¯¹è±¡ä¸Šçš„è¡¨ç°ç›¸å½“ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»é¢„æµ‹çš„ç¥ç»ä½“ç§¯ä¸­è·å¾—å‡†ç¡®çš„ä½“ç´ é‡å»ºï¼Œè¯æ˜äº†FORGEåœ¨ç†è§£3Då‡ ä½•å½¢çŠ¶æ–¹é¢çš„å¼ºå¤§åŠŸèƒ½</p><p>æˆ‘ä»¬å¼ºè°ƒæˆ‘ä»¬çš„è´¡çŒ®å¦‚ä¸‹:<br>i) æˆ‘ä»¬å¼€å‘äº†ä¸€ç§<strong>æ¨å¹¿åˆ°æ–°å¯¹è±¡ç±»åˆ«</strong>çš„<strong>å°‘è§†å›¾å¯¹è±¡é‡å»ºæ–¹æ³•</strong>;<br>ii) è®¾è®¡äº†ä¸€ç§<strong>æ–°çš„ç›¸å¯¹å§¿æ€ä¼°è®¡æ¨¡å‹</strong>æ¥å¤„ç†è¾ƒå¤§çš„ç›¸æœºå§¿æ€å˜åŒ–;<br>iii) æˆ‘ä»¬çš„å®éªŒ<strong>è¯æ˜äº†å½¢çŠ¶é‡å»ºå’Œå§¿æ€ä¼°è®¡ä¹‹é—´çš„ååŒä½œç”¨</strong>ï¼Œå¯ä»¥æé«˜è¿™ä¸¤ä¸ªä»»åŠ¡çš„è´¨é‡ã€‚æˆ‘ä»¬è‡´åŠ›äºå‘å¸ƒæˆ‘ä»¬çš„ä»£ç å’Œæ•°æ®é›†ï¼Œä»¥å®ç°å¯é‡å¤æ€§å’Œæœªæ¥çš„ç ”ç©¶ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><ul><li><strong>Multi-View Reconstruction</strong> ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºç‰©ä½“å’Œåœºæ™¯ä¸€ç›´æ˜¯è®¡ç®—æœºè§†è§‰ä¸­å­˜åœ¨å·²ä¹…çš„é—®é¢˜[44]ã€‚<ul><li>ä¼ ç»Ÿæ–¹æ³•ï¼Œå¦‚COLMAP[41]ï¼Œä»¥åŠåŸºäºå­¦ä¹ çš„å¯¹åº”æ–¹æ³•ï¼Œå¦‚DeepV2D[48]ï¼Œå·²ç»å–å¾—äº†å·¨å¤§çš„æˆåŠŸã€‚ç„¶è€Œï¼Œè¿™äº›SLAM [4,15,48,69]ï¼Œ SfM[41,47,48]å’ŒRGB-Dé…å‡†[2]æ–¹æ³•éœ€è¦å¯†é›†çš„è§†å›¾è¾“å…¥å’Œå¹³æ»‘çš„ç›¸æœºè¿åŠ¨ã€‚</li><li>å¦ä¸€é¡¹å·¥ä½œæ—¨åœ¨ä»…ä½¿ç”¨ç¨€ç–ç”šè‡³å°‘æ•°è§†å›¾ä½œä¸ºè¾“å…¥ï¼Œå…¶ä¸­å‡ºç°äº†ä¸¤ç§ä¸»è¦æµã€‚<ul><li>ç¬¬ä¸€ç§ç±»å‹æ˜¯æ— å§¿åŠ¿çš„ã€‚ä¾‹å¦‚3D- r2n2[7]å’Œpix2vox++[58]ç›´æ¥èšåˆäº†æ‰€æœ‰è¾“å…¥çš„3Dä¿¡æ¯ã€‚SRT[40]åˆ©ç”¨å¤§å‹å˜å‹å™¨æ¨¡å‹æ„å»ºäº†ä¸€ç§æ— å‡ ä½•çš„æ–¹æ³•ã€‚ç„¶è€Œï¼Œæ— å‡ ä½•çš„æ–¹æ³•å¾ˆéš¾æ¨å¹¿åˆ°çœ‹ä¸è§çš„ç±»åˆ«ï¼Œå› ä¸ºç¼ºä¹æ„è¯†åˆ°äº¤å‰è§†å›¾å¯¹åº”çš„æ“ä½œã€‚</li><li>å¦ä¸€ç§æ–¹æ³•æ˜¯å§¿åŠ¿æ„ŸçŸ¥ï¼Œå…¶ä¸­ç›¸æœºå§¿åŠ¿ç”¨äºå°†æ¯ä¸ªè§†å›¾çš„ç‰¹å¾å¯¹é½åˆ°ä¸€ä¸ªå…±åŒçš„é‡å»ºç©ºé—´[13,30,31,33,54]ï¼Œå¹¶ä¸”å®ƒä»¬å—ç›Šäºä½¿ç”¨åœ°é¢çœŸå®ç›¸æœºå§¿åŠ¿ã€‚<strong>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ç§å§¿æ€æ„ŸçŸ¥æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä»¥ç»Ÿä¸€çš„æ–¹å¼é¢„æµ‹å½¢çŠ¶å’Œç›¸å¯¹ç›¸æœºå§¿æ€ï¼Œè€Œåœ¨æ¨ç†è¿‡ç¨‹ä¸­ä¸ä½¿ç”¨åœ°é¢çœŸå®ç›¸æœºå§¿æ€</strong>ã€‚</li></ul></li></ul></li><li><strong>Volumetric 3D and Neural Radiance Fields</strong> ä¸‰ç»´æ˜¾å¼ä½“ç§¯è¡¨ç¤ºï¼Œç‰¹åˆ«æ˜¯ä½“ç´ ç½‘æ ¼ï¼Œå·²å¹¿æ³›ç”¨äºå¯¹è±¡å»ºæ¨¡[7,8,13,28,38,50,60]å’Œåœºæ™¯å»ºæ¨¡[16,49]ã€‚<ul><li>è¿‘å¹´æ¥ï¼Œé‰´äºéšå¼è¡¨å¾åœ¨3Dè§†è§‰ä»»åŠ¡ä¸Šå–å¾—äº†ä»¤äººå°è±¡æ·±åˆ»çš„æˆæœ[25,32]ï¼ŒNeRF[26]é‡‡ç”¨éšå¼ç¥ç»è¾å°„åœºè¿›è¡Œ3Dä½“ç§¯è¡¨å¾ã€‚NeRFåŠå…¶å˜ä½“å®ç°äº†å¯¹å¤æ‚å‡ ä½•å’Œå¤–è§‚å»ºæ¨¡çš„åšå®èƒ½åŠ›[24,34,35,43,66]ã€‚å°½ç®¡å¦‚æ­¤ï¼Œ<strong>NeRFä½¿ç”¨ä¸€ä¸ªå…¨å±€MLPæ¥æ‹Ÿåˆæ¯ä¸ªåœºæ™¯ï¼Œè¿™å¾ˆéš¾ä¼˜åŒ–ï¼Œè€Œä¸”æ³›åŒ–ç¨‹åº¦æœ‰é™</strong>ã€‚</li><li>é’ˆå¯¹ä¼ ç»ŸNeRFæ–¹æ³•çš„å±€é™æ€§ï¼Œæå‡ºäº†ä¸¤ç§æ–¹æ³•ã€‚<ul><li>ç¬¬ä¸€ç§æ˜¯<strong>å°†äºŒç»´å›¾åƒç‰¹å¾é›†æˆåˆ°MLP</strong>ä¸­[37,55,63]ï¼Œç”±äº3D-2DæŠ•å½±ï¼ŒMLPå¯¹ç›¸æœºå§¿æ€è¯¯å·®å¾ˆæ•æ„Ÿã€‚</li><li>ç¬¬äºŒç§æ˜¯ä½¿ç”¨åŠéšå¼è¾å°„åœºï¼Œå…¶ä¸­è¾å°„åœºé™„åŠ åˆ°ä½“ç´ ç½‘æ ¼[20]ã€‚</li></ul></li><li>æ­¤å¤–ï¼Œä¸ºäº†ä½¿äº®åº¦åœºæ›´å…·é€šç”¨æ€§ï¼Œä¸€äº›å·¥ä½œ[6,62,67]è®­ç»ƒäº†3Dç¼–ç å™¨ï¼Œè¿™äº›ç¼–ç å™¨ç›´æ¥ä»å›¾åƒä¸­é¢„æµ‹åŸºäºä½“ç´ çš„äº®åº¦åœºã€‚ç„¶è€Œï¼ŒMVSNeRF[6]è¢«è®¾ç½®ä¸ºå›ºå®šæ•°é‡çš„é™„è¿‘è§†å›¾ï¼ŒShelfSup[62]é¢„æµ‹è§„èŒƒç©ºé—´ä¸­çš„è¾å°„åœºï¼ŒNeRFusion[67]éœ€è¦åœ°é¢çœŸå®ç›¸æœºå§¿åŠ¿ã€‚<strong>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ¨¡å‹ä»åŸå§‹å›¾åƒä¸­é¢„æµ‹åŸºäºä½“ç´ çš„äº®åº¦åœºï¼Œå¯ä»¥ä½¿ç”¨ä½¿ç”¨é¢„æµ‹å§¿åŠ¿çš„ä»»æ„æ•°é‡çš„è§†å›¾è¿›è¡Œèåˆ</strong>ã€‚</li></ul></li><li><strong>Reconstruction from Images without Poses.</strong><ul><li>ä½¿ç”¨ä½“ç§¯è¡¨ç¤ºçš„å§¿æ€æ„ŸçŸ¥é‡å»ºæ–¹æ³•çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯éœ€è¦ç²¾ç¡®çš„ç›¸æœºå§¿æ€ã€‚<strong>è®¸å¤šä½œå“éƒ½å‡å®šå¯ä»¥è·å¾—åœ°é¢çœŸå®çš„ç›¸æœºå§¿åŠ¿</strong>[13,26,45]ï¼Œè¿™é™åˆ¶äº†å®ƒä»¬çš„é€‚ç”¨æ€§ã€‚BARF[18]å’ŒNeRS[65]å¯¹å…³èŠ‚çš„å½¢çŠ¶å’Œä½å§¿è¿›è¡Œäº†ä¼˜åŒ–ã€‚<strong>ç„¶è€Œï¼Œå®ƒä»¬ä»ç„¶ä¾èµ–äºé«˜åº¦ç²¾ç¡®çš„åˆå§‹å§¿åŠ¿</strong>ã€‚FvOR[61]<strong>æå‡ºäº†ä¸€ä¸ªä½¿ç”¨å¯†é›†ç‚¹å¯¹åº”çš„å§¿æ€åˆå§‹åŒ–æ¨¡å—ï¼Œä½†éœ€è¦ä¸‰ç»´å½¢çŠ¶ç›‘ç£</strong>ã€‚</li><li>å¦ä¸€é¡¹å·¥ä½œ[17,28,51]åˆ©ç”¨äº†å½¢çŠ¶å’Œå§¿åŠ¿ä¹‹é—´çš„ååŒä½œç”¨ã€‚GRNN[51]è®­ç»ƒäº†ä¸€ä¸ª<strong>ç›¸å¯¹å§¿æ€ä¼°è®¡å™¨</strong>ï¼Œå¹¶å°†å…¶ç”¨äºé‡å»ºè¿‡ç¨‹ä¸­çš„å§¿æ€é¢„æµ‹ã€‚VideoAE[17]<strong>é€šè¿‡è§£é™¤å½¢çŠ¶å’Œå§¿æ€çš„çº ç¼ ï¼Œåœ¨å®Œå…¨æ— ç›‘ç£å­¦ä¹ ä¸‹å­¦ä¹ ç›¸å¯¹ç›¸æœºå§¿æ€å’Œ3Dè¡¨ç¤º</strong>ã€‚<ul><li><strong>ç„¶è€Œï¼Œè¿™ä¸¤ä¸ªä½œå“ä»åŸå§‹çš„2Dè§†å›¾ä¸­é¢„æµ‹ç›¸å¯¹çš„ç›¸æœºå§¿åŠ¿ï¼Œè¿™ä½¿å¾—å®ƒä»¬å¾ˆéš¾å¤„ç†çœ‹ä¸è§çš„ç±»åˆ«ï¼Œæ— çº¹ç†çš„ç‰©ä½“ï¼Œä»¥åŠç”±äº2Dæ¨¡ç³Šæ€§è€Œå¯¼è‡´çš„å¤§çš„å§¿åŠ¿å˜åŒ–</strong>ã€‚</li><li><strong>æˆ‘ä»¬çš„æ–¹æ³•åœ¨ä¸–ç•Œåæ ‡ä¸­é¢„æµ‹ç›¸å¯¹ç›¸æœºå§¿æ€</strong>ã€‚æˆ‘ä»¬ä½¿ç”¨é¢„æµ‹çš„å§¿åŠ¿è¿›è¡Œäº¤å‰è§†å›¾èåˆï¼Œå°†å½¢çŠ¶å’Œå§¿åŠ¿é¢„æµ‹ä¸åº•å±‚3Då½¢çŠ¶çš„æ„ŸçŸ¥è”ç³»èµ·æ¥ã€‚</li></ul></li></ul></li></ul><h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>ç ”ç©¶äº†åœ¨ä¸åŒ…å«ç›¸æœºå§¿æ€å’Œç±»åˆ«ä¿¡æ¯çš„å°‘é‡RGBå›¾åƒä¸­é‡å»ºç›®æ ‡çš„é—®é¢˜ã€‚<br>å¦‚å›¾2æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„æ¨¡å‹FORGE<strong>ä»2Då›¾åƒå’Œä»ä¸­æå–çš„3Dç‰¹å¾ä¸­å­¦ä¹ ç›¸æœºå§¿æ€ä¼°è®¡</strong>ã€‚ä¸ºäº†å¤„ç†å°‘æ•°è§†å›¾ä¹‹é—´çš„å¤§å§¿æ€å˜åŒ–ï¼Œ<strong>æˆ‘ä»¬çš„å§¿æ€ä¼°è®¡å™¨è”åˆé¢„æµ‹æ‰€æœ‰è¾“å…¥å›¾åƒçš„ç›¸å¯¹ç›¸æœºå§¿æ€</strong>ï¼Œè€Œä¸æ˜¯å°†æˆå¯¹å§¿æ€ä¼°è®¡é“¾æ¥èµ·æ¥ã€‚ä¸ºäº†å¤„ç†æ¥è‡ªæ–°ç±»åˆ«çš„å¯¹è±¡ï¼Œæˆ‘ä»¬é¿å…å­¦ä¹ ç‰¹å®šç±»åˆ«çš„å…ˆéªŒã€‚<strong>FORGEåœ¨è‡ªå·±çš„ç›¸æœºç©ºé—´ä¸­æå–æ¯ä¸ªè§†å›¾çš„3Dç‰¹å¾ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå…·æœ‰ä¼°è®¡çš„ç›¸å¯¹ç›¸æœºå§¿åŠ¿çš„å…±äº«é‡å»ºç©ºé—´</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ‘†è„±äº†ç‰¹å®šäºèŒƒç•´çš„æ­£åˆ™ç©ºé—´è¿›è¡Œé‡æ„ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806144402.png" alt="image.png"></p><p>åœ¨å…±äº«é‡å»ºç©ºé—´ä¸­ï¼Œ<strong>æˆ‘ä»¬ä½¿ç”¨ç‰¹å¾èåˆæ¨¡å—å¯¹å•è§†å›¾ä¸‰ç»´ç‰¹å¾è¿›è¡Œä¿¡æ¯èšåˆ</strong>ã€‚ç„¶åï¼Œè§£ç å™¨å¤´æ ¹æ®èåˆçš„ç‰¹å¾é¢„æµ‹ç¥ç»ä½“ç§¯ã€‚æˆ‘ä»¬ä½¿ç”¨ä½“ç»˜åˆ¶æŠ€æœ¯æ¥äº§ç”Ÿé‡å»ºç»“æœã€‚<strong>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¸²æŸ“è¾“å…¥è§†å›¾çš„ç»“æœï¼Œå¹¶ä½¿ç”¨åŸºäº2dçš„æ¸²æŸ“æŸå¤±ä½œä¸ºç›‘ç£</strong>ã€‚FORGEå¯ä»¥åœ¨æ²¡æœ‰ç‰©ä½“å‡ ä½•å½¢çŠ¶çš„ä»»ä½•3Dç›‘ç£çš„æƒ…å†µä¸‹è¿›è¡Œè®­ç»ƒã€‚<strong>æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªæ–°çš„æŸå¤±å‡½æ•°æ¥å­¦ä¹ è·¨è§†å›¾ä¸€è‡´çš„3Dç‰¹å¾</strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„é˜ˆå€¼ä»ç¥ç»ä½“ä¸­è·å¾—å‡†ç¡®çš„ä½“ç´ é‡å»ºã€‚ä¸‹é¢æˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»FORGEå’Œè®­ç»ƒåè®®ã€‚</p><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>æ¨¡å‹çš„è¾“å…¥ä¸ºç”±ç›¸å…³ç›¸æœº$\mathcal{C}=\{C^i|i=1,â€¦,k\}$æ•æ‰çš„kä¸ªå›¾åƒè§‚æµ‹å€¼$\begin{aligned}\mathcal{I}=\{I^i|i=1,â€¦,k\}\end{aligned}$<br>æ¨¡å‹é¢„æµ‹:<br>i) æ‰€æœ‰è§†å›¾çš„3Dç‰¹å¾$\mathcal{Z}_{3D}=\{z_{3D}^{i}|i=1,â€¦,k\}$;<br>ii) ç›¸å¯¹ç›¸æœºä½å§¿$\Delta\Phi_i=\{\Delta\Phi_i^j|j=1,â€¦,k;j\neq i\},\Delta\Phi_1^j\in\mathbb{SE}(3),$å…¶ä¸­$\Delta\Phi_{i}^{j}$ä¸ºç›¸æœº$C^j$ç›¸å¯¹äºç›¸æœº$C^i$çš„ä½å§¿ï¼Œè®¾ç¬¬iå¸§ä¸ºè§„èŒƒå¸§ã€‚<br>ç„¶åå°†è¿™äº›ç‰¹å¾é€šè¿‡ç›¸æœºçš„ç›¸å¯¹å§¿æ€å˜æ¢åˆ°ç›¸æœº$C^i$çš„å¸§ä¸­ï¼Œå¹¶è¿›è¡Œèåˆæ¥é¢„æµ‹ç¥ç»è¾å°„åœºVã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸€å¸§ä½œä¸ºè§„èŒƒå¸§$C^i$</strong>ï¼Œå¦‚æœæ²¡æœ‰å¦è¡ŒæŒ‡å®šçš„è¯ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢è¯¦ç»†ä»‹ç»æ¯ä¸ªç»„ä»¶ã€‚</p><h2 id="Voxel-Encoder"><a href="#Voxel-Encoder" class="headerlink" title="Voxel Encoder"></a>Voxel Encoder</h2><p>å¯¹äºè§†å›¾$I^{i},$ç¼–ç å™¨$F_{3D}$å°†å…¶ç¼–ç ä¸º3Dä½“ç´ ç‰¹å¾$z_{3D}=F_{3D}(I)$ï¼Œå…¶ä¸­$z_{3D}^i\in\mathbb{R}^{c\times d\times h\times u}$ã€‚<br>æˆ‘ä»¬ä½¿ç”¨ResNet-50[10]æå–äºŒç»´ç‰¹å¾å›¾$z_{2D}^i=F_{2D}(I)$ï¼Œå…¶ä¸­$z_{2D}^i\in\mathbb{R}^{C\times h\times w}.$ ç„¶åæˆ‘ä»¬åœ¨$\mathbb{R}^{(C/d)\times d\times h\times w}$ä¸­å°†$z_{2D}^{i}$é‡æ„ä¸º3Dä½“ç´ ç‰¹å¾ä½œä¸ºå»æŠ•å½±æ“ä½œã€‚æˆ‘ä»¬æœ€åå¯¹å…¶æ‰§è¡Œä¸€ä¸ª3Då·ç§¯ä»¥è¿›è¡Œç»†åŒ–ï¼Œè¿™å°†3Dé€šé“å¤§å°æ›´æ”¹ä¸ºcã€‚</p><h2 id="Relative-Camera-Pose-Estimator"><a href="#Relative-Camera-Pose-Estimator" class="headerlink" title="Relative Camera Pose Estimator"></a>Relative Camera Pose Estimator</h2><p>åœ¨å§¿æ€å˜åŒ–è¾ƒå¤§çš„æƒ…å†µä¸‹ï¼Œä¼°è®¡ç›¸å¯¹ç›¸æœºå§¿æ€å¯èƒ½æ˜¯ä¸€ä¸ªä¸é€‚å®šé—®é¢˜â€”â€”ä¸¤ä¸ªè§†å›¾ä¹‹é—´å…±äº«çš„å¯è§ç‰©ä½“éƒ¨åˆ†å¯èƒ½å¾ˆå°ï¼Œè¿™ä½¿å¾—å¾ˆéš¾å»ºç«‹è·¨è§†å›¾å¯¹åº”å…³ç³»ã€‚æ­¤å¤–ï¼Œåœ¨2Då›¾åƒæˆ–ç‰¹å¾åœ°å›¾ä¸Šå»ºç«‹2Då¯¹åº”å…³ç³»[22,42]åœ¨3D-2DæŠ•å½±æ¨¡ç³Šçš„æƒ…å†µä¸‹æ˜¯è„†å¼±çš„ã€‚</p><p><strong>æˆ‘ä»¬å¼•å…¥äº†ä¸¤ç§äº’è¡¥çš„æ–°å‹å§¿æ€ç‰¹å¾æå–å™¨</strong>ã€‚<br>å¦‚å›¾3æ‰€ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨å…¨å±€å§¿æ€ç‰¹å¾æå–å™¨ï¼Œå°†æ‰€æœ‰2Dè§†å›¾ä½œä¸ºè¾“å…¥ï¼Œå¹¶å¯¹æ‰€æœ‰å¸§çš„å§¿æ€è¿›è¡Œè”åˆæ¨ç†ã€‚<br>æˆ‘ä»¬è¿˜æ„å»ºäº†ä¸€ä¸ªæˆå¯¹å§¿æ€ç‰¹å¾æå–å™¨ï¼Œè¯¥æå–å™¨åœ¨é¢„æµ‹çš„3Dç‰¹å¾ä¸Šè®¡ç®—æ˜¾å¼çš„3Då¯¹åº”å…³ç³»ã€‚<br>è¯¥è®¾è®¡åœ¨ä¸‰ä¸ªæ–¹é¢æœ‰åˆ©äºå§¿æ€ä¼°è®¡:<br>i)å…¨å±€å§¿æ€ç‰¹å¾æå–å™¨å…è®¸ä¿¡æ¯åœ¨æ‰€æœ‰å¸§ä¹‹é—´ä¼ é€’ã€‚å®ƒåˆ©ç”¨æ¥è‡ªå…¶ä»–è§†å›¾çš„ä¿¡æ¯(è¿™äº›è§†å›¾å¯èƒ½ä¸è§„èŒƒè§†å›¾å…±äº«æ›´å¤§çš„å¯è§éƒ¨åˆ†)æ¥æ¨æ–­æŸ¥è¯¢è§†å›¾çš„ç›¸å¯¹ä½ç½®ã€‚æ­¤å¤–ï¼Œåœ¨2Dä¸­å¯¹å§¿æ€è¿›è¡Œå…¨å±€æ¨ç†æ¯”åœ¨3Dç‰¹å¾ä¸­è¦ä¾¿å®œå¾—å¤š;<br>ii)åœ¨é¢„æµ‹çš„3Dç‰¹å¾ä¸Šæ‰¾åˆ°3Då¯¹åº”ï¼Œé¿å…äº†3D- 2Dæ¨¡ç³Šé—®é¢˜ï¼Œä½¿å§¿æ€ä¼°è®¡æ›´åŠ å‡†ç¡®;<br>iii)å§¿æ€ä¼°è®¡å™¨çš„å¤šæ¨¡æ€è¾“å…¥(2Dè§†å›¾å’Œ3Dç‰¹å¾)ä½¿å…¶æ›´å…·é²æ£’æ€§ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230811150059.png" alt="image.png"></p><h3 id="Global-Pose-Feature-Extractor"><a href="#Global-Pose-Feature-Extractor" class="headerlink" title="Global Pose Feature Extractor"></a>Global Pose Feature Extractor</h3><p>å…¨å±€å§¿æ€ç‰¹å¾æå–å™¨å¸æ”¶æ‰€æœ‰è§†å›¾å¹¶è”åˆé¢„æµ‹å§¿æ€ç‰¹å¾ï¼Œè®°ä¸º$p_g\in\mathbb{R}^{(k-1)\times1024},$ å¯¹åº”äºæ‰€æœ‰kâˆ’1ä¸ªæŸ¥è¯¢è§†å›¾$\mathcal{I}_{q}$ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨å¦ä¸€ä¸ª2Dä¸»å¹²æå–æ¯ä¸ªè§†å›¾çš„2Dç‰¹å¾å›¾ï¼Œè®°ä¸º$\mathbb{Z}_{2D}^{\prime}=\{z_{2D}^{\prime i}|i=1,â€¦,k\},z_{2D}^{\prime i}\in \mathbb{R}^{h^{\prime}\times w^{\prime}\times1024}$ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†è§„èŒƒè§†å›¾ç‰¹å¾é‡å¡‘ä¸ºä¸€ç»´å‘é‡$k_g\in\mathbb{R}^{N_{2D}\times1024}$ï¼Œå…¶ä¸­$N_{2D}=h^{\prime}\cdot w^{\prime}.$ã€‚æˆ‘ä»¬åŒæ ·é‡æ„äº†kâˆ’1ä¸ªæŸ¥è¯¢è§†å›¾ç‰¹å¾$q_g\in\mathbb{R}^{N_q\times\tilde{1024}}$ï¼Œå…¶ä¸­${N_{q}=(k-1)\cdot N_{2D}.}$ã€‚ç„¶åä½¿ç”¨å¤šä¸ªå…¨å±€å§¿æ€ç‰¹å¾æ¨ç†(GPR)æ¨¡å—æ¥æ¨æ–­å§¿æ€ç‰¹å¾ã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªGPRæ¨¡å—åŒ…æ‹¬ä¸¤ä¸ªæ ‡å‡†å¤šå¤´transformer[52]å—ã€‚</p><ul><li>åœ¨ç¬¬ä¸€ä¸ªè½¬æ¢å—ä¸­ï¼Œæˆ‘ä»¬æ‰§è¡Œäº¤å‰å…³æ³¨ï¼Œå…¶ä¸­æŸ¥è¯¢æ˜¯æŸ¥è¯¢è§†å›¾çš„ç‰¹å¾$\text{q}_g$ï¼Œé”®å’Œå€¼æ˜¯è§„èŒƒè§†å›¾çš„ç‰¹å¾$k_{g}$ã€‚å—è§£é‡Šæ¯ä¸ªæŸ¥è¯¢è§†å›¾å’Œè§„èŒƒè§†å›¾ä¹‹é—´çš„2Då¯¹åº”å…³ç³»ã€‚</li><li>ç„¶åå¯¹æ›´æ–°åçš„æŸ¥è¯¢è§†å›¾ç‰¹å¾æ‰§è¡Œè‡ªå…³æ³¨ã€‚å®ƒé€šè¿‡ç›¸äº’å¼•ç”¨ä¿¡æ¯æ¥å…±åŒæ”¹è¿›æ‰€æœ‰æŸ¥è¯¢è§†å›¾çš„å¯¹åº”çº¿ç´¢ã€‚<br>åœ¨GPRæ¨¡å—ä¹‹åï¼Œæˆ‘ä»¬å°†æ›´æ–°åçš„<strong>æŸ¥è¯¢è§†å›¾ç‰¹å¾</strong>é‡å¡‘ä¸º2Dï¼Œå¹¶ä½¿ç”¨2Då·ç§¯å°†2Dåˆ†è¾¨ç‡é™è‡³1ï¼Œä»¥è·å¾—å…¨å±€å§¿æ€ç‰¹å¾pgã€‚</li></ul><h3 id="Pairwise-Pose-Feature-Extractor"><a href="#Pairwise-Pose-Feature-Extractor" class="headerlink" title="Pairwise Pose Feature Extractor"></a>Pairwise Pose Feature Extractor</h3><p>æˆå¯¹å§¿æ€ç‰¹å¾æå–å™¨æ„å»ºkâˆ’1ä¸ªç‰¹å¾å¯¹ï¼Œå…¶ä¸­æ¯ä¸ªç‰¹å¾å¯¹ç”±æ¥è‡ªæŸ¥è¯¢è§†å›¾å’Œè§„èŒƒè§†å›¾çš„3Dç‰¹å¾ç»„æˆã€‚ç„¶ååˆ†åˆ«é¢„æµ‹å®ƒä»¬çš„å§¿åŠ¿ç‰¹å¾ã€‚ä»¥æŸ¥è¯¢è§†å›¾$I^{i}$å’Œè§„èŒƒè§†å›¾$I^{1}$ä¸ºä¾‹ã€‚è¾“å…¥ä¸ºä¸‰ç»´ä½“ç´ ç‰¹å¾$z_{3D}^{i},z_{3D}^{1}$ï¼Œè¾“å‡ºä¸ºç›¸å¯¹å§¿æ€ç‰¹å¾$p_{l}^{i}\in\mathbb{R}^{1\times1024}.$ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨$\mathbb{R}^{N_{3D}\times c}$ä¸­å°†ä¸‰ç»´ç‰¹å¾é‡å¡‘ä¸ºä¸€ä¸ªä¸€ç»´å‘é‡ï¼Œå…¶ä¸­$N_{3D}=d \cdot h \cdot w.$ã€‚ç„¶åæˆ‘ä»¬è®¡ç®—ç›¸ä¼¼å¼ é‡$S^i=z_{3D}^i\cdot(z_{3D}^1)^T,$ï¼Œå…¶ä¸­$(\cdot)^T$æ˜¯è½¬ç½®è¿ç®—ã€‚å¾—åˆ°å¯¹åº”å…³ç³»ä¸º$Corr_{1D}^i=S^{i}\cdot PE_{1D},$ï¼Œå…¶ä¸­$PE_{1D}$ä¸ºæ‰©å±•åçš„é«˜ç»´ä¸‰ç»´ä½ç½®åµŒå…¥[52]ã€‚ä½ç½®åµŒå…¥è¡¨ç¤ºæ¯ä¸ªä½“ç´ åœ¨é«˜ç»´ç©ºé—´ä¸­çš„ä½ç½®ã€‚$PE\in\mathbb{R}^{d\times h\times w\times c}$ ï¼Œ$Corr_{1D}^i\in\mathbb{R}^{N_{3D}\times c}.$ã€‚æˆ‘ä»¬å°†å…¶é‡å¡‘ä¸ºä¸€ä¸ªä¸‰ç»´ä½“$Corr^i\in\mathbb{R}^{d\times\hat{h}\times w\times c}$ã€‚<br>å¯¹äºvolumeçš„æ¯ä¸ªä½“ç´ ï¼Œå…¶ç‰¹å¾è¡¨ç¤ºå…¶ç›¸åº”ä½“ç´ ä½ç½®åœ¨é«˜ç»´ç©ºé—´è§„èŒƒè§†å›¾3Dç‰¹å¾ä¸­çš„ä½ç½®ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨3Då·ç§¯å°†å…¶ç¼©å°åˆ°åˆ†è¾¨ç‡1ï¼Œå¾—åˆ°ç›¸å¯¹å§¿æ€ç‰¹å¾$p_{l}^{i}$ of $\{I^{i},I^{1}\}.$ã€‚æˆ‘ä»¬å°†æ‰€æœ‰æŸ¥è¯¢è§†å›¾çš„ç‰¹å¾è¿æ¥èµ·æ¥ä½œä¸ºæœ€ç»ˆè¾“å‡º$p_l\in\mathbb{R}^{(k-1)\times1024}$ã€‚</p><h3 id="Pose-Prediction"><a href="#Pose-Prediction" class="headerlink" title="Pose Prediction"></a>Pose Prediction</h3><p>æˆ‘ä»¬å°†ä¸¤ä¸ªç‰¹å¾æå–å™¨é¢„æµ‹çš„å§¿æ€ç‰¹å¾è¿æ¥èµ·æ¥ï¼Œå¾—åˆ°æœ€ç»ˆçš„ç‰¹å¾pã€‚æˆ‘ä»¬ä½¿ç”¨MLPæ¥å›å½’ç›¸å¯¹ç›¸æœºå§¿æ€$\Delta\Phi_{i}=\{\Delta\Phi_{1}^{j}|j=2,â€¦,k\}$è¡¨ç¤ºkâˆ’1ä¸ªæŸ¥è¯¢è§†å›¾ã€‚ä¸ºäº†é˜²æ­¢æ¨¡å‹è¿‡åº¦æ‹Ÿåˆä»»ä½•ä¸€ä¸ªæå–çš„ç‰¹å¾ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒæœŸé—´åœ¨MLPä¹‹å‰ä½¿ç”¨æ¦‚ç‡ä¸º0.6çš„Dropoutå±‚ã€‚</p><h2 id="Feature-Fusion-Module"><a href="#Feature-Fusion-Module" class="headerlink" title="Feature Fusion Module"></a>Feature Fusion Module</h2><h3 id="Feature-Transformation"><a href="#Feature-Transformation" class="headerlink" title="Feature Transformation"></a>Feature Transformation</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆšä½“å˜æ¢$T_{i}^{j}=\Phi^{j}\cdot(\Phi^{i})^{-1}$å°†ç›¸æœº$C^i$å¸§ä¸­çš„ä¸€ä¸ªä¸‰ç»´ç‚¹å˜æ¢åˆ°ç›¸æœº$C^j$å¸§ä¸­ï¼Œå…¶ä¸­$(\cdot)^{-\ddot{1}}$ä¸ºé€†è¿ç®—ï¼ŒÎ¦ä¸ºç›¸æœºå§¿æ€ã€‚ç»™å®škâˆ’1ä¸ªæŸ¥è¯¢è§†å›¾æå–çš„3Dç‰¹å¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸æœºå§¿åŠ¿å°†å®ƒä»¬è½¬æ¢ä¸ºè§„èŒƒè§†å›¾çš„ç›¸æœºå¸§ã€‚å…·ä½“æ¥è¯´ï¼ŒæŸ¥è¯¢è§†å›¾çš„ç›¸æœºå§¿æ€ç”±$\Phi^{i}=\Phi^{1}\cdot\Delta\Phi_{1}^{i}$è®¡ç®—ï¼Œå…¶ä¸­$Î¦_1$ä¸ºå›ºå®šçš„è§„èŒƒå§¿æ€ã€‚å°†å˜æ¢åçš„ä¸‰ç»´ç‰¹å¾è®°ä¸º:$\dot{z}_{3D}=\{\dot{z}_{3D}^i|i=1,â€¦,k\}.$ã€‚</p><h3 id="View-Fusion"><a href="#View-Fusion" class="headerlink" title="View Fusion"></a>View Fusion</h3><p>å¯¹äºå˜æ¢åçš„3Dç‰¹å¾$\dot{\mathbb{Z}}_{3D}$ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹å®ƒä»¬è¿›è¡Œå¹³å‡æ± åŒ–ã€‚æ± åŒ–çš„3Dç‰¹å¾ä½œä¸ºåˆå§‹åŒ–ï¼Œä½¿ç”¨ConvGRUå°†perviewç‰¹å¾ä¾æ¬¡èåˆåˆ°æœ€ç»ˆçš„3Dç‰¹å¾$Z_{3D}$ä¸­[1]ã€‚å…·ä½“æ¥è¯´ï¼Œèåˆåºåˆ—ç”±ç›¸å¯¹ç›¸æœºå§¿åŠ¿å†³å®šï¼Œæˆ‘ä»¬é¦–å…ˆèåˆæ›´æ¥è¿‘è§„èŒƒè§†å›¾çš„è§†å›¾ç‰¹å¾ã€‚å½“é¢„æµ‹çš„ç›¸æœºå§¿æ€æœ‰å™ªå£°æ—¶ï¼Œå¹³å‡æ± åŒ–æ“ä½œä¿ç•™ä½é¢‘ä¿¡å·ï¼Œé¡ºåºèåˆæ¢å¤é«˜é¢‘ç»†èŠ‚ã€‚</p><h2 id="Neural-Volume-based-Rendering"><a href="#Neural-Volume-based-Rendering" class="headerlink" title="Neural Volume-based Rendering"></a>Neural Volume-based Rendering</h2><p>å—NeRF[26]çš„å¯å‘ï¼Œæˆ‘ä»¬ç”¨è¾å°„åœºé‡å»ºç‰©ä½“ã€‚è¿™äº›é¢†åŸŸï¼Œè¡¨ç¤ºä¸ºç¥ç»ä½“ç§¯ï¼Œä»¥å®Œå…¨å‰é¦ˆçš„æ–¹å¼é¢„æµ‹ã€‚</p><h3 id="Definition-and-Prediction"><a href="#Definition-and-Prediction" class="headerlink" title="Definition and Prediction"></a>Definition and Prediction</h3><p>æˆ‘ä»¬å°†ç¥ç»ä½“ç§¯è¡¨ç¤ºä¸º$V:=(V_{\sigma},V_{f})$ï¼Œå…¶ä¸­$V_{\sigma}$ä¸ºå¯†åº¦å€¼ï¼Œ$V_{f}$ä¸ºç¥ç»ç‰¹å¾ã€‚å®ƒä»¬æœ‰åŠ©äºé‡å»ºç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’Œå¤–è§‚ã€‚ç»™å®šèåˆåçš„ä¸‰ç»´ç‰¹å¾volume $Z_{3D}$ï¼Œæˆ‘ä»¬ä½¿ç”¨ç”±å¤šä¸ªä¸‰ç»´å·ç§¯å±‚ç»„æˆçš„ä¸¤ä¸ªé¢„æµ‹å¤´åˆ†åˆ«é¢„æµ‹$V_{\sigma}$å’Œ$V_{f}$ã€‚</p><h3 id="Volume-Rendering"><a href="#Volume-Rendering" class="headerlink" title="Volume Rendering"></a>Volume Rendering</h3><p>æˆ‘ä»¬ä½¿ç”¨ä½“ç»˜åˆ¶åœ¨2Dä¸Šè¯»å‡ºé¢„æµ‹çš„ç¥ç»ä½“ç§¯ä¸º$(\hat{I},\hat{I}_\sigma)=\pi(V,\Phi),$ï¼Œå…¶ä¸­Î¦ä¸ºç›¸æœºå§¿æ€ï¼Œ$\hat{I}\mathrm{and}\hat{I}_{\sigma}$ä¸ºæ¸²æŸ“çš„å›¾åƒå’Œæ©ç ã€‚æˆ‘ä»¬éµå¾ªNeRFä¸­çš„ä½“æ¸²æŸ“æŠ€æœ¯[26]ã€‚ä¸åŒçš„æ˜¯ï¼Œå¯¹äºæ¯ä¸ª3DæŸ¥è¯¢ç‚¹pï¼Œæˆ‘ä»¬é€šè¿‡æ’å€¼ç›¸é‚»ä½“ç´ ç½‘æ ¼æ¥è·å¾—å…¶3Dç‰¹å¾ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é¦–å…ˆæ¸²æŸ“ä¸€ä¸ªç‰¹å¾æ˜ å°„ï¼Œç„¶åä½¿ç”¨å‡ ä¸ª2Då·ç§¯æ¥é¢„æµ‹æœ€ç»ˆçš„RGBå›¾åƒ[29]ã€‚</p><h2 id="Training-Protocol"><a href="#Training-Protocol" class="headerlink" title="Training Protocol"></a>Training Protocol</h2><p>æˆ‘ä»¬åˆ†ä¸‰ä¸ªé˜¶æ®µè®­ç»ƒFORGEã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ground-truth poseä¸‹ä½¿ç”¨$L_{3D}=L_{mv}+L_{corr}$è®­ç»ƒä½“ç´ ç¼–ç å™¨(ç¬¬4.1èŠ‚)ã€èåˆæ¨¡å—(ç¬¬4.3èŠ‚)å’Œä½“æ¸²æŸ“å™¨(ç¬¬4.4èŠ‚)<ul><li>å…·ä½“æ¥è¯´ï¼Œ$L_{mv}$æ˜¯åº”ç”¨åœ¨æ‰€æœ‰è¾“å…¥è§†å›¾ä¸Šçš„äºŒç»´å…‰åº¦æŸå¤±ã€‚</li></ul></li></ul><script type="math/tex; mode=display">\begin{aligned}&L_{2D} =||I_\sigma^i-\hat{I}_\sigma^i||+\lambda_{img}||I^i-\hat{I}^i||,  \\&L_{mv} =\frac1k\Sigma_{i=1}^k(L_{2D}(I_{\sigma}^i,\hat{I}_{\sigma}^i,I^i,\hat{I}^i)+\lambda_pL_p(I^i,\hat{I}^i)), \end{aligned}</script><p>äº¤å‰è§†å›¾ä¸€è‡´æ€§æŸå¤±$L_{corr}$çš„è®¾è®¡æ˜¯ä¸ºäº†ä¿ƒä½¿ä»ä¸åŒè§†å›¾æå–çš„åŒä¸€å¯¹è±¡éƒ¨åˆ†å¯¹åº”çš„ç‰¹å¾åœ¨ç‰¹å¾ç©ºé—´ä¸­æ¥è¿‘ï¼Œä»è€Œä½¿é‡å»ºç»“æœæ›´åŠ è¿è´¯ã€‚å®Œå–„çš„ç‰¹å¾ç©ºé—´ä¹Ÿå—ç›ŠäºåŸºäºå¯¹åº”çš„å§¿æ€ä¼°è®¡ï¼Œå› ä¸ºä½¿ç”¨æˆ‘ä»¬çš„åŸºäºç›¸ä¼¼æ€§çš„æ–¹æ³•åœ¨ç‰¹å¾ç©ºé—´ä¸­æŸ¥æ‰¾è·¨è§†å›¾å¯¹åº”å˜å¾—æ›´åŠ å®¹æ˜“ã€‚æˆ‘ä»¬è®¡ç®—æ¸²æŸ“ç»“æœçš„æŸå¤±ã€‚<br>æˆ‘ä»¬å°†è¾“å…¥è§†å›¾åˆ†æˆä¸¤ç»„:æˆ‘ä»¬ä½¿ç”¨ä¸€ç»„(nä¸ªè§†å›¾)æ¥æ„å»ºç¥ç»ä½“ç§¯ï¼Œå¹¶ä½¿ç”¨<strong>å¦ä¸€ç»„(kâˆ’nä¸ªè§†å›¾)çš„ç›¸æœºæ¥æ¸²æŸ“ç»“æœ</strong>ï¼Œåä¹‹äº¦ç„¶ã€‚ç¬¬äºŒç»„è§†å›¾çš„é‡æ„åº”è¯¥æ˜¯åˆç†çš„ã€‚</p><p>$L_{corr}=\frac{1}{k-n}\Sigma_{i=n+1}^{k}L_{2D}(I_{\sigma}^{i},\ddot{I}_{\sigma}^{i},I^{i},\ddot{I}^{i}),$å…¶ä¸­ï¼Œ$\ddot{I}\mathrm{~and~}\ddot{I}_\sigma$æ˜¯ä½¿ç”¨è§†å›¾å­é›†ä½œä¸ºè¾“å…¥å‘ˆç°çš„ç»“æœã€‚</p><ul><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬ç”¨æŸå¤±$L_{pose}=||\Phi-\hat{\Phi}||^{2}$è®­ç»ƒç›¸å¯¹ç›¸æœºå§¿æ€ä¼°è®¡å™¨ï¼Œå…¶ä¸­$\Phi,\hat$æ˜¯çœŸå®çš„å’Œé¢„æµ‹çš„ç›¸å¯¹ç›¸æœºå§¿æ€ã€‚ä¸¤ä¸ªå§¿æ€ç‰¹å¾æå–å™¨åˆ†åˆ«è¿›è¡Œè®­ç»ƒï¼Œç„¶åä¸€èµ·è¿›è¡Œå¾®è°ƒã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸Šè¿°æ‰€æœ‰æŸå¤±å¯¹æ¨¡å‹è¿›è¡Œç«¯åˆ°ç«¯çš„å¾®è°ƒã€‚æˆ‘ä»¬ä»ç»éªŒä¸Šè§‚å¯Ÿåˆ°ï¼Œå•é˜¶æ®µè®­ç»ƒå¯¼è‡´å´©æºƒã€‚æˆ‘ä»¬æ¨æµ‹å§¿æ€ä¼°è®¡å™¨ä¾èµ–äºæ¥è‡ªåˆå§‹åŒ–è‰¯å¥½çš„ä½“ç´ ç¼–ç å™¨çš„è¡¨ç¤ºã€‚</li></ul><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>new dataset: <strong>Kubric Synthetic Dataset.</strong></p><p>å®ç°ç»†èŠ‚ã€‚è¾“å…¥åˆ†è¾¨ç‡ä¸º256 Ã— 256ã€‚æˆ‘ä»¬ä½¿ç”¨k = 5å¼ å›¾åƒï¼Œåˆ†ä¸º2å’Œ3ä¸ªè§†å›¾ï¼Œæ¥è®¡ç®—è·¨è§†å›¾ä¸€è‡´æ€§æŸå¤±ã€‚æˆ‘ä»¬è®¾$Î»_{img} = 5$ï¼Œ $Î»_{p} = 0.02$ï¼Œ $Î»_{pose} = 1$ã€‚ç¥ç»ä½“ç§¯åŒ…å«$64^3$ä¸ªä½“ç´ ã€‚æˆ‘ä»¬åœ¨æ¯æ¡å…‰çº¿ä¸Šé‡‡æ ·64ä¸ªç‚¹è¿›è¡Œæ¸²æŸ“ã€‚æœ‰å…³æ›´å¤šåŸ¹è®­è¯¦æƒ…ï¼Œè¯·å‚é˜…é™„å½•ã€‚</p><p>æˆ‘ä»¬é‡‡ç”¨æ ‡å‡†çš„æ–°è§†ç‚¹åˆæˆæŒ‡æ ‡PSNR(ä»¥dBä¸ºå•ä½)å’ŒSSIM[56]æ¥è¯„ä¼°é‡å»ºç»“æœã€‚æˆ‘ä»¬è¿˜è¯„ä¼°äº†ç›¸å¯¹ç›¸æœºå§¿æ€è¯¯å·®ã€‚</p><h2 id="campare"><a href="#campare" class="headerlink" title="campare"></a>campare</h2><p>åœ¨é‡å»ºæ–¹é¢ï¼Œæˆ‘ä»¬ä¸PixelNeRF[63]å’ŒSRT[40]åœ¨åœ°çœŸä½æ‘†ä¸‹è¿›è¡Œæ¯”è¾ƒï¼ŒéªŒè¯FORGEå­¦ä¹ ä¸‰ç»´å‡ ä½•å…ˆéªŒçš„èƒ½åŠ›ã€‚</p><p>å¯¹äºç›¸å¯¹å§¿æ€ä¼°è®¡ï¼Œæˆ‘ä»¬æ¯”è¾ƒäº†<br>i)åŸºäº2dçš„VideoAE[17]ï¼Œ 8ç‚¹TF[39]ï¼Œå®ƒä»¬åˆ†åˆ«é¢„æµ‹æ¯ä¸ªæŸ¥è¯¢è§†å›¾çš„å§¿æ€;<br>ii)åŸºäº2dçš„RelPose[64]ï¼Œå…±åŒä¼°è®¡æ‰€æœ‰ç›¸å¯¹å§¿åŠ¿ï¼Œ<br>iii)åŸºäº3dçš„Gen6Dï¼Œåˆ†åˆ«é¢„æµ‹æ¯ä¸ªæŸ¥è¯¢è§†å›¾çš„å§¿æ€ã€‚æ‰€æœ‰çš„å§¿æ€ä¼°è®¡åŸºçº¿éƒ½æ˜¯ç”¨çœŸå®å§¿æ€è®­ç»ƒçš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Sparse </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> Sparse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRO-code</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeRO-code/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeRO-code/</url>
      
        <content type="html"><![CDATA[<p>NeROä»£ç <a href="https://github.com/liuyuan-pal/NeRO">liuyuan-pal/NeRO: [SIGGRAPH2023] NeRO: Neural Geometry and BRDF Reconstruction of Reflective Objects from Multiview Images (github.com)</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728142918.png" alt="image.png"></p><span id="more"></span><h1 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h1><h2 id="DummyDataset-Dataset"><a href="#DummyDataset-Dataset" class="headerlink" title="DummyDataset(Dataset)"></a>DummyDataset(Dataset)</h2><p><code>name2dataset[self.cfg[&#39;train_dataset_type&#39;]](self.cfg[&#39;train_dataset_cfg&#39;], True)</code><br>ç›¸å½“äºï¼š<code>DummyDataset(self.cfg[&#39;train_dataset_cfg&#39;], True)</code></p><ul><li>is_train: <ul><li><code>__getitem__ : return &#123;&#125;</code></li><li><code>__len__ : return 99999999</code> </li></ul></li><li>else:<ul><li><code>__getitem__ : return &#123;&#39;index&#39;: index&#125;</code></li><li><code>__len__ : return self.test_num</code> </li></ul></li></ul><p>not is_train:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> is_train:</span><br><span class="line">    <span class="comment"># return ä¸€ä¸ªå®ä¾‹ egï¼šGlossyRealDatabase(self.cfg[&#x27;database_name&#x27;])</span></span><br><span class="line">    database = parse_database_name(self.cfg[<span class="string">&#x27;database_name&#x27;</span>])</span><br><span class="line">    <span class="comment"># ä½¿ç”¨databaseä¸­çš„get_img_idsæ–¹æ³•ï¼Œè·å–train_idså’Œtest_ids</span></span><br><span class="line">    train_ids, test_ids = get_database_split(database, <span class="string">&#x27;validation&#x27;</span>)</span><br><span class="line">    self.train_num = <span class="built_in">len</span>(train_ids)</span><br><span class="line">    self.test_num = <span class="built_in">len</span>(test_ids)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;val&#x27;</span> , is_train)</span><br></pre></td></tr></table></figure></p><p><strong>database.py</strong>:</p><ul><li>parse_database_name</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">parse_database_name</span>(<span class="params">database_name:<span class="built_in">str</span></span>)-&gt;BaseDatabase:</span><br><span class="line">    name2database=&#123;</span><br><span class="line">        <span class="string">&#x27;syn&#x27;</span>: GlossySyntheticDatabase,</span><br><span class="line">        <span class="string">&#x27;real&#x27;</span>: GlossyRealDatabase,</span><br><span class="line">        <span class="string">&#x27;custom&#x27;</span>: CustomDatabase,</span><br><span class="line">    &#125;</span><br><span class="line">    database_type = database_name.split(<span class="string">&#x27;/&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> database_type <span class="keyword">in</span> name2database:</span><br><span class="line">        <span class="keyword">return</span> name2database[database_type](database_name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br></pre></td></tr></table></figure><ul><li>get_database_split<ul><li>æ‰“ä¹±self.img_idsï¼Œå¹¶splitä¸ºtestå’Œtrain</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_database_split</span>(<span class="params">database: BaseDatabase, split_type=<span class="string">&#x27;validation&#x27;</span></span>):</span><br><span class="line">    <span class="keyword">if</span> split_type==<span class="string">&#x27;validation&#x27;</span>:</span><br><span class="line">        random.seed(<span class="number">6033</span>)</span><br><span class="line">        img_ids = database.get_img_ids()</span><br><span class="line">        random.shuffle(img_ids)</span><br><span class="line">        test_ids = img_ids[:<span class="number">1</span>]</span><br><span class="line">        train_ids = img_ids[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">elif</span> split_type==<span class="string">&#x27;test&#x27;</span>:</span><br><span class="line">        test_ids, train_ids = read_pickle(<span class="string">&#x27;configs/synthetic_split_128.pkl&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line">    <span class="keyword">return</span> train_ids, test_ids</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">f = open(&#x27;E:\\BaiduSyncdisk\\NeRF_Proj\\NeRO\\configs\\synthetic_split_128.pkl&#x27;,&#x27;rb&#x27;)</span></span><br><span class="line"><span class="string">[array([&#x27;0&#x27;, &#x27;4&#x27;, &#x27;19&#x27;, &#x27;2&#x27;, &#x27;127&#x27;, &#x27;71&#x27;, &#x27;73&#x27;, &#x27;56&#x27;, &#x27;75&#x27;, &#x27;95&#x27;, &#x27;93&#x27;,</span></span><br><span class="line"><span class="string">       &#x27;110&#x27;, &#x27;91&#x27;, &#x27;7&#x27;, &#x27;5&#x27;, &#x27;3&#x27;, &#x27;68&#x27;, &#x27;30&#x27;, &#x27;66&#x27;, &#x27;113&#x27;, &#x27;111&#x27;, &#x27;33&#x27;,</span></span><br><span class="line"><span class="string">       &#x27;120&#x27;, &#x27;31&#x27;, &#x27;29&#x27;, &#x27;14&#x27;, &#x27;49&#x27;, &#x27;11&#x27;, &#x27;109&#x27;, &#x27;61&#x27;, &#x27;59&#x27;, &#x27;57&#x27;],</span></span><br><span class="line"><span class="string">      dtype=&#x27;&lt;U3&#x27;), </span></span><br><span class="line"><span class="string">[&#x27;1&#x27;, &#x27;6&#x27;, &#x27;8&#x27;, &#x27;9&#x27;, &#x27;10&#x27;, &#x27;12&#x27;, &#x27;13&#x27;, &#x27;15&#x27;, &#x27;16&#x27;, &#x27;17&#x27;, &#x27;18&#x27;, &#x27;20&#x27;, &#x27;21&#x27;, &#x27;22&#x27;, &#x27;23&#x27;, &#x27;24&#x27;,</span></span><br><span class="line"><span class="string">&#x27;25&#x27;, &#x27;26&#x27;, &#x27;27&#x27;, &#x27;28&#x27;, &#x27;32&#x27;, &#x27;34&#x27;, &#x27;35&#x27;, &#x27;36&#x27;, &#x27;37&#x27;, &#x27;38&#x27;, &#x27;39&#x27;, &#x27;40&#x27;, &#x27;41&#x27;, &#x27;42&#x27;, &#x27;43&#x27;,</span></span><br><span class="line"><span class="string">&#x27;44&#x27;, &#x27;45&#x27;, &#x27;46&#x27;, &#x27;47&#x27;, &#x27;48&#x27;, &#x27;50&#x27;, &#x27;51&#x27;, &#x27;52&#x27;, &#x27;53&#x27;, &#x27;54&#x27;, &#x27;55&#x27;, &#x27;58&#x27;, &#x27;60&#x27;, &#x27;62&#x27;, &#x27;63&#x27;,</span></span><br><span class="line"><span class="string">&#x27;64&#x27;, &#x27;65&#x27;, &#x27;67&#x27;, &#x27;69&#x27;, &#x27;70&#x27;, &#x27;72&#x27;, &#x27;74&#x27;, &#x27;76&#x27;, &#x27;77&#x27;, &#x27;78&#x27;, &#x27;79&#x27;, &#x27;80&#x27;, &#x27;81&#x27;, &#x27;82&#x27;, &#x27;83&#x27;,</span></span><br><span class="line"><span class="string">&#x27;84&#x27;, &#x27;85&#x27;, &#x27;86&#x27;, &#x27;87&#x27;, &#x27;88&#x27;, &#x27;89&#x27;, &#x27;90&#x27;, &#x27;92&#x27;, &#x27;94&#x27;, &#x27;96&#x27;, &#x27;97&#x27;, &#x27;98&#x27;, &#x27;99&#x27;, &#x27;100&#x27;, &#x27;101&#x27;,</span></span><br><span class="line"><span class="string">&#x27;102&#x27;, &#x27;103&#x27;, &#x27;104&#x27;, &#x27;105&#x27;, &#x27;106&#x27;, &#x27;107&#x27;, &#x27;108&#x27;, &#x27;112&#x27;, &#x27;114&#x27;, &#x27;115&#x27;, &#x27;116&#x27;, &#x27;117&#x27;,</span></span><br><span class="line"><span class="string">&#x27;118&#x27;, &#x27;119&#x27;, &#x27;121&#x27;, &#x27;122&#x27;, &#x27;123&#x27;, &#x27;124&#x27;, &#x27;125&#x27;, &#x27;126&#x27;]]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><h2 id="GlossyRealDatabase"><a href="#GlossyRealDatabase" class="headerlink" title="GlossyRealDatabase"></a>GlossyRealDatabase</h2><h3 id="init"><a href="#init" class="headerlink" title="init"></a>init</h3><ul><li>meta_info</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">meta_info=&#123;</span><br><span class="line">    <span class="string">&#x27;bear&#x27;</span>: &#123;<span class="string">&#x27;forward&#x27;</span>: np.asarray([<span class="number">0.539944</span>,-<span class="number">0.342791</span>,<span class="number">0.341446</span>],np.float32), <span class="string">&#x27;up&#x27;</span>: np.asarray((<span class="number">0.0512875</span>,-<span class="number">0.645326</span>,-<span class="number">0.762183</span>),np.float32),&#125;,</span><br><span class="line">    <span class="string">&#x27;coral&#x27;</span>: &#123;<span class="string">&#x27;forward&#x27;</span>: np.asarray([<span class="number">0.004226</span>,-<span class="number">0.235523</span>,<span class="number">0.267582</span>],np.float32), <span class="string">&#x27;up&#x27;</span>: np.asarray((<span class="number">0.0477973</span>,-<span class="number">0.748313</span>,-<span class="number">0.661622</span>),np.float32),&#125;,</span><br><span class="line">    <span class="string">&#x27;maneki&#x27;</span>: &#123;<span class="string">&#x27;forward&#x27;</span>: np.asarray([-<span class="number">2.336584</span>, -<span class="number">0.406351</span>, <span class="number">0.482029</span>], np.float32), <span class="string">&#x27;up&#x27;</span>: np.asarray((-<span class="number">0.0117387</span>, -<span class="number">0.738751</span>, -<span class="number">0.673876</span>), np.float32), &#125;,</span><br><span class="line">    <span class="string">&#x27;bunny&#x27;</span>: &#123;<span class="string">&#x27;forward&#x27;</span>: np.asarray([<span class="number">0.437076</span>,-<span class="number">1.672467</span>,<span class="number">1.436961</span>],np.float32), <span class="string">&#x27;up&#x27;</span>: np.asarray((-<span class="number">0.0693234</span>,-<span class="number">0.644819</span>,-<span class="number">.761185</span>),np.float32),&#125;,</span><br><span class="line">    <span class="string">&#x27;vase&#x27;</span>: &#123;<span class="string">&#x27;forward&#x27;</span>: np.asarray([-<span class="number">0.911907</span>, -<span class="number">0.132777</span>, <span class="number">0.180063</span>], np.float32), <span class="string">&#x27;up&#x27;</span>: np.asarray((-<span class="number">0.01911</span>, -<span class="number">0.738918</span>, -<span class="number">0.673524</span>), np.float32), &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»CloudCampareä¸­è·å–çš„æ•°æ®ï¼Œå…¶ä¸­forwardæ˜¯æ‰‹åŠ¨è®¾ç½®çš„å‰å‘ï¼Œupæ˜¯æ ¹æ®æ‰‹åŠ¨æˆªå–çš„ä¸€å°å—å¹³é¢çš„æ³•å‘<br><a href="https://github.com/liuyuan-pal/NeRO/blob/main/custom_object.md">NeRO/custom_object.md at main Â· liuyuan-pal/NeRO (github.com)</a></p><div style="display:flex; justify-content:space-between;"> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230803160338.png" alt="Image 1" style="width:50%;"><div style="width:10px;"></div> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230803160313.png" alt="Image 2" style="width:50%;"> </div><ul><li><code>_parse_colmap</code> ä»cache.pklä¸­è¯»å–æ•°æ®ï¼Œå¦‚æœcache.pklä¸å­˜åœ¨ï¼Œåˆ™ä»<code>/colmap/sparse/0</code>ä¸­è¯»å–å¹¶å°†æ•°æ®å†™å…¥åˆ°cache.pklä¸­<ul><li>self.poses (3,4), self.Ks (3,3), self.image_names(dict is img_ids : img_name), self.img_ids(list len is num_images)</li></ul></li><li><code>_normalize</code> è¯»å–object_point_cloud.plyï¼Œè·å¾—æˆªå–å‡ºæ¥çš„ç‰©ä½“ç‚¹äº‘åæ ‡ï¼Œå°†è¯¥ç‚¹äº‘åæ ‡æ ‡å‡†åŒ–åˆ°å•ä½boundä¸­ï¼Œå¹¶å°†ä¸–ç•ŒåŸºåæ ‡ç³»è½¬æ¢åˆ°æ‰‹åŠ¨è®¾ç½®çš„åæ ‡ç³»å³upã€forward<ul><li>å³<code>_normalize</code>å°†ç‚¹äº‘åæ ‡ä»åŸæ¥çš„ä¸–ç•Œåæ ‡ç³»wè½¬æ¢åˆ°æ–°çš„åæ ‡ç³»wâ€™ä¸‹</li><li>å°†poseçš„w2cæ•°æ®è½¬æ¢ä¸ºwâ€™2cï¼Œå…¶ä¸­wâ€™åŸç‚¹åœ¨object_point_cloud.plyä¸­å¿ƒï¼Œxyzè½´æ˜¯è‡ªå®šä¹‰çš„è½´ï¼Œå¦‚ä¸Šå›¾ï¼Œä½†æ˜¯scaleä¸å˜</li></ul></li><li><code>database_name: real/bear/raw_1024</code>ä¸­æœ€åä¸€ä¸ªraw_1024<ul><li>å¦‚æœä»¥rawå¼€å¤´ï¼š<ul><li>å°†imagesä¸­å›¾ç‰‡ç¼©æ”¾å¹¶ä¿å­˜åˆ°images_raw_1024ä¸­</li><li>å¹¶æ›´æ¢self.Ksä¸­æ•°æ®ï¼ˆç”±äºç¼©æ”¾äº†Wã€Hï¼‰</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"># f = open(&#x27;E:\\BaiduSyncdisk\\NeRF_Proj\\NeRO\\data\\GlossyReal\\bear\\cache.pkl&#x27;,&#x27;rb&#x27;)</span></span><br><span class="line"><span class="string">data:</span></span><br><span class="line"><span class="string">[&#123;1: array([[-0.21238244, -0.73007965,  0.6495209 , -0.28842232],</span></span><br><span class="line"><span class="string">       [ 0.4490811 ,  0.5174136 ,  0.7284294 , -2.9991536 ],</span></span><br><span class="line"><span class="string">       [-0.86788243,  0.44639313,  0.21797541,  3.0713193 ]],</span></span><br><span class="line"><span class="string">      dtype=float32), 2: array([[ 0.13014111, -0.75269127,  0.64538294, -0.3143167 ],</span></span><br><span class="line"><span class="string">       [ 0.47691151,  0.6181942 ,  0.624813  , -2.9732292 ],</span></span><br><span class="line"><span class="string">       [-0.8692633 ,  0.22647668,  0.43941963,  2.7372477 ]],</span></span><br><span class="line"><span class="string">        dtype=float32), </span></span><br><span class="line"><span class="string">       ...&#125;</span></span><br><span class="line"><span class="string">&#123;...96: array([[6.013423e+03, 0.000000e+00, 1.368000e+03],</span></span><br><span class="line"><span class="string">       [0.000000e+00, 6.013423e+03, 1.824000e+03],</span></span><br><span class="line"><span class="string">       [0.000000e+00, 0.000000e+00, 1.000000e+00]], dtype=float32), 97: array([[6.013423e+03, 0.000000e+00, 1.368000e+03],</span></span><br><span class="line"><span class="string">       [0.000000e+00, 6.013423e+03, 1.824000e+03],</span></span><br><span class="line"><span class="string">       [0.000000e+00, 0.000000e+00, 1.000000e+00]], dtype=float32)&#125;</span></span><br><span class="line"><span class="string">&#123;1: &#x27;1436.jpg&#x27;, 2: &#x27;1437.jpg&#x27;, 3: &#x27;1438.jpg&#x27;, 4: &#x27;1439.jpg&#x27;, 5: &#x27;1440.jpg&#x27;, 6: &#x27;1441.jpg&#x27;, 7: &#x27;1442.jpg&#x27;, </span></span><br><span class="line"><span class="string">8: &#x27;1443.jpg&#x27;, 9: &#x27;1444.jpg&#x27;, 10: &#x27;1445.jpg&#x27;, 11: &#x27;1446.jpg&#x27;, 12: &#x27;1447.jpg&#x27;, 13: &#x27;1448.jpg&#x27;, 14: &#x27;1449.jpg&#x27;, </span></span><br><span class="line"><span class="string">15: &#x27;1450.jpg&#x27;, 16: &#x27;1451.jpg&#x27;, 17: &#x27;1452.jpg&#x27;, 18: &#x27;1453.jpg&#x27;, 19: &#x27;1454.jpg&#x27;, 20: &#x27;1455.jpg&#x27;, 21: &#x27;1456.jpg&#x27;, </span></span><br><span class="line"><span class="string">22: &#x27;1457.jpg&#x27;, 23: &#x27;1458.jpg&#x27;, 24: &#x27;1459.jpg&#x27;, 25: &#x27;1460.jpg&#x27;, 26: &#x27;1461.jpg&#x27;, 27: &#x27;1462.jpg&#x27;, 28: &#x27;1463.jpg&#x27;, </span></span><br><span class="line"><span class="string">29: &#x27;1464.jpg&#x27;, 30: &#x27;1465.jpg&#x27;, 31: &#x27;1466.jpg&#x27;, 32: &#x27;1467.jpg&#x27;, 33: &#x27;1468.jpg&#x27;, 34: &#x27;1469.jpg&#x27;, 35: &#x27;1470.jpg&#x27;, </span></span><br><span class="line"><span class="string">36: &#x27;1471.jpg&#x27;, 37: &#x27;1472.jpg&#x27;, 38: &#x27;1473.jpg&#x27;, 39: &#x27;1474.jpg&#x27;, 40: &#x27;1475.jpg&#x27;, 41: &#x27;1476.jpg&#x27;, 42: &#x27;1477.jpg&#x27;, </span></span><br><span class="line"><span class="string">43: &#x27;1478.jpg&#x27;, 44: &#x27;1479.jpg&#x27;, 45: &#x27;1480.jpg&#x27;, 46: &#x27;1481.jpg&#x27;, 47: &#x27;1482.jpg&#x27;, 48: &#x27;1483.jpg&#x27;, 49: &#x27;1484.jpg&#x27;, </span></span><br><span class="line"><span class="string">50: &#x27;1485.jpg&#x27;, 51: &#x27;1486.jpg&#x27;, 52: &#x27;1487.jpg&#x27;, 53: &#x27;1488.jpg&#x27;, 54: &#x27;1489.jpg&#x27;, 55: &#x27;1490.jpg&#x27;, 56: &#x27;1491.jpg&#x27;, </span></span><br><span class="line"><span class="string">57: &#x27;1492.jpg&#x27;, 58: &#x27;1493.jpg&#x27;, 59: &#x27;1494.jpg&#x27;, 60: &#x27;1495.jpg&#x27;, 61: &#x27;1496.jpg&#x27;, 62: &#x27;1497.jpg&#x27;, 63: &#x27;1498.jpg&#x27;, </span></span><br><span class="line"><span class="string">64: &#x27;1499.jpg&#x27;, 65: &#x27;1500.jpg&#x27;, 66: &#x27;1501.jpg&#x27;, 67: &#x27;1502.jpg&#x27;, 68: &#x27;1503.jpg&#x27;, 69: &#x27;1504.jpg&#x27;, 70: &#x27;1505.jpg&#x27;, </span></span><br><span class="line"><span class="string">71: &#x27;1506.jpg&#x27;, 72: &#x27;1507.jpg&#x27;, 73: &#x27;1508.jpg&#x27;, 74: &#x27;1509.jpg&#x27;, 75: &#x27;1510.jpg&#x27;, 76: &#x27;1511.jpg&#x27;, 77: &#x27;1512.jpg&#x27;, </span></span><br><span class="line"><span class="string">78: &#x27;1513.jpg&#x27;, 79: &#x27;1514.jpg&#x27;, 80: &#x27;1515.jpg&#x27;, 81: &#x27;1516.jpg&#x27;, 82: &#x27;1517.jpg&#x27;, 83: &#x27;1518.jpg&#x27;, 84: &#x27;1519.jpg&#x27;, </span></span><br><span class="line"><span class="string">85: &#x27;1520.jpg&#x27;, 86: &#x27;1521.jpg&#x27;, 87: &#x27;1522.jpg&#x27;, 88: &#x27;1523.jpg&#x27;, 89: &#x27;1524.jpg&#x27;, 90: &#x27;1525.jpg&#x27;, 91: &#x27;1526.jpg&#x27;, </span></span><br><span class="line"><span class="string">92: &#x27;1527.jpg&#x27;, 93: &#x27;1528.jpg&#x27;, 94: &#x27;1529.jpg&#x27;, 95: &#x27;1530.jpg&#x27;, 96: &#x27;1531.jpg&#x27;, 97: &#x27;1532.jpg&#x27;&#125;, </span></span><br><span class="line"><span class="string">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, </span></span><br><span class="line"><span class="string">30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, </span></span><br><span class="line"><span class="string">57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, </span></span><br><span class="line"><span class="string">84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97]]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><h1 id="Network-amp-Render"><a href="#Network-amp-Render" class="headerlink" title="Network&amp;Render"></a>Network&amp;Render</h1><h2 id="NeROShapeRenderer"><a href="#NeROShapeRenderer" class="headerlink" title="NeROShapeRenderer"></a>NeROShapeRenderer</h2><h3 id="MLP"><a href="#MLP" class="headerlink" title="MLP"></a>MLP</h3><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728142918.png" alt="image.png"></p><ul><li><p>SDFNetwork</p><ul><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/SDFNetwork_modify.png" alt="SDFNetwork"></li><li>39â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;217â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;257</li></ul></li><li><p>NeRFNetwork</p><ul><li><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020221206180113.png" alt="Pasted image 20221206180113.png|600"></li><li>84â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256+84â€”&gt;256â€”&gt;256â€”&gt;256+27â€”&gt;128â€”&gt;3</li><li>84â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256+84â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;1</li></ul></li><li><p>AppShadingNetwork</p><ul><li>metallic_predictor<ul><li>259â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;1</li><li>259 = (256 + 3) = (feature + points)</li></ul></li><li>roughness_predictor<ul><li>259â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;1</li></ul></li><li>albedo_predictor<ul><li>259â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;3</li></ul></li><li>outer_light ç›´æ¥å…‰<ul><li>72â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;3</li><li>72 = ref_roughness = self.sph_enc(reflective, roughness)</li><li>or self.sph_enc(normals, roughness) â€”&gt; diffuse_lights</li></ul></li><li>inner_light é—´æ¥å…‰<ul><li>123â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;3</li><li>123 = (51 + 72) = (pts + ref_roughness) <ul><li>pts : 2x3x8 + 3 = 51 (L=8)</li></ul></li></ul></li><li>inner_weight é®æŒ¡æ¦‚ç‡occ_prob<ul><li>90â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;1</li><li>90 = (51 + 39) = (pts + ref_)<ul><li>ref_ = self.dir_enc(reflective)  = 2x3x6 + 3 = 39(L=6)</li></ul></li></ul></li><li>human_light_predictor  $[\alpha_{\mathrm{camera}},\mathrm{c}_{\mathrm{camera}}]=g_{\mathrm{camera}}(\mathrm{p}_{\mathrm{c}}),$<ul><li>24â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;4</li><li>24 = pos_enc = IPE(mean, var, 0, 6)</li></ul></li></ul></li></ul><div class="table-container"><table><thead><tr><th>MLP</th><th>Encoding</th><th>in_dims</th><th>out_dims</th><th>layer</th><th>neurons</th></tr></thead><tbody><tr><td>SDFNetwork</td><td>VanillaFrequency(L=6)</td><td>2x3x6+3=39</td><td>257</td><td>8</td><td>256</td></tr><tr><td>SingleVarianceNetwork</td><td>None</td><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>NeRFNetwork</td><td>VanillaFrequency(Lp=10,Lv=4)</td><td>2x4x10+4=84(Nerf++:4) &amp; 2x3x4+3=27</td><td>4</td><td>8</td><td>256</td></tr><tr><td>AppShadingNetwork</td><td>VanillaFrequency</td><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>metallic_predictor</td><td>None</td><td>256 + 3 = 259</td><td>1</td><td>4</td><td>256</td></tr><tr><td>roughness_predictor</td><td>None</td><td>256 + 3 = 259</td><td>1</td><td>4</td><td>256</td></tr><tr><td>albedo_predictor</td><td>None</td><td>256 + 3 = 259</td><td>3</td><td>4</td><td>256</td></tr><tr><td>outer_light</td><td>IDE(Ref-NeRF)</td><td>72</td><td>3</td><td>4</td><td>256</td></tr><tr><td>inner_light</td><td>VanillaFrequency+IDE</td><td>51 + 72 = 123</td><td>3</td><td>4</td><td>256</td></tr><tr><td>inner_weight</td><td>VanillaFrequency</td><td>51 + 39 = 90</td><td>1</td><td>4</td><td>256</td></tr><tr><td>human_light_predictor</td><td>IPE</td><td>2 x 2 x 6 = 24</td><td>4</td><td>4</td><td>256</td></tr></tbody></table></div><ul><li>FG_LUT: <code>[1,256,256,2]</code><ul><li>from assets/bsdf_256_256.bin</li></ul></li></ul><p><strong>weight_norm:</strong> weight_v, weight_g<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230803155215.png" alt="image.png"></p><h3 id="Render"><a href="#Render" class="headerlink" title="Render"></a>Render</h3><ul><li><code>_init_dataset</code><ul><li>parse_database_nameï¼š<code>self.database = GlossyRealDatabase(self.cfg[&#39;database_name&#39;])</code></li><li>get_database_splitï¼šself.train_ids, self.test_ids is <code>img_ids[1:] , img_ids[:1]</code></li><li>build_imgs_info(self.database, self.train_ids)ï¼šæ ¹æ® train_ids åŠ è½½ train_imgs_info<ul><li>train_imgs_infoï¼š{â€˜imgsâ€™: images, â€˜Ksâ€™: Ks, â€˜posesâ€™: poses}</li></ul></li><li>imgs_info_to_torch(self.train_imgs_info, device = â€˜cpuâ€™)ï¼šå°†train_imgs_infoè½¬æ¢ä¸ºtorchã€å¦‚æœä¸ºimgsï¼Œåˆ™permute(0,3,1,2)ï¼Œç„¶åto device</li><li>åŒä¸ŠåŠ è½½test_imgs_infoå¹¶to torch and to device</li><li><code>_construct_ray_batch(self.train_imgs_info)</code> : è¿”å›<code>train_batch = ray_batch</code>, <code>self.train_poses = poses# imn,3,4</code>, <code>tbn = rn = imn * h * w</code>, h, w<ul><li><code>&#123;&#39;dirs&#39;: dirs.float().reshape(rn, 3).to(device), &#39;rgbs&#39;: imgs.float().reshape(rn, 3).to(device),&#39;idxs&#39;: idxs.long().reshape(rn, 1).to(device)&#125;</code></li><li>poseçš„<code>[:3,:3]</code>ä¸ºæ­£äº¤çŸ©é˜µ</li></ul></li><li><code>_shuffle_train_batch</code>å°†train_batchæ•°æ®æ‰“ä¹±ï¼Œæ¯ä¸ªåƒç´ ç‚¹dirå’Œrgb</li></ul></li><li>forward<ul><li>is_train:<ul><li><code>outputs = self.train_step(step)</code></li></ul></li><li>else:<ul><li>index = data[â€˜indexâ€™]</li><li>outputs = self.test_step(index, step=step)</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">train_step</span>(<span class="params">self, step</span>):</span><br><span class="line">    rn = self.cfg[<span class="string">&#x27;train_ray_num&#x27;</span>]</span><br><span class="line">    <span class="comment"># fetch to gpu</span></span><br><span class="line">    train_ray_batch = &#123;k: v[self.train_batch_i:self.train_batch_i + rn].cuda() <span class="keyword">for</span> k, v <span class="keyword">in</span> self.train_batch.items()&#125;</span><br><span class="line">    self.train_batch_i += rn</span><br><span class="line">    <span class="keyword">if</span> self.train_batch_i + rn &gt;= self.tbn: self._shuffle_train_batch() <span class="comment"># å½“å®Œæˆä¸€ä¸ªtbn = img_nums * h * wæ—¶ï¼Œæ‰“ä¹±ä¸€æ¬¡é¡ºåº</span></span><br><span class="line">    train_poses = self.train_poses.cuda()</span><br><span class="line">    rays_o, rays_d, near, far, human_poses = self._process_ray_batch(train_ray_batch, train_poses)</span><br><span class="line"></span><br><span class="line">    outputs = self.render(rays_o, rays_d, near, far, human_poses, -<span class="number">1</span>, self.get_anneal_val(step), is_train=<span class="literal">True</span>, step=step)</span><br><span class="line">    outputs[<span class="string">&#x27;loss_rgb&#x27;</span>] = self.compute_rgb_loss(outputs[<span class="string">&#x27;ray_rgb&#x27;</span>], train_ray_batch[<span class="string">&#x27;rgbs&#x27;</span>])  <span class="comment"># ray_loss</span></span><br><span class="line">    <span class="keyword">return</span> outputs</span><br></pre></td></tr></table></figure><h4 id="train-step"><a href="#train-step" class="headerlink" title="train_step"></a>train_step</h4><ul><li><code>_process_ray_batch</code><ul><li>inputï¼šray_batch, poses</li><li>outputï¼šrays_o, rays_d, near, far, human_poses[idxs]</li><li>å°†åŸä¸–ç•Œåæ ‡ç³»ä¸‹oç‚¹è½¬æ¢åˆ°æ‰‹åŠ¨è®¾ç½®çš„ä¸–ç•Œåæ ‡ç³»wâ€™ä¸‹ï¼Œå¹¶å°†ray_batchä¸­çš„dirsè½¬æ¢åˆ°æ‰‹åŠ¨è®¾ç½®çš„ä¸–ç•Œåæ ‡ç³»wâ€™ä¸‹</li><li>near_far_from_sphere:<ul><li>get near and far through rays_o, rays_d</li></ul></li><li>get_human_coordinate_poses<ul><li>æ ¹æ®poseå¾—åˆ°human_posesï¼ˆw2cï¼‰ï¼šç”¨äºåˆ¤æ–­ä»ç›¸æœºå‘å‡ºçš„å…‰çº¿åœ¨ç‰©ä½“ä¸Šåå°„æ˜¯å¦å‡»ä¸­human</li><li>human_poses: åœ¨ç›¸æœºåŸç‚¹å¤„ï¼ˆç›¸æœºåŸç‚¹ä¸åŠ¨ï¼‰ï¼Œzè½´ä¸ºåŸç›¸æœºåæ ‡ç³»zè½´åœ¨<strong>ä¸wâ€™çš„xoyå¹³é¢å¹³è¡Œçš„xoyâ€™å¹³é¢</strong>çš„æŠ•å½±å•ä½å‘é‡ï¼Œyè½´ä¸ºwâ€™ä¸‹z-æ–¹å‘çš„å•ä½å‘é‡</li><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728143216.png" alt="image.png"></li></ul></li></ul></li><li>get_anneal_val(step)<ul><li>if self.cfg[â€˜anneal_endâ€™] &lt; 0 : <code>1</code></li><li>else : <code>np.min([1.0, step / self.cfg[&#39;anneal_end&#39;]])</code></li></ul></li><li>render(rays_o, rays_d, near, far, human_poses, perturb_overwrite=-1, cos_anneal_ratio=0.0, is_train=True, step=None)<ul><li>input: rays_o, rays_d, near, far, human_poses, -1, self.get_anneal_val(step), is_train=True, step=step</li><li>output: ret = outputs</li><li>sample_ray(rays_o, rays_d, near, far, perturb)<ul><li>åŒneusï¼Œä¸Šé‡‡æ ·+cat_z_valså †å z_vals</li></ul></li><li>render_core<ul><li>input: rays_o, rays_d, z_vals, human_poses, cos_anneal_ratio=cos_anneal_ratio, step=step, is_train=is_train</li><li>output: outputs</li><li>get dists , mid_z_vals , points , inner_mask , outer_mask ,dirs , human_poses_pt</li><li>if torch.sum(outer_mask) &gt; 0: èƒŒæ™¯ä½¿ç”¨NeRFç½‘ç»œå¾—åˆ°é¢œè‰²å’Œä¸é€æ˜åº¦<ul><li><code>alpha[outer_mask], sampled_color[outer_mask] = self.compute_density_alpha(points[outer_mask], dists[outer_mask], -dirs[outer_mask], self.outer_nerf)</code></li></ul></li><li>if torch.sum(inner_mask) &gt; 0: å‰æ™¯ä½¿ç”¨SDFå’ŒColorç½‘ç»œå¾—åˆ°sdfå’Œé¢œè‰²ã€ç¢°æ’ä¿¡æ¯ ï¼Œ elseï¼š<code>gradient_error = torch.zeros(1)</code><ul><li><code>alpha[inner_mask], gradients, feature_vector, inv_s, sdf = self.compute_sdf_alpha(points[inner_mask], dists[inner_mask], dirs[inner_mask], cos_anneal_ratio, step)</code></li><li><code>sampled_color[inner_mask], occ_info = self.color_network(points[inner_mask], gradients, -dirs[inner_mask], feature_vector, human_poses_pt[inner_mask], step=step)</code><ul><li>sampled_color : é‡‡æ ·ç‚¹é¢œè‰²</li><li>occ_info : dict {â€˜reflectiveâ€™: reflective, â€˜occ_probâ€™: occ_prob,}</li></ul></li><li><code>gradient_error = (torch.linalg.norm(gradients, ord=2, dim=-1) - 1.0) ** 2</code> æ¢¯åº¦æŸå¤±</li></ul></li><li>alpha â€” &gt; weight </li><li>sampled_color, weight â€”&gt; color</li><li>outputs = {â€˜ray_rgbâ€™: color,  â€˜gradient_errorâ€™: gradient_error,}</li><li><code>if torch.sum(inner_mask) &gt; 0: outputs[&#39;std&#39;] = torch.mean(1 / inv_s)</code>  | <code>else:  outputs[&#39;std&#39;] = torch.zeros(1)</code></li><li>if step &lt; 1000: <ul><li>mask = torch.norm(points, dim=-1) &lt; 1.2</li><li><code>outputs[&#39;sdf_pts&#39;] = points[mask]</code></li><li><code>outputs[&#39;sdf_vals&#39;] = self.sdf_network.sdf(points[mask])[..., 0]</code></li></ul></li><li><code>if self.cfg[&#39;apply_occ_loss&#39;]:</code><ul><li>if torch.sum(inner_mask) &gt; 0: <code>outputs[&#39;loss_occ&#39;] = self.compute_occ_loss(occ_info, points[inner_mask], sdf, gradients, dirs[inner_mask], step)</code><ul><li>compute_occ_loss ç¢°æ’æŸå¤±</li></ul></li><li>else: <code>outputs[&#39;loss_occ&#39;] = torch.zeros(1)</code></li></ul></li><li>if not is_train: <code>outputs.update(self.compute_validation_info(z_vals, rays_o, rays_d, weights, human_poses, step))</code></li><li>return outputs</li></ul></li></ul></li><li><strong>rgb_loss</strong>: <code>outputs[&#39;loss_rgb&#39;] = self.compute_rgb_loss(outputs[&#39;ray_rgb&#39;], train_ray_batch[&#39;rgbs&#39;])</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cfg[<span class="string">&#x27;rgb_loss&#x27;</span>] = <span class="string">&#x27;charbonier&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compute_rgb_loss</span>(<span class="params">self, rgb_pr, rgb_gt</span>):</span><br><span class="line">    <span class="keyword">if</span> self.cfg[<span class="string">&#x27;rgb_loss&#x27;</span>] == <span class="string">&#x27;l2&#x27;</span>:</span><br><span class="line">        rgb_loss = torch.<span class="built_in">sum</span>((rgb_pr - rgb_gt) ** <span class="number">2</span>, -<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">elif</span> self.cfg[<span class="string">&#x27;rgb_loss&#x27;</span>] == <span class="string">&#x27;l1&#x27;</span>:</span><br><span class="line">        rgb_loss = torch.<span class="built_in">sum</span>(F.l1_loss(rgb_pr, rgb_gt, reduction=<span class="string">&#x27;none&#x27;</span>), -<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">elif</span> self.cfg[<span class="string">&#x27;rgb_loss&#x27;</span>] == <span class="string">&#x27;smooth_l1&#x27;</span>:</span><br><span class="line">        rgb_loss = torch.<span class="built_in">sum</span>(F.smooth_l1_loss(rgb_pr, rgb_gt, reduction=<span class="string">&#x27;none&#x27;</span>, beta=<span class="number">0.25</span>), -<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">elif</span> self.cfg[<span class="string">&#x27;rgb_loss&#x27;</span>] == <span class="string">&#x27;charbonier&#x27;</span>:</span><br><span class="line">        epsilon = <span class="number">0.001</span></span><br><span class="line">        rgb_loss = torch.sqrt(torch.<span class="built_in">sum</span>((rgb_gt - rgb_pr) ** <span class="number">2</span>, dim=-<span class="number">1</span>) + epsilon)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line">    <span class="keyword">return</span> rgb_loss</span><br></pre></td></tr></table></figure><p><strong>render core</strong> : MLP output<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/render_core.png" alt="render_core.png"></p><p><strong>Occ related</strong>: Occ prob and loss_occ</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/occ.png" alt="occ.png"></p><h5 id="loss-occ"><a href="#loss-occ" class="headerlink" title="loss_occ"></a>loss_occ</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inter_dist, inter_prob, inter_sdf = get_intersection(self.sdf_inter_fun, self.deviation_network, points[mask], reflective[mask], sn0=<span class="number">64</span>, sn1=<span class="number">16</span>)  <span class="comment"># pn,sn-1</span></span><br><span class="line">occ_prob_gt = torch.<span class="built_in">sum</span>(inter_prob, -<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">return</span> F.l1_loss(occ_prob[mask], occ_prob_gt)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_intersection</span>(<span class="params">sdf_fun, inv_fun, pts, dirs, sn0=<span class="number">128</span>, sn1=<span class="number">9</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    :param sdf_fun:</span></span><br><span class="line"><span class="string">    :param inv_fun:</span></span><br><span class="line"><span class="string">    :param pts:    pn,3</span></span><br><span class="line"><span class="string">    :param dirs:   pn,3</span></span><br><span class="line"><span class="string">    :param sn0: # 64</span></span><br><span class="line"><span class="string">    :param sn1: # 16</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    inside_mask = torch.norm(pts, dim=-<span class="number">1</span>) &lt; <span class="number">0.999</span> <span class="comment"># left some margin</span></span><br><span class="line">    pn, _ = pts.shape</span><br><span class="line">    hit_z_vals = torch.zeros([pn, sn1-<span class="number">1</span>])</span><br><span class="line">    hit_weights = torch.zeros([pn, sn1-<span class="number">1</span>])</span><br><span class="line">    hit_sdf = -torch.ones([pn, sn1-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">if</span> torch.<span class="built_in">sum</span>(inside_mask)&gt;<span class="number">0</span>:</span><br><span class="line">        pts = pts[inside_mask]</span><br><span class="line">        dirs = dirs[inside_mask]</span><br><span class="line">        max_dist = get_sphere_intersection(pts, dirs) <span class="comment"># pn,1</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            z_vals = torch.linspace(<span class="number">0</span>, <span class="number">1</span>, sn0) <span class="comment"># sn0</span></span><br><span class="line">            z_vals = max_dist * z_vals.unsqueeze(<span class="number">0</span>) <span class="comment"># pn,sn0</span></span><br><span class="line">            weights, mid_sdf = get_weights(sdf_fun, inv_fun, z_vals, pts, dirs) <span class="comment"># pn,sn0-1</span></span><br><span class="line">            z_vals_new = sample_pdf(z_vals, weights, sn1, <span class="literal">True</span>) <span class="comment"># pn,sn1</span></span><br><span class="line">            weights, mid_sdf = get_weights(sdf_fun, inv_fun, z_vals_new, pts, dirs) <span class="comment"># pn,sn1-1</span></span><br><span class="line">            z_vals_mid = (z_vals_new[:,<span class="number">1</span>:] + z_vals_new[:,:-<span class="number">1</span>]) * <span class="number">0.5</span></span><br><span class="line">        hit_z_vals[inside_mask] = z_vals_mid</span><br><span class="line">        hit_weights[inside_mask] = weights</span><br><span class="line">        hit_sdf[inside_mask] = mid_sdf</span><br><span class="line">    <span class="keyword">return</span> hit_z_vals, hit_weights, hit_sdf</span><br></pre></td></tr></table></figure><p>åå°„å…‰çº¿ä¸å•ä½çƒäº¤ç‚¹ï¼Œåˆ°ptsçš„è·ç¦»dist</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_sphere_intersection</span>(<span class="params">pts, dirs</span>):</span><br><span class="line">    dtx = torch.<span class="built_in">sum</span>(pts*dirs,dim=-<span class="number">1</span>,keepdim=<span class="literal">True</span>) <span class="comment"># rn,1</span></span><br><span class="line">    xtx = torch.<span class="built_in">sum</span>(pts**<span class="number">2</span>,dim=-<span class="number">1</span>,keepdim=<span class="literal">True</span>) <span class="comment"># rn,1</span></span><br><span class="line">    dist = dtx ** <span class="number">2</span> - xtx + <span class="number">1</span></span><br><span class="line">    <span class="keyword">assert</span> torch.<span class="built_in">sum</span>(dist&lt;<span class="number">0</span>)==<span class="number">0</span></span><br><span class="line">    dist = -dtx + torch.sqrt(dist+<span class="number">1e-6</span>) <span class="comment"># rn,1</span></span><br><span class="line">    <span class="keyword">return</span> dist</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230805163513.png" alt="image.png"></p><p>ä»ptsé‡‡æ ·ç‚¹ï¼Œé•¿åº¦distï¼Œæ–¹å‘ä¸ºreflectiveï¼Œå‡åŒ€é‡‡æ ·snä¸ªç‚¹</p><ul><li>è·å–snä¸ªé‡‡æ ·ç‚¹çš„sn-1ä¸ªä¸­ç‚¹çš„åæ ‡ã€sdfå’Œinvs</li><li>é€‰å–å…¶ä¸­åœ¨ç‰©ä½“è¡¨é¢ä¸Šçš„ç‚¹ï¼š<code>surface_mask = (cos_val &lt; 0)</code></li><li>è®¡ç®—è¿™äº›ç‚¹çš„sdfå’Œæƒé‡</li><li>è¡¨é¢é‡‡æ ·ç‚¹çš„æƒé‡ä¹‹å’Œå³ä¸ºocc_prob_gt</li><li>occ_prob_gtä¸occ_probè¿›è¡Œæ±‚L1æŸå¤±å³ä¸ºloss_occ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_weights</span>(<span class="params">sdf_fun, inv_fun, z_vals, origins, dirs</span>):</span><br><span class="line">    points = z_vals.unsqueeze(-<span class="number">1</span>) * dirs.unsqueeze(-<span class="number">2</span>) + origins.unsqueeze(-<span class="number">2</span>) <span class="comment"># pn,sn,3</span></span><br><span class="line">    inv_s = inv_fun(points[:, :-<span class="number">1</span>, :])[..., <span class="number">0</span>]  <span class="comment"># pn,sn-1</span></span><br><span class="line">    sdf = sdf_fun(points)[..., <span class="number">0</span>]  <span class="comment"># pn,sn</span></span><br><span class="line"></span><br><span class="line">    prev_sdf, next_sdf = sdf[:, :-<span class="number">1</span>], sdf[:, <span class="number">1</span>:]  <span class="comment"># pn,sn-1</span></span><br><span class="line">    prev_z_vals, next_z_vals = z_vals[:, :-<span class="number">1</span>], z_vals[:, <span class="number">1</span>:]</span><br><span class="line">    mid_sdf = (prev_sdf + next_sdf) * <span class="number">0.5</span></span><br><span class="line">    cos_val = (next_sdf - prev_sdf) / (next_z_vals - prev_z_vals + <span class="number">1e-5</span>)  <span class="comment"># pn,sn-1</span></span><br><span class="line">    surface_mask = (cos_val &lt; <span class="number">0</span>)  <span class="comment"># pn,sn-1</span></span><br><span class="line">    cos_val = torch.clamp(cos_val, <span class="built_in">max</span>=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    dist = next_z_vals - prev_z_vals  <span class="comment"># pn,sn-1</span></span><br><span class="line">    prev_esti_sdf = mid_sdf - cos_val * dist * <span class="number">0.5</span>  <span class="comment"># pn, sn-1</span></span><br><span class="line">    next_esti_sdf = mid_sdf + cos_val * dist * <span class="number">0.5</span></span><br><span class="line">    prev_cdf = torch.sigmoid(prev_esti_sdf * inv_s)</span><br><span class="line">    next_cdf = torch.sigmoid(next_esti_sdf * inv_s)</span><br><span class="line">    alpha = (prev_cdf - next_cdf + <span class="number">1e-5</span>) / (prev_cdf + <span class="number">1e-5</span>) * surface_mask.<span class="built_in">float</span>()</span><br><span class="line">    weights = alpha * torch.cumprod(torch.cat([torch.ones([alpha.shape[<span class="number">0</span>], <span class="number">1</span>]), <span class="number">1.</span> - alpha + <span class="number">1e-7</span>], -<span class="number">1</span>), -<span class="number">1</span>)[:, :-<span class="number">1</span>]</span><br><span class="line">    mid_sdf[~surface_mask]=-<span class="number">1.0</span></span><br><span class="line">    <span class="keyword">return</span> weights, mid_sdf</span><br></pre></td></tr></table></figure><h2 id="NeROMaterialRenderer"><a href="#NeROMaterialRenderer" class="headerlink" title="NeROMaterialRenderer"></a>NeROMaterialRenderer</h2><h3 id="MLP-1"><a href="#MLP-1" class="headerlink" title="MLP"></a>MLP</h3><p>shader_network = MCShadingNetwork</p><ul><li>feats_network = MaterialFeatsNetwork<ul><li>51â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256+51â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256</li><li>51: pts = get_embedder(8,3)(x) = 8 x 2 x 3 + 3 = 51</li></ul></li><li>metallic_predictor<ul><li>259â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;1</li><li>259 = 256(feature) + 3(pts)</li></ul></li><li>roughness_predictor<ul><li>259â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;1</li></ul></li><li>albedo_predictor<ul><li>259â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;3</li></ul></li><li>outer_light<ul><li>144â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;3</li><li>144 = 72 x 2 = <code>torch.cat([outer_enc, sphere_pts], -1)</code><ul><li>outer_enc = self.sph_enc(directions, 0) = 72</li><li>sphere_pts = self.sph_enc(sphere_pts, 0) = 72</li></ul></li></ul></li><li>human_light<ul><li>24â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;4</li><li>24: <code>pos_enc = IPE(mean, var, 0, 6)  # 2*2*6</code></li></ul></li><li>inner_light<ul><li>123(51 + 72)â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;3</li><li>123 = <code>torch.cat([pos_enc, dir_enc], -1)</code><ul><li>pos_enc = self.pos_enc(points)  = 51<ul><li>self.pos_enc = get_embedder(8, 3)</li></ul></li><li>dir_enc = self.sph_enc(reflections, 0) = 72</li></ul></li></ul></li></ul><div class="table-container"><table><thead><tr><th>MLP</th><th>Encoding</th><th>in_dims</th><th>out_dims</th><th>layer</th><th>neurons</th></tr></thead><tbody><tr><td>light_pts</td><td>single parameter</td><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>MCShadingNetwork</td><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr><tr><td>feats_network</td><td>VanillaFrequency</td><td>8 x 2 x 3 + 3 = 51</td><td>256</td><td>8</td><td>256</td></tr><tr><td>metallic_predictor</td><td>None</td><td>256 + 3 = 259</td><td>1</td><td>4</td><td>256</td></tr><tr><td>roughness_predictor</td><td>None</td><td>256 + 3 = 259</td><td>1</td><td>4</td><td>256</td></tr><tr><td>albedo_predictor</td><td>None</td><td>256 + 3 = 259</td><td>3</td><td>4</td><td>256</td></tr><tr><td>outer_light</td><td>IDE</td><td>72 + 72 = 144</td><td>3</td><td>4</td><td>256</td></tr><tr><td>human_light</td><td>IPE</td><td>2 x 2 x 6 = 24</td><td>4</td><td>4</td><td>256</td></tr><tr><td>inner_light</td><td>VanillaFrequency+IDE</td><td>51 + 72 = 123</td><td>3</td><td>4</td><td>256</td></tr></tbody></table></div><h3 id="Render-1"><a href="#Render-1" class="headerlink" title="Render"></a>Render</h3><ul><li><code>_init_geometry</code><ul><li>self.mesh = open3d.io.read_triangle_mesh(self.cfg[â€˜meshâ€™]) è¯»å– Stage1å¾—åˆ°çš„mesh<ul><li><a href="http://www.open3d.org/docs/0.16.0/python_api/open3d.io.read_triangle_mesh.html#open3d.io.read_triangle_mesh">open3d.io.read_triangle_mesh â€” Open3D 0.16.0 documentation</a></li></ul></li><li>self.ray_tracer = raytracing.RayTracer(np.asarray(self.mesh.vertices), np.asarray(self.mesh.triangles)) è·å¾—raytracer,ç”¨äºæ ¹æ®rays_oå’Œrays_då¾—åˆ°intersections, face_normals, depth<ul><li><a href="https://github.com/ashawkey/raytracing">ashawkey/raytracing: A CUDA Mesh RayTracer with BVH acceleration, with python bindings and a GUI. (github.com)</a></li></ul></li></ul></li><li><code>_init_dataset</code><ul><li>parse_database_name è¿”å›<code>self.database = GlossyRealDatabase(self.cfg[&#39;database_name&#39;])</code></li><li>get_database_split :  <code>self.train_ids, self.test_ids =img_ids[1:], img_ids[:1]</code></li><li>if is_train:<ul><li>build_imgs_info : train and test <ul><li>return {â€˜imgsâ€™: images, â€˜Ksâ€™: Ks, â€˜posesâ€™: poses}</li></ul></li><li>imgs_info_to_torch : train and test</li><li><code>_construct_ray_batch(train_imgs_info)</code><ul><li>train_imgs_info to ray_batch</li></ul></li><li>tbn = imn</li><li><code>_shuffle_train_batch</code></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">_init_dataset</span>(<span class="params">self, is_train</span>):</span><br><span class="line">    <span class="comment"># train/test split</span></span><br><span class="line">    self.database = parse_database_name(self.cfg[<span class="string">&#x27;database_name&#x27;</span>])</span><br><span class="line">    self.train_ids, self.test_ids = get_database_split(self.database, <span class="string">&#x27;validation&#x27;</span>)</span><br><span class="line">    self.train_ids = np.asarray(self.train_ids)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> is_train:</span><br><span class="line">        self.train_imgs_info = build_imgs_info(self.database, self.train_ids)</span><br><span class="line">        self.train_imgs_info = imgs_info_to_torch(self.train_imgs_info, <span class="string">&#x27;cpu&#x27;</span>)</span><br><span class="line">        self.train_num = <span class="built_in">len</span>(self.train_ids)</span><br><span class="line"></span><br><span class="line">        self.test_imgs_info = build_imgs_info(self.database, self.test_ids)</span><br><span class="line">        self.test_imgs_info = imgs_info_to_torch(self.test_imgs_info, <span class="string">&#x27;cpu&#x27;</span>)</span><br><span class="line">        self.test_num = <span class="built_in">len</span>(self.test_ids)</span><br><span class="line"></span><br><span class="line">        self.train_batch = self._construct_ray_batch(self.train_imgs_info)</span><br><span class="line">        self.tbn = self.train_batch[<span class="string">&#x27;rays_o&#x27;</span>].shape[<span class="number">0</span>]</span><br><span class="line">        self._shuffle_train_batch()</span><br><span class="line"></span><br><span class="line">self.train_batch <span class="keyword">from</span> _construct_ray_batch<span class="string">&#x27;s return ray_batch: </span></span><br><span class="line"><span class="string">if is_train:</span></span><br><span class="line"><span class="string">    ray_batch=&#123;</span></span><br><span class="line"><span class="string">        &#x27;</span>rays_o<span class="string">&#x27;: rays_o[hit_mask].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>rays_d<span class="string">&#x27;: rays_d[hit_mask].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>inters<span class="string">&#x27;: inters[hit_mask].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>normals<span class="string">&#x27;: normals[hit_mask].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>depth<span class="string">&#x27;: depth[hit_mask].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>human_poses<span class="string">&#x27;: human_poses[hit_mask].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>rg<span class="string">b&#x27;: rgb[hit_mask].to(device),</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">else:</span></span><br><span class="line"><span class="string">    assert imn==1</span></span><br><span class="line"><span class="string">    ray_batch=&#123;</span></span><br><span class="line"><span class="string">        &#x27;</span>rays_o<span class="string">&#x27;: rays_o[0].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>rays_d<span class="string">&#x27;: rays_d[0].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>inters<span class="string">&#x27;: inters[0].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>normals<span class="string">&#x27;: normals[0].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>depth<span class="string">&#x27;: depth[0].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>human_poses<span class="string">&#x27;: human_poses[0].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>rg<span class="string">b&#x27;: rgb[0].to(device),</span></span><br><span class="line"><span class="string">        &#x27;</span>hit_mask<span class="string">&#x27;: hit_mask[0].to(device),</span></span><br><span class="line"><span class="string">    &#125;</span></span><br></pre></td></tr></table></figure><ul><li><code>_init_shader</code><ul><li><code>self.cfg[&#39;shader_cfg&#39;][&#39;is_real&#39;] = self.cfg[&#39;database_name&#39;].startswith(&#39;real&#39;)</code></li><li><code>self.shader_network = MCShadingNetwork(self.cfg[&#39;shader_cfg&#39;], lambda o,d: self.trace(o,d))</code> â€” MLP Network</li></ul></li><li>forward<ul><li>if is_train: self.train_step(step)</li></ul></li></ul><h1 id="Relight"><a href="#Relight" class="headerlink" title="Relight"></a>Relight</h1><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python relight.py --blender &lt;<span class="built_in">path</span>-to-your-blender&gt; \</span><br><span class="line">                  --name bear-neon \</span><br><span class="line">                  --mesh data/meshes/bear_shape-<span class="number">300000</span>.ply \</span><br><span class="line">                  --material data/materials/bear_material-<span class="number">100000</span> \</span><br><span class="line">                  --hdr data/hdr/neon_photostudio_4k.exr</span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">eg: </span></span><br><span class="line"><span class="function"><span class="title">python</span> <span class="title">relight.py</span> --<span class="title">blender</span> <span class="title">F</span>:\<span class="title">Blender</span>\<span class="title">blender.exe</span> --<span class="title">name</span> <span class="title">bear</span>-<span class="title">neon</span> --<span class="title">mesh</span> <span class="title">data</span>/<span class="title">meshes</span>/<span class="title">bear_shape</span>-300000.<span class="title">ply</span> --<span class="title">material</span> <span class="title">data</span>/<span class="title">materials</span>/<span class="title">bear_material</span>-100000 --<span class="title">hdr</span> <span class="title">data</span>/<span class="title">hdr</span>/<span class="title">neon_photostudio_4k.exr</span></span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    parser = argparse.ArgumentParser()</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--blender&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--mesh&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--material&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--hdr&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--name&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--trans&#x27;</span>, dest=<span class="string">&#x27;trans&#x27;</span>, action=<span class="string">&#x27;store_true&#x27;</span>, default=<span class="literal">False</span>)</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">    cmds=[</span><br><span class="line">        args.blender, <span class="string">&#x27;--background&#x27;</span>, <span class="string">&#x27;--python&#x27;</span>, <span class="string">&#x27;blender_backend/relight_backend.py&#x27;</span>, <span class="string">&#x27;--&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;--output&#x27;</span>, <span class="string">f&#x27;data/relight/<span class="subst">&#123;args.name&#125;</span>&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;--mesh&#x27;</span>, args.mesh,</span><br><span class="line">        <span class="string">&#x27;--material&#x27;</span>, args.material,</span><br><span class="line">        <span class="string">&#x27;--env_fn&#x27;</span>, args.hdr,</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">if</span> args.trans:</span><br><span class="line">        cmds.append(<span class="string">&#x27;--trans&#x27;</span>)</span><br><span class="line">    subprocess.run(cmds)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>è¿è¡Œpython relight.pyåï¼Œå­è¿›ç¨‹åœ¨cmdä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">F:\Blender\blender.exe --background # æ— UIç•Œé¢æ¸²æŸ“ï¼Œåœ¨åå°è¿è¡Œ</span><br><span class="line">--python blender_backend/relight_backend.py # è¿è¡Œç»™å®šçš„ Python è„šæœ¬æ–‡ä»¶</span><br><span class="line">-- # ç»“æŸoption processingï¼Œåç»­å‚æ•°ä¿æŒä¸å˜ã€‚é€šè¿‡ Python çš„ sys.argv è®¿é—®ï¼Œä¸‹é¢çš„å‚æ•°ç”¨äºpythonè„šæœ¬ç¨‹åº</span><br><span class="line">--output data/relight/bear-neon</span><br><span class="line">--mesh data/meshes/bear_shape-300000.ply</span><br><span class="line">--material data/materials/bear_material-100000</span><br><span class="line">--env_fn  data/hdr/neon_photostudio_4k.exr</span><br><span class="line"></span><br><span class="line">å³å…ˆåå°è¿è¡Œblenderï¼Œåœ¨blenderä¸­è¿è¡Œpythonè„šæœ¬ï¼š</span><br><span class="line">python relight_backend.py --output data/relight/bear-neon</span><br><span class="line">    --mesh data/meshes/bear_shape-300000.ply</span><br><span class="line">    --material data/materials/bear_material-100000</span><br><span class="line">    --env_fn  data/hdr/neon_photostudio_4k.exr</span><br></pre></td></tr></table></figure><h2 id="blenderä¸­è¿è¡Œçš„pythonè„šæœ¬"><a href="#blenderä¸­è¿è¡Œçš„pythonè„šæœ¬" class="headerlink" title="blenderä¸­è¿è¡Œçš„pythonè„šæœ¬"></a>blenderä¸­è¿è¡Œçš„pythonè„šæœ¬</h2><p><strong>blender_backend/relight_backend.py</strong>: </p><p>import bpy</p><p><strong>blender_backend/blender_utils.py</strong>: </p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Shadow&amp;Highlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Neus </tag>
            
            <tag> Code </tag>
            
            <tag> Shadow&amp;Highlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zip-NeRF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/Zip-NeRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/Zip-NeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Zip-NeRF: Anti-Aliased Grid-Based Neural Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://jonbarron.info/">Jonathan T. Barron</a><a href="http://bmild.github.io/">Ben Mildenhall</a><a href="http://dorverbin.github.io/">Dor Verbin</a><a href="https://pratulsrinivasan.github.io/">Pratul P. Srinivasan</a><a href="https://phogzone.com/">Peter Hedman</a></td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://jonbarron.info/zipnerf/">Zip-NeRF (jonbarron.info)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4762187901551247361&amp;noteId=1892446988470107392">Zip-NeRF: Anti-Aliased Grid-Based Neural Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><p>Zip-NeRFåœ¨æŠ—æ··å (åŒ…æ‹¬NeRFä»ç©ºé—´åæ ‡åˆ°é¢œè‰²å’Œå¯†åº¦çš„å­¦ä¹ æ˜ å°„çš„ç©ºé—´æ··å ï¼Œä»¥åŠæ²¿æ¯æ¡å°„çº¿åœ¨çº¿è’¸é¦è¿‡ç¨‹ä¸­ä½¿ç”¨çš„æŸå¤±å‡½æ•°çš„z-æ··å )æ–¹é¢éƒ½å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœï¼Œå¹¶ä¸”é€Ÿåº¦ç›¸æ¯”å‰ä½œMip-NeRF 360 æé«˜äº†24X</p><p>mipNeRF 360+åŸºäºç½‘æ ¼çš„æ¨¡å‹(å¦‚Instant NGP)çš„æŠ€æœ¯</p><ul><li>é”™è¯¯ç‡ä¸‹é™8~77%ï¼Œå¹¶ä¸”æ¯”Mip-NeRF360æé€Ÿäº†24X</li><li>ä¸»è¦è´¡çŒ®ï¼š<ul><li>å¤šé‡‡æ ·</li><li>é¢„æ»¤æ³¢</li></ul></li></ul><p>å¤šé‡‡æ ·ï¼štrainå·¦ï¼Œtestå³</p><div style="display:flex; justify-content:space-between;"> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/hexify_train.gif" alt="Image 1" style="width:30%;"><div style="width:10px;"></div> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/hexify_test.gif" alt="Image 2" style="width:30%;"> </div><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>We have presented Zip-NeRF, a model that integrates the progress made in the formerly divergent areas of <strong>scaleaware anti-aliased NeRFs and fast grid-based NeRF training</strong>. </p><p>By leveraging ideas about <strong>multisampling</strong> and <strong>prefiltering</strong>, our model is able to achieve error rates that are 8% â€“ 77% lower than prior techniques, while also training 24Ã—faster than mip-NeRF 360 (the previous state-of-the-art on our benchmarks). </p><p>We hope that the tools and analysis presented here concerning aliasing (both the spatial aliasing of NeRFâ€™s learned mapping from spatial coordinate to color and density, and z-aliasing of the loss function used during online distillation along each ray) enable further progress towards improving the <strong>quality, speed, and sample-efficiency</strong> of NeRF-like inverse rendering techniques.</p><h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>ç¥ç»è¾å°„åœºè®­ç»ƒå¯ä»¥é€šè¿‡åœ¨NeRFçš„å­¦ä¹ æ˜ å°„ä¸­ä½¿ç”¨åŸºäºç½‘æ ¼çš„è¡¨ç¤ºæ¥åŠ é€Ÿï¼Œä»ç©ºé—´åæ ‡åˆ°é¢œè‰²å’Œä½“ç§¯å¯†åº¦ã€‚ç„¶è€Œï¼Œ<strong>è¿™äº›åŸºäºç½‘æ ¼çš„æ–¹æ³•</strong>ç¼ºä¹å¯¹å°ºåº¦çš„æ˜ç¡®ç†è§£ï¼Œå› æ­¤<strong>ç»å¸¸å¼•å…¥æ··å ï¼Œé€šå¸¸ä»¥é”¯é½¿æˆ–ç¼ºå¤±åœºæ™¯å†…å®¹çš„å½¢å¼å‡ºç°</strong>ã€‚<br>mip-NeRF 360ä¹‹å‰å·²ç»è§£å†³äº†æŠ—é”¯é½¿é—®é¢˜ï¼Œå®ƒå¯ä»¥æ²¿é”¥ä½“è€Œä¸æ˜¯æ²¿å°„çº¿çš„ç‚¹æ¥è®¡ç®—å­ä½“ç§¯ï¼Œä½†è¿™ç§æ–¹æ³•<strong>ä¸å½“å‰åŸºäºç½‘æ ¼çš„æŠ€æœ¯ä¸å…¼å®¹</strong>ã€‚</p><p>æˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨æ¸²æŸ“å’Œä¿¡å·å¤„ç†çš„æƒ³æ³•æ¥æ„å»ºä¸€ç§ç»“åˆmipNeRF 360å’ŒåŸºäºç½‘æ ¼çš„æ¨¡å‹(å¦‚Instant NGP)çš„æŠ€æœ¯ï¼Œå…¶é”™è¯¯ç‡æ¯”ä¹‹å‰çš„æŠ€æœ¯ä½8% - 77%ï¼Œå¹¶ä¸”è®­ç»ƒé€Ÿåº¦æ¯”mip-NeRF 360å¿«24å€ã€‚</p><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><ul><li>NeRFï¼šåŸå§‹çš„NeRFæ¨¡å‹ä½¿ç”¨å¤šå±‚æ„ŸçŸ¥å™¨(MLP)æ¥å‚æ•°åŒ–ä»ç©ºé—´åæ ‡åˆ°é¢œè‰²å’Œå¯†åº¦çš„æ˜ å°„ã€‚å°½ç®¡mlpç»“æ„ç´§å‡‘ä¸”å¯Œæœ‰è¡¨ç°åŠ›ï¼Œä½†<strong>è®­ç»ƒé€Ÿåº¦è¾ƒæ…¢</strong>ã€‚</li><li>æœ€è¿‘çš„ç ”ç©¶å·²ç»é€šè¿‡ç”¨ç±»ä¼¼ä½“æ ¼voxel-grid-likeçš„æ•°æ®ç»“æ„æ›¿æ¢æˆ–å¢å¼ºmlpæ¥åŠ é€Ÿè®­ç»ƒ[7,15,27,35]ã€‚ä¸€ä¸ªä¾‹å­æ˜¯<strong>Instant-NGP</strong> (iNGP)ï¼Œå®ƒä½¿ç”¨ç²—ç½‘æ ¼å’Œç»†ç½‘æ ¼çš„pyramid(å…¶ä¸­æœ€ç»†çš„ç½‘æ ¼ä½¿ç”¨hash mapå­˜å‚¨)æ¥æ„å»ºç”±å¾®å°MLPå¤„ç†çš„å­¦ä¹ ç‰¹å¾ï¼Œä»è€Œå¤§å¤§åŠ é€Ÿäº†è®­ç»ƒ[21]ã€‚</li><li>é™¤äº†é€Ÿåº¦æ…¢ä¹‹å¤–ï¼Œæœ€åˆçš„NeRFæ¨¡å‹ä¹Ÿè¢«æ··æ·†äº†: <strong>NeRFå¯¹å…‰çº¿ä¸­çš„å•ä¸ªç‚¹è¿›è¡Œæ¨ç†</strong>ï¼Œè¿™ä¼šå¯¼è‡´æ¸²æŸ“å›¾åƒä¸­çš„â€œé”¯é½¿â€ï¼Œå¹¶é™åˆ¶NeRFå¯¹æ¯”ä¾‹çš„æ¨ç†èƒ½åŠ›ã€‚</li><li><strong>Mip-NeRF</strong>[2]é€šè¿‡æŠ•å°„é”¥ä½“è€Œä¸æ˜¯å°„çº¿è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¹¶å°†æ•´ä¸ªä½“ç§¯ç½®äºé”¥å½¢é”¥å†…ï¼Œç”¨ä½œMLPçš„è¾“å…¥ã€‚Mip-NeRFåŠå…¶åç»­äº§å“mipNeRF 360[3]è¡¨æ˜ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥åœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„ç°å®åœºæ™¯ä¸­å®ç°é«˜ç²¾åº¦æ¸²æŸ“</li><li>ä»¤äººé—æ†¾çš„æ˜¯ï¼Œåœ¨å¿«é€Ÿè®­ç»ƒå’ŒæŠ—æ··å è¿™ä¸¤ä¸ªé—®é¢˜ä¸Šå–å¾—çš„è¿›å±•ï¼Œä¹ä¸€çœ‹æ˜¯äº’ä¸ç›¸å®¹çš„ã€‚è¿™æ˜¯å› ä¸ºmip-NeRFçš„æŠ—é”¯é½¿ç­–ç•¥ä¸»è¦ä¾èµ–äºä½¿ç”¨ä½ç½®ç¼–ç [28,30]å°†é”¥å½¢é”¥å°ç‰¹å¾åŒ–ä¸ºç¦»æ•£ç‰¹å¾å‘é‡ï¼Œä½†<strong>å½“å‰åŸºäºç½‘æ ¼çš„æ–¹æ³•ä¸ä½¿ç”¨ä½ç½®ç¼–ç </strong>ï¼Œ<strong>è€Œæ˜¯ä½¿ç”¨é€šè¿‡æ’å€¼åˆ°å•ä¸ª3Dåæ ‡çš„ç½‘æ ¼å±‚æ¬¡ä¸­è·å¾—çš„å­¦ä¹ ç‰¹å¾</strong>ã€‚å°½ç®¡åœ¨æ¸²æŸ“ä¸­æŠ—é”¯é½¿æ˜¯ä¸€ä¸ªç ”ç©¶å¾—å¾ˆå¥½çš„é—®é¢˜[8,9,26,31]ï¼Œä½†å¤§å¤šæ•°æ–¹æ³•å¹¶ä¸èƒ½è‡ªç„¶åœ°æ¨å¹¿åˆ°åƒiNGPè¿™æ ·åŸºäºç½‘æ ¼çš„NeRFæ¨¡å‹ä¸­çš„åæ¸²æŸ“ã€‚</li><li>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨å¤šé‡‡æ ·ã€ç»Ÿè®¡å’Œä¿¡å·å¤„ç†çš„æƒ³æ³•ï¼Œå°†iNGPçš„ç½‘æ ¼pyramidé›†æˆåˆ°mip-NeRF 360çš„æ¡†æ¶ä¸­ã€‚æˆ‘ä»¬ç§°æˆ‘ä»¬çš„æ¨¡å‹ä¸ºâ€œ<strong>Zip-NeRF</strong>â€ï¼Œå› ä¸ºå®ƒçš„é€Ÿåº¦ï¼Œå®ƒä¸mipNeRFçš„ç›¸ä¼¼æ€§ï¼Œä»¥åŠå®ƒä¿®å¤ç±»ä¼¼æ‹‰é“¾çš„æ··å å·¥ä»¶çš„èƒ½åŠ›ã€‚åœ¨mip-NeRF 360åŸºå‡†æµ‹è¯•[3]ä¸Šï¼ŒZip-NeRFå°†é”™è¯¯ç‡é™ä½äº†19%ï¼Œè®­ç»ƒé€Ÿåº¦æ¯”ä»¥å‰çš„æœ€å…ˆè¿›æŠ€æœ¯å¿«24å€ã€‚åœ¨è¯¥åŸºå‡†çš„å¤šå°ºåº¦å˜ä½“ä¸­ï¼ŒZip-NeRFæ›´å½»åº•åœ°æµ‹é‡äº†æ··è”å’Œå°ºåº¦ï¼Œé”™è¯¯ç‡é™ä½äº†77%ã€‚</li></ul><h1 id="Preliminaries"><a href="#Preliminaries" class="headerlink" title="Preliminaries"></a>Preliminaries</h1><p>Mip-NeRF 360å’ŒInstant NGP (iNGP)éƒ½æ˜¯ç±»ä¼¼nerfçš„:é€šè¿‡æŠ•å°„3Då…‰çº¿å’Œæ²¿ç€å…‰çº¿è·ç¦»tçš„ç‰¹å¾ä½ç½®æ¥æ¸²æŸ“åƒç´ ï¼Œå¹¶å°†è¿™äº›ç‰¹å¾é¦ˆé€åˆ°ç¥ç»ç½‘ç»œï¼Œç¥ç»ç½‘ç»œçš„è¾“å‡ºæ˜¯$\alpha-composited$åˆæˆæ¥æ¸²æŸ“é¢œè‰²ã€‚è®­ç»ƒåŒ…æ‹¬é‡å¤æŠ•å°„ä¸è®­ç»ƒå›¾åƒä¸­åƒç´ å¯¹åº”çš„å…‰çº¿ï¼Œå¹¶æœ€å°åŒ–(é€šè¿‡æ¢¯åº¦ä¸‹é™)æ¯ä¸ªåƒç´ çš„æ¸²æŸ“å’Œè§‚å¯Ÿåˆ°çš„é¢œè‰²ä¹‹é—´çš„å·®å¼‚ã€‚<br>Mip-NeRF 360å’ŒiNGPåœ¨å¦‚ä½•å‚æ•°åŒ–å°„çº¿åæ ‡æ–¹é¢æœ‰å¾ˆå¤§çš„ä¸åŒã€‚åœ¨mip-NeRF 360ä¸­ï¼Œå°„çº¿è¢«ç»†åˆ†ä¸ºä¸€ç»„åŒºé—´$[t_i, t_{i+1})$ï¼Œæ¯ä¸ªåŒºé—´ä»£è¡¨ä¸€ä¸ªåœ†é”¥å½¢æˆªé”¥ä½“ï¼Œå…¶å½¢çŠ¶ç”±å¤šå…ƒé«˜æ–¯è¿‘ä¼¼è¡¨ç¤ºï¼Œ<strong>ä¸è¯¥é«˜æ–¯ç›¸å…³çš„æœŸæœ›ä½ç½®ç¼–ç </strong>è¢«ç”¨ä½œå¤§å‹MLPçš„è¾“å…¥[2]ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒiNGPä¸‰çº¿æ€§æ’å€¼åˆ°ä¸åŒå¤§å°çš„3Dç½‘æ ¼å±‚æ¬¡ä¸­ï¼Œä¸ºå°å‹MLPç”Ÿæˆç‰¹å¾å‘é‡[21]ã€‚æˆ‘ä»¬çš„æ¨¡å‹ç»“åˆäº†mip-NeRF 360çš„æ•´ä½“æ¡†æ¶å’ŒiNGPçš„ç‰¹å¾åŒ–æ–¹æ³•ï¼Œä½†å°†è¿™ä¸¤ç§æ–¹æ³•å¤©çœŸåœ°ç»“åˆèµ·æ¥ä¼šå¼•å…¥ä¸¤ç§å½¢å¼çš„æ··è”:</p><ul><li>InstantNGPçš„ç‰¹å¾ç½‘æ ¼æ–¹æ³•ä¸mip- nerf360çš„æ„ŸçŸ¥å°ºåº¦çš„é›†æˆä½ç½®ç¼–ç æŠ€æœ¯ä¸å…¼å®¹ï¼Œå› æ­¤iNGPç”Ÿæˆçš„ç‰¹å¾ç›¸å¯¹äºç©ºé—´åæ ‡æ˜¯æ··å aliasedçš„ï¼Œä»è€Œäº§ç”Ÿaliasedçš„æ¸²æŸ“å›¾ã€‚åœ¨ç¬¬2èŠ‚ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¼•å…¥ä¸€ç§ç”¨äºè®¡ç®—é¢„æ»¤æ³¢çš„iNGPç‰¹å¾çš„ç±»ä¼¼å¤šé‡‡æ ·çš„è§£å†³æ–¹æ¡ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜</li><li>ä½¿ç”¨iNGPæå¤§åœ°åŠ é€Ÿäº†è®­ç»ƒï¼Œä½†è¿™æ­ç¤ºäº†mip-NeRF 360çš„åœ¨çº¿è’¸é¦æ–¹æ³•çš„é—®é¢˜ï¼Œå¯¼è‡´é«˜åº¦å¯è§çš„â€œz-æ··å â€(æ²¿ç€å…‰çº¿æ··å )ï¼Œå…¶ä¸­åœºæ™¯å†…å®¹éšç€ç›¸æœºç§»åŠ¨è€Œä¸è§„å¾‹åœ°æ¶ˆå¤±ã€‚åœ¨ç¬¬3èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ–°çš„æŸå¤±å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯¥æŸå¤±å‡½æ•°åœ¨è®¡ç®—ç”¨äºç›‘ç£åœ¨çº¿è’¸é¦çš„æŸå¤±å‡½æ•°æ—¶æ²¿æ¯æ¡å°„çº¿è¿›è¡Œé¢„è¿‡æ»¤ã€‚</li></ul><h1 id="Spatial-Anti-Aliasing"><a href="#Spatial-Anti-Aliasing" class="headerlink" title="Spatial Anti-Aliasing"></a>Spatial Anti-Aliasing</h1><p>Mip-NeRFä½¿ç”¨çš„ç‰¹å¾è¿‘ä¼¼äºå­ä½“ä¸­åæ ‡ä½ç½®ç¼–ç çš„ç§¯åˆ†ï¼Œè¿™æ˜¯ä¸€ä¸ªé”¥å½¢æˆªé”¥ä½“ã€‚è¿™<strong>å¯¼è‡´å½“ç‰¹å¾æ­£å¼¦æ³¢çš„å‘¨æœŸå¤§äºé«˜æ–¯çš„æ ‡å‡†å·®æ—¶</strong>ï¼Œå…¶å‚…ç«‹å¶ç‰¹å¾æŒ¯å¹…è¾ƒå°-è¿™äº›ç‰¹å¾ä»…åœ¨å¤§äºå­ä½“å°ºå¯¸çš„æ³¢é•¿å¤„è¡¨ç¤ºå­ä½“çš„ç©ºé—´ä½ç½®ã€‚ç”±äºè¯¥ç‰¹å¾å¯¹ä½ç½®å’Œæ¯”ä¾‹è¿›è¡Œç¼–ç ï¼Œå› æ­¤ä½¿ç”¨å®ƒçš„MLPèƒ½å¤Ÿå­¦ä¹ å‘ˆç°æŠ—æ··å å›¾åƒçš„3Dåœºæ™¯çš„å¤šå°ºåº¦è¡¨ç¤ºã€‚åƒiNGPè¿™æ ·åŸºäºç½‘æ ¼çš„è¡¨ç¤º<strong>æœ¬èº«ä¸å…è®¸æŸ¥è¯¢sub-volumes</strong>ï¼Œè€Œæ˜¯åœ¨å•ç‚¹ä½¿ç”¨ä¸‰çº¿æ€§æ’å€¼æ¥æ„å»ºç”¨äºMLPçš„ç‰¹å¾ï¼Œ<strong>è¿™å¯¼è‡´å­¦ä¹ æ¨¡å‹æ— æ³•å¯¹è§„æ¨¡æˆ–æ··å è¿›è¡Œæ¨ç†</strong>ã€‚<br>æˆ‘ä»¬é€šè¿‡å°†æ¯ä¸ªé”¥å½¢æˆªé”¥ä½“è½¬æ¢ä¸º<strong>ä¸€ç»„å„å‘åŒæ€§é«˜æ–¯ä½“</strong>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨å¤šé‡é‡‡æ ·å’Œç‰¹å¾é™æƒçš„ç»„åˆ: <strong>å„å‘å¼‚æ€§å­ä½“é¦–å…ˆè½¬æ¢ä¸ºä¸€ç»„è¿‘ä¼¼å…¶å½¢çŠ¶çš„ç‚¹ï¼Œç„¶åå‡è®¾æ¯ä¸ªç‚¹æ˜¯å…·æœ‰ä¸€å®šå°ºåº¦çš„å„å‘åŒæ€§é«˜æ–¯ä½“</strong>ã€‚è¿™ç§å„å‘åŒæ€§å‡è®¾ä½¿æˆ‘ä»¬èƒ½å¤Ÿåˆ©ç”¨ç½‘æ ¼ä¸­çš„å€¼ä¸ºé›¶å‡å€¼çš„äº‹å®æ¥è¿‘ä¼¼ç‰¹å¾ç½‘æ ¼åœ¨å­ä½“ç§¯ä¸Šçš„çœŸå®ç§¯åˆ†ã€‚é€šè¿‡å¹³å‡è¿™äº›é™æƒç‰¹å¾ï¼Œæˆ‘ä»¬ä»iNGPç½‘æ ¼ä¸­è·å¾—äº†å°ºåº¦æ„ŸçŸ¥çš„é¢„æ»¤æ³¢ç‰¹å¾ã€‚å¦‚å›¾2æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729140301.png" alt="image.png"><br>è¿™é‡Œæˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ªtoyçš„ä¸€ç»´iNGP[21]ï¼Œæ¯ä¸ªå°ºåº¦æœ‰ä¸€ä¸ªç‰¹å¾ã€‚æ¯ä¸ªå­å›¾è¡¨ç¤ºæ²¿xè½´åœ¨æ‰€æœ‰åæ ‡ä¸ŠæŸ¥è¯¢iNGPçš„ä¸åŒç­–ç•¥â€”â€”æƒ³è±¡ä¸€ä¸ªä»å·¦å‘å³ç§»åŠ¨çš„é«˜æ–¯å‡½æ•°ï¼Œå…¶ä¸­æ¯æ¡çº¿æ˜¯æ¯ä¸ªåæ ‡çš„iNGPç‰¹å¾ï¼Œå…¶ä¸­æ¯ç§é¢œè‰²æ˜¯iNGPä¸­çš„ä¸åŒæ¯”ä¾‹ã€‚(a)æŸ¥è¯¢é«˜æ–¯å‡å€¼çš„æœ´ç´ è§£å†³æ–¹æ¡ˆå¯¼è‡´å…·æœ‰åˆ†æ®µçº¿æ€§æ‰­æ›²çš„ç‰¹å¾ï¼Œå…¶ä¸­è¶…è¿‡é«˜æ–¯å¸¦å®½çš„é«˜é¢‘å¾ˆå¤§ä¸”ä¸å‡†ç¡®ã€‚(b)é€šè¿‡å°†iNGPç‰¹å¾ä¸é«˜æ–¯å‡½æ•°å·ç§¯å¾—åˆ°çš„çœŸå®è§£â€”â€”åœ¨å®è·µä¸­æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„è§£â€”â€”å¾—åˆ°å…‰æ»‘ä½†ä¿¡æ¯ä¸°å¯Œçš„ç²—ç³™ç‰¹å¾å’Œæ¥è¿‘0çš„ç²¾ç»†ç‰¹å¾ã€‚(c)æˆ‘ä»¬å¯ä»¥é€šè¿‡åŸºäºé«˜æ–¯å°ºåº¦çš„é™æƒæ¥æŠ‘åˆ¶ä¸å¯é çš„é«˜é¢‘(æ¯ä¸ªç‰¹å¾åé¢çš„é¢œè‰²å¸¦è¡¨ç¤ºé™æƒ)ï¼Œä½†è¿™ä¼šå¯¼è‡´ç²—ç³™ç‰¹å¾ä¸­ä¸è‡ªç„¶çš„å°–é”ä¸è¿ç»­ã€‚(d)æˆ–è€…ï¼Œè¶…é‡‡æ ·äº§ç”Ÿåˆç†çš„ç²—å°ºåº¦ç‰¹å¾ï¼Œä½†äº§ç”Ÿä¸ç¨³å®šçš„ç»†å°ºåº¦ç‰¹å¾ã€‚(e)å› æ­¤ï¼Œæˆ‘ä»¬å¤šæ ·æœ¬å„å‘åŒæ€§äºšé«˜æ–¯åˆ†å¸ƒ(å¦‚å›¾5æ‰€ç¤º)ï¼Œå¹¶ä½¿ç”¨æ¯ä¸ªäºšé«˜æ–¯åˆ†å¸ƒçš„å°ºåº¦æ¥é™ä½é¢‘ç‡çš„æƒé‡ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729140618.png" alt="image.png"></p><p>æŠ—é”¯é½¿åœ¨å›¾å½¢å­¦æ–‡çŒ®ä¸­å¾—åˆ°äº†å¾ˆå¥½çš„æ¢è®¨ã€‚Mip mapping(Mip - nerfçš„åŒå)é¢„å…ˆè®¡ç®—äº†ä¸€ç§èƒ½å¤Ÿå¿«é€ŸæŠ—é”¯é½¿çš„æ•°æ®ç»“æ„ï¼Œä½†ç›®å‰å°šä¸æ¸…æ¥šè¿™ç§æ–¹æ³•å¦‚ä½•åº”ç”¨äºiNGPçš„åŸºäºå“ˆå¸Œçš„æ•°æ®ç»“æ„ã€‚è¶…é‡‡æ ·æŠ€æœ¯[8]é‡‡ç”¨è›®åŠ›æ–¹æ³•æŠ—æ··å ï¼Œä½¿ç”¨å¤§é‡æ ·æœ¬;æˆ‘ä»¬å°†è¯æ˜ï¼Œè¿™ç§æ–¹æ³•æ¯”æˆ‘ä»¬çš„æ–¹æ³•æ•ˆç‡æ›´ä½ï¼Œæˆæœ¬æ›´é«˜ã€‚å¤šé‡‡æ ·æŠ€æœ¯[11]æ„å»ºä¸€ä¸ªå°æ ·æœ¬é›†ï¼Œç„¶åå°†è¿™äº›å¤šæ ·æœ¬ä¸­çš„ä¿¡æ¯æ±‡é›†åˆ°ä¸€ä¸ªèšåˆè¡¨ç¤ºä¸­ï¼Œå¹¶æä¾›ç»™ä¸€ä¸ªæ˜‚è´µçš„æ¸²æŸ“è¿‡ç¨‹â€”â€”è¿™æ˜¯ä¸€ç§ç±»ä¼¼äºæˆ‘ä»¬çš„æ–¹æ³•çš„ç­–ç•¥ã€‚</p><h2 id="Multisampling"><a href="#Multisampling" class="headerlink" title="Multisampling"></a>Multisampling</h2><p>æ ¹æ®mip-NeRF[2]ï¼Œæˆ‘ä»¬å‡è®¾æ¯ä¸ªåƒç´ å¯¹åº”ä¸€ä¸ªåŠå¾„ä¸º$\dot r t$çš„é”¥ï¼Œå…¶ä¸­æ²¿å°„çº¿çš„è·ç¦»ä¸ºtã€‚ç»™å®šæ²¿å°„çº¿$[t_0, t_1]$çš„ä¸€ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬æƒ³è¦æ„é€ ä¸€ç»„è¿‘ä¼¼äºè¯¥é”¥å½¢æˆªé”¥ä½“å½¢çŠ¶çš„å¤šæ ·æœ¬ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå…­ç‚¹å…­è¾¹å½¢å›¾æ¡ˆï¼Œå…¶è§’$Î¸_j$ä¸º:$\theta=\left[\begin{matrix}0,2\pi/3,4\pi/3,3\pi/3,5\pi/3,\pi/3\end{matrix}\right],$<br>å®ƒä»¬æ˜¯çº¿æ€§é—´éš”çš„è§’ï¼Œå›´ç»•ä¸€ä¸ªåœ†æ—‹è½¬ä¸€æ¬¡ï¼Œæ’åˆ—æˆä¸€å¯¹ä½ç§»60åº¦çš„ä¸‰è§’å½¢ã€‚æ²¿ç€å°„çº¿$t_{j}$çš„è·ç¦»æ˜¯:</p><script type="math/tex; mode=display">\begin{aligned}t_{j}&=t_{0}+\frac{t_{\delta}\left(t_{1}^{2}+2t_{\mu}^{2}+\frac{3}{\sqrt{7}}\left(\frac{2j}{5}-1\right)\sqrt{\left(t_{\delta}^{2}-t_{\mu}^{2}\right)^{2}+4t_{\mu}^{4}}\right)}{t_{\delta}^{2}+3t_{\mu}^{2}}\\\mathrm{where~}t_{\mu}&=(t_{0}+t_{1})/2,t_{\delta}=(t_{1}-t_{0})/2\end{aligned}</script><p>å®ƒä»¬æ˜¯$[t_0, t_1)$ä¸­çš„çº¿æ€§é—´éš”å€¼ï¼Œç»è¿‡ä½ç§»å’Œç¼©æ”¾ä»¥å°†è´¨é‡é›†ä¸­åœ¨ç¦»æˆªä½“è¿œç«¯çš„é™„è¿‘ã€‚æˆ‘ä»¬çš„å¤šæ ·æœ¬åæ ‡ç›¸å¯¹äºå°„çº¿æ˜¯:</p><script type="math/tex; mode=display">\left\{\begin{bmatrix}\dot{r}t_j\cos(\theta_j)/\sqrt{2}\\\dot{r}t_j\sin(\theta_j)/\sqrt{2}\\t_j\end{bmatrix}\Bigg|j=0,1,\ldots,5\right\}.</script><p>é€šè¿‡å°†è¿™äº›3Dåæ ‡ä¹˜ä»¥ä¸€ä¸ªæ ‡å‡†æ­£äº¤åŸºï¼Œå°†å®ƒä»¬æ—‹è½¬æˆä¸–ç•Œåæ ‡ï¼Œè¯¥æ ‡å‡†æ­£äº¤åŸºçš„ç¬¬ä¸‰ä¸ªå‘é‡æ˜¯å°„çº¿æ–¹å‘(å…¶å‰ä¸¤ä¸ªå‘é‡æ˜¯å‚ç›´äºå°„çº¿çš„ä»»æ„å¸§)ï¼Œç„¶åç”±å°„çº¿åŸç‚¹ç§»åŠ¨ã€‚é€šè¿‡æ„é€ ï¼Œè¿™äº›å¤šæ ·æœ¬çš„æ ·æœ¬å‡å€¼å’Œæ–¹å·®(æ²¿å°„çº¿æ–¹å‘å’Œå‚ç›´äºå°„çº¿æ–¹å‘)ä¸é”¥å½¢æˆªé”¥ä½“çš„å‡å€¼å’Œæ–¹å·®å®Œå…¨åŒ¹é…ï¼Œç±»ä¼¼äºmip-NeRFé«˜æ–¯åˆ†å¸ƒã€‚<strong>åœ¨è®­ç»ƒæœŸé—´ï¼Œæˆ‘ä»¬éšæœºæ—‹è½¬å’Œç¿»è½¬æ¯ä¸ªå›¾æ¡ˆ</strong>ï¼Œåœ¨æ¸²æŸ“æœŸé—´ï¼Œæˆ‘ä»¬ç¡®å®šåœ°ç¿»è½¬å’Œæ—‹è½¬æ¯ä¸ªå…¶ä»–å›¾æ¡ˆ30åº¦ã€‚å›¾3æ˜¾ç¤ºäº†è¿™ä¸¤ç§ç­–ç•¥çš„å¯è§†åŒ–ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729141223.png" alt="image.png"></p><p>æˆ‘ä»¬ä½¿ç”¨è¿™6ä¸ªå¤šæ ·æœ¬$\{x_{j}\}$ä½œä¸ºå„å‘åŒæ€§é«˜æ–¯å‡½æ•°çš„å¹³å‡å€¼ï¼Œæ¯ä¸ªé«˜æ–¯å‡½æ•°çš„æ ‡å‡†å·®ä¸º$Ïƒ_j$ã€‚æˆ‘ä»¬è®¾ç½®$Ïƒ_{j} = (\dot r t_{j} /âˆš2)$ï¼Œç”¨ä¸€ä¸ªè¶…å‚æ•°è¿›è¡Œç¼©æ”¾ï¼Œåœ¨æ‰€æœ‰å®éªŒä¸­éƒ½æ˜¯0.5ã€‚ç”±äºiNGPç½‘æ ¼è¦æ±‚è¾“å…¥åæ ‡ä½äºæœ‰ç•ŒåŸŸä¸­ï¼Œå› æ­¤æˆ‘ä»¬åº”ç”¨äº†mip-NeRF 360[3]ä¸­çš„æ”¶ç¼©å‡½æ•°ã€‚ç”±äºè¿™äº›é«˜æ–¯å‡½æ•°æ˜¯å„å‘åŒæ€§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨mip-NeRF 360ä½¿ç”¨çš„å¡å°”æ›¼æ»¤æ³¢æ–¹æ³•çš„æœ‰æ•ˆæ›¿ä»£æ–¹æ³•æ¥è®¡ç®—ç”±è¿™ç§æ”¶ç¼©å¼•èµ·çš„æ¯”ä¾‹å› å­;è¯¦è§é™„å½•ã€‚</p><h2 id="Downweighting"><a href="#Downweighting" class="headerlink" title="Downweighting"></a>Downweighting</h2><p>è™½ç„¶å¤šé‡‡æ ·æ˜¯å‡å°‘æ··å çš„æœ‰æ•ˆå·¥å…·ï¼Œä½†å¯¹æ¯ä¸ªå¤šé‡‡æ ·ä½¿ç”¨æœ´ç´ ä¸‰çº¿æ€§æ’å€¼ä»ç„¶ä¼šå¯¼è‡´é«˜é¢‘æ··å ï¼Œå¦‚å›¾2(d)æ‰€ç¤ºã€‚å¯¹äºæ¯ä¸ªå•ç‹¬çš„å¤šæ ·æœ¬çš„æŠ—æ··å æ’å€¼ï¼Œæˆ‘ä»¬ä»¥ä¸€ç§ä¸æ¯ä¸ªå¤šæ ·æœ¬çš„å„å‘åŒæ€§é«˜æ–¯åœ¨æ¯ä¸ªç½‘æ ¼å•å…ƒä¸­çš„æ‹Ÿåˆç¨‹åº¦æˆåæ¯”çš„æ–¹å¼é‡æ–°åŠ æƒæ¯ä¸ªå°ºåº¦çš„ç‰¹å¾: <strong>å¦‚æœé«˜æ–¯æ¯”è¢«æ’å€¼åˆ°çš„å•å…ƒå¤§å¾—å¤šï¼Œåˆ™æ’å€¼çš„ç‰¹å¾å¯èƒ½ä¸å¯é ï¼Œåº”è¯¥é™ä½æƒé‡</strong>ã€‚Mip-NeRFçš„IPEç‰¹å¾ä¹Ÿæœ‰ç±»ä¼¼çš„è§£é‡Šã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729140301.png" alt="image.png"><br>åœ¨iNGPä¸­ï¼Œå¯¹åæ ‡xçš„æ¯ä¸ª$\{V_{\ell}\}$çš„æ’å€¼æ˜¯é€šè¿‡å°†xæŒ‰ç½‘æ ¼çš„çº¿æ€§å¤§å°$n_{\ell}$ç¼©æ”¾ï¼Œå¹¶å¯¹$V_{\ell}$æ‰§è¡Œä¸‰çº¿æ€§æ’å€¼ä»¥è·å¾—$c_{\ell}$é•¿åº¦çš„å‘é‡æ¥å®Œæˆçš„ã€‚æˆ‘ä»¬ç”¨å‡å€¼${x_j}$å’Œæ ‡å‡†å·®${Ïƒ_j}$æ’å€¼ä¸€ç»„å¤šé‡‡æ ·å„å‘åŒæ€§é«˜æ–¯å‡½æ•°ã€‚é€šè¿‡å¯¹é«˜æ–¯CDFsçš„æ¨ç†ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºåœ¨$V_{\ell}$ä¸­çš„$[âˆ’1/2n, 1/2n]^3$ç«‹æ–¹å†…çš„æ¯ä¸ªé«˜æ–¯PDFçš„åˆ†æ•°ï¼Œå¹¶å°†å…¶æ’å€¼ä¸ºä¸æ¯”ä¾‹ç›¸å…³çš„é™æƒå› å­$Ï‰_{j,\ell} = erf(1/\sqrt{8Ïƒ^{2}_{j} n^{2}_{\ell}})$ï¼Œå…¶ä¸­$Ï‰_{j,\ell}âˆˆ[0,1]$ã€‚å¦‚ç¬¬4èŠ‚æ‰€è¿°ï¼Œæˆ‘ä»¬å¯¹$\{V_{\ell}\}$æ–½åŠ æƒè¡°å‡ï¼Œè¿™ä¿ƒä½¿$V_{\ell}$ä¸­çš„å€¼å‘ˆæ­£æ€åˆ†å¸ƒä¸”ä¸ºé›¶å‡å€¼ã€‚è¿™ä¸ªé›¶å‡å€¼å‡è®¾è®©æˆ‘ä»¬å°†æœŸæœ›çš„ç½‘æ ¼ç‰¹å¾ç›¸å¯¹äºæ¯ä¸ªå¤šæ ·æœ¬çš„é«˜æ–¯è¿‘ä¼¼ä¸º$\omega_{j}\cdot\mathbf{f}_{j,\ell}+(1-\omega_{j})\cdot\mathbf{0}=\omega_{j}\cdot\mathbf{f}_{j,\ell}.$ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å¯¹æ¯ä¸ªå¤šæ ·æœ¬çš„æ’å€¼ç‰¹å¾è¿›è¡ŒåŠ æƒå¹³å‡ï¼Œè¿‘ä¼¼å¾—åˆ°æ‰€è¦è¡¨å¾çš„åœ†é”¥æˆªé”¥ä½“æ‰€å¯¹åº”çš„æœŸæœ›ç‰¹å¾:$\mathbf{f}_{\ell}=\max_{j}(\omega_{j,\ell}\cdot\mathrm{trilerp}(n_{\ell}\cdot\mathbf{x}_{j};V_{\ell})).$<br>è¿™ç»„ç‰¹æ€§$\{\mathbf{f}_{\ell}\}$è¢«è¿æ¥èµ·æ¥å¹¶ä½œä¸ºè¾“å…¥æä¾›ç»™MLPï¼Œå°±åƒåœ¨iNGPä¸­ä¸€æ ·ã€‚æˆ‘ä»¬è¿˜è¿æ¥äº†$\{Ï‰_{j,\ell}\}$çš„ç‰¹å¾ç‰ˆæœ¬ï¼Œè¯¦ç»†ä¿¡æ¯è¯·å‚è§é™„å½•ã€‚</p><h1 id="Z-Aliasing-and-Proposal-Supervision"><a href="#Z-Aliasing-and-Proposal-Supervision" class="headerlink" title="Z-Aliasing and Proposal Supervision"></a>Z-Aliasing and Proposal Supervision</h1><p>è™½ç„¶å‰é¢è¯¦ç»†ä»‹ç»çš„å¤šé‡‡æ ·å’Œé™æƒæ–¹æ³•æ˜¯å‡å°‘ç©ºé—´æ··å çš„æœ‰æ•ˆæ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»è€ƒè™‘æ²¿ç€å°„çº¿çš„å¦ä¸€ä¸ªæ··å æºï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºz-aliasingã€‚è¿™ç§z-aliasingæ˜¯ç”±äºmip-NeRF 360ä½¿ç”¨äº†ä¸€ä¸ªå­¦ä¹ äº§ç”Ÿåœºæ™¯å‡ ä½•ä¸Šç•Œçš„æè®®MLP: åœ¨è®­ç»ƒå’Œæ¸²æŸ“æœŸé—´ï¼Œæ²¿ç€å°„çº¿çš„é—´éš”è¢«è¿™ä¸ªæè®®MLPåå¤è¯„ä¼°ï¼Œä»¥ç”Ÿæˆç›´æ–¹å›¾ï¼Œç”±ä¸‹ä¸€è½®é‡‡æ ·é‡æ–°é‡‡æ ·ï¼Œåªæœ‰æœ€åä¸€ç»„æ ·æœ¬ç”±NeRF MLPæ¸²æŸ“ã€‚Mip-NeRF 360è¡¨æ˜ï¼Œä¸ä¹‹å‰ä½¿ç”¨å›¾åƒé‡å»ºæ¥ç›‘ç£å­¦ä¹ ä¸€ä¸ª[2]æˆ–å¤šä¸ª[19]nerfçš„ç­–ç•¥ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•æ˜¾è‘—æé«˜äº†é€Ÿåº¦å’Œæ¸²æŸ“è´¨é‡ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°mip-NeRF 360ä¸­çš„MLPå€¾å‘äºå­¦ä¹ ä»è¾“å…¥åæ ‡åˆ°è¾“å‡ºä½“ç§¯å¯†åº¦çš„éå…‰æ»‘æ˜ å°„ã€‚è¿™å¯¼è‡´äº†å°„çº¿â€œè·³è¿‡â€åœºæ™¯å†…å®¹çš„ä¼ªå½±ï¼Œå¦‚å›¾4æ‰€ç¤ºã€‚è™½ç„¶è¿™ä¸ªå·¥ä»¶åœ¨mip-NeRF 360ä¸­æ˜¯å¾®å¦™çš„ï¼Œä½†å¦‚æœæˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„æè®®ç½‘ç»œä½¿ç”¨iNGPåç«¯è€Œä¸æ˜¯MLP(ä»è€Œå¢åŠ æˆ‘ä»¬æ¨¡å‹å¿«é€Ÿä¼˜åŒ–çš„èƒ½åŠ›)ï¼Œå®ƒå°±ä¼šå˜å¾—æ™®éå’Œè§†è§‰ä¸Šæ˜¾è‘—ï¼Œç‰¹åˆ«æ˜¯å½“ç›¸æœºæ²¿ç€å…¶zè½´å¹³ç§»æ—¶ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729145358.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/z_alias_pdf_labeled.gif" alt="z_alias_pdf_labeled.gif"></p><p>mip-NeRF 360ä¸­z-æ··å çš„æ ¹æœ¬åŸå› æ˜¯<strong>ç”¨äºç›‘ç£ææ¡ˆç½‘ç»œçš„â€œå±‚é—´æŸå¤±â€</strong>ï¼Œå®ƒå°†ç­‰æ•ˆçš„æŸå¤±åˆ†é…ç»™NeRFå’Œææ¡ˆç›´æ–¹å›¾binsï¼Œæ— è®ºå®ƒä»¬çš„é‡å æ˜¯éƒ¨åˆ†çš„è¿˜æ˜¯å®Œå…¨çš„-ææ¡ˆç›´æ–¹å›¾ç®±åªæœ‰åœ¨å®ƒä»¬å®Œå…¨æ²¡æœ‰é‡å æ—¶æ‰ä¼šå—åˆ°æƒ©ç½šã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ›¿ä»£æŸè€—ï¼Œä¸mip-NeRF 360çš„å±‚é—´æŸè€—ä¸åŒï¼Œå®ƒæ˜¯æ²¿å°„çº¿è·ç¦»è¿ç»­ä¸”å¹³æ»‘çš„ã€‚å›¾6æ˜¯ä¸¤ç§æŸå¤±å‡½æ•°çš„æ¯”è¾ƒã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729150649.png" alt="image.png"><br>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯è§†åŒ–äº†ä¸€ä¸ªtoyè®¾ç½®çš„ææ¡ˆç›‘ç£ï¼Œå…¶ä¸­çª„NeRFç›´æ–¹å›¾(è“è‰²)æ²¿ç€ç›¸å¯¹äºç²—ææ¡ˆç›´æ–¹å›¾(æ©™è‰²)çš„å°„çº¿è½¬æ¢ã€‚(a) mip-NeRF 360ä½¿ç”¨çš„æŸå¤±æ˜¯åˆ†æ®µå¸¸æ•°ï¼Œä½†(b)æˆ‘ä»¬çš„æŸå¤±æ˜¯å¹³æ»‘çš„ï¼Œå› ä¸ºæˆ‘ä»¬å°†NeRFç›´æ–¹å›¾æ¨¡ç³Šæˆåˆ†æ®µçº¿æ€§æ ·æ¡(ç»¿è‰²)ã€‚æˆ‘ä»¬çš„é¢„è¿‡æ»¤æŸå¤±è®©æˆ‘ä»¬å­¦ä¹ åæ··å ææ¡ˆåˆ†å¸ƒã€‚</p><p>Blurring a Step Function:<br>ä¸ºäº†è®¾è®¡ä¸€ä¸ª<strong>å¯¹æ²¿å°„çº¿çš„è·ç¦»å…‰æ»‘çš„æŸå¤±å‡½æ•°</strong>ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆæ„é€ ä¸€ç§å°†åˆ†æ®µå¸¸æ•°é˜¶è·ƒå‡½æ•°è½¬åŒ–ä¸ºè¿ç»­åˆ†æ®µçº¿æ€§å‡½æ•°çš„æŠ€æœ¯ã€‚å¹³æ»‘ç¦»æ•£1Dä¿¡å·æ˜¯å¾®ä¸è¶³é“çš„ï¼Œåªéœ€è¦ç”¨ç›’æ»¤æ³¢å™¨(æˆ–é«˜æ–¯æ»¤æ³¢å™¨ç­‰)è¿›è¡Œç¦»æ•£å·ç§¯ã€‚ä½†æ˜¯å½“å¤„ç†ç«¯ç‚¹è¿ç»­çš„åˆ†æ®µå¸¸æ•°å‡½æ•°æ—¶ï¼Œè¿™ä¸ªé—®é¢˜å°±å˜å¾—å›°éš¾äº†ï¼Œå› ä¸ºé˜¶è·ƒå‡½æ•°ä¸­æ¯ä¸ªåŒºé—´çš„ç«¯ç‚¹å¯èƒ½åœ¨ä»»æ„ä½ç½®ã€‚æ …æ ¼åŒ–é˜¶è·ƒå‡½æ•°å¹¶æ‰§è¡Œå·ç§¯å¹¶ä¸æ˜¯ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºè¿™åœ¨éå¸¸çª„çš„ç›´æ–¹å›¾ç®±çš„å¸¸è§æƒ…å†µä¸‹æ˜¯å¤±è´¥çš„ã€‚</p><p>å› æ­¤éœ€è¦ä¸€ç§æ–°çš„ç®—æ³•ã€‚è€ƒè™‘ä¸€ä¸ªé˜¶è·ƒå‡½æ•°(x, y)ï¼Œå…¶ä¸­$(x_i, x_{i+1})$æ˜¯åŒºé—´içš„ç«¯ç‚¹ï¼Œ$y_i$æ˜¯åŒºé—´iå†…é˜¶è·ƒå‡½æ•°çš„å€¼ã€‚æˆ‘ä»¬æƒ³è¦å°†è¿™ä¸ªé˜¶è·ƒå‡½æ•°ä¸åŠå¾„ä¸ºrçš„çŸ©å½¢è„‰å†²è¿›è¡Œå·ç§¯ï¼Œè¯¥è„‰å†²ç§¯åˆ†ä¸º1$:[|x| &lt; r]/(2r)$ï¼Œå…¶ä¸­[]æ˜¯è‰¾å¼—æ£®æ‹¬å·ã€‚è§‚å¯Ÿåˆ°é˜¶è·ƒå‡½æ•°çš„å•ä¸ªåŒºé—´iä¸è¯¥çŸ©å½¢è„‰å†²çš„å·ç§¯æ˜¯ä¸€ä¸ªåˆ†æ®µçº¿æ€§æ¢¯å½¢ï¼Œå…¶ç»“ç‚¹ä¸º$(x_iâˆ’r, 0)ï¼Œ (x_i+ r, yi)ï¼Œ (x_i+1âˆ’r, y_i)ï¼Œ (x_i+1 + r, 0)$ï¼Œè€Œåˆ†æ®µçº¿æ€§æ ·æ¡æ˜¯ä½äºæ¯ä¸ªæ ·æ¡ç»“å¤„çš„ç¼©æ”¾ä¸‰è§’å‡½æ•°çš„äºŒé‡ç§¯åˆ†[12]ã€‚,å’Œè¿™ä¸€äº‹å®æ€»å’Œé€šå‹¤ä¸æ•´åˆ,æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆåœ°ç¼ ç»•ä¸€ä¸ªçŸ©å½¢è„‰å†²çš„é˜¶è·ƒå‡½æ•°å¦‚ä¸‹:æˆ‘ä»¬æŠŠæ¯ä¸ªç«¯ç‚¹$x_i$çš„é˜¶è·ƒå‡½æ•°åˆ†æˆä¸¤ä¸ªsigned delta functionsä½äº$x_iâˆ’r$å’Œ$x_i+r$å€¼æ­£æ¯”äºç›¸é‚»çš„yå€¼ä¹‹é—´çš„å˜åŒ–,æˆ‘ä»¬äº¤é”™(é€šè¿‡æ’åº)Î´å‡½æ•°,ç„¶åæˆ‘ä»¬æŠŠè¿™äº›æ’åºÎ´å‡½æ•°ä¸¤æ¬¡(å‚è§ç®—æ³•1è¡¥å……çš„ä¼ªä»£ç )ã€‚æœ‰äº†è¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ æˆ‘ä»¬çš„æŠ—æ··å æŸå¤±å‡½æ•°ã€‚</p><p>Anti-Aliased Interlevel Loss:<br>æˆ‘ä»¬ç»§æ‰¿çš„mip-NeRF 360ä¸­çš„æè®®ç›‘ç£æ–¹æ³•éœ€è¦ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼Œè¯¥æŸå¤±å‡½æ•°ä»¥NeRF (s, w)äº§ç”Ÿçš„é˜¶è·ƒå‡½æ•°å’Œæè®®æ¨¡å‹$(\hat s, \hat w)$äº§ç”Ÿçš„ç±»ä¼¼é˜¶è·ƒå‡½æ•°ä½œä¸ºè¾“å…¥ã€‚è¿™ä¸¤ä¸ªé˜¶è·ƒå‡½æ•°éƒ½æ˜¯ç›´æ–¹å›¾ï¼Œå…¶ä¸­så’Œ$\hat s$æ˜¯ç«¯ç‚¹ä½ç½®çš„å‘é‡ï¼Œwå’Œ$\hat w$æ˜¯æƒå€¼ä¹‹å’Œâ‰¤1çš„å‘é‡ï¼Œå…¶ä¸­$w_i$è¡¨ç¤ºåœºæ™¯å†…å®¹åœ¨é˜¶è·ƒå‡½æ•°åŒºé—´çš„å¯è§ç¨‹åº¦ã€‚æ¯ä¸ª$s_i$æ˜¯çœŸåº¦é‡è·ç¦»$t_i$çš„æŸä¸ªå½’ä¸€åŒ–å‡½æ•°ï¼Œæ ¹æ®æŸä¸ªå½’ä¸€åŒ–å‡½æ•°g(Â·)ï¼Œæˆ‘ä»¬å°†åœ¨åé¢è®¨è®ºã€‚è¯·æ³¨æ„ï¼Œså’Œ$\hat s$æ˜¯ä¸ç›¸åŒçš„-æ¯ä¸ªç›´æ–¹å›¾çš„ç«¯ç‚¹æ˜¯ä¸åŒçš„ã€‚<br>ä¸ºäº†è®­ç»ƒä¸€ä¸ªæè®®ç½‘ç»œï¼Œåœ¨ä¸å¼•å…¥æ··è”çš„æƒ…å†µä¸‹çº¦æŸNeRFé¢„æµ‹çš„åœºæ™¯å‡ ä½•ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼Œå¯ä»¥æµ‹é‡(s, w)å’Œ$(\hat s, \hat w)$ä¹‹é—´çš„è·ç¦»ï¼Œè¯¥è·ç¦»ç›¸å¯¹äºæ²¿ç€å…‰çº¿çš„å¹³ç§»æ˜¯å¹³æ»‘çš„ï¼Œå°½ç®¡è¿™ä¸¤ä¸ªé˜¶è·ƒå‡½æ•°çš„ç«¯ç‚¹æ˜¯ä¸åŒçš„ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰æ„å»ºçš„ç®—æ³•æ¨¡ç³ŠNeRFç›´æ–¹å›¾(s, w)ï¼Œç„¶åå°†æ¨¡ç³Šçš„åˆ†å¸ƒé‡æ–°é‡‡æ ·åˆ°æè®®ç›´æ–¹å›¾çš„åŒºé—´é›†ä¸­ï¼Œä»¥äº§ç”Ÿä¸€ç»„æ–°çš„ç›´æ–¹å›¾æƒé‡$w^{\hat s}$ã€‚å›¾5æè¿°äº†è¿™ä¸ªè¿‡ç¨‹ã€‚åœ¨å°†æ¨¡ç³Šçš„NeRFæƒé‡é‡æ–°é‡‡æ ·åˆ°ææ¡ˆç›´æ–¹å›¾çš„ç©ºé—´åï¼Œæˆ‘ä»¬çš„æŸå¤±å‡½æ•°æ˜¯$w^{\hat s}$å’Œ$\hat w$çš„å…ƒç´ å‡½æ•°:$\mathcal{L}_{\mathrm{prop}}(\mathbf{s},\mathbf{w},\hat{\mathbf{s}},\hat{\mathbf{w}})=\sum_{i}\frac{1}{\hat{w}_{i}}\max(0,\not\nabla(w_{i}^{\hat{\mathbf{s}}})-\hat{w}_{i})^{2}.$<br>è™½ç„¶è¿™ç§æŸå¤±ç±»ä¼¼äºmip-NeRF 360çš„æŸå¤±(å¸¦æœ‰åœæ­¢æ¢¯åº¦çš„åŠäºŒæ¬¡å¡æ–¹æŸå¤±)ï¼Œä½†ç”¨äºç”Ÿæˆ$w^{\hat s}$çš„æ¨¡ç³Šå’Œé‡é‡‡æ ·å¯ä»¥é˜²æ­¢æ··å </p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729140618.png" alt="image.png"><br>è®¡ç®—æˆ‘ä»¬çš„æŠ—é”¯é½¿æŸå¤±éœ€è¦æˆ‘ä»¬å¹³æ»‘å’Œé‡æ–°é‡‡æ ·NeRFç›´æ–¹å›¾(s, w)åˆ°ä¸æè®®ç›´æ–¹å›¾$(\hat s, \hat w)$ç›¸åŒçš„ç«¯ç‚¹é›†ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œæ¦‚è¿°ã€‚(1)æˆ‘ä»¬ç”¨wé™¤ä»¥så†…æ¯ä¸ªåŒºé—´çš„å¤§å°ï¼Œå¾—åˆ°ç§¯åˆ†â‰¤1çš„åˆ†æ®µå¸¸æ•°PDFã€‚(2)æˆ‘ä»¬å°†è¯¥PDFä¸çŸ©å½¢è„‰å†²è¿›è¡Œå·ç§¯ï¼Œä»¥è·å¾—åˆ†æ®µçº¿æ€§PDFã€‚(3)é›†æˆæ­¤PDFä»¥ç”Ÿæˆåˆ†æ®µäºŒæ¬¡CDFï¼Œè¯¥CDFé€šè¿‡åˆ†æ®µäºŒæ¬¡æ’å€¼åœ¨ä¸‰å…ƒå…³ç³»å¼çš„æ¯ä¸ªä½ç½®$\hat s$è¿›è¡ŒæŸ¥è¯¢ã€‚(4)é€šè¿‡å–ç›¸é‚»æ’å€¼å€¼ä¹‹é—´çš„å·®å€¼ï¼Œæˆ‘ä»¬å¾—åˆ°$w^{\hat s}$ï¼Œè¿™æ˜¯é‡æ–°é‡‡æ ·åˆ°æè®®ç›´æ–¹å›¾$\hat s$ç«¯ç‚¹çš„NeRFç›´æ–¹å›¾æƒå€¼wã€‚(5)é‡æ–°é‡‡æ ·åï¼Œæˆ‘ä»¬å°†loss $\mathcal{L}_{prop}$è¯„ä¼°ä¸º$w^{\hat s}$å’Œ$\hat w$çš„å…ƒç´ å‡½æ•°ï¼Œå› ä¸ºå®ƒä»¬å…±äº«ä¸€ä¸ªå…¬å…±çš„åæ ‡ç©ºé—´ã€‚</p><p>Normalizing Metric Distance:<br>åœ¨mip-NeRF 360ä¸­ï¼Œæˆ‘ä»¬ç”¨å½’ä¸€åŒ–è·ç¦»$sâˆˆ[0,1]$æ¥å‚æ•°åŒ–æ²¿ç€å°„çº¿$tâˆˆ[t_{near}, t_{far}]$çš„åº¦é‡è·ç¦»(å…¶ä¸­tnearå’Œtfaræ˜¯æ‰‹åŠ¨å®šä¹‰çš„è¿‘å’Œè¿œå¹³é¢è·ç¦»)ã€‚æ¸²æŸ“ä½¿ç”¨åº¦é‡è·ç¦»tï¼Œä½†<strong>é‡æ–°é‡‡æ ·å’Œææ¡ˆç›‘ç£ä½¿ç”¨å½’ä¸€åŒ–è·ç¦»s</strong>ï¼Œå…¶ä¸­ä¸€äº›å‡½æ•°g(Â·)å®šä¹‰äº†ä¸¤è€…ä¹‹é—´çš„åŒå°„ã€‚mip-NeRF 360ä¸­ä½¿ç”¨çš„å±‚é—´æŸè€—å¯¹è·ç¦»çš„å•è°ƒå˜æ¢æ˜¯ä¸å˜çš„ï¼Œå› æ­¤å®ƒä¸å—g(Â·)çš„é€‰æ‹©çš„å½±å“ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„æŠ—æ··å æŸå¤±é¢„æ»¤æ³¢æ¶ˆé™¤äº†è¿™ç§ä¸å˜æ€§ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¸­ä½¿ç”¨mip-NeRF 360â€™s g(Â·)ä¼šå¯¼è‡´ç¾éš¾æ€§çš„å¤±è´¥ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»æ„å»ºä¸€ä¸ªæ–°çš„å½’ä¸€åŒ–ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªæ–°çš„powerè½¬æ¢:$\mathcal{P}(x,\lambda)=\frac{|\lambda-1|}{\lambda}\left(\left(\frac{x}{|\lambda-1|}+1\right)^{\lambda}-1\right).$<br>è¯¥å‡½æ•°åœ¨åŸç‚¹å¤„çš„æ–œç‡ä¸º1ï¼Œå› æ­¤å°„çº¿åŸç‚¹é™„è¿‘çš„å½’ä¸€åŒ–è·ç¦»ä¸åº¦é‡è·ç¦»æˆæ­£æ¯”(æ— éœ€è°ƒæ•´éé›¶çš„è¿‘å¹³é¢è·ç¦»æ›²çº¿)ï¼Œä½†è¿œç¦»åŸç‚¹çš„åº¦é‡è·ç¦»å˜å¾—å¼¯æ›²ï¼Œç±»ä¼¼äºå¯¹æ•°è·ç¦»(Î» = 0)æˆ–é€†è·ç¦»(Î» = - 1)ã€‚è¿™è®©æˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„å½’ä¸€åŒ–ä¹‹é—´å¹³æ»‘åœ°æ’å€¼ï¼Œè€Œä¸æ˜¯åœ¨ä¸åŒçš„ç¦»æ•£å‡½æ•°ä¸­äº¤æ¢ã€‚å¦‚å›¾7æ‰€ç¤ºä¸ºP(xï¼Œ Î»)çš„å¯è§†åŒ–ï¼Œä»¥åŠä¸æˆ‘ä»¬çš„å½’ä¸€åŒ–æ–¹æ³•çš„æ¯”è¾ƒï¼Œå³$g(x) = \mathcal{P}(2xï¼Œ - 1.5)$ , å½“$sâˆˆ[0,1 /2]$æ—¶ï¼Œè¯¥æ›²çº¿å¤§è‡´ä¸ºçº¿æ€§ï¼Œä½†å½“$sâˆˆ[1/2,1]$æ—¶ï¼Œè¯¥æ›²çº¿ä»‹äºé€†å’Œåå¹³æ–¹ä¹‹é—´</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230729154650.png" alt="image.png"></p><h1 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h1><p>æˆ‘ä»¬çš„æ¨¡å‹æ˜¯åœ¨JAX[6]ä¸­å®ç°çš„ï¼ŒåŸºäºmip-NeRF 360ä»£ç åº“[20]ï¼Œé‡æ–°å®ç°äº†iNGPçš„ä½“ç´ ç½‘æ ¼é‡‘å­—å¡”å’Œå“ˆå¸Œå€¼ï¼Œå–ä»£äº†mip-NeRF 360ä½¿ç”¨çš„å¤§å‹MLPã€‚æˆ‘ä»¬çš„<strong>æ•´ä½“æ¨¡å‹æ¶æ„ä¸mip-NeRF 360ç›¸åŒ</strong>ï¼Œé™¤äº†ç¬¬2èŠ‚å’Œç¬¬3èŠ‚ä¸­å¼•å…¥çš„æŠ—é”¯é½¿è°ƒæ•´ï¼Œä»¥åŠæˆ‘ä»¬åœ¨è¿™é‡Œæè¿°çš„ä¸€äº›é¢å¤–ä¿®æ”¹ã€‚</p><p>åƒmip-NeRF 360ä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤è½®æè®®é‡‡æ ·ï¼Œæ¯æ¬¡64ä¸ªæ ·æœ¬ï¼Œç„¶ååœ¨æœ€åçš„NeRFé‡‡æ ·è½®ä¸­ä½¿ç”¨32ä¸ªæ ·æœ¬ã€‚æˆ‘ä»¬çš„æŠ—æ··å çº§é—´æŸå¤±è¢«æ–½åŠ åœ¨ä¸¤è½®æè®®é‡‡æ ·ä¸Šï¼Œç¬¬ä¸€è½®çš„çŸ©å½¢è„‰å†²å®½åº¦ä¸ºr = 0.03ï¼Œç¬¬äºŒè½®ä¸ºr = 0.003ï¼ŒæŸè€—ä¹˜æ•°ä¸º0.01ã€‚æˆ‘ä»¬å¯¹æ¯ä¸€è½®æè®®é‡‡æ ·ä½¿ç”¨å•ç‹¬çš„æè®®iNGPå’ŒMLPï¼Œå¹¶ä¸”æˆ‘ä»¬çš„NeRF MLPä½¿ç”¨æ¯”iNGPä½¿ç”¨çš„æ›´å¤§çš„ä¾èµ–äºè§†å›¾çš„åˆ†æ”¯ã€‚è¯¦è§é™„å½•ã€‚</p><p>æˆ‘ä»¬å¯¹iNGPåšçš„ä¸€ä¸ªå°è€Œé‡è¦çš„ä¿®æ”¹æ˜¯å¯¹å­˜å‚¨åœ¨å…¶ç½‘æ ¼å’Œå“ˆå¸Œé‡‘å­—å¡”ä¸­çš„ç‰¹å¾ä»£ç æ–½åŠ æ ‡å‡†åŒ–çš„æƒé‡è¡°å‡:$\sum_\ell\operatorname{mean}(V_\ell^2).$ã€‚é€šè¿‡æƒ©ç½šæ¯ä¸ªé‡‘å­—å¡”çº§åˆ«$V_{\ell}$çš„æ–¹æ ¼ç½‘æ ¼/å“ˆå¸Œå€¼çš„å¹³å‡å€¼çš„å’Œï¼Œæˆ‘ä»¬è¯±å¯¼å‡ºä¸æƒ©ç½šæ‰€æœ‰å€¼çš„å’Œçš„naiveè§£å†³æ–¹æ¡ˆæˆªç„¶ä¸åŒçš„è¡Œä¸ºï¼Œå› ä¸ºç²—å°ºåº¦æ¯”ç»†å°ºåº¦å—åˆ°çš„æƒ©ç½šè¦å¤šå‡ ä¸ªæ•°é‡çº§ã€‚è¿™ä¸ªç®€å•çš„æŠ€å·§éå¸¸æœ‰æ•ˆâ€”â€”ä¸æ²¡æœ‰æƒé‡è¡°å‡ç›¸æ¯”ï¼Œå®ƒå¤§å¤§æé«˜äº†æ€§èƒ½ï¼Œå¹¶ä¸”æ˜¾è‘—ä¼˜äºæœ´ç´ æƒé‡è¡°å‡ã€‚åœ¨æ‰€æœ‰å®éªŒä¸­ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªå½’ä¸€åŒ–æƒé‡è¡°å‡ä½¿ç”¨0.1çš„æŸå¤±ä¹˜æ•°ã€‚</p><ul><li>360 Dataset</li><li>Multiscale 360 Dataset</li></ul><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="éè®ºæ–‡code"><a href="#éè®ºæ–‡code" class="headerlink" title="éè®ºæ–‡code"></a>éè®ºæ–‡code</h2><p><a href="https://github.com/SuLvXiangXin/zipnerf-pytorch">SuLvXiangXin/zipnerf-pytorch: Unofficial implementation of ZipNeRF (github.com)</a></p><h3 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># Clone the repo.</span><br><span class="line">git clone https://github.com/SuLvXiangXin/zipnerf-pytorch.git</span><br><span class="line">cd zipnerf-pytorch</span><br><span class="line"></span><br><span class="line"># Make a conda environment.</span><br><span class="line">conda create --name zipnerf python=3.9</span><br><span class="line">conda activate zipnerf</span><br><span class="line"></span><br><span class="line"># Install requirements.</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line"></span><br><span class="line"># Install other extensions</span><br><span class="line">pip install ./gridencoder</span><br><span class="line"></span><br><span class="line"># Install nvdiffrast (optional, for textured mesh)</span><br><span class="line">git clone https://github.com/NVlabs/nvdiffrast</span><br><span class="line">pip install ./nvdiffrast</span><br><span class="line"></span><br><span class="line"># Install a specific cuda version of torch_scatter </span><br><span class="line"># see more detail at https://github.com/rusty1s/pytorch_scatter</span><br><span class="line">CUDA=cu117</span><br><span class="line">pip install torch-scatter -f https://data.pyg.org/whl/torch-2.0.0+$&#123;CUDA&#125;.html</span><br></pre></td></tr></table></figure><h3 id="Train"><a href="#Train" class="headerlink" title="Train"></a>Train</h3><ul><li>Dataset</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir data</span><br><span class="line">cd data</span><br><span class="line"></span><br><span class="line"># e.g. mipnerf360 data</span><br><span class="line">wget http://storage.googleapis.com/gresearch/refraw360/360_v2.zip</span><br><span class="line">unzip 360_v2.zip</span><br></pre></td></tr></table></figure><ul><li>Train</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># Configure your training (DDP? fp16? ...)</span><br><span class="line"># see https://huggingface.co/docs/accelerate/index for details</span><br><span class="line">accelerate config</span><br><span class="line"></span><br><span class="line"># Where your data is </span><br><span class="line">DATA_DIR=data/360_v2/bicycle</span><br><span class="line">EXP_NAME=360_v2/bicycle</span><br><span class="line"></span><br><span class="line"># Experiment will be conducted under &quot;exp/$&#123;EXP_NAME&#125;&quot; folder</span><br><span class="line"># &quot;--gin_configs=configs/360.gin&quot; can be seen as a default config </span><br><span class="line"># and you can add specific config useing --gin_bindings=&quot;...&quot; </span><br><span class="line">accelerate launch train.py \</span><br><span class="line">    --gin_configs=configs/360.gin \</span><br><span class="line">    --gin_bindings=&quot;Config.data_dir = &#x27;$&#123;DATA_DIR&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.exp_name = &#x27;$&#123;EXP_NAME&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.factor = 4&quot;</span><br><span class="line"></span><br><span class="line"># or you can also run without accelerate (without DDP)</span><br><span class="line">CUDA_VISIBLE_DEVICES=0 python train.py \</span><br><span class="line">    --gin_configs=configs/360.gin \</span><br><span class="line">    --gin_bindings=&quot;Config.data_dir = &#x27;$&#123;DATA_DIR&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.exp_name = &#x27;$&#123;EXP_NAME&#125;&#x27;&quot; \</span><br><span class="line">      --gin_bindings=&quot;Config.factor = 4&quot; </span><br><span class="line"></span><br><span class="line"># alternatively you can use an example training script </span><br><span class="line">bash scripts/train_360.sh</span><br><span class="line"></span><br><span class="line"># blender dataset</span><br><span class="line">bash scripts/train_blender.sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># metric, render image, etc can be viewed through tensorboard</span><br><span class="line">tensorboard --logdir &quot;exp/$&#123;EXP_NAME&#125;&quot; </span><br><span class="line"></span><br><span class="line">autoDl:</span><br><span class="line">tensorboard --logdir &quot;exp/$&#123;EXP_NAME&#125;&quot; --port 6007</span><br><span class="line">lsof -i:6007</span><br><span class="line">    kill -7 PID</span><br><span class="line">ps -ef | grep tensorboard | awk &#x27;&#123;print $2&#125;&#x27; | xargs kill -9</span><br></pre></td></tr></table></figure><ul><li>Render video</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">accelerate launch render.py \</span><br><span class="line">    --gin_configs=configs/360.gin \</span><br><span class="line">    --gin_bindings=&quot;Config.data_dir = &#x27;$&#123;DATA_DIR&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.exp_name = &#x27;$&#123;EXP_NAME&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.render_path = True&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.render_path_frames = 480&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.render_video_fps = 60&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.factor = 4&quot;  </span><br><span class="line"></span><br><span class="line"># alternatively you can use an example rendering script </span><br><span class="line">bash scripts/render_360.sh</span><br></pre></td></tr></table></figure><ul><li>Evaluate</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># using the same exp_name as in training</span><br><span class="line">accelerate launch eval.py \</span><br><span class="line">    --gin_configs=configs/360.gin \</span><br><span class="line">    --gin_bindings=&quot;Config.data_dir = &#x27;$&#123;DATA_DIR&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.exp_name = &#x27;$&#123;EXP_NAME&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.factor = 4&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># alternatively you can use an example evaluating script </span><br><span class="line">bash scripts/eval_360.sh</span><br></pre></td></tr></table></figure><ul><li>Extract mesh</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># more configuration can be found in internal/configs.py</span><br><span class="line">accelerate launch extract.py \</span><br><span class="line">    --gin_configs=configs/360.gin \</span><br><span class="line">    --gin_bindings=&quot;Config.data_dir = &#x27;$&#123;DATA_DIR&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.exp_name = &#x27;$&#123;EXP_NAME&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.factor = 4&quot;</span><br><span class="line">#    --gin_bindings=&quot;Config.mesh_radius = 1&quot;  # (optional) smaller for more details e.g. 0.2 in bicycle scene</span><br><span class="line">#    --gin_bindings=&quot;Config.isosurface_threshold = 20&quot;  # (optional) empirical value</span><br><span class="line">#    --gin_bindings=&quot;Config.mesh_voxels=134217728&quot;  # (optional) number of voxels used to extract mesh, e.g. 134217728 equals to 512**3 . Smaller values may solve OutoFMemoryError</span><br><span class="line">#    --gin_bindings=&quot;Config.vertex_color = True&quot;  # (optional) saving mesh with vertex color instead of atlas which is much slower but with more details.</span><br><span class="line">#    --gin_bindings=&quot;Config.vertex_projection = True&quot;  # (optional) use projection for vertex color</span><br><span class="line"></span><br><span class="line"># or extracting mesh using tsdf method</span><br><span class="line">accelerate launch tsdf.py \</span><br><span class="line">    --gin_configs=configs/360.gin \</span><br><span class="line">    --gin_bindings=&quot;Config.data_dir = &#x27;$&#123;DATA_DIR&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.exp_name = &#x27;$&#123;EXP_NAME&#125;&#x27;&quot; \</span><br><span class="line">    --gin_bindings=&quot;Config.factor = 4&quot;</span><br><span class="line"></span><br><span class="line"># alternatively you can use an example script </span><br><span class="line">bash scripts/extract_360.sh</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Efficiency </tag>
            
            <tag> Encoding </tag>
            
            <tag> Sampling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRO</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeRO/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Shadow&amp;Highlight/NeRO/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeRO: Neural Geometry and BRDF Reconstruction of Reflective Objects from Multiview Images</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://liuyuan-pal.github.io/">Yuan Liu</a>, <a href="https://totoro97.github.io/">Peng Wang</a>, <a href="https://clinplayer.github.io/">Cheng Lin</a>, <a href="https://www.xxlong.site/">Xiaoxiao Long</a>, <a href="https://jiepengwang.github.io/">Jiepeng Wang</a>, <a href="https://lingjie0206.github.io/">Lingjie Liu</a>, <a href="https://homepages.inf.ed.ac.uk/tkomura/">Taku Komura</a>, <a href="https://engineering.tamu.edu/cse/profiles/Wang-Wenping.html">Wenping Wang</a></td></tr><tr><td>Conf/Jour</td><td>SIGGRAPH 2023</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://liuyuan-pal.github.io/NeRO/">NeRO: Neural Geometry and BRDF Reconstruction of Reflective Objects from Multiview Images (liuyuan-pal.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4761535311519940609&amp;noteId=1889502311513975040">NeRO: Neural Geometry and BRDF Reconstruction of Reflective Objects from Multiview Images (readpaper.com)</a></td></tr></tbody></table></div><p>Reference</p><blockquote><p><a href="https://readpaper.com/paper/3204455502">[PDF] NeRD: Neural Reflectance Decomposition From Image Collections</a><br><a href="https://readpaper.com/paper/692131090958098432">[PDF] SAMURAI: Shape And Material from Unconstrained Real-world Arbitrary Image collections</a><br><a href="https://readpaper.com/paper/4645908786821742593">[PDF] Relighting4D: Neural Relightable Human from Videos</a><br><a href="https://readpaper.com/paper/682591079116292096">[PDF] Neural 3D Scene Reconstruction with the Manhattan-world Assumption</a><br><a href="https://readpaper.com/paper/640484809354805248">[PDF] NeROIC: Neural Rendering of Objects from Online Image Collections</a></p></blockquote><p>å¯¹é‡‘å±åå…‰æè´¨çš„ç‰©ä½“é‡å»ºæ•ˆæœå¾ˆå¥½</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728162856.png" alt="imgae"></p><p>æå‡ºäº†ä¸€ç§æ–°çš„å…‰è¡¨ç¤ºæ–¹æ³•ï¼Œé¢œè‰²ç”±æ¼«åå°„å’Œé•œé¢åå°„ä¸¤éƒ¨åˆ†ç»„æˆï¼Œé€šè¿‡ä¸¤ä¸ªé˜¶æ®µçš„æ–¹æ³•æ¥å®ç°</p><ul><li>Stage1ï¼šä½¿ç”¨é›†æˆæ–¹å‘ç¼–ç æ¥è¿‘ä¼¼å…‰ç§¯åˆ†ï¼Œä½¿ç”¨shadow MLPå¯¹ç›´æ¥å…‰å’Œé—´æ¥å…‰è¿›è¡Œmodelï¼Œå­¦ä¹ åˆ°äº†è¡¨é¢å‡ ä½•å½¢çŠ¶</li><li>Stage2ï¼šè’™ç‰¹å¡ç½—é‡‡æ ·å›ºå®šå‡ ä½•å½¢çŠ¶ï¼Œé‡å»ºæ›´ç²¾ç¡®çš„è¡¨é¢BRDFå’Œç¯å¢ƒå…‰<ul><li>$\mathbf{c}_{\mathrm{diffuse}}=\frac{1}{N_{d}}\sum_{i}^{N_{d}}(1-m)\mathrm{a}L(\omega_{i}),$</li><li>$\mathbf{c}_{\mathrm{specular}}=\frac{1}{N_{s}}\sum_{i}^{N_{s}}\frac{FG(\omega_{0}\cdot\mathbf{h})}{(\mathbf{n}\cdot\mathbf{h})(\mathbf{n}\cdot\omega_{\mathbf{0}})}L(\omega_{i}),$</li></ul></li></ul><span id="more"></span><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728142918.png" alt="image.png"></p><p>Stage1 MLPï¼š</p><ul><li>SDF&amp;Materialï¼š<ul><li>input: p2PE</li><li>output: Albedo , Metallic , Roughness, SDF</li></ul></li><li>Refectionè®¡ç®—ï¼šSDF2næ³•å‘é‡ , vè§‚å¯Ÿæ–¹å‘ â€”&gt; tåå°„æ–¹å‘</li><li>Direct Lightï¼š<ul><li>input: Roughness&amp;t to IDE</li><li>output: shading</li></ul></li><li>Indirect Light: é—´æ¥å…‰ä¸çƒç©ºé—´ä¸­çš„ä½ç½®æœ‰å…³<ul><li>input: Roughness&amp;t to IDE , p2PE</li><li>output: shading</li></ul></li><li>Occlusion Prob: æ¥ç¡®å®šåœ¨æ¸²æŸ“ä¸­å°†ä½¿ç”¨ç›´æ¥ç¯å…‰è¿˜æ˜¯é—´æ¥ç¯å…‰<ul><li>input: t2DE, p2PE</li><li>output: shading</li></ul></li><li>Opaque Densityè®¡ç®—ï¼šSDF â€”&gt; wæƒé‡</li><li>Shadingè®¡ç®—ï¼š Albedo , Metallic , shading â€”&gt; cé¢œè‰²<ul><li>Light integral approximation ï¼Œ ç”± $g_{direct}$è¾“å‡ºã€$g_{indirect}$è¾“å‡ºå’Œé®æŒ¡æ¦‚ç‡s(t)è®¡ç®—å‡ºå…‰ç§¯åˆ†</li><li>ç”±æ¼«å°„å…‰ç§¯åˆ†ã€é•œé¢åå°„å…‰ç§¯åˆ†ã€åç…§ç‡aå’Œé‡‘å±åº¦mè®¡ç®—å‡ºæœ€ç»ˆè¯¥ç‚¹çš„é¢œè‰²</li></ul></li></ul><script type="math/tex; mode=display">\begin{gathered}\mathbf{c}(\omega_{0})=\mathbf{c}_{\mathrm{diffuse}}+\mathbf{c}_{\mathrm{specular}}, \\\mathbf{c}_{\mathrm{diffuse}}=\int_{\Omega}(1-m)\frac{\mathbf{a}}{\pi}L(\omega_{i})(\omega_{i}\cdot\mathbf{n})d\omega_{i}, \\\mathbf{c}_{\mathrm{specular}}=\int_{\Omega}\frac{DFG}{4(\omega_{i}\cdot\mathbf{n})(\omega_{0}\cdot\mathbf{n})}L(\omega_{i})(\omega_{i}\cdot\mathbf{n})d\omega_{i}. \end{gathered}</script><p>å…‰è¿‘ä¼¼ï¼š<br>$\mathbf{c}_{\mathrm{diffuse}}=\text{a}(1-m)\underbrace{\int_{\Omega}L(\omega_{i})\frac{\omega_{i}\cdot\mathbf{n}}{\pi}d\omega_{i},}_{L_{\mathrm{diffuse}}}$<br>$\mathbf{c}_{\mathrm{specular}}\approx\underbrace{\int_{\Omega}L(\omega_{i})D(\rho,\mathbf{t})d\omega_{i}}_{L_{\mathrm{specular}}}\cdot\underbrace{\int_{\Omega}\frac{DFG}{4(\omega_{0}\cdot\mathbf{n})}d\omega_{i},}_{M_{\mathrm{specular}}}$<br>å…¶ä¸­äº®åº¦å¯ä»¥åˆ†ä¸ºç›´æ¥å…‰(outer sphere)å’Œé—´æ¥å…‰(inner sphere)</p><script type="math/tex; mode=display">\begin{aligned}L_{\mathrm{specular}}&\approx[1-s(\mathrm{t})]\int_{\Omega}g_{\mathrm{direct}}(SH(\omega_l))D(\rho,\mathrm{t})d\omega_l+\\&s(\mathrm{t})\int_{\Omega}g_{\mathrm{indirect}}(SH(\omega_l),\mathrm{p})D(\rho,\mathrm{t})d\omega_l\\&\approx[1-s(\mathrm{t})]g_{\mathrm{direct}}(\int_{\Omega}SH(\omega_l)D(\rho,\mathrm{t})d\omega_l)+\\&s(\mathrm{t})g_{\mathrm{indirect}}(\int_{\Omega}SH(\omega_i)D(\rho,\mathrm{t})d\omega_l,\mathrm{p}).\end{aligned}</script><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728135846.png" alt="image.png"></p><ul><li>ä¼˜ç‚¹<ul><li>ä¸éœ€maskï¼Œä¸»è¦ç›®æ ‡æ˜¯é‡å»ºç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’ŒBRDFçš„é¢œè‰²</li></ul></li><li>ä¸è¶³<ul><li>å‡ ä½•ä¸­çš„ç»†èŠ‚æ— æ³•é‡å»ºå‡ºæ¥ï¼ˆå¤ªå…‰æ»‘ï¼‰</li><li>ç”±äºé¢œè‰²ä¾èµ–æ³•å‘é‡ä¼°è®¡ï¼Œè¡¨é¢æ³•çº¿çš„é”™è¯¯ä¼šå¯¼è‡´éš¾ä»¥æ‹Ÿåˆæ­£ç¡®çš„é¢œè‰²</li><li>ä¾èµ–äºå‡†ç¡®çš„è¾“å…¥ç›¸æœºå§¿åŠ¿ï¼Œå¹¶ä¸”ä¼°è®¡åå°„ç‰©ä½“ä¸Šçš„ç›¸æœºå§¿åŠ¿é€šå¸¸éœ€è¦ç¨³å®šçš„çº¹ç†ï¼Œå¦‚ç”¨äºå›¾åƒåŒ¹é…çš„æ ¡å‡†æ¿ã€‚</li><li>å¾ˆæ…¢ï¼Œåœ¨3090(24G)ä¸Šï¼ŒStage1çš„éšå¼é‡å»ºéœ€è¦å¤§æ¦‚10ä¸ªå°æ—¶å·¦å³ï¼ŒStage2çš„BRDFè‰²å½©é‡å»ºéœ€è¦3ä¸ªåŠå°æ—¶å·¦å³</li></ul></li></ul><p>çº¹ç†æ ¡å‡†æ¿</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728161948.png" alt="image.png"></p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç¥ç»é‡å»ºæ–¹æ³•NeROï¼Œå®ƒå¯ä»¥åœ¨<strong>ä¸çŸ¥é“ç¯å¢ƒå…‰ç…§æ¡ä»¶å’Œç‰©ä½“æ©æ¨¡çš„æƒ…å†µä¸‹</strong>ç²¾ç¡®åœ°é‡å»ºåå°„ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’ŒBRDFã€‚NeROçš„å…³é”®æ€æƒ³æ˜¯æ˜ç¡®åœ°å°†æ¸²æŸ“æ–¹ç¨‹åˆå¹¶åˆ°ç¥ç»é‡æ„æ¡†æ¶ä¸­ã€‚<br>NeROé€šè¿‡æå‡ºä¸€ç§<strong>æ–°é¢–çš„å…‰è¡¨ç¤º</strong>å’Œé‡‡ç”¨ä¸¤é˜¶æ®µæ–¹æ³•æ¥å®ç°è¿™ä¸€å…·æœ‰æŒ‘æˆ˜æ€§çš„ç›®æ ‡ã€‚</p><ul><li>åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œé€šè¿‡åº”ç”¨æ˜“äºå¤„ç†çš„è¿‘ä¼¼ï¼Œæˆ‘ä»¬ç”¨é˜´å½±mlpå¯¹ç›´æ¥å’Œé—´æ¥å…‰è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶å¿ å®åœ°å­¦ä¹ è¡¨é¢å‡ ä½•å½¢çŠ¶ã€‚</li><li>åœ¨ç¬¬äºŒé˜¶æ®µï¼Œæˆ‘ä»¬é€šè¿‡è’™ç‰¹å¡ç½—é‡‡æ ·å›ºå®šå‡ ä½•å½¢çŠ¶ï¼Œé‡å»ºæ›´ç²¾ç¡®çš„è¡¨é¢BRDFå’Œç¯å¢ƒå…‰ã€‚</li></ul><p>å®éªŒè¡¨æ˜ï¼Œä¸æœ€å…ˆè¿›çš„æŠ€æœ¯ç›¸æ¯”ï¼ŒNeROå¯ä»¥å®ç°æ›´å¥½çš„è¡¨é¢é‡å»ºè´¨é‡å’Œåå°„ç‰©ä½“çš„BRDFä¼°è®¡ã€‚</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§åŸºäºç¥ç»æ¸²æŸ“çš„æ–¹æ³•ï¼Œç§°ä¸ºNeROï¼Œç”¨äºä»æœªçŸ¥ç¯å¢ƒä¸­æ•è·çš„å¤šè§†å›¾å›¾åƒä¸­é‡å»ºåå°„ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’ŒBRDF</p><blockquote><p>BRDF: åŒå‘åå°„åˆ†å¸ƒå‡½æ•° The <strong>bidirectional reflectance distribution function</strong><br><a href="https://en.wikipedia.org/wiki/Bidirectional_reflectance_distribution_function">Bidirectional reflectance distribution function - Wikipedia</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230727122713.png" alt="image.png"></p><p>${\displaystyle f_{\text{r}}(\omega _{\text{i}},\,\omega _{\text{r}})\,=\,{\frac {\mathrm {d} L_{\text{r}}(\omega _{\text{r}})}{\mathrm {d} E_{\text{i}}(\omega _{\text{i}})}}\,=\,{\frac {1}{L_{\text{i}}(\omega _{\text{i}})\cos \theta _{\text{i}}}}{\frac {\mathrm {d} L_{\text{r}}(\omega _{\text{r}})}{\mathrm {d} \omega _{\text{i}}}}}$</p><p>åå°„ç‰©ä½“çš„å¤šè§†å›¾é‡å»ºéå¸¸å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œå› ä¸ºé•œé¢åå°„ä¾èµ–äºè§†å›¾ï¼Œä»è€Œè¿åäº†å¤šè§†å›¾ä¸€è‡´æ€§ï¼Œè€Œå¤šè§†å›¾ä¸€è‡´æ€§æ˜¯å¤§å¤šæ•°å¤šè§†å›¾é‡å»ºæ–¹æ³•çš„åŸºç¡€ã€‚<br>æœ€è¿‘çš„ç¥ç»æ¸²æŸ“æŠ€æœ¯å¯ä»¥æ¨¡æ‹Ÿç¯å¢ƒå…‰å’Œç‰©ä½“è¡¨é¢ä¹‹é—´çš„ç›¸äº’ä½œç”¨ï¼Œä»¥é€‚åº”ä¸è§†å›¾ç›¸å…³çš„åå°„ï¼Œä»è€Œä½¿ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºåå°„ç‰©ä½“æˆä¸ºå¯èƒ½ã€‚ç„¶è€Œï¼Œåœ¨ç¥ç»æ¸²æŸ“ä¸­ï¼Œç¯å¢ƒå…‰çš„ç²¾ç¡®å»ºæ¨¡æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨å‡ ä½•å½¢çŠ¶æœªçŸ¥çš„æƒ…å†µä¸‹ã€‚<strong>ç°æœ‰çš„ç¥ç»æ¸²æŸ“æ–¹æ³•å¯¹ç¯å¢ƒå…‰è¿›è¡Œå»ºæ¨¡æ—¶ï¼Œå¤§å¤šåªè€ƒè™‘ç›´å°„å…‰ï¼Œä¾é ç‰©ä½“è’™ç‰ˆæ¥é‡å»ºåå°„è¾ƒå¼±çš„ç‰©ä½“</strong>ã€‚å› æ­¤ï¼Œè¿™äº›æ–¹æ³•æ— æ³•é‡å»ºåå°„ç‰©ä½“ï¼Œç‰¹åˆ«æ˜¯åœ¨æ²¡æœ‰ç‰©ä½“æ©æ¨¡å’Œç‰©ä½“è¢«é—´æ¥å…‰ç…§å°„çš„æƒ…å†µä¸‹ã€‚</p><p>æˆ‘ä»¬å»ºè®®é‡‡å–ä¸¤æ­¥èµ°çš„åŠæ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><ul><li>é¦–å…ˆï¼Œé€šè¿‡åº”ç”¨<strong>åˆ†å‰²å’Œè¿‘ä¼¼split-sum approximation</strong>å’Œ<strong>é›†æˆæ–¹å‘ç¼–ç </strong>æ¥è¿‘ä¼¼ç›´æ¥å’Œé—´æ¥å…‰çš„é˜´å½±æ•ˆæœï¼Œæˆ‘ä»¬èƒ½å¤Ÿå‡†ç¡®åœ°é‡å»ºåå°„ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ï¼Œè€Œä¸éœ€è¦ä»»ä½•ç‰©ä½“é®ç½©ã€‚</li><li>ç„¶åï¼Œåœ¨ç‰©ä½“å‡ ä½•å½¢çŠ¶å›ºå®šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æ›´ç²¾ç¡®çš„é‡‡æ ·æ¥æ¢å¤ç‰©ä½“çš„ç¯å¢ƒå…‰å’ŒBRDFã€‚å¤§é‡çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿåœ¨ä¸çŸ¥é“ç¯å¢ƒå…‰å’Œç‰©ä½“æ©æ¨¡çš„æƒ…å†µä¸‹ï¼Œä»…ä»RGBå›¾åƒä¸­å‡†ç¡®åœ°é‡å»ºåå°„ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’ŒBRDFã€‚</li></ul><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>Multiview 3D reconstructionreconstructionï¼Œa fundamental task in computer graphics and visionè¿‘å¹´æ¥å–å¾—äº†å·¨å¤§è¿›æ­¥[Oechsle et al. 2021;SchÃ¶nbergerç­‰ã€‚2016;Wangç­‰ã€‚2021 a, b;å§šç­‰äººã€‚2018;Yarivç­‰ã€‚2021,2020]ã€‚<ul><li>å°½ç®¡å–å¾—äº†ä»¤äººä¿¡æœçš„æˆæœï¼Œä½†åœ¨ç°å®ç¯å¢ƒä¸­ç»å¸¸çœ‹åˆ°çš„åå°„ç‰©ä½“çš„é‡å»ºä»ç„¶æ˜¯ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§å’Œçªå‡ºçš„é—®é¢˜ã€‚åå…‰ç‰©ä½“é€šå¸¸æœ‰å…‰æ»‘çš„è¡¨é¢ï¼Œéƒ¨åˆ†æˆ–å…¨éƒ¨ç…§å°„åœ¨ç‰©ä½“ä¸Šçš„å…‰è¢«åå°„ã€‚å½“ä»ä¸åŒçš„è§’åº¦è§‚å¯Ÿç‰©ä½“æ—¶ï¼Œåå°„å¯¼è‡´é¢œè‰²ä¸ä¸€è‡´ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°å¤šè§†å›¾é‡å»ºæ–¹æ³•ä¸¥é‡ä¾èµ–äºè§†å›¾ä¸€è‡´æ€§æ¥è¿›è¡Œç«‹ä½“åŒ¹é…ã€‚è¿™å¯¹ç°æœ‰æŠ€æœ¯çš„é‡å»ºè´¨é‡æ„æˆäº†é‡å¤§éšœç¢ã€‚å›¾2 (b)æ˜¾ç¤ºäº†å¹¿æ³›ä½¿ç”¨çš„COLMAP [SchÃ¶nberger et al. 2016]åœ¨åå°„ç‰©ä½“ä¸Šçš„é‡å»º</li></ul></li><li>ä½œä¸ºå¤šè§†å›¾é‡å»ºçš„æ–°å…´è¶‹åŠ¿ï¼ŒåŸºäºç¥ç»æ¸²æŸ“çš„æ›²é¢å»ºæ¨¡æ˜¾ç¤ºå‡ºå¤„ç†å¤æ‚ç‰©ä½“çš„å¼ºå¤§èƒ½åŠ›[Oechsleç­‰äººã€‚2021;Wangç­‰ã€‚2021 b;Yarivç­‰äººã€‚2021å¹´,2020]ã€‚åœ¨è¿™äº›æ‰€è°“çš„ç¥ç»é‡å»ºæ–¹æ³•ä¸­ï¼Œåº•å±‚è¡¨é¢å‡ ä½•è¢«è¡¨ç¤ºä¸ºéšå¼å‡½æ•°ï¼Œä¾‹å¦‚ï¼Œç”±å¤šå±‚æ„ŸçŸ¥(MLP)ç¼–ç çš„ç¬¦å·è·ç¦»å‡½æ•°(SDF)ã€‚ä¸ºäº†é‡å»ºå‡ ä½•å›¾å½¢ï¼Œè¿™äº›æ–¹æ³•<strong>é€šè¿‡å»ºæ¨¡ä¸è§†å›¾ç›¸å…³çš„é¢œè‰²å¹¶æœ€å°åŒ–æ¸²æŸ“å›¾åƒä¸è¾“å…¥å›¾åƒä¹‹é—´çš„å·®å¼‚æ¥ä¼˜åŒ–ç¥ç»éšå¼å‡½æ•°</strong>ã€‚<ul><li>ç„¶è€Œï¼Œç¥ç»é‡å»ºæ–¹æ³•ä»ç„¶éš¾ä»¥é‡å»ºåå°„ç‰©ä½“ã€‚å›¾2 (c)ç»™å‡ºäº†ç¤ºä¾‹ã€‚åŸå› æ˜¯è¿™äº›æ–¹æ³•ä¸­ä½¿ç”¨çš„é¢œè‰²å‡½æ•°åªå°†é¢œè‰²ä¸è§†å›¾æ–¹å‘å’Œè¡¨é¢å‡ ä½•å½¢çŠ¶å…³è”èµ·æ¥ï¼Œè€Œ<strong>æ²¡æœ‰æ˜ç¡®è€ƒè™‘åå°„çš„åº•å±‚é®é˜³æœºåˆ¶</strong>ã€‚å› æ­¤ï¼Œæ‹Ÿåˆè¡¨é¢ä¸Šä¸åŒè§†è§’æ–¹å‘çš„é•œé¢é¢œè‰²å˜åŒ–ä¼šå¯¼è‡´é”™è¯¯çš„å‡ ä½•å½¢çŠ¶ï¼Œå³ä½¿åœ¨ä½ç½®ç¼–ç ä¸­é¢‘ç‡æ›´é«˜ï¼Œæˆ–æ›´æ·±æ›´å®½çš„MLPç½‘ç»œã€‚</li></ul></li><li>ä¸ºäº†è§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„è¡¨é¢åå°„ï¼Œæˆ‘ä»¬å»ºè®®æ˜ç¡®åœ°å°†æ¸²æŸ“æ–¹ç¨‹çš„å…¬å¼[Kajiya 1986]çº³å…¥ç¥ç»é‡å»ºæ¡†æ¶ã€‚æ¸²æŸ“æ–¹ç¨‹ä½¿æˆ‘ä»¬èƒ½å¤Ÿè€ƒè™‘è¡¨é¢åŒå‘åå°„åˆ†å¸ƒå‡½æ•°(BRDF) [Nicodemus 1965]ä¸ç¯å¢ƒå…‰ä¹‹é—´çš„ç›¸äº’ä½œç”¨ã€‚ç”±äºåå°„ç‰©ä½“çš„å¤–è§‚å—åˆ°ç¯å¢ƒå…‰çº¿çš„å¼ºçƒˆå½±å“ï¼Œå› æ­¤ä¾èµ–äºè§†å›¾çš„é•œé¢åå°„å¯ä»¥ç”¨æ¸²æŸ“æ–¹ç¨‹å¾ˆå¥½åœ°è§£é‡Šã€‚<strong>é€šè¿‡æ˜¾å¼æ¸²æŸ“å‡½æ•°ï¼Œå¤§å¤§å¢å¼ºäº†ç°æœ‰ç¥ç»é‡æ„æ¡†æ¶çš„è¡¨å¾èƒ½åŠ›</strong>ï¼Œä»¥æ•è·é«˜é¢‘é•œé¢é¢œè‰²å˜åŒ–ï¼Œä»è€Œæ˜¾è‘—æœ‰åˆ©äºåå°„ç‰©ä½“çš„å‡ ä½•é‡å»ºã€‚</li><li>æ˜¾å¼åœ°å°†æ¸²æŸ“æ–¹ç¨‹åˆå¹¶åˆ°ç¥ç»é‡å»ºæ¡†æ¶ä¸­å¹¶ä¸æ˜¯å¾®ä¸è¶³é“not trivial.çš„ã€‚åœ¨æœªçŸ¥çš„è¡¨é¢ä½ç½®å’ŒæœªçŸ¥çš„ç¯å¢ƒå…‰ä¸‹ï¼Œè®¡ç®—ç¯å¢ƒå…‰çš„ç§¯åˆ†æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ã€‚<ul><li>ä¸ºäº†å¯è·Ÿè¸ªåœ°è¯„ä¼°æ¸²æŸ“æ–¹ç¨‹ï¼Œç°æœ‰çš„ææ–™ä¼°è®¡æ–¹æ³•[Bossç­‰]ã€‚[2021 a, b;Hasselgren et al. 2022;Munkbergç­‰äººã€‚2022;Verbin et al. 2022;Zhangç­‰ã€‚2021a,b, 2022b]å¼ºçƒˆä¾èµ–ç‰©ä½“æ©æ¨¡æ¥è·å¾—æ­£ç¡®çš„è¡¨é¢é‡å»ºï¼Œä¸»è¦ç”¨äºæ— å¼ºé•œé¢åå°„çš„ç‰©ä½“çš„ææ–™ä¼°è®¡ï¼Œåœ¨åå°„ç‰©ä½“ä¸Šçš„æ•ˆæœè¦å·®å¾—å¤šï¼Œå¦‚å›¾2 (d,e)æ‰€ç¤ºã€‚æ­¤å¤–ï¼Œè¿™äº›æ–¹æ³•å¤§å¤šè¿›ä¸€æ­¥ç®€åŒ–äº†æ¸²æŸ“è¿‡ç¨‹ï¼Œåªè€ƒè™‘æ¥è‡ªé¥è¿œåŒºåŸŸçš„å…‰(ç›´å°„å…‰)[Bossç­‰]ã€‚2021 a, b;Munkberg et al. 2022;Verbinç­‰ã€‚2022;Zhangç­‰ã€‚[2021a]ï¼Œå› æ­¤å¾ˆéš¾é‡å»ºè¢«ç‰©ä½“æœ¬èº«æˆ–é™„è¿‘åŒºåŸŸ(é—´æ¥å…‰)çš„åå°„å…‰ç…§å°„çš„è¡¨é¢ã€‚è™½ç„¶æœ‰æ–¹æ³•[Hasselgren et al. 2022;Zhang et al. 2021b, 2022b]è€ƒè™‘åˆ°æ¸²æŸ“ä¸­çš„é—´æ¥å…‰ï¼Œå®ƒä»¬è¦ä¹ˆéœ€è¦å…·æœ‰å·²çŸ¥å‡ ä½•å½¢çŠ¶çš„é‡å»ºè¾å°„åœº[Zhang et al. 2021b];2021b, 2022b]æˆ–åªä½¿ç”¨å¾ˆå°‘çš„å°„çº¿æ ·æœ¬æ¥è®¡ç®—å…‰[Hasselgrenç­‰ã€‚2022]ï¼Œè¿™ä¼šå¯¼è‡´å¯¹åå°„å¯¹è±¡çš„ä¸ç¨³å®šæ”¶æ•›æˆ–å¯¹å¯¹è±¡æ©æ¨¡çš„é¢å¤–ä¾èµ–ã€‚å› æ­¤ï¼ŒåŒæ—¶è€ƒè™‘ç›´æ¥å…‰å’Œé—´æ¥å…‰æ¥æ­£ç¡®é‡å»ºåå°„ç‰©ä½“çš„æœªçŸ¥è¡¨é¢ä»ç„¶æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚</li></ul></li><li>é€šè¿‡å°†æ¸²æŸ“æ–¹ç¨‹æ•´åˆåˆ°ç¥ç»é‡å»ºæ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç§°ä¸ºNeROçš„æ–¹æ³•ï¼Œç”¨äºä»…ä»RGBå›¾åƒä¸­é‡å»ºåå°„ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’ŒBRDFã€‚NeROçš„å…³é”®ç»„æˆéƒ¨åˆ†æ˜¯ä¸€ç§æ–°é¢–çš„å…‰è¡¨ç¤ºã€‚<strong>åœ¨è¿™ç§å…‰è¡¨ç¤ºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå•ç‹¬çš„mlpåˆ†åˆ«ç¼–ç ç›´æ¥å…‰å’Œé—´æ¥å…‰çš„äº®åº¦ï¼Œå¹¶è®¡ç®—é®æŒ¡æ¦‚ç‡ä»¥ç¡®å®šåœ¨æ¸²æŸ“ä¸­åº”è¯¥ä½¿ç”¨ç›´æ¥å…‰è¿˜æ˜¯é—´æ¥å…‰</strong>ã€‚è¿™æ ·çš„å…‰è¡¨ç¤ºæœ‰æ•ˆåœ°é€‚åº”äº†ç›´å°„å…‰å’Œé—´æ¥å…‰ï¼Œä»¥ç²¾ç¡®åœ°é‡å»ºåå°„ç‰©ä½“çš„è¡¨é¢ã€‚åŸºäºæå‡ºçš„å…‰è¡¨ç¤ºï¼ŒNeRO<strong>é‡‡ç”¨ä¸¤é˜¶æ®µç­–ç•¥å¯¹ç¥ç»é‡å»ºä¸­çš„æ¸²æŸ“æ–¹ç¨‹è¿›è¡Œæ˜“äºå¤„ç†çš„è¯„ä¼°</strong>ã€‚<ul><li>NeROçš„ç¬¬ä¸€é˜¶æ®µé‡‡ç”¨åˆ†å‰²å’Œè¿‘ä¼¼å’Œé›†æˆæ–¹å‘ç¼–ç [Verbinç­‰äººã€‚2022]æ¥è¯„ä¼°æ¸²æŸ“æ–¹ç¨‹ï¼Œè¯¥æ–¹ç¨‹å¯ä»¥åœ¨<strong>æŠ˜è¡·compromisedçš„ç¯å¢ƒå…‰å’Œè¡¨é¢BRDFä¼°è®¡çš„æƒ…å†µä¸‹äº§ç”Ÿç²¾ç¡®çš„å‡ ä½•é‡å»º</strong>ã€‚</li><li>ç„¶åï¼Œåœ¨é‡å»ºå‡ ä½•å›ºå®šçš„æƒ…å†µä¸‹ï¼ŒNeROçš„ç¬¬äºŒé˜¶æ®µé€šè¿‡è’™ç‰¹å¡ç½—é‡‡æ ·æ›´å‡†ç¡®åœ°è¯„ä¼°æ¸²æŸ“æ–¹ç¨‹æ¥æ”¹è¿›ä¼°è®¡çš„BRDFã€‚</li><li>é€šè¿‡å…‰è¡¨ç¤ºå’Œä¸¤é˜¶æ®µè®¾è®¡ï¼Œè¯¥æ–¹æ³•ä»æœ¬è´¨ä¸Šæ‰©å±•äº†ç¥ç»æ¸²æŸ“æ–¹æ³•å¯¹åå°„ç‰©ä½“çš„è¡¨ç¤ºèƒ½åŠ›ï¼Œä½¿å…¶å……åˆ†å‘æŒ¥äº†å­¦ä¹ å‡ ä½•è¡¨é¢çš„æ½œåŠ›ã€‚</li></ul></li><li>ä¸ºäº†è¯„ä¼°NeROçš„æ€§èƒ½ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªåˆæˆæ•°æ®é›†å’Œä¸€ä¸ªçœŸå®æ•°æ®é›†ï¼Œè¿™ä¸¤ä¸ªæ•°æ®é›†éƒ½åŒ…å«è¢«å¤æ‚ç¯å¢ƒå…‰ç…§å°„çš„åå°„ç‰©ä½“ã€‚åœ¨è¿™ä¸¤ä¸ªæ•°æ®é›†ä¸Šï¼ŒNeROéƒ½æˆåŠŸåœ°é‡å»ºäº†åå°„ç‰©ä½“çš„å‡ ä½•å’Œè¡¨é¢BRDFï¼Œè€ŒåŸºçº¿MVSæ–¹æ³•å’Œç¥ç»é‡å»ºæ–¹æ³•éƒ½å¤±è´¥äº†ã€‚æˆ‘ä»¬çš„æ–¹æ³•çš„è¾“å‡ºæ˜¯ä¸€ä¸ªå¸¦æœ‰ä¼°è®¡BRDFå‚æ•°çš„ä¸‰è§’å½¢ç½‘æ ¼ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨äºä¸‹æ¸¸åº”ç”¨ï¼Œå¦‚é‡ç…§æ˜ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230727123733.png" alt="image.png"></p><h2 id="RELATED-WORKS"><a href="#RELATED-WORKS" class="headerlink" title="RELATED WORKS"></a>RELATED WORKS</h2><ul><li>Multiview 3D reconstructionï¼ˆMVSï¼‰<ul><li>å¤šè§†è§’ä¸‰ç»´é‡å»ºæˆ–å¤šè§†è§’ç«‹ä½“(MVS)å·²ç»ç ”ç©¶äº†å‡ åå¹´ã€‚ä¼ ç»Ÿçš„å¤šè§†å›¾é‡å»ºæ–¹æ³•ä¸»è¦ä¾é <strong>ä¸‰ç»´ç‚¹çš„å¤šè§†å›¾ä¸€è‡´æ€§</strong>æ¥å»ºç«‹å¯¹åº”å…³ç³»å¹¶ä¼°è®¡ä¸åŒè§†å›¾ä¸Šçš„æ·±åº¦å€¼ã€‚éšç€æ·±åº¦å­¦ä¹ æŠ€æœ¯çš„è¿›æ­¥ï¼Œæœ€è¿‘çš„è®¸å¤šç ”ç©¶[Cheng et al .2020;Wangç­‰ã€‚2021å¹´;Yanç­‰ã€‚2020;Yang et al. 2020;å§šç­‰äººã€‚2018]å°è¯•å¼•å…¥ç¥ç»ç½‘ç»œæ¥ä¼°è®¡MVSä»»åŠ¡çš„å¯¹åº”å…³ç³»ï¼Œè¿™åœ¨å¹¿æ³›ä½¿ç”¨çš„åŸºå‡†æµ‹è¯•ä¸­å±•ç¤ºäº†ä»¤äººå°è±¡æ·±åˆ»çš„é‡å»ºè´¨é‡[Geigerç­‰äººã€‚2013;Jensenç­‰äººã€‚2014;Scharstein and Szeliski 2002]ã€‚</li><li>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é‡å»ºå…·æœ‰<strong>å¼ºé•œé¢åå°„çš„åå°„ç‰©ä½“</strong>ã€‚å¼ºçƒˆçš„é•œé¢åå°„è¿èƒŒäº†å¤šè§†å›¾ä¸€è‡´æ€§ï¼Œå› æ­¤è¿™äº›åŸºäºå¯¹åº”çš„æ–¹æ³•åœ¨åå°„å¯¹è±¡ä¸Šè¡¨ç°ä¸ä½³ã€‚</li><li>Neural surface reconstructionç¥ç»æ¸²æŸ“å’Œç¥ç»è¡¨ç¤ºå› å…¶å¼ºå¤§çš„è¡¨å¾èƒ½åŠ›å’Œå¯¹æ–°è§†å›¾åˆæˆä»»åŠ¡çš„æ˜¾è‘—æ”¹è¿›è€Œå¤‡å—å…³æ³¨ã€‚<ul><li>DVR [Niemeyer et al. 2020]é¦–æ¬¡åœ¨å¤šè§†å›¾é‡å»ºä¸­å¼•å…¥äº†ç¥ç»æ¸²æŸ“å’Œç¥ç»è¡¨é¢è¡¨ç¤ºã€‚</li><li>IDR [Yariv et al. 2020]é€šè¿‡å¯å¾®çƒè¿½è¸ªå’ŒEikonalæ­£åˆ™åŒ–[Gropp et al. 2020]æé«˜äº†é‡å»ºè´¨é‡ã€‚</li><li>UNISURF [Oechsleç­‰]ã€‚VolSDF [Yariv et al. 2021]å’ŒNeus [Wang et al. 2021 2021b]åœ¨å¤šè§†å›¾è¡¨é¢é‡å»ºä¸­å¼•å…¥äº†å¯å¾®ä½“ç»˜åˆ¶ï¼Œæé«˜äº†é²æ£’æ€§å’Œè´¨é‡ã€‚éšåçš„å·¥ä½œåœ¨å„ä¸ªæ–¹é¢æ”¹è¿›äº†åŸºäºä½“æ¸²æŸ“çš„å¤šè§†å›¾é‡å»ºæ¡†æ¶ï¼Œä¾‹å¦‚å¼•å…¥æ›¼å“ˆé¡¿æˆ–æ­£å¸¸å…ˆéªŒ[Guoç­‰. 2022b;Wangç­‰ã€‚2022c]ï¼Œåˆ©ç”¨å¯¹ç§°æ€§[Insafutdinov et al. 2022;Zhangç­‰ã€‚2021c]ï¼Œæå–å›¾åƒç‰¹å¾[damon et al. 2022;Long et al. 2022]ï¼Œæé«˜ä¿çœŸåº¦[Fu et al. 2022;Wangç­‰ã€‚2022b]å’Œæ•ˆç‡[Li et . 2022;Sun et al. 2022;Wangç­‰ã€‚2022å¹´;Wuç­‰äººã€‚2022;èµµç­‰ã€‚2022a]ã€‚</li><li>ä¸è¿™äº›å·¥ä½œç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿéµå¾ªä½“ç»˜åˆ¶æ¡†æ¶è¿›è¡Œè¡¨é¢é‡å»ºï¼Œä½†æˆ‘ä»¬çš„é‡ç‚¹æ˜¯é‡å»ºå…·æœ‰å¼ºé•œé¢åå°„çš„åå°„ç‰©ä½“ï¼Œè¿™æ˜¯ç°æœ‰ç¥ç»é‡å»ºæ–¹æ³•å°šæœªæ¢ç´¢çš„çªå‡ºé—®é¢˜ã€‚</li></ul></li></ul></li><li>Reflective object reconstruction<ul><li>åªæœ‰å°‘æ•°ä½œå“è¯•å›¾é€šè¿‡ä½¿ç”¨é¢å¤–çš„ç‰©ä½“é®ç½©æ¥é‡å»ºå¤šè§†å›¾ç«‹ä½“ç¯å¢ƒä¸­çš„åå°„ç‰©ä½“[Godardç­‰äººã€‚2015]æˆ–å»é™¤åå°„[Wuç­‰ã€‚2018]ã€‚</li><li>é™¤äº†ä¸å—æ§åˆ¶çš„å¤šè§†å›¾é‡å»ºï¼Œä¸€äº›ä½œå“[Han et al. 2016;Roth and Black 2006]é‡‡ç”¨å·²çŸ¥é•œé¢æµçš„çº¦æŸè®¾ç½®[Roth and Black 2006]æˆ–å·²çŸ¥ç¯å¢ƒ[Hanç­‰ã€‚2016]ç”¨äºé‡å»ºç†æƒ³çš„é•œé¢ç‰©ä½“ã€‚</li><li>å…¶ä»–ä¸€äº›å·¥ä½œé€šè¿‡ç¼–ç å°„çº¿æ¥åˆ©ç”¨é¢å¤–çš„å°„çº¿ä¿¡æ¯[Tinç­‰]æˆ–åˆ©ç”¨åæŒ¯å›¾åƒ[Dave et al. 2022;Kadambi et al. 2015;Rahmann and Canterakis 2001]ç”¨é•œé¢åå°„æ¥é‡å»ºç‰©ä½“ã€‚</li><li>[Whelan et al. 2018]åˆ©ç”¨æ‰«æä»ªçš„åå°„å›¾åƒé‡å»ºåœºæ™¯ä¸­çš„é•œåƒå¹³é¢ã€‚</li><li>è¿™äº›æ–¹æ³•è¢«é™åˆ¶åœ¨ä¸€ä¸ªç›¸å¯¹ä¸¥æ ¼çš„è®¾ç½®ä¸ç‰¹æ®Šè®¾è®¡çš„æ•è·è®¾å¤‡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç›´æ¥ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºåå°„ç‰©ä½“ï¼Œè¿™äº›å›¾åƒå¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨æ‰‹æœºç›¸æœºæ•æ‰åˆ°ã€‚</li><li>ä¸€äº›åŸºäºå›¾åƒçš„æ¸²æŸ“æ–¹æ³•[Rodriguez et al .2020;Sinha et al. 2012]æ˜¯ä¸“é—¨ä¸ºNVSä»»åŠ¡è®¾è®¡çš„å…‰æ»‘æˆ–åå°„ç‰©ä½“ã€‚</li><li>NeRFRen [Guoç­‰ 2022a]é‡æ„äº†å­˜åœ¨é•œåƒå¹³é¢çš„åœºæ™¯çš„ç¥ç»å¯†åº¦åœºã€‚</li><li>ç¥ç»ç‚¹æºƒæ•£å­¦[Kopanas et al .2022]åº”ç”¨ç¿˜æ›²åœºæ¥æé«˜åå°„ç‰©ä½“çš„æ¸²æŸ“è´¨é‡ã€‚</li><li>Ref-Nerf [Verbin et al .][2022]æå‡ºäº†é›†æˆæ–¹å‘ç¼–ç (IDE)æ¥æé«˜åå°„ææ–™çš„NVSè´¨é‡ã€‚</li><li>æˆ‘ä»¬çš„æ–¹æ³•<strong>ç»“åˆäº†IDEæ¥é‡å»ºåå°„ç‰©ä½“ï¼Œå¹¶ä½¿ç”¨ç¥ç»SDFè¿›è¡Œè¡¨é¢é‡å»º</strong>ã€‚ä¸€ä¸ªå¹¶è¡Œçš„å·¥ä½œORCA [Tiwary et al. 2022]æ‰©å±•åˆ°ä»å…‰æ»‘ç‰©ä½“ä¸Šçš„åå°„é‡å»ºåœºæ™¯çš„è¾å°„åœºï¼Œè¿™ä¹Ÿé‡å»ºäº†ç®¡é“ä¸­çš„ç‰©ä½“ã€‚ç”±äºORCAçš„ç›®æ ‡ä¸»è¦æ˜¯é‡å»ºåœºæ™¯çš„äº®åº¦åœºï¼Œå› æ­¤å®ƒä¾èµ–äºç‰©ä½“è’™ç‰ˆæ¥é‡å»ºåå°„ç‰©ä½“ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>æˆ‘ä»¬çš„æ–¹æ³•ä¸éœ€è¦ç‰©ä½“é®ç½©</strong>ï¼Œæˆ‘ä»¬çš„ä¸»è¦ç›®æ ‡æ˜¯é‡å»ºç‰©ä½“çš„å‡ ä½•å½¢çŠ¶å’ŒBRDFã€‚</li></ul></li><li>BRDF estimation<ul><li>ä»å›¾åƒä¸­ä¼°è®¡åœ°è¡¨BRDFä¸»è¦åŸºäºé€†æ¸²æŸ“æŠ€æœ¯[Barron and Malik 2014;Nimier-Davidç­‰äººã€‚2019]ã€‚</li><li>ä¸€äº›æ–¹æ³•[Gao et . 2019;éƒ­ç­‰ã€‚2020;Liç­‰äººã€‚2020å¹´,2018å¹´;æ¸©é²å°”ç­‰äººï¼Œ2022;å¶ç­‰äººã€‚2022]åœ¨ç›´æ¥ä¼°è®¡BRDFå’Œç…§æ˜ä¹‹å‰ä¾èµ–äºç‰©ä½“æˆ–åœºæ™¯ã€‚</li><li>å¯å¾®åˆ†æ¸²æŸ“å™¨Differentiable renderers[Chen et al. 2019,2021;Kato et al. 2018;Liu et al. 2019;Nimier-Davidç­‰äººã€‚2019]å…è®¸ä»å›¾åƒæŸå¤±ä¸­ç›´æ¥ä¼˜åŒ–BRDFã€‚ä¸ºäº†è·å¾—æ›´å‡†ç¡®çš„BRDFä¼°è®¡ï¼Œå¤§å¤šæ•°æ–¹æ³•[Bi et al .2020å¹´,(æ— æ—¥æœŸ);Chengç­‰ã€‚2021;Kuang et al. 2022;æå’Œæ2022a,b;Namç­‰äººã€‚2018;Schmitt et al. 2020;Yangç­‰ã€‚2022a,b;Zhangç­‰äºº2022a]è¦æ±‚ç‰©ä½“çš„å¤šä¸ªå›¾åƒç”±ä¸åŒçš„ç»„åˆæ‰‹ç”µç­’ç…§å°„ã€‚</li><li>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä¼°è®¡äº†å¸¦æœ‰ç§»åŠ¨æ‘„åƒæœºçš„é™æ€åœºæ™¯ä¸­çš„BRDFï¼Œè¿™ä¹Ÿæ˜¯Bossç­‰äººé‡‡ç”¨çš„è®¾ç½®[2021a, 2022, 2021b;Deng et al. 2022;Hasselgrenç­‰äººã€‚2022;Munkberg et al. 2022;å¼ ç­‰ã€‚2021a,b, 2022b]ã€‚</li><li>å…¶ä¸­ï¼ŒPhySG [Zhangç­‰ 2021a]ï¼Œ NeRD [Bossç­‰ 2021a]ï¼Œç¥ç»ç½‘ç»œ- pil [Bossç­‰ 2021b]å’ŒNDR [Munkberg et al. 2022]åœ¨BRDFä¼°è®¡ä¸­è€ƒè™‘äº†ç›´æ¥ç¯å¢ƒå…‰ä¸è¡¨é¢ä¹‹é—´çš„ç›¸äº’ä½œç”¨ã€‚åç»­å·¥ä½œMII[å¼ ç­‰ 2022b]ï¼Œ NDRMC [Hasselgrenç­‰ã€‚2022]ï¼ŒDIP [Dengç­‰ 2022]å’ŒNeILF [Yaoç­‰ 2022]å¢åŠ é—´æ¥ç…§æ˜ï¼Œè¿™æé«˜äº†ä¼°è®¡BRDFçš„è´¨é‡</li><li>è¿™äº›æ–¹æ³•çš„ä¸»è¦ç›®çš„æ˜¯é‡å»ºæ™®é€šç‰©ä½“çš„BRDFï¼Œé¿å…å¤ªå¤šçš„é•œé¢åå°„ï¼Œä»è€Œåœ¨åå°„ç‰©ä½“ä¸Šäº§ç”Ÿä½è´¨é‡çš„BRDFã€‚å…¶ä»–ä¸€äº›æ–¹æ³•[Chen and Liu 2022;DuchÃªne et al. 2015;Gaoç­‰ã€‚2020;Liuç­‰äººã€‚2021;Lyuç­‰äººã€‚2022;Nestmeyerç­‰äººã€‚2020;è²åˆ©æ™®ç­‰äººã€‚2019å¹´,2021å¹´;Rudnevç­‰äººã€‚2022;Shih et al. 2013;ä½ ç­‰äººã€‚2020;Yu and Smith 2019;èµµç­‰ï¼Œ2022b;Zhengç­‰äºº2021]ä¸»è¦é’ˆå¯¹é‡å…‰ç…§ä»»åŠ¡ï¼Œè€Œä¸æ˜¯ä¸ºé‡å»ºè¡¨é¢å‡ ä½•æˆ–BRDFè€Œè®¾è®¡çš„ã€‚</li><li>NeILF [Yao et al. 2022]ä¸æˆ‘ä»¬æ–¹æ³•çš„ç¬¬äºŒé˜¶æ®µæœ€ç›¸ä¼¼ï¼Œä¸¤è€…éƒ½å›ºå®šäº†å‡ ä½•å½¢çŠ¶ï¼Œä»¥é€šè¿‡MCé‡‡æ ·ä¼˜åŒ–BRDFã€‚ç„¶è€Œï¼ŒNeILFæ²¡æœ‰å¯¹é•œé¢ç“£è¿›è¡Œé‡è¦é‡‡æ ·ï¼Œåªæ˜¯ä»ä¸€ä¸ªä½ç½®å’Œä¸€ä¸ªæ–¹å‘é¢„æµ‹å…‰çº¿ï¼Œè€Œä¸è€ƒè™‘é®æŒ¡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>æˆ‘ä»¬çš„æ–¹æ³•æ˜ç¡®åŒºåˆ†ç›´æ¥å’Œé—´æ¥å…‰ï¼Œå¹¶åœ¨æ¼«åå°„å’Œé•œé¢ä¸Šä½¿ç”¨é‡è¦é‡‡æ ·ï¼Œä»¥ä¾¿æ›´å¥½åœ°ä¼°è®¡åå°„ç‰©ä½“çš„BRDFã€‚</strong></li></ul></li></ul><h1 id="METHOD"><a href="#METHOD" class="headerlink" title="METHOD"></a>METHOD</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>ç»™å®šä¸€ç»„å·²çŸ¥ç›¸æœºå§¿åŠ¿çš„RGBå›¾åƒä½œä¸ºè¾“å…¥ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é‡å»ºå›¾åƒä¸­åå°„ç‰©ä½“çš„è¡¨é¢å’ŒBRDFã€‚æ³¨æ„ï¼Œ<strong>æˆ‘ä»¬çš„æ–¹æ³•ä¸éœ€è¦çŸ¥é“ç‰©ä½“é®ç½©æˆ–ç¯å¢ƒå…‰</strong>ã€‚<br>NeROçš„pipelineç”±ä¸¤ä¸ªé˜¶æ®µç»„æˆ</p><ul><li>åœ¨ç¬¬ä¸€é˜¶æ®µ(3.3èŠ‚)ï¼Œæˆ‘ä»¬é€šè¿‡ä¼˜åŒ–<strong>å¸¦æœ‰ä½“æ¸²æŸ“çš„ç¥ç»SDF</strong>æ¥é‡å»ºåå°„ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ï¼Œå…¶ä¸­ä¼°è®¡è¿‘ä¼¼çš„ç›´æ¥å’Œé—´æ¥å…‰æ¥æ¨¡æ‹Ÿä¾èµ–äºè§†å›¾çš„é•œé¢é¢œè‰²ã€‚</li><li>åœ¨ç¬¬äºŒé˜¶æ®µ(ç¬¬3.4èŠ‚)ï¼Œæˆ‘ä»¬å›ºå®šäº†ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ï¼Œå¹¶å¾®è°ƒäº†ç›´æ¥å’Œé—´æ¥å…‰ï¼Œä»¥<strong>è®¡ç®—åå°„ç‰©ä½“çš„ç²¾ç¡®BRDF</strong>ã€‚</li></ul><p>æˆ‘ä»¬é¦–å…ˆç®€è¦å›é¡¾ä¸€ä¸‹Neus [Wang et al. 2021b]å’Œå¾®è§‚é¢BRDFæ¨¡å‹[Cook and Torrance 1982;æ‰˜ä¼¦æ–¯å’Œæ–¯æ´¾æ´›1967]</p><p>æˆ‘ä»¬éµå¾ªNeusï¼Œç”¨MLPç½‘ç»œç¼–ç çš„SDFæ¥è¡¨ç¤ºç‰©ä½“è¡¨é¢ã€‚$g_{sdf}(x)$ï¼Œæ›²é¢ä¸º${xâˆˆR^{3} |\mathcal{g}_{sdf} (x) = 0}$ã€‚ç„¶åï¼Œå°†ä½“ç»˜åˆ¶[Mildenhall et al. 2020]åº”ç”¨äºä»ç¥ç»SDFä¸­æ¸²æŸ“å›¾åƒã€‚ç»™å®šç›¸æœºå…‰çº¿$o+tv$ä»ç›¸æœºä¸­å¿ƒæ²¿æ–¹å‘å‘å°„åˆ°ç©ºé—´ï¼Œæˆ‘ä»¬é‡‡æ ·å°„çº¿ä¸Šçš„ç‚¹$\{\mathbf{p}_{j}=\mathbf{o}+t_{j}\mathbf{v}|t_{j}&gt;0,t_{j-1}&lt;t_{j}\}.$ã€‚ç„¶åï¼Œè®¡ç®—è¿™ä¸ªç›¸æœºå…‰çº¿çš„æ¸²æŸ“é¢œè‰²</p><p>$\hat{\mathbf{c}}=\sum_{n}w_{j}\mathbf{c}_{j},$</p><p>æƒé‡wé€šè¿‡[Wang et al. 2021b]ä¸­æå‡ºçš„ä¸é€æ˜å¯†åº¦ä»SDFå€¼å¯¼å‡ºçš„ã€‚cæ˜¯è¿™ä¸ªç‚¹çš„é¢œè‰²ï¼Œç”±MLPç½‘ç»œè¾“å‡ºå¾—åˆ°$\mathbf{c}_{j}=g_{\mathrm{color}}(\mathbf{p}_{j},\mathbf{v})$ã€‚ç„¶åï¼Œé€šè¿‡æœ€å°åŒ–æ¸²æŸ“é¢œè‰²cä¸gtçš„cä¹‹é—´çš„å·®å¼‚ï¼Œä¸¤ä¸ªMLPç½‘ç»œçš„å‚æ•°æ˜¯trainå¾—åˆ°çš„ã€‚$g_{sdf}$çš„é›¶æ°´å¹³é›†æå–é‡æ„æ›²é¢ã€‚ä¸ºäº†ä½¿é¢œè‰²å‡½æ•°èƒ½å¤Ÿæ­£ç¡®åœ°è¡¨ç¤ºåå°„è¡¨é¢ä¸Šçš„é«˜å…‰é¢œè‰²ï¼ŒNeROä½¿ç”¨<strong>Micro-facet BRDF</strong>å°†NeuSçš„<strong>é¢œè‰²å‡½æ•°æ›¿æ¢ä¸ºé˜´å½±å‡½æ•°</strong></p><p>Micro-facet BRDF: ç‚¹$p_j$çš„è¾“å‡ºé¢œè‰²<br>$\mathbf{c}(\omega_{0})=\int_{\Omega}L(\omega_{i})f(\omega_{i},\omega_{0})(\omega_{i}\cdot\mathbf{n})d\omega_{i},$</p><ul><li>$\omega_{o}= -v$ æ˜¯å¤–è§‚å¯Ÿæ–¹å‘ï¼Œ$c(\omega_o)$æ˜¯å¤–è§‚å¯Ÿæ–¹å‘ä¸Šç”µ$p_j$çš„é¢œè‰²</li><li>$\mathbf{n}$æ˜¯è¡¨é¢æ³•å‘é‡</li><li>$\omega_i$æ˜¯è¾“å…¥å…‰æ–¹å‘on the upper half sphere Î©,</li><li>BRDF functionï¼š$f(\omega_{i},\omega_{0}) \in [0,1]^{3}$</li><li>$L(\omega_{i}) \in [0,+\infty)^3$ æ˜¯å…¥å°„å…‰çš„äº®åº¦</li><li>åœ¨NeROä¸­ï¼Œæ³•å‘næ˜¯ä»SDFçš„æ¢¯åº¦è®¡ç®—çš„ã€‚BRDFå‡½æ•°ç”±<strong>æ¼«åå°„éƒ¨åˆ†å’Œé•œé¢éƒ¨åˆ†ç»„æˆ</strong></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230727122713.png" alt="image.png"></p><script type="math/tex; mode=display">f(\omega_{i},\omega_{0})=\underbrace{(1-m)\frac{a}{\pi}}_{\mathrm{diffuse}}+\underbrace{\frac{DFG}{4(\omega_{i}\cdot\mathbf{n})(\omega_{0}\cdot\mathbf{n})}}_{\mathrm{specular}},</script><ul><li>$m \in [0,1]$: the metalness of the point</li><li>1-mä¸ºæ¼«åå°„éƒ¨åˆ†çš„æƒé‡</li><li>$a \in [0,1]^3$:ç‚¹çš„åç…§ç‡é¢œè‰²the albedo color of the point</li><li>ğ· is the normal distribution function,</li><li>ğ¹ is the Fresnel term</li><li>ğº is the geometry term<ul><li>ğ·, ğ¹ and ğº are all determined by the metalness ğ‘š , the roughness $ğœŒ âˆˆ [0, 1]$ and the albedo a</li></ul></li><li>è¯¥ç‚¹çš„BRDFç”±é‡‘å±åº¦ã€ç²—ç³™åº¦å’Œåç…§ç‡å†³å®šï¼Œall of which are predicted by a material MLP $ğ‘”_{material}$ in NeRO, i.e., $[ğ‘š, ğœŒ, a] = ğ‘”_{material} (p).$</li></ul><p>i.e: <strong>é¢œè‰²å€¼</strong></p><script type="math/tex; mode=display">\begin{gathered}\mathbf{c}(\omega_{0})=\mathbf{c}_{\mathrm{diffuse}}+\mathbf{c}_{\mathrm{specular}}, \\\mathbf{c}_{\mathrm{diffuse}}=\int_{\Omega}(1-m)\frac{\mathbf{a}}{\pi}L(\omega_{i})(\omega_{i}\cdot\mathbf{n})d\omega_{i}, \\\mathbf{c}_{\mathrm{specular}}=\int_{\Omega}\frac{DFG}{4(\omega_{i}\cdot\mathbf{n})(\omega_{0}\cdot\mathbf{n})}L(\omega_{i})(\omega_{i}\cdot\mathbf{n})d\omega_{i}. \end{gathered}</script><p>å¦‚å‰æ‰€è¿°ï¼Œå‡†ç¡®è¯„ä¼°ä½“ç»˜åˆ¶ä¸­æ¯ä¸ªæ ·æœ¬ç‚¹çš„æ¼«åå°„å’Œé•œé¢åå°„é¢œè‰²çš„ç§¯åˆ†æ˜¯æ£˜æ‰‹çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªä¸¤æ­¥æ¡†æ¶æ¥è¿‘ä¼¼è®¡ç®—è¿™ä¸¤ä¸ªç§¯åˆ†ã€‚åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬çš„é¦–è¦ä»»åŠ¡æ˜¯å¿ å®åœ°é‡å»ºå‡ ä½•è¡¨é¢ã€‚</p><h2 id="Stage-I-Geometry-reconstruction"><a href="#Stage-I-Geometry-reconstruction" class="headerlink" title="Stage I: Geometry reconstruction"></a>Stage I: Geometry reconstruction</h2><p>ä¸ºäº†é‡å»ºåå°„ç‰©ä½“çš„è¡¨é¢ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸Neus[Wang et al. 2021b]ç›¸åŒçš„ç¥ç»SDFè¡¨ç¤ºå’Œä½“ç»˜åˆ¶ç®—æ³•(Eq. 1)ï¼Œä½†ä½¿ç”¨äº†ä¸åŒçš„é¢œè‰²å‡½æ•°ã€‚åœ¨NeROä¸­ï¼Œæˆ‘ä»¬é¢„æµ‹é‡‘å±åº¦ã€ç²—ç³™åº¦å’Œåç…§ç‡ä½¿ç”¨å¾®é¢BRDFæ¥è®¡ç®—é¢œè‰²ã€‚ä¸ºäº†åœ¨Neusçš„ä½“ç»˜åˆ¶ä¸­ä½¿è®¡ç®—æ˜“äºå¤„ç†ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åˆ†å‰²å’Œè¿‘ä¼¼[Karis and Games 2013]ï¼Œå®ƒå°†ç¯å…‰å’ŒBRDFç§¯çš„ç§¯åˆ†åˆ†ç¦»ä¸ºä¸¤ä¸ªå•ç‹¬çš„ç§¯åˆ†ã€‚</p><h3 id="é•œé¢åå°„é¢œè‰²"><a href="#é•œé¢åå°„é¢œè‰²" class="headerlink" title="é•œé¢åå°„é¢œè‰²"></a>é•œé¢åå°„é¢œè‰²</h3><p>$\mathbf{c}_{\mathrm{specular}}\approx\underbrace{\int_{\Omega}L(\omega_{i})D(\rho,\mathbf{t})d\omega_{i}}_{L_{\mathrm{specular}}}\cdot\underbrace{\int_{\Omega}\frac{DFG}{4(\omega_{0}\cdot\mathbf{n})}d\omega_{i},}_{M_{\mathrm{specular}}}$</p><ul><li>$L_{specular}$æ˜¯å…‰åœ¨æ­£æ€åˆ†å¸ƒå‡½æ•°ä¸Šçš„ç§¯åˆ†$D(\rho,\mathbf{t}) \in [0,1]$, specular lobe<ul><li>t : is the reflective direction</li></ul></li><li>$M_{specular}$ä¸ºBRDFçš„ç§¯åˆ†</li></ul><p>è¯·æ³¨æ„ï¼Œç²—ç³™çš„è¡¨é¢æœ‰è¾ƒå¤§çš„é•œé¢ç“£ï¼Œè€Œå…‰æ»‘çš„è¡¨é¢æœ‰è¾ƒå°çš„é•œé¢ç“£ã€‚<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728135126.png" alt="image.png"></p><p>BRDFçš„ç§¯åˆ†å¯ä»¥ç”±$\begin{aligned}M_{\mathrm{specular}}=((1-m)<em>0.04+m</em>\mathrm{a})*F_1+F_2,\end{aligned}$ç›´æ¥è®¡ç®—</p><ul><li>where ğ¹1 and ğ¹2 are two pre-computed scalars depending on the roughness ğœŒ</li></ul><h3 id="æ¼«åå°„é¢œè‰²"><a href="#æ¼«åå°„é¢œè‰²" class="headerlink" title="æ¼«åå°„é¢œè‰²"></a>æ¼«åå°„é¢œè‰²</h3><p>The diffuse colorï¼š<br>$\mathbf{c}_{\mathrm{diffuse}}=\text{a}(1-m)\underbrace{\int_{\Omega}L(\omega_{i})\frac{\omega_{i}\cdot\mathbf{n}}{\pi}d\omega_{i},}_{L_{\mathrm{diffuse}}}$</p><p>$L_{diffuse}$ä¸ºæ¼«å°„å…‰ç§¯åˆ†</p><p><strong>ç”±ææ–™MLPé¢„æµ‹çš„m,$\rho$,aã€‚å”¯äºŒæœªçŸ¥çš„é‡ä¸ºä¸¤ä¸ªå…‰ç§¯åˆ†</strong><br>ç„¶è€Œï¼Œä¸ºäº†è®¡ç®—å…‰ç§¯åˆ†ï¼Œæˆ‘ä»¬ä¸åƒä»¥å‰çš„æ–¹æ³•é‚£æ ·å¯¹ç¯å¢ƒå…‰è¿›è¡Œé¢„æ»¤æ³¢[Bossç­‰ã€‚2021 b;Munkbergç­‰äººã€‚2022]ä½†ä½¿ç”¨<strong>é›†æˆå®šå‘ç¼–ç </strong>[Verbinç­‰äººã€‚2022]ã€‚</p><h3 id="å…‰è¡¨ç¤ºLight-representation"><a href="#å…‰è¡¨ç¤ºLight-representation" class="headerlink" title="å…‰è¡¨ç¤ºLight representation"></a>å…‰è¡¨ç¤ºLight representation</h3><p>åœ¨NeROä¸­ï¼Œæˆ‘ä»¬åœ¨å¯¹è±¡å‘¨å›´å®šä¹‰ä¸€ä¸ªè¾¹ç•Œçƒæ¥æ„å»ºç¥ç»SDFã€‚ç”±äºæˆ‘ä»¬åªé‡å»ºè¾¹ç•Œçƒå†…çš„è¡¨é¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†æ‰€æœ‰<strong>æ¥è‡ªè¾¹ç•Œçƒå¤–çš„å…‰ç§°ä¸ºç›´æ¥å…‰</strong>ï¼Œè€Œ<strong>å°†è¾¹ç•Œçƒå†…è¡¨é¢åå°„çš„å…‰ç§°ä¸ºé—´æ¥å…‰</strong>ï¼Œå¦‚å›¾4æ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728135846.png" alt="image.png"></p><p>$L(\omega_i)=[1-s(\omega_i)]g_\text{direct}(SH(\omega_i))+s(\omega_i)g_\text{indirect}(SH(\omega_i),\text{p}),$</p><ul><li>ä¸¤ä¸ªmlpåˆ†åˆ«ç”¨äºç›´æ¥å…‰å’Œé—´æ¥å…‰ï¼š$g_{direct}, g_{indirect}$.è¿™æ ·æ‰€æœ‰çš„ç‚¹éƒ½è¢«ç›¸åŒçš„ç›´æ¥ç¯å¢ƒå…‰ç…§äº®ã€‚è¿™åœ¨è§£é‡Šåå°„å¯¹è±¡çš„ä¾èµ–äºè§†å›¾çš„é¢œè‰²ä¹‹å‰æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„global</li><li>ç”±äºé—´æ¥å…‰åœ¨ç©ºé—´ä¸­å˜åŒ–ï¼Œå› æ­¤é™„åŠ ä¸€ä¸ªç‚¹ä½ç½®pä½œä¸ºè¾“å…¥</li></ul><h3 id="Light-integral-approximation"><a href="#Light-integral-approximation" class="headerlink" title="Light integral approximation"></a>Light integral approximation</h3><p>æˆ‘ä»¬ä½¿ç”¨é›†æˆæ–¹å‘ç¼–ç æ¥è¿‘ä¼¼å…‰ç§¯åˆ†</p><script type="math/tex; mode=display">\begin{aligned}L_{\mathrm{specular}}&\approx[1-s(\mathrm{t})]\int_{\Omega}g_{\mathrm{direct}}(SH(\omega_l))D(\rho,\mathrm{t})d\omega_l+\\&s(\mathrm{t})\int_{\Omega}g_{\mathrm{indirect}}(SH(\omega_l),\mathrm{p})D(\rho,\mathrm{t})d\omega_l\\&\approx[1-s(\mathrm{t})]g_{\mathrm{direct}}(\int_{\Omega}SH(\omega_l)D(\rho,\mathrm{t})d\omega_l)+\\&s(\mathrm{t})g_{\mathrm{indirect}}(\int_{\Omega}SH(\omega_i)D(\rho,\mathrm{t})d\omega_l,\mathrm{p}).\end{aligned}</script><p>åœ¨ç¬¬ä¸€ä¸ªè¿‘ä¼¼ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é®æŒ¡æ¦‚ç‡ğ‘ (t)ä»¥æ›¿æ¢ä¸åŒå…‰çº¿çš„é®æŒ¡æ¦‚ç‡ğ‘  (ğœ”ğ‘– )ã€‚åœ¨ç¬¬äºŒè¿‘ä¼¼ä¸­ï¼Œæˆ‘ä»¬äº¤æ¢MLPçš„é˜¶æ•°å’Œç§¯åˆ†<br>æˆ‘ä»¬åªéœ€è¦è¯„ä¼°MLPç½‘ç»œ$ğ‘”_{direct}$å’Œ$ğ‘”_{indirect}$ç§¯åˆ†æ–¹å‘ç¼–ç $\int_{\Omega}SH(\omega_i)D(\rho,\mathrm{t})d\omega_l$ä¸€æ¬¡</p><p>é€šè¿‡é€‰æ‹©æ­£æ€åˆ†å¸ƒå‡½æ•°ğ· æ˜¯von Misesâ€“Fisherï¼ˆvMFï¼‰åˆ†å¸ƒï¼ˆçƒé¢ä¸Šçš„é«˜æ–¯åˆ†å¸ƒï¼‰, Ref-NeRFå·²ç»å±•ç¤ºäº†$\int_{\Omega}SH(\omega_i)D(\rho,\mathrm{t})d\omega_l$æœ‰ä¸€ä¸ªè¿‘ä¼¼é—­åˆå½¢å¼çš„è§£ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨è¿™ä¸ªé—­åˆå½¢å¼çš„è§£æ¥è¿‘ä¼¼å…‰çš„ç§¯åˆ†ã€‚</p><p>ç±»ä¼¼åœ°ï¼Œå¯¹äºæ¼«åå°„å…‰ç§¯åˆ†ï¼Œ<br>$\frac{\omega_i\cdot\mathbf{n}}\pi\approx D(1.0,\mathbf{n}).$</p><p>è¯·æ³¨æ„ï¼Œåˆ†è£‚å’Œè¿‘ä¼¼å’Œå…‰ç§¯åˆ†è¿‘ä¼¼ä»…åœ¨ç¬¬ä¸€é˜¶æ®µä½¿ç”¨ï¼Œä»¥å®ç°æ˜“äºå¤„ç†çš„è®¡ç®—ï¼Œå¹¶å°†åœ¨ç¬¬äºŒé˜¶æ®µè¢«æ›´å‡†ç¡®çš„è’™ç‰¹å¡ç½—é‡‡æ ·æ‰€å–ä»£ã€‚</p><h3 id="Occlusion-loss"><a href="#Occlusion-loss" class="headerlink" title="Occlusion loss"></a>Occlusion loss</h3><p>åœ¨ç¯å…‰è¡¨ç¤ºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„é®æŒ¡æ¦‚ç‡ğ‘  ç”±MLP$ğ‘”_{occ}$é¢„æµ‹æ¥ç¡®å®šåœ¨æ¸²æŸ“ä¸­å°†ä½¿ç”¨ç›´æ¥ç¯å…‰è¿˜æ˜¯é—´æ¥ç¯å…‰ã€‚ç„¶è€Œï¼Œå¦‚å›¾5æ‰€ç¤ºï¼Œå¦‚æœæˆ‘ä»¬ä¸å¯¹é®æŒ¡æ¦‚ç‡ğ‘ æ–½åŠ çº¦æŸï¼Œå¹¶ä¸”è®©MLPç½‘ç»œä»æ¸²æŸ“lossä¸­å­¦ä¹ ğ‘ ï¼Œé¢„æµ‹çš„é®æŒ¡æ¦‚ç‡å°†ä¸é‡å»ºçš„å‡ ä½•ç»“æ„å®Œå…¨ä¸ä¸€è‡´ï¼Œå¹¶å¯¼è‡´ä¸ç¨³å®šçš„æ”¶æ•›ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728141150.png" alt="image.png"></p><p>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¥ç»SDFæ¥çº¦æŸé¢„æµ‹çš„é®æŒ¡æ¦‚ç‡ã€‚ç»™å®šä»é‡‡æ ·ç‚¹på‘å°„åˆ°å…¶åå°„æ–¹å‘tçš„å…‰çº¿ï¼Œæˆ‘ä»¬è®¡ç®—å…¶é®æŒ¡æ¦‚ç‡$s_{march}$åœ¨ç¥ç»SDFä¸­by ray-marchingï¼Œå¹¶æ‰§è¡Œè®¡ç®—æ¦‚ç‡$s_{march}$å’Œthe predicted probability ğ‘ ä¹‹é—´çš„ä¸€è‡´æ€§$\ell_{occ}=|s_{\mathrm{march}}-s|_{1},$ä¸ºé®æŒ¡æ¦‚ç‡æ­£åˆ™åŒ–çš„æŸå¤±</p><h3 id="Training-Losses"><a href="#Training-Losses" class="headerlink" title="Training Losses"></a>Training Losses</h3><p>æˆ‘ä»¬è®¡ç®—ç›¸æœºå…‰çº¿çš„é¢œè‰²å¹¶è®¡ç®—CharbonieræŸå¤±ï¼Œåœ¨æ¸²æŸ“é¢œè‰²å’Œè¾“å…¥åœ°çœŸé¢œè‰²ä¹‹é—´ä½œä¸ºæ¸²æŸ“æŸå¤±(æ¸²æŸ“æŸå¤±)</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°SDFçš„å‰å‡ ä¸ªè®­ç»ƒæ­¥éª¤æ˜¯ä¸ç¨³å®šçš„ï¼Œè¦ä¹ˆæ˜¯æå¤§åœ°æ‰©å¤§äº†è¡¨é¢ï¼Œè¦ä¹ˆæ˜¯æŠŠè¡¨é¢å‹å¾—å¤ªå°ã€‚åœ¨å‰1kæ­¥ä¸­åº”ç”¨ç¨³å®šåŒ–æ­£åˆ™åŒ–æŸå¤±ã€‚$\ell=\ell_\text{render}+\lambda_\text{eikonal}\ell_\text{eikonal}+\lambda_\text{occ}\ell_\text{occ}+1\text{(step}&lt;1000)\ell_\text{stable},$</p><p>æˆ‘ä»¬ä¹Ÿé‡‡ç”¨EikonalæŸå¤±[Groppç­‰äººã€‚2020]å°†SDFæ¢¯åº¦çš„èŒƒæ•°æ­£åˆ™åŒ–ä¸º1</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728142918.png" alt="image.png"></p><h3 id="Reflection-of-the-capturer"><a href="#Reflection-of-the-capturer" class="headerlink" title="Reflection of the capturer"></a>Reflection of the capturer</h3><p>åœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å‡è®¾ä¸€ä¸ªé™æ€ç…§æ˜ç¯å¢ƒã€‚ç„¶è€Œï¼Œåœ¨ç°å®ä¸­ï¼Œæ€»æ˜¯æœ‰ä¸€ä¸ªäººæ‹¿ç€ç›¸æœºæ•æ‰å‘¨å›´åå°„ç‰©ä½“çš„å›¾åƒã€‚ç§»åŠ¨çš„äººä¼šåœ¨ç‰©ä½“çš„åå°„ä¸­å¯è§ï¼Œè¿™å°±è¿åäº†é™æ€ç…§æ˜çš„å‡è®¾ï¼Œå¦‚å›¾7 (a)çš„çº¢åœˆæ‰€ç¤ºã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728143216.png" alt="image.png"></p><p>ç”±äºç…§ç‰‡æ•æ‰å™¨ç›¸å¯¹äºç›¸æœºæ˜¯é™æ€çš„ï¼Œæˆ‘ä»¬åœ¨XoYå¹³é¢å»ºç«‹äº†ä¸€ä¸ª2D NeRFåœ¨æ‘„åƒæœºåæ ‡ç³»ä¸­<br>åœ¨è®¡ç®—ç›´å°„å…‰æ—¶ï¼Œæˆ‘ä»¬è¿˜æ£€æŸ¥å…‰çº¿æ˜¯å¦å‡»ä¸­ï¼Œå¦‚æœhitç‚¹$p_{c}$å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨$g_{camera}$ï¼Œ$[\alpha_{\mathrm{camera}},\mathrm{c}_{\mathrm{camera}}]=g_{\mathrm{camera}}(\mathrm{p}_{\mathrm{c}}),$æ¥è®¡ç®—$\alpha_{camera}$å’Œé¢œè‰²</p><ul><li>$\alpha_{camera}$æŒ‡ç¤ºå…‰çº¿æ˜¯å¦è¢«æ•è·å™¨é®æŒ¡</li><li>$\mathrm{c}_{\mathrm{camera}}$è¡¨ç¤ºè¯¥ç‚¹ä¸Šæ•è·å™¨çš„é¢œè‰²</li><li>ç„¶åï¼Œç›´å°„å…‰æ˜¯$(1-\alpha_{\mathrm{camera}})g_{\mathrm{direct}}(\omega_{i})+ \alpha_{camera} c_{camera}$</li></ul><h2 id="Stage-II-BRDF-estimation"><a href="#Stage-II-BRDF-estimation" class="headerlink" title="Stage II: BRDF estimation"></a>Stage II: BRDF estimation</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåœ¨ç¬¬ä¸€é˜¶æ®µä¹‹åï¼Œæˆ‘ä»¬å·²ç»å¿ å®åœ°é‡å»ºäº†åå°„ç‰©ä½“çš„å‡ ä½•å½¢çŠ¶ï¼Œä½†åªå¾—åˆ°äº†ä¸€ä¸ªç²—ç•¥çš„BRDFä¼°è®¡ï¼Œéœ€è¦è¿›ä¸€æ­¥ç»†åŒ–ã€‚åœ¨ç¬¬äºŒé˜¶æ®µï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯<strong>å‡†ç¡®åœ°è¯„ä¼°æ¸²æŸ“æ–¹ç¨‹</strong>ï¼Œ<strong>ä»è€Œç²¾ç¡®åœ°ä¼°è®¡è¡¨é¢BRDF</strong>ï¼Œå³é‡‘å±åº¦ã€åç…§ç‡å’Œç²—ç³™åº¦ã€‚æœ‰äº†ç¬¬ä¸€é˜¶æ®µçš„å›ºå®šå‡ ä½•ä½“ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¡¨é¢ç‚¹ä¸Šè®¡ç®—æ¸²æŸ“æ–¹ç¨‹ã€‚å› æ­¤ï¼Œç°åœ¨å¯ä»¥åº”ç”¨<strong>è’™ç‰¹å¡ç½—é‡‡æ ·</strong>æ¥è®¡ç®—å…¬å¼5ä¸­çš„æ¼«å°„é¢œè‰²å’Œå…¬å¼6ä¸­çš„é•œé¢é¢œè‰²ã€‚åœ¨MCé‡‡æ ·ä¸­ï¼Œæˆ‘ä»¬å¯¹æ¼«åå°„ç“£å’Œåå°„ç“£éƒ½è¿›è¡Œäº†é‡è¦é‡‡æ ·ã€‚</p><ul><li><p>Importance sampling</p><ul><li>åœ¨è’™ç‰¹å¡æ´›é‡‡æ ·ä¸­ï¼Œæ¼«åå°„é¢œè‰²cæ¼«åå°„æ˜¯é€šè¿‡ç”¨<strong>ä½™å¼¦åŠ æƒåŠçƒæ¦‚ç‡</strong>å¯¹å°„çº¿è¿›è¡Œé‡‡æ ·æ¥è®¡ç®—çš„$\mathbf{c}_{\mathrm{diffuse}}=\frac{1}{N_{d}}\sum_{i}^{N_{d}}(1-m)\mathrm{a}L(\omega_{i}),$</li><li>ğ‘– æ˜¯ç¬¬iä¸ªæ ·æœ¬å°„çº¿å’Œ$ğœ”_{ğ‘–}$æ˜¯æ­¤é‡‡æ ·å…‰çº¿çš„æ–¹å‘ã€‚</li><li>å¯¹äºé•œé¢åå°„é¢œè‰²Cï¼Œæˆ‘ä»¬å°†GGXåˆ†å¸ƒåº”ç”¨ä¸º<strong>æ­£æ€åˆ†å¸ƒğ·</strong>. ç„¶åï¼Œé€šè¿‡DDXåˆ†å¸ƒçš„å°„çº¿é‡‡æ ·$ğ‘_{ğ‘ }$æ¡å…‰çº¿æ¥è®¡ç®—é•œé¢é¢œè‰²$c_{specular}$ [Cookå’ŒTorrance1982]$\mathbf{c}_{\mathrm{specular}}=\frac{1}{N_{s}}\sum_{i}^{N_{s}}\frac{FG(\omega_{0}\cdot\mathbf{h})}{(\mathbf{n}\cdot\mathbf{h})(\mathbf{n}\cdot\omega_{\mathbf{0}})}L(\omega_{i}),$</li><li>å…¶ä¸­ h æ˜¯ ğœ”ğ‘– å’Œ ğœ”ğ‘œ ä¹‹é—´çš„åŠå‘å‘é‡ã€‚ä¸ºäº†è¯„ä¼°ä¸Šè¿°ä¸¤ä¸ªå¼å­æˆ‘ä»¬ä»ç„¶ä½¿ç”¨ä¸ç¬¬ä¸€é˜¶æ®µç›¸åŒçš„ææ–™ MLP [ğ‘š, ğœŒ, a] = $g_{material}$æ¥è®¡ç®—é‡‘å±åº¦ ğ‘šã€ç²—ç³™åº¦å’Œåç…§ç‡ aã€‚ç¬¬äºŒé˜¶æ®µçš„ç¯è¡¨ç¤º$ğ¿(ğœ”_ğ‘–)$ä¸ç¬¬ä¸€é˜¶æ®µç›¸åŒã€‚ç”±äºå‡ ä½•æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬é€šè¿‡è·Ÿè¸ªç»™å®šå‡ ä½•ä¸­çš„å…‰çº¿è€Œä¸æ˜¯ä» MLP ä¸­é¢„æµ‹å®ƒæ¥ç›´æ¥è®¡ç®—é®æŒ¡æ¦‚ç‡ã€‚åŒæ—¶ï¼Œå¯¹äºçœŸå®æ•°æ®ï¼Œæˆ‘ä»¬åœ¨æ²¿æ–¹å‘ğœ”ä»på‘å‡ºæ²¿pçš„å°„çº¿çš„è¾¹ç•Œçƒä½“$q_{p,ğœ”}$ä¸Šæ·»åŠ äº¤ç‚¹ï¼Œå¦‚å›¾4æ‰€ç¤ºï¼Œä½œä¸ºç›´æ¥è½»MLP$ğ‘”_{direct}$çš„é™„åŠ è¾“å…¥ã€‚</li></ul></li><li><p>Regularization terms</p><ul><li>$\ell_{\mathrm{smooth}}=|g_{\mathrm{material}}(\mathrm{p})-g_{\mathrm{material}}(\mathrm{p}+\epsilon)|_{2},$</li><li>$\ell_{\mathrm{light}}=\sum_{c}^{3}([L_{\mathrm{diffuse}}]_{C}-\frac{1}{3}\sum_{c}^{3}[L_{\mathrm{diffuse}}]_{C}),$</li><li>$\ell=\ell_{\mathrm{render}}+\lambda_{\mathrm{smooth}}\ell_{\mathrm{smooth}}+\lambda_{\mathrm{light}}\ell_{\mathrm{light}},$</li></ul></li></ul><h1 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h1><p>å‡ ä½•ã€‚è™½ç„¶æˆ‘ä»¬æˆåŠŸåœ°é‡å»ºäº†åå°„ç‰©ä½“çš„å½¢çŠ¶ï¼Œä½†æˆ‘ä»¬çš„æ–¹æ³•ä»ç„¶æ— æ³•æ•è·ä¸€äº›ç»†å¾®çš„ç»†èŠ‚ï¼Œå¦‚å›¾19æ‰€ç¤ºã€‚ä¸»è¦åŸå› æ˜¯æ¸²æŸ“å‡½æ•°å¼ºçƒˆä¾èµ–äºç¥ç»SDFä¼°è®¡çš„è¡¨é¢æ³•çº¿ï¼Œä½†ç¥ç»SDFå¾€å¾€ä¼šäº§ç”Ÿå¹³æ»‘çš„è¡¨é¢æ³•çº¿ã€‚å› æ­¤ï¼Œç¥ç» SDF å¾ˆéš¾äº§ç”Ÿçªç„¶çš„æ­£å¸¸å˜åŒ–æ¥é‡å»ºç»†å¾®çš„ç»†èŠ‚ï¼Œä¾‹å¦‚â€œAngelâ€çš„å¸ƒæ–™çº¹ç†ã€â€œCatâ€çš„èƒ¡å­å’Œâ€œManekiâ€çš„çº¹ç†ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728150142.png" alt="image.png"></p><p>BRDFã€‚åœ¨å®éªŒä¸­ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°æˆ‘ä»¬çš„<strong>BRDFä¼°è®¡ä¸»è¦å­˜åœ¨ä¸æ­£ç¡®çš„å‡ ä½•å½¢çŠ¶</strong>ï¼Œç‰¹åˆ«æ˜¯åœ¨â€œAngelâ€ä¸Šï¼Œå¦‚å›¾20æ‰€ç¤ºã€‚ç”±äºåå°„ç‰©ä½“çš„å¤–è§‚å¼ºçƒˆä¾èµ–äºè¡¨é¢æ³•çº¿æ¥è®¡ç®—åå°„æ–¹å‘ï¼Œ<strong>è¡¨é¢æ³•çº¿çš„é”™è¯¯ä¼šä½¿æˆ‘ä»¬çš„æ–¹æ³•éš¾ä»¥æ‹Ÿåˆæ­£ç¡®çš„é¢œè‰²</strong>ï¼Œä»è€Œå¯¼è‡´BRDFä¼°è®¡ä¸å‡†ç¡®ã€‚åŒæ—¶ï¼ŒNeROä¸­çš„BRDFä¸æ”¯æŒå„å‘å¼‚æ€§åå°„ç­‰é«˜çº§åå°„ã€‚</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230728150221.png" alt="image.png"></p><p>å§¿æ€ä¼°è®¡ã€‚å¦ä¸€ä¸ªé™åˆ¶æ˜¯æˆ‘ä»¬çš„æ–¹æ³•ä¾èµ–äºå‡†ç¡®çš„è¾“å…¥ç›¸æœºå§¿åŠ¿ï¼Œå¹¶ä¸”ä¼°è®¡åå°„ç‰©ä½“ä¸Šçš„ç›¸æœºå§¿åŠ¿é€šå¸¸éœ€è¦ç¨³å®šçš„çº¹ç†ï¼Œå¦‚ç”¨äºå›¾åƒåŒ¹é…çš„æ ¡å‡†æ¿ã€‚æ²¡æœ‰æ ¡å‡†æ¿ï¼Œæˆ‘ä»¬å¯ä»¥ä»å…¶ä»–å…±åŒå¯è§çš„éåå°„ç‰©ä½“æˆ–åœ¨IMUç­‰è®¾å¤‡çš„å¸®åŠ©ä¸‹æ¢å¤å§¿åŠ¿ã€‚</p><h1 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h1><p><a href="https://connecthkuhk-my.sharepoint.com/:f:/g/personal/yuanly_connect_hku_hk/EvNz_o6SuE1MsXeVyB0VoQ0B9zL8NZXjQQg0KknIh6RKjQ?e=jCLH0W">https://connecthkuhk-my.sharepoint.com/:f:/g/personal/yuanly_connect_hku_hk/EvNz_o6SuE1MsXeVyB0VoQ0B9zL8NZXjQQg0KknIh6RKjQ?e=jCLH0W</a></p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>AutoDL:</p><ul><li>pytorch 1.11.0 </li><li>Python  3.8(ubuntu20.04)</li><li>Cuda  11.3</li></ul><p>pip install</p><ul><li><a href="https://nvlabs.github.io/nvdiffrast/#installation">nvdiffrast</a>.</li><li><a href="https://github.com/ashawkey/raytracing">raytracing</a></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/liuyuan-pal/NeRO.git</span><br><span class="line">cd NeRO</span><br><span class="line">pip install -r requirements.txt</span><br><span class="line">-i https://pypi.tuna._tsinghua_.edu.cn/simple</span><br><span class="line"></span><br><span class="line"># nvdiffrast</span><br><span class="line">git clone https://github.com/NVlabs/nvdiffrast</span><br><span class="line">pip install .</span><br><span class="line"></span><br><span class="line"># raytracing</span><br><span class="line">git clone https://github.com/ashawkey/raytracing</span><br><span class="line">cd raytracing</span><br><span class="line">pip install .</span><br><span class="line"></span><br><span class="line">pip install --upgrade protobuf</span><br><span class="line">pip install trimesh</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p><a href="https://github.com/liuyuan-pal/NeRO">liuyuan-pal/NeRO: [SIGGRAPH2023] NeRO: Neural Geometry and BRDF Reconstruction of Reflective Objects from Multiview Images (github.com)</a></p><p>data:  Models and datasets all can be found <a href="https://connecthkuhk-my.sharepoint.com/:f:/g/personal/yuanly_connect_hku_hk/EvNz_o6SuE1MsXeVyB0VoQ0B9zL8NZXjQQg0KknIh6RKjQ?e=MaonKe">here</a>.<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NeRO</span><br><span class="line">|-- data</span><br><span class="line">    |-- GlossyReal</span><br><span class="line">        |-- bear </span><br><span class="line">            ...</span><br><span class="line">    |-- GlossySynthetic</span><br><span class="line">        |-- bell</span><br><span class="line">            ...</span><br></pre></td></tr></table></figure></p><h3 id="Stage-1-é‡å»ºshape"><a href="#Stage-1-é‡å»ºshape" class="headerlink" title="Stage 1 é‡å»ºshape"></a>Stage 1 é‡å»ºshape</h3><p><strong>è®­ç»ƒç¨‹åºè·å–éšå¼æ¨¡å‹ï¼š</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># reconstructing the &quot;bell&quot; of the Glossy Synthetic dataset</span><br><span class="line">python run_training.py --cfg configs/shape/syn/bell.yaml</span><br><span class="line"></span><br><span class="line"># reconstructing the &quot;bear&quot; of the Glossy Real dataset</span><br><span class="line">python run_training.py --cfg configs/shape/real/bear.yaml</span><br></pre></td></tr></table></figure></p><p>Intermediate results will be saved at <code>data/train_vis</code>. Models will be saved at <code>data/model</code>.</p><p>data/model/bear_shape</p><ul><li>(tensorboard logs_dir)logs: events.out.tfevents.1690871015.autodl-container-6a4811bc52-8879d78f</li><li>model_best.pth â€”&gt; model_dir = /data/model/bear_shape</li><li>model.pth  â€”&gt; model_dir = /data/model/bear_shape</li><li>train.txt â€”&gt; logs_dir = (/data/model/bear_shape â€”&gt; /root/tf-logs)</li><li>val.txt â€”&gt; logs_dir</li></ul><p>tensorboard â€”&gt; train/loss 40k stepå·¦ï¼Œ240k stepå³</p><div style="display:flex; justify-content:space-between;"> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230801155011.png" alt="Image 1" style="width:50%;"><div style="width:10px;"></div> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806154947.png" alt="Image 2" style="width:50%;"> </div><p>data/train_vis/bear_shape-val â€”&gt; 14999-index-0.jpgå·¦ï¼Œ244999-index-0.jpgå³</p><div style="display:flex; justify-content:space-between;"> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230801152018.png" alt="Image 1" style="width:50%;"><div style="width:10px;"></div> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806153943.png" alt="Image 2" style="width:50%;"> </div><p><strong>Extract mesh from the model.</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python extract_mesh.py --cfg configs/shape/syn/bell.yaml</span><br><span class="line">python extract_mesh.py --cfg configs/shape/real/bear.yaml</span><br></pre></td></tr></table></figure><p>The extracted meshes will be saved at <code>data/meshes</code>.</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807144740.png" alt="image.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">bug: </span><br><span class="line">(nero) root@autodl-container-6a4811bc52-8879d78f:~/autodl-tmp/NeRO# python extract_mesh.py --cfg confi  </span><br><span class="line">gs/shape/real/bear.yaml  </span><br><span class="line">successfully load bear_shape step 300000!  </span><br><span class="line">/root/miniconda3/lib/python3.8/site-packages/torch/functional.py:568: UserWarning: torch.meshgrid: in  </span><br><span class="line">an upcoming release, it will be required to pass the indexing argument. (Triggered internally at ../a  </span><br><span class="line">ten/src/ATen/native/TensorShape.cpp:2228.)  </span><br><span class="line">return _VF.meshgrid(tensors, **kwargs) # type: ignore[attr-defined]</span><br><span class="line"></span><br><span class="line">å°†return _VF.meshgrid(tensors, **kwargs) # type: ignore[attr-defined]</span><br><span class="line">ä¿®æ”¹ä¸ºreturn _VF.meshgrid(tensors, **kwargs, indexing = â€˜ijâ€™) # type: ignore[attr-defined]ï¼Œè­¦å‘Šè§£é™¤</span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line"></span><br><span class="line">åº”è¯¥æ˜¯torchç‰ˆæœ¬ä¸åŒ¹é…ï¼Œäº²æµ‹æœ‰æ•ˆï¼Œä¸å†å‡ºç°UserWarning</span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œä½™å¹¼æ—¶å³å—œå­¦^ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚</span><br><span class="line">åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_45103604/article/details/124717008</span><br></pre></td></tr></table></figure><h3 id="Stage-2-Material-estimation-or-texture"><a href="#Stage-2-Material-estimation-or-texture" class="headerlink" title="Stage 2  Material estimation or texture"></a>Stage 2  Material estimation or texture</h3><p>ply mesh data<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">NeRO</span><br><span class="line">|-- data</span><br><span class="line">    |-- GlossyReal</span><br><span class="line">        |-- bear </span><br><span class="line">            ...</span><br><span class="line">    |-- GlossySynthetic</span><br><span class="line">        |-- bell</span><br><span class="line">            ...</span><br><span class="line">    |-- meshes</span><br><span class="line">        | -- bell_shape-300000.ply</span><br><span class="line">        | -- bear_shape-300000.ply</span><br><span class="line">             ...</span><br></pre></td></tr></table></figure></p><p><strong>è®­ç»ƒBRDFè‰²å½©ï¼š</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># estimate BRDF of the &quot;bell&quot; of the Glossy Synthetic dataset</span><br><span class="line">python run_training.py --cfg configs/material/syn/bell.yaml</span><br><span class="line"></span><br><span class="line"># estimate BRDF of the &quot;bear&quot; of the Glossy Real dataset</span><br><span class="line">python run_training.py --cfg configs/material/real/bear.yaml</span><br></pre></td></tr></table></figure><br>Intermediate results will be saved at <code>data/train_vis</code>. Models will be saved at <code>data/model</code>.</p><p>tensorboard â€”&gt; train/loss 7k stepå·¦ï¼Œ100K stepå³</p><div style="display:flex; justify-content:space-between;"> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807145209.png" alt="Image 1" style="width:50%;"><div style="width:10px;"></div> <img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807182741.png" alt="Image 2" style="width:50%;"> </div><p>data/train_vis/bear_material-val/99999-index-0.jpg<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230807181830.png" alt="image.png"></p><p><strong>Extract materials from the model</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python extract_materials.py --cfg configs/material/syn/bell.yaml</span><br><span class="line">python extract_materials.py --cfg configs/material/real/bear.yaml</span><br></pre></td></tr></table></figure><p>The extracted materials will be saved at <code>data/materials</code>.</p><p>data/materials/bear_material-100000/</p><ul><li>albedo.npy</li><li>metallic.npy</li><li>roughness.npy</li></ul><h3 id="Relighting"><a href="#Relighting" class="headerlink" title="Relighting"></a>Relighting</h3><p>ä½¿ç”¨blenderè¿›è¡Œrelightingï¼Œæ¸²æŸ“åœ¨hdråœºæ™¯ä¸‹çš„é•œé¢åå°„ç‰©ä½“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">NeRO</span><br><span class="line">|-- data</span><br><span class="line">    |-- GlossyReal</span><br><span class="line">        |-- bear </span><br><span class="line">            ...</span><br><span class="line">    |-- GlossySynthetic</span><br><span class="line">        |-- bell</span><br><span class="line">            ...</span><br><span class="line">    |-- meshes</span><br><span class="line">        | -- bell_shape-300000.ply</span><br><span class="line">        | -- bear_shape-300000.ply</span><br><span class="line">             ...</span><br><span class="line">    |-- materials</span><br><span class="line">        | -- bell_material-100000</span><br><span class="line">            | -- albedo.npy</span><br><span class="line">            | -- metallic.npy</span><br><span class="line">            | -- roughness.npy</span><br><span class="line">        | -- bear_material-100000</span><br><span class="line">            | -- albedo.npy</span><br><span class="line">            | -- metallic.npy</span><br><span class="line">            | -- roughness.npy</span><br><span class="line">    |-- hdr</span><br><span class="line">        | -- neon_photostudio_4k.exr</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">python relight.py --blender &lt;path-to-your-blender&gt; \</span><br><span class="line">                  --name bell-neon \</span><br><span class="line">                  --mesh data/meshes/bell_shape-300000.ply \</span><br><span class="line">                  --material data/materials/bell_material-100000 \</span><br><span class="line">                  --hdr data/hdr/neon_photostudio_4k.exr \</span><br><span class="line">                  --trans</span><br><span class="line">                  </span><br><span class="line">python relight.py --blender &lt;path-to-your-blender&gt; \</span><br><span class="line">                  --name bear-neon \</span><br><span class="line">                  --mesh data/meshes/bear_shape-300000.ply \</span><br><span class="line">                  --material data/materials/bear_material-100000 \</span><br><span class="line">                  --hdr data/hdr/neon_photostudio_4k.exr</span><br><span class="line"></span><br><span class="line">eg: </span><br><span class="line">python relight.py --blender F:\Blender\blender.exe --name bear-neon --mesh data/meshes/bear_shape-300000.ply --material data/materials/bear_material-100000 --hdr data/hdr/neon_photostudio_4k.exr</span><br><span class="line"></span><br><span class="line">KeyError: &#x27;bpy_prop_collection[key]: key &quot;Principled BSDF&quot; not found&#x27;</span><br><span class="line">--&gt; éœ€è¦å°†blenderç•Œé¢è®¾ç½®æˆè‹±æ–‡</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/carson-katri/dream-textures/issues/601">KeyError: â€˜bpy_prop_collection[key]: key â€œPrincipled BSDFâ€ not foundâ€™ Â· Issue #601 Â· carson-katri/dream-textures (github.com)</a></p></blockquote><p>The relighting results will be saved at <code>data/relight</code> with the directory name of <code>bell-neon</code> or <code>bear-neon</code>. This command means that we use <code>neon_photostudio_4k.exr</code> to relight the object.</p><iframe title="nero relightNeRO reproduce: relight bear of Glossy Real dataset in neon_photostudio_4k scene" src="https://www.youtube.com/embed/Npva_2r9tWk?feature=oembed" height="113" width="200" allowfullscreen="" allow="fullscreen" style="aspect-ratio: 16 / 9; width: 100%; height: 100%;"></iframe><h2 id="eg"><a href="#eg" class="headerlink" title="eg"></a>eg</h2><p>syn/bell: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># stage1</span><br><span class="line">python run_training.py --cfg configs/shape/syn/bell.yaml</span><br><span class="line">python extract_mesh.py --cfg configs/shape/syn/bell.yaml</span><br><span class="line"># stage2</span><br><span class="line">python run_training.py --cfg configs/material/syn/bell.yaml</span><br><span class="line">python extract_materials.py --cfg configs/material/syn/bell.yaml</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Shadow&amp;Highlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Shadow&amp;Highlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tri-MipRF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/Tri-MipRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/Tri-MipRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Tri-MipRF: Tri-Mip Representation for Efficient Anti-Aliasing Neural Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://wbhu.github.io/">Wenbo Hu</a>     Yuling Wang</td></tr><tr><td>Conf/Jour</td><td>ICCV</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://wbhu.github.io/projects/Tri-MipRF/">Tri-MipRF: Tri-Mip Representation for Efficient Anti-Aliasing Neural Radiance Fields (wbhu.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4781040535062183937&amp;noteId=1888227766799606528">Tri-MipRF: Tri-Mip Representation for Efficient Anti-Aliasing Neural Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><p>2023.7.26 SOTA<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230726151828.png" alt="image.png|600"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230726151646.png" alt="image.png"></p><p>like <a href="https://apchenstu.github.io/TensoRF/">TensoRF: Tensorial Radiance Fields (apchenstu.github.io)</a>+ Mip-NeRF + NGP</p><ul><li><p>ç±»ä¼¼Mip-NeRFä¸­çš„é‡‡æ ·é”¥å½¢æ–¹æ³•ï¼Œä½†æ˜¯Tri-MipRFä½¿ç”¨äº†ä¸åœ†é”¥ç›¸åˆ‡çš„é‡‡æ ·çƒS=(x,r)ï¼Œä»£æ›¿Mip-NeRFä¸­çš„å¤šå…ƒé«˜æ–¯åœ†é”¥ä½“</p><ul><li>é‡‡æ ·çƒçš„åŠå¾„é€šè¿‡åƒç´ åœ†ç›˜åŠå¾„$\dot r$ï¼ˆç”±åƒç´ å¤§å°in world Coordinateï¼‰ï¼Œç„¦è·få’Œ$t_i$ç¡®å®š</li></ul></li><li><p>ç±»ä¼¼TensoRFä¸­çš„åˆ†è§£æ–¹æ³•ï¼Œå°†ç©ºé—´é‡‡æ ·çƒåˆ†è§£åˆ°ä¸‰ä¸ªå¹³é¢ä¸Šï¼Œç¼–ç ç±»ä¼¼NGPä¸­çš„HashGrid ä½¿ç”¨2Då¹³é¢æ¥å­˜å–ç‰¹å¾å€¼ï¼Œæ„å»ºä¸€ä¸ªbase level:$M^{L_{0}}$ï¼Œé€šè¿‡downscalingæ¥è·å¾—å…¶ä»–levelçš„2D gridå¹³é¢ã€‚</p><ul><li>é€šè¿‡base levelä¸­interest spaceçš„AABBæ±‚å‡º$\ddot r$ï¼Œå¹¶è”åˆé‡‡æ ·çƒåŠå¾„rå¾—åˆ°é‡‡æ ·çƒåœ¨å¹³é¢æŠ•å½±çš„levelï¼Œæ ¹æ®æ­¤levelå’ŒæŠ•å½±åˆ°å¹³é¢ä¸Šçš„äºŒç»´åæ ‡ï¼Œåœ¨ç›¸é‚»ä¸¤level $\mathcal{M}_{XY}^{\lfloor l\rfloor}$å’Œ$\mathcal{M}_{XY}^{\lceil l\rceil}$çš„2D gridä¸­é‡‡ç”¨3çº¿æ€§æ’å€¼å¾—åˆ°é‡‡æ ·çƒçš„ç‰¹å¾å€¼ï¼Œæœ€åä¸‰ä¸ªåˆ†è§£å¹³é¢çš„ç‰¹å¾å€¼catèµ·æ¥ä½œä¸ºMLPçš„ä¸€ä¸ªè¾“å…¥</li></ul></li><li><p>ä¸€ç§æ›´å¥½çš„æ¸²æŸ“è§†å›¾æ–¹æ³•ï¼šHybrid Volume-Surface Rendering</p><ul><li>é€šè¿‡åœ¨å¯†åº¦åœºä¸­marching cubeså’Œç½‘æ ¼æŠ½å–æ¥è·å¾—ä»£ç†ç½‘æ ¼ï¼Œç²—ç•¥ç¡®å®šç›¸æœºåŸç‚¹åˆ°ç‰©ä½“è¡¨é¢çš„è·ç¦»</li><li>å¯¹ä»£ç†ç½‘æ ¼è¿›è¡Œæœ‰æ•ˆæ …æ ¼åŒ–ï¼Œä»¥è·å¾—åœ†é”¥ä½“ä¸­è½´çº¿è¡¨é¢ä¸Šçš„å‘½ä¸­ç‚¹ï¼Œç„¶åæˆ‘ä»¬åœ¨è·åœ†é”¥ä½“ä¸­è½´çº¿å‘½ä¸­ç‚¹âˆ†tè·ç¦»å†…å‡åŒ€é‡‡æ ·çƒä½“ï¼Œè¿™äº§ç”Ÿ2âˆ†té‡‡æ ·é—´éš”ã€‚</li><li>ä¼˜ç‚¹ï¼šå¯ä»¥å‡å°‘éœ€è¦é‡‡æ ·ç‚¹çš„æ•°é‡ï¼Œä¸”ä¸ä¼šå½±å“æ¸²æŸ“å‡ºæ¥å›¾ç‰‡çš„è´¨é‡</li></ul></li><li><p>ä¼˜ç‚¹ï¼š</p><ul><li>fine-grained details in close-up views</li><li>and free of aliasing in distant views</li><li>5 minute and smaller model parameters</li></ul></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>éœ€è¦ä½¿ç”¨multi-view segmentation methodså°†In-the-wildInæ•°æ®é›†ä¸­æ„Ÿå…´è¶£çš„ç‰©ä½“æå–å‡ºæ¥<ul><li>å³éœ€è¦mask</li></ul></li></ul></li></ul><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>In this work, we propose a Tri-Mip radiance fields, <strong>TriMipRF,</strong> to make the renderings contain</p><ul><li>fine-grained details in close-up views</li><li>and free of aliasing in distant views while maintaining efficient reconstruction, i.e. within <strong>five minutes</strong>, and <strong>compact representation</strong>, i.e. 25% smaller model size than Instant-ngp.</li><li>This is realized by our <strong>novel Tri-Mip encoding</strong> and <strong>cone casting</strong>.</li><li>The Tri-Mip encoding featurizes the 3D space by <strong>three mipmaps</strong> to model the pre-filtered 3D feature space, such that the sample spheres from the cone casting can be encoded in an area-sampling manner.</li></ul><p>We also develop a <strong>hybrid volume-surface rendering strategy</strong> to enable real-time rendering (&gt; 60 FPS) on consumer-level devices.</p><p>Extensive quantitative and qualitative experiments demonstrate our Tri-MipRF achieves <strong>state-of-the-art</strong> rendering quality while having a super-fast reconstruction speed. Also, the reconstruction results on the in-the-wild captures demonstrate the applicability of our Tri-MipRF.</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><ul><li>MipNeRF[3]å‘ˆç°äº†ç²¾ç»†çš„å’ŒæŠ—é”¯é½¿æ¸²æŸ“ï¼Œä½†éœ€è¦å‡ å¤©çš„è®­ç»ƒ</li><li>Instant-ngp[37]å¯ä»¥åœ¨å‡ åˆ†é’Ÿå†…å®Œæˆé‡å»ºï¼Œä½†ç”±äºå¿½ç•¥é‡‡æ ·åŒºåŸŸï¼Œåœ¨ä¸åŒè·ç¦»æˆ–åˆ†è¾¨ç‡ä¸‹æ¸²æŸ“æ—¶å­˜åœ¨æ¨¡ç³Šæˆ–æ··åƒ</li></ul><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°é¢–çš„Tri-Mip encoding(â€œmipmapâ€)ï¼Œå¯ä»¥å®ç°ç¥ç»è¾å°„åœºçš„å³æ—¶é‡å»ºå’ŒæŠ—æ··å é«˜ä¿çœŸæ¸²æŸ“</p><ul><li>å°†é¢„æ»¤æ³¢çš„ä¸‰ç»´ç‰¹å¾ç©ºé—´åˆ†è§£æˆä¸‰ä¸ªæ­£äº¤çš„mipmapï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨2Dé¢„æ»¤æ³¢ç‰¹å¾å›¾é«˜æ•ˆåœ°è¿›è¡Œ3DåŒºåŸŸé‡‡æ ·ï¼Œåœ¨ä¸ç‰ºç‰²æ•ˆç‡çš„æƒ…å†µä¸‹æ˜¾è‘—æé«˜äº†æ¸²æŸ“è´¨é‡ã€‚ä¸ºäº†å¤„ç†æ–°é¢–çš„Tri-Mipè¡¨ç¤ºï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§é”¥å½¢æ¸²æŸ“æŠ€æœ¯ï¼Œåœ¨è€ƒè™‘åƒç´ æˆåƒå’Œè§‚å¯Ÿè·ç¦»çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨Tri-Mipç¼–ç æœ‰æ•ˆåœ°é‡‡æ ·æŠ—é”¯é½¿3Dç‰¹å¾ã€‚</li></ul><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>NeRF: MLPè¿›è¡Œè®­ç»ƒéšå¼æ¨¡å‹</li><li>MipNeRFé€šè¿‡é›†æˆä½ç½®ç¼–ç å¯¹é¢„è¿‡æ»¤çš„äº®åº¦åœºè¿›è¡Œå»ºæ¨¡ï¼Œè¿›ä¸€æ­¥çªç ´äº†æ¸²æŸ“è´¨é‡çš„ç•Œé™ã€‚ç„¶è€Œï¼Œå¦‚æ­¤ä»¤äººå°è±¡æ·±åˆ»çš„è§†è§‰è´¨é‡ï¼Œåœ¨é‡å»ºå’Œæ¸²æŸ“é˜¶æ®µéƒ½éœ€è¦æ˜‚è´µçš„è®¡ç®—ï¼Œä¾‹å¦‚ï¼ŒMipNeRF[3]éœ€è¦ä¸‰å¤©ä»¥ä¸Šçš„é‡å»ºæ—¶é—´ï¼Œæ¸²æŸ“ä¸€å¸§éœ€è¦å‡ åˆ†é’Ÿã€‚</li><li>InstantNGPå¦ä¸€æ–¹é¢ï¼Œæœ€è¿‘çš„ç ”ç©¶æå‡ºäº†æ˜¾å¼æˆ–æ··åˆè¡¨ç¤ºæ¥å®ç°é«˜æ•ˆæ¸²æŸ“[43,17,56,20,10,6]æˆ–é‡æ„[14,47,9,37]ï¼Œä¾‹å¦‚å“ˆå¸Œç¼–ç [37]å°†é‡æ„æ—¶é—´ä»å‡ å¤©å¤§å¤§ç¼©çŸ­åˆ°å‡ åˆ†é’Ÿï¼Œå®ç°äº†å®æ—¶æ¸²æŸ“ã€‚ä½†æ˜¯ä»–ä»¬çš„æ¸²æŸ“æ¨¡å‹åœ¨åŸºäºç‚¹çš„é‡‡æ ·ä¸Šéƒ½å­˜åœ¨ç¼ºé™·ï¼Œå¯¼è‡´è¿‘æ™¯æ¸²æŸ“è¿‡äºæ¨¡ç³Šï¼Œè¿œæ™¯æ¸²æŸ“è¿‡åº¦æ··å ã€‚</li><li>ç”±äºç¼ºä¹æ”¯æŒæœ‰æ•ˆåŒºåŸŸé‡‡æ ·çš„è¡¨ç¤ºï¼Œæˆ‘ä»¬é¢ä¸´ç€è´¨é‡å’Œæ•ˆç‡ä¹‹é—´æƒè¡¡çš„å›°å¢ƒã€‚</li></ul><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®¾è®¡ä¸€ä¸ªæ—¢æ”¯æŒ<strong>é«˜ä¿çœŸæŠ—æ··å æ¸²æŸ“</strong>åˆæ”¯æŒ<strong>é«˜æ•ˆé‡å»º</strong>çš„RF(radiance field)è¡¨ç¤ºã€‚ä¸ºäº†è§£å†³æ··å å’Œæ¨¡ç³Šé—®é¢˜ï¼Œ<br>è¶…é‡‡æ ·</p><ul><li>ç¦»çº¿</li><li>é€šè¿‡å¯¹æ¯ä¸ªåƒç´ çš„è¶³è¿¹è¿›è¡Œå¤šé‡å…‰çº¿çš„è¶…é‡‡æ ·ä¼šå¤§å¤§å¢åŠ è®¡ç®—æˆæœ¬</li></ul><p>é¢„æ»¤æ³¢(åˆç§°åŒºåŸŸé‡‡æ ·), NGPä¸­çš„å æ®ç½‘æ ¼ï¼Œåªå¯¹æ„Ÿå…´è¶£çš„åŒºåŸŸè¿›è¡Œé‡‡æ ·</p><ul><li>å®æ—¶æ¸²æŸ“</li><li>ç›´æ¥å¯¹3Dä½“ç§¯è¿›è¡Œé¢„æ»¤æ³¢ä¹Ÿä¼šå ç”¨å¤§é‡å†…å­˜å’Œè®¡ç®—é‡,è¿™ä¸æ•ˆç‡çš„ç›®æ ‡ç›¸å†²çª</li><li>ç”±äºå“ˆå¸Œå†²çªï¼Œé¢„è¿‡æ»¤ç”¨å“ˆå¸Œç¼–ç è¡¨ç¤ºçš„äº®åº¦å­—æ®µä¹Ÿä¸æ˜¯å¾ˆç®€å•</li></ul><p>æˆ‘ä»¬é€šè¿‡æ–°é¢–çš„Tri-Mipè¾å°„åœº(Tri-MipRF)å®ç°äº†è¿™ä¸€å…·æœ‰æŒ‘æˆ˜æ€§çš„ç›®æ ‡ã€‚å¦‚å›¾1æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„Tri-MipRFå®ç°äº†æœ€å…ˆè¿›çš„æ¸²æŸ“è´¨é‡ï¼Œåœ¨ç‰¹å†™è§†å›¾ä¸­å‘ˆç°é«˜ä¿çœŸç»†èŠ‚ï¼Œå¹¶ä¸”åœ¨è¿œå¤„è§†å›¾ä¸­æ²¡æœ‰æ··å ã€‚åŒæ—¶ï¼Œå®ƒå¯ä»¥è¶…å¿«åœ°é‡å»ºï¼Œå³åœ¨å•ä¸ªGPUä¸Š5åˆ†é’Ÿå†…ï¼Œè€Œå“ˆå¸Œç¼–ç çš„è¶…é‡‡æ ·å˜ä½“Instant-ngp  5xéœ€è¦å¤§çº¦10åˆ†é’Ÿçš„é‡å»ºæ—¶é—´ï¼Œå¹¶ä¸”æ¸²æŸ“è´¨é‡è¦ä½å¾—å¤šã€‚</p><p>é€šè¿‡ä¸‰ä¸ª2D mip (multum in parvoto)åœ°å›¾æ¥å‘ˆç°3Dç©ºé—´ã€‚<strong>Tri-Mipç¼–ç é¦–å…ˆå°†3Dç©ºé—´åˆ†è§£ä¸ºä¸‰ä¸ªå¹³é¢</strong>(planeXY, planeXZå’ŒplaneY Z)ï¼Œçµæ„Ÿæ¥è‡ªäº<a href="https://readpaper.com/paper/4569381233369292801">[PDF] Efficient Geometry-aware 3D Generative Adversarial Networks-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a>ä¸­3Då†…å®¹ç”Ÿæˆçš„åˆ†è§£ï¼Œç„¶åç”¨ä¸€ä¸ªmipmapè¡¨ç¤ºæ¯ä¸ªå¹³é¢ã€‚<br>å®ƒå·§å¦™åœ°åˆ©ç”¨äºŒç»´mipmapsçš„ä¸åŒå±‚æ¬¡å¯¹é¢„æ»¤æ³¢çš„ä¸‰ç»´ç‰¹å¾ç©ºé—´è¿›è¡Œå»ºæ¨¡ã€‚æˆ‘ä»¬çš„Tri-MipRFå±äºæ··åˆè¡¨ç¤ºï¼Œå› ä¸ºå®ƒé€šè¿‡Tri-Mipç¼–ç å’Œä¸€ä¸ªå¾®å°çš„MLPæ¥å»ºæ¨¡è¾å°„åœºï¼Œè¿™ä½¿å¾—å®ƒåœ¨é‡å»ºè¿‡ç¨‹ä¸­æ”¶æ•›å¾—å¾ˆå¿«ã€‚æˆ‘ä»¬çš„æ–¹æ³•çš„æ¨¡å‹å¤§å°ç›¸å¯¹ç´§å‡‘ï¼Œå› ä¸ºMLPéå¸¸æµ…ï¼Œè€Œ<strong>Tri-Mipç¼–ç åªéœ€è¦ä¸‰ä¸ª2Dåœ°å›¾æ¥å­˜å‚¨mipmapçš„base level</strong>ã€‚<br>ä¸ºäº†å¤„ç†Tri-Mipç¼–ç ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æœ‰æ•ˆçš„é”¥å½¢æŠ•å°„æ¸²æŸ“æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯å°†åƒç´ ä½œä¸ºä¸€ä¸ªåœ†ç›˜ï¼Œå¹¶ä¸ºæ¯ä¸ªåƒç´ å‘å‡ºä¸€ä¸ªé”¥å½¢ã€‚<strong>ä¸MipNeRFç”¨å¤šå…ƒé«˜æ–¯å¯¹åœ†é”¥ä½“è¿›è¡Œé‡‡æ ·ä¸åŒï¼Œæˆ‘ä»¬é‡‡ç”¨åœ†é”¥ä½“å†…åˆ‡çš„çƒä½“ã€‚çƒä½“æ ¹æ®å…¶å ç”¨çš„é¢ç§¯è¿›ä¸€æ­¥ä»¥Tri-Mipç¼–ç ä¸ºç‰¹å¾</strong>ã€‚è¿™æ ·åšçš„åŸå› æ˜¯mipmapsä¸­çš„ç‰¹å¾æ˜¯å„å‘åŒæ€§é¢„è¿‡æ»¤çš„ã€‚Tri-MipRFç¼–ç å¯¹é¢„æ»¤æ³¢åçš„ä¸‰ç»´ç‰¹å¾ç©ºé—´è¿›è¡Œå»ºæ¨¡ï¼Œé”¥å½¢æŠ•å°„è‡ªé€‚åº”æ¸²æŸ“è·ç¦»å’Œåˆ†è¾¨ç‡ï¼Œ<strong>å®ƒä»¬é€šè¿‡é‡‡æ ·çƒçš„å ç”¨é¢ç§¯æœ‰æ•ˆåœ°è¿æ¥åœ¨ä¸€èµ·ï¼Œä½¿æˆ‘ä»¬çš„Tri-MipRFæ¸²æŸ“ç»“æœåœ¨è¿‘è·ç¦»è§†å›¾ä¸­æ²¡æœ‰æ¨¡ç³Šï¼Œåœ¨è¿œè·ç¦»è§†å›¾ä¸­æ²¡æœ‰æ··å </strong>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¼€å‘äº†ä¸€ç§æ··åˆä½“é¢æ¸²æŸ“ç­–ç•¥ï¼Œä»¥ä¾¿åœ¨æ¶ˆè´¹çº§gpuä¸Šå®ç°å®æ—¶æ¸²æŸ“ï¼Œä¾‹å¦‚åœ¨Nvidia RTX 3060æ˜¾å¡ä¸Šå®ç°60 FPSã€‚<br>æˆ‘ä»¬åœ¨å…¬å…±åŸºå‡†å’Œé‡å¤–æ‹æ‘„çš„å›¾åƒä¸Šå¹¿æ³›è¯„ä¼°äº†æˆ‘ä»¬çš„Tri-MipRFã€‚å®šé‡å’Œå®šæ€§ç»“æœå‡è¯æ˜äº†è¯¥æ–¹æ³•åœ¨é«˜ä¿çœŸæ¸²æŸ“å’Œå¿«é€Ÿé‡å»ºæ–¹é¢çš„æœ‰æ•ˆæ€§ã€‚æˆ‘ä»¬çš„è´¡çŒ®æ€»ç»“å¦‚ä¸‹</p><ul><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°é¢–çš„<strong>Tri-Mipç¼–ç </strong>ï¼Œé€šè¿‡åˆ©ç”¨å¤šçº§2D mipmapså¯¹é¢„æ»¤æ³¢çš„3Dç‰¹å¾ç©ºé—´è¿›è¡Œå»ºæ¨¡ï¼Œä»è€Œé€šè¿‡æœ‰æ•ˆçš„åŒºåŸŸé‡‡æ ·å®ç°æŠ—æ··å ä½“æ¸²æŸ“ã€‚</li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„<strong>é”¥ä½“æŠ•å°„æ¸²æŸ“æŠ€æœ¯</strong>ï¼Œè¯¥æŠ€æœ¯å¯ä»¥æœ‰æ•ˆåœ°ä¸ºæ¯ä¸ªåƒç´ å‘å‡ºä¸€ä¸ªé”¥ä½“ï¼ŒåŒæ—¶åœ¨Tri-Mipç¼–ç çš„3Dç©ºé—´ä¸Šä¼˜é›…åœ°ç”¨çƒä½“å¯¹é”¥ä½“è¿›è¡Œé‡‡æ ·</li><li>æˆ‘ä»¬çš„æ–¹æ³•å®ç°äº†æœ€å…ˆè¿›çš„æ¸²æŸ“è´¨é‡å’Œé‡å»ºé€Ÿåº¦(åœ¨å•ä¸ªGPUä¸Š5åˆ†é’Ÿå†…)ï¼ŒåŒæ—¶ä»ç„¶ä¿æŒäº†ç´§å‡‘çš„è¡¨ç¤º(æ¨¡å‹å°ºå¯¸æ¯”Instantngpå°25%)ã€‚ç”±äº<strong>æ··åˆä½“é¢æ¸²æŸ“ç­–ç•¥</strong>ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨éƒ¨ç½²åœ¨æ¶ˆè´¹è€…çº§è®¾å¤‡ä¸Šæ—¶ä¹Ÿå®ç°äº†å®æ—¶æ¸²æŸ“ã€‚</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><ul><li><p>Anti-aliasing in rendering.æŠ—æ··å æ˜¯è®¡ç®—æœºå›¾å½¢å­¦å’Œå›¾åƒå¤„ç†ä¸­çš„ä¸€ä¸ªåŸºæœ¬é—®é¢˜ï¼Œåœ¨æ¸²æŸ“ç•Œå¾—åˆ°äº†å¹¿æ³›çš„ç ”ç©¶ã€‚ä»æ•°å­¦ä¸Šè®²ï¼Œæ··å æ˜¯é‡‡æ ·ç‡ä¸è¶³å¯¼è‡´é¢‘ç‡åˆ†é‡é‡å çš„ç»“æœã€‚<strong>è¶…é‡‡æ ·å’Œé¢„æ»¤æ³¢(åŒºåŸŸé‡‡æ ·)åˆ†åˆ«æ˜¯ç¦»çº¿å’Œå®æ—¶æ¸²æŸ“ç®—æ³•ä¸­å‡å°‘æ··å çš„ä¸¤ç§å…¸å‹æ–¹æ³•</strong>ã€‚è¶…é‡‡æ ·æŠ—æ··å (Super-sampling anti-aliasing, SSAA)æ–¹æ³•[15,11,32,19,51]ç›´æ¥æé«˜é‡‡æ ·ç‡ä»¥æ¥è¿‘å¥ˆå¥æ–¯ç‰¹é¢‘ç‡ï¼Œè€Œå¤šé‡‡æ ·æŠ—æ··å (multi-sampling anti-aliasing, MSAA)[1]æ˜¯ç°ä»£å›¾å½¢å¤„ç†å™¨å’Œapiäº‹å®ä¸Šæ”¯æŒçš„æ–¹æ³•ã€‚åŸºäºé¢„è¿‡æ»¤çš„æ–¹æ³•[25,39,22,2,52,23]é€šè¿‡åœ¨æ¸²æŸ“å‰é¢„å…ˆè®¡ç®—å†…å®¹çš„è¿‡æ»¤ç‰ˆæœ¬ï¼Œå‡è½»äº†è¿™ä¸€è´Ÿæ‹…ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹æ³•æµæ›´é€‚åˆå®æ—¶æ¸²æŸ“ã€‚</p><ul><li>åœ¨NeRFçš„èƒŒæ™¯ä¸‹ï¼Œè¶…çº§é‡‡æ ·å¯ä»¥é€šè¿‡æ¯åƒç´ æŠ•å°„å¤šä¸ªå…‰çº¿å¹¶èšåˆæ¸²æŸ“ç»“æœæ¥äº§ç”Ÿæœ€ç»ˆé¢œè‰²æ¥å®ç°ã€‚è¿™ç§ç®€å•çš„ç­–ç•¥å¾ˆæœ‰ç”¨ï¼Œä½†ä»£ä»·å¾ˆé«˜ï¼Œå› ä¸ºè®¡ç®—æˆæœ¬éšç€é‡‡æ ·ç‡çš„å¢åŠ è€Œæ˜¾è‘—å¢åŠ ã€‚å¦ä¸€æ–¹é¢ï¼Œæœ€è¿‘çš„ç ”ç©¶(MipNeRF/360, BACON)é€šè¿‡æå‡ºçš„<strong>é›†æˆä½ç½®ç¼–ç </strong>æˆ–å¸¦é™åæ ‡ç½‘ç»œå°†é¢„æ»¤æ³¢æ€æƒ³å¼•å…¥ç¥ç»è¾å°„åœºï¼Œä»¥å­¦ä¹ åœºæ™¯çš„é¢„æ»¤æ³¢è¡¨ç¤ºï¼Œ<strong>ä»è€Œä½¿å…¶æ¸²æŸ“åœ¨è¿‘è·ç¦»è§†å›¾ä¸­ä¸æ¨¡ç³Šï¼Œåœ¨è¿œè·ç¦»è§†å›¾ä¸­ä¸æ··è”</strong>ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬çš„æ¸²æŸ“å’Œé‡å»ºé€Ÿåº¦éå¸¸æ…¢ï¼Œä¾‹å¦‚MipNeRF[3]é‡å»ºä¸€ä¸ªåœºæ™¯å¤§çº¦éœ€è¦ä¸‰å¤©ï¼Œæ¸²æŸ“ä¸€å¸§éœ€è¦å‡ åˆ†é’Ÿï¼Œè¿™é˜»ç¢äº†å®ƒä»¬çš„é€‚ç”¨æ€§ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>æˆ‘ä»¬çš„Tri-MipRFå¯ä»¥åœ¨5åˆ†é’Ÿå†…é‡å»ºï¼Œå¹¶åœ¨ç›¸åŒçš„ç¡¬ä»¶ä¸Šå®ç°å®æ—¶æ¸²æŸ“ï¼ŒåŒæ—¶æˆ‘ä»¬çš„æ–¹æ³•åœ¨è¿‘æ™¯å’Œè¿œæ™¯ä¸Šéƒ½æ¯”MipNeRFå…·æœ‰æ›´å¥½çš„æ¸²æŸ“è´¨é‡ã€‚</strong></li></ul></li><li><p>Accelerating NeRF NeRF[35]éšå¼åœ°è¡¨ç¤ºMLPä¸­çš„åœºæ™¯ï¼Œè¿™å¯¼è‡´äº†éå¸¸ç´§å‡‘çš„å­˜å‚¨ï¼Œä½†å®ƒçš„é‡å»ºå’Œæ¸²æŸ“éå¸¸æ…¢ã€‚<strong>ä¸€äº›ç ”ç©¶è‡´åŠ›äºåŠ é€Ÿæ¸²æŸ“</strong>ï¼Œé€šè¿‡å°†åœºæ™¯åˆ†æˆè®¸å¤šå•å…ƒ[42,43]æ¥é™ä½æ¨ç†å¤æ‚æ€§ï¼Œå­¦ä¹ å‡å°‘æ¯æ¡å°„çº¿çš„æ ·æœ¬[27,38]ï¼Œæˆ–ç¼“å­˜è®­ç»ƒå¥½çš„å­—æ®µå€¼[20,17,56,6]æ¥å‡å°‘æ¸²æŸ“ä¸­çš„è®¡ç®—ã€‚<strong>å¦ä¸€é¡¹å·¥ä½œä¾§é‡äºé€šè¿‡ç›´æ¥ä¼˜åŒ–æ˜¾å¼è¡¨ç¤ºæˆ–åˆ©ç”¨æ··åˆè¡¨ç¤º</strong>ï¼Œå¦‚ä½ç§©å¼ é‡[9]å’Œå“ˆå¸Œè¡¨[37]æ¥åŠ å¿«æ”¶æ•›é€Ÿåº¦ï¼Œä»è€Œå‡å°‘é‡æ„æ—¶é—´ã€‚ç‰¹åˆ«æ˜¯ï¼Œå“ˆå¸Œç¼–ç å¯ä»¥åœ¨5åˆ†é’Ÿå·¦å³çš„æ—¶é—´å†…å®ç°å³æ—¶é‡å»ºå’Œå®æ—¶æ¸²æŸ“ã€‚</p><ul><li>ä½†æ˜¯ï¼Œä»¥ä¸Šå‡ ç§æ–¹æ³•çš„æ¸²æŸ“æ¨¡å‹éƒ½å­˜åœ¨<strong>å°†åƒç´ ä½œä¸ºå•ä¸ªç‚¹è¿›è¡Œé‡‡æ ·è€Œå¿½ç•¥å¯¹åº”åŒºåŸŸçš„ç¼ºé™·ï¼Œè¿™ä¼šå¯¼è‡´è¿‘æ™¯æ¸²æŸ“è¿‡äºæ¨¡ç³Šï¼Œè¿œæ™¯æ¸²æŸ“è¿‡åº¦æ··å </strong>ã€‚ä¸Šé¢æåˆ°çš„è¶…çº§é‡‡æ ·æŠ€æœ¯å¯ä»¥ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œä½†éœ€è¦æ¯åƒç´ æŠ•å°„å¤šæ¬¡å…‰çº¿ï¼Œè¿™å¤§å¤§å¢åŠ äº†é‡å»ºå’Œæ¸²æŸ“æˆæœ¬ã€‚ç”±äºå“ˆå¸Œå†²çªï¼Œå°†é¢„è¿‡æ»¤ä¸å“ˆå¸Œç¼–ç ç»“åˆèµ·æ¥[37]æ˜¯non-trivialçš„ã€‚æˆ‘ä»¬çš„æ–¹æ³•é€šè¿‡æå‡ºçš„Tri-Mipç¼–ç æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰æ•ˆåœ°å¯¹é¢„è¿‡æ»¤çš„3Dç‰¹å¾ç©ºé—´è¿›è¡Œå»ºæ¨¡ï¼Œè¿™ä¸å“ˆå¸Œç¼–ç ä¸€æ ·æœ‰æ•ˆï¼Œä½†èƒ½å¤Ÿäº§ç”ŸæŠ—æ··å çš„é«˜ä¿çœŸæ¸²æŸ“ã€‚</li></ul></li><li><p>Compact 2D representation for 3D content ç›´æ¥åœ¨volumesä¸­è¡¨ç¤º3Då†…å®¹æ˜¯å†…å­˜å’Œè®¡ç®—å¯†é›†å‹çš„ï¼Œè€Œä¸”ç”±äº3Då†…å®¹æ€»æ˜¯ç¨€ç–çš„ï¼Œå› æ­¤æ˜¯å†—ä½™çš„ã€‚Pengç­‰[41]æå‡º<strong>å°†ç‚¹äº‘çš„ç‰¹å¾æŠ•å½±åˆ°å¤šä¸ªå¹³é¢è¿›è¡Œä¸‰ç»´å‡ ä½•é‡å»º</strong>ã€‚æœ€è¿‘çš„ç ”ç©¶[21,54,55]è¡¨æ˜ï¼Œ<strong>3Då†…å®¹å¯ä»¥åœ¨2Då›¾åƒä¸­ç´§å‡‘åœ°è¡¨ç¤ºï¼Œå¹¶å¿ å®åœ°è¿˜åŸ</strong>ã€‚åœ¨ç”Ÿæˆæ¨¡å‹çš„èƒŒæ™¯ä¸‹ï¼ŒEG3D[8]<strong>æå‡ºäº†ä¸€ç§ä¸‰å¹³é¢è¡¨ç¤ºï¼Œå°†3Dä½“ç§¯åˆ†è§£ä¸ºä¸‰ä¸ªäºŒç»´å¹³é¢è¿›è¡Œ3Då†…å®¹ç”Ÿæˆ</strong>ï¼Œå¹¶åœ¨åç»­çš„è®¸å¤šç”Ÿæˆæ–¹æ³•ä¸­é‡‡ç”¨äº†è¿™ç§è¡¨ç¤º[16,44,45,48,5,53,12]ã€‚æ­¤å¤–ï¼Œå°†è¿™ç§è¡¨ç¤ºè¿›ä¸€æ­¥æ¨å¹¿åˆ°å››ç»´ç©ºé—´ä¸­ï¼Œä»¥æ¨¡æ‹ŸåŠ¨æ€åœºæ™¯[7,13]ã€‚æˆ‘ä»¬çš„Tri-Mipç¼–ç å°±æ˜¯å—åˆ°è¿™ä¸€è¡Œä½œå“çš„å¯å‘ï¼Œ<strong>ä½†æ˜¯ä»¥ä¸Šçš„è¡¨ç¤ºéƒ½ä¸èƒ½å®ç°æˆ‘ä»¬çš„ç›®æ ‡ï¼Œå³å¯¹é¢„æ»¤æ³¢çš„3Dç‰¹å¾ç©ºé—´è¿›è¡Œå»ºæ¨¡ï¼Œä»¥å®ç°æœ‰æ•ˆçš„é¢ç§¯é‡‡æ ·</strong>ã€‚</p></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230726151646.png" alt="image.png"></p><ul><li>ä»ç›¸æœºåŸç‚¹å‡ºå‘ï¼Œå‘æˆåƒå¹³é¢ä¸Šçš„åƒç´ åœ†ç›˜å‘å°„ä¸€ä¸ªåœ†é”¥Cï¼Œå¹¶ç”¨ä¸€ç»„ä¸è¯¥åœ†é”¥å†…åµŒçš„çƒä½“Så¯¹è¯¥åœ†é”¥è¿›è¡Œé‡‡æ ·</li><li>é€šè¿‡Tri-Mip Encoding(ç”±ä¸‰ä¸ªminmaps Må‚æ•°åŒ–)å°†çƒä½“Sç‰¹å¾åŒ–ä¸ºç‰¹å¾å‘é‡fï¼Œè¿™æ˜¯ä½¿æˆ‘ä»¬çš„æ¸²æŸ“å›¾åœ¨è¿‘å¤„è§†å›¾ä¸­åŒ…å«ç»†ç²’åº¦ç»†èŠ‚å’Œåœ¨è¿œå¤„è§†å›¾ä¸­æ²¡æœ‰æ··åŒ–çš„å…³é”®ï¼Œå› ä¸ºTri-Mipç¼–ç é€šè¿‡åˆ©ç”¨mipmapä¸­çš„ä¸åŒlevelæœ‰æ•ˆåœ°å»ºæ¨¡é¢„è¿‡æ»¤çš„3Dç‰¹å¾ç©ºé—´ã€‚</li><li>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç”±æƒé‡Î˜å‚æ•°åŒ–çš„å¾®å°MLPå°†<strong>çƒä½“Sçš„ç‰¹å¾å‘é‡f</strong>å’Œè§†<strong>å›¾æ–¹å‘d</strong>éçº¿æ€§æ˜ å°„åˆ°çƒä½“çš„å¯†åº¦Ï„å’Œé¢œè‰²c ï¼š$[\tau,c]=\mathrm{MLP}(\mathbf{f},\mathbf{d};\Theta).$</li><li>æœ€åï¼Œåˆ©ç”¨ä¼°ç®—çš„åœ†é”¥ä½“å†…çƒä½“çš„å¯†åº¦å’Œé¢œè‰²ï¼Œé€šè¿‡[33]ä¸­çš„æ•°å€¼æ­£äº¤è¿‘ä¼¼ä½“ç»˜åˆ¶ç§¯åˆ†ï¼Œç»˜åˆ¶åœ†é”¥ä½“å¯¹åº”åƒç´ çš„æœ€ç»ˆé¢œè‰²:</li></ul><p>$\begin{aligned}\mathbf{C}(\mathbf{t},\mathbf{d},\Theta,\mathcal{M})&amp;=\sum_iT_i(1-\exp(-\tau_i(t_{i+1}-t_i)))c_i,\\\mathrm{with}\quad T_i&amp;=\exp\left(-\sum_{k&lt;i}\tau_k(t_{k+1}-t_k)\right)\end{aligned}$</p><ul><li>é€šè¿‡è®¡ç®—lossï¼Œå¹¶åå‘ä¼ æ’­ä¼˜åŒ–MLPçš„æƒé‡å‚æ•°$\Theta$å’ŒTri-Mipç¼–ç ä¸­mipmapsçš„å‚æ•°M</li></ul><h2 id="Cone-Casting"><a href="#Cone-Casting" class="headerlink" title="Cone Casting"></a>Cone Casting</h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230726164225.png" alt="image.png"></p><p>PE/IPE: ä½ç½®ç¼–ç ï¼Œä¸æ˜¾å¼æˆ–æ··åˆä½“ç§¯ç‰¹å¾ç¼–ç ä¸å…¼å®¹<br>HashGrid Encoding: æ˜¾å¼æˆ–æ··åˆä½“ç§¯ç‰¹å¾ç¼–ç </p><ul><li><strong>NeRF</strong>ï¼šå°†åƒç´ çœ‹æˆä¸€ä¸ªç‚¹ï¼Œä»ç›¸æœºåŸç‚¹å‘åƒç´ ç‚¹å‘å‡ºå…‰çº¿ï¼Œæ²¿ç€å…‰çº¿é‡‡æ ·ç‚¹çš„åæ ‡ï¼Œå¹¶åˆ©ç”¨ä½ç½®é¢‘ç‡ç¼–ç $\gamma(\cdot)$å¯¹å…¶è¿›è¡Œç‰¹å¾åŒ–ï¼Œå¾—åˆ°ç‚¹çš„ç‰¹å¾å‘é‡<ul><li>è¯¥å…¬å¼å°†åƒç´ å»ºæ¨¡ä¸ºå•ä¸ªç‚¹ï¼Œè€Œå¿½ç•¥åƒç´ çš„é¢ç§¯ï¼Œè¿™ä¸ç°å®ä¸–ç•Œçš„æˆåƒä¼ æ„Ÿå™¨æœ‰å¾ˆå¤§ä¸åŒã€‚å¤§å¤šæ•°NeRFä½œå“[47,56,14,9,10]ï¼ŒåŒ…æ‹¬instant-ngp[37]ï¼Œéƒ½éµå¾ªäº†è¿™ä¸ªå…¬å¼ã€‚å½“æ•è·/æ¸²æŸ“çš„è§†å›¾å¤„äºå¤§è‡´æ’å®šçš„è·ç¦»æ—¶ï¼Œå®ƒå¯ä»¥è¿‘ä¼¼äºç°å®ä¸–ç•Œçš„æƒ…å†µï¼Œä½†å½“åœ¨éå¸¸ä¸åŒçš„è·ç¦»ä¸Šè§‚çœ‹æ—¶ï¼Œå®ƒä¼šå¯¼è‡´æ˜æ˜¾çš„ä¼ªå½±ï¼Œä¾‹å¦‚ï¼Œåœ¨ç‰¹å†™è§†å›¾ä¸­æ¨¡ç³Šï¼Œåœ¨è¿œè·ç¦»è§†å›¾ä¸­æ··åŒ–ï¼Œå› ä¸ºé‡‡æ ·ä¸è·ç¦»æ— å…³ã€‚<strong>ï¼ˆè¿‘å¤„çš„é‡‡æ ·ä¸è¿œå¤„çš„é‡‡æ ·éƒ½æ˜¯ä¸€ä¸ªç‚¹ï¼‰</strong></li></ul></li><li><strong>MipNeRF</strong>ï¼šä¸ºæ¯ä¸ªåƒç´ å‘å‡ºä¸€ä¸ªé”¥ä½“ï¼Œå¹¶å¯¹é”¥ä½“è¿›è¡Œ<strong>å¤šå…ƒé«˜æ–¯é‡‡æ ·</strong>ï¼Œå†é€šè¿‡é›†æˆä½ç½®ç¼–ç (IPE)å¯¹å…¶è¿›è¡Œç‰¹å¾åŒ–ã€‚IPEç”±E[Î³(x)]å¯¹é«˜æ–¯èŒƒå›´å†…ç‚¹çš„PEç§¯åˆ†æ¨å¯¼è€Œæ¥ï¼Œå¦‚å›¾3 (b)æ‰€ç¤ºã€‚<ul><li>ç„¶è€Œï¼Œè¯¥ç­–ç•¥å¯¹äºæ‰©å±•åˆ°æ˜¾å¼æˆ–æ··åˆè¡¨ç¤ºä»¥å®ç°é«˜æ•ˆé‡å»ºå’Œæ¸²æŸ“å¹¶éæ˜“äº‹ï¼Œä¾‹å¦‚ï¼Œå“ˆå¸Œç¼–ç [37]ï¼Œå› ä¸ºIPEæ˜¯åŸºäºåæ ‡çš„ä½ç½®ç¼–ç çš„ç§¯åˆ†ï¼Œè¿™ä¸æ˜¾å¼æˆ–æ··åˆä½“ç§¯ç‰¹å¾ç¼–ç ä¸å…¼å®¹ã€‚</li></ul></li><li>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„<strong>é«˜æ•ˆé”¥å½¢æŠ•å°„ç­–ç•¥</strong>å¯ä»¥æœ‰æ•ˆåœ°ä¸æˆ‘ä»¬çš„Tri-Mipç¼–ç ä¸€èµ·åœ¨ä½“ç»˜åˆ¶æœŸé—´è¿›è¡ŒåŒºåŸŸé‡‡æ ·ã€‚å¦‚å›¾3 (c)æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†åƒç´ è¡¨ç¤ºä¸ºå›¾åƒå¹³é¢ä¸Šçš„ä¸€ä¸ªåœ†ç›˜ï¼Œè€Œä¸æ˜¯å¿½ç•¥åƒç´ é¢ç§¯çš„å•ä¸ªç‚¹ã€‚åœ†ç›˜çš„åŠå¾„å¯é€šè¿‡$\dot r = \sqrt{(âˆ†xÂ·âˆ†y)/Ï€}$è®¡ç®—ï¼Œå…¶ä¸­âˆ†xå’Œâˆ†yä¸ºåƒç´ åœ¨ä¸–ç•Œåæ ‡ä¸‹çš„å®½åº¦å’Œé«˜åº¦ï¼Œå¯ç”±æ ‡å®šåçš„ç›¸æœºå‚æ•°å¯¼å‡ºã€‚å¯¹äºæ¯ä¸ªåƒç´ ï¼Œæˆ‘ä»¬ä»ç›¸æœºçš„æŠ•å½±ä¸­å¿ƒæ²¿æ–¹å‘$\mathbf{d} = \mathbf{p_{o}} - \mathbf{o}$å‘å°„ä¸€ä¸ªåœ†é”¥Cï¼Œå…¶ä¸­$p_{o}$æ˜¯åƒç´ çš„ä¸­å¿ƒã€‚åœ†é”¥ä½“çš„é¡¶ç‚¹ä½äºç›¸æœºçš„å…‰å­¦ä¸­å¿ƒï¼Œåœ†é”¥ä½“ä¸æˆåƒå¹³é¢çš„äº¤ç‚¹æ˜¯åƒç´ å¯¹åº”çš„åœ†ç›˜ã€‚æˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºåœ†é”¥çš„ä¸­è½´çº¿ä¸º$\mathbf{a(t)} = \mathbf{o} + t\mathbf{d}$ã€‚ä¸ºäº†å¯¹é”¥ä½“è¿›è¡Œé‡‡æ ·ï¼Œæˆ‘ä»¬ä¸èƒ½éµå¾ªMipNeRF[3]ä½¿ç”¨å¤šå…ƒé«˜æ–¯ï¼Œå› ä¸º<strong>å¤šå…ƒé«˜æ–¯æ˜¯å„å‘å¼‚æ€§çš„</strong>ï¼Œè€Œ<strong>æˆ‘ä»¬çš„Tri-Mipç¼–ç ä¸­çš„é¢„æ»¤æ³¢æ˜¯å„å‘åŒæ€§çš„</strong>ã€‚</li><li>å› æ­¤ï¼Œæˆ‘ä»¬ç”¨ä¸€ç»„çƒä½“(x, r)å¯¹åœ†é”¥ä½“è¿›è¡Œé‡‡æ ·ï¼Œè¿™äº›çƒä½“çš„åœ†å¿ƒä¸ºxï¼ŒåŠå¾„ä¸ºrã€‚åœ†å¿ƒxä½äºåœ†é”¥ä½“çš„ä¸­å¿ƒè½´ï¼ŒåŠå¾„ä¸ºrï¼Œä½¿<strong>çƒä½“ä¸åœ†é”¥ä½“ç›¸åˆ‡</strong>ï¼Œå¯ä»¥å†™æˆ:</li></ul><p>$\begin{aligned}\mathrm{x}&amp;=\mathrm{o}+t\mathrm{d},\\\mathrm{r}&amp;=\frac{|\mathrm{x}-\mathrm{o}|_2\cdot f\dot{r}}{|\mathrm{d}|_2\cdot\sqrt{\left(\sqrt{|\mathrm{d}|_2^2-f^2}-\dot{r}\right)^2+f^2},}\end{aligned}$</p><ul><li>ç„¦è·f</li><li>$\dot r = \sqrt{(âˆ†xÂ·âˆ†y)/Ï€}$</li></ul><p>å¯å¾—ï¼šé‡‡æ ·çƒä½“S(x,r) å¯ä»¥ç”±$t_{i} \in t$ç¡®å®š</p><p>æˆ‘ä»¬åœ¨æ‘„åƒæœºé¢„å®šä¹‰çš„è¿‘å¹³é¢$t_{n}$å’Œè¿œå¹³é¢$t_{f}$ä¹‹é—´ï¼Œæˆ–è€…åœ¨æ„Ÿå…´è¶£çš„3Dç©ºé—´çš„åœ†é”¥ä½“ä¸­å¿ƒè½´å’Œè½´å‘è¾¹ç•Œç›’(AABB)ä¹‹é—´çš„ä¸¤ä¸ªäº¤ç‚¹ä¹‹é—´å‡åŒ€åœ°é‡‡æ ·$t_{i} \in t$ã€‚ä¸ºäº†è¿›ä¸€æ­¥åˆ©ç”¨3Dç©ºé—´çš„ç¨€ç–æ€§æ¥åŠ é€Ÿcone castingï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§äºŒå…ƒå ç”¨ç½‘æ ¼ï¼Œå®ƒç²—ç•¥åœ°æ ‡è®°äº†ç©ºä¸éç©ºçš„ç©ºé—´ï¼Œç±»ä¼¼äº(NGP or NerfAcc)ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ä¾¿å®œåœ°è·³è¿‡ç©ºåŒºåŸŸçš„æ ·æœ¬ï¼Œå¹¶å°†æ ·æœ¬é›†ä¸­åœ¨è¡¨é¢é™„è¿‘ï¼Œä»¥é¿å…æµªè´¹è®¡ç®—ã€‚</p><h2 id="Tri-Mip-Encoding"><a href="#Tri-Mip-Encoding" class="headerlink" title="Tri-Mip Encoding"></a>Tri-Mip Encoding</h2><p>ä¸ºäº†å®ç°æˆ‘ä»¬çš„ç›®æ ‡ï¼Œå³åœ¨è¿‘è·ç¦»è§†å›¾ä¸­å‘ˆç°ç»†ç²’åº¦ç»†èŠ‚ï¼Œåœ¨ä¿æŒé‡å»ºå’Œæ¸²æŸ“æ•ˆç‡çš„åŒæ—¶é¿å…åœ¨è¿œè·ç¦»è§†å›¾ä¸­æ··å ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®é‡‡æ ·çƒä½“çš„å ç”¨é¢ç§¯å¯¹å…¶S(x, r)è¿›è¡Œconstructively ç‰¹å¾åŒ–ï¼Œè¿™ä¸è®¡ç®—æœºå›¾å½¢å­¦ä¸­çš„åŒºåŸŸé‡‡æ ·(å³é¢„æ»¤æ³¢)çš„åŠ¨æœºç›¸ä¼¼ã€‚åœ¨instant-ngpä¸­æå‡ºçš„å“ˆå¸Œç¼–ç [37]å¯ä»¥é€šè¿‡æŸ¥æ‰¾å“ˆå¸Œè¡¨å’Œä¸‰çº¿æ€§æ’å€¼æ¥æœ‰æ•ˆåœ°è¡¨å¾é‡‡æ ·ç‚¹ï¼Œç„¶è€Œï¼Œå®ƒä¸èƒ½è½»æ˜“åœ°æ‰©å±•åˆ°è¡¨å¾çƒä½“S(x, r)ã€‚ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯å°†è¶…é‡‡æ ·ç­–ç•¥ä¸å“ˆå¸Œç¼–ç ç»“åˆèµ·æ¥ï¼Œä»¥è¿‘ä¼¼çƒä½“çš„ç‰¹å¾ã€‚ç„¶è€Œï¼Œè¶…é‡‡æ ·æå¤§åœ°å¢åŠ äº†è®¡ç®—æˆæœ¬ï¼Œå‡ºä¹æ„æ–™åœ°ç‰ºç‰²äº†é«˜æ•ˆé‡æ„å’Œæ¸²æŸ“çš„èƒ½åŠ›ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°é¢–çš„Tri-Mipç¼–ç ï¼Œç”±ä¸‰ä¸ªå¯è®­ç»ƒçš„mipmap Må‚æ•°åŒ–ï¼Œä»¥è¡¨å¾é‡‡æ ·çƒä½“S(x, r):</p><p>$\begin{aligned}\mathbf{f}&amp;=\text{Tri-Mip}(\mathbf{x},\mathbf{r};\mathcal{M}),\\\mathcal{M}&amp;=\{\mathcal{M}_{XY},\mathcal{M}_{XZ},\mathcal{M}_{YZ}\}.\end{aligned}$</p><p>å¦‚å›¾2æ‰€ç¤ºï¼ŒTri-Mipç¼–ç ä½¿ç”¨æ­£äº¤æŠ•å½±å°†ä¸‰ç»´ç©ºé—´åˆ†è§£ä¸ºä¸‰ä¸ªå¹³é¢(planeXYã€planeXZå’ŒplaneYZ)ï¼Œç„¶åç”¨mipmap ($\mathcal{M}_{XY},\mathcal{M}_{XZ},\mathcal{M}_{YZ}$)è¡¨ç¤ºæ¯ä¸ªå¹³é¢ï¼Œå¯¹é¢„æ»¤æ³¢çš„ç‰¹å¾ç©ºé—´è¿›è¡Œå»ºæ¨¡ã€‚å¯¹äºæ¯ä¸ªmipmapï¼ŒåŸºå±‚$M^{L_{0}}$æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸ºH Ã— W Ã— Cçš„ç‰¹å¾å›¾ï¼Œå…¶ä¸­Hã€Wã€Cåˆ†åˆ«ä¸ºé€šé“çš„é«˜åº¦ã€å®½åº¦å’Œæ•°é‡ã€‚åŸºå±‚$M^{L_{0}}$éšæœºåˆå§‹åŒ–ï¼Œå¯åœ¨é‡æ„è¿‡ç¨‹ä¸­è¿›è¡Œè®­ç»ƒï¼Œå…¶ä»–å±‚æ¬¡$(M^{L_{i}}, i = 1,2ï¼Œâ€¦ï¼Œ N)$æ˜¯é€šè¿‡å…ˆå‰æ°´å¹³$M^{L_{iâˆ’1}}$æ²¿é«˜åº¦å’Œå®½åº¦é™2å€è€Œå¾—åˆ°ã€‚è¯¥é¢„æ»¤æ³¢ç­–ç•¥ä¿æŒäº†mipmapå„å±‚ä¹‹é—´çš„ä¸€è‡´æ€§ï¼Œè¿™æ˜¯å®ç°é‡å»ºç›®æ ‡åœ¨ä¸åŒè·ç¦»ä¸Šçš„ç›¸å¹²æ€§çš„å…³é”®ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230726151646.png" alt="image.png"></p><p>ä¸ºäº†æŸ¥è¯¢çƒä½“S(x, r)å¯¹åº”çš„ç‰¹å¾å‘é‡fï¼Œæˆ‘ä»¬é¦–å…ˆå°†Sæ­£äº¤æŠ•å½±åˆ°ä¸‰ä¸ªå¹³é¢ä¸Šï¼Œå¾—åˆ°ä¸‰ä¸ªdiscsåœ†ç›˜$\mathcal{D} = \{\mathcal{D}_{XY}, \mathcal{D}_{XZ}, \mathcal{D}_{YZ}\}$ï¼Œå¦‚å›¾2æ‰€ç¤ºã€‚å¯¹äºæ¯ä¸ªåœ†ç›˜ï¼Œæˆ‘ä»¬ä»ç›¸åº”çš„mipmapä¸­æŸ¥è¯¢ä¸€ä¸ªç‰¹å¾å‘é‡ã€‚<br>ä»¥ç£ç›˜$\mathcal{D}_{XY}$ä¸ºä¾‹ï¼Œæˆ‘ä»¬ä»mipmap $\mathcal{M}_{XY}$ä¸­æŸ¥è¯¢å…¶ç‰¹å¾$f_{XY}$ã€‚åŸºäºæ­£äº¤æŠ•å½±çš„æ€§è´¨ï¼Œåœ†ç›˜$\mathcal{D_{XY}}$ä¸è¢«é‡‡æ ·çƒä½“å…·æœ‰ç›¸åŒçš„åŠå¾„rï¼Œå¹¶ä¸”DXYçš„ä¸­å¿ƒxDXYçš„äºŒç»´åæ ‡ä¸ºè¢«é‡‡æ ·çƒä½“ä¸­å¿ƒx(x, y, z)çš„ååæ ‡(x, y)ã€‚å¯¹äºmipmap $\mathcal{M}_{XY}$çš„query level $l$ï¼Œæˆ‘ä»¬å°†å…¶èµ‹å€¼ä¸º:</p><script type="math/tex; mode=display">\begin{aligned}&l=log_{2}\left(\frac{\mathbf{r}}{\ddot{r}}\right), \\&\ddot{r}=\sqrt{\frac{(\mathcal{B}_{max}-\mathcal{B}_{min})_X\cdot(\mathcal{B}_{max}-\mathcal{B}_{min})_Y}{HW\cdot\pi}},\end{aligned}</script><ul><li>$\ddot{r}$ä¸ºåŸºå±‚$\mathcal{M}^{L_{0}}$ç‰¹å¾å…ƒç´ çš„åŠå¾„</li><li>$\mathcal{B}_max$ å’Œ$\mathcal{B}_{min}$åˆ†åˆ«æ˜¯interested-3D spaceçš„AABB(Axis Aligned Bounding Box)æœ€å¤§å’Œæœ€å°è§’</li><li>ç›®çš„æ˜¯å°†çƒä½“çš„åŠå¾„rä¸mipmap $\mathcal{M}^{l}_{XY}$çš„æŸlevel çš„ç‰¹å¾å…ƒç´ çš„åŠå¾„è¿›è¡ŒåŒ¹é…ã€‚</li></ul><p>åœ¨è·å¾—æŸ¥è¯¢åæ ‡(x, y, l)åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‰çº¿æ€§æ’å€¼ä»mipmap $\mathcal{M}_{XY}$å¾—åˆ°ç‰¹å¾å‘é‡$f_{XY}$ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œæˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°mipmapçš„ä¸¤ä¸ªæœ€è¿‘çš„å±‚$\mathcal{M}_{XY}^{\lfloor l\rfloor}$å’Œ$\mathcal{M}_{XY}^{\lceil l\rceil}$ç„¶åæˆ‘ä»¬å°†åœ†ç›˜$\mathcal{D}_{XY}$çš„ä¸­å¿ƒåæ ‡(x, y)æŠ•å½±åˆ°mipmapçš„ä¸¤å±‚(ä»¥çº¢ç‚¹è¡¨ç¤º);æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†åˆ«æ‰¾åˆ°å®ƒä»¬çš„å››ä¸ªé‚»å±…(ç”¨æ©™è‰²ç‚¹è¡¨ç¤º);æœ€åï¼Œæˆ‘ä»¬æ ¹æ®å…«ä¸ªç›¸é‚»ç‚¹åˆ°å…‰ç›˜$\mathcal{D}_{XY}$ä¸­å¿ƒçš„è·ç¦»è¿›è¡Œæ’å€¼ï¼Œå¾—åˆ°ç‰¹å¾å‘é‡$f_{XY}$ã€‚ä¸‰çº¿æ€§æ’å€¼ä¸ä»…æé«˜äº†å±‚æ¬¡å’Œç©ºé—´åˆ†è¾¨ç‡çš„æœ‰æ•ˆç²¾åº¦ï¼Œè€Œä¸”äº§ç”Ÿäº†è¿ç»­çš„ç¼–ç ç©ºé—´ï¼Œæœ‰åˆ©äºæé«˜è®­ç»ƒæ•ˆç‡ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«å¾—åˆ°åœ†ç›˜$\mathcal{D}_{XZ}$å’Œ$\mathcal{D}_{YZ}$çš„ç‰¹å¾å‘é‡$f_{XZ}$å’Œ$f_{YZ}$ã€‚é‡‡æ ·çƒä½“Sçš„æœ€ç»ˆæŸ¥è¯¢ç‰¹å¾å‘é‡fæ˜¯ä¸‰ä¸ªåœ†ç›˜ç‰¹å¾å‘é‡$\{f_{XY}, f_{XZ}, f_{YZ}\}$çš„è¿æ¥ã€‚</p><p>æˆ‘ä»¬çš„ Tri-Mip ç¼–ç ä»¥é¢„è¿‡æ»¤çš„æ–¹å¼æœ‰æ•ˆåœ°å¯¹ 3D ç©ºé—´è¿›è¡Œç‰¹å¾åŒ–ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥å¯¹ä½“ç§¯æ¸²æŸ“æ‰§è¡ŒåŒºåŸŸé‡‡æ ·ä»¥äº§ç”Ÿæ²¡æœ‰æ··å çš„é«˜è´¨é‡æ¸²æŸ“ã€‚ç‰¹å¾æŸ¥è¯¢è¿‡ç¨‹ä¹Ÿå¾ˆæœ‰æ•ˆï¼Œå³åœ¨ç°ä»£ GPU ä¸­æŸ¥è¯¢ mipmapæ˜¯å·²ç»é«˜åº¦ä¼˜åŒ–çš„ï¼Œè¿™ä¿ƒè¿›äº†å¿«é€Ÿé‡å»ºã€‚<br>æ­¤å¤–ï¼Œæˆ‘ä»¬çš„ Tri-Mip ç¼–ç çš„å­˜å‚¨æ˜¯ä¸‰ä¸ª 2D ç‰¹å¾å›¾ï¼Œå³ä¸‰ä¸ª mipmap $M^{l_{0}}$ çš„åŸºæœ¬çº§åˆ«ï¼Œå› ä¸º<strong>å…¶ä»–çº§åˆ«ç”±åŸºç¡€çº§åˆ«é€šè¿‡downscalingå¯¼å‡º</strong>ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬çš„æ¨¡å‹è¶³å¤Ÿç´§å‡‘ä»¥ä¾¿äºåˆ†å¸ƒã€‚è¯·æ³¨æ„ï¼ŒTri-Mip ç¼–ç è¿˜ä¿ƒè¿›äº†è®­ç»ƒçš„æ”¶æ•›é€Ÿåº¦æ¯”éšå¼è¡¨ç¤º MLP ä¸­çš„åœºæ™¯æ›´å¿«ï¼Œä¾‹å¦‚ï¼Œæˆ‘<strong>ä»¬çš„æ–¹æ³•åªéœ€è¦ 25K æ¬¡è¿­ä»£æ”¶æ•›</strong>ï¼Œè€Œ MipNeRF [3] éœ€è¦ 1M æ¬¡è¿­ä»£ï¼Œ<strong>å› ä¸º mipmap M ä¸­çš„ç‰¹å¾å¯ä»¥ç›´æ¥ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ MLP çš„å¯ä¼˜åŒ–æƒé‡ä» IPE æ˜ å°„</strong>ã€‚</p><h2 id="Hybrid-Volume-Surface-Rendering"><a href="#Hybrid-Volume-Surface-Rendering" class="headerlink" title="Hybrid Volume-Surface Rendering"></a>Hybrid Volume-Surface Rendering</h2><p>è™½ç„¶æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥æœ‰æ•ˆåœ°é‡å»ºè¾å°„åœºï¼Œä½†ç›´æ¥åœ¨æ¶ˆè´¹çº§gpuä¸Šè¿›è¡Œæ¸²æŸ“ï¼Œä¾‹å¦‚ã€‚Nvidia RTX 3060æ˜¾å¡åªèƒ½è¾¾åˆ°30 FPSå·¦å³ã€‚è¿™æ˜¯å› ä¸ºä½“ç§¯æ¸²æŸ“å›ºæœ‰åœ°ä¸ºæ¯ä¸ªåƒç´ åœ¨é”¥ä½“å†…é‡‡æ ·å¤šä¸ªçƒä½“ï¼Œå°½ç®¡æˆ‘ä»¬å¯ä»¥é€šè¿‡äºŒè¿›åˆ¶å ç”¨ç½‘æ ¼è·³è¿‡ä¸€äº›é‡‡æ ·ã€‚<br>è§‚å¯Ÿåˆ°å¤šè¾¹å½¢ç½‘æ ¼çš„é«˜æ•ˆæ …æ ¼åŒ–å¯¹å®æ—¶è¡¨é¢æ¸²æŸ“çš„å¥½å¤„ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ç§<strong>æ··åˆä½“é¢æ¸²æŸ“ç­–ç•¥</strong>æ¥è¿›ä¸€æ­¥æé«˜æ¸²æŸ“é€Ÿåº¦é™¤äº†é‡å»ºçš„è¾å°„åœºå¤–ï¼Œæˆ‘ä»¬çš„æ··åˆä½“é¢æ¸²æŸ“ç­–ç•¥è¿˜éœ€è¦ä¸€ä¸ªä»£ç†ç½‘æ ¼æ¥æœ‰æ•ˆåœ°ç¡®å®šä»ç›¸æœºå…‰å­¦ä¸­å¿ƒåˆ°ç‰©ä½“çš„ç²—ç•¥è·ç¦»ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨é‡å»ºçš„å¯†åº¦åœºä¸Šmarching cubes<a href="https://readpaper.com/paper/2229412420">[PDF] Marching cubes: A high resolution 3D surface construction algorithm-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a>ï¼Œç„¶åmesh decimationç½‘æ ¼æŠ½å–æ¥è·å¾—ä»£ç†ç½‘æ ¼ã€‚æˆ‘ä»¬çš„Tri-MipRFç”Ÿæˆçš„ä»£ç†ç½‘æ ¼å³ä½¿åœ¨å¤æ‚çš„ç»“æ„ç»†èŠ‚ä¸­ä¹Ÿå…·æœ‰é«˜ä¿çœŸçš„è´¨é‡ï¼Œå¦‚å›¾4 (a)çš„å·¦ä¾§æ‰€ç¤ºï¼Œè€ŒInstant-ngp[37]å’Œneus[49]ç”Ÿæˆçš„ç»“æœä½œä¸ºå‚è€ƒæ˜¾ç¤ºåœ¨å³ä¾§ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230726190259.png" alt="image.png"></p><p>ä¸€æ—¦ä»£ç†ç½‘æ ¼å¯ç”¨ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹å…¶è¿›è¡Œæœ‰æ•ˆæ …æ ¼åŒ–ï¼Œä»¥è·å¾—åœ†é”¥ä½“ä¸­è½´çº¿è¡¨é¢ä¸Šçš„å‘½ä¸­ç‚¹(å¦‚å›¾4 (b)æ‰€ç¤º)ï¼Œç„¶åæˆ‘ä»¬åœ¨è·åœ†é”¥ä½“ä¸­è½´çº¿å‘½ä¸­ç‚¹âˆ†tè·ç¦»å†…å‡åŒ€é‡‡æ ·çƒä½“ï¼Œè¿™äº§ç”Ÿ2âˆ†té‡‡æ ·é—´éš”ã€‚è¿™ç§æ··åˆä½“é¢æ¸²æŸ“ç­–ç•¥æ˜¾è‘—å‡å°‘äº†æ ·æœ¬æ•°é‡ï¼Œä»è€Œåœ¨æ¶ˆè´¹è€…çº§gpuä¸Šå®ç°å®æ—¶æ¸²æŸ“(&gt;60 FPS)ã€‚è¯·å‚é˜…è¡¥å……ææ–™ä¸­çš„è§†é¢‘ï¼Œä»¥è·å¾—å®æ—¶äº¤äº’å¼æ¸²æŸ“æ¼”ç¤º</p><h1 id="Experimental-Evaluation"><a href="#Experimental-Evaluation" class="headerlink" title="Experimental Evaluation"></a>Experimental Evaluation</h1><h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><ul><li>æˆ‘ä»¬å°†æ¯ä¸ªåƒç´ çš„æŸå¤±æŒ‰å…¶åœ¨å›¾åƒå¹³é¢ä¸Šçš„è¶³è¿¹é¢ç§¯è¿›è¡Œç¼©æ”¾ï¼Œç§°ä¸ºâ€œé¢ç§¯æŸå¤±â€ï¼š$\mathcal{L}_{area}$</li><li>ä½¿ç”¨tiny-cuda-nnæ‰©å±•æ¥å®ç°</li><li>ä½¿ç”¨nvdiffraståº“å®ç°Tri-Mipç¼–ç <a href="https://www.zhihu.com/">[PDF] Modular Primitives for High-Performance Differentiable Rendering-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper (zhihu.com)</a></li><li>mipmapåŸºå±‚å½¢çŠ¶$M^{L_{0}}$è¢«ç»éªŒåœ°è®¾ç½®ä¸ºH = 512, W = 512, C = 16</li><li>MLP:<ul><li>ä½¿ç”¨AdamWä¼˜åŒ–å™¨ï¼š25K iteration<ul><li>weight decay set to $1 Ã— 10^{âˆ’5}$</li><li>learning ratelearning ï¼š$2 Ã— 10^{-3}$</li><li>MultiStepLR scheduled</li></ul></li></ul></li><li>Encoding:<ul><li>lr : $2 Ã— 10^{-2}$</li></ul></li></ul><h2 id="Evaluation-on-the-Multi-scale-Blender-Dataset"><a href="#Evaluation-on-the-Multi-scale-Blender-Dataset" class="headerlink" title="Evaluation on the Multi-scale Blender Dataset"></a>Evaluation on the Multi-scale Blender Dataset</h2><p>æ¯”è¾ƒæŒ‡æ ‡ï¼š</p><ul><li>PSNR,</li><li>SSIM <a href="https://readpaper.com/paper/2133665775">[PDF] Image Quality Assessment: From Error Visibility to Structural Similarity-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a></li><li>VGG LPIPS<a href="https://readpaper.com/paper/2783879794">[PDF] The Unreasonable Effectiveness of Deep Features as a Perceptual Metric-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Efficiency </tag>
            
            <tag> Sampling </tag>
            
            <tag> TensorDecomposition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mip-NeRF 360</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/LargeScaleScene/Mip-NeRF%20360/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/LargeScaleScene/Mip-NeRF%20360/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Mip-NeRF 360: Unbounded Anti-Aliased Neural Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://jonbarron.info/">Jonathan T. Barron</a>  <a href="http://bmild.github.io/">Ben Mildenhall</a>  <a href="https://scholar.harvard.edu/dorverbin/home">Dor Verbin</a> <a href="https://pratulsrinivasan.github.io/">Pratul P. Srinivasan</a>  <a href="https://phogzone.com/">Peter Hedman</a></td></tr><tr><td>Conf/Jour</td><td>CVPR 2022 (Oral Presentation)</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://jonbarron.info/mipnerf360/">mip-NeRF 360 (jonbarron.info)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4606723627252981761&amp;noteId=1881063981903029504">Mip-NeRF 360: Unbounded Anti-Aliased Neural Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><ul><li>novel Kalman-like scene parameterizationï¼šå°†åœºæ™¯å‚æ•°åŒ–ï¼Œå°†å•ä½çƒå¤–èƒŒæ™¯é‡‡æ ·çš„æˆªå¤´é”¥å‚æ•°åŒ–åˆ°r=2çš„çƒä½“å†…ï¼Œå•ä½çƒå†…çš„æˆªå¤´é”¥ä¸å—å½±å“</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722144216.png" alt="image.png"></p><ul><li>efficient proposal-based coarse-to-fine distillation frameworkï¼šä¸€ä¸ªæè®®ç½‘ç»œç”¨æ¥è·å–æƒé‡ï¼Œç”¨æ¥è¿›è¡Œç²¾é‡‡æ ·ï¼Œå†é€šè¿‡ç²¾é‡‡æ ·çš„ç‚¹æ ¹æ®NeRF çš„MLPå¾—åˆ°å¯†åº¦å’Œé¢œè‰²å€¼</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722152752.png" alt="image.png"></p><ul><li>regularizer designed for mipNeRF ray intervalsï¼šå¯ä»¥æœ‰æ•ˆæ¶ˆé™¤floaters(ä½“ç§¯å¯†é›†ç©ºé—´ä¸­ä¸ç›¸è¿çš„å°åŒºåŸŸ)å’ŒèƒŒæ™¯å¡Œé™·(è¿œå¤„çš„è¡¨é¢è¢«é”™è¯¯åœ°æ¨¡æ‹Ÿæˆé è¿‘ç›¸æœºçš„å¯†é›†å†…å®¹çš„åŠé€æ˜äº‘)</li></ul><p>$\begin{gathered}\mathcal{L}_{\mathrm{dist}}(\mathbf{s},\mathbf{w}) =\sum_{i,j}w_iw_j\left|\frac{s_i+s_{i+1}}{2}-\frac{s_j+s_{j+1}}{2}\right| \+\frac13\sum_iw_i^2(s_{i+1}-s_i) \end{gathered}$</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722154733.png" alt="image.png"></p><span id="more"></span><h1 id="DC"><a href="#DC" class="headerlink" title="DC"></a>DC</h1><p>Limitations. Though mip-NeRF 360 significantly outperforms mip-NeRF and other prior work, it is not perfect. </p><ul><li>Some <strong>thin structures and fine details</strong> may be missed, such as the tire spokesè½®èƒè¾æ¡ in the bicycle scene (Figure 5), or the æ ‘å¶ä¸Šçº¹ç†veins on the leaves in the stump scene (Figure 7).</li><li>View synthesis <strong>quality will likely degrade if the camera is moved far from the center of the scene</strong>. And, like most NeRF-like models, recovering a scene <strong>requires several hours of training</strong> on an accelerator, precluding on-device training.</li></ul><p>Conclusion<br>We have presented mip-NeRF 360, a mip-NeRF extension designed for real-world scenes with unconstrained camera orientations. Using a <strong>novel Kalman-like scene parameterization</strong>, an <strong>efficient proposal-based coarse-to-fine distillation framework</strong>, and a <strong>regularizer designed for mipNeRF ray intervals</strong>, we are able to synthesize realistic novel views and complex depth maps for challenging unbounded real-world scenes, with a 57% reduction in mean-squared error compared to mip-NeRF.</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>å°½ç®¡ç¥ç»è¾å°„åœº(NeRF)åœ¨ç‰©ä½“å’Œå°èŒƒå›´ç©ºé—´åŒºåŸŸä¸Šå±•ç¤ºäº†ä»¤äººå°è±¡æ·±åˆ»çš„è§†å›¾åˆæˆç»“æœï¼Œä½†åœ¨â€œæ— ç•Œâ€åœºæ™¯ä¸Šï¼Œå®ƒä»¬å¾ˆéš¾å®ç°ï¼Œå› ä¸ºæ‘„åƒæœºå¯èƒ½æŒ‡å‘ä»»ä½•æ–¹å‘ï¼Œå†…å®¹å¯èƒ½å­˜åœ¨äºä»»ä½•è·ç¦»</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç°æœ‰çš„ç±»ä¼¼nerfçš„æ¨¡å‹ç»å¸¸äº§ç”Ÿæ¨¡ç³Šæˆ–ä½åˆ†è¾¨ç‡çš„æ¸²æŸ“å›¾(ç”±äºè¿‘å¤„å’Œè¿œå¤„ç‰©ä½“çš„ç»†èŠ‚å’Œæ¯”ä¾‹ä¸å¹³è¡¡)ï¼Œè®­ç»ƒé€Ÿåº¦æ…¢ï¼Œå¹¶ä¸”ç”±äºä»ä¸€å°ç»„å›¾åƒé‡å»ºå¤§åœºæ™¯çš„ä»»åŠ¡å›ºæœ‰çš„æ¨¡ç³Šæ€§ï¼Œå¯èƒ½ä¼šexhibit artifacts</p><p>æˆ‘ä»¬æå‡ºäº†mip-NeRF(ä¸€ç§è§£å†³é‡‡æ ·å’Œæ··å çš„NeRFå˜ä½“)çš„æ‰©å±•ï¼Œå®ƒä½¿ç”¨<strong>éçº¿æ€§åœºæ™¯å‚æ•°åŒ–</strong>ã€<strong>åœ¨çº¿è’¸é¦</strong>å’Œä¸€ç§æ–°çš„<strong>åŸºäºæ‰­æ›²çš„æ­£åˆ™åŒ–</strong>æ¥å…‹æœæ— ç•Œåœºæ™¯å¸¦æ¥çš„æŒ‘æˆ˜</p><p>æˆ‘ä»¬çš„æ¨¡å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œmip-NeRF 360â€ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡åœºæ™¯ä¸­ï¼Œæ‘„åƒæœºå›´ç»•ä¸€ä¸ªç‚¹æ—‹è½¬360åº¦ï¼Œä¸mip-NeRFç›¸æ¯”ï¼Œå‡å°‘äº†57%çš„å¹³å‡è¯¯å·®ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¸ºé«˜åº¦å¤æ‚çš„ã€æ— é™çš„ç°å®åœºæ™¯ç”Ÿæˆé€¼çœŸçš„åˆæˆè§†å›¾å’Œè¯¦ç»†çš„æ·±åº¦å›¾</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ç¥ç»è¾å°„åœº(NeRF)é€šè¿‡åœ¨åŸºäºåæ ‡çš„å¤šå±‚æ„ŸçŸ¥å™¨(MLP)çš„æƒé‡å†…ç¼–ç åœºæ™¯çš„ä½“ç§¯å¯†åº¦å’Œé¢œè‰²æ¥åˆæˆé«˜åº¦é€¼çœŸçš„åœºæ™¯æ¸²æŸ“ã€‚è¿™ç§æ–¹æ³•åœ¨çœŸå®æ„Ÿè§†å›¾åˆæˆæ–¹é¢å–å¾—äº†é‡å¤§è¿›å±•ã€‚ç„¶è€Œï¼ŒNeRFä½¿ç”¨æ²¿ç€å…‰çº¿çš„æ— é™å°çš„3Dç‚¹å¯¹MLPçš„è¾“å…¥è¿›è¡Œå»ºæ¨¡ï¼Œè¿™ä¼šå¯¼è‡´åœ¨å‘ˆç°ä¸åŒåˆ†è¾¨ç‡çš„è§†å›¾æ—¶äº§ç”Ÿæ··æ·†ã€‚Mip-NeRFè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå°†NeRFæ‰©å±•åˆ°æ²¿é”¥ä½“[3]çš„ä½“ç§¯æˆªé”¥ã€‚è™½ç„¶è¿™æé«˜äº†è´¨é‡ï¼Œ<strong>ä½†åœ¨å¤„ç†æ— ç•Œåœºæ™¯æ—¶ï¼ŒNeRFå’Œmip-NeRFéƒ½ä¼šé‡åˆ°å›°éš¾ï¼Œå› ä¸ºç›¸æœºå¯èƒ½é¢å¯¹ä»»ä½•æ–¹å‘ï¼Œåœºæ™¯å†…å®¹å¯èƒ½å­˜åœ¨äºä»»ä½•è·ç¦»</strong>ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ‰©å±•åˆ°mip-NeRFï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œmip-NeRF 360â€ï¼Œèƒ½å¤Ÿäº§ç”Ÿè¿™äº›æ— ç•Œåœºæ™¯çš„é€¼çœŸæ¸²æŸ“ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚</p><p>å°†ç±»ä¼¼nerfçš„æ¨¡å‹åº”ç”¨äºå¤§å‹æ— ç•Œåœºæ™¯ä¼šå¼•å‘ä¸‰ä¸ªå…³é”®é—®é¢˜:</p><ul><li>Parameterization.å‚æ•°åŒ–ï¼šå¯¹äºå‰æ™¯å’ŒèƒŒæ™¯çš„å‚æ•°åŒ–å¤„ç†ã€‚æ— ç•Œ360åº¦åœºæ™¯å¯ä»¥å æ®ä»»æ„å¤§çš„æ¬§å‡ é‡Œå¾—ç©ºé—´åŒºåŸŸï¼Œä½†mip-NeRFè¦æ±‚3Dåœºæ™¯åæ ‡ä½äºæœ‰ç•ŒåŸŸå†…ã€‚<ul><li>å‚æ•°åŒ–ã€‚ç”±äºé€è§†æŠ•å½±çš„åŸå› ï¼Œä¸€ä¸ªç‰©ä½“æ”¾ç½®åœ¨è¿œç¦»ç›¸æœºçš„åœ°æ–¹ä¼šå æ®å›¾åƒå¹³é¢çš„ä¸€å°éƒ¨åˆ†ï¼Œä½†å¦‚æœæ”¾ç½®åœ¨ç¦»ç›¸æœºè¾ƒè¿‘çš„åœ°æ–¹ï¼Œåˆ™ä¼šå æ®æ›´å¤šçš„å›¾åƒï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°ç»†èŠ‚ã€‚å› æ­¤ï¼Œç†æƒ³çš„3Dåœºæ™¯å‚æ•°åŒ–åº”è¯¥ä¸ºé™„è¿‘çš„å†…å®¹åˆ†é…æ›´å¤šçš„å®¹é‡ï¼Œè€Œä¸ºè¿œå¤„çš„å†…å®¹åˆ†é…æ›´å°‘çš„å®¹é‡ã€‚</li><li>åœ¨NeRFä¹‹å¤–ï¼Œä¼ ç»Ÿçš„è§†å›¾åˆæˆæ–¹æ³•é€šè¿‡åœ¨<strong>æŠ•å½±å…¨æ™¯ç©ºé—´ä¸­å‚æ•°åŒ–åœºæ™¯</strong>æ¥è§£å†³è¿™ä¸ªé—®é¢˜[2,4,9,16,23,27,36,46,54]ï¼Œæˆ–è€…é€šè¿‡å°†åœºæ™¯å†…å®¹åµŒå…¥åˆ°ä¸€äº›ä½¿ç”¨å¤šè§†å›¾ç«‹ä½“æ¢å¤çš„ä»£ç†å‡ ä½•ä¸­[17,26,41]ã€‚NeRFæˆåŠŸçš„ä¸€ä¸ªæ–¹é¢æ˜¯å®ƒå°†ç‰¹å®šåœºæ™¯ç±»å‹ä¸é€‚å½“çš„3Då‚æ•°åŒ–ç›¸ç»“åˆã€‚æœ€åˆçš„NeRFè®ºæ–‡[33]ä¸“æ³¨äº360åº¦æ•æ‰å…·æœ‰é®ç½©èƒŒæ™¯çš„ç‰©ä½“ï¼Œä»¥åŠæ‰€æœ‰å›¾åƒæœå‘å¤§è‡´ç›¸åŒæ–¹å‘çš„æ­£é¢åœºæ™¯ã€‚å¯¹äºè¢«é®æŒ¡çš„ç‰©ä½“ï¼ŒNeRFç›´æ¥åœ¨ä¸‰ç»´æ¬§å‡ é‡Œå¾·ç©ºé—´ä¸­å‚æ•°åŒ–åœºæ™¯ï¼Œä½†å¯¹äºé¢å‘å‰æ–¹çš„åœºæ™¯ï¼ˆLLFFï¼‰ï¼ŒNeRFä½¿ç”¨åœ¨å°„å½±ç©ºé—´ä¸­å®šä¹‰çš„åæ ‡(å½’ä¸€åŒ–è®¾å¤‡åæ ‡ï¼Œæˆ–â€œNDCâ€[5])ã€‚é€šè¿‡å°†ä¸€ä¸ªæ— é™æ·±çš„ç›¸æœºæˆªé”¥ä½“æ‰­æ›²æˆä¸€ä¸ªæœ‰ç•Œçš„ç«‹æ–¹ä½“ï¼Œå…¶ä¸­æ²¿zè½´çš„è·ç¦»å¯¹åº”äºè§†å·®(é€†è·ç¦»)ï¼ŒNDCæœ‰æ•ˆåœ°é‡æ–°åˆ†é…äº†NeRF MLPçš„å®¹é‡ï¼Œè¿™ç§æ–¹å¼ä¸é€è§†æŠ•å½±çš„å‡ ä½•å½¢çŠ¶ä¸€è‡´ã€‚</li><li>ç„¶è€Œï¼Œåœ¨æ‰€æœ‰æ–¹å‘ä¸Šéƒ½æ˜¯æ— ç•Œçš„åœºæ™¯ï¼Œè€Œä¸ä»…ä»…æ˜¯åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šï¼Œéœ€è¦ä¸åŒçš„å‚æ•°åŒ–ã€‚nerf++[51]å’ŒDONeRF[34]æ¢ç´¢äº†è¿™ä¸€æƒ³æ³•ï¼Œnerf++[51]ä½¿ç”¨äº†ä¸€ä¸ªé¢å¤–çš„ç½‘ç»œæ¥æ¨¡æ‹Ÿè¿œå¤„çš„ç‰©ä½“ï¼ŒDONeRF[34]æå‡ºäº†ä¸€ä¸ªç©ºé—´æ‰­æ›²è¿‡ç¨‹ï¼Œä»¥ç¼©å°è·ç¦»åŸç‚¹çš„ç‚¹ã€‚è¿™ä¸¤ç§æ–¹æ³•çš„è¡Œä¸ºåœ¨æŸç§ç¨‹åº¦ä¸Šç±»ä¼¼äºNDCï¼Œä½†åœ¨æ¯ä¸ªæ–¹å‘ä¸Šï¼Œè€Œä¸ä»…ä»…æ˜¯æ²¿ç€zè½´ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å°†è¿™ä¸€æ€æƒ³æ‰©å±•åˆ°mip-NeRFï¼Œå¹¶æå‡ºäº†ä¸€ç§å°†ä»»ä½•å¹³æ»‘å‚æ•°åŒ–åº”ç”¨äºvolumes(è€Œä¸æ˜¯ç‚¹)çš„æ–¹æ³•ï¼Œä¹Ÿæå‡ºäº†æˆ‘ä»¬è‡ªå·±çš„æ— ç•Œåœºæ™¯å‚æ•°åŒ–ã€‚</li></ul></li><li>Efficiency.æ•ˆç‡ã€‚å¤§å‹å’Œè¯¦ç»†çš„åœºæ™¯éœ€è¦æ›´å¤šçš„ç½‘ç»œå®¹é‡ï¼Œä½†æ˜¯åœ¨è®­ç»ƒæœŸé—´æ²¿ç€æ¯æ¡å°„çº¿å¯†é›†åœ°æŸ¥è¯¢å¤§å‹MLPæ˜¯æ˜‚è´µçš„ã€‚<ul><li>å¤„ç†æ— ç•Œåœºæ™¯çš„ä¸€ä¸ªåŸºæœ¬æŒ‘æˆ˜æ˜¯ï¼Œè¿™æ ·çš„åœºæ™¯é€šå¸¸å¾ˆå¤§ï¼Œè€Œä¸”ç»†èŠ‚å¾ˆè¯¦ç»†ã€‚è™½ç„¶ç±»ä¼¼NeRFçš„æ¨¡å‹å¯ä»¥ä½¿ç”¨ä»¤äººæƒŠè®¶çš„å°‘é‡æƒé‡å‡†ç¡®åœ°å†ç°åœºæ™¯çš„å¯¹è±¡æˆ–åŒºåŸŸï¼Œä½†å½“é¢å¯¹æ—¥ç›Šå¤æ‚çš„åœºæ™¯å†…å®¹æ—¶ï¼ŒNeRF MLPçš„å®¹é‡ä¼šé¥±å’Œã€‚æ­¤å¤–ï¼Œæ›´å¤§çš„åœºæ™¯éœ€è¦æ²¿ç€æ¯æ¡å°„çº¿è¿›è¡Œæ›´å¤šçš„æ ·æœ¬æ¥ç²¾ç¡®åœ°å®šä½è¡¨é¢ã€‚ä¾‹å¦‚ï¼Œå½“å°†NeRFä»ç‰©ä½“ç¼©æ”¾åˆ°å»ºç­‘ç‰©æ—¶ï¼ŒMartinBrualla et al.[30]å°†MLPéšè—å•å…ƒçš„æ•°é‡å¢åŠ äº†ä¸€å€ï¼Œå¹¶å°†MLPè¯„ä¼°çš„æ•°é‡å¢åŠ äº†8å€ã€‚è¿™ç§æ¨¡å‹å®¹é‡çš„å¢åŠ æ˜¯æ˜‚è´µçš„- NeRFå·²ç»éœ€è¦å‡ ä¸ªå°æ—¶æ¥è®­ç»ƒï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ—¶é—´ä¹˜ä»¥é¢å¤–çš„~ 40Ã—å¯¹äºå¤§å¤šæ•°ç”¨é€”æ¥è¯´æ˜¯éå¸¸ç¼“æ…¢çš„ã€‚</li><li>NeRFå’Œmip-NeRFä½¿ç”¨çš„ä»ç²—åˆ°ç»†çš„é‡é‡‡æ ·ç­–ç•¥åŠ å‰§äº†è¿™ç§è®­ç»ƒæˆæœ¬:mlpä½¿ç”¨â€œç²—â€å’Œâ€œç»†â€å°„çº¿é—´éš”å¤šæ¬¡è¯„ä¼°ï¼Œå¹¶ä½¿ç”¨ä¸¤æ¬¡çš„å›¾åƒé‡å»ºæŸå¤±è¿›è¡Œç›‘ç£ã€‚è¿™ç§æ–¹æ³•æ˜¯æµªè´¹çš„ï¼Œå› ä¸ºåœºæ™¯çš„â€œç²—ç³™â€æ¸²æŸ“å¯¹æœ€ç»ˆå›¾åƒæ²¡æœ‰è´¡çŒ®ã€‚æˆ‘ä»¬å°†è®­ç»ƒä¸¤ä¸ªMLP:ä¸€ä¸ªâ€œææ¡ˆMLPâ€å’Œä¸€ä¸ªâ€œNeRF MLPâ€ï¼Œè€Œä¸æ˜¯è®­ç»ƒä¸€ä¸ªåœ¨å¤šä¸ªå°ºåº¦ä¸Šç›‘ç£çš„NeRF MLPã€‚The proposal MLPé¢„æµ‹ä½“ç§¯å¯†åº¦(ä½†ä¸æ˜¯é¢œè‰²)ï¼Œè¿™äº›å¯†åº¦ç”¨äºé‡æ–°é‡‡æ ·æä¾›ç»™NeRF MLPçš„æ–°é—´éš”ï¼Œç„¶åæ¸²æŸ“å›¾åƒã€‚è‡³å…³é‡è¦çš„æ˜¯ï¼Œ<strong>æè®®çš„MLPäº§ç”Ÿçš„æƒé‡ä¸æ˜¯ä½¿ç”¨è¾“å…¥å›¾åƒè¿›è¡Œç›‘ç£ï¼Œè€Œæ˜¯ä½¿ç”¨NeRF MLPç”Ÿæˆçš„ç›´æ–¹å›¾æƒé‡è¿›è¡Œç›‘ç£</strong>ã€‚è¿™å…è®¸æˆ‘ä»¬ä½¿ç”¨è¯„ä¼°æ¬¡æ•°ç›¸å¯¹è¾ƒå°‘çš„å¤§å‹NeRF MLPï¼Œä»¥åŠè¯„ä¼°æ¬¡æ•°è¾ƒå¤šçš„å°å‹ææ¡ˆMLPã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„æ•´ä¸ªæ¨¡å‹çš„æ€»å®¹é‡æ˜æ˜¾å¤§äºmip-NeRFçš„(~ 15å€)ï¼Œä»è€Œå¤§å¤§æé«˜äº†æ¸²æŸ“è´¨é‡ï¼Œä½†æˆ‘ä»¬çš„è®­ç»ƒæ—¶é—´ä»…ç•¥å¾®å¢åŠ (~ 2å€)ã€‚</li><li>æˆ‘ä»¬å¯ä»¥æŠŠè¿™ç§æ–¹æ³•çœ‹ä½œæ˜¯ä¸€ç§â€œåœ¨çº¿è’¸é¦â€:â€œè’¸é¦â€é€šå¸¸æŒ‡çš„æ˜¯è®­ç»ƒä¸€ä¸ªå°ç½‘ç»œæ¥åŒ¹é…ä¸€ä¸ªå·²ç»è®­ç»ƒå¥½çš„å¤§ç½‘ç»œçš„è¾“å‡º[19]ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡åŒæ—¶è®­ç»ƒä¸¤ä¸ªç½‘ç»œï¼Œå°†NeRF MLPé¢„æµ‹çš„è¾“å‡ºç»“æ„æç‚¼æˆâ€œåœ¨çº¿â€çš„æè®®MLPã€‚NeRV[47]å¯¹ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ä»»åŠ¡æ‰§è¡Œç±»ä¼¼çš„åœ¨çº¿è’¸é¦:è®­ç»ƒmlpè¿‘ä¼¼æ¸²æŸ“ç§¯åˆ†ï¼Œä»¥å»ºæ¨¡å¯è§æ€§å’Œé—´æ¥ç…§æ˜ã€‚æˆ‘ä»¬çš„åœ¨çº¿è’¸é¦æ–¹æ³•åœ¨ç²¾ç¥ä¸Šç±»ä¼¼äºDONeRFä¸­ä½¿ç”¨çš„â€œæŠ½æ ·oracleç½‘ç»œâ€ï¼Œå°½ç®¡è¯¥æ–¹æ³•ä½¿ç”¨ground-truthæ·±åº¦è¿›è¡Œç›‘ç£[34]ã€‚åœ¨TermiNeRF[39]ä¸­ä½¿ç”¨äº†ä¸€ä¸ªç›¸å…³çš„æƒ³æ³•ï¼Œå°½ç®¡è¿™ç§æ–¹æ³•åªä¼šåŠ é€Ÿæ¨ç†ï¼Œå®é™…ä¸Šä¼šå‡æ…¢è®­ç»ƒé€Ÿåº¦(NeRFè¢«è®­ç»ƒåˆ°æ”¶æ•›ï¼Œç„¶åå†è®­ç»ƒä¸€ä¸ªé¢å¤–çš„æ¨¡å‹)ã€‚åœ¨NeRFä¸­è¯¦ç»†æ¢è®¨äº†ä¸€ä¸ªå­¦ä¹ çš„â€œæè®®è€…â€ç½‘ç»œ[1]ï¼Œä½†åªå®ç°äº†25%çš„åŠ é€Ÿï¼Œè€Œæˆ‘ä»¬çš„æ–¹æ³•å°†è®­ç»ƒåŠ é€Ÿäº†300%ã€‚</li><li>ä¸€äº›ä½œå“è¯•å›¾å°†è®­ç»ƒå¥½çš„NeRFæå–æˆ–â€œçƒ˜çƒ¤â€æˆå¯ä»¥å¿«é€Ÿå‘ˆç°çš„æ ¼å¼[18,40,50]ï¼Œä½†è¿™äº›æŠ€æœ¯å¹¶ä¸èƒ½åŠ é€Ÿè®­ç»ƒã€‚é€šè¿‡å…«é˜¶æ•°æ®ç»“æ„(å¦‚å…«é˜¶æ ‘[43]æˆ–åŒ…å›´ä½“å±‚æ¬¡[42])åŠ é€Ÿå…‰çº¿è·Ÿè¸ªçš„æƒ³æ³•åœ¨æ¸²æŸ“æ–‡çŒ®ä¸­å¾—åˆ°äº†å¾ˆå¥½çš„æ¢ç´¢ï¼Œå°½ç®¡è¿™äº›æ–¹æ³•å‡è®¾äº†åœºæ™¯å‡ ä½•çš„å…ˆéªŒçŸ¥è¯†ï¼Œå› æ­¤ä¸èƒ½è‡ªç„¶åœ°æ¨å¹¿åˆ°é€†å‘æ¸²æŸ“ä¸Šä¸‹æ–‡ï¼Œå…¶ä¸­åœºæ™¯å‡ ä½•æ˜¯æœªçŸ¥çš„ï¼Œå¿…é¡»æ¢å¤ã€‚äº‹å®ä¸Šï¼Œå°½ç®¡åœ¨ä¼˜åŒ–ç±»nerfæ¨¡å‹çš„åŒæ—¶æ„å»ºäº†ä¸€ä¸ªå…«å‰æ ‘åŠ é€Ÿç»“æ„ï¼Œç¥ç»ç¨€ç–ä½“ç´ åœºæ–¹æ³•å¹¶æ²¡æœ‰æ˜¾è‘—å‡å°‘è®­ç»ƒæ—¶é—´[28]ã€‚(åªæ˜¯æé«˜äº†æ¨ç†æ•ˆç‡ï¼Œè€Œæ²¡æœ‰æé«˜è®­ç»ƒæ•ˆç‡)</li></ul></li><li>Ambiguity.æ­§ä¹‰ã€‚æ— ç•Œåœºæ™¯çš„å†…å®¹å¯èƒ½ä½äºä»»ä½•è·ç¦»ï¼Œåªä¼šè¢«å°‘é‡å…‰çº¿è§‚å¯Ÿåˆ°ï¼Œè¿™åŠ å‰§äº†ä»2Då›¾åƒé‡å»º3Då†…å®¹çš„å›ºæœ‰æ¨¡ç³Šæ€§ã€‚<ul><li>è™½ç„¶NeRFä¼ ç»Ÿä¸Šæ˜¯ä½¿ç”¨åœºæ™¯çš„è®¸å¤šè¾“å…¥å›¾åƒè¿›è¡Œä¼˜åŒ–çš„ï¼Œä½†ä»æ–°çš„ç›¸æœºè§’åº¦æ¢å¤NeRFä»¥äº§ç”Ÿé€¼çœŸçš„åˆæˆè§†å›¾çš„é—®é¢˜ä»ç„¶ä»æ ¹æœ¬ä¸Šå—åˆ°é™åˆ¶-an infinite family of NeRFså¯ä»¥è§£é‡Šè¾“å…¥å›¾åƒï¼Œä½†åªæœ‰ä¸€å°éƒ¨åˆ†å¯ä»¥äº§ç”Ÿå¯æ¥å—çš„æ–°è§†å›¾ç»“æœã€‚ä¾‹å¦‚ï¼ŒNeRFå¯ä»¥é€šè¿‡ç®€å•åœ°åœ¨å…¶å„è‡ªçš„ç›¸æœºå‰å°†æ¯ä¸ªå›¾åƒé‡å»ºä¸ºçº¹ç†å¹³é¢æ¥é‡å»ºæ‰€æœ‰è¾“å…¥å›¾åƒã€‚åŸå§‹çš„NeRFè®ºæ–‡é€šè¿‡åœ¨æ•´æµå™¨ä¹‹å‰å‘NeRF MLPçš„å¯†åº¦å¤´æ³¨å…¥é«˜æ–¯å™ªå£°æ¥æ­£åˆ™åŒ–æ¨¡ç³Šåœºæ™¯[33]ï¼Œè¿™ä¿ƒä½¿å¯†åº¦å‘é›¶æˆ–æ— ç©·å¤§æ–¹å‘å€¾æ–œã€‚è™½ç„¶è¿™é€šè¿‡é˜»æ­¢åŠé€æ˜å¯†åº¦å‡å°‘äº†ä¸€äº›â€œæ¼‚æµ®ç‰©â€ï¼Œä½†æˆ‘ä»¬å°†è¡¨æ˜ï¼Œè¿™å¯¹äºæˆ‘ä»¬æ›´å…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡æ˜¯ä¸å¤Ÿçš„ã€‚NeRFçš„å…¶ä»–æ­£åˆ™åŒ–å™¨å·²ç»è¢«æå‡ºï¼Œä¾‹å¦‚å¯†åº¦ä¸Šçš„é²æ£’æŸå¤±[18]æˆ–è¡¨é¢ä¸Šçš„å¹³æ»‘æƒ©ç½š[35,53]ï¼Œä½†è¿™äº›è§£å†³æ–¹æ¡ˆè§£å†³çš„é—®é¢˜ä¸æˆ‘ä»¬çš„ä¸åŒ(åˆ†åˆ«æ˜¯æ¸²æŸ“ç¼“æ…¢å’Œè¡¨é¢ä¸å…‰æ»‘)ã€‚æ­¤å¤–ï¼Œè¿™äº›æ­£åˆ™åŒ–å™¨æ˜¯ä¸ºNeRFä½¿ç”¨çš„ç‚¹æ ·æœ¬è®¾è®¡çš„ï¼Œè€Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯ä¸ºäº†å¤„ç†æ²¿ç€æ¯ä¸ªmip-NeRFå°„çº¿å®šä¹‰çš„è¿ç»­æƒé‡ã€‚</li><li>æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç”±å…·æœ‰æŒ‘æˆ˜æ€§çš„å®¤å†…å’Œå®¤å¤–åœºæ™¯ç»„æˆçš„æ–°æ•°æ®é›†æ¥å±•ç¤ºæˆ‘ä»¬å¯¹å…ˆå‰å·¥ä½œçš„æ”¹è¿›ã€‚æˆ‘ä»¬æ•¦ä¿ƒè¯»è€…è§‚çœ‹æˆ‘ä»¬çš„è¡¥å……è§†é¢‘ï¼Œå› ä¸ºæˆ‘ä»¬çš„ç»“æœæ˜¯æœ€å¥½çš„æ¬£èµåŠ¨ç”»ã€‚</li></ul></li></ul><h1 id="Preliminaries-mip-NeRF"><a href="#Preliminaries-mip-NeRF" class="headerlink" title="Preliminaries: mip-NeRF"></a>Preliminaries: mip-NeRF</h1><p>mip-NeRFï¼šé€šè¿‡å°†å…‰çº¿åˆ†æˆä¸€ç»„é—´éš”$T_{i} = [t_{i}, t_{i+1}]$ï¼Œå¯¹äºæ¯ä¸ªåŒºé—´ï¼Œè®¡ç®—å¯¹åº”äºè¯¥åŒºé—´çš„åœ†é”¥æˆªä½“çš„<strong>å‡å€¼å’Œåæ–¹å·®</strong>ï¼ˆå°†åœ†é”¥æˆªä½“è¿‘ä¼¼ä¸ºé«˜é˜¶é«˜æ–¯åˆ†å¸ƒå‡½æ•°ï¼‰ï¼Œåœ†é”¥æˆªä½“çš„åŠå¾„ç”±å°„çº¿çš„ç„¦è·å’Œå›¾åƒå¹³é¢ä¸Šçš„åƒç´ å¤§å°å†³å®š<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722140543.png" alt="image.png"></p><p>ä½¿ç”¨é›†æˆä½ç½®ç¼–ç æ¥è¡¨å¾è¿™äº›å€¼:<br>$\gamma(\mathbf{\mu},\mathbf{\Sigma})=\left\{\begin{bmatrix}\sin(2^\ell\mathbf{\mu})\exp\left(-2^{2\ell-1}\operatorname{diag}(\mathbf{\Sigma})\right)\\\cos(2^\ell\mathbf{\mu})\exp\left(-2^{2\ell-1}\operatorname{diag}(\mathbf{\Sigma})\right)\end{bmatrix}\right\}_{\ell=0}^{L-1}$</p><p>ç»è¿‡MLPå¾—åˆ°å¯†åº¦å’Œé¢œè‰²ï¼š$\forall T_i\in\mathrm{t},\quad(\tau_i,\mathbf{c}_i)=\mathrm{MLP}(\gamma(\mathbf{r}(T_i));\Theta_\mathrm{NeRF}).$</p><p>ä½¿ç”¨ä½“æ¸²æŸ“å‡½æ•°ï¼Œæ ¹æ®æƒé‡è®¡ç®—åƒç´ çš„é¢œè‰²å€¼ï¼š</p><p>$\begin{gathered}\mathbf{C}(\mathbf{r},\mathbf{t})=\sum_iw_i\mathbf{c}_i,\\w_i=\left(1-e^{-\tau_i(t_{i+1}-t_i)}\right)e^{-\sum_{iâ€™&lt;i}\tau_{iâ€™}\left(t_{iâ€™+1}-t_{iâ€™}\right)}\end{gathered}$</p><ul><li><p>é‡‡æ ·æ–¹å¼ï¼š</p><ul><li>ç²—é‡‡æ ·ï¼šå‡åŒ€é‡‡æ ·$t^c\sim\mathcal{U}[t_n,t_f],\quad\mathbf{t}^c=\operatorname{sort}(\{t^c\}).$</li><li>ç²¾é‡‡æ ·ï¼š$t^f\sim\operatorname{hist}(\mathbf{t}^c,\mathbf{w}^c),\quad\mathbf{t}^f=\operatorname{sort}(\{t^f\}).$</li></ul></li><li><p>lossï¼š$\sum_{\mathrm{r}\in\mathcal{R}}\frac{1}{10}\mathcal{L}_{\mathrm{recon}}(\mathbf{C}(\mathbf{r},\mathbf{t}^{c}),\mathbf{C}^{<em>}(\mathbf{r}))+\mathcal{L}_{\mathrm{recon}}(\mathbf{C}(\mathbf{r},\mathbf{t}^{f}),\mathbf{C}^{</em>}(\mathbf{r}))$</p><ul><li>recon: mean squared error.</li><li>Rä¸ºå…‰çº¿å‡ ä½•</li><li>$C^{*}$ä¸ºground truth</li></ul></li></ul><h1 id="Scene-and-Ray-Parameterization"><a href="#Scene-and-Ray-Parameterization" class="headerlink" title="Scene and Ray Parameterization"></a>Scene and Ray Parameterization</h1><h2 id="é‡æ–°å‚æ•°åŒ–é«˜æ–¯å‡½æ•°"><a href="#é‡æ–°å‚æ•°åŒ–é«˜æ–¯å‡½æ•°" class="headerlink" title="é‡æ–°å‚æ•°åŒ–é«˜æ–¯å‡½æ•°"></a>é‡æ–°å‚æ•°åŒ–é«˜æ–¯å‡½æ•°</h2><p>å®šä¹‰ä¸€ä¸ªf(x): $\mathbb{R}^{n} \rightarrow \mathbb{R}^{n}$ æ˜ å°„çš„å¹³æ»‘åæ ‡å˜æ¢(n=3)</p><p>compute the linear approximation: $f(\mathbf{x})\approx f(\mathbf\mu)+\mathbf{J}_f(\mathbf\mu)(\mathbf{x}-\mathbf\mu)$</p><p>$\mathbf{J}_f(\boldsymbol\mu)$ä¸ºf at $\mu$çš„é›…å…‹æ¯”çŸ©é˜µï¼Œå³å¯¹å‡å€¼å’Œæ–¹å·®ï¼š$f(\mu,\Sigma)=\begin{pmatrix}f(\mu),\mathbf{J}_f(\mu)\Sigma\mathbf{J}_f(\mu)^\mathrm{T}\end{pmatrix}$</p><p>è¿™åœ¨åŠŸèƒ½ä¸Šç­‰ä»·äºç»å…¸çš„æ‰©å±•å¡å°”æ›¼æ»¤æ³¢å™¨[21]ï¼Œå…¶ä¸­fæ˜¯çŠ¶æ€è½¬ç§»æ¨¡å‹ã€‚æˆ‘ä»¬å¯¹fçš„é€‰æ‹©æ˜¯å¦‚ä¸‹çš„ç¼©ç•¥å¼:<br>$\operatorname{contract}(\mathbf{x})=\begin{cases}\mathbf{x}&amp;|\mathbf{x}|\leq1\\\left(2-\frac{1}{|\mathbf{x}|}\right)\left(\frac{\mathbf{x}}{|\mathbf{x}|}\right)&amp;|\mathbf{x}|&gt;1\end{cases}$<br>è¿™ç§è®¾è®¡ä¸NDCçš„åŠ¨æœºç›¸åŒ:è·ç¦»ç‚¹åº”è¯¥æŒ‰è§†å·®(é€†è·ç¦»)è€Œä¸æ˜¯è·ç¦»æˆæ¯”ä¾‹åˆ†å¸ƒ</p><p>åœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ä¸æ˜¯æŒ‰ç…§å…¬å¼1åœ¨æ¬§å‡ é‡Œå¾—ç©ºé—´ä¸­ä½¿ç”¨mip-NeRFçš„IPEç‰¹å¾ï¼Œè€Œæ˜¯åœ¨è¿™ä¸ªæ”¶ç¼©ç©ºé—´ä¸­ä½¿ç”¨ç±»ä¼¼çš„ç‰¹å¾(è§é™„å½•):Î³(contract(Î¼ï¼Œ Î£))ã€‚å›¾2æ˜¾ç¤ºäº†è¯¥å‚æ•°åŒ–ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722144216.png" alt="image.png"><br>æˆ‘ä»¬çš„åœºæ™¯å‚æ•°åŒ–çš„2Då¯è§†åŒ–ã€‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªcontract(Â·)æ“ä½œç¬¦(å…¬å¼10ï¼Œå¦‚ç®­å¤´æ‰€ç¤º)ï¼Œå®ƒå°†åæ ‡æ˜ å°„åˆ°ä¸€ä¸ªåŠå¾„ä¸º2(æ©™è‰²)çš„çƒä¸Šï¼Œå…¶ä¸­åŠå¾„ä¸º1(è“è‰²)å†…çš„ç‚¹ä¸å—å½±å“ã€‚æˆ‘ä»¬å°†è¿™ç§æ”¶ç¼©åº”ç”¨äºæ¬§å‡ é‡Œå¾—3Dç©ºé—´ä¸­çš„mip-NeRFé«˜æ–¯å‡½æ•°(ç°è‰²æ¤­åœ†)ï¼Œç±»ä¼¼äºå¡å°”æ›¼æ»¤æ³¢å™¨ï¼Œä»¥äº§ç”Ÿæˆ‘ä»¬çš„æ”¶ç¼©é«˜æ–¯å‡½æ•°(çº¢è‰²æ¤­åœ†)ï¼Œå…¶ä¸­å¿ƒä¿è¯ä½äºåŠå¾„ä¸º2çš„çƒå†…ã€‚contract(Â·)çš„è®¾è®¡ç»“åˆæˆ‘ä»¬æ ¹æ®è§†å·®çº¿æ€§é€‰æ‹©ç©ºé—´å°„çº¿é—´éš”ï¼Œæ„å‘³ç€ä»ä½äºåœºæ™¯åŸç‚¹çš„æ‘„åƒæœºæŠ•å°„çš„å°„çº¿åœ¨æ©™è‰²åŒºåŸŸå…·æœ‰ç­‰è·é—´éš”ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><h2 id="å¦‚ä½•é€‰æ‹©rayè·ç¦»"><a href="#å¦‚ä½•é€‰æ‹©rayè·ç¦»" class="headerlink" title="å¦‚ä½•é€‰æ‹©rayè·ç¦»"></a>å¦‚ä½•é€‰æ‹©rayè·ç¦»</h2><p>é™¤äº†å¦‚ä½•å‚æ•°åŒ–3Dåæ ‡çš„é—®é¢˜ï¼Œè¿˜æœ‰å¦‚ä½•é€‰æ‹©å°„çº¿è·ç¦»çš„é—®é¢˜ã€‚åœ¨NeRFä¸­ï¼Œè¿™é€šå¸¸æ˜¯é€šè¿‡ä»è¿‘å¹³é¢å’Œè¿œå¹³é¢å‡åŒ€é‡‡æ ·æ¥å®Œæˆçš„ï¼Œå¦‚å…¬å¼5æ‰€ç¤ºã€‚ç„¶è€Œï¼Œå¦‚æœä½¿ç”¨NDCå‚æ•°åŒ–ï¼Œè¿™ä¸ªç­‰é—´è·çš„æ ·æœ¬ç³»åˆ—å®é™…ä¸Šæ˜¯å‡åŒ€é—´éš”çš„åæ·±åº¦(è§†å·®)ã€‚è¿™ç§è®¾è®¡å†³ç­–éå¸¸é€‚åˆäºå½“ç›¸æœºåªé¢å‘ä¸€ä¸ªæ–¹å‘æ—¶çš„æ— ç•Œåœºæ™¯ï¼Œä½†ä¸é€‚ç”¨äºæ‰€æœ‰æ–¹å‘éƒ½æ— ç•Œçš„åœºæ™¯ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æ˜¾å¼åœ°ä»¥è§†å·®çº¿æ€§é‡‡æ ·è·ç¦»t(å‚è§<a href="https://readpaper.com/paper/2943054120">[PDF] Local Light Field Fusion: Practical View Synthesis with Prescriptive Sampling Guidelines-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a>äº†è§£æ­¤é—´è·çš„è¯¦ç»†åŠ¨æœº)ã€‚</p><p>ä¸ºäº†æ ¹æ®è§†å·®å‚æ•°åŒ–å°„çº¿ï¼Œæˆ‘ä»¬å®šä¹‰äº†æ¬§æ°å°„çº¿è·ç¦»tå’Œâ€œæ ‡å‡†åŒ–â€å°„çº¿è·ç¦»ä¹‹é—´çš„å¯é€†æ˜ å°„$s\triangleq\frac{g(t)-g(t_n)}{g(t_f)-g(t_n)},t\triangleq g^{-1}(s\cdot g(t_f)+(1-s)\cdot g(t_n)),$</p><ul><li>å…¶ä¸­g(Â·)æ˜¯å¯é€†æ ‡é‡å‡½æ•°ã€‚è¿™ç»™äº†æˆ‘ä»¬â€œæ ‡å‡†åŒ–â€çš„å°„çº¿è·ç¦»sâˆˆ[0,1]ï¼Œæ˜ å°„åˆ°[tn, tf]ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å‚è€ƒæ²¿tç©ºé—´æˆ–sç©ºé—´çš„å°„çº¿çš„è·ç¦»ï¼Œè¿™å–å†³äºå“ªä¸ªæ›´æ–¹ä¾¿æˆ–ç›´è§‚ã€‚</li><li>é€šè¿‡è®¾ç½®g(x) = 1/xå¹¶æ„é€ å‡åŒ€åˆ†å¸ƒåœ¨ç©ºé—´ä¸­çš„å°„çº¿æ ·æœ¬ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å°„çº¿æ ·æœ¬çš„t-è·ç¦»ä»¥è§†å·®çº¿æ€§åˆ†å¸ƒ(å¦å¤–ï¼Œè®¾ç½®g(x) = log(x)äº§ç”ŸDONeRFçš„å¯¹æ•°é—´è·[34])ã€‚</li><li>åœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¸­ï¼Œä¸æ˜¯ä½¿ç”¨tä¸ªè·ç¦»æ¥æ‰§è¡Œç²—ç²¾é‡‡æ ·ï¼Œè€Œæ˜¯ä½¿ç”¨sä¸ªè·ç¦»æ¥æ‰§è¡Œã€‚è¿™æ„å‘³ç€ï¼Œä¸ä»…æˆ‘ä»¬çš„åˆå§‹æ ·æœ¬åœ¨è§†å·®ä¸Šæ˜¯çº¿æ€§é—´éš”çš„ï¼Œè€Œä¸”ä»æƒé‡wçš„å„ä¸ªé—´éš”è¿›è¡Œçš„åç»­é‡é‡‡æ ·ä¹Ÿå°†ä»¥ç±»ä¼¼çš„æ–¹å¼åˆ†å¸ƒã€‚ä»å›¾2ä¸­å¿ƒçš„æ‘„åƒæœºå¯ä»¥çœ‹å‡ºï¼Œå°„çº¿æ ·æœ¬çš„çº¿æ€§è§†å·®é—´è·æŠµæ¶ˆäº†contract(Â·)ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å·²ç»ç”¨åå‘æ·±åº¦é—´è·å…±åŒè®¾è®¡äº†æˆ‘ä»¬çš„åœºæ™¯åæ ‡ç©ºé—´ï¼Œè¿™ç»™äº†æˆ‘ä»¬æ— ç•Œåœºæ™¯çš„å‚æ•°åŒ–ï¼Œè¿™ä¸åŸå§‹NeRFè®ºæ–‡çš„é«˜æ•ˆè®¾ç½®éå¸¸ç›¸ä¼¼:æœ‰ç•Œç©ºé—´ä¸­å‡åŒ€é—´éš”çš„å°„çº¿é—´éš”ã€‚</li></ul><h1 id="Coarse-to-Fine-Online-Distillation"><a href="#Coarse-to-Fine-Online-Distillation" class="headerlink" title="Coarse-to-Fine Online Distillation"></a>Coarse-to-Fine Online Distillation</h1><p>å¦‚å‰æ‰€è¿°ï¼Œmip-NeRFä½¿ç”¨äº†ä¸€ç§ä»ç²—åˆ°ç»†çš„é‡é‡‡æ ·ç­–ç•¥(å›¾3)ï¼Œå…¶ä¸­ä½¿ç”¨â€œç²—â€å°„çº¿é—´éš”å’Œâ€œç»†â€å°„çº¿é—´éš”å¯¹MLPè¿›è¡Œä¸€æ¬¡è¯„ä¼°ï¼Œå¹¶ä½¿ç”¨ä¸¤ä¸ªçº§åˆ«çš„å›¾åƒé‡å»ºæŸå¤±è¿›è¡Œç›‘ç£ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722152752.png" alt="image.png"></p><p>æˆ‘ä»¬è½¬è€Œè®­ç»ƒä¸¤ä¸ªMLPï¼Œä¸€ä¸ªâ€œNeRF MLPâ€Î˜NeRF(å…¶è¡Œä¸ºç±»ä¼¼äºNeRFå’Œmip-NeRFä½¿ç”¨çš„MLP)å’Œä¸€ä¸ªâ€œæè®®MLPâ€Î˜propã€‚ææ¡ˆMLPé¢„æµ‹ä½“ç§¯å¯†åº¦ï¼Œæ ¹æ®å…¬å¼4å°†å…¶è½¬æ¢ä¸ºææ¡ˆæƒé‡å‘é‡ï¼Œä½†ä¸é¢„æµ‹é¢œè‰²ã€‚è¿™äº›å»ºè®®çš„æƒå€¼ç”¨äºé‡‡æ ·såŒºé—´ï¼Œç„¶åæä¾›ç»™NeRF MLP, NeRF MLPé¢„æµ‹è‡ªå·±çš„æƒå€¼å‘é‡w(å’Œé¢œè‰²ä¼°è®¡ï¼Œç”¨äºæ¸²æŸ“å›¾åƒ)ã€‚<br>è‡³å…³é‡è¦çš„æ˜¯ï¼Œæè®® MLP æ²¡æœ‰ç»è¿‡è®­ç»ƒæ¥é‡ç°è¾“å…¥å›¾åƒï¼Œè€Œæ˜¯ç»è¿‡è®­ç»ƒä»¥ç»‘å®š NeRF MLP äº§ç”Ÿçš„æƒé‡ wã€‚è¿™ä¸¤ä¸ª MLP éƒ½æ˜¯éšæœºåˆå§‹åŒ–å’Œè”åˆè®­ç»ƒçš„ï¼Œå› æ­¤è¿™ç§ç›‘ç£å¯ä»¥è¢«è®¤ä¸ºæ˜¯ <strong>NeRF MLP çŸ¥è¯†çš„ä¸€ç§â€œåœ¨çº¿è’¸é¦â€åˆ°æè®® MLP</strong>ã€‚æˆ‘ä»¬ä½¿ç”¨å¤§å‹ NeRF MLP å’Œå°å‹ææ¡ˆ MLPï¼Œå¹¶ä»å…·æœ‰è®¸å¤šæ ·æœ¬çš„ææ¡ˆ MLP ä¸­åå¤è¯„ä¼°å’Œé‡æ–°é‡‡æ ·ï¼ˆä¸ºæ¸…æ¥šèµ·è§ï¼Œä¸€äº›å›¾å½¢å’Œè®¨è®ºä»…è¯´æ˜äº†å•ä¸ªé‡é‡‡æ ·ï¼‰ï¼Œä½†ä»…ä½¿ç”¨è¾ƒå°çš„æ ·æœ¬é›†è¯„ä¼° NeRF MLPä¸€æ¬¡ã€‚è¿™ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§è¡¨ç°çš„æ¨¡å‹ï¼Œå°½ç®¡å®ƒçš„å®¹é‡æ¯” mip-NeRF é«˜å¾—å¤šï¼Œä½†è®­ç»ƒæˆæœ¬ä»…ç•¥é«˜ã€‚æ­£å¦‚æˆ‘ä»¬å°†å±•ç¤ºçš„é‚£æ ·ï¼Œ<strong>ä½¿ç”¨ä¸€ä¸ªå°çš„ MLP æ¥æ¨¡æ‹Ÿæè®®åˆ†å¸ƒä¸ä¼šé™ä½å‡†ç¡®æ€§</strong>ï¼Œè¿™è¡¨æ˜æå– NeRF MLP æ¯”è§†å›¾åˆæˆæ›´å®¹æ˜“çš„ä»»åŠ¡ã€‚</p><p>è¿™ç§åœ¨çº¿è’¸é¦éœ€è¦ä¸€ä¸ªæŸå¤±å‡½æ•°ï¼Œè¯¥å‡½æ•°é¼“åŠ±æè®®çš„$MLP(\hat t, \hat w)$å’ŒNeRF MLP(t, w)å‘å‡ºçš„ç›´æ–¹å›¾ä¿æŒä¸€è‡´ã€‚èµ·åˆï¼Œè¿™ä¸ªé—®é¢˜å¯èƒ½çœ‹èµ·æ¥å¾®ä¸è¶³é“ï¼Œå› ä¸ºæœ€å°åŒ–ä¸¤ä¸ªç›´æ–¹å›¾ä¹‹é—´çš„ä¸ç›¸ä¼¼æ€§æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä»»åŠ¡ï¼Œä½†æ˜¯å›æƒ³ä¸€ä¸‹ï¼Œè¿™äº›ç›´æ–¹å›¾tå’Œtçš„â€œç®±â€ä¸éœ€è¦ç›¸ä¼¼â€”â€”äº‹å®ä¸Šï¼Œå¦‚æœæè®®çš„MLPæˆåŠŸåœ°å‰”é™¤äº†åœºæ™¯å†…å®¹å­˜åœ¨çš„è·ç¦»é›†ï¼Œtå’Œ$\hat t$å°†æ˜¯é«˜åº¦ä¸ç›¸ä¼¼çš„ã€‚å°½ç®¡æ–‡çŒ®ä¸­åŒ…å«äº†è®¸å¤šæµ‹é‡å…·æœ‰ç›¸åŒç®±ä½çš„ä¸¤ä¸ªç›´æ–¹å›¾ä¹‹é—´å·®å¼‚çš„æ–¹æ³•[12,29,38]ï¼Œä½†æˆ‘ä»¬çš„ç ”ç©¶ç›¸å¯¹è¾ƒå°‘ã€‚è¿™ä¸ªé—®é¢˜æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½å‡è®¾å†…å®¹åœ¨ä¸€ä¸ªç›´æ–¹å›¾binå†…çš„åˆ†å¸ƒ:ä¸€ä¸ªéé›¶æƒé‡çš„åŒºé—´å¯èƒ½è¡¨æ˜æƒé‡åœ¨æ•´ä¸ªåŒºé—´å†…çš„å‡åŒ€åˆ†å¸ƒï¼Œä¸€ä¸ªä½äºè¯¥åŒºé—´å†…ä»»ä½•ä½ç½®çš„å‡½æ•°ï¼Œæˆ–è€…æ— æ•°å…¶ä»–åˆ†å¸ƒã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬åœ¨ä»¥ä¸‹å‡è®¾ä¸‹æ„å»ºæŸå¤±:</strong></p><ul><li>å¦‚æœä¸¤ä¸ªç›´æ–¹å›¾éƒ½å¯ä»¥ç”¨ä»»ä½•å•ä¸€çš„è´¨é‡åˆ†å¸ƒæ¥è§£é‡Šï¼Œé‚£ä¹ˆæŸå¤±ä¸€å®šä¸ºé›¶ã€‚åªæœ‰å½“ä¸¤ä¸ªç›´æ–¹å›¾ä¸å¯èƒ½åæ˜ ç›¸åŒçš„â€œçœŸå®çš„â€è¿ç»­åº•å±‚è´¨é‡åˆ†å¸ƒæ—¶ï¼Œæ‰ä¼šå‘ç”Ÿéé›¶æŸå¤±ã€‚è¯·å‚é˜…é™„å½•ä»¥è·å¾—è¯¥æ¦‚å¿µçš„å¯è§†åŒ–ã€‚</li><li>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè®¡ç®—ä¸åŒºé—´Té‡å çš„æ‰€æœ‰å»ºè®®æƒé‡çš„å’Œ:$\mathrm{bound}\big(\hat{\mathbf{t}},\hat{\mathbf{w}},T\big)=\sum_{j:T\cap\hat{T}_j\neq\emptyset}\hat{w}_j.$</li><li>å¦‚æœä¸¤ä¸ªç›´æ–¹å›¾ç›¸äº’ä¸€è‡´ï¼Œåˆ™å¯¹äº(t, w)ä¸­çš„æ‰€æœ‰åŒºé—´$(T_{i}, w_{i})$ï¼Œå¿…é¡»æˆç«‹$w_{i}â‰¤bound(\hat{\mathbf{t}},\hat{\mathbf{w}}, T_{i})$ã€‚è¿™ä¸€æ€§è´¨ç±»ä¼¼äºæµ‹åº¦è®º[14]ä¸­å¤–æµ‹åº¦çš„å¯åŠ æ€§æ€§è´¨ã€‚æˆ‘ä»¬çš„æŸå¤±ä¼šæƒ©ç½šä»»ä½•è¿åè¿™ä¸ªä¸ç­‰å¼å¹¶è¶…è¿‡è¿™ä¸ªç•Œé™çš„å‰©ä½™ç›´æ–¹å›¾è´¨é‡:</li><li>$\mathcal{L}_{\mathrm{prop}}\big(\mathbf{t},\mathbf{w},\hat{\mathbf{t}},\hat{\mathbf{w}}\big)=\sum_i\frac{1}{w_i}\max\big(0,w_i-\mathrm{bound}\big(\hat{\mathbf{t}},\hat{\mathbf{w}},T_i\big)\big)^2$</li><li>è¿™ç§æŸå¤±ç±»ä¼¼äºç»Ÿè®¡å­¦å’Œè®¡ç®—æœºè§†è§‰ä¸­ç»å¸¸ä½¿ç”¨çš„æ–¹å½¢ç›´æ–¹å›¾è·ç¦»çš„åŠäºŒæ¬¡å‹ã€‚è¿™ç§æŸå¤±æ˜¯ä¸å¯¹ç§°çš„ï¼Œå› ä¸ºæˆ‘ä»¬åªæƒ³æƒ©ç½šé‚£äº›ä½ä¼°äº†NeRF MLPæ‰€éšå«çš„åˆ†å¸ƒçš„ææ¡ˆæƒé‡â€”â€”é«˜ä¼°æ˜¯æ„æ–™ä¹‹ä¸­çš„ï¼Œå› ä¸ºææ¡ˆæƒé‡å¯èƒ½æ¯”NeRFæƒé‡æ›´ç²—ç³™ï¼Œå› æ­¤ä¼šåœ¨å…¶ä¸Šå½¢æˆä¸€ä¸ªä¸Šé™åŒ…ç»œã€‚é™¤ä»¥$w_{i}$ä¿è¯äº†å½“è¾¹ç•Œä¸ºé›¶æ—¶ï¼Œè¿™ä¸ªæŸå¤±ç›¸å¯¹äºè¾¹ç•Œçš„æ¢¯åº¦æ˜¯ä¸€ä¸ªå¸¸æ•°å€¼ï¼Œè¿™å¯¼è‡´äº†æ€§èƒ½è‰¯å¥½çš„ä¼˜åŒ–ã€‚ç”±äºtå’Œ$\hat t$å·²æ’åºï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä½¿ç”¨æ±‚å’Œé¢ç§¯è¡¨[11]é«˜æ•ˆåœ°è®¡ç®—å…¬å¼13$\mathcal{L}_{prop}$ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§æŸå¤±å¯¹äºè·ç¦»tçš„å•è°ƒå˜æ¢æ˜¯ä¸å˜çš„(å‡è®¾wå’Œ$\hat w$å·²ç»åœ¨tç©ºé—´ä¸­è®¡ç®—è¿‡)ï¼Œæ‰€ä»¥æ— è®ºåº”ç”¨äºæ¬§å‡ é‡Œå¾—å°„çº¿è·ç¦»è¿˜æ˜¯æ ‡å‡†åŒ–å°„çº¿sè·ç¦»ï¼Œå®ƒçš„è¡Œä¸ºéƒ½æ˜¯ç›¸åŒçš„ã€‚</li><li>æˆ‘ä»¬åœ¨NeRFç›´æ–¹å›¾(t, w)å’Œæ‰€æœ‰ææ¡ˆç›´æ–¹å›¾$(\hat t^{k},\hat w^{k})$ä¹‹é—´æ–½åŠ è¿™ç§æŸå¤±ã€‚ä¸mip-NeRFä¸€æ ·ï¼ŒNeRF MLPä½¿ç”¨å¸¦æœ‰è¾“å…¥å›¾åƒ$\mathcal{L}_{recon}$çš„é‡å»ºæŸå¤±è¿›è¡Œç›‘ç£ã€‚åœ¨è®¡ç®—$\mathcal{L}_{prop}$æ—¶ï¼Œæˆ‘ä»¬åœ¨NeRF MLPçš„è¾“å‡ºtå’Œwä¸Šæ”¾ç½®ä¸€ä¸ªåœæ­¢æ¢¯åº¦ï¼Œä½¿NeRF MLPâ€œé¢†å…ˆâ€ï¼Œè€Œææ¡ˆMLPâ€œè·Ÿéšâ€-å¦åˆ™NeRFå¯èƒ½ä¼šäº§ç”Ÿæ›´å·®çš„åœºæ™¯é‡å»ºï¼Œä»è€Œä½¿ææ¡ˆMLPçš„å·¥ä½œå˜å¾—ä¸é‚£ä¹ˆå›°éš¾ã€‚è¿™ç§æè®®ç›‘ç£çš„æ•ˆæœå¯ä»¥ä»å›¾4ä¸­çœ‹åˆ°ï¼Œå…¶ä¸­NeRF MLPé€æ¸å°†å…¶æƒé‡wå®šä½åœ¨åœºæ™¯ä¸­çš„ä¸€ä¸ªè¡¨é¢å‘¨å›´ï¼Œ<strong>è€Œææ¡ˆMLPâ€œcatches upâ€å¹¶é¢„æµ‹åŒ…å«NeRFæƒé‡çš„ç²—ææ¡ˆç›´æ–¹å›¾</strong>ã€‚</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722154306.png" alt="image.png"></p><h1 id="Regularization-for-Interval-Based-Models"><a href="#Regularization-for-Interval-Based-Models" class="headerlink" title="Regularization for Interval-Based Models"></a>Regularization for Interval-Based Models</h1><p>ç”±äºå§¿æ€ä¸ä½³ï¼Œè®­ç»ƒæœ‰ç´ çš„nerfç»å¸¸è¡¨ç°å‡ºä¸¤ç§ç‰¹å¾ä¼ªå½±ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œfloatersâ€å’Œâ€œèƒŒæ™¯å¡Œé™·â€ï¼Œå¦‚å›¾5(a)æ‰€ç¤ºã€‚æˆ‘ä»¬æ‰€è¯´çš„â€œfloatersâ€æŒ‡çš„æ˜¯<strong>ä½“ç§¯å¯†é›†ç©ºé—´ä¸­ä¸ç›¸è¿çš„å°åŒºåŸŸ</strong>ï¼Œå®ƒä»¬å¯ä»¥è§£é‡Šè¾“å…¥è§†å›¾å­é›†çš„æŸäº›æ–¹é¢ï¼Œä½†ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œå®ƒä»¬çœ‹èµ·æ¥å°±åƒæ¨¡ç³Šçš„äº‘ã€‚æ‰€è°“â€œèƒŒæ™¯å¡Œç¼©â€ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯ä¸€ç§ç°è±¡ï¼Œåœ¨è¿™ç§ç°è±¡ä¸­ï¼Œ<strong>è¿œå¤„çš„è¡¨é¢è¢«é”™è¯¯åœ°æ¨¡æ‹Ÿæˆé è¿‘ç›¸æœºçš„å¯†é›†å†…å®¹çš„åŠé€æ˜äº‘</strong>ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ­£åˆ™åŒ–å™¨ï¼Œå¦‚å›¾5æ‰€ç¤ºï¼Œå®ƒæ¯”NeRFä½¿ç”¨çš„å‘ä½“ç§¯å¯†åº¦[33]æ³¨å…¥å™ªå£°çš„æ–¹æ³•æ›´æœ‰æ•ˆåœ°é˜²æ­¢æµ®åŠ¨å’ŒèƒŒæ™¯å´©æºƒã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722154733.png" alt="image.png"></p><p>æˆ‘ä»¬çš„æ­£åˆ™åŒ–å™¨æœ‰ä¸€ä¸ªç®€å•çš„å®šä¹‰ï¼Œå®ƒæ˜¯ç”±ä¸€ç»„(æ ‡å‡†åŒ–çš„)å°„çº¿è·ç¦»så’Œå‚æ•°åŒ–æ¯æ¡å°„çº¿çš„æƒé‡wå®šä¹‰çš„é˜¶è·ƒå‡½æ•°:<br>$\mathcal{L}_{\mathrm{dist}}(\mathbf{s},\mathbf{w})=\iint\limits_{-\infty}^\infty\mathbf{w}_\mathbf{s}(u)\mathbf{w}_\mathbf{s}(v)|u-v|d_ud_v,$<br>$\mathbf{w}_\mathbf{s}(u)=\sum_iw_i\mathbb{1}_{[s_i,s_{i+1})}(u).$</p><ul><li>æˆ‘ä»¬ä½¿ç”¨å½’ä¸€åŒ–å°„çº¿è·ç¦»sï¼Œå› ä¸ºä½¿ç”¨tä¼šæ˜¾è‘—æé«˜è¿œé—´éš”çš„æƒé‡ï¼Œå¹¶å¯¼è‡´è¿‘é—´éš”è¢«æœ‰æ•ˆå¿½ç•¥ã€‚è¿™ä¸ªæŸå¤±æ˜¯æ²¿ç€è¿™ä¸ª1Dé˜¶è·ƒå‡½æ•°çš„æ‰€æœ‰ç‚¹å¯¹ä¹‹é—´çš„è·ç¦»çš„ç§¯åˆ†ï¼Œç”±NeRF MLPåˆ†é…ç»™æ¯ä¸ªç‚¹çš„æƒé‡wç¼©æ”¾ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œå¤±çœŸâ€ï¼Œå› ä¸ºå®ƒç±»ä¼¼äºk-meansæœ€å°åŒ–å¤±çœŸçš„è¿ç»­ç‰ˆæœ¬(å°½ç®¡å®ƒä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯æœ€å¤§åŒ–ä¸€ç§è‡ªç›¸å…³)ã€‚</li><li>è¿™ç§æŸå¤±å¯ä»¥é€šè¿‡è®¾ç½®w = 0æ¥æœ€å°åŒ–(å›æƒ³ä¸€ä¸‹ï¼Œwçš„æ€»å’Œä¸å¤§äº1ï¼Œè€Œä¸å®Œå…¨æ˜¯1)ã€‚å¦‚æœè¿™æ˜¯ä¸å¯èƒ½çš„(å³ï¼Œå¦‚æœå°„çº¿æ˜¯éç©ºçš„)ï¼Œåˆ™å¯ä»¥é€šè¿‡å°†æƒé‡åˆå¹¶åˆ°å°½å¯èƒ½å°çš„åŒºåŸŸæ¥æœ€å°åŒ–ã€‚å›¾6é€šè¿‡åœ¨toyç›´æ–¹å›¾ä¸Šæ˜¾ç¤ºè¿™ç§æŸå¤±çš„æ¢¯åº¦æ¥è¯´æ˜è¿™ç§è¡Œä¸ºã€‚</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722155249.png" alt="image.png"></p><p>æˆ‘ä»¬çš„æŸå¤±é¼“åŠ±æ¯æ¡å°„çº¿å°½å¯èƒ½ç´§å‡‘:<br>1)æœ€å°åŒ–æ¯ä¸ªé—´éš”çš„å®½åº¦ï¼Œ<br>2)å°†è·ç¦»è¾ƒè¿œçš„é—´éš”ç›¸äº’æ‹‰è¿‘ï¼Œ<br>3)å°†æƒé‡æ•´åˆåˆ°å•ä¸ªé—´éš”æˆ–å°‘é‡é‚»è¿‘çš„é—´éš”ä¸­ï¼Œ<br>4)åœ¨å¯èƒ½çš„æƒ…å†µä¸‹(ä¾‹å¦‚å½“æ•´ä¸ªå°„çº¿æœªè¢«å ç”¨æ—¶)ä½¿æ‰€æœ‰æƒé‡è¶‹è¿‘äºé›¶ã€‚</p><p>ç”±äºws(Â·)åœ¨æ¯ä¸ªåŒºé—´å†…éƒ½æœ‰ä¸€ä¸ªå¸¸æ•°å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¼14é‡å†™ä¸º:</p><script type="math/tex; mode=display">\begin{gathered}\mathcal{L}_{\mathrm{dist}}(\mathbf{s},\mathbf{w}) =\sum_{i,j}w_iw_j\left|\frac{s_i+s_{i+1}}{2}-\frac{s_j+s_{j+1}}{2}\right| \\+\frac13\sum_iw_i^2(s_{i+1}-s_i) \end{gathered}</script><p>åœ¨è¿™ç§å½¢å¼ä¸‹ï¼Œæˆ‘ä»¬çš„å¤±çœŸæŸå¤±æ˜¯å¾®ä¸è¶³é“çš„è®¡ç®—ã€‚è¿™ç§é‡æ–°è¡¨è¿°ä¹Ÿä¸ºè¿™ç§æŸå¤±çš„è¡Œä¸ºæä¾›äº†ä¸€äº›ç›´è§‚çš„ç†è§£:ç¬¬ä¸€é¡¹æœ€å°åŒ–æ‰€æœ‰åŒºé—´ä¸­ç‚¹å¯¹ä¹‹é—´çš„åŠ æƒè·ç¦»ï¼Œç¬¬äºŒé¡¹æœ€å°åŒ–æ¯ä¸ªå•ç‹¬åŒºé—´çš„åŠ æƒå¤§å°ã€‚</p><h1 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h1><p>æˆ‘ä»¬ä½¿ç”¨å…·æœ‰4å±‚å’Œ256ä¸ªéšè—å•å…ƒçš„æè®®MLPå’Œå…·æœ‰8å±‚å’Œ1024ä¸ªéšè—å•å…ƒçš„NeRF MLPï¼Œä¸¤è€…éƒ½ä½¿ç”¨ReLUå†…éƒ¨æ¿€æ´»å’Œå¯†åº¦Ï„çš„softplusæ¿€æ´»ã€‚</p><p>æˆ‘ä»¬å¯¹æè®®çš„MLPè¿›è¡Œä¸¤ä¸ªé˜¶æ®µçš„è¯„ä¼°å’Œé‡æ–°é‡‡æ ·ï¼Œæ¯ä¸ªé˜¶æ®µä½¿ç”¨64ä¸ªæ ·æœ¬æ¥ç”Ÿäº§$(\hat s^{0}, \hat w^{0})$ å’Œ$(\hat s^{1}, \hat w^{1})$, ç„¶åä½¿ç”¨32ä¸ªæ ·æœ¬å¯¹NeRF MLPè¿›è¡Œä¸€ä¸ªé˜¶æ®µçš„è¯„ä¼°ï¼Œä»¥äº§ç”Ÿ(s, w)ã€‚æˆ‘ä»¬å°†ä»¥ä¸‹æŸå¤±æœ€å°åŒ–: $\mathcal{L}_{\text{recon}}(\mathbf{C}(\mathbf{t}),\mathbf{C}^*)+\lambda\mathcal{L}_{\text{dist}}(\mathbf{s},\mathbf{w})+\sum_{k=0}^1\mathcal{L}_{\text{prop}}(\mathbf{s},\mathbf{w},\hat{\mathbf{s}}^k,\hat{\mathbf{w}}^k)$ æ¯æ‰¹ä¸­æ‰€æœ‰å…‰çº¿çš„å¹³å‡å€¼(å…‰çº¿ä¸åŒ…æ‹¬åœ¨æˆ‘ä»¬çš„ç¬¦å·ä¸­)</p><p>Î»è¶…å‚æ•°å¹³è¡¡äº†æˆ‘ä»¬çš„æ•°æ®é¡¹$\mathcal{L}_{recon}$å’Œæ­£åˆ™å™¨$\mathcal{L}_{dist}$;æ‰€æœ‰å®éªŒå‡è®¾Î» = 0.01ã€‚$\mathcal{L}_{prop}$ä¸­ä½¿ç”¨çš„åœæ­¢æ¢¯åº¦ä½¿Î˜propçš„ä¼˜åŒ–ç‹¬ç«‹äºÎ˜NeRFçš„ä¼˜åŒ–ï¼Œå› æ­¤ä¸éœ€è¦è¶…å‚æ•°æ¥ç¼©æ”¾$\mathcal{L}_{prop}$çš„æ•ˆæœã€‚å¯¹äº$\mathcal{L}_{recon}$ï¼Œæˆ‘ä»¬ä½¿ç”¨Charbonnier loss[10] :$\sqrt{(xâˆ’x^{âˆ—})^{2} + \epsilon^{2}} ,\epsilon= 0.001$ï¼Œè¿™æ¯”mip-NeRFä¸­ä½¿ç”¨çš„å‡æ–¹è¯¯å·®å®ç°äº†ç¨å¾®ç¨³å®šçš„ä¼˜åŒ–ã€‚æˆ‘ä»¬ä½¿ç”¨ç¨å¾®ä¿®æ”¹è¿‡çš„mip-NeRFå­¦ä¹ æ—¶é—´è¡¨æ¥è®­ç»ƒæˆ‘ä»¬çš„æ¨¡å‹(ä»¥åŠæ‰€æœ‰æŠ¥å‘Šçš„ç±»ä¼¼nerfçš„åŸºçº¿):ä½¿ç”¨Adam[24]ï¼Œä½¿ç”¨è¶…å‚æ•°$Î²_{1} = 0.9ï¼Œ Î²_{2} = 0.999ï¼Œ \epsilon = 10^{âˆ’6}$ï¼Œè¿›è¡Œ250kæ¬¡ä¼˜åŒ–è¿­ä»£ï¼Œæ‰¹å¤§å°ä¸º214ï¼Œå­¦ä¹ ç‡ä»$2 Ã— 10^{âˆ’3}$åˆ°$2 Ã— 10^{âˆ’5}$å¯¹æ•°çº¿æ€§é€€ç«ï¼Œé¢„çƒ­é˜¶æ®µä¸º512æ¬¡è¿­ä»£ï¼Œæ¢¯åº¦è£å‰ªä¸º$10^{âˆ’3}$èŒƒæ•°ã€‚</p><h1 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h1><p>æˆ‘ä»¬åœ¨ä¸€ä¸ªæ–°çš„æ•°æ®é›†ä¸Šè¯„ä¼°æˆ‘ä»¬çš„æ¨¡å‹:9ä¸ªåœºæ™¯(5ä¸ªå®¤å¤–å’Œ4ä¸ªå®¤å†…)ï¼Œæ¯ä¸ªåœºæ™¯éƒ½åŒ…å«ä¸€ä¸ªå¤æ‚çš„ä¸­å¿ƒç‰©ä½“æˆ–åŒºåŸŸå’Œè¯¦ç»†çš„èƒŒæ™¯ã€‚åœ¨æ‹æ‘„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾é€šè¿‡å›ºå®šç›¸æœºæ›å…‰è®¾ç½®ï¼Œæœ€å°åŒ–ç…§æ˜å˜åŒ–ï¼Œé¿å…ç§»åŠ¨ç‰©ä½“æ¥é˜²æ­¢å…‰åº¦å˜åŒ–-æˆ‘ä»¬ä¸æ‰“ç®—æ¢ç´¢â€œåœ¨é‡å¤–â€ç…§ç‰‡æ”¶é›†[30]æ‰€å¸¦æ¥çš„æ‰€æœ‰æŒ‘æˆ˜ï¼Œåªæœ‰æ¯”ä¾‹ã€‚ç›¸æœºå§¿åŠ¿ä¼°è®¡ä½¿ç”¨COLMAP[45]</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722162716.png" alt="image.png"></p><p>æ¶ˆèç ”ç©¶</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230722162649.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Sampling </tag>
            
            <tag> LargeScaleScene </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mip-NeRF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Sampling/Mip-NeRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Sampling/Mip-NeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Mip-NeRF: A Multiscale Representation for Anti-Aliasing Neural Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td>Jonathan T. Barron and Ben Mildenhall and Matthew Tancik and Peter Hedman and Ricardo Martin-Brualla and Pratul P. Srinivasan</td></tr><tr><td>Conf/Jour</td><td>2021 IEEE/CVF International Conference on Computer Vision (ICCV)</td></tr><tr><td>Year</td><td>2021</td></tr><tr><td>Project</td><td><a href="https://github.com/google/mipnerf">google/mipnerf (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4557703956856315905&amp;noteId=1753570799523020032">Mip-NeRF: A Multiscale Representation for Anti-Aliasing Neural Radiance Fields (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230721125154.png" alt="image.png"></p><ul><li>ä¸€ç§æ–°çš„é‡‡æ ·æ–¹å¼ï¼šé”¥ä½“é‡‡æ ·<strong>conical frustumsæˆªå¤´åœ†é”¥ä½“</strong></li><li>åŸºäºPEæå‡ºäº†IPEï¼Œå¯ä»¥å¹³æ»‘åœ°ç¼–ç ç©ºé—´ä½“ç§¯çš„å¤§å°å’Œå½¢çŠ¶</li><li>å°†NeRFçš„ç²—ç²¾é‡‡æ ·MLPåˆå¹¶ä¸ºä¸€ä¸ªMLP</li></ul><p>IPEï¼šå½“é”¥ä½“åŒºåŸŸè¾ƒå®½ï¼ˆæ­£æ€åˆ†å¸ƒå¾ˆå®½ï¼‰æ—¶ï¼Œä¼šå°†é«˜é¢‘çš„ä¿¡æ¯ç§¯åˆ†ä¸º0ï¼›å½“åŒºåŸŸè¾ƒçª„æ—¶ï¼Œä¿æŒåŸæ¥çš„PEncoding<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/ipe_anim_horiz.gif" alt="ipe_anim_horiz.gif"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230721153610.png" alt="image.png"></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>We have presented mip-NeRF, a multiscale NeRF-like model that addresses the inherent <strong>aliasinghæ··å </strong> of NeRF. NeRF works by casting <strong>rays</strong>, encoding the positions of points along those rays, and training separate neural networks at distinct scales.<br>In contrast, mip-NeRF casts <strong>cones</strong>, encodes the positions and sizes of conical frustums, and trains a single neural network that models the scene at multiple scales. By reasoning explicitly about sampling and scale, mip-NeRF is able to reduce error rates relative to NeRF by60% on our own multiscale dataset, and by 17% on NeRFâ€™s single-scale dataset, while also being 7% faster than NeRF.Mip-NeRF is also able to match the accuracy of a bruteforce supersampled NeRF variant, while being 22Ã— faster.<br>We hope that the general techniques presented here will be valuable to other researchers working to improve the performance of raytracing-based neural rendering models.</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>NeRFï¼šä½¿ç”¨ä¸€ä¸ªåƒç´ å¯¹ä¸€æ¡å…‰çº¿è¿›è¡Œé‡‡æ ·ï¼Œå½“åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹è¿›è¡Œtrainå’Œtestæ¸²æŸ“æ—¶ï¼Œä¼šäº§ç”Ÿexcessively blurred or aliased</p><ul><li>å¦‚æœå¾ˆç›´æ¥åœ°å¯¹æ¯ä¸ªåƒç´ é‡‡ç”¨å¤šæ¡å…‰çº¿ï¼Œè®¡ç®—é‡å°†å€å¢</li></ul><p>Mip-NeRFï¼štends NeRF to represent the scene at a continuously-valued scale</p><ul><li>By efficiently rendering anti-aliased conical frustumsé”¥å½¢æˆªé”¥ï¼Œå‡å°‘äº†é”¯é½¿ä¼ªå½±</li><li>ç›¸æ¯”NeRFåŠ é€Ÿ7%ï¼Œä¸”å¤§å°å‡åŠï¼Œmip-NeRFåœ¨NeRFæ•°æ®é›†ä¸Šé™ä½äº†17%çš„å¹³å‡é”™è¯¯ç‡ï¼Œåœ¨æˆ‘ä»¬æå‡ºçš„æ•°æ®é›†çš„å…·æœ‰æŒ‘æˆ˜æ€§çš„å¤šå°ºåº¦å˜ä½“ä¸Šé™ä½äº†60%</li></ul><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul><li>Neural volumetric representationsï¼Œeg:NeRF</li><li>NeRFé‡‡æ ·ç­–ç•¥å¯¼è‡´è¿‡åº¦æ¨¡ç³Šå’Œæ··å excessive blurring and aliasing</li><li>NeRFç”¨è¿ç»­çš„ä½“ç§¯å‡½æ•°å–ä»£äº†ä¼ ç»Ÿçš„ç¦»æ•£é‡‡æ ·å‡ ä½•ï¼Œå‚æ•°åŒ–ä¸ºå¤šå±‚æ„ŸçŸ¥å™¨ã€‚ä¸ºäº†æ¸²æŸ“åƒç´ çš„é¢œè‰²ï¼ŒNeRFé€šè¿‡è¯¥åƒç´ æŠ•å°„ä¸€æ¡å…‰çº¿ï¼Œå¹¶å°†å…¶æŠ•å°„åˆ°å…¶ä½“ç§¯è¡¨ç¤ºä¸­ï¼ŒæŸ¥è¯¢MLPä¸­æ²¿è¯¥å…‰çº¿é‡‡æ ·çš„åœºæ™¯å±æ€§ï¼Œå¹¶å°†è¿™äº›å€¼åˆæˆä¸ºå•ä¸€é¢œè‰²ã€‚</li><li>NeRFæ¸²æŸ“åœ¨è¾ƒå°‘äººä¸ºçš„åœºæ™¯ä¸­è¡¨ç°å‡ºæ˜æ˜¾çš„ä¼ªå½±ã€‚å½“è®­ç»ƒå›¾åƒä»¥å¤šç§åˆ†è¾¨ç‡è§‚å¯Ÿåœºæ™¯å†…å®¹æ—¶ï¼Œä»æ¢å¤çš„NeRFä¸­è·å¾—çš„æ¸²æŸ“åœ¨è¿‘è·ç¦»è§†å›¾ä¸­æ˜¾å¾—è¿‡äºæ¨¡ç³Šï¼Œå¹¶ä¸”åœ¨è¿œè·ç¦»è§†å›¾ä¸­åŒ…å«æ··è”ä¼ªå½±ã€‚ä¸€ä¸ªç›´æ¥çš„è§£å†³æ–¹æ¡ˆæ˜¯é‡‡ç”¨ç¦»çº¿å…‰çº¿è¿½è¸ªä¸­ä½¿ç”¨çš„ç­–ç•¥:é€šè¿‡åœ¨å…¶è¶³è¿¹ä¸­è¡Œè¿›å¤šæ¡å…‰çº¿å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œè¶…é‡‡æ ·ã€‚ä½†æ˜¯å¯¹äºç¥ç»ä½“ç§¯è¡¨ç¤º(å¦‚NeRF)æ¥è¯´ï¼Œè¿™æ˜¯éå¸¸æ˜‚è´µçš„ï¼Œå®ƒéœ€è¦æ•°ç™¾ä¸ªMLPè¯„ä¼°æ¥æ¸²æŸ“å•ä¸ªå…‰çº¿ï¼Œå¹¶ä¸”éœ€è¦å‡ ä¸ªå°æ—¶æ¥é‡å»ºå•ä¸ªåœºæ™¯ã€‚</li><li>In this paper, we take <strong>inspiration</strong> from <strong>the mipmapping approach used to prevent aliasing</strong> in computer graphics rendering pipelines.<ul><li>mipmapè¡¨ç¤ºä¸€ç»„ä¸åŒçš„ç¦»æ•£ä¸‹é‡‡æ ·å°ºåº¦çš„ä¿¡å·(é€šå¸¸æ˜¯å›¾åƒæˆ–çº¹ç†å›¾)ï¼Œå¹¶æ ¹æ®åƒç´ è¶³è¿¹åˆ°è¯¥å°„çº¿ç›¸äº¤çš„å‡ ä½•å›¾å½¢çš„æŠ•å½±é€‰æ‹©é€‚å½“çš„å°ºåº¦ç”¨äºå°„çº¿ã€‚è¿™ç§ç­–ç•¥è¢«ç§°ä¸ºé¢„æ»¤æ³¢ï¼Œå› ä¸ºæŠ—æ··å çš„è®¡ç®—è´Ÿæ‹…ä»æ¸²æŸ“æ—¶é—´(å¦‚åœ¨è›®åŠ›è¶…é‡‡æ ·è§£å†³æ–¹æ¡ˆä¸­)è½¬ç§»åˆ°é¢„è®¡ç®—é˜¶æ®µ-æ— è®ºçº¹ç†æ¸²æŸ“å¤šå°‘æ¬¡ï¼Œéƒ½åªéœ€è¦ä¸ºç»™å®šçº¹ç†åˆ›å»ºä¸€æ¬¡mipmapã€‚</li></ul></li><li>Mip-NeRF: extends NeRF to simultaneously represent the prefiltered radiance field for a continuousspace of scales.<ul><li>mip-NeRFçš„è¾“å…¥æ˜¯ä¸€ä¸ªä¸‰ç»´é«˜æ–¯åˆ†å¸ƒï¼Œå®ƒè¡¨ç¤ºäº®åº¦åœºåº”è¯¥è¢«ç§¯åˆ†çš„åŒºåŸŸã€‚å¦‚å›¾1æ‰€ç¤ºï¼Œç„¶åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ²¿ç€ä¸€ä¸ªåœ†é”¥çš„é—´éš”æŸ¥è¯¢mip-NeRFæ¥å‘ˆç°ä¸€ä¸ªé¢„è¿‡æ»¤çš„åƒç´ ï¼Œä½¿ç”¨è¿‘ä¼¼äºåƒç´ å¯¹åº”çš„é”¥å½¢æˆªé”¥çš„é«˜æ–¯å‡½æ•°ã€‚ä¸ºäº†å¯¹ä¸‰ç»´ä½ç½®åŠå…¶å‘¨å›´çš„é«˜æ–¯åŒºåŸŸè¿›è¡Œç¼–ç ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç‰¹å¾è¡¨ç¤º:é›†æˆä½ç½®ç¼–ç (IPE)ã€‚è¿™æ˜¯NeRFçš„ä½ç½®ç¼–ç (PE)çš„ä¸€ç§æ¨å¹¿ï¼Œå®ƒå…è®¸ç©ºé—´çš„ä¸€ä¸ªåŒºåŸŸå…·æœ‰ç´§å‡‘çš„ç‰¹å¾ï¼Œè€Œä¸æ˜¯ç©ºé—´ä¸­çš„å•ä¸ªç‚¹ã€‚</li><li>Mip-NeRFæå¤§åœ°æé«˜äº†NeRFçš„å‡†ç¡®æ€§ï¼Œå¹¶ä¸”åœ¨ä»¥ä¸åŒåˆ†è¾¨ç‡è§‚å¯Ÿåœºæ™¯å†…å®¹çš„æƒ…å†µä¸‹(å³ç›¸æœºç§»åŠ¨åˆ°ç¦»åœºæ™¯æ›´è¿‘æˆ–æ›´è¿œçš„è®¾ç½®)ï¼Œè¿™ç§å¥½å¤„ç”šè‡³æ›´å¤§ã€‚åœ¨æˆ‘ä»¬æå‡ºçš„å…·æœ‰æŒ‘æˆ˜æ€§çš„å¤šåˆ†è¾¨ç‡åŸºå‡†ä¸Šï¼Œmip-NeRFèƒ½å¤Ÿç›¸å¯¹äºNeRFå¹³å‡é™ä½60%çš„é”™è¯¯ç‡(å‚è§å›¾2çš„å¯è§†åŒ–)ã€‚Mip-NeRFçš„å°ºåº¦æ„ŸçŸ¥ç»“æ„è¿˜å…è®¸æˆ‘ä»¬å°†NeRFç”¨äºåˆ†å±‚é‡‡æ ·[30]çš„å•ç‹¬çš„â€œç²—â€å’Œâ€œç»†â€MLPåˆå¹¶ä¸ºå•ä¸ªMLPã€‚å› æ­¤ï¼Œmip-NeRFæ¯”NeRFç•¥å¿«(çº¦7%)ï¼Œå¹¶ä¸”æœ‰ä¸€åŠçš„å‚æ•°ã€‚</li></ul></li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>æˆ‘ä»¬çš„å·¥ä½œç›´æ¥æ‰©å±•äº†NeRF[30]ï¼Œè¿™æ˜¯ä¸€ç§éå¸¸æœ‰å½±å“åŠ›çš„æŠ€æœ¯ï¼Œç”¨äºä»è§‚å¯Ÿåˆ°çš„å›¾åƒä¸­å­¦ä¹ 3Dåœºæ™¯è¡¨ç¤ºï¼Œä»¥åˆæˆæ–°é¢–çš„é€¼çœŸè§†å›¾ã€‚<br>æˆ‘ä»¬å›é¡¾äº†è®¡ç®—æœºå›¾å½¢å­¦å’Œè§†å›¾åˆæˆä¸­ä½¿ç”¨çš„3Dè¡¨ç¤ºï¼ŒåŒ…æ‹¬æœ€è¿‘å¼•å…¥çš„è¿ç»­ç¥ç»è¡¨ç¤ºï¼Œå¦‚NeRFï¼Œé‡ç‚¹æ˜¯<strong>é‡‡æ ·å’Œæ··å </strong>ã€‚</p><ul><li>Anti-aliasing in Rendering<ul><li>é‡‡æ ·å’Œæ··å æ˜¯è®¡ç®—æœºå›¾å½¢å­¦ä¸­æ¸²æŸ“ç®—æ³•å‘å±•è¿‡ç¨‹ä¸­è¢«å¹¿æ³›ç ”ç©¶çš„åŸºæœ¬é—®é¢˜ã€‚å‡å°‘æ··å (â€œæŠ—æ··å â€)é€šå¸¸æ˜¯é€šè¿‡<strong>è¶…é‡‡æ ·æˆ–é¢„æ»¤æ³¢</strong>æ¥å®Œæˆçš„ã€‚</li><li>åŸºäºè¶…é‡‡æ ·çš„æŠ€æœ¯[46]åœ¨æ¸²æŸ“æ—¶æ¯åƒç´ æŠ•å°„å¤šæ¡å…‰çº¿ï¼Œä»¥ä¾¿é‡‡æ ·æ›´æ¥è¿‘<strong>å¥ˆå¥æ–¯ç‰¹é¢‘ç‡</strong>ã€‚è¿™æ˜¯ä¸€ç§å‡å°‘æ··å çš„æœ‰æ•ˆç­–ç•¥ï¼Œä½†ä»£ä»·å¾ˆé«˜ï¼Œå› ä¸ºè¿è¡Œæ—¶é—´é€šå¸¸éšè¶…é‡‡æ ·ç‡çº¿æ€§æ‰©å±•ã€‚å› æ­¤ï¼Œè¶…é‡‡æ ·é€šå¸¸åªåœ¨è„±æœºæ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ã€‚è€Œä¸æ˜¯é‡‡æ ·æ›´å¤šçš„å…‰çº¿æ¥åŒ¹é…å¥ˆå¥æ–¯ç‰¹é¢‘ç‡ï¼ŒåŸºäºé¢„æ»¤æ³¢çš„æŠ€æœ¯ä½¿ç”¨åœºæ™¯å†…å®¹çš„ä½é€šæ»¤æ³¢ç‰ˆæœ¬æ¥é™ä½å¥ˆå¥æ–¯ç‰¹é¢‘ç‡æ‰€éœ€çš„æ¸²æŸ“åœºæ™¯æ²¡æœ‰æ··å ã€‚</li><li>é¢„æ»¤æ³¢æŠ€æœ¯[18,20,32,49]æ›´é€‚åˆå®æ—¶æ¸²æŸ“ï¼Œå› ä¸ºåœºæ™¯å†…å®¹çš„è¿‡æ»¤ç‰ˆæœ¬å¯ä»¥æå‰é¢„è®¡ç®—ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ¸²æŸ“æ—¶æ ¹æ®ç›®æ ‡é‡‡æ ·ç‡ä½¿ç”¨æ­£ç¡®çš„â€œæ¯”ä¾‹â€ã€‚åœ¨æ¸²æŸ“ç¯å¢ƒä¸­ï¼Œé¢„è¿‡æ»¤å¯ä»¥è¢«è®¤ä¸ºæ˜¯é€šè¿‡æ¯ä¸ªåƒç´ è·Ÿè¸ªä¸€ä¸ªé”¥è€Œä¸æ˜¯ä¸€æ¡å°„çº¿[1,16]:æ¯å½“é”¥ä¸åœºæ™¯å†…å®¹ç›¸äº¤æ—¶ï¼Œåœ¨ä¸é”¥çš„è¶³è¿¹å¯¹åº”çš„å°ºåº¦ä¸ŠæŸ¥è¯¢é¢„å…ˆè®¡ç®—çš„åœºæ™¯å†…å®¹çš„å¤šå°ºåº¦è¡¨ç¤º(ä¾‹å¦‚ç¨€ç–ä½“ç´ å…«å‰æ ‘[15,21]æˆ–mipmap[47])ã€‚</li><li>æˆ‘ä»¬çš„å·¥ä½œä»å›¾å½¢å·¥ä½œä¸­è·å¾—çµæ„Ÿï¼Œå¹¶ä¸ºNeRFæä¾›äº†å¤šå°ºåº¦åœºæ™¯è¡¨ç¤ºã€‚æˆ‘ä»¬çš„ç­–ç•¥åœ¨ä¸¤ä¸ªå…³é”®æ–¹é¢ä¸åŒäºä¼ ç»Ÿå›¾å½¢ç®¡é“ä¸­ä½¿ç”¨çš„å¤šå°ºåº¦è¡¨ç¤ºã€‚<ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬<strong>æ— æ³•é¢„å…ˆè®¡ç®—å¤šå°ºåº¦è¡¨ç¤º</strong>ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬çš„é—®é¢˜è®¾ç½®ä¸­ï¼Œåœºæ™¯çš„å‡ ä½•å½¢çŠ¶æ˜¯æœªçŸ¥çš„â€”â€”æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨è®¡ç®—æœºè§†è§‰æ¢å¤åœºæ™¯çš„æ¨¡å‹ï¼Œè€Œä¸æ˜¯æ¸²æŸ“é¢„å®šä¹‰çš„CGIèµ„äº§ã€‚å› æ­¤ï¼ŒMip-NeRFå¿…é¡»åœ¨è®­ç»ƒæœŸé—´å­¦ä¹ åœºæ™¯çš„é¢„è¿‡æ»¤è¡¨ç¤º</li><li>å…¶æ¬¡ï¼Œ<strong>æˆ‘ä»¬çš„å°ºåº¦æ¦‚å¿µæ˜¯è¿ç»­çš„</strong>ï¼Œè€Œä¸æ˜¯ç¦»æ•£çš„ã€‚mip-NeRFä¸æ˜¯åœ¨å›ºå®šæ•°é‡çš„å°ºåº¦ä¸Šä½¿ç”¨å¤šä¸ªå‰¯æœ¬æ¥è¡¨ç¤ºåœºæ™¯(æ¯”å¦‚åœ¨mipmapä¸­)ï¼Œè€Œæ˜¯å­¦ä¹ ä¸€ä¸ªå¯ä»¥åœ¨ä»»æ„å°ºåº¦ä¸ŠæŸ¥è¯¢çš„å•ä¸€ç¥ç»åœºæ™¯æ¨¡å‹ã€‚</li></ul></li></ul></li><li>Scene Representations for View Synthesis<ul><li>å¯¹äºè§†å›¾åˆæˆä»»åŠ¡ï¼Œå·²ç»æå‡ºäº†å„ç§åœºæ™¯è¡¨ç¤º:ä½¿ç”¨è§‚å¯Ÿåˆ°çš„åœºæ™¯å›¾åƒæ¥æ¢å¤è¡¨ç¤ºï¼Œæ”¯æŒä»æœªè§‚å¯Ÿåˆ°çš„æ‘„åƒæœºè§†ç‚¹æ¸²æŸ“åœºæ™¯çš„æ–°é¢–é€¼çœŸå›¾åƒã€‚å½“åœºæ™¯çš„å›¾åƒè¢«å¯†é›†æ•è·æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…‰åœºæ’å€¼æŠ€æœ¯[9,14,22]æ¥æ¸²æŸ“æ–°çš„è§†å›¾ï¼Œè€Œæ— éœ€é‡å»ºåœºæ™¯çš„ä¸­é—´è¡¨ç¤ºã€‚ä¸é‡‡æ ·å’Œæ··å ç›¸å…³çš„é—®é¢˜å·²åœ¨æ­¤è®¾ç½®ä¸­è¿›è¡Œäº†æ·±å…¥ç ”ç©¶[7]ã€‚</li><li>ä»ç¨€ç–æ•è·çš„å›¾åƒåˆæˆæ–°è§†å›¾çš„æ–¹æ³•é€šå¸¸é‡å»ºåœºæ™¯çš„3Då‡ ä½•å½¢çŠ¶å’Œå¤–è§‚çš„æ˜ç¡®è¡¨ç¤ºã€‚è®¸å¤šç»å…¸çš„è§†å›¾åˆæˆç®—æ³•ä½¿ç”¨åŸºäºç½‘æ ¼çš„è¡¨ç¤ºä»¥åŠæ¼«å°„[28]æˆ–è§†å›¾ç›¸å…³[6,10,48]çº¹ç†ã€‚<ul><li>Mesh-basedï¼š<strong>åŸºäºç½‘æ ¼</strong>çš„è¡¨ç¤ºå¯ä»¥æœ‰æ•ˆåœ°å­˜å‚¨ï¼Œå¹¶ä¸”è‡ªç„¶åœ°ä¸ç°æœ‰çš„å›¾å½¢æ¸²æŸ“ç®¡é“å…¼å®¹ã€‚ç„¶è€Œï¼Œç”±äºä¸è¿ç»­æ€§å’Œå±€éƒ¨æœ€å°å€¼ï¼Œä½¿ç”¨åŸºäºæ¢¯åº¦çš„æ–¹æ³•æ¥ä¼˜åŒ–ç½‘æ ¼å‡ ä½•å’Œæ‹“æ‰‘é€šå¸¸æ˜¯å›°éš¾çš„ã€‚å› æ­¤ï¼Œä½“ç§¯è¡¨ç¤ºåœ¨è§†å›¾åˆæˆä¸­å˜å¾—è¶Šæ¥è¶Šæµè¡Œã€‚</li><li>æ—©æœŸçš„æ–¹æ³•ç›´æ¥ä½¿ç”¨è§‚å¯Ÿåˆ°çš„å›¾åƒå¯¹ä½“ç´ ç½‘æ ¼ç€è‰²[37]ï¼Œè€Œæœ€è¿‘çš„ä½“ç§¯æ–¹æ³•ä½¿ç”¨åŸºäºæ¢¯åº¦çš„å­¦ä¹ æ¥è®­ç»ƒæ·±åº¦ç½‘ç»œæ¥é¢„æµ‹åœºæ™¯çš„ä½“ç´ ç½‘æ ¼è¡¨ç¤º[12,25,29,38,41,53]ã€‚<strong>åŸºäºç¦»æ•£ä½“ç´ </strong>çš„è¡¨ç¤ºå¯¹äºè§†å›¾åˆæˆæ˜¯æœ‰æ•ˆçš„ï¼Œä½†å®ƒä»¬ä¸èƒ½å¾ˆå¥½åœ°æ‰©å±•åˆ°æ›´é«˜åˆ†è¾¨ç‡çš„åœºæ™¯</li><li>coordinate-basedï¼šè®¡ç®—æœºè§†è§‰å’Œå›¾å½¢å­¦ç ”ç©¶çš„æœ€æ–°è¶‹åŠ¿æ˜¯ç”¨<strong>åŸºäºåæ ‡</strong>çš„ç¥ç»è¡¨ç¤ºå–ä»£è¿™äº›ç¦»æ•£è¡¨ç¤ºï¼Œå°†3Dåœºæ™¯è¡¨ç¤ºä¸ºç”±mlpå‚æ•°åŒ–çš„è¿ç»­å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä»3Dåæ ‡æ˜ å°„åˆ°è¯¥ä½ç½®çš„åœºæ™¯å±æ€§ã€‚ä¸€äº›æœ€è¿‘çš„æ–¹æ³•ä½¿ç”¨åŸºäºåæ ‡çš„ç¥ç»è¡¨å¾å°†åœºæ™¯å»ºæ¨¡ä¸ºéšå¼æ›²é¢[31,50]ï¼Œä½†æœ€è¿‘çš„å¤§å¤šæ•°è§†å›¾åˆæˆæ–¹æ³•éƒ½æ˜¯åŸºäºä½“ç§¯NeRFè¡¨å¾[30]ã€‚NeRFå¯å‘äº†è®¸å¤šåç»­ä½œå“ï¼Œå°†å…¶è¿ç»­ç¥ç»ä½“è¡¨ç¤ºæ‰©å±•åˆ°ç”Ÿæˆå»ºæ¨¡[8,36]ï¼ŒåŠ¨æ€åœºæ™¯[23,33]ï¼Œéåˆšæ€§å˜å½¢ç‰©ä½“[13,34]ï¼Œå…·æœ‰å˜åŒ–ç…§æ˜å’Œé®æŒ¡ç‰©çš„æ‘„å½±æ—…æ¸¸è®¾ç½®[26,43]ï¼Œä»¥åŠç”¨äºé‡ç…§æ˜çš„åå°„å»ºæ¨¡[2,3,40]</li><li>åœ¨ä½¿ç”¨åŸºäºåæ ‡çš„ç¥ç»è¡¨ç¤ºçš„è§†å›¾åˆæˆä¸Šä¸‹æ–‡ä¸­ï¼Œå¯¹é‡‡æ ·å’Œæ··å é—®é¢˜çš„å…³æ³¨ç›¸å¯¹è¾ƒå°‘ã€‚ç”¨äºè§†å›¾åˆæˆçš„ç¦»æ•£è¡¨ç¤ºï¼Œå¦‚å¤šè¾¹å½¢ç½‘æ ¼å’Œä½“ç´ ç½‘æ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„å¤šå°ºåº¦é¢„æ»¤æ³¢æ–¹æ³•(å¦‚mipmapså’Œå…«å‰æ ‘)æœ‰æ•ˆåœ°æ¸²æŸ“è€Œä¸å­˜åœ¨æ··å ã€‚ç„¶è€Œï¼ŒåŸºäºåæ ‡çš„è§†å›¾åˆæˆçš„ç¥ç»è¡¨ç¤ºç›®å‰åªèƒ½ä½¿ç”¨è¶…é‡‡æ ·æ¥æŠ—é”¯é½¿ï¼Œè¿™åŠ å‰§äº†å®ƒä»¬å·²ç»ç¼“æ…¢çš„æ¸²æŸ“è¿‡ç¨‹ã€‚Takikawaç­‰äººæœ€è¿‘çš„å·¥ä½œ[42]æå‡ºäº†ä¸€ç§åŸºäºç¨€ç–ä½“ç´ å…«å‰æ ‘çš„å¤šå°ºåº¦è¡¨ç¤ºï¼Œç”¨äºéšå¼è¡¨é¢çš„è¿ç»­ç¥ç»è¡¨ç¤ºï¼Œä½†ä»–ä»¬çš„æ–¹æ³•<strong>è¦æ±‚åœºæ™¯å‡ ä½•æ˜¯å…ˆéªŒçš„</strong>ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬çš„è§†å›¾åˆæˆè®¾ç½®ï¼Œå…¶ä¸­å”¯ä¸€çš„è¾“å…¥æ˜¯è§‚å¯Ÿåˆ°çš„å›¾åƒã€‚</li><li>Mip-NeRFè§£å†³äº†è¿™ä¸ªå¼€æ”¾çš„é—®é¢˜ï¼Œåœ¨è®­ç»ƒå’Œæµ‹è¯•æœŸé—´å®ç°äº†æŠ—æ··å å›¾åƒçš„é«˜æ•ˆæ¸²æŸ“ï¼Œä»¥åŠåœ¨è®­ç»ƒæœŸé—´ä½¿ç”¨å¤šå°ºåº¦å›¾åƒã€‚</li></ul></li></ul></li></ul><h3 id="Preliminaries-NeRF"><a href="#Preliminaries-NeRF" class="headerlink" title="Preliminaries: NeRF"></a>Preliminaries: NeRF</h3><p>NeRFé‡‡æ ·ï¼šå°„çº¿r(t) = o + tdä»ç›¸æœºçš„æŠ•å½±oçš„ä¸­å¿ƒæ²¿æ–¹å‘å‘å°„ï¼Œä½¿å…¶ç©¿è¿‡åƒç´ ã€‚ç”¨äºç¡®å®šç›¸æœºé¢„å®šä¹‰çš„è¿‘å¹³é¢å’Œè¿œå¹³é¢tnå’Œtfä¹‹é—´æ’åºè·ç¦»tçš„å‘é‡ã€‚å¯¹äºæ¯ä¸ªè·ç¦»tkâˆˆtï¼Œæˆ‘ä»¬è®¡ç®—å®ƒåœ¨å°„çº¿x = r(tk)ä¸Šå¯¹åº”çš„3Dä½ç½®ï¼Œç„¶åä½¿ç”¨ä½ç½®ç¼–ç å¯¹æ¯ä¸ªä½ç½®è¿›è¡Œç¼–ç ï¼Œç¼–ç åè¾“å…¥è¿›MLPå¾—åˆ°å¯†åº¦å’Œé¢œè‰²</p><ul><li>NeRFçš„ä¿çœŸåº¦ä¸»è¦å–å†³äºä½ç½®ç¼–ç çš„ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸å°†åœºæ™¯å‚æ•°åŒ–çš„MLPè¡¨ç°ä¸ºæ’å€¼å‡½æ•°ï¼Œå…¶ä¸­Lå†³å®šæ’å€¼å†…æ ¸çš„å¸¦å®½</li></ul><p>è®­ç»ƒNeRFå¾ˆç®€å•:ä½¿ç”¨ä¸€ç»„å·²çŸ¥ç›¸æœºå§¿åŠ¿çš„è§‚å¯Ÿå›¾åƒï¼Œæˆ‘ä»¬ä½¿ç”¨æ¢¯åº¦ä¸‹é™æœ€å°åŒ–æ‰€æœ‰è¾“å…¥åƒç´ å€¼å’Œæ‰€æœ‰é¢„æµ‹åƒç´ å€¼ä¹‹é—´çš„å¹³æ–¹å·®ä¹‹å’Œã€‚<br>æ„å»ºäº†ä¸¤ä¸ªMLPï¼Œä¸€ç²—ä¸€ç²¾ï¼Œä¸¤è€…ç»“åˆè¿›è¡Œé¢„æµ‹colorå’Œdensity<br>$\begin{aligned}\min_{\Theta^c,\Theta^f}\sum_{\mathbf{r}\in\mathcal{R}}\left(\left|\mathbf{C}^<em>(\mathbf{r})-\mathbf{C}(\mathbf{r};\Theta^c,\mathbf{t}^c)\right|_2^2\+\left|\mathbf{C}^</em>(\mathbf{r})-\mathbf{C}(\mathbf{r};\Theta^f,\text{sort}(\mathbf{t}^c\cup\mathbf{t}^f))\right|_2^2\right)\end{aligned}$</p><ul><li>ç²—é‡‡æ ·ï¼šå‡åŒ€é‡‡æ ·64ä¸ªç‚¹$t^f$</li><li>ç²¾é‡‡æ ·ï¼šç»è¿‡ç²—MLPâ€”â€”æƒé‡å‚æ•°$\Theta^c$è®¡ç®—å¾—åˆ°çš„å¯†åº¦ï¼Œç„¶åè®¡ç®—å‡ºæƒé‡ï¼Œä½¿ç”¨é€†å˜æ¢é‡‡æ ·å¾—åˆ°128ä¸ªç²¾é‡‡æ ·ç‚¹</li><li>æœ€åä½¿ç”¨æ€»å…±192ä¸ªé‡‡æ ·ç‚¹ï¼Œä½¿ç”¨ç²¾MLPå¾—å‡ºå¯†åº¦å’Œé¢œè‰²</li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230721140121.png" alt="image.png"></p><p>NeRFçš„å·¥ä½œåŸç†æ˜¯æ²¿ç€æ¯ä¸ªåƒç´ çš„å°„çº¿æå–ç‚¹é‡‡æ ·çš„ä½ç½®ç¼–ç ç‰¹å¾(è¿™é‡Œæ˜¾ç¤ºä¸ºç‚¹)ã€‚è¿™äº›ç‚¹é‡‡æ ·ç‰¹å¾å¿½ç•¥äº†æ¯æ¡å°„çº¿æ‰€è§‚å¯Ÿåˆ°çš„ä½“ç§¯çš„å½¢çŠ¶å’Œå¤§å°ï¼Œå› æ­¤ä¸¤å°ä¸åŒçš„ç›¸æœºåœ¨ä¸åŒå°ºåº¦ä¸‹å¯¹åŒä¸€ä½ç½®æˆåƒå¯èƒ½ä¼šäº§ç”Ÿ<strong>ç›¸åŒçš„æ¨¡ç³Šç‚¹é‡‡æ ·ç‰¹å¾</strong>ï¼Œä»è€Œæ˜¾è‘—é™ä½äº†NeRFçš„æ€§èƒ½ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒMip-NeRFæŠ•å°„é”¥è€Œä¸æ˜¯å°„çº¿ï¼Œå¹¶æ˜ç¡®åœ°å¯¹æ¯ä¸ªé‡‡æ ·çš„é”¥å½¢æˆªä½“(åœ¨è¿™é‡Œæ˜¾ç¤ºä¸ºæ¢¯å½¢)çš„ä½“ç§¯è¿›è¡Œå»ºæ¨¡ï¼Œä»è€Œè§£å†³äº†è¿™ç§æ¨¡ç³Šæ€§ã€‚</p><p>MipNeRFé€šè¿‡ä»æ¯ä¸ªåƒç´ æŠ•å°„ä¸€ä¸ªé”¥ä½“æ¥æ”¹å–„è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬ä¸æ˜¯æ²¿ç€æ¯æ¡å°„çº¿è¿›è¡Œç‚¹é‡‡æ ·ï¼Œè€Œæ˜¯å°†è¢«æŠ•å°„çš„é”¥ä½“åˆ’åˆ†ä¸ºä¸€ç³»åˆ—é”¥å½¢æˆªé”¥(å‚ç›´äºå…¶è½´çº¿åˆ‡å‰²çš„é”¥ä½“)ã€‚æˆ‘ä»¬ä¸æ˜¯ä»ç©ºé—´ä¸­çš„æ— é™å°ç‚¹æ„é€ ä½ç½®ç¼–ç (PE)ç‰¹å¾ï¼Œè€Œæ˜¯æ„é€ ä¸€ä¸ªç”±æ¯ä¸ªåœ†é”¥æˆªä½“æ‰€è¦†ç›–çš„ä½“ç§¯çš„é›†æˆä½ç½®ç¼–ç (IPE)è¡¨ç¤ºã€‚è¿™äº›å˜åŒ–ä½¿MLPèƒ½å¤Ÿæ¨æ–­å‡ºæ¯ä¸ªé”¥å½¢æˆªé”¥ä½“çš„å¤§å°å’Œå½¢çŠ¶ï¼Œè€Œä¸ä»…ä»…æ˜¯å®ƒçš„è´¨å¿ƒã€‚é”¥å½¢é”¥å°å’ŒIPEç‰¹å¾çš„ä½¿ç”¨ä¹Ÿä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†NeRFçš„ä¸¤ä¸ªç‹¬ç«‹çš„â€œç²—â€å’Œâ€œç»†â€MLPå‡å°‘åˆ°ä¸€ä¸ªå•ä¸€çš„å¤šå°ºåº¦MLPï¼Œä»è€Œæé«˜äº†è®­ç»ƒå’Œè¯„ä¼°é€Ÿåº¦ï¼Œå¹¶å°†æ¨¡å‹å¤§å°å‡å°‘äº†50%ã€‚</p><h2 id="Cone-Tracing-and-Positional-Encoding"><a href="#Cone-Tracing-and-Positional-Encoding" class="headerlink" title="Cone Tracing and Positional Encoding"></a>Cone Tracing and Positional Encoding</h2><p>mipNeRFä¸­çš„å›¾åƒä¸€æ¬¡æ¸²æŸ“ä¸€ä¸ªåƒç´ ï¼Œå¯¹äºè¯¥åƒç´ ï¼Œæˆ‘ä»¬ä»ç›¸æœºçš„æŠ•å½±ä¸­å¿ƒoæ²¿ç©¿è¿‡åƒç´ ä¸­å¿ƒçš„æ–¹å‘dæŠ•å°„ä¸€ä¸ªé”¥ä½“</p><ul><li>åœ†é”¥é¡¶ç‚¹ä¸ºoï¼Œåœ¨åƒå¹³é¢ä¸ŠåŠå¾„$\dot r$ï¼Œä»¥$\frac{2}{\sqrt{12}}$ç¼©æ”¾ä¸–ç•Œåæ ‡ç³»ä¸‹çš„åƒç´ å®½åº¦å¾—åˆ°ã€‚ </li></ul><p>ä½äºä¸¤ä¸ªtå€¼[t0, t1]ä¹‹é—´çš„é”¥å½¢æˆªé”¥å†…ä½ç½®xçš„é›†åˆï¼š</p><script type="math/tex; mode=display">\begin{aligned}\mathrm{F}(\mathbf{x},\mathbf{o},\mathbf{d},\dot{r},t_0,t_1)&=\mathbb{1}\bigg\{\bigg(t_0<\frac{\mathbf{d}^\mathrm{T}(\mathbf{x}-\mathbf{o})}{\left\|\mathbf{d}\right\|_2^2}<t_1\bigg)\\\land\bigg(\frac{\mathbf{d}^\mathrm{T}(\mathbf{x}-\mathbf{o})}{\left\|\mathbf{d}\right\|_2\left\|\mathbf{x}-\mathbf{o}\right\|_2}>\frac{1}{\sqrt{1+(\dot{r}/\left\|\mathbf{d}\right\|_2)^2}}\bigg)\bigg\},\end{aligned}</script><ul><li>$\mathbb{1}(\cdot)$æŒ‡æ ‡å‡½æ•°ï¼Œiff xåœ¨$(\mathbf{o},\mathbf{d},\dot{r},t_0,t_1)$å®šä¹‰çš„åœ†é”¥å†…F(x, Â·) = 1</li><li>ä¸ $\land$ ï¼Œ æˆ–$\vee$</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230721125154.png" alt="image.png"></p><p>æˆ‘ä»¬ç°åœ¨å¿…é¡»æ„é€ ä¸€ä¸ªåœ†é”¥å½¢æˆªä½“å†…ä½“ç§¯çš„ç‰¹å¾è¡¨ç¤ºã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œè¿™ç§ç‰¹å¾è¡¨ç¤ºåº”è¯¥ä¸NeRFä¸­ä½¿ç”¨çš„ä½ç½®ç¼–ç ç‰¹å¾å…·æœ‰ç›¸ä¼¼çš„å½¢å¼ï¼Œæ­£å¦‚Mildenhallç­‰äººæ‰€è¡¨æ˜çš„ï¼Œè¿™ç§ç‰¹å¾è¡¨ç¤ºå¯¹NeRFçš„æˆåŠŸè‡³å…³é‡è¦[30]ã€‚å¯¹æ­¤æœ‰è®¸å¤šå¯è¡Œçš„æ–¹æ³•(å‚è§é™„å½•ä»¥è¿›ä¸€æ­¥è®¨è®º)ï¼Œä½†æˆ‘ä»¬å‘ç°çš„æœ€ç®€å•å’Œæœ€æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯<strong>ç®€å•åœ°è®¡ç®—åœ†é”¥é”¥å†…æ‰€æœ‰åæ ‡çš„é¢„æœŸä½ç½®ç¼–ç </strong>:</p><p>$\gamma^*(\mathbf{o},\mathbf{d},\dot{r},t_0,t_1)=\frac{\int\gamma(\mathbf{x})\mathrm{F}(\mathbf{x},\mathbf{o},\mathbf{d},\dot{r},t_0,t_1)d\mathbf{x}}{\int\mathrm{F}(\mathbf{x},\mathbf{o},\mathbf{d},\dot{r},t_0,t_1)d\mathbf{x}}.$</p><p>ç„¶è€Œï¼Œç›®å‰å°šä¸æ¸…æ¥šå¦‚ä½•æœ‰æ•ˆåœ°è®¡ç®—è¿™æ ·çš„ç‰¹å¾ï¼Œå› ä¸ºåˆ†å­ä¸­çš„ç§¯åˆ†æ²¡æœ‰å°é—­å½¢å¼çš„è§£ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç”¨å¤šå…ƒé«˜æ–¯å‡½æ•°è¿‘ä¼¼é”¥å½¢æˆªé”¥ä½“ï¼Œè¿™å…è®¸å¯¹æ‰€éœ€ç‰¹å¾è¿›è¡Œæœ‰æ•ˆé€¼è¿‘ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºâ€œ<strong>é›†æˆä½ç½®ç¼–ç </strong>â€(IPE)ã€‚</p><p>ä¸ºäº†ç”¨<strong>å¤šå…ƒé«˜æ–¯å‡½æ•°è¿‘ä¼¼åœ†é”¥ä½“</strong>ï¼Œæˆ‘ä»¬å¿…é¡»è®¡ç®—å¹³å‡å€¼å’Œåæ–¹å·®of F(xï¼ŒÂ·)ã€‚å› ä¸º<strong>å‡è®¾æ¯ä¸ªåœ†é”¥æˆªä½“éƒ½æ˜¯åœ†å½¢çš„</strong>ï¼Œ<strong>å¹¶ä¸”å› ä¸ºåœ†é”¥æˆªä½“å›´ç»•é”¥è½´æ˜¯å¯¹ç§°çš„</strong>ï¼Œè¿™æ ·çš„<strong>é«˜æ–¯åˆ†å¸ƒå®Œå…¨ç”±ä¸‰ä¸ªå€¼</strong>(é™¤äº†oå’Œdä¹‹å¤–)è¡¨å¾:æ²¿å°„çº¿çš„å¹³å‡è·ç¦»$Î¼_t$ï¼Œæ²¿å°„çº¿$Ïƒ^{2}_{t}$çš„æ–¹å·®ï¼Œå‚ç›´äºå°„çº¿$Ïƒ^{2}_{r}$çš„æ–¹å·®:</p><p>$\begin{aligned}\mu_t&amp;=t_\mu+\frac{2t_\mu t_\delta^2}{3t_\mu^2+t_\delta^2},\quad\sigma_t^2=\frac{t_\delta^2}{3}-\frac{4t_\delta^4(12t_\mu^2-t_\delta^2)}{15(3t_\mu^2+t_\delta^2)^2},\\\sigma_r^2&amp;=\dot{r}^2\bigg(\frac{t_\mu^2}{4}+\frac{5t_\delta^2}{12}-\frac{4t_\delta^4}{15(3t_\mu^2+t_\delta^2)}\bigg).\end{aligned}$</p><p>å…¶ä¸­$t_{\mu} = \frac{t_{0} + t_{1}}{2}$,$t_{\delta} = \frac{t_{1}-t_{0}}{2}$</p><p>æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé«˜æ–¯å‡½æ•°ä»é”¥å½¢æˆªé”¥ä½“çš„åæ ‡ç³»è½¬æ¢ä¸º<strong>å¦‚ä¸‹çš„ä¸–ç•Œåæ ‡</strong>:</p><p>$\mu=\mathbf{o}+\mu_t\mathbf{d},\quad\Sigma=\sigma_t^2\big(\mathbf{d}\mathbf{d}^\mathrm{T}\big)+\sigma_r^2\bigg(\mathbf{I}-\frac{\mathbf{d}\mathbf{d}^\mathrm{T}}{\left|\mathbf{d}\right|_2^2}\bigg)$,å¾—åˆ°æœ€ç»ˆçš„å¤šå…ƒé«˜æ–¯å‡½æ•°ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬<strong>æ¨å¯¼å‡ºIPE</strong>ï¼Œå®ƒæ˜¯æ ¹æ®å‰é¢æåˆ°çš„é«˜æ–¯åˆ†å¸ƒçš„ä½ç½®ç¼–ç åæ ‡çš„æœŸæœ›ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œé¦–å…ˆå°†å…¬å¼1ä¸­çš„PEé‡å†™ä¸ºå‚…é‡Œå¶ç‰¹å¾[35,44]æ˜¯æœ‰å¸®åŠ©çš„:</p><p>$\gamma(\mathbf{x})=\Big[\sin(\mathbf{x}),\cos(\mathbf{x}),\ldots,\sin\bigl(2^{L-1}\mathbf{x}\bigr),\cos\bigl(2^{L-1}\mathbf{x}\bigr)\Big]^{\mathrm{T}.}$</p><p>$\mathbf{P}=\begin{bmatrix}1&amp;0&amp;0&amp;2&amp;0&amp;0&amp; \cdots &amp;2^{L-1}&amp;0&amp;0\\0&amp;1&amp;0&amp;0&amp;2&amp;0&amp;\cdots&amp;0&amp;2^{L-1}&amp;0\\0&amp;0&amp;1&amp;0&amp;0&amp;2&amp; \cdots &amp;0&amp;0&amp;2^{L-1}\end{bmatrix},\gamma(\mathbf{x})=\begin{bmatrix}\sin(\mathbf{Px})\\\cos(\mathbf{Px})\end{bmatrix}.$</p><p>$\mathrm{(Cov[Ax,By]~=~A~Cov[x,y]B^T)}$</p><p>å‡å€¼å’Œåæ–¹å·®ï¼š$\mu_{\gamma}=\mathrm{P}\mu,\quad\Sigma_{\gamma}=\mathrm{P}\Sigma\mathrm{P}^{\mathrm{T}}.$</p><p>äº§ç”ŸIPEç‰¹å¾çš„æœ€åä¸€æ­¥æ˜¯è®¡ç®—è¿™ä¸ªæå‡çš„<strong>å¤šå…ƒé«˜æ–¯çš„æœŸæœ›</strong>ï¼Œç”±ä½ç½®çš„æ­£å¼¦å’Œä½™å¼¦è°ƒåˆ¶ã€‚è¿™äº›æœŸæœ›æœ‰ç®€å•çš„å°é—­å½¢å¼è¡¨è¾¾å¼:</p><p>$\begin{aligned}\operatorname{E}_{x\sim\mathcal{N}(\mu,\sigma^2)}[\sin(x)]&amp;=\sin(\mu)\exp\Big(-(^1/2)\sigma^2\Big),\\\operatorname{E}_{x\sim\mathcal{N}(\mu,\sigma^2)}[\cos(x)]&amp;=\cos(\mu)\exp\Big(-(^1/2)\sigma^2\Big).\end{aligned}$</p><p>æˆ‘ä»¬çœ‹åˆ°è¿™ä¸ªæœŸæœ›çš„æ­£å¼¦æˆ–ä½™å¼¦ä»…ä»…æ˜¯å‡å€¼çš„æ­£å¼¦æˆ–ä½™å¼¦è¢«æ–¹å·®çš„é«˜æ–¯å‡½æ•°è¡°å‡ã€‚æœ‰äº†è¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—æˆ‘ä»¬çš„<strong>æœ€ç»ˆIPEç‰¹å¾</strong>as æœŸæœ›çš„æ­£å¼¦å’Œä½™å¼¦çš„å¹³å‡å€¼å’Œåæ–¹å·®çŸ©é˜µçš„å¯¹è§’çº¿:</p><script type="math/tex; mode=display">\begin{aligned}\gamma(\mathbf{\mu},\mathbf{\Sigma})& =\mathrm{E}_{\mathbf{x}\sim\mathcal{N}(\mathbf{\mu}_\gamma,\mathbf{\Sigma}_\gamma)}[\gamma(\mathbf{x})]  \\&=\begin{bmatrix}\sin(\mathbf{\mu}_\gamma)\circ\exp(-(1/2)\mathrm{diag}(\mathbf{\Sigma}_\gamma))\\\cos(\mathbf{\mu}_\gamma)\circ\exp(-(1/2)\mathrm{diag}(\mathbf{\Sigma}_\gamma))\end{bmatrix}\end{aligned}</script><p>$\circ$è¡¨ç¤ºé€å…ƒç´ çš„ä¹˜æ³•ã€‚å› ä¸ºä½ç½®ç¼–ç ç‹¬ç«‹åœ°ç¼–ç æ¯ä¸ªç»´åº¦ï¼Œè¿™ç§é¢„æœŸçš„ç¼–ç åªä¾èµ–äº$\gamma(x)$çš„è¾¹é™…åˆ†å¸ƒï¼Œå¹¶ä¸”åªéœ€è¦åæ–¹å·®çŸ©é˜µçš„å¯¹è§’çº¿(æ¯ä¸ªç»´åº¦æ–¹å·®çš„å‘é‡)ã€‚Because$\sum_{\gamma}$ç”±äºå…¶ç›¸å¯¹è¾ƒå¤§çš„å°ºå¯¸ï¼Œè®¡ç®—æˆæœ¬è¿‡é«˜ï¼Œæˆ‘ä»¬ç›´æ¥è®¡ç®—$\sum_{\gamma}$çš„å¯¹è§’çº¿:$\operatorname{diag}(\mathbf{\Sigma}_{\gamma})=\Big[\operatorname{diag}(\mathbf{\Sigma}),4\operatorname{diag}(\mathbf{\Sigma}),\ldots,4^{L-1}\operatorname{diag}(\mathbf{\Sigma})\Big]^\mathrm{T}$</p><p><strong>è¿™ä¸ªå‘é‡åªä¾èµ–äº3Dä½ç½®çš„åæ–¹å·®Î£çš„å¯¹è§’çº¿ï¼Œå¯ä»¥è®¡ç®—ä¸º</strong>:</p><p>$\operatorname{diag}(\mathbf{\Sigma})=\sigma_t^2(\mathbf{d}\circ\mathbf{d})+\sigma_r^2\left(\mathbf{1}-\frac{\mathbf{d}\circ\mathbf{d}}{\left|\mathbf{d}\right|_2^2}\right).$</p><p>å¦‚æœç›´æ¥è®¡ç®—è¿™äº›å¯¹è§’çº¿ï¼Œé‚£ä¹ˆæ„å»ºIPEç‰¹å¾çš„æˆæœ¬ä¸æ„å»ºPEç‰¹å¾çš„æˆæœ¬å¤§è‡´ç›¸åŒã€‚</p><p>In a toy 1D domain :  IPE å’Œä¼ ç»Ÿ PE ç‰¹å¾ä¹‹é—´çš„å·®å¼‚<br>IPE ç‰¹å¾çš„è¡Œä¸ºç›´è§‚ï¼šå¦‚æœä½ç½®ç¼–ç ä¸­çš„ç‰¹å®šé¢‘ç‡æœ‰ä¸€ä¸ªå¤§äºç”¨äºæ„å»º IPE ç‰¹å¾çš„åŒºé—´å®½åº¦çš„å‘¨æœŸï¼Œåˆ™<strong>è¯¥é¢‘ç‡å¤„çš„ç¼–ç ä¸å—å½±å“</strong>ã€‚ä½†æ˜¯å¦‚æœå‘¨æœŸå°äºåŒºé—´ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥åŒºé—´ä¸Šçš„ PE å°†é‡å¤æŒ¯è¡ï¼‰ï¼Œ<strong>é‚£ä¹ˆè¯¥é¢‘ç‡å¤„çš„ç¼–ç ä¼šç¼©å°åˆ°é›¶</strong>ã€‚ï¼ˆsinã€cos: è®¸å¤šäº¤å‰çš„-1å’Œ1å¯¼è‡´ç§¯åˆ†åç¼–ç å˜ä¸º0ï¼Œå¦‚å›¾ï¼‰<br>ç®€è€Œè¨€ä¹‹ï¼ŒIPE ä¿ç•™äº†åœ¨åŒºé—´ä¸Šæ’å®šçš„é¢‘ç‡ï¼Œå¹¶è½¯â€œåˆ é™¤â€é¢‘ç‡åœ¨åŒºé—´ä¸Šå˜åŒ–ï¼Œè€Œ PE ä¿ç•™äº†ç›´åˆ°æŸä¸ªæ‰‹åŠ¨è°ƒæ•´çš„è¶…å‚æ•° L çš„æ‰€æœ‰é¢‘ç‡ã€‚<br>é€šè¿‡ä»¥è¿™ç§æ–¹å¼ç¼©æ”¾æ¯ä¸ªæ­£å¼¦å’Œä½™å¼¦ï¼ŒIPE ç‰¹å¾å®é™…ä¸Šæ˜¯æŠ—é”¯é½¿ä½ç½®ç¼–ç ç‰¹å¾ï¼Œå¯ä»¥å¹³æ»‘åœ°ç¼–ç ç©ºé—´ä½“ç§¯çš„å¤§å°å’Œå½¢çŠ¶ã€‚IPE è¿˜æœ‰æ•ˆåœ°å°† L ä»è¶…å‚æ•°ä¸­åˆ é™¤ï¼šå®ƒå¯ä»¥ç®€å•åœ°è®¾ç½®ä¸ºéå¸¸å¤§çš„å€¼ï¼Œç„¶åæ°¸è¿œä¸ä¼šè°ƒæ•´</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/ipe_anim_horiz.gif" alt="ipe_anim_horiz.gif"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230721153610.png" alt="image.png"></p><h2 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h2><p>é™¤äº†é”¥è·Ÿè¸ªå’ŒIPEç‰¹å¾å¤–ï¼Œmip-NeRFçš„è¡Œä¸ºç±»ä¼¼äºNeRFï¼Œå¦‚ç¬¬2.1èŠ‚æ‰€è¿°ã€‚<br>å¯¹äºæ¸²æŸ“çš„æ¯ä¸ªåƒç´ ï¼Œè€Œä¸æ˜¯åƒNeRFä¸­é‚£æ ·çš„å…‰çº¿ï¼ŒæŠ•å°„ä¸€ä¸ªé”¥ä½“ã€‚æˆ‘ä»¬æ²¡æœ‰æ²¿å°„çº¿é‡‡æ ·$t_{k}$çš„nä¸ªå€¼ï¼Œè€Œæ˜¯é‡‡æ ·$t_{k}$çš„n + 1ä¸ªå€¼ï¼Œ<strong>è®¡ç®—è·¨è¶Šæ¯å¯¹ç›¸é‚»é‡‡æ ·$t_{k}$å€¼çš„åŒºé—´çš„IPEç‰¹å¾</strong>ï¼Œå¦‚å‰æ‰€è¿°ï¼Œè¿™äº›IPEç‰¹å¾ä½œä¸ºè¾“å…¥ä¼ é€’åˆ°MLPä¸­ï¼Œä»¥äº§ç”Ÿå¯†åº¦å’Œé¢œè‰²ï¼Œå¦‚å…¬å¼2æ‰€ç¤ºã€‚mip-NeRFä¸­çš„æ¸²æŸ“éµå¾ªå…¬å¼3ã€‚</p><p>$\forall t_k\in\mathbf{t},\quad[\tau_k,\mathbf{c}_k]=\mathrm{MLP}(\gamma(\mathbf{r}(t_k));\Theta).$</p><p>$\begin{aligned}\mathbf{C}(\mathbf{r};\Theta,\mathbf{t})&amp;=\sum_kT_k(1-\exp(-\tau_k(t_{k+1}-t_k)))\mathbf{c}_k,\\\text{with}\quad T_k&amp;=\exp\left(-\sum_{kâ€™&lt;k}\tau_{kâ€™}(t_{kâ€™+1}-t_{kâ€™})\right),\end{aligned}$</p><p>æˆ‘ä»¬çš„åœ†é”¥å˜æ¢å’Œ IPE ç‰¹å¾å…è®¸æˆ‘ä»¬æ˜ç¡®åœ°å°†å°ºåº¦ç¼–ç åˆ°æˆ‘ä»¬çš„è¾“å…¥ç‰¹å¾ä¸­ï¼Œä»è€Œä½¿ MLP èƒ½å¤Ÿå­¦ä¹ åœºæ™¯çš„å¤šå°ºåº¦è¡¨ç¤ºã€‚å› æ­¤ï¼Œ<strong>Mip-nerF ä½¿ç”¨å…·æœ‰å‚æ•° Î˜ çš„å•ä¸ª MLP</strong>ï¼Œæˆ‘ä»¬åœ¨åˆ†å±‚é‡‡æ ·ç­–ç•¥ä¸­åå¤æŸ¥è¯¢ã€‚è¿™æœ‰å¤šä¸ªå¥½å¤„ï¼šæ¨¡å‹å¤§å°è¢«åˆ‡å‰²ä¸€åŠï¼Œæ¸²æŸ“æ›´å‡†ç¡®ï¼Œé‡‡æ ·æ•ˆç‡æ›´é«˜ï¼Œæ•´ä½“ç®—æ³•æ›´ç®€å•ã€‚æˆ‘ä»¬çš„ä¼˜åŒ–é—®é¢˜æ˜¯ï¼š(loss)</p><script type="math/tex; mode=display">\min_{\Theta}\sum_{\mathbf{r}\in\mathcal{R}}(\lambda\left\|\mathbf{C}^{*}(\mathbf{r})-\mathbf{C}(\mathbf{r};\Theta,\mathbf{t}^{c})\right\|_{2}^{2}+\left\|\mathbf{C}^{*}(\mathbf{r})-\mathbf{C}(\mathbf{r};\Theta,\mathbf{t}^{f})\right\|_{2}^{2})</script><p>é€šè¿‡è¶…å‚æ•°$\lambda = 0.1$å®ç°ç²—lossä¸ç²¾lossçš„å¹³è¡¡</p><p>é‡‡æ ·ç‚¹ï¼š</p><ul><li>NeRFï¼šC64+F64+128</li><li>Mip-NeRFï¼šC128+F128</li></ul><p>æƒé‡ï¼š<br>$w_kâ€™=\frac{1}{2}(\max(w_{k-1},w_k)+\max(w_k,w_{k+1}))+\alpha.$</p><ul><li>We filter w with a <strong>2-tap max filter</strong> followed by a 2-tap blur filter (a â€œblurpoolâ€ [51]), which <strong>produces a wide and smooth upper envelopeä¸ŠåŒ…ç»œ</strong> on w</li><li>A hyperparameter Î± is added to that envelope <strong>before it is re-normalized to sum to 1</strong>, which ensures that some samples are drawn even in empty regions of space (we set Î± = 0.01 in all experiments). ç¡®ä¿äº†ç©ºåŒºåŸŸä¹Ÿä¼šæŠ½å–ä¸€äº›æ ·æœ¬</li></ul><p>Mip-NeRF åœ¨ JaxNeRF [11] ä¹‹ä¸Šå®ç°ï¼ŒJaxNeRF æ˜¯ä¸€ç§ JAX [4] é‡æ–°å®ç°çš„ NeRFï¼Œå®ƒå®ç°äº†æ¯”åŸå§‹ TensorFlow å®ç°æ›´é«˜çš„ç²¾åº¦å¹¶è®­ç»ƒé€Ÿåº¦æ›´å¿«ã€‚<br>ç»†èŠ‚ï¼š</p><ul><li>1 million iterations of Adam [19] with a batch size of 4096</li><li>a learning rate that is annealed logarithmically from $5 Â· 10^{âˆ’4}$ to $5 Â· 10^{âˆ’6}$</li></ul><p>æœ‰å…³å…¶ä»–ç»†èŠ‚çš„è¡¥å……ä»¥åŠ JaxNeRF å’Œ mip-NeRF ä¹‹é—´çš„ä¸€äº›é¢å¤–å·®å¼‚ï¼Œè¿™äº›å·®å¼‚ä¸ä¼šæ˜¾ç€å½±å“æ€§èƒ½ï¼Œå¹¶ä¸”æ˜¯æˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®é™„å¸¦çš„ï¼šé”¥ä½“è¿½è¸ªã€IPE å’Œä½¿ç”¨å•ä¸ªå¤šå°ºåº¦ MLPã€‚</p><h1 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h1><p>NeRF-blender datasetä¸Šè¯„ä¼°PSNRã€SSIMã€LPIPSä»¥åŠï¼š<br>To enable easier comparison , we also present an <strong>â€œaverageâ€ error metric</strong> that summarizes all three metrics: the geometric mean of $MSE = 10^{âˆ’PSNR/10}$, $\sqrt{1 âˆ’ SSIM}$ (as per [5]), and LPIPS.</p><p>æˆ‘ä»¬è¿˜æŠ¥å‘Šäº†è¿è¡Œæ—¶(wall timeçš„ä¸­ä½æ•°å’Œä¸­å€¼ç»å¯¹åå·®)ï¼Œä»¥åŠNeRFå’Œmip-NeRFçš„æ¯ä¸ªå˜ä½“çš„ç½‘ç»œå‚æ•°æ•°é‡ã€‚æ‰€æœ‰ JaxNeRF å’Œ mip-NeRF å®éªŒéƒ½åœ¨å…·æœ‰ 32 ä¸ªå†…æ ¸çš„ TPU v2 ä¸Šè¿›è¡Œè®­ç»ƒ</p><p>NeRFåŸå§‹Blenderæ•°æ®é›†ç¼ºé™·ï¼šæ‰€æœ‰ç›¸æœºçš„ç„¦è·å’Œåˆ†è¾¨ç‡ç›¸åŒï¼Œä¸”æ”¾åœ¨ä¸å¯¹è±¡ç›¸åŒçš„è·ç¦»ä¸Š<br>Mip-NeRFæ„å»ºäº†è‡ªå·±çš„å¤šå°ºåº¦Blender benchmarkï¼šç›¸æœºè·ç¦»ç‰©ä½“ä¸åŒï¼Œå¯èƒ½æ”¾å¤§æˆ–ç¼©å°</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Sampling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRF++</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/LargeScaleScene/NeRF++/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/LargeScaleScene/NeRF++/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeRF++: Analyzing and Improving Neural Radiance Fields</th></tr></thead><tbody><tr><td>Author</td><td>Kai Zhang, Gernot Riegler, Noah Snavely, Vladlen Koltun</td></tr><tr><td>Conf/Jour</td><td>arXiv: Computer Vision and Pattern Recognition</td></tr><tr><td>Year</td><td>2020</td></tr><tr><td>Project</td><td><a href="https://github.com/Kai-46/nerfplusplus">Kai-46/nerfplusplus: improves over nerf in 360 capture of unbounded scenes (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4498415698728083457&amp;noteId=1798375069007427072">NeRF++: Analyzing and Improving Neural Radiance Fields. (readpaper.com)</a><br><a href="https://arxiv.org/pdf/2010.07492">arxiv.org/pdf/2010.07492</a><br></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718165249.png" alt="image.png"></p><p>åˆ›æ–°ï¼šä¸€ç§å‰èƒŒæ™¯åˆ†ç¦»çš„æ–¹æ³•<br>æŒ‘æˆ˜ï¼š</p><ul><li>First, the training and testing of NeRF and NeRF++ on a single large-scale scene is quite <strong>time-consuming and memory-intensive</strong> â€”&gt; NGPè§£å†³äº†è€—æ—¶</li><li>Second, <strong>small camera calibration errors</strong> may impedeé˜»ç¢ photorealistic synthesis. Robust loss functions, such as the contextual loss (Mechrez et al., 2018), could be applied.</li><li>Third, photometric effects such as <strong>auto-exposure and vignettingæ¸æ™•</strong> can also be taken into account to increase image fidelity. This line of investigation is related to the lighting changes addressed in the orthogonal work of Martin-Brualla et al. (2020).</li></ul><span id="more"></span><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>We first remark on radiance fields and their potential ambiguities, namely <strong>the shape-radiance ambiguity</strong>, and analyze NeRFâ€™s success in avoiding such ambiguities. Second, we <strong>address a parametrization issue</strong> involved in applying NeRF to 360â—¦ captures of objects within large-scale, unbounded 3D scenes</p><ul><li>inverted sphere parameterization<br>In this technical report, we first <strong>present an analysis of potential failure modes</strong> in NeRF, and an analysis of why NeRF avoids these failure modes in practice. Second, we present <strong>a novel spatial parameterization scheme</strong> that we call <strong>inverted sphere parameterization</strong> that allows NeRF to work on a new class of captures of unbounded scenes.</li></ul><p>Why NeRF success:  åˆ©ç”¨äº†äº®åº¦ä¸è§‚å¯Ÿæ–¹å‘ç›¸å…³çš„ä¸å¯¹ç§°MLPè§£å†³äº†shape-radiance ambiguity<br>In particular, we find that in theory, optimizing the 5D function from a set of training images can <strong>encounter critical degenerate solutions</strong> that fail to generalize to novel test views, in the absence of any regularization. Such phenomena are encapsulatedå°è£… in the shape-radiance ambiguity (Figure 1, left), wherein one can fit a set of training images perfectly for an arbitrary incorrect geometry by a suitable choice of outgoing 2D radiance at each surface point. We empirically show that <strong>the specific MLP structure used in NeRF plays an important role in avoiding such ambiguities,</strong> yielding an impressive ability to synthesize novel views. Our analysis offers a new view into NeRFâ€™s impressive success.</p><p>a spatial parameterization issue: å¯¹äº360åº¦æ‹æ‘„çš„å›¾ç‰‡ï¼Œå¯ä»¥æœ‰ä¸¤ç§å‚æ•°åŒ–çš„æ–¹æ³•</p><ul><li>å¯¹æ•´ä¸ªç©ºé—´å‚æ•°åŒ–ï¼Œå‰èƒŒæ™¯èåˆè¿›è¡Œå»ºæ¨¡ï¼Œä½†ç”±äºåˆ†è¾¨ç‡æœ‰é™è€Œç¼ºä¹ç»†èŠ‚</li><li>åªå¯¹å‰æ™¯ç‰©ä½“å³æ•´ä¸ªåœºæ™¯ä¸­çš„ä¸€ä¸ªboundè¿›è¡Œé‡‡æ ·ï¼Œè¿™æ ·ä¼šä¸¢å¤±æ‰èƒŒæ™¯å…ƒç´ </li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718155708.png" alt="image.png"></p><ul><li>Shape-radiance ambiguity (left) and parameterization of unbounded scenes (right). <ul><li>Shaperadiance ambiguity: our theoretical analysis shows that, in the absence of explicit or implicit regularization, a set of training images can be fit independently of the recovered geometry (e.g., for incorrect scene geometry $\hat S$ rather than correct geometry $S^{âˆ—}$) by exploiting view-dependent radiance to simulate the effect of the correct geometry. </li><li>Parameterization of unbounded scenes:with standard parameterization schemes, either (1) only a portion of the scene is modeled (red outline), leading to significant artifacts in background elements, or (2) the full scene is modeled (orange outline), which leads to an overall loss of details due to finite sampling resolution</li></ul></li></ul><p>In summary, we present an analysis on how NeRF manages to resolve the shape-radiance ambiguity, as well as a remedy for the parameterization of unbounded scenes in the case of 360â—¦ captures.</p><p>PRELIMINARIES: NeRF</p><h1 id="SHAPE-RADIANCE-AMBIGUITY"><a href="#SHAPE-RADIANCE-AMBIGUITY" class="headerlink" title="SHAPE-RADIANCE AMBIGUITY"></a>SHAPE-RADIANCE AMBIGUITY</h1><p>The capacity of NeRF to model view-dependent appearance leads to <strong>an inherent ambiguity between 3D shape and radiance</strong> that can admit degenerate solutions, in the absence of regularization. For an arbitrary, incorrect shape, one can show that there exists a family of radiance fields that perfectly explains the training images, but that generalizes poorly to novel test views.</p><ul><li>å¯¹äºä¸€ä¸ªç‰¹å®šçš„åœºæ™¯ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€ç»„è¾å°„åœºï¼Œå®Œç¾è§£é‡Šè®­ç»ƒå›¾åƒï¼Œä½†åœ¨æµ‹è¯•è§†å›¾ä¸Šçš„æ³›åŒ–æ€§å¾ˆå·®<ul><li>æ ¹æ®è®­ç»ƒé›†è®­ç»ƒå‡ºæ¥çš„radiance field å¯ä»¥çœ‹æˆä¸€ä¸ªçƒï¼Œå½¢çŠ¶ä¸çœŸå®ç‰©ä½“å®Œå…¨ä¸åŒï¼Œä½†æ˜¯åœ¨è®­ç»ƒviewä¸Šæ¸²æŸ“å‡ºæ¥çš„å›¾åƒå´ä¸çœŸå®çš„å›¾ç‰‡ç›¸å·®å¾ˆå°ï¼Œå½“æ”¹å˜å¾ˆå°çš„viewæ—¶å³ä½¿ç”¨ä¸€ä¸ªä¸åŒäºè®­ç»ƒé›†çš„viewæ—¶ï¼Œå›¾ç‰‡å‘ç”Ÿå¾ˆå¤§çš„å˜åŒ–</li></ul></li><li>å¯¹äºä¸€ä¸ªç®€å•çš„å‡ ä½•ç‰©ä½“ï¼Œéœ€è¦å¾ˆå¤æ‚çš„radiance fieldæ¥è¿›è¡Œè¡¨ç¤ºã€‚ref : <a href="https://zhuanlan.zhihu.com/p/458166170">NeRF++è®ºæ–‡éƒ¨åˆ†è§£è¯» ä¸ºä½•NeRFå¦‚æ­¤å¼ºå¤§ï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a><ul><li>æƒ³ä¸€æƒ³è¿™ä¸ªé—®é¢˜ï¼ŒNeRFä¼šæŠŠä¸€ä¸ªé•œå­é‡å»ºæˆä¸€ä¸ªå¹³é¢è¿˜æ˜¯ä¸€ä¸ªæœ‰æ·±åº¦çš„å‡ ä½•ï¼ˆç±»ä¼¼é•œåƒçš„ä¸–ç•Œï¼‰ï¼Ÿç­”æ¡ˆæ˜¯ä¼šé‡å»ºå‡ºå‡ ä½•ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªé•œå­å¹³é¢</li></ul></li></ul><p>å°†å•ä½åœ†çš„opacityè®¾ç½®ä¸º1ï¼Œå…¶ä»–è®¾ç½®ä¸º0ï¼Œåœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒå¾—å‡ºçš„ç»“æœï¼š<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718163229.png" alt="image.png"></p><p>Why does NeRF avoid such degenerate solutions? We hypothesize that two related factors come to NeRFâ€™s rescue:<br>1) incorrect geometry forces the radiance field to have higher intrinsic complexity (i.e., much higher frequencies) while in contrast<br>2) NeRFâ€™s specific MLP structure implicitly encodes a smooth BRDF prior on surface reflectance.</p><ul><li>As Ïƒ deviates from the correct shape, c must in general become a high-frequency function with respect to d to reconstruct the input images. For the correct shape, the surface light field will generally be much smoother (in fact, constant for Lambertian materials). The higher complexity required for incorrect shapes is more difficult to represent with a limited capacity MLP.<ul><li>incorrect shape â€”&gt; complex c(surface light field)</li><li>correct shape â€”&gt; smoother surface light field</li></ul></li><li>In particular, NeRFâ€™s specific MLP structure encodes an implicit prior favoring smooth surface reflectance functions where c is smooth with respect to d at any given surface point x. This MLP structure, shown in Figure 3, treats the scene position x and the viewing direction d asymmetricallyä¸å¯¹ç§°çš„: d is injected into the network close to the end of the MLP, meaning that there are fewer MLP parameters, as well as fewer non-linear activations, involved in the creation of view-dependent effects. In addition, the Fourier features used to encode the viewing direction consist only of low-frequency components, i.eï¼Œå¯¹äºä½ç½®xï¼Œé¢‘ç‡ç¼–ç ä¸º$\gamma^{10}(\cdot)$, è€Œå¯¹äºæ–¹å‘dï¼Œé¢‘ç‡ç¼–ç ä»…æœ‰$\gamma^{4}(\cdot)$ã€‚In other words, for a fixed x, the radiance c(x, d) has limited expressivity with respect to d.<ul><li>NeRFçš„MLPé‡‡ç”¨äº†ä¸å¯¹ç§°ç»“æ„ï¼Œæ–¹å‘dåœ¨MLPä¸­åªæœ‰å°‘é‡çš„å‚æ•°</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718164536.png" alt="image.png"></p><p>éªŒè¯å®éªŒï¼š</p><ul><li>NeRF MLP</li><li>vanilla MLP : å¯¹xå’Œd éƒ½è¿›è¡Œ$\gamma^{10}(\cdot)$ç¼–ç ï¼Œå¹¶åŒæ—¶è¾“å…¥è¿›MLPç½‘ç»œ</li></ul><p>This result is consistent with our hypothesis that <strong>implicit regularization of reflectance</strong> in NeRFâ€™s MLP model of radiance c <strong>helps recover correct solutions</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718164556.png" alt="image.png"></p><h1 id="INVERTED-SPHERE-PARAMETRIZATION"><a href="#INVERTED-SPHERE-PARAMETRIZATION" class="headerlink" title="INVERTED SPHERE PARAMETRIZATION"></a>INVERTED SPHERE PARAMETRIZATION</h1><p>NeRFçš„NDCæ“ä½œè™½ç„¶è§£å†³äº†æ— é™è¿œçš„é—®é¢˜ï¼Œä½†æ˜¯å¯¹360åº¦ç¯ç»•æ‹æ‘„çš„åœºæ™¯æ— æ³•å¾ˆå¥½çš„å¤„ç†è¿œå¤„èƒŒæ™¯</p><ul><li>å¦‚æœboundå‰æ™¯ç‰©ä½“ï¼Œå¯¹èƒŒæ™¯çš„é‡å»ºæ•ˆæœå¾ˆå·®</li><li>å¦‚æœboundæ•´ä¸ªåœºæ™¯ï¼Œå¯¹ç‰©ä½“çš„é‡å»ºæ•ˆæœå°±ä¼šä¸‹é™</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718164906.png" alt="image.png"></p><p>å°†æ•´ä¸ªåœºæ™¯åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†<br>partition the scene space into two volumes</p><ul><li>an inner unit sphereå‰æ™¯ï¼šå¤„äºä¸€ä¸ªå•ä½åœ†ä¸­<ul><li>The inner volume contains the foreground and all the cameras, while the outer volume contains the remainder of the environment.</li></ul></li><li>an outer volume represented by an inverted sphere covering the complement of the inner volume èƒŒæ™¯ï¼šä½ç½®åæ ‡ç”±ä¸€ä¸ªå››ç»´çš„å‘é‡è¡¨ç¤ºï¼Œinverted sphere parameterization<ul><li>the outer volume contains the remainder of the environment.</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718165249.png" alt="image.png"></p><p>These two volumes are modelled with two separate NeRFs. To render the color for a ray, they are raycast individually, followed by a final compositition. </p><ul><li>No re-parameterization is needed for the inner NeRF, as that part of the scene is nicely bounded. </li><li>For the outer NeRF, we apply an <strong>inverted sphere parametrization.</strong> </li></ul><p>å†…éƒ¨ï¼š(x, y, z)<br>å¤–éƒ¨ï¼š(x, y, z)éœ€è¦å‚æ•°åŒ–ä¸º$(xâ€™,yâ€™,zâ€™,1/r)$ ï¼Œå…¶ä¸­$xâ€™^{2}+ yâ€™^{2}+zâ€™^{2}= 1$ ï¼Œ(xâ€™,yâ€™,zâ€™)ï¼Œä¸ºä¸(x,y,z)åŒä¸€æ¡å…‰çº¿çš„å•ä½æ–¹å‘å‘é‡ï¼Œrepresenting a direction on the sphere.</p><ul><li>$r = \sqrt{x^2+y^2+z^2}&gt;1$ï¼Œæ‰€ä»¥ 0 &lt; 1/r &lt; 1</li><li>i.e. è¯¥ç‚¹çš„åæ ‡ä¸º $r \cdot (xâ€™,yâ€™,zâ€™) = (x,y,z)$</li><li>é‡å‚æ•°åŒ–åçš„å‚æ•°éƒ½æ˜¯æœ‰ç•Œçš„ï¼Œ0 &lt; 1/r &lt; 1ï¼Œ$xâ€™,yâ€™,zâ€™ \in [-1,1]$</li></ul><p>åœ¨å…‰çº¿$ray = o + td$ä¸­ï¼Œç›¸å½“äºtè¢«å•ä½çƒåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ul><li>inside: $t \in [0,tâ€™]$</li><li>outside: $t \in [tâ€™,\infty]$</li></ul><script type="math/tex; mode=display">\begin{aligned}\mathbf{C}(\mathbf{r})& =\underbrace{\int_{t=0}^{t^{\prime}}\sigma(\mathbf{o}+t\mathbf{d})\cdot\mathbf{c}(\mathbf{o}+t\mathbf{d},\mathbf{d})\cdot e^{-\int_{s=0}^{t}\sigma(\mathbf{o}+s\mathbf{d})ds}dt}_{\mathrm{(i)}}  \\&+\underbrace{e^{-\int_{s=0}^{t^{\prime}}\sigma(\mathbf{o}+s\mathbf{d})ds}}_{\mathrm{(ii)}}\cdot\underbrace{\int_{t=t^{\prime}}^{\infty}\sigma(\mathbf{o}+t\mathbf{d})\cdot\mathbf{c}(\mathbf{o}+t\mathbf{d},\mathbf{d})\cdot e^{-\int_{s=t^{\prime}}^{t}\sigma(\mathbf{o}+s\mathbf{d})ds}_{\mathrm{(iii)}}dt.}\end{aligned}</script><p>Terms (i) and (ii) are computed in Euclidean space, while term (iii) is computed in inverted sphere space with 1r as the integration variable.<br>In other words, we use $Ïƒ_{in}(o + td)$, $c_{in} (o + td, d)$ in terms (i) and (ii), and $Ïƒ_{out}(xâ€², yâ€², zâ€², 1/r)$, $c_{out} (xâ€², yâ€², zâ€², 1/r, d)$ in term (iii)</p><p>In order to compute term (iii) for the ray $r = o + td$, we first need to be able to evaluate $Ïƒ_{out}$ , $c_{out}$ at any 1/r; in other words, we need a way to compute (xâ€², yâ€², zâ€²) corresponding to a given 1/r, so that $Ïƒ_{out}$, $c_{out}$ can take (xâ€², yâ€², zâ€², 1/r) as input..</p><div class="note success">            <p><a href="https://github.com/Kai-46/nerfplusplus/issues/19">about inverted sphere parameterization Â· Issue #19 Â· Kai-46/nerfplusplus (github.com)</a><br>ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨xyzé™¤ä»¥rå¾—åˆ°xâ€™yâ€™zâ€™:</p><ul><li>xyzæœ‰æ—¶å¤ªå¤§ï¼Œæ•°å€¼è¯¯å·®</li><li>åœ¨ä»£ç ä¸­ï¼Œè®¡ç®—xyzéœ€è¦ä½¿ç”¨oå’Œdï¼Œä¸€èˆ¬xyzæ˜¯æœªçŸ¥çš„ï¼Œè€Œrå¾ˆå¥½æ±‚å¾—ï¼Œå› æ­¤ä½¿ç”¨è¿™ç§æ–¹æ³•<ul><li><code>bg_depth = torch.linspace(0., 1., N_samples).view([1, ] * len(dots_sh) + [N_samples,]).expand(dots_sh + [N_samples,]).to(rank)</code></li><li>bg_depth å³ 1/r</li></ul></li></ul>          </div><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718192632.png" alt="image.png"><br>(xâ€™,yâ€™,zâ€™)å¯ç”±aå’Œ$\omega$å¾—åˆ°<br>ç”±$a = o + t_{a}d$å¾—åˆ°$t_{a}$ï¼Œaçš„ä½ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">ç”±ï¼šÂ ||o+td|| = 1</span></span><br><span class="line"><span class="string">||d||^2*t^2 + 2*(o.d)*t + ||o||^2-1 = 0</span></span><br><span class="line"><span class="string">å› æ­¤æ±‚taçš„ä»£ç ï¼š</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">intersect_sphere</span>(<span class="params">rays_o, rays_d</span>):</span><br><span class="line">    odotd = torch.<span class="built_in">sum</span>(rays_o*rays_d, <span class="number">1</span>)</span><br><span class="line">    d_norm_sq = torch.<span class="built_in">sum</span>(rays_d**<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    o_norm_sq = torch.<span class="built_in">sum</span>(rays_o**<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    determinant = odotd**<span class="number">2</span>+(<span class="number">1</span>-o_norm_sq)*d_norm_sq</span><br><span class="line">    <span class="keyword">assert</span> torch.<span class="built_in">all</span>(determinant&gt;=<span class="number">0</span>), \</span><br><span class="line">        <span class="string">&#x27;Not all your cameras are bounded by the unit sphere; please make sure the cameras are normalized properly!&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> (torch.sqrt(determinant)-odotd)/d_norm_sq</span><br></pre></td></tr></table></figure><p>ç”±$b = o + t_{b}d$å¾—åˆ°bçš„ä½ç½®ï¼Œ$\mathbf{d}^T(\mathbf{o}+t_b\mathbf{d})=0.$</p><p>$\omega=\arcsin|\mathbf{b}|-\arcsin(|\mathbf{b}|\cdot\frac{1}{r}).$ï¼Œæ ¹æ®açš„ä½ç½®å’Œè§’åº¦$\omega$å³å¯æ±‚å¾—xâ€™yâ€™zâ€™<br>å…·ä½“ç®—æ³•ref: <a href="https://zh.wikipedia.org/wiki/%E7%BD%97%E5%BE%B7%E9%87%8C%E6%A0%BC%E6%97%8B%E8%BD%AC%E5%85%AC%E5%BC%8F">ç½—å¾·é‡Œæ ¼æ—‹è½¬å…¬å¼ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)</a></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230719125758.png" alt="image.png|500"></p><p>$\mathbf{v}_{\mathrm{rot}}=\mathbf{v}\cos\theta+(\mathbf{k}\times\mathbf{v})\sin\theta+\mathbf{k}(\mathbf{k}\cdot\mathbf{v})(1-\cos\theta).$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">depth2pts_outside</span>(<span class="params">ray_o, ray_d, depth</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ray_o, ray_d: [..., 3]</span></span><br><span class="line"><span class="string">    depth: [...]; inverse of distance to sphere origin</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># note: d1 becomes negative if this mid point is behind camera</span></span><br><span class="line">    d1 = -torch.<span class="built_in">sum</span>(ray_d * ray_o, dim=-<span class="number">1</span>) / torch.<span class="built_in">sum</span>(ray_d * ray_d, dim=-<span class="number">1</span>)</span><br><span class="line">    p_mid = ray_o + d1.unsqueeze(-<span class="number">1</span>) * ray_d</span><br><span class="line">    p_mid_norm = torch.norm(p_mid, dim=-<span class="number">1</span>)</span><br><span class="line">    ray_d_cos = <span class="number">1.</span> / torch.norm(ray_d, dim=-<span class="number">1</span>)</span><br><span class="line">    d2 = torch.sqrt(<span class="number">1.</span> - p_mid_norm * p_mid_norm) * ray_d_cos</span><br><span class="line">    p_sphere = ray_o + (d1 + d2).unsqueeze(-<span class="number">1</span>) * ray_d</span><br><span class="line"></span><br><span class="line">    rot_axis = torch.cross(ray_o, p_sphere, dim=-<span class="number">1</span>)</span><br><span class="line">    rot_axis = rot_axis / torch.norm(rot_axis, dim=-<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line">    phi = torch.asin(p_mid_norm)</span><br><span class="line">    theta = torch.asin(p_mid_norm * depth)  <span class="comment"># depth is inside [0, 1]</span></span><br><span class="line">    rot_angle = (phi - theta).unsqueeze(-<span class="number">1</span>)     <span class="comment"># [..., 1]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># now rotate p_sphere</span></span><br><span class="line">    <span class="comment"># Rodrigues formula: https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula</span></span><br><span class="line">    p_sphere_new = p_sphere * torch.cos(rot_angle) + \</span><br><span class="line">                   torch.cross(rot_axis, p_sphere, dim=-<span class="number">1</span>) * torch.sin(rot_angle) + \</span><br><span class="line">                   rot_axis * torch.<span class="built_in">sum</span>(rot_axis*p_sphere, dim=-<span class="number">1</span>, keepdim=<span class="literal">True</span>) * (<span class="number">1.</span>-torch.cos(rot_angle))</span><br><span class="line">    p_sphere_new = p_sphere_new / torch.norm(p_sphere_new, dim=-<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line">    pts = torch.cat((p_sphere_new, depth.unsqueeze(-<span class="number">1</span>)), dim=-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># now calculate conventional depth</span></span><br><span class="line">    depth_real = <span class="number">1.</span> / (depth + TINY_NUMBER) * torch.cos(theta) * ray_d_cos + d1</span><br><span class="line">    <span class="keyword">return</span> pts, depth_real</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> LargeScaleScene </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeuDA</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeuDA/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeuDA/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeuDA: Neural Deformable Anchor for High-Fidelity Implicit Surface Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td>Bowen Cai    ,Jinchi Huang,    Rongfei Jia    ,Chengfei Lv,    Huan Fu*</td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://3d-front-future.github.io/neuda/">NeuDA (3d-front-future.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4738274314005004289&amp;noteId=1876559968197187840">NeuDA: Neural Deformable Anchor for High-Fidelity Implicit Surface Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p>NeuDAå˜å½¢åçš„gridè·ç¦»Surfaceæ›´è¿‘ä¸€äº›ï¼Œå³å¯ä»¥ä½¿é‡‡æ ·ç‚¹æ’å€¼æ—¶æ›´å¤šä¾èµ–äºè¡¨é¢ï¼Œå³æ¸²æŸ“æ—¶ä¹Ÿä¼šæ›´å¤šåœ°è€ƒè™‘åˆ°3Dç©ºé—´ç›¸é‚»çš„ä¿¡æ¯</p><p>åˆ›æ–°ï¼šDeformable Anchorsã€HPEã€$\mathcal{L}_{norm}$</p><ul><li>æ”¹è¿›äº†NGPä¸­çš„gridè¡¨ç¤ºï¼Œ8ä¸ªé¡¶ç‚¹å­˜å‚¨featureâ€”&gt;å­˜å‚¨é”šç‚¹ä½ç½®ï¼Œé”šç‚¹ä½ç½®ç»è¿‡PEåè¾“å…¥è¿›SDFç½‘ç»œ</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718145119.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718144934.png" alt="image.png"></p><span id="more"></span><h1 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h1><p>One of the major limitations of this paper is that we follow an intuitive idea to propose NeuDA and conduct empirical studies to validate its performance. Although we <strong>can not provide strictly mathematical proof,</strong> we prudently respond to this concern and provide qualitative proof by reporting the anchor pointsâ€™ deformation process in Figure 8.<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718153518.png" alt="image.png"></p><p>Taking a slice of grid voxels as an example, we can see the anchor points (e.g. orange points) move to object surfaces as training convergences, resulting in an implied adaptive representation. Intuitively, the SDF change has an increasing effect on geometry prediction as the anchor approaches the surfaces, while the SDF change of a position far from the object has weak effects. Thus, the optimization process may force those anchors (â€œyellowâ€ points) to move to positions nearly around the object surfaces to better reflect the SDF changes. The deformable anchor shares some similar concepts with deformable convolution [4] and makes its movement process like a mesh deformation process. Moreover, as each query point has eight anchors, from another perspective, each anchor follows an individual mesh deformation process. <strong>Thereby, NeuDA may play an important role in learning and ensembling multiple 3D reconstruction models.</strong></p><p>ç›´è§‚åœ°çœ‹ï¼Œéšç€é”šç‚¹æ¥è¿‘ç‰©ä½“è¡¨é¢ï¼ŒSDFå˜åŒ–å¯¹å‡ ä½•é¢„æµ‹çš„å½±å“è¶Šæ¥è¶Šå¤§ï¼Œè€Œè¿œç¦»ç‰©ä½“ä½ç½®çš„SDFå˜åŒ–å¯¹å‡ ä½•é¢„æµ‹çš„å½±å“è¾ƒå¼±ã€‚</p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>This paper studies neural implicit surface reconstruction. We find that previous works (e.g. NeuS) are likely to produce over-smoothing surfaces for small local geometry structures and surface abrupt regions. <strong>A possible reason is that the spatial context in 3D space has not been flexibly exploited</strong>. We take inspiration from the insight and propose NeuDA, namely Neural Deformable Anchors, as a solution. NeuDA is leveraging multi-level voxel grids, and is empowered by the core â€œ<strong>Deformable Anchors (DA)</strong>â€œ representation approach and <strong>a simple hierarchical position encoding strategy</strong>.<br>The former maintains(DA) learnable anchor points at verities to enhance the capability of neural implicit model in <strong>handling complicated geometric structures</strong>, and<br>the latter(HPE) explores complementaries of high-frequency and low-frequency geometry properties in the multi-level anchor grid structure.<br>The comparisons with baselines and SOTA methods demonstrate the superiority of NeuDA in capturing high-fidelity typologies.</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>This paper studies implicit surface reconstruction leveraging differentiable ray casting. Previous works such as IDR [35] and NeuS [28] <strong>overlook the spatial context in 3D space</strong> when predicting and rendering the surface, thereby may fail to capture sharp local topologies such as <strong>small holes and structures</strong>. </p><p>To mitigate the limitation, we propose a flexible neural implicit representation <strong>leveraging hierarchical voxel grids</strong>, namely Neural Deformable Anchor (NeuDA), for high-fidelity surface reconstruction. NeuDA maintains the <strong>hierarchical anchor grids</strong> where each vertex stores a 3D position (or anchor) instead of the direct embedding (or feature). We optimize the anchor grids such that different local geometry structures can be adaptively encoded. Besides, we dig into the frequency encoding strategies and introduce a simple <strong>hierarchical positional encoding</strong> method for the hierarchical anchor structure to flexibly exploit the properties of high-frequency and low-frequency geometry and appearance. Experiments on both the DTU [8] and BlendedMVS [33] datasets demonstrate that NeuDA can produce promising mesh surfaces.</p><ul><li>åˆ†å±‚é”šç½‘æ ¼ï¼šæ¯ä¸ªé¡¶ç‚¹å­˜å‚¨3Dä½ç½®æˆ–è€…é”šç‚¹ï¼Œè€Œä¸æ˜¯ç‰¹å¾å€¼</li><li>å¼•å…¥ä¸€ç§ç®€å•çš„åˆ†å±‚ä½ç½®ç¼–ç æ–¹å¼ï¼Œçµæ´»åœ°åˆ©ç”¨é«˜é¢‘å’Œä½é¢‘çš„å‡ ä½•å’Œå¤–è§‚å±æ€§</li></ul><p>3D surface reconstruction from multi-view images is one of the fundamental problems of the community. Typical Multi-view Stereo (MVS) approaches perform cross-view feature matching, depth fusion, and surface reconstruction (e.g., Poisson Surface Reconstruction) to obtain triangle meshes [9].Some methods have exploited the possibility of training end-to-end deep MVS models or employing deep networks to improve the accuracy of sub-tasks of the MVS pipeline.</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718141228.png" alt="image.png"><br>Neus å°†ç‰©ä½“è¡¨é¢å®šä¹‰ä¸ºsdfçš„é›¶æ°´å¹³é›†ï¼Œbut these methods have not explored the spatial context in 3D space.<br>As a result, they may struggle to recover fine-grain geometry in some local spaces, such as <strong>boundaries, holes, and other small structures</strong></p><ul><li>A straightforward solution is to query scene properties of a sampled 3D point by fusing its nearby features. <ul><li>For example, we can represent scenes as neural voxel fields where the embedding (or feature) at each vertex of the voxel encodes the geometry and appearance context.</li><li>Given a target point, we are able to aggregate the features of the surrounding eight vertices. As the scope of neighboring information is limited by the resolution of grids, multi-level (or hierarchical) voxel grids have been adopted to study different receptive fields. These approaches do obtain <strong>sharper surface details</strong> compared to baselines for most cases, ï¼ˆMulti res Hash gridï¼‰</li><li><strong>but still cannot capture detailed regions well</strong>. A possible reason is that the geometry features held by the voxel grids are uniformly distributed around 3D surfaces, while small structures are with complicated typologies and may need more flexible representations</li></ul></li></ul><p>ours NeuDA:</p><ul><li>ä»£æ›¿å¤šåˆ†è¾¨ç‡å“ˆå¸Œç½‘æ ¼ä¸­çš„æ¯ä¸ªé¡¶ç‚¹å­˜å–ç‰¹å¾ä¿¡æ¯ï¼ŒNeuDAçš„æ¯ä¸ªç½‘æ ¼é¡¶ç‚¹ä¸­å­˜å–çš„æ˜¯3Dç‚¹çš„ä½ç½®/é”šç‚¹ä¿¡æ¯ï¼Œå…·ä½“é‡‡æ ·å¾—åˆ°çš„3Dç‚¹ç‰¹å¾ç”±ï¼Œ8ä¸ªé¡¶ç‚¹åæ ‡ç»è¿‡PEåï¼Œä¸‰çº¿æ€§æ’å€¼é¢‘ç‡åµŒå…¥å¾—åˆ°ã€‚<ul><li>The input feature for a query point is obtained by directly interpolating the frequency embedding of its eight adjacent anchors.</li></ul></li><li>we present a simple yet effective <strong>hierarchical positional encoding policy</strong> that adopts a higher frequency band to a finer grid level</li><li><strong>Itâ€™s worth mentioning that NeuDA employs a shallower MLP</strong> (4 vs. 8 for NeuS and volSDF) to achieve better surface reconstruction performance due to the promising scene representation capability of the hierarchical deformable anchor structure.</li></ul><p>Related Work</p><ul><li>Neural Implicit Surface Reconstruction<ul><li>NeRFâ€”&gt;Neusâ€¦<ul><li>Nevertheless, the above approaches extract geometry features from a single point along a casting ray, which may <strong>hinder the neighboring information sharing across sampled points around the surface</strong></li></ul></li><li>It is worth mentioning that the Mip-NeRF è™½ç„¶ä½¿ç”¨é”¥å½¢å…‰çº¿(tracing an anti-aliased conical frustum)è¿›è¡Œé‡‡æ ·ï¼Œå°†ç›¸é‚»çš„ä¿¡æ¯å¸¦å…¥æ¸²æŸ“è¿‡ç¨‹ï¼Œä½†æ˜¯ç”±äºä½ç½®ç¼–ç ä¾èµ–the radius of the casting cone.å› æ­¤å¾ˆéš¾åº”ç”¨åˆ°surface reconstruction</li></ul></li><li>Neural Explicit Representation<ul><li>Voxelå’Œpointcloudç­‰æ˜¾å¼è¡¨ç¤ºä½¿å¾—åœ¨æ¨¡å‹ä¼˜åŒ–è¿‡ç¨‹ä¸­æ›´å®¹æ˜“å°†é‚»åŸŸä¿¡æ¯æ³¨å…¥åˆ°å‡ ä½•ç‰¹å¾ä¸­<ul><li>DVGO [25] and Plenoxels [23] represent the scene as a voxel grid, and compute the opacity and color of each sampled point via trilinear interpolation of the neighboring voxels.</li><li>The Voxurf [31] further extends this single-level voxel feature to a hierarchical geometry feature by concatenating the neighboring feature stored voxel grid from different levels.</li><li>The Instant-NGP [18] and MonoSDF [37] use multiresolution hash encoding to achieve fast convergence and capture high-frequency and local details, but they might suffer from hash collision due to its compact representation.</li><li>Both of these methods leverage a multi-level grid scheme to enlarge the receptive field of the voxel grid and encourage more information sharing among neighboring voxels. <strong>Although the voxel-based methods have further improved the details of surface geometry</strong>, they may be suboptimal in that the geometry features held by the <strong>voxel grids are uniformly distributed around 3D surfaces</strong>, while <strong>small structures are with complicated typologies and may need more flexible representation</strong>.</li><li>ä½†æ˜¯ä½“ç´ æ–¹æ³•æ–¥å€™çš„å‡ ä½•ç‰¹å¾å‡åŒ€åˆ†å¸ƒåœ¨3Dè¡¨é¢ï¼Œè€Œå¾®å°çš„ç»“æ„æ‹¥æœ‰å¤æ‚çš„typologiesï¼Œéœ€è¦æ›´çµæ´»çš„è¡¨ç¤ºæ–¹æ³•</li><li>Point-based methods [2, 12, 32] bypass this problem, since the point clouds, initially estimated from COLMAP [24], are naturally distributed on the 3D surface with complicated structures. Point-NeRF [32] proposes to model point-based radiance field, which <strong>uses an MLP network to aggregate the neural points</strong> in its neighborhood to regress the volume density and view-dependent radiance at that location. However, the point-based methods are also limited in practical application, since their <strong>reconstruction performance depends on the initially estimated point clouds that often have holes and outliers</strong>.</li><li>ç‚¹äº‘çš„æ–¹æ³•ä¾èµ–åˆå§‹ä¼°è®¡çš„ç‚¹äº‘ï¼Œè¿™äº›ç‚¹äº‘é€šå¸¸å…·æœ‰å­”æ´å’Œç¦»ç¾¤</li></ul></li></ul></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><h2 id="Preliminaries-Neus"><a href="#Preliminaries-Neus" class="headerlink" title="Preliminaries: Neus"></a>Preliminaries: Neus</h2><h2 id="Deformable-Anchors-DA"><a href="#Deformable-Anchors-DA" class="headerlink" title="Deformable Anchors (DA)"></a>Deformable Anchors (DA)</h2><p>ç›®çš„ï¼šæé«˜ä½“ç´ ç½‘æ ¼è¡¨ç¤ºçš„çµæ´»æ€§</p><ul><li>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒNeuDAå˜å½¢åçš„gridè·ç¦»Surfaceæ›´è¿‘ä¸€äº›ï¼Œå³å¯ä»¥ä½¿é‡‡æ ·ç‚¹æ’å€¼æ—¶æ›´å¤šä¾èµ–äºè¡¨é¢ï¼Œå³æ¸²æŸ“æ—¶ä¹Ÿä¼šæ›´å¤šåœ°è€ƒè™‘åˆ°3Dç©ºé—´ç›¸é‚»çš„ä¿¡æ¯</li></ul><p>æ²¿ç€ç‰¹å®šå…‰çº¿ä¸Šçš„é‡‡æ ·ç‚¹ï¼š$p\in\mathbb{R}^3$</p><p>$\begin{aligned}\phi(p,\psi(G))&amp;=\sum_{v\in\mathcal{V}}w(p_v)\cdot\gamma(p_v+\triangle p_v),\\\psi(G)&amp;=\left\{p_v,\triangle p_v|v\in G\right\}.\end{aligned}$</p><ul><li>G: anchor grid</li><li>$\psi(G)$ ï¼š a set of deformable anchors</li><li>$\gamma(p_v+\triangle p_v)$:  frequency encoding function</li><li>$w(p_v)$: cosine similarity as weight , measure the <strong>contributions of different anchors to the sampled point</strong><ul><li>$w(p_{n})=\frac{\hat{w}(p_{n})}{\sum_{n}\hat{w}(p_{n})},\quad\hat{w}(p_{n})=\frac{p\cdot p_{n}}{|p||p_{n}|}.$</li></ul></li></ul><p>$\begin{aligned}\mathcal{F}(x;\theta)&amp;=\mathcal{F}\left(\phi\left(p,\psi(G)\right);\theta\right)\\&amp;=\left(f(x;\theta),\hat{n}(x;\theta),z(x;\theta)\right).\end{aligned}$</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718145119.png" alt="image.png"></p><p>ç›¸æ¯”Neusï¼ŒNeuDAå…·æœ‰</p><ul><li>HPE</li><li>æ³•å‘æŸå¤±$\mathcal{L}_{norm}$ </li><li>æ›´æµ…çš„MLP</li></ul><h2 id="Hierarchical-Positional-Encoding"><a href="#Hierarchical-Positional-Encoding" class="headerlink" title="Hierarchical Positional Encoding"></a>Hierarchical Positional Encoding</h2><p>several levels of anchor gridï¼ˆ8 levels in this paperï¼‰</p><ul><li>bad: applying the standard positional encoding function [17] to each level followed by a concatenation operation would <strong>produce a large-dimension embedding</strong></li><li>ours: We argue that different anchor grid levels could have their own responsibilities for handling global structures or capturing detailed geometry variations.</li></ul><p>åœ¨æ°´å¹³Lçš„ç½‘æ ¼ä¸­ï¼Œç»™å®šé”šç‚¹$p_{l}\in\mathbb{R}^3$ï¼Œåˆ™the frequency encoding function: $\gamma(p_l)=\left(\sin(2^l\pi p_l),\cos(2^l\pi p_l)\right).$åˆ†åˆ«åº”ç”¨äº$p_{l}$ä¸­çš„ä¸‰ä¸ªåæ ‡å€¼ï¼Œç„¶åæ¯ä¸ªLç½‘æ ¼ï¼Œç»è¿‡interpolation operationè¿”å›a small 6-dimension embeddingï¼š$\phi(\hat{p}_{l})$</p><p>Finally, we concatenate multi-level embedding vectors to obtain the hierarchical positional encoding:</p><p>$\mathcal{H}(p)=(\phi(\hat{p}_0),\phi(\hat{p}_1),â€¦,\phi(\hat{p}_{L-1})),$ç¼–ç åçš„ç»“æœè¾“å…¥è¿›SDFç½‘ç»œä¸­</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718144934.png" alt="image.png"></p><h2 id="Objectives"><a href="#Objectives" class="headerlink" title="Objectives"></a>Objectives</h2><p>We minimize the mean absolute errors between the rendered and ground-truth pixel colors <strong>as the indirect supervision</strong> for the SDF prediction function: é—´æ¥ç›‘ç£SDFçš„é¢„æµ‹</p><p>$\mathcal{L}_{c}=\frac1{\mathcal{R}}\sum_{r\in\mathcal{R}}\Big|C(r)-\hat{C}(r)\Big|,$</p><p>Eikonal termï¼š<br>$\mathcal{L}_{reg}=\frac{1}{\mathcal{R}N}\sum_{r,i}(|\nabla f(\mathcal{H}(p_{r,i}))|_{2}-1)^{2},$</p><p>$\mathcal{L}_{mask}=\mathrm{BCE}(m_r,\sum_i^nT_{r,i}\alpha_{r,i}),$</p><p>$m_{r}$æ˜¯å°„çº¿rçš„æ©ç æ ‡ç­¾ï¼Œæ˜¯çœŸå®å€¼ï¼Œä¸æƒé‡ç´¯è®¡opacity(é¢„æµ‹å€¼)è¿›è¡ŒBCEå¤„ç†</p><p>æœ¬æ–‡é¢å¤–æ·»åŠ äº†ä¸€ä¸ªï¼šNeuDAçš„SDFç½‘ç»œè¿˜è¾“å‡ºä¸€ä¸ªé¢„æµ‹çš„æ³•å‘é‡$\hat n$ ï¼Œä¸sdfçš„æ¢¯åº¦å³çœŸå®æ³•å‘é‡è¿›è¡Œå–å·®ï¼Œå¹¶æ²¿ç€å…‰çº¿æ±‚å‡ºè¯¥åƒç´ ç‚¹çš„æ³•å‘é‡ä¹‹å·®ä½œä¸ºæ³•å‘é‡æŸå¤±</p><p>$\mathcal{L}_{norm}=\sum_{r,i}T_{r,i}\alpha_{r,i}\left|\nabla f(\mathcal{H}(p_{r,i}))-\hat{n}_{r,i}\right|$</p><p>$\mathcal{L}=\mathcal{L}_{c}+\lambda_{eik}\mathcal{L}_{reg}+\lambda_{norm}\mathcal{L}_{norm}+\lambda_{mask}\mathcal{L}_{mask}.$</p><p>æœ¬æ–‡ï¼š</p><ul><li>$\lambda_{eik}=0.1$</li><li>$\lambda_{normal}=3 \times 10^{-5}$</li><li>$\lambda_{mask}=0.1$</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
            <tag> Encoding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SparseNeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/SparseNeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Sparse/SparseNeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>SparseNeuS: Fast Generalizable Neural Surface Reconstruction from Sparse Views</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://www.xxlong.site/">Xiaoxiao Long</a>    <a href="https://clinplayer.github.io/">Cheng Lin</a>    Peng Wang    <a href="https://homepages.inf.ed.ac.uk/tkomura/">Taku Komura</a>   <a href="https://www.cs.hku.hk/people/academic-staff/wenping/">Wenping Wang</a></td></tr><tr><td>Conf/Jour</td><td><a href="https://eccv2022.ecva.net/">ECCV</a></td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://www.xxlong.site/SparseNeuS/">SparseNeuS: Fast Generalizable Neural Surface Reconstruction from Sparse Views (xxlong.site)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?noteId=1876524675392434432">SparseNeuS: Fast Generalizable Neural Surface Reconstruction from Sparse views (readpaper.com)</a></td></tr></tbody></table></div><p>ä»ä»…2~3å¼ çš„ç¨€ç–è¾“å…¥ä¸­é‡å»ºè¡¨é¢</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ª<strong>å¤šå±‚å‡ ä½•æ¨ç†æ¡†æ¶</strong>ï¼Œä»¥ç²—åˆ°ç»†çš„æ–¹å¼æ¢å¤è¡¨é¢ã€‚</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§<strong>å¤šå°ºåº¦é¢œè‰²æ··åˆæ–¹æ¡ˆ</strong>ï¼Œè¯¥æ–¹æ¡ˆè”åˆè¯„ä¼°å±€éƒ¨å’ŒèƒŒæ™¯äº®åº¦ä¸€è‡´æ€§ï¼Œä»¥è·å¾—æ›´å¯é çš„é¢œè‰²é¢„æµ‹ã€‚</li><li>ç¬¬ä¸‰ï¼Œé‡‡ç”¨<strong>ä¸€è‡´æ€§æ„ŸçŸ¥çš„å¾®è°ƒæ–¹æ¡ˆ</strong>ï¼Œæ§åˆ¶é®æŒ¡å’Œå›¾åƒå™ªå£°å¼•èµ·çš„ä¸ä¸€è‡´åŒºåŸŸï¼Œå¾—åˆ°å‡†ç¡®ã€å¹²å‡€çš„é‡å»ºã€‚</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718133443.png" alt="image.png"></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>æå‡ºäº†ä¸€ç§æ–°çš„åŸºäºç¥ç»æ¸²æŸ“çš„è¡¨é¢é‡å»ºæ–¹æ³•SparseNeuSï¼Œç”¨äºä»å¤šè§†å›¾å›¾åƒä¸­æ¢å¤è¡¨é¢ã€‚æˆ‘ä»¬çš„æ–¹æ³•å¯ä»¥æ¨å¹¿åˆ°æ–°çš„åœºæ™¯ï¼Œå¹¶äº§ç”Ÿé«˜è´¨é‡çš„ç¨€ç–å›¾åƒé‡å»ºï¼Œè¿™æ˜¯ä»¥å‰çš„ä½œå“[44,49,32]æ‰€éš¾ä»¥åšåˆ°çš„ã€‚å› æ­¤ï¼Œ<strong>ä¸ºäº†ä½¿æˆ‘ä»¬çš„æ–¹æ³•æ¨å¹¿åˆ°æ–°çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¼•å…¥äº†å‡ ä½•ç¼–ç ä½“æ¥ç¼–ç é€šç”¨å‡ ä½•æ¨ç†çš„å‡ ä½•ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œé’ˆå¯¹ç¨€ç–è§†å›¾è®¾ç½®å›°éš¾çš„é—®é¢˜ï¼Œæå‡ºäº†ä¸€ç³»åˆ—ç­–ç•¥</strong>ã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå¤šå±‚å‡ ä½•æ¨ç†æ¡†æ¶ï¼Œä»¥ç²—åˆ°ç»†çš„æ–¹å¼æ¢å¤è¡¨é¢ã€‚</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§å¤šå°ºåº¦é¢œè‰²æ··åˆæ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆè”åˆè¯„ä¼°å±€éƒ¨å’ŒèƒŒæ™¯äº®åº¦ä¸€è‡´æ€§ï¼Œä»¥è·å¾—æ›´å¯é çš„é¢œè‰²é¢„æµ‹ã€‚</li><li>ç¬¬ä¸‰ï¼Œé‡‡ç”¨ä¸€è‡´æ€§æ„ŸçŸ¥çš„å¾®è°ƒæ–¹æ¡ˆï¼Œæ§åˆ¶é®æŒ¡å’Œå›¾åƒå™ªå£°å¼•èµ·çš„ä¸ä¸€è‡´åŒºåŸŸï¼Œå¾—åˆ°å‡†ç¡®ã€å¹²å‡€çš„é‡å»ºã€‚<br>å®éªŒè¡¨æ˜ï¼Œè¯¥æ–¹æ³•åœ¨é‡å»ºè´¨é‡å’Œè®¡ç®—æ•ˆç‡æ–¹é¢éƒ½ä¼˜äºç›®å‰çš„æ–¹æ³•ã€‚ç”±äºé‡‡ç”¨äº†ç¬¦å·è·ç¦»åœºï¼Œæˆ‘ä»¬çš„æ–¹æ³•åªèƒ½äº§ç”Ÿé—­é¢é‡æ„ã€‚æœªæ¥å¯èƒ½çš„æ–¹å‘åŒ…æ‹¬åˆ©ç”¨å…¶ä»–è¡¨ç¤ºï¼Œå¦‚æ— ç¬¦å·è·ç¦»åœºæ¥é‡å»ºå¼€æ”¾è¡¨é¢ç‰©ä½“ã€‚</li></ul><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>ä»‹ç»äº†ä¸€ç§æ–°çš„åŸºäºç¥ç»æ¸²æŸ“çš„å¤šè§†å›¾å›¾åƒè¡¨é¢é‡å»ºæ–¹æ³•â€”â€”SparseNeuSã€‚å½“åªæä¾›ç¨€ç–å›¾åƒä½œä¸ºè¾“å…¥æ—¶ï¼Œè¿™é¡¹ä»»åŠ¡å˜å¾—æ›´åŠ å›°éš¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç°æœ‰çš„ç¥ç»é‡å»ºæ–¹æ³•é€šå¸¸ä¼šäº§ç”Ÿä¸å®Œæ•´æˆ–æ‰­æ›²çš„ç»“æœã€‚æ­¤å¤–ï¼Œå®ƒä»¬æ— æ³•æ¨å¹¿åˆ°æœªè§è¿‡çš„æ–°åœºæ™¯ï¼Œé˜»ç¢äº†å®ƒä»¬åœ¨å®è·µä¸­çš„åº”ç”¨ã€‚ç›¸åï¼Œ<strong>SparseNeuSå¯ä»¥æ³›åŒ–åˆ°æ–°çš„åœºæ™¯ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå¥½åœ°å¤„ç†ç¨€ç–å›¾åƒ(å°‘è‡³2æˆ–3å¼ )</strong>ã€‚<br>SparseNeuSé‡‡ç”¨æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)ä½œä¸ºè¡¨é¢è¡¨ç¤ºï¼Œå¹¶é€šè¿‡<strong>å¼•å…¥å‡ ä½•ç¼–ç ä½“ä»å›¾åƒç‰¹å¾ä¸­å­¦ä¹ æ³›åŒ–å…ˆéªŒ</strong>ï¼Œç”¨äºé€šç”¨è¡¨é¢é¢„æµ‹ã€‚æ­¤å¤–ï¼Œå¼•å…¥äº†å‡ ç§ç­–ç•¥æ¥æœ‰æ•ˆåœ°åˆ©ç”¨ç¨€ç–è§†å›¾è¿›è¡Œé«˜è´¨é‡çš„é‡å»ºï¼ŒåŒ…æ‹¬:<br>1)å¤šçº§å‡ ä½•æ¨ç†æ¡†æ¶ï¼Œä»¥ç²—åˆ°ç²¾çš„æ–¹å¼æ¢å¤è¡¨é¢;<br>2)å¤šå°ºåº¦é¢œè‰²æ··åˆæ–¹æ¡ˆï¼Œå®ç°æ›´å¯é çš„é¢œè‰²é¢„æµ‹;<br>3)ä¸€è‡´æ€§æ„ŸçŸ¥å¾®è°ƒæ–¹æ¡ˆï¼Œæ§åˆ¶é®æŒ¡å’Œå™ªå£°å¼•èµ·çš„ä¸ä¸€è‡´åŒºåŸŸã€‚<br>å¤§é‡çš„å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¸ä»…ä¼˜äºæœ€å…ˆè¿›çš„æ–¹æ³•ï¼Œè€Œä¸”å…·æœ‰è‰¯å¥½çš„æ•ˆç‡ã€é€šç”¨æ€§å’Œçµæ´»æ€§ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ä»å¤šè§†å›¾å›¾åƒä¸­é‡å»ºä¸‰ç»´å‡ ä½•ç»“æ„æ˜¯è®¡ç®—æœºè§†è§‰ä¸­çš„ä¸€ä¸ªåŸºæœ¬é—®é¢˜ï¼Œå·²ç»è¢«å¹¿æ³›ç ”ç©¶äº†å‡ åå¹´ã€‚<strong>ä¼ ç»Ÿçš„å¤šè§†å›¾ç«‹ä½“æ–¹æ³•</strong>[2,8,36,18,37,7,19]é€šè¿‡åœ¨è¾“å…¥å›¾åƒä¸­å¯»æ‰¾ç›¸åº”çš„åŒ¹é…æ¥é‡å»ºä¸‰ç»´å‡ ä½•å½¢çŠ¶ã€‚<strong>ç„¶è€Œï¼Œå½“åªæœ‰ä¸€ç»„ç¨€ç–çš„å›¾åƒä½œä¸ºè¾“å…¥æ—¶ï¼Œå›¾åƒå™ªå£°ã€å¼±çº¹ç†å’Œåå°„ä½¿å¾—è¿™äº›æ–¹æ³•éš¾ä»¥å»ºç«‹å¯†é›†å’Œå®Œæ•´çš„åŒ¹é…</strong>ã€‚</p><p>éšç€ç¥ç»éšå¼è¡¨ç¤ºçš„æœ€æ–°è¿›å±•ï¼Œ<strong>ç¥ç»è¡¨é¢é‡å»ºæ–¹æ³•</strong>[44,50,49,32]åˆ©ç”¨ç¥ç»æ¸²æŸ“æ¥å…±åŒä¼˜åŒ–éšå¼å‡ ä½•å’Œè¾å°„åœºï¼Œé€šè¿‡æœ€å°åŒ–æ¸²æŸ“è§†å›¾å’Œåœ°é¢çœŸå®è§†å›¾çš„å·®å¼‚ã€‚è™½ç„¶è¿™äº›æ–¹æ³•å¯ä»¥äº§ç”Ÿä¼¼æ˜¯è€Œéçš„å‡ ä½•å½¢çŠ¶å’Œé€¼çœŸçš„æ–°é¢–è§†å›¾ï¼Œä½†å®ƒä»¬<strong>æœ‰ä¸¤ä¸ªä¸»è¦çš„å±€é™æ€§</strong>ã€‚</p><ul><li>é¦–å…ˆï¼Œç°æœ‰çš„æ–¹æ³•ä¸¥é‡ä¾èµ–äºå¤§é‡çš„è¾“å…¥è§†å›¾ï¼Œå³å¯†é›†è§†å›¾ï¼Œè¿™åœ¨å®è·µä¸­é€šå¸¸æ˜¯ä¸å¯ç”¨çš„ã€‚</li><li>å…¶æ¬¡ï¼Œå®ƒä»¬éœ€è¦è€—æ—¶çš„é€åœºæ™¯ä¼˜åŒ–é‡å»ºï¼Œå› æ­¤æ— æ³•æ¨å¹¿åˆ°æ–°çš„åœºæ™¯ã€‚ä¸ºäº†ä½¿è¿™ç§é‡å»ºæ–¹æ³•é€‚ç”¨äºå®é™…åº”ç”¨ï¼Œéœ€è¦è§£å†³è¿™äº›é™åˆ¶ã€‚</li></ul><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¤šè§†å›¾è¡¨é¢é‡å»ºæ–¹æ³•SparseNeuSï¼Œå®ƒå…·æœ‰ä¸¤ä¸ªæ˜æ˜¾çš„ä¼˜ç‚¹:</p><ul><li>å®ƒå…·æœ‰è‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›;</li><li>åªéœ€è¦ä¸€ç»„ç¨€ç–çš„å›¾åƒ(å°‘åˆ™2 ~ 3å¼ )å³å¯æˆåŠŸé‡å»ºã€‚</li></ul><p>SparseNeuSé€šè¿‡ä»å›¾åƒç‰¹å¾ä¸­å­¦ä¹ å¯æ³›åŒ–å…ˆéªŒå¹¶åˆ†å±‚åœ°åˆ©ç”¨ç¨€ç–è¾“å…¥ä¸­ç¼–ç çš„ä¿¡æ¯æ¥å®ç°è¿™äº›ç›®æ ‡ã€‚</p><p>ä¸ºäº†å­¦ä¹ å¯æ³›åŒ–å…ˆéªŒï¼Œæ ¹æ®MVSNerf[3]ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ª<strong>å‡ ä½•ç¼–ç ä½“</strong>ï¼Œè¯¥ç¼–ç ä½“èšé›†äº†<strong>æ¥è‡ªå¤šè§†å›¾è¾“å…¥çš„2Då›¾åƒç‰¹å¾</strong>ï¼Œå¹¶ä½¿ç”¨è¿™äº›ä¿¡æ¯æ½œåœ¨ç‰¹å¾æ¥æ¨æ–­3Då‡ ä½•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„æ›²é¢é¢„æµ‹ç½‘ç»œé‡‡ç”¨æ··åˆè¡¨ç¤ºä½œä¸ºè¾“å…¥ï¼Œå³xyzåæ ‡å’Œæ¥è‡ªå‡ ä½•ç¼–ç ä½“çš„ç›¸åº”ç‰¹å¾ï¼Œæ¥é¢„æµ‹é‡å»ºæ›²é¢çš„ç½‘ç»œç¼–ç ç¬¦å·è·ç¦»å‡½æ•°(SDF)ã€‚</p><p>æˆ‘ä»¬çš„pipelineä¸­æœ€å…³é”®çš„éƒ¨åˆ†æ˜¯å¦‚ä½•æœ‰æ•ˆåœ°æ•´åˆæ¥è‡ªç¨€ç–è¾“å…¥å›¾åƒçš„æœ‰é™ä¿¡æ¯ï¼Œé€šè¿‡ç¥ç»æ¸²æŸ“è·å¾—é«˜è´¨é‡çš„è¡¨é¢ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€äº›åº”å¯¹è¿™ä¸€æŒ‘æˆ˜çš„ç­–ç•¥ã€‚</p><ul><li>é¦–å…ˆæ˜¯ä¸€ç§<strong>å¤šçº§å‡ ä½•æ¨ç†æ–¹æ¡ˆ</strong>ï¼Œç”±ç²—åˆ°ç»†é€çº§æ„é€ æ›²é¢ã€‚æˆ‘ä»¬ä½¿ç”¨çº§è”ä½“ç¼–ç ç»“æ„ï¼Œå³ç¼–ç ç›¸å¯¹å…¨å±€ç‰¹å¾çš„ç²—ä½“æ¥è·å¾—é«˜çº§å‡ ä½•å½¢çŠ¶ï¼Œç²—ä½“å¼•å¯¼çš„ç»†ä½“æ¥ç»†åŒ–å‡ ä½•å½¢çŠ¶ã€‚æ¯ä¸ªåœºæ™¯çš„å¾®è°ƒè¿‡ç¨‹è¢«è¿›ä¸€æ­¥çº³å…¥åˆ°è¯¥æ–¹æ¡ˆä¸­ï¼Œè¯¥æ–¹æ¡ˆä»¥æ¨æ–­çš„å‡ ä½•å½¢çŠ¶ä¸ºæ¡ä»¶ï¼Œä»¥æ„å»ºç»†å¾®çš„ç»†èŠ‚æ¥ç”Ÿæˆæ›´ç»†ç²’åº¦çš„è¡¨é¢ã€‚è¿™ç§å¤šå±‚æ¬¡çš„æ–¹æ¡ˆå°†é«˜è´¨é‡çš„é‡å»ºä»»åŠ¡åˆ†ä¸ºå‡ ä¸ªæ­¥éª¤ã€‚æ¯ä¸€æ­¥éƒ½æ˜¯åŸºäºå‰ä¸€æ­¥çš„å‡ ä½•å›¾å½¢ï¼Œé‡ç‚¹æ˜¯æ„å»ºæ›´ç²¾ç»†çš„ç»†èŠ‚ã€‚æ­¤å¤–ï¼Œç”±äºè¯¥æ–¹æ¡ˆçš„å±‚æ¬¡æ€§ï¼Œå¤§å¤§æé«˜äº†é‡å»ºæ•ˆç‡ï¼Œå› ä¸ºå¯ä»¥ä¸¢å¼ƒå¤§é‡è¿œç¦»ç²—ç³™è¡¨é¢çš„æ ·æœ¬ï¼Œä»è€Œä¸ä¼šå¢åŠ ç²¾ç»†å‡ ä½•æ¨ç†çš„è®¡ç®—è´Ÿæ‹…ã€‚</li><li>æˆ‘ä»¬æå‡ºçš„ç¬¬äºŒä¸ªé‡è¦ç­–ç•¥æ˜¯ç”¨äºæ–°è§†å›¾åˆæˆçš„<strong>å¤šå°ºåº¦é¢œè‰²å¼¯æ›²æ–¹æ¡ˆ</strong>ã€‚é‰´äºç¨€ç–å›¾åƒä¸­çš„ä¿¡æ¯æœ‰é™ï¼Œç½‘ç»œå°†éš¾ä»¥ç›´æ¥å›å½’å‡†ç¡®çš„é¢œè‰²ä»¥å‘ˆç°æ–°è§†å›¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡é¢„æµ‹è¾“å…¥å›¾åƒåƒç´ çš„çº¿æ€§æ··åˆæƒé‡æ¥è·å¾—é¢œè‰²æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œ<strong>æˆ‘ä»¬é‡‡ç”¨åŸºäºåƒç´ å’ŒåŸºäºè¡¥ä¸çš„æ··åˆ</strong>æ¥å…±åŒè¯„ä¼°å±€éƒ¨å’Œä¸Šä¸‹æ–‡çš„äº®åº¦ä¸€è‡´æ€§ã€‚å½“è¾“å…¥æ˜¯ç¨€ç–çš„æ—¶ï¼Œè¿™ç§å¤šå°ºåº¦æ··åˆæ–¹æ¡ˆäº§ç”Ÿæ›´å¯é çš„é¢œè‰²é¢„æµ‹ã€‚</li><li>å¤šè§†å›¾3Dé‡å»ºçš„å¦ä¸€ä¸ªæŒ‘æˆ˜æ˜¯ï¼Œ<strong>ç”±äºé®æŒ¡æˆ–å›¾åƒå™ªå£°ï¼Œ3Dè¡¨é¢ç‚¹åœ¨ä¸åŒè§†å›¾ä¹‹é—´é€šå¸¸æ²¡æœ‰ä¸€è‡´çš„æŠ•å½±</strong>ã€‚åœ¨è¾“å…¥è§†å›¾æ•°é‡è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œå‡ ä½•æ¨ç†å¯¹æ¯ä¸ªå›¾åƒçš„ä¾èµ–æ€§è¿›ä¸€æ­¥å¢åŠ ï¼Œä»è€ŒåŠ å‰§äº†é—®é¢˜å¹¶å¯¼è‡´å‡ ä½•å˜å½¢ã€‚ä¸ºäº†åº”å¯¹è¿™ä¸€æŒ‘æˆ˜ï¼Œæˆ‘ä»¬åœ¨å¾®è°ƒé˜¶æ®µæå‡ºäº†<strong>ä¸€è‡´æ€§æ„ŸçŸ¥çš„å¾®è°ƒæ–¹æ¡ˆ</strong>ã€‚è¯¥æ–¹æ¡ˆè‡ªåŠ¨æ£€æµ‹ç¼ºä¹ä¸€è‡´æŠ•å½±çš„åŒºåŸŸï¼Œå¹¶åœ¨ä¼˜åŒ–ä¸­æ’é™¤è¿™äº›åŒºåŸŸã€‚äº‹å®è¯æ˜ï¼Œè¯¥ç­–ç•¥æœ‰æ•ˆåœ°ä½¿å¾®è°ƒè¡¨é¢ä¸æ˜“å—é®æŒ¡å’Œå™ªå£°çš„å½±å“ï¼Œä»è€Œæ›´å‡†ç¡®ï¼Œæ›´æ¸…æ´ï¼Œæœ‰åŠ©äºé«˜è´¨é‡çš„é‡å»ºã€‚</li></ul><p>æˆ‘ä»¬åœ¨DTU[11]å’ŒBlendedMVS[48]æ•°æ®é›†ä¸Šè¯„ä¼°äº†æˆ‘ä»¬çš„æ–¹æ³•ï¼Œå¹¶è¡¨æ˜æˆ‘ä»¬çš„æ–¹æ³•åœ¨å®šé‡å’Œå®šæ€§ä¸Šéƒ½ä¼˜äºæœ€å…ˆè¿›çš„æ— ç›‘ç£ç¥ç»éšå¼è¡¨é¢é‡å»ºæ–¹æ³•</p><p>In Summary</p><ul><li>æå‡ºäº†ä¸€ç§åŸºäºç¥ç»ç»˜åˆ¶çš„è¡¨é¢é‡å»ºæ–¹æ³•ã€‚æˆ‘ä»¬çš„æ–¹æ³•å­¦ä¹ äº†è·¨åœºæ™¯çš„å¯æ³›åŒ–å…ˆéªŒï¼Œå› æ­¤å¯ä»¥æ³›åŒ–åˆ°å…·æœ‰é«˜è´¨é‡å‡ ä½•ç»“æ„çš„æ–°åœºæ™¯è¿›è¡Œ3Dé‡å»ºã€‚</li><li>æˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿä»ç¨€ç–çš„å›¾åƒé›†(å°‘è‡³2æˆ–3å¼ å›¾åƒ)è¿›è¡Œé«˜è´¨é‡çš„é‡å»ºã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨ä¸‰ç§æ–°ç­–ç•¥æœ‰æ•ˆåœ°ä»ç¨€ç–è¾“å…¥å›¾åƒæ¨æ–­3Dè¡¨é¢æ¥å®ç°çš„:<ul><li>a)å¤šçº§å‡ ä½•æ¨ç†multi-level geometry reasoning;</li><li>b)å¤šå°ºåº¦é…è‰²multi-scale color blending;</li><li>c)ä¸€è‡´æ€§æ„è¯†å¾®è°ƒã€‚consistency-aware fine-tuning</li></ul></li><li>æˆ‘ä»¬çš„æ–¹æ³•åœ¨é‡å»ºè´¨é‡å’Œè®¡ç®—æ•ˆç‡æ–¹é¢éƒ½ä¼˜äºæœ€å…ˆè¿›çš„æ–¹æ³•</li></ul><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><ul><li>Multi-view stereo(MVS)<ul><li>ç»å…¸çš„MVSæ–¹æ³•åˆ©ç”¨å„ç§3Dè¡¨ç¤ºè¿›è¡Œé‡å»ºï¼Œä¾‹å¦‚:åŸºäºä½“ç´ ç½‘æ ¼çš„[12,13,15,18,37,40]ï¼ŒåŸºäº3Dç‚¹äº‘çš„[7,19]ï¼Œä»¥åŠåŸºäºæ·±åº¦å›¾çš„[2,8,36,42,47,10,27,26,25]ã€‚ä¸ä½“ç´ ç½‘æ ¼å’Œ3Dç‚¹äº‘ç›¸æ¯”ï¼Œæ·±åº¦å›¾æ›´åŠ çµæ´»ï¼Œæ›´é€‚åˆå¹¶è¡Œè®¡ç®—ï¼Œ<strong>å› æ­¤åŸºäºæ·±åº¦å›¾çš„æ–¹æ³•æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå¦‚è‘—åçš„COLMAP</strong>[36]æ–¹æ³•ã€‚<strong>åŸºäºæ·±åº¦å›¾çš„æ–¹æ³•é¦–å…ˆä¼°è®¡æ¯ä¸ªå›¾åƒçš„æ·±åº¦å›¾ï¼Œç„¶ååˆ©ç”¨æ»¤æ³¢æ“ä½œå°†æ·±åº¦å›¾èåˆåœ¨ä¸€èµ·ï¼Œå½¢æˆå…¨å±€ç‚¹äº‘ï¼Œç„¶åä½¿ç”¨ç­›é€‰æ³Šæ¾æ›²é¢é‡å»º[16]ç­‰ç½‘æ ¼ç®—æ³•è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†</strong>ã€‚è¿™äº›æ–¹æ³•åœ¨å¯†é›†æ•è·çš„å›¾åƒä¸Šå–å¾—äº†å¾ˆå¥½çš„æ•ˆæœã€‚<strong>ç„¶è€Œï¼Œç”±äºå›¾åƒæ•°é‡æœ‰é™ï¼Œè¿™äº›æ–¹æ³•å¯¹å›¾åƒå™ªå£°ã€å¼±çº¹ç†å’Œåå°„æ›´åŠ æ•æ„Ÿï¼Œä½¿å¾—è¿™äº›æ–¹æ³•éš¾ä»¥äº§ç”Ÿå®Œæ•´çš„é‡å»º</strong></li></ul></li><li>Neural surface reconstruction<ul><li>è¿‘å¹´æ¥ï¼Œä¸‰ç»´å‡ ä½•çš„ç¥ç»éšå¼è¡¨ç¤ºå·²æˆåŠŸåº”ç”¨äºå½¢çŠ¶å»ºæ¨¡[1,4,9,28,33,29]ã€æ–°è§†å›¾åˆæˆ[39,24,30,21,34,38,38,43]å’Œå¤šè§†å›¾ä¸‰ç»´é‡å»º[14,50,31,17,22,44,49,32,32,52,52,6]ã€‚</li><li>å¯¹äºå¤šè§†å›¾é‡å»ºä»»åŠ¡ï¼Œä¸‰ç»´å‡ ä½•å›¾å½¢ç”±ç¥ç»ç½‘ç»œè¡¨ç¤ºï¼Œ<strong>ç¥ç»ç½‘ç»œè¾“å‡ºå ç”¨åœºæˆ–ç¬¦å·è·ç¦»å‡½æ•°</strong>(SDF)ã€‚ä¸€äº›æ–¹æ³•åˆ©ç”¨è¡¨é¢æ¸²æŸ“[31]è¿›è¡Œå¤šè§†å›¾é‡å»ºï¼Œä½†å®ƒä»¬æ€»æ˜¯<strong>éœ€è¦é¢å¤–çš„å¯¹è±¡æ©æ¨¡</strong>[50,31]æˆ–æ·±åº¦å…ˆéªŒ[52]ï¼Œè¿™åœ¨å®é™…åº”ç”¨ä¸­æ•ˆç‡è¾ƒä½ã€‚</li><li>ä¸ºäº†é¿å…é¢å¤–çš„æ©ç æˆ–æ·±åº¦å…ˆéªŒï¼Œä¸€äº›æ–¹æ³•[44,49,32,6]<strong>åˆ©ç”¨ä½“ç»˜åˆ¶è¿›è¡Œé‡å»º</strong>ã€‚ç„¶è€Œï¼Œå®ƒä»¬ä¹Ÿ<strong>ä¸¥é‡ä¾èµ–äºå¤§é‡çš„å›¾åƒæ¥æ‰§è¡Œè€—æ—¶çš„é€åœºæ™¯ä¼˜åŒ–ï¼Œå› æ­¤æ— æ³•æ¨å¹¿åˆ°æ–°çš„åœºæ™¯</strong>ã€‚</li><li>åœ¨æ³›åŒ–æ–¹é¢ï¼Œå·²æœ‰ä¸€äº›æˆåŠŸçš„ç¥ç»æ¸²æŸ“å°è¯•[51,45,3,23,5]ã€‚è¿™äº›æ–¹æ³•ä»¥ç¨€ç–è§†å›¾ä¸ºè¾“å…¥ï¼Œåˆ©ç”¨å›¾åƒçš„äº®åº¦ä¿¡æ¯ç”Ÿæˆæ–°çš„è§†å›¾ï¼Œå¯ä»¥æ¨å¹¿åˆ°æœªè§åœºæ™¯ã€‚<strong>è™½ç„¶è¿™äº›æ–¹æ³•å¯ä»¥ç”Ÿæˆåˆç†çš„åˆæˆå›¾åƒï¼Œä½†æå–çš„å‡ ä½•å›¾å½¢å¾€å¾€å­˜åœ¨å™ªå£°ã€ä¸å®Œæ•´æ€§å’Œå¤±çœŸç­‰é—®é¢˜</strong>ã€‚</li></ul></li></ul><h1 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h1><p>ç»™å®šå‡ ä¸ª(å³ä¸‰ä¸ª)å…·æœ‰å·²çŸ¥ç›¸æœºå‚æ•°çš„è§†å›¾ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§<strong>åˆ†å±‚æ¢å¤è¡¨é¢å¹¶è·¨åœºæ™¯è¿›è¡Œæ³›åŒ–çš„æ–°æ–¹æ³•</strong>ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„ç®¡é“å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†:<br>(1)å‡ ä½•æ¨ç†ã€‚SparseNeuSé¦–å…ˆæ„å»ºçº§è”å‡ ä½•ç¼–ç ä½“ï¼Œå¯¹å±€éƒ¨å‡ ä½•è¡¨é¢ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œå¹¶ä»¥ç²—åˆ°ç»†çš„æ–¹å¼ä»ä½“ç§¯ä¸­æ¢å¤è¡¨é¢(å‚è§3.1èŠ‚)ã€‚<br>(2)å¤–è§‚é¢„æµ‹ã€‚SparseNeuSåˆ©ç”¨å¤šå°ºåº¦é¢œè‰²æ··åˆæ¨¡å—é€šè¿‡æ±‡æ€»è¾“å…¥å›¾åƒçš„ä¿¡æ¯æ¥é¢„æµ‹é¢œè‰²ï¼Œ<strong>ç„¶åå°†ä¼°è®¡çš„å‡ ä½•å½¢çŠ¶ä¸é¢„æµ‹çš„é¢œè‰²ç›¸ç»“åˆï¼Œä½¿ç”¨ä½“ç»˜åˆ¶æ¥æ¸²æŸ“åˆæˆè§†å›¾</strong>(å‚è§3.2èŠ‚)ã€‚<br>(3)é€åœºæ™¯å¾®è°ƒã€‚æœ€åï¼Œæå‡ºäº†ä¸€ç§ä¸€è‡´æ€§æ„ŸçŸ¥çš„å¾®è°ƒæ–¹æ¡ˆï¼Œä»¥è¿›ä¸€æ­¥æ”¹å–„è·å¾—çš„å…·æœ‰ç»†ç²’åº¦ç»†èŠ‚çš„å‡ ä½•å½¢çŠ¶(å‚è§3.3èŠ‚)ã€‚<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230718133443.png" alt="image.png"><br><em>SparseNeuSæ¦‚è¿°ã€‚çº§è”å‡ ä½•æ¨ç†æ–¹æ¡ˆé¦–å…ˆæ„å»ºä¸€ä¸ªç¼–ç ç›¸å¯¹å…¨å±€ç‰¹å¾çš„ç²—ä½“æ¥è·å¾—åŸºæœ¬å‡ ä½•ï¼Œç„¶ååœ¨ç²—å±‚çš„å¼•å¯¼ä¸‹æ„å»ºä¸€ä¸ªç²¾ç»†ä½“æ¥ç»†åŒ–å‡ ä½•ã€‚æœ€åï¼Œä½¿ç”¨ä¸€è‡´æ€§æ„ŸçŸ¥å¾®è°ƒç­–ç•¥æ¥æ·»åŠ å¾®å¦™çš„å‡ ä½•ç»†èŠ‚ï¼Œä»è€Œäº§ç”Ÿå…·æœ‰ç»†ç²’åº¦è¡¨é¢çš„é«˜è´¨é‡é‡å»ºã€‚ç‰¹åˆ«åœ°ï¼Œåˆ©ç”¨å¤šå°ºåº¦é¢œè‰²æ··åˆæ¨¡å—è¿›è¡Œæ›´å¯é çš„é¢œè‰²é¢„æµ‹</em></p><h2 id="Geometry-reasoning"><a href="#Geometry-reasoning" class="headerlink" title="Geometry reasoning"></a>Geometry reasoning</h2><p>SparseNeuSæ„å»ºä¸¤ç§ä¸åŒåˆ†è¾¨ç‡çš„çº§è”å‡ ä½•ç¼–ç ä½“è¿›è¡Œå‡ ä½•æ¨ç†ï¼Œèšåˆå›¾åƒç‰¹å¾å¯¹å±€éƒ¨å‡ ä½•ä¿¡æ¯è¿›è¡Œç¼–ç ã€‚è¯¥æ–¹æ³•é¦–å…ˆä»ä½åˆ†è¾¨ç‡çš„å‡ ä½•ç¼–ç ä½“ä¸­æå–ç²—å‡ ä½•ï¼Œç„¶åç”¨ç²—å‡ ä½•æ¥æŒ‡å¯¼ç²¾ç»†å±‚æ¬¡çš„å‡ ä½•æ¨ç†ã€‚</p><p><strong>å‡ ä½•ç¼–ç ä½“ç§¯</strong><br>å¯¹äºNå¹…è¾“å…¥å›¾åƒ$\{I_i\}_{i=0}^{N-1}$æ•è·çš„åœºæ™¯ï¼Œæˆ‘ä»¬é¦–å…ˆä¼°è®¡ä¸€ä¸ªèƒ½å¤Ÿè¦†ç›–æ„Ÿå…´è¶£åŒºåŸŸçš„è¾¹ç•Œæ¡†ã€‚åœ¨å±…ä¸­è¾“å…¥å›¾åƒçš„ç›¸æœºåæ ‡ç³»ä¸­å®šä¹‰è¾¹ç•Œæ¡†ï¼Œç„¶åç½‘æ ¼åŒ–æˆè§„åˆ™ä½“ç´ ã€‚ä¸ºäº†æ„é€ å‡ ä½•ç¼–ç ä½“Mï¼Œé€šè¿‡äºŒç»´ç‰¹å¾æå–ç½‘ç»œä»è¾“å…¥å›¾åƒ$\{I_i\}_{i=0}^{N-1}$ä¸­æå–äºŒç»´ç‰¹å¾æ˜ å°„$\{F_{i}\}_{i=0}^{N-1}$ã€‚æ¥ä¸‹æ¥ï¼Œåˆ©ç”¨ä¸€å¼ å›¾åƒ$I_{i}$çš„ç›¸æœºå‚æ•°ï¼Œå°†è¾¹ç•Œæ¡†çš„æ¯ä¸ªé¡¶ç‚¹væŠ•å½±åˆ°æ¯ä¸ªç‰¹å¾æ˜ å°„$F_{i}$ä¸Šï¼Œé€šè¿‡æ’å€¼å¾—åˆ°å…¶ç‰¹å¾$F_i(\pi_i(v))$ï¼Œå…¶ä¸­$\pi_i(v)$è¡¨ç¤ºvåœ¨ç‰¹å¾å›¾$F_{i}$ä¸Šçš„æŠ•å½±åƒç´ ä½ç½®ã€‚ä¸ºç®€ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å°†$F_i(\pi_i(v))$ç¼©å†™ä¸º$F_{i}(v).$ã€‚</p><p>ä½¿ç”¨æ¯ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰æŠ•å½±ç‰¹å¾$\{F_i(v)\}_{i=0}^{N-1}$æ„é€ å‡ ä½•ç¼–ç ä½“ç§¯Mã€‚æŒ‰ç…§ä¹‹å‰çš„æ–¹æ³•[46,3]ï¼Œæˆ‘ä»¬é¦–å…ˆè®¡ç®—é¡¶ç‚¹æ‰€æœ‰æŠ•å½±ç‰¹å¾çš„æ–¹å·®æ¥æ„å»ºcost ä½“ç§¯Bï¼Œç„¶ååº”ç”¨ç¨€ç–çš„3D CNN $\mathbb{\Psi}$å¯¹ä»£ä»·ä½“ç§¯Bè¿›è¡Œèšåˆï¼Œå¾—åˆ°å‡ ä½•ç¼–ç ä½“ç§¯M:<br>$M=\psi(B),\quad B(v)=\mathrm{Var}\left(\{F_{i}(v)\}_{i=0}^{N-1}\right),$<br>å…¶ä¸­Varä¸ºæ–¹å·®è¿ç®—ï¼Œè®¡ç®—æ¯ä¸ªé¡¶ç‚¹vçš„æ‰€æœ‰æŠ•å½±ç‰¹å¾$\{F_i(v)\}_{i=0}^{N-1}$çš„æ–¹å·®ã€‚</p><p><strong>è¡¨é¢æå–</strong><br>ç»™å®šä»»æ„ä¸‰ç»´ä½ç½®q, MLPç½‘ç»œ$f_{Î¸}$ä»¥ä¸‰ç»´åæ ‡åŠå…¶å¯¹åº”çš„å‡ ä½•ç¼–ç ä½“M (q)çš„æ’å€¼ç‰¹å¾çš„ç»„åˆä½œä¸ºè¾“å…¥ï¼Œé¢„æµ‹ç”¨äºæ›²é¢è¡¨ç¤ºçš„æœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF) s(q)ã€‚å…¶ä¸­ï¼Œå¯¹å…¶ä¸‰ç»´åæ ‡è¿›è¡Œä½ç½®ç¼–ç PEï¼Œæ›²é¢æå–æ“ä½œè¡¨ç¤ºä¸º:$s(q)=f_\theta(\operatorname{PE}(q),M(q)).$</p><p><strong>çº§è”ä½“ç§¯æ–¹æ¡ˆ</strong><br>ä¸ºäº†å¹³è¡¡è®¡ç®—æ•ˆç‡å’Œé‡å»ºç²¾åº¦ï¼ŒSparseNeuSæ„å»ºäº†ä¸¤ç§åˆ†è¾¨ç‡çš„çº§è”å‡ ä½•ç¼–ç ä½“ï¼Œä»¥ç²—åˆ°ç²¾çš„æ–¹å¼è¿›è¡Œå‡ ä½•æ¨ç†ã€‚é¦–å…ˆæ„å»ºç²—ç³™å‡ ä½•ç¼–ç ä½“æ¥æ¨æ–­åŸºæœ¬å‡ ä½•ï¼Œè¯¥ç¼–ç ä½“å‘ˆç°åœºæ™¯çš„å…¨å±€ç»“æ„ï¼Œä½†ç”±äºä½“ç§¯åˆ†è¾¨ç‡æœ‰é™ï¼Œç²¾åº¦ç›¸å¯¹è¾ƒä½ã€‚åœ¨å¾—åˆ°çš„ç²—å‡ ä½•ç»“æ„çš„æŒ‡å¯¼ä¸‹ï¼Œæ„å»ºç²¾ç»†å‡ ä½•ç¼–ç ä½“ï¼Œè¿›ä¸€æ­¥ç»†åŒ–è¡¨é¢ç»†èŠ‚ã€‚åœ¨ç²¾ç»†çº§ä½“ç§¯ä¸­ï¼Œå¯ä»¥ä¸¢å¼ƒè®¸å¤šè¿œç¦»ç²—ç³™è¡¨é¢çš„é¡¶ç‚¹ï¼Œè¿™å¤§å¤§å‡å°‘äº†è®¡ç®—å†…å­˜è´Ÿæ‹…ï¼Œæé«˜äº†æ•ˆç‡ã€‚</p><h2 id="Appearance-prediction"><a href="#Appearance-prediction" class="headerlink" title="Appearance prediction"></a>Appearance prediction</h2><p>ç»™å®šæ–¹å‘ä¸ºdçš„å°„çº¿ä¸Šçš„ä»»æ„3Dä½ç½®qï¼Œæˆ‘ä»¬é€šè¿‡æ±‡æ€»æ¥è‡ªè¾“å…¥å›¾åƒçš„å¤–è§‚ä¿¡æ¯æ¥é¢„æµ‹å…¶é¢œè‰²ã€‚åœ¨ç¨€ç–è¾“å…¥å›¾åƒä¿¡æ¯æœ‰é™çš„æƒ…å†µä¸‹ï¼Œç½‘ç»œå¾ˆéš¾ç›´æ¥å›å½’é¢œè‰²å€¼æ¥å‘ˆç°æ–°è§†å›¾ã€‚ä¸ä¹‹å‰çš„ä½œå“[51,3]ä¸åŒï¼Œsparseneusé€šè¿‡é¢„æµ‹è¾“å…¥å›¾åƒçš„æ··åˆæƒé‡æ¥ç”Ÿæˆæ–°çš„é¢œè‰²ã€‚é¦–å…ˆå°†ä¸€ä¸ªä½ç½®qæŠ•å½±åˆ°è¾“å…¥å›¾åƒä¸Šï¼Œå¾—åˆ°ç›¸åº”çš„é¢œè‰²$\{I_i(q)\}_{i=0}^{N-1}.$ã€‚ç„¶åä½¿ç”¨ä¼°è®¡çš„æ··åˆæƒå€¼å°†æ¥è‡ªä¸åŒè§†å›¾çš„é¢œè‰²æ··åˆåœ¨ä¸€èµ·ä½œä¸ºqçš„é¢„æµ‹é¢œè‰²ã€‚</p><p><strong>æ··åˆæƒé‡</strong><br>ç”Ÿæˆæ··åˆæƒå€¼$\{w_i^q\}_{i=0}^{N-1}$çš„å…³é”®æ˜¯è€ƒè™‘è¾“å…¥å›¾åƒçš„æ‘„å½±ä¸€è‡´æ€§ã€‚æˆ‘ä»¬å°†qæŠ•å½±åˆ°ç‰¹å¾æ˜ å°„$\{F_{i}\}_{i=0}^{N-1}$ä¸Šï¼Œä½¿ç”¨åŒçº¿æ€§æ’å€¼æå–ç›¸åº”çš„ç‰¹å¾$\{F_i(q)\}_{i=0}^{N-1}$ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä»ä¸åŒçš„è§’åº¦è®¡ç®—ç‰¹å¾$\{F_i(q)\}_{i=0}^{N-1}$çš„å‡å€¼å’Œæ–¹å·®ï¼Œä»¥è·å–å…¨å±€æ‘„å½±ä¸€è‡´æ€§ä¿¡æ¯ã€‚æ¯ä¸ªç‰¹å¾$F_{i}(q)$ä¸å‡å€¼å’Œæ–¹å·®è¿æ¥åœ¨ä¸€èµ·ï¼Œç„¶åè¾“å…¥åˆ°ä¸€ä¸ªå¾®å°çš„MLPç½‘ç»œä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„ç‰¹å¾$F_i^{\prime}(q)$ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ–°ç‰¹å¾$F_i^{\prime}(q)$ï¼ŒæŸ¥è¯¢å°„çº¿ç›¸å¯¹äºç¬¬iä¸ªè¾“å…¥å›¾åƒçš„è§‚å¯Ÿæ–¹å‘çš„è§‚å¯Ÿæ–¹å‘$\Delta d_{i}=d{-}d_{i},$ï¼Œä»¥åŠä¸‰çº¿æ€§æ’å€¼çš„ä½“ç§¯ç¼–ç ç‰¹å¾M(q)è¾“å…¥MLPç½‘ç»œ$f_c$ï¼Œä»¥ç”Ÿæˆæ··åˆæƒå€¼:$w_{i}^{q}=f_{c}(F_{i}^{\prime}(q),M(q),\Delta d_{i}).$ã€‚æœ€åï¼Œä½¿ç”¨Softmaxç®—å­å¯¹æ··åˆæƒå€¼$\{w_i^q\}_{i=0}^{N-1}$è¿›è¡Œå½’ä¸€åŒ–ã€‚</p><p><strong>åŸºäºåƒç´ çš„é¢œè‰²æ··åˆ</strong><br>åˆ©ç”¨å¾—åˆ°çš„æ··åˆæƒå€¼ï¼Œé¢„æµ‹3Dä½ç½®qçš„color $c_q$ä¸ºå…¶æŠ•å½±é¢œè‰²$\{I_i(q)\}_{i=0}^{N-1}$åœ¨è¾“å…¥å›¾åƒä¸Šçš„åŠ æƒå’Œã€‚ä¸ºäº†æ¸²æŸ“æŸ¥è¯¢å…‰çº¿çš„é¢œè‰²ï¼Œæˆ‘ä»¬é¦–å…ˆé¢„æµ‹åœ¨å…‰çº¿ä¸Šé‡‡æ ·çš„3Dç‚¹çš„é¢œè‰²å’ŒSDFå€¼ã€‚ä½¿ç”¨åŸºäºSDFçš„ä½“ç»˜åˆ¶[44]ï¼Œå°†é‡‡æ ·ç‚¹çš„é¢œè‰²å’ŒSDFå€¼èšåˆä»¥è·å¾—å…‰çº¿çš„æœ€ç»ˆé¢œè‰²ã€‚ç”±äºæŸ¥è¯¢å…‰çº¿çš„é¢œè‰²å¯¹åº”äºåˆæˆå›¾åƒçš„ä¸€ä¸ªåƒç´ ï¼Œå› æ­¤æˆ‘ä»¬å°†æ­¤æ“ä½œå‘½åä¸ºåŸºäºåƒç´ çš„æ··åˆã€‚å°½ç®¡å¯¹åŸºäºåƒç´ çš„æ··åˆæ‰€å‘ˆç°çš„é¢œè‰²çš„ç›‘ç£å·²ç»è¯±å¯¼å‡ºæœ‰æ•ˆçš„å‡ ä½•æ¨ç†ï¼Œä½†åƒç´ çš„ä¿¡æ¯æ˜¯å±€éƒ¨çš„ï¼Œç¼ºä¹ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå› æ­¤å½“è¾“å…¥æ˜¯ç¨€ç–çš„æ—¶ï¼Œé€šå¸¸ä¼šå¯¼è‡´ä¸ä¸€è‡´çš„è¡¨é¢æ–‘å—ã€‚</p><p><strong>åŸºäºè¡¥ä¸çš„é¢œè‰²æ··åˆ</strong><br>å—ç»å…¸patch åŒ¹é…çš„å¯å‘ï¼Œæˆ‘ä»¬è€ƒè™‘å¼ºåˆ¶åˆæˆé¢œè‰²å’Œgté¢œè‰²ä¸Šä¸‹æ–‡ä¸€è‡´;å³ä¸ä»…åœ¨åƒç´ çº§ï¼Œè€Œä¸”åœ¨è´´ç‰‡çº§ã€‚è¦æ¸²æŸ“å¤§å°ä¸ºk Ã— kçš„patchçš„é¢œè‰²ï¼Œä¸€ç§å¹¼ç¨šçš„å®ç°æ˜¯ä½¿ç”¨ä½“æ¸²æŸ“æŸ¥è¯¢$k^2$å°„çº¿çš„é¢œè‰²ï¼Œè¿™ä¼šå¯¼è‡´å¤§é‡çš„è®¡ç®—é‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åˆ©ç”¨<strong>å±€éƒ¨æ›²é¢å‡è®¾å’Œå•åº”æ€§å˜æ¢</strong>æ¥å®ç°æ›´æœ‰æ•ˆçš„å®ç°ã€‚</p><p>å…³é”®æ€æƒ³æ˜¯ä¼°è®¡é‡‡æ ·ç‚¹çš„å±€éƒ¨å¹³é¢ï¼Œä»è€Œæœ‰æ•ˆåœ°å¯¼å‡ºå±€éƒ¨patchã€‚ç»™å®šä¸€ä¸ªé‡‡æ ·ç‚¹qï¼Œæˆ‘ä»¬åˆ©ç”¨SDFç½‘ç»œs(q)çš„æ€§è´¨ï¼Œé€šè¿‡è®¡ç®—ç©ºé—´æ¢¯åº¦æ¥ä¼°è®¡æ³•å‘$n_{q}$ï¼Œå³$n_q=\nabla s(q)$ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯¹å±€éƒ¨å¹³é¢$(q,n_q)$ä¸Šçš„ä¸€ç»„ç‚¹è¿›è¡Œé‡‡æ ·ï¼Œå°†é‡‡æ ·ç‚¹æŠ•å½±åˆ°æ¯ä¸ªè§†å›¾ä¸Šï¼Œå¹¶å¯¹æ¯ä¸ªè¾“å…¥å›¾åƒè¿›è¡Œæ’å€¼å¾—åˆ°é¢œè‰²ã€‚<strong>å±€éƒ¨å¹³é¢ä¸Šçš„æ‰€æœ‰ç‚¹ä¸qå…±äº«ç›¸åŒçš„æ··åˆæƒå€¼ï¼Œå› æ­¤åªéœ€è¦æŸ¥è¯¢ä¸€æ¬¡æ··åˆæƒå€¼</strong>ã€‚åˆ©ç”¨å±€éƒ¨å¹³é¢å‡è®¾ï¼Œè€ƒè™‘æŸ¥è¯¢ä¸‰ç»´ä½ç½®çš„é‚»è¿‘å‡ ä½•ä¿¡æ¯ï¼Œå¯¹å±€éƒ¨è¡¥ä¸çš„ä¸Šä¸‹æ–‡ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œå¢å¼ºäº†æŸ¥è¯¢ä¸‰ç»´ä½ç½®çš„å‡ ä½•ä¸€è‡´æ€§ã€‚é€šè¿‡é‡‡ç”¨åŸºäºpatchçš„ä½“ç»˜åˆ¶ï¼ŒåˆæˆåŒºåŸŸæ¯”å•ä¸ªåƒç´ åŒ…å«æ›´å¤šçš„å…¨å±€ä¿¡æ¯ï¼Œä»è€Œäº§ç”Ÿæ›´æœ‰ä¿¡æ¯é‡å’Œä¸€è‡´æ€§çš„å½¢çŠ¶ä¸Šä¸‹æ–‡ï¼Œç‰¹åˆ«æ˜¯åœ¨çº¹ç†è¾ƒå¼±å’Œå¼ºåº¦å˜åŒ–çš„åŒºåŸŸã€‚</p><p><strong>ä½“ç§¯æ¸²æŸ“</strong><br>ä¸ºäº†ç»˜åˆ¶ç»è¿‡åœºæ™¯çš„å…‰çº¿rçš„åƒç´ è‰²C(r)æˆ–è¡¥ä¸è‰²P (r)ï¼Œæˆ‘ä»¬æŸ¥è¯¢å…‰çº¿ä¸ŠMä¸ªæ ·æœ¬çš„åƒç´ è‰²ã€è¡¥ä¸è‰²$p_i$å’Œsdfå€¼$s_i$ï¼Œç„¶ååˆ©ç”¨Neusä¸­ä½“æ¸²æŸ“å‡½æ•°å°†sdfå€¼$s_i$è½¬æ¢ä¸ºå¯†åº¦$Ïƒ_i$ã€‚æœ€åï¼Œå¯†åº¦è¢«ç”¨æ¥æ²¿ç€å°„çº¿ç§¯ç´¯åŸºäºåƒç´ å’ŒåŸºäºè¡¥ä¸çš„é¢œè‰²:$U(r)=\sum_{i=1}^MT_i\left(1-\exp\left(-\sigma_i\right)\right)u_i,\quad\mathrm{where}\quad T_i=\exp\left(-\sum_{j=1}^{i-1}\sigma_j\right)$<br>å…¶ä¸­U (r)è¡¨ç¤ºC (r)æˆ–P (r)ï¼Œ $u_{i}$è¡¨ç¤ºç¬¬iä¸ªæ ·æœ¬åœ¨å°„çº¿ä¸ŠåŸºäºåƒç´ çš„é¢œè‰²$c_{i}$æˆ–åŸºäºpatchçš„é¢œè‰²$p_{i}$ã€‚</p><h2 id="Per-scene-fine-tuning"><a href="#Per-scene-fine-tuning" class="headerlink" title="Per-scene fine-tuning"></a>Per-scene fine-tuning</h2><p>åˆ©ç”¨å¯æ¨å¹¿çš„å…ˆéªŒå’Œæœ‰æ•ˆçš„å‡ ä½•æ¨ç†æ¡†æ¶ï¼Œåœ¨ç»™å®šæ–°åœºæ™¯çš„ç¨€ç–å›¾åƒçš„æƒ…å†µä¸‹ï¼ŒSparseNeuSå·²ç»å¯ä»¥é€šè¿‡å¿«é€Ÿç½‘ç»œæ¨ç†æ¢å¤å‡ ä½•è¡¨é¢ã€‚<strong>ç„¶è€Œï¼Œç”±äºç¨€ç–è¾“å…¥è§†å›¾ä¸­çš„ä¿¡æ¯æœ‰é™ï¼Œä»¥åŠä¸åŒåœºæ™¯çš„é«˜åº¦å¤šæ ·æ€§å’Œå¤æ‚æ€§ï¼Œé€šç”¨æ¨¡å‹è·å¾—çš„å‡ ä½•å½¢çŠ¶å¯èƒ½åŒ…å«ä¸å‡†ç¡®çš„å¼‚å¸¸å€¼ï¼Œç¼ºä¹å¾®å¦™çš„ç»†èŠ‚</strong>ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¾®è°ƒæ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä»¥æ¨æ–­çš„å‡ ä½•å½¢çŠ¶ä¸ºæ¡ä»¶ï¼Œé‡æ„ç»†å¾®ç»†èŠ‚å¹¶ç”Ÿæˆæ›´ç»†ç²’åº¦çš„è¡¨é¢ã€‚ç”±äºç½‘ç»œæ¨ç†ç»™å‡ºçš„åˆå§‹åŒ–ï¼Œæ¯ä¸ªåœºæ™¯çš„ä¼˜åŒ–å¯ä»¥å¿«é€Ÿæ”¶æ•›åˆ°ä¸€ä¸ªé«˜è´¨é‡çš„æ›²é¢ã€‚</p><p><strong>ç²¾è°ƒç½‘ç»œFine-tuning networks</strong><br>åœ¨å¾®è°ƒä¸­ï¼Œæˆ‘ä»¬ç›´æ¥ä¼˜åŒ–å¾—åˆ°çš„ç²¾ç»†çº§å‡ ä½•ç¼–ç ä½“ç§¯å’Œæœ‰ç¬¦å·è·ç¦»å‡½æ•°(SDF)ç½‘ç»œ$f_Î¸$ï¼Œè€Œ<strong>ä¸¢å¼ƒäºŒç»´ç‰¹å¾æå–ç½‘ç»œå’Œä¸‰ç»´ç¨€ç–CNNç½‘ç»œ</strong>ã€‚<br>æ­¤å¤–ï¼Œåœ¨é€šç”¨è®¾ç½®ä¸­ä½¿ç”¨çš„åŸºäºCNNçš„æ··åˆç½‘ç»œè¢«ä¸€ä¸ªå¾®å°çš„MLPç½‘ç»œæ‰€å–ä»£ã€‚è™½ç„¶åŸºäºCNNçš„ç½‘ç»œä¹Ÿå¯ä»¥ç”¨äºé€åœºæ™¯å¾®è°ƒï¼Œä½†é€šè¿‡å®éªŒï¼Œ<strong>æˆ‘ä»¬å‘ç°ä¸€ä¸ªæ–°çš„å¾®å‹MLPå¯ä»¥åŠ é€Ÿå¾®è°ƒè€Œä¸ä¼šæŸå¤±æ€§èƒ½</strong>ï¼Œå› ä¸ºMLPæ¯”åŸºäºCNNçš„ç½‘ç»œå°å¾—å¤šã€‚MLPç½‘ç»œä»ç„¶è¾“å‡ºæ··åˆæƒé‡$\{w_{i}^{q}\}_{i=0}^{N-1}$æŸ¥è¯¢çš„3Dä½ç½®q, ä½†æ˜¯éœ€è¦è¾“å…¥çš„ç»„åˆ3dåæ ‡q,è¡¨é¢æ³•å‘$n_q$,å°„çº¿æ–¹å‘d, é¢„æµ‹SDFs(q), å’Œå‡ ä½•ç¼–ç ä½“ç§¯çš„æ’å€¼ç‰¹å¾M(q)ã€‚ç‰¹åˆ«, ä½ç½®ç¼–ç PEåº”ç”¨äº3dä½ç½®qå’Œå°„çº¿æ–¹å‘dã€‚<br>MLPç½‘ç»œ$f_{c}^{\prime}$çš„å®šä¹‰æ˜¯:$\{w_i^q\}_{i=0}^{N-1}=f_c^{\prime}(\mathrm{PE}(q),\mathrm{PE}(d),n_q,s(q),M(q))$,å…¶ä¸­$\{w_i^q\}_{i=0}^{N-1}$ä¸ºé¢„æµ‹çš„æ··åˆæƒå€¼ï¼ŒNä¸ºè¾“å…¥å›¾åƒçš„ä¸ªæ•°ã€‚</p><p><strong>ä¸€è‡´æ€§æ„ŸçŸ¥çš„é¢œè‰²æŸå¤±</strong><br>æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œåœ¨å¤šè§†å›¾ç«‹ä½“ä¸­ï¼Œ<strong>ç”±äºæŠ•å½±å¯èƒ½è¢«å›¾åƒå™ªå£°é®æŒ¡æˆ–æ±¡æŸ“ï¼Œ3Dè¡¨é¢ç‚¹åœ¨ä¸åŒè§†å›¾ä¹‹é—´å¾€å¾€æ²¡æœ‰ä¸€è‡´çš„æŠ•å½±</strong>ã€‚å› æ­¤ï¼Œè¿™äº›åŒºåŸŸçš„è¯¯å·®å¤„äºæ¬¡ä¼˜çŠ¶æ€ï¼Œå¹¶ä¸”è¿™äº›åŒºåŸŸçš„é¢„æµ‹æ›²é¢æ€»æ˜¯ä¸å‡†ç¡®å’Œæ‰­æ›²çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ä¸€è‡´æ€§æ„ŸçŸ¥çš„é¢œè‰²æŸå¤±æ¥è‡ªåŠ¨æ£€æµ‹ç¼ºä¹ä¸€è‡´æŠ•å½±çš„åŒºåŸŸï¼Œå¹¶åœ¨ä¼˜åŒ–ä¸­æ’é™¤è¿™äº›åŒºåŸŸ:</p><script type="math/tex; mode=display">\begin{aligned}\mathcal{L}_{color}& =\sum_{r\in\mathbb{R}}O\left(r\right)\cdot\mathcal{D}_{pix}\left(C\left(r\right),\tilde{C}\left(r\right)\right)+\sum_{r\in\mathbb{R}}O\left(r\right)\cdot\mathcal{D}_{pat}\left(P\left(r\right),\tilde{P}\left(r\right)\right)  \\&+\lambda_0\sum_{r\in\mathbb{R}}log\left(O\left(r\right)\right)+\lambda_1\sum_{r\in\mathbb{R}}log\left(1-O\left(r\right)\right),\end{aligned}</script><p>å…¶ä¸­ræ˜¯ä¸€æ¡æŸ¥è¯¢å°„çº¿ï¼Œ$\mathbb{R}$æ˜¯æ‰€æœ‰æŸ¥è¯¢å°„çº¿çš„é›†åˆï¼Œ$O (r)$æ˜¯é€šè¿‡ä½“ç»˜åˆ¶å¾—åˆ°çš„æ²¿å°„çº¿rçš„ç´¯è®¡æƒå€¼ä¹‹å’Œã€‚ç”±å¼2ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æ¨å¯¼å‡º$\begin{aligned}O\left(r\right)=\sum_{i=1}^{M}T_i\left(1-\exp\left(-\sigma_i\right)\right).\end{aligned}$ã€‚<br>C (r)å’Œ$\tilde{C}\left(r\right)$åˆ†åˆ«ä¸ºæŸ¥è¯¢å°„çº¿çš„åŸºäºåƒç´ çš„æ¸²æŸ“å’Œgtçš„é¢œè‰²ï¼ŒP (r)å’Œ$\tilde{P}\left(r\right)$åˆ†åˆ«ä¸ºæŸ¥è¯¢å°„çº¿çš„åŸºäºpatchçš„æ¸²æŸ“å’Œgtçš„é¢œè‰²ï¼Œ$\mathcal{D}_{pix}$å’Œ$\mathcal{D}_{pat}$åˆ†åˆ«ä¸ºæ¸²æŸ“åƒç´ çš„é¢œè‰²å’Œæ¸²æŸ“patché¢œè‰²çš„æŸå¤±åº¦é‡ã€‚ç»éªŒä¸Šï¼Œæˆ‘ä»¬é€‰æ‹©$\mathcal{D}_{pix}$ä½œä¸ºL1æŸå¤±ï¼Œ$\mathcal{D}_{pat}$ä½œä¸ºå½’ä¸€åŒ–äº’ç›¸å…³(NCC)æŸå¤±ã€‚</p><p><strong>è¿™ä¸ªå…¬å¼èƒŒåçš„åŸç†æ˜¯ï¼ŒæŠ•å½±ä¸ä¸€è‡´çš„ç‚¹æ€»æ˜¯æœ‰æ¯”è¾ƒå¤§çš„é¢œè‰²è¯¯å·®ï¼Œåœ¨ä¼˜åŒ–ä¸­ä¸èƒ½æœ€å°åŒ–</strong>ã€‚å› æ­¤ï¼Œå¦‚æœåœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­é¢œè‰²è¯¯å·®éš¾ä»¥æœ€å°åŒ–ï¼Œæˆ‘ä»¬å¼ºåˆ¶å°†ç´¯ç§¯æƒå€¼$O (r)$çš„å’Œè®¾ä¸ºé›¶ï¼Œè¿™æ ·åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­å°±ä¼šæ’é™¤ä¸ä¸€è‡´çš„åŒºåŸŸã€‚ä¸ºäº†æ§åˆ¶ä¸€è‡´æ€§æ°´å¹³ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸¤ä¸ªé€»è¾‘æ­£åˆ™åŒ–æœ¯è¯­:Î»0/Î»1çš„æ¯”å€¼è¶Šå°ï¼Œä¿ç•™çš„åŒºåŸŸè¶Šå¤š;å¦åˆ™ï¼Œæ›´å¤šçš„åŒºåŸŸè¢«æ’é™¤ï¼Œè¡¨é¢æ›´å¹²å‡€ã€‚</p><h2 id="Training-loss"><a href="#Training-loss" class="headerlink" title="Training loss"></a>Training loss</h2><p>é€šè¿‡å¢å¼ºåˆæˆé¢œè‰²å’Œåœ°é¢çœŸå€¼é¢œè‰²çš„ä¸€è‡´æ€§ï¼ŒSparseNeuSçš„è®­ç»ƒä¸ä¾èµ–äºä¸‰ç»´åœ°é¢çœŸå€¼å½¢çŠ¶ã€‚æ€»æŸå¤±å‡½æ•°å®šä¹‰ä¸ºä¸‰ä¸ªæŸå¤±é¡¹çš„åŠ æƒå’Œ:<br>$\mathcal{L}=\mathcal{L}_\mathrm{color~}+\alpha\mathcal{L}_\mathrm{eik}+\beta\mathcal{L}_\mathrm{sparse}.$</p><p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œåœ¨é€šç”¨è®­ç»ƒçš„æ—©æœŸé˜¶æ®µï¼Œä¼°è®¡çš„å‡ ä½•å½¢çŠ¶ç›¸å¯¹ä¸å‡†ç¡®ï¼Œå¹¶ä¸”3Dè¡¨é¢ç‚¹å¯èƒ½æœ‰å¾ˆå¤§çš„è¯¯å·®ï¼Œå…¶ä¸­è¯¯å·®ä¸èƒ½æä¾›å…³äºåŒºåŸŸæ˜¯å¦äº®åº¦ä¸€è‡´çš„æ˜ç¡®çº¿ç´¢ã€‚æˆ‘ä»¬åœ¨æ¯ä¸ªåœºæ™¯çš„å¾®è°ƒä¸­åˆ©ç”¨äº†ä¸€è‡´æ€§æ„ŸçŸ¥çš„é¢œè‰²æŸå¤±ï¼Œå¹¶åœ¨é€šç”¨æ¨¡å‹çš„è®­ç»ƒä¸­åˆ é™¤äº†Eq. 3$\mathcal{L}_\mathrm{color~}$çš„æœ€åä¸¤ä¸ªä¸€è‡´æ€§æ„ŸçŸ¥é€»è¾‘é¡¹ã€‚</p><p>å¯¹é‡‡æ ·ç‚¹åº”ç”¨Eikonalé¡¹[9]ï¼Œå¯¹è¡¨é¢é¢„æµ‹ç½‘ç»œ$f_Î¸$å¾—åˆ°çš„SDFå€¼è¿›è¡Œæ­£åˆ™åŒ–:<br>$\mathcal{L}_{eik}=\frac{1}{\left|\mathbb{Q}\right|}\sum_{q\in\mathbb{Q}}\left(\left|\nabla f_{\theta}\left(q\right)\right|_{2}-1\right)^{2},$</p><p>å…¶ä¸­qä¸ºä¸€ä¸ªé‡‡æ ·çš„ä¸‰ç»´ç‚¹ï¼Œ$\mathbb{Q}$ä¸ºæ‰€æœ‰é‡‡æ ·ç‚¹çš„é›†åˆï¼Œ$\nabla f_{\theta}\left(q\right)$ä¸ºç½‘ç»œ$f_Î¸$ç›¸å¯¹äºé‡‡æ ·ç‚¹qçš„æ¢¯åº¦ï¼Œ$\left|\cdot\right|_{2}$ä¸ºl2èŒƒæ•°ã€‚Eikonalé¡¹å¼ºåˆ¶ç½‘ç»œ$f_Î¸$å…·æœ‰å•ä½l2èŒƒæ•°æ¢¯åº¦ï¼Œè¿™é¼“åŠ±$f_Î¸$ç”Ÿæˆå…‰æ»‘çš„è¡¨é¢ã€‚</p><p>æ­¤å¤–ï¼Œç”±äºä½“ç»˜åˆ¶ä¸­é€å…‰ç‡çš„ç´¯ç§¯ç‰¹æ€§ï¼Œå¯è§é¢åé¢çš„ä¸å¯è§æŸ¥è¯¢æ ·æœ¬ç¼ºä¹ç›‘ç£ï¼Œå¯¼è‡´å¯è§é¢åé¢çš„è‡ªç”±é¢ä¸å¯æ§ã€‚ä¸ºäº†ä½¿æˆ‘ä»¬çš„æ¡†æ¶èƒ½å¤Ÿç”Ÿæˆç´§å‡‘çš„å‡ ä½•æ›²é¢ï¼Œæˆ‘ä»¬<strong>é‡‡ç”¨ç¨€ç–æ­£åˆ™åŒ–é¡¹æ¥æƒ©ç½šä¸å¯æ§çš„è‡ªç”±æ›²é¢</strong>:</p><p>$\mathcal{L}_{sparse}=\frac{1}{\left|\mathbb{Q}\right|}\sum_{q\in\mathbb{Q}}\exp\left(-\tau\cdot\left|s(q)\right|\right),$<br>å…¶ä¸­$|s(q)|$ä¸ºé‡‡æ ·ç‚¹qçš„ç»å¯¹SDFå€¼ï¼ŒÏ„ä¸ºé‡æ–°ç¼©æ”¾SDFå€¼çš„è¶…å‚æ•°ã€‚<strong>è¿™ä¸€é¡¹å°†ä¿ƒä½¿å¯è§è¡¨é¢åé¢çš„ç‚¹çš„SDFå€¼è¿œç¦»0</strong>ã€‚åœ¨æå–0çº§é›†SDFç”Ÿæˆç½‘æ ¼æ—¶ï¼Œè¯¥é¡¹å¯ä»¥é¿å…ä¸å¯æ§çš„è‡ªç”±æ›²é¢ã€‚</p><h1 id="Datasets-and-Implementation"><a href="#Datasets-and-Implementation" class="headerlink" title="Datasets and Implementation"></a>Datasets and Implementation</h1><p><strong>Dataset</strong></p><ul><li>DTU: like IDR scene<ul><li>ä¸ºäº†æé«˜å­˜å‚¨æ•ˆç‡ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ†è¾¨ç‡ä¸º512 Ã— 640çš„ä¸­å¿ƒè£å‰ªå›¾åƒè¿›è¡Œè®­ç»ƒã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°DTUæ•°æ®é›†çš„å›¾åƒåŒ…å«å¤§é‡çš„é»‘è‰²èƒŒæ™¯ï¼Œå¹¶ä¸”è¿™äº›åŒºåŸŸå…·æœ‰ç›¸å½“å¤§çš„å›¾åƒå™ªå£°ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨åŸºäºç®€å•é˜ˆå€¼çš„å»å™ªç­–ç•¥æ¥å‡è½»è®­ç»ƒå›¾åƒä¸­è¿™äº›åŒºåŸŸçš„å™ªå£°ã€‚å¯é€‰åœ°ï¼ŒRGBå€¼ä¸ºé›¶çš„é»‘è‰²èƒŒæ™¯å¯ä»¥ç”¨ä½œç®€å•çš„æ•°æ®é›†ï¼Œä»¥é¼“åŠ±è¿™äº›åŒºåŸŸçš„å‡ ä½•é¢„æµ‹ä¸ºç©ºã€‚</li></ul></li><li>BlendedMVS<ul><li>æˆ‘ä»¬åœ¨BlendedMVS[48]æ•°æ®é›†çš„7ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„åœºæ™¯ä¸Šè¿›è¡Œäº†è¿›ä¸€æ­¥æµ‹è¯•ã€‚å¯¹äºæ¯ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ç»„åˆ†è¾¨ç‡ä¸º768 Ã— 576çš„ä¸‰å¹…å›¾åƒä½œä¸ºè¾“å…¥ã€‚è¯·æ³¨æ„ï¼Œåœ¨æ¯ä¸ªåœºæ™¯å¾®è°ƒé˜¶æ®µï¼Œæˆ‘ä»¬ä»ç„¶ä½¿ç”¨è¿™ä¸‰å¼ å›¾åƒè¿›è¡Œä¼˜åŒ–ï¼Œè€Œä¸ä½¿ç”¨ä»»ä½•æ–°å›¾åƒã€‚</li></ul></li></ul><p><strong>å®ç°ç»†èŠ‚</strong><br>ä½¿ç”¨ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ[20]ä½œä¸ºå›¾åƒç‰¹å¾æå–ç½‘ç»œï¼Œä»è¾“å…¥å›¾åƒä¸­æå–å¤šå°ºåº¦ç‰¹å¾ã€‚æˆ‘ä»¬ä½¿ç”¨ç±»ä¼¼U-Netçš„æ¶æ„å®ç°äº†ç¨€ç–çš„3D CNNç½‘ç»œï¼Œå¹¶ä½¿ç”¨torchsparse[41]ä½œä¸º3Dç¨€ç–å·ç§¯çš„å®ç°ã€‚ç²—çº§å’Œç²¾ç»†çº§å‡ ä½•ç¼–ç ä½“çš„åˆ†è¾¨ç‡åˆ†åˆ«ä¸º96 Ã— 96 Ã— 96å’Œ192 Ã— 192 Ã— 192ã€‚åŸºäºè¡¥ä¸çš„æ··åˆä¸­ä½¿ç”¨çš„è¡¥ä¸å¤§å°ä¸º5 Ã— 5ã€‚<br>æˆ‘ä»¬é‡‡ç”¨ä¸¤é˜¶æ®µçš„è®­ç»ƒç­–ç•¥æ¥è®­ç»ƒæˆ‘ä»¬çš„é€šç”¨æ¨¡å‹:</p><ul><li>ç¬¬ä¸€é˜¶æ®µï¼Œé¦–å…ˆè®­ç»ƒç²—çº§ç½‘ç»œ150kæ¬¡è¿­ä»£;</li><li>ç¬¬äºŒé˜¶æ®µï¼Œå¯¹ç²¾ç»†çº§ç½‘ç»œè¿›è¡Œ150kæ¬¡è¿­ä»£è®­ç»ƒï¼Œå¯¹ç²—çº§ç½‘ç»œè¿›è¡Œå›ºå®šè®­ç»ƒã€‚</li></ul><p>æˆ‘ä»¬åœ¨ä¸¤ä¸ªRTX 2080Ti gpuä¸Šè®­ç»ƒæˆ‘ä»¬çš„æ¨¡å‹ï¼Œæ‰¹å¤„ç†å¤§å°ä¸º512å°„çº¿ã€‚</p><h1 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h1><p>æˆ‘ä»¬å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸ä¸‰ç§æœ€å…ˆè¿›çš„æ–¹æ³•è¿›è¡Œæ¯”è¾ƒ:<br>1)é€šç”¨çš„ç¥ç»æ¸²æŸ“æ–¹æ³•ï¼ŒåŒ…æ‹¬PixelNerf [51]ï¼Œ IBRNet[45]å’ŒMVSNerf[3]ï¼Œå…¶ä¸­æˆ‘ä»¬ä½¿ç”¨å¯†åº¦é˜ˆå€¼ä»å­¦ä¹ çš„éšå¼åœºä¸­æå–ç½‘æ ¼;<br>2)åŸºäºé€åœºæ™¯ä¼˜åŒ–çš„ç¥ç»è¡¨é¢é‡å»ºæ–¹æ³•ï¼ŒåŒ…æ‹¬IDR[50]ã€NeuS[44]ã€VolSDF[49]ã€UniSurf [32];<br>3)å¹¿æ³›ä½¿ç”¨çš„ç»å…¸MVSæ–¹æ³•COLMAP[35]ï¼Œæˆ‘ä»¬ä»COLMAPçš„è¾“å‡ºç‚¹äº‘ä¸­ä½¿ç”¨ç­›é€‰æ³Šæ¾è¡¨é¢é‡å»º(filtered Poisson Surface Reconstruction)[16]é‡å»ºç½‘æ ¼ã€‚<br>æ‰€æœ‰æ–¹æ³•éƒ½ä»¥ä¸‰å¹…å›¾åƒä½œä¸ºè¾“å…¥ã€‚</p><ul><li>Quantitativeå®šé‡ comparisons.</li><li>Qualitative comparisons.</li><li>Ablations and analysis</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based/Sparse </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 3DReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Sparse </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PermutoSDF</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/PermutoSDF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/PermutoSDF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>PermutoSDF: Fast Multi-View Reconstruction with Implicit Surfaces using Permutohedral Lattices</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://radualexandru.github.io/">Radu Alexandru Rosu</a>, <a href="http://www.ais.uni-bonn.de/behnke/">Sven Behnke</a></td></tr><tr><td>Conf/Jour</td><td>CVPR</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://radualexandru.github.io/permuto_sdf/">PermutoSDF (radualexandru.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4738634003066650625&amp;noteId=1873869258829705728">PermutoSDF: Fast Multi-View Reconstruction with Implicit Surfaces using Permutohedral Lattices (readpaper.com)</a></td></tr></tbody></table></div><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230716172220.png" alt="image.png"></p><p>åˆ›æ–°ï¼šç”¨permutohedral latticeæ›¿æ¢voxel hash encoding </p><ul><li><p>simplex,3Dä¸­çš„å•çº¯å½¢å°±æ˜¯æ­£å››é¢ä½“</p></li><li><p>å‡ ä½•ç»†èŠ‚å…‰æ»‘ï¼Œé€šè¿‡æ›²ç‡æŸå¤±æ¥å®ç°</p></li><li>å¸¦Lipschitzå¸¸æ•°çš„é¢œè‰²MLPæ¥è®­ç»ƒï¼Œä½¿å¾—é«˜é¢‘é¢œè‰²ä¸é«˜é¢‘å‡ ä½•ç‰¹å¾ç›¸åŒ¹é…<ul><li>ref : <a href="https://readpaper.com/paper/4592561893885878273">[PDF] Learning Smooth Neural Functions via Lipschitz Regularization-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a></li><li>$y=\sigma(\widehat{W}_ix+b_i),\quad\widehat{W}_i=m\left(W_i,\text{softplus}\left(k_i\right)\right)$</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230717135035.png" alt="image.png"></p><span id="more"></span><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>We proposed a combination of <strong>implicit surface representations and hash-based encoding methods</strong> for the task of reconstructing accurate geometry and appearance from unmasked posed color images. </p><p>We improved upon the voxel-based hash encoding by using a <strong>permutohedral lattice</strong> which is always faster in training and faster for inference in three and higher dimensions. Additionally, we proposed <strong>a simple regularization scheme</strong> that allows to recover fine geometrical detail at the level of poresæ¯›å­” and wrinkles. Our full system can train in â‰ˆ 30 min on an RTX 3090 GPU and <strong>render in real-time using sphere tracing</strong>. We believe this work together with the code release will help the community in a multitude of other tasks that require modeling signals using fast local features.</p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>To NGP_MHE and Neus_SDF<br>We propose improvements to the two areas by replacing the voxel hash encoding with <strong>a permutohedral latticeç½®æ¢é¢ä½“æ™¶æ ¼</strong> which optimizes faster, especially for higher dimensions.</p><p>Accurate reconstruction geometry and appearance of scenes is an important component of many computer vision tasks. Recent Neural Radiance Field (NeRF)-like models represent the scene as a density and radiance field and, when supervised with enough input images, can render photorealistic novel views.</p><p>Speedï¼šWorks like INGP [18] further improve on NeRF by using a hash-based positional encoding which results in fast training and visually pleasing results. However, despite the photorealistic renderings, <strong>the reconstructed scene geometry can deviate severally from the ground-truthé‡å»ºåœºæ™¯çš„å‡ ä½•è¡¨ç°ä¸æ˜¯å¾ˆå¥½</strong> For example, objects with high specularityé«˜é•œé¢ or view-dependent effectsè§†è§‰ç›¸å…³å½±å“ are often reconstructed as a cloud of low density; untextured regions can have arbitrary density in the reconstruction. </p><ul><li>æ— æ³•å¤„ç†é«˜é•œé¢ã€è§†è§‰ç›¸å…³çš„å½±å“é€ æˆçš„ä½å¯†åº¦ç‚¹äº‘</li><li>æ— çº¹ç†åŒºåŸŸåœ¨é‡å»ºä¸­å¯†åº¦éšæœº</li></ul><p>SDFï¼šAnother line of recent methods tackles the issue of incorrect geometry by representing the surfaces of objects as binary occupancy or Signed Distance Function (SDF). This representation can also be optimized with volumetric rendering techniques that are supervised with RGB images. However, parametrization of the SDF as a single fully-connected Multi-Layer Perceptron (MLP) often leads to overly smooth geometry and color.</p><ul><li>SDFå‚æ•°åŒ–ä¸ºå•ä¸ªå…¨è¿æ¥MLPé€šå¸¸å¯¼è‡´å‡ ä½•å’Œé¢œè‰²è¿‡äºå¹³æ»‘</li></ul><p>In this work, we propose PermutoSDF, a method that combines the strengths of hash-based encodings and implicit surfaces. We represent the scene as an SDF and a color field, which we render using unbiased volumetric integration(Neusä¸­æå‡ºçš„ä½“ç§¯ç§¯åˆ†æ–¹æ³•). A naive combination of these two methods would fail to reconstruct accurate surfaces however, <strong>since it lacks any inductive bias for the ambiguous cases like specular or untextured surfaces</strong>. ç®€å•å åŠ NGPå’ŒNeusï¼Œä¾ç„¶å¯¹æ— çº¹ç†å’Œé•œé¢ç­‰æ¨¡ç³Šæƒ…å†µï¼Œç¼ºä¹ä»»ä½•å½’çº³åå·®<br>Attempting to regularize the SDF with a <strong>total variation loss</strong> or a <strong>curvature loss</strong> will produce a smoother geometry at the expense of losing smaller details. å¦‚æœä½¿ç”¨æ€»å˜å¼‚æŸå¤±å’Œæ›²ç‡æŸå¤±ï¼Œå‡ ä½•æ›´å…‰æ»‘ï¼Œä½†æ˜¯ä»£ä»·æ˜¯ä¸¢å¤±æ›´å°çš„ç»†èŠ‚</p><h2 id="In-this-work"><a href="#In-this-work" class="headerlink" title="In this work:"></a>In this work:</h2><p>In this work, we propose a regularization scheme that ensures both smooth geometry where needed and also reconstruction of fine details like pores and wrinkles æœ¬æ–‡æ­£åˆ™åŒ–æ–¹æ¡ˆï¼Œç¡®ä¿æ‰€éœ€çš„å¹³æ»‘å‡ ä½•å½¢çŠ¶åŠå¯ä»¥é‡å»ºæ¯›å­”ã€çš±çº¹ç­‰ç»†èŠ‚<br>Furthermore, we improve upon the voxel hashing method of INGP by <strong>proposing permutohedral lattice hashing</strong>. The number of vertices per simplex (triangle, tetrahedron, . . . ) in this data structure scales linearly with dimensionality instead of exponentially as in the hyper-cubical voxel case æ¯ä¸ªsimplexçš„å®šç‚¹æ•°éšç€ç»´åº¦æ•°çº¿æ€§ç¼©æ”¾ï¼Œè€Œä¸æ˜¯æŒ‡æ•°ç¼©æ”¾ï¼ŒWe show that the <strong>permutohedral lattice</strong> performs better than voxels for 3D reconstruction and 4D background estimation.<br>Main contributionï¼š</p><ul><li>a novel framework for optimizing neural implicit surfaces based on hash-encoding,</li><li>an extension of hash encoding to a permutohedral lattice which scales linearly with the input dimensions and allows for faster optimization, and</li><li>a regularization scheme that allows to recover accurate SDF geometry with a level of detail at the scale of pores and wrinkles.</li></ul><p>Related Work</p><ul><li>Classical Multi-View Reconstruction<ul><li>Multi-view 3D reconstruction has been studied for decades. The classical methods can be categorized as either <strong>depth map-based</strong> or <strong>volume-based</strong><ul><li>Depth map methods like COLMAP [25] reconstruct a depth map for each input view by matching photometrically consistent patches. The depth maps are fused to a global 3D point cloud and a watertightæ°´å¯† surface is recovered using Poissonæ³Šæ¾ Reconstruction [12]. While COLMAP can give good results in most scenarios, it yields suboptimalæ¬¡ä¼˜ results on non-Lambertian surfaces. </li><li>Volume-based approaches fuse the depth maps into a volumetric structure (usually a Truncated Signed Distance Function) from which an explicit surface can be recovered via the marching cubes algorithm [15]. Volumetric methods work well when fusing multiple noisy depth maps but <strong>struggle with reconstructing thin surfaces and fine details</strong></li></ul></li></ul></li><li>NeRF Models<ul><li>A recent paradigm shift in 3D scene reconstruction has been the introduction of NeRF  </li><li>NeRFs represent the scene as density and radiance fields, parameterized by a MLP. Volumetric rendering is used to train them to match posed RGB images. This yields highly photorealistic renderings with view-dependent effects. However, <strong>the long training time of the original NeRF</strong> prompted a series of subsequent works to address this issue.</li></ul></li><li>Accelerating NeRF<ul><li>Two main areas were identified as problematic: <strong>the large number of ray samples that traverse empty space</strong> and <strong>the requirement to query a large MLP for each individual sample.</strong></li><li><a href="https://readpaper.com/paper/3044538714">[PDF] Neural Sparse Voxel Fields</a>  uses an octree to model only the occupied space and restricts samples to be generated only inside the occupied voxels. Features from the voxels are interpolated and a <strong>shallow MLP predicts color and density</strong>. This achieves significant speedups <strong>but requires complicated pruningå‰ªæ and updating of the octree structure</strong>.</li><li>DVGO  similarly models the scene with <strong>local features which are stored in a dense grid</strong> that is decoded by an MLP into view-dependent color. </li><li>Plenoxels completely removes any MLP and instead <strong>stores opacity and spherical harmonics (SH) coefficients at sparse voxel positions.</strong></li><li>Instant Neural Graphics Primitives proposes a hash-based encoding in which ray samples trilinearly interpolate features between eight positions from a hash map. A shallow MLP implemented as a fully fused CUDA kernel predicts color and density. Using a hash map for encoding has <strong>the advantage of not requiring complicated mechanisms for pruning or updating like in the case of octrees.</strong></li><li>In our work, we improve upon INGP by proposing <strong>a novel permutohedral lattice-based hash encoding</strong>, which is better suited for interpolating in high-dimensional spaces. We use our new encoding to reconstruct accurate 3D surfaces and model background as a 4D space.</li></ul></li><li>Implicit Representation<ul><li>Other works have focused on reconstructing the scene geometry using implicit surfaces. </li><li>SDFDiff discretizesç¦»æ•£åŒ– SDF values on a dense grid and by defining a differentiable shading function can optimize the underlying geometry. However, their approach can neither recover arbitrary color values nor can it scale to higher-resolution geometry.</li><li>IDR and DVR represent the scene as SDF and occupancy map, respectivelyåˆ†åˆ«, and by using differentiable rendering can recover high-frequency geometry and color. However, both methods <strong>require 2D mask supervision</strong> for training which is not easy to obtain in practice.</li><li>In order to remove the requirement of mask supervision<ul><li>UNISURF optimizes an binary occupancy function through volumetric rendering. </li><li>VolSDF extends this idea to SDFs. </li><li>NeuS analyzes the biases caused by using volumetric rendering for optimizing SDFs and introduces an unbiased and occlusion-aware <strong>weighting schemeæ— åç¢°æ’çš„æƒé‡æ–¹æ¡ˆ</strong> which allows to recover more accurate surfaces.</li></ul></li><li>In this work, we reconstruct a scene as SDF and color field without using any mask supervision. We model the scene <strong>using locally hashed features</strong> in order to recover finer detail than previous works. We also <strong>propose several regularizations</strong> which help to recover geometric detail at the level of pores and wrinkles.</li></ul></li></ul><h1 id="Method-Overview"><a href="#Method-Overview" class="headerlink" title="Method Overview"></a>Method Overview</h1><p>Given a series of images with poses $\{\mathcal{I}_{k}\}$, our task is to recover both surface S and appearance of the objects within.<br>We define the surface S as the zero level set of an SDF:$\mathcal{S}=\{\mathrm{x}\in\mathbb{R}^3|g(\mathrm{x})=0\}.$</p><p>$SDF,\chi = g(\operatorname{enc}(\mathbf{x};\theta_g);\Phi_g)$</p><ul><li>è¾“å…¥åæ ‡x<br>$Color = c(\mathbf{h}_c,\mathbf{v},\mathbf{n},\chi;\Phi_c)$</li><li>$\mathbf{h}_c=\operatorname{enc}(\mathbf{x};\theta_c)$</li><li>$\mathbf{v}$ä¸ºè§‚å¯Ÿæ–¹å‘</li><li>$\mathbf{n}$ä¸ºæ³•å‘æ–¹å‘ï¼Œsdfæ¢¯åº¦</li><li>a learnable geometric feature $\chi$ which is output by the sdf network</li></ul><p>Note, that using two separate networks is crucial as we want to regularize each one individually in order to recover high-quality geometry.</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230716172220.png" alt="image.png"></p><h1 id="Permutohedral-Lattice-SDF-Rendering"><a href="#Permutohedral-Lattice-SDF-Rendering" class="headerlink" title="Permutohedral Lattice SDF Rendering"></a>Permutohedral Lattice SDF Rendering</h1><p>We now detail each network, the permutohedral lattice, and our training methodology.</p><h2 id="Volumetric-Rendering"><a href="#Volumetric-Rendering" class="headerlink" title="Volumetric Rendering"></a>Volumetric Rendering</h2><p>$\hat{C}(\mathbf{p})=\int_{t=0}^{+\infty}w(t)c(\mathbf{p}(t),\mathbf{v},\mathbf{n},\chi;\Phi_c),$</p><p>$\rho(t)=\max\left(\frac{-\frac{\mathrm{d}\psi_s}{\mathrm{d}t}(g(\mathbf{p}(t);\Phi_g))}{\psi_s(g(\mathbf{p}(t);\Phi_g))},0\right),$$\psi_s(x)=\frac{1}{1+e^{-ax}}$</p><p>$w(t)=T(t)\rho(t),\mathrm{~where~}T(t)=\exp\left(-\int_0^t\rho(u)\mathrm{d}u\right)$</p><h2 id="Hash-Encoding-with-Permutohedral-Lattice"><a href="#Hash-Encoding-with-Permutohedral-Lattice" class="headerlink" title="Hash Encoding with Permutohedral Lattice"></a>Hash Encoding with Permutohedral Lattice</h2><p>In order to facilitate learning of high-frequency details, INGP [18] proposed a hash-based encoding which maps a 3D spatial coordinate to a higher-dimensional space. The encoding maps a spatial position x into a cubical grid and linearly interpolates features from the hashed eight corners of the containing cube. A fast CUDA implementation interpolates over various multi-resolutional grids in parallel. The hash map is stored as a tensor of L levels, each containing up to T feature vectors with dimensionality F .</p><p>The speed of the encoding function is mostly determined by the number of accesses to the hash map as the operations to determine the eight hash indices are fast. Hence, it is of interest to reduce the memory accesses required to linearly interpolate features for position x. By using a <strong>tetrahedral lattice</strong> instead of a cubical one, <strong>memory accesses can be reduced</strong> by a factor of two as each simplex <strong>has only four vertices instead of eight</strong>. This advantage grows for higher dimensions when using a permutohedral lattice [1].<a href="https://readpaper.com/paper/1964772475">[PDF] Fast Highâ€Dimensional Filtering Using the Permutohedral Lattice-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a></p><p>The permutohedral lattice divides the space into uniform simpliceså‡åŒ€å•çº¯å½¢ which form triangles and tetrahedra in 2D and 3D, respectively. The main advantage of this lattice is that <strong>given dimensionality d the number of vertices per simplex is d+1</strong>, which scales linearly instead of the exponential growth $2^{d}$ for hyper-cubical voxels. <strong>This ensures a low number of memory accesses to the hashmap and therefore fast optimization.</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230717135035.png" alt="image.png"><br>Given a position x, the containing simplex can be obtained in $O(d^{2})$. Within the simplex, barycentric coordinates are calculated and d-linear interpolation is performed similar to INGP.<br>Similarly to INGP, we slice from lattices at multiple resolutions and concatenate the results. The final output is a high-dimensional encoding $h = enc(x; Î¸)$ of the input x <strong>given lattice features Î¸</strong>.</p><h2 id="4D-Background-Estimation"><a href="#4D-Background-Estimation" class="headerlink" title="4D Background Estimation"></a>4D Background Estimation</h2><p>For modeling the background, we follow the formulation of <strong>NeRF++</strong> which represents foreground volume as a unit sphere and background volume by an inverted sphere.</p><p>Points in the outer volume are represented using 4D positions (xâ€², yâ€², zâ€², 1/r) where (xâ€², yâ€², zâ€²) is a unit-length directional vector and 1/r is the inverse distance.<br>å¯¹4Dçš„èƒŒæ™¯è¿›è¡Œç¼–ç æ—¶ï¼Œa cubical voxelï¼ˆNGPï¼‰éœ€è¦æŸ¥è¯¢16ä¸ªé¡¶ç‚¹çš„ç‰¹å¾å€¼ï¼Œè€Œpermutohedral latticeåªéœ€è¦æŸ¥è¯¢5ä¸ªé¡¶ç‚¹çš„ç‰¹å¾å€¼<br>We directly use this 4D coordinate to slice from a 4-dimensional lattice and obtain multi-resolutional features. A small MLP outputs the radiance and density which are volumetrically rendered and blended with the foreground. <strong>Please note that in 4D</strong>, the permutohedral lattice only needs to access five vertices(4d+1) for each simplex while a cubical voxel would need 16($2^{4}$). Our linear scaling with dimensionality is of significant advantage in this use case.</p><h1 id="PermutoSDF-Training-and-Regularization"><a href="#PermutoSDF-Training-and-Regularization" class="headerlink" title="PermutoSDF Training and Regularization"></a>PermutoSDF Training and Regularization</h1><p>ç®€å•èåˆä½¿ç”¨lossï¼š</p><ul><li>$\mathcal{L}_{\mathrm{rgb}}=\sum_p\lVert\hat{C}(\mathbf{p})-C(\mathbf{p})\rVert_2^2$</li><li>$\mathcal{L}_{\mathrm{eik}}=\sum_{x}\left(|\nabla g(\mathrm{enc}(\mathrm{x}))|-1\right)^2,$</li></ul><p>A naive combination of hash-based encoding and implicit surfaces can yield undesirable surfaces, though. While the model is regularized by the Eikonal loss, there are many surfaces that satisfy the Eikonal constraint.<br>For <strong>specular or untextured areas</strong>, the Eikonal regularization doesnâ€™t provide enough information to properly recover the surface. To address this issue, we propose <strong>several regularizations</strong> that serve to both recover smoother surfaces and more detail.</p><h2 id="SDF-Regularizationâ€”-gt-smoother-surfaces"><a href="#SDF-Regularizationâ€”-gt-smoother-surfaces" class="headerlink" title="SDF Regularizationâ€”&gt;smoother surfaces"></a>SDF Regularizationâ€”&gt;smoother surfaces</h2><p>In order to aid the network in recovering smoother surfaces in reflective or untextured areas, we add a curvature loss on the SDF<br>Calculating the full 3Ã—3 Hessian matrix can be expensive; so we approximate curvature as local deviation of the normal vector. Recall that we already have the normal $n = âˆ‡g(enc(x))$ at each ray sample since it was required for the Eikonal loss. With this normal, we define a tangent vectoråˆ‡å‘é‡ $Î·$ by cross product with a random unit vector Ï„ such that $Î· = n Ã— Ï„$.Given this random vector in the tangent plane, we slightly perturb our sample x to obtain $\mathrm{x}_\epsilon=\mathrm{x}+\epsilon\eta.$. We obtain the normal at the new perturbed point as $\mathbf{n}_\epsilon=\nabla g(\mathrm{enc}(\mathbf{x}_\epsilon))$ and define a curvature loss based on the dot product between the normals at the original and perturbed points:<br>curvature loss: $\mathcal{L}_\mathrm{curv}=\sum_x(\mathbf{n}\cdot\mathbf{n}_\epsilon-1)^2.$ </p><p>ç‰©ç†å«ä¹‰ï¼š<strong>è¡¨é¢ä¸Šç›¸é‚»ä¸¤ç‚¹çš„æ³•å‘é‡åº”è¯¥æ˜¯å¹³è¡Œçš„</strong></p><h2 id="Color-Regularizationè¯¦ç»†è§£ææ·±åº¦å­¦ä¹ ä¸­çš„-Lipschitz-æ¡ä»¶-çŸ¥ä¹-zhihu-com"><a href="#Color-Regularizationè¯¦ç»†è§£ææ·±åº¦å­¦ä¹ ä¸­çš„-Lipschitz-æ¡ä»¶-çŸ¥ä¹-zhihu-com" class="headerlink" title="Color Regularizationè¯¦ç»†è§£ææ·±åº¦å­¦ä¹ ä¸­çš„ Lipschitz æ¡ä»¶ - çŸ¥ä¹ (zhihu.com)"></a>Color Regularization<a href="https://zhuanlan.zhihu.com/p/389024283">è¯¦ç»†è§£ææ·±åº¦å­¦ä¹ ä¸­çš„ Lipschitz æ¡ä»¶ - çŸ¥ä¹ (zhihu.com)</a></h2><p>While the curvature regularization helps in recovering smooth surfaces, we observe that the network converges to an undesirable state where the geometry gets increasingly smoother while the color network learns to model all the high-frequency detail in order to drive the $\mathcal{L}_{rgb}$ to zero. Despite lowering $\mathcal{L}_{curv}$ during optimization, <strong>the SDF doesnâ€™t regain back the lost detail</strong>. We show this behavior in Fig. 8. Recall that the color network is defined as $Color = c(\mathbf{h}_c,\mathbf{v},\mathbf{n},\chi;\Phi_c)$, with an input encoding of $h = enc(x; Î¸_{c})$. We observe that all the high-frequency detail learned by the color network has to be present in the weights of the MLP $Î¦_{c}$ or the hashmap table $Î¸_{c}$ as all the other inputs are smooth. é¢œè‰²ç½‘ç»œå­¦ä¹ åˆ°çš„é«˜é¢‘ç»†èŠ‚éƒ½åœ¨MLPçš„æƒé‡$Î¦_{c}$æˆ–å“ˆå¸Œè¡¨$Î¸_{c}$ä¸­ï¼Œå› ä¸ºå…¶ä»–æ‰€æœ‰è¾“å…¥$\mathbf{v},\mathbf{n},\chi$éƒ½æ˜¯å¹³æ»‘çš„</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230717141818.png" alt="image.png"></p><p>In order to recover fine geometric detail, we propose to learn a color mapping network that is itself smooth w.r.t. to its input such <strong>that large changes in color are matched with large changes in surfaces normal</strong>. Function smoothness can be studied in the context of Lipschitz continuous networks. A function f is <strong>k-Lipschitz continuous</strong> if it satisfies: $\underbrace{|f(d)-f(e)|}_{\text{change in the output}}\leq k\underbrace{|d-e|}_{\text{change in the input}}$<br>Intuitively, it sets k as an upper boundä¸Šé™ for the rate of change of the function. We are interested in the color network being a smooth function (small k) such that high-frequency color is also reflected in high-detailed geometry. <em>There are several ways to enforce Lipschitz smoothness on a function . Most of them impose a hard 1-Lipschitz requirement or ignore effects such as network depth which makes them difficult to tune for our use case</em></p><h3 id="ä¿®æ”¹åçš„é¢œè‰²MLPç½‘ç»œ"><a href="#ä¿®æ”¹åçš„é¢œè‰²MLPç½‘ç»œ" class="headerlink" title="ä¿®æ”¹åçš„é¢œè‰²MLPç½‘ç»œ"></a>ä¿®æ”¹åçš„é¢œè‰²MLPç½‘ç»œ</h3><p>The recent work of Liu et al. <a href="https://readpaper.com/paper/4592561893885878273">[PDF] Learning Smooth Neural Functions via Lipschitz Regularization-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a> provides a simple and interpretable framework for softly regularizing the Lipschitz constant of a network. Given an MLP layer $y =Ïƒ(W_{i}x+b_{i})$and a trainable Lipschitz bound $k_{i}$ for the layer, they replace the weight matrix $W_{i}$with:<br>$y=\sigma(\widehat{W}_ix+b_i),\quad\widehat{W}_i=m\left(W_i,\text{softplus}\left(k_i\right)\right)$</p><ul><li>$\text{softplus }(k_i)=\ln(1+e^{k_i})$</li><li>the function m(.) <strong>normalizes</strong> the weight matrix by rescaling each row of $W_{i}$ such that <strong>the absolute value of the row-sum</strong> is less than or equal to softplus (ki).</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jax.numpy <span class="keyword">as</span> jnp </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">normalization</span>(<span class="params">Wi, softplus_ci</span>): <span class="comment"># L-inf norm</span></span><br><span class="line">    absrowsum = jnp.<span class="built_in">sum</span>(jnp.<span class="built_in">abs</span>(Wi), axis=<span class="number">1</span>) </span><br><span class="line">    scale = jnp.minimum(<span class="number">1.0</span>, softplus_ci/absrowsum) </span><br><span class="line"><span class="keyword">return</span> Wi * scale[:,<span class="literal">None</span>]</span><br><span class="line"></span><br><span class="line">y = sigma(normalization(Wi, softplus(ci))*x + bi)</span><br></pre></td></tr></table></figure><p>Since the product of per-layer Lipschitz constants $k_{i}$ is the Lipschitz bound for the whole network, we can regularize it using:</p><p>$\mathcal{L}_{\mathrm{Lipschitz}}=\prod_{l}^{i=1}\text{softplus}\left(k_{i}\right).$</p><p>In addition to regularizing the color MLP, we also apply weight decay of 0.01 to the color hashmap $Î¸_{c}$.</p><h2 id="Lipschitz-in-DL"><a href="#Lipschitz-in-DL" class="headerlink" title="Lipschitz in DL"></a>Lipschitz in DL</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/389024283">è¯¦ç»†è§£ææ·±åº¦å­¦ä¹ ä¸­çš„ Lipschitz æ¡ä»¶ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>$\underbrace{|f(d)-f(e)|}_{\text{change in the output}}\leq k\underbrace{|d-e|}_{\text{change in the input}}$<br>$||f(x,y_1)-f(x,y_2)||\leq L||y_1-y_2||,$</p><p>Lipschitz continuouså«ä¹‰ï¼šå­˜åœ¨ä¸€ä¸ªå®æ•° L ï¼Œä½¿å¾—å¯¹äºå‡½æ•°f(x) ä¸Šçš„æ¯å¯¹ç‚¹ï¼Œè¿æ¥å®ƒä»¬çš„çº¿çš„æ–œç‡çš„ç»å¯¹å€¼ä¸å¤§äºè¿™ä¸ªå®æ•°Lã€‚æœ€å°çš„ L ç§°ä¸ºè¯¥å‡½æ•°çš„ Lipschitz å¸¸æ•°ï¼Œæ„å‘³ç€å‡½æ•°è¢«ä¸€æ¬¡å‡½æ•°ä¸Šä¸‹å¤¹é€¼ã€‚</p><p>egï¼š$f:[-3,7]\to\mathbb{R},f(x)=x^2:$ ç¬¦åˆåˆ©æ™®å¸ŒèŒ¨è¿ç»­æ¡ä»¶, L=14</p><p>(Bi-Lipschitz continuous $\begin{aligned}\frac{1}{L}||y_1-y_2||\leq||f(x,y_1)-f(x,y_2)||\leq L||y_1-y_2||,\end{aligned}$)</p><p>$\left\{\begin{array}{c}f(y)\leq f(x)+L||y-x||\\f(y)\geq f(x)-L||y-x||\end{array}\right.$<br>å¯ä»¥çœ‹å‡ºï¼Œxç¡®å®šåï¼Œf(y) è¢«ä¸€ä¸ªä¸€æ¬¡å‡½æ•°boundåœ¨ä¸€å®šçš„èŒƒå›´å†…</p><p> <a href="https://readpaper.com/paper/4592561893885878273">[PDF] Learning Smooth Neural Functions via Lipschitz Regularization-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a></p><h2 id="Training-Schedule"><a href="#Training-Schedule" class="headerlink" title="Training Schedule"></a>Training Schedule</h2><p>Several scheduling considerations must be observed for our method. In Eq. 3, the sigmoid function $Ïˆ_{s}(.)$ is parametrized with 1/a which is the standard deviation that controls the range of influence of the SDF towards the volume rendering. <strong>In NeuS</strong> 1/a is considered a learnable parameter which <strong>starts at a high value and decays towards zero as the network converges</strong></p><p>However, we found out that considering it as a learnable parameter can lead to the network missing thin object features due to the fact that large objects in the scene dominate the gradient towards a. <strong>Instead, we use a scheduled linear decay 1/a over 30 k iterations which we found to be robust for all the objects we tested.</strong></p><p>30k iterationå‰ï¼Œ1/aä¸å˜ï¼Œ30kä»¥åï¼Œå¯¹1/aåšçº¿æ€§è¡°å‡<br>100kå‰ï¼Œlossï¼š</p><p>In order to recover smooth surfaces, we train the first 100 k iterations using curvature loss:<br>$\mathcal{L}=\mathcal{L}_{\mathrm{rgb}}+\lambda_{1}\mathcal{L}_{\mathrm{eik}}+\lambda_{2}\mathcal{L}_{\mathrm{curv}}.$</p><p>å100kï¼Œlossï¼š<br>For further 100 k iterations, we recover detail by <strong>removing the curvature loss and adding the regularization of the color network</strong> $Î»_3 \cdot \mathcal{L}_{\mathrm{Lipschitz}}$ </p><p>åˆå§‹10kï¼Œä»ç²—åˆ°ç²¾ï¼Œé€€ç«å“ˆå¸Œmapçš„æ°´å¹³L(å¤šåˆ†è¾¨ç‡)<br>In addition, we initialize our network with the SDF of a sphere at the beginning of the optimization and anneal the levels L of the hash map in a coarse-to-fine manner over the course of the initial 10 k iterations. </p><h1 id="Acceleration"><a href="#Acceleration" class="headerlink" title="Acceleration"></a>Acceleration</h1><p>Similar to other volumetric rendering methods, a major bottleneck for the speed is the number of position samples considered for each ray. We use several methods to accelerate both training and inference.</p><h2 id="Occupancy-Grid"><a href="#Occupancy-Grid" class="headerlink" title="Occupancy Grid"></a>Occupancy Grid</h2><p>In order to concentrate more samples near the surface of the SDF and have fewer in empty space, we use an occupancy grid modeled as a dense grid of resolution $128^{3}.$ We maintain two versions of the grid, <strong>one with full precision</strong>, storing the SDF value at each voxel, and <strong>another containing only a binary occupancy bit</strong>. The grids are laid out in Morton order to ensure fast traversal. Note that differently from INGP, we store signed distance and not density in our grid. <strong>This allows us to use the SDF volume rendering equations to determine if a certain voxel has enough weight</strong> that it would meaningfully contribute to the integral Eq. 2 and therefore should be marked as occupied space.</p><p>Morton order: </p><ul><li>ref : <a href="https://zhuanlan.zhihu.com/p/468542418">Morton codeç†è§£ - çŸ¥ä¹ (zhihu.com)</a><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230717154630.png" alt="image.png"></li></ul><h2 id="Sphere-Tracing"><a href="#Sphere-Tracing" class="headerlink" title="Sphere Tracing"></a>Sphere Tracing</h2><p>Having an SDF opens up a possibility for accelerating rendering at inference time by using sphere tracing. This can be significantly faster than volume rendering as most rays converge in 2-3 iterations towards the surface.<br>We create a ray sample at the first voxel along the ray that is marked as occupied. We run sphere tracing for a predefined number of iterations and march not-yet-converged samples towards the surface (indicated by their SDF being above a certain threshold). Once <strong>all samples have converged or we reached a maximum number of sphere traces</strong>, we <strong>sample the color network once and render</strong>. </p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230717145036.png" alt="image.png"></p><h2 id="Implementation-Details"><a href="#Implementation-Details" class="headerlink" title="Implementation Details"></a>Implementation Details</h2><p>åœ¨CUDA kernelä¸­å®ç°ï¼š</p><ul><li>permutohedral latticesï¼Œslices in parallel from all resolutions</li><li>The backward pass for updating the hashmap $\frac{âˆ‚h}{âˆ‚Î¸}$<ul><li>We use the chain rule to backpropagate the upstream gradients as:$\frac{\partial\mathcal{L}}{\partial\mathbf{h}}\frac{\partial\mathbf{h}}{\partial\theta}.$</li></ul></li><li>the partial derivative of encoding $h = enc(x; Î¸_{g})$ w.r.t. to spatial position x<ul><li>$\mathbf{n}=\nabla g(\mathrm{enc}(\mathbf{x}))$</li><li>Again, the chain rule is applied with the autograd partial derivative of g(.) as: $\frac{\partial g}{\partial\mathbf{h}}\frac{\partial\mathbf{h}}{\partial\mathbf{x}}$ to obtain the normal.</li></ul></li><li>Furthermore, since we use this normal as part of our loss function Leik, we support also double backward operations, i.e., we also implement CUDA kernels for $\partial(\frac{\partial\tilde{\mathcal{L}}}{\partial\mathbf{x}})/\partial\theta$ and $\partial(\frac{\partial\mathcal{L}}{\partial\mathbf{x}})\big/\partial(\frac{\partial\mathcal{L}}{\partial\mathbf{h}})$ Hence, we can run our optimization entirely within PyTorchâ€™s autograd engine, without requiring any finite differences.<br>å°†æ¢¯åº¦è®¡ç®—å’Œåå‘ä¼ æ’­åœ¨CUDA kernelä¸­éƒ¨ç½²ï¼Œå¯ä»¥åœ¨Pytorchä¸­ä½¿ç”¨autogradå®ç°åå‘ä¼ æ’­ï¼Œè€Œä¸éœ€è¦è¿›è¡Œæœ‰é™å·®åˆ†è·å¾—æ¢¯åº¦</li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Efficiency </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
            <tag> Encoding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Neuralangelo</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Neuralangelo/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Neuralangelo/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Neuralangelo: High-Fidelity Neural Surface Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://mli0603.github.io/">Zhaoshuo Li</a><a href="https://tom94.net/">Thomas MÃ¼ller</a><a href="https://research.nvidia.com/person/alex-evans">Alex Evans</a><a href="https://www.cs.jhu.edu/~rht/">Russell H. Taylor</a><a href="https://mathiasunberath.github.io/">Mathias Unberath</a><a href="https://mingyuliu.net/">Ming-Yu Liu</a><a href="https://chenhsuanlin.bitbucket.io/">Chen-Hsuan Lin</a></td></tr><tr><td>Conf/Jour</td><td>IEEE Conference on Computer Vision and Pattern Recognition (CVPR)</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://research.nvidia.com/labs/dir/neuralangelo/">Neuralangelo: High-Fidelity Neural Surface Reconstruction (nvidia.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4766570421235482625&amp;noteId=1871247300347519744">Neuralangelo: High-Fidelity Neural Surface Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p><strong>åˆ›æ–°ï¼šæ–°çš„è®¡ç®—æ¢¯åº¦çš„æ–¹æ³•â€”â€”æ•°å€¼æ¢¯åº¦ã€ç²—åˆ°ç²¾åœ°é€æ­¥ä¼˜åŒ–â€”â€”æ•°å€¼æ¢¯åº¦çš„è¡¥å¿$\epsilon$ï¼Œç²—ç½‘æ ¼å…ˆæ¿€æ´»ï¼Œå½“$\epsilon$å‡å°åˆ°ç²¾ç½‘æ ¼çš„ç©ºé—´å¤§å°æ—¶ï¼Œé€æ­¥æ¿€æ´»ç²¾ç½‘æ ¼</strong><br>SR Issue: Current methods struggle to recover detailed structures of real-world scenes<br>To address : present Neuralangelo (combines the representation power of multi-resolution 3D hash grids with neural surface rendering)</p><ul><li>numerical gradients for computing higher-order derivatives as a smoothing operation<ul><li><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230716140552.png" alt="image.png"></li></ul></li><li>coarse-to-fine optimization on the hash grids controlling different levels of details<br>even wo auxiliary inputs such as depth , Neuralangelo can effectively recover dense 3D surface structures from multi-view images with fidelity ä¿çœŸ significantly surpassing previous methods, enabling detailed large-scale scene reconstruction from RGB video captures.</li></ul><p><strong>our future work</strong> to explore a more efficient sampling strategy to accelerate the training process.</p><span id="more"></span><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="paper"><a href="#paper" class="headerlink" title="paper"></a>paper</h2><h3 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h3><ul><li>DTU dataset</li><li>Tanks and Temples datase</li></ul><h3 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h3><p>Our hash encoding <strong>resolution spans 25 to 211 with 16 levels</strong>. Each hash entry has a channel size of 8. The maximum number of hash entries of each resolution is 222.<br><strong>We activate 4 and 8 hash resolutions at the beginning of optimization for DTU dataset and Tanks and Temples respectively</strong>, due to differences in scene scales. <strong>We enable a new hash resolution every 5000 iterations when the step size Îµ equals its grid cell size.</strong> For all experiments, we do not utilize auxiliary data such as segmentation(mask) or depth during the optimization process.</p><h3 id="Evaluation-criteria"><a href="#Evaluation-criteria" class="headerlink" title="Evaluation criteria."></a>Evaluation criteria.</h3><ul><li>Chamfer distance and F1 score for surface evaluation<ul><li><a href="https://readpaper.com/paper/2085905957">Large Scale Multi-view Stereopsis Evaluation-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a></li><li><a href="https://readpaper.com/paper/2738551266">Tanks and temples: benchmarking large-scale scene reconstruction-è®ºæ–‡é˜…è¯»è®¨è®º-ReadPaper</a><ul><li>Chamfer è·ç¦»è¶Šå°ï¼Œè¡¨ç¤ºé¢„æµ‹åˆ†å‰²ä¸çœŸå®åˆ†å‰²è¶Šæ¥è¿‘</li><li>F1 å¾—åˆ†çš„å–å€¼èŒƒå›´åœ¨ 0 å’Œ 1 ä¹‹é—´ï¼Œè¶Šæ¥è¿‘ 1 è¡¨ç¤ºæ¨¡å‹çš„æ€§èƒ½è¶Šå¥½</li></ul></li></ul></li><li>We use peak signal-tonoise ratio (PSNR) to report image synthesis qualities.</li></ul><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><h2 id="æ•°æ®é›†ç”Ÿæˆ"><a href="#æ•°æ®é›†ç”Ÿæˆ" class="headerlink" title="æ•°æ®é›†ç”Ÿæˆ"></a>æ•°æ®é›†ç”Ÿæˆ</h2><p>colmap æ•°æ®ç”Ÿæˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DATA_PATH=datasets/<span class="variable">$&#123;SEQUENCE&#125;</span>_ds<span class="variable">$&#123;DOWNSAMPLE_RATE&#125;</span></span><br><span class="line">bash projects/neuralangelo/scripts/run_colmap.sh <span class="variable">$&#123;DATA_PATH&#125;</span></span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">colmap gui Automatic reconstruction</span><br><span class="line">+</span><br><span class="line">BA: Bundle adjustment</span><br><span class="line">+</span><br><span class="line">Undistortion</span><br></pre></td></tr></table></figure><p>æœ€åæ•°æ®é›†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DATA_PATH</span><br><span class="line">â”œâ”€ database.db      (COLMAP database)</span><br><span class="line">â”œâ”€ images           (undistorted input images)</span><br><span class="line">â”œâ”€ images_raw       (raw input images)</span><br><span class="line">â”œâ”€ sparse           (COLMAP data from SfM)</span><br><span class="line">â”‚  â”œâ”€ cameras.bin   (camera parameters)</span><br><span class="line">â”‚  â”œâ”€ images.bin    (images and camera poses)</span><br><span class="line">â”‚  â”œâ”€ points3D.bin  (sparse point clouds)</span><br><span class="line">â”‚  â”œâ”€ 0             (a directory containing individual SfM models. There could also be 1, 2... etc.)</span><br><span class="line">â”œâ”€ run-colmap-geometric.sh å‡ ä½•ä¸€è‡´æ€§ç¨ å¯†é‡å»º example è„šæœ¬</span><br><span class="line">â”œâ”€ run-colmap-photometric.sh å…‰åº¦ä¸€è‡´æ€§ç¨ å¯†é‡å»º example è„šæœ¬</span><br><span class="line">â”‚  ...</span><br><span class="line">â”œâ”€ stereo (COLMAP data for MVS, not used here)</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&#123;DATA_PATH&#125;/transforms.json</span></span><br><span class="line">python3 projects/neuralangelo/scripts/convert_data_to_json.py --data_dir $&#123;DATA_PATH&#125; --scene_type $&#123;SCENE_TYPE&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># eg:</span></span></span><br><span class="line">python projects/neuralangelo/scripts/convert_data_to_json.py --data_dir ./inputs/Miku --scene_type object</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Config files projects/neuralangelo/configs/custom/&#123;SEQUENCE&#125;.yaml</span></span><br><span class="line">python3 projects/neuralangelo/scripts/generate_config.py --sequence_name $&#123;SEQUENCE&#125; --data_dir $&#123;DATA_PATH&#125; --scene_type $&#123;SCENE_TYPE&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># egï¼š</span></span></span><br><span class="line">python projects/neuralangelo/scripts/generate_config.py --sequence_name Miku --data_dir ./inputs/Miku --scene_type object</span><br></pre></td></tr></table></figure><ul><li><code>SCENE_TYPE</code>: can be one of  <code>&#123;outdoor,indoor,object&#125;</code>.</li><li><code>SEQUENCE</code>: your custom name for the video sequence.</li></ul><h2 id="run"><a href="#run" class="headerlink" title="run"></a>run</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">EXPERIMENT=toy_example</span><br><span class="line">GROUP=example_group</span><br><span class="line">NAME=example_name</span><br><span class="line">CONFIG=projects/neuralangelo/configs/custom/<span class="variable">$&#123;EXPERIMENT&#125;</span>.yaml</span><br><span class="line">GPUS=1  <span class="comment"># use &gt;1 for multi-GPU training!</span></span><br><span class="line">torchrun --nproc_per_node=<span class="variable">$&#123;GPUS&#125;</span> train.py \</span><br><span class="line">    --logdir=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span> \</span><br><span class="line">    --config=<span class="variable">$&#123;CONFIG&#125;</span> \</span><br><span class="line">    --show_pbar</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">EXPERIMENT=Miku</span><br><span class="line">GROUP=dtu</span><br><span class="line">NAME=Miku</span><br><span class="line">CONFIG=projects/neuralangelo/configs/custom/<span class="variable">$&#123;EXPERIMENT&#125;</span>.yaml</span><br><span class="line">GPUS=1</span><br><span class="line">torchrun --nproc_per_node=<span class="variable">$&#123;GPUS&#125;</span> train.py --logdir=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span> --config=<span class="variable">$&#123;CONFIG&#125;</span> --show_pbar</span><br><span class="line">--data.readjust.scale=0.5 \</span><br><span class="line">--max_iter=20000 \</span><br><span class="line">--validation_iter=99999999 \</span><br><span class="line">--model.object.sdf.encoding.coarse2fine.step=200 \</span><br><span class="line">--model.object.sdf.encoding.hashgrid.dict_size=19 \</span><br><span class="line">--optim.sched.warm_up_end=200 \</span><br><span class="line">--optim.sched.two_steps=[12000,16000]</span><br><span class="line">--checkpoint <span class="variable">$&#123;CHECKPOINT&#125;</span> --resume</span><br><span class="line"></span><br><span class="line"><span class="comment"># shutdown after run</span></span><br><span class="line">&amp;&amp; /usr/bin/shutdown</span><br></pre></td></tr></table></figure><h2 id="Isosurface-extraction"><a href="#Isosurface-extraction" class="headerlink" title="Isosurface extraction"></a>Isosurface extraction</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">CHECKPOINT=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/xxx.pt</span><br><span class="line">OUTPUT_MESH=xxx.ply</span><br><span class="line">CONFIG=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/config.yaml</span><br><span class="line">RESOLUTION=2048</span><br><span class="line">BLOCK_RES=128</span><br><span class="line">GPUS=1  <span class="comment"># use &gt;1 for multi-GPU mesh extraction</span></span><br><span class="line">torchrun --nproc_per_node=<span class="variable">$&#123;GPUS&#125;</span> projects/neuralangelo/scripts/extract_mesh.py \</span><br><span class="line">    --config=<span class="variable">$&#123;CONFIG&#125;</span> \</span><br><span class="line">    --checkpoint=<span class="variable">$&#123;CHECKPOINT&#125;</span> \</span><br><span class="line">    --output_file=<span class="variable">$&#123;OUTPUT_MESH&#125;</span> \</span><br><span class="line">    --resolution=<span class="variable">$&#123;RESOLUTION&#125;</span> \</span><br><span class="line">    --block_res=<span class="variable">$&#123;BLOCK_RES&#125;</span></span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">CHECKPOINT=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/epoch_00224_iteration_000020000_checkpoint.pt</span><br><span class="line">OUTPUT_MESH=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/Miku.ply</span><br><span class="line">CONFIG=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/config.yaml</span><br><span class="line">RESOLUTION=2048</span><br><span class="line">BLOCK_RES=128</span><br><span class="line">GPUS=1</span><br><span class="line">torchrun --nproc_per_node=<span class="variable">$&#123;GPUS&#125;</span> projects/neuralangelo/scripts/extract_mesh.py --config=<span class="variable">$&#123;CONFIG&#125;</span> --checkpoint=<span class="variable">$&#123;CHECKPOINT&#125;</span> --output_file=<span class="variable">$&#123;OUTPUT_MESH&#125;</span> --resolution=<span class="variable">$&#123;RESOLUTION&#125;</span> --block_res=<span class="variable">$&#123;BLOCK_RES&#125;</span> --textured</span><br></pre></td></tr></table></figure><ul><li>Add <code>--textured</code> to extract meshes with textures.</li><li>Add <code>--keep_lcc</code> to remove noises. May also remove thin structures.</li><li>Lower <code>BLOCK_RES</code> to reduce GPU memory usage.</li><li>Lower <code>RESOLUTION</code> to reduce mesh size.</li></ul><h2 id="EXP"><a href="#EXP" class="headerlink" title="EXP"></a>EXP</h2><h3 id="exp1"><a href="#exp1" class="headerlink" title="exp1"></a>exp1</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># config gen</span></span><br><span class="line">python projects/neuralangelo/scripts/generate_config.py --sequence_name Miku_exp1 --data_dir ./inputs/Miku_exp1 --scene_type object</span><br><span class="line"></span><br><span class="line"><span class="comment"># train</span></span><br><span class="line">EXPERIMENT=Miku_exp1</span><br><span class="line">GROUP=exp</span><br><span class="line">NAME=Miku_exp1</span><br><span class="line">CONFIG=projects/neuralangelo/configs/custom/<span class="variable">$&#123;EXPERIMENT&#125;</span>.yaml</span><br><span class="line">GPUS=1</span><br><span class="line">torchrun --nproc_per_node=<span class="variable">$&#123;GPUS&#125;</span> train.py --logdir=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span> --config=<span class="variable">$&#123;CONFIG&#125;</span> --show_pbar --optim.sched.two_steps=[12000,16000]</span><br><span class="line"><span class="comment">## other optional</span></span><br><span class="line">--data.readjust.scale=0.5 --max_iter=20000</span><br><span class="line">--validation_iter=99999999 \</span><br><span class="line">--model.object.sdf.encoding.coarse2fine.step=200 \</span><br><span class="line">--model.object.sdf.encoding.hashgrid.dict_size=19 \</span><br><span class="line">--optim.sched.warm_up_end=200 \</span><br><span class="line">--optim.sched.two_steps=[12000,16000]</span><br><span class="line">--checkpoint <span class="variable">$&#123;CHECKPOINT&#125;</span> --resume</span><br><span class="line"></span><br><span class="line"><span class="comment"># extraction</span></span><br><span class="line">CHECKPOINT=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/epoch_01000_iteration_000020000_checkpoint.pt</span><br><span class="line">OUTPUT_MESH=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/Miku_exp1.ply</span><br><span class="line">CONFIG=logs/<span class="variable">$&#123;GROUP&#125;</span>/<span class="variable">$&#123;NAME&#125;</span>/config.yaml</span><br><span class="line">RESOLUTION=2048</span><br><span class="line">BLOCK_RES=128</span><br><span class="line">GPUS=1</span><br><span class="line">torchrun --nproc_per_node=<span class="variable">$&#123;GPUS&#125;</span> projects/neuralangelo/scripts/extract_mesh.py --config=<span class="variable">$&#123;CONFIG&#125;</span> --checkpoint=<span class="variable">$&#123;CHECKPOINT&#125;</span> --output_file=<span class="variable">$&#123;OUTPUT_MESH&#125;</span> --resolution=<span class="variable">$&#123;RESOLUTION&#125;</span> --block_res=<span class="variable">$&#123;BLOCK_RES&#125;</span> --textured</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231006095200.png" alt="image.png|666"></p><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>We introduce Neuralangelo, an approach for photogrammetric neural surface reconstruction. The findings of Neuralangelo are simple yet effective: <strong>using numerical gradients for higher-order derivatives and a coarse-to-fine optimization strategy.</strong> Neuralangelo unlocks the representation power of multi-resolution hash encoding for neural surface reconstruction modeled as SDF. We show that Neuralangelo effectively <strong>recovers dense scene structures</strong> of both <strong>object-centric captures</strong> and <strong>large-scale indoor/outdoor scenes</strong> with extremely high fidelity, enabling detailed large-scale scene reconstruction from RGB videos. Our method currently samples pixels from images randomly without tracking their statistics and errors. <strong>Therefore, we use long training iterations to reduce the stochastics éšæœºæŒ‡æ ‡ and ensure sufficient sampling of details</strong>. <strong>It is our future work to explore a more efficient sampling strategy to accelerate the training process.</strong></p><h1 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h1><p>The recovered surfaces provide structural information useful for <strong>many downstream applications</strong>ï¼Œegï¼š</p><ul><li>3D asset generation for augmented/virtual/mixed realityâ€”â€”AR/VR/MR çš„ 3D èµ„äº§ç”Ÿæˆ</li><li>environment mapping for autonomous navigation of roboticsâ€”â€” æœºå™¨äººè‡ªä¸»å¯¼èˆªçš„ç¯å¢ƒæ˜ å°„</li></ul><p>Photogrammetric surface reconstruction using a monocular RGB camera is <strong>of particular interest</strong>, as it equips users with the capability of casually éšæ„åœ° creating digital twins of the real world using ubiquitous mobile devices.</p><p><strong>Multi-view stereo algorithms</strong> had been the method of choice for sparse 3D reconstructionï¼Œ<strong>but an inherent drawback</strong> of these algorithms is their inability to handle ambiguous observations</p><ul><li>regions with large areas of homogeneous colors</li><li>repetitive texture patterns</li><li>strong color variations<br>This would result in inaccurate reconstructions with noisy or missing surfaces.</li></ul><p>Recenty, <strong>neural surface reconstruction methods</strong> have shown great potential in addressing these limitations. Despite the superiority of neural surface reconstruction methods over classical approaches, the recovered fidelity of current methods does not scale well with the capacity of MLPs. æ¢å¤çš„ä¿çœŸåº¦ä¸èƒ½å¾ˆå¥½åœ°ä¸ MLP çš„å®¹é‡è¿›è¡Œ scale</p><p><strong>Instant NGP</strong> introduces a hybrid 3D grid structure with a multi-resolution hash encoding and a lightweight MLP that is more expressive with a memory footprint loglinear to the resolution. NGP çš„å†…å­˜å ç”¨ä¸åˆ†è¾¨ç‡ log çº¿æ€§ç›¸å…³</p><p>æœ¬æ–‡ Neuralangelo = InstantNGP + Neus<br>Neuralangelo adopts Instant NGP as a neural SDF representation of the underlying 3D scene, optimized from multi-view image observations via neural surface rendering<br>Step:</p><ul><li>First, using numerical gradients to compute higher-order derivatives, such as surface normals for the eikonal regularization, is critical to stabilizing the optimization.</li><li>Second, a progressive optimization schedule plays an important role in recovering the structures at different levels of details</li></ul><p>We combine these two key ingredients and, via extensive experiments on standard benchmarks and real-world scenes, demonstrate significant improvements over image-based neural surface reconstruction methods inboth reconstruction accuracy é‡å»ºç²¾åº¦ and view synthesis quality è§†å›¾åˆæˆè´¨é‡.</p><p>In summaryï¼š</p><ul><li>We present the Neuralangelo framework to naturally incorporate the representation power of multi-resolution hash encoding into neural SDF representations.</li><li>We present two simple techniques to improve the quality of hash-encoded surface reconstruction: <strong>higher-order derivatives with numerical gradients</strong> and <strong>coarse-to-fine optimization with a progressive level of details</strong>.</li></ul><p>RelatedWorkï¼š</p><ul><li>Multi-view surface reconstruction<ul><li>volumetric occupancy grid to represent the scene: Each voxel is visited and marked occupied if strict color constancy between the corresponding projected image pixels is satisfied. The photometric consistency assumption å…‰åº¦ä¸€è‡´æ€§å‡è®¾ typically fails due to autoexposure è‡ªåŠ¨æ›å…‰ or non-Lambertian materials éæœ—ä¼¯ææ–™, which are ubiquitous in the real world. Relaxing such color constancy constraints across views is important for realistic 3D reconstruction</li><li>Follow-up methods typically start with 3D point clouds from multi-view stereo techniques and then perform dense surface reconstruction. Reliance on the quality of the generated point clouds often leads to missing or noisy surfaces. <strong>Recent learning-based approaches</strong> augment the point cloud generation process with learned image features and cost volume construction(MVSnet, DeepMVS). <strong>_However, these approaches are inherently limited by èŠ±è´¹ä½“ç§¯çš„åˆ†è¾¨ç‡ the resolution of the cost volume and fail to recover geometric details._</strong></li></ul></li><li>NeRF<ul><li>NeRF achieves remarkable photorealistic view synthesis with view-dependent effects. NeRF encodes 3D scenes with <strong>an MLP mapping 3D spatial locations to color and volume density</strong>. These predictions are composited into pixel colors using neural volume rendering. A problem of NeRF and its variants , however, is the question of how an isosurface of the volume density could be defined to represent the underlying 3D geometry. NeRF çš„é—®é¢˜å°±æ˜¯ç­‰å€¼é¢ä¸å¥½æ‰¾ã€‚Current practice often relies <strong>on heuristic thresholding å¯å‘å¼é˜ˆå€¼ on the density values</strong>; due to insufficient constraints on the level sets, however, such surfaces are often noisy and may not model the scene structures accurately. <strong>_Therefore, more direct modeling of surfaces is preferred for photogrammetric surface reconstruction problems._</strong></li></ul></li><li>Neural surface reconstruction<ul><li>For scene representations with better-defined 3D surfaces, implicit functions such as occupancy gridsï¼ˆUNISURFï¼‰ or SDFs are preferred over simple volume density fields.To integrate with neural volume rendering [25], different techniques [41, 47] have been proposed to reparametrize the underlying representations back to volume density å°†åº•å±‚è¡¨å¾é‡æ–°å‚æ•°åŒ–å›ä½“å¯†åº¦.These designs of neural implicit functions enable more accurate surface prediction with view synthesis capabilities of unsacrificed quality.</li><li>Follow-up works extend the above approaches to realtime at the cost of surface fidelity æœ‰ç‰ºç‰²ä¿çœŸåº¦æ¥å®ç°å®æ—¶å»ºæ¨¡çš„ç ”ç©¶(Vox-Surf, Neus2), while others use auxiliary information to enhance the reconstruction results å…¶ä»–çš„ä½¿ç”¨è¾…åŠ©ä¿¡æ¯å¢å¼ºé‡å»ºç»“æœ(with patch warping, Geo-Nues, MonoSDF).<ul><li>Notably, NeuralWarp uses <strong>patch warping given co-visibility information from structure-frommotion (SfM)</strong> to guide surface optimization, but the patchwise planar assumption fails to capture highly-varying surfaces è¡¥ä¸å¹³é¢å‡è®¾æ— æ³•æ•æ‰é«˜åº¦å˜åŒ–çš„è¡¨é¢.</li><li>Other methods utilize <strong>sparse point clouds from SfM</strong> to supervise the SDF, but their performances are upper-bounded by the quality of the point clouds, as with classical approaches</li><li>The use of <strong>depth and segmentation as auxiliary data</strong> has also been explored with unconstrained image collections or using scene representations with hash encodings.</li></ul></li><li>In contrast, our work Neuralangelo builds upon hash encodings to recover surfaces but <strong>without the need for auxiliary inputs</strong> used in prior workï¼Œæœ¬æ–‡çš„æ–¹æ³•ä¸éœ€è¦è¾“å…¥ä¸€äº›è¾…åŠ©æ•°æ®</li><li>Concurrent work also proposes coarse-to-fine optimization for improved surface details, where a displacement network corrects the shape predicted by a coarse networkï¼Œå¹¶è¡Œçš„æ–¹æ³•ï¼Œä½¿ç”¨ä½ç§»ç½‘ç»œæ¥çº é”™ç²—ç½‘ç»œé¢„æµ‹çš„å½¢çŠ¶</li><li>In contrast, we use hierarchical hash grids and control the level of details based on our analysis of higher-order derivatives. é€šè¿‡åŸºäºå¯¹é«˜é˜¶å¯¼æ•°çš„åˆ†ææ¥æ§åˆ¶ç»†èŠ‚çš„çº§åˆ«</li></ul></li></ul><h1 id="Approach"><a href="#Approach" class="headerlink" title="Approach"></a>Approach</h1><p>Neuralangelo reconstructs dense structures of the scene from multi-view images. Neuralangelo samples 3D locations along camera view directions and uses a multi-resolution hash encoding to encode the positions. The encoded features are input to an SDF MLP and a color MLP to composite images using SDF-based volume rendering.</p><p>3D ä½ç½®â€”&gt;å“ˆå¸Œç¼–ç åçš„ä½ç½®ä¿¡æ¯â€”&gt;SDF/Color</p><h2 id="Preliminaries"><a href="#Preliminaries" class="headerlink" title="Preliminaries"></a>Preliminaries</h2><ul><li>Neural volume rendering.</li><li>Volume rendering of SDF</li><li>Multi-resolution hash encoding<ul><li>ä¹Ÿæœ‰ä¸€ç§æ–¹å¼æ˜¯ sparse voxel ç»“æ„ï¼Œä½†æ˜¯ç”±äºå†…å­˜éšç€åˆ†è¾¨ç‡çš„å¢åŠ å‘ˆç°ç«‹æ–¹å¢é•¿ï¼Œå¤ªè´¹å†…å­˜å ç”¨ï¼ŒHash encoding instead assumes <strong>no spatial hierarchy ç©ºé—´å±‚æ¬¡ç»“æ„</strong> and resolves collision automatically based on gradient averaging æ¢¯åº¦å¹³å‡</li></ul></li></ul><h2 id="Numerical-Gradient-Computation"><a href="#Numerical-Gradient-Computation" class="headerlink" title="Numerical Gradient Computation"></a>Numerical Gradient Computation</h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230716140552.png" alt="image.png"></p><p><strong>w.r.t. : with respect to ç›¸å¯¹äºï¼Œå°±â€¦è€Œè¨€</strong></p><p>We show in this section that the analytical gradient w.r.t. position of hash encoding suffers from localities. ç›¸å¯¹äºå“ˆå¸Œç¼–ç ä½ç½®ï¼Œè§£ææ¢¯åº¦å—åˆ°å±€éƒ¨æ€§çš„å½±å“ . Therefore, optimization updates only propagate to local hash grids, lacking non-local smoothness. <strong>We propose a simple fix</strong> to such a locality problem <strong>by using numerical gradients</strong>. ï¼Ÿï¼Ÿï¼Ÿå·®åˆ†ç±»ä¼¼</p><p>A special property of SDF is its differentiability with a gradient of the unit norm. The gradient of SDF satisfies the eikonal equation $âˆ¥âˆ‡f (x)âˆ¥_{2} = 1$ (almost everywhere). To enforce the optimized neural representation to be a valid SDF, the eikonal loss is typically imposed on the SDF predictions:<br>ç”±äº SDF æ¢¯åº¦åœ¨æ¯å¤„éƒ½æ»¡è¶³äºŒèŒƒæ•°ç­‰äº 1ï¼Œå› æ­¤æ„å»º Eikonal loss æ¥ä¼˜åŒ– SDF çš„é¢„æµ‹ï¼š</p><p>$\mathcal{L}_{\mathrm{eik}}=\frac{1}{N}\sum_{i=1}^{N}(|\nabla f(\mathbf{x}_i)|_2-1)^2,$N æ˜¯æ€»é‡‡æ ·ç‚¹æ•°</p><p>To allow for end-to-end optimization, <strong>a double backward operation</strong> on the SDF prediction f (x) is required.</p><h3 id="de-facto-å…ˆå‰çš„å¤§éƒ¨åˆ†æ–¹æ³•"><a href="#de-facto-å…ˆå‰çš„å¤§éƒ¨åˆ†æ–¹æ³•" class="headerlink" title="de-facto å…ˆå‰çš„å¤§éƒ¨åˆ†æ–¹æ³•"></a>de-facto å…ˆå‰çš„å¤§éƒ¨åˆ†æ–¹æ³•</h3><p>eikonal loss åå‘ä¼ æ’­åˆ°å±€éƒ¨çš„å“ˆå¸Œè¡¨é¡¹</p><p>The $de facto$ method for computing surface normals of SDFs âˆ‡f (x) is to use analytical gradients. Analytical gradients of hash encoding w.r.t. position, however, are not continuous across space under trilinear interpolation. å“ˆå¸Œç¼–ç ä¸‰çº¿æ€§æ’å€¼ä¸‹ï¼Œå“ˆå¸Œç¼–ç çš„è§£ææ¢¯åº¦ç›¸å¯¹äºä½ç½®åœ¨ç©ºé—´ä¸Šæ˜¯ä¸è¿ç»­çš„ã€‚<br>To find the sampling location in a voxel grid, each 3D point $x_{i}$ would first be scaled by the grid resolution $V_{l}$, written as $x_{i,l} = x_{i} Â· V_{l}.$ Let the coefficient for (tri-)linear interpolation be $Î² = x_{i,l} âˆ’ âŒŠx_{i,l}âŒ‹$. The resulting <strong>feature vectors</strong> are</p><p>$\gamma_l(\mathbf{x}_{i,l})=\gamma_l(\lfloor\mathbf{x}_{i,l}\rfloor)\cdot(1-\beta)+\gamma_l(\lceil\mathbf{x}_{i,l}\rceil)\cdot\beta,$ where the rounded position$âŒŠx_{i,lâŒ‹}, âŒˆx_{i,l}âŒ‰$correspond to the local grid cell corners. We note that rounding operations âŒŠÂ·âŒ‹and âŒˆÂ·âŒ‰ are non-differentiable, rounding è¿ç®—æ˜¯ä¸å¯å¾®çš„ï¼Œå¯ä»¥å¾—åˆ°å“ˆå¸Œç¼–ç ç›¸å¯¹äºä½ç½®çš„å¾®åˆ†ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\frac{\partial\gamma_{l}(\mathbf{x}_{i,l})}{\partial\mathbf{x}_{i}}& =\gamma_{l}(\lfloor\mathbf{x}_{i,l}\rfloor)\cdot(-\frac{\partial\beta}{\partial\mathbf{x}_{i}})+\gamma_{l}(\lceil\mathbf{x}_{i,l}\rceil)\cdot\frac{\partial\beta}{\partial\mathbf{x}_{i}}  \\&=\gamma_l(\lfloor\mathbf{x}_{i,l}\rfloor)\cdot(-V_l)+\gamma_l(\lceil\mathbf{x}_{i,l}\rceil)\cdot V_l.\end{aligned}</script><p>The derivative of hash encoding is local, i.e., when $x_{i}$ moves across grid cell borders, the corresponding hash entries will be different. Therefore, the eikonal loss defined in Eq. 5 only back-propagates to the locally sampled hash entries, i.e. $Î³l(âŒŠx_{i,l}âŒ‹) and Î³l(âŒˆx_{i,l}âŒ‰)$. When continuous surfaces (e.g. a flat wall) span multiple grid cells, these grid cells should produce coherent surface normals without sudden transitions. å½“è¡¨é¢è¿ç»­æˆ–è€…å¾ˆå¤§ï¼Œè·¨è¿‡å¤šä¸ªç½‘æ ¼å•å…ƒæ—¶ï¼Œè¿™äº›ç½‘æ ¼å•å…ƒåº”è¯¥äº§ç”Ÿè¿è´¯çš„è¡¨é¢æ³•çº¿ï¼Œè€Œä¸ä¼šçªç„¶è½¬å˜ï¼Œä¸ºäº†ç¡®ä¿è¡¨é¢è¡¨ç¤ºçš„ä¸€è‡´æ€§ï¼Œåº”å¯¹è¿™äº›ç½‘æ ¼å•å…ƒè”åˆä¼˜åŒ–ï¼Œä½†æ˜¯åˆ†ææ¢¯åº¦ä»…ä»…åªå±€é™äºå±€éƒ¨ç½‘æ ¼å•å…ƒã€‚To ensure consistency in surface representation, joint optimization of these grid cells is desirable. However, the analytical gradient is limited to local grid cells, unless all corresponding grid cells happen to be sampled and optimized simultaneously. Such sampling is not always guaranteed</p><h3 id="our-method"><a href="#our-method" class="headerlink" title="our method"></a>our method</h3><p>To overcome the locality of the analytical gradient of hash encoding, we propose to compute the surface normals using numerical gradients.<br>If the step size of the numerical gradient is smaller than the grid size of hash encoding, the numerical gradient would be equivalent to the analytical gradient; otherwise, hash entries of multiple grid cells would participate in the surface normal computation.</p><ul><li>math è¡¨è¾¾ä¸Šé¢çš„æè¿° - step size &lt; grid size ï¼šnumerical gradient = analytical gradient - step size &gt; grid size ï¼šå¤šä¸ªç½‘æ ¼çš„å“ˆå¸Œè¡¨é¡¹éƒ½å‚ä¸è¡¨é¢æ³•å‘çš„è®¡ç®—<br>Backpropagating through the surface normals thus allows hash entries of multiple grids to receive optimization updates simultaneously. Intuitively, numerical gradients with carefully chosen step sizes can be interpreted as a smoothing operation on the analytical gradient expression. <strong>numerical gradients é€šè¿‡é€‰æ‹© step size å¯ä»¥è§£é‡Šä¸º analytical gradient è¡¨ç¤ºçš„å¹³æ»‘æ“ä½œ</strong><br>An alternative of normal supervision is a teacher-student curriculum(Ref-NeRF, NeRFactor), where the predicted noisy normals are driven towards MLP outputs to exploit the smoothness of MLPs åˆ©ç”¨ MLP çš„å¹³æ»‘æ€§ï¼Œå°†é¢„æµ‹çš„å˜ˆæ‚æ³•çº¿ä½œä¸º MLP çš„è¾“å‡ºï¼Œç„¶è€Œ loss çš„è§£ææ¢¯åº¦ä¹Ÿåªèƒ½åå‘ä¼ æ’­åˆ°å±€éƒ¨çš„å•å…ƒç½‘æ ¼æ¥è¿›è¡Œå“ˆå¸Œç¼–ç . However, analytical gradients from such teacher-student losses still only back-propagate to local grid cells for hash encoding. In contrast, numerical gradients solve the locality issue without the need of additional networks.</li></ul><p>To compute the surface normals using the numerical gradient, additional SDF samples are needed. Given a sampled point $x_{i} = (x_{i}, y_{i}, z_{i})$, we additionally sample two points along each axis of the canonical coordinate around xi within a vicinity èŒƒå›´å†… of a step size of Îµ. For example, the x-component of the surface normal can be found asï¼š$\nabla_xf(\mathbf{x}_i)=\frac{f\left(\gamma(\mathbf{x}_i+\epsilon_x)\right)-f\left(\gamma(\mathbf{x}_i-\epsilon_x)\right)}{2\epsilon},$ $\epsilon_{x} = [\epsilon, 0, 0]$</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230716140552.png" alt="image.png"></p><h2 id="Progressive-Levels-of-Details"><a href="#Progressive-Levels-of-Details" class="headerlink" title="Progressive Levels of Details"></a>Progressive Levels of Details</h2><p>Coarse-to-fine optimization can better shape the loss landscape to avoid falling into false local minima. Such a strategy has found many applications in computer vision, such as image-based registration .<br>Neuralangelo also adopts a coarse-to-fine optimization scheme to reconstruct the surfaces with progressive levels of details. Using numerical gradients for the higher-order derivatives naturally enables Neuralangelo to perform coarse-to-fine optimization from two perspectives.</p><ul><li>Step size Îµ. As previously discussed, numerical gradients can be interpreted as a smoothing operation where the step size Îµ controls the resolution and the amount of recovered details. Imposing $\mathcal{L}_{eik}$ with a larger Îµ for numerical surface normal computation ensures the surface normal is consistent at a larger scale, thus producing consistent and continuous surfaces. On the other hand, imposing $\mathcal{L}_{eik}$ with a smaller Îµ affects a smaller region and avoids smoothing details. In practice, we initialize the step size Îµ to the coarsest hash grid size and exponentially decrease it matching different hash grid sizes throughout the optimization process. åˆå§‹åŒ–$\epsilon$ ä¸ºæœ€ç²—çš„å“ˆå¸Œç½‘æ ¼å¤§å°ï¼Œå¹¶åœ¨æ•´ä¸ªä¼˜åŒ–è¿‡ç¨‹ä¸­åŒ¹é…ä¸åŒçš„ç½‘æ ¼å¤§å°ï¼Œä»¥æŒ‡æ•°æ–¹å¼å‡å°å®ƒ</li><li>Hash grid resolution V . If all hash grids are activated from the start of the optimization, to capture geometric details, fine hash grids must first â€œunlearnâ€ from the coarse optimization with large step size Îµ and â€œrelearnâ€ with a smaller Îµ. If such a process is unsuccessful due to converged optimization, geometric details would be lost. <strong>Therefore, we only enable an initial set of coarse hash grids and progressively activate finer hash grids throughout optimization when Îµ decreases to their spatial size.</strong> ç²—ç½‘æ ¼å…ˆæ¿€æ´»ï¼Œå½“$\epsilon$å‡å°åˆ°ç²¾ç½‘æ ¼çš„ç©ºé—´å¤§å°æ—¶ï¼Œé€æ­¥æ¿€æ´»ç²¾ç½‘æ ¼ï¼Œå¯ä»¥æ›´å¥½çš„æ•æ‰åˆ°ç»†èŠ‚ã€‚The relearning process can thus be avoided to better capture the details. In practice, we also apply weight decay over all parameters to avoid single-resolution features dominating the final results.</li></ul><h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><p>To further encourage the smoothness of the reconstructed surfaces, we impose a prior by regularizing the mean curvature of SDF é€šè¿‡æ­£åˆ™åŒ–å¹³å‡æ›²ç‡æ–½åŠ å…ˆéªŒ<br>The mean curvature is computed from <strong>discrete Laplacian</strong> similar to the surface normal computation, otherwise, the second-order analytical gradients of hash encoding are zero everywhere when using trilinear interpolation. The curvature loss Lcurv is defined as:$\mathcal{L}_{\mathtt{curv}}=\frac{1}{N}\sum_{i=1}^{N}\left|\nabla^{2}f(\mathbf{x}_{i})\right|.$<br>We note that the samples used for the surface normal computation in Eq. 8ï¼š$\nabla_xf(\mathbf{x}_i)=\frac{f\left(\gamma(\mathbf{x}_i+\epsilon_x)\right)-f\left(\gamma(\mathbf{x}_i-\epsilon_x)\right)}{2\epsilon},$ are sufficient for curvature computation.<br>The total loss is defined as the weighted sum of losses:<br>$\mathcal{L}=\mathcal{L}_{\mathrm{RGB}}+w_{\mathrm{eik}}\mathcal{L}_{\mathrm{eik}}+w_{\mathrm{curv}}\mathcal{L}_{\mathrm{curv}}.$<br>All network parameters, including MLPs and hash encoding, are trained jointly end-to-end.æ‰€æœ‰ç½‘ç»œå‚æ•°ï¼Œç«¯åˆ°ç«¯çš„è”åˆè®­ç»ƒ</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Efficiency </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
            <tag> Encoding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NerfAcc</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Sampling/NerfAcc/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Sampling/NerfAcc/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NerfAcc: Efficient Sampling Accelerates NeRFs</th></tr></thead><tbody><tr><td>Author</td><td>Li, Ruilong and Gao, Hang and Tancik, Matthew and Kanazawa, Angjoo</td></tr><tr><td>Conf/Jour</td><td>arXiv preprint arXiv:2305.04966</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://www.nerfacc.com/en/latest/">NerfAcc Documentation â€” nerfacc 0.5.3 documentation</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4753910162394202113&amp;noteId=1865424779362415616">NerfAcc: Efficient Sampling Accelerates NeRFs (readpaper.com)</a></td></tr></tbody></table></div><p>ä¸€ç§å¯ä»¥åŠ é€ŸNeRFçš„é«˜æ•ˆé‡‡æ ·ç­–ç•¥<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230711120805.png" alt="image.png"></p><p>NerfAcc = Instant-NGPçš„Occupancy Grid + Mip-NeRF 360çš„Proposal Network</p><p><code>pip install nerfacc</code></p><span id="more"></span><p>ç”¨æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> Tensor</span><br><span class="line"><span class="keyword">import</span> nerfacc</span><br><span class="line"></span><br><span class="line">radiance_field = ...  <span class="comment"># network: a NeRF model</span></span><br><span class="line">rays_o: Tensor = ...  <span class="comment"># ray origins. (n_rays, 3)</span></span><br><span class="line">rays_d: Tensor = ...  <span class="comment"># ray normalized directions. (n_rays, 3)</span></span><br><span class="line">optimizer = ...  <span class="comment"># optimizer</span></span><br><span class="line"></span><br><span class="line">estimator = nerfacc.OccGridEstimator(...)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sigma_fn</span>(<span class="params"></span></span><br><span class="line"><span class="params">   t_starts: Tensor, t_ends:Tensor, ray_indices: Tensor</span></span><br><span class="line"><span class="params"></span>) -&gt; Tensor:</span><br><span class="line">   <span class="string">&quot;&quot;&quot; Define how to query density for the estimator.&quot;&quot;&quot;</span></span><br><span class="line">   t_origins = rays_o[ray_indices]  <span class="comment"># (n_samples, 3)</span></span><br><span class="line">   t_dirs = rays_d[ray_indices]  <span class="comment"># (n_samples, 3)</span></span><br><span class="line">   positions = t_origins + t_dirs * (t_starts + t_ends)[:, <span class="literal">None</span>] / <span class="number">2.0</span></span><br><span class="line">   sigmas = radiance_field.query_density(positions)</span><br><span class="line">   <span class="keyword">return</span> sigmas  <span class="comment"># (n_samples,)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rgb_sigma_fn</span>(<span class="params"></span></span><br><span class="line"><span class="params">   t_starts: Tensor, t_ends: Tensor, ray_indices: Tensor</span></span><br><span class="line"><span class="params"></span>) -&gt; <span class="type">Tuple</span>[Tensor, Tensor]:</span><br><span class="line">   <span class="string">&quot;&quot;&quot; Query rgb and density values from a user-defined radiance field. &quot;&quot;&quot;</span></span><br><span class="line">   t_origins = rays_o[ray_indices]  <span class="comment"># (n_samples, 3)</span></span><br><span class="line">   t_dirs = rays_d[ray_indices]  <span class="comment"># (n_samples, 3)</span></span><br><span class="line">   positions = t_origins + t_dirs * (t_starts + t_ends)[:, <span class="literal">None</span>] / <span class="number">2.0</span></span><br><span class="line">   rgbs, sigmas = radiance_field(positions, condition=t_dirs)</span><br><span class="line">   <span class="keyword">return</span> rgbs, sigmas  <span class="comment"># (n_samples, 3), (n_samples,)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Efficient Raymarching:</span></span><br><span class="line"><span class="comment"># ray_indices: (n_samples,). t_starts: (n_samples,). t_ends: (n_samples,).</span></span><br><span class="line">ray_indices, t_starts, t_ends = estimator.sampling(</span><br><span class="line">   rays_o, rays_d, sigma_fn=sigma_fn, near_plane=<span class="number">0.2</span>, far_plane=<span class="number">1.0</span>,</span><br><span class="line">   early_stop_eps=<span class="number">1e-4</span>, alpha_thre=<span class="number">1e-2</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Differentiable Volumetric Rendering.</span></span><br><span class="line"><span class="comment"># colors: (n_rays, 3). opaicity: (n_rays, 1). depth: (n_rays, 1).</span></span><br><span class="line">color, opacity, depth, extras = nerfacc.rendering(</span><br><span class="line">   t_starts, t_ends, ray_indices, n_rays=rays_o.shape[<span class="number">0</span>], rgb_sigma_fn=rgb_sigma_fn</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Optimize: Both the network and rays will receive gradients</span></span><br><span class="line">optimizer.zero_grad()</span><br><span class="line">loss = F.mse_loss(color, color_gt)</span><br><span class="line">loss.backward()</span><br><span class="line">optimizer.step()</span><br></pre></td></tr></table></figure><h1 id="è®ºæ–‡"><a href="#è®ºæ–‡" class="headerlink" title="è®ºæ–‡"></a>è®ºæ–‡</h1><h2 id="AIR"><a href="#AIR" class="headerlink" title="AIR"></a>AIR</h2><p>Abstract and Introduction and Related Works</p><p>æœ¬æ–‡é›†ä¸­è®¨è®ºå„ä¸ªé‡‡æ ·æ–¹æ³•å¯¹NeRFçš„åŠ é€Ÿæ•ˆæœï¼Œåœ¨ç»Ÿä¸€é€å°„ç‡ä¼°è®¡æ¦‚å¿µä¸‹ï¼Œè¯æ˜æ”¹è¿›çš„é‡‡æ ·é€šå¸¸é€‚ç”¨äºNeRF<br>ä¸ºäº†ä¿ƒè¿›æœªæ¥çš„å®éªŒï¼Œæå‡ºäº†ä¸€ä¸ªå³æ’å³ç”¨çš„Pythonå·¥å…·ç®±â€”â€”NerfAccï¼Œæä¾›äº†çµæ´»çš„Apiï¼Œå°†ç›®å‰çš„é‡‡æ ·æ–¹æ³•åˆå¹¶è¿›äº†NeRFçš„ç›¸å…³å·¥ä½œ</p><p>å¯ä»¥ä½¿ç›¸å…³å·¥ä½œéƒ½æœ‰ä¸€å®šçš„åŠ é€Ÿ<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230711120805.png" alt="image.png"></p><p>å¤§å¤šNeRFæ–¹æ³•éƒ½æœ‰ç›¸ä¼¼çš„ä½“æ¸²æŸ“pipelineï¼šæ²¿ç€å…‰çº¿åˆ›å»ºé‡‡æ ·ç‚¹ï¼Œç„¶åé€šè¿‡$\alpha$ç´¯åŠ <br>æœ‰å¤§é‡å·¥ä½œé›†ä¸­åœ¨å‘å±•é«˜æ•ˆçš„è¾å°„åœºè¡¨ç¤ºï¼Œå¾ˆå°‘é€šè¿‡é«˜æ•ˆé‡‡æ ·æ¥å¯¹ç¥ç»ä½“æ¸²æŸ“çš„è®¡ç®—èŠ±è´¹è¿›è¡Œå…³æ³¨ï¼Œå³ä½¿æœ‰åœ¨è®ºæ–‡ä¸­ä¹Ÿä¸æ˜¯ä½œä¸ºä¸»è¦çš„æ–¹æ³•è¢«æå‡ºã€‚<br>InstantNGPå’ŒPlenoxelséƒ½æ˜¯ç”¨é«˜å®šåˆ¶çš„CUDAå®ç°åœ¨å…‰çº¿è¡Œè¿›æ—¶å®Œæˆç©ºé—´è·³è·ƒï¼Œä¸å„è‡ªçš„è¾å°„åœºå®ç°ç´§å¯†è€¦åˆã€‚</p><p>æœ¬æ–‡æ­ç¤ºäº†å„ç§é‡‡æ ·æ–¹æ³•çš„å¤æ‚æ€§ï¼Œå…¶ç»å¸¸è¢«å¿½è§†ä½†å¾ˆé‡è¦</p><ul><li>NeRF codebaseï¼šå¯¹NeRFçš„æ”¹è¿›æœ‰å¾ˆå¤šï¼Œä½†æ¯ä¸ªä»£ç åº“éƒ½æ˜¯é’ˆå¯¹ç‰¹å®šä»»åŠ¡å®šåˆ¶çš„ï¼Œå¹¶ä¸”åªæ”¯æŒä¸€ç§é‡‡æ ·æ–¹æ³•<ul><li>è™½ç„¶è¿™äº›æ–¹æ³•éƒ½æ˜¯åŒæ ·çš„pipeline ï¼Œä½†æ˜¯åšè¿ç§»æ—¶ä¾ç„¶å›°éš¾ï¼šrequires non-trivial efforts.</li></ul></li><li>NeRF frameworksï¼šå°†å¤šç§NeRFæ–¹æ³•èåˆè¿›ä¸€ä¸ªæ¡†æ¶ï¼Œä¾‹å¦‚NeRF-Factoryã€Nerfstudioå’ŒKaolin-Wispã€‚<ul><li>NeRF- factoryæä¾›äº†ä¸€ç³»åˆ—å…·æœ‰åŸå§‹å®ç°çš„NeRFå˜ä½“å¦‚NeRF++ã€Mip-NeRFã€Mip-NeRF360ç­‰ç­‰ï¼Œå¹¶ä¸“æ³¨äºå…¨é¢çš„åŸºå‡†æµ‹è¯•ã€‚</li><li>Nerfstudioæ•´åˆäº†ç°æœ‰æ–‡çŒ®ä¸­ä»‹ç»çš„å…³é”®æŠ€æœ¯ï¼Œå¹¶ä¸ºç¤¾åŒºæä¾›äº†æ˜“äºæ„å»ºçš„æ¨¡å—åŒ–ç»„ä»¶</li><li>Kaolin-Wispå®ç°äº†ä¸€ç»„åŸºäºä½“ç´ çš„NeRFè®ºæ–‡</li><li>ç„¶è€Œï¼Œè¿™äº›æ¡†æ¶æ—¨åœ¨é¼“åŠ±ç ”ç©¶äººå‘˜åœ¨æ¡†æ¶å†…è¿›è¡Œå¼€å‘ï¼Œè€Œå¯¹ä½¿ç”¨è‡ªå·±çš„ä»£ç åº“çš„ç”¨æˆ·æ²¡æœ‰å¥½å¤„</li></ul></li><li>æœ¬æ–‡NeRFAccå³æ’å³ç”¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ•´åˆåˆ°è‡ªå·±çš„ä»£ç åº“ä¸­</li></ul><h2 id="Importance-Sampling-via-Transmittance"><a href="#Importance-Sampling-via-Transmittance" class="headerlink" title="Importance Sampling via Transmittance"></a>Importance Sampling via Transmittance</h2><p>ç›®å‰æœ‰è®¸å¤šé‡‡æ ·æ–¹æ³•</p><ul><li>Plenoxels uses a sparse gridInstant</li><li>NGP uses an occupancy grid</li><li>NeRF employs a coarse-to-fine strategy</li><li>Mip-NeRF 360 proposes proposal networks.</li><li>ä»–ä»¬ä»¥å®Œå…¨ä¸åŒçš„æ–¹å¼è¿è¡Œ</li></ul><p><strong><em>transmittance is all you need for importance sampling</em></strong></p><p>æ¯ä¸ªæ–¹æ³•æœ¬è´¨ä¸Šéƒ½æœ‰ä»–è‡ªå·±çš„æ²¿å…‰çº¿åˆ›å»ºé€å°„ç‡ä¼°è®¡çš„æ–¹å¼ï¼štransmittance estimator<br>è¿™ç§è§‚ç‚¹å¯ä»¥ä½¿å¾—ä¸åŒçš„æ–¹æ³•å¯ä»¥åœ¨æœ¬æ–‡NeRFAccä¸­ç»Ÿä¸€èµ·æ¥</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230711125031.png" alt="image.png"></p><h3 id="Formulation"><a href="#Formulation" class="headerlink" title="Formulation"></a>Formulation</h3><p>é«˜æ•ˆé‡‡æ ·åœ¨å›¾å½¢å­¦ä¸­æ˜¯ä¸€ä¸ªè¢«å¹¿æ³›è®¨è®ºçš„é—®é¢˜ï¼Œå…¶ä¸­é‡ç‚¹æ˜¯è¯†åˆ«å¯¹æœ€ç»ˆæ¸²æŸ“åšå‡ºæœ€é‡è¦è´¡çŒ®çš„åŒºåŸŸã€‚è¿™ä¸€ç›®æ ‡é€šå¸¸é€šè¿‡é‡è¦æ€§æŠ½æ ·æ¥å®ç°ï¼Œå…¶ç›®çš„æ˜¯æ ¹æ®æ¦‚ç‡å¯†åº¦å‡½æ•°(PDF)â€”â€”$p(t)$ åœ¨$t_{near},t_{far}$é—´æ¥åˆ†å¸ƒæ ·æœ¬ï¼Œé€šè¿‡ç§¯åˆ†è®¡ç®—ç´¯ç§¯åˆ†å¸ƒå‡½æ•°(CDF)æ ·æœ¬é‡‡ç”¨é€†å˜æ¢é‡‡æ ·æ³•ç”Ÿæˆã€‚$\begin{aligned}F(t)=\int_{t_n}^tp(v)dv,\end{aligned}$<br>é‡‡æ ·ç‚¹ï¼š$t=F^{-1}(u)\quad\text{where}\quad u\sim\mathcal{U}[0,1].$<br>æ¯ä¸ªé‡‡æ ·ç‚¹çš„è´¡çŒ®ç”±æƒé‡è¡¨ç¤ºï¼š$w(t)=T(t)\sigma(t)$<br>é¢œè‰²ï¼š$C(\mathbf{r})=\int_{t_n}^{t_f}T(t)\:\sigma(t)\:c(t)\:dt$<br>$T(t)=\exp\left(-\int_{t_n}^t\left.\sigma(s)\:ds\right).\right.$</p><p>å› æ­¤ï¼š$p(t)=T(t)\sigma(t)$ ,åˆ™ç´¯è®¡åˆ†å¸ƒå‡½æ•°ç”±$\begin{aligned}F(t)=\int_{t_n}^tp(v)dv\end{aligned}$ï¼š</p><script type="math/tex; mode=display">\begin{aligned}F(t)& =\int_{t_n}^tT(v)\sigma(v)dv  \\&=\int_{t_n}^t\frac{d}{dv}\left[-\exp\left(-\int_{t_n}^v\sigma(s)ds\right)\right]dv \\&=1-\exp\left(-\int_{t_n}^t\sigma(s)ds\right) \\&=1-T(t).\end{aligned}</script><p>å› æ­¤ï¼Œå¯¹CDFè¿›è¡Œé€†é‡‡æ ·ç›¸å½“äºå¯¹é€å°„ç‡T(t)è¿›è¡Œé€†é‡‡æ ·ã€‚ä¸€ä¸ªé€å°„ç‡ä¼°è®¡é‡è¶³ä»¥ç¡®å®šæœ€ä¼˜æ ·æœ¬ã€‚ç›´è§‚åœ°è¯´ï¼Œè¿™æ„å‘³ç€åœ¨é€å°„ç‡å˜åŒ–å¾ˆå¿«çš„åŒºåŸŸ(<em>è¿™æ­£æ˜¯å…‰çº¿ç…§å°„åˆ°ç‰©ä½“è¡¨é¢æ—¶æ‰€å‘ç”Ÿçš„æƒ…å†µ</em>)å‘¨å›´æ”¾ç½®æ›´å¤šçš„æ ·æœ¬ï¼Œç´¯è®¡é€å…‰ç‡å¯ä»¥é€šè¿‡$1-T(t)$ç›´æ¥è®¡ç®—è€Œä¸éœ€è¦ç§¯åˆ†è®¡ç®—ã€‚<br>ç”±äºNeRFåœºæ™¯å‡ ä½•ä¸æ˜¯é¢„å®šä¹‰çš„ï¼Œè€Œæ˜¯åŠ¨æ€ä¼˜åŒ–çš„ï¼Œåœ¨NeRFä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œè¾å°„åœºåœ¨è¿­ä»£ä¹‹é—´å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦åœ¨æ¯ä¸€æ­¥kåŠ¨æ€æ›´æ–°é€å°„ç‡ä¼°è®¡é‡$\mathcal{F}:T(t)^{k-1}\mapsto T(t)^k.$</p><p>ä»ä¸æ–­å˜åŒ–çš„è¾å°„åœºä¸­å‡†ç¡®ä¼°è®¡é€å°„ç‡å˜å¾—æ›´åŠ å›°éš¾ï¼Œç›®å‰çš„æ–¹æ³•æ˜¯ä½¿ç”¨either exponential moving average (EMA) or stochastic gradient descent (SGD)æ¥ä½œä¸ºæ›´æ–°å‡½æ•°$\mathcal{F}$,æˆ‘ä»¬æ³¨æ„åˆ°ä¹Ÿè®¸æœ‰å…¶ä»–çš„æ›´æ–°å‡½æ•°å¯ä»¥è¢«æ¢ç´¢å‡ºæ¥ã€‚</p><p>ç°æœ‰çš„é«˜æ•ˆé‡‡æ ·æ–¹æ³•:</p><ul><li>Uniform.æ¯ä¸ªç‚¹å¯¹ç»“æœçš„è´¡çŒ®ç›¸ç­‰ï¼Œé‡‡æ ·è¿‡ç¨‹ç›¸å½“äºæ²¿å°„çº¿å‡åŒ€é‡‡æ ·ã€‚Note!!!:æ¯ä¸ªä½¿ç”¨å‡åŒ€é‡‡æ ·çš„NeRFæ¨¡å‹éƒ½å›ºæœ‰åœ°å‡è®¾è¿™ç§çº¿æ€§é€å°„ç‡è¡°å‡</li><li>Spatial Skipping.è¯†åˆ«ç©ºåŒºåŸŸå¹¶åœ¨é‡‡æ ·æœŸé—´è·³è¿‡å®ƒä»¬ï¼Œç”¨ä¿å®ˆé˜ˆå€¼å¯¹å°„çº¿çš„å¯†åº¦è¿›è¡ŒäºŒå€¼åŒ–ã€‚ä¸ºäº†åœ¨ä¼˜åŒ–æœŸé—´æ›´æ–°é€å°„ç‡ä¼°è®¡å™¨ï¼š<ul><li>InstantNGPç›´æ¥æ›´æ–°cached densityé€šè¿‡exponential moving average (EMA) ï¼š<ul><li>$\sigma(t_i)^k=\gamma\cdot\sigma(t_i)^{k-1}+(1-\gamma)\cdot\sigma(t_i)^k$</li></ul></li><li>Plenoxelsé€šè¿‡æ¸²æŸ“æŸå¤±çš„æ¢¯åº¦ä¸‹é™æ¥æ›´æ–°å¯†åº¦</li></ul></li><li>PDFæ–¹æ³•.ç”¨ç¦»æ•£æ ·æœ¬æ²¿å°„çº¿ç›´æ¥ä¼°è®¡PDF<ul><li>NeRFä¸­ç²—ç½‘ç»œè®­ç»ƒä½¿ç”¨ä½“ç§¯æ¸²æŸ“æŸå¤±æ¥è¾“å‡ºä¸€ç»„å¯†åº¦ï¼Œç„¶åè¿›è¡Œé€†å˜æ¢é‡‡æ ·</li><li>Mip-NeRFä¸­åœ¨ç²—ç½‘ç»œä½¿ç”¨ä¸€ä¸ªå°å¾—å¤šçš„MLPï¼Œå³Proposal Networkï¼Œä»¥åŠ å¿«PDFçš„æ„å»º</li><li>ä¸¤è€…éƒ½æ˜¯ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•æ¥æ›´æ–°é€å°„ç‡ä¼°è®¡å™¨</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230711130845.png" alt="image.png"></p><p>$T(t_{i}) = 1-F(t_{i})=1-\int_{t_n}^{t_i}p(v)dv$</p><h3 id="Design-Spaces"><a href="#Design-Spaces" class="headerlink" title="Design Spaces"></a>Design Spaces</h3><p>Choice of Representations. æ˜¾å¼oréšå¼ï¼Œä½“ç´ orç‚¹äº‘orSDForå æ®åœº<br>é€å…‰ç‡ä¼°è®¡å™¨å¯ä»¥ä½¿ç”¨æ˜¾å¼ä½“ç´ ï¼ŒMLPæˆ–æ··åˆè¡¨ç¤ºã€‚æ ¹æ®ä¼°è®¡é‡æ˜¯å¦æ˜¾å¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨åŸºäºè§„åˆ™çš„EMAæˆ–å¸¦æœ‰ä¸€äº›ç›‘ç£çš„æ¢¯åº¦ä¸‹é™è¿›è¡Œæ›´æ–°ã€‚<br>é€šå¸¸åŸºäºä½“ç´ çš„ä¼°è®¡å™¨æ¯”éšå¼ä¼°è®¡å™¨æ›´å¿«ï¼Œä½†æ˜¯æœ‰æ›´å¤šçš„aliasing issuesæ··å é—®é¢˜ã€‚<br>é€è¿‡ç‡ä¼°è®¡å™¨çš„è¡¨ç¤ºå¯ä»¥æ˜¾è‘—å—ç›Šäºè¾å°„åœºè¡¨ç¤ºçš„è¿›æ­¥ã€‚ä¾‹å¦‚ï¼ŒNerfactoæ¨¡å‹å¯¹äº®åº¦åœºå’Œé‡‡æ ·æ¨¡å—ä½¿ç”¨æœ€æ–°çš„æ··åˆè¡¨ç¤ºHashEncodingï¼Œåœ¨é‡å¤–è®¾ç½®ä¸­å®ç°äº†æœ€ä½³çš„è´¨é‡-é€Ÿåº¦æƒè¡¡ã€‚</p><p>Handling Unbounded Scenes.<br>å¯¹äºæ— ç•ŒåŒºåŸŸä¹Ÿå°±æ˜¯$t_{near},t_{far}$ä¹‹å¤–çš„åŒºåŸŸï¼Œæ²¿ç€å°„çº¿å¯†é›†å–æ ·æ˜¯ä¸å¯èƒ½çš„ã€‚ä¸å›¾å½¢æ¸²æŸ“ä¸­ä½¿ç”¨çš„mipmapç±»ä¼¼ï¼Œä¸€èˆ¬çš„è§£å†³æ–¹æ¡ˆæ˜¯éšç€å…‰çº¿èµ°å¾—æ›´è¿œè€Œè¿›è¡Œæ›´ç²—çš„é‡‡æ ·ï¼Œå› ä¸ºæ›´è¿œçš„ç‰©ä½“åœ¨å›¾åƒå¹³é¢ä¸Šå‡ºç°çš„åƒç´ æ›´å°‘<br>è¿™å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªåŒç›®æ ‡æ˜ å°„å‡½æ•°æ¥å®ç°: $\Phi:s\in[s_{n},s_{f}]\mapsto\dot{t}\in[t_{n},+\infty]$ï¼Œç›¸å…³è®ºæ–‡å¼•å…¥äº†ä¸åŒçš„æ˜ å°„å‡½æ•°</p><h3 id="Discussions"><a href="#Discussions" class="headerlink" title="Discussions"></a>Discussions</h3><p>Pros and Cons.</p><ul><li>uniform assumptioné‡‡æ ·æ˜¯æœ€å®¹æ˜“å®ç°çš„ï¼Œä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ•ˆç‡æœ€ä½</li><li>Spatial skippingæ›´æœ‰æ•ˆçš„æŠ€æœ¯ï¼Œå› ä¸ºå¤§å¤šæ•°3Dç©ºé—´æ˜¯ç©ºçš„ï¼Œä½†å®ƒä»ç„¶åœ¨è¢«å ç”¨ä½†é—­å¡çš„åŒºåŸŸå†…å‡åŒ€é‡‡æ ·ï¼Œè¿™äº›åŒºåŸŸå¯¹æœ€ç»ˆæ¸²æŸ“è´¡çŒ®ä¸å¤§</li><li>PDF-based estimators é€šå¸¸æä¾›æ›´å‡†ç¡®çš„é€å°„ç‡ä¼°è®¡ï¼Œä½¿æ ·æœ¬æ›´é›†ä¸­åœ¨é«˜è´¡çŒ®åŒºåŸŸ(ä¾‹å¦‚ï¼Œè¡¨é¢)ï¼Œå¹¶åœ¨ç©ºåŒºåŸŸå’Œé®æŒ¡åŒºåŸŸä¸­æ›´åˆ†æ•£ã€‚<ul><li>ç„¶è€Œï¼Œè¿™ä¹Ÿæ„å‘³ç€æ ·æœ¬æ€»æ˜¯åœ¨æ•´ä¸ªç©ºé—´ä¸­å±•å¼€ï¼Œæ²¡æœ‰ä»»ä½•è·³è·ƒã€‚æ­¤å¤–ï¼Œç”±äº(1)æ²¿å°„çº¿ä¼°ç®—é€å…‰ç‡çš„åˆ†æ®µçº¿æ€§å‡è®¾æˆ–(2)é€å…‰ç‡ä¼°è®¡å™¨çš„æ½œåœ¨ä½“ç´ è¡¨ç¤ºï¼Œç›®å‰çš„æ–¹æ³•éƒ½åœ¨ä½“æ¸²æŸ“ä¸­å¼•å…¥äº†æ··å æ•ˆåº”ã€‚</li><li>æœ€è¿‘çš„ä¸€é¡¹å·¥ä½œï¼ŒZip-NeRFï¼Œè§£å†³äº†ä¸è¿™ä¸¤ä¸ªç¡®åˆ‡é—®é¢˜ç›¸å…³çš„æ··å é—®é¢˜(åœ¨ä»–ä»¬çš„å·¥ä½œä¸­ç§°ä¸ºâ€œz-æ··å â€å’Œâ€œxy-æ··å â€)ï¼Œè¿™åœ¨æˆ‘ä»¬çš„ç»Ÿä¸€æ¡†æ¶ä¸‹è‡ªç„¶æ­ç¤ºå‡ºæ¥ã€‚</li></ul></li></ul><p>Implementation Difficulties.</p><ul><li>ç›®å‰æœ‰æ•ˆé‡‡æ ·çš„å®ç°éƒ½æ˜¯é«˜åº¦å®šåˆ¶çš„ï¼Œå¹¶ä¸æ¯ç¯‡è®ºæ–‡ä¸­æå‡ºçš„ç‰¹å®šè¾å°„åœºç´§å¯†é›†æˆã€‚ä¾‹å¦‚ï¼Œåœ¨Instant-NGPå’ŒPlenoxelsä¸­ï¼Œç©ºé—´è·³è¿‡æ˜¯ç”¨å®šåˆ¶çš„CUDAå†…æ ¸å®ç°çš„ã€‚Mip-NeRF 360ã€K-planeså’ŒNerfactoå®ç°äº†ä¸€ä¸ªæè®®ç½‘ç»œï¼Œä½†å®ƒä¸å®ƒä»¬çš„å­˜å‚¨åº“ç´§å¯†é›†æˆï¼Œåªèƒ½æ”¯æŒå­˜å‚¨åº“é™„å¸¦çš„æœ‰é™ç±»å‹çš„è¾å°„åœº</li><li>ç„¶è€Œï¼Œå¦‚å‰æ‰€ç¤ºï¼Œé‡‡æ ·è¿‡ç¨‹ç‹¬ç«‹äºè¾å°„åœºè¡¨ç¤ºï¼Œå› æ­¤å®ƒåº”è¯¥å¾ˆå®¹æ˜“åœ¨ä¸åŒçš„NeRFå˜ä½“ä¹‹é—´è½¬ç§»ã€‚ç”±äºå„ç§å„æ ·çš„å®ç°ç»†èŠ‚ï¼Œä»å¤´å¼€å§‹æ­£ç¡®åœ°å®ç°æœ‰æ•ˆçš„é‡‡æ ·æ–¹æ³•é€šå¸¸éœ€è¦å¤§é‡çš„å·¥ä½œã€‚å› æ­¤ï¼Œæ‹¥æœ‰ä¸€ä¸ªæ˜“äºä»å­˜å‚¨åº“è½¬ç§»åˆ°å­˜å‚¨åº“çš„å®ç°å¯¹äºæ”¯æŒNeRFçš„æœªæ¥ç ”ç©¶æ˜¯æœ‰ä»·å€¼çš„ã€‚</li></ul><p>Insights from Unified Formulation.</p><ul><li>é€šè¿‡é€å°„ç‡ä¼°è®¡å™¨æ¥ç†è§£é‡‡æ ·å…‰è°±ï¼Œä¸ºç ”ç©¶æ–°çš„é‡‡æ ·ç­–ç•¥é“ºå¹³äº†é“è·¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬çš„æ¡†æ¶æ­ç¤ºäº†æ¥è‡ªInstant-NGPçš„å ç”¨ç½‘æ ¼å’Œæ¥è‡ªMip-NeRF 360çš„å»ºè®®ç½‘ç»œä¸æ˜¯ç›¸äº’æ’æ–¥çš„ï¼Œè€Œæ˜¯äº’è¡¥çš„ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ—¨åœ¨ä¼°è®¡æ²¿å°„çº¿çš„é€å°„ç‡</li><li>å› æ­¤ï¼Œå°†å®ƒä»¬ç»“åˆèµ·æ¥å˜å¾—å¾ˆç®€å•:é¦–å…ˆå¯ä»¥ä½¿ç”¨å ç”¨ç½‘æ ¼è®¡ç®—é€å…‰ç‡ï¼Œç„¶åä½¿ç”¨å»ºè®®ç½‘ç»œç»†åŒ–ä¼°è®¡çš„é€å…‰ç‡ã€‚è¿™æ ·æ—¢å¯ä»¥è·³è¿‡ç©ºç™½ç©ºé—´ï¼Œåˆå¯ä»¥å°†æ ·å“é›†ä¸­åˆ°è¡¨é¢ä¸Šã€‚æˆ‘ä»¬åœ¨ç¬¬4.4èŠ‚ä¸­æ¢è®¨äº†è¿™ç§æ–¹æ³•ï¼Œå¹¶è¯æ˜å®ƒå…‹æœäº†ææ¡ˆç½‘ç»œæ–¹æ³•çš„å±€é™æ€§ï¼Œè¯¥æ–¹æ³•æ€»æ˜¯å¯¹æ•´ä¸ªç©ºé—´è¿›è¡Œé‡‡æ ·ã€‚æ­¤å¤–ï¼Œè¯¥å…¬å¼å¯èƒ½ä¼šæ­ç¤ºè¯¸å¦‚å¦‚ä½•åˆ©ç”¨æ·±åº¦ä¿¡æ¯æˆ–å…¶ä»–å…ˆéªŒä¿¡æ¯å¢å¼ºé‡‡æ ·ç¨‹åºç­‰é—®é¢˜ï¼Œæˆ‘ä»¬é¼“åŠ±è¯»è€…è¿›ä¸€æ­¥ç ”ç©¶ã€‚</li></ul><h2 id="NerfAcc-Toolbox"><a href="#NerfAcc-Toolbox" class="headerlink" title="NerfAcc Toolbox"></a>NerfAcc Toolbox</h2><h3 id="Design-Principles"><a href="#Design-Principles" class="headerlink" title="Design Principles"></a>Design Principles</h3><p>è¿™ä¸ªåº“çš„è®¾è®¡ç›®æ ‡å¦‚ä¸‹:</p><ul><li>Plug-and-play.</li><li>Efficiency &amp; Flexibility.</li><li>Radiance Field Complexity.åŒ…æ‹¬åŸºäºå¯†åº¦çš„è¾å°„åœºå’ŒåŸºäºSDFçš„è¾å°„åœºç­‰ç­‰ã€é™æ€å’ŒåŠ¨æ€åœºæ™¯ç­‰ç­‰</li></ul><h3 id="Implementation-Details"><a href="#Implementation-Details" class="headerlink" title="Implementation Details"></a>Implementation Details</h3><p>NerfAccç»“åˆäº†ä¸¤ç§å¯ä»¥ä¸è¾å°„åœºè¡¨ç¤ºè§£è€¦çš„é«˜çº§é‡‡æ ·æ–¹æ³•ï¼Œå³<strong>æ¥è‡ªInstant-NGPçš„å ç”¨ç½‘æ ¼å’Œæ¥è‡ªMip-NeRF 360çš„æè®®ç½‘ç»œ</strong>ã€‚</p><p>ä¼ªä»£ç ï¼š<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230711134348.png" alt="image.png"></p><p>Sample as Interval.</p><p>ä½¿ç”¨$(t_{0}, t_{1}, r)$è¡¨ç¤ºæ¯ä¸ªé‡‡æ ·ç‚¹(<em>æ²¿ç€ç¬¬ræ¡å°„çº¿çš„åŒºé—´çš„å¼€å§‹t0å’Œç»“æŸt1</em>)ï¼Œè¿™ç§åŸºäºé—´éš”çš„è¡¨ç¤ºæä¾›äº†ä¸‰ä¸ªå…³é”®ä¼˜åŠ¿ï¼š</p><ul><li>é¦–å…ˆï¼Œå°†æ ·æœ¬è¡¨ç¤ºä¸ºåŒºé—´è€Œä¸æ˜¯å•ä¸ªç‚¹ï¼Œå¯ä»¥æ”¯æŒåŸºäºé”¥å½¢å°„çº¿çš„æŠ—æ··å ç ”ç©¶å¦‚Mip-NeRFå’ŒMipNeRF 360ã€‚</li><li>å…¶æ¬¡ï¼Œç”±äºå‡ ä¹åœ¨æ‰€æœ‰æƒ…å†µä¸‹tiéƒ½ä¸éœ€è¦æ¢¯åº¦ï¼Œä½¿ç”¨(t0, t1, r)è€Œä¸æ˜¯(x0, x1)æ¥è¡¨ç¤ºé—´éš”ï¼Œå¯ä»¥å°†é‡‡æ ·è¿‡ç¨‹ä»å¯å¾®è®¡ç®—å›¾ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»è€Œæœ€å¤§åŒ–å…¶é€Ÿåº¦ã€‚</li><li>æœ€åï¼Œé™„åŠ åˆ°æ¯ä¸ªæ ·æœ¬ä¸Šçš„å°„çº¿id ræ”¯æŒä¸åŒæ•°é‡çš„æ ·æœ¬è·¨è¶Šä¸€ä¸ªæ‰“åŒ…å¼ é‡çš„å°„çº¿ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€æ®µä¸­è®¨è®ºã€‚åœ¨Nerfstudioä¸­é‡‡ç”¨äº†ç±»ä¼¼çš„è¡¨ç¤ºæ¥æ”¯æŒå„ç§è¾å°„åœºã€‚</li></ul><p>Packed Tensor.</p><p>ä¸ºäº†æ”¯æŒç©ºé—´è·³å˜é‡‡æ ·ï¼Œæœ‰å¿…è¦è€ƒè™‘åˆ°æ¯æ¡å°„çº¿å¯èƒ½å¯¼è‡´ä¸åŒæ•°é‡çš„æœ‰æ•ˆæ ·æœ¬ã€‚å°†æ•°æ®å­˜å‚¨ä¸ºå…·æœ‰å½¢çŠ¶(n_rays, n_samplesï¼Œâ€¦)çš„å¼ é‡å’Œå…·æœ‰å½¢çŠ¶(n_rays, n_samplesï¼Œâ€¦)çš„é¢å¤–æ©ç ï¼Œä»¥æŒ‡ç¤ºå“ªäº›æ ·æœ¬æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯å½“å¤§éƒ¨åˆ†ç©ºé—´ä¸ºç©ºæ—¶ï¼Œä¼šå¯¼è‡´æ˜¾ç€çš„ä½æ•ˆå†…å­˜ä½¿ç”¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨NerfAccä¸­ï¼Œæˆ‘ä»¬å°†æ ·æœ¬è¡¨ç¤ºä¸ºå½¢çŠ¶ä¸º(all_samplesï¼Œâ€¦)çš„â€œå‹ç¼©å¼ é‡â€ï¼Œå…¶ä¸­åªå­˜å‚¨æœ‰æ•ˆçš„æ ·æœ¬(å‚è§ç®—æ³•1)ã€‚ä¸ºäº†è·Ÿè¸ªæ¯ä¸ªæ ·æœ¬çš„ç›¸å…³å°„çº¿ï¼Œæˆ‘ä»¬è¿˜æ‰˜ç®¡äº†ä¸€ä¸ªå½¢çŠ¶ä¸º(n_rays, 2)çš„æ•´æ•°å¼ é‡ï¼Œå®ƒå­˜å‚¨äº†å‹ç¼©å¼ é‡ä¸­çš„èµ·å§‹ç´¢å¼•å’Œè¯¥å°„çº¿ä¸Šçš„æ ·æœ¬æ•°é‡ã€‚è¿™ç§æ–¹æ³•ç±»ä¼¼äºInstant-NGPå’ŒPyTorch3Dä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ray0_id_in_packed = (n_rays,2)[0][0] #ç¬¬0æ¡å…‰çº¿åœ¨å‹ç¼©å¼ é‡ä¸­çš„èµ·å§‹ç´¢å¼•</span><br><span class="line">ray0_count_in_packed = (n_rays,2)[0][1] #ç¬¬0æ¡å…‰çº¿ä¸Šé‡‡æ ·ç‚¹çš„æ•°é‡</span><br></pre></td></tr></table></figure><p>No Gradient Filtering.<br>åœ¨é‡è¦æ€§é‡‡æ ·åï¼Œä¸å‡†ç¡®çš„é€å°„ç‡ä¼°è®¡å¯èƒ½å¯¼è‡´ä¸€äº›æ ·æœ¬ä½äºç©ºç™½æˆ–é—­å¡çš„ç©ºé—´ï¼Œç‰¹åˆ«æ˜¯åœ¨å ç”¨ç½‘æ ¼ç­‰ç©ºé—´è·³è¿‡æ–¹æ³•ä¸­ã€‚è¿™äº›æ ·æœ¬å¯ä»¥åœ¨åŒ…å«åœ¨PyTorchçš„å¯å¾®è®¡ç®—å›¾ä¸­ä¹‹å‰é€šè¿‡ä½¿ç”¨ç¦ç”¨æ¢¯åº¦çš„è¾å°„åœºæ¥è¯„ä¼°å®ƒä»¬çš„é€å°„ç‡æ¥è¿›è¡Œè¿‡æ»¤ã€‚ç”±äºåœ¨æ»¤æ³¢è¿‡ç¨‹ä¸­ä¸éœ€è¦åå‘ä¼ é€’ï¼Œè¿™æ¯”åœ¨è®¡ç®—å›¾ä¸­ä¿ç•™æ‰€æœ‰æ ·æœ¬è¦å¿«å¾—å¤š(~ 10å€)ã€‚å®é™…ä¸Šï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œé€å°„ç‡ä½äº10âˆ’4çš„æ ·å“è¢«å¿½ç•¥ï¼Œå¯¹æ¸²æŸ“è´¨é‡å‡ ä¹æ²¡æœ‰å½±å“ã€‚è¯·æ³¨æ„ï¼Œè¯¥ç­–ç•¥çš„çµæ„Ÿæ¥è‡ªäºInstant-NGPçš„å®ç°ã€‚</p><h3 id="Case-Studies"><a href="#Case-Studies" class="headerlink" title="Case Studies"></a>Case Studies</h3><p>æˆ‘ä»¬åœ¨ä¸ƒç¯‡è®ºæ–‡ä¸­å±•ç¤ºäº†NerfAccåœ¨ä¸‰ç§ç±»å‹çš„NeRFä¸Šçš„çµæ´»æ€§:</p><ul><li>é™æ€NeRF (NeRFï¼Œ TensoRFï¼Œ Instant-NGP );</li><li>åŠ¨æ€nerf (D-NeRFï¼Œ K-Planes  TiNeuVox );</li><li>ä»¥åŠç”¨äºç›¸æœºä¼˜åŒ–çš„NeRFå˜åŒ–(BARF)</li></ul><p>å°½ç®¡è¿™äº›æ–¹æ³•ä¸­çš„è®¸å¤šï¼Œä¾‹å¦‚Instant-NGP, TensoRF, TiNeuVoxå’ŒK-Planesï¼Œå·²ç»åœ¨æ•ˆç‡ä¸Šè¿›è¡Œäº†é«˜åº¦ä¼˜åŒ–ï¼Œä½†æˆ‘ä»¬ä»ç„¶èƒ½å¤Ÿå¤§å¤§åŠ å¿«å®ƒä»¬çš„è®­ç»ƒé€Ÿåº¦ï¼Œå¹¶åœ¨å‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹è·å¾—ç•¥å¥½çš„æ€§èƒ½ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒTensoRF, TiNeuVox, K-Planeså’ŒBARFçš„å®éªŒæ˜¯é€šè¿‡å°†NerfAccé›†æˆåˆ°å®˜æ–¹ä»£ç åº“ä¸­è¿›è¡Œçš„ï¼Œå¤§çº¦éœ€è¦æ›´æ”¹100è¡Œä»£ç ã€‚æˆ‘ä»¬çš„å®éªŒç»“æœï¼ŒåŒ…æ‹¬æˆ‘ä»¬çš„åŸºçº¿ç»“æœï¼Œå¦‚è¡¨2a,2bå’Œ2cæ‰€ç¤ºï¼Œæ‰€æœ‰è¿™äº›å®éªŒéƒ½æ˜¯åœ¨ç›¸åŒçš„ç‰©ç†ç¯å¢ƒä¸‹è¿›è¡Œçš„ï¼Œä½¿ç”¨å•ä¸ªNVIDIA RTX A5000 GPUè¿›è¡Œæ¯”è¾ƒã€‚é™¤äº†æœ¬æ–‡æŠ¥é“çš„å®éªŒå¤–ï¼ŒNerfAccè¿˜è¢«é›†æˆåˆ°ä¸€äº›æµè¡Œçš„å¼€æºé¡¹ç›®ä¸­ï¼Œå¦‚ç”¨äºåŸºäºå¯†åº¦çš„nerfçš„nerfstudioï¼Œä»¥åŠç”¨äºåŸºäºsdfçš„nerfçš„sdfstudioå’Œinstant-nsr-plã€‚</p><ul><li>Static NeRFs.åœ¨æœ¬ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å®éªŒäº†ä¸‰ç§NeRFå˜ä½“ï¼ŒåŒ…æ‹¬åŸå§‹çš„åŸºäºmlpçš„NeRFã€TensoRFå’ŒInstant-NGPã€‚æˆ‘ä»¬å±•ç¤ºäº†NerfAccåœ¨æœ‰ç•Œåœºæ™¯(NeRF-Syntheticæ•°æ®é›†ï¼ŒTank&amp;Templateæ•°æ®é›†)å’Œæ— ç•Œåœºæ™¯(360æ•°æ®é›†)ä¸Šä¸åŸºäºmlpå’ŒåŸºäºä½“ç´ çš„è¾å°„åœºä¸€èµ·å·¥ä½œã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨NerfAccï¼Œå¯ä»¥ç”¨çº¯Pythonä»£ç è®­ç»ƒä¸€ä¸ªinstantngpæ¨¡å‹ï¼Œå¹¶è·å¾—æ¯”å®˜æ–¹çº¯CUDAå®ç°ç¨å¥½çš„æ€§èƒ½ï¼Œå¦‚è¡¨2aæ‰€ç¤ºã€‚</li><li>Dynamic NeRFs. åœ¨æœ¬ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å°†NerfAccå·¥å…·ç®±åº”ç”¨äºT-NeRFï¼Œ K-Planeså’ŒTiNeuVoxï¼Œæ¶µç›–äº†åˆæˆ(D-NeRF)å’Œâ€œé‡å¤–â€captures1(ä¼´éšHyperNeRF)ã€‚å½“åº”ç”¨å ç”¨ç½‘æ ¼æ–¹æ³•æ¥åŠ é€Ÿè¿™äº›åŠ¨æ€æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬åœ¨æ‰€æœ‰å¸§ä¹‹é—´å…±äº«å ç”¨ç½‘æ ¼ï¼Œè€Œä¸æ˜¯ç”¨å®ƒæ¥è¡¨ç¤ºé™æ€åœºæ™¯ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¸æ˜¯ç”¨å®ƒæ¥è¡¨ç¤ºä¸€ä¸ªåŒºåŸŸåœ¨å•ä¸ªæ—¶é—´æˆ³ä¸Šçš„ä¸é€æ˜åº¦ï¼Œè€Œæ˜¯ç”¨å®ƒæ¥è¡¨ç¤ºè¯¥åŒºåŸŸåœ¨æ‰€æœ‰æ—¶é—´æˆ³ä¸Šçš„æœ€å¤§ä¸é€æ˜åº¦ã€‚è¿™ä¸æ˜¯æœ€ä¼˜çš„ï¼Œä½†ä»ç„¶ä½¿æ¸²æŸ“éå¸¸æœ‰æ•ˆï¼Œå› ä¸ºè¿™äº›æ•°æ®é›†ä¸­æœ‰æœ‰é™çš„ç§»åŠ¨ã€‚</li><li>NeRFs for Camera Optimization.åœ¨æœ¬ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨NerfAccå·¥å…·ç®±å¯¹å¸¦æœ‰æ‘„åŠ¨ç›¸æœºçš„NeRFSyntheticæ•°æ®é›†è¿›è¡ŒBARFã€‚ç›®æ ‡æ˜¯å¯¹å¤šè§†ç‚¹å›¾åƒçš„è¾å°„åœºå’Œç›¸æœºå¤–æºè¿›è¡Œè”åˆä¼˜åŒ–ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼ŒNerfAccæä¾›çš„ç©ºé—´è·³è·ƒé‡‡æ ·åŠ å¿«äº†è®­ç»ƒé€Ÿåº¦ï¼Œæ˜¾è‘—æé«˜äº†å›¾åƒè´¨é‡å’Œç›¸æœºå§¿æ€é‡å»ºã€‚è¿™äº›æ”¹è¿›å¯ä»¥å½’å› äºæˆ‘ä»¬çš„æŠ½æ ·è¿‡ç¨‹ä¸­å¼ºåˆ¶çš„ç¨€ç–æ€§ã€‚è¿™ä¸€å‘ç°å¯èƒ½ä¸ºæœªæ¥çš„ç ”ç©¶æä¾›æœ‰è¶£çš„é€”å¾„ã€‚</li><li>Analysis of Different Sampling Approaches.è¡¨2aä¸­çš„ç»“æœè¡¨æ˜ï¼Œå ç”¨ç½‘æ ¼å’Œæè®®ç½‘ç»œé‡‡æ ·ä¹‹é—´çš„é€‰æ‹©å¯ä»¥æ˜¾è‘—å½±å“ä¸åŒæ•°æ®é›†ä¸Šçš„è¿è¡Œæ—¶é—´å’Œæ€§èƒ½ã€‚ç”±äºæ¯ç§æ–¹æ³•éƒ½ä¾èµ–äºä¸€ç»„ä¸åŒçš„è¶…å‚æ•°ï¼Œå› æ­¤é€šè¿‡æ‰«æè¶…å‚æ•°ç©ºé—´æ¥ç³»ç»Ÿåœ°æ¯”è¾ƒä¸¤ç§æ–¹æ³•æ˜¯è‡³å…³é‡è¦çš„ã€‚æˆ‘ä»¬æ”¹å˜äº†å ç”¨ç½‘æ ¼çš„åˆ†è¾¨ç‡å’Œè¡Œè¿›æ­¥é•¿ï¼Œä»¥åŠæè®®ç½‘ç»œæ–¹æ³•çš„æ ·æœ¬æ•°é‡å’Œæè®®ç½‘ç»œçš„å¤§å°ã€‚æˆ‘ä»¬åœ¨å›¾5ä¸­ç»˜åˆ¶äº†NeRF-Syntheticå’ŒMip-NeRF 360æ•°æ®é›†çš„æ¯ç§æ–¹æ³•çš„å¸•ç´¯æ‰˜æ›²çº¿ã€‚<ul><li>è¯¥åˆ†æè¡¨æ˜ï¼Œå ç”¨ç½‘æ ¼é‡‡æ ·é€‚ç”¨äºNeRF-Syntheticæ•°æ®é›†ï¼Œè€Œæè®®ç½‘ç»œæ–¹æ³•åœ¨360æ•°æ®é›†ä¸Šè¡¨ç°æ›´å¥½ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºNeRF-Syntheticæ•°æ®é›†åŒ…å«æ›´å¤šå¯ä»¥ä½¿ç”¨å ç”¨ç½‘æ ¼æ–¹æ³•æœ‰æ•ˆè·³è¿‡çš„ç©ºç™½ç©ºé—´ã€‚ç„¶è€Œï¼Œåœ¨çœŸå®çš„ã€æ— ç•Œçš„æ•°æ®ä¸­ï¼Œå ç”¨ç½‘æ ¼æ–¹æ³•çš„ä½¿ç”¨å—åˆ°è¾¹ç•Œæ¡†å’Œç¼ºä¹å¯è·³è¿‡çš„ç©ºç™½ç©ºé—´çš„é™åˆ¶ï¼Œè¿™ä½¿å¾—å»ºè®®ç½‘ç»œæ–¹æ³•æ›´åŠ æœ‰æ•ˆã€‚è¿™äº›å®éªŒä½¿ç”¨äº†æ¥è‡ªInstant-NGPçš„è¾å°„åœºï¼Œå…·æœ‰ç›¸åŒçš„è®­ç»ƒé…æ–¹ã€‚</li></ul></li></ul><h3 id="Combined-Sampling"><a href="#Combined-Sampling" class="headerlink" title="Combined Sampling"></a>Combined Sampling</h3><p>ç¬¬3èŠ‚ä¸­ä»‹ç»çš„é€å…‰ç‡ä¼°è®¡å™¨çš„ç»Ÿä¸€æ¦‚å¿µçš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒå¯ä»¥ç›´æ¥ç»“åˆä¸¤ç§ä¸åŒçš„é‡‡æ ·æ–¹æ³•ï¼Œå› ä¸ºå®ƒä»¬æœ¬è´¨ä¸Šéƒ½æä¾›äº†å¯ç”¨äºé‡è¦æ€§é‡‡æ ·çš„é€å…‰ç‡ä¼°è®¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å‘ç°ç®€å•åœ°åœ¨æè®®ç½‘ç»œçš„é¡¶éƒ¨å †å ä¸€ä¸ªå ç”¨ç½‘æ ¼ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘å…‰çº¿çš„æ•°é‡ï¼Œå¹¶ç¼©å°NeRF-Syntheticæ•°æ®é›†ä¸Šå‰©ä½™å…‰çº¿çš„è¿‘è¿œå¹³é¢ã€‚ä¸ä»…ä½¿ç”¨å»ºè®®ç½‘ç»œè¿›è¡Œé‡è¦æ€§é‡‡æ ·ç›¸æ¯”ï¼Œè¿™å°†å¯¼è‡´è´¨é‡çš„æé«˜ï¼Œä»31.40dBæé«˜åˆ°32.35dBï¼Œå¹¶å°†è®­ç»ƒæ—¶é—´ä»5.2åˆ†é’Ÿå‡å°‘åˆ°4.3åˆ†é’Ÿã€‚å›¾6æ˜¾ç¤ºäº†ä¸€ä¸ªå¸¦æœ‰FICUSåœºæ™¯çš„ç¤ºä¾‹ï¼Œå…¶ä¸­ä½¿ç”¨ç»„åˆé‡‡æ ·æ¸…é™¤äº†æµ®åŠ¨å¯¹è±¡ã€‚æœ¬å®éªŒä½¿ç”¨Instant-NGPä¸­çš„HashEncodingä½œä¸ºäº®åº¦åœºè¡¨ç¤ºã€‚</p><h2 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h2><p>æ€»ä¹‹ï¼Œæœ¬æ–‡å¼ºè°ƒäº†å…ˆè¿›çš„é‡‡æ ·æ–¹æ³•å¯¹æé«˜ç¥ç»è¾å°„åœº(NeRF)ä¼˜åŒ–å’Œæ¸²æŸ“æ•ˆç‡çš„é‡è¦å½±å“ã€‚æˆ‘ä»¬è¯æ˜äº†å…ˆè¿›çš„é‡‡æ ·å¯ä»¥æ˜¾è‘—åŠ å¿«å„ç§æœ€è¿‘çš„NeRFè®ºæ–‡çš„è®­ç»ƒï¼ŒåŒæ—¶ä¿æŒé«˜è´¨é‡çš„ç»“æœã€‚NerfAccæ˜¯ä¸€ä¸ªçµæ´»çš„Pythonå·¥å…·ç®±ï¼Œå®ƒçš„å¼€å‘ä½¿ç ”ç©¶äººå‘˜èƒ½å¤Ÿè½»æ¾åœ°å°†é«˜çº§é‡‡æ ·æ–¹æ³•åˆå¹¶åˆ°nerfç›¸å…³æ–¹æ³•ä¸­ã€‚æ¢ç´¢å’Œæ¯”è¾ƒå…ˆè¿›çš„é‡‡æ ·æ–¹æ³•æ˜¯å¼€å‘æ›´æœ‰æ•ˆå’Œæ›´å®¹æ˜“è·å¾—çš„åŸºäºnerfçš„æ–¹æ³•çš„é‡è¦æ­¥éª¤ã€‚æ‰€æå‡ºçš„ç»“æœè¿˜è¡¨æ˜ï¼Œé€šè¿‡å…ˆè¿›çš„é‡‡æ ·ç­–ç•¥ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç ”ç©¶æé«˜NeRFå’Œå…¶ä»–ç›¸å…³æŠ€æœ¯çš„æ€§èƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Sampling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Instant-NSRä»£ç ç†è§£</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Instant-NSR-code/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Instant-NSR-code/</url>
      
        <content type="html"><![CDATA[<p>å¯¹<a href="https://github.com/zhaofuq/Instant-NSR">Instant-NSR</a>ä»£ç çš„ç†è§£</p><span id="more"></span><h1 id="è®­ç»ƒæµç¨‹å›¾"><a href="#è®­ç»ƒæµç¨‹å›¾" class="headerlink" title="è®­ç»ƒæµç¨‹å›¾"></a>è®­ç»ƒæµç¨‹å›¾</h1><iframe frameborder="0" style="width:100%;height:1158px;" src="https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1&title=train.drawio#R7V1bc6M4Fv41lNNb1S5AIOAxjpPp3eqdnZme2tndFxc2ss02Bi%2FgJJ5fvxI3A1In6gSQaNMPHVvmIs7hO3cdKeDu8PxT7B73f488FCi66j0rYKnoumEAA%2F8hI%2Bd8RNctLR%2FZxb6Xj9UGvvh%2FomJQLUZPvoeSxoFpFAWpf2wObqIwRJu0MebGcfTUPGwbBc27Ht0doga%2BbNyAHv3D99J9Pmrr1mX8E%2FJ3%2B%2FLOGnTyXw5ueXDxJMne9aKn2hC4V8BdHEVp%2FunwfIcCQr2SLvl5D9%2F4tZpYjMKU54T%2Fxr%2BEUfpg7f72z5W2%2FOvu51%2B9Pz%2Faen6ZRzc4FU9czDY9lySIo1PoIXIVVQGLp72foi9Hd0N%2BfcJcx2P79BDgbxr%2BuI3CtOCiBvF3N%2FB3If6ywbNEMR6gp108ySOKU%2FRcGyoe4ycUHVAan%2FEh5a8qNPNzyreqIPHThUPAKA7Z17hTvVVu8VbsqmtfCIc%2FFLT7DjpqFBnT2PXDVYji7QsE1b6foF3QD6gN8pk0%2BTRVpcln9EU9gyIR8jAKi69RnO6jXRS6wf1ldNF8Ky%2FHfI6iY0G6%2F6I0PRe0c09p1CQsevbTf5HT52bx7d%2B1X5bPxZWzL%2BfyS4gft3YS%2Bfrv%2Bm%2BX07Jv5XncTEyiU7xBL5CqgGfqxjuUvnAcyI8jdHzxlYhR4Kb%2BY1Padc5gWspExxQPZJ8JHRIUz7M%2FK%2Fxgyc2HboVQB5ixmxJH0xiYcYbEDJwww4sZwIkZUyrMaEAkh7Uafy%2Fcfo3DDf5e2M3JYc9N9pVa7J%2Fdmi4VvwFLRs5DlD5F8VdaHu6jw%2FqUCJGFVtN80GxaFlYmWV0Wmr1ZX%2BYkDHnRYfKiA3aNjuLUXyI%2FTGvGqN18mwBQ52rtX%2BuC%2BbyLa7Rem2pSb3%2BTTAqECULeCmFwnNO9H%2B6kM0w0vUk%2FHTIsExYae7NMSrlaI%2BJmH0UJwmOVOIMBnsZiHTeICf93It5wRqaPSUanW3yABo%2FPGbHK3%2FGnHfn7M%2Frt4efyirkx2cl1P%2BIP7oHwLlwn2R%2FsxpWieLXddncbtXHlxNuu0k0Ytm8%2FyGORm6NwM9S9hD3jce8mUTzE7ehH7COyEqBt2o0oAa24gKabfE6OBnuTJfa1GcFv1%2Bylxn5dtVtSGb7VA07WW3c8LjW%2BJDwu5%2F0t76aMBBWyWSJnB1rzZugHMKLNus6INtu9CUWLIuahyLzkZKzZRTdYpUceMVzr6q3SgcV3%2BeJtQKfcAprqkKGL%2BlNFDkX1M0oowuHnS5vUSdI4%2BoruogBTHCzDKCTya%2BsHQWuISpUQavkbN7gtfjj4npcJPxY7mgzrgSM67ahRHDEYDNH7Yog%2Bef38aQOVV28YUumNct5cok4%2BKeY0IWMwIFPFPwaJlOlCg8pNzKiyY0YXZmtlp97GsXuuHXAkQa%2BkduVXImmGprbel%2FyKnQbMSiI1Cghy19rzH9%2FlW7fdZ6Ylgw2ZfVZKUjv9rpwBfqJsEtX1ep3XyvPjxgWT4x7FaLV340MU%2BpukPUdm%2FKO3OQf5lNyw04cPT4dV4J5RTF5SPXsudY%2FtFBRichzwGDSaDMln0JzVyJ4ZI3W1RW5aPCHJPrzEzh%2FgiS9cXm0KoxW8ztZ3xtZGSqvL21%2FR6gfEwCtP8%2B77bU6eu8q01ZIECqqvPxodN6f40U1PWE0EUZJUZm3%2BzM2fvuuxO%2FdKizCzZD5p28BmlOVU6epGxLo3CxsIjWaOK2JdOpuvV7PJFc0EEnlR0kceuHmsS8Xjct7fjFj7faVpFXMxI1ngWW5Nz7B%2FUX5MvG35MQ%2FhzhRzSUc9ZAqXmw5nuNzqLeZB5x7CqAcNKWncVjNaOlIVHbel0xdXFUivaocLhkBG%2Ff2wDLGvGiDtxAYUDRBAB7278mOwCvMP%2BLC48jQC97D2XPwhj6tnp6dRvNnPs2Pnt557uMH0dfGzkSiPfhfgk%2B%2FWKHXJF3RMOvONPrzPxxEd7G%2BXz5gOXT4DWJV4vaUsgTPZqdxV47zRfmBLZaeW856ExaiERau8ATKs5IFlhdhs%2BlviFpqouAUYqU8LaJ%2B2swCp2WGM1FrMQixCZvlxszLBVrm%2BRMAkxa%2BBn6Q3mTiaZ8flCwkLAXTz4YNiLYUFjVvPEaL0tUcgBcr4sNYjEEGwaB6YpRZYh7aO89Cjj9%2BsKGQdm03lKZMuKw9t3HMxIQ19hE26vZ%2BnJE4xRbBpo7HtfLAWUzFrrvuLYFuTJuDWBLz1uLJFsOmY2KQJ5NIE%2Fu7gvlMXTPJduHyHrQyladFBAXaGUu1LvhvTegt%2B%2BW5zyndDMvlOh3STzR55p4DlzV8c%2FQzkuS8fxKvqlPnn7NDPv93UYgJ39Uv4aXm2OscPpf7lLyRK4Ic32Q9EaD3g%2F3Wyojc%2FU%2FsgX7luyym3hDvlxpRo5oZqicDXoSqXU27Q0f5NTFCDnbYKqnmQLQznn05rFH%2BOEhl75MAmfGyWK8NKpIDe4DOtEOGHD2%2F825BrhUg573brtZqe%2Bz3%2FLiFiKiOvgIxj0JDRWKvc%2BoPMtOCaHzK8YWBDrgXXpj7xuHseO3Lx%2BOq6hw3AY1MuJ88U2jfzR%2BWxJhWPDXYZKgn80daMRD3hVEYR1bBN4UyhHTJHhg6LFx1y9cg06FLSzPjv1tDvo4c1KPuEl5Y%2F0Od0ZJjZUdbsi5h0g4sDSvYjpCUjbjcoJU06pIMfzyMu6dhoqamM6uRhiUn3Vt8%2BPo6Qkqye0cNSUmg56Lg0osnbJ9WUzLenO5jmOxF4buom6NJ0nTROWZZjnaxbwrf0vZfvIztmjVY1jgPUOQQUaqvwWwO29tzqC7lQopStyoncZiBbGw65vLYslMyb%2F4Ytuwoi16tFs%2FNU0Cn1g2ROwDYn6PpcHNMhkL%2FntrLj2jK4cA0GxzVtKBbJi3n296b5Btzlh9aYQ0Z0Ve04s9EPC5rrQm2ozRn9ZZn59Y5Y8HA2wcb5%2Feff73%2F9z%2FHTs%2F7rR%2F8%2F5dYk12YTtYTe20Qt1GlRyySyUMFaznKUGULbbEquKtAmLEMI6Y0qxtSSz2btdjVoDz5rSs3wSxjesD2UKzAJ6bA9pLM10ilpTS%2F326iaHTOikiwrSbP7spHsqaEOP1x4oxaWXNlqSEctxgGXlnaWAC7WtDEcN1wsXu1iyaVdLKErtMYlErl5DOWqa7RoC%2BL5%2FKcCbmnrUbRJramtRS6Mwl%2FWEpfeXBRrKmLkxwevySAbPmiT4ZOb7AlA6JCOdAjRGIW%2Bw0KETvaTTbnArdZXVzu9qythGpB50rX9wrnc3rSEUYfAYnJvne9sRqhmdU2d1gCPfT5oby%2Bb1YJDej%2FHaOVPGFsgAVYMTdd6o6PQpT3jUvE2b5MCW67WVjbdpGAUUQGz9MHliQo4U%2BkPP1x413w7ksGFXvM9CrhAvZkZlgEu6gQXXrg4Gq926XxH8ffxmK4r%2FfKpdD26hU0nJhhsokS0A%2BnQdusEkW%2FRCowUIrT%2FSBrU7WLXkzMQabT8PY1RLVEqjWFQQrt7v%2F20yKWMhPSz2juAq7QmZkkZozf60VG%2Bw2pDEe7HjWBYlmwRDIf2yuSNyLW1pujMhEMX%2BeZZHTnlQZt8GqNic1D6VQ0zJrODw%2BzgdmTlSu04Y3VkeWR1b44ss%2FBWaIcAccUg31vd%2FO2iZY7iZjAQVl6aJLt5WPfqhEIDg7QvZEHbaQRWMbPakz5hku9Ki6U6wQfDqWUeZ4rEB21vieD4tXOBjiPU%2BojKLqUAI9s5rJTShBq9IxdTjPom5nGOSIDQYY56%2B90RYES4JmdEHyaM8GLE4cSINpRf%2BNIsayBBBzdvbC8%2FQgzxWkRoVezIEaLxeoN57lCYO0j7g8nGHYUKMcSrENpMVe4dxbGVBf4Aldulcos%2F4K8Pim2REXuhOA%2FKvak4qmLT8JJ3T4v3sU4z27KNFeliMk%2FvK9KlMQorGcyD5P%2FbjGeLW%2BUWkhHyQScjmKn489Vy0ZKAi0Lr1Mauoxh1nuwDLaE6ik4gomO02Xe1PCCI1m6wSlJ07OiKQbTp9oJJ6qYJEThYKDlWJnmwOKL1h3Q62uQ1Yp2%2BdHQFhklAvEFAMFpjsamsChUQdNB2jZJ0lTc9VrMRdXbww5mEiNGaGXMIGIgxGYjpot0Im5dXuodQJ4gp5d3riNFFIqacZj1%2BGO1WxzSu8BIdUXhzUUWkO0%2BSIUN%2FIIeS3Qnn6XNaV1Z3rqIveung8y6MOWZlpxYgs1jNxi1GnV9%2FINMpBpwStNrs0ebrMfLDsh9mxooLjfG7gQVbjebEbujIZnG92u37acTUNRsZEYBh2chYOnwV1UXdyEpGpwU2lYVaFzodKKj1qJUQKJreWjw%2BaA84Ng3FhpLrOBmdRcHdb0GsRUFnJLvaDHkW7o757sfsRgNKL1swP7pxQnYv%2FTD4nYvuiAPf9WLgYTwe03nN4Bt4JrXdZZfN7WOHnMWlLA4sayVyA8%2FikrAkMomsbhh4AtsjEWhLgoR5mDfpzO3SGfllNjw6GnUOYFmreRh4ItWdV6ejh%2B3yFcJa%2B5yH%2FcDy9%2Fg0PHJaLgRmUu4wDC89EdYDK5%2FUSuMP%2BApmbe%2F49h2vI33SbimuM%2FrKMtdGdLIyh62z6QIJAvOji%2BeTdQrvyLdMz0dy4izrojyrvQnvvG4W38u11TaKD27a6azX5I0oLp9%2FvpI3lfIfAGNVn8Zal9BFYyK2BzgVa73dgwC8MUlgiPQgAB2TzGKQWGqECcH36iKYZvFMQr%2B7vRsM0%2B9mtT3qze8GU3r8Hbjhjk8JLeECdHzKi57CrIxLPoyYWjuKC1gZL62nRffsRW9Tufw7UMJbRAKEFpEAuogEuyexHyb%2Bhu5wKCNMGEvRB4bJVErxDpjwllIAWyhMGKUUhIN%2BuMOj63X0PAasGOJVylRE8Q6sMPoQsKksNOUB6LYDZH%2B7HCp%2FPbg7JKNiUS%2FbqJVoYWkWYM2HxIvYzddHjpccBjxreoUu6oVizewah%2FmLJUbIY6FmdjnNmkwMUbxdHVxsaz%2Bv0mgV7o7ySUXDMav9PcvSZZYNUdtYchgzQqxYfAtktAZgiK4RhxneAI5YO8KgAzjhce7GsXu%2B2SrmYnaJgOYwminmMo%2BDekVqBR%2B%2FDSI3BXqekFVdd73G4wkKtvPsczZapjSuK50BW%2BkMw7EY65Z0HdLAhr3ZO2J96Tqw67AmleY1YMPy2y8o9vGDZxn3F6oJX4A6AERyFiPty%2FUpA3j9bkOo323QfncG23tLcRZkqc89VJw7strw3lbsO8UG2SpS%2FBPdsSvZu5lQ2JzW3wJd7Z1Y5y%2FV53U14G6%2B7rJX7R%2BnNPBDVIx7bvz1H%2FgyfpoXo6hmc1DPRvvS0E578SFjrxTmOolquVH3GBbr438Tw0ArtG4JY7PE3riRzBsVMMVqczoqUKRiVMzKZnVCUQFjLj4WGvku%2F0vU%2BxWA%2BrKrVQVqyNrjvXijKWjblR7vHtu0H3OIHgkTiw6QBTefojjwaqPXwDWgNblmqsx14AKYxlrSbyoLVbEhS5NCxXYUW71oUjJik94M5OBbxTbIh1snO9ghK28X2cjijgyS6xjK4j5bjmvju%2BTYLZo74OEHciDW1eR3fOFlbS4GmchtPvJQKPMFvg%2FIbojvsKiuWhzs5E9gFhd0ltk0oXKrZq0lLHJucdZ91mPCUmydXPNarHzKQGAsPdYtg%2Bm%2F92fmT%2FUXb1f4Jm8nNlOo6W7SKx%2BqzDLFfeGRLhPoc1tvym9Wk3NjXqY3hon%2F0%2F5PiJ7Io0UJXcXyo8owQ6eSMyakVStz57zeOt7qkwh7uwjj9Vmg0EZ5Ju2z%2BCR%2FOQrxxeqYMLT4YrSbn0DCCxLI2yoPCu2cXk6zBhKinBLaofeL3D81Xis4a%2F%2F2B3b%2BP8mIN20ONbX6pzWhx7Ic4LzcK7rh9vUGPboJX%2BaZpyhMItojF09RrOMN1bn8a1DUYlDUsebaoMLMmoTZ24UZr9MChRaNQ9ppyVZnoXie%2Fb3J%2Fl%2BRriDF0kpyqO81RnRVlXAVRjuoaEONFVSsurQPgilLbO3LyDHFW2IOhQYCIF1i%2FuV0OLjx%2BY9s%2Fbh8UNFbzqbDatdnDlnwYo3G2%2Bzzfef1Gi2hXiOkvcZca0QhWhUdOqV%2F4y2n8hSFvfSQXoe9JaYrsbZVPyQMdcMdusFf73SSzl5otN79UWNiADbVuWMyck0OKyKm95ZosoQuRx552y%2BL1923hC5Htmh3P6umKwQbfuFM8rTZUKPZRa1xn5q1GGjLwH10WJ8SQcaxabXWymgqYBTDsQDVmwtv0S78mbF24keVcNQm1CqjNQhgKKQ%2BJZzQGMDYJRxv3bElNAZg0eUSRJKdSC8jiU04w76YbBVioHDHRWimf%2ByA4XXwLaEOvkU7%2BIn72OzaKxtaoN1WLsKhUubvJqi8BSq8sQFbaGzAYlTB0tYzsXNktpZt2AYPy1ZmdcLqzVYuL3ydtrKu2lSFjAzmsi1R%2Fl%2FlFGnN8L4mTqTZvAEBW2j%2B32YEBCTX%2FtjfhzRcxBsAYhPMbzEAWqtaBRoANu8G3rZQ59KmYzqZAUBa1OalGevIjb1%2FkXuTlS95JC3fOSt2w69SGwa6CkFVSF7FpRn15qwm%2B%2F2ZBnRO%2F6pMAwBeZcjQZgHDYSSv%2BVOWD55vgihBMm4gYVvN%2BIpjMXIuHakM%2FDWOSOPd6ref8DPu%2F541wQf3%2Fwc%3D"></iframe><h1 id="ç¥ç»ç½‘ç»œç»“æ„"><a href="#ç¥ç»ç½‘ç»œç»“æ„" class="headerlink" title="ç¥ç»ç½‘ç»œç»“æ„"></a>ç¥ç»ç½‘ç»œç»“æ„</h1><h2 id="Neusç½‘ç»œ"><a href="#Neusç½‘ç»œ" class="headerlink" title="Neusç½‘ç»œ"></a>Neusç½‘ç»œ</h2><p><code>in network_sdf.py NeRFNetwork(NeRFRenderer)</code></p><p>Instant-NSRè®­ç»ƒéšå¼æ¨¡å‹çš„ç½‘ç»œç”±ä¸¤ä¸ªä¸²è”çš„MLPç»„æˆï¼š</p><ul><li>ä¸€ä¸ªå…·æœ‰2ä¸ªéšè—å±‚çš„SDF MLP $ğ‘š_{ğ‘ }$<ul><li>æ¯ä¸ªéšè—å±‚å®½åº¦ä¸º64ä¸ªç¥ç»å…ƒ</li><li>ç”¨Softplusæ›¿æ¢äº†åŸå§‹çš„ReLUæ¿€æ´»å‡½æ•°ï¼Œå¹¶ä¸”å¯¹æ‰€æœ‰éšè—å±‚çš„æ¿€æ´»å‡½æ•°è®¾ç½®äº†ğ›½=100ï¼ŒSDF MLPä½¿ç”¨å“ˆå¸Œç¼–ç å‡½æ•°(NGP)å°†3Dä½ç½®æ˜ å°„ä¸º32ä¸ªè¾“å‡ºå€¼ã€‚</li></ul></li><li>ä¸€ä¸ªå…·æœ‰3ä¸ªéšè—å±‚çš„é¢œè‰²MLP $ğ‘š_{ğ‘}$<ul><li>æ¯ä¸ªéšè—å±‚å®½åº¦ä¸º64ä¸ªç¥ç»å…ƒ</li></ul></li></ul><p>$m_{s}$è®­ç»ƒSDFçš„ç½‘ç»œè¡¨ç¤ºä¸º:$(x,F_{geo})=m_{s}(p,F_{hash}).$</p><ul><li>input<ul><li>æ¯ä¸ªä¸‰ç»´é‡‡æ ·ç‚¹çš„3ä¸ªè¾“å…¥ç©ºé—´ä½ç½®å€¼</li><li>æ¥è‡ªå“ˆå¸Œç¼–ç ä½ç½®çš„32ä¸ªè¾“å‡ºå€¼</li></ul></li><li>output<ul><li>sdfå€¼ï¼Œç„¶åæˆ‘ä»¬å°†æˆªæ–­çš„å‡½æ•°åº”ç”¨äºè¾“å‡ºSDFå€¼ï¼Œè¯¥å€¼ä½¿ç”¨sigmoidæ¿€æ´»å°†å…¶æ˜ å°„åˆ°<code>[âˆ’1,1]</code>ï¼š<code>sigma = F.relu(h[..., 0])</code></li><li>15ç»´çš„$F_{geo}$å€¼</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/m_s.png" alt="m_s.png"></p><p>$m_{c}$è®­ç»ƒé¢œè‰²çš„ç½‘ç»œè¡¨ç¤ºä¸ºï¼š$\hat{C}=m_{c}(\mathrm{p},\mathrm{n},\mathrm{v},F_{geo}).$</p><ul><li>input<ul><li>è§†è§’æ–¹å‘åœ¨çƒè°å‡½æ•°åŸºç¡€ä¸Šåˆ†è§£ä¸º4é˜¶åŠä»¥ä¸‹çš„å‰16ä¸ªç³»æ•°</li><li>SDF MLPçš„15ç»´çš„è¾“å‡ºå€¼$F_{geo}$</li><li>æ¯ä¸ªä¸‰ç»´é‡‡æ ·ç‚¹çš„3ä¸ªè¾“å…¥ç©ºé—´ä½ç½®å€¼</li><li>ç”¨æœ‰é™å·®åˆ†å‡½æ•°ä¼°è®¡SDFæ¢¯åº¦çš„3ä¸ªæ­£æ€å€¼</li></ul></li><li>output<ul><li>RGB: 3</li></ul></li></ul><p>ç”¨sigmoidæ¿€æ´»å°†è¾“å‡ºçš„RGBé¢œè‰²å€¼æ˜ å°„åˆ°[0,1]èŒƒå›´</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/m_c.png" alt="m_c.png"></p><h3 id="è®­ç»ƒç»†èŠ‚"><a href="#è®­ç»ƒç»†èŠ‚" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h3><p>æˆ‘ä»¬åœ¨è®ºæ–‡ä¸­è¯æ˜äº†æˆ‘ä»¬çº¦10åˆ†é’Ÿçš„è®­ç»ƒç»“æœä¸åŸå§‹NeuSçš„çº¦8å°æ—¶ä¼˜åŒ–ç»“æœæ˜¯å¯æ¯”è¾ƒçš„ã€‚åœ¨ä¼˜åŒ–é˜¶æ®µï¼Œæˆ‘ä»¬å‡è®¾æ„Ÿå…´è¶£çš„åŒºåŸŸæœ€åˆä½äºå•ä½çƒå†…ã€‚</p><ul><li>åˆ†å±‚é‡‡æ ·ï¼šæˆ‘ä»¬åœ¨PyTorchå®ç°ä¸­é‡‡ç”¨äº†NeRFçš„åˆ†å±‚é‡‡æ ·ç­–ç•¥ï¼Œå…¶ä¸­ç²—é‡‡æ ·å’Œç»†é‡‡æ ·çš„æ•°é‡åˆ†åˆ«ä¸º64å’Œ64ã€‚æˆ‘ä»¬æ¯æ‰¹æ¬¡é‡‡æ ·4,096æ¡å…‰çº¿ï¼Œå¹¶ä½¿ç”¨å•ä¸ªNVIDIA RTX 3090 GPUè¿›è¡Œä¸ºæœŸ6,000æ¬¡è¿­ä»£çš„æ¨¡å‹è®­ç»ƒï¼Œè®­ç»ƒæ—¶é—´ä¸º12åˆ†é’Ÿã€‚</li><li>æ³•çº¿è®¡ç®—ï¼šä¸ºäº†è¿‘ä¼¼æ¢¯åº¦ä»¥è¿›è¡Œé«˜æ•ˆçš„æ³•çº¿è®¡ç®—ï¼Œæˆ‘ä»¬é‡‡ç”¨æœ‰é™å·®åˆ†å‡½æ•°$ğ‘“ â€² (ğ‘¥) = (ğ‘“ (ğ‘¥ + Î”ğ‘¥) âˆ’ (ğ‘“ ğ‘¥ âˆ’ Î”ğ‘¥))/2Î”ğ‘¥$ã€‚åœ¨æˆ‘ä»¬çš„PyTorchå®ç°ä¸­ï¼Œæˆ‘ä»¬å°†è¿‘ä¼¼æ­¥é•¿è®¾ç½®ä¸ºÎ”ğ‘¥ = 0.005ï¼Œå¹¶åœ¨è®­ç»ƒç»“æŸæ—¶å°†å…¶å‡å°åˆ°Î”ğ‘¥ = 0.0005ã€‚</li><li>Lossï¼šæˆ‘ä»¬é€šè¿‡æœ€å°åŒ–HuberæŸå¤±$L_{ğ‘ğ‘œğ‘™ğ‘œr}$å’ŒEikonalæŸå¤±$L_{ğ‘’ğ‘–ğ‘˜}$æ¥ä¼˜åŒ–æˆ‘ä»¬çš„æ¨¡å‹ã€‚è¿™ä¸¤ä¸ªæŸå¤±ä½¿ç”¨ç»éªŒç³»æ•°ğœ†è¿›è¡Œå¹³è¡¡ï¼Œåœ¨æˆ‘ä»¬çš„å®éªŒä¸­å°†å…¶è®¾ç½®ä¸º0.1ã€‚</li><li>Adamï¼šæˆ‘ä»¬é€‰æ‹©Adamä¼˜åŒ–å™¨ï¼Œåˆå§‹å­¦ä¹ ç‡ä¸º$10^{âˆ’2}$ï¼Œå¹¶åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å°†å…¶é™ä½åˆ°$1.6 \times 10^{-3}$ã€‚</li></ul><h4 id="æœ‰é™å·®åˆ†æ³•ï¼š"><a href="#æœ‰é™å·®åˆ†æ³•ï¼š" class="headerlink" title="æœ‰é™å·®åˆ†æ³•ï¼š"></a>æœ‰é™å·®åˆ†æ³•ï¼š</h4><p><a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E9%99%90%E5%B7%AE%E5%88%86%E6%B3%95">æœ‰é™å·®åˆ†æ³• - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">def gradient(self, x, bound, epsilon=0.0005):</span><br><span class="line">    #not allowed auto gradient, using fd instead</span><br><span class="line">    return self.finite_difference_normals_approximator(x, bound, epsilon)</span><br><span class="line"></span><br><span class="line">def finite_difference_normals_approximator(self, x, bound, epsilon = 0.0005): # æœ‰é™å·®åˆ†æ³•</span><br><span class="line">    # finite difference</span><br><span class="line">    # f(x+h, y, z), f(x, y+h, z), f(x, y, z+h) - f(x-h, y, z), f(x, y-h, z), f(x, y, z-h)</span><br><span class="line">    pos_x = x + torch.tensor([[epsilon, 0.00, 0.00]], device=x.device)</span><br><span class="line">    dist_dx_pos = self.forward_sdf(pos_x.clamp(-bound, bound), bound)[:,:1]</span><br><span class="line">    pos_y = x + torch.tensor([[0.00, epsilon, 0.00]], device=x.device)</span><br><span class="line">    dist_dy_pos = self.forward_sdf(pos_y.clamp(-bound, bound), bound)[:,:1]</span><br><span class="line">    pos_z = x + torch.tensor([[0.00, 0.00, epsilon]], device=x.device)</span><br><span class="line">    dist_dz_pos = self.forward_sdf(pos_z.clamp(-bound, bound), bound)[:,:1]</span><br><span class="line"></span><br><span class="line">    neg_x = x + torch.tensor([[-epsilon, 0.00, 0.00]], device=x.device)</span><br><span class="line">    dist_dx_neg = self.forward_sdf(neg_x.clamp(-bound, bound), bound)[:,:1]</span><br><span class="line">    neg_y = x + torch.tensor([[0.00, -epsilon, 0.00]], device=x.device)</span><br><span class="line">    dist_dy_neg  = self.forward_sdf(neg_y.clamp(-bound, bound), bound)[:,:1]</span><br><span class="line">    neg_z = x + torch.tensor([[0.00, 0.00, -epsilon]], device=x.device)</span><br><span class="line">    dist_dz_neg  = self.forward_sdf(neg_z.clamp(-bound, bound), bound)[:,:1]</span><br><span class="line"></span><br><span class="line">    return torch.cat([0.5*(dist_dx_pos - dist_dx_neg) / epsilon, 0.5*(dist_dy_pos - dist_dy_neg) / epsilon, 0.5*(dist_dz_pos - dist_dz_neg) / epsilon], dim=-1)</span><br></pre></td></tr></table></figure><h2 id="Neural-Tracking-Implementation-Details"><a href="#Neural-Tracking-Implementation-Details" class="headerlink" title="Neural Tracking Implementation Details"></a>Neural Tracking Implementation Details</h2><p>åœ¨ç¬¬4èŠ‚ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç¥ç»è·Ÿè¸ªæµç¨‹ï¼Œå®ƒå°†ä¼ ç»Ÿçš„éåˆšæ€§è·Ÿè¸ªå’Œç¥ç»å˜å½¢ç½‘ç»œä»¥ä¸€ç§ç”±ç²—åˆ°ç²¾çš„æ–¹å¼ç»“åˆåœ¨ä¸€èµ·ã€‚æˆ‘ä»¬é€šè¿‡é«˜æ–¯-ç‰›é¡¿æ–¹æ³•è§£å†³éåˆšæ€§è·Ÿè¸ªé—®é¢˜ï¼Œå¹¶åœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­ä»‹ç»äº†è¯¦ç»†ä¿¡æ¯ã€‚<br>è·Ÿè¸ªç»†èŠ‚: åœ¨è¿›è¡Œéåˆšæ€§è·Ÿè¸ªä¹‹å‰ï¼Œæˆ‘ä»¬é€šè¿‡è®¡ç®—è§„èŒƒç½‘æ ¼ä¸Šçš„æµ‹åœ°è·ç¦»æ¥å¯¹EDèŠ‚ç‚¹è¿›è¡Œé‡‡æ ·ã€‚æˆ‘ä»¬è®¡ç®—å¹³å‡è¾¹é•¿ï¼Œå¹¶å°†å…¶ä¹˜ä»¥ä¸€ä¸ªåŠå¾„æ¯”ä¾‹ï¼Œç”¨äºæ§åˆ¶å‹ç¼©ç¨‹åº¦ï¼Œä»¥è·å¾—å½±å“åŠå¾„ğ‘Ÿã€‚é€šè¿‡æ‰€æœ‰çš„å®éªŒï¼Œæˆ‘ä»¬å‘ç°ç®€å•åœ°è°ƒæ•´ä¸º0.075ä¹Ÿå¯ä»¥å¾—åˆ°å¾ˆå¥½çš„ç»“æœã€‚ç»™å®šğ‘Ÿï¼Œæˆ‘ä»¬æŒ‰Yè½´å¯¹é¡¶ç‚¹è¿›è¡Œæ’åºï¼Œå¹¶åœ¨è·ç¦»ğ‘Ÿä¹‹å¤–æ—¶ä»ç°æœ‰EDèŠ‚ç‚¹é›†åˆä¸­é€‰æ‹©EDèŠ‚ç‚¹ã€‚æ­¤å¤–ï¼Œå½“EDèŠ‚ç‚¹å½±å“ç›¸åŒçš„é¡¶ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œç„¶åæå‰æ„å»ºEDå›¾ä»¥è¿›è¡Œåç»­ä¼˜åŒ–ã€‚</p><p>$\mathrm{(c,\sigma)=\phi^{o}(pâ€™+\phi^{d}(pâ€™,t),d).}$<br>ç½‘ç»œç»“æ„: æˆ‘ä»¬æ”¹è¿›é˜¶æ®µçš„å…³é”®åŒ…æ‹¬è§„èŒƒè¾å°„åœº$ğœ™^ğ‘œ$å’Œå˜å½¢ç½‘ç»œ$ğœ™^ğ‘‘$ã€‚</p><ul><li><p>$ğœ™^ğ‘œ$å…·æœ‰ä¸Instant-NGPç›¸åŒçš„ç½‘ç»œç»“æ„ï¼ŒåŒ…æ‹¬ä¸‰ç»´å“ˆå¸Œç¼–ç å’Œä¸¤ä¸ªä¸²è”çš„MLP: å¯†åº¦å’Œé¢œè‰²ã€‚</p><ul><li>ä¸‰ç»´åæ ‡é€šè¿‡å“ˆå¸Œç¼–ç æ˜ å°„ä¸º64ç»´ç‰¹å¾ï¼Œä½œä¸ºå¯†åº¦MLPçš„è¾“å…¥ã€‚ç„¶åï¼Œå¯†åº¦MLPå…·æœ‰2ä¸ªéšè—å±‚ï¼ˆæ¯ä¸ªéšè—å±‚æœ‰64ä¸ªéšè—ç»´åº¦ï¼‰ï¼Œå¹¶è¾“å‡º1ç»´å¯†åº¦å’Œ15ç»´å‡ ä½•ç‰¹å¾ã€‚</li><li>å‡ ä½•ç‰¹å¾ä¸æ–¹å‘ç¼–ç è¿æ¥åœ¨ä¸€èµ·ï¼Œå¹¶è¾“å…¥åˆ°å…·æœ‰3ä¸ªéšè—å±‚çš„é¢œè‰²MLPä¸­ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ¯ä¸ªåæ ‡ç‚¹çš„å¯†åº¦å€¼å’ŒRGBå€¼ã€‚</li></ul></li><li><p>$ğœ™^{ğ‘‘}$åŒ…æ‹¬å››ç»´å“ˆå¸Œç¼–ç å’Œå•ä¸ªMLPã€‚</p><ul><li>å››ç»´å“ˆå¸Œç¼–ç å…·æœ‰32ä¸ªå“ˆå¸Œè¡¨ï¼Œå°†è¾“å…¥ï¼ˆpâ€²ï¼Œğ‘¡ï¼‰æ˜ å°„åˆ°64ç»´ç‰¹å¾ã€‚é€šè¿‡æˆ‘ä»¬çš„2ä¸ªéšè—å±‚å˜å½¢MLPï¼ˆæ¯ä¸ªéšè—å±‚å…·æœ‰128ä¸ªéšè—ç»´åº¦ï¼‰ï¼Œæœ€ç»ˆå¯ä»¥å¾—åˆ°Î”pâ€²ã€‚</li></ul></li></ul><h3 id="è®­ç»ƒç»†èŠ‚-1"><a href="#è®­ç»ƒç»†èŠ‚-1" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h3><p>è®­ç»ƒç»†èŠ‚ã€‚æˆ‘ä»¬åˆ†åˆ«è®­ç»ƒ$ğœ™^ğ‘œ$å’Œ $ğœ™^{ğ‘‘}$ ã€‚æˆ‘ä»¬é¦–å…ˆåˆ©ç”¨å¤šè§†å›¾å›¾åƒæ¥è®­ç»ƒè§„èŒƒè¡¨ç¤º $ğœ™^ğ‘œ$ã€‚å½“ PSNR å€¼ç¨³å®šä¸‹æ¥ï¼ˆé€šå¸¸åœ¨100ä¸ªepochä¹‹åï¼‰ï¼Œæˆ‘ä»¬å†»ç»“ $ğœ™^ğ‘œ$ çš„å‚æ•°ã€‚ç„¶åï¼Œæˆ‘ä»¬è®­ç»ƒå˜å½¢ç½‘ç»œ $ğœ™^{ğ‘‘}$ æ¥é¢„æµ‹æ¯å¸§çš„å˜å½¢ä½ç§»ã€‚æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªPyTorch CUDAæ‰©å±•åº“æ¥å®ç°å¿«é€Ÿè®­ç»ƒã€‚æˆ‘ä»¬é¦–å…ˆå°†è§„èŒƒå¸§ä¸­çš„EDèŠ‚ç‚¹è½¬æ¢åˆ°å½“å‰å¸§ï¼Œç„¶åæ„å»ºä¸€ä¸ªKNNä½“ç´ ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬çš„ä½“ç´ åˆ†è¾¨ç‡æ˜¯2563åˆ°5123ï¼Œå¹¶ä¸”å¯¹äºKNNä½“ç´ ä¸­çš„æ¯ä¸ªä½“ç´ ï¼Œæˆ‘ä»¬é€šè¿‡å †æŸ¥è¯¢4åˆ°12ä¸ªæœ€è¿‘é‚»çš„EDèŠ‚ç‚¹ã€‚åŸºäºKNNä½“ç´ ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€ŸæŸ¥è¯¢ä½“ç´ ä¸­çš„ä»»ä½•3Dç‚¹ï¼Œå¹¶è·å–é‚»å±…å’Œå¯¹åº”çš„è’™çš®æƒé‡ï¼Œä»¥é€šè¿‡éåˆšæ€§è·Ÿè¸ªè®¡ç®—åæ ‡ã€‚</p><h2 id="Neural-Blending-Implementation-Details"><a href="#Neural-Blending-Implementation-Details" class="headerlink" title="Neural Blending Implementation Details"></a>Neural Blending Implementation Details</h2><p>U-Net:<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706205127.png" alt="image.png"></p><h3 id="è®­ç»ƒç»†èŠ‚-2"><a href="#è®­ç»ƒç»†èŠ‚-2" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h3><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªç§°ä¸ºé®æŒ¡æ˜ å°„çš„æ–°ç»´åº¦ï¼Œå®ƒæ˜¯ä¸¤ä¸ªå˜å½¢æ·±åº¦å›¾ä¹‹é—´çš„å·®å¼‚è®¡ç®—å¾—å‡ºçš„ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†é®æŒ¡æ˜ å°„ï¼ˆ1ç»´ï¼‰å’Œä¸¤ä¸ªå˜å½¢çš„RGBDé€šé“ï¼ˆ4ç»´ï¼‰ä½œä¸ºç½‘ç»œè¾“å…¥ï¼Œè¿›ä¸€æ­¥å¸®åŠ©U-netç½‘ç»œä¼˜åŒ–æ··åˆæƒé‡ã€‚åœ¨ä¼ ç»Ÿçš„é€åƒç´ ç¥ç»çº¹ç†æ··åˆè¿‡ç¨‹ä¸­ï¼Œæ··åˆç»“æœä»…ä»ä¸¤ä¸ªå˜å½¢å›¾åƒç”Ÿæˆã€‚ç„¶è€Œï¼Œå¦‚æœç›®æ ‡è§†å›¾åœ¨ç›¸é‚»è™šæ‹Ÿè§†å›¾ä¸­éƒ½è¢«é®æŒ¡ï¼Œå°†å¯¼è‡´ä¸¥é‡çš„ä¼ªå½±é—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¹ç†æ¸²æŸ“ç»“æœä½œä¸ºé¢å¤–è¾“å…¥ï¼Œä»¥æ¢å¤ç”±äºé®æŒ¡è€Œä¸¢å¤±çš„éƒ¨åˆ†ã€‚ä¸ºäº†æœ‰æ•ˆåœ°æ¸²æŸ“ï¼Œæˆ‘ä»¬é¦–å…ˆå°†è¾“å…¥å›¾åƒé™é‡‡æ ·ä¸º512Ã—512ä½œä¸ºç½‘ç»œè¾“å…¥ï¼Œç„¶åé€šè¿‡åŒçº¿æ€§æ’å€¼ä¸Šé‡‡æ ·æƒé‡æ˜ å°„ä»¥ç”Ÿæˆæœ€ç»ˆçš„2Kå›¾åƒã€‚ä¸ºäº†é¿å…æ··åˆç½‘ç»œè¿‡åº¦æ‹Ÿåˆé¢å¤–çš„çº¹ç†æ¸²æŸ“è¾“å…¥ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åº”ç”¨é«˜æ–¯æ¨¡ç³Šæ“ä½œæ¥æ¨¡æ‹Ÿä½åˆ†è¾¨ç‡çš„çº¹ç†æ¸²æŸ“å›¾åƒã€‚è¿™ä¸ªæ“ä½œæœ‰åŠ©äºç½‘ç»œä¸“æ³¨äºé€‰å®šçš„ç›¸é‚»è§†å›¾çš„ç»†èŠ‚ï¼ŒåŒæ—¶ä»é¢å¤–çš„çº¹ç†æ¸²æŸ“è¾“å…¥ä¸­æ¢å¤ç¼ºå¤±çš„éƒ¨åˆ†ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é€‰æ‹©Adam [Diederik P Kingma et al.2014]ä¼˜åŒ–å™¨ï¼Œåˆå§‹å­¦ä¹ ç‡ä¸º1e-4ï¼Œæƒé‡è¡°å‡ç‡ä¸º5e-5ã€‚æˆ‘ä»¬åœ¨ä¸€å°å•ç‹¬çš„NVIDIA RTX 3090 GPUä¸Šä½¿ç”¨Twindom [web.twindom.com]æ•°æ®é›†å¯¹ç¥ç»çº¹ç†æ··åˆæ¨¡å‹è¿›è¡Œäº†ä¸¤å¤©çš„é¢„è®­ç»ƒã€‚</p><h1 id="ç¼–ç æ–¹å¼"><a href="#ç¼–ç æ–¹å¼" class="headerlink" title="ç¼–ç æ–¹å¼"></a>ç¼–ç æ–¹å¼</h1><p>Instant-NSRè‡ªå·±é›†æˆäº†<code>cuda.C++</code>ç¨‹åºï¼Œå¯ä»¥å®ç°å“ˆå¸Œç¼–ç è€Œä¸éœ€è¦å®‰è£…tiny-cuda-nnæ‰©å±•</p><h2 id="encoding-py"><a href="#encoding-py" class="headerlink" title="encoding.py"></a>encoding.py</h2><h2 id="hashencoder"><a href="#hashencoder" class="headerlink" title="hashencoder"></a>hashencoder</h2><h2 id="psencoder"><a href="#psencoder" class="headerlink" title="psencoder"></a>psencoder</h2><h2 id="shencoder"><a href="#shencoder" class="headerlink" title="shencoder"></a>shencoder</h2>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Efficiency </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Python </tag>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºInstant-nsr-plåˆ›å»ºé¡¹ç›®</title>
      <link href="/Project/NeRF/"/>
      <url>/Project/NeRF/</url>
      
        <content type="html"><![CDATA[<p>æœ¬é¡¹ç›®<a href="https://github.com/yq010105/NeRF-Mine">yq010105/NeRF-Mine (github.com)</a>åŸºäº<a href="https://github.com/bennyguo/instant-nsr-pl">Instant-nsr-pl</a>(NSR,NGP,PytorchLightning)ä»£ç æ„å»º</p><ul><li>ä¿ç•™ omegaconfã€nerfaccã€Mip-nerf_lossï¼Œç±»ä¼¼æ–‡ä»¶ç»“æ„</li><li>å»é™¤ pytorch-lightning æ¡†æ¶ï¼Œä½¿ç”¨ pytorch</li></ul><p>NeRF ä¸»è¦éƒ¨åˆ†ï¼š</p><ul><li>ç¥ç»ç½‘ç»œç»“æ„ â€”&gt; è®­ç»ƒå‡ºæ¥æ¨¡å‹ï¼Œå³ 3D æ¨¡å‹çš„éšå¼è¡¨è¾¾<ul><li>ç½‘ç»œç±»å‹ä¸€èˆ¬ä¸º MLPï¼Œç›¸å½“äºè®­ç»ƒä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥é‡‡æ ·ç‚¹çš„ä½ç½®ï¼Œå¯ä»¥è¾“å‡ºè¯¥ç‚¹çš„ä¿¡æ¯(eg: density, sdf, colorâ€¦)</li></ul></li><li><a href="/3DReconstruction/Basic%20Knowledge/NeRF/NeRF/Sampling">é‡‡æ ·æ–¹å¼</a>ï¼šæ²¿ç€å…‰çº¿è¿›è¡Œé‡‡æ ·è·å–é‡‡æ ·ç‚¹</li><li><a href="/3DReconstruction/Basic%20Knowledge/NeRF/NeRF/Encoding">ä½ç½®ç¼–ç </a>ï¼šå¯¹é‡‡æ ·ç‚¹çš„ä½ç½® xyz å’Œæ–¹å‘ dir è¿›è¡Œç¼–ç ï¼Œä½¿å¾— MLP çš„è¾“å…¥ä¸ºé«˜é¢‘çš„ä¿¡æ¯</li><li><a href="Basics%20about%203D%20Reconstruction.md">æ•°å­¦ç›¸å…³</a>ï¼šå…‰çº¿çš„ç”Ÿæˆã€åæ ‡å˜æ¢ã€ä½“æ¸²æŸ“å…¬å¼ã€BRDFâ€¦â€¦</li><li>ä½“æ¸²æŸ“å‡½æ•°ï¼š<ul><li>NeRFï¼š$\mathrm{C}(r)=\int_{\mathrm{t}_{\mathrm{n}}}^{\mathrm{t}_{\mathrm{f}}} \mathrm{T}(\mathrm{t}) \sigma(\mathrm{r}(\mathrm{t})) \mathrm{c}(\mathrm{r}(\mathrm{t}), \mathrm{d}) \mathrm{dt} =\sum_{i=1}^{N} T_{i}\left(1-\exp \left(-\sigma_{i} \delta_{i}\right)\right) \mathbf{c}_{i}$<ul><li>ä¸é€æ˜åº¦$\sigma$ï¼Œç´¯è®¡é€å…‰ç‡ â€”&gt; æƒé‡</li><li>é¢œè‰²å€¼</li></ul></li><li>Neusï¼š$C(\mathbf{o},\mathbf{v})=\int_{0}^{+\infty}w(t)c(\mathbf{p}(t),\mathbf{v})\mathrm{d}t$<ul><li>sdf, dirs, gradients, invs â€”&gt; $\alpha$ â€”&gt; æƒé‡</li><li>é¢œè‰²å€¼</li></ul></li><li>NeROï¼š$\mathbf{c}(\omega_{0})=\mathbf{c}_{\mathrm{diffuse}}+\mathbf{c}_{\mathrm{specular}} =\int_{\Omega}(1-m)\frac{\mathbf{a}}{\pi}L(\omega_{i})(\omega_{i}\cdot\mathbf{n})d\omega_{i} + \int_{\Omega}\frac{DFG}{4(\omega_{i}\cdot\mathbf{n})(\omega_{0}\cdot\mathbf{n})}L(\omega_{i})(\omega_{i}\cdot\mathbf{n})d\omega_{i}$<ul><li>æ¼«åå°„é¢œè‰²ï¼šLight(ç›´å°„å…‰)ï¼Œé‡‘å±åº¦ mã€åç…§ç‡ a</li><li>é•œé¢åå°„é¢œè‰²ï¼šLight(ç›´å°„å…‰+é—´æ¥å…‰)ï¼Œé‡‘å±åº¦ mã€åç…§ç‡ aã€ç²—ç³™åº¦$\rho$ ï¼Œç¢°æ’æ¦‚ç‡ occ_probï¼Œé—´æ¥å…‰ç¢°æ’ human çš„ human_light</li><li>è¯¦æƒ…è§<a href="NeRO-code.md">NeRO Code</a></li></ul></li></ul></li><li>éšå¼æ¨¡å‹å¯¼å‡º(.stlã€.objã€.ply ç­‰)æ˜¾å¼æ¨¡å‹(Marching Cube)ï¼šåˆ©ç”¨ trimeshï¼Œtorchmcubesï¼Œmcubes ç­‰åº“<ul><li>æ ¹æ® sdf å’Œ thresholdï¼Œè·å–ç‰©ä½“è¡¨é¢çš„ vertices å’Œ faces(å¦‚éœ€è¿˜è¦ç”Ÿæˆ vertices å¯¹åº”çš„ colors)ã€‚</li><li>ç„¶åæ ¹æ® verticesã€faces å’Œ colorsï¼Œç”± trimesh ç”Ÿæˆ mesh å¹¶å¯¼å‡ºæ¨¡å‹ä¸º obj ç­‰æ ¼å¼</li></ul></li></ul><p>Futureï¼š</p><ul><li>[ ] æ¶ˆé™¤é¢œè‰² or çº¹ç†ä¸å‡ ä½•çš„æ­§ä¹‰ï¼ŒNeus(Xâ€”&gt;MLPâ€”&gt;SDF)çš„æ–¹æ³•ä¼šå°†ç‰©ä½“çš„çº¹ç†å»ºæ¨¡åˆ°ç‰©ä½“çš„å‡ ä½•ä¸­</li><li>[x] åªå…³æ³¨å‰æ™¯ç‰©ä½“çš„å»ºæ¨¡ï¼Œå¯ä»¥ç»“åˆ SAM å°†å›¾ç‰‡ä¸­çš„ interest object åˆ†å‰²å‡ºæ¥: <strong>Rembg</strong>åˆ†å‰²åæ•ˆæœä¹Ÿä¸å¥½</li></ul><span id="more"></span><p>NeRF-Mine æ–‡ä»¶ç»“æ„ï¼š</p><ul><li>confs/ é…ç½®æ–‡ä»¶<ul><li>dtu.yaml</li></ul></li><li>encoder/ ç¼–ç æ–¹å¼<ul><li>get_encoding.py</li><li>frequency.py</li><li>hashgrid.py</li><li>spherical.py</li></ul></li><li>process_data/ å¤„ç†æ•°æ®é›†<ul><li>dtu.py</li></ul></li><li>models/ æ”¾ä¸€äº›ç½‘ç»œçš„ç»“æ„å’Œç½‘ç»œçš„è¿è¡Œå’Œæ–¹æ³•<ul><li>network.py åŸºæœ¬ç½‘ç»œç»“æ„</li><li>neus.py neus çš„ç½‘ç»œç»“æ„</li><li>utils.py</li></ul></li><li>systems/ è®­ç»ƒçš„ç¨‹åº<ul><li>neus.py è®­ç»ƒ neus çš„ç¨‹åº</li></ul></li><li>utils/ å·¥å…·ç±»å‡½æ•°</li><li>run.py ä¸»ç¨‹åº</li><li>inputs/ æ•°æ®é›†</li><li>outputs/ è¾“å‡ºå’Œ log æ–‡ä»¶<ul><li>logs filepath: /root/tf-logs/name_in_conf/trial_name</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®­ç»ƒ</span></span><br><span class="line">python run.py --config confs/neus-dtu.yaml --train</span><br><span class="line"><span class="comment"># æ¢å¤è®­ç»ƒ</span></span><br><span class="line">python run.py --config confs/neus-dtu.yaml --train --resume ckpt_path</span><br><span class="line"></span><br><span class="line"><span class="comment"># test to ç”Ÿæˆmesh + video</span></span><br><span class="line">python run.py --config confs/neus-dtu.yaml --<span class="built_in">test</span> --resume ckpt_path</span><br></pre></td></tr></table></figure><h1 id="Question2023-9-17"><a href="#Question2023-9-17" class="headerlink" title="Question2023.9.17"></a>Question2023.9.17</h1><ul><li>mesh ç²¾åº¦ï¼š<ul><li>ä¸€ä¸ªå¯ä»¥è¯„ä»·æ¨¡å‹è´¨é‡çš„æŒ‡æ ‡ï¼Œç›®å‰å¤§éƒ¨åˆ†æ–¹æ³•éƒ½åªèƒ½é€šè¿‡å®šæ€§çš„è§‚å¯Ÿæ¥åˆ¤æ–­ï¼Œè€Œ<strong>å®šé‡çš„æ¯”è¾ƒåªèƒ½æ¯”è¾ƒæ¸²æŸ“å›¾ç‰‡ï¼Œè€Œä¸èƒ½æ¯”è¾ƒæ¨¡å‹</strong></li><li>æ”¹è¿›<ul><li>x Method1ï¼Œæé«˜å‰æ™¯ occupy grid çš„åˆ†è¾¨ç‡ï¼Œè™½ç„¶ç»†èŠ‚é¢œè‰²æ›´åŠ æ­£ç¡®ï¼Œ<strong>ä½†åŒæ—¶å¸¦æ¥ eikonal é¡¹æŸå¤±éš¾æ”¶æ•›çš„é—®é¢˜</strong></li><li>x Method2ï¼Œå°†å‰æ™¯å’ŒèƒŒæ™¯çš„ loss åˆ†å¼€åå‘ä¼ æ’­ï¼Œloss_fg åªåå‘ä¼ æ’­åˆ° fg çš„ MLPã€‚ç”±äºæ— æ³•å‡†ç¡®é¢„æµ‹å…‰çº¿/åƒç´ æ˜¯èƒŒæ™¯è¿˜æ˜¯å‰æ™¯ï¼Œå› æ­¤é‡å»ºæ•ˆæœå¾ˆå·®ã€‚<ul><li>x bg çš„ loss åªæœ‰ L1_rgb çš„è¯ï¼Œæ±‚å‡ºæ¥çš„ loss æ²¡æœ‰ grad_fnï¼Œæ— æ³•åå‘ä¼ æ’­ï¼Œæ·»åŠ æ¡ä»¶ if loss_bg.grad_fn is not Noneï¼Œæ•ˆæœä¸å¥½</li></ul></li><li>Method3ï¼Œå…ˆç”¨ä¹‹å‰æ–¹æ³•è®­ç»ƒå¾—åˆ°ä¸€ä¸ªæ·±åº¦ mask</li></ul></li></ul></li><li>mesh é¢œè‰²ï¼š<ul><li>neus æ–¹å¼é€†å˜æ¢é‡‡æ ·è®­ç»ƒå‡ºæ¥çš„ colorï¼Œä¼šåˆ†å¸ƒåœ¨æ•´ä¸ªç©ºé—´ä¸­ï¼Œå› æ­¤è™½ç„¶ render å‡ºæ¥çš„è§†é¢‘æ•ˆæœå¾ˆå¥½ï¼Œä½†æ˜¯ mesh è¡¨é¢ç‚¹çš„é¢œè‰²ä¼šè¢«ç¨€é‡Š</li></ul></li></ul><blockquote><p><a href="https://github.com/Totoro97/NeuS/issues/48">How to reconstruct texture after generating mesh ? Â· Issue #48 Â· Totoro97/NeuS (github.com)</a> &gt;<a href="https://github.com/bmild/nerf/issues/44">What can we do with our own trained model? Â· Issue #44 Â· bmild/nerf (github.com)</a></p></blockquote><p>Neus: è¡¨é¢ç‚¹çš„é¢œè‰²<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230917192416.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/00300000_88_158.gif" alt="00300000_88_158.gif"></p><p>å¦‚æœé‡‡ç”¨æ›´å¿«é€Ÿçš„ NGP+Neus çš„æ–¹æ³•ï¼Œç”±äºä½¿ç”¨äº†å ç©ºç½‘æ ¼çš„æ–¹å¼é‡‡æ ·ï¼Œå› æ­¤ä¸ä¼šå°†è¡¨é¢ç‚¹çš„é¢œè‰²æ•£å°„åˆ°ç©ºé—´èƒŒæ™¯ä¸­ï¼Œè¿™æ ·åœ¨ extract mesh çš„æ—¶å€™ï¼Œä½¿ç”¨ç®€å•çš„æ³•å‘é‡æ¨¡æ‹Ÿæ–¹å‘å‘é‡ï¼Œå³å¯å¾—åˆ°å¾ˆå¥½çš„æ•ˆæœ</p><p>Instant-nsr-pl è¡¨é¢ç‚¹é¢œè‰²ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230917192510.png" alt="image.png|666"></p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p><a href="https://github.com/qiyun71/NeRF-Mine/blob/main/README.md">NeRF-Mine/README.md</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># conda æŠ€å·§</span></span><br><span class="line">conda remove -n  éœ€è¦åˆ é™¤çš„ç¯å¢ƒå --all</span><br><span class="line">conda <span class="built_in">env</span> create --file xxx.yaml</span><br><span class="line">conda <span class="built_in">env</span> update --file xxx.yaml --prune</span><br><span class="line">    <span class="comment">## --prune: uninstalls dependencies which were removed fromÂ `xxx.yml`</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># conda æ¸…åæº</span></span><br><span class="line">vi  ~/.condarc</span><br><span class="line">ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹</span><br><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: <span class="literal">true</span></span><br><span class="line">default_channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  pytorch-lts: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br><span class="line">  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><br></pre></td></tr></table></figure><h2 id="EXP"><a href="#EXP" class="headerlink" title="EXP"></a>EXP</h2><h3 id="exp1"><a href="#exp1" class="headerlink" title="exp1"></a>exp1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">python imgs2poses.py E:\3\Work\EXP\exp1\dataset\Miku_exp1</span><br><span class="line">python gen_cameras.py E:\3\Work\EXP\exp1\dataset\Miku_exp1</span><br><span class="line"></span><br><span class="line"># è®­ç»ƒ</span><br><span class="line">python run.py --config confs/neus-dtu_like.yaml --train</span><br><span class="line"># æ¢å¤è®­ç»ƒ</span><br><span class="line">python run.py --config confs/neus-dtu_like.yaml --train --resume ckpt_path</span><br><span class="line"></span><br><span class="line"># test to ç”Ÿæˆmesh + video</span><br><span class="line">python run.py --config confs/neus-dtu_like.yaml --test --resume ckpt_path</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231006095349.png" alt="image.png|333"></p><h3 id="exp2"><a href="#exp2" class="headerlink" title="exp2"></a>exp2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">python imgs2poses.py E:\3\Work\EXP\exp2\dataset\Miku_exp2</span><br><span class="line">python gen_cameras.py E:\3\Work\EXP\exp2\dataset\Miku_exp2</span><br><span class="line"></span><br><span class="line"># è®­ç»ƒ</span><br><span class="line">python run.py --config confs/neus-dtu_like.yaml --train</span><br><span class="line"># æ¢å¤è®­ç»ƒ</span><br><span class="line">python run.py --config confs/neus-dtu_like.yaml --train --resume ckpt_path</span><br><span class="line"></span><br><span class="line"># test to ç”Ÿæˆmesh + video</span><br><span class="line">python run.py --config confs/neus-dtu_like.yaml --test --resume ckpt_path</span><br></pre></td></tr></table></figure><h2 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h2><p><a href="Datasets.md">æ•°æ®é›†</a>ï¼š</p><div class="table-container"><table><thead><tr><th>Paper</th><th>Dataset</th><th>Link</th></tr></thead><tbody><tr><td>NeRF</td><td>nerf_synthetic,nerf_llff_data,LINEMOD,deepvoxels</td><td><a href="https://github.com/bmild/nerf#project-page--video--paper--data">bmild/nerf: Code release for NeRF (Neural Radiance Fields) (github.com)</a></td></tr><tr><td>Neus</td><td>dtu,BlenderMVS,custom</td><td><a href="https://github.com/Totoro97/NeuS#project-page---paper--data">Totoro97/NeuS: Code release for NeuS (github.com)</a></td></tr><tr><td>Point-NeRF</td><td>dtu,nerf_synthetic,ScanNet,Tanks and temple</td><td><a href="https://github.com/Xharlie/pointnerf#data-preparation">Xharlie/pointnerf: Point-NeRF: Point-based Neural Radiance Fields (github.com)</a></td></tr></tbody></table></div><p>è‡ªå®šä¹‰æ•°æ®é›†ï¼š<br><a href="https://github.com/Totoro97/NeuS/tree/main/preprocess_custom_data">NeuS/preprocess_custom_data at main Â· Totoro97/NeuS (github.com)</a> - <a href="NeuS.md#Neusä½¿ç”¨è‡ªåˆ¶æ•°æ®é›†">Neus_custom_data</a> - <a href="Neus-Instant-nsr-pl.md#è‡ªå®šä¹‰æ•°æ®é›†">Neus-Instant-nsr-pl</a> - å¤§æ¦‚éœ€è¦çš„è§†å›¾æ•°é‡ 20Simple/40Complex ref: <a href="https://arxiv.org/abs/2310.00684">https://arxiv.org/abs/2310.00684</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;case_name&gt;</span><br><span class="line">|-- cameras_xxx.npz    # camera parameters</span><br><span class="line">    |-- camera_mat_&#123;&#125;.npyï¼Œintrinsic</span><br><span class="line">    |-- camera_mat_inv_&#123;&#125;.npy</span><br><span class="line">    |-- world_mat_&#123;&#125;.npyï¼Œintrinsic @ w2c --&gt; world to pixel</span><br><span class="line">    |-- world_mat_inv_&#123;&#125;.npy</span><br><span class="line">    |-- scale_mat_&#123;&#125;.npy ï¼Œæ ¹æ®æ‰‹åŠ¨æ¸…é™¤pointå¾—åˆ°çš„sparse_points_interest.ply</span><br><span class="line">    |-- scale_mat_inv_&#123;&#125;.npy</span><br><span class="line">|-- image</span><br><span class="line">    |-- 000.png        # target image for each view</span><br><span class="line">    |-- 001.png</span><br><span class="line">    ...</span><br><span class="line">|-- mask</span><br><span class="line">    |-- 000.png        # target mask each view (For unmasked setting, set all pixels as 255)</span><br><span class="line">    |-- 001.png</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><p>neuralangelo æä¾›äº† blender æ’ä»¶å¯ä»¥å¯è§†åŒ– colmap æ•°æ®ï¼Œä½†æ˜¯ä¼šå‡ºç° image plane ä¸ camera plane ä¸é‡åˆçš„æƒ…å†µ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DATA_PATH</span><br><span class="line">â”œâ”€ database.db      (COLMAP database)</span><br><span class="line">â”œâ”€ images           (undistorted input images)</span><br><span class="line">â”œâ”€ images_raw       (raw input images)</span><br><span class="line">â”œâ”€ sparse           (COLMAP data from SfM)</span><br><span class="line">â”‚  â”œâ”€ cameras.bin   (camera parameters)</span><br><span class="line">â”‚  â”œâ”€ images.bin    (images and camera poses)</span><br><span class="line">â”‚  â”œâ”€ points3D.bin  (sparse point clouds)</span><br><span class="line">â”‚  â”œâ”€ 0             (a directory containing individual SfM models. There could also be 1, 2... etc.)</span><br><span class="line">â”‚  ...</span><br><span class="line">â”œâ”€ stereo (COLMAP data for MVS, not used here)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231004155843.png" alt="image.png|666"></p><p><strong>éœ€è¦å¯¹ colmap æ•°æ®åš(BA and) Undistortion</strong></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231004160230.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231004160314.png" alt="image.png|666"></p><h1 id="ä»£ç ç»“æ„"><a href="#ä»£ç ç»“æ„" class="headerlink" title="ä»£ç ç»“æ„"></a>ä»£ç ç»“æ„</h1><h2 id="confs-é…ç½®æ–‡ä»¶"><a href="#confs-é…ç½®æ–‡ä»¶" class="headerlink" title="confs é…ç½®æ–‡ä»¶"></a>confs é…ç½®æ–‡ä»¶</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">$&#123;model.name&#125;-$&#123;dataset.name&#125;-$&#123;basename:$&#123;dataset.root_dir&#125;&#125;</span></span><br><span class="line"><span class="attr">seed:</span> <span class="number">7</span> <span class="comment">#3407</span></span><br><span class="line"><span class="attr">tag:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">dataset:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dtu</span></span><br><span class="line">  <span class="attr">root_dir:</span> <span class="string">./inputs/dtu_scan24</span></span><br><span class="line">  <span class="attr">render_cameras_name:</span> <span class="string">cameras_sphere.npz</span></span><br><span class="line">  <span class="attr">object_cameras_name:</span> <span class="string">cameras_sphere.npz</span></span><br><span class="line">  <span class="attr">img_downscale:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">apply_mask:</span> <span class="literal">False</span></span><br><span class="line">  <span class="attr">test_steps:</span> <span class="number">60</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure><p><strong>omegaconf</strong>è·å– yaml ä¸­å‚æ•°<br><strong>argparse</strong>è·å–ç»ˆç«¯è¾“å…¥çš„å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ============ Register OmegaConf Recolvers ============= #</span></span><br><span class="line">OmegaConf.register_new_resolver(<span class="string">&#x27;calc_exp_lr_decay_rate&#x27;</span>, <span class="keyword">lambda</span> factor, n: factor**(<span class="number">1.</span>/n))</span><br><span class="line">OmegaConf.register_new_resolver(<span class="string">&#x27;add&#x27;</span>, <span class="keyword">lambda</span> a, b: a + b)</span><br><span class="line">OmegaConf.register_new_resolver(<span class="string">&#x27;sub&#x27;</span>, <span class="keyword">lambda</span> a, b: a - b)</span><br><span class="line">OmegaConf.register_new_resolver(<span class="string">&#x27;mul&#x27;</span>, <span class="keyword">lambda</span> a, b: a * b)</span><br><span class="line">OmegaConf.register_new_resolver(<span class="string">&#x27;div&#x27;</span>, <span class="keyword">lambda</span> a, b: a / b)</span><br><span class="line">OmegaConf.register_new_resolver(<span class="string">&#x27;idiv&#x27;</span>, <span class="keyword">lambda</span> a, b: a // b)</span><br><span class="line">OmegaConf.register_new_resolver(<span class="string">&#x27;basename&#x27;</span>, <span class="keyword">lambda</span> p: os.path.basename(p))</span><br><span class="line"><span class="comment"># ======================================================= #</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_config</span>(<span class="params">*yaml_files, cli_args=[]</span>):</span><br><span class="line">    yaml_confs = [OmegaConf.load(f) <span class="keyword">for</span> f <span class="keyword">in</span> yaml_files]</span><br><span class="line">    cli_conf = OmegaConf.from_cli(cli_args)</span><br><span class="line">    conf = OmegaConf.merge(*yaml_confs, cli_conf)</span><br><span class="line">    OmegaConf.resolve(conf) <span class="comment"># å°±åœ°è§£ææ‰€æœ‰é…ç½®æ–‡ä»¶çš„å†…æ’$</span></span><br><span class="line">    <span class="keyword">return</span> conf</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">config_to_primitive</span>(<span class="params">config, resolve=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="keyword">return</span> OmegaConf.to_container(config, resolve=resolve)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_args</span>():</span><br><span class="line">    parser = argparse.ArgumentParser()</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--config&#x27;</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;path to config file&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--resume&#x27;</span>, default=<span class="literal">None</span>, <span class="built_in">help</span>=<span class="string">&#x27;path to the weights to be resumed&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    group = parser.add_mutually_exclusive_group(required=<span class="literal">True</span>)</span><br><span class="line">    group.add_argument(<span class="string">&#x27;--train&#x27;</span>, action=<span class="string">&#x27;store_true&#x27;</span>)</span><br><span class="line">    group.add_argument(<span class="string">&#x27;--mesh&#x27;</span>, action=<span class="string">&#x27;store_true&#x27;</span>)</span><br><span class="line">    group.add_argument(<span class="string">&#x27;--test&#x27;</span>, action=<span class="string">&#x27;store_true&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--outputs_dir&#x27;</span>, default=<span class="string">&#x27;./outputs&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--logs_dir&#x27;</span>, default=<span class="string">&#x27;/root/tf-logs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    args, extras = parser.parse_known_args()</span><br><span class="line">    <span class="keyword">return</span> args, extras</span><br></pre></td></tr></table></figure><h2 id="run-py-ä¸»ç¨‹åº"><a href="#run-py-ä¸»ç¨‹åº" class="headerlink" title="run.py ä¸»ç¨‹åº"></a>run.py ä¸»ç¨‹åº</h2><p><strong>è·å–é…ç½®æ–‡ä»¶å’Œç»ˆç«¯è¾“å…¥</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># extrasï¼šå…¶ä»–config_parserä¸­æ²¡æœ‰æ·»åŠ çš„arg</span></span><br><span class="line">args, extras = get_args()</span><br><span class="line"><span class="keyword">from</span> utils.misc <span class="keyword">import</span> load_config, seed_everything</span><br><span class="line">config = load_config(args.config, cli_args=extras)</span><br><span class="line"></span><br><span class="line">config.trainer.outputs_dir = config.get(<span class="string">&#x27;outputs_dir&#x27;</span>) <span class="keyword">or</span> os.path.join(args.outputs_dir, config.name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># args.resume : /root/autodl-tmp/new/NeRF-Mine/outputs/neus-dtu-Miku/@20230815-154030/ckpt/ckpt_000200.pth</span></span><br><span class="line"><span class="keyword">if</span> args.resume <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">    config.trainer.trial_name = args.resume.split(<span class="string">&#x27;/&#x27;</span>)[-<span class="number">3</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    config.trainer.trial_name = config.get(<span class="string">&#x27;trial_name&#x27;</span>) <span class="keyword">or</span> (config.tag + datetime.now().strftime(<span class="string">&#x27;@%Y%m%d-%H%M%S&#x27;</span>))</span><br><span class="line"></span><br><span class="line">config.trainer.logs_dir = config.get(<span class="string">&#x27;logs_dir&#x27;</span>) <span class="keyword">or</span> os.path.join(args.logs_dir, config.name ,config.trainer.trial_name)</span><br><span class="line">config.trainer.save_dir = config.get(<span class="string">&#x27;save_dir&#x27;</span>) <span class="keyword">or</span> os.path.join(config.trainer.outputs_dir, config.trainer.trial_name, <span class="string">&#x27;save&#x27;</span>)</span><br><span class="line">config.trainer.ckpt_dir = config.get(<span class="string">&#x27;ckpt_dir&#x27;</span>) <span class="keyword">or</span> os.path.join(config.trainer.outputs_dir, config.trainer.trial_name, <span class="string">&#x27;ckpt&#x27;</span>)</span><br><span class="line">config.trainer.code_dir = config.get(<span class="string">&#x27;code_dir&#x27;</span>) <span class="keyword">or</span> os.path.join(config.trainer.outputs_dir, config.trainer.trial_name, <span class="string">&#x27;code&#x27;</span>)</span><br><span class="line">config.trainer.config_dir = config.get(<span class="string">&#x27;config_dir&#x27;</span>) <span class="keyword">or</span> os.path.join(config.trainer.outputs_dir, config.trainer.trial_name, <span class="string">&#x27;config&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;seed&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> config:</span><br><span class="line">    config.seed = <span class="built_in">int</span>(time.time() * <span class="number">1000</span>) % <span class="number">1000</span></span><br><span class="line">seed_everything(config.seed)</span><br><span class="line"></span><br><span class="line">os.environ[<span class="string">&quot;KMP_DUPLICATE_LIB_OK&quot;</span>]  =  <span class="string">&quot;TRUE&quot;</span></span><br></pre></td></tr></table></figure><p><strong>global seed setting</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">seed_everything</span>(<span class="params">seed</span>):</span><br><span class="line">    random.seed(seed)</span><br><span class="line">    os.environ[<span class="string">&#x27;PYTHONHASHSEED&#x27;</span>] = <span class="built_in">str</span>(seed)</span><br><span class="line">    np.random.seed(seed)</span><br><span class="line">    torch.manual_seed(seed)</span><br><span class="line">    torch.cuda.manual_seed(seed)</span><br></pre></td></tr></table></figure><h3 id="æ ¹æ®é…ç½®å¯¼å…¥æ¨¡å—"><a href="#æ ¹æ®é…ç½®å¯¼å…¥æ¨¡å—" class="headerlink" title="æ ¹æ®é…ç½®å¯¼å…¥æ¨¡å—"></a>æ ¹æ®é…ç½®å¯¼å…¥æ¨¡å—</h3><ul><li>from models.neus import NeuSModel<ul><li>model = NeuSModel(config.model)</li></ul></li><li>from systems.neus import Trainer<ul><li>trainer = Trainer(model, config.trainer, args)</li></ul></li><li>from process_data.dtu import NeRFDataset<ul><li>train_dm = NeRFDataset(config.dataset,stage=â€™trainâ€™)<ul><li>train_loader = torch.utils.data.DataLoader(train_dm, batch_size=3, shuffle=True)</li></ul></li><li>val_dm = NeRFDataset(config.dataset,stage = â€˜validâ€™)<ul><li>val_loader = torch.utils.data.DataLoader(val_dm, batch_size=1)</li></ul></li><li>test_dm = NeRFDataset(config.dataset,stage=â€™testâ€™)<ul><li>test_loader = torch.utils.data.DataLoader(test_dm, batch_size=1)</li></ul></li></ul></li></ul><p>è¿è¡Œï¼š</p><ul><li>trainer.train(train_loader, val_loader)</li><li>trainer.test(test_loader)</li><li>trainer.mesh()</li></ul><h2 id="process-data"><a href="#process-data" class="headerlink" title="process_data"></a>process_data</h2><p><strong>train</strong></p><p>for data in train_loader:</p><p>data:</p><ul><li>pose: torch.Size([4, 4])</li><li>direction: torch.Size([960, 544, 3])</li><li>index: torch.Size([1])</li><li>H: 960</li><li>W: 544</li><li>image: torch.Size([960, 544, 3])</li><li>mask: torch.Size([960, 544])</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;pose&#x27;</span>: tensor([[[-<span class="number">0.0898</span>,  <span class="number">0.8295</span>, -<span class="number">0.5512</span>,  <span class="number">1.3804</span>],</span><br><span class="line">         [ <span class="number">0.0600</span>,  <span class="number">0.5570</span>,  <span class="number">0.8284</span>, -<span class="number">2.0745</span>],</span><br><span class="line">         [ <span class="number">0.9941</span>,  <span class="number">0.0413</span>, -<span class="number">0.0998</span>,  <span class="number">0.0576</span>],</span><br><span class="line">         [ <span class="number">0.0000</span>,  <span class="number">0.0000</span>,  <span class="number">0.0000</span>,  <span class="number">1.0000</span>]]], device=<span class="string">&#x27;cuda:0&#x27;</span>),</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;direction&#x27;</span>: tensor([[[[-<span class="number">0.3379</span>, -<span class="number">0.5977</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          [-<span class="number">0.3354</span>, -<span class="number">0.5977</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          [-<span class="number">0.3329</span>, -<span class="number">0.5977</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          ...,</span><br><span class="line">         [[-<span class="number">0.3379</span>,  <span class="number">0.5990</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          [-<span class="number">0.3354</span>,  <span class="number">0.5990</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          [-<span class="number">0.3329</span>,  <span class="number">0.5990</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          ...,</span><br><span class="line">          [ <span class="number">0.3341</span>,  <span class="number">0.5990</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          [ <span class="number">0.3366</span>,  <span class="number">0.5990</span>,  <span class="number">1.0000</span>],</span><br><span class="line">          [ <span class="number">0.3391</span>,  <span class="number">0.5990</span>,  <span class="number">1.0000</span>]]]], device=<span class="string">&#x27;cuda:0&#x27;</span>),</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;index&#x27;</span>: tensor([<span class="number">124</span>]),</span><br><span class="line"><span class="string">&#x27;H&#x27;</span>: [<span class="string">&#x27;480&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;W&#x27;</span>: [<span class="string">&#x27;272&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;image&#x27;</span>: tensor([[[[<span class="number">0.3242</span>, <span class="number">0.3438</span>, <span class="number">0.3164</span>],</span><br><span class="line">          [<span class="number">0.3281</span>, <span class="number">0.3477</span>, <span class="number">0.3203</span>],</span><br><span class="line">          [<span class="number">0.3320</span>, <span class="number">0.3398</span>, <span class="number">0.3125</span>],</span><br><span class="line">         ...,</span><br><span class="line">         [[<span class="number">0.5977</span>, <span class="number">0.6133</span>, <span class="number">0.5938</span>],</span><br><span class="line">          [<span class="number">0.5977</span>, <span class="number">0.6133</span>, <span class="number">0.5938</span>],</span><br><span class="line">          [<span class="number">0.5977</span>, <span class="number">0.6133</span>, <span class="number">0.5938</span>],</span><br><span class="line">          ...,</span><br><span class="line">          [<span class="number">0.6289</span>, <span class="number">0.7539</span>, <span class="number">0.8789</span>],</span><br><span class="line">          [<span class="number">0.6328</span>, <span class="number">0.7578</span>, <span class="number">0.8828</span>],</span><br><span class="line">          [<span class="number">0.6328</span>, <span class="number">0.7578</span>, <span class="number">0.8828</span>]]]], device=<span class="string">&#x27;cuda:0&#x27;</span>),</span><br><span class="line"><span class="string">&#x27;mask&#x27;</span>: tensor([[[<span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>,  ..., <span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>],</span><br><span class="line">     [<span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>,  ..., <span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>],</span><br><span class="line">     [<span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>,  ..., <span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>],</span><br><span class="line">     ...,</span><br><span class="line">     [<span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>,  ..., <span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>],</span><br><span class="line">     [<span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>,  ..., <span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>],</span><br><span class="line">     [<span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>,  ..., <span class="number">0.9961</span>, <span class="number">0.9961</span>, <span class="number">0.9961</span>]]],</span><br><span class="line">   device=<span class="string">&#x27;cuda:0&#x27;</span>)&#125;</span><br></pre></td></tr></table></figure><h2 id="other-ref-code"><a href="#other-ref-code" class="headerlink" title="other ref code"></a>other ref code</h2><p>DTU æå– mesh åï¼Œé€šè¿‡ object masks ç§»é™¤èƒŒæ™¯<a href="https://github.com/fdarmon/NeuralWarp/blob/main/evaluation/mesh_filtering.py#L108">NeuralWarp/evaluation/mesh_filtering.py at main Â· fdarmon/NeuralWarp (github.com)</a><br>DTU æ•°æ®é›†çš„æ·±åº¦å›¾æ•°æ®å¯è§†åŒ–ï¼Œ<br>è°ƒæ•´å¯è§†åŒ–æ—¶çš„<code>v_min</code>å’Œ<code>v_max</code><a href="https://github.com/doubleZ0108/MVS/blob/master/utils/read_and_visualize_pfm.py">MVS/utils/read_and_visualize_pfm.py at master Â· doubleZ0108/MVS (github.com)</a></p><h1 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h1><p><a href="Metrics.md#Metrics">Metrics</a></p><h2 id="Excel-Function"><a href="#Excel-Function" class="headerlink" title="Excel Function"></a>Excel Function</h2><p>å°† C5ï¼š23.98 22.79 25.21 26.03 28.32 29.80 27.45 28.89 26.03 28.93 32.47 30.78 29.37 34.23 33.95ï¼ŒæŒ‰ç©ºæ ¼æ‹†åˆ†å¡«å…¥ C3 åˆ° Q3<br><code>=TRIM(MID(SUBSTITUTE($C$5,&quot; &quot;,REPT(&quot; &quot;,LEN($C$5))),(COLUMN()-COLUMN($C$3))*LEN($C$5)+1,LEN($C$5)))</code></p><h1 id="Code-BUG"><a href="#Code-BUG" class="headerlink" title="Code BUG"></a>Code BUG</h1><ul><li>[x] tf-logs åœ¨æµ‹è¯•æ—¶ä¼šæ–°åŠ ä¸€ä¸ªæ–‡ä»¶å¤¹é—®é¢˜</li><li>[x] è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°çš„ loss é”™è¯¯</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Error</span><br><span class="line">1.</span><br><span class="line">torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 26.00 MiB (GPU 0; 23.69 GiB total capacity; 20.89 GiB already allocated; 23.69 MiB free; 22.11 GiB reserved in total by PyTorch) If reserved memory is &gt;&gt; allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF  0% 0/2 [00:01&lt;?, ?it/s]</span><br><span class="line"></span><br><span class="line">with torch.no_grad():</span><br><span class="line">    val_epoch</span><br><span class="line"></span><br><span class="line">2.</span><br><span class="line">[2023-07-25 21:10:06,584] INFO: ==&gt;Training Epoch 1, lr = 0.010000</span><br><span class="line">loss=0.3620 (nan), lr=0.008147: : 100% 178/178 [00:15&lt;00:00, 11.85it/s]</span><br><span class="line">[2023-07-25 21:10:21,609] INFO: ==&gt;Training Epoch 2, lr = 0.008147</span><br><span class="line">loss=0.1856 (0.3541), lr=0.006637: : 100% 178/178 [00:13&lt;00:00, 13.39it/s]</span><br><span class="line">[2023-07-25 21:10:34,907] INFO: ==&gt;Training Epoch 3, lr = 0.006637</span><br><span class="line">loss=0.1963 (0.2716), lr=0.005408: : 100% 178/178 [00:13&lt;00:00, 13.45it/s]</span><br><span class="line">[2023-07-25 21:10:48,139] INFO: ==&gt;Training Epoch 4, lr = 0.005408</span><br><span class="line">loss=nan (nan), lr=0.004406: : 100% 178/178 [00:06&lt;00:00, 26.05it/s]</span><br><span class="line">[2023-07-25 21:10:54,974] INFO: ==&gt;Training Epoch 5, lr = 0.004406</span><br><span class="line">loss=nan (nan), lr=0.003589: : 100% 178/178 [00:03&lt;00:00, 46.24it/s]</span><br><span class="line">[2023-07-25 21:10:58,824] INFO: ==&gt;Validation at epoch 5</span><br><span class="line">0% 0/2 [00:00&lt;?, ?it/s]/root/NeRF-Mine/utils/mixins.py:160: RuntimeWarning: invalid value encountered i</span><br><span class="line">n divide</span><br><span class="line">img = (img - img.min()) / (img.max() - img.min())</span><br><span class="line">/root/NeRF-Mine/utils/mixins.py:169: RuntimeWarning: invalid value encountered in cast</span><br><span class="line">img = (img * 255.).astype(np.uint8)</span><br><span class="line">psnr=4.844281196594238: : 100% 2/2 [00:05&lt;00:00, 2.52s/it]</span><br><span class="line">[2023-07-25 21:11:03,865] INFO: ==&gt;Training Epoch 6, lr = 0.003589</span><br><span class="line">loss=nan (nan), lr=0.002924: : 100% 178/178 [00:03&lt;00:00, 47.74it/s]</span><br><span class="line">[2023-07-25 21:11:07,595] INFO: ==&gt;Training Epoch 7, lr = 0.002924</span><br><span class="line"></span><br><span class="line">inv_s  ----&gt; nan ï¼Œ loss_mask ----&gt; nan , loss_eikonal ----&gt; nan</span><br><span class="line">éƒ½æœ‰é—®é¢˜</span><br><span class="line">sdf_grad_samples: çªç„¶å˜ä¸º 0,3</span><br><span class="line"></span><br><span class="line">guess1: lrå¤ªé«˜1e-2 âˆš</span><br><span class="line"></span><br><span class="line">3.</span><br><span class="line">è®­ç»ƒå‡ºæ¥çš„test_Videoå’Œmeshä½ç½®ä¸å‡†ç¡® --&gt; æ•°æ®é›†åŠ è½½æ—¶çš„c2wæ²¡å¤„ç†</span><br><span class="line"></span><br><span class="line">4.</span><br><span class="line">è®­ç»ƒçš„æ•ˆæœä¸å¥½ä¸”å¾ˆæ…¢ --&gt; æ²¡æœ‰ä½¿ç”¨processHashGrid</span><br><span class="line">lrå¤ªä½å¯èƒ½é™·å…¥å±€éƒ¨æœ€ä¼˜</span><br><span class="line"></span><br><span class="line">NOTEï¼šè®­ç»ƒè¿‡ç¨‹ä¸­lossçªç„¶å˜å¾—å¾ˆå¤§</span><br><span class="line">TODOï¼šé˜²æ­¢è¿‡æ‹Ÿåˆ--&gt;æ·»åŠ Â torch.cuda.amp.GradScaler() è§£å†³ lossä¸ºnanæˆ–infçš„é—®é¢˜</span><br></pre></td></tr></table></figure><ul><li>[x] å¯¼å‡º mesh åŒºåŸŸé”™è¯¯</li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230806160731.png" alt="image.png|500"></p><ul><li>å¯èƒ½æ˜¯ mesh ç½‘æ ¼çš„ ijk åŒºåŸŸå¤§å°è®¾ç½®æœ‰é—®é¢˜</li><li>æˆ–æ²¡æœ‰å°† bound è¿›è¡Œåæ ‡å˜æ¢åˆ°è®­ç»ƒæ—¶çš„ä¸–ç•Œåæ ‡ç³»</li></ul><h2 id="Add"><a href="#Add" class="headerlink" title="Add"></a>Add</h2><h3 id="Floaters-No-More"><a href="#Floaters-No-More" class="headerlink" title="Floaters No More"></a>Floaters No More</h3><ul><li>OOM</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">0% 0/60 [00:00&lt;?, ?it/s]Traceback (most recent call last):</span><br><span class="line">File &quot;run.py&quot;, line 97, in &lt;module&gt;</span><br><span class="line">main()</span><br><span class="line">File &quot;run.py&quot;, line 88, in main</span><br><span class="line">trainer.train(train_loader, val_loader)</span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/systems/neus.py&quot;, line 164, in train</span><br><span class="line">self.train_epoch(train_loader)</span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/systems/neus.py&quot;, line 197, in train_epoch</span><br><span class="line">self.scaler.scale(loss).backward()</span><br><span class="line">File &quot;/root/miniconda3/envs/neus/lib/python3.8/site-packages/torch/_tensor.py&quot;, line 488</span><br><span class="line">, in backward</span><br><span class="line">torch.autograd.backward(</span><br><span class="line">File &quot;/root/miniconda3/envs/neus/lib/python3.8/site-packages/torch/autograd/__init__.py&quot;</span><br><span class="line">, line 197, in backward</span><br><span class="line">Variable._execution_engine.run_backward( # Calls into the C++ engine to run the backw</span><br><span class="line">ard pass</span><br><span class="line">File &quot;/root/miniconda3/envs/neus/lib/python3.8/site-packages/torch/autograd/function.py&quot;</span><br><span class="line">, line 267, in apply</span><br><span class="line">return user_fn(self, *args)</span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/models/neus.py&quot;, line 29, in backward</span><br><span class="line">return grad_output_colors * scaling.unsqueeze(-1), grad_output_sigmas * scaling, grad_</span><br><span class="line">output_ray_dist</span><br><span class="line">torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 13.58 GiB (GPU 0; 23.70</span><br><span class="line">GiB total capacity; 5.30 GiB already allocated; 7.14 GiB free; 14.86 GiB reserved in tota</span><br><span class="line">l by PyTorch) If reserved memory is &gt;&gt; allocated memory try setting max_split_size_mb to a</span><br><span class="line">void fragmentation. See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF</span><br><span class="line">0% 0/60 [00:00&lt;?, ?it/s]</span><br></pre></td></tr></table></figure><h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><h3 id="Nerfacc"><a href="#Nerfacc" class="headerlink" title="Nerfacc"></a>Nerfacc</h3><p>0.3.5 â€”&gt; 0.5.3</p><p><strong>error1</strong>ï¼šloss_eikonal ä¸€ç›´å¢å¤§</p><ul><li>åœ¨ fg ä¸­æ·»åŠ äº† def alpha_fn(t_starts,t_ends,ray_indices):</li><li>åœ¨ fg ä¸­ä½¿ç”¨ ray_aabb_intersect è®¡ç®— near å’Œ far</li></ul><p>æ•ˆæœå·®åŸå› ï¼š</p><ul><li>0.5.3 ç”±äº Contraction åœ¨å°„çº¿éå†æ—¶ä½æ•ˆï¼Œä¸å†ä½¿ç”¨ ContractionTypeï¼Œå› æ­¤å¯¹äºèƒŒæ™¯ bg ä½¿ç”¨ self.scene_aabb ä¼šå‡ºç°é—®é¢˜</li></ul><p>è§£å†³ testï¼š</p><ul><li>å¯¹äºèƒŒæ™¯çš„ unbounded é‡‡ç”¨ prop ç½‘æ ¼</li></ul><p><strong>error1.5</strong>:</p><ul><li>loss_rgb_mse å’Œ l1 æŸå¤±ä¸º nan</li><li>è§£å†³ï¼šèƒŒæ™¯ color å€¼ä¸ºè´Ÿæ•°</li></ul><p><strong>error2</strong>: å¯¹ unbounded é‡‡ç”¨ prop ç½‘æ ¼åï¼Œç”±äºç½‘ç»œå‚æ•°å¤ªå¤šï¼Œå‡ºç° OOM</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OOM</span><br><span class="line">torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 162.00 MiB (GPU 0; 23.70 GiB total capacity; 21.16 GiB already allocated; 150.56 MiB free; 22.31 GiB reserved in total by PyTorch) If reserved memory is &gt;&gt; allocated memory try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF</span><br><span class="line"></span><br><span class="line">set PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:32</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://blog.csdn.net/MirageTanker/article/details/127998036">é€šè¿‡è®¾ç½® PYTORCH<em>CUDA_ALLOC_CONF ä¸­çš„ max_split_size_mb è§£å†³ Pytorch çš„æ˜¾å­˜ç¢ç‰‡åŒ–å¯¼è‡´çš„ CUDA:Out Of Memory é—®é¢˜</em>æ¢¦éŸ³ Yune çš„åšå®¢-CSDN åšå®¢</a></p></blockquote><ul><li>max_split_size_mb è®¾ç½®åï¼Œæ˜¾å­˜ä¹Ÿä¸è¶³</li><li>è°ƒå° prop çš„ç½‘æ ¼å‚æ•°ï¼Œprop_network ä¸»è¦ç”± Hash Table å’Œ MLP ä¸¤éƒ¨åˆ†ç»„æˆï¼Œè°ƒå° HashTable çš„ n_levels</li></ul>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Neus </tag>
            
            <tag> InstantNGP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Instant-NSR</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Instant-NSR/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Instant-NSR/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Human Performance Modeling and Rendering via Neural Animated Mesh</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://zhaofuq.github.io/">Fuqiang Zhao</a>, <a href="https://nowheretrix.github.io/">Yuheng Jiang</a>, Kaixin Yao, <a href="https://jiakai-zhang.github.io/">Jiakai Zhang</a>, <a href="https://aoliao12138.github.io/">Liao Wang</a>, Haizhao Dai, Yuhui Zhong, <a href="https://cn.linkedin.com/in/yingliangzhang">Yingliang Zhang</a> <a href="https://wuminye.com/">Minye Wu</a>, <a href="http://xu-lan.com/">Lan Xu</a>, <a href="https://sist.shanghaitech.edu.cn/2020/0707/c7499a53862/page.htm">Jingyi Yu</a></td></tr><tr><td>Conf/Jour</td><td>SIGGRAPH Asia 2022</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://zhaofuq.github.io/NeuralAM/">Human Performance Modeling and Rendering via Neural Animated Mesh (zhaofuq.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4669786505854582785&amp;noteId=1856547936358141696">Human Performance Modeling and Rendering via Neural Animated Mesh (readpaper.com)</a></td></tr></tbody></table></div><p>å¯ä»¥ç†è§£ä¸ºå¯¹Neusä½¿ç”¨å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç è¿›è¡ŒåŠ é€Ÿ</p><ul><li>ä½¿ç”¨TSDFä»£æ›¿SDF</li><li>æœ‰é™å·®åˆ†å‡½æ•°è®¡ç®—SDFçš„æ¢¯åº¦ï¼Œåœ¨tiny-CUDAnnå¹¶æœªé›†æˆï¼Œå…¬å¼€äº†è‡ªå·±çš„CUDAC++ä»£ç </li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/pipeline.jpg" alt="pipeline"></p><p>ä¸è¶³ï¼š</p><ul><li>æ•°æ®é›†éœ€è¦æ‰‹åŠ¨mask</li></ul><span id="more"></span><p>æ•°æ®é›†å›¾ç‰‡ï¼š<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/004.png" style="width:50%;"></p><h1 id="è®ºæ–‡"><a href="#è®ºæ–‡" class="headerlink" title="è®ºæ–‡"></a>è®ºæ–‡</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>å°†truncated(æˆªæ–­) signed distance field(TSDF)ä¸multi-resolution hash encodingç»“åˆåœ¨ä¸€èµ·<br>è¿›ä¸€æ­¥æå‡ºäº†hybrid neural trackeræ··åˆç¥ç»è¿½è¸ªå™¨ç”ŸæˆåŠ¨ç”»çš„meshs</p><ul><li>å®ƒå°†æ˜¾å¼éåˆšæ€§è·Ÿè¸ªä¸éšå¼åŠ¨æ€å˜å½¢ç»“åˆåœ¨ä¸€ä¸ªè‡ªç›‘ç£æ¡†æ¶ä¸­<ul><li>å‰è€…æä¾›coarseæ‰­æ›²å›è§„èŒƒç©ºé—´</li><li>åè€…åˆ™ä½¿ç”¨ä¸æˆ‘ä»¬çš„é‡æ„å™¨ä¸­çš„4Då“ˆå¸Œç¼–ç ç›¸åŒçš„éšå¼æ–¹å¼è¿›ä¸€æ­¥é¢„æµ‹ä½ç§»</li></ul></li></ul><p>æˆ‘ä»¬è®¨è®ºäº†ä½¿ç”¨è·å¾—çš„åŠ¨ç”»ç½‘æ ¼çš„æ¸²æŸ“æ–¹æ¡ˆï¼Œä»åŠ¨æ€çº¹ç†åˆ°åœ¨å„ç§å¸¦å®½è®¾ç½®ä¸‹çš„é€è§†æ¸²æŸ“ã€‚ä¸ºäº†åœ¨è´¨é‡å’Œå¸¦å®½ä¹‹é—´å–å¾—å¤æ‚çš„å¹³è¡¡ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§åˆ†å±‚è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>é¦–å…ˆæ¸²æŸ“è¦†ç›–è¡¨æ¼”è€…çš„6ä¸ªè™šæ‹Ÿè§†å›¾ï¼Œç„¶åè¿›è¡Œé®æŒ¡æ„ŸçŸ¥çš„ç¥ç»çº¹ç†æ··åˆã€‚æˆ‘ä»¬åœ¨å„ç§åŸºäºç½‘æ ¼çš„åº”ç”¨ç¨‹åºå’Œå„ç§å¹³å°ä¸Šå±•ç¤ºäº†æˆ‘ä»¬æ–¹æ³•çš„æœ‰æ•ˆæ€§ï¼Œä¾‹å¦‚é€šè¿‡ç§»åŠ¨ARå°†è™šæ‹Ÿäººè¡¨æ¼”æ’å…¥çœŸå®ç¯å¢ƒï¼Œæˆ–è€…é€šè¿‡VRå¤´æ˜¾èº«ä¸´å…¶å¢ƒåœ°è§‚çœ‹æ‰è‰ºå±•ç¤ºã€‚</li></ul><p>ACMåˆ†ç±»ï¼šComputing methodologies â†’ Computational photography; Image-based rendering.<br>Keywordsï¼švirtual human, neural rendering, human modeling, human performance capture</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ç›®æ ‡ï¼šåœ¨VR or ARåœºæ™¯ä¸­ï¼Œå¯ä»¥èº«ä¸´å…¶å¢ƒåœ°è§‚çœ‹äººç±»è¡¨æ¼”ã€‚å…·ä½“è€Œè¨€ï¼Œç”¨æˆ·å¯ä»¥åƒä¸è¡¨æ¼”è€…é¢å¯¹é¢ä¸€æ ·è¿›è¡Œäº’åŠ¨ï¼Œç®€å•åˆ°æ”¹å˜è§†è§’ï¼Œå¤æ‚åˆ°é€šè¿‡è§¦æ‰‹å¯åŠçš„æ–¹å¼è¿›è¡Œå†…å®¹ç¼–è¾‘ã€‚</p><p>ç›®å‰æ˜¾å¼é‡å»ºæ–¹æ³•çš„ä¸è¶³ï¼šè¿„ä»Šä¸ºæ­¢ï¼Œç”Ÿæˆä½“ç§¯äººç±»è¡¨æ¼”çš„æœ€å¹¿æ³›åº”ç”¨å·¥ä½œæµç¨‹ä»ç„¶æ˜¯é€šè¿‡é‡å»ºå’Œè·Ÿè¸ªåŠ¨æ€ç½‘æ ¼ï¼Œå¹¶ä¸ºæ¯ä¸€å¸§è´´ä¸Šçº¹ç†è´´å›¾ã€‚å®é™…ä¸Šï¼Œæ— è®ºæ˜¯åŸºäºæ‘„å½±æµ‹é‡çš„é‡å»ºè¿˜æ˜¯åŸºäº3Dæ‰«æçš„é‡å»ºä»ç„¶è€—æ—¶ï¼Œå¹¶å®¹æ˜“å—åˆ°é®æŒ¡å’Œç¼ºä¹çº¹ç†çš„å½±å“ï¼Œä»è€Œå¯¼è‡´äº§ç”Ÿæ´å’Œå™ªå£°ã€‚ä¸ºäº†æ»¡è¶³æœ€ä½ç¨‹åº¦çš„æ²‰æµ¸å¼è§‚çœ‹è¦æ±‚ï¼Œæœ€ç»ˆé‡å»ºçš„åºåˆ—éœ€è¦ç»éªŒä¸°å¯Œçš„è‰ºæœ¯å®¶è¿›è¡Œå¤§é‡ä¿®å¤å·¥ä½œã€‚</p><p>NeRF: é™æ€åœºæ™¯å’ŒåŠ¨æ€åœºæ™¯</p><ul><li>é™æ€åœºæ™¯é€šè¿‡å¤šä¸ªè§‚å¯Ÿè§†å›¾ï¼Œç»•è¿‡æ˜¾å¼é‡å»ºï¼Œä¸“æ³¨åˆæˆé€¼çœŸçš„æ–°è§†å›¾<ul><li>[Lombardiç­‰ï¼Œ2019; Tewariç­‰ï¼Œ2020; Wuç­‰ï¼Œ2020]</li><li>[Mildenhallç­‰ï¼Œ2020] NeRFç”¨MLPå–ä»£äº†ä¼ ç»Ÿçš„å‡ ä½•å’Œå¤–è§‚æ¦‚å¿µ</li><li>æœ€åˆçš„NeRFåŠå…¶åŠ é€Ÿæ–¹æ¡ˆ[MuÌˆllerç­‰ï¼Œ2022; Yuç­‰ï¼Œ2021a]ä¸»è¦å…³æ³¨é™æ€åœºæ™¯</li></ul></li><li>åŠ¨æ€åœºæ™¯ä¸­çš„å®æ—¶æ¸²æŸ“éœ€è¦åœ¨ç©ºé—´å’Œè´¨é‡ä¹‹é—´è¾¾åˆ°å¤æ‚çš„å¹³è¡¡<ul><li>[Pengç­‰ï¼Œ2021b; Tretschkç­‰ï¼Œ2020; Zhangç­‰ï¼Œ2021; Zhaoç­‰ï¼Œ2022]æ—¨åœ¨å°†è¿™ç§ç¥ç»è¡¨ç¤ºæ‰©å±•åˆ°å…·æœ‰æ—¶é—´ä½œä¸ºæ½œåœ¨å˜é‡çš„åŠ¨æ€åœºæ™¯ä¸­</li><li>ç©ºé—´[MuÌˆllerç­‰ï¼Œ2022; Sara Fridovich-Keilå’ŒAlex Yuç­‰ï¼Œ2022; Yuç­‰ï¼Œ2021a]</li><li>è´¨é‡[Suoç­‰ï¼Œ2021; Wangç­‰ï¼Œ2022]</li></ul></li><li>åœ¨å¯åŠ¨äººç±»è§’è‰²çš„èƒŒæ™¯ä¸‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å°†å‚æ•°åŒ–äººä½“æ¨¡å‹ä½œä¸ºå…ˆéªŒæ¡ä»¶[Bagautdinovç­‰ï¼Œ2021; Habermannç­‰ï¼Œ2021; Liuç­‰ï¼Œ2021; Xiangç­‰ï¼Œ2021]æ¥ç”Ÿæˆç¥ç»è§’è‰²ã€‚ç„¶è€Œï¼Œå®ƒä»¬çš„æœ€ç»ˆè´¨é‡åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºé¢„æ‰«ææˆ–å‚æ•°åŒ–æ¨¡æ¿å’Œç¹çè€—æ—¶çš„æ¯ä¸ªè§’è‰²è®­ç»ƒã€‚</li></ul><p>ç›®å‰çš„ç¥ç»æ–¹æ³•æå–å‡ºæ¥çš„meshä¸é€‚åº”ç°æœ‰çš„åŸºäºç½‘æ ¼çš„åŠ¨ç”»æµæ°´çº¿ï¼š</p><ul><li>ç¥ç»æ–¹æ³•çš„å¦ä¸€ä¸ªä¸»è¦æŒ‘æˆ˜æ˜¯å®ƒä»¬çš„ç»“æœï¼Œå³ç»è¿‡è®­ç»ƒçš„ç¥ç»ç½‘ç»œï¼Œä¸èƒ½ç›´æ¥æ”¯æŒç°æœ‰çš„åŸºäºç½‘æ ¼çš„åŠ¨ç”»æµæ°´çº¿ï¼Œæ— è®ºæ˜¯æµåª’ä½“è¿˜æ˜¯æ¸²æŸ“ã€‚å°½ç®¡å¯èƒ½å¯ä»¥ä»ç½‘ç»œä¸­æå–ç½‘æ ¼ï¼Œä¾‹å¦‚é€šè¿‡å¯¹NeRFçš„å¯†åº¦åœºè¿›è¡Œé˜ˆå€¼å¤„ç†ï¼Œç„¶åè¿›è¡Œä¸‰è§’å‰–åˆ†ï¼Œä½†æ‰€äº§ç”Ÿçš„å‡ ä½•å½¢çŠ¶å¾€å¾€è¿‡äºå˜ˆæ‚ï¼Œæ— æ³•é€‚åº”å…ˆå‰çš„åŸºäºç½‘æ ¼çš„æµæ°´çº¿[Colletç­‰äººï¼Œ2015å¹´]ã€‚</li></ul><p>å°†NeRFçš„å¯†åº¦åœºæ¢æˆSDFï¼Œå¯ä»¥å¾—åˆ°é«˜è´¨é‡meshï¼Œä½†æ˜¯ä»ç„¶å¾ˆè´¹æ—¶ï¼š(ä¾‹å¦‚Neus)</p><ul><li>å¼€åˆ›æ€§çš„ç¥ç»éšå¼è¡¨é¢[Munkbergç­‰äººï¼Œ2021å¹´ï¼›Wangç­‰äººï¼Œ2021a]åœ¨ä½“ç§¯æ¸²æŸ“å…¬å¼ä¸­å°†å¯†åº¦åœºæ›¿æ¢ä¸ºæœ‰ç¬¦å·è·ç¦»åœºï¼ˆSDFï¼‰ï¼Œå¯ä»¥æ¢å¤å‡ºéå¸¸é«˜è´¨é‡çš„å‡ ä½•å½¢çŠ¶ã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•ä»ç„¶éœ€è¦å¾ˆé•¿çš„è®­ç»ƒæ—¶é—´ï¼Œæ— æ³•æ‰©å±•ä»¥ç”ŸæˆåŠ¨æ€ç½‘æ ¼åºåˆ—ã€‚äº‹å®ä¸Šï¼Œå³ä½¿å¯ä»¥é‡æ„ç½‘æ ¼åºåˆ—ï¼Œå¾ˆå°‘æœ‰å·¥ä½œå¼ºè°ƒåº”ç”¨åŸºäºç¥ç»ç½‘ç»œçš„ç½‘æ ¼å‹ç¼©æ¥æ”¯æŒæµåª’ä½“æˆ–é«˜è´¨é‡æ’­æ”¾çš„ç¥ç»æ¸²æŸ“ã€‚</li></ul><h3 id="æœ¬æ–‡æ–¹æ³•"><a href="#æœ¬æ–‡æ–¹æ³•" class="headerlink" title="æœ¬æ–‡æ–¹æ³•"></a>æœ¬æ–‡æ–¹æ³•</h3><p>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå…¨é¢çš„ç¥ç»å»ºæ¨¡å’Œæ¸²æŸ“æµç¨‹ï¼Œç”¨äºæ”¯æŒå¤šè§†è§’æ‘„åƒæœºçƒé¡¶æ•æ‰çš„äººç±»è¡¨æ¼”çš„é«˜è´¨é‡é‡å»ºã€å‹ç¼©å’Œæ¸²æŸ“ã€‚æˆ‘ä»¬éµå¾ªä¼ ç»Ÿçš„åŠ¨ç”»ç½‘æ ¼å·¥ä½œæµç¨‹ï¼Œä½†é‡‡ç”¨ä¸€ç§æ–°çš„é«˜æ•ˆç¥ç»æŠ€æœ¯ç±»åˆ«ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚</p><ul><li>InstantNGP+Neusï¼šå…·ä½“è€Œè¨€ï¼Œåœ¨ç½‘æ ¼é‡å»ºæ–¹é¢ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§é«˜åº¦åŠ é€Ÿçš„ç¥ç»è¡¨é¢é‡å»ºå™¨Instant-NSRï¼Œç±»ä¼¼äºInstantNGP [MuÌˆllerç­‰ï¼Œ2022]ï¼Œä½†åŸºäºNeuS [Wangç­‰ï¼Œ2021a]çš„SDFä½“ç§¯å…¬å¼è¿›è¡Œè¡¨é¢é‡å»ºã€‚</li><li>TSDFï¼šæˆ‘ä»¬å‘ç°ç›´æ¥é‡‡ç”¨å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç å¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼Œå› æ­¤æ— æ³•åœ¨åŸºäºç‰¹å¾å“ˆå¸Œçš„ç½‘ç»œä¼˜åŒ–çš„æ—©æœŸè¿­ä»£ä¸­ç¨³å®šæ”¶æ•›ã€‚ç›¸åï¼Œæˆ‘ä»¬æå‡ºäº†æˆªæ–­SDFï¼ˆTSDFï¼‰å…¬å¼ï¼Œè¯¥å…¬å¼åœ¨å…ˆå‰çš„3Dèåˆæ¡†æ¶[Newcombeç­‰ï¼Œ2015ï¼Œ2011]ä¸­å¾—åˆ°åº”ç”¨ï¼Œå¹¶é€šè¿‡Sigmoidæ˜ å°„å®ç°ã€‚æˆ‘ä»¬çš„å¼€æºPyTorchå®ç°å°†è®­ç»ƒæ—¶é—´ä»NeuSçš„8å°æ—¶ç¼©çŸ­åˆ°10åˆ†é’Ÿï¼Œå¹¶ä¸”å…·æœ‰ç›¸å½“çš„è´¨é‡ã€‚</li><li>æˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ç§åŸºäºæœ‰é™å·®åˆ†çš„CUDAå®ç°ï¼Œç”¨äºè¿‘ä¼¼ä¼°è®¡æ³•çº¿ï¼Œè¿™å¯ä»¥è¿›ä¸€æ­¥ç¼©çŸ­è®­ç»ƒæ—¶é—´ï¼Œä½†è´¨é‡ç•¥æœ‰é™ä½ã€‚</li></ul><p>åŠ¨ç”»çš„meshsï¼š<br>æˆ‘ä»¬åº”ç”¨Instant-NSRç”Ÿæˆé«˜è´¨é‡çš„ç½‘æ ¼åºåˆ—ï¼Œç„¶åå¼€å§‹å¯¹å‡ ä½•è¿›è¡Œå‹ç¼©ï¼Œå¹¶ä½¿ç”¨åŠ¨ç”»ç½‘æ ¼ç¼–ç æ—¶é—´å¯¹åº”çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæ··åˆç¥ç»è·Ÿè¸ªå™¨ï¼Œ<strong>å°†æ˜¾å¼çš„éåˆšæ€§è·Ÿè¸ªå’Œéšå¼çš„åŠ¨æ€å˜å½¢ç»“åˆåœ¨ä¸€ä¸ªè‡ªç›‘ç£æ¡†æ¶ä¸­</strong>ã€‚</p><ul><li>åœ¨æ˜¾å¼é˜¶æ®µï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åŸºäºåµŒå…¥å˜å½¢çš„å¿«é€Ÿéåˆšæ€§è·Ÿè¸ªæ–¹æ¡ˆ[Newcombeç­‰äººï¼Œ2015å¹´ï¼›Xuç­‰äººï¼Œ2019b]ã€‚å®ƒä»å„ä¸ªå¸§ç”Ÿæˆç²—ç³™çš„åˆå§‹å˜å½¢ï¼Œä»¥ç»´æŒé«˜æ•ˆç‡ã€‚</li><li>åœ¨éšå¼é˜¶æ®µï¼Œæˆ‘ä»¬å­¦ä¹ è§„èŒƒç©ºé—´ä¸­4Dåæ ‡ï¼ˆ3Då˜å½¢ä½ç½®+1Dæ—¶é—´æˆ³ï¼‰çš„æ¯ä¸ªé¡¶ç‚¹ä½ç§»ï¼Œä»¥ä¿ç•™ç²¾ç»†çš„å‡ ä½•ç»†èŠ‚ã€‚æˆ‘ä»¬å†æ¬¡é‡‡ç”¨CUDAæ ¸å¿ƒçš„4Då“ˆå¸Œç¼–ç æ–¹æ¡ˆå’ŒInstant-NSRä¸­çš„ä½“ç§¯æ¸²æŸ“å…¬å¼ï¼Œä»¥è¿›è¡Œå¿«é€Ÿå’Œè‡ªç›‘ç£è®­ç»ƒï¼Œä»¥è·å¾—åŠ¨ç”»ç½‘æ ¼ã€‚</li></ul><p>æ¸²æŸ“æ–¹é¢ï¼š<br>ç²—æš´çš„æ–¹æ³•æ˜¯é‡‡ç”¨åŠ¨æ€çº¹ç†[Colletç­‰äººï¼Œ2015; UVAtlas 2011]æ¥æ”¯æŒæµå¼æ²‰æµ¸å¼ä½“éªŒã€‚<br>ç›¸åï¼Œæˆ‘ä»¬è®¨è®ºäº†åœ¨ä¸åŒå¸¦å®½è®¾ç½®ä¸‹çš„ç­–ç•¥ï¼Œä»åœ¨æ•´ä¸ªåºåˆ—ä¸­ä½¿ç”¨å•ä¸ªçº¹ç†æ˜ å°„åˆ°ä»æ‰€æœ‰åœ†é¡¶æ‘„åƒå¤´æµå¼ä¼ è¾“è§†é¢‘ä»¥è¿›è¡Œé«˜è´¨é‡çš„å›¾åƒé‡å»º[Buehlerç­‰äººï¼Œ2001]ã€‚æˆ‘ä»¬å±•ç¤ºäº†ä¸€ç§å¦¥åæ–¹æ¡ˆï¼Œé¦–å…ˆæ¸²æŸ“æ¶µç›–ä¸åŒè§‚å¯Ÿè€…è§†è§’çš„6ä¸ªè™šæ‹Ÿè§†å›¾ï¼Œç„¶åè¿›è¡Œç¥ç»çº¹ç†æ··åˆï¼Œè€ƒè™‘é®æŒ¡å’Œè§†è§’ä¾èµ–æ€§ï¼Œä»¥åœ¨è´¨é‡å’Œå¸¦å®½ä¹‹é—´å®ç°å¤æ‚çš„å¹³è¡¡ã€‚æœ€åï¼Œæˆ‘ä»¬å±•ç¤ºäº†å„ç§è™šæ‹Ÿå’Œå¢å¼ºç°å®åº”ç”¨çš„å†…å®¹æ’­æ”¾ï¼ŒåŒ…æ‹¬åœ¨ç§»åŠ¨ARå¹³å°ä¸Šå°†è™šæ‹Ÿäººç±»è¡¨æ¼”æ’å…¥çœŸå®ç¯å¢ƒï¼Œä»¥åŠä½¿ç”¨VRå¤´æ˜¾æ²‰æµ¸å¼åœ°è§‚çœ‹è¶…é«˜è´¨é‡çš„æ‰è‰ºè¡¨æ¼”èŠ‚ç›®ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ€»ç»“èµ·æ¥ï¼Œæˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®åŒ…æ‹¬ï¼š  </p><ul><li>æˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°é¢–çš„æµç¨‹ï¼Œä»¥åœ¨ç¥ç»æ—¶ä»£eraå§‹ç»ˆæ›´æ–°åŠ¨æ€äººç‰©è¡¨æ¼”çš„å»ºæ¨¡ã€è·Ÿè¸ªå’Œæ¸²æŸ“ï¼Œåœ¨æ•ˆæœå’Œæ•ˆç‡ä¸¤æ–¹é¢éƒ½ä¸ç°æœ‰ç³»ç»Ÿç›¸æ¯”å…·æœ‰ä¼˜åŠ¿ã€‚  </li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§å¿«é€Ÿçš„ç¥ç»è¡¨é¢é‡å»ºæ–¹æ¡ˆï¼Œé€šè¿‡å°†TSDFä½“ç§¯æ¸²æŸ“ä¸å“ˆå¸Œç¼–ç ç›¸ç»“åˆï¼Œåœ¨å‡ åˆ†é’Ÿå†…ç”Ÿæˆé«˜è´¨é‡çš„éšå¼è¡¨é¢ã€‚  </li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ··åˆç¥ç»è·Ÿè¸ªæ–¹æ³•ï¼Œä»¥è‡ªæˆ‘ç›‘ç£çš„æ–¹å¼å°†æ˜¾å¼å’Œéšå¼çš„è¿åŠ¨è¡¨ç¤ºç›¸ç»“åˆï¼Œç”Ÿæˆä¸ä¼ ç»Ÿåˆ¶ä½œå·¥å…·å…¼å®¹çš„åŠ¨ç”»ç½‘æ ¼ã€‚  </li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§åˆ†å±‚ç¥ç»æ¸²æŸ“æ–¹æ³•ï¼Œç”¨äºé€¼çœŸçš„äººç‰©è¡¨æ¼”åˆæˆï¼Œå¹¶å±•ç¤ºäº†æˆ‘ä»¬çš„æµç¨‹åœ¨å„ç§åŸºäºç½‘æ ¼çš„åº”ç”¨å’Œæ²‰æµ¸å¼è‡ªç”±è§†è§’è™šæ‹Ÿç°å®/å¢å¼ºç°å®ä½“éªŒä¸­çš„èƒ½åŠ›ã€‚</li></ul><h2 id="RelatedWork"><a href="#RelatedWork" class="headerlink" title="RelatedWork"></a>RelatedWork</h2><h3 id="ç¥ç»äººç±»å»ºæ¨¡"><a href="#ç¥ç»äººç±»å»ºæ¨¡" class="headerlink" title="ç¥ç»äººç±»å»ºæ¨¡"></a>ç¥ç»äººç±»å»ºæ¨¡</h3><p>Neural Human Modeling</p><ul><li>ç¥ç»éšå¼è¡¨ç¤ºæœ€è¿‘ä½œä¸ºä¼ ç»Ÿåœºæ™¯è¡¨ç¤ºï¼ˆå¦‚ç½‘æ ¼ã€ç‚¹äº‘å’Œä½“ç´ ç½‘æ ¼ï¼‰çš„æœ‰å¸Œæœ›æ›¿ä»£æ–¹æ³•å‡ºç°ã€‚ç”±äºå…¶è¿ç»­æ€§ç‰¹ç‚¹ï¼Œç¥ç»éšå¼è¡¨ç¤ºåœ¨ç†è®ºä¸Šå¯ä»¥ä»¥æ— é™åˆ†è¾¨ç‡æ¸²æŸ“å›¾åƒã€‚æœ€è¿‘ï¼ŒNeRFï¼ˆMildenhallç­‰ï¼Œ2020ï¼‰åŠå…¶åç»­å·¥ä½œï¼ˆChenç­‰ï¼Œ2021a,b; Parkç­‰ï¼Œ2021; Pengç­‰ï¼Œ2021b; Pumarolaç­‰ï¼Œ2021; Tiwariç­‰ï¼Œ2021; Wangç­‰ï¼Œ2021c,b,d; Zhangç­‰ï¼Œ2021; Zhaoç­‰ï¼Œ2022ï¼‰åˆ©ç”¨ä½“ç§¯è¡¨ç¤ºï¼Œé€šè¿‡å¯¹5Dåæ ‡è¡¨ç¤ºè¿›è¡Œå…‰çº¿è¡Œè¿›è®¡ç®—è¾å°„ã€‚åŸºäºç»å…¸çš„ä½“ç§¯æ¸²æŸ“æŠ€æœ¯ï¼Œå®ƒä»¬åœ¨æ–°è§†è§’åˆæˆæ–¹é¢å–å¾—äº†ä»¤äººå°è±¡æ·±åˆ»çš„ç»“æœã€‚ç„¶è€Œï¼Œç”±äºä½“ç§¯æ¸²æŸ“çš„æ¨¡ç³Šæ€§ï¼ˆZhangç­‰ï¼Œ2020ï¼‰ï¼Œè¿™äº›æ–¹æ³•ä»ç„¶å—åˆ°å‡ ä½•è´¨é‡è¾ƒä½çš„å½±å“ã€‚</li><li>ä¸€äº›åŸºäºè¡¨é¢æ¸²æŸ“çš„æ–¹æ³•ï¼ˆNiemeyerç­‰ï¼Œ2019, 2020; Saitoç­‰ï¼Œ2021; Yarivç­‰ï¼Œ2020ï¼‰å°è¯•é€šè¿‡éšå¼å¾®åˆ†è·å¾—æ¢¯åº¦ï¼Œç›´æ¥ä¼˜åŒ–åº•å±‚è¡¨é¢ã€‚<ul><li>UNISURFï¼ˆOechsleç­‰ï¼Œ2021ï¼‰æ˜¯ä¸€ç§æ··åˆæ–¹æ³•ï¼Œé€šè¿‡ä½“ç§¯æ¸²æŸ“å­¦ä¹ éšå¼è¡¨é¢ï¼Œå¹¶é¼“åŠ±ä½“ç§¯è¡¨ç¤ºæ”¶æ•›åˆ°ä¸€ä¸ªè¡¨é¢ã€‚</li><li>ä¸UNISURFä¸åŒï¼ŒNeuSï¼ˆWangç­‰ï¼Œ2021aï¼‰æä¾›äº†ä»ç¬¦å·è·ç¦»å‡½æ•°ï¼ˆSDFï¼‰åˆ°ä½“ç§¯æ¸²æŸ“å¯†åº¦çš„æ— åè½¬æ¢ã€‚UNISURFé€šè¿‡å ç”¨å€¼è¡¨ç¤ºè¡¨é¢ï¼Œå¹¶é€æ¸å‡å°‘ä¸€äº›é¢„å®šä¹‰æ­¥éª¤ä¸­çš„é‡‡æ ·åŒºåŸŸï¼Œä½¿å ç”¨å€¼æ”¶æ•›åˆ°è¡¨é¢ï¼Œè€ŒNeuSé€šè¿‡SDFè¡¨ç¤ºåœºæ™¯ï¼Œå› æ­¤è¡¨é¢å¯ä»¥ä½œä¸ºSDFçš„é›¶æ°´å¹³é›†è‡ªç„¶æå–ï¼Œä»è€Œæ¯”UNISURFå…·æœ‰æ›´å¥½çš„é‡å»ºç²¾åº¦ã€‚</li><li>æ‰€æœ‰è¿™äº›æ–¹æ³•çš„å…±åŒç‚¹æ˜¯å®ƒä»¬ä¾èµ–äºNeRFè®­ç»ƒè¿‡ç¨‹ï¼Œåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­åœ¨ç½‘ç»œä¸Šè¿›è¡Œå…‰çº¿è¡Œè¿›æ¨ç†ï¼Œè¿™åœ¨è®­ç»ƒå’Œæ¨ç†è¿‡ç¨‹ä¸­è®¡ç®—é‡å¾ˆå¤§ã€‚<strong>å› æ­¤ï¼Œå®ƒä»¬åªé€‚ç”¨äºé™æ€åœºæ™¯é‡å»ºï¼Œæ— æ³•å¤„ç†éœ€è¦æ— æ³•æ¥å—çš„è®­ç»ƒæ—¶é—´çš„åŠ¨æ€åœºæ™¯</strong>ã€‚</li></ul></li><li>æœ€è¿‘ï¼Œä¸€äº›NeRFæ‰©å±•ï¼ˆMÃ¼llerç­‰ï¼Œ2022; Sara Fridovich-Keilå’ŒAlex Yuç­‰ï¼Œ2022; Wangç­‰ï¼Œ2022; Yuç­‰ï¼Œ2021a; Zhangç­‰ï¼Œ2022ï¼‰è¢«æå‡ºä»¥åŠ é€ŸNeRFçš„è®­ç»ƒå’Œæ¸²æŸ“ï¼Œä½†æœªåŠ é€Ÿéšå¼è¡¨é¢é‡å»ºã€‚æœ€è¿‘çš„ä¸€é¡¹ç ”ç©¶ï¼ˆMunkberg et al.ï¼Œ2021ï¼‰é€šè¿‡åˆ©ç”¨é«˜æ•ˆå¯å¾®åˆ†å…‰æ …åŒ–æ¥ä¼˜åŒ–æ˜¾å¼ç½‘æ ¼è¡¨ç¤ºï¼Œä½†ä»éœ€è¦å‡ ä¸ªå°æ—¶çš„è®­ç»ƒæ—¶é—´ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æå‡ºä¸€ç§å¿«é€Ÿçš„éšå¼è¡¨é¢é‡å»ºæ–¹æ³•ï¼Œåªéœ€è¦å‡ åˆ†é’Ÿçš„è®­ç»ƒæ—¶é—´ï¼Œå¹¶åˆ©ç”¨å¤šè§†è§’å›¾åƒè¿›è¡Œé‡å»ºã€‚</li></ul><h3 id="äººç±»è¡Œä¸ºæ•æ‰"><a href="#äººç±»è¡Œä¸ºæ•æ‰" class="headerlink" title="äººç±»è¡Œä¸ºæ•æ‰"></a>äººç±»è¡Œä¸ºæ•æ‰</h3><p>Human Performance Capture.</p><ul><li>æœ€è¿‘ï¼Œé€šè¿‡ä¼ ç»Ÿçš„éåˆšæ€§èåˆæµç¨‹æå‡ºäº†å…·æœ‰å®æ—¶æ€§èƒ½çš„è‡ªç”±å½¢æ€åŠ¨æ€é‡å»ºã€‚ä»å¼€åˆ›æ€§çš„ä½œå“DynamicFusion [Newcombeç­‰ï¼Œ2015å¹´]å¼€å§‹ï¼Œå®ƒé€šè¿‡GPUæ±‚è§£å™¨å’Œå…ˆè¿›çš„å¤šæ‘„åƒå¤´ç³»ç»Ÿè·ç›Šï¼ŒFusion4D [Douç­‰ï¼Œ2016å¹´]å’Œmotion2fusion [Douç­‰ï¼Œ2017å¹´]å°†éåˆšæ€§è·Ÿè¸ªæµç¨‹æ‰©å±•åˆ°å…·æœ‰æŒ‘æˆ˜æ€§åŠ¨ä½œçš„åŠ¨æ€åœºæ™¯æ•æ‰ã€‚<ul><li>KillingFusion [Slavchevaç­‰ï¼Œ2017å¹´]å’ŒSobolevFusion [Slavchevaç­‰ï¼Œ2018å¹´]å¯¹è¿åŠ¨åœºæå‡ºäº†æ›´å¤šçº¦æŸï¼Œä»¥æ”¯æŒæ‹“æ‰‘å˜åŒ–å’Œå¿«é€Ÿå¸§é—´è¿åŠ¨ã€‚</li><li>DoubleFusion [Yuç­‰ï¼Œ2019å¹´]é€šè¿‡æ·»åŠ èº«ä½“æ¨¡æ¿SMPL [Loperç­‰ï¼Œ2015å¹´]ä½œä¸ºå…ˆéªŒçŸ¥è¯†ï¼Œå°†å†…éƒ¨èº«ä½“å’Œå¤–éƒ¨è¡¨é¢ç»„åˆåœ¨ä¸€èµ·ï¼Œæ›´ç¨³å¥åœ°æ•æ‰äººä½“æ´»åŠ¨ã€‚</li><li>å¾—ç›Šäºäººä½“è¿åŠ¨è¡¨ç¤ºï¼ŒUnstructuredFusion [Xuç­‰ï¼Œ2019bå¹´]å®ç°äº†éç»“æ„åŒ–å¤šè§†è§’è®¾ç½®ã€‚</li><li>Function4d [Yuç­‰ï¼Œ2021bå¹´]å°†æ—¶é—´ä½“ç§¯èåˆä¸éšå¼å‡½æ•°ç›¸ç»“åˆï¼Œç”Ÿæˆå®Œæ•´çš„å‡ ä½•å½¢çŠ¶ï¼Œå¹¶èƒ½å¤„ç†æ‹“æ‰‘å˜åŒ–ã€‚</li><li>ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•éƒ½åˆ©ç”¨äº†æ·±åº¦ä¼ æ„Ÿå™¨ç²¾åº¦æœ‰é™çš„æ·±åº¦å›¾ã€‚ä¸æ­¤åŒæ—¶ï¼Œè¿™äº›æ–¹æ³•åŠå…¶åç»­å·¥ä½œ[Jiangç­‰ï¼Œ2022bå¹´; Xuç­‰ï¼Œ2019bå¹´; Yuç­‰ï¼Œ2021bå¹´]å¯¹RGBå’Œæ·±åº¦ä¼ æ„Ÿå™¨çš„æ ¡å‡†éå¸¸æ•æ„Ÿã€‚</li></ul></li><li>åŸºäºæ•°å­—äººä½“å»ºæ¨¡ï¼Œä¸€äº›å…ˆå‰çš„å·¥ä½œé€šè¿‡ç½‘æ ¼å‹ç¼©æ¢ç´¢æ”¯æŒè‡ªç”±è§†ç‚¹è§†é¢‘ã€‚å®ç°å‡ ä½•ä¸€è‡´æ€§å‹ç¼©çš„å…³é”®æ˜¯å¯é åœ°å»ºç«‹å­˜å‚¨ä¸º3Dç½‘æ ¼åºåˆ—çš„æ‰€æœ‰å¸§ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚<strong>åœ¨è¡Œä¸ºæ•æ‰çš„èƒŒæ™¯ä¸‹ï¼Œç”±äºå¤§è§„æ¨¡éåˆšæ€§å˜å½¢éšæ—¶é—´å®¹æ˜“å¤±å»è·Ÿè¸ªï¼Œè¿™ä¸ªä»»åŠ¡ä»ç„¶å…·æœ‰æŒ‘æˆ˜æ€§</strong>ã€‚æ‹“æ‰‘å˜åŒ–å’Œé€€åŒ–é‡æ„ï¼ˆä¾‹å¦‚ï¼Œæ— çº¹ç†åŒºåŸŸï¼‰å¯¼è‡´é¢å¤–çš„é—®é¢˜ã€‚ç°æœ‰çš„ä»…è€ƒè™‘å½¢çŠ¶çš„æè¿°ç¬¦[Litmanå’ŒBronstein 2013ï¼›Windheuserç­‰ï¼Œ2014]å¯¹å™ªå£°æ•æ„Ÿï¼Œè€Œå¯†é›†å½¢çŠ¶å¯¹åº”è¦æ±‚æ‹“æ‰‘ä¸€è‡´æ€§ï¼Œä¸»è¦åº”ç”¨äºé›¶äºæ ¼è¡¨é¢ã€‚æ—©æœŸçš„åŒ¹é…æ–¹æ¡ˆé‡‡ç”¨äº†å¼ºå‡è®¾ï¼ŒåŒ…æ‹¬ç­‰è·æˆ–å…±å½¢å‡ ä½•ã€æµ‹åœ°çº¿æˆ–æ‰©æ•£çº¦æŸã€å±€éƒ¨å‡ ä½•ä¸€è‡´æ€§ç­‰ï¼Œåœ¨é©¬å°”å¯å¤«éšæœºåœºï¼ˆMRFï¼‰æˆ–éšæœºå†³ç­–æ£®æ—ï¼ˆRDFï¼‰æ¡†æ¶ä¸‹è¿›è¡Œã€‚æœ€è¿‘çš„ç¥ç»æ–¹æ³•å°è¯•ä»å¤šè§†æ·±åº¦å›¾æˆ–å…¨æ™¯æ·±åº¦å›¾ä¸­è®­ç»ƒç‰¹å¾æè¿°ç¬¦ï¼Œä»¥åˆ†ç±»ä¸åŒçš„èº«ä½“åŒºåŸŸï¼Œä»¥æé«˜é²æ£’æ€§ã€‚</li><li>ä¸€æ—¦æ„å»ºå®Œæˆï¼ŒåŠ¨ç”»ç½‘æ ¼å¯ä»¥è¢«æœ‰æ•ˆå‹ç¼©ä»¥è¿›ä¸€æ­¥èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚åŸºäºä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰çš„æ–¹æ³•[Alexaå’ŒMuÌˆller 2000ï¼›Luoç­‰äºº2013ï¼›Vasaå’ŒSkala 2007]æ—¨åœ¨è¯†åˆ«äººä½“çš„ä¸åŒå‡ ä½•é›†ç¾¤ï¼ˆæ‰‹è‡‚ã€æ‰‹ã€è…¿ã€èº¯å¹²ã€å¤´ç­‰ï¼‰ï¼Œè€Œ[Guptaç­‰äºº2002ï¼›Mamouç­‰äºº2009]åœ¨ç½‘æ ¼ä¸Šè¿›è¡Œé¢„åˆ†å‰²ä»¥ç¡®ä¿è¿æ¥çš„ä¸€è‡´æ€§ã€‚æ—¶ç©ºæ¨¡å‹å¯ä»¥è¿›ä¸€æ­¥é¢„æµ‹é¡¶ç‚¹è½¨è¿¹ä»¥å½¢æˆé¡¶ç‚¹ç»„[Mamouç­‰äºº2009ï¼›Ibarriaå’ŒRossignac 2003ï¼›Luoç­‰äºº2013]ã€‚ç„¶è€Œï¼Œä¸€ä¸ªè¢«å¤§éƒ¨åˆ†å¿½è§†çš„é—®é¢˜æ˜¯åºåˆ—çš„æ¸²æŸ“ï¼šåœ¨ä¼ ç»Ÿçš„è®¡ç®—æœºå›¾å½¢ä¸­ï¼Œä¸€ä¸ªå…·æœ‰è¶³å¤Ÿåˆ†è¾¨ç‡çš„å•ä¸€é¢„æ¸²æŸ“çº¹ç†å°±è¶³å¤Ÿæ¸²æŸ“åºåˆ—ä¸­çš„æ‰€æœ‰ç½‘æ ¼ã€‚ç„¶è€Œï¼Œåœ¨çœŸå®æ•æ‰åˆ°çš„åºåˆ—ä¸­ï¼Œç”±äºé®æŒ¡ã€ç›¸æœºçš„æ ¡å‡†è¯¯å·®ä»¥åŠé¢œè‰²æˆ–å…‰ç…§ä¸ä¸€è‡´ï¼Œå‡ ä¹ä¸å¯èƒ½äº§ç”Ÿå…·æœ‰å¯æ¯”è´¨é‡çš„å•ä¸€çº¹ç†ã€‚æ­¤å¤–ï¼Œä½¿ç”¨å•ä¸€çº¹ç†æ˜ å°„ä¼šå¤±å»è§†è§’ä¾èµ–æ€§ã€‚ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•é€šè¿‡å¤šè§†è§’RGBå›¾åƒæ¢å¤äººä½“å‡ ä½•å½¢çŠ¶ï¼Œå¹¶é€šè¿‡ä¼ ç»Ÿçš„ç®¡çº¿å’Œç¥ç»å½¢å˜ç½‘ç»œè¿›è¡Œéåˆšæ€§è·Ÿè¸ªï¼Œä»è€Œèƒ½å¤Ÿè‡ªç„¶åœ°å¤„ç†äººä½“æ´»åŠ¨ã€‚</li></ul><div class="note info">            <p>å•ä¸€è§†è§’æ¢å¤ç‰©ä½“çš„çº¹ç†ï¼Œè´¨é‡å¾ˆä½</p><ul><li>åœ¨ä¼ ç»Ÿçš„è®¡ç®—æœºå›¾å½¢ä¸­ï¼Œä¸€ä¸ªå…·æœ‰è¶³å¤Ÿåˆ†è¾¨ç‡çš„å•ä¸€é¢„æ¸²æŸ“çº¹ç†å°±è¶³å¤Ÿæ¸²æŸ“åºåˆ—ä¸­çš„æ‰€æœ‰ç½‘æ ¼</li><li>ç„¶è€Œï¼Œåœ¨çœŸå®æ•æ‰åˆ°çš„åºåˆ—ä¸­ï¼Œç”±äºé®æŒ¡ã€ç›¸æœºçš„æ ¡å‡†è¯¯å·®ä»¥åŠé¢œè‰²æˆ–å…‰ç…§ä¸ä¸€è‡´ï¼Œå‡ ä¹ä¸å¯èƒ½äº§ç”Ÿå…·æœ‰å¯æ¯”è´¨é‡çš„å•ä¸€çº¹ç†</li><li>æ­¤å¤–ï¼Œä½¿ç”¨å•ä¸€çº¹ç†æ˜ å°„ä¼šå¤±å»è§†è§’ä¾èµ–æ€§</li><li>ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•é€šè¿‡å¤šè§†è§’RGBå›¾åƒæ¢å¤äººä½“å‡ ä½•å½¢çŠ¶ï¼Œå¹¶é€šè¿‡ä¼ ç»Ÿçš„ç®¡çº¿å’Œç¥ç»å½¢å˜ç½‘ç»œè¿›è¡Œéåˆšæ€§è·Ÿè¸ªï¼Œä»è€Œèƒ½å¤Ÿè‡ªç„¶åœ°å¤„ç†äººä½“æ´»åŠ¨</li></ul>          </div><h3 id="ç¥ç»äººç±»æ¸²æŸ“"><a href="#ç¥ç»äººç±»æ¸²æŸ“" class="headerlink" title="ç¥ç»äººç±»æ¸²æŸ“"></a>ç¥ç»äººç±»æ¸²æŸ“</h3><p>Neural Human Rendering</p><ul><li>åœ¨é€¼çœŸçš„æ–°é¢–è§†å›¾åˆæˆå’Œ3Dåœºæ™¯å»ºæ¨¡é¢†åŸŸï¼ŒåŸºäºä¸åŒæ•°æ®ä»£ç†çš„å¯å¾®ç¥ç»æ¸²æŸ“å–å¾—äº†ä»¤äººå°è±¡æ·±åˆ»çš„ç»“æœï¼Œå¹¶å˜å¾—è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚é‡‡ç”¨å„ç§æ•°æ®è¡¨ç¤ºä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œç‰¹æ€§ï¼Œå¦‚ç‚¹äº‘[Alievç­‰ï¼Œ2020; Suoç­‰ï¼Œ2020; Wuç­‰ï¼Œ2020]ï¼Œä½“ç´ [Lombardiç­‰ï¼Œ2019]ï¼Œçº¹ç†ç½‘æ ¼[Liuç­‰ï¼Œ2019; Shysheyaç­‰ï¼Œ2019; Thiesç­‰ï¼Œ2019]æˆ–éšå¼å‡½æ•°[Kellnhoferç­‰ï¼Œ2021; Mildenhallç­‰ï¼Œ2020; Parkç­‰ï¼Œ2019]å’Œæ··åˆç¥ç»èåˆ[Jiangç­‰ï¼Œ2022a; Sunç­‰ï¼Œ2021; Suoç­‰ï¼Œ2021]ã€‚<ul><li>æœ€è¿‘ï¼Œ[Liç­‰ï¼Œ2020; Parkç­‰ï¼Œ2020; Pumarolaç­‰ï¼Œ2021; Wangç­‰ï¼Œ2022]å°†ç¥ç»è¾å°„åœº[Mildenhallç­‰ï¼Œ2020]æ‰©å±•åˆ°åŠ¨æ€ç¯å¢ƒä¸­ã€‚</li><li>[Huç­‰ï¼Œ2021; Pengç­‰ï¼Œ2021aï¼Œb; Zhaoç­‰ï¼Œ2022]åˆ©ç”¨äººç±»å…ˆéªŒSMPL[Loperç­‰ï¼Œ2015]æ¨¡å‹ä½œä¸ºé”šç‚¹ï¼Œå¹¶ä½¿ç”¨çº¿æ€§æ··åˆè’™çš®ç®—æ³•æ¥æ‰­æ›²è¾å°„åœºã€‚</li><li>æ­¤å¤–ï¼Œ[Jiangç­‰ï¼Œ2022a; Sunç­‰ï¼Œ2021]å°†åŠ¨æ€ç¥ç»æ¸²æŸ“å’Œèåˆæ‰©å±•åˆ°äººç±»ç‰©ä½“äº¤äº’åœºæ™¯ä¸­ã€‚</li><li>ç„¶è€Œï¼Œå¯¹äºä¸Šè¿°ç»å¤§å¤šæ•°æ–¹æ³•æ¥è¯´ï¼Œä»ç„¶éœ€è¦å¯†é›†çš„ç©ºé—´è§†å›¾ä»¥å®ç°é«˜ä¿çœŸåº¦çš„æ–°è§†å›¾æ¸²æŸ“ã€‚åŸºäºå›¾åƒçš„èåˆæ–¹æ³•å­¦ä¹ ç›¸é‚»è§†å›¾çš„èåˆæƒé‡ï¼Œå¹¶ä»¥è½»é‡çº§æ–¹å¼åˆæˆé€¼çœŸçš„æ–°è§†å›¾ã€‚</li><li>[Wangç­‰ï¼Œ2021b]å­¦ä¹ èåˆæƒé‡ä»¥è·å¾—æ³›åŒ–èƒ½åŠ›ã€‚</li><li>[Suoç­‰ï¼Œ2021]ä½¿ç”¨é®æŒ¡åœ°å›¾ä½œä¸ºèåˆæƒé‡ä¼°è®¡çš„æŒ‡å¯¼ã€‚</li><li>[Jiangç­‰ï¼Œ2022a]å°†åŸºäºå›¾åƒçš„èåˆä¸æ¯é¡¶ç‚¹çº¹ç†ç»“åˆèµ·æ¥è§£å†³é®æŒ¡é—®é¢˜ã€‚</li><li>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„ç¥ç»èåˆæ–¹æ¡ˆç»“åˆäº†é€šè¿‡è§„èŒƒç©ºé—´æ¸²æŸ“è·å¾—çš„æ—¶ç©ºä¿¡æ¯ï¼ŒåŒæ—¶å°†å†…å­˜å‹ç¼©åˆ°æé™ï¼Œä¹Ÿèƒ½ç¡®ä¿èåˆç»“æœçš„ä¿çœŸåº¦ã€‚</li></ul></li></ul><h2 id="InstantNSR"><a href="#InstantNSR" class="headerlink" title="InstantNSR"></a>InstantNSR</h2><p>INSTANT NEURAL SURFACE RECONSTRUCTION</p><h3 id="ä½“æ¸²æŸ“å‡½æ•°å½¢å¼"><a href="#ä½“æ¸²æŸ“å‡½æ•°å½¢å¼" class="headerlink" title="ä½“æ¸²æŸ“å‡½æ•°å½¢å¼"></a>ä½“æ¸²æŸ“å‡½æ•°å½¢å¼</h3><p>NeRFï¼šé€šè¿‡è¾“å…¥(ğ‘¥, ğ‘¦, ğ‘§, ğœƒ, ğœ™)æ¥è·å¾—$\sigma$å’ŒRGBå€¼<br>Neusï¼šç”¨SDFä»£æ›¿äº†$\sigma$åœºï¼Œä»è€Œå®ç°äº†æ›´ç¡®å®šå’Œå‡†ç¡®çš„å‡ ä½•å½¢çŠ¶æå–</p><p>æœ¬æ–‡é‡‡ç”¨NeRFç±»ä¼¼ä½“æ¸²æŸ“æ–¹å¼ï¼Œé€šè¿‡æ²¿ç€å…‰çº¿ç´¯åŠ nä¸ªé‡‡æ ·ç‚¹çš„å‡ ä½•å’Œå¤–è§‚å±æ€§æ¥è·å¾—åƒç´ çš„é¢œè‰²å€¼Colorï¼Œç„¶è€ŒSDFçš„è¡¨ç¤ºä¸­æ²¡æœ‰å®šä¹‰$\sigma$ ã€‚æœ¬æ–‡éµå¾ªNeuså°†å¯†åº¦æ›¿æ¢ä¸ºä¸é€æ˜åº¦å¯†åº¦$\rho(t)$ï¼ŒåŸºäºé‡‡æ ·ç‚¹ä½ç½®$\mathbf{p}(t)$å’Œç´¯è®¡å¯†åº¦åˆ†å¸ƒCDFï¼š$\Phi_s(x) = \frac{1}{1+e^{-bx}}$ï¼Œå…¶ä¸­bä¸ºinv_sæ˜¯å¯ä»¥è®­ç»ƒçš„è¶…å‚æ•°ï¼Œéšç€ç½‘ç»œè®­ç»ƒçš„æ”¶æ•›ï¼Œé€æ¸å¢åŠ åˆ°è¾ƒå¤§æ•°é‡ã€‚<br>ä½“æ¸²æŸ“å‡½æ•°ä¸Neusç±»ä¼¼ï¼š</p><p>$\rho(t)=\max\left(\frac{-\frac{\mathrm{d}\Phi_s}{\mathrm{d}t}(f(\mathbf{p}(t)))}{\Phi_s(f(\mathbf{p}(t)))},0\right)$<br>$\alpha_i=\max\left(\frac{\Phi_s(f(\mathbf{p}(t_i))))-\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right) =\max\left(1 - \frac{\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right)$<br>$\hat{C}=\sum_{i=1}^n T_i\alpha_i c_i$ï¼Œç¦»æ•£ç´¯è®¡é€å°„ç‡ï¼š$T_i=\prod_{j=1}^{i-1}(1-\alpha_j)$</p><h3 id="Truncated-SDF-Hash-Grids"><a href="#Truncated-SDF-Hash-Grids" class="headerlink" title="Truncated SDF Hash Grids"></a>Truncated SDF Hash Grids</h3><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/pipeline.jpg" alt="pipeline"></p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§ç±»ä¼¼äºInstant-NGPçš„ç¥ç»è¡¨é¢é‡æ„å™¨InstantNSRï¼Œå®ƒå¯ä»¥ä»å¯†é›†çš„å¤šè§†å›¾å›¾åƒä¸­é«˜æ•ˆåœ°ç”Ÿæˆé«˜è´¨é‡çš„è¡¨é¢ã€‚å“ˆå¸Œç¼–ç æä¾›äº†é«˜æ•ˆçš„è¡¨ç¤ºå­¦ä¹ å’ŒæŸ¥è¯¢æ–¹æ¡ˆï¼ŒTSDFè¡¨ç¤ºå¯ä»¥å¤§å¤§æé«˜ç½‘ç»œè®­ç»ƒçš„ç¨³å®šæ€§ã€‚<br>å…·ä½“è€Œè¨€ï¼Œç»™å®šå…‰çº¿ä¸Šçš„æ ·æœ¬ç‚¹ p(t)ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡æ’å€¼ä» L çº§å“ˆå¸Œç½‘æ ¼çš„å…«ä¸ªé¡¶ç‚¹å¤„è·å–ç‰¹å¾å‘é‡ã€‚æˆ‘ä»¬å°†è·å–çš„ç‰¹å¾å‘é‡è¿æ¥æˆ $Fhash âˆˆ R^{ğ¿Ã—ğ‘‘}$ï¼Œç„¶åå°†å…¶è¾“å…¥åˆ°æˆ‘ä»¬çš„ SDF ç½‘ç»œ$m_{s}$ä¸­ï¼Œè¯¥ç½‘ç»œç”±ä¸€ä¸ªæµ…å±‚çš„ MLP ç»„æˆã€‚$m_{s}$è¾“å‡ºæ ·æœ¬ç‚¹çš„ SDF å€¼ ğ‘¥</p><div class="note info">            <p>$m_{s}$è®­ç»ƒSDFçš„ç½‘ç»œè¡¨ç¤ºä¸º:$(x,F_{geo})=m_{s}(p,F_{hash}).$</p>          </div><p>å•çº¯åœ°å°†SDFè¡¨ç¤ºåº”ç”¨äºå“ˆå¸Œç¼–ç æ¡†æ¶å°†åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­å¼•å…¥å‡ ä¸ªæ”¶æ•›é—®é¢˜ã€‚åŸå§‹çš„åŸºäºSDFçš„æ–¹æ³•åˆ©ç”¨ç´¯ç§¯å¯†åº¦åˆ†å¸ƒ$\Phi_s(x) = \frac{1}{1+e^{-bx}}$æ¥è®¡ç®—alphaå€¼ï¼Œè¿™ä¼šäº§ç”Ÿæ•°å€¼é—®é¢˜ã€‚å½“ğ‘å¢åŠ æ—¶ï¼Œæœ¯è¯­âˆ’ğ‘ğ‘¥å°†æˆä¸ºä¸€ä¸ªè¾ƒå¤§çš„æ­£æ•°ï¼Œå¹¶ä½¿å¾—$ğ‘’^{âˆ’ğ‘ğ‘¥}$æ¥è¿‘æ— ç©·å¤§ã€‚è¿™ç§æ•°å€¼ä¸ç¨³å®šæ€§ä½¿å¾—æŸå¤±å‡½æ•°åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“å‘æ•£ã€‚</p><p>ä¸ºäº†é¿å…$\Phi_s(x)$ä¸­çš„å€¼æº¢å‡ºï¼Œæˆ‘ä»¬å¼•å…¥æˆªæ–­æœ‰ç¬¦å·è·ç¦»å‡½æ•°ï¼ˆTSDFï¼‰ï¼Œè¡¨ç¤ºä¸º$\hat x$ã€‚ç”±äºTSDFçš„å€¼èŒƒå›´ä¸º-1åˆ°1ï¼Œè¿™ç§ä¿®æ”¹ç¡®ä¿äº†æ•°å€¼ç¨³å®šæ€§ã€‚æˆ‘ä»¬å°†SDFè¾“å‡ºåº”ç”¨äºSigmoidå‡½æ•°ğœ‹(Â·)ï¼Œè€Œä¸æ˜¯ç›´æ¥æˆªæ–­SDFï¼Œä»¥å®ç°æ›´å¥½çš„æ”¶æ•›æ€§å¹¶é¿å…æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚<br>$\pi(x)=\frac{1-e^{-bx}}{1+e^{-bx}}.$, æ­¤æ—¶$\Phi_s(x) = \frac{1}{1+e^{-b \cdot \pi(x)}}$</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230717165905.png" alt="image.png"></p><p>ç±»ä¼¼äºInstant-NGP [MuÌˆller et al. 2022]ï¼Œæˆ‘ä»¬å°†æ ·æœ¬ç‚¹çš„å‡ ä½•ç¼–ç $ğ¹_{ğ‘”ğ‘’ğ‘œ}$ã€ä½ç½®på’Œè§†çº¿æ–¹å‘vè¾“å…¥åˆ°ä¸€ä¸ªé¢œè‰²ç½‘ç»œ$ğ‘š_{ğ‘}$ä¸­ï¼Œä»¥é¢„æµ‹å…¶é¢œè‰²$\hat C$ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å°†ç‚¹çš„æ³•çº¿nä½œä¸ºè¾“å…¥çš„ä¸€éƒ¨åˆ†ã€‚æ³•çº¿å³ä¸ºSDFçš„æ¢¯åº¦ã€‚<em>å¼•å…¥nçš„åŸå› æ˜¯ä¸ºäº†éšå¼åœ°å¯¹è¾“å‡ºçš„SDFè¿›è¡Œè§„èŒƒåŒ–ï¼ŒåŸºäºè¿™æ ·ä¸€ä¸ªè§‚å¯Ÿï¼šå¦‚æœé‚»è¿‘é‡‡æ ·ç‚¹çš„æ³•çº¿ä¹Ÿç›¸è¿‘ï¼Œé¢œè‰²ç½‘ç»œå€¾å‘äºè¾“å‡ºç›¸ä¼¼çš„é¢œè‰²ã€‚ç”±äºæˆ‘ä»¬å°†æ³•çº¿å®šä¹‰ä¸ºSDFçš„ä¸€é˜¶å¯¼æ•°ï¼Œæ³•çº¿çš„æ¢¯åº¦å¯ä»¥åå‘ä¼ æ’­åˆ°SDFä¸­ã€‚å°†æ³•çº¿æ·»åŠ åˆ°è¾“å…¥ä¸­å¯ä»¥ä½¿é‡å»ºçš„è¡¨é¢æ›´åŠ å¹³æ»‘ï¼Œå°¤å…¶æ˜¯å¯¹äºæ— çº¹ç†åŒºåŸŸã€‚</em></p><div class="note info">            <p>$m_{c}$è®­ç»ƒé¢œè‰²çš„ç½‘ç»œè¡¨ç¤ºä¸ºï¼š$\hat{C}=m_{c}(\mathrm{p},\mathrm{n},\mathrm{v},F_{geo}).$</p>          </div><h3 id="æŸå¤±å‡½æ•°loss"><a href="#æŸå¤±å‡½æ•°loss" class="headerlink" title="æŸå¤±å‡½æ•°loss"></a>æŸå¤±å‡½æ•°loss</h3><script type="math/tex; mode=display">\begin{gathered}\mathcal{L}=\mathcal{L}_{color}+\lambda\mathcal{L}_{eik}, \\\mathcal{L}_{color}=\frac{1}{b}\sum_{i}^{b}\mathcal{R}(\hat{C},C), \\\mathcal{L}_{eik}=\frac{1}{nb}\sum_{k,i}^{n,b}(|\mathrm{n}|-1)^{2} \end{gathered}</script><div class="note success">            <p>å¯¹äºç±»ä¼¼äºInstant-NGPçš„åŸºäºCUDAçš„åŠ é€Ÿï¼Œæˆ‘ä»¬é‡‡ç”¨æœ‰é™å·®åˆ†å‡½æ•°æ¥è¿‘ä¼¼è®¡ç®—æ–¹ç¨‹6å’Œ8ä¸­çš„æ¢¯åº¦ï¼Œä»¥å®ç°é«˜æ•ˆçš„æ³•çº¿è®¡ç®—ã€‚è¿™ç§ç­–ç•¥é¿å…äº†ç¹ççš„äºŒé˜¶æ¢¯åº¦åå‘ä¼ æ’­ï¼Œè€Œè¿™åœ¨ç°æœ‰çš„åº“å¦‚tiny-CUDAnn [MuÌˆller 2021]ä¸­ä»ç„¶æ²¡æœ‰å¾—åˆ°å®Œå…¨æ”¯æŒã€‚ä¸ºäº†ä¿ƒè¿›æ›´åŠ å¿ å®çš„CUDAå®ç°çš„æœªæ¥å·¥ä½œï¼Œæˆ‘ä»¬å°†å…¬å¼€å‘å¸ƒæˆ‘ä»¬çš„ç‰ˆæœ¬ã€‚</p>          </div><h2 id="ç¥ç»åŠ¨ç”»ç½‘æ ¼"><a href="#ç¥ç»åŠ¨ç”»ç½‘æ ¼" class="headerlink" title="ç¥ç»åŠ¨ç”»ç½‘æ ¼"></a>ç¥ç»åŠ¨ç”»ç½‘æ ¼</h2><p>NEURAL ANIMATION MESH</p><p>å°½ç®¡æˆ‘ä»¬çš„å¿«é€Ÿç¥ç»è¡¨é¢é‡å»º(ç¬¬3èŠ‚)ä¸ºæ¸²æŸ“æä¾›äº†é«˜ç²¾åº¦çš„å‡ ä½•å›¾å½¢ï¼Œä½†ç”±äºå†…å­˜å ç”¨å¤§ï¼Œå•ç‹¬ä¿å­˜æ¯å¸§çš„å‡ ä½•å›¾å½¢æ•ˆç‡ä½ä¸‹ï¼Œé™åˆ¶äº†åº”ç”¨èŒƒå›´ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç€æ‰‹ä»é«˜ç²¾åº¦å‡ ä½•ç»“æ„ä¸­æ„å»ºæ‹“æ‰‘ä¸€è‡´çš„ç½‘æ ¼ï¼Œä»¥è¿›ä¸€æ­¥å‹ç¼©æ•°æ®ï¼Œå¹¶å¯ç”¨æ—¶é—´ç¼–è¾‘æ•ˆæœã€‚åŠ¨ç”»ç½‘æ ¼çš„ç”Ÿæˆæ˜¯åŸºäºæŸ¥æ‰¾å¸§ä¹‹é—´çš„å‡ ä½•å¯¹åº”å…³ç³»ã€‚å¦‚å›¾5æ‰€ç¤ºï¼Œ<strong>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç¥ç»è·Ÿè¸ªç®¡é“ï¼Œå°†éåˆšæ€§è·Ÿè¸ªå’Œç¥ç»å˜å½¢ç½‘ç»œä»¥ç²—åˆ°ç»†çš„æ–¹å¼ç»“åˆåœ¨ä¸€èµ·</strong>ã€‚å®ƒåŒ…æ‹¬å¦‚ä¸‹æ‰€è¿°çš„ä¸¤ä¸ªé˜¶æ®µ</p><h3 id="ç²—è¿½è¸ªé˜¶æ®µ"><a href="#ç²—è¿½è¸ªé˜¶æ®µ" class="headerlink" title="ç²—è¿½è¸ªé˜¶æ®µ"></a>ç²—è¿½è¸ªé˜¶æ®µ</h3><p>Coarse Tracking Stage</p><p>åœ¨ç²—è·Ÿè¸ªé˜¶æ®µï¼Œæˆ‘ä»¬é‡‡ç”¨ä¼ ç»Ÿçš„éåˆšæ€§è·Ÿè¸ªæ–¹æ³•[Guoç­‰ï¼Œ2015å¹´ï¼›Jiangç­‰ï¼Œ2022å¹´aï¼›Newcombeç­‰ï¼Œ2015å¹´ï¼›Xuç­‰ï¼Œ2019å¹´aï¼Œbï¼›Yuç­‰ï¼Œ2019å¹´]åŸºäºåµŒå…¥å˜å½¢çš„æ–¹æ³•æ¥å»ºç«‹ç²—ç•¥å¯¹åº”å…³ç³»ã€‚<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706171346.png" alt="image.png"></p><p>å¦‚å›¾4æ‰€ç¤ºï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€å¸§å»ºç«‹ä¸€ä¸ªè§„èŒƒç©ºé—´ï¼Œå¹¶å°†ç¬¬ä¸€å¸§çš„é‡å»ºç»“æœä½œä¸ºè·Ÿè¸ªå‚è€ƒçš„è§„èŒƒç½‘æ ¼ã€‚åŸºäºåŸºäºå›¾å½¢çš„è¡¨ç¤ºæ–¹æ³•[Newcombeç­‰ï¼Œ2015å¹´]ï¼Œæˆ‘ä»¬é€šè¿‡è®¡ç®—è§„èŒƒç½‘æ ¼ä¸Šçš„æµ‹åœ°çº¿è·ç¦»å‡åŒ€é‡‡æ ·åµŒå…¥å˜å½¢ï¼ˆEDï¼‰èŠ‚ç‚¹[Sumnerç­‰ï¼Œ2007å¹´]ï¼Œå¹¶ä½¿ç”¨è¿™äº›èŠ‚ç‚¹é©±åŠ¨å…¶è¿›å…¥ç›®æ ‡å¸§ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ç”¨EDèŠ‚ç‚¹å¯¹äººä½“è¿åŠ¨$ğ» = \{ ğ‘‡_{ğ‘–} , ğ‘¥_{ğ‘–} \}$è¿›è¡Œå‚æ•°åŒ–ï¼Œå…¶ä¸­$ğ‘¥_{ğ‘–}$æ˜¯é‡‡æ ·çš„EDèŠ‚ç‚¹åæ ‡ï¼Œ$ğ‘‡_{ğ‘–}$æ˜¯åˆšæ€§å˜æ¢ã€‚ä¸€æ—¦è·å¾—ä¼˜åŒ–çš„è¿åŠ¨ğ»ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çº¿æ€§æ··åˆè’™çš®ï¼ˆLBSï¼‰[Loperç­‰ï¼Œ2015å¹´]å°†è§„èŒƒç½‘æ ¼çš„é¡¶ç‚¹è½¬æ¢åˆ°å®æ—¶ç©ºé—´:</p><p>$\mathrm{vâ€™}_j=\sum_{i\in\mathcal{N}(\mathrm{v}_j)}\omega(\mathrm{x}_i,\mathrm{v}_j)T_i\mathrm{v}_j.$</p><p>åœ¨è§„èŒƒç½‘æ ¼ä¸Šï¼Œ$v_{ğ‘—}$ æ˜¯ä¸€ä¸ªé¡¶ç‚¹ï¼Œ$N(v_{ğ‘—})$ è¡¨ç¤ºé¡¶ç‚¹çš„ç›¸é‚» ED èŠ‚ç‚¹</p><p>$\omega(\mathrm{x}_{i},\mathrm{v}_{j})=\left(1-\left|\mathrm{v}_{j}-\mathrm{x}_{i}\right|_{2}^{2}/r^{2}\right)^{3}$ æ˜¯ç¬¬ğ‘–ä¸ªèŠ‚ç‚¹ $ğ‘¥_{ğ‘–}$å¯¹$ğ‘£_{ğ‘—}$ çš„å½±å“æƒé‡ã€‚ğ‘Ÿ æ˜¯å½±å“åŠå¾„ï¼Œåœ¨æˆ‘ä»¬çš„å®éªŒä¸­è®¾ç½®ä¸º 0.075ã€‚</p><h4 id="å˜å½¢åœºä¼°è®¡"><a href="#å˜å½¢åœºä¼°è®¡" class="headerlink" title="å˜å½¢åœºä¼°è®¡"></a>å˜å½¢åœºä¼°è®¡</h4><p>Warping Field Estimation</p><p>ç„¶è€Œï¼Œç”±äºè§„èŒƒå¸§å’Œå½“å‰å¸§ä¹‹é—´å­˜åœ¨è¾ƒå¤§çš„è¿åŠ¨å·®å¼‚ï¼Œç›´æ¥è®¡ç®—ä¸¤è€…ä¹‹é—´çš„è¿åŠ¨ğ»æ˜¯ä¸ç°å®çš„ï¼Œè¿™å°†å¯¼è‡´éåˆšæ€§è·Ÿè¸ªå¤±è´¥ã€‚ç›¸åï¼Œæˆ‘ä»¬è·Ÿè¸ªç›¸é‚»å¸§ï¼Œç„¶åå°†ä¼˜åŒ–åçš„å±€éƒ¨å˜å½¢åœºğ‘Šä¼ æ’­åˆ°è§„èŒƒç©ºé—´ï¼Œä»¥è·å¾—æ¯å¸§çš„è¿åŠ¨ğ»ã€‚éµå¾ªä¼ ç»Ÿçš„éåˆšæ€§è·Ÿè¸ªæµç¨‹[Li et al. 2009; Newcombe et al. 2015]ï¼Œæˆ‘ä»¬ä½¿ç”¨éåˆšæ€§è¿­ä»£æœ€è¿‘ç‚¹ï¼ˆICPï¼‰ç®—æ³•åœ¨å¸§ğ‘¡ âˆ’ 1å’Œå¸§ğ‘¡ä¹‹é—´æœç´¢ç‚¹å¯¹ç‚¹å’Œç‚¹å¯¹å¹³é¢çš„å¯¹åº”å…³ç³»ã€‚ç”±äºæˆ‘ä»¬å·²ç»æœ‰æ¯å¸§çš„å‡ ä½•ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å‡ ä½•ä¿¡æ¯è¿›è¡Œè·Ÿè¸ªï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ·±åº¦è¾“å…¥ã€‚</p><ul><li><p>åˆ©ç”¨å‡ ä½•ä¿¡æ¯ä½œä¸ºè¾“å…¥çš„ä¼˜åŠ¿æœ‰ä¸¤ä¸ªæ–¹é¢:</p><ul><li>é¦–å…ˆï¼Œå®ƒå¯ä»¥é˜²æ­¢èåˆç®—æ³•å—åˆ°æ·±åº¦ä¼ æ„Ÿå™¨å¼•èµ·çš„è¾“å…¥å™ªå£°çš„å¹²æ‰°ï¼›</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨æ¬§æ‹‰ç©ºé—´ä¸­å»ºç«‹åˆå§‹çš„å±€éƒ¨å¯¹åº”å…³ç³»ï¼Œä»¥è¿›è¡Œè·Ÿè¸ªä¼˜åŒ–ï¼Œè€Œä¸ä»…ä»…åœ¨å•ä¸ªå°„çº¿ä¸Šæ‰¾åˆ°å¯¹åº”å…³ç³»[Newcombe et al. 2011]ã€‚</li></ul></li><li><p>ç”¨äºä¼˜åŒ–å˜å½¢åœºğ‘Šğ‘¡çš„èƒ½é‡å‡½æ•°è¢«å®šä¹‰ä¸ºï¼š<br>$E(W_t,V_{t-1},M_t,G)=\lambda_\text{data}E_\text{data}(W_t,V_{t-1},M_t)+\lambda_\text{reg}E_\text{reg}(W_t,G),$åœ¨è¿™é‡Œ $ğ‘‰_{ğ‘¡ âˆ’1}$ æ˜¯ä½¿ç”¨æ‰­æ›²åœº$ğ‘Š_{ğ‘¡ âˆ’1}$ ä»è§„èŒƒç©ºé—´å˜å½¢çš„åŠ¨ç”»ç½‘æ ¼ï¼›$ğ‘€_{ğ‘¡}$ æ˜¯ä»ï¼ˆç¬¬3èŠ‚ï¼‰è·å¾—çš„å½“å‰å¸§çš„é‡æ„å‡ ä½•ä½“ã€‚</p></li><li><p>æ•°æ®é¡¹ç”¨äºæœ€å°åŒ–æ‹Ÿåˆè¯¯å·®ï¼Œå…¬å¼ä¸º:<br>$E_{\mathrm{clata}}=\sum_{\mathrm{v}_{j}\in C}\lambda_{\mathrm{point}}\left|\mathrm{vâ€™}_{j}-\mathrm{c}_{j}\right|_{2}^{2}+\lambda_{\mathrm{plane}}\left|\mathrm{n}_{\mathrm{c}_{j}}^{\mathrm{T}}\left(\mathrm{vâ€™}_{j}-\mathrm{c}_{j}\right)\right|^{2},$å…¶ä¸­$vâ€™_ğ‘—$æ˜¯ä»è§„èŒƒç©ºé—´å˜æ¢å¾—åˆ°çš„å˜å½¢é¡¶ç‚¹ $v_ğ‘—$ï¼Œ$c_ğ‘—$ æ˜¯å½“å‰å¸§ç½‘æ ¼ä¸Šçš„å¯¹åº”é¡¶ç‚¹ã€‚C è¡¨ç¤ºä»éåˆšæ€§ ICP ä¸­è·å–çš„åˆå§‹å¯¹åº”é¡¶ç‚¹å¯¹é›†åˆã€‚æƒé‡ ğœ† ç”¨äºå¹³è¡¡ä¸åŒé¡¹çš„ç›¸å¯¹é‡è¦æ€§ã€‚åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬è®¾ç½®ï¼š<br>$ğœ†_{data} = 1ï¼Œğœ†_{reg} = 20ï¼Œğœ†_{point} = 0.2 å’Œ ğœ†_{reg} = 0.8$</p></li><li><p>ä¸ºäº†çº¦æŸEDèŠ‚ç‚¹è¿åŠ¨çš„å¹³æ»‘æ€§ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å±€éƒ¨å°½å¯èƒ½åˆšæ€§çš„æ­£åˆ™åŒ–æ–¹æ³•:<br>$E_{\mathrm{reg}}=\sum_{\mathrm{x}_{i}}\sum_{\mathrm{x}_{j}\in\mathcal{N}(\mathrm{x}_{i})}\omega\left(\mathrm{x}_{i},\mathrm{x}_{j}\right)\psi_{\mathrm{reg}}\left\Vert\mathrm{T}_{i}\mathrm{x}_{i}-\mathrm{T}_{j}\mathrm{x}_{i}\right\Vert_{2}^{2},$</p></li></ul><p>å…¶ä¸­$x_ğ‘–ï¼Œx_ğ‘—$æ˜¯å…±äº«EDå›¾ğºä¸Šè¾¹çš„EDèŠ‚ç‚¹ã€‚$ğœ” (x_ğ‘–ï¼Œx_ğ‘—)$å®šä¹‰äº†è¾¹çš„æƒé‡ã€‚$T_ğ‘–ï¼ŒT_ğ‘—$æ˜¯EDèŠ‚ç‚¹çš„å˜æ¢ã€‚$ğœ“_ğ‘Ÿğ‘’ğ‘”$æ˜¯ä¿æŒä¸è¿ç»­æ€§çš„Huberæƒ©ç½šé¡¹ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡GPUä¸Šçš„Gauss-Newtonæ±‚è§£å™¨æ¥è§£å†³éçº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜ã€‚æ›´å¤šç»†èŠ‚è¯·å‚è€ƒ[Newcombe et al. 2015; Yu et al. 2019]ã€‚</p><h3 id="è¿½è¸ªç»†åŒ–é˜¶æ®µ"><a href="#è¿½è¸ªç»†åŒ–é˜¶æ®µ" class="headerlink" title="è¿½è¸ªç»†åŒ–é˜¶æ®µ"></a>è¿½è¸ªç»†åŒ–é˜¶æ®µ</h3><p>Tracking Refinement Stage</p><p>æˆ‘ä»¬çš„æ˜¾å¼ç²—ç³™éåˆšæ€§è·Ÿè¸ªé˜¶æ®µåœ¨å¤æ‚è¿åŠ¨æ–¹é¢å…·æœ‰è¡¨ç°åŠ›å¼ºçš„è¡¨ç¤ºèƒ½åŠ›ï¼Œä½†ä»ç„¶å—åˆ°è‡ªç”±åº¦çš„é™åˆ¶ã€‚å› æ­¤ï¼Œåœ¨ç»†åŒ–é˜¶æ®µï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§ç§°ä¸ºå˜å½¢ç½‘ç»œçš„ç¥ç»æ–¹æ¡ˆï¼Œä¸ºå‡ ä½•è·Ÿè¸ªæä¾›æ›´å¤šçš„è‡ªç”±åº¦ï¼Œçº æ­£ä¸å¯¹é½é—®é¢˜å¹¶ä¿ç•™ç»†ç²’åº¦çš„å‡ ä½•ç»†èŠ‚ï¼Œè¿™æ˜¯å¯¹ç°æœ‰å·¥ä½œçš„é‡å¤§è¿›å±•[Newcombeç­‰äººï¼Œ2015å¹´ï¼›Slavchevaç­‰äººï¼Œ2017å¹´ï¼›Xuç­‰äººï¼Œ2019å¹´bï¼›Yuç­‰äººï¼Œ2018å¹´]ã€‚<br>æˆ‘ä»¬é‡‡å–ä¸¤ä¸ªæ­¥éª¤æ¥å®ç°è¿™ä¸ªç›®æ ‡:</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ©ç”¨åŸå§‹çš„Instant-NGP [MuÌˆllerç­‰äººï¼Œ2022å¹´]ä»¥å¿«é€Ÿæ–¹å¼åœ¨è§„èŒƒç©ºé—´ä¸­è·å¾—è¾å°„åœº$ğœ™^{ğ‘œ}ï¼š(c, ğœ) = ğœ™^ğ‘œ(p, d)$ï¼Œå…¶ä¸­cè¡¨ç¤ºé¢œè‰²åœºï¼Œğœè¡¨ç¤ºå¯†åº¦åœºï¼Œpæ˜¯è§„èŒƒç©ºé—´ä¸­çš„ç‚¹ï¼Œdæ˜¯å°„çº¿æ–¹å‘ã€‚åœ¨è·å¾—è¿™ä¸ªè¾å°„åœºä¹‹åï¼Œæˆ‘ä»¬å†»ç»“æ¨¡å‹å‚æ•°ã€‚</li><li>å…¶æ¬¡ï¼Œæˆ‘ä»¬è®­ç»ƒä¸€ä¸ªå˜å½¢ç½‘ç»œ$ğœ™^ğ‘‘$æ¥é¢„æµ‹æ¯å¸§çš„å˜å½¢ä½ç§»ï¼Œå¹¶è¿›ä¸€æ­¥å¾®è°ƒå¸§çš„è¿åŠ¨ğ»ã€‚ç¬¬äºŒæ­¥çš„æ ¸å¿ƒæ˜¯å»ºç«‹ç²—ç³™è¿åŠ¨ä¼°è®¡å’Œå…‰åº¦æŸå¤±æ–¹æ¡ˆä¹‹é—´çš„è”ç³»ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¾“å…¥å›¾åƒåœ¨ç«¯åˆ°ç«¯ç›‘ç£ä¸­ä¼˜åŒ–å˜å½¢ä½ç§»ã€‚æˆ‘ä»¬å¼•å…¥äº†å¯å¾®åˆ†çš„ä½“æ¸²æŸ“ç®¡çº¿ï¼Œä¸è·Ÿè¸ªçš„EDèŠ‚ç‚¹åˆä½œå®ç°ç›‘ç£ã€‚</li></ul><p>ç”±äºå­˜åœ¨ç²—ç³™çš„è¿åŠ¨ğ»ï¼Œæˆ‘ä»¬å°†è§„èŒƒå¸§ä¸­çš„EDèŠ‚ç‚¹è½¬æ¢ä¸ºå½“å‰å¸§ï¼Œå¹¶æ²¿ç€ç›®æ ‡è§†å›¾çš„åƒç´ å°„çº¿é‡‡æ ·ç‚¹ã€‚å¯¹äºæ¯ä¸ªæ ·æœ¬ç‚¹pï¼Œæˆ‘ä»¬æ‰¾åˆ°å…¶ğ‘˜ä¸ªæœ€è¿‘çš„EDèŠ‚ç‚¹ï¼Œå¹¶æ’å€¼å®ƒä»¬çš„åå˜å½¢ä»¥å›åˆ°è§„èŒƒç©ºé—´ã€‚è§„èŒƒç©ºé—´ä¸­çš„å˜å½¢ç‚¹è¡¨ç¤ºä¸ºpâ€™ã€‚æˆ‘ä»¬å°†pâ€™å’Œå½“å‰å¸§çš„æ—¶é—´æˆ³ğ‘¡ä½œä¸ºå˜å½¢ç½‘ç»œ$ğœ™^ğ‘‘$çš„è¾“å…¥ã€‚ç½‘ç»œ$ğœ™^ğ‘‘$å°†é¢„æµ‹ä½ç§»Î”pâ€™ã€‚æˆ‘ä»¬é‡‡ç”¨å“ˆå¸Œç¼–ç æ–¹æ¡ˆ[MÃ¼llerç­‰äººï¼Œ2022å¹´]å¯¹$ğœ™^ğ‘‘$è¿›è¡Œç¼–ç ï¼Œä»¥ä½¿å…¶è®­ç»ƒå’Œæ¨ç†é«˜æ•ˆã€‚æ ·æœ¬ç‚¹pçš„å¯†åº¦å’Œé¢œè‰²çš„è®¡ç®—å¦‚ä¸‹ï¼š<br>$\mathrm{(c,\sigma)=\phi^{o}(pâ€™+\phi^{d}(pâ€™,t),d).}$</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706200640.png" alt="image.png"></p><h3 id="åŠ¨ç”»ç½‘æ ¼ç”Ÿæˆ"><a href="#åŠ¨ç”»ç½‘æ ¼ç”Ÿæˆ" class="headerlink" title="åŠ¨ç”»ç½‘æ ¼ç”Ÿæˆ"></a>åŠ¨ç”»ç½‘æ ¼ç”Ÿæˆ</h3><p>Animation Mesh Generation</p><p>ä½¿ç”¨å˜å½¢ç½‘ç»œå¯ä»¥ä¸ºæˆ‘ä»¬æä¾›ä»å½“å‰å¸§åˆ°è§„èŒƒå¸§çš„æ›´å¥½å¯¹åº”å…³ç³»ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç»†ç²’åº¦çš„å¯¹åº”å…³ç³»ä½œä¸ºéåˆšæ€§è·Ÿè¸ªç®—æ³•ä¸­æ›´å¥½çš„å…ˆéªŒä¿¡æ¯ï¼Œé‡æ–°ä¼˜åŒ–è¿åŠ¨ä¸ºğ» â€²ã€‚ä¸ºäº†ç”Ÿæˆå½“å‰å¸§çš„åŠ¨ç”»ç½‘æ ¼ï¼Œæˆ‘ä»¬åªéœ€è¦å°†ğ» â€² åº”ç”¨äºè§„èŒƒç½‘æ ¼çš„é¡¶ç‚¹ï¼Œå¹¶ä¿æŒæ‹“æ‰‘å…³ç³»ä¸å˜ã€‚<br>å¦‚å›¾6æ‰€ç¤ºï¼Œæˆ‘ä»¬åˆ©ç”¨ç²¾ç»†çš„å˜å½¢åœºå‚æ•°æ¥è·Ÿè¸ªå’Œè·å–å®æ—¶å¸§çš„åŠ¨ç”»ç½‘æ ¼ã€‚ä¸ä¿å­˜åŸå§‹ç½‘æ ¼åºåˆ—å’Œç½‘ç»œå‚æ•°ä¸åŒï¼Œæˆ‘ä»¬åªéœ€è¦ä¿å­˜è§„èŒƒç½‘æ ¼å’Œè¿åŠ¨åœºï¼Œä»¥æ”¯æŒå›æ”¾ã€å®æ—¶æ¸²æŸ“å’Œç¼–è¾‘ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706201011.png" alt="image.png"></p><h2 id="æ¸²æŸ“"><a href="#æ¸²æŸ“" class="headerlink" title="æ¸²æŸ“"></a>æ¸²æŸ“</h2><p>RENDERING</p><p>ç¥ç»åŠ¨ç”»ç½‘æ ¼é‡å»ºæä¾›å‡†ç¡®çš„å‡ ä½•ä¿¡æ¯ï¼Œèƒ½å¤Ÿä¸ºå„ç§æ¸²æŸ“æ–¹æ³•ï¼ˆå¦‚çº¹ç†ç½‘æ ¼æ¸²æŸ“å’ŒåŸºäºå›¾åƒçš„æ¸²æŸ“ï¼‰æä¾›é«˜è´¨é‡çš„æ¸²æŸ“æ•ˆæœã€‚è¿™äº›æ–¹æ³•å¯ä»¥åŸºäºæˆ‘ä»¬çš„ç¥ç»åŠ¨ç”»ç½‘æ ¼åœ¨æ–°è§†è§’ä¸‹äº§ç”Ÿé€¼çœŸçš„å›¾åƒè´¨é‡ï¼Œä½†æ˜¯è¦ä¹ˆç¼ºä¹è§†è§’ç›¸å…³çš„æ•ˆæœï¼Œè¦ä¹ˆéœ€è¦å¤§é‡çš„å‚è€ƒè§†è§’å­˜å‚¨ç©ºé—´ã€‚<br>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç»“åˆäº†<strong>æ˜¾å¼äºŒç»´çº¹ç†æ˜ å°„å’Œéšå¼ç¥ç»çº¹ç†æ··åˆ</strong>çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•èƒ½å¤Ÿæµå¼ä¼ è¾“å¹¶ä¿æŒé«˜æ¸²æŸ“è´¨é‡ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬çš„æ–¹æ³•é€šè¿‡é™ä½4Dè§†é¢‘åºåˆ—çš„æ¯”ç‰¹ç‡æ¥å®ç°æµå¼åº”ç”¨ï¼Œå¹¶æ—¨åœ¨å…·æœ‰æ›´ä½çš„å­˜å‚¨éœ€æ±‚ã€‚</p><h3 id="å¤–è§‚è’¸é¦"><a href="#å¤–è§‚è’¸é¦" class="headerlink" title="å¤–è§‚è’¸é¦"></a>å¤–è§‚è’¸é¦</h3><p>Appearance Distillation</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706192541.png" alt="image.png"></p><p>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç¥ç»åŠ¨ç”»ç½‘æ ¼å¯ä»¥å‡å°‘å‡ ä½•å­˜å‚¨ç©ºé—´ï¼Œä½†æˆ‘ä»¬ä»ç„¶æœ‰æ•°åä¸ªå‚è€ƒè§†å›¾ï¼Œå…¶è§†é¢‘éœ€è¦å­˜å‚¨ç©ºé—´ã€‚å…³é”®çš„æƒ³æ³•æ˜¯å°†æ‰€æœ‰å‚è€ƒè§†å›¾çš„å¤–è§‚ä¿¡æ¯æµ“ç¼©åˆ°æ›´å°‘çš„å›¾åƒä¸­ã€‚æˆ‘ä»¬é€šè¿‡åŸºäºå›¾åƒçš„æ¸²æŸ“æ¥å®ç°è¿™ä¸ªç›®æ ‡ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬é¢„å…ˆå®šä¹‰äº†å…­ä¸ªè™šæ‹Ÿè§†ç‚¹ï¼Œå‡åŒ€åœ°å›´ç»•å¹¶æœå‘ä¸­å¿ƒçš„è¡¨æ¼”è€…ã€‚è¿™äº›è§†å›¾å…·æœ‰è¶³å¤Ÿçš„è§†åœºè§’ï¼Œä»¥ä¾¿åœ¨å›¾ä¸­æ˜¾ç¤ºçš„è§†å›¾ä¸­å¯ä»¥çœ‹åˆ°æ•´ä¸ªè¡¨æ¼”è€…ï¼Œå¦‚å›¾8æ‰€ç¤ºã€‚æˆ‘ä»¬ä½¿ç”¨æ— ç»“æ„å…‰å›¾æ³•[Gortler et al. 1996]æ¥åˆæˆè¿™äº›è§†å›¾å›¾åƒï¼Œè¯¥æ–¹æ³•æ ¹æ®ç»™å®šçš„å‡ ä½•è®¡ç®—ç›¸é‚»å‚è€ƒè§†å›¾çš„åƒç´ æ··åˆã€‚åˆæˆçš„è§†å›¾é€šè¿‡ä»ä¸åŒçš„èº«ä½“éƒ¨ä½å’Œå…¶ä»–è§†å›¾æ··åˆåƒç´ æ¥ç¼–ç åŸå§‹å‚è€ƒè§†å›¾çš„å¤–è§‚ä¿¡æ¯ã€‚ä»¥è¿™ç§æ–¹å¼éœ€è¦å­˜å‚¨çš„è§†å›¾æ•°é‡å‡å°‘åˆ°å…­ä¸ªã€‚ç„¶è€Œï¼Œè¿™ç§å‡å°‘ä¼šå¯¼è‡´ä¿¡æ¯ä¸¢å¤±ï¼Œä»è€Œé™ä½è’¸é¦è¿‡ç¨‹ä¸­ç»“æœçš„è´¨é‡ã€‚<strong>å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¥ç»ç½‘ç»œéƒ¨ç½²äº†ä¸€ç§ç¥ç»æ··åˆæ–¹æ³•æ¥è¡¥å¿ä¿¡æ¯æŸå¤±</strong>ã€‚</p><h3 id="ç¥ç»æ··åˆ"><a href="#ç¥ç»æ··åˆ" class="headerlink" title="ç¥ç»æ··åˆ"></a>ç¥ç»æ··åˆ</h3><p>Neural Blending</p><p>æˆ‘ä»¬å¼•å…¥äº†ä¸€ç§ç¥ç»æ··åˆæ–¹æ¡ˆï¼Œå¯ä»¥å°†ç›¸é‚»è™šæ‹Ÿè§†å›¾ä¸­çš„ç»†ç²’åº¦çº¹ç†ç»†èŠ‚æ··åˆåˆ°æ–°è§†å›¾ä¸­ã€‚ä¸[Suoç­‰äººï¼Œ2021]ç±»ä¼¼ï¼Œç¥ç»æ··åˆçš„è¾“å…¥ä¸ä»…åŒ…æ‹¬ç›®æ ‡ç›¸æœºçš„ä¸¤ä¸ªç›¸é‚»è§†å›¾ï¼Œè¿˜åŒ…æ‹¬å®ƒä»¬çš„æ·±åº¦å›¾ä»¥å®ç°é®æŒ¡æ„ŸçŸ¥ã€‚ç„¶è€Œï¼Œç”±äºè§†å›¾ç¨€ç–æ€§ï¼Œä¸€äº›è‡ªé®æŒ¡éƒ¨åˆ†å¯èƒ½æ— æ³•é€šè¿‡ä»»ä½•ç›¸é‚»çš„è™šæ‹Ÿè§†å›¾è§‚å¯Ÿåˆ°ã€‚ä¸ºäº†å¡«è¡¥æ–°è§†å›¾ä¸­çš„è¿™ç§åŒºåŸŸï¼Œæˆ‘ä»¬è¿˜é‡‡ç”¨äº†çº¹ç†åŠ¨ç”»ç½‘æ ¼æ¸²æŸ“ç»“æœä½œä¸ºæ··åˆç»„ä»¶çš„ä¸€éƒ¨åˆ†ã€‚å›¾9å±•ç¤ºäº†æˆ‘ä»¬æ··åˆæ¨¡å—çš„æµç¨‹ã€‚<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706192853.png" alt="image.png"></p><ul><li><p>é®æŒ¡æ„ŸçŸ¥ï¼šç›®æ ‡è§†å›¾ä¸­çš„å¤§éƒ¨åˆ†å¤–è§‚ä¿¡æ¯å¯ä»¥é€šè¿‡å…¶ä¸¤ä¸ªç›¸é‚»çš„è™šæ‹Ÿè§†å›¾è§‚å¯Ÿåˆ°ï¼Œç”±äºè‡ªé®æŒ¡è€Œå¯¼è‡´çš„ç¼ºå¤±éƒ¨åˆ†å¯ä»¥åœ¨æˆ‘ä»¬çš„ç¨€ç–è§†å›¾é‡æ–°æ¸²æŸ“è®¾ç½®ä¸­ä½¿ç”¨2Dçº¹ç†å›¾è¿›è¡Œæ¢å¤ã€‚åŸºäºè¿™ä¸ªå‡è®¾ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ··åˆæ–¹æ³•ï¼Œé€šè¿‡ä½¿ç”¨é€‰å®šçš„è§†å›¾é€šè¿‡æ··åˆç½‘ç»œé‡æ–°æ¸²æŸ“åŠ¨ç”»ç½‘æ ¼ã€‚ç»™å®šå›´ç»•è¡¨æ¼”è€…çš„ğ‘˜ä¸ªè¾“å…¥å›¾åƒï¼Œæˆ‘ä»¬é¦–å…ˆç”Ÿæˆç›®æ ‡è§†å›¾çš„æ·±åº¦å›¾($ğ·ğ‘Ÿ_ğ‘¡$ )ã€ä¸¤ä¸ªè¾“å…¥è§†å›¾çš„æ·±åº¦å›¾($ğ·ğ‘Ÿ_{1}$å’Œ$ğ·ğ‘Ÿ_{2}$)ï¼Œä»¥åŠç›®æ ‡è§†å›¾ä¸­çš„ç²—ç³™æ¸²æŸ“å›¾åƒ$ğ¼_{ğ‘Ÿ}$ï¼Œå…¶ä¸­ä½¿ç”¨äº†ç¬¬4èŠ‚ä¸­æè¿°çš„çº¹ç†ç½‘æ ¼ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨$ğ·ğ‘Ÿ_{ğ‘¡}$å°†è¾“å…¥å›¾åƒ$ğ¼_1$å’Œ$ğ¼_2$å˜å½¢åˆ°ç›®æ ‡è§†å›¾ï¼Œè¡¨ç¤ºä¸º$ğ¼_{1,ğ‘¡}å’Œğ¼_{2,ğ‘¡}$ã€‚æˆ‘ä»¬è¿˜å°†æºè§†å›¾çš„æ·±åº¦å›¾å˜å½¢åˆ°ç›®æ ‡è§†å›¾ï¼Œå¹¶è·å¾—$ğ·ğ‘Ÿ_{1,ğ‘¡}$å’Œ$ğ·ğ‘Ÿ_{2,ğ‘¡}$ï¼Œä»¥è·å¾—é®æŒ¡å›¾$ğ‘‚_{ğ‘–} = ğ·ğ‘Ÿ_{ğ‘¡} âˆ’ ğ·ğ‘Ÿ_{ğ‘–,ğ‘¡} (ğ‘– = 1, 2)$ï¼Œå®ƒè¡¨ç¤ºäº†é®æŒ¡ä¿¡æ¯ã€‚</p></li><li><p>æ··åˆç½‘ç»œï¼šç”±äºè‡ªé®æŒ¡å’Œå‡ ä½•ä»£ç†ä¸å‡†ç¡®ï¼Œ$ğ¼_{1,ğ‘¡}$å’Œ$ğ¼_{2,ğ‘¡}$å¯èƒ½ä¸æ­£ç¡®ã€‚ä»…ä½¿ç”¨äºŒç»´çº¹ç†è¿›è¡Œæ··åˆä¼šäº§ç”Ÿæ˜æ˜¾çš„ä¼ªå½±ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæ··åˆç½‘ç»œ $ğ‘ˆ_{ğ‘}$ï¼Œè¯¥ç½‘ç»œåˆ©ç”¨äº†å¤šè§†å›¾ç¯å¢ƒä¸­çš„å›ºæœ‰å…¨å±€ä¿¡æ¯ï¼Œå¹¶åˆ©ç”¨åƒç´ çº§çš„æ··åˆåœ°å›¾ ğ‘Š èåˆäº†ç›¸é‚»è¾“å…¥è§†å›¾çš„å±€éƒ¨ç²¾ç»†å‡ ä½•å’Œçº¹ç†ä¿¡æ¯ï¼Œå…¶å¯è¡¨ç¤ºä¸ºï¼š$W=U_{\boldsymbol{b}}(I_{1,\boldsymbol{t}},O_1,I_{2,\boldsymbol{t}},O_2).$</p><ul><li>$ğ‘ˆ_{ğ‘}$çš„ç½‘ç»œç»“æ„ç±»ä¼¼äºU-Netï¼Œç½‘ç»œè¾“å‡ºä¸¤ä¸ªé€šé“çš„ç‰¹å¾å›¾ğ‘Š = (ğ‘Š1, ğ‘Š2)ï¼Œåˆ†åˆ«è¡¨ç¤ºæ‰­æ›²å›¾åƒçš„æ··åˆæƒé‡ã€‚</li></ul></li></ul><p>ä¸ºäº†å®æ—¶æ€§èƒ½ï¼Œæ·±åº¦å›¾åœ¨ä½åˆ†è¾¨ç‡ï¼ˆ512 Ã— 512ï¼‰ä¸Šç”Ÿæˆã€‚ä¸ºäº†å®ç°é€¼çœŸçš„æ¸²æŸ“ï¼Œæˆ‘ä»¬éœ€è¦å°†æ·±åº¦å›¾å’Œæ··åˆå›¾éƒ½ä¸Šé‡‡æ ·åˆ°2Kåˆ†è¾¨ç‡ã€‚<br>ç„¶è€Œï¼Œç®€å•çš„ä¸Šé‡‡æ ·ä¼šå¯¼è‡´è¾¹ç•Œé™„è¿‘çš„ä¸¥é‡é”¯é½¿æ•ˆåº”ï¼Œè¿™æ˜¯ç”±äºæ·±åº¦æ¨æ–­æ¨¡ç³Šæ€§é€ æˆçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§è¾¹ç•Œæ„ŸçŸ¥æ–¹æ¡ˆï¼Œä»¥æ”¹è¿›æ·±åº¦å›¾ä¸Šçš„äººä½“è¾¹ç•ŒåŒºåŸŸã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬ä½¿ç”¨åŒçº¿æ€§æ’å€¼æ¥ä¸Šé‡‡æ ·$ğ·r_{ğ‘¡}$ã€‚ç„¶åï¼Œåº”ç”¨è…èš€æ“ä½œæ¥æå–è¾¹ç•ŒåŒºåŸŸã€‚è¾¹ç•ŒåŒºåŸŸå†…çš„æ·±åº¦å€¼é€šè¿‡ä½¿ç”¨ç¬¬4èŠ‚ä¸­æè¿°çš„æµç¨‹é‡æ–°è®¡ç®—ï¼Œå¹¶å½¢æˆ2Kåˆ†è¾¨ç‡çš„$\hat ğ·ğ‘Ÿ_{ğ‘¡}$ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨$\hat ğ·ğ‘Ÿ_{ğ‘¡}$å°†åŸå§‹é«˜åˆ†è¾¨ç‡è¾“å…¥å›¾åƒå˜å½¢ä¸ºç›®æ ‡è§†å›¾ï¼Œå¾—åˆ°$\hat ğ¼_{ğ‘–,ğ‘¡}$ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„çº¹ç†èåˆç»“æœå¯ä»¥è¡¨ç¤ºä¸ºï¼š<br>$I=\hat{W}_1\cdot\hat{I}_{1,t}+\hat{W}_2\cdot\hat{I}_{2,t}+(1-\hat{W}_2-\hat{W}_2)\cdot I_r,$<br>å…¶ä¸­ $\hat ğ‘Š$ æ˜¯é€šè¿‡åŒçº¿æ€§æ’å€¼ç›´æ¥ä¸Šé‡‡æ ·çš„é«˜åˆ†è¾¨ç‡æ··åˆå›¾ï¼›$ğ¼_{r}$æ˜¯å¯¹åº”çº¹ç†åŠ¨ç”»ç½‘æ ¼çš„å›¾åƒã€‚æˆ‘ä»¬ä½¿ç”¨ Twindom [twindom [n. d.]] æ•°æ®é›†ç”Ÿæˆè®­ç»ƒæ ·æœ¬ã€‚åˆæˆè®­ç»ƒæ•°æ®åŒ…å« 1,500 ä¸ªå¸¦çº¹ç†çš„äººä½“æ¨¡å‹ï¼Œå¹¶åœ¨æ¯ä¸ªæ¨¡å‹å‘¨å›´æ¸²æŸ“ 360 ä¸ªæ–°è§†è§’å’Œæ·±åº¦å›¾ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éšæœºé€‰æ‹©å…­ä¸ªè§†è§’ï¼Œå…¶ç›¸å¯¹å§¿æ€æ»¡è¶³é¢„å®šä¹‰çš„å…³ç³»ä½œä¸ºå‚è€ƒè§†è§’ï¼Œè€Œå…¶ä»–è§†è§’åˆ™æ˜¯ç›®æ ‡è§†è§’çš„çœŸå®å€¼ã€‚æˆ‘ä»¬é€šè¿‡å‡æ–¹è¯¯å·®æŸå¤±å‡½æ•°å°†æ··åˆå›¾åƒ ğ¼ å’Œå¯¹åº”çš„çœŸå®å›¾åƒ ğ¼ â€² è¿›è¡Œæ¯”å¯¹ï¼Œä»¥ç›‘ç£ç½‘ç»œè®­ç»ƒã€‚</p><h2 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h2><p>Implementation Details and Running-time analysis</p><p>æ•´ä¸ªç³»ç»Ÿè¿è¡Œåœ¨å•ä¸ªRTX3090ä¸Š</p><h3 id="å„é˜¶æ®µèŠ±è´¹æ—¶é—´"><a href="#å„é˜¶æ®µèŠ±è´¹æ—¶é—´" class="headerlink" title="å„é˜¶æ®µèŠ±è´¹æ—¶é—´"></a>å„é˜¶æ®µèŠ±è´¹æ—¶é—´</h3><div class="table-container"><table><thead><tr><th>Stage</th><th>Action</th><th>Avg Time</th></tr></thead><tbody><tr><td>Preprocessing</td><td>background matting</td><td>âˆ¼ 1 min</td></tr><tr><td>Neural Surface</td><td>fast surface reconstruction</td><td>âˆ¼ 10 mins</td></tr><tr><td>Neural Tracking</td><td>coarse tracking</td><td>âˆ¼ 57 ms</td></tr><tr><td></td><td>neural deformation</td><td>âˆ¼ 2 mins</td></tr><tr><td>Neural Rendering</td><td>2D texture generation</td><td>âˆ¼ 30s</td></tr><tr><td></td><td>sparse view generation</td><td>âˆ¼ 2s</td></tr><tr><td></td><td>neural texture blending</td><td>âˆ¼ 25ms</td></tr></tbody></table></div><h3 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h3><p>å¯¹äºæ¯æ¬¡è¡¨æ¼”ï¼Œæˆ‘ä»¬æä¾›äº†80ä¸ªé¢„å…ˆæ ¡å‡†å’ŒåŒæ­¥çš„RGBæ‘„åƒæœºä»¥2048 Ã— 1536åˆ†è¾¨ç‡å’Œ25-30å¸§/ç§’æ•è·çš„è§†é¢‘åºåˆ—ï¼Œæ‘„åƒæœºåœ¨è¡¨æ¼”è€…å‘¨å›´ä»¥4ä¸ªä¸åŒçº¬åº¦çš„åœ†åœˆå‡åŒ€å¸ƒç½®ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨ç°æˆçš„èƒŒæ™¯æŠ å›¾æ–¹æ³•æä¾›åŠ¨æ€æ€§èƒ½çš„å‰æ™¯åˆ†å‰²</p><h3 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h3><ul><li>æ¸²æŸ“æ•ˆæœæ¯”è¾ƒ<ul><li>å•†ä¸šè½¯ä»¶Agisoft PhotoScan</li><li>NeuralHumanFVV</li><li>åŸºäºç¥ç»å›¾åƒçš„æ¸²æŸ“æ–¹æ³•IBRNet</li><li>åŠ¨æ€ç¥ç»è¾å°„åœºST-NeRF</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706202348.png" alt="image.png"></p><ul><li>å®šé‡æ¯”è¾ƒï¼Œæˆ‘ä»¬é‡‡ç”¨å³°å€¼ä¿¡å™ªæ¯”(PSNR)ã€ç»“æ„ç›¸ä¼¼æŒ‡æ•°(SSIM)ã€å¹³å‡ç»å¯¹è¯¯å·®(MAE)å’Œå­¦ä¹ æ„ŸçŸ¥å›¾åƒæ–‘å—ç›¸ä¼¼åº¦(LPIPS)</li><li>å‡ ä½•æ¯”è¾ƒ</li></ul><h3 id="æ¶ˆèç ”ç©¶"><a href="#æ¶ˆèç ”ç©¶" class="headerlink" title="æ¶ˆèç ”ç©¶"></a>æ¶ˆèç ”ç©¶</h3><h3 id="æ²‰æµ¸ä½“éªŒ"><a href="#æ²‰æµ¸ä½“éªŒ" class="headerlink" title="æ²‰æµ¸ä½“éªŒ"></a>æ²‰æµ¸ä½“éªŒ</h3><h3 id="Limitations-and-Discussion"><a href="#Limitations-and-Discussion" class="headerlink" title="Limitations and Discussion"></a>Limitations and Discussion</h3><p>ä½œä¸ºå‡çº§åŸºäºç½‘æ ¼çš„å·¥ä½œæµç¨‹çš„è¯•éªŒï¼Œæˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿç”Ÿæˆä¸ç°æœ‰åæœŸåˆ¶ä½œå·¥å…·å…¼å®¹çš„åŠ¨æ€äººä½“èµ„äº§ï¼Œå¹¶ä¸ºå¯æµå¼æ²‰æµ¸å¼ä½“éªŒæä¾›ç…§ç‰‡çº§çœŸå®äººä½“å»ºæ¨¡å’Œæ¸²æŸ“ã€‚<br>å°½ç®¡å…·å¤‡è¿™äº›å¼•äººæ³¨ç›®çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬çš„æµç¨‹ä»ç„¶å­˜åœ¨ä¸€äº›é™åˆ¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æä¾›è¯¦ç»†åˆ†æå¹¶è®¨è®ºæ½œåœ¨çš„æœªæ¥æ‰©å±•ã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¾èµ–äºåŸºäºå›¾åƒçš„ç»¿å±åˆ†å‰²æ¥åˆ†ç¦»å‰æ™¯è¡¨æ¼”ï¼Œä½†æ— æ³•æä¾›è§†å›¾ä¸€è‡´çš„æŠ åƒç»“æœã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å®¹æ˜“å‡ºç°åˆ†å‰²é”™è¯¯ï¼Œä»ç„¶æ— æ³•æä¾›å…·æœ‰é€æ˜åº¦ç»†èŠ‚çš„é«˜è´¨é‡å¤´å‘æ¸²æŸ“ã€‚å—åˆ°æœ€è¿‘çš„å·¥ä½œ[Barronç­‰äººï¼Œ2022å¹´ï¼›Luoç­‰äººï¼Œ2022å¹´]çš„å¯å‘ï¼Œæˆ‘ä»¬è®¡åˆ’å°†èƒŒæ™¯å’Œé€æ˜åº¦å¤´å‘çš„æ˜¾å¼å»ºæ¨¡å¼•å…¥æˆ‘ä»¬çš„ç¥ç»æ¡†æ¶ä¸­ã€‚</li><li>æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ¸²æŸ“æµç¨‹ä¾èµ–äºåŠ¨ç”»ç½‘æ ¼ï¼Œå› æ­¤å—åˆ°è·Ÿè¸ªè´¨é‡çš„é™åˆ¶ã€‚å³ä½¿ä½¿ç”¨è™šæ‹Ÿè§†å›¾çš„ç¥ç»èåˆï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨å¤„ç†æå¿«é€Ÿè¿åŠ¨ã€ä¸¥é‡çš„æ‹“æ‰‘å˜åŒ–ï¼ˆå¦‚è„±è¡£æœï¼‰æˆ–å¤æ‚çš„äººç‰©-ç‰©ä½“äº¤äº’æ—¶ä»ç„¶å®¹æ˜“å‡ºç°æ¸²æŸ“ä¼ªå½±ã€‚è¿™ä»ç„¶æ˜¯ä¸€ä¸ªæ´»è·ƒç ”ç©¶é¢†åŸŸä¸­å°šæœªè§£å†³çš„é—®é¢˜ã€‚å¦‚è¡¨1æ‰€ç¤ºçš„è¿è¡Œæ—¶åˆ†æç»“æœï¼Œæˆ‘ä»¬çš„æµç¨‹ä»…æ”¯æŒå®æ—¶æ’­æ”¾ï¼Œä»æ— æ³•å®ç°å®æ—¶å³æ—¶å»ºæ¨¡å’Œæ¸²æŸ“ä»¥ç”¨äºå®æ—¶ç›´æ’­æµåª’ä½“ã€‚ç“¶é¢ˆåœ¨äºInstant-NSRçš„å˜å½¢ï¼Œå°¤å…¶æ˜¯éšå¼è¡¨é¢å­¦ä¹ ã€‚ä¸ºäº†åŠ é€Ÿï¼Œæˆ‘ä»¬æŒ‡å‡ºé‡‡ç”¨æœ‰é™å·®åˆ†è¿›è¡ŒåŸºäºCUDAçš„æ³•çº¿ä¼°è®¡ï¼Œä½†è¿™ç§è¿‘ä¼¼çš„æ³•çº¿ä¼šé™ä½è¡¨é¢ç»†èŠ‚ã€‚ä¸€ä¸ªæ›´å¿ å®çš„CUDAå®ç°éœ€è¦æ•°æœˆçš„å·¥ç¨‹å·¥ä½œï¼Œä»¥å¼„æ¸…æ¥šMLPå’Œå“ˆå¸Œç‰¹å¾çš„äºŒé˜¶æ¢¯åº¦çš„åå‘ä¼ æ’­ï¼Œè€Œè¿™åœ¨ç°æœ‰çš„CUDAåº“æˆ–ä»£ç åº“[MÃ¼llerï¼Œ2021å¹´ï¼›MÃ¼llerç­‰äººï¼Œ2022å¹´]ä¸­å¹¶æ²¡æœ‰å¾—åˆ°å……åˆ†æ”¯æŒã€‚ä¸ºäº†æ¨åŠ¨æœªæ¥æœç€è¿™ä¸ªæ–¹å‘çš„ç ”ç©¶å·¥ä½œï¼Œæˆ‘ä»¬å°†å…¬å¼€æˆ‘ä»¬çš„PyTorchå®ç°ã€‚</li></ul><p>å¯¹äºç®¡é“è®¾è®¡ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åˆ†åˆ«ä¿ƒè¿›äº†å„ç§ç¥ç»æŠ€æœ¯ç”¨äºäººä½“è¡¨æ¼”çš„é‡å»ºã€è¿½è¸ªå’Œæ¸²æŸ“ï¼Œä¸æœ€è¿‘çš„éšå¼NeRFç±»æ¡†æ¶ç›¸æ¯”[Tretschkç­‰äººï¼Œ2020ï¼›Zhangç­‰äººï¼Œ2021]ã€‚è¿›ä¸€æ­¥è®¾è®¡å’Œä¼ è¾“ç´§å‡‘çš„ç¥ç»è¡¨ç¤ºï¼Œå¹¶å°†å…¶è§£ç ä¸ºå‡ ä½•ã€åŠ¨ä½œæˆ–å¤–è§‚ï¼Œä»¥æ”¯æŒå„ç§ä¸‹æ¸¸åº”ç”¨ï¼Œè¿™æ˜¯å¾ˆæœ‰å‰æ™¯çš„ã€‚æˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬çš„æ–¹æ³•æ˜¯æœç€è¿™ä¸ªæœ€ç»ˆç›®æ ‡è¿ˆå‡ºçš„åšå®ä¸€æ­¥ï¼Œé€šè¿‡ä¸­é—´åˆ©ç”¨åŸºäºåŠ¨ç”»ç½‘æ ¼çš„å·¥ä½œæµç¨‹å¹¶å°†å…¶æ¨è¿›åˆ°ç¥ç»æ—¶ä»£ã€‚æ­¤å¤–ï¼Œç”±äºæˆ‘ä»¬çš„æ–¹æ³•èƒ½å¤Ÿé«˜æ•ˆåœ°ç”ŸæˆåŠ¨æ€äººä½“ç´ æï¼Œæˆ‘ä»¬è®¡åˆ’æ‰©å¤§æˆ‘ä»¬çš„ç©¹é¡¶çº§æ•°æ®é›†ï¼Œå¹¶æ¢ç´¢ç”Ÿæˆå¯åŠ¨ç”»çš„æ•°å­—äººç±»[Xiangç­‰äººï¼Œ2021]ã€‚å°†å…‰çº¿å’Œææ–™æ˜ç¡®åˆ†è§£åˆ°æˆ‘ä»¬çš„æ–¹æ³•ä¸­ä»¥å®ç°å¯é‡æ–°ç…§æ˜çš„äººä½“å»ºæ¨¡ä¹Ÿæ˜¯å¾ˆæœ‰è¶£çš„ã€‚</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>æˆ‘ä»¬æå‡ºäº†ä¸€ç§ç»¼åˆçš„ç¥ç»å»ºæ¨¡å’Œæ¸²æŸ“æ–¹æ³•ï¼Œç”¨äºä»å¯†é›†çš„å¤šè§†è§’RGBè¾“å…¥ä¸­é‡å»ºã€å‹ç¼©å’Œæ¸²æŸ“é«˜è´¨é‡çš„äººä½“è¡¨æ¼”ã€‚æˆ‘ä»¬çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†ä¼ ç»Ÿçš„åŠ¨ç”»ç½‘æ ¼å·¥ä½œæµæå‡åˆ°ç¥ç»æ—¶ä»£ï¼Œé‡‡ç”¨ä¸€ç±»é«˜æ•ˆçš„å…¨æ–°ç¥ç»æŠ€æœ¯ã€‚æˆ‘ä»¬çš„ç¥ç»è¡¨é¢é‡å»ºå™¨Instant-NSRé€šè¿‡å°†åŸºäºTSDFçš„ä½“ç§¯æ¸²æŸ“ä¸å“ˆå¸Œç¼–ç ç›¸ç»“åˆï¼Œèƒ½å¤Ÿåœ¨å‡ åˆ†é’Ÿå†…é«˜æ•ˆç”Ÿæˆé«˜è´¨é‡çš„è¡¨é¢ã€‚æˆ‘ä»¬çš„æ··åˆè¿½è¸ªå™¨ä»¥è‡ªç›‘ç£çš„æ–¹å¼å‹ç¼©å‡ ä½•ä¿¡æ¯å¹¶ç¼–ç æ—¶é—´ä¿¡æ¯ï¼Œç”ŸæˆåŠ¨ç”»ç½‘æ ¼ï¼Œæ”¯æŒä½¿ç”¨åŠ¨æ€çº¹ç†æˆ–å…‰ç…§å›¾è¿›è¡Œå„ç§å¸¸è§„åŸºäºç½‘æ ¼çš„æ¸²æŸ“ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥æå‡ºäº†ä¸€ç§åˆ†å±‚ç¥ç»æ¸²æŸ“æ–¹æ¡ˆï¼Œåœ¨è´¨é‡å’Œå¸¦å®½ä¹‹é—´å–å¾—äº†ç²¾ç»†çš„å¹³è¡¡ã€‚æˆ‘ä»¬å±•ç¤ºäº†æˆ‘ä»¬çš„æ–¹æ³•åœ¨å„ç§åŸºäºç½‘æ ¼çš„åº”ç”¨å’Œè™šæ‹Ÿå¢å¼ºç°å®ä¸­ä»¥4Däººä½“è¡¨æ¼”å›æ”¾çš„å½¢å¼çš„ç…§ç‰‡çº§æ²‰æµ¸å¼ä½“éªŒæ–¹é¢çš„èƒ½åŠ›ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ˜¯ä»æˆç†Ÿçš„åŸºäºç½‘æ ¼çš„å·¥ä½œæµå‘ç¥ç»äººä½“å»ºæ¨¡å’Œæ¸²æŸ“çš„å¼ºæœ‰åŠ›è¿‡æ¸¡ï¼Œå®ƒä¸ºå¿ å®è®°å½•äººç±»è¡¨æ¼”è¿ˆå‡ºäº†åšå®çš„ä¸€æ­¥ï¼Œå…·æœ‰ä¼—å¤šåœ¨å¨±ä¹ã€æ¸¸æˆå’Œè™šæ‹Ÿç°å®/å¢å¼ºç°å®ä»¥åŠå…ƒå®‡å®™ä¸­æ²‰æµ¸ä½“éªŒæ–¹é¢çš„æ½œåœ¨åº”ç”¨ã€‚</p><h2 id="ç»†èŠ‚"><a href="#ç»†èŠ‚" class="headerlink" title="ç»†èŠ‚"></a>ç»†èŠ‚</h2><h3 id="ç¥ç»ç½‘ç»œï¼š"><a href="#ç¥ç»ç½‘ç»œï¼š" class="headerlink" title="ç¥ç»ç½‘ç»œï¼š"></a>ç¥ç»ç½‘ç»œï¼š</h3><p>Instant-NSRç”±ä¸¤ä¸ªä¸²è”çš„MLPç»„æˆï¼š</p><ul><li>ä¸€ä¸ªå…·æœ‰2ä¸ªéšè—å±‚çš„SDF MLP $ğ‘š_{ğ‘ }$ï¼Œç”¨Softplusæ›¿æ¢äº†åŸå§‹çš„ReLUæ¿€æ´»å‡½æ•°ï¼Œå¹¶ä¸”å¯¹æ‰€æœ‰éšè—å±‚çš„æ¿€æ´»å‡½æ•°è®¾ç½®äº†ğ›½=100ï¼ŒSDF MLPä½¿ç”¨å“ˆå¸Œç¼–ç å‡½æ•°[MÃ¼llerç­‰äººï¼Œ2022]å°†3Dä½ç½®æ˜ å°„ä¸º32ä¸ªè¾“å‡ºå€¼ã€‚</li><li>ä¸€ä¸ªå…·æœ‰3ä¸ªéšè—å±‚çš„é¢œè‰²MLP $ğ‘š_{ğ‘}$</li><li>æ¯ä¸ªéšè—å±‚å®½åº¦ä¸º64ä¸ªç¥ç»å…ƒ</li></ul><p>$m_{s}$è®­ç»ƒSDFçš„ç½‘ç»œè¡¨ç¤ºä¸º:$(x,F_{geo})=m_{s}(p,F_{hash}).$</p><ul><li>input<ul><li>æ¯ä¸ªä¸‰ç»´é‡‡æ ·ç‚¹çš„3ä¸ªè¾“å…¥ç©ºé—´ä½ç½®å€¼</li><li>æ¥è‡ªå“ˆå¸Œç¼–ç ä½ç½®çš„32ä¸ªè¾“å‡ºå€¼</li></ul></li><li>output<ul><li>sdfå€¼ï¼Œç„¶åæˆ‘ä»¬å°†æˆªæ–­çš„å‡½æ•°åº”ç”¨äºè¾“å‡ºSDFå€¼ï¼Œè¯¥å€¼ä½¿ç”¨sigmoidæ¿€æ´»å°†å…¶æ˜ å°„åˆ°<code>[âˆ’1,1]</code>ã€‚</li><li>15ç»´çš„$F_{geo}$å€¼</li><li>å…±16ä¸ªè¾“å‡ºå€¼</li></ul></li></ul><p>$m_{c}$è®­ç»ƒé¢œè‰²çš„ç½‘ç»œè¡¨ç¤ºä¸ºï¼š$\hat{C}=m_{c}(\mathrm{p},\mathrm{n},\mathrm{v},F_{geo}).$</p><ul><li>input<ul><li>æ¯ä¸ªä¸‰ç»´é‡‡æ ·ç‚¹çš„3ä¸ªè¾“å…¥ç©ºé—´ä½ç½®å€¼</li><li>ç”¨æœ‰é™å·®åˆ†å‡½æ•°ä¼°è®¡SDFæ¢¯åº¦çš„3ä¸ªæ­£æ€å€¼</li><li>è§†è§’æ–¹å‘åœ¨çƒè°å‡½æ•°åŸºç¡€ä¸Šåˆ†è§£ä¸º4é˜¶åŠä»¥ä¸‹çš„å‰16ä¸ªç³»æ•°</li><li>SDF MLPçš„15ç»´çš„è¾“å‡ºå€¼$F_{geo}$</li></ul></li><li>output<ul><li>RGB: 3</li></ul></li></ul><p>ç”¨sigmoidæ¿€æ´»å°†è¾“å‡ºçš„RGBé¢œè‰²å€¼æ˜ å°„åˆ°[0,1]èŒƒå›´</p><h4 id="è®­ç»ƒç»†èŠ‚"><a href="#è®­ç»ƒç»†èŠ‚" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h4><p>æˆ‘ä»¬åœ¨è®ºæ–‡ä¸­è¯æ˜äº†æˆ‘ä»¬çº¦10åˆ†é’Ÿçš„è®­ç»ƒç»“æœä¸åŸå§‹NeuSçš„çº¦8å°æ—¶ä¼˜åŒ–ç»“æœæ˜¯å¯æ¯”è¾ƒçš„[Wang et al. 2021a]ã€‚åœ¨ä¼˜åŒ–é˜¶æ®µï¼Œæˆ‘ä»¬å‡è®¾æ„Ÿå…´è¶£çš„åŒºåŸŸæœ€åˆä½äºå•ä½çƒå†…ã€‚æˆ‘ä»¬åœ¨PyTorchå®ç°ä¸­é‡‡ç”¨äº†[Mildenhall et al. 2021]çš„åˆ†å±‚é‡‡æ ·ç­–ç•¥ï¼Œå…¶ä¸­ç²—é‡‡æ ·å’Œç»†é‡‡æ ·çš„æ•°é‡åˆ†åˆ«ä¸º64å’Œ64ã€‚æˆ‘ä»¬æ¯æ‰¹æ¬¡é‡‡æ ·4,096æ¡å…‰çº¿ï¼Œå¹¶ä½¿ç”¨å•ä¸ªNVIDIA RTX 3090 GPUè¿›è¡Œä¸ºæœŸ6,000æ¬¡è¿­ä»£çš„æ¨¡å‹è®­ç»ƒï¼Œè®­ç»ƒæ—¶é—´ä¸º12åˆ†é’Ÿã€‚ä¸ºäº†è¿‘ä¼¼æ¢¯åº¦ä»¥è¿›è¡Œé«˜æ•ˆçš„æ³•çº¿è®¡ç®—ï¼Œæˆ‘ä»¬é‡‡ç”¨æœ‰é™å·®åˆ†å‡½æ•°$ğ‘“ â€² (ğ‘¥) = (ğ‘“ (ğ‘¥ + Î”ğ‘¥) âˆ’ (ğ‘“ ğ‘¥ âˆ’ Î”ğ‘¥))/2Î”ğ‘¥$ï¼Œå¦‚ç¬¬3.2èŠ‚æ‰€è¿°ã€‚åœ¨æˆ‘ä»¬çš„PyTorchå®ç°ä¸­ï¼Œæˆ‘ä»¬å°†è¿‘ä¼¼æ­¥é•¿è®¾ç½®ä¸ºÎ”ğ‘¥ = 0.005ï¼Œå¹¶åœ¨è®­ç»ƒç»“æŸæ—¶å°†å…¶å‡å°åˆ°Î”ğ‘¥ = 0.0005ã€‚æˆ‘ä»¬é€šè¿‡æœ€å°åŒ–HuberæŸå¤±Lğ‘ğ‘œğ‘™ğ‘œğ‘Ÿå’ŒEikonalæŸå¤±Lğ‘’ğ‘–ğ‘˜æ¥ä¼˜åŒ–æˆ‘ä»¬çš„æ¨¡å‹ã€‚è¿™ä¸¤ä¸ªæŸå¤±ä½¿ç”¨ç»éªŒç³»æ•°ğœ†è¿›è¡Œå¹³è¡¡ï¼Œåœ¨æˆ‘ä»¬çš„å®éªŒä¸­å°†å…¶è®¾ç½®ä¸º0.1ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é€‰æ‹©Adam [Diederik P Kingma et al.2014]ä¼˜åŒ–å™¨ï¼Œåˆå§‹å­¦ä¹ ç‡ä¸º1ğ‘’ âˆ’ 2ï¼Œå¹¶åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å°†å…¶é™ä½åˆ°1.6ğ‘’ âˆ’ 3ã€‚</p><h3 id="Neural-Tracking-Implementation-Details"><a href="#Neural-Tracking-Implementation-Details" class="headerlink" title="Neural Tracking Implementation Details"></a>Neural Tracking Implementation Details</h3><p>åœ¨ç¬¬4èŠ‚ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ç¥ç»è·Ÿè¸ªæµç¨‹ï¼Œå®ƒå°†ä¼ ç»Ÿçš„éåˆšæ€§è·Ÿè¸ªå’Œç¥ç»å˜å½¢ç½‘ç»œä»¥ä¸€ç§ç”±ç²—åˆ°ç²¾çš„æ–¹å¼ç»“åˆåœ¨ä¸€èµ·ã€‚æˆ‘ä»¬é€šè¿‡é«˜æ–¯-ç‰›é¡¿æ–¹æ³•è§£å†³éåˆšæ€§è·Ÿè¸ªé—®é¢˜ï¼Œå¹¶åœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­ä»‹ç»äº†è¯¦ç»†ä¿¡æ¯ã€‚<br>è·Ÿè¸ªç»†èŠ‚: åœ¨è¿›è¡Œéåˆšæ€§è·Ÿè¸ªä¹‹å‰ï¼Œæˆ‘ä»¬é€šè¿‡è®¡ç®—è§„èŒƒç½‘æ ¼ä¸Šçš„æµ‹åœ°è·ç¦»æ¥å¯¹EDèŠ‚ç‚¹è¿›è¡Œé‡‡æ ·ã€‚æˆ‘ä»¬è®¡ç®—å¹³å‡è¾¹é•¿ï¼Œå¹¶å°†å…¶ä¹˜ä»¥ä¸€ä¸ªåŠå¾„æ¯”ä¾‹ï¼Œç”¨äºæ§åˆ¶å‹ç¼©ç¨‹åº¦ï¼Œä»¥è·å¾—å½±å“åŠå¾„ğ‘Ÿã€‚é€šè¿‡æ‰€æœ‰çš„å®éªŒï¼Œæˆ‘ä»¬å‘ç°ç®€å•åœ°è°ƒæ•´ä¸º0.075ä¹Ÿå¯ä»¥å¾—åˆ°å¾ˆå¥½çš„ç»“æœã€‚ç»™å®šğ‘Ÿï¼Œæˆ‘ä»¬æŒ‰Yè½´å¯¹é¡¶ç‚¹è¿›è¡Œæ’åºï¼Œå¹¶åœ¨è·ç¦»ğ‘Ÿä¹‹å¤–æ—¶ä»ç°æœ‰EDèŠ‚ç‚¹é›†åˆä¸­é€‰æ‹©EDèŠ‚ç‚¹ã€‚æ­¤å¤–ï¼Œå½“EDèŠ‚ç‚¹å½±å“ç›¸åŒçš„é¡¶ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œç„¶åæå‰æ„å»ºEDå›¾ä»¥è¿›è¡Œåç»­ä¼˜åŒ–ã€‚</p><p>$\mathrm{(c,\sigma)=\phi^{o}(pâ€™+\phi^{d}(pâ€™,t),d).}$<br>ç½‘ç»œç»“æ„: æˆ‘ä»¬æ”¹è¿›é˜¶æ®µçš„å…³é”®åŒ…æ‹¬è§„èŒƒè¾å°„åœº$ğœ™^ğ‘œ$å’Œå˜å½¢ç½‘ç»œ$ğœ™^ğ‘‘$ã€‚</p><ul><li><p>$ğœ™^ğ‘œ$å…·æœ‰ä¸Instant-NGPç›¸åŒçš„ç½‘ç»œç»“æ„ï¼ŒåŒ…æ‹¬ä¸‰ç»´å“ˆå¸Œç¼–ç å’Œä¸¤ä¸ªä¸²è”çš„MLP: å¯†åº¦å’Œé¢œè‰²ã€‚</p><ul><li>ä¸‰ç»´åæ ‡é€šè¿‡å“ˆå¸Œç¼–ç æ˜ å°„ä¸º64ç»´ç‰¹å¾ï¼Œä½œä¸ºå¯†åº¦MLPçš„è¾“å…¥ã€‚ç„¶åï¼Œå¯†åº¦MLPå…·æœ‰2ä¸ªéšè—å±‚ï¼ˆæ¯ä¸ªéšè—å±‚æœ‰64ä¸ªéšè—ç»´åº¦ï¼‰ï¼Œå¹¶è¾“å‡º1ç»´å¯†åº¦å’Œ15ç»´å‡ ä½•ç‰¹å¾ã€‚</li><li>å‡ ä½•ç‰¹å¾ä¸æ–¹å‘ç¼–ç è¿æ¥åœ¨ä¸€èµ·ï¼Œå¹¶è¾“å…¥åˆ°å…·æœ‰3ä¸ªéšè—å±‚çš„é¢œè‰²MLPä¸­ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ¯ä¸ªåæ ‡ç‚¹çš„å¯†åº¦å€¼å’ŒRGBå€¼ã€‚</li></ul></li><li><p>$ğœ™^{ğ‘‘}$åŒ…æ‹¬å››ç»´å“ˆå¸Œç¼–ç å’Œå•ä¸ªMLPã€‚</p><ul><li>å››ç»´å“ˆå¸Œç¼–ç å…·æœ‰32ä¸ªå“ˆå¸Œè¡¨ï¼Œå°†è¾“å…¥ï¼ˆpâ€²ï¼Œğ‘¡ï¼‰æ˜ å°„åˆ°64ç»´ç‰¹å¾ã€‚é€šè¿‡æˆ‘ä»¬çš„2ä¸ªéšè—å±‚å˜å½¢MLPï¼ˆæ¯ä¸ªéšè—å±‚å…·æœ‰128ä¸ªéšè—ç»´åº¦ï¼‰ï¼Œæœ€ç»ˆå¯ä»¥å¾—åˆ°Î”pâ€²ã€‚</li></ul></li></ul><h4 id="è®­ç»ƒç»†èŠ‚-1"><a href="#è®­ç»ƒç»†èŠ‚-1" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h4><p>è®­ç»ƒç»†èŠ‚ã€‚æˆ‘ä»¬åˆ†åˆ«è®­ç»ƒ$ğœ™^ğ‘œ$å’Œ $ğœ™^{ğ‘‘}$ ã€‚æˆ‘ä»¬é¦–å…ˆåˆ©ç”¨å¤šè§†å›¾å›¾åƒæ¥è®­ç»ƒè§„èŒƒè¡¨ç¤º $ğœ™^ğ‘œ$ã€‚å½“ PSNR å€¼ç¨³å®šä¸‹æ¥ï¼ˆé€šå¸¸åœ¨100ä¸ªepochä¹‹åï¼‰ï¼Œæˆ‘ä»¬å†»ç»“ $ğœ™^ğ‘œ$ çš„å‚æ•°ã€‚ç„¶åï¼Œæˆ‘ä»¬è®­ç»ƒå˜å½¢ç½‘ç»œ $ğœ™^{ğ‘‘}$ æ¥é¢„æµ‹æ¯å¸§çš„å˜å½¢ä½ç§»ã€‚æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªPyTorch CUDAæ‰©å±•åº“æ¥å®ç°å¿«é€Ÿè®­ç»ƒã€‚æˆ‘ä»¬é¦–å…ˆå°†è§„èŒƒå¸§ä¸­çš„EDèŠ‚ç‚¹è½¬æ¢åˆ°å½“å‰å¸§ï¼Œç„¶åæ„å»ºä¸€ä¸ªKNNä½“ç´ ã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬çš„ä½“ç´ åˆ†è¾¨ç‡æ˜¯2563åˆ°5123ï¼Œå¹¶ä¸”å¯¹äºKNNä½“ç´ ä¸­çš„æ¯ä¸ªä½“ç´ ï¼Œæˆ‘ä»¬é€šè¿‡å †æŸ¥è¯¢4åˆ°12ä¸ªæœ€è¿‘é‚»çš„EDèŠ‚ç‚¹ã€‚åŸºäºKNNä½“ç´ ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€ŸæŸ¥è¯¢ä½“ç´ ä¸­çš„ä»»ä½•3Dç‚¹ï¼Œå¹¶è·å–é‚»å±…å’Œå¯¹åº”çš„è’™çš®æƒé‡ï¼Œä»¥é€šè¿‡éåˆšæ€§è·Ÿè¸ªè®¡ç®—åæ ‡ã€‚</p><h3 id="Neural-Blending-Implementation-Details"><a href="#Neural-Blending-Implementation-Details" class="headerlink" title="Neural Blending Implementation Details"></a>Neural Blending Implementation Details</h3><p>U-Net:<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706205127.png" alt="image.png"></p><h4 id="è®­ç»ƒç»†èŠ‚-2"><a href="#è®­ç»ƒç»†èŠ‚-2" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h4><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªç§°ä¸ºé®æŒ¡æ˜ å°„çš„æ–°ç»´åº¦ï¼Œå®ƒæ˜¯ä¸¤ä¸ªå˜å½¢æ·±åº¦å›¾ä¹‹é—´çš„å·®å¼‚è®¡ç®—å¾—å‡ºçš„ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†é®æŒ¡æ˜ å°„ï¼ˆ1ç»´ï¼‰å’Œä¸¤ä¸ªå˜å½¢çš„RGBDé€šé“ï¼ˆ4ç»´ï¼‰ä½œä¸ºç½‘ç»œè¾“å…¥ï¼Œè¿›ä¸€æ­¥å¸®åŠ©U-netç½‘ç»œä¼˜åŒ–æ··åˆæƒé‡ã€‚åœ¨ä¼ ç»Ÿçš„é€åƒç´ ç¥ç»çº¹ç†æ··åˆè¿‡ç¨‹ä¸­ï¼Œæ··åˆç»“æœä»…ä»ä¸¤ä¸ªå˜å½¢å›¾åƒç”Ÿæˆã€‚ç„¶è€Œï¼Œå¦‚æœç›®æ ‡è§†å›¾åœ¨ç›¸é‚»è™šæ‹Ÿè§†å›¾ä¸­éƒ½è¢«é®æŒ¡ï¼Œå°†å¯¼è‡´ä¸¥é‡çš„ä¼ªå½±é—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¹ç†æ¸²æŸ“ç»“æœä½œä¸ºé¢å¤–è¾“å…¥ï¼Œä»¥æ¢å¤ç”±äºé®æŒ¡è€Œä¸¢å¤±çš„éƒ¨åˆ†ã€‚ä¸ºäº†æœ‰æ•ˆåœ°æ¸²æŸ“ï¼Œæˆ‘ä»¬é¦–å…ˆå°†è¾“å…¥å›¾åƒé™é‡‡æ ·ä¸º512Ã—512ä½œä¸ºç½‘ç»œè¾“å…¥ï¼Œç„¶åé€šè¿‡åŒçº¿æ€§æ’å€¼ä¸Šé‡‡æ ·æƒé‡æ˜ å°„ä»¥ç”Ÿæˆæœ€ç»ˆçš„2Kå›¾åƒã€‚ä¸ºäº†é¿å…æ··åˆç½‘ç»œè¿‡åº¦æ‹Ÿåˆé¢å¤–çš„çº¹ç†æ¸²æŸ“è¾“å…¥ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åº”ç”¨é«˜æ–¯æ¨¡ç³Šæ“ä½œæ¥æ¨¡æ‹Ÿä½åˆ†è¾¨ç‡çš„çº¹ç†æ¸²æŸ“å›¾åƒã€‚è¿™ä¸ªæ“ä½œæœ‰åŠ©äºç½‘ç»œä¸“æ³¨äºé€‰å®šçš„ç›¸é‚»è§†å›¾çš„ç»†èŠ‚ï¼ŒåŒæ—¶ä»é¢å¤–çš„çº¹ç†æ¸²æŸ“è¾“å…¥ä¸­æ¢å¤ç¼ºå¤±çš„éƒ¨åˆ†ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é€‰æ‹©Adam [Diederik P Kingma et al.2014]ä¼˜åŒ–å™¨ï¼Œåˆå§‹å­¦ä¹ ç‡ä¸º1e-4ï¼Œæƒé‡è¡°å‡ç‡ä¸º5e-5ã€‚æˆ‘ä»¬åœ¨ä¸€å°å•ç‹¬çš„NVIDIA RTX 3090 GPUä¸Šä½¿ç”¨Twindom [web.twindom.com]æ•°æ®é›†å¯¹ç¥ç»çº¹ç†æ··åˆæ¨¡å‹è¿›è¡Œäº†ä¸¤å¤©çš„é¢„è®­ç»ƒã€‚</p><h4 id="æ•°æ®é›†-1"><a href="#æ•°æ®é›†-1" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h4><p>è®­ç»ƒæ•°æ®é›†ã€‚ä¸ºäº†è®­ç»ƒä¸€ä¸ªæ›´å…·é€‚åº”æ€§çš„ç¥ç»çº¹ç†èåˆç½‘ç»œï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªå¤§è§„æ¨¡çš„åˆæˆå¤šè§†è§’æ•°æ®é›†ã€‚æˆ‘ä»¬åˆ©ç”¨Twindom [web.twindom.com] æ•°æ®é›†ä¸­çš„é¢„æ‰«ææ¨¡å‹ç”Ÿæˆå¤šè§†è§’å›¾åƒã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬é‡æ–°æ¸²æŸ“é¢„æ‰«ææ¨¡å‹ä»¥ç”Ÿæˆç”¨äºèåˆçš„å…­ä¸ªå›ºå®šè§†è§’ï¼Œå¹¶åœ¨çƒä½“ä¸Šé‡‡æ ·180ä¸ªè™šæ‹Ÿç›®æ ‡è§†è§’æ¥è®­ç»ƒç½‘ç»œã€‚ä¸ºäº†å¢å¼ºæˆ‘ä»¬ç½‘ç»œçš„ç”Ÿæˆèƒ½åŠ›ï¼Œæˆ‘ä»¬é€šè¿‡ç»™3Dæ¨¡å‹æ·»åŠ æ›´å…·æŒ‘æˆ˜æ€§çš„å§¿åŠ¿æ¥æ‰©å¤§è®­ç»ƒæ•°æ®é›†ã€‚</p><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>å¦‚<a href="Neus-Instant-nsr-pl.md">instant-nsr-pl</a>ä¸­ç¯å¢ƒé…ç½®tiny-cuda-nn</p><p>åˆ›å»ºcondaç¯å¢ƒï¼š</p><ul><li><code>conda create -n nsr python=3.8</code></li><li><code>conda activate nsr</code></li><li><code>pip install -r requirements.txt</code></li><li><code>pip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch</code></li></ul><p>æ•°æ®é›†ï¼ša test dataset <a href="https://drive.google.com/drive/folders/180qoFqABXjBDwW2hHa14A6bmV-Sj1qqJ?usp=sharing">dance</a></p><h2 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/385352354">Pytorch æŒ‡å®šGPU - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p><code>CUDA_VISIBLE_DEVICES=x python xxx.py</code></p><ul><li>ç±»ä¼¼äºpyæ–‡ä»¶ä¸­<code>os.environ[&#39;CUDA_VISIBLE_DEVICES&#39;]=&#39;x&#39;</code>ï¼Œåªä¸è¿‡å®ƒç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚åªèƒ½æŒ‡å®šä¸€å¼ å¡è€Œä¸”ä¸èƒ½å†ç¨‹åºè¿è¡Œä¸­é€”æ¢å¡ï¼Œé€‚ç”¨äºä¸€æ¬¡runï¼Œå…¨ç¨‹åªéœ€è¦å å•å¡çš„.pyæ–‡ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Instant-NSR Training</span><br><span class="line">CUDA_VISIBLE_DEVICES=$&#123;CUDA_DEVICE&#125; python train_nerf.py &quot;$&#123;INPUTS&#125;/dance&quot;  --workspace &quot;$&#123;WORKSPACE&#125;&quot; --downscale 1 --network sdf</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">python train_nerf.py &quot;inputs/pipaxing-singleframe&quot;  --workspace &quot;/root/tf-logs&quot; --downscale 1 --network sdf</span><br></pre></td></tr></table></figure><h3 id="æå–ç½‘æ ¼"><a href="#æå–ç½‘æ ¼" class="headerlink" title="æå–ç½‘æ ¼"></a>æå–ç½‘æ ¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Instant-NSR Mesh extraction</span><br><span class="line">CUDA_VISIBLE_DEVICES=$&#123;CUDA_DEVICE&#125; python train_nerf.py &quot;$&#123;INPUTS&#125;/dance&quot;  --workspace &quot;$&#123;WORKSPACE&#125;&quot; --downscale 1 --network sdf -mode mesh</span><br><span class="line"></span><br><span class="line">eg: </span><br><span class="line">python train_nerf.py &quot;inputs/pipaxing-singleframe&quot;  --workspace &quot;/root/tf-logs&quot; --downscale 1 --network sdf --mode mesh</span><br></pre></td></tr></table></figure><p>resolution: 1024</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230706153113.png" alt="image.png"></p><h3 id="ç”Ÿæˆç‰¹å®šçš„ç›®æ ‡ç›¸æœºå›¾ç‰‡"><a href="#ç”Ÿæˆç‰¹å®šçš„ç›®æ ‡ç›¸æœºå›¾ç‰‡" class="headerlink" title="ç”Ÿæˆç‰¹å®šçš„ç›®æ ‡ç›¸æœºå›¾ç‰‡"></a>ç”Ÿæˆç‰¹å®šçš„ç›®æ ‡ç›¸æœºå›¾ç‰‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Instant-NSR Rendering</span><br><span class="line">CUDA_VISIBLE_DEVICES=$&#123;CUDA_DEVICE&#125; python train_nerf.py &quot;$&#123;INPUTS&#125;/dance&quot;  --workspace &quot;$&#123;WORKSPACE&#125;&quot; --downscale 1 --network sdf -mode render</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">python train_nerf.py &quot;inputs/pipaxing-singleframe&quot;  --workspace &quot;/root/tf-logs&quot; --downscale 1 --network sdf --mode render</span><br></pre></td></tr></table></figure><div style="display:flex; "> <div> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/0006.png" style="width:73%"> <p style="text-align:center;">render_img</p> </div><div> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/0006_depth.png" style="width:73%"> <p style="text-align:center;">depth_img</p> </div> <div> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/0006_normal.png" style="width:73%"> <p style="text-align:center;">normal_img</p> </div> </div><h1 id="NeRF-Mine-åŸºäºInstantNSRåœ¨æ²¡æœ‰maskçš„æƒ…å†µä¸‹ç”Ÿæˆç»“æœå¾ˆå·®ï¼Œæ”¾å¼ƒè¯¥é¡¹ç›®"><a href="#NeRF-Mine-åŸºäºInstantNSRåœ¨æ²¡æœ‰maskçš„æƒ…å†µä¸‹ç”Ÿæˆç»“æœå¾ˆå·®ï¼Œæ”¾å¼ƒè¯¥é¡¹ç›®" class="headerlink" title="NeRF-Mine: åŸºäºInstantNSRåœ¨æ²¡æœ‰maskçš„æƒ…å†µä¸‹ç”Ÿæˆç»“æœå¾ˆå·®ï¼Œæ”¾å¼ƒè¯¥é¡¹ç›®"></a><del>NeRF-Mine: åŸºäºInstantNSRåœ¨æ²¡æœ‰maskçš„æƒ…å†µä¸‹ç”Ÿæˆç»“æœå¾ˆå·®ï¼Œæ”¾å¼ƒè¯¥é¡¹ç›®</del></h1><p>æ–¹ä¾¿åœ¨æœ¬åœ°å’ŒæœåŠ¡å™¨ä¹‹é—´æ‹·è´</p><p>åŸºäº<a href="https://github.com/zhaofuq/Instant-NSR">instant-NSR</a> = <a href="https://github.com/Totoro97/NeuS">Neus</a>+ <a href="https://github.com/NVlabs/instant-ngp">InstantNGP</a></p><h1 id="ç¯å¢ƒé…ç½®-1"><a href="#ç¯å¢ƒé…ç½®-1" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h1><p>é€‰æ‹©RTX3090å•å¡ï¼Œé•œåƒé…ç½®ï¼š</p><ul><li>PyTorch  1.10.0</li><li>Python  3.8(ubuntu20.04)</li><li>Cuda  11.3</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">source /etc/network_turbo</span><br><span class="line"></span><br><span class="line">git clone https://github.com/yq010105/NeRF-Mine.git</span><br><span class="line"></span><br><span class="line">cd NeRF-Mine</span><br></pre></td></tr></table></figure><ul><li><code>conda create -n nsr python=3.8</code></li><li><code>conda activate nsr</code></li><li><code>pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple</code></li><li>å¯é€‰<code>pip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch</code></li></ul><h2 id="error"><a href="#error" class="headerlink" title="error"></a>error</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">Failed to build pysdf  </span><br><span class="line">ERROR: Could not build wheels for pysdf, which is required to install pyproject.toml-based projects</span><br><span class="line"></span><br><span class="line">å…ˆå–æ¶ˆpysdfçš„å®‰è£…ï¼Œå®‰è£…å®Œå…¶ä»–åå†è¿›è¡Œpysdfçš„å®‰è£…</span><br><span class="line"></span><br><span class="line">2</span><br><span class="line">åŠ è½½cppæ‰©å±•æ—¶ï¼Œé”ä½ï¼š</span><br><span class="line">File &quot;run.py&quot;, line 6, in &lt;module&gt;  </span><br><span class="line">from models.network_sdf import NeRFNetwork  </span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/models/network_sdf.py&quot;, line 8, in &lt;module&gt;  </span><br><span class="line">from encoder.encoding import get_encoder  </span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/encoder/encoding.py&quot;, line 8, in &lt;module&gt;  </span><br><span class="line">from encoder.shencoder import SHEncoder  </span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/encoder/shencoder/__init__.py&quot;, line 1, in &lt;module&gt;  </span><br><span class="line">from .sphere_harmonics import SHEncoder  </span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/encoder/shencoder/sphere_harmonics.py&quot;, line 9, in &lt;module&gt;  </span><br><span class="line">from .backend import _backend  </span><br><span class="line">File &quot;/root/autodl-tmp/NeRF-Mine/encoder/shencoder/backend.py&quot;, line 6, in &lt;module&gt;  </span><br><span class="line">_backend = load(name=&#x27;_sh_encoder&#x27;,  </span><br><span class="line">File &quot;/root/miniconda3/envs/nsr/lib/python3.8/site-packages/torch/utils/cpp_extension.py&quot;, line 1284, in load  </span><br><span class="line">return _jit_compile(  </span><br><span class="line">File &quot;/root/miniconda3/envs/nsr/lib/python3.8/site-packages/torch/utils/cpp_extension.py&quot;, line 1523, in _jit_compile  </span><br><span class="line">baton.wait()  </span><br><span class="line">File &quot;/root/miniconda3/envs/nsr/lib/python3.8/site-packages/torch/utils/file_baton.py&quot;, line 42, in wait  </span><br><span class="line">time.sleep(self.wait_seconds)  </span><br><span class="line">KeyboardInterrupt</span><br><span class="line"></span><br><span class="line">åŸå› ï¼š</span><br><span class="line">å½“åŠ è½½hashç¼–ç åï¼Œå¿«é€ŸåŠ è½½äº†shenç¼–ç ï¼Œå¯¼è‡´cpp_extension.pyä¾ç„¶è¢«å ç”¨ï¼Œå› æ­¤ï¼Œåªéœ€åŠ ä¸€ä¸ªå»¶æ—¶ï¼Œè®©ä¸¤ä¸ªåº“å¯¼å…¥æ—¶åè€…æ…¢ä¸€æ­¥ï¼Œè§£é™¤ç¨‹åºçš„å ç”¨</span><br><span class="line">æ–¹æ³•ï¼š</span><br><span class="line">åˆ é™¤/root/.cache/torch_extensions/py38_cu117/ä¸‹æ–‡ä»¶_hash_encoder</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">from encoder.hashencoder import HashEncoder</span><br><span class="line">ä¹‹é—´æ·»åŠ å»¶æ—¶ time.sleep(10)</span><br><span class="line">from encoder.shencoder import SHEncoder</span><br><span class="line">Note!å»¶æ—¶åœ¨è¿è¡Œè¿‡ç¬¬ä¸€æ¬¡åå¯ä»¥æ³¨é‡Šæ‰</span><br></pre></td></tr></table></figure><blockquote><p>error2:<a href="https://blog.csdn.net/qq_38677322/article/details/109696077">(21æ¡æ¶ˆæ¯) torch.utils.cpp_extension.loadå¡ä½æ— å“åº”_zParquetçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><h1 id="åœ¨ç¤ºä¾‹æ•°æ®é›†ä¸Šè®­ç»ƒ"><a href="#åœ¨ç¤ºä¾‹æ•°æ®é›†ä¸Šè®­ç»ƒ" class="headerlink" title="åœ¨ç¤ºä¾‹æ•°æ®é›†ä¸Šè®­ç»ƒ"></a>åœ¨ç¤ºä¾‹æ•°æ®é›†ä¸Šè®­ç»ƒ</h1><p>ä¸‹è½½InstantNSRæä¾›çš„ç¤ºä¾‹æ•°æ®é›†ï¼ša test dataset <a href="https://drive.google.com/drive/folders/180qoFqABXjBDwW2hHa14A6bmV-Sj1qqJ?usp=sharing">dance</a>ï¼Œæ”¾å…¥inputsç›®å½•ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># å¼€å§‹è®­ç»ƒ</span><br><span class="line">python run.py --conf confs/dtu.conf --downscale 1 --network sdf</span><br><span class="line">or</span><br><span class="line">python run.py --conf confs/dtu.conf</span><br><span class="line"></span><br><span class="line"># æå–ç½‘æ ¼mesh</span><br><span class="line">python run.py --downscale 1 --network sdf --mode mesh</span><br><span class="line"></span><br><span class="line"># ç”Ÿæˆç‰¹å®šçš„ç›®æ ‡ç›¸æœºå›¾ç‰‡</span><br><span class="line">python run.py --downscale 1 --network sdf --mode render</span><br></pre></td></tr></table></figure><p>è®­ç»ƒç»“æœä¸ç†æƒ³ï¼šçŒœæƒ³æ˜¯ç”±äºæ²¡æœ‰å»é™¤åé¢çš„èƒŒæ™¯ï¼Œå¯ä»¥è¯´nsræ˜¯ä¸€ä¸ªä¾èµ–maskçš„æ–¹æ³•</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230710211129.png" alt="image.png"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Efficiency </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>InstantNGPç¯å¢ƒé…ç½®å’Œtiny-cuda-nnç”¨æ³•</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/NeRF-InstantNGP-code/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/NeRF-InstantNGP-code/</url>
      
        <content type="html"><![CDATA[<p>tiny-cuda-nnåœ¨pythonä¸­çš„ç”¨æ³•:<a href="https://github.com/nvlabs/tiny-cuda-nn#pytorch-extension">NVlabs/tiny-cuda-nn: Lightning fast C++/CUDA neural network framework (github.com)</a></p><p>InstantNGPç¯å¢ƒé…ç½®å’Œä½¿ç”¨ï¼Œç”±äºéœ€è¦ä½¿ç”¨GUIï¼Œä¸”ç¬”è®°æœ¬GPUé…ç½®å¤ªä½ï¼Œå› æ­¤æ²¡æœ‰å…·ä½“è®­ç»ƒçš„è¿‡ç¨‹ï¼Œåªæ˜¯è¿›è¡Œäº†ç¯å¢ƒçš„é…ç½®ã€‚</p><span id="more"></span><h1 id="Tiny-cuda-nn"><a href="#Tiny-cuda-nn" class="headerlink" title="Tiny-cuda-nn"></a>Tiny-cuda-nn</h1><blockquote><p><a href="https://github.com/nvlabs/tiny-cuda-nn/blob/master/samples/mlp_learning_an_image_pytorch.py">tiny-cuda-nn/samples/mlp_learning_an_image_pytorch.py at master Â· NVlabs/tiny-cuda-nn Â· GitHub</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">model = tcnn.NetworkWithInputEncoding(n_input_dims=2, </span><br><span class="line">                        n_output_dims=n_channels, </span><br><span class="line">                        encoding_config=config[&quot;encoding&quot;], </span><br><span class="line">                        network_config=config[&quot;network&quot;]).to(device)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"># encoding_config = </span><br><span class="line">&quot;encoding&quot;: &#123;</span><br><span class="line">    &quot;otype&quot;: &quot;HashGrid&quot;,</span><br><span class="line">    &quot;n_levels&quot;: 16,</span><br><span class="line">    &quot;n_features_per_level&quot;: 2,</span><br><span class="line">    &quot;log2_hashmap_size&quot;: 15,</span><br><span class="line">    &quot;base_resolution&quot;: 16,</span><br><span class="line">    &quot;per_level_scale&quot;: 1.5</span><br><span class="line">&#125;,</span><br><span class="line"># network_config = </span><br><span class="line">&quot;network&quot;: &#123;</span><br><span class="line">    &quot;otype&quot;: &quot;FullyFusedMLP&quot;,</span><br><span class="line">    &quot;activation&quot;: &quot;ReLU&quot;,</span><br><span class="line">    &quot;output_activation&quot;: &quot;None&quot;,</span><br><span class="line">    &quot;n_neurons&quot;: 64,</span><br><span class="line">    &quot;n_hidden_layers&quot;: 2</span><br><span class="line">&#125;</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><p>encoding: <a href="https://raw.githubusercontent.com/NVlabs/tiny-cuda-nn/master/data/readme/multiresolution-hash-encoding-diagram.png">multiresolution hash encoding</a> (<a href="https://nvlabs.github.io/instant-ngp/assets/mueller2022instant.pdf">technical paper</a>)</p><ul><li>n_levels: å¤šåˆ†è¾¨ç‡ä¸ªæ•°L=16</li><li>n_features_per_level: ç‰¹å¾å‘é‡çš„ç»´åº¦F=2</li><li>log2_hashmap_size: log2æ¯ä¸ªåˆ†è¾¨ç‡ä¸‹ç‰¹å¾å‘é‡ä¸ªæ•°$log_{2}T=15$</li><li>base_resolution: $N_{min} = 16$</li><li>per_level_scale: æ¯ä¸ªåˆ†è¾¨ç‡ä¸‹çš„scale=1.5ï¼Ÿï¼Ÿï¼Ÿ</li></ul><p>network: a lightning fast <a href="https://raw.githubusercontent.com/NVlabs/tiny-cuda-nn/master/data/readme/fully-fused-mlp-diagram.png">â€œfully fusedâ€ multi-layer perceptron</a> (<a href="https://tom94.net/data/publications/mueller21realtime/mueller21realtime.pdf">technical paper</a>)</p><ul><li>activation: æ¿€æ´»å‡½æ•° â€œReLUâ€</li><li>output_activation: è¾“å‡ºå±‚æ¿€æ´»å‡½æ•°æ— </li><li>n_neurons: 64</li><li>n_hidden_layers: éšè—å±‚æ•°2</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">image =  Image(args.image, device) # model</span><br><span class="line"></span><br><span class="line">model = tcnn.NetworkWithInputEncoding(n_input_dims=2, </span><br><span class="line">                                                                    n_output_dims=n_channels, </span><br><span class="line">                                                                    encoding_config=config[&quot;encoding&quot;], </span><br><span class="line">                                                                    network_config=config[&quot;network&quot;]).to(device)</span><br><span class="line">optimizer = torch.optim.Adam(model.parameters(), lr=0.01)</span><br><span class="line"></span><br><span class="line">batch_size = 2**18</span><br><span class="line">interval = 10</span><br><span class="line"></span><br><span class="line">print(f&quot;Beginning optimization with &#123;args.n_steps&#125; training steps.&quot;)</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    batch = torch.rand([batch_size, 2], device=device, dtype=torch.float32)</span><br><span class="line">    traced_image = torch.jit.trace(image, batch) </span><br><span class="line">    # å¯¹ `image` è¿›è¡Œè·Ÿè¸ªï¼Œè®°å½•å…¶åœ¨ç»™å®šè¾“å…¥æ•°æ®ä¸Šçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªè·Ÿè¸ªæ¨¡å‹ã€‚</span><br><span class="line">    # ç”Ÿæˆçš„è·Ÿè¸ªæ¨¡å‹å¯ä»¥è¢«ä¿å­˜ã€åŠ è½½å’Œæ‰§è¡Œï¼Œè€Œä¸”é€šå¸¸å…·æœ‰æ¯”åŸå§‹æ¨¡å‹æ›´é«˜çš„æ‰§è¡Œæ•ˆç‡ã€‚</span><br><span class="line">    # åªèƒ½è·Ÿè¸ªå…·æœ‰å›ºå®šè¾“å…¥å½¢çŠ¶çš„æ¨¡å‹æˆ–å‡½æ•°</span><br><span class="line">except:</span><br><span class="line">    # If tracing causes an error, fall back to regular execution</span><br><span class="line">    print(f&quot;WARNING: PyTorch JIT trace failed. Performance will be slightly worse than regular.&quot;)</span><br><span class="line">    traced_image = image</span><br><span class="line"></span><br><span class="line">for i in range(args.n_steps):</span><br><span class="line">    batch = torch.rand([batch_size, 2], device=device, dtype=torch.float32)</span><br><span class="line">    targets = traced_image(batch)</span><br><span class="line">    output = model(batch)</span><br><span class="line"></span><br><span class="line">    relative_l2_error = (output - targets.to(output.dtype))**2 / (output.detach()**2 + 0.01)</span><br><span class="line">    loss = relative_l2_error.mean()</span><br><span class="line"></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    loss.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line"></span><br><span class="line">tcnn.free_temporary_memory()</span><br></pre></td></tr></table></figure><h1 id="NGPç¯å¢ƒé…ç½®åŠè¿è¡Œ"><a href="#NGPç¯å¢ƒé…ç½®åŠè¿è¡Œ" class="headerlink" title="NGPç¯å¢ƒé…ç½®åŠè¿è¡Œ"></a>NGPç¯å¢ƒé…ç½®åŠè¿è¡Œ</h1><p>é…ç½®å‰ä¸‹è½½ï¼š</p><ul><li>clone repository <ul><li><code>git clone https://github.com/NVlabs/instant-ngp.git</code></li></ul></li><li>download instant-ngp.exe<ul><li><a href="https://github.com/NVlabs/instant-ngp/releases/tag/continuous">Release Development release Â· NVlabs/instant-ngp (github.com)</a></li></ul></li></ul><p>é…ç½®ç¯å¢ƒ:</p><blockquote><p><a href="https://www.youtube.com/watch?v=3TWxO1PftMc">Updated: Making a NeRF animation with NVIDIAâ€™s Instant NGP - YouTube</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">conda create -n ngp python=3.10 </span><br><span class="line">conda activate ngp </span><br><span class="line">cd C:\Users\ehaines\Documents\_documents\Github\instant-ngp </span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># Set environment in Anaconda</span><br><span class="line">conda activate ngp</span><br><span class="line"></span><br><span class="line"># Pull images from movie; I&#x27;ve put movie directory &quot;chesterwood&quot; in the instant-ngp directory for simplicity. Change &quot;fps 2&quot; to whatever is needed to give you around 100 images.</span><br><span class="line">cd C:\Users\(your path here)\Github\instant-ngp</span><br><span class="line">cd chesterwood</span><br><span class="line">python ..\scripts\colmap2nerf.py --video_in IMG_9471.MOV --video_fps 2 --run_colmap --overwrite</span><br><span class="line"># NOTE! This line is a bit different than shown in the video, as advice on aabb_scale&#x27;s use has changed. Also, I usually want to delete a few images after extracting them, so I don&#x27;t do an exhaustive match at this point. In fact, I usually hit break (Control-C) when I see &quot;Feature extraction&quot; starting, as the images have all been extracted at that point.</span><br><span class="line"></span><br><span class="line">#After you delete any blurry or useless frames, continue below to match cameras.</span><br><span class="line"></span><br><span class="line"># Camera match given set of images. Do for any set of images. Run from directory containing your &quot;images&quot; directory.</span><br><span class="line">python C:\Users\(your path here)\Github\instant-ngp\scripts\colmap2nerf.py --colmap_matcher exhaustive --run_colmap --aabb_scale 16 --overwrite</span><br><span class="line"># For videos or closely related sets of shots, you can take out the &quot;--colmap_matcher exhaustive&quot; from the line above, since your images are in order. This saves a few minutes. You could also leave off &quot;--aabb_scale 16&quot; or put 64, the new default; the docs say it is worth playing with this number, see nerf_dataset_tips.md for how (short version: edit it in transforms.json). In my limited testing, I personally have not seen a difference.</span><br><span class="line"></span><br><span class="line"># run interactive instant-ngp - run from the main directory &quot;instant-ngp&quot;</span><br><span class="line">cd ..</span><br><span class="line">instant-ngp chesterwood</span><br></pre></td></tr></table></figure><p>GPUé…ç½®å¤ªä½ï¼Œæ— æ³•è¿è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">å‡ºç°é”™è¯¯ï¼šCUDA_ERROR_OUT_OF_MEMORY</span><br><span class="line">Uncaught exception: D:/a/instant-ngp/instant-ngp/dependencies/tiny-cuda- nn/include\tiny-cuda-nn/gpu_memory.h:590 cuMemSetAccess(m_base_address + m_size, n_bytes_to_allocate, &amp;access_desc, 1) failed with error CUDA_ERROR_OUT_OF_MEMORY</span><br><span class="line"></span><br><span class="line">åŸå› ï¼šGPUç¡¬ä»¶é…ç½®å¤ªä½1050Ti and only 4GB of VRAM</span><br><span class="line">nvidia-smi  </span><br><span class="line">Tue Jul 4 14:47:36 2023  </span><br><span class="line">+---------------------------------------------------------------------------------------+  </span><br><span class="line">| NVIDIA-SMI 531.79 Driver Version: 531.79 CUDA Version: 12.1 |  </span><br><span class="line">|-----------------------------------------+----------------------+----------------------+  </span><br><span class="line">| GPU Name TCC/WDDM | Bus-Id Disp.A | Volatile Uncorr. ECC |  </span><br><span class="line">| Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. |  </span><br><span class="line">| | | MIG M. |  </span><br><span class="line">|=========================================+======================+======================|  </span><br><span class="line">| 0 NVIDIA GeForce GTX 1050 Ti WDDM | 00000000:01:00.0 Off | N/A |  </span><br><span class="line">| N/A 42C P8 N/A / N/A| 478MiB / 4096MiB | 2% Default |  </span><br><span class="line">| | | N/A |  </span><br><span class="line">+-----------------------------------------+----------------------+----------------------+</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> InstantNGP </tag>
            
            <tag> Efficiency </tag>
            
            <tag> Encoding </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Instant-nsr-plçš„ä»£ç ç†è§£</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Neus-Instant-nsr-pl-code/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Neus-Instant-nsr-pl-code/</url>
      
        <content type="html"><![CDATA[<p>Instant Neusçš„ä»£ç ç†è§£<br>å‚è€ƒäº†ï¼š</p><ul><li><a href="https://github.com/kwea123/ngp_pl">ngp_pl</a>: Great Instant-NGP implementation in PyTorch-Lightning! Background model and GUI supported.<ul><li><a href="https://lightning.ai/docs/pytorch/1.9.5/">Welcome to âš¡ PyTorch Lightning â€” PyTorch Lightning 1.9.5 documentation</a></li></ul></li><li><a href="https://github.com/zhaofuq/Instant-NSR">Instant-NSR</a>: NeuS implementation using multiresolution hash encoding.</li></ul><span id="more"></span><iframe frameborder="0" style="width:100%;height:593px;" src="https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1&title=neus.drawio#R7Ztbj6M2FIB%2FTaTZhx2BMSR53Emm3YdWXWlUtfMUecEBdwhGxkyS%2FvraxA4QkyxNNzHZ5mE0%2BIC5nMN3fC5k5M1Wm58ZypNfaYTTEXCizcibjwAAkzEQ%2F6Rku5O4AQx2kpiRSMlqwQv5Gyuho6QliXDROpBTmnKSt4UhzTIc8pYMMUbX7cOWNG1fNUcxNgQvIUpN6R8k4slOOgHjWv4ZkzjRV3aD6W7PCumD1ZMUCYrouiHynkfejFHKd1urzQynUntaL7t5Px3Zu78xhjPeZ4Lz%2B5f5b1%2FYxzmcv7LPPA3nDH301b3xrX5gHInnV0PKeEJjmqH0uZY%2BMVpmEZZndcSoPuYXSnMhdIXwL8z5VhkTlZwKUcJXqdqLN4T%2FKac%2F%2Bmr02tgz36gzV4OtHmScbRuT5PC1ua%2BeVo30vCXNuLoRNxDj3fPKhzyqRiUqaMlCfEJ3%2BnVELMb8xHFgb2yBCaYrLO5PzGM4RZy8t%2B8Dqdc13h9XW1RsKKP%2BCwOr876jtFRX4gyRDLPHJeGG8WvTSmusE8LxS44qLawF4G0zdqv2HTOON6eVaypDT4DqhVTuwlfsrGv0XEfJkgZ20LmQ%2BoI7H2fzAXry4dnkAxh8iJVkSeKS4QXNOVkJ3bDi4cMJVBw7qOgVUq%2BsoIOV8TVZmd5ZOZsVrycrY5useAYrNFtUy8kC5zRMFoW4%2F1OLyjBI2ceW1kiBhiKXlMlXSWpRTs70oDC0KfTA2yorOKNveEZTcQ5vntFMgrUkaXogQimJMzEMhd6wkD9JrRIR6n5SO1Ykiioqu2zUtuIFzAQO%2FNm0w0p%2Bh5XApazkgrtDO9uhjXs6NNfpfimu49HGxz3aV8RvxqN5jm2PNjni0Sotao%2B2U2yEOEopioQL%2BvF9m15yxh0GCq7qzLy7Mzs%2F03f6erMjr8GVcn3HoLDA6fJRElfgG3BjgW035t7rYf%2BBkr4FMRdapcQsiVWU5AznjIa4KKolavC0QOsJvzu503I%2BLbAvLVZzftfMVctc8IEXKxqVKRYRMs6Hz8rEOiuBoUdDa0WCcrkZlizdPjEUvskX41vqa9fsL6DMSbsm37VKgw5V7uPb71%2BzhXe%2Fc77f6Z2ZT636HTM1r9JHksWVy7mBirwPbTsdz2rS5zYwqaH5FigtTGpqLIAy7QkKsFrC0rfZrGHpvtVC%2FNFFzFB0A7gE1otYntV15cZxAX1rJMdeiyv1e80ayVcRaK0RGyIj%2B8LucBgZUIXE6clIO%2FZyLTLS%2B5Mh3yojZoWkXlIGGnzB6dBI0b3KOynnkOL3JAVazVL0bbYbiGJEInF1OuzvIvZFEZ2veB3ITK%2BJDDRrIndkeiPTN7H3rBYUQUfPvRRwONW202CnWmlUA3m2a8eTaDPApcc%2FKJB1NHv3zFyFI2DmhI12vNSi0OjooDuPs3KFGeL4QUxrdOkfPpgq%2F%2FEa9TrgDto%2BEXZ9heR12PJijXs4oMb9zflEr7dPtBpGQKtJ1VmFB7dpYauFh942BnY%2FnjXXPelnxdpXPKI8x1n0ILYHuLodRImd35pdN0oc35xHHBAtfavadmExAxgjqZLEaIIGiM1BUAg6kqvrBoXQ%2FEaTLCulyQZ%2BFX7rCHwRJjh8WxAZoonh%2Fyf8C%2FyDlHjsWw7%2FfNfQ%2FtCd3XDCP9i7hWfV20HT27WrSEP%2BFv0wPoBdXe%2FvFB%2BIYf176Wpf42fn3vM%2F"></iframe><p>ä½¿ç”¨äº†PyTorch Lightningåº“</p><h1 id="æ–‡ä»¶ç»“æ„ï¼š"><a href="#æ–‡ä»¶ç»“æ„ï¼š" class="headerlink" title="æ–‡ä»¶ç»“æ„ï¼š"></a>æ–‡ä»¶ç»“æ„ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€â”€configs  # é…ç½®æ–‡ä»¶</span><br><span class="line">â”‚ nerf-blender.yaml  </span><br><span class="line">â”‚ nerf-colmap.yaml  </span><br><span class="line">â”‚ neus-blender.yaml  </span><br><span class="line">â”‚ neus-bmvs.yaml  </span><br><span class="line">â”‚ neus-colmap.yaml  </span><br><span class="line">â”‚ neus-dtu.yaml  </span><br><span class="line">â”‚  </span><br><span class="line">â”œâ”€â”€â”€datasets  # æ•°æ®é›†åŠ è½½</span><br><span class="line">â”‚ blender.py  </span><br><span class="line">â”‚ colmap.py  </span><br><span class="line">â”‚  colmap_utils.py  </span><br><span class="line">â”‚  dtu.py  </span><br><span class="line">â”‚  utils.py  </span><br><span class="line">â”‚  __init__.py  </span><br><span class="line">â”‚  </span><br><span class="line">â”œâ”€â”€â”€models  # modelçš„ç¥ç»ç½‘ç»œç»“æ„å’Œmodelçš„è¿ç®—</span><br><span class="line">â”‚  base.py  </span><br><span class="line">â”‚  geometry.py  </span><br><span class="line">â”‚  nerf.py  </span><br><span class="line">â”‚  network_utils.py  </span><br><span class="line">â”‚  neus.py  </span><br><span class="line">â”‚  ray_utils.py  </span><br><span class="line">â”‚  texture.py  </span><br><span class="line">â”‚  utils.py  </span><br><span class="line">â”‚  __init__.py  </span><br><span class="line">â”‚  </span><br><span class="line">â”œâ”€â”€â”€scripts  # è‡ªå®šä¹‰æ•°æ®é›†æ—¶gen_poses+run_colmapç”Ÿæˆä¸‰ä¸ªbinæ–‡ä»¶[&#x27;cameras&#x27;, &#x27;images&#x27;, &#x27;points3D&#x27;]</span><br><span class="line">â”‚ imgs2poses.py  </span><br><span class="line">â”‚  </span><br><span class="line">â”œâ”€â”€â”€systems  # modelæ¨¡å‹åŠ è½½å’Œè®­ç»ƒæ—¶æ¯æ­¥çš„æ“ä½œ</span><br><span class="line">â”‚  base.py  </span><br><span class="line">â”‚  criterions.py  </span><br><span class="line">â”‚  nerf.py  </span><br><span class="line">â”‚  neus.py  </span><br><span class="line">â”‚  utils.py  </span><br><span class="line">â”‚  __init__.py  </span><br><span class="line">â”‚  </span><br><span class="line">â””â”€â”€â”€utils  </span><br><span class="line">â”‚ callbacks.py  </span><br><span class="line">â”‚ loggers.py  </span><br><span class="line">â”‚ misc.py  </span><br><span class="line">â”‚ mixins.py  </span><br><span class="line">â”‚ obj.py  </span><br><span class="line">â”‚ __init__.py  </span><br></pre></td></tr></table></figure><h1 id="fitæµç¨‹ä¼ªä»£ç "><a href="#fitæµç¨‹ä¼ªä»£ç " class="headerlink" title="fitæµç¨‹ä¼ªä»£ç "></a>fitæµç¨‹ä¼ªä»£ç </h1><p>train.fit()ç»“æ„çš„ä¼ªä»£ç </p><blockquote><p><a href="https://lightning.ai/docs/pytorch/1.9.5/common/lightning_module.html#hooks">LightningModule â€” PyTorch Lightning 1.9.5 documentation</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">def fit(self):</span><br><span class="line">    if global_rank == 0:</span><br><span class="line">        # prepare data is called on GLOBAL_ZERO only</span><br><span class="line">        prepare_data()</span><br><span class="line"></span><br><span class="line">    configure_callbacks()</span><br><span class="line"></span><br><span class="line">    with parallel(devices):</span><br><span class="line">        # devices can be GPUs, TPUs, ...</span><br><span class="line">        train_on_device(model)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def train_on_device(model):</span><br><span class="line">    # called PER DEVICE</span><br><span class="line">    setup(&quot;fit&quot;)</span><br><span class="line">    configure_optimizers()</span><br><span class="line">    on_fit_start()</span><br><span class="line"></span><br><span class="line">    # the sanity check runs here</span><br><span class="line"></span><br><span class="line">    on_train_start()</span><br><span class="line">    for epoch in epochs:</span><br><span class="line">        fit_loop()</span><br><span class="line">    on_train_end()</span><br><span class="line"></span><br><span class="line">    on_fit_end()</span><br><span class="line">    teardown(&quot;fit&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def fit_loop():</span><br><span class="line">    on_train_epoch_start()</span><br><span class="line"></span><br><span class="line">    for batch in train_dataloader():</span><br><span class="line">        on_train_batch_start()</span><br><span class="line"></span><br><span class="line">        on_before_batch_transfer()</span><br><span class="line">        transfer_batch_to_device()</span><br><span class="line">        on_after_batch_transfer()</span><br><span class="line"></span><br><span class="line">        training_step()</span><br><span class="line"></span><br><span class="line">        on_before_zero_grad()</span><br><span class="line">        optimizer_zero_grad()</span><br><span class="line"></span><br><span class="line">        on_before_backward()</span><br><span class="line">        backward()</span><br><span class="line">        on_after_backward()</span><br><span class="line"></span><br><span class="line">        on_before_optimizer_step()</span><br><span class="line">        configure_gradient_clipping()</span><br><span class="line">        optimizer_step()</span><br><span class="line"></span><br><span class="line">        on_train_batch_end()</span><br><span class="line"></span><br><span class="line">        if should_check_val:</span><br><span class="line">            val_loop()</span><br><span class="line">    # end training epoch</span><br><span class="line">    training_epoch_end()</span><br><span class="line"></span><br><span class="line">    on_train_epoch_end()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def val_loop():</span><br><span class="line">    on_validation_model_eval()  # calls `model.eval()`</span><br><span class="line">    torch.set_grad_enabled(False)</span><br><span class="line"></span><br><span class="line">    on_validation_start()</span><br><span class="line">    on_validation_epoch_start()</span><br><span class="line"></span><br><span class="line">    val_outs = []</span><br><span class="line">    for batch_idx, batch in enumerate(val_dataloader()):</span><br><span class="line">        on_validation_batch_start(batch, batch_idx)</span><br><span class="line"></span><br><span class="line">        batch = on_before_batch_transfer(batch)</span><br><span class="line">        batch = transfer_batch_to_device(batch)</span><br><span class="line">        batch = on_after_batch_transfer(batch)</span><br><span class="line"></span><br><span class="line">        out = validation_step(batch, batch_idx)</span><br><span class="line"></span><br><span class="line">        on_validation_batch_end(batch, batch_idx)</span><br><span class="line">        val_outs.append(out)</span><br><span class="line"></span><br><span class="line">    validation_epoch_end(val_outs)</span><br><span class="line"></span><br><span class="line">    on_validation_epoch_end()</span><br><span class="line">    on_validation_end()</span><br><span class="line"></span><br><span class="line">    # set up for train</span><br><span class="line">    on_validation_model_train()  # calls `model.train()`</span><br><span class="line">    torch.set_grad_enabled(True)</span><br></pre></td></tr></table></figure><h1 id="datasets"><a href="#datasets" class="headerlink" title="datasets"></a>datasets</h1><h2 id="init"><a href="#init" class="headerlink" title="init"></a>init</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">datasets = &#123;&#125;</span><br><span class="line"></span><br><span class="line">def register(name):</span><br><span class="line">    def decorator(cls):</span><br><span class="line">        datasets[name] = cls</span><br><span class="line">        return cls</span><br><span class="line">    return decorator</span><br><span class="line"></span><br><span class="line">def make(name, config): # dtu ,config.datasets</span><br><span class="line">    dataset = datasets[name](config) # dataset = datasets[&#x27;dtu&#x27;](config)</span><br><span class="line">    return dataset</span><br><span class="line"></span><br><span class="line">from . import blender, colmap, dtu</span><br></pre></td></tr></table></figure><h2 id="dtu"><a href="#dtu" class="headerlink" title="dtu"></a>dtu</h2><p>æ•°æ®é›†åŠ è½½æ“ä½œï¼Œè¿”å›ä¸€ä¸ªDataLoader</p><ul><li>load_K_Rt_from_Pï¼Œä»PçŸ©é˜µä¸­æ¢å¤Kã€Rå’ŒT</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">load_K_Rt_from_P</span>(<span class="params">P=<span class="literal">None</span></span>):</span><br><span class="line">    out = cv2.decomposeProjectionMatrix(P)</span><br><span class="line">    K = out[<span class="number">0</span>]</span><br><span class="line">    R = out[<span class="number">1</span>]</span><br><span class="line">    t = out[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">    K = K / K[<span class="number">2</span>, <span class="number">2</span>]</span><br><span class="line">    intrinsics = np.eye(<span class="number">4</span>)</span><br><span class="line">    intrinsics[:<span class="number">3</span>, :<span class="number">3</span>] = K</span><br><span class="line"></span><br><span class="line">    pose = np.eye(<span class="number">4</span>, dtype=np.float32)</span><br><span class="line">    pose[:<span class="number">3</span>, :<span class="number">3</span>] = R.transpose()</span><br><span class="line">    pose[:<span class="number">3</span>, <span class="number">3</span>] = (t[:<span class="number">3</span>] / t[<span class="number">3</span>])[:, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> intrinsics, pose</span><br></pre></td></tr></table></figure><ul><li>create_spheric_posesï¼Œåˆ›å»ºä¸€ä¸ªçƒå½¢çš„ç›¸æœºä½å§¿ï¼Œç”¨äºæµ‹è¯•æ—¶çš„ä½å§¿å’Œè¾“å‡ºè§†é¢‘</li></ul><p>ref: torch.cross: <a href="https://zh.wikipedia.org/wiki/%E5%8F%89%E7%A7%AF#%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA">å‰ç§¯ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)</a></p><div class="note warning">            <p>ç†è§£ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡æ˜¯ä»€ä¹ˆï¼Ÿtorch.linalg.eig</p>          </div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆçƒå½¢ç›¸æœºå§¿æ€, æµ‹è¯•ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_spheric_poses</span>(<span class="params">cameras, n_steps=<span class="number">120</span></span>): <span class="comment"># camears: (n_images,3) , n_steps: 60</span></span><br><span class="line">    center = torch.as_tensor([<span class="number">0.</span>,<span class="number">0.</span>,<span class="number">0.</span>], dtype=cameras.dtype, device=cameras.device)</span><br><span class="line">    cam_center = F.normalize(cameras.mean(<span class="number">0</span>), p=<span class="number">2</span>, dim=-<span class="number">1</span>) * cameras.mean(<span class="number">0</span>).norm(<span class="number">2</span>) <span class="comment"># normalize: å°†è¾“å…¥å¼ é‡å½’ä¸€åŒ–ä¸ºå•ä½èŒƒæ•°</span></span><br><span class="line">    <span class="comment"># cam_center: torch.Size([3])</span></span><br><span class="line">    eigvecs = torch.linalg.eig(cameras.T @ cameras).eigenvectors  <span class="comment"># eig: è®¡ç®—æ–¹é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡, .eigenvectors: è¿”å›ç‰¹å¾å‘é‡</span></span><br><span class="line">    <span class="comment"># eigvecs: torch.Size([3, 3])</span></span><br><span class="line">    rot_axis = F.normalize(eigvecs[:,<span class="number">1</span>].real.<span class="built_in">float</span>(), p=<span class="number">2</span>, dim=-<span class="number">1</span>) <span class="comment"># torch.Size([3]) ä¸­é—´ä¸€åˆ—ç»•yè½´æ—‹è½¬</span></span><br><span class="line">    up = rot_axis   <span class="comment"># torch.Size([3])</span></span><br><span class="line">    rot_dir = torch.cross(rot_axis, cam_center) <span class="comment"># cross: è®¡ç®—ä¸¤ä¸ªå‘é‡çš„å‰ç§¯, (3,)x(3,)=(3,)</span></span><br><span class="line">    max_angle = (F.normalize(cameras, p=<span class="number">2</span>, dim=-<span class="number">1</span>) * F.normalize(cam_center, p=<span class="number">2</span>, dim=-<span class="number">1</span>)).<span class="built_in">sum</span>(-<span class="number">1</span>).acos().<span class="built_in">max</span>()</span><br><span class="line">    <span class="comment"># max_angle: torch.Size([]) ,ä¸€ä¸ªæ ‡é‡</span></span><br><span class="line">    <span class="comment"># ç›¸æœºä½ç½®æ¯ä¸ªç‚¹ä¸ç›¸æœºä¸­å¿ƒçš„å¤¹è§’</span></span><br><span class="line">    all_c2w = []</span><br><span class="line">    <span class="keyword">for</span> theta <span class="keyword">in</span> torch.linspace(-max_angle, max_angle, n_steps):</span><br><span class="line">        cam_pos = cam_center * math.cos(theta) + rot_dir * math.sin(theta) <span class="comment"># torch.Size([3])</span></span><br><span class="line">        l = F.normalize(center - cam_pos, p=<span class="number">2</span>, dim=<span class="number">0</span>) <span class="comment"># torch.Size([3])</span></span><br><span class="line">        s = F.normalize(l.cross(up), p=<span class="number">2</span>, dim=<span class="number">0</span>)    <span class="comment"># torch.Size([3])</span></span><br><span class="line">        u = F.normalize(s.cross(l), p=<span class="number">2</span>, dim=<span class="number">0</span>)   <span class="comment"># torch.Size([3])</span></span><br><span class="line">        c2w = torch.cat([torch.stack([s, u, -l], dim=<span class="number">1</span>), cam_pos[:,<span class="literal">None</span>]], axis=<span class="number">1</span>) <span class="comment"># (3,4)</span></span><br><span class="line">        all_c2w.append(c2w) <span class="comment"># (n_steps, 3, 4)</span></span><br><span class="line"></span><br><span class="line">    all_c2w = torch.stack(all_c2w, dim=<span class="number">0</span>)   <span class="comment"># (n_steps, 3, 4)</span></span><br></pre></td></tr></table></figure><ul><li>DTUDatasetBase, <code>setup(self,config,split)</code><ul><li><strong>load</strong> cameras_file and <code>imread(/root_dir/image/*.png)</code> <ul><li><code>cv2.imread : shape[0] is H , shape[1] is W</code> is different frome PIL image</li></ul></li><li>img_downscale or img_wh <strong>to downscale</strong></li><li>n_images(æ•°æ®é›†å›¾ç‰‡æ•°é‡) <code>max([int(k.split(&#39;_&#39;)[-1]) for k in cams.keys()]) + 1</code></li><li>for i in range(n_images): <ul><li><code>P = (world_mat @ scale_mat)[:3,:4]</code></li><li><code>K, c2w = load_K_Rt_from_P(P)</code></li><li><code>fx, fy, cx, cy = K[0,0] * self.factor, K[1,1] * self.factor, K[0,2] * self.factor, K[1,2] * self.factor</code><ul><li><code>self.factor = w / W</code></li></ul></li><li><code>directions = get_ray_directions(w, h, fx, fy, cx, cy)</code> å¾—åˆ°çš„å…‰çº¿æ–¹å‘i.e. rays_dä¸ºç±»ä¼¼NeRFçš„è®¡ç®—æ–¹å¼ï¼Œyä¸jåå‘ï¼Œzè¿œç¦»ç‰©ä½“çš„æ–¹å‘<ul><li>self.directions append directions</li></ul></li><li>c2w  to tensor float and for c2w, flip the sign of input camera coordinate yz<ul><li>c2w_ = c2w.clone</li><li><code>c2w_[:3,1:3] *= -1.</code> because Neus DTU data is different from blender or blender</li><li>all_c2w append c2w_</li></ul></li><li>if train or val<ul><li>open i:06d.png image (PIL image) (size : w,h)</li><li>resize to w,h by Image.BICUBIC</li><li>TF(torchvision.transforms.functional).to_tensor() : CHW<ul><li><code>CHW.permute(1, 2, 0)[...,:3]</code> : HWC</li></ul></li><li>open mask and covert(â€˜Lâ€™) , resize , to_tensor</li><li>all_fg_mask append mask</li><li>all_images append img</li></ul></li></ul></li><li>all_c2w : stack all_c2w</li><li>if test<ul><li>all_c2w = åˆ›å»ºä¸€ä¸ªçƒå½¢ç›¸æœºä½å§¿create_spheric_poses</li><li>all_images = zeros(n_test_traj_steps,h,w,3) dtype = torch.float32</li><li>all_fg_masks = zeros(n_test_traj_steps,h,w) dtype = torch.float32</li><li><code>directions = directions[0]</code></li></ul></li><li>else <ul><li>all_images = stack all_images</li><li>all_fg_masks = stack al_images</li><li>directions = stack self.directions</li></ul></li><li>.float().to(self.rank) <ul><li>self.rank = get_rank()  = 0 ,1 ,2 â€¦ gpuåºå·</li></ul></li><li></li></ul></li><li>DTUDataset ç»§æ‰¿Datasetå’ŒDTUDatasetBase<ul><li><code>__init__ , __len__ , __getitem__</code></li></ul></li><li>DTUIterableDataset ç»§æ‰¿IterableDataset å’Œ DTUDatasetBase<ul><li><code>__init__ , __iter__</code></li></ul></li><li>DTUDataModule ç»§æ‰¿pl.LightningDataModule<ul><li>@datasets.register(â€˜dtuâ€™)</li><li><code>__init__(self,config)</code></li><li>setup(self,stage)<ul><li><code>stage in [None , &#39;fit&#39;]</code> : train_dataset = DTUIterableDataset(self.config,â€™trainâ€™)</li><li><code>stage in [None , &#39;fit&#39; , &#39;validate&#39;]</code> : val_dataset = DTUDataset(self.config, self.config.get(â€˜val_splitâ€™,â€™trainâ€™))</li><li><code>stage in [None , &#39;test&#39;]</code> : test_dataset = DTUDataset(self.config , self.config.get(â€˜test_splitâ€™,â€™testâ€™))</li><li><code>stage in [None , &#39;predict&#39;]</code> : predict_dataset = DTUDataset(self.config, â€˜trainâ€™)</li></ul></li><li>prepare_data</li><li>general_loader(self,dataset,batch_size)<ul><li>return DataLoader(dataset,num_workers=os.cpu_count(),batch_size,pin_memory=True,sampler=None)</li></ul></li><li>train_dataloader(self)<ul><li>return self.general_loader(self.train_dataset,batch_size=1)</li></ul></li><li>val_dataloader(self)<ul><li>return self.general_loader(self.val_dataset,batch_size=1)</li></ul></li><li>test_dataloader(self)<ul><li>return self.general_loader(self.test_dataset,batch_size=1)</li></ul></li><li>predict_dataloader(self)<ul><li>return self.general_loader(self.predict_dataset,batch_size=1)</li></ul></li></ul></li></ul><h1 id="models"><a href="#models" class="headerlink" title="models"></a>models</h1><h2 id="init-1"><a href="#init-1" class="headerlink" title="init"></a>init</h2><p><code>@models.register(&#39;neus&#39;)</code> ä¿®é¥°å™¨çš„ä½œç”¨ï¼š</p><ul><li>ä¸»è¦æ˜¯ä¸ºäº†å®ä¾‹åŒ–NeuSModel()çš„åŒæ—¶ï¼Œåœ¨modelså­—å…¸ä¸­åŒæ—¶å­˜å…¥ä¸€ä¸ªNeuSModel()å€¼ï¼Œå¯¹åº”çš„keyä¸ºâ€™neusâ€™</li></ul><p>å½“è¿è¡Œ <code>neus_model = NeuSModel()</code> æ—¶ï¼Œå³ä¾‹å¦‚è¿è¡Œ<code>self.texture = models.make(self.config.texture.name, self.config.texture)</code>æ—¶ ï¼Œä¼šè¿è¡Œ<code>neus_model = register(&#39;neus&#39;)(NeusModel)</code><br>è¿”å›ç»™neus_modelçš„å€¼ä¸ºdecorator(cls) å‡½æ•°çš„è¿”å›å€¼ï¼Œå³NeusModel</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">models = &#123;&#125;</span><br><span class="line"></span><br><span class="line">def register(name):</span><br><span class="line">    def decorator(cls):</span><br><span class="line">        models[name] = cls</span><br><span class="line">        return cls</span><br><span class="line">    return decorator</span><br><span class="line"></span><br><span class="line">def make(name, config):</span><br><span class="line">    model = models[name](config)</span><br><span class="line">    return model</span><br><span class="line"></span><br><span class="line">from . import nerf, neus, geometry, texture</span><br></pre></td></tr></table></figure><h2 id="base"><a href="#base" class="headerlink" title="base"></a>base</h2><p>BaseModel ï¼Œ ç»§æ‰¿nn.Module</p><ul><li><code>__init__(self,config)</code><ul><li>self.confg = config , self.rank = get(rank)</li><li>self.setup()<ul><li>å¦‚æœæœ‰config.weightsï¼Œåˆ™load_state_dict(torch.load(config.weights))</li></ul></li></ul></li><li>setup()</li><li>update_step(self,epoch,global_step)</li><li>train(self,mode=True)<ul><li>return super().train(mode=mode)</li></ul></li><li>eval(self)<ul><li>return super().eval()</li></ul></li><li>regularizations(self,out)<ul><li>return {}</li></ul></li><li>@torch.no_gard() export(self,export_config)<ul><li>return {}</li></ul></li></ul><p>å…¶ä»–modeléœ€è¦ç»§æ‰¿äºBaseModel</p><h2 id="neus"><a href="#neus" class="headerlink" title="neus"></a>neus</h2><p>Neusä¸­çš„ä¸¤ä¸ªç½‘ç»œ</p><h3 id="VarianceNetwork-ç»§æ‰¿nn-Module"><a href="#VarianceNetwork-ç»§æ‰¿nn-Module" class="headerlink" title="VarianceNetwork ç»§æ‰¿nn.Module"></a>VarianceNetwork ç»§æ‰¿nn.Module</h3><p>sigmoidå‡½æ•°çš„så‚æ•°åœ¨è®­ç»ƒä¸­å˜åŒ–</p><ul><li><code>__init__(self,config)</code><ul><li>self.config, self.init_val</li><li>self.register_parameteræ¥è‡ªnn.Moduleæ³¨å†Œä¸€ä¸ªå‚æ•°</li><li>if self.modulate<ul><li>True: mod_start_steps, reach_max_steps, max_inv_s</li><li>False: none</li></ul></li></ul></li><li>@property å°†è¯¥å‡½æ•°å˜ä¸ºç±»çš„å±æ€§: inv_s()<ul><li>$val = e^{variance * 10.0}$</li><li>if self.modulate and do_mod<ul><li>val = val.clamp_max(mod_val)</li></ul></li><li>return val</li></ul></li><li>forward(self,x)<ul><li><code>return torch.ones([len(x), 1], device=self.variance.device) * self.inv_s</code> <ul><li>è¾“å…¥é•¿åº¦x1å¤§å°çš„inv_s</li></ul></li></ul></li><li>update_step(self,epoch,global_step)<ul><li>if self.modulate<ul><li>â€¦</li></ul></li></ul></li></ul><h3 id="NeuSModel-ç»§æ‰¿BaseModel"><a href="#NeuSModel-ç»§æ‰¿BaseModel" class="headerlink" title="NeuSModel ç»§æ‰¿BaseModel"></a>NeuSModel ç»§æ‰¿BaseModel</h3><p>@models.register(â€˜neusâ€™)<br><div class="note info">            <p>å¾—åˆ°ç»è¿‡ç½‘ç»œæ¸²æŸ“åçš„ä¸€ç³»åˆ—å‚æ•°:<br>position: n_samples x 3</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">forward_:</span><br><span class="line">&#123;**out,</span><br><span class="line">**&#123;k + &#x27;_bg&#x27;: v for k, v in out_bg.items()&#125;,</span><br><span class="line">**&#123;k + &#x27;_full&#x27;: v for k, v in out_full.items()&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">forward:</span><br><span class="line">**&#123;**out,</span><br><span class="line">**&#123;k + &#x27;_bg&#x27;: v for k, v in out_bg.items()&#125;,</span><br><span class="line">**&#123;k + &#x27;_full&#x27;: v for k, v in out_full.items()&#125;</span><br><span class="line">&#125;</span><br><span class="line">+ inv_s</span><br></pre></td></tr></table></figure><ul><li>out: <ul><li>rgb, normal : n_rays x 3</li><li>opacity=æƒé‡ç´¯åŠ , depth , rays_valid: opacity&gt;0 : n_rays x 1</li><li><code>num_samples: torch.as_tensor([len(t_starts)],dtype = torch.int32,device=rays.device)</code></li><li>if self.training:<ul><li>update: <ul><li>sdf, : n_samples x 1 </li><li>sdf_grad,  : n_samples x 3 </li><li>(weights, midpoints, dists, ray_indices).view(-1) : n_samples x 1</li></ul></li></ul></li></ul></li></ul><p>and</p><ul><li>if learned_background:<ul><li>out_bg:<ul><li>rgb, opacity, depth, rays_valid, num_samples</li><li>if self.training:<ul><li>update: (weights, midpoints, intervals, ray_indices).view(-1)</li></ul></li></ul></li></ul></li><li>else: rgb = None, num_samples = 0, rays_valid = 0</li></ul><p>and</p><ul><li>out_full <ul><li>rgb: <code>out_rgb + out_bg_rgb * (1.0 - out_opacity)</code> , n_rays x 1 </li><li>num_samples: out_num + out_bg_num , n_samples + n_samples_bg</li><li>rays_valid: out_valid + out_bg_valid , n_rays x 1</li></ul></li></ul>          </div></p><ul><li>setup<ul><li>self.geometry</li><li>self.texture</li><li>self.geometry.contraction_type</li><li>if self.config.learned_background<ul><li>self.geometry_bg</li><li>self.texture_bg</li><li>self.geometry_bg.contraction_type</li><li>self.near_plane_bg, self.far_plane_bg</li><li>self.cone_angle_bg = $10^{\frac{log_{10}(far.plane.bg)}{num.samples.per.ray.bg}}-1 = 10^{\frac{log_{10}(10^{3})}{64}}-1$</li></ul></li><li>self.variace = VarianceNetwork(self.config.variance)</li><li>self.register_buffer(â€˜scene_aabbâ€™)<ul><li>å³å°† self.scene_aabbæ”¾åœ¨æ¨¡å‹ç¼“å†²åŒºï¼Œå¯ä»¥ä¸å‚æ•°ä¸€èµ·ä¿å­˜ï¼Œå¯¹è¿™ä¸ªå˜é‡è¿›è¡Œä¼˜åŒ–</li></ul></li><li>if self.config.grid_prune ä½¿ç”¨nerfaccä¸­æ•´åˆçš„InstantNGPä¸­çš„å æ®ç½‘æ ¼ï¼Œè·³è¿‡ç©ºé—´ä¸­ç©ºç™½çš„éƒ¨åˆ†<ul><li>self.occupancy_grid = OccupancyGrid(roi_aabb, resolution=128 , contraction_type=AABB)</li><li>if self.learned_backgroundï¼š<ul><li>self.occupancy_grid_bg = OccupancyGrid(roi_aabb, resolution=256 , contraction_type=UN_BOUNDED_SPHERE)</li></ul></li></ul></li><li>self.randomized = true</li><li>self.background_color = None</li><li>self.render_step_size = $1.732 \times 2 \times \frac{radius}{num.samples.per.ray}$</li></ul></li></ul><hr><ul><li>update_step(self,epoch,global_step)<ul><li>update_module_step(m,epoch,global_step)<ul><li>m: self.geometry, self.texture,self.variance<ul><li>if learned_background self.geometry_bg, self_texture_bg</li></ul></li></ul></li><li>cos_anneal_end = config.cos_anneal_end = 20000</li><li>if cos_anneal_end == 0: self.cos_anneal_end = 1.0<ul><li>else :min(1.0, global_step / cos_anneal_end)</li></ul></li><li>occ_eval_fn(x)  <code>x: Nx3</code><ul><li>sdf = self.geometry(x,â€¦)</li><li><code>inv_s = self.variance(torch.zeros([1,3]))[:,:1].clip(1e-6,1e6)</code></li><li><code>inv_s = inv_s.expand(sdf.shape[0],1)</code></li><li><code>estimated_next_sdf = sdf[...,None] - self.render_step_size * 0.5</code><ul><li>$next = sdf - 1.732 \times 2 \times \frac{radius}{n.samples.perray} \cdot 0.5 = sdf - cos \cdot dist \cdot 0.5$<ul><li>$cos = 2 \cdot \sqrt{3}$</li></ul></li></ul></li><li><code>estimated_prev_sdf = sdf[...,None] + self.render_step_size * 0.5</code></li><li><code>prev_cdf = torch.sigmoid(estimated_prev_sdf * inv_s)</code></li><li><code>next_cdf = torch.sigmoid(estimated_prev_sdf * inv_s)</code></li><li><code>p = prev_cdf - next_cdf , c = prev_cdf</code></li><li><code>alpha = ((p + 1e-5) / (c + 1e-5)).view(-1, 1).clip(0.0, 1.0)</code>  Nx1</li><li>return alpha</li></ul></li><li>occ_eval_fn_bg(x)<ul><li><code>density, _ = self.geometry_bg(x)</code></li><li><code>return density[...,None] * self.render_step_size_bg</code></li></ul></li><li>if self.training(åœ¨nn.Moduleä¸­å¯ä»¥è¿™æ ·åˆ¤æ–­æ˜¯å¦ä¸ºè®­ç»ƒæ¨¡å¼) and self.grid_prune<ul><li>self.occupancy_grid.every_n_step ï¼šnerfaccçš„å æ®ç½‘æ ¼æ¯næ­¥æ›´æ–°ä¸€æ¬¡</li><li>if learned_background: self.occupancy_grid_bg.every_n_step</li></ul></li></ul></li></ul><hr><ul><li>isosurfaceï¼šåˆ¤æ–­æ˜¯å¦ç­‰å€¼é¢<ul><li>mesh = self.geometry.isosurface()</li><li>return mesh</li></ul></li></ul><hr><ul><li>get_alphaï¼šè·å–$\alpha$å€¼<ul><li><code>inv_s = self.variance(torch.zeros([1,3]))[:,:1].clip(1e-6,1e6)</code></li><li><code>inv_s = inv_s.expand(sdf.shape[0],1)</code></li><li><code>true_cos = (dirs * normal).sum(-1, keepdim=True)</code></li><li><code>iter_cos = -(F.relu(-true_cos * 0.5 + 0.5) * (1.0 - self.cos_anneal_ratio)+F.relu(-true_cos) * self.cos_anneal_ratio)</code></li><li><code>estimated_next_sdf = sdf[...,None] + iter_cos * dists.reshape(-1, 1) * 0.5</code></li><li><code>estimated_prev_sdf = sdf[...,None] - iter_cos * dists.reshape(-1, 1) * 0.5</code></li><li><code>prev_cdf = torch.sigmoid(estimated_prev_sdf * inv_s)</code></li><li><code>next_cdf = torch.sigmoid(estimated_next_sdf * inv_s)</code></li><li><code>p = prev_cdf - next_cdf</code></li><li><code>c = prev_cdf</code></li><li><code>alpha = ((p + 1e-5) / (c + 1e-5)).view(-1).clip(0.0, 1.0)</code> N,</li></ul></li></ul><hr><ul><li>forward_bg_ï¼šèƒŒæ™¯çš„è¾“å‡º<ul><li><code>n_rays = rays.shape[0]</code>, <code>rays_o, rays_d = rays[:, 0:3], rays[:, 3:6]</code></li><li>sigma_fn(t_starts, t_ends, ray_indices) <ul><li>ref: <a href="https://www.nerfacc.com/en/v0.3.5/apis/rendering.html">Volumetric Rendering â€” nerfacc 0.3.5 documentation</a></li><li><code>density, _ = self.geometry_bg(positions)</code></li><li>return <code>density[...,None]</code></li></ul></li><li><code>_, t_max = ray_aabb_intersect(rays_o, rays_d, self.scene_aabb)</code></li><li><code>near_plane = torch.where(t_max &gt; 1e9, self.near_plane_bg, t_max)</code><ul><li>if t_max &gt; 1e9, near_plane = self.near_plane_bg, else near_plane = t_max</li></ul></li><li>with torch.no_grad():<ul><li>ray_indices, t_starts, t_ends = ray_marching()</li><li>ref:<a href="https://www.nerfacc.com/en/v0.3.5/apis/rendering.html">Volumetric Rendering â€” nerfacc 0.3.5 documentation</a></li></ul></li><li>ray_indices = ray_indices.long() ä¸º<code>N_rays</code></li><li>t_origins = rays_o[ray_indices] <code>N_rays x 3</code></li><li>t_dirs = rays_d[ray_indices] <code>N_rays x 3</code></li><li>midpoints = (t_starts + t_ends) / 2.<code>n_samples x 1</code></li><li>positions = t_origins + t_dirs * midpoints  <code>n_samples x 3</code></li><li>intervals = t_ends - t_starts ä¸º<code>n_samples x 1</code><ul><li><strong><em>n_samples = N_rays1 </em> n_samples_ray1 + N_rays2 <em> n_samples_ray2 + â€¦</em></strong></li></ul></li><li>density, feature = self.geometry_bg(positions)<ul><li>density : n_samples x 1</li><li>feature : n_samples x feature_dim</li></ul></li><li>rgb = self.texture_bg(feature, t_dirs)<ul><li>rgb: n_samples x 3</li></ul></li><li>weights = render_weight_from_density(t_starts, t_ends, density[â€¦,None], ray_indices=ray_indices, n_rays=n_rays)<ul><li>ä»å¯†åº¦ä¸­å¾—åˆ°æƒé‡: $w_i = T_i(1 - exp(-\sigma_i\delta_i)), \quad\textrm{where}\quad T_i = exp(-\sum_{j=1}^{i-1}\sigma_j\delta_j)$</li><li>ref: <a href="https://www.nerfacc.com/en/v0.3.5/apis/generated/nerfacc.render_weight_from_density.html#nerfacc.render_weight_from_density">nerfacc.render_weight_from_density â€” nerfacc 0.3.5 documentation</a></li><li>n_samples x 1</li></ul></li><li>opacity = accumulate_along_rays(weights, ray_indices, values=None, n_rays=n_rays)<ul><li>ref: <a href="https://www.nerfacc.com/en/v0.3.5/apis/generated/nerfacc.accumulate_along_rays.html#nerfacc.accumulate_along_rays">nerfacc.accumulate_along_rays â€” nerfacc 0.3.5 documentation</a></li><li>n_rays, 1</li></ul></li><li>depth = accumulate_along_rays(weights, ray_indices, values=midpoints, n_rays=n_rays)<ul><li>n_rays, 1</li></ul></li><li>comp_rgb = accumulate_along_rays(weights, ray_indices, values=rgb, n_rays=n_rays)<ul><li>n_rays , 3</li></ul></li><li>comp_rgb = comp_rgb + self.background_color * (1.0 - opacity)<ul><li>n_rays , 3</li></ul></li><li>return out </li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">out = &#123;</span><br><span class="line">    <span class="string">&#x27;comp_rgb&#x27;</span>: comp_rgb, <span class="comment"># n_rays, 1</span></span><br><span class="line">    <span class="string">&#x27;opacity&#x27;</span>: opacity, <span class="comment"># n_rays, 1</span></span><br><span class="line">    <span class="string">&#x27;depth&#x27;</span>: depth, <span class="comment"># n_rays, 1</span></span><br><span class="line">    <span class="string">&#x27;rays_valid&#x27;</span>: opacity &gt; <span class="number">0</span>, <span class="comment"># n_rays, 1</span></span><br><span class="line">    <span class="string">&#x27;num_samples&#x27;</span>: torch.as_tensor([<span class="built_in">len</span>(t_starts)], dtype=torch.int32,device=rays.device) <span class="comment"># n_samples</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> self.training:</span><br><span class="line">    out.update(&#123;</span><br><span class="line">        <span class="string">&#x27;weights&#x27;</span>: weights.view(-<span class="number">1</span>), <span class="comment">#  n_samples x 1</span></span><br><span class="line">        <span class="string">&#x27;points&#x27;</span>: midpoints.view(-<span class="number">1</span>), <span class="comment"># n_samples x 1</span></span><br><span class="line">        <span class="string">&#x27;intervals&#x27;</span>: intervals.view(-<span class="number">1</span>), <span class="comment"># n_samples x 1</span></span><br><span class="line">        <span class="string">&#x27;ray_indices&#x27;</span>: ray_indices.view(-<span class="number">1</span>) <span class="comment"># n_samples</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><hr><ul><li>forward_ï¼šå‰æ™¯è¾“å‡º<ul><li><code>n_rays = rays.shape[0]</code>, <code>rays_o, rays_d = rays[:, 0:3], rays[:, 3:6]</code></li><li>with torch.no_grad():<ul><li>ray_indices, t_starts, t_ends = ray_marching(â€¦)</li><li>ref:<a href="https://www.nerfacc.com/en/v0.3.5/apis/rendering.html">Volumetric Rendering â€” nerfacc 0.3.5 documentation</a></li></ul></li><li>ray_indices = ray_indices.long()</li><li>t_origins = rays_o[ray_indices]</li><li>t_dirs = rays_d[ray_indices]</li><li>midpoints = (t_starts + t_ends) / 2.</li><li>positions = t_origins + t_dirs * midpoints</li><li>dists = t_ends - t_starts</li><li>sdf, sdf_grad, feature = self.geometry(positions, with_grad=True, with_feature=True)<ul><li>sdf : n_samples x 1 </li><li>sdf_grad: n_samples x 3</li><li>feature: n_samples x feature_dim</li></ul></li><li>normal = F.normalize(sdf_grad, p=2, dim=-1) æ³•å‘é‡ï¼šå°†sdfçš„æ¢¯åº¦å½’ä¸€åŒ–<ul><li>normal: n_samples x 3</li></ul></li><li>alpha = self.get_alpha(sdf, normal, t_dirs, dists)[â€¦,None]<ul><li>n_samples x 1</li></ul></li><li>rgb = self.texture(feature, t_dirs, normal)<ul><li>n_samples x 3</li></ul></li><li>weights = render_weight_from_alpha(alpha, ray_indices=ray_indices, n_rays=n_rays)<ul><li>ä»$\alpha$ä¸­å¾—åˆ°æƒé‡ï¼š$w_i = T_i\alpha_i, \quad\textrm{where}\quad T_i = \prod_{j=1}^{i-1}(1-\alpha_j)$</li><li>ref: <a href="https://www.nerfacc.com/en/v0.3.5/apis/generated/nerfacc.render_weight_from_alpha.html#nerfacc.render_weight_from_alpha">nerfacc.render_weight_from_alpha â€” nerfacc 0.3.5 documentation</a></li><li>n_samples x 1</li></ul></li><li>opacity = accumulate_along_rays(weights, ray_indices, values=None, n_rays=n_rays)<ul><li>n_rays, 1</li></ul></li><li>depth = accumulate_along_rays(weights, ray_indices, values=midpoints, n_rays=n_rays)<ul><li>n_rays, 1</li></ul></li><li>comp_rgb = accumulate_along_rays(weights, ray_indices, values=rgb, n_rays=n_rays)<ul><li>n_rays, 3</li></ul></li><li>comp_normal = accumulate_along_rays(weights, ray_indices, values=normal, n_rays=n_rays)<ul><li>n_rays, 3</li></ul></li><li>comp_normal = F.normalize(comp_normal, p=2, dim=-1)<ul><li>n_rays, 3</li></ul></li><li>return <code>&#123;**out, **&#123;k + &#39;_bg&#39;: v for k, v in out_bg.items()&#125;, **&#123;k + &#39;_full&#39;: v for k, v in ut_full.items()&#125;&#125;</code></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">out = &#123;</span><br><span class="line">    <span class="string">&#x27;comp_rgb&#x27;</span>: comp_rgb, <span class="comment"># n_rays, 3</span></span><br><span class="line">    <span class="string">&#x27;comp_normal&#x27;</span>: comp_normal, <span class="comment"># n_rays, 3</span></span><br><span class="line">    <span class="string">&#x27;opacity&#x27;</span>: opacity, <span class="comment"># n_rays, 1</span></span><br><span class="line">    <span class="string">&#x27;depth&#x27;</span>: depth, <span class="comment"># n_rays, 1</span></span><br><span class="line">    <span class="string">&#x27;rays_valid&#x27;</span>: opacity &gt; <span class="number">0</span>, <span class="comment"># n_rays, 1</span></span><br><span class="line">    <span class="string">&#x27;num_samples&#x27;</span>: torch.as_tensor([<span class="built_in">len</span>(t_starts)], dtype=torch.int32, device=rays.device) <span class="comment">#n_samples</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> self.training:</span><br><span class="line">    out.update(&#123;</span><br><span class="line">        <span class="string">&#x27;sdf_samples&#x27;</span>: sdf, <span class="comment"># n_samples , 1</span></span><br><span class="line">        <span class="string">&#x27;sdf_grad_samples&#x27;</span>: sdf_grad, <span class="comment"># n_samples , 3</span></span><br><span class="line">        <span class="string">&#x27;weights&#x27;</span>: weights.view(-<span class="number">1</span>), <span class="comment"># n_samples , 1</span></span><br><span class="line">        <span class="string">&#x27;points&#x27;</span>: midpoints.view(-<span class="number">1</span>), <span class="comment"># n_samples , 1</span></span><br><span class="line">        <span class="string">&#x27;intervals&#x27;</span>: dists.view(-<span class="number">1</span>), <span class="comment"># n_samples , 1</span></span><br><span class="line">        <span class="string">&#x27;ray_indices&#x27;</span>: ray_indices.view(-<span class="number">1</span>)   <span class="comment"># n_samples             </span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> self.config.learned_background:</span><br><span class="line">    out_bg = self.forward_bg_(rays)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    out_bg = &#123;</span><br><span class="line">        <span class="string">&#x27;comp_rgb&#x27;</span>: self.background_color[<span class="literal">None</span>,:].expand(*comp_rgb.shape),</span><br><span class="line">        <span class="string">&#x27;num_samples&#x27;</span>: torch.zeros_like(out[<span class="string">&#x27;num_samples&#x27;</span>]),</span><br><span class="line">        <span class="string">&#x27;rays_valid&#x27;</span>: torch.zeros_like(out[<span class="string">&#x27;rays_valid&#x27;</span>])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">out_full = &#123;</span><br><span class="line">    <span class="string">&#x27;comp_rgb&#x27;</span>: out[<span class="string">&#x27;comp_rgb&#x27;</span>] + out_bg[<span class="string">&#x27;comp_rgb&#x27;</span>] * (<span class="number">1.0</span> - out[<span class="string">&#x27;opacity&#x27;</span>]),</span><br><span class="line">    <span class="string">&#x27;num_samples&#x27;</span>: out[<span class="string">&#x27;num_samples&#x27;</span>] + out_bg[<span class="string">&#x27;num_samples&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;rays_valid&#x27;</span>: out[<span class="string">&#x27;rays_valid&#x27;</span>] | out_bg[<span class="string">&#x27;rays_valid&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><ul><li><p>forward(rays)</p><ul><li>if self.training <ul><li>out = self.forward_(rays)</li></ul></li><li>else<ul><li>out = chunk_batch(self.forward_, self.config.ray_chunk, True, rays)</li></ul></li><li>return <code>&#123;**out, &#39;inv_s&#39;: self.variance.inv_s&#125;</code></li></ul></li><li><p>train(self, mode=True)</p><ul><li>self.randomized = <code>mode and self.config.randomized</code></li><li>return super().train(mode=mode)</li></ul></li><li><p>eval</p><ul><li>self.randomized = False</li><li>return super().eval()</li></ul></li><li><p>regularizations</p><ul><li>losses = {}</li><li>losses.update(self.geometry.regularizations(out))</li><li>losses.update(self.texture.regularizations(out))</li><li>return losses</li></ul></li></ul><p>@torch.no_grad()</p><ul><li>exportï¼šå¯¼å‡ºå¸¦æœ‰textureçš„mesh</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@torch.no_grad()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">export</span>(<span class="params">self, export_config</span>):</span><br><span class="line">    mesh = self.isosurface()</span><br><span class="line">    <span class="keyword">if</span> export_config.export_vertex_color:</span><br><span class="line">        _, sdf_grad, feature = chunk_batch(self.geometry, export_config.chunk_size, <span class="literal">False</span>, mesh[<span class="string">&#x27;v_pos&#x27;</span>].to(self.rank), with_grad=<span class="literal">True</span>, with_feature=<span class="literal">True</span>)</span><br><span class="line">        normal = F.normalize(sdf_grad, p=<span class="number">2</span>, dim=-<span class="number">1</span>)</span><br><span class="line">        rgb = self.texture(feature, -normal, normal) <span class="comment"># set the viewing directions to the normal to get &quot;albedo&quot;</span></span><br><span class="line">        mesh[<span class="string">&#x27;v_rgb&#x27;</span>] = rgb.cpu()</span><br><span class="line">    <span class="keyword">return</span> mesh</span><br></pre></td></tr></table></figure><h2 id="network-utils"><a href="#network-utils" class="headerlink" title="network_utils"></a>network_utils</h2><div class="note info">            <p>å„ç§ç¼–ç æ–¹å¼å’ŒMLPç½‘ç»œ</p><ul><li>VanillaFrequency, ProgressiveBandHashGrid, tcnn.Encoding</li><li>VanillaMLP, tcnn.Network<br>å¯ä»¥ä½¿ç”¨çš„æ–¹æ³•ï¼š</li><li>get_encoding, get_mlp, get_encoding_with_network</li></ul>          </div><ul><li>VanillaFrequency ç»§æ‰¿nn.Module<ul><li><code>__init__(self, in_channels, config)</code><ul><li>self.N_freqs å³L</li><li>self.in_channels, self.n_input_dims = in_channels, in_channels</li><li><code>self.funcs = [torch.sin, torch.cos]</code></li><li><code>self.freq_bands = 2**torch.linspace(0, self.N_freqs-1, self.N_freqs)</code></li><li>self.n_output_dims = self.in_channels <em> (len(self.funcs) </em> self.N_freqs) = 3x2xL</li><li>self.n_masking_step = config.get(â€˜n_masking_stepâ€™, 0)</li><li>self.update_step æ¯æ­¥å¼€å§‹å‰éƒ½éœ€è¦æ›´æ–°å‡ºmask</li></ul></li><li>forward(self,x)<ul><li>out = []</li><li>for freq , mask in zip(self.freq_bands, self.mask):<ul><li>for func in self.funcs:<ul><li><code>out += [func(freq*x) * mask]</code>    </li></ul></li></ul></li><li>return torch.cat(out, -1)   </li></ul></li><li>update_step(self,epoch,global_step)<ul><li>if self.n_masking_step &lt;= 0 or global_step is None:<ul><li>self.mask = torch.ones(self.N_freqs, dtype=torch.float32) ä¸Lç›¸åŒå½¢çŠ¶çš„å…¨1å¼ é‡</li></ul></li><li>else:<ul><li>self.mask = (1. - torch.cos(math.pi <em> (global_step / self.n_masking_step </em> self.N_freqs - torch.arange(0, self.N_freqs)).clamp(0, 1))) / 2.<ul><li>mask = $\left(1-cos\left(\pi \cdot \left(\frac{global.step \cdot L}{n.masking.step}-arrange\right).clamp\right)\right) \cdot 0.5$</li></ul></li><li>rank_zero_debug(fâ€™Update mask: {global_step}/{self.n_masking_step} {self.mask}â€™)</li></ul></li></ul></li></ul></li></ul><p>Vanillaï¼šæœ€åˆå§‹çš„<br>å³NeRFä¸­çš„é¢‘ç‡ç¼–ç æ–¹å¼<br>$\gamma(p)=\left(\sin \left(2^{0} \pi p\right), \cos \left(2^{0} \pi p\right), \cdots, \sin \left(2^{L-1} \pi p\right), \cos \left(2^{L-1} \pi p\right)\right)$</p><ul><li><p>ProgressiveBandHashGridï¼Œç»§æ‰¿nn.Module</p><ul><li><code>__init__(self, in_channels,config)</code><ul><li>self.n_input_dims = in_channels</li><li>encoding_config = config.copy()</li><li>encoding_config[â€˜otypeâ€™] = â€˜HashGridâ€™</li><li>with torch.cuda.device(get_rank()):<ul><li>self.encoding = tcnn.Encoding(in_channels, encoding_config) ä½¿ç”¨å“ˆå¸Œç¼–ç </li></ul></li><li>self.n_output_dims = self.encoding.n_output_dims</li><li>self.n_level = config[â€˜n_levelsâ€™]ï¼Œåˆ†è¾¨ç‡ä¸ªæ•°</li><li>self.n_features_per_level = config[â€˜n_features_per_levelâ€™]ï¼Œç‰¹å¾å‘é‡ç»´æ•°</li><li>self.start_level, self.start_step, self.update_steps = config[â€˜start_levelâ€™], config[â€˜start_stepâ€™], config[â€˜update_stepsâ€™]</li><li>self.current_level = self.start_level</li><li>self.mask = torch.zeros(self.n_level * self.n_features_per_level, dtype=torch.float32, device=get_rank())</li></ul></li><li>forward(self,x)<ul><li>enc = self.encoding(x)</li><li>enc = enc * self.mask ,ç¬¬ä¸€ä¸ªstepï¼Œmaskä¸º0ï¼Œä¹‹åæ¯è¿‡update_stepsï¼Œæ›´æ–°ä¸€æ¬¡mask</li><li>return enc</li></ul></li><li>update_step(self,epoch,global_step)<ul><li>current_level = min(self.start_level + max(global_step - self.start_step, 0) // self.update_steps, self.n_level)<ul><li>min(1+max(global_step-0,0)//update_steps, 16)</li></ul></li><li>if current_level &gt; self.current_level:<ul><li>rank_zero_debug(fâ€™Update current level to {current_level}â€™)</li></ul></li><li>self.current_level = current_level</li><li><code>self.mask[:self.current_level * self.n_features_per_level] = 1.</code><ul><li>maskä»0åˆ°(å½“å‰åˆ†è¾¨ç‡xç‰¹å¾å‘é‡ç»´æ•°) ç½®ä¸º1</li></ul></li></ul></li></ul></li><li><p>CompositeEncodingï¼Œç»§æ‰¿nn.Module</p><ul><li><code>__init__(self, encoding , include_xyz = True, xyz_scale=1 , xyz_offset=0)</code><ul><li>self.encoding = encoding</li><li>self.include_xyz, self.xyz_scale, self.xyz_offset = include_xyz, xyz_scale, xyz_offset</li><li>self.n_output_dims = int(self.include_xyz) * self.encoding.n_input_dims + self.encoding.n_output_dims<ul><li>$o.dim = int(TorF) \cdot n.idim +n.odim$</li></ul></li></ul></li><li><code>forward(self,x,*args)</code><ul><li>return <code>self.encoding(x, *args) if not self.include_xyz else torch.cat([x * self.xyz_scale + self.xyz_offset, self.encoding(x, *args)], dim=-1)</code><ul><li>if include_xyz: <code>torch.cat([x * self.xyz_scale + self.xyz_offset, self.encoding(x, *args)], dim=-1)</code> å°†è¾“å…¥xå˜ä¸º2x-1ï¼Œå¹¶ä¸ç¼–ç åçš„è¾“å…¥catèµ·æ¥</li><li>else : <code>self.encoding(x, *args)</code></li></ul></li></ul></li><li>update(self, epoch, global_step)<ul><li>update_module_step(self.encoding, epoch, global_step)</li></ul></li></ul></li></ul><div class="note info">            <p>config_to_primitiveåœ¨utils/misc.pyä¸­ï¼Œ<code>return OmegaConf.to_container(config, resolve=resolve)</code><br>ç”±äºOmegaConf config objectså¾ˆå ç”¨å†…å­˜ï¼Œå› æ­¤ä½¿ç”¨to_containerè½¬åŒ–ä¸ºåŸå§‹çš„å®¹å™¨ï¼Œå¦‚dictã€‚å¦‚æœresolveå€¼è®¾ç½®ä¸º Trueï¼Œåˆ™å°†åœ¨è½¬æ¢æœŸé—´è§£æå†…æ’<code>${foo}</code>ã€‚</p>          </div><ul><li>get_encoding(n_input_dims, config)<ul><li><code>if config.otype ==  &#39;VanillaFrequency&#39;:</code><ul><li>encoding = VanillaFrequency(n_input_dims, config_to_primitive(config))</li></ul></li><li><code>elif config.otype == &#39;ProgressiveBandHashGrid&#39;:</code><ul><li>encoding = ProgressiveBandHashGrid(n_input_dims, config_to_primitive(config))</li></ul></li><li>else:<ul><li>with torch.cuda.device(get_rank()):<ul><li>encoding = tcnn.Encoding(n_input_dims, config_to_primitive(config)) </li></ul></li></ul></li><li><code>encoding = CompositeEncoding(encoding, include_xyz=config.get(&#39;include_xyz&#39;, False), xyz_scale=2., xyz_offset=-1.)</code></li><li>return encoding</li></ul></li></ul><hr><ul><li>VanillaMLP , ç»§æ‰¿nn.Module<ul><li>NeRFä¸­çš„MLP</li><li><code>__init__(self,dim_in,dim_out,config)</code><ul><li>ä¸€å…±n_hidden_layersä¸ªéšè—å±‚ï¼Œæ¯ä¸ªéšè—å±‚æœ‰n_neuronsä¸ªèŠ‚ç‚¹</li><li><code>Sequential(*self.layers)</code>å°†æ¯å±‚éƒ½åŠ å…¥ModuleListä¸­ï¼Œå¹¶åœ¨å†…éƒ¨å®ç°forwardï¼Œå¯ä»¥ä¸å†™forward<ul><li>ref: <a href="https://zhuanlan.zhihu.com/p/75206669">è¯¦è§£PyTorchä¸­çš„ModuleListå’ŒSequential - çŸ¥ä¹ (zhihu.com)</a></li></ul></li><li>get_activationï¼šutilsä¸­çš„æ¿€æ´»å‡½æ•°æ–¹æ³•ï¼Œæ ¹æ®ä¸åŒçš„output_activationé€‰æ‹©ä¸åŒçš„æ¿€æ´»å‡½æ•°</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">self.n_neurons, self.n_hidden_layers = config[<span class="string">&#x27;n_neurons&#x27;</span>], config[<span class="string">&#x27;n_hidden_layers&#x27;</span>]</span><br><span class="line">self.sphere_init, self.weight_norm = config.get(<span class="string">&#x27;sphere_init&#x27;</span>, <span class="literal">False</span>), config.get(<span class="string">&#x27;weight_norm&#x27;</span>, <span class="literal">False</span>)</span><br><span class="line">self.sphere_init_radius = config.get(<span class="string">&#x27;sphere_init_radius&#x27;</span>, <span class="number">0.5</span>)</span><br><span class="line">self.layers = [self.make_linear(dim_in, self.n_neurons, is_first=<span class="literal">True</span>, is_last=<span class="literal">False</span>), self.make_activation()]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.n_hidden_layers - <span class="number">1</span>):</span><br><span class="line">    self.layers += [self.make_linear(self.n_neurons, self.n_neurons, is_first=<span class="literal">False</span>, is_last=<span class="literal">False</span>), self.make_activation()]</span><br><span class="line">self.layers += [self.make_linear(self.n_neurons, dim_out, is_first=<span class="literal">False</span>, is_last=<span class="literal">True</span>)]</span><br><span class="line">self.layers = nn.Sequential(*self.layers)</span><br><span class="line">self.output_activation = get_activation(config[<span class="string">&#x27;output_activation&#x27;</span>])</span><br></pre></td></tr></table></figure><ul><li>VanillaMLP æ¥ä¸Š<ul><li>forward(self,x)ï¼ŒSequentialå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸éœ€æ„å»ºä¸€ä¸ªå¾ªç¯ä»ModuleListä¸­ä¾æ¬¡æ‰§è¡Œ<ul><li>x = self.layers(x.float())</li><li>x = self.output_activation(x)</li><li>return x</li></ul></li><li>make_linear(self,dim_in,dim_out,is_first,is_last)<ul><li>layer = nn.Linear(dim_in, dim_out, bias=True) # network without bias will degrade quality</li><li>if self.sphere_init: åˆå§‹åŒ–æ¯å±‚çš„æƒé‡å’Œåç½®(å¸¸æ•°æˆ–è€…æ­£æ€åˆ†å¸ƒ)<ul><li>if is_last:<ul><li>torch.nn.init.constant_(layer.bias, -self.sphere_init_radius)</li><li>torch.nn.init.normal_(layer.weight, mean=math.sqrt(math.pi) / math.sqrt(dim_in), std=0.0001)</li></ul></li><li>elif is_first:<ul><li>torch.nn.init.constant_(layer.bias, 0.0)</li><li>torch.nn.init.constant_(layer.weight[:, 3:], 0.0)</li><li>torch.nn.init.normal_(layer.weight[:, :3], 0.0, math.sqrt(2) / math.sqrt(dim_out))</li></ul></li><li>else:<ul><li>torch.nn.init.constant_(layer.bias, 0.0)</li><li>torch.nn.init.normal_(layer.weight, 0.0, math.sqrt(2) / math.sqrt(dim_out))</li></ul></li></ul></li><li>else:<ul><li>torch.nn.init.constant_(layer.bias, 0.0)</li><li>torch.nn.init.kaiming_uniform_(layer.weight, nonlinearity=â€™reluâ€™)</li></ul></li><li>if self.weight_norm: <ul><li>layer = nn.utils.weight_normal(layer)</li></ul></li><li>return layer</li></ul></li><li>make_activation<ul><li>if self.sphere_init:<ul><li>return nn.Softplus(beta=100)</li></ul></li><li>else:<ul><li>return nn.ReLU(inplace=True)</li></ul></li></ul></li></ul></li></ul><hr><ul><li>sphere_init_tcnn_network(n_input_dims, n_output_dims, config, network)<ul><li>rank_zero_debug(â€˜Initialize tcnn MLP to approximately represent a sphere.â€™)</li><li>padto = 16 if config.otype == â€˜FullyFusedMLPâ€™ else 8</li><li>n_input_dims = n_input_dims + (padto - n_input_dims % padto) % padto<ul><li>$ni = ni + (padto - ni \% padto) \% padto$ å–ä½™æ•°</li></ul></li><li>n_output_dims = n_output_dims + (padto - n_output_dims % padto) % padto</li><li><code>data = list(network.parameters())[0].data</code></li><li><code>assert data.shape[0] == (n_input_dims + n_output_dims) * config.n_neurons + (config.n_hidden_layers - 1) * config.n_neurons**2</code>   </li><li><code>new_data = []</code></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># first layer</span></span><br><span class="line">weight = torch.zeros((config.n_neurons, n_input_dims)).to(data)</span><br><span class="line">torch.nn.init.constant_(weight[:, <span class="number">3</span>:], <span class="number">0.0</span>)</span><br><span class="line">torch.nn.init.normal_(weight[:, :<span class="number">3</span>], <span class="number">0.0</span>, math.sqrt(<span class="number">2</span>) / math.sqrt(config.n_neurons))</span><br><span class="line">new_data.append(weight.flatten())</span><br><span class="line"><span class="comment"># hidden layers</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(config.n_hidden_layers - <span class="number">1</span>):</span><br><span class="line">    weight = torch.zeros((config.n_neurons, config.n_neurons)).to(data)</span><br><span class="line">    torch.nn.init.normal_(weight, <span class="number">0.0</span>, math.sqrt(<span class="number">2</span>) / math.sqrt(config.n_neurons))</span><br><span class="line">    new_data.append(weight.flatten())</span><br><span class="line"><span class="comment"># last layer</span></span><br><span class="line">weight = torch.zeros((n_output_dims, config.n_neurons)).to(data)</span><br><span class="line">torch.nn.init.normal_(weight, mean=math.sqrt(math.pi) / math.sqrt(config.n_neurons), std=<span class="number">0.0001</span>)</span><br><span class="line">new_data.append(weight.flatten())</span><br><span class="line">new_data = torch.cat(new_data)</span><br><span class="line">data.copy_(new_data)</span><br></pre></td></tr></table></figure><ul><li><p>get_mlp(n_input_dims, n_output_dims, config)</p><ul><li><code>if config.otype == &#39;VanillaMLP&#39;:</code><ul><li>network = VanillaMLP(n_input_dims, n_output_dims, config_to_primitive(config))</li></ul></li><li><code>else:</code><ul><li>with torch.cuda.device(get_rank()):<ul><li>network = tcnn.Network(n_input_dims, n_output_dims, config_to_primitive(config))</li><li>if config.get(â€˜sphere_initâ€™, False):<ul><li>sphere_init_tcnn_network(n_input_dims, n_output_dims, config, network)</li></ul></li></ul></li></ul></li><li>return network è¿”å›ä¸€ä¸ªmodel</li></ul></li><li><p>EncodingWithNetworkï¼Œç»§æ‰¿nn.Module</p><ul><li><code>__init__(self,encoding,network)</code><ul><li>self.encoding, self.network = encoding, network</li></ul></li><li>forward(self,x)<ul><li>return self.network(self.encoding(x))</li></ul></li><li>update_step(self, epoch, global_step)<ul><li>update_module_step(self.encoding, epoch, global_step)</li><li>update_module_step(self.network, epoch, global_step)</li></ul></li></ul></li><li><p>get_encoding_with_network(n_input_dims, n_output_dims, encoding_config, network_config)</p><ul><li><code>if encoding_config.otype in [&#39;VanillaFrequency&#39;, &#39;ProgressiveBandHashGrid&#39;] or network_config.otype in [&#39;VanillaMLP&#39;]:</code><ul><li>encoding = get_encoding(n_input_dims, encoding_config)</li><li>network = get_mlp(encoding.n_output_dims, n_output_dims, network_config)</li><li>encoding_with_network = EncodingWithNetwork(encoding, network)</li></ul></li><li>else:<ul><li>with torch.cuda.device(get_rank()):<ul><li>encoding_with_network = tcnn.NetworkWithInputEncoding(n_input_dims,n_output_dims,encoding_config,network_config)</li></ul></li></ul></li><li>return encoding_with_network</li></ul></li></ul><h2 id="geometry"><a href="#geometry" class="headerlink" title="geometry"></a>geometry</h2><div class="note info">            <p>è¾“å…¥ç‚¹çš„ä½ç½®positionç»è¿‡MLPç½‘ç»œå¾—åˆ°èƒŒæ™¯density, featureæˆ–è€…å‰æ™¯ç‰©ä½“sdf, sdf_grad, feature</p>          </div><ul><li>contract_to_unisphereï¼Œæ ¹æ®contraction_typeï¼Œå°†ä½ç½®xç¼©æ”¾åˆ°åˆé€‚å¤§å°<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">contract_to_unisphere</span>(<span class="params">x, radius, contraction_type</span>):</span><br><span class="line">    <span class="keyword">if</span> contraction_type == ContractionType.AABB:</span><br><span class="line">        x = scale_anything(x, (-radius, radius), (<span class="number">0</span>, <span class="number">1</span>))</span><br><span class="line">    <span class="keyword">elif</span> contraction_type == ContractionType.UN_BOUNDED_SPHERE:</span><br><span class="line">        x = scale_anything(x, (-radius, radius), (<span class="number">0</span>, <span class="number">1</span>))</span><br><span class="line">        x = x * <span class="number">2</span> - <span class="number">1</span>  <span class="comment"># aabb is at [-1, 1]</span></span><br><span class="line">        mag = x.norm(dim=-<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line">        mask = mag.squeeze(-<span class="number">1</span>) &gt; <span class="number">1</span></span><br><span class="line">        x[mask] = (<span class="number">2</span> - <span class="number">1</span> / mag[mask]) * (x[mask] / mag[mask])</span><br><span class="line">        x = x / <span class="number">4</span> + <span class="number">0.5</span>  <span class="comment"># [-inf, inf] is at [0, 1]</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line">    <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure></li></ul><p>å°†ç­‰å€¼é¢ä¸‰è§’ç½‘æ ¼åŒ–</p><ul><li>MarchingCubeHelper ç»§æ‰¿nn.Module<ul><li><code>__init__(resolution, use_torch=True)</code><ul><li>self.resolution = resolution</li><li>self.use_torch = use_torch</li><li>self.points_range = (0, 1)</li><li>if self.use_torch:<ul><li>import torchmcubes</li><li>self.mc_func = torchmcubes.marching_cubes</li></ul></li><li>else:<ul><li>import mcubes</li><li>self.mc_func = mcubes.marching_cubes</li></ul></li><li>self.verts = None</li></ul></li><li>grid_vertices()<ul><li>if self.verts is None:<ul><li><code>x, y, z = torch.linspace(*self.points_range, self.resolution), torch.linspace(*self.points_range, self.resolution), torch.linspace(*self.points_range, self.resolution)</code><ul><li><code>x: torch.Size([resolution])</code></li></ul></li><li>x, y, z = torch.meshgrid(x, y, z, indexing=â€™ijâ€™)<ul><li><code>x: torch.Size([resolution, resolution, resolution])</code></li></ul></li><li><code>verts = torch.cat([x.reshape(-1, 1), y.reshape(-1, 1), z.reshape(-1, 1)], dim=-1).reshape(-1, 3)</code><ul><li><code>verts: torch.Size([resolution ** 3, 3])</code></li></ul></li><li>self.verts = verts</li></ul></li><li>return self.verts</li></ul></li><li>forward(self,level,threshold=0.)<ul><li>level = level.float().view(self.resolution, self.resolution, self.resolution)</li><li>if self.use_torch:<ul><li><code>verts, faces = self.mc_func(level.to(get_rank()), threshold)</code></li><li><code>verts, faces = verts.cpu(), faces.cpu().long()</code></li></ul></li><li>else:<ul><li><code>verts, faces = self.mc_func(-level.numpy(), threshold)</code> # transform to numpy</li><li><code>verts, faces = torch.from_numpy(verts.astype(np.float32)), torch.from_numpy(faces.astype(np.int64))</code></li></ul></li><li>verts = verts / (self.resolution - 1.)</li><li>return {â€˜v_posâ€™: verts, â€˜t_pos_idxâ€™: faces}</li></ul></li></ul></li></ul><p>è·å¾—ç­‰å€¼é¢çš„meshç½‘æ ¼ï¼ŒåŒ…æ‹¬verticeså’Œfaces</p><ul><li>BaseImplicitGeometryï¼Œç»§æ‰¿BaseModel<ul><li><code>__init__(self,config)</code><ul><li><code>if self.config.isosurface is not None:</code><ul><li><code>assert self.config.isosurface.method in [&#39;mc&#39;, &#39;mc-torch&#39;]</code></li><li><code>if self.config.isosurface.method == &#39;mc-torch&#39;:</code><ul><li><code>raise NotImplementedError(&quot;Please do not use mc-torch. It currently has some scaling issues I haven&#39;t fixed yet.&quot;)</code></li></ul></li><li><code>self.helper = MarchingCubeHelper(self.config.isosurface.resolution, use_torch=self.config.isosurface.method==&#39;mc-torch&#39;)</code></li></ul></li><li>self.contraction_type = None</li><li>self.radius = self.config.radius</li></ul></li><li>forward_level(self,points)<ul><li>raise NotImplementedError</li></ul></li><li>isosurface_(self,vmin,vmax): è¿”å›mesh</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">batch_func</span>(<span class="params">x</span>):</span><br><span class="line">    x = torch.stack([</span><br><span class="line">        scale_anything(x[...,<span class="number">0</span>], (<span class="number">0</span>, <span class="number">1</span>), (vmin[<span class="number">0</span>], vmax[<span class="number">0</span>])),</span><br><span class="line">        scale_anything(x[...,<span class="number">1</span>], (<span class="number">0</span>, <span class="number">1</span>), (vmin[<span class="number">1</span>], vmax[<span class="number">1</span>])),</span><br><span class="line">        scale_anything(x[...,<span class="number">2</span>], (<span class="number">0</span>, <span class="number">1</span>), (vmin[<span class="number">2</span>], vmax[<span class="number">2</span>])),</span><br><span class="line">    ], dim=-<span class="number">1</span>).to(self.rank)</span><br><span class="line">    rv = self.forward_level(x).cpu() <span class="comment"># ä¸º -density</span></span><br><span class="line">    cleanup()</span><br><span class="line">    <span class="keyword">return</span> rv</span><br><span class="line"><span class="comment"># self.helper.grid_vertices(): torch.Size([resolution ** 3, 3])</span></span><br><span class="line">level = chunk_batch(batch_func, self.config.isosurface.chunk, <span class="literal">True</span>, self.helper.grid_vertices())</span><br><span class="line">mesh = self.helper(level, threshold=self.config.isosurface.threshold)</span><br><span class="line">mesh[<span class="string">&#x27;v_pos&#x27;</span>] = torch.stack([</span><br><span class="line">    scale_anything(mesh[<span class="string">&#x27;v_pos&#x27;</span>][...,<span class="number">0</span>], (<span class="number">0</span>, <span class="number">1</span>), (vmin[<span class="number">0</span>], vmax[<span class="number">0</span>])),</span><br><span class="line">    scale_anything(mesh[<span class="string">&#x27;v_pos&#x27;</span>][...,<span class="number">1</span>], (<span class="number">0</span>, <span class="number">1</span>), (vmin[<span class="number">1</span>], vmax[<span class="number">1</span>])),</span><br><span class="line">    scale_anything(mesh[<span class="string">&#x27;v_pos&#x27;</span>][...,<span class="number">2</span>], (<span class="number">0</span>, <span class="number">1</span>), (vmin[<span class="number">2</span>], vmax[<span class="number">2</span>]))</span><br><span class="line">], dim=-<span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> mesh</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> utils:</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scale_anything</span>(<span class="params">dat, inp_scale, tgt_scale</span>):</span><br><span class="line">    <span class="keyword">if</span> inp_scale <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        inp_scale = [dat.<span class="built_in">min</span>(), dat.<span class="built_in">max</span>()]</span><br><span class="line">    dat = (dat  - inp_scale[<span class="number">0</span>]) / (inp_scale[<span class="number">1</span>] - inp_scale[<span class="number">0</span>])</span><br><span class="line">    dat = dat * (tgt_scale[<span class="number">1</span>] - tgt_scale[<span class="number">0</span>]) + tgt_scale[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> dat</span><br></pre></td></tr></table></figure><ul><li>BaseImplicitGeometry æ¥ä¸Š<ul><li>@torch.no_grad()</li><li>isosurface(self) <ul><li>if self.config.isosurface is None:<ul><li>raise NotImplementedError</li></ul></li><li>mesh_coarse = self.isosurface_((-self.radius, -self.radius, -self.radius), (self.radius, self.radius, self.radius))</li><li>vmin, vmax = mesh_coarse[â€˜v_posâ€™].amin(dim=0), mesh_coarse[â€˜v_posâ€™].amax(dim=0)</li><li>vmin_ = (vmin - (vmax - vmin) * 0.1).clamp(-self.radius, self.radius)</li><li>vmax_ = (vmax + (vmax - vmin) * 0.1).clamp(-self.radius, self.radius)</li><li>mesh_fine = self.isosurface_(vmin_, vmax_)</li><li>return mesh_fine  è¿”å›verticeså’Œfaces</li></ul></li></ul></li></ul><p>èƒŒæ™¯å‡ ä½•ï¼šdensityå’Œfeature<br>@models.register(â€˜volume-densityâ€™)</p><ul><li>VolumeDensity ç»§æ‰¿BaseImplicitGeometry<ul><li>setup()<ul><li>self.n_input_dims = self.config.get(â€˜n_input_dimsâ€™, 3)</li><li>self.n_output_dims = self.config.feature_dim</li><li>self.encoding_with_network = get_encoding_with_network(self.n_input_dims, self.n_output_dims, self.config.xyz_encoding_config, self.config.mlp_network_config)</li></ul></li><li>forward(self,points) æ ¹æ®ç¼–ç æ–¹å¼å’Œç½‘ç»œï¼Œå¾—åˆ°densityå’Œfeature<ul><li>points = contract_to_unisphere(points, self.radius, self.contraction_type)</li><li><code>out = self.encoding_with_network(points.view(-1, self.n_input_dims)).view(*points.shape[:-1], self.n_output_dims).float()</code></li><li>density, feature = out[â€¦,0], out</li><li>if â€˜density_activationâ€™ in self.config:<ul><li>density = get_activation(self.config.density_activation)(density + float(self.config.density_bias))</li></ul></li><li>if â€˜feature_activationâ€™ in self.config:<ul><li>feature = get_activation(self.config.feature_activation)(feature)</li></ul></li><li>return density, feature</li></ul></li><li>forward_level(self,points) æ ¹æ®ç¼–ç æ–¹å¼å’Œç½‘ç»œï¼Œå¾—åˆ°-densityï¼Œæ–¹ä¾¿è¿›è¡Œåˆ¤æ–­ç­‰å€¼é¢isosurface<ul><li>points = contract_to_unisphere(points, self.radius, self.contraction_type)</li><li><code>density = self.encoding_with_network(points.reshape(-1, self.n_input_dims)).reshape(*points.shape[:-1], self.n_output_dims)[...,0]</code></li><li>if â€˜density_activationâ€™ in self.config:<ul><li>density = get_activation(self.config.density_activation)(density + float(self.config.density_bias))</li></ul></li><li>return -density</li></ul></li><li>update_step(self,epoch, global_step)<ul><li>update_module_step(self.encoding_with_network, epoch, global_step)</li></ul></li></ul></li></ul><p>å‰æ™¯ç‰©ä½“å‡ ä½•ï¼šsdf, sdf_grad, feature<br>@models.register(â€˜volume-sdfâ€™)</p><ul><li>VolumeSDF<ul><li>setup()<ul><li>self.n_output_dims = self.config.feature_dim</li><li>encoding = get_encoding(3, self.config.xyz_encoding_config)</li><li>network = get_mlp(encoding.n_output_dims, self.n_output_dims, self.config.mlp_network_config)</li><li>self.encoding, self.network = encoding, network</li><li>self.grad_type = self.config.grad_type</li></ul></li><li>forward(self, points, with_grad=True, with_feature=True)<ul><li><code>with torch.inference_mode(torch.is_inference_mode_enabled() and not (with_grad and self.grad_type == &#39;analytic&#39;))</code>: æ˜¯å¦å¯ç”¨æ¨ç†æ¨¡å¼ï¼Œå½“å‰ä¸ºæ¨ç†ï¼Œå¹¶ä¸”æ²¡æœ‰gradï¼Œgrad_typeä¸æ˜¯analytic<ul><li><code>with torch.set_grad_enabled(self.training or (with_grad and self.grad_type == &#39;analytic&#39;)):</code><ul><li>if with_grad and self.grad_type == â€˜analyticâ€™:</li><li>if not self.training:<ul><li>points = points.clone() # points may be in inference mode, get a copy to enable grad</li></ul></li><li>points.requires_grad_(True)</li></ul></li><li>points_ = points åˆå§‹ä½ç½®</li><li>points = contract_to_unisphere(points, self.radius, self.contraction_type) <strong>points normalized to (0, 1)</strong></li><li><code>out = self.network(self.encoding(points.view(-1, 3))).view(*points.shape[:-1], self.n_output_dims).float()</code></li><li><code>sdf, feature = out[...,0], out</code></li><li>if â€˜sdf_activationâ€™ in self.config: sdfæ¿€æ´»<ul><li>sdf = get_activation(self.config.sdf_activation)(sdf + float(self.config.sdf_bias))</li></ul></li><li>if â€˜feature_activationâ€™ in self.config:<ul><li>feature = get_activation(self.config.feature_activation)(feature)       </li></ul></li><li>if with_grad: æ±‚æ¢¯åº¦çš„ä¸¤ç§æ–¹æ³•ï¼šè‡ªåŠ¨å¾®åˆ†oræœ‰é™å·®åˆ†æ³•<ul><li><code>if self.grad_type == &#39;analytic&#39;:</code> <ul><li>grad = torch.autograd.grad(sdf, points_, grad_outputs=torch.ones_like(sdf),create_graph=True, retain_graph=True, only_inputs=True)[0]</li></ul></li><li><code>elif self.grad_type == &#39;finite_difference&#39;:</code><ul><li>æœ‰é™å·®åˆ†å¾—åˆ°$ğ‘“ â€² (ğ‘¥) = (ğ‘“ (ğ‘¥ + Î”ğ‘¥) âˆ’ (ğ‘“ ğ‘¥ âˆ’ Î”ğ‘¥))/2Î”ğ‘¥$ï¼Œsdfå¯¹ä½ç½®çš„æ¢¯åº¦grad</li></ul></li></ul></li></ul></li><li><code>rv = [sdf]</code></li><li>if with_grad:<ul><li>rv.append(grad)</li></ul></li><li>if with_feature:<ul><li>rv.append(feature)</li></ul></li><li><code>rv = [v if self.training else v.detach() for v in rv]</code></li><li><code>return rv[0] if len(rv) == 1 else rv</code></li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">æœ‰é™å·®åˆ†æ³•</span><br><span class="line">eps = <span class="number">0.001</span></span><br><span class="line">points_d_ = torch.stack([</span><br><span class="line">    points_ + torch.as_tensor([eps, <span class="number">0.0</span>, <span class="number">0.0</span>]).to(points_), <span class="comment"># to(other): è¿”å›ä¸€ä¸ªä¸ Tensor other å…·æœ‰ç›¸åŒ torch.dtype å’Œ torch.device çš„ Tensor</span></span><br><span class="line">    points_ + torch.as_tensor([-eps, <span class="number">0.0</span>, <span class="number">0.0</span>]).to(points_),</span><br><span class="line">    points_ + torch.as_tensor([<span class="number">0.0</span>, eps, <span class="number">0.0</span>]).to(points_),</span><br><span class="line">    points_ + torch.as_tensor([<span class="number">0.0</span>, -eps, <span class="number">0.0</span>]).to(points_),</span><br><span class="line">    points_ + torch.as_tensor([<span class="number">0.0</span>, <span class="number">0.0</span>, eps]).to(points_),</span><br><span class="line">    points_ + torch.as_tensor([<span class="number">0.0</span>, <span class="number">0.0</span>, -eps]).to(points_)</span><br><span class="line">], dim=<span class="number">0</span>).clamp(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">points_d = scale_anything(points_d_, (-self.radius, self.radius), (<span class="number">0</span>, <span class="number">1</span>))</span><br><span class="line">points_d_sdf = self.network(self.encoding(points_d.view(-<span class="number">1</span>, <span class="number">3</span>)))[...,<span class="number">0</span>].view(<span class="number">6</span>, *points.shape[:-<span class="number">1</span>]).<span class="built_in">float</span>()</span><br><span class="line">grad = torch.stack([</span><br><span class="line">    <span class="number">0.5</span> * (points_d_sdf[<span class="number">0</span>] - points_d_sdf[<span class="number">1</span>]) / eps,</span><br><span class="line">    <span class="number">0.5</span> * (points_d_sdf[<span class="number">2</span>] - points_d_sdf[<span class="number">3</span>]) / eps,</span><br><span class="line">    <span class="number">0.5</span> * (points_d_sdf[<span class="number">4</span>] - points_d_sdf[<span class="number">5</span>]) / eps,</span><br><span class="line">], dim=-<span class="number">1</span>)</span><br></pre></td></tr></table></figure><ul><li>VolumeSDF æ¥ä¸Š<ul><li>forward_level(self, points)<ul><li>points = contract_to_unisphere(points, self.radius, self.contraction_type) # points normalized to (0, 1)</li><li><code>sdf = self.network(self.encoding(points.view(-1, 3))).view(*points.shape[:-1], self.n_output_dims)[...,0]</code></li><li>if â€˜sdf_activationâ€™ in self.config:<ul><li>sdf = get_activation(self.config.sdf_activation)(sdf + float(self.config.sdf_bias))</li></ul></li><li>return sdf</li></ul></li><li>update_step(self, epoch , global_step)<ul><li>update_module_step(self.encoding, epoch, global_step)</li><li>update_module_step(self.network, epoch, global_step)</li></ul></li></ul></li></ul><h2 id="texture"><a href="#texture" class="headerlink" title="texture"></a>texture</h2><div class="note info">            <p>æ ¹æ®featureã€dirså¾—åˆ°èƒŒæ™¯é¢œè‰²<br>æ ¹æ®featureã€dirsï¼Œä»¥åŠnormalå¾—åˆ°å‰æ™¯é¢œè‰²</p>          </div><p>å‰èƒŒæ™¯é¢œè‰²å€¼<br>@models.register(â€˜volume-radianceâ€™)</p><ul><li>VolumeRadianceï¼Œç»§æ‰¿nn.Module<ul><li><code>__init__</code><ul><li>self.config = config</li><li>self.n_dir_dims = self.config.get(â€˜n_dir_dimsâ€™, 3)</li><li>self.n_output_dims = 3</li><li>encoding = get_encoding(self.n_dir_dims, self.config.dir_encoding_config)</li><li>self.n_input_dims = self.config.input_feature_dim + encoding.n_output_dims</li><li>network = get_mlp(self.n_input_dims, self.n_output_dims, self.config.mlp_network_config) </li><li>self.encoding = encoding</li><li>self.network = network</li></ul></li><li><code>forward(self, features, dirs, *args)</code><ul><li>dirs = (dirs + 1.) / 2. # (-1, 1) =&gt; (0, 1)</li><li>dirs_embd = self.encoding(dirs.view(-1, self.n_dir_dims))</li><li><code>network_inp = torch.cat([features.view(-1, features.shape[-1]), dirs_embd] + [arg.view(-1, arg.shape[-1]) for arg in args], dim=-1)</code></li><li><code>color = self.network(network_inp).view(*features.shape[:-1], self.n_output_dims).float()</code></li><li>if â€˜color_activationâ€™ in self.config:<ul><li>color = get_activation(self.config.color_activation)(color)</li></ul></li><li>return color</li></ul></li><li>update_step(self, epoch, global_step)<ul><li>update_module_step(self.encoding, epoch, global_step)</li></ul></li><li>regularizations(self, out)<ul><li>return {}</li></ul></li></ul></li></ul><p>@models.register(â€˜volume-colorâ€™) </p><ul><li>VolumeColorï¼Œä¸ä½¿ç”¨ç¼–ç æ–¹æ³•<ul><li><code>__init__</code><ul><li>self.config = config</li><li>self.n_output_dims = 3</li><li>self.n_input_dims = self.config.input_feature_dim</li><li>network = get_mlp(self.n_input_dims, self.n_output_dims, self.config.mlp_network_config)</li><li>self.network = network</li></ul></li><li><code>forward(self, features, *args)</code><ul><li><code>network_inp = features.view(-1, features.shape[-1])</code></li><li><code>color = self.network(network_inp).view(*features.shape[:-1], self.n_output_dims).float()</code></li><li>if â€˜color_activationâ€™ in self.config:<ul><li>color = get_activation(self.config.color_activation)(color)</li></ul></li><li>return color</li></ul></li><li>regularizations(self, out)<ul><li>return {}</li></ul></li></ul></li></ul><h2 id="ray-utils"><a href="#ray-utils" class="headerlink" title="ray_utils"></a>ray_utils</h2><ul><li>cast_rays</li></ul><p>è·å–å…‰çº¿çš„æ–¹å‘(ç›¸æœºåæ ‡ä¸‹)</p><ul><li>get_ray_directions(W, H, fx, fy, cx, cy, use_pixel_centers=True)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_ray_directions</span>(<span class="params">W, H, fx, fy, cx, cy, use_pixel_centers=<span class="literal">True</span></span>):</span><br><span class="line">    pixel_center = <span class="number">0.5</span> <span class="keyword">if</span> use_pixel_centers <span class="keyword">else</span> <span class="number">0</span> <span class="comment"># æ˜¯å¦ä½¿ç”¨åƒç´ ä¸­å¿ƒ</span></span><br><span class="line">    i, j = np.meshgrid(</span><br><span class="line">        np.arange(W, dtype=np.float32) + pixel_center,</span><br><span class="line">        np.arange(H, dtype=np.float32) + pixel_center,</span><br><span class="line">        indexing=<span class="string">&#x27;xy&#x27;</span></span><br><span class="line">    )</span><br><span class="line">    i, j = torch.from_numpy(i), torch.from_numpy(j)</span><br><span class="line"></span><br><span class="line">    directions = torch.stack([(i - cx) / fx, -(j - cy) / fy, -torch.ones_like(i)], -<span class="number">1</span>) <span class="comment"># (H, W, 3)</span></span><br><span class="line">    <span class="comment"># è®¡ç®—æ–¹å¼ä¸NeRFç›¸åŒ</span></span><br><span class="line">    <span class="keyword">return</span> directions</span><br></pre></td></tr></table></figure><p>è·å–å…‰çº¿</p><ul><li>get_rays(directions, c2w, keepdim=False):</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_rays</span>(<span class="params">directions, c2w, keepdim=<span class="literal">False</span></span>):</span><br><span class="line">    <span class="comment"># Rotate ray directions from camera coordinate to the world coordinate</span></span><br><span class="line">    <span class="comment"># rays_d = directions @ c2w[:, :3].T # (H, W, 3) # slow?</span></span><br><span class="line">    <span class="keyword">assert</span> directions.shape[-<span class="number">1</span>] == <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> directions.ndim == <span class="number">2</span>: <span class="comment"># (N_rays, 3)</span></span><br><span class="line">        <span class="keyword">assert</span> c2w.ndim == <span class="number">3</span> <span class="comment"># (N_rays, 4, 4) / (1, 4, 4)</span></span><br><span class="line">        rays_d = (directions[:,<span class="literal">None</span>,:] * c2w[:,:<span class="number">3</span>,:<span class="number">3</span>]).<span class="built_in">sum</span>(-<span class="number">1</span>) <span class="comment"># (N_rays, 3)</span></span><br><span class="line">        rays_o = c2w[:,:,<span class="number">3</span>].expand(rays_d.shape)</span><br><span class="line">    <span class="keyword">elif</span> directions.ndim == <span class="number">3</span>: <span class="comment"># (H, W, 3)</span></span><br><span class="line">        <span class="keyword">if</span> c2w.ndim == <span class="number">2</span>: <span class="comment"># (4, 4)</span></span><br><span class="line">            rays_d = (directions[:,:,<span class="literal">None</span>,:] * c2w[<span class="literal">None</span>,<span class="literal">None</span>,:<span class="number">3</span>,:<span class="number">3</span>]).<span class="built_in">sum</span>(-<span class="number">1</span>) <span class="comment"># (H, W, 3)</span></span><br><span class="line">            rays_o = c2w[<span class="literal">None</span>,<span class="literal">None</span>,:,<span class="number">3</span>].expand(rays_d.shape)</span><br><span class="line">        <span class="keyword">elif</span> c2w.ndim == <span class="number">3</span>: <span class="comment"># (B, 4, 4)</span></span><br><span class="line">            rays_d = (directions[<span class="literal">None</span>,:,:,<span class="literal">None</span>,:] * c2w[:,<span class="literal">None</span>,<span class="literal">None</span>,:<span class="number">3</span>,:<span class="number">3</span>]).<span class="built_in">sum</span>(-<span class="number">1</span>) <span class="comment"># (B, H, W, 3)</span></span><br><span class="line">            rays_o = c2w[:,<span class="literal">None</span>,<span class="literal">None</span>,:,<span class="number">3</span>].expand(rays_d.shape)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> keepdim:</span><br><span class="line">        rays_o, rays_d = rays_o.reshape(-<span class="number">1</span>, <span class="number">3</span>), rays_d.reshape(-<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rays_o, rays_d</span><br></pre></td></tr></table></figure><h2 id="utils"><a href="#utils" class="headerlink" title="utils"></a>utils</h2><p>åˆ†æ‰¹ä½¿ç”¨funcå¤„ç†æ•°æ®ï¼Œå¹¶å†³å®šæ˜¯å¦ç§»åŠ¨åˆ°cpu</p><ul><li><code>chunk_batch(func, chunk_size, move_to_cpu, *args, **kwargs)</code><ul><li>B = None</li><li>for arg in args<ul><li>if isinstance(arg, torch.Tensor):<ul><li><code>B = arg.shape[0]</code></li><li>break</li></ul></li></ul></li><li>out = defaultdict(list)  å°†å­—å…¸ä¸­åŒä¸ªkeyçš„å¤šä¸ªvalueæ„æˆä¸€ä¸ªåˆ—è¡¨<ul><li>ref: <a href="https://blog.csdn.net/weixin_38145317/article/details/93175217">(21æ¡æ¶ˆæ¯) python å­—å…¸defaultdict(list)_wanghua609çš„åšå®¢-CSDNåšå®¢</a></li></ul></li><li>out_type = None</li><li>for i in range(0, B, chunk_size):<ul><li><code>out_chunk = func(*[arg[i:i+chunk_size] if isinstance(arg, torch.Tensor) else arg for arg in args], **kwargs)</code><ul><li>ä½¿ç”¨funcå‡½æ•°å¾—åˆ°ä¸€æ‰¹è¾“å‡º</li></ul></li><li>if out_chunk is None:<ul><li>continue</li></ul></li><li>out_type = type(out_chunk)</li><li>if isinstance(out_chunk, torch.Tensor): å°†out_chunk å˜ä¸ºå­—å…¸<ul><li>out_chunk = {0: out_chunk}</li></ul></li><li>elif isinstance(out_chunk, tuple) or isinstance(out_chunk, list):<ul><li>chunk_length = len(out_chunk)</li><li>out_chunk = {i: chunk for i, chunk in enumerate(out_chunk)}</li></ul></li><li>elif isinstance(out_chunk, dict):<ul><li>pass</li></ul></li><li>else:<ul><li><code>print(f&#39;Return value of func must be in type [torch.Tensor, list, tuple, dict], get &#123;type(out_chunk)&#125;.&#39;)</code></li><li>exit(1)</li></ul></li><li>for k, v in out_chunk.items():<ul><li>v = v if torch.is_grad_enabled() else v.detach()</li><li>v = v.cpu() if move_to_cpu else v</li><li><code>out[k].append(v)</code></li></ul></li></ul></li><li>if out_type is None:<ul><li>return</li></ul></li><li>out = {k: torch.cat(v, dim=0) for k, v in out.items()}</li><li>if out_type is torch.Tensor:<ul><li>return out[0]</li></ul></li><li><code>elif out_type in [tuple, list]</code>:<ul><li><code>return out_type([out[i] for i in range(chunk_length)])</code></li></ul></li><li>elif out_type is dict:<ul><li>return out</li></ul></li></ul></li></ul><p>å°†datä»inpç¼©æ”¾åˆ°tgt</p><ul><li>scale_anything(dat, inp_scale, tgt_scale): <ul><li>if inp_scale is None:<ul><li><code>inp_scale = [dat.min(), dat.max()]</code></li></ul></li><li><code>dat = (dat  - inp_scale[0]) / (inp_scale[1] - inp_scale[0])</code></li><li><code>dat = dat * (tgt_scale[1] - tgt_scale[0]) + tgt_scale[0]</code></li><li>return dat</li></ul></li></ul><p>æ¿€æ´»å‡½æ•°</p><ul><li>get_activation(name)<ul><li>if name is None:<ul><li>return lambda x: x</li></ul></li><li>name = name.lower() # lowerï¼š å°†æ‰€æœ‰å¤§å†™å­—ç¬¦è½¬æ¢ä¸ºå°å†™</li><li>if name == â€˜noneâ€™:  return lambda x: x</li><li>if name.startswith(â€˜scaleâ€™): <ul><li>scale_factor = float(name[5:])</li><li>return lambda x: x.clamp(0., scale_factor) / scale_factor</li></ul></li><li>elif name.startswith(â€˜clampâ€™):<ul><li>clamp_max = float(name[5:])</li><li>return lambda x: x.clamp(0., clamp_max)</li></ul></li><li>elif name.startswith(â€˜mulâ€™):<ul><li>mul_factor = float(name[3:])</li><li>return lambda x: x * mul_factor</li></ul></li><li>elif name == â€˜lin2srgbâ€™:<code>return lambda x: torch.where(x &gt; 0.0031308, torch.pow(torch.clamp(x, min=0.0031308), 1.0/2.4)*1.055 - 0.055, 12.92*x).clamp(0., 1.)</code></li><li>elif name == â€˜trunc_expâ€™: return trunc_exp</li><li>elif name.startswith(â€˜+â€™) or name.startswith(â€˜-â€˜): return lambda x: x + float(name)</li><li>elif name == â€˜sigmoidâ€™:return lambda x: torch.sigmoid(x)</li><li>elif name == â€˜tanhâ€™: return lambda x: torch.tanh(x)</li><li>else:  return getattr(F, name)</li></ul></li></ul><h1 id="systems"><a href="#systems" class="headerlink" title="systems"></a>systems</h1><h2 id="init-2"><a href="#init-2" class="headerlink" title="init"></a>init</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">systems = &#123;&#125;</span><br><span class="line"></span><br><span class="line">def register(name):</span><br><span class="line">    def decorator(cls):</span><br><span class="line">        systems[name] = cls</span><br><span class="line">        return cls</span><br><span class="line">    return decorator</span><br><span class="line"></span><br><span class="line">def make(name, config, load_from_checkpoint=None):</span><br><span class="line">    if load_from_checkpoint is None:</span><br><span class="line">        system = systems[name](config)</span><br><span class="line">    else:</span><br><span class="line">        system = systems[name].load_from_checkpoint(load_from_checkpoint, strict=False, config=config)</span><br><span class="line">    return system</span><br><span class="line"></span><br><span class="line">from . import nerf, neus</span><br></pre></td></tr></table></figure><h2 id="base-1"><a href="#base-1" class="headerlink" title="base"></a>base</h2><ul><li>BaseSystemï¼Œç»§æ‰¿pl.LightningModuleå’ŒSaverMixin<ul><li><code>__init__</code><ul><li>self.config = config</li><li>self.rank = get_rank()</li><li>self.prepare()</li><li>self.model = models.make(self.config.model.name, self.config.model)</li></ul></li><li>prepare<ul><li>pass</li></ul></li><li>forward(self, batch)<ul><li>raise NotImplementedError</li></ul></li><li>C(self, value)</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">C():</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">isinstance</span>(value, <span class="built_in">int</span>) <span class="keyword">or</span> <span class="built_in">isinstance</span>(value, <span class="built_in">float</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    value = config_to_primitive(value)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(value, <span class="built_in">list</span>):</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">&#x27;Scalar specification only supports list, got&#x27;</span>, <span class="built_in">type</span>(value))</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(value) == <span class="number">3</span>:</span><br><span class="line">        value = [<span class="number">0</span>] + value</span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">len</span>(value) == <span class="number">4</span></span><br><span class="line">    start_step, start_value, end_value, end_step = value</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(end_step, <span class="built_in">int</span>):</span><br><span class="line">        current_step = self.global_step</span><br><span class="line">        value = start_value + (end_value - start_value) * <span class="built_in">max</span>(<span class="built_in">min</span>(<span class="number">1.0</span>, (current_step - start_step) / (end_step - start_step)), <span class="number">0.0</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(end_step, <span class="built_in">float</span>):</span><br><span class="line">        current_step = self.current_epoch</span><br><span class="line">        value = start_value + (end_value - start_value) * <span class="built_in">max</span>(<span class="built_in">min</span>(<span class="number">1.0</span>, (current_step - start_step) / (end_step - start_step)), <span class="number">0.0</span>)</span><br><span class="line"><span class="keyword">return</span> value</span><br></pre></td></tr></table></figure><ul><li>BaseSystemæ¥ä¸Š<ul><li>preprocess_data(self, batch, stage)<ul><li>pass</li></ul></li><li>on_train_batch_start(self, batch, batch_idx, unused=0)ç­‰pl.LightningModuleè§„å®šçš„æ–¹æ³•</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Implementing on_after_batch_transfer of DataModule does the same.</span></span><br><span class="line"><span class="string">But on_after_batch_transfer does not support DP.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_train_batch_start</span>(<span class="params">self, batch, batch_idx, unused=<span class="number">0</span></span>):</span><br><span class="line">    self.dataset = self.trainer.datamodule.train_dataloader().dataset</span><br><span class="line">    self.preprocess_data(batch, <span class="string">&#x27;train&#x27;</span>)</span><br><span class="line">    update_module_step(self.model, self.current_epoch, self.global_step)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_validation_batch_start</span>(<span class="params">self, batch, batch_idx, dataloader_idx</span>):</span><br><span class="line">    self.dataset = self.trainer.datamodule.val_dataloader().dataset</span><br><span class="line">    self.preprocess_data(batch, <span class="string">&#x27;validation&#x27;</span>)</span><br><span class="line">    update_module_step(self.model, self.current_epoch, self.global_step)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_test_batch_start</span>(<span class="params">self, batch, batch_idx, dataloader_idx</span>):</span><br><span class="line">    self.dataset = self.trainer.datamodule.test_dataloader().dataset</span><br><span class="line">    self.preprocess_data(batch, <span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">    update_module_step(self.model, self.current_epoch, self.global_step)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_predict_batch_start</span>(<span class="params">self, batch, batch_idx, dataloader_idx</span>):</span><br><span class="line">    self.dataset = self.trainer.datamodule.predict_dataloader().dataset</span><br><span class="line">    self.preprocess_data(batch, <span class="string">&#x27;predict&#x27;</span>)</span><br><span class="line">    update_module_step(self.model, self.current_epoch, self.global_step)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">training_step</span>(<span class="params">self, batch, batch_idx</span>):</span><br><span class="line">    <span class="keyword">raise</span> NotImplementedError</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validation_step</span>(<span class="params">self, batch, batch_idx</span>):</span><br><span class="line">    <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">validation_epoch_end</span>(<span class="params">self, out</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Gather metrics from all devices, compute mean.</span></span><br><span class="line"><span class="string">    Purge repeated results using data index.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_step</span>(<span class="params">self, batch, batch_idx</span>):        </span><br><span class="line">    <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_epoch_end</span>(<span class="params">self, out</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Gather metrics from all devices, compute mean.</span></span><br><span class="line"><span class="string">    Purge repeated results using data index.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">export</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">configure_optimizers</span>(<span class="params">self</span>):</span><br><span class="line">    optim = parse_optimizer(self.config.system.optimizer, self.model)</span><br><span class="line">    ret = &#123;</span><br><span class="line">        <span class="string">&#x27;optimizer&#x27;</span>: optim,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;scheduler&#x27;</span> <span class="keyword">in</span> self.config.system:</span><br><span class="line">        ret.update(&#123;</span><br><span class="line">            <span class="string">&#x27;lr_scheduler&#x27;</span>: parse_scheduler(self.config.system.scheduler, optim),</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">in</span> systems/utils.py</span><br><span class="line"></span><br><span class="line">å¾—åˆ°ä¼˜åŒ–å™¨optim</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_optimizer</span>(<span class="params">config, model</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hasattr</span>(config, <span class="string">&#x27;params&#x27;</span>):</span><br><span class="line">        params = [&#123;<span class="string">&#x27;params&#x27;</span>: get_parameters(model, name), <span class="string">&#x27;name&#x27;</span>: name, **args&#125; <span class="keyword">for</span> name, args <span class="keyword">in</span> config.params.items()]</span><br><span class="line">        rank_zero_debug(<span class="string">&#x27;Specify optimizer params:&#x27;</span>, config.params)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        params = model.parameters()</span><br><span class="line">    <span class="keyword">if</span> config.name <span class="keyword">in</span> [<span class="string">&#x27;FusedAdam&#x27;</span>]:</span><br><span class="line">        <span class="keyword">import</span> apex</span><br><span class="line">        optim = <span class="built_in">getattr</span>(apex.optimizers, config.name)(params, **config.args)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        optim = <span class="built_in">getattr</span>(torch.optim, config.name)(params, **config.args)</span><br><span class="line">    <span class="keyword">return</span> optim</span><br></pre></td></tr></table></figure><h2 id="neus-1"><a href="#neus-1" class="headerlink" title="neus"></a>neus</h2><p>æœ‰ä¸¤ç§åœ¨consoleä¸Šè¾“å‡ºä¿¡æ¯çš„æ–¹å¼ï¼š</p><ul><li>self.print: correctly handle progress bar</li><li>rank_zero_info: use the logging module</li></ul><p>@systems.register(â€˜neus-systemâ€™)</p><ul><li>NeuSSystemï¼Œç»§æ‰¿BaseSystem<ul><li>prepare<ul><li>self.criterions = { â€˜psnrâ€™: PSNR()}</li><li><code>self.train_num_samples = self.config.model.train_num_rays * (self.config.model.num_samples_per_ray + self.config.model.get(&#39;num_samples_per_ray_bg&#39;, 0))</code><ul><li>è®­ç»ƒé‡‡æ ·æ•°= è®­ç»ƒå…‰çº¿æ•°x(æ¯æ¡å…‰çº¿ä¸Šé‡‡æ ·æ•°+èƒŒæ™¯ä¸­æ¯æ¡å…‰çº¿é‡‡æ ·æ•°)</li></ul></li><li>self.train_num_rays = self.config.model.train_num_rays<ul><li>è®­ç»ƒå…‰çº¿æ•° = configä¸­è®­ç»ƒå…‰çº¿æ•°</li></ul></li></ul></li><li>forward(self, batch)<ul><li><code>return self.model(batch[&#39;rays&#39;])</code></li></ul></li><li>preprocess_data(self, batch, stage)<ul><li>stage: train<ul><li>if batch_image_sampling éšæœºæŠ½train_num_rayså¼ å›¾ç‰‡, ç´¢å¼•ä¸ºindexï¼ˆéšæœºå¤šå¼ å›¾ç‰‡ä¸­ï¼Œæ¯å¼ å›¾ç‰‡éšæœºé€‰å–ä¸€ä¸ªåƒç´ ç”Ÿæˆå…‰çº¿ï¼‰<ul><li>directions :(n_images, H, W, 3) â€”&gt; (train_num_rays, 3)</li><li>c2wï¼š(n_images, 3, 4)  â€”&gt; (train_num_rays, 3, 4)</li><li>rays_o, rays_d : (train_num_rays, 3)</li><li>rgb: (n_images, H, W, 3) â€”&gt; (train_num_rays, 3)</li><li>fg_mask: (n_images, H, W) â€”&gt; (train_num_rays,)</li></ul></li><li>else éšæœºæŠ½å–ä¸€å¼ å›¾ç‰‡ï¼Œç´¢å¼•indexé•¿åº¦ä¸º1ï¼ˆä¸€å¼ å›¾ç‰‡ï¼Œéšæœºé€‰å–å¤šä¸ªåƒç´ ç”Ÿæˆå…‰çº¿ï¼‰<ul><li>directions :(n_images, H, W, 3) â€”&gt; (train_num_rays, 3)</li><li>c2wï¼š(n_images, 3, 4)  â€”&gt; (1, 3, 4)</li><li>rays_o, rays_d : (train_num_rays, 3)</li><li>rgb: (n_images, H, W, 3) â€”&gt; (train_num_rays, 3)</li><li>fg_mask: (n_images, H, W) â€”&gt; (train_num_rays,)</li></ul></li></ul></li><li>stage: val<ul><li><code>index = batch[&#39;index&#39;]</code></li><li>c2w: (n_images, 3, 4)  â€”&gt; (3, 4)</li><li>directions: (n_images, H, W, 3) â€”&gt; ( H, W, 3)</li><li>rays_o, rays_d : (H, W, 3)</li><li>rgb: (n_images, H, W, 3) â€”&gt; (len(index)xHxW,3)</li><li>fg_mask: (n_images, H, W, 3) â€”&gt; (len(index)xHxW)</li></ul></li><li>stage: test<ul><li><code>index = batch[&#39;index&#39;]</code></li><li>c2w: (n_test_traj_steps ,3,4) â€”&gt; (3,4)</li><li>directions: (H,W,3) â€”&gt; (H,W,3)</li><li>rays_o, rays_d : (H,W,3)</li><li>rgb: (n_test_traj_steps, H, W, 3) â€”&gt; (HxW , 3)</li><li>fg_mask : (n_test_traj_steps, H, W) â€”&gt; (HxW)</li></ul></li><li>rayså°†rays_oå’Œå½’ä¸€åŒ–åçš„rays_dï¼Œcatèµ·æ¥</li><li>stage: train<ul><li>if bg_color: white<ul><li>model.bg_color = torch.ones((3,))</li></ul></li><li>if bg_color: random<ul><li>model.bg_color = torch.rand((3,))</li></ul></li><li>else: raise NotImplementedError</li></ul></li><li>stage: val, test<ul><li>model.bg_color = torch.ones((3,))</li></ul></li><li>if apply_mask:<ul><li><code>rgb = rgb * fg_mask[...,None] + model.bg_color * (1 - fg_mask[...,None])</code></li></ul></li><li>batch.update({â€˜raysâ€™: rays, â€˜rgbâ€™: rgb, â€˜fg_maskâ€™: fg_mask})</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">preprocess_data</span>(<span class="params">self, batch, stage</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;index&#x27;</span> <span class="keyword">in</span> batch: <span class="comment"># validation / testing</span></span><br><span class="line">        index = batch[<span class="string">&#x27;index&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> self.config.model.batch_image_sampling:</span><br><span class="line">            index = torch.randint(<span class="number">0</span>, <span class="built_in">len</span>(self.dataset.all_images), size=(self.train_num_rays,), device=self.dataset.all_images.device)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            index = torch.randint(<span class="number">0</span>, <span class="built_in">len</span>(self.dataset.all_images), size=(<span class="number">1</span>,), device=self.dataset.all_images.device)</span><br><span class="line">    <span class="keyword">if</span> stage <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>]:</span><br><span class="line">        c2w = self.dataset.all_c2w[index]</span><br><span class="line">        x = torch.randint(</span><br><span class="line">            <span class="number">0</span>, self.dataset.w, size=(self.train_num_rays,), device=self.dataset.all_images.device</span><br><span class="line">        )</span><br><span class="line">        y = torch.randint(</span><br><span class="line">            <span class="number">0</span>, self.dataset.h, size=(self.train_num_rays,), device=self.dataset.all_images.device</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> self.dataset.directions.ndim == <span class="number">3</span>: <span class="comment"># (H, W, 3)</span></span><br><span class="line">            directions = self.dataset.directions[y, x]</span><br><span class="line">        <span class="keyword">elif</span> self.dataset.directions.ndim == <span class="number">4</span>: <span class="comment"># (N, H, W, 3)</span></span><br><span class="line">            directions = self.dataset.directions[index, y, x]</span><br><span class="line">        rays_o, rays_d = get_rays(directions, c2w)</span><br><span class="line">        rgb = self.dataset.all_images[index, y, x].view(-<span class="number">1</span>, self.dataset.all_images.shape[-<span class="number">1</span>]).to(self.rank)</span><br><span class="line">        fg_mask = self.dataset.all_fg_masks[index, y, x].view(-<span class="number">1</span>).to(self.rank)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        c2w = self.dataset.all_c2w[index][<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> self.dataset.directions.ndim == <span class="number">3</span>: <span class="comment"># (H, W, 3)</span></span><br><span class="line">            directions = self.dataset.directions</span><br><span class="line">        <span class="keyword">elif</span> self.dataset.directions.ndim == <span class="number">4</span>: <span class="comment"># (N, H, W, 3)</span></span><br><span class="line">            directions = self.dataset.directions[index][<span class="number">0</span>] </span><br><span class="line">        rays_o, rays_d = get_rays(directions, c2w)</span><br><span class="line">        rgb = self.dataset.all_images[index].view(-<span class="number">1</span>, self.dataset.all_images.shape[-<span class="number">1</span>]).to(self.rank)</span><br><span class="line">        fg_mask = self.dataset.all_fg_masks[index].view(-<span class="number">1</span>).to(self.rank)</span><br><span class="line"></span><br><span class="line">    rays = torch.cat([rays_o, F.normalize(rays_d, p=<span class="number">2</span>, dim=-<span class="number">1</span>)], dim=-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> stage <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>]:</span><br><span class="line">        <span class="keyword">if</span> self.config.model.background_color == <span class="string">&#x27;white&#x27;</span>:</span><br><span class="line">            self.model.background_color = torch.ones((<span class="number">3</span>,), dtype=torch.float32, device=self.rank)</span><br><span class="line">        <span class="keyword">elif</span> self.config.model.background_color == <span class="string">&#x27;random&#x27;</span>:</span><br><span class="line">            self.model.background_color = torch.rand((<span class="number">3</span>,), dtype=torch.float32, device=self.rank)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> NotImplementedError</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        self.model.background_color = torch.ones((<span class="number">3</span>,), dtype=torch.float32, device=self.rank)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> self.dataset.apply_mask:</span><br><span class="line">        rgb = rgb * fg_mask[...,<span class="literal">None</span>] + self.model.background_color * (<span class="number">1</span> - fg_mask[...,<span class="literal">None</span>])</span><br><span class="line">    </span><br><span class="line">    batch.update(&#123;</span><br><span class="line">        <span class="string">&#x27;rays&#x27;</span>: rays,</span><br><span class="line">        <span class="string">&#x27;rgb&#x27;</span>: rgb,</span><br><span class="line">        <span class="string">&#x27;fg_mask&#x27;</span>: fg_mask</span><br><span class="line">    &#125;)      </span><br></pre></td></tr></table></figure><ul><li>NeuSSystemæ¥ä¸Š<ul><li>training_step(self, batch, batch_idx)<ul><li><code>out = self(batch) = self.model(batch[&#39;rays&#39;])</code>(self()ç›¸å½“äºæ‰§è¡Œforward)</li><li>loss = 0</li><li>if dynamic_ray_sampling åŠ¨æ€æ›´æ–°è®­ç»ƒå…‰çº¿æ•°<ul><li><code>train_num_rays = int(train_num_rays*(train_num_samples/out[&#39;num_samples_full&#39;].sum().item()))</code><ul><li>å¦‚æœé‡‡æ ·å¾—åˆ°çš„æ€»ç‚¹æ•°å¤šäº†ï¼Œåˆ™å‡å°‘å…‰çº¿æ•°ï¼Œå¦‚æœæ€»ç‚¹æ•°å°‘äº†ï¼Œåˆ™å¢åŠ å…‰çº¿æ•°</li></ul></li><li><code>self.train_num_rays = min(int(self.train_num_rays * 0.9 + train_num_rays * 0.1), self.config.model.max_train_num_rays)</code><ul><li>æœ€åè®­ç»ƒå…‰çº¿æ•°ä¸ºï¼Œä¸¤è€…å–æœ€å°ï¼š<code>åŸæ¥num*0.9 + æ›´æ–°ånum * 0.1</code>ä¸config.model.max_train_num_rays</li></ul></li></ul></li><li>loss_rgb_mse = F.mse_lossï¼Œlog(loss_rgb_mse)ï¼Œ<code>loss+= loss_rgb_mse *lambda_rgb_mse</code><ul><li>render_color: <code>out[&#39;comp_rgb_full&#39;][out[&#39;rays_valid_full&#39;][...,0]]</code> </li><li>gt_color: <code>batch[&#39;rgb&#39;][out[&#39;rays_valid_full&#39;][...,0]]</code></li></ul></li><li>loss_rgb_l1 = F.l1_lossï¼Œlog(loss_rgb_l1)ï¼Œ<code>loss+= loss_rgb_l1 *lambda_rgb_l1</code><ul><li><code>out[&#39;comp_rgb_full&#39;][out[&#39;rays_valid_full&#39;][...,0]]</code></li><li><code>batch[&#39;rgb&#39;][out[&#39;rays_valid_full&#39;][...,0]]</code></li></ul></li><li>loss_eikonalï¼Œlog(loss_eikonal)ï¼Œ<code>loss+= loss_eikonal *lambda_eikonal</code><ul><li><code>((torch.linalg.norm(out[&#39;sdf_grad_samples&#39;], ord=2, dim=-1) - 1.)**2).mean()</code></li></ul></li><li>loss_maskï¼Œlog(loss_mask)ï¼Œ<code>loss+= loss_mask *lambda_mask</code><ul><li>opacity.clamp(1.e-3, 1.-1.e-3)</li><li><code>binary_cross_entropy(opacity, batch[&#39;fg_mask&#39;].float())</code></li></ul></li><li>loss_opaqueï¼Œlog(loss_opaque)ï¼Œ<code>loss+= loss_opaque *lambda_opaque</code><ul><li>binary_cross_entropy(opacity, opacity)</li></ul></li><li>loss_sparsityï¼Œlog(loss_sparsity)ï¼Œ<code>loss+= loss_sparsity *lambda_sparsity</code><ul><li><code>torch.exp(-self.config.system.loss.sparsity_scale * out[&#39;sdf_samples&#39;].abs()).mean()</code></li><li>$\frac{1}{n.samples} \sum e^{-sparsity.scle \cdot |sdf|}$</li></ul></li><li>if lambda_distortion&gt;0<ul><li>loss_distortionï¼Œlog(loss_distortion)ï¼Œ<code>loss+= loss_distortion *lambda_distortion</code><ul><li><code>flatten_eff_distloss(out[&#39;weights&#39;], out[&#39;points&#39;], out[&#39;intervals&#39;], out[&#39;ray_indices&#39;])</code></li></ul></li></ul></li><li>if learned_background and lambda_distortion_bg&gt;0<ul><li>loss_distortion_bgï¼Œlog(loss_distortion_bg)ï¼Œ<code>loss+= loss_distortion_bg *lambda_distortion_bg</code><ul><li><code>flatten_eff_distloss(out[&#39;weights_bg&#39;], out[&#39;points_bg&#39;], out[&#39;intervals_bg&#39;], out[&#39;ray_indices_bg&#39;])</code></li></ul></li></ul></li><li>losses_model_reg = self.model.regularizations(out)</li><li>for name, value in losses_model_reg.items():<ul><li>self.log(fâ€™train/loss_{name}â€™, value)</li><li>loss_ = value * self.C(self.config.system.loss[fâ€lambda_{name}â€])</li><li>loss += loss_</li></ul></li><li>self.log(â€˜train/inv_sâ€™, out[â€˜inv_sâ€™], prog_bar=True)</li><li>for name, value in self.config.system.loss.items():</li><li>if name.startswith(â€˜lambdaâ€™):<ul><li>self.log(fâ€™train_params/{name}â€™, self.C(value))</li></ul></li><li>self.log(â€˜train/num_raysâ€™, float(self.train_num_rays), prog_bar=True)</li><li>return {â€˜lossâ€™ : loss}</li></ul></li></ul></li></ul><p>loggers:</p><p><code>Epoch 0: : 29159it [30:20, 16.02it/s, loss=0.0265, train/inv_s=145.0, train/num_rays=1739.0, val/psnr=23.30]</code></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230714161558.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230714161756.png" alt="image.png"></p><ul><li>NeuSSystemæ¥ä¸Š<ul><li>validation_step(self, batch, batch_idx)<ul><li>out = self(batch)</li><li><code>psnr = self.criterions[&#39;psnr&#39;](out[&#39;comp_rgb_full&#39;].to(batch[&#39;rgb&#39;]), batch[&#39;rgb&#39;])</code></li><li>W, H = self.dataset.img_wh</li><li>self.save_image_grid</li><li>return {â€˜psnrâ€™: psnr,â€™indexâ€™: batch[â€˜indexâ€™]}</li></ul></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230714162151.png" alt="image.png"></p><ul><li>NeuSSystemæ¥ä¸Š<ul><li>validation_epoch_end(self,out)<ul><li>out = self.all_gather(out) å°†æ‰€æœ‰æ•°æ®ç±»å‹çš„è¾“å‡ºæ‹¼æ¥èµ·æ¥<code>Union[Tensor, Dict, List, Tuple]</code></li><li>if self.trainer.is_global_zero: <ul><li>out_set = {}</li><li>for step_out in out:<ul><li>DP:<code>if step_out[&#39;index&#39;].ndim == 1: out_set[step_out[&#39;index&#39;].item()] = &#123;&#39;psnr&#39;: step_out[&#39;psnr&#39;]&#125;</code><ul><li>ref: å•æœºvså¤šæœº<a href="https://zhuanlan.zhihu.com/p/356967195">pytorchä¸­çš„åˆ†å¸ƒå¼è®­ç»ƒä¹‹DP VS DDP - çŸ¥ä¹ (zhihu.com)</a></li></ul></li><li>DDP: <code>for oi, index in enumerate(step_out[&#39;index&#39;]):</code><ul><li><code>out_set[index[0].item()] = &#123;&#39;psnr&#39;: step_out[&#39;psnr&#39;][oi]&#125;</code></li></ul></li></ul></li><li>psnr = $\frac{1}{len(index)}\sum psnr_{i}$</li><li>self.log(psnr)</li></ul></li></ul></li><li>test_step(self, batch, batch_idx)<ul><li>out = self(batch)</li><li><code>psnr = self.criterions[&#39;psnr&#39;](out[&#39;comp_rgb_full&#39;].to(batch[&#39;rgb&#39;]), batch[&#39;rgb&#39;])</code></li><li>W, H = self.dataset.img_wh</li><li>self.save_image_grid<ul><li>ç”±äºæµ‹è¯•æ—¶ï¼Œé‡‡ç”¨çš„ç›¸æœºä½å§¿æ˜¯æœªçŸ¥çš„æ–°è§†ç‚¹ï¼Œå› æ­¤åœ¨imageç”Ÿæˆæ—¶ï¼Œ<code>batch[&#39;rgb&#39;]</code>å³gtå›¾ä¸ºzero(é»‘è‰²)</li></ul></li><li>return {â€˜psnrâ€™: psnr,â€™indexâ€™: batch[â€˜indexâ€™]}</li></ul></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230714212151.png" alt="image.png"></p><ul><li>NeuSSystemæ¥ä¸Š<ul><li>test_epoch_end(self,out)<ul><li>åŒvalidation<ul><li>psnr = $\frac{1}{len(index)}\sum psnr_{i}$</li><li>self.log(psnr)</li></ul></li><li>self.save_img_sequence()</li><li>self.export</li></ul></li><li>export<ul><li>mesh = self.model.export(self.config.export)</li><li>self.save_mesh() </li></ul></li></ul></li></ul><h2 id="criterions"><a href="#criterions" class="headerlink" title="criterions"></a>criterions</h2><ul><li>PSNRï¼Œç»§æ‰¿nn.Module<ul><li>forward(self, inputs , targets, valid_mask= None, reduction= â€˜meanâ€™)<ul><li>assert reduction in [â€˜meanâ€™, â€˜noneâ€™]</li><li><code>value = (inputs - targets)**2</code>ï¼Œå³$v = (inputs - targets)^{2}$</li><li>if valid_mask is not None:<ul><li>value = value[valid_mask]</li></ul></li><li>if reduction == â€˜meanâ€™:<ul><li>return -10 * torch.log10(torch.mean(value))</li><li>$psnr = 10 \cdot log_{10}(\frac{1}{N} \sum v)$</li></ul></li><li>elif reduction == â€˜noneâ€™:<ul><li>return -10 * torch.log10(torch.mean(value, dim=tuple(range(value.ndim)[1:])))</li></ul></li></ul></li></ul></li></ul><h2 id="utils-1"><a href="#utils-1" class="headerlink" title="utils"></a>utils</h2><ul><li>ChainedScheduler</li><li>SequentialLR</li><li>ConstantLR</li><li>LinearLR</li><li>get_scheduler</li><li>getattr_recursive</li><li>get_parameters</li><li>parse_optimizer</li><li>parse_scheduler</li><li>update_module_step(m,epoch,global_step)<ul><li>if hasattr(m,â€™update_stepâ€™) å¦‚æœmä¸­æœ‰update_stepè¿™ä¸ªå±æ€§oræ–¹æ³•<ul><li>m.update_step(epoch,global_step) åˆ™æ‰§è¡Œm.update_step(epoch,global_step)</li></ul></li><li>å¦‚æœmä¸­æ²¡æœ‰update_stepï¼Œåˆ™ä¸æ‰§è¡Œæ“ä½œ</li></ul></li></ul><h1 id="utils-2"><a href="#utils-2" class="headerlink" title="utils"></a>utils</h1><h2 id="mixins"><a href="#mixins" class="headerlink" title="mixins"></a>mixins</h2><p>class SaverMixin(): è¢«systemsä¸­çš„BaseSystemç»§æ‰¿</p><ul><li>get_save_path(self,filename)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_save_path</span>(<span class="params">self, filename</span>):</span><br><span class="line">    save_path = os.path.join(self.save_dir, filename)</span><br><span class="line">    os.makedirs(os.path.dirname(save_path), exist_ok=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> save_path</span><br></pre></td></tr></table></figure><ul><li>save_image_grid(self, filename, imgs)<ul><li>img = self.get_image_grid_(imgs)</li><li>cv2.imwrite(self.get_save_path(filename),img)</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">in</span> val step:</span><br><span class="line">self.save_image_grid(<span class="string">f&quot;it<span class="subst">&#123;self.global_step&#125;</span>-<span class="subst">&#123;batch[<span class="string">&#x27;index&#x27;</span>][<span class="number">0</span>].item()&#125;</span>.png&quot;</span>, [</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: batch[<span class="string">&#x27;rgb&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_rgb_full&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;</span><br><span class="line">] + ([</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_rgb_bg&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_rgb&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;,</span><br><span class="line">] <span class="keyword">if</span> self.config.model.learned_background <span class="keyword">else</span> []) + [</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;grayscale&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;depth&#x27;</span>].view(H, W), <span class="string">&#x27;kwargs&#x27;</span>: &#123;&#125;&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_normal&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>, <span class="string">&#x27;data_range&#x27;</span>: (-<span class="number">1</span>, <span class="number">1</span>)&#125;&#125;</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="keyword">in</span> test_step:</span><br><span class="line">self.save_image_grid(<span class="string">f&quot;it<span class="subst">&#123;self.global_step&#125;</span>-test/<span class="subst">&#123;batch[<span class="string">&#x27;index&#x27;</span>][<span class="number">0</span>].item()&#125;</span>.png&quot;</span>, [</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: batch[<span class="string">&#x27;rgb&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_rgb_full&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;</span><br><span class="line">] + ([</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_rgb_bg&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_rgb&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>&#125;&#125;,</span><br><span class="line">] <span class="keyword">if</span> self.config.model.learned_background <span class="keyword">else</span> []) + [</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;grayscale&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;depth&#x27;</span>].view(H, W), <span class="string">&#x27;kwargs&#x27;</span>: &#123;&#125;&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;img&#x27;</span>: out[<span class="string">&#x27;comp_normal&#x27;</span>].view(H, W, <span class="number">3</span>), <span class="string">&#x27;kwargs&#x27;</span>: &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;HWC&#x27;</span>, <span class="string">&#x27;data_range&#x27;</span>: (-<span class="number">1</span>, <span class="number">1</span>)&#125;&#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure><ul><li>get_image_grid_(self, imgs)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_image_grid_</span>(<span class="params">self, imgs</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(imgs[<span class="number">0</span>], <span class="built_in">list</span>):</span><br><span class="line">        <span class="keyword">return</span> np.concatenate([self.get_image_grid_(row) <span class="keyword">for</span> row <span class="keyword">in</span> imgs], axis=<span class="number">0</span>)</span><br><span class="line">    cols = []</span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> imgs:</span><br><span class="line">        <span class="keyword">assert</span> col[<span class="string">&#x27;type&#x27;</span>] <span class="keyword">in</span> [<span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;uv&#x27;</span>, <span class="string">&#x27;grayscale&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> col[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&#x27;rgb&#x27;</span>:</span><br><span class="line">            rgb_kwargs = self.DEFAULT_RGB_KWARGS.copy()</span><br><span class="line">            rgb_kwargs.update(col[<span class="string">&#x27;kwargs&#x27;</span>])</span><br><span class="line">            cols.append(self.get_rgb_image_(col[<span class="string">&#x27;img&#x27;</span>], **rgb_kwargs))</span><br><span class="line">        <span class="keyword">elif</span> col[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&#x27;uv&#x27;</span>:</span><br><span class="line">            uv_kwargs = self.DEFAULT_UV_KWARGS.copy()</span><br><span class="line">            uv_kwargs.update(col[<span class="string">&#x27;kwargs&#x27;</span>])</span><br><span class="line">            cols.append(self.get_uv_image_(col[<span class="string">&#x27;img&#x27;</span>], **uv_kwargs))</span><br><span class="line">        <span class="keyword">elif</span> col[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&#x27;grayscale&#x27;</span>:</span><br><span class="line">            grayscale_kwargs = self.DEFAULT_GRAYSCALE_KWARGS.copy()</span><br><span class="line">            grayscale_kwargs.update(col[<span class="string">&#x27;kwargs&#x27;</span>])</span><br><span class="line">            cols.append(self.get_grayscale_image_(col[<span class="string">&#x27;img&#x27;</span>], **grayscale_kwargs))</span><br><span class="line">    <span class="keyword">return</span> np.concatenate(cols, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">DEFAULT_RGB_KWARGS = &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;CHW&#x27;</span>, <span class="string">&#x27;data_range&#x27;</span>: (<span class="number">0</span>, <span class="number">1</span>)&#125;</span><br><span class="line">DEFAULT_UV_KWARGS = &#123;<span class="string">&#x27;data_format&#x27;</span>: <span class="string">&#x27;CHW&#x27;</span>, <span class="string">&#x27;data_range&#x27;</span>: (<span class="number">0</span>, <span class="number">1</span>), <span class="string">&#x27;cmap&#x27;</span>: <span class="string">&#x27;checkerboard&#x27;</span>&#125;</span><br><span class="line">DEFAULT_GRAYSCALE_KWARGS = &#123;<span class="string">&#x27;data_range&#x27;</span>: <span class="literal">None</span>, <span class="string">&#x27;cmap&#x27;</span>: <span class="string">&#x27;jet&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><ul><li>get_rgb_image_(self, img, data_format, data_range))</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_rgb_image_</span>(<span class="params">self, img, data_format, data_range</span>):</span><br><span class="line">    img = self.convert_data(img)</span><br><span class="line">    <span class="keyword">assert</span> data_format <span class="keyword">in</span> [<span class="string">&#x27;CHW&#x27;</span>, <span class="string">&#x27;HWC&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> data_format == <span class="string">&#x27;CHW&#x27;</span>:</span><br><span class="line">        img = img.transpose(<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>)</span><br><span class="line">    img = img.clip(<span class="built_in">min</span>=data_range[<span class="number">0</span>], <span class="built_in">max</span>=data_range[<span class="number">1</span>])</span><br><span class="line">    img = ((img - data_range[<span class="number">0</span>]) / (data_range[<span class="number">1</span>] - data_range[<span class="number">0</span>]) * <span class="number">255.</span>).astype(np.uint8)</span><br><span class="line">    imgs = [img[...,start:start+<span class="number">3</span>] <span class="keyword">for</span> start <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, img.shape[-<span class="number">1</span>], <span class="number">3</span>)]</span><br><span class="line">    imgs = [img_ <span class="keyword">if</span> img_.shape[-<span class="number">1</span>] == <span class="number">3</span> <span class="keyword">else</span> np.concatenate([img_, np.zeros((img_.shape[<span class="number">0</span>], img_.shape[<span class="number">1</span>], <span class="number">3</span> - img_.shape[<span class="number">2</span>]), dtype=img_.dtype)], axis=-<span class="number">1</span>) <span class="keyword">for</span> img_ <span class="keyword">in</span> imgs]</span><br><span class="line">    img = np.concatenate(imgs, axis=<span class="number">1</span>)</span><br><span class="line">    img = cv2.cvtColor(img, cv2.COLOR_RGB2BGR)</span><br><span class="line">    <span class="keyword">return</span> img</span><br></pre></td></tr></table></figure><ul><li>get_grayscale_image_(self, img, data_range , cmap)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_grayscale_image_</span>(<span class="params">self, img, data_range, cmap</span>):</span><br><span class="line">    img = self.convert_data(img)</span><br><span class="line">    img = np.nan_to_num(img)</span><br><span class="line">    <span class="keyword">if</span> data_range <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        img = (img - img.<span class="built_in">min</span>()) / (img.<span class="built_in">max</span>() - img.<span class="built_in">min</span>())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        img = img.clip(data_range[<span class="number">0</span>], data_range[<span class="number">1</span>])</span><br><span class="line">        img = (img - data_range[<span class="number">0</span>]) / (data_range[<span class="number">1</span>] - data_range[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">assert</span> cmap <span class="keyword">in</span> [<span class="literal">None</span>, <span class="string">&#x27;jet&#x27;</span>, <span class="string">&#x27;magma&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> cmap == <span class="literal">None</span>:</span><br><span class="line">        img = (img * <span class="number">255.</span>).astype(np.uint8)</span><br><span class="line">        img = np.repeat(img[...,<span class="literal">None</span>], <span class="number">3</span>, axis=<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">elif</span> cmap == <span class="string">&#x27;jet&#x27;</span>:</span><br><span class="line">        img = (img * <span class="number">255.</span>).astype(np.uint8)</span><br><span class="line">        img = cv2.applyColorMap(img, cv2.COLORMAP_JET)</span><br><span class="line">    <span class="keyword">elif</span> cmap == <span class="string">&#x27;magma&#x27;</span>:</span><br><span class="line">        img = <span class="number">1.</span> - img</span><br><span class="line">        base = cm.get_cmap(<span class="string">&#x27;magma&#x27;</span>)</span><br><span class="line">        num_bins = <span class="number">256</span></span><br><span class="line">        colormap = LinearSegmentedColormap.from_list(</span><br><span class="line">            <span class="string">f&quot;<span class="subst">&#123;base.name&#125;</span><span class="subst">&#123;num_bins&#125;</span>&quot;</span>,</span><br><span class="line">            base(np.linspace(<span class="number">0</span>, <span class="number">1</span>, num_bins)),</span><br><span class="line">            num_bins</span><br><span class="line">        )(np.linspace(<span class="number">0</span>, <span class="number">1</span>, num_bins))[:,:<span class="number">3</span>]</span><br><span class="line">        a = np.floor(img * <span class="number">255.</span>)</span><br><span class="line">        b = (a + <span class="number">1</span>).clip(<span class="built_in">max</span>=<span class="number">255.</span>)</span><br><span class="line">        f = img * <span class="number">255.</span> - a</span><br><span class="line">        a = a.astype(np.uint16).clip(<span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line">        b = b.astype(np.uint16).clip(<span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line">        img = colormap[a] + (colormap[b] - colormap[a]) * f[...,<span class="literal">None</span>]</span><br><span class="line">        img = (img * <span class="number">255.</span>).astype(np.uint8)</span><br><span class="line">    <span class="keyword">return</span> img</span><br></pre></td></tr></table></figure><ul><li>convert_data(self, data)ï¼Œå°†è¾“å…¥çš„æ•°æ®è½¬åŒ–æˆndarryç±»å‹</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">convert_data</span>(<span class="params">self, data</span>): <span class="comment"># isinstance åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªå·²çŸ¥çš„ç±»å‹</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(data, np.ndarray):</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(data, torch.Tensor):</span><br><span class="line">        <span class="keyword">return</span> data.cpu().numpy()</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(data, <span class="built_in">list</span>):</span><br><span class="line">        <span class="keyword">return</span> [self.convert_data(d) <span class="keyword">for</span> d <span class="keyword">in</span> data]</span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">isinstance</span>(data, <span class="built_in">dict</span>):</span><br><span class="line">        <span class="keyword">return</span> &#123;k: self.convert_data(v) <span class="keyword">for</span> k, v <span class="keyword">in</span> data.items()&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> TypeError(<span class="string">&#x27;Data must be in type numpy.ndarray, torch.Tensor, list or dict, getting&#x27;</span>, <span class="built_in">type</span>(data))</span><br></pre></td></tr></table></figure><ul><li>save_img_sequence(self, filename, img_dir, matcher, save_format=â€™gifâ€™, fps=30)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">in</span> test step</span><br><span class="line">self.save_img_sequence(</span><br><span class="line">    <span class="string">f&quot;it<span class="subst">&#123;self.global_step&#125;</span>-test&quot;</span>, <span class="comment"># mp4 or gifæ–‡ä»¶å</span></span><br><span class="line">    <span class="string">f&quot;it<span class="subst">&#123;self.global_step&#125;</span>-test&quot;</span>, <span class="comment"># testç”Ÿæˆçš„å›¾ç‰‡ä¿å­˜ç›®å½•</span></span><br><span class="line">    <span class="string">&#x27;(\d+)\.png&#x27;</span>,</span><br><span class="line">    save_format=<span class="string">&#x27;mp4&#x27;</span>,</span><br><span class="line">    fps=<span class="number">30</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_img_sequence</span>(<span class="params">self, filename, img_dir, matcher, save_format=<span class="string">&#x27;gif&#x27;</span>, fps=<span class="number">30</span></span>):</span><br><span class="line">    <span class="keyword">assert</span> save_format <span class="keyword">in</span> [<span class="string">&#x27;gif&#x27;</span>, <span class="string">&#x27;mp4&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> filename.endswith(save_format):</span><br><span class="line">        filename += <span class="string">f&quot;.<span class="subst">&#123;save_format&#125;</span>&quot;</span></span><br><span class="line">    matcher = re.<span class="built_in">compile</span>(matcher)</span><br><span class="line">    img_dir = os.path.join(self.save_dir, img_dir)</span><br><span class="line">    imgs = []</span><br><span class="line">    <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(img_dir):</span><br><span class="line">        <span class="keyword">if</span> matcher.search(f):</span><br><span class="line">            imgs.append(f)</span><br><span class="line">    imgs = <span class="built_in">sorted</span>(imgs, key=<span class="keyword">lambda</span> f: <span class="built_in">int</span>(matcher.search(f).groups()[<span class="number">0</span>]))</span><br><span class="line">    imgs = [cv2.imread(os.path.join(img_dir, f)) <span class="keyword">for</span> f <span class="keyword">in</span> imgs]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> save_format == <span class="string">&#x27;gif&#x27;</span>:</span><br><span class="line">        imgs = [cv2.cvtColor(i, cv2.COLOR_BGR2RGB) <span class="keyword">for</span> i <span class="keyword">in</span> imgs]</span><br><span class="line">        imageio.mimsave(self.get_save_path(filename), imgs, fps=fps, palettesize=<span class="number">256</span>)</span><br><span class="line">    <span class="keyword">elif</span> save_format == <span class="string">&#x27;mp4&#x27;</span>:</span><br><span class="line">        imgs = [cv2.cvtColor(i, cv2.COLOR_BGR2RGB) <span class="keyword">for</span> i <span class="keyword">in</span> imgs]</span><br><span class="line">        imageio.mimsave(self.get_save_path(filename), imgs, fps=fps)</span><br></pre></td></tr></table></figure><ul><li>save_mesh()</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">in</span> export: </span><br><span class="line">self.save_mesh(</span><br><span class="line">    <span class="string">f&quot;it<span class="subst">&#123;self.global_step&#125;</span>-<span class="subst">&#123;self.config.model.geometry.isosurface.method&#125;</span><span class="subst">&#123;self.config.model.geometry.isosurface.resolution&#125;</span>.obj&quot;</span>,</span><br><span class="line">    **mesh</span><br><span class="line">)        </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_mesh</span>(<span class="params">self, filename, v_pos, t_pos_idx, v_tex=<span class="literal">None</span>, t_tex_idx=<span class="literal">None</span>, v_rgb=<span class="literal">None</span></span>):</span><br><span class="line">    v_pos, t_pos_idx = self.convert_data(v_pos), self.convert_data(t_pos_idx)</span><br><span class="line">    <span class="keyword">if</span> v_rgb <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        v_rgb = self.convert_data(v_rgb) <span class="comment"># è½¬ä¸ºnumpy</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> trimesh</span><br><span class="line">    mesh = trimesh.Trimesh(</span><br><span class="line">        vertices=v_pos,</span><br><span class="line">        faces=t_pos_idx,</span><br><span class="line">        vertex_colors=v_rgb</span><br><span class="line">    )</span><br><span class="line">    mesh.export(self.get_save_path(filename))</span><br></pre></td></tr></table></figure><p>objæ–‡ä»¶ï¼š</p><div class="note info">            <p>å¯ä»¥çœ‹å‡ºæœ€åç”Ÿæˆçš„æ¨¡å‹åœ¨ä¸€ä¸ªåŠå¾„ä¸º1çš„å•ä½åœ†ä¸­</p>          </div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># æ¯ä¸ªç‚¹çš„ä½ç½®å€¼å’Œé¢œè‰²å€¼</span><br><span class="line">v -0.96953946 0.71037185 0.47863841 0.78431373 0.56470588 0.34117647</span><br><span class="line">v -0.96868885 0.70891666 0.47863841 0.97647059 0.86666667 0.66666667</span><br><span class="line">v -0.96868885 0.71037185 0.47713959 0.74901961 0.54509804 0.37647059</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"># æ¯ä¸ªä¸‰è§’é¢çš„ä¸‰ä¸ªé¡¶ç‚¹çš„ç´¢å¼•</span><br><span class="line">f 2370 2366 2270</span><br><span class="line">f 2366 2265 2270</span><br><span class="line">f 2374 2372 2373</span><br><span class="line">...</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Efficiency </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ /ç¥ç»ç½‘ç»œç¬”è®°</title>
      <link href="/Learn/Neural%20Network/DeepLearning/"/>
      <url>/Learn/Neural%20Network/DeepLearning/</url>
      
        <content type="html"><![CDATA[<p>å­¦ä¹ æ·±åº¦å­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¸€äº›åŸºç¡€çŸ¥è¯†</p><div class="table-container"><table><thead><tr><th>DL</th><th>ä¿®ä»™.ç‚¼ä¸¹</th><th>example</th></tr></thead><tbody><tr><td>æ¡†æ¶</td><td>ä¸¹ç‚‰</td><td>PyTorch</td></tr><tr><td>ç½‘ç»œ</td><td>ä¸¹æ–¹.çµé˜µ</td><td>CNN</td></tr><tr><td>æ•°æ®é›†</td><td>çµæ</td><td>MNIST</td></tr><tr><td>GPU</td><td>çœŸç«</td><td>NVIDIA</td></tr><tr><td>æ¨¡å‹</td><td>æˆä¸¹</td><td>.ckpt</td></tr></tbody></table></div><blockquote><p><a href="https://zhuanlan.zhihu.com/p/23781756">æ·±åº¦å­¦ä¹ Â·ç‚¼ä¸¹å…¥é—¨ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><span id="more"></span><h1 id="æŠ€å·§"><a href="#æŠ€å·§" class="headerlink" title="æŠ€å·§"></a>æŠ€å·§</h1><h2 id="å½’ä¸€åŒ–"><a href="#å½’ä¸€åŒ–" class="headerlink" title="å½’ä¸€åŒ–"></a>å½’ä¸€åŒ–</h2><p><strong>è¾“å…¥æ•°æ®</strong>çš„å½’ä¸€åŒ–ï¼š<br>å½“è¾“å…¥çš„æ•°æ®ä¸ºå¤šä¸ªå˜é‡æ—¶ï¼Œå¦‚æœæŸä¸ªå˜é‡çš„å˜åŒ–è¿œå¤§äºå…¶ä»–å˜é‡çš„å˜åŒ–ï¼Œåˆ™ä¼šå‡ºç°å¤§æ•°åƒå°æ•°é—®é¢˜ï¼Œç½‘ç»œä¼šæŒ‰ç€å˜åŒ–å¤§çš„å˜é‡(å¯¹å…¶æœ€ä¸ºæ•æ„Ÿ)æ¥é¢„æµ‹ã€‚</p><h1 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h1><h2 id="CNN"><a href="#CNN" class="headerlink" title="CNN"></a>CNN</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å·ç§¯ç¥å°†ç½‘ç»œçš„è®¡ç®—å…¬å¼ä¸ºï¼š</span><br><span class="line">N=(W-F+2P)/S+1</span><br><span class="line">å…¶ä¸­</span><br><span class="line">Nï¼šè¾“å‡ºå¤§å°</span><br><span class="line">Wï¼šè¾“å…¥å¤§å°</span><br><span class="line">Fï¼šå·ç§¯æ ¸å¤§å°</span><br><span class="line">Pï¼šå¡«å……å€¼çš„å¤§å°</span><br><span class="line">Sï¼šæ­¥é•¿å¤§å°</span><br></pre></td></tr></table></figure><h3 id="UCNN"><a href="#UCNN" class="headerlink" title="UCNN"></a>UCNN</h3><p>å•å‘å·ç§¯</p><h3 id="BCNN"><a href="#BCNN" class="headerlink" title="BCNN"></a>BCNN</h3><blockquote><p><a href="https://github.com/kumar-shridhar/PyTorch-BayesianCNN">kumar-shridhar/PyTorch-BayesianCNN: Bayesian Convolutional Neural Network with Variational Inference based on Bayes by Backprop in PyTorch.</a><br><a href="https://zhuanlan.zhihu.com/p/79715409">Bayesian neural network introduction - çŸ¥ä¹</a><br><a href="https://blog.csdn.net/weixin_42437114/article/details/125671285">é‡å‚æ•° (Reparameterization)-CSDNåšå®¢</a> <a href="https://kexue.fm/archives/6705">æ¼«è°ˆé‡å‚æ•°ï¼šä»æ­£æ€åˆ†å¸ƒåˆ°Gumbel Softmax - ç§‘å­¦ç©ºé—´|Scientific Spaces</a></p></blockquote><p>åˆå§‹åŒ–çš„æƒé‡å‚æ•°ç”¨é«˜æ–¯å…ˆéªŒåˆ†å¸ƒè¡¨ç¤ºï¼š$p(w^{(i)})=\prod_i\mathcal{N}(w_i|0,\sigma_p^2)$ï¼Œè®­ç»ƒçš„è¿‡ç¨‹å°±æ˜¯æ ¹æ®æƒé‡å…ˆéªŒå’Œæ•°æ®é›†æ¥è·å¾—æƒé‡å‚æ•°çš„åéªŒåˆ†å¸ƒï¼š$p(w|\mathcal{D})=\frac{p(\mathcal{D}|w)p(w)}{p(\mathcal{D})}$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/CNNwithdist.png" alt="CNNwithdist.png|555"></p><p>å…·ä½“æµç¨‹ï¼šå¯¹æ•°æ®ä½¿ç”¨ä¸¤ä¸ªå·ç§¯æ ¸è¿›è¡Œæ“ä½œï¼Œå¾—åˆ°<strong>ä¸¤ä¸ªè¾“å‡ºçš„feature mapï¼Œåˆ†åˆ«ä½œä¸ºçœŸå®è¾“å‡ºçš„å‡å€¼å’Œæ ‡å‡†å·®</strong>ã€‚éšåä½¿ç”¨é«˜æ–¯åˆ†å¸ƒä»ä¸¤ä¸ªfeature mapä¸­é‡‡æ ·ï¼Œå¾—åˆ°è¯¥å±‚feature mapçš„æ¿€æ´»å€¼ï¼Œä½œä¸ºä¸‹ä¸€å±‚çš„è¾“å…¥ã€‚<br>æ¿€æ´»å€¼$\begin{aligned}b_j=A_i<em>\mu_i+\epsilon_j\odot\sqrt{A_i^2</em>(\alpha_i\odot\mu_i^2)}\end{aligned}$ (<strong>Reparameterization</strong>)</p><ul><li>ä¸ºäº†è§£å†³ä»åˆ†å¸ƒä¸­é‡‡æ ·ä¸å¯å¾®çš„é—®é¢˜ï¼Œä½¿ç”¨åŸºäºé‡å‚æ•°åŒ–(<strong>Reparameterization</strong>)çš„åå‘ä¼ æ’­æ–¹æ³•æ¥ä¼°è®¡æ¢¯åº¦</li></ul><h3 id="VGG16"><a href="#VGG16" class="headerlink" title="VGG16"></a>VGG16</h3><p><a href="https://deanhan.com/2018/07/26/vgg16/">VGG16å­¦ä¹ ç¬”è®° | éŸ©é¼ã®ä¸ªäººç½‘ç«™ (deanhan.com)</a></p><h3 id="ResNet"><a href="#ResNet" class="headerlink" title="ResNet"></a>ResNet</h3><p><a href="https://blog.csdn.net/sazass/article/details/116864275">ResNetä¸­çš„BasicBlockä¸bottleneck-CSDNåšå®¢</a></p><h2 id="RNN"><a href="#RNN" class="headerlink" title="RNN"></a>RNN</h2><p>ç›¸æ¯”ä¸€èˆ¬çš„ç¥ç»ç½‘ç»œæ¥è¯´ï¼Œä»–èƒ½å¤Ÿå¤„ç†åºåˆ—å˜åŒ–çš„æ•°æ®</p><h3 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/32085405">äººäººéƒ½èƒ½çœ‹æ‡‚çš„LSTM - çŸ¥ä¹ (zhihu.com)</a><br>è®²çš„å¾ˆå¥½ï¼š<a href="https://www.zhihu.com/tardis/zm/art/86006495?source_id=1003">ä¸‰åˆ†é’Ÿåƒé€RNNå’ŒLSTMç¥ç»ç½‘ç»œ</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240112195022.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20240112194924.png" alt="image.png|666"></p><h2 id="U-Net"><a href="#U-Net" class="headerlink" title="U-Net"></a>U-Net</h2><blockquote><p><a href="https://nn.labml.ai/unet/index.html">U-Net (labml.ai)</a><br><a href="https://github.com/anxingle/UNet-pytorch">anxingle/UNet-pytorch: medical image semantic segmentation</a></p></blockquote><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240528101406.png" alt="image.png|666"></p><p>å›¾åƒåˆ†å‰²</p><h2 id="VAE"><a href="#VAE" class="headerlink" title="VAE"></a>VAE</h2><p><a href="https://www.youtube.com/watch?v=73qwu77ZsTM">ã€ç”Ÿæˆå¼AIã€‘Diffusion Model åŸç†å‰–æ (2/4) (optional) - YouTube</a></p><p>ç”Ÿæˆæ¨¡å‹å…±åŒç›®æ ‡ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022203426.png" alt="image.png|666"><br>å¦‚ä½•ä¼˜åŒ–ï¼š<br><strong>Maximum Likelihood == Minimize KL Divergence</strong><br>æœ€å¤§åŒ– $P_{\theta}(x)$ åˆ†å¸ƒä¸­ä» $P_{data}(x)$ é‡‡æ ·å‡ºæ¥çš„ $x_{i},â€¦, x_{m}$ çš„æ¦‚ç‡ï¼Œç›¸å½“äºæœ€å°åŒ– $P_{\theta}(x)$ ä¸ $P_{data}(x)$ ä¹‹é—´çš„å·®å¼‚ </p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022203514.png" alt="image.png|666"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022204157.png" alt="image.png|666"></p><p>$P_\theta(x)=\int\limits_zP(z)P_\theta(x|z)dz$<br>$\begin{aligned}&amp;P_\theta(x|\mathrm{z})\propto\exp(-|G(\mathrm{z})-x|_2)\end{aligned}$</p><p>Maximize ï¼š Lower bound of $logP(x)$<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022204951.png" alt="image.png|666"></p><h2 id="GAN"><a href="#GAN" class="headerlink" title="GAN"></a>GAN</h2><blockquote><p><a href="https://alberthg.github.io/2018/05/05/introduction-gan/">ç”Ÿæˆå¯¹æŠ—ç½‘ç»œâ€”â€”åŸç†è§£é‡Šå’Œæ•°å­¦æ¨å¯¼ - é»„é’¢çš„éƒ¨è½æ ¼|Canary Blog</a></p></blockquote><p>GANåœ¨ç»“æ„ä¸Šå—åšå¼ˆè®ºä¸­çš„äºŒäººé›¶å’Œåšå¼ˆ ï¼ˆå³äºŒäººçš„åˆ©ç›Šä¹‹å’Œä¸ºé›¶ï¼Œä¸€æ–¹çš„æ‰€å¾—æ­£æ˜¯å¦ä¸€æ–¹çš„æ‰€å¤±ï¼‰çš„å¯å‘ï¼Œè®­ç»ƒè¿‡ç¨‹ï¼š</p><ul><li>è®­ç»ƒåˆ¤åˆ«å™¨ï¼šé¦–å…ˆæˆ‘ä»¬éšæœºåˆå§‹åŒ–ç”Ÿæˆå™¨ Gï¼Œå¹¶è¾“å…¥ä¸€ç»„éšæœºå‘é‡(Randomly sample a vactor)ï¼Œä»¥æ­¤äº§ç”Ÿä¸€äº›å›¾ç‰‡ï¼Œå¹¶æŠŠè¿™äº›å›¾ç‰‡æ ‡æ³¨æˆ 0ï¼ˆå‡å›¾ç‰‡ï¼‰ã€‚åŒæ—¶æŠŠæ¥è‡ªçœŸå®åˆ†å¸ƒä¸­çš„å›¾ç‰‡æ ‡æ³¨æˆ 1ï¼ˆçœŸå›¾ç‰‡ï¼‰ã€‚ä¸¤è€…åŒæ—¶ä¸¢è¿›åˆ¤åˆ«å™¨ D ä¸­ï¼Œä»¥æ­¤æ¥è®­ç»ƒåˆ¤åˆ«å™¨ D ã€‚å®ç°å½“è¾“å…¥æ˜¯çœŸå›¾ç‰‡çš„æ—¶å€™ï¼Œåˆ¤åˆ«å™¨ç»™å‡ºæ¥è¿‘äº 1 çš„åˆ†æ•°ï¼Œè€Œè¾“å…¥å‡å›¾ç‰‡çš„æ—¶å€™ï¼Œåˆ¤åˆ«å™¨ç»™å‡ºæ¥è¿‘äº 0 çš„ä½åˆ†ã€‚</li><li>è®­ç»ƒç”Ÿæˆå™¨ï¼šå¯¹äºç”Ÿæˆç½‘ç»œï¼Œç›®çš„æ˜¯ç”Ÿæˆå°½å¯èƒ½é€¼çœŸçš„æ ·æœ¬ã€‚æ‰€ä»¥åœ¨è®­ç»ƒç”Ÿæˆç½‘ç»œçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è”åˆåˆ¤åˆ«ç½‘ç»œä¸€èµ·æ‰èƒ½è¾¾åˆ°è®­ç»ƒçš„ç›®çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡å°†ä¸¤è€…ä¸²æ¥çš„æ–¹å¼æ¥äº§ç”Ÿè¯¯å·®ä»è€Œå¾—ä»¥è®­ç»ƒç”Ÿæˆç½‘ç»œã€‚æ­¥éª¤æ˜¯ï¼šæˆ‘ä»¬é€šè¿‡éšæœºå‘é‡ï¼ˆå™ªå£°æ•°æ®ï¼‰ç»ç”±ç”Ÿæˆç½‘ç»œäº§ç”Ÿä¸€ç»„å‡æ•°æ®ï¼Œå¹¶å°†è¿™äº›å‡æ•°æ®éƒ½æ ‡è®°ä¸º 1 ã€‚ç„¶åå°†è¿™äº›å‡æ•°æ®è¾“å…¥åˆ°åˆ¤åˆ«ç½‘è·¯é‡Œè¾¹ï¼Œç«çœ¼é‡‘ç›çš„åˆ¤åˆ«å™¨è‚¯å®šä¼šå‘ç°è¿™äº›æ ‡æ¦œä¸ºçœŸå®æ•°æ®ï¼ˆæ ‡è®°ä¸º1ï¼‰çš„è¾“å…¥éƒ½æ˜¯å‡æ•°æ®ï¼ˆç»™å‡ºä½åˆ†ï¼‰ï¼Œè¿™æ ·å°±äº§ç”Ÿäº†è¯¯å·®ã€‚åœ¨è®­ç»ƒè¿™ä¸ªä¸²æ¥çš„ç½‘ç»œçš„æ—¶å€™ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„æ“ä½œå°±æ˜¯ä¸è¦è®©åˆ¤åˆ«ç½‘ç»œçš„å‚æ•°å‘ç”Ÿå˜åŒ–ï¼Œåªæ˜¯æŠŠè¯¯å·®ä¸€ç›´ä¼ ï¼Œä¼ åˆ°ç”Ÿæˆç½‘ç»œé‚£å—åæ›´æ–°ç”Ÿæˆç½‘ç»œçš„å‚æ•°ã€‚è¿™æ ·å°±å®Œæˆäº†ç”Ÿæˆç½‘ç»œçš„è®­ç»ƒäº†ã€‚</li></ul><p>å·²çŸ¥çœŸå®çš„åˆ†å¸ƒ$p_{data}(x)$ï¼Œå¦‚ä½•æ‰¾åˆ°æœ€åˆé€‚çš„å‚æ•°zï¼Œæ¥ä½¿å¾—ç”Ÿæˆçš„$p_{model}(x;z)$ä¸çœŸå®åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚æœ€å°â€”â€”æå¤§ä¼¼ç„¶ä¼°è®¡ï¼š</p><ul><li>$\theta_{ML}=arg\operatorname<em>{\max}_{\theta}p_{model}(X;\theta)=arg\operatorname</em>{max}_{\theta}\prod_{i=1}^mp_{model}(x^{(i)};\theta)$</li><li>$\theta_{ML}=arg\underset{\theta}{\operatorname*{max}}\sum_{i=1}^mlog\left.p_{model}(x^{(i)};\theta)\right.$ é€šè¿‡logå°†ç´¯ä¹˜å˜æˆç´¯åŠ </li><li>$\theta_{ML} = arg\max_{\theta} E_{x \sim \hat{p}_{data}} log p_{model}(x;\theta)$ ç”±äºç¼©æ”¾ä»£ä»·å‡½æ•°ä¸ä¼šå½±å“æ±‚å¯¼å’Œæ±‚argmaxï¼Œå› æ­¤é™¤ä»¥mæ¥å°†æ±‚å’Œå˜æˆæœŸæœ›ï¼Œå½“mâ€”&gt;$\infty$ æ—¶ï¼Œç»éªŒåˆ†å¸ƒå°±ä¼šæ˜¯çœŸå®æ•°æ®çš„åˆ†å¸ƒ$\hat{p}_{data}\to p_{data}(x)$</li></ul><p>é€šè¿‡$p_{model(x)}$ä¸$p_{data}(x)$ä¹‹é—´çš„å·®å¼‚è¡¡é‡ï¼Œæ¥è®­ç»ƒGå’ŒD:</p><script type="math/tex; mode=display">\min_{G}\max_{D}V(G,D)=\mathbb{E}_{x\sim p_{data}(x)}[logD(\mathbf{x})]+\mathbb{E}_{z\sim p_{z}(z)}[log(1-D(G(\mathbf{z})))]</script><ul><li>$D^{*}=arg\max_{D}V(G,D)$ ç”Ÿæˆå™¨å›ºå®šï¼Œåˆ¤åˆ«å™¨Dåˆ¤æ–­çš„è¶Šå¥½ï¼ŒV=1+1è¶Šå¤§ï¼ŒDè¶Šå·®ï¼ŒV=0+0è¶Šå°</li><li>$G^{*}=arg\min_{G}\max_{D}V(G,D)$ åˆ¤åˆ«å™¨å›ºå®šï¼Œç”Ÿæˆå™¨Gç”Ÿæˆçš„è¶Šå¥½ï¼ŒV=1+0è¶Šå°</li></ul><h2 id="Diffusion-Model"><a href="#Diffusion-Model" class="headerlink" title="Diffusion Model"></a>Diffusion Model</h2><blockquote><p><a href="https://www.zhangzhenhu.com/aigc/%E6%89%A9%E6%95%A3%E6%A6%82%E7%8E%87%E6%A8%A1%E5%9E%8B.html#diffusion-probabilistic-model">2. æ‰©æ•£æ¦‚ç‡æ¨¡å‹ï¼ˆdiffusion probabilistic modelsï¼‰ â€” å¼ æŒ¯è™çš„åšå®¢ å¼ æŒ¯è™ æ–‡æ¡£</a></p></blockquote><p>$q(x_t|x_{t-1}) = \mathcal{N} (\sqrt{\alpha_t} \ x_{t-1}, (1- \alpha_t ) \textit{I} )$</p><p>$\begin{align}\begin{aligned}x_{t} &amp;=\sqrt{\alpha_t} \ x_{t-1} + \mathcal{N} (0, (1- \alpha_t ) \textit{I} )\\&amp;=\sqrt{\alpha_t} \ x_{t-1} +  \sqrt{1- \alpha_t } \ \epsilon \ \ \ ,\epsilon \sim \mathcal{N} (0, \textit{I} )\end{aligned}\end{align}$</p><p>éšç€tçš„å¢å¤§ï¼Œ$\alpha_{t}$åœ¨é€æ¸å˜å°ã€‚è¿™æ˜¯ç”±äºå‰æœŸå¦‚æœåŠ çš„å™ªå£°å¤ªå¤šï¼Œä¼šä½¿å¾—æ•°æ®æ‰©å±•çš„å¤ªå¿«ï¼ˆæ¯”å¦‚çªå˜ï¼‰ï¼Œä½¿å¾—é€†å‘è¿˜åŸå˜å¾—å›°éš¾ï¼› åŒæ ·å› ä¸ºåæœŸæ•°æ®æœ¬èº«å·²ç»æ¥è¿‘éšæœºå™ªå£°æ•°æ®äº†ï¼ŒåæœŸå¦‚æœåŠ çš„å™ªå£°ä¸å¤Ÿå¤šï¼Œç›¸å½“äºå˜åŒ–å¹…åº¦å°ï¼Œæ‰©æ•£çš„å¤ªæ…¢ï¼Œè¿™ä¼šä½¿å¾—é“¾è·¯å˜é•¿éœ€è¦çš„äº‹ä»¶å˜å¤šã€‚ æˆ‘ä»¬å¸Œæœ›æ‰©æ•£çš„å‰æœŸæ…¢ä¸€ç‚¹ï¼ŒåæœŸå¿«ä¸€ç‚¹</p><p>é€šè¿‡è®¾å®šè¶…å‚æ•°$\alpha_{0:T}$å¯ä»¥çœ‹å‡º<strong>å‰å‘åŠ å™ª</strong>çš„è¿‡ç¨‹æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡å…¬å¼è®¡ç®—çš„ï¼Œæ²¡æœ‰æœªçŸ¥å‚æ•°ã€‚</p><script type="math/tex; mode=display">\begin{align}\begin{aligned}x_t &= \sqrt{\alpha_t} \ x_{t-1} + \sqrt{1-\alpha_t} \ \epsilon_{t}\\&= \sqrt{\alpha_t} \left(   \sqrt{\alpha_{t-1}} \ x_{t-2} + \sqrt{1-\alpha_{t-1}} \ \epsilon_{t-1}  \right ) + \sqrt{1-\alpha_t} \ \epsilon_{t}\\&=  \sqrt{\alpha_t \alpha_{t-1} }  \ x_{t-2}+ \underbrace{ \sqrt{\alpha_t - \alpha_t \alpha_{t-1} }\ \epsilon_{t-1} + \sqrt{1- \alpha_t} \ \epsilon_{t}  }_{\text{ä¸¤ä¸ªç›¸äº’ç‹¬ç«‹çš„0å‡å€¼çš„é«˜æ–¯åˆ†å¸ƒç›¸åŠ }}\\&=  \sqrt{\alpha_t \alpha_{t-1} }  \ x_{t-2}+ \underbrace{  \sqrt{ \sqrt{\alpha_t - \alpha_t \alpha_{t-1} }^2 + \sqrt{1- \alpha_t}^2  } \ \epsilon}_{\text{ä¸¤ä¸ªæ–¹å·®ç›¸åŠ ï¼Œç”¨ä¸€ä¸ªæ–°çš„é«˜æ–¯åˆ†å¸ƒä»£æ›¿}}\\&= \sqrt{\alpha_t \alpha_{t-1} }  \ x_{t-2} + \sqrt{1- \alpha_t \alpha_{t-1}} \ \epsilon\\&= ...\\&= \sqrt{\prod_{i=1}^t \alpha_i} \ x_0 + \sqrt{1- \prod_{i=1}^t \alpha_i }  \ \epsilon\\&= \sqrt{\bar{ \alpha}_t } \ x_0 + \sqrt{1- \bar{ \alpha}_t }  \ \epsilon  \ \ \ ,\bar{\alpha} = \prod_{i=1}^t \alpha_i ,\ \ \epsilon \sim \mathcal{N}(0,\textit{I})\\&\sim \mathcal{N}(\sqrt{\bar{\alpha}_t } \ x_0,  (1- \bar{ \alpha}_t)    \textit{I})\end{aligned}\end{align}</script><p>è€Œé€†å‘è¿‡ç¨‹éœ€è¦ä»å™ªå£°å¼€å§‹ï¼Œé€æ­¥è§£ç æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„æ•°æ® $p(x_{0:T}) = p(x_T) \prod_{t={T-1}}^0 p(x_{t}|x_{t+1})$</p><ul><li>åœ¨è¿™é‡Œ$p(x_T) \sim \mathcal{N}(0,\textit{I})$ æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œä½†æ˜¯$p_{\theta}(x_{t}|x_{t+1})$ æ˜¯éš¾ä»¥æ±‚è§£çš„(åˆ†æ¯éƒ¨åˆ†å«æœ‰ç§¯åˆ†ï¼Œä¸”æ²¡æœ‰è§£æè§£)ï¼Œä¾æ¬¡ä½¿ç”¨ç½‘ç»œæ¥æ‹Ÿåˆå­¦ä¹ è¿™ä¸€æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ $p(x_{t}|x_{t+1})=\frac{p(x_{t},x_{t+1})}{p(x_{t+1})}=\frac{p(x_{t+1}|x_{t})p(x_{t})}{\int_{-\infty}^{+\infty}p(x_{t+1}|x_{t})p(x_{t})dx_{t}}.$</li><li>ç›®æ ‡å‡½æ•°ï¼ˆELBOï¼‰æˆ‘ä»¬çŸ¥é“å­¦ä¹ ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„æœªçŸ¥å‚æ•°çš„å¸¸ç”¨ç®—æ³•æ˜¯æå¤§ä¼¼ç„¶ä¼°è®¡ï¼Œ æå¤§ä¼¼ç„¶ä¼°è®¡æ˜¯é€šè¿‡æå¤§åŒ–è§‚æµ‹æ•°æ®çš„å¯¹æ•°æ¦‚ç‡ï¼ˆä¼¼ç„¶ï¼‰å®ç°çš„</li></ul><h3 id="DDPM-Denoising-Diffusion-Probabilistic-Models"><a href="#DDPM-Denoising-Diffusion-Probabilistic-Models" class="headerlink" title="DDPM(Denoising Diffusion Probabilistic Models)"></a>DDPM(Denoising Diffusion Probabilistic Models)</h3><p>$\text{Maximize E}_{q(x_1:x_T|x_0)}[log\left(\frac{P(x_0;x_T)}{q(x_1:x_T|x_0)}\right)]$</p><p>$q(x_t|x_0)$ å¯ä»¥åªåšä¸€æ¬¡ sample(ç»™å®šä¸€ç³»åˆ— $\beta$)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023100329.png" alt="image.png|666"></p><p>DDPM çš„ Lower bound of $logP(x)$<br>å¤æ‚å…¬å¼æ¨å¯¼å¾—åˆ°ï¼š ELBOå‡½æ•°æ¥çº¦æŸç½‘ç»œè®­ç»ƒ<br>$logP(x) \geq \operatorname{E}_{q(x_1|x_0)}[logP(x_0|x_1)]-KL\big(q(x_T|x_0)||P(x_T)\big)-\sum_{t=2}^{T}\mathrm{E}_{q(x_{t}|x_{0})}\bigl[KL\bigl(q(x_{t-1}|x_{t},x_{0})||P(x_{t-1}|x_{t})\bigr)\bigr]$</p><ul><li>$\mathbb{E}_{q(x_{1}|x_0)}\left[\ln p_{\theta}(x_0|x_1)\right]$ é‡å»ºé¡¹ï¼Œä»éšå¼å˜é‡ä¸­é‡å»ºå‡ºåŸæ¥çš„æ•°æ®$x_{0}$</li><li>$\mathbb{E}_{q(x_{T-1}|x_0)}\left[D_{KL}{q(x_T|x_{T-1})}{p(x_T)}\right]$ æœ€åä¸€ä¸ªæ•°æ®æ˜¯é«˜æ–¯å™ªå£°ï¼Œå› æ­¤å½“Tè¶³å¤Ÿå¤§ï¼Œè¿™ä¸€é¡¹è¶‹äº0</li><li>$\mathbb{E}_{q(x_{t-1}, x_{t+1}|x_0)}\left[D_{KL}{q(x_{t}|x_{t-1})}{p_(x_{t}|x_{t+1})}\right]$ KLæ•£åº¦åº¦é‡ï¼Œ consistency termã€‚è¿™ä¸€é¡¹ç”¨æ¥æœ€å°åŒ–$q(x_{t}|x_{t-1})$ ä¸ $p_(x_{t}|x_{t+1})$ ä¹‹é—´çš„å·®å¼‚ã€‚æœŸæœ›æ˜¯å…³äºä¸¤ä¸ªå˜é‡çš„ï¼Œç”¨é‡‡æ ·æ³•ï¼ˆMCMCï¼‰åŒæ—¶å¯¹ä¸¤ä¸ªéšæœºå˜é‡è¿›è¡Œé‡‡æ ·ï¼Œä¼šå¯¼è‡´æ›´å¤§çš„æ–¹å·®ï¼Œè¿™ä¼šä½¿å¾—ä¼˜åŒ–è¿‡ç¨‹ä¸ç¨³å®šï¼Œä¸å®¹æ˜“æ”¶æ•›ï¼Œå¯ä»¥å°†$p_(x_{t}|x_{t+1})$ä¼˜åŒ–ä¸ºï¼š$q(x_{t-1}|x_t, x_0)$</li></ul><p>$q(x_t | x_{t-1}, x_0) = \frac{q(x_{t-1} \mid x_t, x_0)q(x_t \mid x_0)}{q(x_{t-1} \mid x_0)}$</p><p>æ¡ä»¶ç‹¬ç«‹æ€§ï¼šå‡è®¾æœ‰ä¸‰ä¸ªéšæœºå˜é‡Aï¼ŒBï¼ŒCï¼Œä¸‰è€…ä¾èµ–å…³ç³»ï¼šAâ€”&gt;Bâ€”&gt;Cï¼Œå½“Bå€¼å·²çŸ¥æ—¶ï¼ŒAå’ŒCç›¸äº’ç‹¬ç«‹ï¼Œæ­¤æ—¶$P(C|B)=P(C|B,A)$ æˆç«‹  $q(x_t | x_{t-1}) = q(x_t | x_{t-1}, x_0)$<br>è”åˆæ¦‚ç‡çš„åŸºæœ¬æ€§è´¨ï¼š$q(x_t, x_{t-1}, x_0) = q(x_t \mid x_{t-1}, x_0) q(x_{t-1} \mid x_0) q(x_0)$ å¦ä¸€ç§å½¢å¼$q(x_t, x_{t-1}, x_0) = q(x_{t-1} \mid x_t, x_0) q(x_t \mid x_0) q(x_0)$</p><p>$q(x_t \mid x_{t-1}, x_0) q(x_{t-1} \mid x_0) q(x_0) = q(x_{t-1} \mid x_t, x_0) q(x_t \mid x_0) q(x_0)$<br>å³å¾—$q(x_t | x_{t-1}, x_0) = \frac{q(x_{t-1} \mid x_t, x_0)q(x_t \mid x_0)}{q(x_{t-1} \mid x_0)}$ å’Œ $q(x_{t-1}|x_{t},x_{0}) =\frac{q(x_{t}|x_{t-1})q(x_{t-1}|x_{0})}{q(x_{t}|x_{0})}$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240923093718.png" alt="image.png|666"></p><p><strong>ç›´æ¥é¢„æµ‹åŸå§‹æ ·æœ¬</strong> $x_t=\sqrt{\bar{\alpha}_t}x_0+\sqrt{1-\bar{\alpha}_t}\epsilon.$</p><ul><li>$q(x_{t-1}|x_{t},x_{0}) =\frac{q(x_{t}|x_{t-1})q(x_{t-1}|x_{0})}{q(x_{t}|x_{0})}$ ä¸ºä¸€ä¸ª Gaussian distribution <a href="https://www.zhangzhenhu.com/aigc/%E6%89%A9%E6%95%A3%E6%A6%82%E7%8E%87%E6%A8%A1%E5%9E%8B.html#equation-eq-ddpm-036">æ¨å¯¼è¿‡ç¨‹</a><ul><li>å‡å€¼+æ–¹å·®ï¼š $mean = \frac{\sqrt{\bar{\alpha}_{t-1}}\beta_{t}x_{0}+\sqrt{\alpha_{t}}(1-\bar{\alpha}_{t-1})x_{t}}{1-\bar{\alpha}_{t}}$ ï¼Œ$variance = \frac{1-\bar{\alpha}_{t-1}}{1-\bar{\alpha}_{t}}\beta$</li></ul></li></ul><p>$x_0$éœ€è¦é€šè¿‡ç½‘ç»œé¢„æµ‹æ¥è·å¾—ï¼Œå› æ­¤ï¼š<br>$\mu_q(x_t, x_0) = { \frac{\sqrt{\alpha_t}(1-\bar\alpha_{t-1})x_{t} + \sqrt{\bar\alpha_{t-1}}(1-\alpha_t)x_0}{1 -\bar\alpha_{t}}}$<br>$\mu_{\theta}={\mu}_(x_t, t) = \frac{\sqrt{\alpha_t}(1-\bar\alpha_{t-1})x_{t} + \sqrt{\bar\alpha_{t-1}}(1-\alpha_t)\hat x_(x_t, t)}{1 -\bar\alpha_{t}}$ ç½‘ç»œé¢„æµ‹$\hat{x}_{\theta}$ ï¼Œç„¶åè¿™ä¸ªåˆ†å¸ƒï¼Œé‡‡æ ·å¾—åˆ°$x_{t-1}$</p><p><strong>ç„¶è€Œç›´æ¥é¢„æµ‹$x_{0}$æ—¶éå¸¸å›°éš¾å¾—ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½åªç»™å®šæ¯ä¸€æ­¥çš„tæ¥é¢„æµ‹åŒæ ·çš„è¾“å‡ºï¼Œ(trained)ç›¸åŒçš„ç½‘ç»œå‚æ•°å¾ˆéš¾å®Œæˆè¿™æ ·çš„é¢„æµ‹</strong></p><p>å› æ­¤DDPMè½¬æ¢æ€è·¯æ¥<strong>é¢„æµ‹æ¯æ­¥tä¸­æ·»åŠ çš„å™ªå£°</strong>ï¼š<br>$x_0 =  \frac{x_t -\sqrt{1- \bar{ \alpha}_t }  \ \epsilon_t }{ \sqrt{\bar{\alpha}_t }  },\ \ \epsilon_t \sim \mathcal{N}(0,\textit{I})$</p><p>å‡å€¼ï¼š$\mu_{\theta}={\mu}_(x_t, t) = \frac{1}{\sqrt{\alpha_t}}x_t - \frac{1 - \alpha_t}{\sqrt{1 - \bar\alpha_t}\sqrt{\alpha_t}} {\hat\epsilon}_{ {\theta}}(x_t, t)$ <a href="https://www.zhangzhenhu.com/aigc/%E6%89%A9%E6%95%A3%E6%A6%82%E7%8E%87%E6%A8%A1%E5%9E%8B.html#equation-eq-ddpm-054">æ¨å¯¼è¿‡ç¨‹</a> (å°†$x_{0}$é‡å†™æˆ$\epsilon$)</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022210535.png" alt="image.png|666"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022210617.png" alt="image.png|666"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231023102747.png" alt="image.png|666"></p><h3 id="DDPM-ä¸‰ç§å½¢å¼"><a href="#DDPM-ä¸‰ç§å½¢å¼" class="headerlink" title="DDPM ä¸‰ç§å½¢å¼"></a>DDPM ä¸‰ç§å½¢å¼</h3><p>é€†å‘ç”Ÿæˆè¿‡ç¨‹ï¼š$q(x_{t-1}|x_t,x_0) \sim \mathcal{N}(x_{t-1},\mu_q,\Sigma_{q(t)})$</p><p>æ–¹å·®ï¼š<br>$\Sigma_q(t) = \frac{(1 - \alpha_t)(1 - \bar\alpha_{t-1})}{ 1 -\bar\alpha_{t}}  \textit{I} = \sigma_q^2(t)   \textit{I}$</p><h4 id="1ï¼‰ç›´æ¥é¢„æµ‹åˆå§‹æ ·æœ¬"><a href="#1ï¼‰ç›´æ¥é¢„æµ‹åˆå§‹æ ·æœ¬" class="headerlink" title="1ï¼‰ç›´æ¥é¢„æµ‹åˆå§‹æ ·æœ¬"></a>1ï¼‰ç›´æ¥é¢„æµ‹åˆå§‹æ ·æœ¬</h4><p>$\mu_q(x_t, x_0) = { \frac{\sqrt{\alpha_t}(1-\bar\alpha_{t-1})x_{t} + \sqrt{\bar\alpha_{t-1}}(1-\alpha_t)x_0}{1 -\bar\alpha_{t}}}$</p><p>$\mu_{\theta}={\mu}_(x_t, t) = \frac{\sqrt{\alpha_t}(1-\bar\alpha_{t-1})x_{t} + \sqrt{\bar\alpha_{t-1}}(1-\alpha_t)\hat x_(x_t, t)}{1 -\bar\alpha_{t}}$</p><h4 id="2ï¼‰é¢„æµ‹å™ªå£°"><a href="#2ï¼‰é¢„æµ‹å™ªå£°" class="headerlink" title="2ï¼‰é¢„æµ‹å™ªå£°"></a>2ï¼‰é¢„æµ‹å™ªå£°</h4><p>$\mu_q(x_t, x_0) = \frac{1}{\sqrt{\alpha_t}}x_t - \frac{1 - \alpha_t}{\sqrt{1 - \bar\alpha_t}\sqrt{\alpha_t}}\ \epsilon$</p><p>$\mu_{\theta}={\mu}_(x_t, t) = \frac{1}{\sqrt{\alpha_t}}x_t - \frac{1 - \alpha_t}{\sqrt{1 - \bar\alpha_t}\sqrt{\alpha_t}} {\hat\epsilon}_{ {\theta}}(x_t, t)$</p><h4 id="3ï¼‰é¢„æµ‹åˆ†æ•°"><a href="#3ï¼‰é¢„æµ‹åˆ†æ•°" class="headerlink" title="3ï¼‰é¢„æµ‹åˆ†æ•°"></a>3ï¼‰é¢„æµ‹åˆ†æ•°</h4><p>${\mu}_q(x_t, x_0) =  \frac{1}{\sqrt{\alpha_t}}x_t + \frac{1 - \alpha_t}{\sqrt{\alpha_t}}\nabla\log p(x_t)$</p><p>${\mu}_q(x_t, x_0) =  \frac{1}{\sqrt{\alpha_t}}x_t + \frac{1 - \alpha_t}{\sqrt{\alpha_t}} s_{\theta}(x_t,t)$</p><h3 id="DDPM-Code"><a href="#DDPM-Code" class="headerlink" title="DDPM Code"></a>DDPM Code</h3><p><a href="https://github.com/mikonvergence/DiffusionFastForward">mikonvergence/DiffusionFastForward: DiffusionFastForward: a free course and experimental framework for diffusion-based generative models (github.com)</a></p><h4 id="Schedule"><a href="#Schedule" class="headerlink" title="Schedule"></a>Schedule</h4><ul><li><code>betas</code>: $\beta_t$ , <code>betas=torch.linspace(1e-4,2e-2,num_timesteps)</code></li><li><code>alphas</code>: $\alpha_t=1-\beta_t$ </li><li><code>alphas_sqrt</code>:  $\sqrt{\alpha_t}$</li><li><code>alphas_prod</code>: $\bar{\alpha}_t=\prod_{i=0}^{t}\alpha_i$</li><li><code>alphas_prod_sqrt</code>: $\sqrt{\bar{\alpha}_t}$</li></ul><p>diffusion step 0,1,â€¦,t,â€¦Tï¼šéšç€tå¢å¤§ï¼Œbetaåº”è¯¥é€æ¸å¢å¤§</p><ul><li>cosine: <ul><li>$\alpha_{cumprod} =\cos\left( \left( \frac{\frac{t}{T}+s}{(1+s)}\cdot \pi \cdot 0.5 \right)^{2} \right)$ ï¼Œvalue: $\cos\left( \frac{s}{1+s} \cdot \frac{\pi}{2} \right)$ ~$\cos\left( \frac{\pi}{2} \right)$ = $\cos(0)$ ~ $\cos\left( \frac{\pi}{2} \right)$ if s â€”&gt; 0</li><li>$\alpha_{cumprod} = \frac{\alpha_{cumprod}}{\alpha_{cumprod}^{max}}$, è®©æœ€å¤§çš„$\alpha$ä¸è¶…è¿‡1</li><li>$\beta$ = <code>1 - (alphas_cumprod[1:] / alphas_cumprod[:-1])</code></li></ul></li><li>linear: <ul><li>$linspace\left( scale<em>0.0001,scale</em>0.02,T \right)$ , $scale=\frac{1000}{T}$</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240924095523.png" alt="image.png|666"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># consine beta</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cosine_beta_schedule</span>(<span class="params">timesteps, s=<span class="number">0.008</span></span>):</span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">  cosine schedule</span></span><br><span class="line"><span class="string">  as proposed in https://openreview.net/forum?id=-NEXDKk8gZ</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">  steps = timesteps + <span class="number">1</span></span><br><span class="line">  x = torch.linspace(<span class="number">0</span>, timesteps, steps, dtype=torch.float64)</span><br><span class="line">  alphas_cumprod = torch.cos(((x / timesteps) + s) / (<span class="number">1</span> + s) * math.pi * <span class="number">0.5</span>) ** <span class="number">2</span></span><br><span class="line">  alphas_cumprod = alphas_cumprod / alphas_cumprod[<span class="number">0</span>]</span><br><span class="line">  betas = <span class="number">1</span> - (alphas_cumprod[<span class="number">1</span>:] / alphas_cumprod[:-<span class="number">1</span>])</span><br><span class="line">  <span class="keyword">return</span> torch.clip(betas, <span class="number">0</span>, <span class="number">0.999</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># linear beta</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">linear_beta_schedule</span>(<span class="params">timesteps</span>):</span><br><span class="line">  scale = <span class="number">1000</span> / timesteps</span><br><span class="line">  beta_start = scale * <span class="number">0.0001</span></span><br><span class="line">  beta_end = scale * <span class="number">0.02</span></span><br><span class="line">  <span class="keyword">return</span> torch.linspace(beta_start, beta_end, timesteps, dtype=torch.float64)</span><br></pre></td></tr></table></figure><h4 id="Forward-Process"><a href="#Forward-Process" class="headerlink" title="Forward Process"></a>Forward Process</h4><p>Forward step:</p><script type="math/tex; mode=display">q(x_t|x_{tâˆ’1}) := \mathcal{N}(x_t; \sqrt{1 âˆ’ \beta_t}x_{tâˆ’1}, \beta_tI) \tag{1}</script><p>Forward jump:</p><script type="math/tex; mode=display">q(x_t|x_0) = \mathcal{N}(x_t;\sqrt{\bar{\alpha_t}}x_0, (1 âˆ’ \bar{\alpha_t})I) \tag{2}</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">forward_step</span>(<span class="params">t, condition_img, return_noise=<span class="literal">False</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        forward step: t-1 -&gt; t</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> t &gt;= <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    mean=alphas_sqrt[t]*condition_img</span><br><span class="line">    std=betas[t].sqrt()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># sampling from N</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> return_noise:</span><br><span class="line">        <span class="keyword">return</span> mean+std*torch.randn_like(img)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        noise=torch.randn_like(img)</span><br><span class="line">        <span class="keyword">return</span> mean+std*noise, noise</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">forward_jump</span>(<span class="params">t, condition_img, condition_idx=<span class="number">0</span>, return_noise=<span class="literal">False</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        forward jump: 0 -&gt; t</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">assert</span> t &gt;= <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    mean=alphas_cumprod_sqrt[t]*condition_img</span><br><span class="line">    std=(<span class="number">1</span>-alphas_cumprod[t]).sqrt()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># sampling from N</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> return_noise:</span><br><span class="line">        <span class="keyword">return</span> mean+std*torch.randn_like(img)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        noise=torch.randn_like(img)</span><br><span class="line">        <span class="keyword">return</span> mean+std*noise, noise</span><br></pre></td></tr></table></figure><h4 id="Reverse-Process"><a href="#Reverse-Process" class="headerlink" title="Reverse Process"></a>Reverse Process</h4><p>è‡³å°‘ä¸‰ç§é€†å‘è¿‡ç¨‹çš„æ±‚æ³•ï¼Œä» $x_{t}$ åˆ° $x_{0}$<br>There are <strong>at least 3 ways of parameterizing the mean</strong> of the reverse step distribution $p_\theta(x_{t-1}|x_t)$:</p><ul><li>Directly (a neural network will estimate $\mu_\theta$)ç›´æ¥ç”¨ç½‘ç»œé¢„æµ‹ $\mu_\theta$</li><li>Via $x_0$ (a neural network will estimate $x_0$)ç”¨ç½‘ç»œé¢„æµ‹ $x_0$<script type="math/tex; mode=display">\tilde{\mu}_\theta = \frac{\sqrt{\bar{\alpha}_{t-1}}\beta_t}{1-\bar{\alpha}_t}x_0 + \frac{\sqrt{\alpha_t}(1-\bar{\alpha}_{t-1})}{1-\bar{\alpha}_t}x_t\tag{4}</script></li><li>Via noise $\epsilon$ subtraction from $x_0$ (a neural network will estimate $\epsilon$)ç”¨ç½‘ç»œé¢„æµ‹å™ªå£° $\epsilon$<script type="math/tex; mode=display">x_0=\frac{1}{\sqrt{\bar{\alpha}_t}}(x_t-\sqrt{1-\bar{\alpha}_t}\epsilon)\tag{5}</script></li></ul><h3 id="Why-Does-Diffusion-Work-Better-than-Auto-Regression"><a href="#Why-Does-Diffusion-Work-Better-than-Auto-Regression" class="headerlink" title="Why Does Diffusion Work Better than Auto-Regression?"></a>Why Does Diffusion Work Better than Auto-Regression?</h3><blockquote><p><a href="https://www.youtube.com/watch?v=zc5NTeJbk-k">Why Does Diffusion Work Better than Auto-Regression? - YouTube</a></p></blockquote><ul><li>åˆ†ç±»ä»»åŠ¡ï¼šå›¾ç‰‡â€”&gt;ç±»åˆ«</li></ul><p>å¦‚ä½•ç”Ÿæˆå›¾ç‰‡(Thinking)ï¼š</p><ul><li>ä»ä»»æ„æ•°æ®ä¸­é¢„æµ‹æ•´å¼ å›¾ç‰‡(çœŸå®å›¾ç‰‡åšæ ‡ç­¾)ï¼Œè¿™æ ·è®­ç»ƒé›†æ ‡ç­¾å›¾ç‰‡çš„mean valueä¼šå˜blurring(<strong>blurry mess</strong>)ã€‚(åˆ†ç±»ä»»åŠ¡ä¸­è®­ç»ƒé›†æ ‡ç­¾01çš„meaning valueä¸ä¼šæ”¶åˆ°å¾ˆå¤§å½±å“)</li><li><strong>Auto-Regressor</strong>: æ­£å‘è¿‡ç¨‹æ˜¯ä¸æ–­æ“¦é™¤å›¾åƒï¼Œç½‘ç»œè¢«è®­ç»ƒä¸ºundoè¿™ä¸ªè¿‡ç¨‹ï¼Œå³ä¸æ–­é¢„æµ‹å›¾ç‰‡çš„ä¸‹ä¸€ä¸ªåƒç´ æ˜¯ä»€ä¹ˆé¢œè‰²(like ChatGPT)<ul><li>è€ƒè™‘æ¥é¢„æµ‹å›¾ç‰‡ä¸­çš„å•ä¸ªåƒç´ ï¼Œè¿™æ ·è®­ç»ƒé›†æ ‡ç­¾çš„mean valueæ˜¯å¦ä¸€ä¸ªé¢œè‰²å€¼(ç½‘ç»œæ ¹æ®è¾“å…¥çš„å›¾ç‰‡æ¥é¢„æµ‹å•ä¸ªé¢œè‰²å€¼)ã€‚æ¯ä¸ªåƒç´ çš„é¢œè‰²è®­ç»ƒä¸€ä¸ªç½‘ç»œæ¥è¿›è¡Œé¢„æµ‹ï¼Œé€šè¿‡å¤šä¸ªç½‘ç»œï¼Œä¾æ¬¡é¢„æµ‹æ¯ä¸ªåƒç´ å€¼ï¼Œæœ€ç»ˆå¾—åˆ°æ•´å¼ å›¾ç‰‡ã€‚è¿™æ ·å°±èƒ½ç”Ÿæˆplausible(ä¼¼ä¹æ˜¯çœŸçš„) imageï¼Œout of nothing(å‡­ç©º)ã€‚<strong>ç„¶è€Œæ¯æ¬¡ç”Ÿæˆçš„å›¾ç‰‡æ˜¯ç›¸åŒçš„</strong></li><li>è€ƒè™‘æ·»åŠ éšæœºï¼Œä¹‹å‰predicted pixelæ˜¯æ¦‚ç‡åˆ†å¸ƒä¸­æ¦‚ç‡æœ€å¤§çš„é‚£ä¸ªé¢œè‰²å€¼ï¼Œ<strong>ä¸å»è¿™æ ·é€‰æ‹©è€Œæ˜¯éšæœºé€‰æ‹©æŸä¸ªæ¦‚ç‡çš„é¢œè‰²ä½œä¸ºæœ¬æ¬¡çš„é¢„æµ‹</strong></li><li>ç¼ºç‚¹æ˜¯éšç€åƒç´ é‡çš„å¢å¤§ï¼Œè®¡ç®—é‡éå¸¸å¤§ï¼Œè¦ç”Ÿæˆä¸€å¼ å¤§åƒç´ å›¾åƒæ˜¯éå¸¸è€—æ—¶çš„ã€‚å½“ç„¶å¯ä»¥é€ æ•°æ®é›†æ—¶ä¸€æ¬¡removeå¤šä¸ªåƒç´ ï¼Œåœ¨è®­ç»ƒä¸­ä¸€æ¬¡é¢„æµ‹å¤šä¸ªåƒç´ ã€‚<strong>ä½†æ˜¯ä¸èƒ½è¿‡å¤šï¼Œè¿™æ ·ä¾ç„¶ä¼šé€ æˆblurry mess</strong> Trade-offï¼šæ›´å¿«ä½†æ˜¯blurry messï¼Œæ›´æ…¢ä½†æ˜¯æ›´å‡†ç¡®</li></ul></li></ul><p><strong>Blurry mess</strong>ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240808183321.png" alt="image.png|666"></p><p><strong>Why predicting one pixel is work</strong>ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240808183400.png" alt="image.png|666"></p><p>è¯¥é—®é¢˜åªä¼šå‡ºç°åœ¨é¢„æµ‹çš„å€¼æ˜¯äº’ç›¸å…³çš„æƒ…å†µ(åœ¨å›¾åƒä¸­ç›¸è¿‘çš„åƒç´ é€šå¸¸æ˜¯å¼ºç›¸å…³çš„ï¼Œè¿™åœ¨æŒ‰é¡ºåºremoveæ—¶å‡ºç°)ï¼Œå‡è®¾é¢„æµ‹çš„å€¼ç›¸äº’ç‹¬ç«‹çš„æƒ…å†µ(éšæœºremoveåƒç´ )ã€‚<strong>removeåƒç´ å¯ä»¥ä»å¦ä¸€ç§è§’åº¦è¿›è¡Œå®ç°ï¼Œå³ç»™æ¯ä¸ªåƒç´ æ·»åŠ å™ªå£°</strong></p><h3 id="Stable-Diffusion"><a href="#Stable-Diffusion" class="headerlink" title="Stable Diffusion"></a>Stable Diffusion</h3><blockquote><p><a href="https://blog.cnbang.net/tech/3766/">Stable Diffusion å›¾ç‰‡ç”ŸæˆåŸç†ç®€è¿° Â« bangâ€™s blog</a></p></blockquote><p>ç›®å‰å¸¸è§çš„ UI æœ‰ WebUI å’Œ ComfyUI</p><h4 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h4><p>æ¨¡å‹æ ¼å¼ï¼š</p><ul><li>ä¸»æ¨¡å‹ checkpointsï¼š<em>ckpt, safetensors</em></li><li>å¾®è°ƒæ¨¡å‹<ul><li>LoRA å’Œ LyCORIS æ§åˆ¶ç”»é£å’Œè§’è‰²ï¼š<em>safetensors</em></li><li>æ–‡æœ¬ç¼–ç å™¨æ¨¡å‹ï¼š<em>pt,safetensors</em><ul><li>Embedding è¾“å…¥æ–‡æœ¬ prompt è¿›è¡Œç¼–ç  <em>pt</em></li></ul></li><li>Hypernetworks ä½é…ç‰ˆçš„ lora <em>pt</em></li><li>ControlNet</li><li>VAE å›¾ç‰‡ä¸æ½œåœ¨ç©ºé—´ <em>pt</em></li></ul></li></ul><h4 id="é‡‡æ ·å™¨"><a href="#é‡‡æ ·å™¨" class="headerlink" title="é‡‡æ ·å™¨"></a>é‡‡æ ·å™¨</h4><p><a href="https://www.bilibili.com/video/BV1FN411i7sB/">Stable diffusioné‡‡æ ·å™¨å…¨è§£æï¼Œ30ç§é‡‡æ ·ç®—æ³•æ•™ç¨‹</a><br>DPM++2M Karrasï¼Œæ”¶æ•›+é€Ÿåº¦å¿«+è´¨é‡ OK</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20231022195103.png" alt="image.png|666"></p><h2 id="MLP"><a href="#MLP" class="headerlink" title="MLP"></a>MLP</h2><h3 id="å‰å‘ä¼ æ’­"><a href="#å‰å‘ä¼ æ’­" class="headerlink" title="å‰å‘ä¼ æ’­"></a>å‰å‘ä¼ æ’­</h3><p>æ ¹æ®æ¯å±‚çš„è¾“å…¥ã€æƒé‡weightå’Œåç½®biasï¼Œæ±‚å‡ºè¯¥å±‚çš„è¾“å‡ºï¼Œç„¶åç»è¿‡æ¿€æ´»å‡½æ•°ã€‚æŒ‰æ­¤ä¸€å±‚ä¸€å±‚ä¼ é€’ï¼Œæœ€ç»ˆè·å¾—è¾“å‡ºå±‚çš„è¾“å‡ºã€‚</p><h3 id="åå‘ä¼ æ’­"><a href="#åå‘ä¼ æ’­" class="headerlink" title="åå‘ä¼ æ’­"></a>åå‘ä¼ æ’­</h3><blockquote><p><a href="https://www.cnblogs.com/jsfantasy/p/12177275.html">ç¥ç»ç½‘ç»œä¹‹åå‘ä¼ æ’­ç®—æ³•ï¼ˆBPï¼‰å…¬å¼æ¨å¯¼ï¼ˆè¶…è¯¦ç»†ï¼‰ - jsfantasy - åšå®¢å›­ (cnblogs.com)</a><br><a href="https://www.youtube.com/watch?v=ibJpTrp5mcE">ML Lecture 7: Backpropagation - YouTube</a></p></blockquote><p>å‡å¦‚æ¿€æ´»å‡½æ•°ä¸ºsigmoidå‡½æ•°ï¼š$\sigma(x) = \frac{1}{1+e^{-x}}$<br>sigmoidçš„å¯¼æ•°ä¸ºï¼š$\frac{d}{dx}\sigma(x) = \frac{d}{dx} \left(\frac{1}{1+e^{-x}} \right)= \sigma(1-\sigma)$</p><p>å› æ­¤å½“æŸå¤±å‡½æ•°å¯¹æƒé‡æ±‚å¯¼ï¼Œå…¶ç»“æœä¸sigmoidçš„è¾“å‡ºç›¸å…³</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702194201.png" alt="image.png"></p><ul><li>oä»£è¡¨è¾“å‡ºï¼Œä¸Šæ ‡è¡¨ç¤ºå½“å‰çš„å±‚æ•°ï¼Œä¸‹æ ‡è¡¨ç¤ºå½“å‰å±‚æ•°çš„ç¬¬å‡ å·è¾“å‡º</li><li>zä»£è¡¨æ±‚å’Œç»“æœï¼Œå³sigmoidçš„è¾“å…¥</li><li>æƒé‡$w^{J}_{ij}$çš„ä¸Šæ ‡è¡¨ç¤ºæƒå€¼æ‰€å±çš„å±‚æ•°ï¼Œä¸‹æ ‡è¡¨ç¤ºä»Iå±‚çš„ç¬¬iå·èŠ‚ç‚¹åˆ°Jå±‚çš„ç¬¬jå·èŠ‚ç‚¹</li></ul><p>è¾“å‡ºå¯¹Jå±‚çš„æƒé‡$w_{ij}$æ±‚å¯¼ï¼š </p><script type="math/tex; mode=display">\begin{align*}\frac{\partial L}{\partial w_{ij}} &=\frac{\partial}{\partial w_{ij}}\frac{1}{2}\sum_{k}(o_{k}-t_{k})^{2} \\&= \sum_k(o_k-t_k)\frac{\partial o_k}{\partial w_{ij}}\\&= \sum_k(o_k-t_k)\frac{\partial \sigma(z_k)}{\partial w_{ij}}\\&= \sum_k(o_k-t_k)o_k(1-o_k)\frac{\partial z_k}{\partial w_{ij}}\\&= \sum_k(o_k-t_k)o_k(1-o_k)w_{jk}\cdot\frac{\partial o_j}{\partial w_{ij}}\end{align*}</script><p>$\frac{\partial z_k}{\partial w_{ij}} = \frac{\partial z_k}{o_j}\cdot \frac{\partial o_j}{\partial w_{ij}} = w_{jk} \cdot \frac{\partial o_j}{\partial w_{ij}}$, because $z_k = o_j \cdot w_{jk} + b_k$</p><p>and $\frac{\partial z_j}{\partial w_{ij}} = o_i \left(z_j = o_i\cdot w_{ij} + b_j\right)$</p><script type="math/tex; mode=display">\begin{align*}\frac{\partial L}{\partial w_{ij}} &= \sum_k(o_k-t_k)o_k(1-o_k)w_{jk}\cdot\frac{\partial o_j}{\partial w_{ij}}\\&= \frac{\partial o_j}{\partial w_{ij}}\cdot\sum_k(o_k-t_k)o_k(1-o_k)w_{jk}\\&= o_j(1-o_j)\frac{\partial z_j}{\partial w_{ij}} \cdot\sum_k(o_k-t_k)o_k(1-o_k)w_{jk}\\&= o_j(1-o_j)o_i \cdot\sum_k(o_k-t_k)o_k(1-o_k)w_{jk}\\&= o_j(1-o_j)o_i \cdot\sum_k\delta _k^K\cdot w_{jk}\\&= \delta_j^J\cdot o_i^I\end{align*}</script><p>å…¶ä¸­ $\delta_j^J = o_j(1-o_j) \cdot \sum_k \delta _k^K\cdot w_{jk}$</p><p>æ¨å¹¿ï¼š</p><ul><li>è¾“å‡ºå±‚ï¼š$\frac{\partial L}{\partial w_{jk}} = \delta _k^K\cdot o_j$ ,å…¶ä¸­$\delta _k^K = (o_k-t_k)o_k(1-o_k)$</li><li>å€’äºŒå±‚ï¼š$\frac{\partial L}{\partial w_{ij}} = \delta _j^J\cdot o_i$ ,å…¶ä¸­$\delta_j^J = o_j(1-o_j) \cdot \sum_k \delta _k^K\cdot w_{jk}$</li><li>å€’ä¸‰å±‚ï¼š$\frac{\partial L}{\partial w_{ni}} = \delta _i^I\cdot o_n$ ,å…¶ä¸­$\delta_i^I = o_i(1-o_i)\cdot \sum_j\delta_j^J\cdot w_{ij}$<ul><li>$o_n$ ä¸ºå€’ä¸‰å±‚è¾“å…¥ï¼Œå³å€’å››å±‚çš„è¾“å‡º</li></ul></li></ul><p>æ ¹æ®æ¯ä¸€å±‚çš„è¾“å…¥æˆ–è¾“å‡ºï¼Œä»¥åŠçœŸå®å€¼ï¼Œå³å¯è®¡ç®—losså¯¹æ¯ä¸ªæƒé‡å‚æ•°çš„å¯¼æ•°</p><h3 id="ä¼˜åŒ–ç®—æ³•"><a href="#ä¼˜åŒ–ç®—æ³•" class="headerlink" title="ä¼˜åŒ–ç®—æ³•"></a>ä¼˜åŒ–ç®—æ³•</h3><blockquote><p><a href="https://zh.d2l.ai/chapter_optimization/optimization-intro.html">11.1. ä¼˜åŒ–å’Œæ·±åº¦å­¦ä¹  â€” åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹  2.0.0 documentation (d2l.ai)</a></p></blockquote><p>ä¸åŒçš„ç®—æ³•æœ‰ä¸åŒçš„å‚æ•°æ›´æ–°æ–¹å¼</p><h4 id="ä¼˜åŒ–çš„ç›®æ ‡"><a href="#ä¼˜åŒ–çš„ç›®æ ‡" class="headerlink" title="ä¼˜åŒ–çš„ç›®æ ‡"></a>ä¼˜åŒ–çš„ç›®æ ‡</h4><p>è®­ç»ƒæ•°æ®é›†çš„æœ€ä½ç»éªŒé£é™©å¯èƒ½ä¸æœ€ä½é£é™©ï¼ˆæ³›åŒ–è¯¯å·®ï¼‰ä¸åŒ</p><ul><li>ç»éªŒé£é™©æ˜¯è®­ç»ƒæ•°æ®é›†çš„å¹³å‡æŸå¤±</li><li>é£é™©åˆ™æ˜¯æ•´ä¸ªæ•°æ®ç¾¤çš„é¢„æœŸæŸå¤±</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702201639.png" alt="image.png"></p><h4 id="ä¼˜åŒ–çš„æŒ‘æˆ˜"><a href="#ä¼˜åŒ–çš„æŒ‘æˆ˜" class="headerlink" title="ä¼˜åŒ–çš„æŒ‘æˆ˜"></a>ä¼˜åŒ–çš„æŒ‘æˆ˜</h4><table>  <tr>    <td style="text-align:center;">      <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702201744.png" alt="Image 1" style="width:500px;">      <p>å±€éƒ¨æœ€ä¼˜</p>    </td>    <td style="text-align:center;">      <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702201754.png" alt="Image 2" style="width:500px;">      <p>éç‚¹</p>    </td>        <td style="text-align:center;">      <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702202522.png" alt="Image 2" style="width:500px;">      <p>æ¢¯åº¦æ¶ˆå¤±</p>    </td>  </tr></table><p>(éç‚¹ in 3D)saddle point be like:<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702201813.png" alt="image.png"></p><h2 id="Transformer"><a href="#Transformer" class="headerlink" title="Transformer"></a>Transformer</h2><blockquote><p><a href="https://jalammar.github.io/illustrated-transformer/">The Illustrated Transformer â€“ Jay Alammar â€“ Visualizing machine learning one concept at a time.</a><br><a href="https://lilianweng.github.io/posts/2020-04-07-the-transformer-family/">The Transformer Family | Lilâ€™Log</a><br><a href="https://www.bilibili.com/video/BV1dt4y1J7ov/?spm_id_from=333.337.search-card.all.click&amp;vd_source=1dba7493016a36a32b27a14ed2891088">æ³¨æ„åŠ›æœºåˆ¶çš„æœ¬è´¨|Self-Attention|Transformer|QKVçŸ©é˜µ_å“”å“©å“”å“©_bilibili</a> </p></blockquote><p>è¾“å…¥Xï¼Œé€šè¿‡ä¸‰ä¸ªä¸åŒçš„æƒé‡<br>$f(X)=softmax(XW_QX^TW_K/\sqrt{d})XW_V$  OR $\text{Attention}(\mathbf{Q}, \mathbf{K}, \mathbf{V}) = \text{softmax}(\frac{\mathbf{Q} {\mathbf{K}}^\top}{\sqrt{d_k}})\mathbf{V}$</p><ul><li>$a_{ij} = \text{softmax}(\frac{\mathbf{q}_i {\mathbf{k}_j}^\top}{\sqrt{d_k}})= \frac{\exp(\mathbf{q}_i {\mathbf{k}_j}^\top)}{ \sqrt{d_k} \sum_{r \in S_i} \exp(\mathbf{q}_i {\mathbf{k}_r}^\top) }$</li><li>å…¶ä¸­$\sqrt{d}$æ˜¯ä¸ºäº†é˜²æ­¢ç»´åº¦è¿‡é«˜å¯¼è‡´çš„æ¢¯åº¦æ¶ˆå¤±ï¼Œdæ˜¯æ•°æ®çš„ç»´åº¦</li></ul><p><strong>softmax(Qä¸Kçš„ä¹˜ç§¯)</strong> å¯ä»¥çœ‹ä½œæƒé‡ï¼Œé€šè¿‡æƒé‡æ¥æ’å€¼Vå¾—åˆ°æœ€ç»ˆçš„è¾“å‡ºã€‚é€šè¿‡ä½¿Qä¸Kè·ç¦»è¶Šå°æ—¶ï¼Œå¯¹<br>åº”çš„æƒé‡æ›´å¤§ï¼Œå³æ­¤æ—¶Keyå¯¹åº”çš„Valueå¯¹è¾“å‡ºçš„è´¡çŒ®æ›´å¤§ï¼Œè®©ç½‘ç»œæ³¨æ„åˆ°è¿™ä¸ªè´¡çŒ®æ›´å¤§çš„Key</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240923164610.png" alt="image.png|333"><br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240923164633.png" alt="image.png|333"></p><p>ä¸€ä¸ª$\text{Attention}(\mathbf{Q}, \mathbf{K}, \mathbf{V}) = \text{softmax}(\frac{\mathbf{Q} {\mathbf{K}}^\top}{\sqrt{d_k}})\mathbf{V}$è®¡ç®—ä¸ºAttentionçš„ä¸€ä¸ªHeadï¼Œå¤šå¤´æ³¨æ„åŠ›å°±æ˜¯å¤šä¸ªHeadï¼š</p><ul><li>$\begin{aligned}\text{MultiHeadAttention}(\mathbf{X}_q, \mathbf{X}_k, \mathbf{X}_v) &amp;= [\text{head}_1; \dots; \text{head}_h] \mathbf{W}^o \\ \text{where head}_i &amp;= \text{Attention}(\mathbf{X}_q\mathbf{W}^q_i, \mathbf{X}_k\mathbf{W}^k_i, \mathbf{X}_v\mathbf{W}^v_i)\end{aligned}$</li><li>$\mathbf{W}^o \in \mathbb{R}^{d_v \times d}$ ä¸ºè¾“å‡ºçš„çº¿æ€§transformation</li></ul><p>vanilla Transformer model:<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240923165513.png" alt="image.png|666"></p><p>Positiolal Encoding</p><script type="math/tex; mode=display">\text{PE}(i,\delta) = \begin{cases}\sin(\frac{i}{10000^{2\delta'/d}}) & \text{if } \delta = 2\delta'\\\cos(\frac{i}{10000^{2\delta'/d}}) & \text{if } \delta = 2\delta' + 1\\\end{cases}</script><ul><li>the token position $i=1,\dots,L$</li><li>the dimension $\delta=1,\dots,d$</li></ul><p>_Learned positional encoding_, as its name suggested, assigns each element with a learned column vector which encodes its _absolute_ position<br><a href="https://arxiv.org/abs/1705.03122">Convolutional Sequence to Sequence Learning | Abstract</a></p><h2 id="INN"><a href="#INN" class="headerlink" title="INN"></a>INN</h2><p><a href="https://arxiv.org/pdf/2003.11566">Interval Neural Networks 2020</a> é€šè¿‡ç‰©ç†å‚æ•°å’Œmeasured responseæ¥è¾¨è¯† é›†ä¸­è´Ÿè½½</p><p>$y_{k}^{I}=f(x_{1},x_{2},\cdots,x_{l})=[\underline{y}_{k},\overline{y}_{k}]=f\left(\sum_{j=1}^{m}\left[\underline{v}_{jk},\overline{v}_{jk}\right]u_{j}-[\underline{\lambda}_{k},\overline{\lambda}_{k}]\right)$</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920162900.png" alt="image.png|333"><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920163041.png" alt="image.png|333"></p><p>INN ä¸ MLP ä¸¤è€…é¢„æµ‹åŒºé—´å‚æ•°çš„åŒºåˆ«<br>INN offers greater fitting flexibility due to the interval of weight and bias</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240920163527.png" alt="image.png|666"></p><h2 id="RBFNN"><a href="#RBFNN" class="headerlink" title="RBFNN"></a>RBFNN</h2><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20241026160849.png" alt="image.png|444"></p><h2 id="KAN"><a href="#KAN" class="headerlink" title="KAN"></a>KAN</h2><p><a href="https://github.com/KindXiaoming/pykan?tab=readme-ov-file">KindXiaoming/pykan: Kolmogorov Arnold Networks</a></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240505163014.png" alt="image.png|666"></p><h2 id="SNNs"><a href="#SNNs" class="headerlink" title="SNNs"></a>SNNs</h2><p><a href="https://zhuanlan.zhihu.com/p/531524477">ç¬¬ä¸‰ä»£ç¥ç»ç½‘ç»œåˆæ¢ï¼šè„‰å†²ç¥ç»ç½‘ç»œï¼ˆSpiking Neural Networksï¼‰ - çŸ¥ä¹</a></p><h1 id="å…¶ä»–æ¦‚å¿µ"><a href="#å…¶ä»–æ¦‚å¿µ" class="headerlink" title="å…¶ä»–æ¦‚å¿µ"></a>å…¶ä»–æ¦‚å¿µ</h1><h2 id="å‚æ•°é‡æ•´åŒ–"><a href="#å‚æ•°é‡æ•´åŒ–" class="headerlink" title="å‚æ•°é‡æ•´åŒ–"></a>å‚æ•°é‡æ•´åŒ–</h2><p><a href="https://www.bilibili.com/video/BV1b541197HX/">DDPMbç«™è§†é¢‘</a>å…¬å¼æ¨å¯¼</p><p>ä»é«˜æ–¯åˆ†å¸ƒä¸­ç›´æ¥é‡‡æ ·ä¸€ä¸ªå€¼å‡ºæ¥æ˜¯ä¸å¯å¯¼çš„ï¼Œæ— æ³•è¿›è¡Œæ¢¯åº¦ä¼ é€’ï¼Œéœ€è¦è¿›è¡Œå‚æ•°é‡æ•´åŒ–ï¼š<br>ä» $\mathcal{N}(0,1)$ ä¸­éšæœºé‡‡æ ·å‡ºæ¥ zï¼Œç„¶åå¯¹ z åš $\mu + z * \sigma$ ç›¸å½“äºä»é«˜æ–¯åˆ†å¸ƒ $\mathcal{N}(\mu,\sigma)$ ä¸­é‡‡æ ·</p><h2 id="ä½ç½®ç¼–ç "><a href="#ä½ç½®ç¼–ç " class="headerlink" title="ä½ç½®ç¼–ç "></a>ä½ç½®ç¼–ç </h2><p>Position Embedding ä¸ Position encodingçš„åŒºåˆ«</p><blockquote><p><a href="https://www.zhihu.com/question/402387099/answer/1366825959">ä¸¤ä¸ªPEçš„ä¸åŒ</a></p></blockquote><p>position embeddingï¼šéšç½‘ç»œä¸€èµ·è®­ç»ƒå‡ºæ¥çš„ä½ç½®å‘é‡ï¼Œä¸å‰é¢è¯´çš„ä¸€è‡´ï¼Œå¯ä»¥ç†è§£æˆåŠ¨æ€çš„ï¼Œå³æ¯æ¬¡è®­ç»ƒç»“æœå¯èƒ½ä¸ä¸€æ ·ã€‚</p><p>position encodingï¼šæ ¹æ®ä¸€å®šçš„ç¼–ç è§„åˆ™è®¡ç®—å‡ºæ¥ä½ç½®è¡¨ç¤ºï¼Œæ¯”å¦‚</p><script type="math/tex; mode=display">\gamma(p)=\left(\sin \left(2^{0} \pi p\right), \cos \left(2^{0} \pi p\right), \cdots, \sin \left(2^{L-1} \pi p\right), \cos \left(2^{L-1} \pi p\right)\right)</script><h1 id="è¿ç§»å­¦ä¹ "><a href="#è¿ç§»å­¦ä¹ " class="headerlink" title="è¿ç§»å­¦ä¹ "></a>è¿ç§»å­¦ä¹ </h1><p>è¿ç§»å­¦ä¹ é€šå¸¸ä¼šå…³æ³¨æœ‰ä¸€ä¸ªæºåŸŸ $D_{s}$ å’Œä¸€ä¸ªç›®æ ‡åŸŸ$D_{t}$ çš„æƒ…å†µï¼Œå°†æºåŸŸä¸­ç½‘ç»œå­¦ä¹ åˆ°çš„çŸ¥è¯†è¿ç§»åˆ°ç›®æ ‡åŸŸçš„å­¦ä¹ ä¸­</p><p><a href="https://zhuanlan.zhihu.com/p/443079853">Transfer learning ã€è¿ç§»å­¦ä¹ ç»¼è¿°_æ±‡æ€»ã€‘ - çŸ¥ä¹ (zhihu.com)</a></p><h1 id="é›†æˆå­¦ä¹ "><a href="#é›†æˆå­¦ä¹ " class="headerlink" title="é›†æˆå­¦ä¹ "></a>é›†æˆå­¦ä¹ </h1><p><a href="https://zhuanlan.zhihu.com/p/27689464">é›†æˆå­¦ä¹ ï¼ˆEnsemble Learning) - çŸ¥ä¹ (zhihu.com)</a></p><h1 id="å¼ºåŒ–å­¦ä¹ "><a href="#å¼ºåŒ–å­¦ä¹ " class="headerlink" title="å¼ºåŒ–å­¦ä¹ "></a>å¼ºåŒ–å­¦ä¹ </h1><blockquote><p><a href="https://datawhalechina.github.io/easy-rl/#/">è˜‘è‡ä¹¦EasyRL</a></p></blockquote><h2 id="Paper"><a href="#Paper" class="headerlink" title="Paper"></a>Paper</h2><blockquote><p><a href="https://gamengen.github.io/">GameNGen</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DeepLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Neusä»£ç ç†è§£</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Neus-code/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Neus-code/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/Totoro97/NeuS">Neusä»£ç </a>çš„ç†è§£</p><p>NeRFä¸Neusç›¸æœºåæ ‡ç³»çš„å¯¹æ¯”ï¼š</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703144039.png" alt="image.png"></p><div class="table-container"><table><thead><tr><th>Method</th><th>Pixel to Camera coordinate</th></tr></thead><tbody><tr><td>NeRF</td><td>$\vec d = \begin{pmatrix} \frac{i-\frac{W}{2}}{f} \\ -\frac{j-\frac{H}{2}}{f} \\ -1 \\ \end{pmatrix}$ , $intrinsics = K = \begin{bmatrix} f &amp; 0 &amp; \frac{W}{2}  \\ 0 &amp; f &amp; \frac{H}{2}  \\ 0 &amp; 0 &amp; 1 \\ \end{bmatrix}$</td></tr><tr><td>Neus</td><td>$\vec d = intrinsics^{-1} \times  pixel = \begin{bmatrix} \frac{1}{f} &amp; 0 &amp; -\frac{W}{2 \cdot f}  \\ 0 &amp; \frac{1}{f} &amp; -\frac{H}{2 \cdot f} \\ 0 &amp; 0 &amp; 1 \\ \end{bmatrix} \begin{pmatrix} i \\ j \\ 1 \\ \end{pmatrix} = \begin{pmatrix} \frac{i-\frac{W}{2}}{f} \\ \frac{j-\frac{H}{2}}{f} \\ 1 \\ \end{pmatrix}$</td></tr></tbody></table></div><span id="more"></span><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><h2 id="Runner-trainæµç¨‹å›¾"><a href="#Runner-trainæµç¨‹å›¾" class="headerlink" title="Runner().trainæµç¨‹å›¾"></a>Runner().trainæµç¨‹å›¾</h2><iframe frameborder="0" style="width:100%;height:1153px;" src="https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1&title=Runner.drawio#R7V1Zk6M4Ev41RFd1RBPcx6Ndx8zG7vTudE3s7DwRlC3bTBlwA66jf%2F1KQtiA0gbbXG57ImraiEtk6stM5SEJ6p3%2F%2Fkvkrha%2FhVO0FBRp%2Bi6o94KiaJZq4H9Iy0faohiWlrbMI2%2BatsnbhifvB2KNEmtde1MUFy5MwnCZeKti4yQMAjRJCm1uFIVvxctm4bL41pU7R1zD08Rd8q1%2FetNkkbZairlt%2FxV580X2Ztmw0zO%2Bm13MviReuNPwLdekPgjqXRSGSfrLf79DS0K9jC7pfY87zm46FqEgqXPDaKV9cxdf3e9%2F%2BN%2FXc%2FlpFKhfvrCnvLrLNftgQTGW%2BHnjWYgfi3udfDBSGN%2FXYXbiS0wZNcIXyMbqfXsS%2F5qTf7%2BtMTui7Fm4U%2Bnj0pOMHpsnK1G4DqaI9FPGp98WXoKeVu6EnH3D4wq3LRJ%2FyU6TJ7FxIhubp%2BXpkH0UihL0nmtidPkFhT5Kog98SXY2YxobpXLGs7cty2WJtS1y7NZYm8tG2Xzz6C0j8A%2FGiwP4YnA0QlM8LtlhGCWLcB4G7vJh2zreUlHCR9tr%2FhWGK0a7v1GSfDDiueskLFIWvXvJ%2F8jtos6O%2FsqduX9nT6YHH9lBgD83dxM5%2FCt%2FbnsbPcruq83FOFxHE7SHVAqTCm40R8me65jcIXTcOyYitHQT77WI%2F8YZrHDAW0XhBMVxKstm3pxIKw8zdjdYpH7AosuY1Xm4KDoAF1Xn4aK3BRfzCpe6cNFqwkUfFFw0Di73buLGKLm5PQOAqJA%2BgQDSmj6RrStC6iJEr4kQ2RwURHQOIl9R8hZGL%2FE5IMTqW4VYAPm%2BPd58%2Fhyj5UwkKlnQx598MsMRsWk7%2ByTo98OTPapctGRVmaerqnZpyWYdyBH26f6RDU2YvPF05gTpBWdCZaN3KvMTuScvmC%2FRf93Ic4MJ2kvwV3bReVFdA8a2ZnRKdd6K%2F4YwjSJM%2Br0Ej7KrzoziwDjXuh3nKkdxjmrxwl2Rn5N1tPwYR%2B7khajxKvIVfRAtEFOxlbLSk3WOnApATdlqi5wb39TVLKw0CzNzr9ouZKAZiF2Y9TsHmSSMJgsxXCWeL46mrj84wcMbiJrOY6VbAxGQNFesVECgEivZE4eCFZvDyle0fkqVOorOwtmgq31PpZSrO66%2B9zoLalUiZWD%2Ba37CsQzdKW6ZLNDkZRV6NN5Dwz%2FPURb5IQ5t5xlbZOvVGSDJkHpHEm%2FueoGXcLRLyPxtTnHUPeG0UvDMNEVAV0sb67dAOb0lyqlXy7a%2BDKobE1CGZdkqfFQgonFnMYlcLzgLbW2YvcuYa6y5PlLqxgaUYQGFjw1ELEFDoodSmq9xFoiRew8VKHysgAqcQatlwzD7V8rXKXR9UVN3Cq0Oawqt8FPop7Xvu9HHnxGGwHnIGFPrW8ZkL7tCpRoqat05tKoOCioqP4der6ZugpwlcqOAhIcifDRExKiKmIViGGQsKMfFVEWzU9TYV9TURo1aFzXWsFDD%2B0Rw%2Fx3Pd%2BfIWaHIHyJeiIaRC3ixe3cuadecsPpgqesi0YaVFKbyLpI5CrBaCaahj%2F%2F5iB13kDmUmmaIuilt%2FlNKygZyMVqGaJldaht%2BHthM9YRPJ5MSm1RKS4Kt8ymlEKWSpIMm7J1WU2QPvjIqjzBbKrAJyKbqmEsKzyV9%2FOwmk4VDGaHcEUZIgn5P%2FVaELfgCKsRCcbJaEzlGLqEtr%2FmWSbgMo%2FSn78Yv%2BC56%2B136HJk8Ub%2FnWIQpmRT5ECdR%2BILu6NPU%2ByAMiEqcectlqcldevMAH04wfxBuHxO%2BeBN3OWInfG863ekXKgrfVkCqlXgPGO9gAqPSGvOBSJc%2Fd7zpO%2BER5VR%2BJFwMp3S9yCkD1HxQ1mN7rDJ4nD7Ygj0SrEfhwRDsO2E8Ii1Y7lu28KCTdtsQHjRhbJFG3DK%2BE0b0hz0Wxg%2FCg0muxMr74ZGcsu7oNbYwNvY%2B2RCssTCy6cBgjx%2BN6AtVeocpjDX6HlOwNcGmz7AswaZvtnT6DJM8cvx4QUNKMYtDyqw9pMy2hpR%2BdQzXL%2BCqm4eYTTgHMhXR%2BDzEALmRMyN%2FEZ6NxKsFigbp7aKTEaOoMWHUdD0F0Xhve2oP5Syh6QXJtrK6lHWQTXKX%2BlLnZx9k4KccmpEfF8MeQ1VFreg3ViSIQ9YWcJ3wyJA5LlwVUIVeqVRAmQnRvQKyvv%2FD%2BLf3I%2FDff3%2F%2BcL%2BPvX8%2BhH2npeY4vOV3szxulqcwEY1BGRVZv%2FP6jyZrD9KMMFUxyx3ZrIcD6iciJrUOzQidTxDK%2FFhT7zXzYW0si8ysuGN6bMa0WXpHvHKD7BaS6zunhHei%2BXPON5a%2FKNecexvQAegNkzB23AB3ZEmCpV544DsuRvXqWbR5s2gHNPK6dfoY1ySH%2BhLaqKt1h1UooPPeolx9N6n1vlkl8RCltaGLVtFW1TQwtV2zxE4DtzoQdyo6yqXP%2BC9wYtdfLVG88aBSR7di4FZMo%2BA5Xl2WCDRkTZSL%2BlcDixWwAhbVLqcfOj%2BNr%2BAoYad6YUELgH0qyD5pa2d1o8eu7svaeiybFFa7L4c10zB4Lw5d2CFwPH%2BFuUfWz6CClolXZl9mEdS8ZluE%2FvM67kmr6bqoFJNdVRBEJJCfza7yIGptLQKDjwB%2BIH7top9XvulS0XepyRBftE4N9Gs%2BZX3BVjdFzBhWPqXBp4itV8zQGKQXhdjlSgEpuqodYJdrbZW3GEBgPO%2FEALKMiDT7wgQTyWdZolnCpxnlQjq8A6Rs0G%2BcMxWekHzbDwf3OT7snvJ78Uyu%2BgFHuXhgPftIXkHObEarEydodeBXkNFPbWvl82fv6jvaYXlLhmiWIKdAykm1YMdlewqKDyrPSKaX5JE%2FkpMXucEc3UAD5ZZC7mKYqBiaqBR9gLoETp8MzG27HSaCMYUzjL0VTIytxdF4XCazFQbs9YNZeoY87SrWBvEUJOLA7ETe6zhxEyc1HQZrKBYduAaYbNC5oWjyvoRymnPR3CG2DmfmXIzmAhx%2FugGaH9p2atCJ5lJaMvj3BV8hK7Yrmz9Ab84x97U3N1i6MWHyjUfnBMThJgvpohaE6hJs9x3Tj8s1%2FhVNNIvJj7AYxc2i3pLbHUQftBZsI%2Bjjq06KsbQxJ6DZfBT%2FKItpEqKhdSZNP7S8ttp1oAIDFQzYEsNAaWmWCg5UYJ0qmqTkTMIIOeE6ib3pIH1thlF0SZsqFCjYauemrSdY6fYabct%2BH5bH18J8EaQNUBsA07C32oB93W7LcUqvSKuEyNgmkfO9dhR0%2FbGmy9F9T%2B0sZ4YQ0KGc6kj1BhMibXaIaaCphy0umHypoxZFs6sjFZanllqSp2CIT1UUEYi8Gm2pp16DfMOWp3VdNQPzvml9cnQw3reTOCr3tlbUvm7z2ScbwX8eqSdaDfnXZuoJzGveH3dZqSeAh80EA3xtZZ%2FARupPv0DR8WJMBlbv6qhgh946irCtnLuALvge5578n3QF%2BG12U2nJCXsTe3zcdctmIdJdt%2BAfaT%2B2Y2zzQSdIA96vlJuuD3GaDqTEWAelqrc2Vwc2nwnCCxKs5VFvdZrTB7MEqB540IXRozC2M1fU8%2FyWrqdxT1bGSFfPGFlkP0S6Xsa9YMv0x5isyPFgkHU3xgpdoONRsNW3kK6xczlMNnRee4KZFbuWB2hPg%2FY6ERj21C4jerUGHdZMQOGN1X6Cjk0kHvLVSN3mLIIureb7fXzaY65WrjPK0hdP0atH6mmDTl5%2FPIHo0m6dk6hU16zelwudh0arXP%2Fc5WrhFrucNg250ylSp86EmQY7T52eZsBVlGPLY3eR%2BTVVIG8IlaxdOElYB2Ygcns2EL9ERGv6EhrEn%2Bi4%2FJQ%2BqeYYLbapQnHxw7vTIlKsWwXYsO4BUNoF8io0Q52GEh42%2FsvyV1V0n4os1u2c%2BCp19%2BBe1H39Gx27MesAO6LPb%2FSVlypKtrv87PUUa9BCXq3FyYDd%2BFqTJDukhlQtDapgP51lYGdJecAzoWpzuf47iD2dQYP%2B3tf33GvqPn8euVMPD67sHZtjMUJ09%2B%2BbPS%2Bh9LotyuAqmpGpBnuXLEoCy8ySvODV2fltJ9IQ44%2BlWrIXbxsapuZuUVb9DokW27QiYSebgTqpZuttSyPMQVG0gWGxMf%2FGA%2FjqBYQMbLFL9uBC26mfcbEqQyqpDAusa9fgFY5ay1HtdR%2FSgXvggCWN4Asb33f0yBhWKR1SlljDzhAWd4csdxDBygi7fzm31MRwZl6A8nYGbWjK2MgpTvp733MPEKJYN%2BT7HaEk7bXO1MYm6bpZHenEa7%2BoJklLQ9%2FEXuG77%2BwVSRhNFiI%2Bvino5KnnY5aSokly9ILQKm35I1qjW0wBqeLrD%2BjSTjurJnUPHC0DNURAWyA%2F5MoXFOl%2Fom2Qf1HpfLoPxnFDfGcI%2B4jdSDLDgE5uGtHldklsbo5zily321Lk79LMeP8hza3o7e7Xl%2FHfz787Tr9Fyt3p8ZKKPVKxA3uXwtZRv5E0ftU10l2yj0%2FMZ3%2F1nuWhW2XrwwaXzpZEG0ieayLFAwSGegVGbWBAO5WCRFX6xAWwLymgrWj0LVwlno%2BZFIn4L3SIJry5ra3wCM5EEsl5c6ND7iu9mtTE7b57aDA2uH23cruk5pNFbAmsUtvufdc4lHtdjne4UN6N0BpI1jpC8r5O7gcyRkBE60qZkUyu2221Ng8nDjsAQ3bDyZbLcLIsEE6Q30dvD0u9bjYwLCxVYsQ4ESOw80WRTc75Im8Wv8yekwKd3Vri%2BWGumN3wr0JggoI4jJ5DrAXFeOIuyXL6Z4E%2Bzue6E31QimuL6LuQkrZGNBnghQWvs%2FrUZLU8mrH7ipzJAk1eqCu3S5vwNBgp5f04BwKjfpfxOjMcAZWFMFGlPoG0e8%2FqHELwWW%2FqJsjxfHeOzgdH2kCNQblXJ0mxkk2qiaNiJZvcHY4yHlYDqSsvyd5u1kSSj%2BLF%2BQBJN4uld4MB0oB2DBo%2BkOr6KORenRRZN%2FcDab2iMFoiNwq8YE7ysM9IMXH7kkoSH9Ha5Dx2BaZ%2BN0Q8Bkyy0Jd1l62pUbkSr9ovmGo5HPAXpKads0KRf0YwMkoV4QqAIr1bFPVbY9ndKgXNoKjuJCnNte4NRfwsaY4Ch1Y4ukk7SwCc6IgzVFEx7c1%2FZgEn%2BL%2BOtxmFmXohq4I3E2CqPQ3q1TG3pxw5rUsCqiIIAL7QZKU0pd5YvfNFEXt8EMWCp51QrJHK1Aj0ymEGDQSbAqilJkpVYK5U2NRNbEUjZQXf6XN%2FqpVoTxsR5eIlxaw9Ipoog4RHxICM%2FeHLXmB1JfjCU0OXp%2FGUL0gjO3I7M%2FIXhT7LFB2kvaLJoqFu7RW7ABgV3qfB3G5D1I29UrEt%2BtFSNN2jiMrPbFVXulnRD291Q1pvr0KVT%2FQorZ26WQ6wsPNrpyL1p98dsUmRWjfMrPRqzvZbr9XdZlQd8%2FTU2Ty99dB6rW10gomMrPZvV7mWImV287E3qMzMaqq8ay%2FZuQUKB6nordJuw%2BDOPVAtR2tqXVXOD%2BP9ye26HrvOajn2djOHiXCdkLWYWD1j2Z4iZ4Mw8t0lu2BwwNE3QMmkkQZlBAGL6bSHnLOZRDaIgNpFG2ojWg5QY6XsMEMu8TftGZfDerK%2BzCqOdqo%2FWd97QzvqDyhP8fz5DpgziOMLBojwXOFHRkAZnPhuW7uBedsL3eQduJ7%2FFmHS09uOXo%2BPOYu9MIjZQJDcYIr%2Fn%2FI%2FrnjUnoqjRr%2F1i0CK7IOJm6CA5C9sxy3xp85JUHZ%2B3PZ07fQ1j56DOnUOUMtiZHn%2FgQnYoWZbMNOu4bADtHBtO9Tu0w5Vd%2BfXNhQO4xIJhxUNU7loGJCi0WksTBtQ8u3wYQaU7sNU7TWLPetmDmZY0UXuJHGydwzRGaLqumjJB2ZpkD0bjA6tP21AObaDx0sm3arx0mtaoN6vDMxxtH4hz%2FB5qveyDJmiZuIgc6mydLWd0%2FTyDXqVW1srOwLUDub1Gdl%2FLpkOrtHSvUy%2FhioPwD%2BQ6g1f2GuoUuNTvTO8zDy0nMbnhxY4ONQ9WiqqjY%2F2szzTDQt8kutBHD7s0H1n%2BXQoDpdr4sRKj7%2BvUfThzNbB5JoOwpcClEo9VRUUtFBCiNVWKYCuXKVsfSlb16FzspV1mizgHTprfJiinG2SZqtkO7SRSTZRIy2WMB7lwKw%2F0PP2SLA0sksavsrKLhyNyClLEcb25hqyMPuDLliSML4bqARXCtjTwJWWd4ltozX4XSeu9eGXbbBbDb9%2BJ658sC9VRCgWHh4JQOzRV%2BeVjs%2FcYrNbRZlEnhvMl4XLk9zlpYjTGaBNx7g6wEiy2uLMdYWrA9BWd0qh95pQrvNTCowfEnEQ%2F0j%2FHSJC8MDfOaMwVBleSEeF0SK3t7giP6mghEXvK4yD4dFVV6RalIS24DmKjPgwCsl0aetUwh%2B6%2BC2cInLF%2FwE%3D"></iframe><p><a href="#æ•°æ®é›†è‡ªå®šä¹‰">æ•°æ®é›†è‡ªå®šä¹‰</a>ï¼šæ ¹æ®imgs2poses.pyç”Ÿæˆsparse_points.plyå’Œposes.npyæ–‡ä»¶ï¼Œè‹¥å…ˆå‰æ²¡æœ‰ç»è¿‡colmapï¼Œåˆ™ä¼šç”Ÿæˆ<code>sparse\0\*.bin</code><a href="#camerasæ–‡ä»¶">æ–‡ä»¶</a>,(cameras.bin, images.bin , points3D.bin)ã€‚ç„¶åæ ¹æ®gen_cameras.pyæ–‡ä»¶ï¼Œé€šè¿‡pose.npyè¯»å–ç¬¬ä¸€ä¸ªç›¸æœºçš„c2wçŸ©é˜µå°†ç¬¬ä¸€ä¸ªç›¸æœºçš„å•ä½åæ ‡ç³»ä¿å­˜ä¸ºpose.plyæ–‡ä»¶ï¼Œé€šè¿‡pose.npyå’Œsparse_points_interest.plyæ–‡ä»¶ç”Ÿæˆpreprocessedæ–‡ä»¶å¤¹ä¸‹çš„cameras_sphere.npzï¼Œå¹¶å¤åˆ¶imagesç”Ÿæˆimageå’Œmaskæ–‡ä»¶å¤¹ä¸‹å›¾ç‰‡ã€‚</p><ul><li>imgs2poses.py<ul><li>sparse_points.plyï¼šè¯»å–points3Dæ–‡ä»¶ä¸­çš„æ‰€æœ‰ç‚¹ï¼Œç”Ÿæˆçš„ç¨€ç–ç‚¹äº‘æ–‡ä»¶</li><li>poses.npyï¼šé€šè¿‡cameras.binå’Œimages.binæ–‡ä»¶è®¡ç®—å‡ºçš„<a href="#imagesæ–‡ä»¶">poseæ•°æ®</a>ï¼šå¤§å°num_images x 3 x 5ï¼ŒåŒ…æ‹¬num_images x 3 x 4çš„c2wçŸ©é˜µå’Œnum_images x 3çš„hwfæ•°æ®</li></ul></li><li>gen_cameras.py<ul><li><a href="#poseæ–‡ä»¶">pose.ply</a>ï¼šè¯»å–ç¬¬ä¸€ä¸ªç›¸æœºçš„poseï¼Œå°†è¯¥ç›¸æœºåæ ‡ç³»ä¸‹çš„åŸç‚¹ã€xyzè½´å•ä½åæ ‡è½¬æ¢åˆ°ä¸–ç•Œåæ ‡ç³»ä¸‹ï¼Œç„¶åç”Ÿæˆç‚¹äº‘ä¿å­˜ä¸ºpose.plyæ–‡ä»¶</li><li><a href="#ä¸¤ä¸ªçŸ©é˜µ">cameras_sphere.npz</a><ul><li>world_matï¼šé€šè¿‡pose.npzè¯»å–poseçŸ©é˜µï¼Œåˆ†è§£ä¸ºc2wå’Œhwfï¼Œå¹¶å°†c2wæ±‚é€†å¾—åˆ°w2cï¼Œå°†hwfè½¬åŒ–ä¸ºintrinsicç›¸æœºå†…å‚çŸ©é˜µï¼Œæœ€åå¾—åˆ°<code>world_mat=intrinsic @ w2c</code></li><li>scale_matï¼šé€šè¿‡sparse_points_interest.plyæ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„æ„Ÿå…´è¶£åŒºåŸŸï¼Œåœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹è®¡ç®—å‡ºscale_matï¼Œ<strong>è¯¥çŸ©é˜µç”¨äºå°†ä¸–ç•Œåæ ‡ç³»åŸç‚¹ç¼©æ”¾å¹¶å¹³ç§»åˆ°æ„Ÿå…´è¶£åŒºåŸŸçš„ä¸­å¿ƒå¤„ï¼Œä½¿å¾—ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å•ä½åœ†å³ä¸ºæ„Ÿå…´è¶£çš„åŒºåŸŸ</strong>ï¼Œè¿™ä¹Ÿæ˜¯ä¸éœ€è¦maskçš„åŸå› </li><li>imageå’Œmaskï¼šå°†imagesæ•°æ®é›†æ–‡ä»¶å¤¹ä¸‹å›¾ç‰‡å¤åˆ¶åˆ°preprocessedæ–‡ä»¶å¤¹ä¸‹çš„imageä¸‹å’Œå¹¶æ ¹æ®æ•°æ®é›†å›¾ç‰‡ç”ŸæˆåŒæ ·å¤§å°çš„ç™½è‰²å›¾ç‰‡ï¼Œæ”¾å…¥maskæ–‡ä»¶å¤¹</li></ul></li></ul></li></ul><p><a href="#dataset">æ•°æ®å¤„ç†</a>ï¼š</p><ul><li>è¯»å–cameras_sphere.npzæ–‡ä»¶ã€imageå’Œmaskæ–‡ä»¶ï¼Œè·å¾—ç›¸æœºçš„å†…å¤–å‚çŸ©é˜µintrinsics, poseï¼Œå¹¶å¯¹intrinsicsæ±‚é€†å¾—åˆ°intrinsics_invï¼Œåœ¨<a href="#å…‰çº¿ç”Ÿæˆ">ç”Ÿæˆå…‰çº¿</a>æ—¶ç”¨äºå°†å›¾ç‰‡åƒç´ çš„åæ ‡è½¬æ¢ä¸ºå…‰çº¿åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹çš„åŸç‚¹oå’Œæ–¹å‘å‘é‡dã€‚</li><li>é€šè¿‡oå’Œdï¼Œç”Ÿæˆåœºæ™¯ä¸­çš„nearå’Œfarï¼Œå³åœ¨æ¯æ¡å…‰çº¿ä¸Šé‡‡æ ·æ—¶ï¼Œé‡‡æ ·ç‚¹çš„æœ€è¿‘åæ ‡å’Œæœ€è¿œåæ ‡</li></ul><p><a href="#render">æ¸²æŸ“</a>ï¼š</p><ul><li>æ ¹æ®oã€dã€nearå’Œfarï¼Œä»¥åŠå…¶ä»–å‚æ•°ï¼Œç»è¿‡MLPç½‘ç»œï¼Œå¾—åˆ°é¢œè‰²å€¼ã€sdfå¯¹è¾“å…¥pts_xyzçš„æ¢¯åº¦ç­‰ä¿¡æ¯ï¼Œç„¶åè®¡ç®—lossï¼Œæœ€åé€šè¿‡åå‘ä¼ æ’­ä¸æ–­æ›´æ–°ç½‘ç»œçš„å‚æ•°ï¼Œè®­ç»ƒå‡ºæœ€ç»ˆçš„4ä¸ªMLPç½‘ç»œ</li><li>æ ¹æ®è®­ç»ƒå¥½çš„MLPç½‘ç»œï¼Œé€šè¿‡ä¸€ä¸ªæ–°ç›¸æœºç‚¹çš„ä½ç½®ï¼Œç”Ÿæˆä¸€ç³»åˆ—å…‰çº¿ï¼Œåœ¨å…‰çº¿ä¸Šè¿›è¡Œé‡‡æ ·è·å¾—ç‚¹äº‘çš„åæ ‡ï¼Œç„¶åå°†åæ ‡è¾“å…¥MLPç½‘ç»œï¼Œè·å¾—ä¸‰ç»´ç©ºé—´ä¸­æ¯ä¸ªç‚¹äº‘çš„é¢œè‰²ã€SDFå’Œæ¢¯åº¦ç­‰ä¿¡æ¯ã€‚<ul><li>é¢œè‰²è·Ÿè§‚å¯Ÿæ–¹å‘æœ‰å…³ã€SDFä¸æ–¹å‘æ— å…³ã€æ¢¯åº¦ä¸æ–¹å‘æ— å…³ï¼Œé¢œè‰²å¯ä»¥ç”¨æ¥ç”Ÿæˆæ–°è§†ç‚¹çš„å›¾ç‰‡ã€è§†é¢‘ï¼ŒSDFå¯ä»¥ç”¨æ¥æ ¹æ®thresholdé€‰å–é›¶æ°´å¹³é›†æ¥ç”Ÿæˆmeshæ¨¡å‹è¡¨é¢ï¼Œæ¢¯åº¦å¯ä»¥åšæ³•å‘é‡å›¾ã€‚</li></ul></li></ul><h2 id="dataset"><a href="#dataset" class="headerlink" title="dataset"></a>dataset</h2><p><code>self.dataset = Dataset(self.conf[&#39;dataset&#39;])</code></p><ul><li>ç›¸æœºå†…å¤–å‚æ•°çŸ©é˜µ</li><li>å…‰çº¿çš„ç”Ÿæˆä»¥åŠåæ ‡å˜æ¢</li></ul><p>BlendedMVS/bmvs_bear/cameras_sphere</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">in gen_cameras : </span><br><span class="line">w2c = np.linalg.inv(pose)</span><br><span class="line"></span><br><span class="line">ä¸–ç•Œåæ ‡ç³»åˆ°åƒç´ åæ ‡ç³»è½¬æ¢çŸ©é˜µ</span><br><span class="line">(4, 4) world_mats_np0 = intrinsic @ w2c =w2pixel</span><br><span class="line">[[-1.0889766e+02  3.2340955e+02  6.2724188e+02 -1.6156446e+04] </span><br><span class="line">[-4.8021997e+02 -3.6971255e+02  2.8318774e+02 -8.9503633e+03]</span><br><span class="line">[ 2.4123600e-01 -4.2752099e-01  8.7122399e-01 -2.1731400e+01]</span><br><span class="line">[ 0.0000000e+00  0.0000000e+00  0.0000000e+00  1.0000000e+00]]</span><br><span class="line"></span><br><span class="line">å°†ä¸–ç•Œåæ ‡ç³»å¹³ç§»ç¼©æ”¾åˆ°æ„Ÿå…´è¶£ç‰©ä½“çš„ä¸­å¿ƒ</span><br><span class="line">(4, 4) scale_mats_np0 : sparse_points_interestä¸­ï¼Œä»¥ä¸­å¿ƒç‚¹ä¸ºåœ†å¿ƒï¼Œæœ€è¿œè·ç¦»ä¸ºåŠå¾„çš„ä¸€ä¸ªåŒºåŸŸ</span><br><span class="line">    scale_mat = np.diag([radius, radius, radius, 1.0]).astype(np.float32)</span><br><span class="line">    scale_mat[:3, 3] = center</span><br><span class="line">[[ 1.6737139  0.         0.        -2.702419 ]</span><br><span class="line">[ 0.         1.6737139  0.        -1.3968586]</span><br><span class="line">[ 0.         0.         1.6737139 27.347609 ]</span><br><span class="line">[ 0.         0.         0.         1.       ]]</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">P = world_mat @ scale_mat</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">[[-1.8226353e+02  5.4129504e+02  1.0498235e+03  8.3964941e+02]</span><br><span class="line"> [-8.0375085e+02 -6.1879303e+02  4.7397528e+02  6.0833594e+02]</span><br><span class="line"> [ 4.0376005e-01 -7.1554786e-01  1.4581797e+00  2.0397587e+00]</span><br><span class="line"> [ 0.0000000e+00  0.0000000e+00  0.0000000e+00  1.0000000e+00]]</span><br><span class="line"></span><br><span class="line">[[-1.8226353e+02  5.4129504e+02  1.0498235e+03  8.3964941e+02]</span><br><span class="line"> [-8.0375085e+02 -6.1879303e+02  4.7397528e+02  6.0833594e+02]</span><br><span class="line"> [ 4.0376005e-01 -7.1554786e-01  1.4581797e+00  2.0397587e+00]]</span><br><span class="line"> &quot;&quot;&quot;</span><br><span class="line">P = P[:3, :4]</span><br></pre></td></tr></table></figure><p>å°†Påˆ†è§£ä¸ºç›¸æœºå†…å‚å’Œå¤–å‚çŸ©é˜µï¼Œin dataset.py</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">out = cv.decomposeProjectionMatrix(P)</span><br><span class="line">K = out[0] # 3x3</span><br><span class="line">[[1.00980786e+03 1.61999036e-04 6.39247803e+02]</span><br><span class="line"> [0.00000000e+00 1.00980774e+03 4.83591949e+02]</span><br><span class="line"> [0.00000000e+00 0.00000000e+00 1.67371416e+00]]</span><br><span class="line"> </span><br><span class="line">R = out[1] # 3x3</span><br><span class="line">[[-0.33320493  0.8066752   0.48810825]</span><br><span class="line"> [-0.9114712  -0.40804535  0.05214698]</span><br><span class="line"> [ 0.24123597 -0.42752096  0.87122387]]</span><br><span class="line"></span><br><span class="line">t = out[2] # 4x1</span><br><span class="line">[[-0.16280915]</span><br><span class="line"> [ 0.30441687]</span><br><span class="line"> [-0.69216055]</span><br><span class="line"> [ 0.6338275 ]]</span><br><span class="line"> </span><br><span class="line">K = K / K[2, 2]</span><br><span class="line">[[6.0333350e+02 9.6790143e-05 3.8193369e+02]</span><br><span class="line"> [0.0000000e+00 6.0333344e+02 2.8893341e+02]</span><br><span class="line"> [0.0000000e+00 0.0000000e+00 1.0000000e+00]]</span><br><span class="line"></span><br><span class="line">intrinsics = np.eye(4)</span><br><span class="line">intrinsics[:3, :3] = K # intrinsics: 4x4 ä¸ºç›¸æœºå†…å‚çŸ©é˜µ</span><br><span class="line">[[6.03333496e+02 9.67901433e-05 3.81933685e+02 0.00000000e+00]</span><br><span class="line"> [0.00000000e+00 6.03333435e+02 2.88933411e+02 0.00000000e+00]</span><br><span class="line"> [0.00000000e+00 0.00000000e+00 1.00000000e+00 0.00000000e+00]</span><br><span class="line"> [0.00000000e+00 0.00000000e+00 0.00000000e+00 1.00000000e+00]]</span><br><span class="line"></span><br><span class="line">pose = np.eye(4, dtype=np.float32)</span><br><span class="line">pose[:3, :3] = R.transpose() # æ­£äº¤çŸ©é˜µ å…¶è½¬ç½®ç­‰äºé€† w2c --&gt; c2w</span><br><span class="line">pose[:3, 3] = (t[:3] / t[3])[:, 0] # pose: 4x4 ä¸ºç›¸æœºå¤–å‚çŸ©é˜µçš„é€†</span><br><span class="line">[[-0.33320493 -0.9114712   0.24123597 -0.25686666]</span><br><span class="line"> [ 0.8066752  -0.40804535 -0.42752096  0.48028347]</span><br><span class="line"> [ 0.48810825  0.05214698  0.87122387 -1.092033  ]</span><br><span class="line"> [ 0.          0.          0.          1.        ]]</span><br><span class="line"> å•ä½å‘é‡ç»è¿‡poseå˜æ¢åˆ°ä¸–ç•Œåæ ‡ç³»åä»ç„¶ä¸ºå•ä½å‘é‡</span><br><span class="line"></span><br><span class="line">ä¸–ç•Œåæ ‡ç³»ä¸‹ï¼Œå…‰çº¿çš„åŸç‚¹ï¼š</span><br><span class="line">[[-0.25686666]</span><br><span class="line"> [ 0.48028347]</span><br><span class="line"> [-1.092033  ]</span><br><span class="line"> [ 1.        ]]</span><br></pre></td></tr></table></figure><h3 id="å…‰çº¿ç”Ÿæˆ"><a href="#å…‰çº¿ç”Ÿæˆ" class="headerlink" title="å…‰çº¿ç”Ÿæˆ"></a>å…‰çº¿ç”Ÿæˆ</h3><p>gen_random_rays_at()éšæœºç”Ÿæˆå…‰çº¿<br>ç„¶åç”Ÿæˆå…‰çº¿ï¼Œin <code>dataset.py/gen_random_rays_at()</code> by img_idx ï¼Œbatch_size, å¹¶å°†raysçš„åƒç´ åæ ‡è½¬æ¢åˆ°ä¸–ç•Œåæ ‡ç³»ä¸‹</p><p>p_pixel â€”&gt; p_camera â€”&gt; p_world (or rays_d)</p><p><code>p_camera = intrinsics_inv @ p_pixel</code>:  <code>3x3 @ 3x1</code></p><p>$\begin{bmatrix} \frac{1}{f} &amp; 0 &amp; -\frac{W}{2 \cdot f}  \\ 0 &amp; \frac{1}{f} &amp; -\frac{H}{2 \cdot f} \\ 0 &amp; 0 &amp; 1 \\ \end{bmatrix} \begin{pmatrix} i \\ j \\ 1 \\ \end{pmatrix} = \begin{pmatrix} \frac{i-\frac{W}{2}}{f} \\ \frac{j-\frac{H}{2}}{f} \\ 1 \\ \end{pmatrix}$</p><p><code>p_world = pose @ p_camera</code>:  <code>3x3 @ 3x1</code></p><p>$\begin{bmatrix} r_{11}&amp;r_{12}&amp;r_{13}\\ r_{21}&amp;r_{22}&amp;r_{23}\\ r_{31}&amp;r_{32}&amp;r_{33} \end{bmatrix} \begin{pmatrix} x_{c} \\ y_{c} \\ z_{c} \\ \end{pmatrix} = \begin{pmatrix} x_{w} \\ y_{w} \\ z_{w} \\ \end{pmatrix} = rays_d$</p><p><code>rays_o = pose[:3, 3]</code> $= \begin{bmatrix} t_{x} \\ t_{y} \\ t_{z} \end{bmatrix}$ï¼Œä¸ºç›¸æœºåæ ‡ç³»åŸç‚¹åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹ä½ç½®</p><p>$pose = \begin{bmatrix}r_{11}&amp;r_{12}&amp;r_{13}&amp;t_x\\ r_{21}&amp;r_{22}&amp;r_{23}&amp;t_y\\ r_{31}&amp;r_{32}&amp;r_{33}&amp;t_z\\ 0&amp;0&amp;0&amp;1\end{bmatrix}$</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">def gen_random_rays_at(self, img_idx, batch_size):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    Generate random rays at world space from one camera.</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    pixels_x = torch.randint(low=0, high=self.W, size=[batch_size]) </span><br><span class="line">    pixels_y = torch.randint(low=0, high=self.H, size=[batch_size])</span><br><span class="line">    color = self.images[img_idx][(pixels_y, pixels_x)]    # batch_size, 3</span><br><span class="line">    mask = self.masks[img_idx][(pixels_y, pixels_x)]      # batch_size, 3</span><br><span class="line">    # p : åƒç´ åæ ‡ç³»ä¸‹çš„åæ ‡</span><br><span class="line">    p = torch.stack([pixels_x, pixels_y, torch.ones_like(pixels_y)], dim=-1).float()  # batch_size, 3</span><br><span class="line">    # å°†pè½¬æ¢åˆ°ç›¸æœºåæ ‡ç³»ä¸‹</span><br><span class="line">    # matmul : [1, 3, 3] x [batch_size, 3, 1] -&gt; [batch_size, 3, 1] -&gt; [batch_size, 3]</span><br><span class="line">    p = torch.matmul(self.intrinsics_all_inv[img_idx, None, :3, :3], p[:, :, None]).squeeze() # batch_size, 3</span><br><span class="line">    # rays_v ï¼šå°†på½’ä¸€åŒ–</span><br><span class="line">    rays_v = p / torch.linalg.norm(p, ord=2, dim=-1, keepdim=True)    # batch_size, 3</span><br><span class="line">    # rays_v ï¼šå°†pè½¬æ¢åˆ°ä¸–ç•Œåæ ‡ç³»ä¸‹</span><br><span class="line">    # matmul : [1, 3, 3] x [batch_size, 3, 1] -&gt; [batch_size, 3, 1] -&gt; [batch_size, 3]</span><br><span class="line">    rays_v = torch.matmul(self.pose_all[img_idx, None, :3, :3], rays_v[:, :, None]).squeeze()  # batch_size, 3</span><br><span class="line">    # [1,3].expand([batch_size, 3])</span><br><span class="line">    rays_o = self.pose_all[img_idx, None, :3, 3].expand(rays_v.shape) # batch_size, 3</span><br><span class="line">    return torch.cat([rays_o.cpu(), rays_v.cpu(), color, mask[:, :1]], dim=-1).cuda()    # batch_size, 10</span><br></pre></td></tr></table></figure><h3 id="è®¡ç®—nearå’Œfar-from-o-d"><a href="#è®¡ç®—nearå’Œfar-from-o-d" class="headerlink" title="è®¡ç®—nearå’Œfar(from o,d)"></a>è®¡ç®—nearå’Œfar(from o,d)</h3><p>æ ¹æ®rays_o å’Œrays_d è®¡ç®—å‡ºnearå’Œfarä¸¤ä¸ªå¹³é¢</p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/20230803193755.png" alt="image.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def near_far_from_sphere(self, rays_o, rays_d):</span><br><span class="line">    a = torch.sum(rays_d**2, dim=-1, keepdim=True)</span><br><span class="line">    b = 2.0 * torch.sum(rays_o * rays_d, dim=-1, keepdim=True)</span><br><span class="line">    mid = 0.5 * (-b) / a</span><br><span class="line">    # rays_o åœ¨ rays_d æ–¹å‘ä¸Šçš„æŠ•å½± / rays_d åœ¨ rays_d æ–¹å‘ä¸Šçš„æŠ•å½±</span><br><span class="line">    near = mid - 1.0</span><br><span class="line">    far = mid + 1.0</span><br><span class="line">    return near, far</span><br></pre></td></tr></table></figure><h3 id="boxçš„minå’Œmax-toç”Ÿæˆmeshæ¨¡å‹"><a href="#boxçš„minå’Œmax-toç”Ÿæˆmeshæ¨¡å‹" class="headerlink" title="boxçš„minå’Œmax(toç”Ÿæˆmeshæ¨¡å‹)"></a>boxçš„minå’Œmax(toç”Ÿæˆmeshæ¨¡å‹)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">(4, 4) scale_mats_np0</span><br><span class="line">[[ 1.6737139  0.         0.        -2.702419 ]</span><br><span class="line">[ 0.         1.6737139  0.        -1.3968586]</span><br><span class="line">[ 0.         0.         1.6737139 27.347609 ]</span><br><span class="line">[ 0.         0.         0.         1.       ]]</span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">object_bbox_min = np.array([-1.01, -1.01, -1.01, 1.0])</span><br><span class="line">object_bbox_max = np.array([ 1.01,  1.01,  1.01, 1.0])</span><br><span class="line"># Object scale mat: region of interest to **extract mesh**</span><br><span class="line">object_scale_mat = np.load(os.path.join(self.data_dir, self.object_cameras_name))[&#x27;scale_mat_0&#x27;] # 4x4</span><br><span class="line"></span><br><span class="line"># object_bbox_? &gt; object_scale_matç¼©æ”¾+å¹³ç§» &gt; scale_matç¼©æ”¾+å¹³ç§»</span><br><span class="line">object_bbox_min = np.linalg.inv(self.scale_mats_np[0]) @ object_scale_mat @ object_bbox_min[:, None] # 4x1</span><br><span class="line">object_bbox_max = np.linalg.inv(self.scale_mats_np[0]) @ object_scale_mat @ object_bbox_max[:, None] # 4x1</span><br><span class="line">self.object_bbox_min = object_bbox_min[:3, 0] # 3</span><br><span class="line">self.object_bbox_max = object_bbox_max[:3, 0] # 3</span><br><span class="line">å¦‚æœ</span><br><span class="line">render_cameras_name = cameras_sphere.npz</span><br><span class="line">object_cameras_name = cameras_sphere.npz</span><br><span class="line">ä¸¤æ–‡ä»¶ç›¸åŒï¼Œåˆ™ </span><br><span class="line">np.linalg.inv(self.scale_mats_np[0]) @ object_scale_mat = </span><br><span class="line">[[ 1.0000000e+00  0.0000000e+00  0.0000000e+00  0.0000000e+00]</span><br><span class="line"> [ 0.0000000e+00  1.0000000e+00  0.0000000e+00 -5.9604645e-08]</span><br><span class="line"> [ 0.0000000e+00  0.0000000e+00  1.0000000e+00  0.0000000e+00]</span><br><span class="line"> [ 0.0000000e+00  0.0000000e+00  0.0000000e+00  1.0000000e+00]]</span><br><span class="line">object_bbox_min , object_bbox_max åªå¹³ç§»ï¼Œä¸ç¼©æ”¾</span><br></pre></td></tr></table></figure><h2 id="ç¥ç»ç½‘ç»œç»“æ„Network"><a href="#ç¥ç»ç½‘ç»œç»“æ„Network" class="headerlink" title="ç¥ç»ç½‘ç»œç»“æ„Network"></a>ç¥ç»ç½‘ç»œç»“æ„Network</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># Networks</span><br><span class="line">params_to_train = []</span><br><span class="line">self.nerf_outside = NeRF(**self.conf[&#x27;model.nerf&#x27;]).to(self.device) # åˆ›å»ºä¸€ä¸ªNeRFç½‘ç»œ</span><br><span class="line">self.sdf_network = SDFNetwork(**self.conf[&#x27;model.sdf_network&#x27;]).to(self.device) # åˆ›å»ºä¸€ä¸ªSDFç½‘ç»œ</span><br><span class="line">self.deviation_network = SingleVarianceNetwork(**self.conf[&#x27;model.variance_network&#x27;]).to(self.device)</span><br><span class="line">self.color_network = RenderingNetwork(**self.conf[&#x27;model.rendering_network&#x27;]).to(self.device)</span><br><span class="line">params_to_train += list(self.nerf_outside.parameters())</span><br><span class="line">params_to_train += list(self.sdf_network.parameters())</span><br><span class="line">params_to_train += list(self.deviation_network.parameters())</span><br><span class="line">params_to_train += list(self.color_network.parameters())</span><br><span class="line"></span><br><span class="line">self.optimizer = torch.optim.Adam(params_to_train, lr=self.learning_rate)</span><br><span class="line"></span><br><span class="line">self.renderer = NeuSRenderer(self.nerf_outside,</span><br><span class="line">                             self.sdf_network,</span><br><span class="line">                             self.deviation_network,</span><br><span class="line">                             self.color_network,</span><br><span class="line">                             **self.conf[&#x27;model.neus_renderer&#x27;])</span><br></pre></td></tr></table></figure><p>Neusä¸­å…±æ„å»ºäº†4ä¸ªnetworkï¼š</p><ul><li>NeRFï¼šè®­ç»ƒç‰©ä½“outsideå³èƒŒæ™¯çš„é¢œè‰²</li><li>SDFNetworkï¼šè®­ç»ƒç‚¹äº‘ä¸­çš„sdfå€¼</li><li>RenderingNetworkï¼šè®­ç»ƒç‚¹äº‘çš„RGB</li><li>SingleVarianceNetworkï¼šè®­ç»ƒä¸€ä¸ªå•å˜é‡invsï¼Œç”¨äºè®¡ç®—$cdf = sigmoid(estimated.sdf  \cdot inv.s)$</li></ul><h3 id="NeRF"><a href="#NeRF" class="headerlink" title="NeRF"></a>NeRF</h3><p>åŒNeRFç½‘ç»œ<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020221206180113.png" alt="Pasted image 20221206180113.png|600"></p><ul><li>84â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256+84â€”&gt;256â€”&gt;256â€”&gt;256+27â€”&gt;128â€”&gt;3</li><li>84â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256+84â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;1</li></ul><h3 id="SDFNetwork"><a href="#SDFNetwork" class="headerlink" title="SDFNetwork"></a>SDFNetwork</h3><p>æ¿€æ´»å‡½æ•° $\text{Softplus}(x) = \frac{\log(1 + e^{\beta x})}{\beta}$</p><p>ç½‘ç»œç»“æ„ï¼š<br><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/SDFNetwork_modify.png" alt="SDFNetwork"></p><ul><li>39â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;217â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;256â€”&gt;257<br>input: pts, é‡‡æ ·ç‚¹çš„ä¸‰ç»´åæ ‡ batch_size <em> n_samples x 3<br>output: 257ä¸ªæ•° batch_size </em> n_samples x 257</li></ul><p><code>sdf(pts) = output[:, :1]</code>:  batch_size * n_samples x 1ï¼Œé‡‡æ ·ç‚¹çš„sdfå€¼</p><h3 id="RenderingNetwork"><a href="#RenderingNetwork" class="headerlink" title="RenderingNetwork"></a>RenderingNetwork</h3><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/RenderingNetwork.png" alt="RenderingNetwork.png"></p><p>input: rendering_input :<code>[batch_size * n_samples ,  3 + 27 + 3+ 256 = 289]</code><br><code>rendering_input = torch.cat([points, view_dirs, normals, feature_vectors], dim=-1)</code></p><ul><li>pts: batch_size * n_samples, 3</li><li>gradients: batch_size * n_samples, 3</li><li>dirs: batch_size * n_samples, 3<ul><li>ä½ç½®ç¼–ç  to view_dirs: batch_size * n_samples , 27</li></ul></li><li>feature_vector: batch_size * n_samples, 256</li></ul><p>output: sampled_coloré‡‡æ ·ç‚¹çš„RGBé¢œè‰² batch_size * n_samples , 3</p><h3 id="SingleVarianceNetwork"><a href="#SingleVarianceNetwork" class="headerlink" title="SingleVarianceNetwork"></a>SingleVarianceNetwork</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class SingleVarianceNetwork(nn.Module):</span><br><span class="line">    def __init__(self, init_val):</span><br><span class="line">        super(SingleVarianceNetwork, self).__init__()</span><br><span class="line">        # variance æ¨¡å‹å¯ä»¥è·Ÿè¸ªå’Œä¼˜åŒ–è¿™ä¸ªå‚æ•°ï¼Œä½¿å…¶åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡Œæ›´æ–°</span><br><span class="line">        self.register_parameter(&#x27;variance&#x27;, nn.Parameter(torch.tensor(init_val)))</span><br><span class="line"></span><br><span class="line">    def forward(self, x):</span><br><span class="line">        # torch.zeros([1, 3])</span><br><span class="line">        # å¤§å°ä¸º [len(x), 1] çš„å¼ é‡ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ exp(variance * 10.0)</span><br><span class="line">        return torch.ones([len(x), 1]) * torch.exp(self.variance * 10.0)</span><br><span class="line"></span><br><span class="line">in Runner:</span><br><span class="line">self.deviation_network = SingleVarianceNetwork(**self.conf[&#x27;model.variance_network&#x27;]).to(self.device)</span><br></pre></td></tr></table></figure><p>renderä¸­<br><code>inv_s = deviation_network(torch.zeros([1, 3]))[:, :1].clip(1e-6, 1e6)</code></p><h2 id="render"><a href="#render" class="headerlink" title="render"></a>render</h2><p>input: </p><ul><li>rays_o, </li><li>rays_d, å•ä½å‘é‡</li><li>near, far : batch_sizex1,batch_sizex1</li><li>background_rgb=background_rgb,</li><li>cos_anneal_ratio=self.get_cos_anneal_ratio()</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">image_perm = self.get_image_perm()</span><br><span class="line">res_step = self.end_iter - self.iter_step</span><br><span class="line"></span><br><span class="line">for iter_i in tqdm(range(res_step)):</span><br><span class="line">    data = self.dataset.gen_random_rays_at(image_perm[self.iter_step % len(image_perm)], self.batch_size)</span><br><span class="line">    # data : [batch_size, 10] : [rays_o.cpu(), rays_v.cpu(), color, mask[:, :1]]</span><br><span class="line">    rays_o, rays_d, true_rgb, mask = data[:, :3], data[:, 3: 6], data[:, 6: 9], data[:, 9: 10]</span><br><span class="line">    </span><br><span class="line">    near, far = self.dataset.near_far_from_sphere(rays_o, rays_d)</span><br><span class="line">    </span><br><span class="line">    background_rgb = None</span><br><span class="line">    if self.use_white_bkgd:</span><br><span class="line">        background_rgb = torch.ones([1, 3])</span><br><span class="line"></span><br><span class="line">    render_out = self.renderer.render(rays_o, rays_d, near, far,</span><br><span class="line">                                      background_rgb=background_rgb,</span><br><span class="line">                                      cos_anneal_ratio=self.get_cos_anneal_ratio())</span><br></pre></td></tr></table></figure><p>output: render_outå­—å…¸</p><ul><li>color_fine: renderå‡ºæ¥å›¾ç‰‡çš„RGBé¢œè‰²å€¼</li><li>s_val: $= \sum_{i}^{n.samples}(\frac{1.0}{invs_{i}})$<ul><li>inv_s: ä¸€ä¸ªå¯ä»¥æ›´æ–°çš„å˜é‡ $1 \times e^{10.0 \cdot var}$ ï¼Œå¹¶å°†å…¶é™åˆ¶åœ¨$1 \times 10^{-6}$ ~ $1 \times 10^{6}$ä¹‹é—´</li><li><code>ret_fine[&#39;s_val&#39;] = 1.0 / inv_s</code> # batch_size * n_samples, 1</li><li><code>s_val = ret_fine[&#39;s_val&#39;].reshape(batch_size, n_samples).mean(dim=-1, keepdim=True)</code> # batch_size, 1</li></ul></li><li>cdf_fine: $pre.cdf = {\Phi_s(f(\mathbf{p}(t_i)))}$<ul><li>batch_size, n_samples</li></ul></li><li>weight_sum: ä¸€æ¡å…‰çº¿ä¸Šçš„æƒé‡ä¹‹å’Œ(åŒ…æ‹¬èƒŒæ™¯outside)<ul><li>batch_size, 1</li><li><code>weights_sum = weights.sum(dim=-1, keepdim=True)</code></li></ul></li><li>weight_max: ä¸€æ¡å…‰çº¿ä¸Šæƒé‡çš„æœ€å¤§å€¼<ul><li>batch_size, 1</li><li><code>torch.max(weights, dim=-1, keepdim=True)[0]</code></li></ul></li><li>gradients: æ¢¯åº¦,sdfå¯¹è¾“å…¥pts_xyzçš„æ¢¯åº¦ï¼Œä¸æ³•å‘é‡çš„è®¡ç®—æœ‰å…³<ul><li>batch_size, n_samples, 3</li></ul></li><li>weights: æƒé‡ï¼Œæ¯ä¸ªé‡‡æ ·ç‚¹<ul><li>batch_size, n_samples or batch_size, n_samples + n_outside</li></ul></li><li>gradient_error: EikonalæŸå¤±å€¼$\mathcal{L}_{r e g}=\frac{1}{n m}\sum_{k,i}(|\nabla f(\hat{\mathbf{p}}_{k,i})|_{2}-1)^{2}.$ åªè®¡ç®—åœ¨relaxåŠå¾„ä¸º1.2çš„åœ†å†…çš„é‡‡æ ·ç‚¹sdfçš„æ¢¯åº¦<ul><li>$|\nabla f(\hat{\mathbf{p}}_{k,i})|_{2} = \sqrt{gx^{2}+gy^{2}+gz^{2}}$</li></ul></li><li>inside_sphere: é‡‡æ ·ç‚¹æ˜¯å¦åœ¨å•ä½åœ†ç©ºé—´å†…<ul><li>batch_size, n_samples</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &#x27;color_fine&#x27;: color_fine, # batch_size, 3</span><br><span class="line">    &#x27;s_val&#x27;: s_val, # batch_size, 1</span><br><span class="line">    &#x27;cdf_fine&#x27;: ret_fine[&#x27;cdf&#x27;], # batch_size, n_samples</span><br><span class="line">    &#x27;weight_sum&#x27;: weights_sum, # batch_size, 1</span><br><span class="line">    &#x27;weight_max&#x27;: torch.max(weights, dim=-1, keepdim=True)[0], # batch_size, 1</span><br><span class="line">    &#x27;gradients&#x27;: gradients, # batch_size, n_samples, 3</span><br><span class="line">    &#x27;weights&#x27;: weights, # batch_size, n_samples or batch_size, n_samples + n_outside</span><br><span class="line">    &#x27;gradient_error&#x27;: ret_fine[&#x27;gradient_error&#x27;], # 1</span><br><span class="line">    &#x27;inside_sphere&#x27;: ret_fine[&#x27;inside_sphere&#x27;] # batch_size, n_samples</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">ret_fine = self.render_core(rays_o,</span><br><span class="line">                            rays_d,</span><br><span class="line">                            z_vals,</span><br><span class="line">                            sample_dist,</span><br><span class="line">                            self.sdf_network,</span><br><span class="line">                            self.deviation_network,</span><br><span class="line">                            self.color_network,</span><br><span class="line">                            background_rgb=background_rgb,</span><br><span class="line">                            background_alpha=background_alpha,</span><br><span class="line">                            background_sampled_color=background_sampled_color,</span><br><span class="line">                            cos_anneal_ratio=cos_anneal_ratio)</span><br><span class="line">                            </span><br><span class="line"># ret_fine:</span><br><span class="line">    # &#x27;color&#x27;: color, # batch_size, 3</span><br><span class="line">    # &#x27;sdf&#x27;: sdf, # batch_size * n_samples, 1</span><br><span class="line">    # &#x27;dists&#x27;: dists, # batch_size, n_samples</span><br><span class="line">    # &#x27;gradients&#x27;: gradients.reshape(batch_size, n_samples, 3),</span><br><span class="line">    # &#x27;s_val&#x27;: 1.0 / inv_s, # batch_size * n_samples, 1</span><br><span class="line">    # &#x27;mid_z_vals&#x27;: mid_z_vals, # batch_size, n_samples</span><br><span class="line">    # &#x27;weights&#x27;: weights, # batch_size, n_samples or batch_size, n_samples + n_outside</span><br><span class="line">    # &#x27;cdf&#x27;: c.reshape(batch_size, n_samples), # batch_size, n_samples</span><br><span class="line">    # &#x27;gradient_error&#x27;: gradient_error, # 1</span><br><span class="line">    # &#x27;inside_sphere&#x27;: inside_sphere # batch_size, n_samples</span><br><span class="line">color_fine = ret_fine[&#x27;color&#x27;]</span><br><span class="line">weights = ret_fine[&#x27;weights&#x27;]</span><br><span class="line">weights_sum = weights.sum(dim=-1, keepdim=True)</span><br><span class="line">gradients = ret_fine[&#x27;gradients&#x27;]</span><br><span class="line">s_val = ret_fine[&#x27;s_val&#x27;].reshape(batch_size, n_samples).mean(dim=-1, keepdim=True) # [batch_size, 1]</span><br></pre></td></tr></table></figure><p>function:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">render:</span><br><span class="line"></span><br><span class="line">batch_size = len(rays_o)</span><br><span class="line">sample_dist = 2.0 / self.n_samples   # Assuming the region of interest is a unit sphere </span><br><span class="line">z_vals = torch.linspace(0.0, 1.0, self.n_samples) # [n_samples]</span><br><span class="line">z_vals = near + (far - near) * z_vals[None, :]  # [batch_size, n_samples]</span><br><span class="line">æ‹ç…§ç‰©ä½“çš„é‡‡æ ·ç‚¹zæ–¹å‘åæ ‡</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ç‰©ä½“å¤–çš„zåæ ‡(èƒŒæ™¯)</span><br><span class="line">z_vals_outside = None</span><br><span class="line">if self.n_outside &gt; 0:</span><br><span class="line">    z_vals_outside = torch.linspace(1e-3, 1.0 - 1.0 / (self.n_outside + 1.0), self.n_outside) # [n_outside]</span><br><span class="line"></span><br><span class="line">n_samples = self.n_samples</span><br><span class="line">perturb = self.perturb</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">æ·»åŠ æ‰°åŠ¨ï¼š</span><br><span class="line">if perturb_overwrite &gt;= 0:</span><br><span class="line">    perturb = perturb_overwrite</span><br><span class="line">if perturb &gt; 0:</span><br><span class="line">    t_rand = (torch.rand([batch_size, 1]) - 0.5) # [batch_size, 1]</span><br><span class="line">    z_vals = z_vals + t_rand * 2.0 / self.n_samples # [batch_size, n_samples]</span><br><span class="line"></span><br><span class="line">    if self.n_outside &gt; 0:</span><br><span class="line">        mids = .5 * (z_vals_outside[..., 1:] + z_vals_outside[..., :-1]) # [n_outside - 1]</span><br><span class="line">        upper = torch.cat([mids, z_vals_outside[..., -1:]], -1)     # [n_outside]</span><br><span class="line">        lower = torch.cat([z_vals_outside[..., :1], mids], -1)      # [n_outside]</span><br><span class="line">        t_rand = torch.rand([batch_size, z_vals_outside.shape[-1]]) # [batch_size, n_outside]</span><br><span class="line">        z_vals_outside = lower[None, :] + (upper - lower)[None, :] * t_rand</span><br><span class="line">        # Z_vals_outside:  1Xn_outside + 1Xn_outside * batch_sizeXn_outside = batch_sizeXn_outside</span><br><span class="line"></span><br><span class="line">if self.n_outside &gt; 0:</span><br><span class="line">    z_vals_outside = far / torch.flip(z_vals_outside, dims=[-1]) + 1.0 / self.n_samples # [batch_size, n_outside]</span><br><span class="line">    # filp: å°†tensorçš„ç»´åº¦è¿›è¡Œç¿»è½¬ï¼Œå¦‚[1,2,3] -&gt; [3,2,1] ï¼Œå€’åºæ’åˆ—</span><br><span class="line"></span><br><span class="line">èƒŒæ™¯outside:</span><br><span class="line">background_alpha = None</span><br><span class="line">background_sampled_color = None</span><br></pre></td></tr></table></figure><h3 id="get-cos-anneal-ratio"><a href="#get-cos-anneal-ratio" class="headerlink" title="get_cos_anneal_ratio"></a>get_cos_anneal_ratio</h3><p>output: </p><ul><li>æ•°1æˆ–è€…æ¯”ä¸€å°çš„æ•°$\frac{iterstep}{anneal}, anneal=50000$</li><li>or 1 when anneal_end = 0</li></ul><h3 id="ç²¾é‡‡æ ·n-importance"><a href="#ç²¾é‡‡æ ·n-importance" class="headerlink" title="ç²¾é‡‡æ ·n_importance"></a>ç²¾é‡‡æ ·n_importance</h3><p>if self.n_importance &gt; 0: ç²¾é‡‡æ ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">with torch.no_grad(): # ä¸éœ€è¦è®¡ç®—æ¢¯åº¦</span><br><span class="line">    # pts : [batch_size, 1, 3] + [batch_size, 1, 3] * [batch_size, n_samples, 1] = [batch_size, n_samples, 3]</span><br><span class="line">    pts = rays_o[:, None, :] + rays_d[:, None, :] * z_vals[..., :, None] # [batch_size, n_samples, 3]</span><br><span class="line">    sdf = self.sdf_network.sdf(pts.reshape(-1, 3)).reshape(batch_size, self.n_samples)</span><br><span class="line">    # pts.reshape(-1, 3) : [batch_size * n_samples, 3]</span><br><span class="line">    # sdf : [batch_size * n_samples , 1] -&gt; [batch_size, n_samples]</span><br><span class="line"></span><br><span class="line">    for i in range(self.up_sample_steps):</span><br><span class="line">        # [batch_size, n_importance // up_sample_steps] per step</span><br><span class="line">        new_z_vals = self.up_sample(rays_o,</span><br><span class="line">                                    rays_d,</span><br><span class="line">                                    z_vals,</span><br><span class="line">                                    sdf,</span><br><span class="line">                                    self.n_importance // self.up_sample_steps,</span><br><span class="line">                                    64 * 2**i)</span><br><span class="line">        # # [batch_size, n_samples + n_importance // up_sample_steps], [batch_size, n_samples + n_importance // up_sample_steps]</span><br><span class="line">        z_vals, sdf = self.cat_z_vals(rays_o,</span><br><span class="line">                                    rays_d,</span><br><span class="line">                                    z_vals,</span><br><span class="line">                                    new_z_vals,</span><br><span class="line">                                    sdf,</span><br><span class="line">                                    last=(i + 1 == self.up_sample_steps))</span><br><span class="line">    # new_z_vals : [batch_size, n_importance]</span><br><span class="line">    # z_vals : [batch_size, n_samples + n_importance]</span><br><span class="line"></span><br><span class="line">n_samples = self.n_samples + self.n_importance</span><br></pre></td></tr></table></figure><h4 id="up-sample-self-rays-o-rays-d-z-vals-sdf-n-importance-inv-s"><a href="#up-sample-self-rays-o-rays-d-z-vals-sdf-n-importance-inv-s" class="headerlink" title="up_sample(self, rays_o, rays_d, z_vals, sdf, n_importance, inv_s):"></a>up_sample(self, rays_o, rays_d, z_vals, sdf, n_importance, inv_s):</h4><p>input:</p><ul><li>rays_o,</li><li>rays_d,</li><li>z_vals, batch_size X n_samples</li><li>sdf, batch_size X n_samples</li><li>self.n_importance // self.up_sample_steps, æ¯æ­¥å¤„ç†$\frac{importance}{sampls.steps}$</li><li><code>64 * 2**i</code> , $64  \cdot  2^{i}$</li></ul><p>output:</p><ul><li>new_z_vals: batch_size X n_importance // up_sample_steps * steps_i</li></ul><p>function:</p><ul><li>pts: batch_size,n_samples,3</li><li>radius: ptsçš„2-èŒƒæ•°norm(ord=2)<ul><li>batch_size, n_samples</li></ul></li><li>inside_sphere: <code>inside_sphere = (radius[:, :-1] &lt; 1.0) | (radius[:, 1:] &lt; 1.0)</code><ul><li>pointæ˜¯å¦åœ¨å•ä½åœ†çš„ç©ºé—´å†…</li><li>batch_size, n_samples - 1</li></ul></li><li>prev_sdf, next_sdf: å…‰çº¿ä¸Šsdfçš„å‰å <code>prev_sdf[1] = next_sdf[0] = sdf[1]</code> <ul><li>batch_size, n_samples - 1</li></ul></li><li>prev_z_vals, next_z_vals:  å…‰çº¿ä¸Šzåæ ‡çš„å‰å <code>prev_z_vals[1] = next_z_vals[0] = z_vals[1]</code> <ul><li>batch_size, n_samples - 1</li></ul></li><li>mid.sdf:  $mid.sdf = \frac{prev.sdf + next.sdf}{2} = \frac{f(p_{i})+f(p_{i+1})}{2}$<ul><li>batch_size, n_samples - 1</li></ul></li><li><p>cos_val: $cos.val = \frac{next.sdf - prev.sdf}{next.z.vals - prev.z.vals + 1e-5} = \frac{f(p_{i})-f(p_{i+1})}{z_{i}-z_{i+1}}$</p><ul><li>batch_size, n_samples - 1 </li></ul></li><li><p>prev_cos_valï¼š å°†cos_valå †å ï¼Œä¸”æœ€åä¸€ä¸ªåˆ é™¤ï¼Œç¬¬ä¸€ä¸ªæ’å…¥0 <code>prev_cos_val[0] = 0, prev_cos_val[1] = cos_val[0]</code></p><ul><li>batch_size, n_samples - 1</li></ul></li><li>cos_val: stack prev_cos_val and cos_val<ul><li>batch_size, n_samples - 1, 2 </li></ul></li><li>cos_val: åœ¨prev_cos_valå’Œcos_valä¹‹é—´é€‰æ‹©æœ€å°å€¼ï¼Œè¿™ä¸€æ­¥çš„ç›®çš„æ˜¯å½“å‘ç”Ÿä¸€æ¡å…‰çº¿ç©¿è¿‡ç‰©ä½“ä¸¤æ¬¡æ—¶ï¼Œå…·æœ‰æ›´å¥½çš„é²æ£’æ€§<ul><li>batch_size, n_samples - 1</li></ul></li><li>cos_val: å°†cos_valé™åˆ¶åœ¨$-1 \times 10^{3}$å’Œ0ä¹‹é—´ï¼Œå¹¶å°†åœ¨å•ä½åœ†ç©ºé—´å¤–çš„å€¼ç½®False <code>cos_val.clip(-1e3, 0.0) * inside_sphere</code><ul><li>batch_size, n_samples - 1</li></ul></li><li>dist:  ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦» $dist = next.z.vals- prev.z.vals= z_{i+1}-z_{i}$<ul><li>batch_size, n_samples - 1 </li></ul></li></ul><p>batch_size, n_samples - 1: </p><ul><li>prev_esti_sdf: $\frac{mid.sdf - cos.val * dist}{2} \approx f(p_{i})$</li><li>next_esti_sdf: $\frac{mid.sdf + cos.val * dist}{2} \approx f(p_{i+1})$</li><li>prev_cdf: $prev.cdf = sigmoid(prev.esti.sdf \times inv.s) = sigmoid(\approx f(p_{i})\times 64  \cdot  2^{i})$</li><li>next_cdf: $next.cdf = sigmoid(next.esti.sdf \times inv.s) = sigmoid(\approx f(p_{i+1})\times 64  \cdot  2^{i})$</li><li>alpha: $\alpha = \frac{prev.cdf - next.cdf + 1 \times 10^{-5}}{prev.cdf + 1 \times 10^{-5}}$ is  $\alpha_i=\max\left(\frac{\Phi_s(f(\mathbf{p}(t_i))))-\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right).$</li><li>weights: $w_{i} = \alpha_{i} \cdot T_{i} =\alpha_{i} \cdot \prod_{j=1}^{i-1}(1-\alpha_j)$<ul><li>in code : <code>weights = alpha * torch.cumprod(torch.cat([torch.ones([batch_size, 1]), 1. - alpha + 1e-7], -1), -1)[:, :-1]</code></li></ul></li></ul><p><code>z_samples = sample_pdf(z_vals, weights, n_importance, det=True).detach()</code></p><h5 id="sample-pdf-z-vals-weights-n-importance-det-True"><a href="#sample-pdf-z-vals-weights-n-importance-det-True" class="headerlink" title="sample_pdf(z_vals, weights, n_importance, det=True)"></a>sample_pdf(z_vals, weights, n_importance, det=True)</h5><p>like NeRF</p><p>input:</p><ul><li>z_vals, batch_size X n_samples</li><li>weights, batch_size, n_samples - 1</li><li>n_importance, </li><li>det=True</li></ul><p>output:</p><ul><li>z_samples, batch_size X n_importance ç»è¿‡é€†å˜æ¢é‡‡æ ·å¾—åˆ°çš„é‡‡æ ·ç‚¹çš„zåæ ‡å€¼</li></ul><h4 id="cat-z-vals-rays-o-rays-d-z-vals-new-z-vals-sdf-last-i-1-self-up-sample-steps"><a href="#cat-z-vals-rays-o-rays-d-z-vals-new-z-vals-sdf-last-i-1-self-up-sample-steps" class="headerlink" title="cat_z_vals(rays_o,rays_d,z_vals,new_z_vals,sdf,last=(i + 1 == self.up_sample_steps))"></a>cat_z_vals(rays_o,rays_d,z_vals,new_z_vals,sdf,last=(i + 1 == self.up_sample_steps))</h4><p>å°†åŸæ¥çš„z_valså’Œç»è¿‡é€†å˜æ¢é‡‡æ ·å¾—åˆ°çš„new_z_valsä¸€èµ·catèµ·æ¥</p><p>input:</p><ul><li>rays_o,</li><li>rays_d,</li><li>z_vals, batch_size X n_samples</li><li>new_z_vals, <code>batch_size X n_importance // up_sample_steps * steps_i</code></li><li>sdf, batch_size X n_samples</li><li>last=(i + 1 == self.up_sample_steps): true(last step) or false</li></ul><p>output:</p><ul><li>z_vals, <code>batch_size X n_samples + n_importance // up_sample_steps * steps_i</code></li><li>sdf,  <code>batch_size X n_samples + n_importance // up_sample_steps * steps_i</code> when not last</li></ul><p><strong>last:</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">z_vals : batch_size X n_samples + n_importance </span><br><span class="line">n_samples = self.n_samples + self.n_important</span><br></pre></td></tr></table></figure></p><p><strong>then :</strong></p><ul><li>z_vals : batch_size X n_samples</li></ul><h3 id="render-core-outside-rays-o-rays-d-z-vals-feed-sample-dist-self-nerf"><a href="#render-core-outside-rays-o-rays-d-z-vals-feed-sample-dist-self-nerf" class="headerlink" title="render_core_outside(rays_o, rays_d, z_vals_feed, sample_dist, self.nerf)"></a>render_core_outside(rays_o, rays_d, z_vals_feed, sample_dist, self.nerf)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">in render()</span><br><span class="line"># Background model</span><br><span class="line">if self.n_outside &gt; 0:</span><br><span class="line">    z_vals_feed = torch.cat([z_vals, z_vals_outside], dim=-1) # [batch_size, n_samples + n_outside]</span><br><span class="line">    z_vals_feed, _ = torch.sort(z_vals_feed, dim=-1)</span><br><span class="line">    ret_outside = self.render_core_outside(rays_o, rays_d, z_vals_feed, sample_dist, self.nerf)</span><br><span class="line"></span><br><span class="line">    background_sampled_color = ret_outside[&#x27;sampled_color&#x27;]</span><br><span class="line">    background_alpha = ret_outside[&#x27;alpha&#x27;]</span><br></pre></td></tr></table></figure><p>input: </p><ul><li>rays_o, <code>[batch_size,  3]</code></li><li>rays_d, <code>[batch_size,  3]</code></li><li>z_vals_feed, <code>batch_size, n_samples + n_outside</code> ,å®é™…ä¸Šæ­¤å¤„ä¸º<code>[batch_size, n_samples + n_outside +n_importance]</code></li><li>sample_dist, $sample.dist = \frac{2.0}{n.samples}$</li><li>self.nerf, NeRFç¥ç»ç½‘ç»œï¼Œä½¿ç”¨nerfæ¸²æŸ“å‡½æ•°è¿›è¡Œcolorçš„è®¡ç®—<ul><li>å¦‚æœä½¿ç”¨äº†ç™½è‰²èƒŒæ™¯ï¼Œcolorè¿˜éœ€ç´¯åŠ ç™½èƒŒæ™¯<ul><li><code>background_rgb = torch.ones([1, 3])</code></li><li><code>color = color + background_rgb * (1.0 - weights_sum)</code></li></ul></li></ul></li></ul><p>output: ret_outsideå­—å…¸<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &#x27;color&#x27;: color, # batch_size, 3</span><br><span class="line">    &#x27;sampled_color&#x27;: sampled_color, # batch_size, n_samples + n_outside, 3</span><br><span class="line">    &#x27;alpha&#x27;: alpha, # batch_size, n_samples + n_outside</span><br><span class="line">    &#x27;weights&#x27;: weights, # batch_size, n_samples + n_outside</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>function: like NeRF</p><ul><li>dis_to_center: åæ ‡çš„2èŒƒæ•°ï¼Œå¹¶é™åˆ¶åœ¨$1$ ~ $1 \times 10^{10}$<ul><li>batch_size, n_samples, 1 </li></ul></li><li>pts: <code>torch.cat([pts / dis_to_center, 1.0 / dis_to_center], dim=-1)</code><ul><li>batch_size, n_samples, 4</li><li>å½’ä¸€åŒ–pts, $\frac{x}{\sqrt{x^{2}+y^{2}+z^{2}}},\frac{y}{\sqrt{x^{2}+y^{2}+z^{2}}},\frac{z}{\sqrt{x^{2}+y^{2}+z^{2}}},\frac{1}{\sqrt{x^{2}+y^{2}+z^{2}}}$</li></ul></li></ul><h3 id="render-core"><a href="#render-core" class="headerlink" title="render_core()"></a>render_core()</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">render continue</span><br><span class="line">    background_sampled_color = ret_outside[&#x27;sampled_color&#x27;]</span><br><span class="line">    background_alpha = ret_outside[&#x27;alpha&#x27;]</span><br><span class="line"></span><br><span class="line"># Render core</span><br><span class="line">ret_fine = self.render_core(rays_o,</span><br><span class="line">                            rays_d,</span><br><span class="line">                            z_vals,</span><br><span class="line">                            sample_dist,</span><br><span class="line">                            self.sdf_network,</span><br><span class="line">                            self.deviation_network,</span><br><span class="line">                            self.color_network,</span><br><span class="line">                            background_rgb=background_rgb,</span><br><span class="line">                            background_alpha=background_alpha,</span><br><span class="line">                            background_sampled_color=background_sampled_color,</span><br><span class="line">                            cos_anneal_ratio=cos_anneal_ratio)</span><br></pre></td></tr></table></figure><p>input:</p><ul><li>rays_o, <code>[batch_size,  3]</code></li><li>rays_d, <code>[batch_size,  3]</code></li><li>z_vals, <code>batch_size, n_samples</code> ,å®é™…ä¸Šä¸º<code>batch_size, n_samples + n_importance</code> </li><li>sample_dist, $sample.dist = \frac{2.0}{n.samples}$</li><li>self.sdf_network, sdfç¥ç»ç½‘ç»œ</li><li>self.deviation_network, inv_så‚æ•°ç¥ç»ç½‘ç»œ</li><li>self.color_network, é‡‡æ ·ç‚¹colorç¥ç»ç½‘ç»œ</li><li>background_rgb=background_rgb, <code>batch_size, 3</code></li><li>background_alpha=background_alpha, <code>batch_size, n_samples + n_outside</code></li><li>background_sampled_color=background_sampled_color, <code>batch_size, n_samples + n_outside, 3</code></li><li>cos_anneal_ratio=cos_anneal_ratio ,æ•°1æˆ–è€…æ¯”ä¸€å°çš„æ•°$\frac{iterstep}{anneal}, anneal=50000$</li></ul><p>output: ret_fineå­—å…¸<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &#x27;color&#x27;: color, # batch_size, 3</span><br><span class="line">    &#x27;sdf&#x27;: sdf, # batch_size * n_samples, 1</span><br><span class="line">    &#x27;dists&#x27;: dists, # batch_size, n_samples</span><br><span class="line">    &#x27;gradients&#x27;: gradients.reshape(batch_size, n_samples, 3),</span><br><span class="line">    &#x27;s_val&#x27;: 1.0 / inv_s, # batch_size * n_samples, 1</span><br><span class="line">    &#x27;mid_z_vals&#x27;: mid_z_vals, # batch_size, n_samples</span><br><span class="line">    &#x27;weights&#x27;: weights, # batch_size, n_samples or batch_size, n_samples + n_outside</span><br><span class="line">    &#x27;cdf&#x27;: c.reshape(batch_size, n_samples), # batch_size, n_samples</span><br><span class="line">    &#x27;gradient_error&#x27;: gradient_error, # 1</span><br><span class="line">    &#x27;inside_sphere&#x27;: inside_sphere # batch_size, n_samples</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>function:</p><ul><li>dists: é‡‡æ ·ç‚¹é—´è·ç¦»,$dists = z_{i+1} - z_{i}$<ul><li>batch_size, n_samples - 1 </li></ul></li><li>dists: æœ€åä¸€è¡Œæ·»åŠ å›ºå®šçš„ç²—é‡‡æ ·ç‚¹é—´è·: $sample.dist = \frac{2.0}{n.samples}$<ul><li>batch_size, n_samples</li></ul></li><li>mid_z_vals:  $mid = z_{i} + \frac{dist_{i}}{2}$<ul><li>batch_size, n_samples</li></ul></li><li>pts:  $pts = \vec o + \vec d \cdot mid$<ul><li>batch_size, n_samples, 3 </li></ul></li><li>dirs: æ–¹å‘å‘é‡æ‰©å±•å¾—åˆ° <code>rays_d[:, None, :].expand(batch_size, n_samples, 3)</code><ul><li>batch_size, n_samples, 3 </li></ul></li><li>pts: reshape to batch_size * n_samples, 3 </li><li>dirs: reshape to batch_size * n_samples, 3 </li><li>sdf_nn_output:  =  sdf_network(pts)<ul><li>batch_size * n_samples, 257</li></ul></li><li>sdf: <code>sdf = sdf_nn_output[:, :1]</code><ul><li>batch_size * n_samples, 1</li></ul></li><li>feature_vector:  <code>feature_vector = sdf_nn_output[:, 1:]</code><ul><li>batch_size * n_samples, 256</li></ul></li><li>gradients:  æ¢¯åº¦,sdfå¯¹è¾“å…¥pts_xyzçš„æ¢¯åº¦ï¼Œä¸æ³•å‘é‡æœ‰å…³<ul><li>batch_size * n_samples, 3</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def gradient(self, x):</span><br><span class="line">    # x : [batch_size * n_samples , 3]</span><br><span class="line">    x.requires_grad_(True) </span><br><span class="line">    y = self.sdf(x) # y : [batch_size * n_samples , 1]</span><br><span class="line">    d_output = torch.ones_like(y, requires_grad=False, device=y.device) # d_output : [batch_size * n_samples , 1]</span><br><span class="line">    # torch.autograd.grad : è®¡ç®—æ¢¯åº¦,è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œå…ƒç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯è¾“å…¥çš„æ¢¯åº¦</span><br><span class="line">    gradients = torch.autograd.grad(</span><br><span class="line">        outputs=y,</span><br><span class="line">        inputs=x,</span><br><span class="line">        grad_outputs=d_output,</span><br><span class="line">        create_graph=True,</span><br><span class="line">        retain_graph=True,</span><br><span class="line">        only_inputs=True)[0]</span><br><span class="line">    return gradients.unsqueeze(1) # unsqueeze(1) : åœ¨ç¬¬1ç»´å¢åŠ ä¸€ä¸ªç»´åº¦</span><br><span class="line">    # return : [batch_size * n_samples , 1 , 3]</span><br></pre></td></tr></table></figure><ul><li>sampled_color: batch_size, n_samples, 3<ul><li><code>color_network(pts, gradients, dirs, feature_vector).reshape(batch_size, n_samples, 3)</code></li></ul></li><li>inv_s: <code>deviation_network(torch.zeros([1, 3]))[:, :1].clip(1e-6, 1e6)</code><ul><li>ä¸€ä¸ªå¯ä»¥æ›´æ–°çš„å˜é‡ $1 \times e^{10.0 \cdot var}$ ï¼Œå¹¶å°†å…¶é™åˆ¶åœ¨$1 \times 10^{-6}$ ~ $1 \times 10^{6}$ä¹‹é—´</li><li>è¿™ä¸ªå˜é‡æ˜¯ç”¨äºsigmoidå‡½æ•°çš„è¾“å…¥ï¼Œä½¿å…¶ä¹˜ä»¥s</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630181909.png" alt="image.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class SingleVarianceNetwork(nn.Module):</span><br><span class="line">    def __init__(self, init_val):</span><br><span class="line">        super(SingleVarianceNetwork, self).__init__()</span><br><span class="line">        # variance æ¨¡å‹å¯ä»¥è·Ÿè¸ªå’Œä¼˜åŒ–è¿™ä¸ªå‚æ•°ï¼Œä½¿å…¶åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡Œæ›´æ–°</span><br><span class="line">        self.register_parameter(&#x27;variance&#x27;, nn.Parameter(torch.tensor(init_val)))</span><br><span class="line"></span><br><span class="line">    def forward(self, x):</span><br><span class="line">        # torch.zeros([1, 3])</span><br><span class="line">        # å¤§å°ä¸º [len(x), 1] çš„å¼ é‡ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ exp(variance * 10.0)</span><br><span class="line">        return torch.ones([len(x), 1]) * torch.exp(self.variance * 10.0)</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://zh-v2.d2l.ai/chapter_multilayer-perceptrons/mlp.html">4.1. å¤šå±‚æ„ŸçŸ¥æœº â€” åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹  2.0.0 documentation (d2l.ai)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630132744.png" alt="image.png"></p><div style="display:flex; justify-content:space-between;"> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630174602.png" alt="Image 1" style="width:50%;"><div style="width:10px;"></div> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630174609.png" alt="Image 2" style="width:50%;"> </div><p>å¯ä»¥çœ‹å‡ºsigmoidå‡½æ•°çš„å¯¼æ•°æ˜¯ä¸€ä¸ªå¶å‡½æ•°ï¼Œå³$\phi(-x) = \phi(x)$</p><ul><li>inv_s: expand a num to <code>batch_size * n_samples, 1</code></li><li>true_cos: $true.cos = \frac{dx \cdot gx + dy \cdot gy + dz \cdot gz}{\sqrt{dx^{2}+dy^{2}+dz^{2}} \cdot \sqrt{gx^{2}+gy^{2}+gz^{2}}}$ ä¸ºsdfæ¢¯åº¦æ–¹å‘ï¼Œå³ç‰©ä½“è¡¨é¢çš„æ³•çº¿æ–¹å‘å‘é‡$\vec g$ä¸å…‰çº¿æ–¹å‘å‘é‡$\vec d$çš„å¤¹è§’<ul><li>batch_size * n_samples, 1 </li><li><code>true_cos = (dirs * gradients).sum(-1, keepdim=True)</code></li></ul></li></ul><div class="note info">            <p>why <code>true_cos = (dirs * gradients).sum(-1, keepdim=True)</code></p><ul><li>cdfå¯¹tçš„å¯¼æ•°ï¼š$\frac{\mathrm{d}\Phi_s}{\mathrm{d}t}(f(\mathbf{p}(t)))= \nabla f(\mathbf{p}(t))\cdot\mathbf{v} \cdot \phi_s(f(\mathbf{p}(t)))$</li><li>sdfå¯¹tçš„å¯¼æ•°ï¼š$\frac{\mathrm{d}f(\mathbf{p}(t))}{\mathrm{d}t}= \nabla f(\mathbf{p}(t))\cdot\mathbf{v}$ï¼Œå³ä¸ºtrue_cos</li></ul>          </div><ul><li>iter_cos: $= -[relu(\frac{-true.cos+1}{2}) \cdot (1.0 - cos.anneal.ratio)+  relu(-true.cos) \cdot cos.anneal.ratio]$<ul><li>batch_size * n_samples, 1 </li><li>iter_cos æ€»æ˜¯éæ­£æ•°</li><li>cos_anneal_ratio æ•°1æˆ–è€…æ¯”ä¸€å°çš„æ•°$\frac{iterstep}{anneal}, anneal=50000$ in womask cos_anneal_ratio is from 0 to 1, and always 1 after anneal steps<ul><li>anneal = 0 in wmask, then cos_anneal_ratio is always 1</li></ul></li></ul></li></ul><p>batch_size * n_samples, 1: </p><ul><li>estimated_next_sdf: $est.next.sdf = sdf + iter.cos \times dist \times 0.5$<ul><li><code>estimated_next_sdf = sdf + iter_cos * dists.reshape(-1, 1) * 0.5</code></li></ul></li><li>estimated_prev_sdf: $est.prev.sdf = sdf - iter.cos \times dist \times 0.5$<ul><li><code>estimated_prev_sdf = sdf - iter_cos * dists.reshape(-1, 1) * 0.5</code></li></ul></li><li>prev_cdf: $prev.cdf = sigmoid(est.prev.sdf \cdot inv.s)$<ul><li><code>prev_cdf = torch.sigmoid(estimated_prev_sdf * inv_s)</code></li></ul></li><li>next_cdf: $next.cdf = sigmoid(est.next.sdf \cdot inv.s)$<ul><li><code>next_cdf = torch.sigmoid(estimated_next_sdf * inv_s)</code></li></ul></li><li><p><code>p = prev_cdf - next_cdf ,  c = prev_cdf</code></p></li><li><p>alpha: $\alpha = \frac{p + 10^{-5}}{c + 10^{-5}} = \frac{prev.cdf - next.cdf}{prev.cdf}$ and in (0.0,1.0)</p><ul><li><script type="math/tex; mode=display">\alpha_i=\max\left(\frac{\Phi_s(f(\mathbf{p}(t_i))))-\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right).</script></li><li>batch_size, n_samples</li><li><code>alpha = ((p + 1e-5) / (c + 1e-5)).reshape(batch_size, n_samples).clip(0.0, 1.0)</code></li></ul></li><li>pts_norm: $\sqrt{x^{2}+y^{2}+z^{2}}$<ul><li>batch_size, n_samples</li><li><code>pts_norm = torch.linalg.norm(pts, ord=2, dim=-1, keepdim=True).reshape(batch_size, n_samples)</code></li></ul></li><li>inside_sphere, åœ¨å•ä½åœ†å†…çš„ç‚¹ç½®ä½ Trueï¼Œåœ¨å¤–çš„ä¸ºFalse<ul><li>batch_size, n_samples</li><li><code>inside_sphere = (pts_norm &lt; 1.0).float().detach()</code></li></ul></li><li>relax_inside_sphereï¼Œæ›´æ”¾æ¾ä¸€ç‚¹çš„é™åˆ¶ï¼šåœ¨åŠå¾„1.2çš„åœ†å†…çš„ç‚¹<ul><li>batch_size, n_samples</li><li><code>relax_inside_sphere = (pts_norm &lt; 1.2).float().detach()</code></li></ul></li></ul><p>if background_alpha ä¸æ˜¯ Noneï¼Œè®¡ç®—è¿‡èƒŒæ™¯çš„alphaå€¼ï¼Œå°†èƒŒæ™¯ä¸ç‰©ä½“å‰æ™¯çš„alphaå’Œé‡‡æ ·ç‚¹é¢œè‰²å€¼catèµ·æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if background_alpha is not None:</span><br><span class="line">    alpha = alpha * inside_sphere + background_alpha[:, :n_samples] * (1.0 - inside_sphere) # batch_size, n_samples</span><br><span class="line">    alpha = torch.cat([alpha, background_alpha[:, n_samples:]], dim=-1) # batch_size, n_samples + n_outside</span><br><span class="line">    sampled_color = sampled_color * inside_sphere[:, :, None] +\</span><br><span class="line">                    background_sampled_color[:, :n_samples] * (1.0 - inside_sphere)[:, :, None] # batch_size, n_samples, 3</span><br><span class="line">    sampled_color = torch.cat([sampled_color, background_sampled_color[:, n_samples:]], dim=1) # batch_size, n_samples + n_outside, 3</span><br></pre></td></tr></table></figure><ul><li>weightsï¼Œè®¡ç®—æ¯ä¸ªé‡‡æ ·ç‚¹çš„æƒé‡ $w_{i} = \alpha_{i} \cdot T_{i} =\alpha_{i} \cdot \prod_{j=1}^{i-1}(1-\alpha_j)$<ul><li>batch_size, n_samples <strong>or</strong> batch_size, n_samples + n_outside</li><li><code>weights = alpha * torch.cumprod(torch.cat([torch.ones([batch_size, 1]), 1. - alpha + 1e-7], -1), -1)[:, :-1]</code></li></ul></li><li>weights_sumï¼šæƒé‡çš„å’Œï¼Œæ–¹ä¾¿å‰æ™¯é¢œè‰²ä¸èƒŒæ™¯çš„é¢œè‰²è¿›è¡Œç´¯åŠ <ul><li>batch_size, 1</li><li><code>weights_sum = weights.sum(dim=-1, keepdim=True)</code></li></ul></li><li>colorï¼š$\hat{C}=\sum_{i=1}^n T_i\alpha_i c_i,$<ul><li>batch_size, 3</li><li>`color = (sampled_color * weights[:, :, None]).sum(dim=1)</li></ul></li></ul><p>ç´¯åŠ èƒŒæ™¯çš„é¢œè‰²å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if background_rgb is not None:    # Fixed background, usually black</span><br><span class="line">    color = color + background_rgb * (1.0 - weights_sum) # batch_size, 3</span><br></pre></td></tr></table></figure><p>è®¡ç®—loss<br>$\mathcal{L}_{r e g}=\frac{1}{n m}\sum_{k,i}(|\nabla f(\hat{\mathbf{p}}_{k,i})|_{2}-1)^{2}.$ åªè®¡ç®—åœ¨relaxåŠå¾„ä¸º1.2çš„åœ†å†…çš„é‡‡æ ·ç‚¹sdfçš„æ¢¯åº¦</p><p>$|\nabla f(\hat{\mathbf{p}}_{k,i})|_{2} = \sqrt{gx^{2}+gy^{2}+gz^{2}}$</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Eikonal loss</span><br><span class="line">gradient_error = (torch.linalg.norm(gradients.reshape(batch_size, n_samples, 3), ord=2,</span><br><span class="line">                                    dim=-1) - 1.0) ** 2</span><br><span class="line"># gradient_error : batch_size, n_samples</span><br><span class="line"></span><br><span class="line">gradient_error = (relax_inside_sphere * gradient_error).sum() / (relax_inside_sphere.sum() + 1e-5)</span><br><span class="line"># gradient_error : 1</span><br></pre></td></tr></table></figure><h2 id="renderå"><a href="#renderå" class="headerlink" title="renderå"></a>renderå</h2><h3 id="get-loss"><a href="#get-loss" class="headerlink" title="get loss"></a>get loss</h3><ul><li>color_fine_loss: $\mathcal{L}_{color}=\frac{1}{m}\sum_k\mathcal{R}(\hat{C}_k,C_k).$</li><li>eikonal_loss: $\mathcal{L}_{r e g}=\frac{1}{n m}\sum_{k,i}(|\nabla f(\hat{\mathbf{p}}_{k,i})|_{2}-1)^{2}.$</li><li>mask_loss: $\mathcal{L}_{mask}=\mathrm{BCE}(M_k,\hat{O}_k)$</li></ul><p>total loss: $\mathcal L=\mathcal L_{color}+\lambda\mathcal L_{reg}+\beta\mathcal L_{mask}.$</p><ul><li>igr_weight = 0.1</li><li>mask_weight = 0.1 or 0.0 if womask</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">color_error = (color_fine - true_rgb) * mask</span><br><span class="line">color_fine_loss = F.l1_loss(color_error, torch.zeros_like(color_error), reduction=&#x27;sum&#x27;) / mask_sum</span><br><span class="line">psnr = 20.0 * torch.log10(1.0 / (((color_fine - true_rgb)**2 * mask).sum() / (mask_sum * 3.0)).sqrt())</span><br><span class="line"></span><br><span class="line">eikonal_loss = gradient_error</span><br><span class="line"></span><br><span class="line">mask_loss = F.binary_cross_entropy(weight_sum.clip(1e-3, 1.0 - 1e-3), mask)</span><br><span class="line"></span><br><span class="line">loss = color_fine_loss +\</span><br><span class="line">       eikonal_loss * self.igr_weight +\</span><br><span class="line">       mask_loss * self.mask_weight</span><br></pre></td></tr></table></figure><h3 id="backward"><a href="#backward" class="headerlink" title="backward"></a>backward</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.optimizer.zero_grad()</span><br><span class="line">loss.backward()</span><br><span class="line">self.optimizer.step()</span><br><span class="line"></span><br><span class="line">self.iter_step += 1</span><br></pre></td></tr></table></figure><h3 id="log-tensorboard-scalar"><a href="#log-tensorboard-scalar" class="headerlink" title="log(tensorboard.scalar)"></a>log(tensorboard.scalar)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from torch.utils.tensorboard import SummaryWriter</span><br><span class="line">self.writer = SummaryWriter(log_dir=os.path.join(self.base_exp_dir, &#x27;logs&#x27;))</span><br><span class="line"># if in autodl server , use: </span><br><span class="line"># self.writer = SummaryWriter(log_dir=os.path.join(&#x27;/root/tf-logs&#x27;))</span><br><span class="line"></span><br><span class="line">self.writer.add_scalar(&#x27;Loss/loss&#x27;, loss, self.iter_step)</span><br><span class="line">self.writer.add_scalar(&#x27;Loss/color_loss&#x27;, color_fine_loss, self.iter_step)</span><br><span class="line">self.writer.add_scalar(&#x27;Loss/eikonal_loss&#x27;, eikonal_loss, self.iter_step)</span><br><span class="line">self.writer.add_scalar(&#x27;Statistics/s_val&#x27;, s_val.mean(), self.iter_step)</span><br><span class="line">self.writer.add_scalar(&#x27;Statistics/cdf&#x27;, (cdf_fine[:, :1] * mask).sum() / mask_sum, self.iter_step)</span><br><span class="line">self.writer.add_scalar(&#x27;Statistics/weight_max&#x27;, (weight_max * mask).sum() / mask_sum, self.iter_step)</span><br><span class="line">self.writer.add_scalar(&#x27;Statistics/psnr&#x27;, psnr, self.iter_step)</span><br></pre></td></tr></table></figure><h3 id="other-per-step"><a href="#other-per-step" class="headerlink" title="other per step"></a>other per step</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if self.iter_step % self.report_freq == 0:</span><br><span class="line">    print(self.base_exp_dir)</span><br><span class="line">    print(&#x27;iter:&#123;:8&gt;d&#125; loss = &#123;&#125; lr=&#123;&#125;&#x27;.format(self.iter_step, loss, self.optimizer.param_groups[0][&#x27;lr&#x27;]))</span><br><span class="line"></span><br><span class="line">if self.iter_step % self.save_freq == 0:</span><br><span class="line">    self.save_checkpoint()</span><br><span class="line"></span><br><span class="line">if self.iter_step % self.val_freq == 0:</span><br><span class="line">    self.validate_image()</span><br><span class="line"></span><br><span class="line"># æ¯ç»è¿‡ä¸€å®šçš„è¿­ä»£æ¬¡æ•°ï¼Œå°±éªŒè¯ä¸€æ¬¡meshï¼Œ 5000æ­¥valä¸€æ¬¡ï¼Œé»˜è®¤meshçš„resolution=64</span><br><span class="line">if self.iter_step % self.val_mesh_freq == 0:</span><br><span class="line">    self.validate_mesh()</span><br><span class="line"></span><br><span class="line">self.update_learning_rate()</span><br><span class="line"></span><br><span class="line">if self.iter_step % len(image_perm) == 0:</span><br><span class="line">    image_perm = self.get_image_perm() # é‡æ–°éšæœºä¸€ä¸‹image</span><br></pre></td></tr></table></figure><h4 id="validate-image"><a href="#validate-image" class="headerlink" title="validate_image"></a>validate_image</h4><p>å°†å›¾ç‰‡ç¼©å°resolution_levelå€è¿›è¡Œå…‰çº¿ç”Ÿæˆï¼Œç„¶ååˆ†æ‰¹æ¬¡è¿›è¡Œæ¸²æŸ“ï¼Œæ¯æ‰¹å¤§å°ä¸ºbatch_size</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">def validate_image(self, idx=-1, resolution_level=-1):</span><br><span class="line">    if idx &lt; 0:</span><br><span class="line">        idx = np.random.randint(self.dataset.n_images)</span><br><span class="line"></span><br><span class="line">    print(&#x27;Validate: iter: &#123;&#125;, camera: &#123;&#125;&#x27;.format(self.iter_step, idx))</span><br><span class="line"></span><br><span class="line">    if resolution_level &lt; 0:</span><br><span class="line">        resolution_level = self.validate_resolution_level</span><br><span class="line">    rays_o, rays_d = self.dataset.gen_rays_at(idx, resolution_level=resolution_level)</span><br><span class="line">    H, W, _ = rays_o.shape</span><br><span class="line">    rays_o = rays_o.reshape(-1, 3).split(self.batch_size) # H*W / batch_size ä¸ªå…ƒç»„ï¼Œæ¯ä¸ªå…ƒç»„ä¸­æœ‰batch_sizeä¸ªray: (batch_size, 3)</span><br><span class="line">    rays_d = rays_d.reshape(-1, 3).split(self.batch_size) </span><br></pre></td></tr></table></figure><p>æœ€ç»ˆå¾—åˆ°è¯¥å›¾ç‰‡æ¯ä¸ªåƒç´ çš„é¢œè‰²å€¼out_rgb_fineï¼Œä»¥åŠinside_sphereå†…çš„æ³•å‘é‡å€¼out_normal_fine</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">for rays_o_batch, rays_d_batch in zip(rays_o, rays_d):</span><br><span class="line">    # rays_o_batch: (batch_size, 3) rays_d_batch: (batch_size, 3)</span><br><span class="line">    near, far = self.dataset.near_far_from_sphere(rays_o_batch, rays_d_batch)</span><br><span class="line">    background_rgb = torch.ones([1, 3]) if self.use_white_bkgd else None</span><br><span class="line"></span><br><span class="line">    render_out = self.renderer.render(rays_o_batch,</span><br><span class="line">                                      rays_d_batch,</span><br><span class="line">                                      near,</span><br><span class="line">                                      far,</span><br><span class="line">                                      cos_anneal_ratio=self.get_cos_anneal_ratio(),</span><br><span class="line">                                      background_rgb=background_rgb)</span><br><span class="line"></span><br><span class="line">    def feasible(key): return (key in render_out) and (render_out[key] is not None)</span><br><span class="line">    </span><br><span class="line">    if feasible(&#x27;color_fine&#x27;):</span><br><span class="line">        out_rgb_fine.append(render_out[&#x27;color_fine&#x27;].detach().cpu().numpy())</span><br><span class="line">    if feasible(&#x27;gradients&#x27;) and feasible(&#x27;weights&#x27;):</span><br><span class="line">        n_samples = self.renderer.n_samples + self.renderer.n_importance</span><br><span class="line">        # (batch_size, n_samples, 3) * (batch_size, n_samples, 1) -&gt; (batch_size, n_samples, 3)</span><br><span class="line">        normals = render_out[&#x27;gradients&#x27;] * render_out[&#x27;weights&#x27;][:, :n_samples, None] </span><br><span class="line">        if feasible(&#x27;inside_sphere&#x27;):</span><br><span class="line">            normals = normals * render_out[&#x27;inside_sphere&#x27;][..., None]</span><br><span class="line">        normals = normals.sum(dim=1).detach().cpu().numpy()</span><br><span class="line">        out_normal_fine.append(normals)</span><br><span class="line">    del render_out</span><br></pre></td></tr></table></figure><p>ç„¶åè¿›è¡Œå›¾ç‰‡çš„æ‹¼æ¥å’Œä¿å­˜</p><div style="display:flex; justify-content:space-between;"> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/00282500_0_22.png" alt="Image 1" style="width:10%;"><div style="width:10px;"></div> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/00282500_0_22%20(1).png" alt="Image 2" style="width:20%;"> </div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">img_fine = None</span><br><span class="line">if len(out_rgb_fine) &gt; 0:</span><br><span class="line">    img_fine = (np.concatenate(out_rgb_fine, axis=0).reshape([H, W, 3, -1]) * 256).clip(0, 255)</span><br><span class="line"></span><br><span class="line">normal_img = None</span><br><span class="line">if len(out_normal_fine) &gt; 0:</span><br><span class="line">    normal_img = np.concatenate(out_normal_fine, axis=0)</span><br><span class="line">    # pose: c2w </span><br><span class="line">    # rot: w2c</span><br><span class="line">    rot = np.linalg.inv(self.dataset.pose_all[idx, :3, :3].detach().cpu().numpy())</span><br><span class="line">    normal_img = (np.matmul(rot[None, :, :], normal_img[:, :, None])</span><br><span class="line">                  .reshape([H, W, 3, -1]) * 128 + 128).clip(0, 255)</span><br><span class="line"></span><br><span class="line">os.makedirs(os.path.join(self.base_exp_dir, &#x27;validations_fine&#x27;), exist_ok=True)</span><br><span class="line">os.makedirs(os.path.join(self.base_exp_dir, &#x27;normals&#x27;), exist_ok=True)</span><br><span class="line"></span><br><span class="line">for i in range(img_fine.shape[-1]):  # img_fine.shape[-1] = 1</span><br><span class="line">    if len(out_rgb_fine) &gt; 0:</span><br><span class="line">        cv.imwrite(os.path.join(self.base_exp_dir,</span><br><span class="line">                                &#x27;validations_fine&#x27;,</span><br><span class="line">                                &#x27;&#123;:0&gt;8d&#125;_&#123;&#125;_&#123;&#125;.png&#x27;.format(self.iter_step, i, idx)),</span><br><span class="line">                   np.concatenate([img_fine[..., i],</span><br><span class="line">                                   self.dataset.image_at(idx, resolution_level=resolution_level)]))</span><br><span class="line">    if len(out_normal_fine) &gt; 0:</span><br><span class="line">        cv.imwrite(os.path.join(self.base_exp_dir,</span><br><span class="line">                                &#x27;normals&#x27;,</span><br><span class="line">                                &#x27;&#123;:0&gt;8d&#125;_&#123;&#125;_&#123;&#125;.png&#x27;.format(self.iter_step, i, idx)),</span><br><span class="line">                   normal_img[..., i])</span><br></pre></td></tr></table></figure><h4 id="validate-meshç”Ÿæˆmeshæ¨¡å‹"><a href="#validate-meshç”Ÿæˆmeshæ¨¡å‹" class="headerlink" title="validate_meshç”Ÿæˆmeshæ¨¡å‹"></a>validate_meshç”Ÿæˆmeshæ¨¡å‹</h4><p>æ ¹æ®ä¸€ä¸ª$resolution^3$ çš„sdfåœºï¼Œå°†é˜ˆå€¼ä¸º0çš„ç‚¹ä½¿ç”¨marching_cubesæ–¹æ³•ç”Ÿæˆverticeså’Œtrianglesï¼Œç„¶åç”Ÿæˆmeshçš„plyæ–‡ä»¶</p><h5 id="extract-geometry"><a href="#extract-geometry" class="headerlink" title="extract_geometry"></a>extract_geometry</h5><p><strong>extract_fields</strong><br>input:</p><ul><li>bound_min : 3 ; bound_max : 3 ; resolution : 64 </li><li>query_func : pts -&gt; sdf</li></ul><p>output: u<br>u : resolution x resolution x resolution, ä¸ºbox ä¸­æ¯ä¸ªç‚¹çš„sdfå€¼</p><p><strong>extract_geometry</strong></p><p>æ ¹æ®ä½“ç§¯æ•°æ®å’Œé˜ˆå€¼é‡å»ºå‡ºè¡¨é¢</p><blockquote><p><a href="https://github.com/pmneila/PyMCubes">pmneila/PyMCubes: Marching cubes (and related tools) for Python (github.com)</a></p></blockquote><p>input:</p><ul><li>bound_min, bound_max, resolution, </li><li>threshold, ç”¨äº<code>vertices, triangles = mcubes.marching_cubes(u, threshold)</code>ï¼Œåœ¨ç­‰thresholdé¢ä¸Šï¼Œç”Ÿæˆmeshçš„vå’Œt</li><li>query_funcï¼Œæ ¹æ®ä½ç½®ptsåˆ©ç”¨networkè®¡ç®—å‡ºsdf<ul><li>query_func=lambda pts: -self.sdf_network.sdf(pts)<br>output:</li></ul></li><li>verticesï¼šä¸‰è§’å½¢ç½‘æ ¼ç‚¹<ul><li>N_v , 3: 3ä¸ºç‚¹çš„ä¸‰ç»´åæ ‡</li></ul></li><li>trianglesï¼šä¸‰è§’å½¢ç½‘æ ¼<ul><li>N_t , 3: 3ä¸ºä¸‰è§’å½¢ç½‘æ ¼é¡¶ç‚¹çš„ç´¢å¼•index</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630210635.png" alt="images.png"></p><p>æ ¹æ®vå’Œtï¼Œ<code>mesh = trimesh.Trimesh(vertices, triangles)</code>ç”Ÿæˆmeshï¼Œå¹¶å¯¼å‡ºplyï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mesh.export(os.path.join(self.base_exp_dir, &#x27;meshes&#x27;, &#x27;&#123;:0&gt;8d&#125;.ply&#x27;.format(self.iter_step)))</span><br></pre></td></tr></table></figure></p><h2 id="æ•°æ®é›†è‡ªå®šä¹‰"><a href="#æ•°æ®é›†è‡ªå®šä¹‰" class="headerlink" title="æ•°æ®é›†è‡ªå®šä¹‰"></a>æ•°æ®é›†è‡ªå®šä¹‰</h2><h3 id="custom-dataæµç¨‹å›¾"><a href="#custom-dataæµç¨‹å›¾" class="headerlink" title="custom_dataæµç¨‹å›¾"></a>custom_dataæµç¨‹å›¾</h3><p><iframe frameborder="0" style="width:100%;height:833px;" src="https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1&title=custom_data.drawio#R7Vxdc5s4FP01nmw7Ew%2BID5vHOIm7D7udzmRn2j55FCPbpICokB3TX78SiE8pMc0aQ9bOQ4IuEhb36BxdXSkeGbfB%2FhOB0eZv7CJ%2FBDR3PzLuRgDopq2zP9ySZBZ7AjLDmniuqFQaHrxfSBg1Yd16LoprFSnGPvWiunGJwxAtac0GCcHP9Wor7Nc%2FNYJrJBkeltCXrV89l27EWzhaaf8TeeuN%2BGRnKm4EMK8rDPEGuvi5YjLuR8YtwZhmV8H%2BFvncd7lbsnbzF%2B4W%2FSIopG0aOFMUff30z%2FWX%2B8l8PwnJLJnvrgUWMU3y90Uue31RxIRu8BqH0L8vrTOCt6GL%2BFM1Virr%2FIVxxIw6Mz4hShOBJdxSzEwbGvjiLtp79BtvPrZE6Xvlzt1ePDktJHkhpCSpNOLF79V7ZbO0lLfL3o%2B%2F1ItuE6YYb8lS1Hp6Mr651F2Es59m8FlPrPvJ7joffZCsEX2lHijAZaRAOECsP6wdQT6k3q7eDyhG57qoVyLILgSIakBf6%2BQO%2BlvxSV6wjkGEYxSPo0SCuwST%2B%2F9541H0EMHUD8%2BM0HXgVjikAlXdLpyr8OUOEYr2FZPsDnHXsrIWQh10W7DlueSanjNoU%2BGZpXXkQOv%2FzojWIB4kBGhJCFNJwr4YAiSGrFG4SAnyx4dX%2BKENgR%2FA7Jsf%2BbzcD0H0Cj1KshwiSI0eJVs6J4jZkiDOsAjSK8LvSwLbIjwZFMKmJIErz2dBNmvGfzEfxzQthdwHzC8xYp8jDwuywcHjNu5FGHMdEsJoAFkYizpVYZx2JYy25NSEu7ThMvZ2tO6bmBL8A91iHxNmCXHI6cTw8Bsm6HvrkBWXzGeI2WfcVx5bqNyIG4HnuikXVWDU%2BdkBHmZ9ojIVeJgKOEBXcIBLINdaxSYtVQwMK5KbSIzzMXQXS%2BwHMFq4kMIBBnTGZNxgylQR0uVh30lCuqnkxxCfj3AVEpTPJIbVr3I5EhxkG4pRPcABDSbWQf%2BdeIkiL%2FEeYYxcj4zAbQDpcrOgSYTOaIhPGxDpCoiMU45xfXqZnVvnHY2W07NuD2p6zvtdoWEmYsy2QpBuCVowxhG4pIxLwPY5%2BR751ZpfFXWrjH2lUhQx5h1VHHNW%2B2hFjxQkGw0igiIaqK5bNAUVbasrmCwJJv47uzgPfTScBixW34sXXXL%2BKeXxTUm23uTRbimPR8%2FBpE1vCIFJpUKEvZDGlSd%2F4YZK3kJvhP9i4VwOl%2ByJ5eApuvYfOC4nJ7iv6smd%2BcfxI8%2F42DDgrAsf4ygFpqm5I2t2tYQBIjC%2BYgEVe8qVF8A1KkqZC4y7q5Eli8jQFFmX1mOqTJJxyvUYeCV%2BPRdJ1p3Dq2RbAUp3kixHM%2BmeUTbmIzbeXXGJSHBOONVXz5aCPcpsRmdAGXKe%2BrK0OJDQO5z5G9gWlbyDEcMdGu4urj0GdT2zHAVPyrnoNPOMHBWUeRL%2Byhd9A3oju2Up5iHlPlN3E5Gc9s5jNNfb1WCxf2756bIZR%2BdaOPqG1UjDp%2BJuEdeJp7CYMMxtaB8xMSwCxUUW2o0jP8lrs3eoNqiY097UrcfvIKd9M2TNDjuF%2FLSTNrqfj2a3I%2BdmIP3NOMUbqcPsF7pXtYXbYJEF3OkwBZoh%2Flq%2F%2BY7nw2Fj3KCxbahorBcqfRL9NcAlUmkdqTgtIxVDH1akIu%2FmeCtWXqVZz%2BLIRYi5yH5O6VRIVbnkdtEKbv2iihTeDOcchq2Ia057DiMfABWPB17orZIBxoW2NraBU%2Fmpq9RUUwSJ2rQQs6o%2FzSP4U3lEfNKnSJ3ivJ9SL96mUoZiPaV0aq%2BaZMirJ34EVuT0hnhKXHdAI0unWj6pdjCPMXkrERzQ8SKtJS3qc7feCS1eHu0tWGGeiBXKD3cuOnd0QKd9AirHAQRBV%2BQ1suXh8cMBSdMUDn55H9JqI3NdnaVRO9HsVefeQgu9N1ooDmqonWr0yQt5I0PwopbjWXh8LY9imiV7BsYUEzSZovrPMeVBis6oIkdVRfYsVZwh%2BlFWHL13xek1K%2FKmibg%2FxZm2VJxeBUc%2BX%2FyMie8uAkjlVAcDBmhsKbJwvSUdHF8svc0Mrcp3dMcX%2B93N0D0Grq2naKvX0FWeo2P%2BlQTvkTKgcUJA%2BS%2Fep2WMfOIxIigieInimHkKzNPtFe5UnG4i5bst84%2By8xstAxj%2FOFhJZFoWcbRhIRZbivySt4OOiaLy2NRRQQWq%2FRRbAar9%2B6CyYvktGdmJuPKrRoz7fwE%3D"></iframe></p><h3 id="imgs2poses-py"><a href="#imgs2poses-py" class="headerlink" title="imgs2poses.py"></a>imgs2poses.py</h3><p>æ˜¯å¦ä½¿ç”¨è¿‡colmapï¼š</p><ul><li>å¦‚æœå·²ç»ä½¿ç”¨colmapç”Ÿæˆäº†<code>sparse/0/</code>ä¸‹çš„<code>[&#39;cameras&#39;, &#39;images&#39;, &#39;points3D&#39;]</code>æ–‡ä»¶ï¼Œå°†è·å¾—sparse_points.ply</li><li>è‹¥æ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨<code>run_colmap()</code>ï¼Œå³å¯ç”Ÿæˆsparse/0/ä¸‹æ–‡ä»¶</li></ul><h4 id="run-colmap"><a href="#run-colmap" class="headerlink" title="run_colmap()"></a>run_colmap()</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">def run_colmap(basedir, match_type):</span><br><span class="line">    </span><br><span class="line">    logfile_name = os.path.join(basedir, &#x27;colmap_output.txt&#x27;)</span><br><span class="line">    logfile = open(logfile_name, &#x27;w&#x27;)</span><br><span class="line">    </span><br><span class="line">    feature_extractor_args = [</span><br><span class="line">        &#x27;colmap&#x27;, &#x27;feature_extractor&#x27;, </span><br><span class="line">            &#x27;--database_path&#x27;, os.path.join(basedir, &#x27;database.db&#x27;), </span><br><span class="line">            &#x27;--image_path&#x27;, os.path.join(basedir, &#x27;images&#x27;),</span><br><span class="line">            &#x27;--ImageReader.single_camera&#x27;, &#x27;1&#x27;,</span><br><span class="line">            # &#x27;--SiftExtraction.use_gpu&#x27;, &#x27;0&#x27;,</span><br><span class="line">    ]</span><br><span class="line">    # subprocess.check_output: è¿è¡Œå‘½ä»¤è¡Œç¨‹åºï¼Œç­‰å¾…ç¨‹åºè¿è¡Œå®Œæˆï¼Œç„¶åè¿”å›è¾“å‡ºç»“æœ</span><br><span class="line">    feat_output = ( subprocess.check_output(feature_extractor_args, universal_newlines=True) )</span><br><span class="line">    logfile.write(feat_output)</span><br><span class="line">    print(&#x27;Features extracted&#x27;)</span><br><span class="line"></span><br><span class="line">    exhaustive_matcher_args = [</span><br><span class="line">        &#x27;colmap&#x27;, match_type, </span><br><span class="line">            &#x27;--database_path&#x27;, os.path.join(basedir, &#x27;database.db&#x27;), </span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    match_output = ( subprocess.check_output(exhaustive_matcher_args, universal_newlines=True) )</span><br><span class="line">    logfile.write(match_output)</span><br><span class="line">    print(&#x27;Features matched&#x27;)</span><br><span class="line">    </span><br><span class="line">    p = os.path.join(basedir, &#x27;sparse&#x27;)</span><br><span class="line">    if not os.path.exists(p):</span><br><span class="line">        os.makedirs(p)</span><br><span class="line"></span><br><span class="line">    # mapper_args = [</span><br><span class="line">    #     &#x27;colmap&#x27;, &#x27;mapper&#x27;, </span><br><span class="line">    #         &#x27;--database_path&#x27;, os.path.join(basedir, &#x27;database.db&#x27;), </span><br><span class="line">    #         &#x27;--image_path&#x27;, os.path.join(basedir, &#x27;images&#x27;),</span><br><span class="line">    #         &#x27;--output_path&#x27;, os.path.join(basedir, &#x27;sparse&#x27;),</span><br><span class="line">    #         &#x27;--Mapper.num_threads&#x27;, &#x27;16&#x27;,</span><br><span class="line">    #         &#x27;--Mapper.init_min_tri_angle&#x27;, &#x27;4&#x27;,</span><br><span class="line">    # ]</span><br><span class="line">    mapper_args = [</span><br><span class="line">        &#x27;colmap&#x27;, &#x27;mapper&#x27;,</span><br><span class="line">            &#x27;--database_path&#x27;, os.path.join(basedir, &#x27;database.db&#x27;),</span><br><span class="line">            &#x27;--image_path&#x27;, os.path.join(basedir, &#x27;images&#x27;),</span><br><span class="line">            &#x27;--output_path&#x27;, os.path.join(basedir, &#x27;sparse&#x27;), # --export_path changed to --output_path in colmap 3.6</span><br><span class="line">            &#x27;--Mapper.num_threads&#x27;, &#x27;16&#x27;,</span><br><span class="line">            &#x27;--Mapper.init_min_tri_angle&#x27;, &#x27;4&#x27;,</span><br><span class="line">            &#x27;--Mapper.multiple_models&#x27;, &#x27;0&#x27;,</span><br><span class="line">            &#x27;--Mapper.extract_colors&#x27;, &#x27;0&#x27;,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    map_output = ( subprocess.check_output(mapper_args, universal_newlines=True) )</span><br><span class="line">    logfile.write(map_output)</span><br><span class="line">    logfile.close()</span><br><span class="line">    print(&#x27;Sparse map created&#x27;)</span><br><span class="line">    </span><br><span class="line">    print( &#x27;Finished running COLMAP, see &#123;&#125; for logs&#x27;.format(logfile_name) )</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ç›¸å½“äºåˆ†åˆ«è¿è¡Œ:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">colmap feature_extractor --database_path os.path.join(basedir, &#x27;database.db&#x27;) --image_path os.path.join(basedir, &#x27;images&#x27;) --ImageReader.single_camera 1</span><br><span class="line">colmap match_type --database_path os.path.join(basedir, &#x27;database.db&#x27;)</span><br><span class="line">match_type : exhaustive_matcher Or sequential_matcher</span><br><span class="line">colmap mapper --database_path os.path.join(basedir, &#x27;database.db&#x27;) --image_path os.path.join(basedir, &#x27;images&#x27;) --output_path os.path.join(basedir, &#x27;sparse&#x27;) --Mapper.num_threads 16 --Mapper.init_min_tri_angle 4 --Mapper.multiple_models 0 --Mapper.extract_colors 0</span><br></pre></td></tr></table></figure></p><ul><li>feature_extractor: Perform <strong>feature extraction or import features</strong> for a set of images.</li><li>exhaustive_matcher: Perform <strong>feature matching</strong> after performing feature extraction.</li><li>mapper: <strong>Sparse 3D reconstruction / mapping of the dataset</strong> using SfM after performing feature extraction and matching.</li></ul><p>ç„¶åå°†å‘½ä»¤è¡Œçš„è¾“å‡ºç»“æœä¿å­˜åˆ°logfileå³<code>basedir/colmap_output.txt</code>ä¸­</p><blockquote><p>colmapå‘½ä»¤è¡Œï¼š<a href="https://colmap.github.io/cli.html">Command-line Interface â€” COLMAP 3.8-dev documentation</a><br>denseä¸­æ·±åº¦å›¾è½¬æ¢ï¼š<a href="https://zhuanlan.zhihu.com/p/584386128">COLMAPç®€æ˜æ•™ç¨‹ å¯¼å…¥æŒ‡å®šå‚æ•° å‘½ä»¤è¡Œ å¯¼å‡ºæ·±åº¦å›¾ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><h4 id="load-colmap-data-to-colmap-read-model-py"><a href="#load-colmap-data-to-colmap-read-model-py" class="headerlink" title="load_colmap_data() to colmap_read_model.py"></a>load_colmap_data() to colmap_read_model.py</h4><p><code>python .\colmap_read_model.py E:\BaiduSyncdisk\NeRF_Proj\NeuS\video2bmvs\M590\sparse\0 .bin</code></p><p>è¯»å–<code>[&#39;cameras&#39;, &#39;images&#39;, &#39;points3D&#39;]</code>æ–‡ä»¶çš„æ•°æ®</p><p>input:</p><ul><li>basedir</li></ul><p>output: </p><ul><li>poses, shape: 3 x 5 x num_images<ul><li>c2w: 3x4xn </li><li>hwf: 3x1xn</li></ul></li><li>pts3d, ä¸€ä¸ªé•¿åº¦ä¸ºnum_pointså­—å…¸ï¼Œkeyä¸ºpoint3D_idï¼Œvalueä¸ºPoint3Då¯¹è±¡</li><li>perm, # æŒ‰ç…§nameæ’åºï¼Œè¿”å›æ’åºåçš„ç´¢å¼•çš„åˆ—è¡¨ï¼š<code>[from 0 to num_images-1]</code></li></ul><h5 id="cameras-images-and-pts3d-be-like"><a href="#cameras-images-and-pts3d-be-like" class="headerlink" title="cameras images and pts3d be like:"></a>cameras images and pts3d be like:</h5><blockquote><p><a href="https://colmap.github.io/format.html#cameras-txt">Output Format â€” COLMAP 3.8-dev documentation</a></p></blockquote><div class="table-container"><table><thead><tr><th>var</th><th>example</th><th>info</th></tr></thead><tbody><tr><td>cameras</td><td><code>&#123;1: Camera(id=1, model=&#39;SIMPLE_RADIAL&#39;, width=960, height=544, params=array([ 5.07683492e+02,  4.80000000e+02,  2.72000000e+02, -5.37403479e-03])), ...&#125;</code></td><td>f, cx, cy, k=params</td></tr><tr><td>images</td><td><code>&#123;1: Image(id=1, qvec=array([ 0.8999159 , -0.29030237,  0.07162026,  0.31740581]), tvec=array([ 0.29762954, -2.81576928,  1.41888716]), camera_id=1, name=&#39;000.png&#39;, xys=xys, point3D_ids=point3D_ids, ...&#125;</code></td><td>perm = np.argsort(names),qvec,tvec to m=w2c_mats:4x4,</td></tr><tr><td>pts3D</td><td><code>&#123;1054: Point3D(id=1054, xyz=array([1.03491375, 1.65809594, 3.83718124]), rgb=array([147, 146, 137]), error=array(0.57352093), image_ids=array([115, 116, 117, 114, 113, 112]), point2D_idxs=array([998, 822, 912, 977, 889, 817])), ...&#125;</code></td></tr></tbody></table></div><p>xys and point3D_ids in images be like:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">xys=array([[ <span class="number">83.70032501</span>,   <span class="number">2.57579875</span>],</span><br><span class="line">       [ <span class="number">83.70032501</span>,   <span class="number">2.57579875</span>],</span><br><span class="line">       [<span class="number">469.29092407</span>,   <span class="number">2.57086968</span>],</span><br><span class="line">       ...,</span><br><span class="line">       [<span class="number">759.08764648</span>, <span class="number">164.65560913</span>],</span><br><span class="line">       [<span class="number">533.28503418</span>, <span class="number">297.13980103</span>],</span><br><span class="line">       [<span class="number">837.11437988</span>, <span class="number">342.07727051</span>]]), </span><br><span class="line">point3D_ids=array([  -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,       </span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9109</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8781</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8628</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">2059</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8791</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8683</span>,   -<span class="number">1</span>, <span class="number">8387</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9008</span>, <span class="number">9007</span>,   -<span class="number">1</span>, <span class="number">9161</span>, <span class="number">8786</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9175</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"><span class="number">9053</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8756</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">9024</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9111</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9018</span>,   -<span class="number">1</span>, <span class="number">9004</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8992</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"><span class="number">4701</span>,   -<span class="number">1</span>, <span class="number">9067</span>,   -<span class="number">1</span>, <span class="number">9166</span>, <span class="number">3880</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8725</span>,   -<span class="number">1</span>, <span class="number">9112</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8990</span>,   -<span class="number">1</span>, <span class="number">8793</span>, <span class="number">9118</span>, <span class="number">8847</span>, <span class="number">9009</span>, <span class="number">9140</span>, <span class="number">9012</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">7743</span>, <span class="number">9065</span>, <span class="number">8604</span>, <span class="number">3935</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"><span class="number">9075</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8966</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   <span class="number">19</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"><span class="number">9017</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9020</span>,   -<span class="number">1</span>, <span class="number">9005</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8696</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8930</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8970</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9076</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">9114</span>, <span class="number">8925</span>,   -<span class="number">1</span>, <span class="number">8915</span>,   -<span class="number">1</span>, <span class="number">9077</span>, <span class="number">8851</span>, <span class="number">8655</span>, <span class="number">5885</span>, <span class="number">4073</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">3839</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9165</span>, <span class="number">9078</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9055</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9017</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">8682</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9170</span>,   -<span class="number">1</span>, <span class="number">7562</span>, <span class="number">7556</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8962</span>, <span class="number">9079</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8586</span>,</span><br><span class="line"><span class="number">8224</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">1399</span>, <span class="number">9168</span>, <span class="number">6439</span>, <span class="number">9121</span>, <span class="number">8255</span>, <span class="number">9169</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">9151</span>, <span class="number">8971</span>, <span class="number">4698</span>, <span class="number">9171</span>, <span class="number">9172</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8898</span>, <span class="number">3916</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">1788</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9080</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">2097</span>,   -<span class="number">1</span>, <span class="number">4103</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">2073</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">1771</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8813</span>,   -<span class="number">1</span>, <span class="number">9030</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8841</span>, <span class="number">9081</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8977</span>,   -<span class="number">1</span>, <span class="number">8372</span>, <span class="number">9057</span>, <span class="number">6807</span>, <span class="number">9082</span>, <span class="number">5941</span>, <span class="number">4181</span>,</span><br><span class="line"><span class="number">1675</span>,   -<span class="number">1</span>, <span class="number">1683</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">1503</span>, <span class="number">9083</span>, <span class="number">1973</span>, <span class="number">9071</span>, <span class="number">2679</span>, <span class="number">2412</span>,</span><br><span class="line"><span class="number">3238</span>,   -<span class="number">1</span>, <span class="number">9164</span>, <span class="number">1796</span>, <span class="number">9174</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"><span class="number">9042</span>, <span class="number">9084</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9051</span>, <span class="number">9050</span>,   -<span class="number">1</span>, <span class="number">9085</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">9158</span>, <span class="number">9086</span>,  <span class="number">853</span>, <span class="number">7671</span>, <span class="number">9128</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9058</span>,   -<span class="number">1</span>, <span class="number">9087</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">8502</span>, <span class="number">9102</span>,   -<span class="number">1</span>, <span class="number">9106</span>,   -<span class="number">1</span>, <span class="number">9039</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9069</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">2261</span>,   -<span class="number">1</span>, <span class="number">1793</span>, <span class="number">2643</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8810</span>, <span class="number">8945</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9043</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"><span class="number">9142</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9122</span>, <span class="number">9089</span>, <span class="number">9090</span>, <span class="number">8863</span>, <span class="number">9103</span>, <span class="number">2161</span>, <span class="number">2446</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9104</span>,   -<span class="number">1</span>, <span class="number">9060</span>, <span class="number">9131</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">8980</span>, <span class="number">8706</span>,   -<span class="number">1</span>, <span class="number">9105</span>, <span class="number">9091</span>, <span class="number">9173</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">2996</span>,   -<span class="number">1</span>,</span><br><span class="line"> -<span class="number">1</span>, <span class="number">9092</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9094</span>, <span class="number">9095</span>, <span class="number">9096</span>, <span class="number">9097</span>, <span class="number">9156</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8772</span>, <span class="number">8818</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9162</span>, <span class="number">9062</span>, <span class="number">9098</span>,</span><br><span class="line"> -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">8907</span>, <span class="number">9099</span>, <span class="number">8985</span>, <span class="number">4624</span>,   -<span class="number">1</span>, <span class="number">3746</span>, <span class="number">8951</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,</span><br><span class="line"><span class="number">8908</span>,   -<span class="number">1</span>, <span class="number">9135</span>, <span class="number">8986</span>, <span class="number">9101</span>,   -<span class="number">1</span>,   -<span class="number">1</span>,   -<span class="number">1</span>, <span class="number">9137</span>,   -<span class="number">1</span>]))&#125;</span><br></pre></td></tr></table></figure><h5 id="camerasæ–‡ä»¶"><a href="#camerasæ–‡ä»¶" class="headerlink" title="camerasæ–‡ä»¶"></a>camerasæ–‡ä»¶</h5><p>input:</p><ul><li>path_to_model_file, <code>camerasfile = os.path.join(realdir, &#39;sparse/0/cameras.bin&#39;)</code><br>output:</li><li>camerasï¼Œä¸€ä¸ªé•¿åº¦ä¸ºnum_cameraså­—å…¸ï¼Œkeyä¸ºcamera_idï¼Œvalueä¸ºCameraå¯¹è±¡</li></ul><blockquote><p><a href="https://www.cnblogs.com/xiaohuidi/p/15767477.html">colmap ç›¸æœºæ¨¡å‹åŠå‚æ•° - å°å°ç°è¿ª - åšå®¢å›­ (cnblogs.com)</a></p></blockquote><p>ä½¿ç”¨:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">camerasfile = os.path.join(realdir, <span class="string">&#x27;sparse/0/cameras.bin&#x27;</span>)</span><br><span class="line">camdata = read_model.read_cameras_binary(camerasfile)</span><br><span class="line"></span><br><span class="line">list_of_keys = <span class="built_in">list</span>(camdata.keys()) <span class="comment"># list from 1 to num_cameras</span></span><br><span class="line">cam = camdata[list_of_keys[<span class="number">0</span>]] <span class="comment"># Camera(id=1, model=&#x27;SIMPLE_RADIAL&#x27;, width=960, height=544, params=array([ 5.07683492e+02,  4.80000000e+02,  2.72000000e+02, -5.37403479e-03]))</span></span><br><span class="line"><span class="built_in">print</span>( <span class="string">&#x27;Cameras&#x27;</span>, <span class="built_in">len</span>(cam)) <span class="comment"># Cameras 5</span></span><br><span class="line"></span><br><span class="line">h, w, f = cam.height, cam.width, cam.params[<span class="number">0</span>]</span><br><span class="line">hwf = np.array([h,w,f]).reshape([<span class="number">3</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure></p><h5 id="imagesæ–‡ä»¶"><a href="#imagesæ–‡ä»¶" class="headerlink" title="imagesæ–‡ä»¶"></a>imagesæ–‡ä»¶</h5><p>input:</p><ul><li>path_to_model_file,<code>imagesfile = os.path.join(realdir, &#39;sparse/0/images.bin&#39;)</code><br>output:</li><li>imagesï¼Œä¸€ä¸ªé•¿åº¦ä¸ºnum_reg_imageså­—å…¸ï¼Œkeyä¸ºimage_idï¼Œvalueä¸ºImageå¯¹è±¡</li></ul><p>ä½¿ç”¨:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">imagesfile = os.path.join(realdir, <span class="string">&#x27;sparse/0/images.bin&#x27;</span>)</span><br><span class="line">imdata = read_model.read_images_binary(imagesfile)</span><br><span class="line"></span><br><span class="line">w2c_mats = []</span><br><span class="line">bottom = np.array([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1.</span>]).reshape([<span class="number">1</span>,<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">names = [imdata[k].name <span class="keyword">for</span> k <span class="keyword">in</span> imdata] <span class="comment"># ä¸€ä¸ªé•¿åº¦ä¸ºnum_imagesçš„listï¼Œæ¯ä¸ªå…ƒç´ ä¸ºå›¾ç‰‡çš„åå­—</span></span><br><span class="line"><span class="built_in">print</span>( <span class="string">&#x27;Images #&#x27;</span>, <span class="built_in">len</span>(names)) </span><br><span class="line">perm = np.argsort(names) <span class="comment"># æŒ‰ç…§nameæ’åºï¼Œè¿”å›æ’åºåçš„ç´¢å¼•çš„åˆ—è¡¨ï¼š[from 0 to num_images-1]</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> imdata:</span><br><span class="line">    im = imdata[k]</span><br><span class="line">    R = im.qvec2rotmat() <span class="comment"># å°†æ—‹è½¬å‘é‡è½¬æ¢æˆæ—‹è½¬çŸ©é˜µ 3x3</span></span><br><span class="line">    t = im.tvec.reshape([<span class="number">3</span>,<span class="number">1</span>]) <span class="comment"># å¹³ç§»å‘é‡ 3x1</span></span><br><span class="line">    m = np.concatenate([np.concatenate([R, t], <span class="number">1</span>), bottom], <span class="number">0</span>) <span class="comment"># 4x4</span></span><br><span class="line">    w2c_mats.append(m) <span class="comment"># ä¸€ä¸ªé•¿åº¦ä¸ºnum_imagesçš„listï¼Œæ¯ä¸ªå…ƒç´ ä¸º4x4çš„çŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">w2c_mats = np.stack(w2c_mats, <span class="number">0</span>) <span class="comment"># num_images x 4 x 4</span></span><br><span class="line">c2w_mats = np.linalg.inv(w2c_mats) <span class="comment"># num_images x 4 x 4</span></span><br><span class="line"></span><br><span class="line">poses = c2w_mats[:, :<span class="number">3</span>, :<span class="number">4</span>].transpose([<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>]) <span class="comment"># 3 x 4 x num_images</span></span><br><span class="line">poses = np.concatenate([poses, np.tile(hwf[..., np.newaxis], [<span class="number">1</span>,<span class="number">1</span>,poses.shape[-<span class="number">1</span>]])], <span class="number">1</span>)</span><br><span class="line"><span class="comment"># tile : å°†hwfæ‰©å±•æˆ3 x 1 x 1 ï¼Œç„¶åtileæˆ3 x 1 x num_imagesï¼Œtileè¡¨ç¤ºåœ¨æŸä¸ªç»´åº¦ä¸Šé‡å¤å¤šå°‘æ¬¡</span></span><br><span class="line"><span class="comment"># poses : 3 x 5 x num_images ï¼Œc2wï¼š3 x 4 x num_images and hwf: 3 x 1 x num_images</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># must switch to [-u, r, -t] from [r, -u, t], NOT [r, u, -t]</span></span><br><span class="line">poses = np.concatenate([poses[:, <span class="number">1</span>:<span class="number">2</span>, :], poses[:, <span class="number">0</span>:<span class="number">1</span>, :], -poses[:, <span class="number">2</span>:<span class="number">3</span>, :], poses[:, <span class="number">3</span>:<span class="number">4</span>, :], poses[:, <span class="number">4</span>:<span class="number">5</span>, :]], <span class="number">1</span>)</span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­<code>R = im.qvec2rotmat()</code>å°†æ—‹è½¬å‘é‡è½¬æ¢æˆæ—‹è½¬çŸ©é˜µ:</p><p>å¦‚æœç»™å®šæ—‹è½¬å‘é‡ä¸º [qw, qx, qy, qz]ï¼Œå…¶ä¸­ qw æ˜¯æ ‡é‡éƒ¨åˆ†ï¼Œqx, qy, qz æ˜¯å‘é‡éƒ¨åˆ†ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å°†æ—‹è½¬å‘é‡è½¬æ¢ä¸ºæ—‹è½¬çŸ©é˜µï¼š</p><p>æ„é€ å•ä½å››å…ƒæ•° qï¼š<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">q</span> = qw + qx * <span class="selector-tag">i</span> + qy * j + qz * k  å…¶ä¸­ <span class="selector-tag">i</span>, j, k æ˜¯è™šéƒ¨çš„åŸºæœ¬å•ä½å‘é‡ã€‚</span><br></pre></td></tr></table></figure></p><p>è®¡ç®—æ—‹è½¬çŸ©é˜µ R(w2c)ï¼š<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">R = | <span class="number">1</span> - <span class="number">2</span>*(qy^<span class="number">2</span> + qz^<span class="number">2</span>)   <span class="number">2</span>*(<span class="keyword">qx</span>*qy - <span class="keyword">qw</span>*qz)   <span class="number">2</span>*(<span class="keyword">qx</span>*qz + <span class="keyword">qw</span>*qy) |</span><br><span class="line">    | <span class="number">2</span>*(<span class="keyword">qx</span>*qy + <span class="keyword">qw</span>*qz)     <span class="number">1</span> - <span class="number">2</span>*(<span class="keyword">qx</span>^<span class="number">2</span> + qz^<span class="number">2</span>) <span class="number">2</span>*(qy*qz - <span class="keyword">qw</span>*<span class="keyword">qx</span>) |</span><br><span class="line">    | <span class="number">2</span>*(<span class="keyword">qx</span>*qz - <span class="keyword">qw</span>*qy)     <span class="number">2</span>*(qy*qz + <span class="keyword">qw</span>*<span class="keyword">qx</span>)   <span class="number">1</span> - <span class="number">2</span>*(<span class="keyword">qx</span>^<span class="number">2</span> + qy^<span class="number">2</span>) |</span><br></pre></td></tr></table></figure></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">qvec2rotmat</span>(<span class="params">qvec</span>):</span><br><span class="line">    <span class="keyword">return</span> np.array([</span><br><span class="line">        [<span class="number">1</span> - <span class="number">2</span> * qvec[<span class="number">2</span>]**<span class="number">2</span> - <span class="number">2</span> * qvec[<span class="number">3</span>]**<span class="number">2</span>,</span><br><span class="line">         <span class="number">2</span> * qvec[<span class="number">1</span>] * qvec[<span class="number">2</span>] - <span class="number">2</span> * qvec[<span class="number">0</span>] * qvec[<span class="number">3</span>],</span><br><span class="line">         <span class="number">2</span> * qvec[<span class="number">3</span>] * qvec[<span class="number">1</span>] + <span class="number">2</span> * qvec[<span class="number">0</span>] * qvec[<span class="number">2</span>]],</span><br><span class="line">        [<span class="number">2</span> * qvec[<span class="number">1</span>] * qvec[<span class="number">2</span>] + <span class="number">2</span> * qvec[<span class="number">0</span>] * qvec[<span class="number">3</span>],</span><br><span class="line">         <span class="number">1</span> - <span class="number">2</span> * qvec[<span class="number">1</span>]**<span class="number">2</span> - <span class="number">2</span> * qvec[<span class="number">3</span>]**<span class="number">2</span>,</span><br><span class="line">         <span class="number">2</span> * qvec[<span class="number">2</span>] * qvec[<span class="number">3</span>] - <span class="number">2</span> * qvec[<span class="number">0</span>] * qvec[<span class="number">1</span>]],</span><br><span class="line">        [<span class="number">2</span> * qvec[<span class="number">3</span>] * qvec[<span class="number">1</span>] - <span class="number">2</span> * qvec[<span class="number">0</span>] * qvec[<span class="number">2</span>],</span><br><span class="line">         <span class="number">2</span> * qvec[<span class="number">2</span>] * qvec[<span class="number">3</span>] + <span class="number">2</span> * qvec[<span class="number">0</span>] * qvec[<span class="number">1</span>],</span><br><span class="line">         <span class="number">1</span> - <span class="number">2</span> * qvec[<span class="number">1</span>]**<span class="number">2</span> - <span class="number">2</span> * qvec[<span class="number">2</span>]**<span class="number">2</span>]])</span><br></pre></td></tr></table></figure><h5 id="points3Dæ–‡ä»¶"><a href="#points3Dæ–‡ä»¶" class="headerlink" title="points3Dæ–‡ä»¶"></a>points3Dæ–‡ä»¶</h5><p>input:</p><ul><li>path_to_model_file: <code>points3dfile = os.path.join(realdir, &#39;sparse/0/points3D.bin&#39;)</code><br>output:</li><li>pts3D, ä¸€ä¸ªé•¿åº¦ä¸ºnum_pointså­—å…¸ï¼Œkeyä¸ºpoint3D_idï¼Œvalueä¸ºPoint3Då¯¹è±¡</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">points3dfile = os.path.join(realdir, &#x27;sparse/0/points3D.bin&#x27;)</span><br><span class="line">pts3d = read_model.read_points3d_binary(points3dfile)</span><br></pre></td></tr></table></figure><h4 id="save-poses-py"><a href="#save-poses-py" class="headerlink" title="save_poses.py"></a>save_poses.py</h4><p>input:</p><ul><li>basedir, </li><li>poses, shape: 3 x 5 x num_images<ul><li>c2w: 3x4xn </li><li>hwf: 3x1xn</li></ul></li><li>pts3d, ä¸€ä¸ªé•¿åº¦ä¸ºnum_pointså­—å…¸ï¼Œkeyä¸ºpoint3D_idï¼Œvalueä¸ºPoint3Då¯¹è±¡<ul><li><code>&#123;1054: Point3D(id=1054, xyz=array([1.03491375, 1.65809594, 3.83718124]), rgb=array([147, 146, 137]), error=array(0.57352093), image_ids=array([115, 116, 117, 114, 113, 112]), point2D_idxs=array([998, 822, 912, 977, 889, 817])), ...&#125;</code></li></ul></li><li>perm, # æŒ‰ç…§nameæ’åºï¼Œè¿”å›æ’åºåçš„ç´¢å¼•çš„åˆ—è¡¨ï¼š<code>[from 0 to num_images-1]</code></li></ul><p>save:</p><ul><li>sparse_points.ply : <ul><li>pcd = trimesh.PointCloud(pts) , pts: num_points x 3</li></ul></li><li>poses.npy : num_images x 3 x 5</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">save_poses</span>(<span class="params">basedir, poses, pts3d, perm</span>):</span><br><span class="line">    pts_arr = []</span><br><span class="line">    vis_arr = []</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> pts3d: <span class="comment"># kä¸ºç©ºé—´ç‚¹çš„id</span></span><br><span class="line">        pts_arr.append(pts3d[k].xyz) <span class="comment"># æ¯ä¸ªç©ºé—´ç‚¹çš„ä¸‰ç»´åæ ‡</span></span><br><span class="line">        cams = [<span class="number">0</span>] * poses.shape[-<span class="number">1</span>] <span class="comment"># ä¸€ä¸ªé•¿åº¦ä¸ºnum_imagesçš„listï¼Œæ¯ä¸ªå…ƒç´ ä¸º0</span></span><br><span class="line">        <span class="keyword">for</span> ind <span class="keyword">in</span> pts3d[k].image_ids: <span class="comment"># æ¯ä¸ªç©ºé—´ç‚¹å¯¹åº”çš„å›¾ç‰‡index</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(cams) &lt; ind - <span class="number">1</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;ERROR: the correct camera poses for current points cannot be accessed&#x27;</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            cams[ind-<span class="number">1</span>] = <span class="number">1</span> <span class="comment"># å°†ç¬¬kä¸ªç©ºé—´ç‚¹å¯¹åº”å›¾ç‰‡çš„index åœ¨camsåˆ—è¡¨ä¸­ç½®ä¸º1</span></span><br><span class="line">        vis_arr.append(cams) </span><br><span class="line">    <span class="comment"># pts_arr shapeï¼š num_points x 3</span></span><br><span class="line">    <span class="comment">#vis_arr shapeï¼š num_points x num_images</span></span><br><span class="line"></span><br><span class="line">    pts = np.stack(pts_arr, axis=<span class="number">0</span>) <span class="comment"># num_points x 3</span></span><br><span class="line">    pcd = trimesh.PointCloud(pts)</span><br><span class="line">    pcd.export(os.path.join(basedir, <span class="string">&#x27;sparse_points.ply&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    pts_arr = np.array(pts_arr)</span><br><span class="line">    vis_arr = np.array(vis_arr)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Points&#x27;</span>, pts_arr.shape, <span class="string">&#x27;Visibility&#x27;</span>, vis_arr.shape )</span><br><span class="line">    <span class="comment"># pose: 3 x 5 x num_images</span></span><br><span class="line">    poses = np.moveaxis(poses, -<span class="number">1</span>, <span class="number">0</span>) <span class="comment"># å°†æœ€åä¸€ä¸ªç»´åº¦ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªç»´åº¦ num_images x 3 x 5</span></span><br><span class="line">    poses = poses[perm] <span class="comment"># æŒ‰ç…§permæ’åº num_images x 3 x 5</span></span><br><span class="line">    np.save(os.path.join(basedir, <span class="string">&#x27;poses.npy&#x27;</span>), poses) <span class="comment"># num_images x 3 x 5</span></span><br></pre></td></tr></table></figure><h3 id="gen-cameras-py"><a href="#gen-cameras-py" class="headerlink" title="gen_cameras.py"></a>gen_cameras.py</h3><p>æ ¹æ®pose.npyæ–‡ä»¶å’Œsparse_points_interest.plyæ–‡ä»¶æ¥ç”Ÿæˆcameras_sphere.npz</p><ul><li>pose.npyä¸»è¦ä¿å­˜æ¯å¼ å›¾ç‰‡çš„c2wçŸ©é˜µå’Œhwf</li><li>sparse_points_interest.plyç”¨æ¥ç”Ÿæˆç›¸æœºç¼©æ”¾çŸ©é˜µï¼Œå°†æ„Ÿå…´è¶£çš„éƒ¨ä½ä¿å­˜ä¸‹æ¥</li></ul><h4 id="poseæ–‡ä»¶"><a href="#poseæ–‡ä»¶" class="headerlink" title="poseæ–‡ä»¶"></a>poseæ–‡ä»¶</h4><p>pose.ply in Miku<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702145000.png" alt="image.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">work_dir = sys.argv[<span class="number">1</span>]</span><br><span class="line">poses_hwf = np.load(os.path.join(work_dir, <span class="string">&#x27;poses.npy&#x27;</span>)) <span class="comment"># n_images, 3, 5</span></span><br><span class="line">poses_raw = poses_hwf[:, :, :<span class="number">4</span>] <span class="comment"># n_images, 3, 4</span></span><br><span class="line">hwf = poses_hwf[:, :, <span class="number">4</span>] <span class="comment"># n_images, 3</span></span><br><span class="line">pose = np.diag([<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>]) <span class="comment"># 4, 4 å¯¹è§’çº¿ä¸º1ï¼Œå…¶ä½™ä¸º0</span></span><br><span class="line">pose[:<span class="number">3</span>, :<span class="number">4</span>] = poses_raw[<span class="number">0</span>] <span class="comment"># 3, 4 ï¼Œ pose: 4, 4</span></span><br><span class="line">pts = []</span><br><span class="line"><span class="comment"># ä¸‹é¢å››å¥æ˜¯å°†ç›¸æœºåæ ‡ç³»çš„å››ä¸ªç‚¹è½¬æ¢åˆ°ä¸–ç•Œåæ ‡ç³»</span></span><br><span class="line"><span class="comment"># ä¸–ç•Œåæ ‡ç³»ä¸‹ åŸç‚¹ï¼Œxè½´ï¼Œyè½´ï¼Œzè½´</span></span><br><span class="line">pts.append((pose @ np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>])[:, <span class="literal">None</span>]).squeeze()[:<span class="number">3</span>]) <span class="comment"># 4, 1 -&gt; 4 -&gt; 3</span></span><br><span class="line">pts.append((pose @ np.array([<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>])[:, <span class="literal">None</span>]).squeeze()[:<span class="number">3</span>])</span><br><span class="line">pts.append((pose @ np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>])[:, <span class="literal">None</span>]).squeeze()[:<span class="number">3</span>])</span><br><span class="line">pts.append((pose @ np.array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>])[:, <span class="literal">None</span>]).squeeze()[:<span class="number">3</span>])</span><br><span class="line">pts = np.stack(pts, axis=<span class="number">0</span>)</span><br><span class="line">pcd = trimesh.PointCloud(pts)</span><br><span class="line">pcd.export(os.path.join(work_dir, <span class="string">&#x27;pose.ply&#x27;</span>))</span><br></pre></td></tr></table></figure><h4 id="ä¸¤ä¸ªçŸ©é˜µ"><a href="#ä¸¤ä¸ªçŸ©é˜µ" class="headerlink" title="ä¸¤ä¸ªçŸ©é˜µ"></a>ä¸¤ä¸ªçŸ©é˜µ</h4><p><strong>world_mat_{i}:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">h, w, f = hwf[i, <span class="number">0</span>], hwf[i, <span class="number">1</span>], hwf[i, <span class="number">2</span>]</span><br><span class="line">intrinsic = np.diag([f, f, <span class="number">1.0</span>, <span class="number">1.0</span>]).astype(np.float32)</span><br><span class="line">intrinsic[<span class="number">0</span>, <span class="number">2</span>] = (w - <span class="number">1</span>) * <span class="number">0.5</span></span><br><span class="line">intrinsic[<span class="number">1</span>, <span class="number">2</span>] = (h - <span class="number">1</span>) * <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">intrinsic = </span><br><span class="line">[[ focal,  <span class="number">0.</span>       ,   (w-<span class="number">1</span>)/<span class="number">2</span>  , <span class="number">0</span> ]</span><br><span class="line">[ <span class="number">0.</span>  ,       focal ,   (h-<span class="number">1</span>)/<span class="number">2</span>   , <span class="number">0</span>]</span><br><span class="line">[ <span class="number">0.</span>  ,       <span class="number">0.</span>      ,   <span class="number">1.</span>            , <span class="number">0</span>]</span><br><span class="line">[ <span class="number">0.</span>  ,       <span class="number">0.</span>      ,   <span class="number">0.</span>            , <span class="number">1.</span> ]]</span><br><span class="line">np.float32</span><br><span class="line"></span><br><span class="line">convert_mat = np.zeros([<span class="number">4</span>, <span class="number">4</span>], dtype=np.float32)</span><br><span class="line">convert_mat[<span class="number">0</span>, <span class="number">1</span>] = <span class="number">1.0</span></span><br><span class="line">convert_mat[<span class="number">1</span>, <span class="number">0</span>] = <span class="number">1.0</span></span><br><span class="line">convert_mat[<span class="number">2</span>, <span class="number">2</span>] =-<span class="number">1.0</span></span><br><span class="line">convert_mat[<span class="number">3</span>, <span class="number">3</span>] = <span class="number">1.0</span></span><br><span class="line">pose = np.diag([<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>]).astype(np.float32)</span><br><span class="line">pose[:<span class="number">3</span>, :<span class="number">4</span>] = poses_raw[i]</span><br><span class="line"></span><br><span class="line">pose = </span><br><span class="line">[[r1,        r2       ,  r3            ,  tx]</span><br><span class="line">[ r1 ,       r2      ,   r3             , ty]</span><br><span class="line">[ r1 ,       r2      ,   r3             , tz]</span><br><span class="line">[ <span class="number">0.</span>  ,       <span class="number">0.</span>      ,   <span class="number">0.</span>            , <span class="number">1.</span> ]]</span><br><span class="line">convert_mat =</span><br><span class="line">[[<span class="number">0.</span>,      <span class="number">1.</span>      ,  <span class="number">0</span>           , <span class="number">0</span>]</span><br><span class="line">[<span class="number">1.</span>,       <span class="number">0.</span>       ,  <span class="number">0</span>            , <span class="number">0</span>]</span><br><span class="line">[<span class="number">0.</span>,       <span class="number">0.</span>       ,  -<span class="number">1.</span>          , <span class="number">0</span>]</span><br><span class="line">[<span class="number">0.</span>,       <span class="number">0.</span>       ,  <span class="number">0</span>            , <span class="number">1.</span>]]</span><br><span class="line">np.float32</span><br><span class="line"></span><br><span class="line">pose = pose @ convert_mat</span><br><span class="line"></span><br><span class="line">pose = </span><br><span class="line">[[r2,        r1       ,  -r3            ,  tx]</span><br><span class="line">[ r2 ,       r1      ,   -r3             , ty]</span><br><span class="line">[ r2 ,       r1      ,   -r3             , tz]</span><br><span class="line">[ <span class="number">0.</span>  ,       <span class="number">0.</span>      ,   <span class="number">0.</span>            , <span class="number">1.</span> ]]</span><br><span class="line"></span><br><span class="line">w2c = np.linalg.inv(pose)</span><br><span class="line"></span><br><span class="line"><span class="comment"># world_mat is w2pixel</span></span><br><span class="line">world_mat = intrinsic @ w2c</span><br><span class="line">world_mat = world_mat.astype(np.float32)</span><br></pre></td></tr></table></figure><p>poseè¦ä¹˜ä»¥covert_matæ˜¯å› ä¸ºåœ¨load_colmap_dataæ—¶å¯¹poseè¿›è¡Œäº†ç¿»è½¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># must switch to [-u, r, -t] from [r, -u, t], NOT [r, u, -t]</span></span><br><span class="line">poses = np.concatenate([poses[:, <span class="number">1</span>:<span class="number">2</span>, :], poses[:, <span class="number">0</span>:<span class="number">1</span>, :], -poses[:, <span class="number">2</span>:<span class="number">3</span>, :], poses[:, <span class="number">3</span>:<span class="number">4</span>, :], poses[:, <span class="number">4</span>:<span class="number">5</span>, :]], <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><strong>scale_mat_{i}:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pcd = trimesh.load(os.path.join(work_dir, <span class="string">&#x27;sparse_points_interest.ply&#x27;</span>))</span><br><span class="line">vertices = pcd.vertices</span><br><span class="line">bbox_max = np.<span class="built_in">max</span>(vertices, axis=<span class="number">0</span>) </span><br><span class="line">bbox_min = np.<span class="built_in">min</span>(vertices, axis=<span class="number">0</span>)</span><br><span class="line">center = (bbox_max + bbox_min) * <span class="number">0.5</span></span><br><span class="line">radius = np.linalg.norm(vertices - center, <span class="built_in">ord</span>=<span class="number">2</span>, axis=-<span class="number">1</span>).<span class="built_in">max</span>()</span><br><span class="line">scale_mat = np.diag([radius, radius, radius, <span class="number">1.0</span>]).astype(np.float32)</span><br><span class="line">scale_mat[:<span class="number">3</span>, <span class="number">3</span>] = center</span><br></pre></td></tr></table></figure><h2 id="interpolate-view"><a href="#interpolate-view" class="headerlink" title="interpolate_view"></a>interpolate_view</h2><p>ç”Ÿæˆä¸€ä¸ªè§†é¢‘ï¼Œä»img_idx_0ä¸­é—´æ’å€¼ç”Ÿæˆæ–°è§†å›¾çš„å›¾ç‰‡ï¼Œè¿‡æ¸¡åˆ°img_idx_1ï¼Œç„¶åå†å›åˆ°img_idx_0ï¼Œå…±2sï¼Œ60frames</p><p>eg: 0 to 38 render video</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/00300000_0_38.gif" alt="00300000_0_38.gif"></p><p>æ’å€¼ï¼š$ratio = \frac{\sin{\left(\frac{i}{frames}-0.5 \right)\cdot \pi}}{2}+\frac{1}{2} = 0.5 \rightarrow 1 \rightarrow 0.5$ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">interpolate_view</span>(<span class="params">self, img_idx_0, img_idx_1</span>):</span><br><span class="line">    images = []</span><br><span class="line">    n_frames = <span class="number">60</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_frames):</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">        images.append(self.render_novel_image(img_idx_0,</span><br><span class="line">                                              img_idx_1,</span><br><span class="line">                                              np.sin(((i / n_frames) - <span class="number">0.5</span>) * np.pi) * <span class="number">0.5</span> + <span class="number">0.5</span>,</span><br><span class="line">                      resolution_level=<span class="number">4</span>))</span><br><span class="line">    <span class="comment"># åšå‡ºäº†è§†é¢‘åƒæ˜¯å¾ªç¯çš„æ•ˆæœ</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n_frames):</span><br><span class="line">        images.append(images[n_frames - i - <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    fourcc = cv.VideoWriter_fourcc(*<span class="string">&#x27;mp4v&#x27;</span>)</span><br><span class="line">    video_dir = os.path.join(self.base_exp_dir, <span class="string">&#x27;render&#x27;</span>)</span><br><span class="line">    os.makedirs(video_dir, exist_ok=<span class="literal">True</span>)</span><br><span class="line">    h, w, _ = images[<span class="number">0</span>].shape</span><br><span class="line">    writer = cv.VideoWriter(os.path.join(video_dir,</span><br><span class="line">                                         <span class="string">&#x27;&#123;:0&gt;8d&#125;_&#123;&#125;_&#123;&#125;.mp4&#x27;</span>.<span class="built_in">format</span>(self.iter_step, img_idx_0, img_idx_1)),</span><br><span class="line">                            fourcc, <span class="number">30</span>, (w, h))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> image <span class="keyword">in</span> images:</span><br><span class="line">        writer.write(image)</span><br><span class="line"></span><br><span class="line">    writer.release()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">render_novel_image</span>(<span class="params">self, idx_0, idx_1, ratio, resolution_level</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Interpolate view between two cameras.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    rays_o, rays_d = self.dataset.gen_rays_between(idx_0, idx_1, ratio, resolution_level=resolution_level)</span><br><span class="line">    H, W, _ = rays_o.shape</span><br><span class="line">    rays_o = rays_o.reshape(-<span class="number">1</span>, <span class="number">3</span>).split(self.batch_size)</span><br><span class="line">    rays_d = rays_d.reshape(-<span class="number">1</span>, <span class="number">3</span>).split(self.batch_size)</span><br><span class="line"></span><br><span class="line">    out_rgb_fine = []</span><br><span class="line">    <span class="keyword">for</span> rays_o_batch, rays_d_batch <span class="keyword">in</span> <span class="built_in">zip</span>(rays_o, rays_d):</span><br><span class="line">        near, far = self.dataset.near_far_from_sphere(rays_o_batch, rays_d_batch)</span><br><span class="line">        background_rgb = torch.ones([<span class="number">1</span>, <span class="number">3</span>]) <span class="keyword">if</span> self.use_white_bkgd <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        render_out = self.renderer.render(rays_o_batch,</span><br><span class="line">                                          rays_d_batch,</span><br><span class="line">                                          near,</span><br><span class="line">                                          far,</span><br><span class="line">                                          cos_anneal_ratio=self.get_cos_anneal_ratio(),</span><br><span class="line">                                          background_rgb=background_rgb)</span><br><span class="line"></span><br><span class="line">        out_rgb_fine.append(render_out[<span class="string">&#x27;color_fine&#x27;</span>].detach().cpu().numpy())</span><br><span class="line"></span><br><span class="line">        <span class="keyword">del</span> render_out</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">gen_rays_between</span>(<span class="params">self, idx_0, idx_1, ratio, resolution_level=<span class="number">1</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Interpolate pose between two cameras.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    l = resolution_level <span class="comment"># 4</span></span><br><span class="line">    tx = torch.linspace(<span class="number">0</span>, self.W - <span class="number">1</span>, self.W // l)</span><br><span class="line">    ty = torch.linspace(<span class="number">0</span>, self.H - <span class="number">1</span>, self.H // l)</span><br><span class="line">    pixels_x, pixels_y = torch.meshgrid(tx, ty)</span><br><span class="line">    p = torch.stack([pixels_x, pixels_y, torch.ones_like(pixels_y)], dim=-<span class="number">1</span>)  <span class="comment"># W, H, 3</span></span><br><span class="line">    p = torch.matmul(self.intrinsics_all_inv[<span class="number">0</span>, <span class="literal">None</span>, <span class="literal">None</span>, :<span class="number">3</span>, :<span class="number">3</span>], p[:, :, :, <span class="literal">None</span>]).squeeze()  <span class="comment"># W, H, 3</span></span><br><span class="line">    rays_v = p / torch.linalg.norm(p, <span class="built_in">ord</span>=<span class="number">2</span>, dim=-<span class="number">1</span>, keepdim=<span class="literal">True</span>)  <span class="comment"># W, H, 3</span></span><br><span class="line">    trans = self.pose_all[idx_0, :<span class="number">3</span>, <span class="number">3</span>] * (<span class="number">1.0</span> - ratio) + self.pose_all[idx_1, :<span class="number">3</span>, <span class="number">3</span>] * ratio</span><br><span class="line">    pose_0 = self.pose_all[idx_0].detach().cpu().numpy()</span><br><span class="line">    pose_1 = self.pose_all[idx_1].detach().cpu().numpy()</span><br><span class="line">    pose_0 = np.linalg.inv(pose_0)</span><br><span class="line">    pose_1 = np.linalg.inv(pose_1)</span><br><span class="line">    rot_0 = pose_0[:<span class="number">3</span>, :<span class="number">3</span>]</span><br><span class="line">    rot_1 = pose_1[:<span class="number">3</span>, :<span class="number">3</span>]</span><br><span class="line">    rots = Rot.from_matrix(np.stack([rot_0, rot_1]))</span><br><span class="line">    key_times = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">    slerp = Slerp(key_times, rots)</span><br><span class="line">    rot = slerp(ratio)</span><br><span class="line">    pose = np.diag([<span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>, <span class="number">1.0</span>])</span><br><span class="line">    pose = pose.astype(np.float32)</span><br><span class="line">    pose[:<span class="number">3</span>, :<span class="number">3</span>] = rot.as_matrix()</span><br><span class="line">    pose[:<span class="number">3</span>, <span class="number">3</span>] = ((<span class="number">1.0</span> - ratio) * pose_0 + ratio * pose_1)[:<span class="number">3</span>, <span class="number">3</span>]</span><br><span class="line">    pose = np.linalg.inv(pose)</span><br><span class="line">    rot = torch.from_numpy(pose[:<span class="number">3</span>, :<span class="number">3</span>]).cuda()</span><br><span class="line">    trans = torch.from_numpy(pose[:<span class="number">3</span>, <span class="number">3</span>]).cuda()</span><br><span class="line">    rays_v = torch.matmul(rot[<span class="literal">None</span>, <span class="literal">None</span>, :<span class="number">3</span>, :<span class="number">3</span>], rays_v[:, :, :, <span class="literal">None</span>]).squeeze()  <span class="comment"># W, H, 3</span></span><br><span class="line">    rays_o = trans[<span class="literal">None</span>, <span class="literal">None</span>, :<span class="number">3</span>].expand(rays_v.shape)  <span class="comment"># W, H, 3</span></span><br><span class="line">    <span class="keyword">return</span> rays_o.transpose(<span class="number">0</span>, <span class="number">1</span>), rays_v.transpose(<span class="number">0</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> Python </tag>
            
            <tag> Neus </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>InstantNGP</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/NeRF-InstantNGP/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/Efficiency/NeRF-InstantNGP/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Instant Neural Graphics Primitives with a Multiresolution Hash Encoding</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://tom94.net/">Thomas MÃ¼ller</a>    <a href="https://research.nvidia.com/person/alex-evans">Alex Evans</a> <a href="https://research.nvidia.com/person/christoph-schied">Christoph Schied</a> <a href="https://research.nvidia.com/person/alex-keller">Alexander Keller</a></td></tr><tr><td>Conf/Jour</td><td>ACM Transactions on Graphics (SIGGRAPH 2022)</td></tr><tr><td>Year</td><td>2022</td></tr><tr><td>Project</td><td><a href="https://nvlabs.github.io/instant-ngp/">Instant Neural Graphics Primitives with a Multiresolution Hash Encoding (nvlabs.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4667039735068246017&amp;noteId=1702708284370548992">Instant Neural Graphics Primitives with a Multiresolution Hash Encoding (readpaper.com)</a></td></tr></tbody></table></div><p><strong>å“ˆå¸Œå‡½æ•°åœ¨cuda(cuda c++)ä¸­è¿›è¡Œç¼–ç¨‹</strong>ï¼Œä¸éœ€æ·±æŒ–å…·ä½“ä»£ç ï¼Œåˆå­¦åªéœ€ç†è§£å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç æ€æƒ³ã€‚i.e.ç›®å‰åªéœ€è¦å­¦ä¼šä½¿ç”¨tiny-cuda-nnå³å¯ï¼š<a href="https://github.com/nvlabs/tiny-cuda-nn#pytorch-extension">NVlabs/tiny-cuda-nn: Lightning fast C++/CUDA neural network framework (github.com)</a></p><p><strong>å“ˆå¸Œç¼–ç æ€æƒ³ï¼š</strong><br>å“ˆå¸Œç¼–ç åçš„è¾“å‡ºå€¼çš„æ•°é‡ä¸L(åˆ†è¾¨ç‡æ•°é‡)ã€F(ç‰¹å¾å‘é‡ç»´åº¦)æœ‰å…³ï¼Œeg: L=16,F=2ï¼Œåˆ™è¾“å…¥ä¸€ä¸ªåæ ‡xyzï¼Œæ ¹æ®å¤šåˆ†è¾¨ç‡ä½“ç´ ç½‘æ ¼ï¼Œæ’å€¼å‡ºæ¥Lä¸ªç‰¹å¾å€¼ï¼Œæ¯ä¸ªç‰¹å¾å€¼ç»´åº¦ä¸º2ï¼Œå› æ­¤è¾“å‡ºå€¼çš„ç»´åº¦ä¸º32</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703160333.png" alt="image.png"></p><script type="math/tex; mode=display">\begin{aligned}N_{l} & :=\left\lfloor N_{\mathrm{min}}\cdot b^{l}\right\rfloor,  \\&b:=\exp\left(\frac{\ln N_{\mathrm{max}}-\ln N_{\mathrm{min}}}{L-1}\right).\end{aligned}</script><p>Lä¸ºåˆ†è¾¨ç‡æ•°é‡ï¼Œlä¸ºåˆ†è¾¨ç‡åºå·ã€‚ç¤ºä¾‹ä¸­L=2ï¼Œ$N_{0}= N_{min} =2$ , $N_{1}= N_{max}= 3$ , $b = \frac{3}{2}$</p><ul><li>Lï¼šå¤šåˆ†è¾¨ç‡</li><li>Tï¼šæ¯ä¸ªåˆ†è¾¨ç‡ä¸‹æœ‰Tä¸ªç‰¹å¾å‘é‡</li><li>Fï¼šç‰¹å¾å‘é‡çš„ç»´åº¦</li><li>æœ€å°å’Œæœ€å¤§åˆ†è¾¨ç‡ï¼š$N_{min} , N_{max}$</li><li>bï¼šæ¯ä¸ªlevelçš„ç¼©æ”¾per_level_scale $b= e^{\frac{ln(\frac{N_{max}}{N_{min}})}{L-1}}$</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703160145.png" alt="image.png"></p><span id="more"></span><h1 id="æ”¹è¿›ä¹‹å¤„"><a href="#æ”¹è¿›ä¹‹å¤„" class="headerlink" title="æ”¹è¿›ä¹‹å¤„"></a>æ”¹è¿›ä¹‹å¤„</h1><p>InstantNGPé€šè¿‡<a href="#å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ">å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç </a>åŠ é€Ÿäº†å¯¹ç‰¹å¾å€¼çš„æŸ¥æ‰¾ï¼Œå‡å°‘äº†å¯¹ç©ºç™½ç©ºé—´çš„è®¿é—®</p><div class="table-container"><table><thead><tr><th>å¯¹æ¯”</th><th>NeRF</th><th>InstantNGP</th></tr></thead><tbody><tr><td>ç¼–ç </td><td>é¢‘ç‡ç¼–ç </td><td>å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç </td></tr><tr><td>èµ„æº</td><td>å…¨è¿æ¥ç¥ç»ç½‘ç»œï¼ŒMLPï¼Œè®­ç»ƒå’Œè¯„ä¼°èŠ±è´¹å¤§</td><td>é‡‡ç”¨å¤šåŠŸèƒ½çš„æ–°è¾“å…¥ç¼–ç å’Œåœ¨ä¸ç‰ºç‰²è´¨é‡çš„å‰æä¸‹æ›´å°çš„ç½‘ç»œï¼Œå‡å°‘äº†èµ„æºèŠ±è´¹</td></tr><tr><td>é€Ÿåº¦</td><td>å¾ˆæ…¢</td><td>å®ç°äº†å‡ ä¸ªæ•°é‡çº§çš„æé€Ÿ</td></tr></tbody></table></div><p>ç¼–ç å¯è§†åŒ–(nerfstudio)ï¼š<a href="https://docs.nerf.studio/en/latest/nerfology/model_components/visualize_encoders.html">Field Encoders - nerfstudio</a></p><ul><li>æˆ‘ä»¬é€šè¿‡ä¸€ç§é€šç”¨çš„æ–°è¾“å…¥ç¼–ç æ¥é™ä½è¿™ç§æˆæœ¬ï¼Œè¿™ç§ç¼–ç å…è®¸åœ¨ä¸ç‰ºç‰²è´¨é‡çš„æƒ…å†µä¸‹ä½¿ç”¨æ›´å°çš„ç½‘ç»œï¼Œä»è€Œæ˜¾è‘—å‡å°‘æµ®ç‚¹æ•°å’Œå†…å­˜è®¿é—®æ“ä½œçš„æ•°é‡:ä¸€ä¸ªå°çš„ç¥ç»ç½‘ç»œé€šè¿‡ä¸€ä¸ªå¤šåˆ†è¾¨ç‡çš„å¯è®­ç»ƒç‰¹å¾å‘é‡å“ˆå¸Œè¡¨æ¥å¢å¼ºï¼Œè¿™äº›ç‰¹å¾å‘é‡çš„å€¼é€šè¿‡éšæœºæ¢¯åº¦ä¸‹é™è¿›è¡Œä¼˜åŒ–ã€‚å¤šåˆ†è¾¨ç‡ç»“æ„å…è®¸ç½‘ç»œæ¶ˆé™¤å“ˆå¸Œå†²çªçš„æ­§ä¹‰ï¼Œä½¿å¾—ä¸€ä¸ªç®€å•çš„æ¶æ„åœ¨ç°ä»£gpuä¸Šå¹¶è¡ŒåŒ–æ˜¯å¾®ä¸è¶³é“çš„ï¼Œä½¿ç”¨å®Œå…¨èåˆçš„CUDAå†…æ ¸å®ç°æ•´ä¸ªç³»ç»Ÿæ¥åˆ©ç”¨è¿™ç§å¹¶è¡Œæ€§ï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘æµªè´¹çš„å¸¦å®½å’Œè®¡ç®—æ“ä½œ</li><li><p>æˆ‘ä»¬å®ç°äº†å‡ ä¸ªæ•°é‡çº§çš„ç»¼åˆåŠ é€Ÿï¼Œèƒ½å¤Ÿåœ¨å‡ ç§’é’Ÿå†…è®­ç»ƒé«˜è´¨é‡çš„ç¥ç»å›¾å½¢åŸè¯­neural graphics primitivesï¼Œå¹¶åœ¨å‡ åæ¯«ç§’å†…ä»¥1920Ã—1080çš„åˆ†è¾¨ç‡è¿›è¡Œæ¸²æŸ“ã€‚</p></li><li><p>å…³é”®è¯ï¼šå¤§è§„æ¨¡å¹¶è¡Œç®—æ³•;çŸ¢é‡/æµç®—æ³•;ç¥ç»ç½‘ç»œã€‚(Massively parallel algorithms; Vector / streaming algorithms; Neural networks.)</p><ul><li>å…¶ä»–å…³é”®è¯å’ŒçŸ­è¯­:å›¾åƒåˆæˆï¼Œç¥ç»ç½‘ç»œï¼Œç¼–ç ï¼Œå“ˆå¸Œï¼Œgpuï¼Œå¹¶è¡Œè®¡ç®—ï¼Œå‡½æ•°é€¼è¿‘ã€‚(Image Synthesis, Neural Networks, Encodings, Hashing, GPUs, Parallel Computation, Function Approximation.)</li></ul></li></ul><h1 id="INTRODUCTION"><a href="#INTRODUCTION" class="headerlink" title="INTRODUCTION"></a>INTRODUCTION</h1><p>è®¡ç®—æœºå›¾å½¢åŸè¯­åŸºæœ¬ä¸Šæ˜¯ç”±å‚æ•°åŒ–å¤–è§‚çš„æ•°å­¦å‡½æ•°è¡¨ç¤ºçš„ã€‚æ•°å­¦è¡¨ç¤ºçš„è´¨é‡å’Œæ€§èƒ½ç‰¹å¾å¯¹äºè§†è§‰ä¿çœŸåº¦è‡³å…³é‡è¦:æˆ‘ä»¬å¸Œæœ›è¡¨ç¤ºåœ¨æ•è·é«˜é¢‘å±€éƒ¨ç»†èŠ‚çš„åŒæ—¶ä¿æŒå¿«é€Ÿå’Œç´§å‡‘ã€‚ç”±å¤šå±‚æ„ŸçŸ¥å™¨(mlp)è¡¨ç¤ºçš„å‡½æ•°ï¼Œç”¨ä½œç¥ç»å›¾å½¢åŸè¯­ï¼Œå·²è¢«è¯æ˜ç¬¦åˆè¿™äº›æ ‡å‡†(åœ¨ä¸åŒç¨‹åº¦ä¸Š)</p><p>è¿™äº›æ–¹æ³•çš„é‡è¦å…±åŒç‚¹æ˜¯ç¼–ç å°†ç¥ç»ç½‘ç»œè¾“å…¥æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ï¼Œè¿™æ˜¯ä»ç´§å‡‘æ¨¡å‹ä¸­æå–é«˜è¿‘ä¼¼è´¨é‡çš„å…³é”®ã€‚è¿™äº›ç¼–ç ä¸­æœ€æˆåŠŸçš„æ˜¯å¯è®­ç»ƒçš„ã€ç‰¹å®šäºä»»åŠ¡çš„æ•°æ®ç»“æ„ï¼š<a href="https://readpaper.com/paper/3044538714">Neural Sparse Voxel Fields</a>ï¼Œ<a href="https://readpaper.com/paper/3121736960">Neural Geometric Level of Detail: Real-time Rendering with Implicit 3D Shapes</a>æ‰¿æ‹…äº†å¾ˆå¤§ä¸€éƒ¨åˆ†å­¦ä¹ ä»»åŠ¡ã€‚è¿™ä½¿å¾—ä½¿ç”¨æ›´å°ã€æ›´é«˜æ•ˆçš„mlpæˆä¸ºå¯èƒ½ã€‚ç„¶è€Œï¼Œè¿™ç§æ•°æ®ç»“æ„ä¾èµ–äºå¯å‘å¼æ–¹æ³•å’Œç»“æ„ä¿®æ”¹(å¦‚å‰ªæã€åˆ†å‰²æˆ–åˆå¹¶)ï¼Œè¿™å¯èƒ½ä¼šä½¿è®­ç»ƒè¿‡ç¨‹å¤æ‚åŒ–ï¼Œå°†æ–¹æ³•é™åˆ¶åœ¨ç‰¹å®šçš„ä»»åŠ¡ä¸Šï¼Œæˆ–è€…é™åˆ¶gpuä¸Šçš„æ€§èƒ½ï¼Œå› ä¸ºæ§åˆ¶æµå’ŒæŒ‡é’ˆè¿½è¸ªæ˜¯æ˜‚è´µçš„ã€‚</p><p>æˆ‘ä»¬é€šè¿‡å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç æ¥è§£å†³è¿™äº›é—®é¢˜ï¼Œè¯¥ç¼–ç å…·æœ‰è‡ªé€‚åº”æ€§å’Œé«˜æ•ˆæ€§ï¼Œå¹¶ä¸”ä¸ä»»åŠ¡æ— å…³ã€‚å®ƒä»…é€šè¿‡ä¸¤ä¸ªå€¼è¿›è¡Œé…ç½®â€”â€”å‚æ•°æ•°é‡ğ‘‡å’Œæ‰€éœ€çš„æœ€é«˜åˆ†è¾¨ç‡ğ‘maxï¼Œåœ¨ç»è¿‡å‡ ç§’é’Ÿçš„è®­ç»ƒåï¼Œåœ¨å„ç§ä»»åŠ¡ä¸­èƒ½å¤Ÿè¾¾åˆ°æœ€å…ˆè¿›çš„è´¨é‡ï¼š</p><ul><li>Gigapixel image: MLPå­¦ä¹ ä»2Dåæ ‡åˆ°é«˜åˆ†è¾¨ç‡å›¾åƒçš„RGBé¢œè‰²çš„æ˜ å°„ã€‚</li><li>SDF: MLPå­¦ä¹ ä»ä¸‰ç»´åæ ‡åˆ°è¡¨é¢è·ç¦»çš„æ˜ å°„ã€‚</li><li>NRC: MLPä»è’™ç‰¹å¡ç½—è·¯å¾„è·Ÿè¸ªå™¨ä¸­å­¦ä¹ ç»™å®šåœºæ™¯çš„5Då…‰åœºã€‚</li><li>NeRF: MLPä»å›¾åƒè§‚æµ‹å’Œç›¸åº”çš„é€è§†å˜æ¢ä¸­å­¦ä¹ ç»™å®šåœºæ™¯çš„3Då¯†åº¦å’Œ5Då…‰åœº</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703152512.png" alt="image.png"></p><p>åŒæ—¶å®ç°ä»»åŠ¡æ— å…³çš„é€‚åº”æ€§å’Œæ•ˆç‡çš„å…³é”®æ˜¯å¤šåˆ†è¾¨ç‡å“ˆå¸Œè¡¨å±‚æ¬¡ç»“æ„ï¼š</p><ul><li>é€‚åº”æ€§:æˆ‘ä»¬å°†ä¸€ç³»åˆ—çš„ç½‘æ ¼æ˜ å°„åˆ°å¯¹åº”çš„å›ºå®šå¤§å°çš„ç‰¹å¾å‘é‡æ•°ç»„ã€‚åœ¨ç²—åˆ†è¾¨ç‡ä¸‹ï¼Œç½‘æ ¼ç‚¹ä¸æ•°ç»„æ¡ç›®ä¹‹é—´å­˜åœ¨ä¸€å¯¹ä¸€çš„æ˜ å°„å…³ç³»ã€‚åœ¨ç»†åˆ†è¾¨ç‡ä¸‹ï¼Œæ•°ç»„è¢«è§†ä¸ºå“ˆå¸Œè¡¨ï¼Œå¹¶ä½¿ç”¨ç©ºé—´å“ˆå¸Œå‡½æ•°è¿›è¡Œç´¢å¼•ï¼Œå¤šä¸ªç½‘æ ¼ç‚¹ä¼šä¸åŒä¸€æ•°ç»„æ¡ç›®é‡å ã€‚è¿™ç§å“ˆå¸Œç¢°æ’å¯¼è‡´ç¢°æ’çš„è®­ç»ƒæ¢¯åº¦å–å¹³å‡å€¼ï¼Œæ„å‘³ç€æœ€å¤§çš„æ¢¯åº¦â€”â€”ä¸æŸå¤±å‡½æ•°æœ€ç›¸å…³çš„æ¢¯åº¦å°†å ä¸»å¯¼åœ°ä½ã€‚å› æ­¤ï¼Œå“ˆå¸Œè¡¨ä¼šè‡ªåŠ¨ä¼˜å…ˆè€ƒè™‘å…·æœ‰æœ€é‡è¦ç»†èŠ‚çš„ç¨€ç–åŒºåŸŸã€‚ä¸ä»¥å‰çš„æ–¹æ³•ä¸åŒï¼Œè®­ç»ƒè¿‡ç¨‹ä¸­ä¸éœ€è¦å¯¹æ•°æ®ç»“æ„è¿›è¡Œä»»ä½•ç»“æ„æ›´æ–°ã€‚</li><li>æ•ˆç‡:æˆ‘ä»¬çš„å“ˆå¸Œè¡¨æŸ¥æ‰¾æ˜¯O(1)ï¼Œä¸éœ€è¦æ§åˆ¶æµã€‚è¿™å¾ˆå¥½åœ°æ˜ å°„åˆ°ç°ä»£gpuï¼Œé¿å…äº†æ‰§è¡Œåˆ†æ­§å’Œæ ‘éå†ä¸­å›ºæœ‰çš„ä¸²è¡ŒæŒ‡é’ˆè¿½é€ã€‚æ‰€æœ‰åˆ†è¾¨ç‡çš„å“ˆå¸Œè¡¨éƒ½å¯ä»¥å¹¶è¡ŒæŸ¥è¯¢ã€‚</li></ul><h1 id="å…ˆå‰çš„ç¼–ç æ–¹å¼-BACKGROUND-AND-RELATED-WORK"><a href="#å…ˆå‰çš„ç¼–ç æ–¹å¼-BACKGROUND-AND-RELATED-WORK" class="headerlink" title="å…ˆå‰çš„ç¼–ç æ–¹å¼(BACKGROUND AND RELATED WORK)"></a>å…ˆå‰çš„ç¼–ç æ–¹å¼(BACKGROUND AND RELATED WORK)</h1><p>ç¼–ç çš„å¥½å¤„ï¼šé«˜é¢‘çš„è¾“å…¥å¯ä»¥é‡å»ºå‡ºå›¾ç‰‡çš„é«˜é¢‘ä¿¡æ¯</p><ul><li><p>å°†æœºå™¨å­¦ä¹ æ¨¡å‹çš„è¾“å…¥ç¼–ç åˆ°é«˜ç»´ç©ºé—´çš„æ—©æœŸç¤ºä¾‹åŒ…æ‹¬ç‹¬çƒ­ç¼–ç one-hot encoding(Harriså’ŒHarris 2013)å’Œæ ¸æŠ€å·§kernel trick(Theodoridis 2008)ï¼Œé€šè¿‡è¿™äº›æ–¹æ³•å¯ä»¥ä½¿æ•°æ®çš„å¤æ‚æ’åˆ—çº¿æ€§å¯åˆ†ã€‚</p></li><li><p>é¢‘ç‡ç¼–ç ï¼šå¯¹äºç¥ç»ç½‘ç»œè€Œè¨€ï¼Œåœ¨å¾ªç¯ç»“æ„çš„æ³¨æ„åŠ›ç»„ä»¶(Gehringç­‰äººï¼Œ2017)å’Œéšåçš„å˜æ¢å™¨(Vaswaniç­‰äººï¼Œ2017)ä¸­ï¼Œè¾“å…¥ç¼–ç è¢«è¯æ˜åœ¨å¸®åŠ©ç¥ç»ç½‘ç»œè¯†åˆ«å½“å‰æ­£åœ¨å¤„ç†çš„ä½ç½®æ–¹é¢éå¸¸æœ‰ç”¨ã€‚ Vaswaniç­‰äºº(2017)å°†æ ‡é‡ä½ç½®ğ‘¥ âˆˆ Rç¼–ç ä¸ºğ¿ âˆˆ Næ­£å¼¦å’Œä½™å¼¦å‡½æ•°çš„å¤šåˆ†è¾¨ç‡åºåˆ—ã€‚</p></li></ul><script type="math/tex; mode=display">\begin{aligned}\operatorname{enc}(x)=\left(\begin{matrix}\sin(2^0x),\sin(2^1x),\ldots,\sin(2^{L-1}x),\\\cos(2^0x),\cos(2^1x),\ldots,\cos(2^{L-1}x)\end{matrix}\right).\end{aligned}</script><p>è¿™å·²ç»è¢«åº”ç”¨äºè®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œç”¨äºåœ¨NeRFç®—æ³•ä¸­å¯¹ç©ºé—´æ–¹å‘å˜åŒ–çš„å…‰åœºå’Œä½“å¯†åº¦è¿›è¡Œç¼–ç (Mildenhallç­‰äººï¼Œ2020)ã€‚è¿™ä¸ªå…‰åœºçš„äº”ä¸ªç»´åº¦ä½¿ç”¨ä¸Šè¿°å…¬å¼ç‹¬ç«‹åœ°è¿›è¡Œç¼–ç ï¼›åæ¥å°†å…¶æ‰©å±•åˆ°äº†éšæœºå®šå‘çš„å¹³è¡Œæ³¢å‰(Tancikç­‰äººï¼Œ2020)å’Œç»†èŠ‚çº§åˆ«è¿‡æ»¤(Barronç­‰äººï¼Œ2021a)ã€‚æˆ‘ä»¬å°†è¿™ä¸ªç¼–ç å®¶æ—ç§°ä¸ºé¢‘ç‡ç¼–ç ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé¢‘ç‡ç¼–ç åè·Ÿçº¿æ€§å˜æ¢å·²ç»åœ¨å…¶ä»–è®¡ç®—æœºå›¾å½¢å­¦ä»»åŠ¡ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚é€¼è¿‘å¯è§æ€§å‡½æ•°(Annenç­‰äººï¼Œ2007ï¼›Jansenå’ŒBavoilï¼Œ2010)ã€‚MuÌˆllerç­‰äºº(2019ï¼›2020)æå‡ºäº†ä¸€ç§åŸºäºå…‰æ …åŒ–æ ¸å¿ƒçš„è¿ç»­å˜ä½“çš„å•çƒ­ç¼–ç ï¼Œå³å•æ–‘ç‚¹ç¼–ç ï¼Œå®ƒåœ¨æœ‰ç•ŒåŸŸä¸­å¯ä»¥å®ç°æ¯”é¢‘ç‡ç¼–ç æ›´å‡†ç¡®çš„ç»“æœï¼Œä½†ä»£ä»·æ˜¯å•å°ºåº¦çš„ã€‚</p><ul><li><p>å‚æ•°åŒ–ç¼–ç : æœ€è¿‘ï¼Œå‚æ•°åŒ–ç¼–ç å–å¾—äº†æœ€å…ˆè¿›çš„ç»“æœï¼Œå®ƒä»¬æ¨¡ç³Šäº†ç»å…¸æ•°æ®ç»“æ„å’Œç¥ç»æ–¹æ³•ä¹‹é—´çš„ç•Œé™ã€‚å…¶æ€æƒ³æ˜¯åœ¨è¾…åŠ©æ•°æ®ç»“æ„ä¸­æ’åˆ—é¢å¤–çš„å¯è®­ç»ƒå‚æ•°ï¼ˆé™¤äº†æƒé‡å’Œåç½®ï¼‰ï¼Œä¾‹å¦‚ä¸€ä¸ªç½‘æ ¼(Chabraç­‰äººï¼Œ2020å¹´ï¼›Jiangç­‰äººï¼Œ2020å¹´ï¼›Liuç­‰äººï¼Œ2020å¹´ï¼›Mehtaç­‰äººï¼Œ2021å¹´ï¼›Pengç­‰äººï¼Œ2020aå¹´ï¼›Sunç­‰äººï¼Œ2021å¹´ï¼›Tangç­‰äººï¼Œ2018å¹´ï¼›Yuç­‰äººï¼Œ2021aå¹´)æˆ–ä¸€æ£µæ ‘(Takikawaç­‰äººï¼Œ2021å¹´)ï¼Œå¹¶æ ¹æ®è¾“å…¥å‘é‡x âˆˆ Rğ‘‘æŸ¥æ‰¾å¹¶ï¼ˆå¯é€‰åœ°ï¼‰æ’å€¼è¿™äº›å‚æ•°ã€‚<strong>è¿™ç§å®‰æ’ä»¥æ›´å¤§çš„å†…å­˜å ç”¨ä¸ºä»£ä»·æ¥æ¢å–è¾ƒå°çš„è®¡ç®—æˆæœ¬</strong>ï¼š<strong><em>åœ¨é€šè¿‡ç½‘ç»œå‘åä¼ æ’­çš„æ¯ä¸ªæ¢¯åº¦ä¸­ï¼Œå…¨è¿æ¥MLPç½‘ç»œä¸­çš„æ¯ä¸ªæƒé‡éƒ½å¿…é¡»æ›´æ–°ï¼Œè€Œå¯¹äºå¯è®­ç»ƒçš„è¾“å…¥ç¼–ç å‚æ•°ï¼ˆâ€ç‰¹å¾å‘é‡â€ï¼‰ï¼Œåªæœ‰å¾ˆå°‘æ•°é‡å—åˆ°å½±å“</em></strong>ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªä¸‰çº¿æ€§æ’å€¼çš„ä¸‰ç»´ç½‘æ ¼ç‰¹å¾å‘é‡ï¼Œæ¯ä¸ªæ ·æœ¬åå‘ä¼ æ’­åˆ°ç¼–ç æ—¶åªéœ€è¦æ›´æ–°8ä¸ªè¿™æ ·çš„ç½‘æ ¼ç‚¹ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå°½ç®¡å‚æ•°åŒ–ç¼–ç çš„æ€»å‚æ•°æ•°é‡æ¯”å›ºå®šè¾“å…¥ç¼–ç è¦é«˜å¾—å¤šï¼Œä½†åœ¨è®­ç»ƒæœŸé—´æ›´æ–°æ‰€éœ€çš„FLOPæ•°å’Œå†…å­˜è®¿é—®å¹¶æ²¡æœ‰æ˜¾è‘—å¢åŠ ã€‚é€šè¿‡å‡å°MLPçš„å¤§å°ï¼Œè¿™æ ·çš„å‚æ•°åŒ–æ¨¡å‹é€šå¸¸å¯ä»¥æ›´å¿«åœ°æ”¶æ•›è®­ç»ƒï¼Œè€Œä¸ä¼šç‰ºç‰²é€¼è¿‘è´¨é‡ã€‚</p><ul><li>å¦ä¸€ç§å‚æ•°åŒ–æ–¹æ³•ä½¿ç”¨äº†å¯¹åŸŸRğ‘‘çš„æ ‘ç»†åˆ†ï¼Œå…¶ä¸­ä¸€ä¸ªåä¸ºå¤§å‹è¾…åŠ©åæ ‡ç¼–ç å™¨ç¥ç»ç½‘ç»œï¼ˆACORNï¼‰(Martelç­‰äººï¼Œ2021)è¢«è®­ç»ƒç”¨äºåœ¨å›´ç»•xçš„å¶èŠ‚ç‚¹å¤„è¾“å‡ºå¯†é›†çš„ç‰¹å¾ç½‘æ ¼ã€‚è¿™äº›å¯†é›†çš„ç‰¹å¾ç½‘æ ¼å¤§çº¦æœ‰10,000ä¸ªæ¡ç›®ï¼Œç„¶åè¿›è¡Œçº¿æ€§æ’å€¼ï¼Œç±»ä¼¼äºLiuç­‰äºº2020çš„æ–¹æ³•ã€‚ä¸å…ˆå‰çš„å‚æ•°åŒ–ç¼–ç ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•å¾€å¾€èƒ½å¤Ÿäº§ç”Ÿæ›´é«˜ç¨‹åº¦çš„é€‚åº”æ€§ï¼Œä½†è®¡ç®—æˆæœ¬æ›´é«˜ï¼Œåªæœ‰å½“è¶³å¤Ÿå¤šçš„è¾“å…¥xè½å…¥æ¯ä¸ªå¶èŠ‚ç‚¹æ—¶ï¼Œæ‰èƒ½æ‘Šé”€è¿™äº›æˆæœ¬ã€‚</li></ul></li><li><p>ç¨€ç–å‚æ•°ç¼–ç ã€‚å°½ç®¡ç°æœ‰çš„å‚æ•°ç¼–ç æ¯”éå‚æ•°ç¼–ç çš„å‰èº«å…·æœ‰æ›´é«˜çš„å‡†ç¡®æ€§ï¼Œä½†å®ƒä»¬ä¹Ÿå…·æœ‰æ•ˆç‡å’Œå¤šåŠŸèƒ½æ€§çš„ç¼ºç‚¹ã€‚<strong>å¯†é›†çš„å¯è®­ç»ƒç‰¹å¾ç½‘æ ¼æ‰€å ç”¨çš„å†…å­˜æ¯”ç¥ç»ç½‘ç»œæƒé‡è¦å¤š</strong>ã€‚ä¸ºäº†è¯´æ˜æƒè¡¡å¹¶æ¿€åŠ±æˆ‘ä»¬çš„æ–¹æ³•ï¼Œå›¾2å±•ç¤ºäº†å‡ ç§ä¸åŒç¼–ç æ–¹å¼å¯¹ç¥ç»è¾å°„åœºé‡å»ºè´¨é‡çš„å½±å“ã€‚æ²¡æœ‰ä»»ä½•è¾“å…¥ç¼–ç ï¼ˆaï¼‰æ—¶ï¼Œç½‘ç»œåªèƒ½å­¦ä¹ åˆ°ä¸€ä¸ªç›¸å½“å¹³æ»‘çš„ä½ç½®å‡½æ•°ï¼Œå¯¼è‡´å¯¹å…‰åœºçš„é€¼è¿‘è¾ƒå·®ã€‚é¢‘ç‡ç¼–ç ï¼ˆbï¼‰å…è®¸ç›¸åŒä¸­ç­‰å¤§å°çš„ç½‘ç»œï¼ˆ8ä¸ªéšè—å±‚ï¼Œæ¯ä¸ªå±‚å®½åº¦ä¸º256ï¼‰æ›´å‡†ç¡®åœ°è¡¨ç¤ºåœºæ™¯ã€‚ä¸­é—´å›¾åƒï¼ˆcï¼‰å°†ä¸€ä¸ªè¾ƒå°çš„ç½‘ç»œä¸1283ä¸ªä¸‰çº¿æ€§æ’å€¼ã€16ç»´ç‰¹å¾å‘é‡çš„å¯†é›†ç½‘æ ¼é…å¯¹ï¼Œæ€»å…±æœ‰3360ä¸‡ä¸ªå¯è®­ç»ƒå‚æ•°ã€‚ç”±äºæ¯ä¸ªæ ·æœ¬ä»…å½±å“8ä¸ªç½‘æ ¼ç‚¹ï¼Œå¤§é‡çš„å¯è®­ç»ƒå‚æ•°å¯ä»¥æœ‰æ•ˆåœ°æ›´æ–°ã€‚</p><ul><li>ç„¶è€Œï¼Œå¯†é›†çš„ç½‘æ ¼åœ¨ä¸¤ä¸ªæ–¹é¢æ˜¯æµªè´¹çš„ã€‚<ul><li>é¦–å…ˆï¼Œå®ƒå°†åŒæ ·å¤šçš„ç‰¹å¾åˆ†é…ç»™ç©ºç™½åŒºåŸŸå’Œé è¿‘è¡¨é¢çš„åŒºåŸŸã€‚å‚æ•°æ•°é‡å‘ˆO(ğ‘^3)å¢é•¿ï¼Œè€Œæ„Ÿå…´è¶£çš„å¯è§è¡¨é¢çš„é¢ç§¯ä»…å‘ˆO(ğ‘^2)å¢é•¿ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç½‘æ ¼çš„åˆ†è¾¨ç‡ä¸º1283ï¼Œä½†åªæœ‰53,807ä¸ªï¼ˆ2.57%ï¼‰å•å…ƒä¸å¯è§è¡¨é¢æ¥è§¦ã€‚</li><li>å…¶æ¬¡ï¼Œè‡ªç„¶åœºæ™¯å‘ˆç°å‡ºå¹³æ»‘æ€§ï¼Œä¿ƒä½¿äººä»¬ä½¿ç”¨å¤šåˆ†è¾¨ç‡åˆ†è§£çš„æ–¹æ³•(Chibaneç­‰ï¼Œ2020å¹´; Hadadanç­‰ï¼Œ2021å¹´)ã€‚å›¾2ï¼ˆdï¼‰æ˜¾ç¤ºäº†ä½¿ç”¨ç¼–ç çš„ç»“æœï¼Œå…¶ä¸­æ’å€¼ç‰¹å¾å­˜å‚¨åœ¨åˆ†è¾¨ç‡ä»163åˆ°1733çš„å…«ä¸ªå…±ä½ç½‘æ ¼ä¸­ï¼Œæ¯ä¸ªç½‘æ ¼åŒ…å«2ç»´ç‰¹å¾å‘é‡ã€‚è¿™äº›å‘é‡è¢«è¿æ¥åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ª16ç»´ï¼ˆä¸ï¼ˆcï¼‰ç›¸åŒï¼‰çš„è¾“å…¥ç½‘ç»œã€‚å°½ç®¡å‚æ•°æ•°é‡ä¸åˆ°ï¼ˆcï¼‰çš„ä¸€åŠï¼Œä½†é‡æ„è´¨é‡ç›¸ä¼¼ã€‚</li></ul></li><li>å¦‚æœå·²ç»çŸ¥é“æ„Ÿå…´è¶£çš„è¡¨é¢ï¼Œå¯ä»¥ä½¿ç”¨è¯¸å¦‚å…«å‰æ ‘(Takikawaç­‰ï¼Œ2021å¹´)æˆ–ç¨€ç–ç½‘æ ¼(Chabraç­‰ï¼Œ2020å¹´; Chibaneç­‰ï¼Œ2020å¹´; Hadadanç­‰ï¼Œ2021å¹´; Jiangç­‰ï¼Œ2020å¹´; Liuç­‰ï¼Œ2020å¹´; Pengç­‰ï¼Œ2020aå¹´)è¿™æ ·çš„æ•°æ®ç»“æ„æ¥å‰”é™¤ç¨ å¯†ç½‘æ ¼ä¸­æœªä½¿ç”¨çš„ç‰¹å¾ã€‚ç„¶è€Œï¼Œåœ¨NeRFè®¾ç½®ä¸­ï¼Œè¡¨é¢åªåœ¨è®­ç»ƒæœŸé—´å‡ºç°ã€‚NSVF (Liuç­‰ï¼Œ2020å¹´)å’Œå…¶ä»–ä¸€äº›åŒæ—¶è¿›è¡Œçš„å·¥ä½œ(Sunç­‰ï¼Œ2021å¹´; Yuç­‰ï¼Œ2021aå¹´)é‡‡ç”¨äº†å¤šé˜¶æ®µçš„ç²—åˆ°ç»†çš„ç­–ç•¥ï¼Œé€æ¸å¯¹ç‰¹å¾ç½‘æ ¼çš„åŒºåŸŸè¿›è¡Œç»†åŒ–å’Œå‰”é™¤ã€‚è™½ç„¶è¿™ç§æ–¹æ³•æœ‰æ•ˆï¼Œä½†ä¼šå¯¼è‡´æ›´å¤æ‚çš„è®­ç»ƒè¿‡ç¨‹ï¼Œå…¶ä¸­ç¨€ç–æ•°æ®ç»“æ„å¿…é¡»å®šæœŸæ›´æ–°ã€‚</li></ul></li><li><p>å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç : æˆ‘ä»¬çš„æ–¹æ³•â€”â€”å›¾2ï¼ˆeï¼Œfï¼‰â€”â€”ç»“åˆäº†è¿™ä¸¤ä¸ªæƒ³æ³•æ¥å‡å°‘æµªè´¹ã€‚æˆ‘ä»¬å°†å¯è®­ç»ƒçš„ç‰¹å¾å‘é‡å­˜å‚¨åœ¨ä¸€ä¸ªç´§å‡‘çš„ç©ºé—´å“ˆå¸Œè¡¨ä¸­ï¼Œå…¶å¤§å°æ˜¯ä¸€ä¸ªè¶…å‚æ•°ğ‘‡ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´æ¥åœ¨å‚æ•°æ•°é‡å’Œé‡å»ºè´¨é‡ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚<strong>å®ƒæ—¢ä¸ä¾èµ–äºè®­ç»ƒè¿‡ç¨‹ä¸­çš„æ¸è¿›ä¿®å‰ªï¼Œä¹Ÿä¸ä¾èµ–äºåœºæ™¯å‡ ä½•çš„å…ˆéªŒçŸ¥è¯†</strong>ã€‚ç±»ä¼¼äºï¼ˆdï¼‰ä¸­çš„å¤šåˆ†è¾¨ç‡ç½‘æ ¼ï¼Œæˆ‘ä»¬ä½¿ç”¨å¤šä¸ªç‹¬ç«‹çš„å“ˆå¸Œè¡¨åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸Šè¿›è¡Œç´¢å¼•ï¼Œå°†å®ƒä»¬çš„æ’å€¼è¾“å‡ºè¿æ¥åœ¨ä¸€èµ·ï¼Œç„¶åé€šè¿‡MLPä¼ é€’ã€‚<strong>å°½ç®¡å‚æ•°æ•°é‡å‡å°‘äº†20å€ï¼Œä½†é‡å»ºè´¨é‡ä¸å¯†é›†ç½‘æ ¼ç¼–ç ç›¸å½“</strong>ã€‚ä¸ä»¥å‰åœ¨3Dé‡å»ºä¸­ä½¿ç”¨ç©ºé—´å“ˆå¸Œï¼ˆTeschnerç­‰ï¼Œ2003ï¼‰(NieÃŸnerç­‰ï¼Œ2013)çš„å·¥ä½œä¸åŒï¼Œæˆ‘ä»¬ä¸é€šè¿‡å…¸å‹çš„æ¢æµ‹ã€å­˜å‚¨æˆ–é“¾å¼å¤„ç†ç­‰æ‰‹æ®µæ¥æ˜ç¡®å¤„ç†å“ˆå¸Œå‡½æ•°çš„å†²çªã€‚<strong>ç›¸åï¼Œæˆ‘ä»¬ä¾é ç¥ç»ç½‘ç»œå­¦ä¹ è‡ªè¡Œæ¶ˆé™¤å“ˆå¸Œå†²çªï¼Œé¿å…äº†æ§åˆ¶æµåˆ†æ­§ï¼Œå‡å°‘äº†å®ç°å¤æ‚æ€§ï¼Œæé«˜äº†æ€§èƒ½</strong>ã€‚<strong>å¦ä¸€ä¸ªæ€§èƒ½ä¼˜åŠ¿æ˜¯å“ˆå¸Œè¡¨çš„å¯é¢„æµ‹å†…å­˜å¸ƒå±€ï¼Œå®ƒç‹¬ç«‹äºæ‰€è¡¨ç¤ºçš„æ•°æ®</strong>ã€‚å°½ç®¡åœ¨æ ‘çŠ¶æ•°æ®ç»“æ„ä¸­å¾ˆéš¾å®ç°è‰¯å¥½çš„ç¼“å­˜è¡Œä¸ºï¼Œä½†æˆ‘ä»¬çš„å“ˆå¸Œè¡¨å¯ä»¥é’ˆå¯¹ä½çº§æ¶æ„ç»†èŠ‚ï¼ˆå¦‚ç¼“å­˜å¤§å°ï¼‰è¿›è¡Œå¾®è°ƒã€‚</p></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703154529.png" alt="image.png"></p><p>å¯è®­ç»ƒå‚æ•°çš„æ•°é‡ï¼ˆMLPæƒé‡+ç¼–ç å‚æ•°ï¼‰ã€è®­ç»ƒæ—¶é—´å’Œé‡å»ºç²¾åº¦ï¼ˆPSNRï¼‰æ˜¾ç¤ºåœ¨æ¯ä¸ªå›¾åƒä¸‹æ–¹ã€‚<br>ç”±äºå‚æ•°æ›´æ–°çš„ç¨€ç–æ€§å’Œè¾ƒå°çš„MLPï¼Œæˆ‘ä»¬çš„ç¼–ç ï¼ˆeï¼‰å…·æœ‰ä¸é¢‘ç‡ç¼–ç é…ç½®ï¼ˆbï¼‰ç›¸ä¼¼çš„å¯è®­ç»ƒå‚æ•°æ€»æ•°ï¼Œè®­ç»ƒé€Ÿåº¦è¶…è¿‡8å€ã€‚å¢åŠ å‚æ•°ï¼ˆfï¼‰çš„æ•°é‡è¿›ä¸€æ­¥æé«˜äº†é‡å»ºç²¾åº¦ï¼Œè€Œä¸æ˜¾è‘—å¢åŠ è®­ç»ƒæ—¶é—´ã€‚</p><ul><li>C: å•åˆ†è¾¨ç‡ï¼Œå°†å•ä½æ­£æ–¹ä½“åˆ’åˆ†ä¸ºå¤šä¸ªå°æ­£æ–¹ä½“ï¼Œæ¯ä¸ªå°æ­£æ–¹ä½“8ä¸ªé¡¶ç‚¹ï¼Œæ¯ä¸ªé¡¶ç‚¹æœ‰ä¸€ä¸ªç‰¹å¾å€¼ï¼Œå½“è¾“å…¥ä¸€ä¸ªä¸‰ç»´åæ ‡xyzæ—¶ï¼Œä»8ä¸ªé¡¶ç‚¹ç‰¹å¾å€¼<strong>ä¸‰çº¿æ€§æ’å€¼å‡º</strong>è¾“å…¥ä¸‰ç»´åæ ‡çš„ç‰¹å¾å€¼</li><li>D: å¤šåˆ†è¾¨ç‡ï¼Œå°†å¤šä¸ªåˆ†è¾¨ç‡æ’å€¼å‡ºçš„ç‰¹å¾å€¼concatenateèµ·æ¥</li><li>E: è®¡ç®—å‡ºæ¯ä¸ªç½‘æ ¼çš„æ¯ä¸ªé¡¶ç‚¹çš„å“ˆå¸Œå€¼ï¼Œå¹¶å°†å…¶å­˜å…¥å“ˆå¸Œè¡¨ä¸­ï¼Œç”¨å“ˆå¸Œå€¼åšç´¢å¼•ï¼Œç‰¹å¾å€¼ä¸ºå†…å®¹ï¼Œè¾“å…¥çš„æ¯ä¸ªåæ ‡ï¼Œé€šè¿‡æ¯ä¸ªé¡¶ç‚¹æ‰€åœ¨ç½‘æ ¼çš„ä½ç½®ï¼Œé€šè¿‡ç‰¹å¾å€¼ä¸‰çº¿æ€§æ’å€¼å‡ºè¾“å…¥åæ ‡çš„ç‰¹å¾å€¼ï¼Œç„¶åä½œä¸ºMLPçš„è¾“å…¥</li></ul><h1 id="å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç "><a href="#å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç " class="headerlink" title="å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç "></a>å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç </h1><p>MULTIRESOLUTION HASH ENCODING</p><p>ç»™å®šä¸€ä¸ªå…¨è¿æ¥ç¥ç»ç½‘ç»œğ‘š(y; Î¦)ï¼Œæˆ‘ä»¬å¯¹å…¶è¾“å…¥ğ‘¦ = enc(x; ğœƒ)çš„ç¼–ç æ„Ÿå…´è¶£ï¼Œè¯¥ç¼–ç åœ¨å„ç§åº”ç”¨ä¸­æé«˜äº†è¿‘ä¼¼è´¨é‡å’Œè®­ç»ƒé€Ÿåº¦ï¼ŒåŒæ—¶æ²¡æœ‰æ˜æ˜¾çš„æ€§èƒ½å¼€é”€ã€‚æˆ‘ä»¬çš„ç¥ç»ç½‘ç»œä¸ä»…å…·æœ‰å¯è®­ç»ƒçš„æƒé‡å‚æ•°Î¦ï¼Œè¿˜å…·æœ‰å¯è®­ç»ƒçš„ç¼–ç å‚æ•°ğœƒã€‚è¿™äº›å‚æ•°è¢«åˆ†æˆğ¿ä¸ªå±‚çº§ï¼Œæ¯ä¸ªå±‚çº§åŒ…å«å¤šè¾¾ğ‘‡ä¸ªç‰¹å¾å‘é‡ï¼Œæ¯ä¸ªç‰¹å¾å‘é‡çš„ç»´åº¦ä¸ºğ¹ã€‚è¡¨1æ˜¾ç¤ºäº†è¿™äº›è¶…å‚æ•°çš„å…¸å‹å€¼ã€‚å›¾3è¯´æ˜äº†æˆ‘ä»¬å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ä¸­æ‰§è¡Œçš„æ­¥éª¤ã€‚æ¯ä¸ªå±‚çº§ï¼ˆå›¾ä¸­ä»¥çº¢è‰²å’Œè“è‰²æ˜¾ç¤ºçš„ä¸¤ä¸ªå±‚çº§ï¼‰æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶åœ¨æ¦‚å¿µä¸Šå°†ç‰¹å¾å‘é‡å­˜å‚¨åœ¨ä¸€ä¸ªç½‘æ ¼çš„é¡¶ç‚¹ä¸Šï¼Œè¯¥ç½‘æ ¼çš„åˆ†è¾¨ç‡é€‰æ‹©ä¸ºæœ€ç²—å’Œæœ€ç»†åˆ†è¾¨ç‡ä¹‹é—´çš„å‡ ä½•çº§æ•°$[ğ‘_{min}, ğ‘_{max}]$ã€‚</p><ul><li>Lï¼šå¤šåˆ†è¾¨ç‡</li><li>Tï¼šæ¯ä¸ªåˆ†è¾¨ç‡ä¸‹æœ‰Tä¸ªç‰¹å¾å‘é‡</li><li>Fï¼šç‰¹å¾å‘é‡çš„ç»´åº¦</li><li>æœ€å°å’Œæœ€å¤§åˆ†è¾¨ç‡ï¼š$N_{min} , N_{max}$</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703160145.png" alt="image.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703160333.png" alt="image.png"></p><p>2Dä¸­å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç çš„ç¤ºæ„å›¾ã€‚(1) å¯¹äºç»™å®šçš„è¾“å…¥åæ ‡ xï¼Œæˆ‘ä»¬åœ¨ ğ¿ ä¸ªåˆ†è¾¨ç‡çº§åˆ«ä¸Šæ‰¾åˆ°å‘¨å›´çš„ä½“ç´ ï¼Œå¹¶é€šè¿‡å“ˆå¸Œå…¶æ•´æ•°åæ ‡ä¸ºå®ƒä»¬çš„è§’ç‚¹åˆ†é…ç´¢å¼•ã€‚(2) å¯¹äºæ‰€æœ‰å¾—åˆ°çš„è§’ç‚¹ç´¢å¼•ï¼Œæˆ‘ä»¬ä»å“ˆå¸Œè¡¨ ğœƒğ‘™ ä¸­æŸ¥æ‰¾ç›¸åº”çš„ ğ¹ ç»´ç‰¹å¾å‘é‡ã€‚(3) æ ¹æ® x åœ¨ç›¸åº”çš„ç¬¬ ğ‘™ ä¸ªä½“ç´ ä¸­çš„ç›¸å¯¹ä½ç½®è¿›è¡Œçº¿æ€§æ’å€¼ã€‚(4) æˆ‘ä»¬å°†æ¯ä¸ªçº§åˆ«çš„ç»“æœä»¥åŠè¾…åŠ©è¾“å…¥ ğœ‰ âˆˆ Rğ¸ è¿›è¡Œä¸²è”ï¼Œç”Ÿæˆç¼–ç çš„ MLP è¾“å…¥ ğ‘¦ âˆˆ Rğ¿ğ¹ +ğ¸ï¼Œè¿™æ˜¯æœ€åè¿›è¡Œè¯„ä¼°çš„ã€‚(5) ä¸ºäº†è®­ç»ƒç¼–ç ï¼ŒæŸå¤±æ¢¯åº¦é€šè¿‡ MLP (5)ã€ä¸²è” (4)ã€çº¿æ€§æ’å€¼ (3) å¹¶ç´¯ç§¯åœ¨æŸ¥æ‰¾åˆ°çš„ç‰¹å¾å‘é‡ä¸­è¿›è¡Œåå‘ä¼ æ’­ã€‚</p><script type="math/tex; mode=display">\begin{aligned}N_{l} & :=\left\lfloor N_{\mathrm{min}}\cdot b^{l}\right\rfloor,  \\&b:=\exp\left(\frac{\ln N_{\mathrm{max}}-\ln N_{\mathrm{min}}}{L-1}\right).\end{aligned}</script><p>Lä¸ºåˆ†è¾¨ç‡æ•°é‡ï¼Œlä¸ºåˆ†è¾¨ç‡åºå·ã€‚ç¤ºä¾‹ä¸­L=2ï¼Œ$N_{0}= N_{min} =2$ , $N_{1}= N_{max}= 3$ , $b = \frac{3}{2}$</p><p>âŒŠxğ‘™ âŒ‹ å’Œ âŒˆxğ‘™ âŒ‰ åœ¨ $Z_{ğ‘‘}$ (æ•´æ•°)ä¸­è·¨è¶Šä¸€ä¸ªå…·æœ‰ 2ğ‘‘ ä¸ªæ•´æ•°é¡¶ç‚¹çš„ä½“ç´ ã€‚æˆ‘ä»¬å°†æ¯ä¸ªè§’è½æ˜ å°„åˆ°çº§åˆ«çš„ç›¸åº”ç‰¹å¾å‘é‡æ•°ç»„ä¸­çš„ä¸€ä¸ªæ¡ç›®ï¼Œè¯¥æ•°ç»„çš„å›ºå®šå¤§å°æœ€å¤šä¸ºğ‘‡ ã€‚å¯¹äºéœ€è¦å°‘äº ğ‘‡ ä¸ªå‚æ•°çš„å¯†é›†ç½‘æ ¼çš„ç²—ç•¥çº§åˆ«ï¼Œå³$(ğ‘_{ğ‘™} + 1)ğ‘‘ â‰¤ ğ‘‡$ ï¼Œæ­¤æ˜ å°„æ˜¯ä¸€å¯¹ä¸€çš„ã€‚åœ¨æ›´ç»†çš„çº§åˆ«ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œå‡½æ•° â„ :$Z^{ğ‘‘} â†’ Z_{ğ‘‡}$ æ¥ç´¢å¼•æ•°ç»„ï¼Œå®é™…ä¸Šå°†å…¶è§†ä¸ºå“ˆå¸Œè¡¨ï¼Œå°½ç®¡æ²¡æœ‰æ˜¾å¼çš„å†²çªå¤„ç†ã€‚ç›¸åï¼Œæˆ‘ä»¬ä¾èµ–åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–æ¥åœ¨æ•°ç»„ä¸­å­˜å‚¨é€‚å½“çš„ç¨€ç–ç»†èŠ‚ï¼Œå¹¶ä½¿ç”¨åç»­çš„ç¥ç»ç½‘ç»œ ğ‘š(y; Î¦) è¿›è¡Œå†²çªè§£å†³ã€‚å¯è®­ç»ƒçš„ç¼–ç å‚æ•° ğœƒ çš„æ•°é‡å› æ­¤ä¸º O (ğ‘‡ )ï¼Œå¹¶ä¸”å—åˆ° ğ‘‡ Â· ğ¿ Â· ğ¹ çš„é™åˆ¶ï¼Œæˆ‘ä»¬çš„æƒ…å†µå§‹ç»ˆä¸º ğ‘‡ Â· 16 Â· 2 (è¡¨ 1)ã€‚</p><div class="note info">            <p>å“ˆå¸Œè¿ç®—(æ‚å‡‘å‡½æ•°):æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥é€šè¿‡æ•£åˆ—ç®—æ³•å˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡º<br>Hash tableæ ·å¼ä¸ºâ€”â€”hash value : grid index</p>          </div><p>æˆ‘ä»¬ä½¿ç”¨çš„ç©ºé—´å“ˆå¸Œå‡½æ•°(Teschner et al . 2003)çš„å½¢å¼ä¸ºï¼š$h(\mathbf{x})=\left(\bigoplus\limits_{i=1}^dx_i\pi_i\right)\mod T,$âŠ• è¡¨ç¤ºæŒ‰ä½å¼‚æˆ–è¿ç®—,å¼‚æˆ–çš„è¿ç®—æ³•åˆ™ä¸ºï¼š0âŠ•0=0ï¼Œ1âŠ•0=1ï¼Œ0âŠ•1=1ï¼Œ1âŠ•1=0ï¼ˆåŒä¸º0ï¼Œå¼‚ä¸º1ï¼‰ï¼Œğœ‹ğ‘– æ˜¯å”¯ä¸€çš„ã€å¾ˆå¤§çš„ç´ æ•°ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªå…¬å¼å¯¹æ¯ä¸ªç»´åº¦çš„çº¿æ€§åŒä½™ï¼ˆä¼ªéšæœºï¼‰æ’åˆ—ç»“æœè¿›è¡Œäº†å¼‚æˆ–æ“ä½œ (Lehmer 1951)ï¼Œä»è€Œå‡å¼±äº†ç»´åº¦å¯¹æ•£åˆ—å€¼çš„å½±å“ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†å®ç°ï¼ˆä¼ªï¼‰ç‹¬ç«‹æ€§ï¼Œåªéœ€è¦å¯¹ ğ‘‘ - 1 ä¸ªç»´åº¦è¿›è¡Œæ’åˆ—ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹© ğœ‹1 := 1ï¼Œä»¥è·å¾—æ›´å¥½çš„ç¼“å­˜ä¸€è‡´æ€§ï¼Œğœ‹2 = 2 654 435 761ï¼Œğœ‹3 = 805 459 861ã€‚<br>æœ€åï¼Œæ¯ä¸ªè§’è½çš„ç‰¹å¾å‘é‡æ ¹æ® x åœ¨å…¶è¶…ç«‹æ–¹ä½“å†…çš„ç›¸å¯¹ä½ç½®è¿›è¡Œğ‘‘çº¿æ€§æ’å€¼ï¼Œå³æ’å€¼æƒé‡ä¸º wğ‘™ := xğ‘™ âˆ’ âŒŠxğ‘™ âŒ‹ã€‚è¯·è®°ä½ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯¹æ¯ä¸ªçº§åˆ«éƒ½æ˜¯ç‹¬ç«‹è¿›è¡Œçš„ğ¿ levels. æ¯ä¸ªçº§åˆ«çš„æ’å€¼ç‰¹å¾å‘é‡ä»¥åŠè¾…åŠ©è¾“å…¥ ğœ‰ âˆˆ Rğ¸ï¼ˆå¦‚ç¼–ç çš„è§†è§’å’Œç¥ç»è¾å°„ç¼“å­˜ä¸­çš„çº¹ç†ï¼‰è¢«è¿æ¥èµ·æ¥äº§ç”Ÿ y âˆˆ Rğ¿ğ¹ +ğ¸ï¼Œå®ƒæ˜¯è¾“å…¥ç¼–ç  enc(x; ğœƒ) åˆ° MLP ğ‘š(y; Î¦) çš„ã€‚</p><ul><li><p>æ€§èƒ½ä¸è´¨é‡: ç‰¹å¾å‘é‡çš„ä¸ªæ•°Tè¶Šå¤šï¼Œè´¨é‡è¶Šå¥½ï¼Œä½†åŒæ—¶æ€§èƒ½ä¼šæ›´ä½ã€‚å†…å­˜å ç”¨ä¸ ğ‘‡ æˆçº¿æ€§å…³ç³»ï¼Œè€Œè´¨é‡å’Œæ€§èƒ½å¾€å¾€ä»¥æ¬¡çº¿æ€§çš„æ–¹å¼è¿›è¡Œç¼©æ”¾ã€‚æˆ‘ä»¬åœ¨å›¾ 4 ä¸­åˆ†æäº† ğ‘‡ çš„å½±å“ï¼ŒæŠ¥å‘Šäº†ä¸‰ç§ç¥ç»å›¾å½¢åŸè¯­åœ¨å„ç§ ğ‘‡ å€¼ä¸‹çš„æµ‹è¯•è¯¯å·®ä¸è®­ç»ƒæ—¶é—´çš„å…³ç³»ã€‚æˆ‘ä»¬å»ºè®®ä»ä¸šè€…ä½¿ç”¨ ğ‘‡ æ¥è°ƒæ•´ç¼–ç ä»¥è·å¾—æ‰€éœ€çš„æ€§èƒ½ç‰¹å¾ã€‚è¶…å‚æ•° ğ¿ï¼ˆå±‚çº§æ•°é‡ï¼‰å’Œ ğ¹ï¼ˆç‰¹å¾ç»´åº¦æ•°é‡ï¼‰ä¹Ÿåœ¨è´¨é‡å’Œæ€§èƒ½ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œæˆ‘ä»¬åœ¨å›¾ 5 ä¸­å¯¹å¯è®­ç»ƒç¼–ç å‚æ•° ğœƒ çš„æ•°é‡è¿‘ä¼¼æ’å®šæ¡ä»¶ä¸‹è¿›è¡Œäº†åˆ†æã€‚åœ¨è¿™ä¸ªåˆ†æä¸­ï¼Œ<strong>æˆ‘ä»¬å‘ç° (ğ¹ = 2, ğ¿ = 16) æ˜¯æˆ‘ä»¬æ‰€æœ‰åº”ç”¨ä¸­æœ‰åˆ©çš„ Pareto æœ€ä¼˜è§£</strong>ï¼Œå› æ­¤æˆ‘ä»¬åœ¨æ‰€æœ‰å…¶ä»–ç»“æœä¸­ä½¿ç”¨è¿™äº›å€¼ï¼Œå¹¶å°†å…¶æ¨èä¸ºé»˜è®¤å€¼ã€‚</p></li><li><p>éšå¼å“ˆå¸Œå†²çªè§£å†³(å¤šä¸ªç›¸åŒçš„gridå¯èƒ½å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼)ã€‚è¿™ç§ç¼–ç èƒ½å¤Ÿåœ¨å“ˆå¸Œå†²çªå­˜åœ¨çš„æƒ…å†µä¸‹å¿ å®åœ°é‡å»ºåœºæ™¯ï¼Œè¿™å¯èƒ½çœ‹èµ·æ¥è¿åç›´è§‰ã€‚å…¶æˆåŠŸçš„å…³é”®åœ¨äºä¸åŒçš„åˆ†è¾¨ç‡çº§åˆ«å…·æœ‰äº’è¡¥çš„ä¸åŒä¼˜åŠ¿ã€‚<strong>ä½åˆ†è¾¨ç‡åªæœ‰å°‘é‡ç½‘æ ¼ï¼Œå“ˆå¸Œå†²çªè¾ƒå°‘ï¼Œé«˜åˆ†è¾¨ç‡ç½‘æ ¼å¾ˆå¤šï¼Œå¯èƒ½å‘ç”Ÿå“ˆå¸Œå†²çªï¼Œä½†æ˜¯ç”±äºå½“å¤šä¸ªç½‘æ ¼çš„å“ˆå¸Œå€¼å†²çªæ—¶ï¼Œå¯èƒ½åªæœ‰å…¶ä¸­çš„å‡ ä¸ªç½‘æ ¼æ˜¯æœ‰ä»·å€¼çš„ï¼Œå…¶ä»–æ˜¯ç©ºæ°”ç­‰ä¸æ‰€å»ºç‰©ä½“æ— å…³çš„ç½‘æ ¼</strong>ã€‚(<em>ç²—ç•¥çš„çº§åˆ«ï¼Œä»¥åŠæ•´ä¸ªç¼–ç ï¼Œæ˜¯ä¸€å¯¹ä¸€æ˜ å°„çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬æ ¹æœ¬ä¸ä¼šå‘ç”Ÿå†²çªã€‚ç„¶è€Œï¼Œå®ƒä»¬åªèƒ½è¡¨ç¤ºåœºæ™¯çš„ä½åˆ†è¾¨ç‡ç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒä»¬æä¾›çš„ç‰¹å¾æ˜¯ä»ä¸€ä¸ªé—´éš”è¾ƒå¤§çš„ç‚¹ç½‘æ ¼è¿›è¡Œçº¿æ€§æ’å€¼çš„ã€‚ç›¸åï¼Œç»†èŠ‚çº§åˆ«å¯ä»¥æ•æ‰åˆ°å°çš„ç‰¹å¾ï¼Œå› ä¸ºå®ƒä»¬å…·æœ‰ç»†å¯†çš„ç½‘æ ¼åˆ†è¾¨ç‡ï¼Œä½†ä¼šé‡åˆ°è®¸å¤šå†²çªâ€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åŒçš„ç‚¹ä¼šå“ˆå¸Œåˆ°ç›¸åŒçš„è¡¨é¡¹ã€‚</em>)<strong>é™„è¿‘å…·æœ‰ç›¸åŒæ•´æ•°åæ ‡âŒŠxğ‘™âŒ‹çš„è¾“å…¥ä¸è¢«è§†ä¸ºç¢°æ’ï¼›åªæœ‰å½“ä¸åŒçš„æ•´æ•°åæ ‡æ•£åˆ—åˆ°ç›¸åŒçš„ç´¢å¼•æ—¶æ‰ä¼šå‘ç”Ÿç¢°æ’</strong>ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ç§ç¢°æ’åœ¨ç©ºé—´ä¸­æ˜¯ä¼ªéšæœºåˆ†å¸ƒçš„ï¼Œå¹¶ä¸”ç»Ÿè®¡ä¸Šä¸å¤ªå¯èƒ½åœ¨ç»™å®šä¸€å¯¹ç‚¹çš„æ¯ä¸ªçº§åˆ«åŒæ—¶å‘ç”Ÿã€‚</p><ul><li>å½“è®­ç»ƒæ ·æœ¬ä»¥è¿™ç§æ–¹å¼å‘ç”Ÿç¢°æ’æ—¶ï¼Œå®ƒä»¬çš„æ¢¯åº¦ä¼šå–å¹³å‡å€¼ã€‚éœ€è¦è€ƒè™‘åˆ°è¿™äº›æ ·æœ¬å¯¹æœ€ç»ˆé‡æ„çš„é‡è¦æ€§å¾ˆå°‘ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œè¾å°„åœºä¸­å¯è§è¡¨é¢ä¸Šçš„ä¸€ä¸ªç‚¹ä¼šå¯¹é‡æ„å›¾åƒäº§ç”Ÿå¾ˆå¼ºçš„è´¡çŒ®ï¼ˆå…·æœ‰é«˜èƒ½è§åº¦å’Œé«˜å¯†åº¦ï¼Œä¸¤è€…éƒ½å¯¹æ¢¯åº¦çš„å¹…å€¼äº§ç”Ÿä¹˜æ³•æ•ˆåº”ï¼‰ï¼Œä»è€Œå¯¼è‡´å…¶è¡¨é¡¹å‘ç”Ÿå¾ˆå¤§å˜åŒ–ï¼Œè€ŒæŒ‡å‘åŒä¸€è¡¨é¡¹çš„ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹å°†å…·æœ‰æ›´å°çš„æƒé‡ã€‚å› æ­¤ï¼Œæ›´é‡è¦æ ·æœ¬çš„æ¢¯åº¦ä¸»å¯¼äº†ç¢°æ’å¹³å‡å€¼ï¼Œå¹¶ä¸”é€šè¿‡ä¼˜åŒ–ï¼Œä½¿åˆ«åçš„è¡¨é¡¹è‡ªç„¶åœ°åæ˜ äº†æ›´é«˜æƒé‡ç‚¹çš„éœ€æ±‚ã€‚å“ˆå¸Œç¼–ç çš„å¤šåˆ†è¾¨ç‡æ–¹é¢æ¶µç›–äº†ä»ç²—åˆ†è¾¨ç‡ğ‘minï¼ˆå¯ä»¥ä¿è¯æ— ç¢°æ’ï¼‰åˆ°ä»»åŠ¡æ‰€éœ€çš„æœ€ç»†åˆ†è¾¨ç‡ğ‘maxçš„å…¨èŒƒå›´ã€‚å› æ­¤ï¼Œå®ƒä¿è¯äº†æ— è®ºç¨€ç–æ€§å¦‚ä½•ï¼Œéƒ½åŒ…æ‹¬äº†å¯èƒ½å‘ç”Ÿæœ‰æ„ä¹‰å­¦ä¹ çš„æ‰€æœ‰å°ºåº¦ã€‚å‡ ä½•ç¼©æ”¾å…è®¸åªä½¿ç”¨O(log(ğ‘max/ğ‘min))ä¸ªçº§åˆ«æ¥è¦†ç›–è¿™äº›å°ºåº¦ï¼Œè¿™å…è®¸é€‰æ‹©ä¸€ä¸ªä¿å®ˆåœ°è¾ƒå¤§çš„ğ‘maxå€¼ã€‚</li></ul></li><li><p>åœ¨çº¿é€‚åº”æ€§ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœè¾“å…¥xçš„åˆ†å¸ƒåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éšæ—¶é—´å˜åŒ–ï¼Œä¾‹å¦‚å¦‚æœå®ƒä»¬å˜å¾—é›†ä¸­åœ¨ä¸€ä¸ªå°åŒºåŸŸå†…ï¼Œé‚£ä¹ˆæ›´ç²¾ç»†çš„ç½‘æ ¼çº§åˆ«å°†ä¼šé‡åˆ°è¾ƒå°‘çš„å†²çªï¼Œä»è€Œå¯ä»¥å­¦ä¹ åˆ°æ›´å‡†ç¡®çš„å‡½æ•°ã€‚æ¢å¥è¯è¯´ï¼Œå¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ä¼šè‡ªåŠ¨é€‚åº”è®­ç»ƒæ•°æ®çš„åˆ†å¸ƒï¼Œç»§æ‰¿äº†æ ‘çŠ¶ç¼–ç çš„å¥½å¤„(Takikawaç­‰äººï¼Œ2021)ï¼Œè€Œä¸éœ€è¦è¿›è¡Œç‰¹å®šä»»åŠ¡çš„æ•°æ®ç»“æ„ç»´æŠ¤ï¼Œè¿™å¯èƒ½å¯¼è‡´è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°ç¦»æ•£è·³è·ƒã€‚æˆ‘ä»¬çš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œç¬¬5.3èŠ‚ä¸­çš„ç¥ç»è¾å°„ç¼“å­˜ï¼Œä¸æ–­é€‚åº”åŠ¨ç”»è§†ç‚¹å’Œ3Då†…å®¹ï¼Œæå¤§åœ°å—ç›Šäºè¿™ä¸€ç‰¹æ€§ã€‚</p></li><li><p>ğ‘‘-çº¿æ€§æ’å€¼ã€‚å¯¹æŸ¥è¯¢çš„å“ˆå¸Œè¡¨æ¡ç›®è¿›è¡Œæ’å€¼ï¼Œç¡®ä¿ç¼–ç  enc(x; ğœƒ) åŠå…¶ä¸ç¥ç»ç½‘ç»œ ğ‘š(enc(x; ğœƒ); Î¦) çš„ç»„åˆæ˜¯è¿ç»­çš„ã€‚å¦‚æœæ²¡æœ‰æ’å€¼ï¼Œç½‘ç»œè¾“å‡ºä¸­å°†å­˜åœ¨ä¸ç½‘æ ¼å¯¹é½çš„ä¸è¿ç»­æ€§ï¼Œè¿™ä¼šå¯¼è‡´ä¸ç†æƒ³çš„å—çŠ¶å¤–è§‚ã€‚å½“è¿‘ä¼¼åå¾®åˆ†æ–¹ç¨‹æ—¶ï¼Œå¯èƒ½å¸Œæœ›æ›´é«˜é˜¶çš„å¹³æ»‘æ€§ã€‚è®¡ç®—æœºå›¾å½¢å­¦ä¸­çš„ä¸€ä¸ªå…·ä½“ç¤ºä¾‹æ˜¯æœ‰ç¬¦å·è·ç¦»å‡½æ•°ï¼Œæ­¤æ—¶æ¢¯åº¦ ğœ•ğ‘š(enc(x; ğœƒ); Î¦)/ğœ•xï¼Œå³è¡¨é¢æ³•çº¿ï¼Œç†æƒ³æƒ…å†µä¸‹ä¹Ÿåº”è¿ç»­ã€‚<strong>å¦‚æœå¿…é¡»ä¿è¯æ›´é«˜é˜¶çš„å¹³æ»‘æ€§ï¼Œæˆ‘ä»¬åœ¨é™„å½• A ä¸­æè¿°äº†ä¸€ç§ä½æˆæœ¬çš„æ–¹æ³•ï¼Œä½†åœ¨æˆ‘ä»¬çš„ä»»ä½•ç»“æœä¸­éƒ½æ²¡æœ‰ä½¿ç”¨ï¼Œå› ä¸ºä¼šå¯¼è‡´é‡å»ºè´¨é‡ç•¥å¾®é™ä½ã€‚</strong></p></li></ul><h1 id="IMPLEMENTATION"><a href="#IMPLEMENTATION" class="headerlink" title="IMPLEMENTATION"></a>IMPLEMENTATION</h1><p>ä¸ºäº†å±•ç¤ºå¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç çš„é€Ÿåº¦ï¼Œæˆ‘ä»¬åœ¨CUDAä¸­å®ç°äº†å®ƒï¼Œå¹¶å°†å…¶ä¸tiny-cuda-nnæ¡†æ¶(MÃ¼ller 2021)ä¸­çš„å¿«é€Ÿå…¨èåˆMLPé›†æˆåœ¨ä¸€èµ·ã€‚æˆ‘ä»¬å°†å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç çš„æºä»£ç ä½œä¸ºMuÌˆller 2021çš„æ›´æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œå¹¶å‘å¸ƒäº†ä¸ç¥ç»å›¾å½¢åŸè¯­ç›¸å…³çš„æºä»£ç ï¼Œç½‘å€ä¸º<a href="https://github.com/nvlabs/instant-ngp%E3%80%82">https://github.com/nvlabs/instant-ngp</a></p><ul><li>æ€§èƒ½è€ƒè™‘ã€‚ä¸ºäº†ä¼˜åŒ–æ¨ç†å’Œåå‘ä¼ æ’­çš„æ€§èƒ½ï¼Œæˆ‘ä»¬ä»¥åŠç²¾åº¦ï¼ˆæ¯ä¸ªæ¡ç›®2å­—èŠ‚ï¼‰å­˜å‚¨å“ˆå¸Œè¡¨æ¡ç›®ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä»¥å®Œå…¨ç²¾åº¦ç»´æŠ¤å‚æ•°çš„ä¸»å‰¯æœ¬ï¼Œä»¥è¿›è¡Œç¨³å®šçš„æ··åˆç²¾åº¦å‚æ•°æ›´æ–°ï¼Œå‚è€ƒMicikeviciusç­‰äºº2018çš„æ–¹æ³•ã€‚<ul><li>ä¸ºäº†æœ€ä½³åœ°åˆ©ç”¨GPUçš„ç¼“å­˜ï¼Œæˆ‘ä»¬é€å±‚è¯„ä¼°å“ˆå¸Œè¡¨ï¼š<strong>åœ¨å¤„ç†ä¸€æ‰¹è¾“å…¥ä½ç½®æ—¶ï¼Œæˆ‘ä»¬å®‰æ’è®¡ç®—æ¥æŸ¥æ‰¾æ‰€æœ‰è¾“å…¥çš„å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç çš„ç¬¬ä¸€çº§ï¼Œç„¶åæ˜¯æ‰€æœ‰è¾“å…¥çš„ç¬¬äºŒçº§ï¼Œä¾æ­¤ç±»æ¨</strong>ã€‚å› æ­¤ï¼Œåœ¨ä»»ä½•ç»™å®šæ—¶é—´ï¼Œåªæœ‰å°‘é‡è¿ç»­çš„å“ˆå¸Œè¡¨éœ€è¦é©»ç•™åœ¨ç¼“å­˜ä¸­ï¼Œè¿™å–å†³äºGPUä¸Šå¯ç”¨çš„å¹¶è¡Œæ€§ã€‚é‡è¦çš„æ˜¯ï¼Œè¿™ç§è®¡ç®—ç»“æ„è‡ªåŠ¨åœ°å……åˆ†åˆ©ç”¨äº†å¯ç”¨çš„ç¼“å­˜å’Œå¹¶è¡Œæ€§ï¼Œé€‚ç”¨äºå„ç§å“ˆå¸Œè¡¨å¤§å°ğ‘‡ã€‚</li><li>åœ¨æˆ‘ä»¬çš„ç¡¬ä»¶ä¸Šï¼Œåªè¦å“ˆå¸Œè¡¨å¤§å°ä¿æŒåœ¨$T â‰¤ 2^{19}$ä»¥ä¸‹ï¼Œç¼–ç çš„æ€§èƒ½åŸºæœ¬ä¿æŒä¸å˜ã€‚è¶…è¿‡è¿™ä¸ªé˜ˆå€¼åï¼Œæ€§èƒ½å¼€å§‹æ˜¾è‘—ä¸‹é™ï¼›è¯·å‚è§å›¾4ã€‚è¿™æ˜¯ç”±äºæˆ‘ä»¬çš„NVIDIA RTX 3090 GPUçš„6 MB L2ç¼“å­˜å¯¹äºå•ä¸ªçº§åˆ«è€Œè¨€å˜å¾—å¤ªå°ï¼Œå½“2 Â· T Â· F &gt; 6 Â· 220æ—¶ï¼Œå…¶ä¸­2æ˜¯åŠç²¾åº¦æ¡ç›®çš„å¤§å°ã€‚</li><li>ç‰¹å¾ç»´åº¦ğ¹çš„æœ€ä½³æ•°é‡å–å†³äºGPUæ¶æ„ã€‚ä¸€æ–¹é¢ï¼Œè¾ƒå°çš„æ•°é‡æœ‰åˆ©äºå…ˆå‰æåˆ°çš„æµå¼å¤„ç†æ–¹æ³•ä¸­çš„ç¼“å­˜æœ¬åœ°æ€§ï¼Œä½†å¦ä¸€æ–¹é¢ï¼Œè¾ƒå¤§çš„ğ¹é€šè¿‡å…è®¸ğ¹å®½åº¦çš„å‘é‡åŠ è½½æŒ‡ä»¤æ¥ä¿ƒè¿›å†…å­˜ä¸€è‡´æ€§ã€‚ğ¹ = 2ç»™å‡ºäº†æˆ‘ä»¬åœ¨æ‰€æœ‰å®éªŒä¸­ä½¿ç”¨çš„æœ€ä½³æˆæœ¬è´¨é‡æƒè¡¡ï¼ˆå‚è§å›¾5ï¼‰ã€‚</li></ul></li><li>ä½“ç³»ç»“æ„/ç¥ç»ç½‘ç»œï¼šåœ¨é™¤äº†ç¨åæˆ‘ä»¬å°†æè¿°çš„NeRFä¹‹å¤–çš„æ‰€æœ‰ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å…·æœ‰ä¸¤ä¸ªéšè—å±‚çš„å¤šå±‚æ„ŸçŸ¥å™¨ï¼ˆMLPï¼‰ï¼Œæ¯ä¸ªéšè—å±‚å…·æœ‰64ä¸ªç¥ç»å…ƒï¼Œéšè—å±‚ä¸Šä½¿ç”¨ä¿®æ­£çº¿æ€§å•å…ƒï¼ˆReLUï¼‰æ¿€æ´»å‡½æ•°ï¼Œä»¥åŠä¸€ä¸ªçº¿æ€§è¾“å‡ºå±‚ã€‚å¯¹äºNeRFå’Œæœ‰ç¬¦å·è·ç¦»å‡½æ•°ï¼Œæœ€å¤§åˆ†è¾¨ç‡ğ‘maxè®¾ç½®ä¸º2048Ã—åœºæ™¯å°ºå¯¸ï¼Œå¯¹äºhalf of the gigapixel image è®¾ç½®ä¸ºwidthçš„ä¸€åŠï¼Œä»¥åŠè¾å°„ç¼“å­˜ä¸­çš„$2^{19}$ï¼ˆä¸ºäº†æ”¯æŒå¤§åœºæ™¯ä¸­çš„è¿‘è·ç¦»ç‰©ä½“è€Œè®¾ç½®çš„è¾ƒå¤§å€¼ï¼‰ã€‚</li><li>åˆå§‹åŒ–ã€‚æˆ‘ä»¬æŒ‰ç…§Glorotå’ŒBengio 2010çš„æ–¹æ³•åˆå§‹åŒ–ç¥ç»ç½‘ç»œæƒé‡ï¼Œä»¥ä¾¿åœ¨ç¥ç»ç½‘ç»œçš„å„ä¸ªå±‚ä¸­æä¾›åˆç†çš„æ¿€æ´»å’Œæ¢¯åº¦ç¼©æ”¾ã€‚æˆ‘ä»¬ä½¿ç”¨å‡åŒ€åˆ†å¸ƒUï¼ˆâˆ’10âˆ’4ï¼Œ10âˆ’4ï¼‰åˆå§‹åŒ–å“ˆå¸Œè¡¨æ¡ç›®ï¼Œä»¥æä¾›ä¸€å®šçš„éšæœºæ€§ï¼ŒåŒæ—¶é¼“åŠ±åˆå§‹é¢„æµ‹æ¥è¿‘é›¶ã€‚æˆ‘ä»¬è¿˜å°è¯•äº†å„ç§ä¸åŒçš„åˆ†å¸ƒï¼ŒåŒ…æ‹¬é›¶åˆå§‹åŒ–ï¼Œä½†ç»“æœéƒ½å¯¼è‡´åˆå§‹æ”¶æ•›é€Ÿåº¦ç¨å¾®å˜æ…¢ã€‚å“ˆå¸Œè¡¨ä¼¼ä¹å¯¹åˆå§‹åŒ–æ–¹æ¡ˆå…·æœ‰é²æ£’æ€§ã€‚</li><li>è®­ç»ƒã€‚æˆ‘ä»¬é€šè¿‡åº”ç”¨Adam (Kingmaå’ŒBa 2014)æ¥å…±åŒè®­ç»ƒç¥ç»ç½‘ç»œæƒé‡å’Œå“ˆå¸Œè¡¨æ¡ç›®ï¼Œå…¶ä¸­æˆ‘ä»¬è®¾å®š $ğ›½1 = 0.9ï¼Œğ›½2 = 0.99ï¼Œğœ– = 10^{âˆ’15}$ã€‚ğ›½1å’Œğ›½2çš„é€‰æ‹©åªä¼šäº§ç”Ÿå¾ˆå°çš„å·®å¼‚ï¼Œä½†ğœ– = 10âˆ’15çš„å°å€¼åœ¨å“ˆå¸Œè¡¨æ¡ç›®çš„æ¢¯åº¦ç¨€ç–å’Œå¼±æ—¶èƒ½å¤Ÿæ˜¾è‘—åŠ å¿«æ”¶æ•›é€Ÿåº¦ã€‚ä¸ºäº†é˜²æ­¢é•¿æ—¶é—´è®­ç»ƒåçš„å‘æ•£ï¼Œæˆ‘ä»¬å¯¹ç¥ç»ç½‘ç»œæƒé‡åº”ç”¨äº†å¼±çš„L2æ­£åˆ™åŒ–ï¼ˆå› å­ä¸º10âˆ’6ï¼‰ï¼Œä½†ä¸é€‚ç”¨äºå“ˆå¸Œè¡¨æ¡ç›®ã€‚</li><li>å½“æ‹Ÿåˆgigapixelå›¾åƒæˆ–NeRFsæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨L2æŸå¤±ã€‚å¯¹äºæœ‰ç¬¦å·è·ç¦»å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®ï¼ˆMAPEï¼‰ï¼Œå®šä¹‰ä¸º|é¢„æµ‹å€¼-ç›®æ ‡å€¼|/|ç›®æ ‡å€¼|+0.01ï¼Œå¹¶ä¸”å¯¹äºç¥ç»è¾å°„ç¼“å­˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº®åº¦ç›¸å¯¹L2æŸå¤±(MÃ¼ller et al. 2021)ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°å¯¹äºæœ‰ç¬¦å·è·ç¦»å‡½æ•°ï¼Œå­¦ä¹ ç‡ä¸º$10^-4$æ—¶æ”¶æ•›æœ€å¿«ï¼Œå¯¹äºå…¶ä»–æƒ…å†µï¼Œå­¦ä¹ ç‡ä¸º$10^-2$ã€‚å¯¹äºç¥ç»è¾å°„ç¼“å­˜ï¼Œæˆ‘ä»¬ä½¿ç”¨æ‰¹é‡å¤§å°ä¸º$2^{14}$ï¼Œå¯¹äºå…¶ä»–æƒ…å†µï¼Œä½¿ç”¨æ‰¹é‡å¤§å°ä¸º$2^{18}$ã€‚æœ€åï¼Œæˆ‘ä»¬åœ¨å“ˆå¸Œè¡¨æ¡ç›®çš„æ¢¯åº¦å®Œå…¨ä¸º0æ—¶è·³è¿‡Adamæ­¥éª¤ã€‚è¿™åœ¨æ¢¯åº¦ç¨€ç–çš„æƒ…å†µä¸‹å¯ä»¥èŠ‚çœçº¦10%çš„æ€§èƒ½ï¼Œè¿™åœ¨ğ‘‡ â‰« BatchSizeçš„æƒ…å†µä¸‹æ˜¯å¸¸è§çš„ã€‚å°½ç®¡è¿™ç§å¯å‘å¼æ–¹æ³•è¿åäº†AdamèƒŒåçš„ä¸€äº›å‡è®¾ï¼Œä½†æˆ‘ä»¬è§‚å¯Ÿåˆ°æ”¶æ•›æ²¡æœ‰é™çº§ã€‚</li><li>éç©ºé—´è¾“å…¥ç»´åº¦ $ğœ‰ âˆˆ R^ğ¸$ã€‚å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç ä»¥ç›¸å¯¹ä½ç»´åº¦ç›®æ ‡å¤„ç†ç©ºé—´åæ ‡ã€‚æˆ‘ä»¬æ‰€æœ‰çš„å®éªŒéƒ½æ˜¯åœ¨2Dæˆ–3Dä¸­è¿›è¡Œçš„ã€‚ç„¶è€Œï¼Œåœ¨å­¦ä¹ å…‰åœºæ—¶ï¼Œå°†è¾…åŠ©ç»´åº¦$ğœ‰ âˆˆ R^ğ¸$ è¾“å…¥ç¥ç»ç½‘ç»œå¾€å¾€æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä¾‹å¦‚è§†è§’å’Œææ–™å‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å·²å»ºç«‹çš„æŠ€æœ¯å¯¹è¾…åŠ©ç»´åº¦è¿›è¡Œç¼–ç ï¼Œå…¶æˆæœ¬ä¸ä¼šéšç€ç»´åº¦çš„å¢åŠ è€Œè¶…çº¿æ€§åœ°å¢é•¿ï¼›æˆ‘ä»¬åœ¨ç¥ç»è¾å°„ç¼“å­˜ä¸­ä½¿ç”¨å•blobç¼–ç (MÃ¼llerç­‰ï¼Œ2019)ï¼Œåœ¨NeRFä¸­ä½¿ç”¨çƒè°åŸºå‡½æ•°ï¼Œä¸åŒæ—¶è¿›è¡Œçš„å·¥ä½œç›¸ä¼¼(Verbinç­‰ï¼Œ2021ï¼›Yuç­‰ï¼Œ2021a)ã€‚</li></ul><h1 id="EXPERIMENTS"><a href="#EXPERIMENTS" class="headerlink" title="EXPERIMENTS"></a>EXPERIMENTS</h1><p>çªå‡ºç¼–ç çš„å¤šåŠŸèƒ½æ€§å’Œé«˜è´¨é‡ï¼Œæˆ‘ä»¬å°†å…¶ä¸ä»¥å‰çš„ç¼–ç è¿›è¡Œæ¯”è¾ƒï¼Œåœ¨å››ä¸ªä¸åŒçš„è®¡ç®—æœºå›¾å½¢åŸºå…ƒä¸­ï¼Œè¿™äº›åŸºå…ƒå—ç›Šäºç¼–ç ç©ºé—´åæ ‡ã€‚</p><h2 id="Gigapixel-Image-Approximation"><a href="#Gigapixel-Image-Approximation" class="headerlink" title="Gigapixel Image Approximation"></a>Gigapixel Image Approximation</h2><h2 id="Signed-Distance-Functions"><a href="#Signed-Distance-Functions" class="headerlink" title="Signed Distance Functions"></a>Signed Distance Functions</h2><h2 id="Neural-Radiance-Caching"><a href="#Neural-Radiance-Caching" class="headerlink" title="Neural Radiance Caching"></a>Neural Radiance Caching</h2><h2 id="Neural-Radiance-and-Density-Fields-NeRF"><a href="#Neural-Radiance-and-Density-Fields-NeRF" class="headerlink" title="Neural Radiance and Density Fields (NeRF)"></a>Neural Radiance and Density Fields (NeRF)</h2>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> InstantNGP </tag>
            
            <tag> Efficiency </tag>
            
            <tag> Encoding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå­¦ä¹ </title>
      <link href="/Learn/Blog%20Basic/Learn-Git/"/>
      <url>/Learn/Blog%20Basic/Learn-Git/</url>
      
        <content type="html"><![CDATA[<p>ä¸è¦ä¹±ç”¨ git reset â€”hard commit_id å›é€€ git commit ç‰ˆæœ¬</p><span id="more"></span><h1 id="Clone"><a href="#Clone" class="headerlink" title="Clone"></a>Clone</h1><h2 id="å…‹éš†å­ç›®å½•"><a href="#å…‹éš†å­ç›®å½•" class="headerlink" title="å…‹éš†å­ç›®å½•"></a>å…‹éš†å­ç›®å½•</h2><ol><li>åˆå§‹åŒ–ï¼š</li></ol><p>Git init</p><ol><li>è¿æ¥è¿œç«¯åº“ï¼š</li></ol><p>Git remote add origin url</p><ol><li>å¯ç”¨â€Sparse Checkoutâ€åŠŸèƒ½ï¼š</li></ol><p>Git config core.Sparsecheckout true</p><ol><li>æ·»åŠ æƒ³è¦ clone çš„ç›®å½•ï¼š</li></ol><p>Echo â€œå­ç›®å½•è·¯å¾„â€ &gt;&gt; .git/info/sparse-checkout<br>æ³¨æ„ï¼šå­ç›®å½•è·¯å¾„ä¸åŒ…å« clone çš„ä¸€çº§æ–‡ä»¶å¤¹åç§°ï¼š<br>ä¾‹å¦‚åº“è·¯å¾„æ˜¯ï¼š<br><a href="https://A/B/C/example.git">https://A/B/C/example.git</a><br>æˆ‘ä»¬æƒ³ clone example ä¸‹çš„ D/E/F ç›®å½•ï¼Œåˆ™ï¼š<br><code>echo â€œD/E/Fâ€ &gt;&gt; .git/info/sparse-checkout</code></p><ol><li>Pull ä»£ç ï¼š</li></ol><p>Git pull origin master<br>æˆ–è€…ä¸åŒ…å«å†å²ç‰ˆæœ¬çš„ cloneï¼š<br>Git pull â€”depth 1 origin master</p><blockquote><p>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸º CSDN åšä¸»ã€Œluo870604851ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š <a href="https://blog.csdn.net/luo870604851/article/details/119748749">https://blog.csdn.net/luo870604851/article/details/119748749</a></p></blockquote><h2 id="å…‹éš†ç§æœ‰ä»“åº“"><a href="#å…‹éš†ç§æœ‰ä»“åº“" class="headerlink" title="å…‹éš†ç§æœ‰ä»“åº“"></a>å…‹éš†ç§æœ‰ä»“åº“</h2><blockquote><p><a href="https://blog.csdn.net/weixin_45508265/article/details/124340158">(21æ¡æ¶ˆæ¯) Git clone å…‹éš†ç§æœ‰é¡¹ç›®_git clone é¡¹ç›®_é£ä¿¡å­çš„çŒ«Redamancyçš„åšå®¢-CSDNåšå®¢</a><br><a href="https://collabnix.com/how-to-fix-support-for-password-authentication-was-removed-error-in-github/">How to Fix â€œSupport for password authentication was removedâ€ error in GitHub â€“ Collabnix</a></p></blockquote><p><code>git clone http://tokens-name:tokens@github.com/YOUR-USERNAME/YOUR-REPOSITORY</code></p><h1 id="Git-æ•™ç¨‹"><a href="#Git-æ•™ç¨‹" class="headerlink" title="Git æ•™ç¨‹"></a>Git æ•™ç¨‹</h1><p>å¹³æ—¶ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m shuoming</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://www.liaoxuefeng.com/wiki/896043488029600/897271968352576">å·¥ä½œåŒºå’Œæš‚å­˜åŒº - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230626160832.png" alt="image.png"></p><p><code>git status</code> æŸ¥çœ‹æš‚å­˜åŒº stage çŠ¶æ€</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230626161153.png" alt="image.png"></p><h1 id="Git-reset-â€”hard-commit-id-å¯¼è‡´æœ¬åœ°æ–‡ä»¶ä¸¢å¤±"><a href="#Git-reset-â€”hard-commit-id-å¯¼è‡´æœ¬åœ°æ–‡ä»¶ä¸¢å¤±" class="headerlink" title="Git reset â€”hard commit_id å¯¼è‡´æœ¬åœ°æ–‡ä»¶ä¸¢å¤±"></a>Git reset â€”hard commit_id å¯¼è‡´æœ¬åœ°æ–‡ä»¶ä¸¢å¤±</h1><blockquote><p><a href="https://blog.csdn.net/qq_56098414/article/details/121291539">(19æ¡æ¶ˆæ¯) æ¢å¤å› git reset â€”hard ä½†æœªæäº¤å…¨éƒ¨æ–‡ä»¶åˆ°ä»“åº“å¯¼è‡´çš„æ–‡ä»¶ä¸¢å¤±é—®é¢˜_git reset â€”hard æŠŠæœªæäº¤çš„æ–‡ä»¶æä¸¢äº†_æ•°ç¥–çš„åšå®¢-CSDNåšå®¢</a><br><a href="https://blog.csdn.net/chailihua0826/article/details/94619904?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-1-94619904-blog-121291539.235^v38^pc_relevant_anti_vip_base&amp;spm=1001.2101.3001.4242.2&amp;utm_relevant_index=4">(19æ¡æ¶ˆæ¯) git add ågit reset â€”hard xxxçš„ä»£ç ä¸¢å¤±ï¼Œä»£ç å¦‚ä½•æ‰¾å›_å°å°èŠ±111111çš„åšå®¢-CSDNåšå®¢</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git fsck --lost-found</span><br><span class="line"></span><br><span class="line">git show hash_id</span><br><span class="line">git ls-tree æ–‡ä»¶å</span><br><span class="line"></span><br><span class="line">git read-tree --prefix=lib 726d5644919729dd97b7dd23f4a733e2daabab85</span><br><span class="line"></span><br><span class="line">git restore lib</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="åˆ é™¤è¿œç¨‹ä»“åº“æ–‡ä»¶ï¼Œä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼š"><a href="#åˆ é™¤è¿œç¨‹ä»“åº“æ–‡ä»¶ï¼Œä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼š" class="headerlink" title="åˆ é™¤è¿œç¨‹ä»“åº“æ–‡ä»¶ï¼Œä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼š"></a>åˆ é™¤è¿œç¨‹ä»“åº“æ–‡ä»¶ï¼Œä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached æ–‡ä»¶ //æœ¬åœ°ä¸­è¯¥æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤</span><br><span class="line"></span><br><span class="line">git rm -r --cached æ–‡ä»¶å¤¹ //åˆ é™¤æ–‡ä»¶å¤¹</span><br><span class="line"></span><br><span class="line">git commit -m &#x27;åˆ é™¤æŸä¸ªæ–‡ä»¶&#x27;</span><br><span class="line"></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h1 id="æ–°å»ºä»“åº“"><a href="#æ–°å»ºä»“åº“" class="headerlink" title="æ–°å»ºä»“åº“"></a>æ–°å»ºä»“åº“</h1><p>ä½¿ç”¨ token é“¾æ¥ä»“åº“ä¿¡æ¯<br><code>git remote set-url origin https://&lt;your_token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</code></p><h1 id="ç”¨-token-å…‹éš†ç§æœ‰ä»“åº“"><a href="#ç”¨-token-å…‹éš†ç§æœ‰ä»“åº“" class="headerlink" title="ç”¨ token å…‹éš†ç§æœ‰ä»“åº“"></a>ç”¨ token å…‹éš†ç§æœ‰ä»“åº“</h1><p>Git clone from token:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://NeRF-Mine:xxxtokenxxx@github.com/qiyun71/NeRF-Mine.git</span><br><span class="line">tensorboard --port 6007 --logdir /root/tf-logs</span><br></pre></td></tr></table></figure><p>Git remote remove origin<br>Git remote add origin path_repo</p><p>é…ç½®å…¨å±€è´¦æˆ·</p><ul><li>Git config â€”global user.Name â€¦</li><li>Git config â€”global user.Email â€¦</li></ul><p>Git push éœ€è¦é…ç½® token(2023.11.13)</p><ul><li>ç”Ÿæˆä¹‹åï¼Œå¦‚æœä¹‹å‰æ‰§è¡Œäº†ä¸‹é¢çš„å‘½ä»¤ï¼Œè®¾ç½®äº†å­˜å‚¨ç™»å½•å‡­æ®ï¼ˆé»˜è®¤å­˜å‚¨åœ¨~/.Git-credentialsï¼‰<ul><li>Git config â€”global credential.Helper store</li><li>Git config â€”global â€”unset credential.Helper æ¸…ç†ä¹‹å‰ä¿å­˜çš„è´¦å¯†ä¿¡æ¯</li></ul></li><li>Git config â€”global credential.Helper store</li></ul><p>æµ‹è¯•æ²¡æœ‰ç™¾åº¦ç½‘ç›˜åŒæ­¥æ–¹æ³•</p><h1 id="è´¡çŒ®-forkæ–¹æ³•"><a href="#è´¡çŒ®-forkæ–¹æ³•" class="headerlink" title="è´¡çŒ® forkæ–¹æ³•"></a>è´¡çŒ® forkæ–¹æ³•</h1><p><a href="https://www.freecodecamp.org/chinese/news/how-to-make-your-first-pull-request-on-github/">å¦‚ä½•åœ¨ GitHub æäº¤ç¬¬ä¸€ä¸ª pull request</a></p><p>forkåï¼Œå…‹éš†ä»“åº“ <code>$ git clone [HTTPS ADDRESS]</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºåˆ†æ”¯</span></span><br><span class="line">$ git checkout -b [Branch Name]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRFç›®å‰è¿›å±•</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/NeRF-review/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/NeRF-review/</url>
      
        <content type="html"><![CDATA[<p>NeRFç›¸å…³çš„è®ºæ–‡ at CVPR/ICCV/ECCV/NIPS/ICML/ICLR/SIGGRAPH<br><a href="https://blog.csdn.net/weixin_43962054/article/details/121762182">è®¡ç®—æœºè§†è§‰é¡¶ä¼š2022æˆªç¨¿æ—¶é—´åŠä¼šè®®æ—¶é—´_ijcai2024æˆªç¨¿æ—¥æœŸ-CSDNåšå®¢</a><br><a href="https://ccfddl.github.io/">ccf-deadlines (ccfddl.github.io)</a></p><div class="table-container"><table><thead><tr><th>My post</th><th>Brief description</th><th>status</th></tr></thead><tbody><tr><td><a href="3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF.md">NeRF</a> + <a href="NeRF-code.md">Code</a></td><td>NeRF åŸç† + ä»£ç ç†è§£</td><td>Completed</td></tr><tr><td><a href="NeuS.md">NeuS</a> + <a href="Neus-code.md">Code</a></td><td>è¡¨é¢é‡å»ºæ–¹æ³• SDFNetwork</td><td>Completed</td></tr><tr><td><a href="NeRF-InstantNGP.md">InstantNGP</a> + <a href="NeRF-InstantNGP-code.md">Tiny-cuda-nn</a></td><td>åŠ é€Ÿ NeRF çš„è®­ç»ƒå’Œæ¨ç†</td><td>Completedï¼ˆTcnnï¼‰</td></tr><tr><td><a href="Neus-Instant-nsr-pl.md">Instant-nsr-pl</a> + <a href="Neus-Instant-nsr-pl-code.md">Code</a></td><td>Neus+Tcnn+NSR+pl</td><td>Completed</td></tr><tr><td><a href="Instant-NSR.md">Instant-NSR</a> + <a href="Instant-NSR-code.md">Code</a></td><td>å¿«é€Ÿè¡¨é¢é‡å»º</td><td>Completed</td></tr><tr><td><a href="NeRO.md">NeRO</a> + <a href="NeRO-code.md">Code</a></td><td>è€ƒè™‘é•œé¢å’Œæ¼«åå°„çš„ä½“æ¸²æŸ“å‡½æ•°</td><td>In Processing</td></tr><tr><td><a href="Project/NeRF.md">NeRF</a></td><td>åŸºäº Instant-nsr-pl åˆ›å»ºçš„é¡¹ç›®</td><td>Completed</td></tr></tbody></table></div><p>Related link : <a href="https://paperswithcode.com/task/3d-reconstruction">3D Reconstruction</a> | <a href="https://github.com/lif314/awesome-NeRF-papers">awesome-NeRF-papers</a></p><span id="more"></span><h1 id="NeRF"><a href="#NeRF" class="headerlink" title="NeRF"></a>NeRF</h1><p>ECCV 2020 Oral - Best Paper Honorable Mention</p><div class="table-container"><table><thead><tr><th>Year</th><th style="text-align:center">Title&amp;Project Page</th><th style="text-align:center">Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF.md">2020</a></td><td style="text-align:center"><a href="https://www.matthewtancik.com/nerf">NeRF:Representing Scenes as Neural Radiance Fields for View Synthesis</a></td><td style="text-align:center">åˆå§‹æ–‡</td><td style="text-align:center">ECCV</td></tr></tbody></table></div><h2 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h2><div class="table-container"><table><thead><tr><th>Year</th><th style="text-align:center">Title&amp;Project Page</th><th style="text-align:center">Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="A%20Critical%20Analysis%20of%20NeRF-Based%203D%20Reconstruction.md">2023</a></td><td style="text-align:center"><a href="https://www.mdpi.com/2072-4292/15/14/3585">A Critical Analysis of NeRF-Based 3D Reconstruction</a></td><td style="text-align:center">å¯¹æ¯”äº†Colmapæ‘„å½±æµ‹é‡æ³•å’ŒNeRF-basedæ–¹æ³•åœ¨3D Reconstructionä¸­çš„ä¼˜åŠ£</td><td style="text-align:center">MDPI remote sensing</td></tr><tr><td><a href="NeRF%20in%20the%20industrial%20and%20robotics%20domain.md">2023</a></td><td style="text-align:center"><a href="https://github.com/Maftej/iisnerf">Maftej/iisnerf (github.com)</a></td><td style="text-align:center">æ¢ç´¢äº†NeRFåœ¨å·¥ä¸šå’Œæœºå™¨äººé¢†åŸŸçš„åº”ç”¨</td><td style="text-align:center">None</td></tr><tr><td><a href="2023%20Conf%20about%20NeRF.md">2023</a></td><td style="text-align:center">None</td><td style="text-align:center">2023å¹´NeRF Review ref others</td><td style="text-align:center">None</td></tr><tr><td><a href="A%20Review%20of%20Deep%20Learning-Powered%20Mesh%20Reconstruction%20Methods.md">2023</a></td><td style="text-align:center">A Review of Deep Learning-Powered Mesh Reconstruction Methods</td><td style="text-align:center">ä»‹ç»äº†å‡ ç§3Dæ¨¡å‹è¡¨ç¤ºæ–¹æ³•+å›é¡¾äº†å°†DLåº”ç”¨åˆ°Meshé‡å»ºä¸­çš„æ–¹æ³•</td><td style="text-align:center">None</td></tr><tr><td></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td></td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><h2 id="ç›¸æœºä½å§¿ç²¾åº¦é—®é¢˜"><a href="#ç›¸æœºä½å§¿ç²¾åº¦é—®é¢˜" class="headerlink" title="ç›¸æœºä½å§¿ç²¾åº¦é—®é¢˜"></a>ç›¸æœºä½å§¿ç²¾åº¦é—®é¢˜</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td>2023</td><td><a href="https://arxiv.org/abs/2311.17119">[2311.17119] Continuous Pose for Monocular Cameras in Neural Implicit Representation (arxiv.org)</a></td><td>å°†å•ç›®ç›¸æœºå§¿åŠ¿ä¼˜åŒ–ä¸ºæ—¶é—´è¿ç»­å‡½æ•°</td><td style="text-align:center"></td></tr><tr><td>2023</td><td><a href="https://zhiwenfan.github.io/PF-GRT/">Pose-Free Generalizable Rendering Transformer (zhiwenfan.github.io)</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2023</td><td><a href="https://arxiv.org/abs/2310.02687">[2310.02687] USB-NeRF: Unrolling Shutter Bundle Adjusted Neural Radiance Fields (arxiv.org)</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2023</td><td><a href="https://arxiv.org/abs/2309.11326">[2309.11326] How to turn your camera into a perfect pinhole model (arxiv.org)</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2023</td><td><a href="https://arxiv.org/abs/2312.08760">[2312.08760] CF-NeRF: Camera Parameter Free Neural Radiance Fields with Incremental Learning (arxiv.org)</a></td><td></td><td style="text-align:center">AAAI</td></tr><tr><td>2023</td><td><a href="https://arxiv.org/abs/2312.15238">[2312.15238] NoPose-NeuS: Jointly Optimizing Camera Poses with Neural Implicit Surfaces for Multi-view Reconstruction (arxiv.org)</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2024</td><td><a href="https://arxiv.org/pdf/2409.05407">KRONC: Keypoint-based Robust Camera Optimization for 3D Car Reconstruction</a></td><td>åˆ©ç”¨ç‰©ä½“çš„å…ˆéªŒï¼Œåªé’ˆå¯¹æ±½è½¦åœºæ™¯çš„é‡å»º</td><td style="text-align:center"></td></tr><tr><td>2024<br>â­</td><td><a href="https://europe.naverlabs.com/research/publications/dust3r-geometric-3d-vision-made-easy/#demo">DUSt3R: Geometric 3D Vision Made Easy - Naver Labs Europe</a></td><td>ç›´æ¥æŠ›å¼ƒç›¸æœºä½å§¿ï¼Œä½¿ç”¨Transformeræ¥é¢„æµ‹ç‚¹äº‘ï¼Œå¹¶è¿›è¡Œç‚¹äº‘é…å‡†ï¼Œé…å‡†ååå‘æ±‚ä½å§¿ã€‚<strong>å¯ä»¥ç›´æ¥ä¼°è®¡ç‚¹äº‘</strong></td><td style="text-align:center"></td></tr><tr><td></td><td><a href="https://github.com/naver/mast3r/tree/mast3r_sfm?tab=readme-ov-file">Grounding Image Matching in 3D with MASt3R</a></td><td></td></tr></tbody></table></div><p>Other paper about camera pose</p><ul><li>How to turn your camera into a perfect pinhole model</li></ul><h2 id="å›¾åƒæ‹æ‘„è´¨é‡é—®é¢˜"><a href="#å›¾åƒæ‹æ‘„è´¨é‡é—®é¢˜" class="headerlink" title="å›¾åƒæ‹æ‘„è´¨é‡é—®é¢˜"></a>å›¾åƒæ‹æ‘„è´¨é‡é—®é¢˜</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td>2024</td><td><a href="https://arxiv.org/abs/2401.00825">[2401.00825] Sharp-NeRF: Grid-based Fast Deblurring Neural Radiance Fields Using Sharpness Prior (arxiv.org)</a></td><td></td><td style="text-align:center">WACV</td></tr><tr><td>2023</td><td><a href="https://arxiv.org/abs/2312.15942">[2312.15942] Pano-NeRF: Synthesizing High Dynamic Range Novel Views with Geometry from Sparse Low Dynamic Range Panoramic Images (arxiv.org)</a></td><td>HDR</td><td style="text-align:center"></td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2401.03257">[2401.03257] RustNeRF: Robust Neural Radiance Field with Low-Quality Images (arxiv.org)</a></td><td>ä½è´¨é‡å›¾åƒ</td><td style="text-align:center"></td></tr><tr><td>2024</td><td><a href="https://guanjunwu.github.io/HDR-HexPlane/">Fast High Dynamic Range Radiance Fields for Dynamic Scenes (guanjunwu.github.io)</a></td><td>Fast HDR</td></tr></tbody></table></div><h2 id="é¢å¤–ç›‘ç£-å…ˆéªŒ"><a href="#é¢å¤–ç›‘ç£-å…ˆéªŒ" class="headerlink" title="é¢å¤–ç›‘ç£/å…ˆéªŒ"></a>é¢å¤–ç›‘ç£/å…ˆéªŒ</h2><div class="table-container"><table><thead><tr><th>Year</th><th style="text-align:center">Title&amp;Project Page</th><th style="text-align:center">Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td>2024</td><td style="text-align:center"><a href="https://arxiv.org/abs/2401.03412">[2401.03412] N$^{3}$-Mapping: Normal Guided Neural Non-Projective Signed Distance Fields for Large-scale 3D Mapping (arxiv.org)</a></td><td style="text-align:center">ä¸åŒçš„æ³•å‘ç›‘ç£</td><td style="text-align:center"></td></tr><tr><td>2024</td><td style="text-align:center"><a href="https://arxiv.org/abs/2401.12751">[2401.12751] PSDF: Prior-Driven Neural Implicit Surface Learning for Multi-view Reconstruction (arxiv.org)</a></td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td>2024</td><td style="text-align:center"><a href="https://github.com/maturk/dn-splatter">maturk/dn-splatter: DN-Splatter: Depth and Normal Priors for Gaussian Splatting and Meshing</a></td><td style="text-align:center">3DGS + Depth and Normal Priors</td></tr></tbody></table></div><ul><li>Normal Map<ul><li><a href="https://github.com/Stable-X/StableNormal">Stable-X/StableNormal: StableNormal: Reducing Diffusion Variance for Stable and Sharp Normal</a></li></ul></li></ul><h2 id="é‡å»ºç²¾åº¦-é€Ÿåº¦"><a href="#é‡å»ºç²¾åº¦-é€Ÿåº¦" class="headerlink" title="é‡å»ºç²¾åº¦/é€Ÿåº¦"></a>é‡å»ºç²¾åº¦/é€Ÿåº¦</h2><div class="table-container"><table><thead><tr><th>Year</th><th style="text-align:center">Title&amp;Project Page</th><th style="text-align:center">Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="NeuS.md">2021</a></td><td style="text-align:center"><a href="https://lingjie0206.github.io/papers/NeuS/">NeuS: Learning Neural Implicit Surfaces by Volume Rendering for Multi-view Reconstruction</a></td><td style="text-align:center">Neus: SDFè¡¨é¢é‡å»ºæ–¹æ³•</td><td style="text-align:center">NeurIPS</td></tr><tr><td><a href="Instant-NSR.md">2022</a></td><td style="text-align:center"><a href="https://zhaofuq.github.io/NeuralAM/">Human Performance Modeling and Rendering via Neural Animated Mesh</a></td><td style="text-align:center">NSR: Neus_TSDF + NGPï¼Œä½†æ˜¯ä¾èµ–mask</td><td style="text-align:center">SIGGRAPH Asia</td></tr><tr><td><a href="Neus-Instant-nsr-pl.md">2023</a></td><td style="text-align:center"><a href="https://github.com/bennyguo/instant-nsr-pl">bennyguo/instant-nsr-pl</a></td><td style="text-align:center">Neus+NeRF+Nerfacc+tcnn</td><td style="text-align:center">None</td></tr><tr><td><a href="Neuralangelo.md">2023</a></td><td style="text-align:center"><a href="https://research.nvidia.com/labs/dir/neuralangelo/">Neuralangelo: High-Fidelity Neural Surface Reconstruction</a></td><td style="text-align:center">NGP_butæ•°å€¼æ¢¯åº¦+Neus_SDF</td><td style="text-align:center">IEEE Conference on Computer Vision and Pattern Recognition (<strong>CVPR</strong>)</td></tr><tr><td><a href="PermutoSDF.md">2023</a></td><td style="text-align:center"><a href="https://radualexandru.github.io/permuto_sdf/">PermutoSDF</a></td><td style="text-align:center">NGP_butPermutohedral lattice + Neus_SDFï¼Œæ›²ç‡æŸå¤±å’Œé¢œè‰²MLPæ­£åˆ™è§£å†³é•œé¢+æ— çº¹ç†åŒºåŸŸï¼Œæ›´å…‰æ»‘</td><td style="text-align:center">IEEE/CVF Conference on CVPR</td></tr><tr><td><a href="NeuDA.md">2023</a></td><td style="text-align:center"><a href="https://3d-front-future.github.io/neuda/">NeuDA</a></td><td style="text-align:center">NGP_butDeformable Anchors+HPE + Neus</td><td style="text-align:center">CVPR</td></tr><tr><td><a href="NeRO.md">2023</a></td><td style="text-align:center"><a href="https://liuyuan-pal.github.io/NeRO/">NeRO: Neural Geometry and BRDF Reconstruction of Reflective Objects from Multiview Images</a></td><td style="text-align:center">Neus_SDF æ–°çš„å…‰è¡¨ç¤ºæ–¹æ³•å¯ä»¥é‡å»ºå‡†ç¡®çš„å‡ ä½•å’ŒBRDFï¼Œä½†æ˜¯ç»†èŠ‚å¤„ç”±äºå¤ªå…‰æ»‘è€Œå¿½ç•¥ï¼Œåå°„é¢œè‰²ä¹Ÿä¾èµ–å‡†ç¡®çš„æ³•çº¿</td><td style="text-align:center">SIGGRAPH (ACM TOG)</td></tr><tr><td><a href="UNISURF.md">2021</a></td><td style="text-align:center"><a href="https://moechsle.github.io/unisurf/">UNISURF: Unifying Neural Implicit Surfaces and Radiance Fields for Multi-View Reconstruction </a></td><td style="text-align:center">UNISURFç”¨å ç”¨å€¼æ¥è¡¨ç¤ºè¡¨é¢ï¼Œä»£æ›¿NeRFä¸­çš„$\alpha$</td><td style="text-align:center">ICCV (oral)</td></tr><tr><td><a href="PlankAssembly.md">2023</a></td><td style="text-align:center"><a href="https://manycore-research.github.io/PlankAssembly/">PlankAssembly: Robust 3D Reconstruction from Three Orthographic Views with Learnt Shape Programs</a></td><td style="text-align:center">åŸºäºTransformçš„è‡ªæ³¨æ„åŠ›æå‡ºæ¨¡å‹,å°†2Dä¸‰è§†å›¾è½¬åŒ–æˆ3Dæ¨¡å‹çš„ä»£ç å½¢å¼DSL</td><td style="text-align:center">ICCV</td></tr><tr><td><a href="NeUDF.md">2023</a></td><td style="text-align:center"><a href="http://geometrylearning.com/neudf/">NeUDF</a></td><td style="text-align:center">ä½¿ç”¨UDFï¼Œå¯ä»¥é‡å»ºå…·æœ‰ä»»æ„æ‹“æ‰‘çš„è¡¨é¢ï¼Œä¾‹å¦‚éæ°´å¯†è¡¨é¢</td><td style="text-align:center">CVPR</td></tr><tr><td><a href="NeuS2.md">2023</a></td><td style="text-align:center"><a href="https://vcai.mpi-inf.mpg.de/projects/NeuS2/">NeuS2: Fast Learning of Neural Implicit Surfaces for Multi-view Reconstruction</a></td><td style="text-align:center">åŸºäºNeusã€NGPå’ŒNSRï¼Œå®ç°é«˜è´¨é‡å¿«é€Ÿçš„é™æ€å’ŒåŠ¨æ€å»ºæ¨¡</td><td style="text-align:center">ICCV</td></tr><tr><td><a href="Color-NeuS.md">2023</a></td><td style="text-align:center"><a href="https://colmar-zlicheng.github.io/color_neus/">Color-NeuS (colmar-zlicheng.github.io)</a></td><td style="text-align:center">è§£å†³äº†ç±»Neusæ–¹æ³•æ¨ç†æ—¶è¡¨é¢é¢œè‰²æå–å›°éš¾å’Œä¸æ­£ç¡®çš„é—®é¢˜</td><td style="text-align:center">arXiv</td></tr><tr><td><a href="HF-NeuS.md">2022</a></td><td style="text-align:center"><a href="https://github.com/yiqun-wang/HFS">HF-NeuS: Improved Surface Reconstruction Using High-Frequency Details</a></td><td style="text-align:center">æ–°çš„SDFä¸é€æ˜åº¦$\alpha$å…³ç³»å‡½æ•°,å°†SDFåˆ†è§£ä¸ºåŸºå’Œä½ç§»ä¸¤ä¸ªç‹¬ç«‹éšå‡½æ•°çš„ç»„åˆ</td><td style="text-align:center">NeurIPS</td></tr><tr><td><a href="Geo-Neus.md">2022</a></td><td style="text-align:center"><a href="https://github.com/GhiXu/Geo-Neus">Geo-Neus: Geometry-Consistent Neural Implicit Surfaces Learning for Multi-view Reconstruction</a></td><td style="text-align:center">ä½¿ç”¨COLMAPäº§ç”Ÿçš„ç¨€ç–ç‚¹æ¥ä½œä¸ºSDFçš„æ˜¾ç¤ºç›‘ç£,å…·æœ‰å¤šè§†å›¾ç«‹ä½“çº¦æŸçš„éšå¼æ›²é¢ä¸Šçš„å‡ ä½•ä¸€è‡´ç›‘ç£</td><td style="text-align:center">NeurIPS</td></tr><tr><td><a href="IDR.md">2020</a></td><td style="text-align:center"><a href="https://lioryariv.github.io/idr/">Multiview Neural Surface Reconstruction by Disentangling Geometry and Appearance (lioryariv.github.io)</a></td><td style="text-align:center">ç«¯åˆ°ç«¯çš„IDRï¼šå¯ä»¥ä»maskedçš„2Då›¾åƒä¸­å­¦ä¹ 3Då‡ ä½•ã€å¤–è§‚ï¼Œ<em>å…è®¸ç²—ç•¥çš„ç›¸æœºä¼°è®¡</em></td><td style="text-align:center">NeurIPS</td></tr><tr><td><a href="FlexiCubes.md">2023</a></td><td style="text-align:center"><a href="https://research.nvidia.com/labs/toronto-ai/flexicubes/">Flexible Isosurface Extraction for Gradient-Based Mesh Optimization (FlexiCubes) (nvidia.com)</a></td><td style="text-align:center">ä¸€ç§æ–°çš„Marching Cubeçš„æ–¹æ³•</td><td style="text-align:center">ACM Trans. on Graph. (SIGGRAPH 2023)</td></tr></tbody></table></div><h2 id="Shadow-amp-Highlight"><a href="#Shadow-amp-Highlight" class="headerlink" title="Shadow&amp;Highlight"></a>Shadow&amp;Highlight</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td>2023</td><td><a href="https://nrhints.github.io/">Relighting Neural Radiance Fields with Shadow and Highlight Hints</a></td><td>æ•°æ®é›†ä½¿ç”¨ç›¸æœºä½å§¿å’Œç¯æºä½å§¿,è®­ç»ƒé›†å¤§çº¦500å¼ ,Shadow and Highlight hints</td><td style="text-align:center">SIGGRAPH</td></tr><tr><td><a href="NeRO.md">2023</a></td><td><a href="https://liuyuan-pal.github.io/NeRO/">NeRO: Neural Geometry and BRDF Reconstruction of Reflective Objects from Multiview Images</a></td><td>Neus_SDF æ–°çš„å…‰è¡¨ç¤ºæ–¹æ³•å¯ä»¥é‡å»ºå‡†ç¡®çš„å‡ ä½•å’ŒBRDFï¼Œä½†æ˜¯ç»†èŠ‚å¤„ç”±äºå¤ªå…‰æ»‘è€Œå¿½ç•¥ï¼Œåå°„é¢œè‰²ä¹Ÿä¾èµ–å‡†ç¡®çš„æ³•çº¿</td><td style="text-align:center">SIGGRAPH (ACM TOG)</td></tr><tr><td><a href="ShadowNeuS.md">2023</a></td><td><a href="https://gerwang.github.io/shadowneus/">ShadowNeuS (gerwang.github.io)</a></td><td>å¤šå…‰ç…§ä¸‹å•è§†å›¾é‡å»ºSDF+RGBå›¾åƒé‡å»ºå¤–è§‚+BRDF</td><td style="text-align:center">CVPR</td></tr><tr><td><a href="Ref-NeRF.md">2022</a></td><td><a href="https://dorverbin.github.io/refnerf/">Ref-NeRF (dorverbin.github.io)</a></td><td>åŸºäºçƒé¢è°æ³¢çš„IDEç¼–ç +é¢„æµ‹è¡¨é¢æ³•å‘+BRDF</td><td style="text-align:center">CVPR</td></tr><tr><td><a href="NeRFactor.md">2021</a></td><td><a href="https://xiuming.info/projects/nerfactor/">NeRFactor (xiuming.info)</a></td><td>NeRFactoråœ¨æœªçŸ¥å…‰ç…§æ¡ä»¶ä¸‹ä»å›¾åƒä¸­æ¢å¤ç‰©ä½“å½¢çŠ¶å’Œåå°„ç‡</td><td style="text-align:center">SIGGRAPH</td></tr><tr><td><a href="Ref-NeuS.md">2023</a></td><td><a href="https://g3956.github.io/">Ref-NeuS (g3956.github.io)</a></td><td>Anomaly Detection for Reflection Score + Visibility Identification for Reflection Score+åå°„æ„ŸçŸ¥çš„å…‰åº¦æŸå¤±</td><td style="text-align:center">ICCV Oral</td></tr><tr><td><a href="NeuFace.md">2023</a></td><td><a href="https://github.com/aejion/NeuFace">NeuFace: Realistic 3D Neural Face Rendering from Multi-view Images</a></td><td><strong>BRDF+SDF+PBR</strong>æ¡†æ¶ï¼Œç«¯åˆ°ç«¯è®­ç»ƒï¼Œé‡å»ºäººè„¸çš„å‡ ä½•+å¤–è§‚</td><td style="text-align:center">CVPR</td></tr><tr><td>2024</td><td><a href="https://github.com/cuiziteng/Aleth-NeRF">cuiziteng/Aleth-NeRF: [AAAI 2024] Aleth-NeRF: Illumination Adaptive NeRF with Concealing Field Assumption (github.com)</a></td><td></td><td style="text-align:center">AAAI</td></tr><tr><td>2023</td><td><a href="https://arxiv.org/abs/2312.08118">[2312.08118] Neural Radiance Fields for Transparent Object Using Visual Hull (arxiv.org)</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2024</td><td>[Rethinking Directional Parameterization in Neural Implicit Surface Reconstruction \</td><td>PDF](<a href="https://arxiv.org/pdf/2409.06923">https://arxiv.org/pdf/2409.06923</a>)</td><td style="text-align:center">æ··åˆæ–¹å‘å‚æ•°åŒ–è¾“å…¥</td></tr></tbody></table></div><h2 id="Sparse-images-Generalization"><a href="#Sparse-images-Generalization" class="headerlink" title="Sparse images/Generalization"></a>Sparse images/Generalization</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="SparseNeuS.md">2022</a></td><td><a href="https://www.xxlong.site/SparseNeuS/">SparseNeuS: Fast Generalizable Neural Surface Reconstruction from Sparse Views</a></td><td>å¤šå±‚å‡ ä½•æ¨ç†æ¡†æ¶+å¤šå°ºåº¦é¢œè‰²æ··åˆ+ä¸€è‡´æ€§æ„ŸçŸ¥çš„å¾®è°ƒ</td><td style="text-align:center">ECCV</td></tr><tr><td>2023</td><td><a href="https://sparsenerf.github.io/">SparseNeRF</a></td><td>åˆ©ç”¨æ¥è‡ªç°å®ä¸–ç•Œä¸å‡†ç¡®è§‚æµ‹çš„æ·±åº¦å…ˆéªŒçŸ¥è¯†</td><td style="text-align:center">Technical Report</td></tr><tr><td>2021</td><td><a href="https://alexyu.net/pixelnerf/">pixelNeRF: Neural Radiance Fields from One or Few Images (alexyu.net)</a></td><td></td><td style="text-align:center">CVPR</td></tr><tr><td><a href="FORGE.md">2022</a></td><td><a href="https://ut-austin-rpl.github.io/FORGE/">FORGE (ut-austin-rpl.github.io)</a></td><td>voxelç‰¹å¾æå–2Dâ€”&gt;3D+ç›¸æœºå§¿æ€ä¼°è®¡+ç‰¹å¾å…±äº«å’Œèåˆ+ç¥ç»éšå¼é‡å»º</td><td style="text-align:center">ArXiv</td></tr><tr><td><a href="FreeNeRF.md">2023</a></td><td><a href="https://jiawei-yang.github.io/FreeNeRF/">FreeNeRF: Frequency-regularized NeRF (jiawei-yang.github.io)</a></td><td>ç¨€ç–è§†å›¾è®­ç»ƒæ—¶ï¼Œé€æ­¥å¼€æ”¾é«˜é¢‘åˆ†é‡å¯ä»¥è·å¾—æ›´å¥½çš„æ•ˆæœï¼Œé®æŒ¡æ­£åˆ™æ¶ˆé™¤floaters</td><td style="text-align:center">CVPR</td></tr><tr><td>2023</td><td><a href="https://sarahweiii.github.io/zerorf/">ZeroRF (sarahweiii.github.io)</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2023</td><td><a href="https://github.com/eezkni/ColNeRF">eezkni/ColNeRF: [AAAI2024] Pytorch implementation of â€œColNeRF: Collaboration for Generalizable Sparse Input Neural Radiance Fieldâ€ (github.com)</a></td><td></td><td style="text-align:center">AAAI2024</td></tr><tr><td>2023</td><td><a href="https://alvin528.github.io/NeuSurf/">NeuSurf - Project Page (alvin528.github.io)</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2402.14586">[2402.14586] FrameNeRF: A Simple and Efficient Framework for Few-shot Novel View Synthesis</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2402.16407">[2402.16407] CMC: Few-shot Novel View Synthesis via Cross-view Multiplane Consistency</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2024</td><td><a href="https://alvin528.github.io/NeuSurf/">NeuSurf: On-Surface Priors for Neural Surface Reconstruction from Sparse Input Views</a></td><td>![image.png\</td><td style="text-align:center">666](<a href="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240628104645.png">https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240628104645.png</a>)</td><td>AAAI</td></tr><tr><td>2024</td><td><a href="https://gaussianobject.github.io/">GaussianObject: High-Quality 3D Object Reconstruction from Four Views with Gaussian Splatting</a></td><td></td><td style="text-align:center"></td></tr><tr><td>2024</td><td>[Spurfies: Sparse Surface Reconstruction using Local Geometry Priors \</td><td>PDF](<a href="https://arxiv.org/pdf/2408.16544">https://arxiv.org/pdf/2408.16544</a>)</td><td style="text-align:center"></td></tr></tbody></table></div><h2 id="Large-Scale-Scene"><a href="#Large-Scale-Scene" class="headerlink" title="Large Scale Scene"></a>Large Scale Scene</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="NeRF++.md">2020</a></td><td><a href="https://github.com/Kai-46/nerfplusplus">nerfplusplus: improves over nerf in 360 capture of unbounded scenes</a></td><td>å°†èƒŒæ™¯çš„é‡‡æ ·ç‚¹è¡¨ç¤ºä¸ºå››ç»´å‘é‡ï¼Œä¸å‰æ™¯åˆ†åˆ«ä½¿ç”¨ä¸åŒçš„MLPè¿›è¡Œè®­ç»ƒ</td><td style="text-align:center">arXiv</td></tr><tr><td><a href="Mip-NeRF%20360.md">2022</a></td><td><a href="https://jonbarron.info/mipnerf360/">mip-NeRF 360</a></td><td>å°†å•ä½çƒå¤–çš„èƒŒæ™¯å‚æ•°åŒ–ï¼Œå°å‹æè®®ç½‘ç»œè¿›è¡Œç²¾é‡‡æ ·ï¼Œæ­£åˆ™åŒ–distæ¶ˆé™¤å°åŒºåŸŸäº‘é›¾</td><td style="text-align:center">CVPR</td></tr></tbody></table></div><h2 id="Uncertainty-in-NeRF"><a href="#Uncertainty-in-NeRF" class="headerlink" title="Uncertainty in NeRF"></a>Uncertainty in NeRF</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Paper</th><th>ç ”ç©¶å¯¹è±¡</th><th>ç ”ç©¶å†…å®¹</th><th>ç ”ç©¶æ–¹æ³•</th><th>Important for me</th></tr></thead><tbody><tr><td>2024</td><td><a href="https://arxiv.org/abs/2405.02568">[2405.02568] ActiveNeuS: Active 3D Reconstruction using Neural Implicit Surface Uncertainty</a></td><td>3D scene reconstruction</td><td>Active learningä¸»åŠ¨å­¦ä¹ </td><td>Neural Implicit Surface Uncertainty</td><td>å›¾åƒæ¸²æŸ“æˆ–å‡ ä½•ä¸ç¡®å®šæ€§<br>åˆ©ç”¨ä¸åŒç±»å‹çš„ä¸ç¡®å®šæ€§å¯ä»¥å‡å°‘åœ¨æ—©æœŸè®­ç»ƒé˜¶æ®µå› è¾“å…¥ç¨€ç–è€Œå‡ºç°çš„åå·®</td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2404.06727">[2404.06727] Bayesian NeRF: Quantifying Uncertainty with Volume Density in Neural Radiance Fields</a></td><td>Volume Density in Neural Radiance Fields</td><td>quantifying uncertainty based on the geometric structure</td><td>Bayesian</td><td>å‡ ä½•ä½“ç§¯ç»“æ„ä¸­çš„ä¸ç¡®å®šæ€§</td></tr><tr><td>2024</td><td><a href="https://bayesrays.github.io/">Bayesâ€™ Rays</a></td><td>NeRF</td><td>BaysRays</td><td>Uncertainty Quantification</td><td>Bayes, åæ ‡perturbation</td></tr><tr><td>2024<br>â­</td><td>[Sources of Uncertainty in 3D Scene Reconstruction \</td><td>PDF](<a href="https://arxiv.org/pdf/2409.06407">https://arxiv.org/pdf/2409.06407</a>)</td><td>NeRF and 3DGS</td><td><br></td><td></td><td></td></tr><tr><td>2024</td><td><a href="https://actnerf.github.io/">ActNeRF</a></td><td>Robot Manipulators</td><td>Uncertainty-aware Active Learning of NeRF-based Object Models</td><td>Visual and Re-orientation Actions</td><td>å…è®¸æœºå™¨äººåœ¨æ”¶é›†è§†è§‰è§‚å¯Ÿç»“æœçš„åŒæ—¶é‡æ–°å®šå‘ç‰©ä½“</td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2404.01400">[2404.01400] NVINS: Robust Visual Inertial Navigation Fused with NeRF-augmented Camera Pose Regressor and Uncertainty Quantification</a></td><td>real-time and robust robotic tasks(æœºå™¨äººå®æ—¶å¯¼èˆª)</td><td>NeRF-augmented Camera Pose Regressor and Uncertainty Quantification</td><td>Fused</td><td></td></tr><tr><td>2024</td><td><a href="https://arxiv.org/abs/2403.18476">[2403.18476] Modeling uncertainty for Gaussian Splatting</a></td><td>Gaussian Splatting</td><td>Modeling uncertainty</td><td>Variational Inference-based approach +  Area Under Sparsification Error (AUSE)</td><td>åœ¨<strong>å›¾åƒæ¸²æŸ“è´¨é‡</strong>å’Œä¸ç¡®å®šæ€§ä¼°è®¡ç²¾åº¦æ–¹é¢éƒ½ä¼˜äºç°æœ‰æ–¹æ³•</td></tr><tr><td>2024</td><td><a href="https://sites.google.com/view/nvf-cvpr24/">Neural Visibility Field for Uncertainty-Driven Active Mapping</a></td><td></td><td></td><td></td><td>NVF è‡ªç„¶ä¼šä¸ºæœªè§‚å¯ŸåŒºåŸŸåˆ†é…æ›´é«˜çš„ä¸ç¡®å®šæ€§ï¼Œå¸®åŠ©æœºå™¨äººé€‰æ‹©æœ€å…·ä¿¡æ¯é‡çš„ä¸‹ä¸€ä¸ªè§†ç‚¹</td></tr><tr><td>2024</td><td><a href="https://arxiv.org/pdf/2407.08154">Bayesian uncertainty analysis for underwater 3D reconstruction with neural radiance fields</a></td><td></td><td></td><td></td></tr></tbody></table></div><ul><li>Aleatoric Uncertainty<ul><li>random effects in the observations include varying lighting and motion blur</li></ul></li><li>Epistemic Uncertainty<ul><li>lack of information in the scene such as occluded (can be reduced by observing more data from new poses)</li></ul></li><li>Confounding outliers<ul><li>non-static scenes (passers by, moving object)</li></ul></li><li>Pose Uncertainty<ul><li>Sensitivity to the camera poses in the scene</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/MyBlogPic/202403/20240929204911.png" alt="image.png|666"></p><h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><h2 id="Activation-Functions"><a href="#Activation-Functions" class="headerlink" title="Activation Functions"></a>Activation Functions</h2><div class="table-container"><table><thead><tr><th>Year</th><th style="text-align:center">Title&amp;Project Page</th><th style="text-align:center">Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td>2020</td><td style="text-align:center"><a href="https://www.vincentsitzmann.com/siren/">Implicit Neural Representations with Periodic Activation Functions</a></td><td style="text-align:center">periodic activation functions dubbed sinusoidal representation networks or SIREN</td><td style="text-align:center">ACM Transactions on Graphics (SIGGRAPH)</td></tr></tbody></table></div><h2 id="Encoding"><a href="#Encoding" class="headerlink" title="Encoding"></a>Encoding</h2><div class="table-container"><table><thead><tr><th>Year</th><th style="text-align:center">Title&amp;Project Page</th><th style="text-align:center">Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="NeRF-InstantNGP.md">2022</a></td><td style="text-align:center"><a href="https://nvlabs.github.io/instant-ngp/">Instant Neural Graphics Primitives with a Multiresolution Hash Encoding</a></td><td style="text-align:center">å¤šåˆ†è¾¨ç‡å“ˆå¸Œç¼–ç </td><td style="text-align:center">ACM Transactions on Graphics (SIGGRAPH)</td></tr><tr><td><a href="Neus-Instant-nsr-pl.md">2023</a></td><td style="text-align:center"><a href="https://github.com/bennyguo/instant-nsr-pl">bennyguo/instant-nsr-pl</a></td><td style="text-align:center">Neus+NeRF+Nerfacc+tcnn</td><td style="text-align:center">None</td></tr><tr><td><a href="Neuralangelo.md">2023</a></td><td style="text-align:center"><a href="https://research.nvidia.com/labs/dir/neuralangelo/">Neuralangelo: High-Fidelity Neural Surface Reconstruction</a></td><td style="text-align:center">NGP_butæ•°å€¼æ¢¯åº¦+Neus_SDF</td><td style="text-align:center">IEEE Conference on Computer Vision and Pattern Recognition (<strong>CVPR</strong>)</td></tr><tr><td><a href="PermutoSDF.md">2023</a></td><td style="text-align:center"><a href="https://radualexandru.github.io/permuto_sdf/">PermutoSDF</a></td><td style="text-align:center">NGP_butPermutohedral lattice + Neus_SDFï¼Œæ›²ç‡æŸå¤±å’Œé¢œè‰²MLPæ­£åˆ™è§£å†³é•œé¢+æ— çº¹ç†åŒºåŸŸï¼Œæ›´å…‰æ»‘</td><td style="text-align:center">IEEE/CVF Conference on CVPR</td></tr><tr><td><a href="NeuDA.md">2023</a></td><td style="text-align:center"><a href="https://3d-front-future.github.io/neuda/">NeuDA</a></td><td style="text-align:center">NGP_butDeformable Anchors+HPE + Neus</td><td style="text-align:center">CVPR</td></tr><tr><td><a href="Zip-NeRF.md">2023</a></td><td style="text-align:center"><a href="https://jonbarron.info/zipnerf/">Zip-NeRF (jonbarron.info)</a></td><td style="text-align:center">NGP + Mip-NeRF360</td><td style="text-align:center">ICCV</td></tr><tr><td><a href="Tri-MipRF.md">2023</a></td><td style="text-align:center"><a href="https://wbhu.github.io/projects/Tri-MipRF/">Tri-MipRF: Tri-Mip Representation for Efficient Anti-Aliasing Neural Radiance Fields (wbhu.github.io)</a></td><td style="text-align:center">Tri-MipRF encoding(TensoRF + NGP)+ Cone Sampling(Mip-NeRF)</td><td style="text-align:center">ICCV</td></tr><tr><td><a href="TensoRF.md">2022</a></td><td style="text-align:center"><a href="https://apchenstu.github.io/TensoRF/">TensoRF: Tensorial Radiance Fields (apchenstu.github.io)</a></td><td style="text-align:center">TensoRFå¼•å…¥VMåˆ†è§£ï¼Œæé«˜é‡å»ºçš„è´¨é‡å’Œé€Ÿåº¦ï¼Œå¹¶å‡å°äº†å†…å­˜å ç”¨</td><td style="text-align:center">ECCV</td></tr><tr><td><a href="Strivec.md">2023</a></td><td style="text-align:center"><a href="https://github.com/Zerg-Overmind/Strivec">Zerg-Overmind/Strivec (github.com)</a></td><td style="text-align:center">å±€éƒ¨å¼ é‡CPåˆ†è§£ä¸ºä¸‰å‘é‡+å¤šå°ºåº¦ç½‘æ ¼+å ç”¨ç½‘æ ¼é‡‡æ ·æ–¹å¼</td><td style="text-align:center">ICCV</td></tr><tr><td><a href="3D%20Gaussian%20Splatting.md">2023</a></td><td style="text-align:center"><a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/">3D Gaussian Splatting for Real-Time Radiance Field Rendering (inria.fr)</a></td><td style="text-align:center">ä¼˜åŒ–3Dé«˜æ–¯ç‚¹äº‘ï¼Œå¹¶ä½¿ç”¨splattingæ¸²æŸ“æ–¹å¼ï¼Œå®ç°å®æ—¶é«˜åˆ†è¾¨ç‡è®­ç»ƒ+æ¸²æŸ“</td><td style="text-align:center">SIGGRAPH</td></tr><tr><td><a href="BakedSDF.md">2023</a></td><td style="text-align:center"><a href="https://bakedsdf.github.io/">BakedSDF</a></td><td style="text-align:center">VolSDF+MarchingCubeå¾—åˆ°meshï¼Œæ¼«åå°„+é«˜æ–¯å¶æ¥æ¸²æŸ“é¢œè‰²</td><td style="text-align:center">SIGGRAPH</td></tr><tr><td>2024</td><td style="text-align:center"><a href="https://arxiv.org/abs/2402.16366">[2402.16366] SPC-NeRF: Spatial Predictive Compression for Voxel Based Radiance Field</a></td><td style="text-align:center">ç©ºé—´é¢„æµ‹ç¼–ç ï¼Œæœ‰æ•ˆåœ°æ¶ˆé™¤ç©ºé—´å†—ä½™ï¼Œä»¥è·å¾—æ›´å¥½çš„å‹ç¼©æ€§èƒ½</td></tr></tbody></table></div><h2 id="Sampling"><a href="#Sampling" class="headerlink" title="Sampling"></a>Sampling</h2><p>åŠ é€Ÿè®­ç»ƒå’Œæ¸²æŸ“è¿‡ç¨‹ã€æé«˜æ–°è§†å›¾è´¨é‡</p><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="NerfAcc.md">2023</a></td><td><a href="https://www.nerfacc.com/en/latest/">NerfAcc Documentation â€” nerfacc 0.5.3</a></td><td>ä¸€ç§æ–°çš„é‡‡æ ·æ–¹æ³•å¯ä»¥åŠ é€ŸNeRF</td><td style="text-align:center">arXiv</td></tr><tr><td><a href="Mip-NeRF.md">2021</a></td><td><a href="https://jonbarron.info/mipnerf/">mip-NeRF </a></td><td>æˆªå¤´åœ†é”¥ä½“é‡‡æ ·æ–¹æ³•+IPEncoding</td><td style="text-align:center">ICCV</td></tr><tr><td><a href="Floaters%20No%20More.md">2023</a></td><td><a href="https://gradient-scaling.github.io/#Code">Floaters No More: Radiance Field Gradient Scaling for Improved Near-Camera Training</a></td><td>é€šè¿‡æ¢¯åº¦ç¼©æ”¾ï¼Œè§£å†³åŸºäºNeRFé‡å»ºåœºæ™¯ä¸­çš„èƒŒæ™¯å¡Œé™·å’Œé•œå‰æ¼‚æµ®ç‰©</td><td style="text-align:center">The Eurographics Association</td></tr><tr><td>2023</td><td><a href="https://kaist-viclab.github.io/pronerf-site/">ProNeRF: Learning Efficient Projection-Aware Ray Sampling for Fine-Grained Implicit Neural Radiance Fields (kaist-viclab.github.io)</a></td><td>æŠ•å½±æ„ŸçŸ¥é‡‡æ ·ï¼ˆPASï¼‰</td><td style="text-align:center"></td></tr><tr><td>2022</td><td><a href="https://thomasneff.github.io/adanerf/">AdaNeRF: Adaptive Sampling for Real-time Rendering of Neural Radiance Fields</a></td><td>è‡ªé€‚åº”é‡‡æ ·æ–¹æ³•</td><td style="text-align:center">ECCV</td></tr><tr><td>2021</td><td><a href="https://jaminfong.cn/neusample/">NeuSample</a></td><td>Neural Sample Fieldå…‰çº¿ä¸Šçš„é‡‡æ ·ç‚¹ä¹Ÿæ˜¯ç”¨ç½‘ç»œè¿›è¡Œç”Ÿæˆ</td><td style="text-align:center"></td></tr><tr><td>2022</td><td><a href="https://cwchenwang.github.io/NeRF-SR/">NeRF-SR</a></td><td>Super-Samplingæ¯ä¸ªåƒç´ å‘å°„å¤šæ¡å…‰çº¿</td><td style="text-align:center">ACM Multimedia</td></tr></tbody></table></div><ul><li><a href="https://arxiv.org/pdf/2310.04152.pdf">Improving Neural Radiance Fields Using Near-Surface Sampling With Point Cloud Generation (arxiv.org)</a></li><li><a href="https://arxiv.org/abs/2311.07044">L0-Sampler: An L0 Model Guided Volume Sampling for NeRF</a> åˆ†æ®µå¸¸æ•°é‡‡æ ·æ”¹ä¸ºåˆ†æ®µæŒ‡æ•°é‡‡æ ·</li></ul><h2 id="Volume-Rendering-Function"><a href="#Volume-Rendering-Function" class="headerlink" title="Volume Rendering Function"></a>Volume Rendering Function</h2><ul><li><a href="https://github.com/mikacuy/PL-NeRF">mikacuy/PL-NeRF: NeRF Revisited: Fixing Quadrature Instability in Volume Rendering, Neurips 2023 (github.com)</a><ul><li>NeRF åˆ†æ®µå¸¸æ•°ç§¯åˆ† â€”&gt; PL-NeRF åˆ†æ®µçº¿æ€§ç§¯åˆ†</li><li><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures20231101151141.png" alt="image.png|666"></li></ul></li><li>StEikï¼šåŸºäº SDF çš„éšå¼åœºä¼˜åŒ–é—®é¢˜(Neural SDF)ï¼Œæå‡ºä¸€ä¸ªæ–°çš„çº¦æŸé¡¹<ul><li><a href="https://zhuanlan.zhihu.com/p/649921965">NeurIPS 2023 | ä¸‰ç»´é‡å»ºä¸­çš„Neural SDF(Neural Implicit Surface) - çŸ¥ä¹ (zhihu.com)</a></li><li><a href="https://github.com/sunyx523/StEik">sunyx523/StEik (github.com)</a></li></ul></li><li>Rethinking Directional Integration in Neural Radiance Fieldsï¼Œä¿®æ”¹äº† <strong>NeRF çš„æ¸²æŸ“æ–¹ç¨‹</strong><ul><li><a href="https://arxiv.org/abs/2311.16504">Rethinking Directional Integration in Neural Radiance Fields (arxiv.org)</a></li></ul></li></ul><h2 id="PointCloud"><a href="#PointCloud" class="headerlink" title="PointCloud"></a>PointCloud</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="3D%20Gaussian%20Splatting.md">2023</a></td><td><a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/">3D Gaussian Splatting for Real-Time Radiance Field Rendering (inria.fr)</a></td><td>ä¼˜åŒ–3Dé«˜æ–¯ç‚¹äº‘ï¼Œå¹¶ä½¿ç”¨splattingæ¸²æŸ“æ–¹å¼ï¼Œå®ç°å®æ—¶é«˜åˆ†è¾¨ç‡è®­ç»ƒ+æ¸²æŸ“</td><td style="text-align:center">SIGGRAPH</td></tr><tr><td>2023</td><td><a href="https://xrvitd.github.io/Projects/GCNO/index.html">Globally Consistent Normal Orientation for Point Clouds by Regularizing the Winding-Number Field</a></td><td>ä½¿å¾—ç¨€ç–ç‚¹äº‘å’Œè–„å£ç‚¹äº‘æ³•å‘é‡ä¸€è‡´</td><td style="text-align:center">ACM Transactions on Graphics(SIGGRAPH)</td></tr><tr><td>2023</td><td><a href="https://research.nvidia.com/labs/toronto-ai/NKSR/">Neural Kernel Surface Reconstruction</a></td><td>ä»ç‚¹äº‘ä¸­è¿›è¡Œè¡¨é¢é‡å»º</td><td style="text-align:center">CVPR 2023 Highlight</td></tr><tr><td><a href="Point-NeRF.md">2022</a></td><td><a href="https://xharlie.github.io/projects/project_sites/pointnerf/">Point-NeRF: Point-based Neural Radiance Fields</a></td><td>ç”Ÿæˆåˆå§‹åŒ–ç‚¹äº‘ï¼ŒåŸºäºç‚¹äº‘è¿›è¡Œå¢åˆ å’Œä½“æ¸²æŸ“</td><td style="text-align:center">CVPR 2022 Oral</td></tr><tr><td>2024</td><td><a href="https://jiahao-ma.github.io/hashpoint/">HashPoint</a></td><td>ç»“åˆrasterization and ray tracing</td><td style="text-align:center">CVPR 2024 Highlight</td></tr></tbody></table></div><h1 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h1><h2 id="ä»éšå¼åœºä¸­æå–è¡¨é¢"><a href="#ä»éšå¼åœºä¸­æå–è¡¨é¢" class="headerlink" title="ä»éšå¼åœºä¸­æå–è¡¨é¢"></a>ä»éšå¼åœºä¸­æå–è¡¨é¢</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td>2023</td><td><a href="https://github.com/cong-yi/DualMesh-UDF?tab=readme-ov-file">cong-yi/DualMesh-UDF (github.com)</a></td><td>Surface Extraction from Neural Unsigned Distance Fields</td><td style="text-align:center">ICCV</td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div><h2 id="Framework"><a href="#Framework" class="headerlink" title="Framework"></a>Framework</h2><div class="table-container"><table><thead><tr><th>Year</th><th>Title&amp;Project Page</th><th>Brief Description</th><th style="text-align:center">Conf/Jour</th></tr></thead><tbody><tr><td><a href="NeRF-Studio.md">2023</a></td><td><a href="https://docs.nerf.studio/en/latest/">nerfstudio</a></td><td>é›†æˆç°æœ‰çš„NeRFæ–¹æ³•</td><td style="text-align:center">ACM SIGGRAPH</td></tr><tr><td>2022</td><td><a href="https://autonomousvision.github.io/sdfstudio/">SDFStudio</a></td><td>é›†æˆåŸºäºSDFçš„NeRFæ–¹æ³•</td><td style="text-align:center">None</td></tr></tbody></table></div><h2 id="æœ‰è¶£çš„åº”ç”¨"><a href="#æœ‰è¶£çš„åº”ç”¨" class="headerlink" title="æœ‰è¶£çš„åº”ç”¨"></a>æœ‰è¶£çš„åº”ç”¨</h2><div class="table-container"><table><thead><tr><th>Year</th><th style="text-align:center">Title&amp;Project Page</th><th style="text-align:center">Brief Description</th><th>Conf/Jour</th></tr></thead><tbody><tr><td>2023</td><td style="text-align:center"><a href="https://world-from-eyes.github.io/">Seeing the World through Your Eyes</a></td><td style="text-align:center">ä»äººçœ¼çš„å€’å½±ä¸­é‡å»ºç‰©ä½“</td><td>None</td></tr><tr><td><a href="PAniC-3D.md">2023</a></td><td style="text-align:center"><a href="https://github.com/shuhongchen/panic3d-anime-reconstruction">PAniC-3D Stylized Single-view 3D Reconstruction from Portraits of Anime Characters</a></td><td style="text-align:center">ä»æ’ç”»é£æ ¼è§’è‰²è‚–åƒä¸­é‡å»º3D</td><td>CVPR</td></tr><tr><td>2023</td><td style="text-align:center"><a href="https://www.lerf.io/">LERF: Language Embedded Radiance Fields</a></td><td style="text-align:center">ç”¨è¯­è¨€æŸ¥è¯¢ç©ºé—´ä¸­çš„3Dç‰©ä½“ï¼Œå¹¶é«˜äº®æ˜¾ç¤º</td><td>ICCV 2023 (Oral)</td></tr><tr><td>2024</td><td style="text-align:center"><a href="https://arxiv.org/pdf/2407.11921">IPA-NeRF: Illusory Poisoning Attack Against Neural Radiance Fields</a></td><td style="text-align:center">NeRFåé—¨(Illusory Poisoning Attack)ï¼Œåœ¨NeRFæ¸²æŸ“çš„æŸä¸ªå›ºå®šè§†å›¾æ’å…¥åé—¨å›¾åƒ</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Review </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyTorchå­¦ä¹ ç¬”è®°</title>
      <link href="/Learn/Neural%20Network/PyTorch/"/>
      <url>/Learn/Neural%20Network/PyTorch/</url>
      
        <content type="html"><![CDATA[<p>åŸºäºPytorchå­¦ä¹ DLæ—¶ï¼Œå­¦ä¹ åˆ°çš„ä¸€äº›æŠ€å·§/code</p><span id="more"></span><h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h1><h2 id="Loss-NAN"><a href="#Loss-NAN" class="headerlink" title="Loss (NAN)"></a>Loss (NAN)</h2><p>æŸå¤±å‡½æ•°åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œçªç„¶å˜å¾—å¾ˆå¤§æˆ–è€…nan<br>æ·»åŠ  torch.cuda.amp.GradScaler() è§£å†³ lossä¸ºnanæˆ–infçš„é—®é¢˜</p><h1 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h1><h2 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h2><blockquote><p><a href="https://dashen.wang/1283.html">å…³äºå›½å†…condaå®‰è£…cuda11.6+pytorchçš„é‚£äº›äº‹ã€‚ â€“ ç‹å¤§ç¥ (dashen.wang)</a></p></blockquote><p>ä½¿ç”¨minicondaåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p><ul><li>conda create -n mine python=3.8</li><li>conda activate mine</li></ul><p>å®‰è£…cuda</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">æ¢æºï¼š</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge</span><br><span class="line">conda config --set show_channel_urls true</span><br><span class="line"></span><br><span class="line">å®‰è£…ï¼š</span><br><span class="line">conda install pytorch torchvision torchaudio pytorch-cuda=11.6</span><br><span class="line"></span><br><span class="line">Found conflicts:</span><br><span class="line">Package pytorch conflicts for:  </span><br><span class="line">torchaudio -&gt; pytorch[version=&#x27;1.10.0|1.10.1|1.10.2|1.11.0|1.12.0|1.12.1|1.13.0|1.13.1|2.0  </span><br><span class="line">.0|2.0.1|1.9.1|1.9.0|1.8.1|1.8.0|1.7.1|1.7.0|1.6.0&#x27;]  </span><br><span class="line">torchvision -&gt; pytorch[version=&#x27;1.10.0|1.10.1|1.10.2|2.0.1|2.0.0|1.13.1|1.13.0|1.12.1|1.12  </span><br><span class="line">.0|1.11.0|1.9.1|1.9.0|1.8.1|1.8.0|1.7.1|1.7.0|1.6.0|1.5.1&#x27;]</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…</span><br><span class="line">&gt; conda install -c gpytorch gpytorch</span><br><span class="line"></span><br><span class="line">å®‰è£…å¸¦cudaçš„torch</span><br><span class="line">pip install torch==2.0.0+cu118 torchvision==0.15.1+cu118 torchaudio==2.0.1 --index-url https://download.pytorch.org/whl/cu118 --user</span><br></pre></td></tr></table></figure><h1 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Neus: </span><br><span class="line">torch.set_default_tensor_type(&#x27;torch.cuda.FloatTensor&#x27;)</span><br><span class="line">parser.add_argument(&#x27;--gpu&#x27;, type=int, default=0)</span><br><span class="line">torch.cuda.set_device(args.gpu)</span><br><span class="line"></span><br><span class="line">self.device = torch.device(&#x27;cuda&#x27;)</span><br><span class="line">network = Network(**self.conf[&#x27;model.nerf&#x27;]).to(self.device)</span><br><span class="line"></span><br><span class="line">#################################################################</span><br><span class="line">NeRF:</span><br><span class="line">device = torch.device(&quot;cuda&quot; if torch.cuda.is_available() else &quot;cpu&quot;)</span><br><span class="line">model = NeRF().to(device)</span><br><span class="line">render_poses = torch.Tensor(render_poses).to(device)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">torch.device(&#x27;cpu&#x27;), torch.device(&#x27;cuda&#x27;), torch.device(&#x27;cuda:1&#x27;)</span><br><span class="line">å¦‚æœæœ‰å¤šä¸ªGPUï¼Œæˆ‘ä»¬ä½¿ç”¨`torch.device(f&#x27;cuda:&#123;i&#125;&#x27;)`Â æ¥è¡¨ç¤ºç¬¬iå—GPUï¼ˆiä»0å¼€å§‹ï¼‰ã€‚ å¦å¤–ï¼Œ`cuda:0`å’Œ`cuda`æ˜¯ç­‰ä»·çš„ã€‚</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢gpuæ•°é‡</span><br><span class="line">torch.cuda.device_count()</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢å¼ é‡æ‰€åœ¨è®¾å¤‡</span><br><span class="line">x = torch.tensor([1, 2, 3])</span><br><span class="line">x.device   #device(type=&#x27;cpu&#x27;) é»˜è®¤ä¸ºgpuï¼Œä¹Ÿå¯ä¸ºcpu</span><br></pre></td></tr></table></figure><p>ä¸¤å¼ é‡ç›¸äº’è¿ç®—éœ€è¦åœ¨åŒä¸€å°è®¾å¤‡ä¸Š<code>Z = X.cuda(1)</code></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230702204507.png" alt="image.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»™ç½‘ç»œæŒ‡å®šè®¾å¤‡</span><br><span class="line">net = nn.Sequential(nn.Linear(3, 1))</span><br><span class="line">net = net.to(device=try_gpu())</span><br></pre></td></tr></table></figure><p>==åªè¦æ‰€æœ‰çš„æ•°æ®å’Œå‚æ•°éƒ½åœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸Šï¼Œ æˆ‘ä»¬å°±å¯ä»¥æœ‰æ•ˆåœ°å­¦ä¹ æ¨¡å‹==</p><h1 id="Autograd"><a href="#Autograd" class="headerlink" title="Autograd"></a>Autograd</h1><p><a href="https://zhuanlan.zhihu.com/p/69294347">PyTorch çš„ Autograd - çŸ¥ä¹ (zhihu.com)</a></p><h1 id="Optimizer"><a href="#Optimizer" class="headerlink" title="Optimizer"></a>Optimizer</h1><h2 id="Adamå¤šä¸ªmodelå‚æ•°ï¼Œç„¶åæ›´æ–°lr"><a href="#Adamå¤šä¸ªmodelå‚æ•°ï¼Œç„¶åæ›´æ–°lr" class="headerlink" title="Adamå¤šä¸ªmodelå‚æ•°ï¼Œç„¶åæ›´æ–°lr"></a>Adamå¤šä¸ªmodelå‚æ•°ï¼Œç„¶åæ›´æ–°lr</h2><p>Adam_in_Neus: params_to_train is a list</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">params_to_train = []</span><br><span class="line">self.nerf_outside = NeRF(**self.conf[&#x27;model.nerf&#x27;]).to(self.device) # åˆ›å»ºä¸€ä¸ªNeRFç½‘ç»œ</span><br><span class="line">self.sdf_network = SDFNetwork(**self.conf[&#x27;model.sdf_network&#x27;]).to(self.device) # åˆ›å»ºä¸€ä¸ªSDFç½‘ç»œ</span><br><span class="line">self.deviation_network = SingleVarianceNetwork(**self.conf[&#x27;model.variance_network&#x27;]).to(self.device)</span><br><span class="line">self.color_network = RenderingNetwork(**self.conf[&#x27;model.rendering_network&#x27;]).to(self.device)</span><br><span class="line">params_to_train += list(self.nerf_outside.parameters())</span><br><span class="line">params_to_train += list(self.sdf_network.parameters())</span><br><span class="line">params_to_train += list(self.deviation_network.parameters())</span><br><span class="line">params_to_train += list(self.color_network.parameters())</span><br><span class="line"></span><br><span class="line">self.optimizer = torch.optim.Adam(params_to_train, lr=self.learning_rate)</span><br></pre></td></tr></table></figure><p>ç„¶åæ›´æ–°å­¦ä¹ ç‡</p><p><code>g = self.optimizer.param_groups[index]</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for g in self.optimizer.param_groups:</span><br><span class="line">    g[&#x27;lr&#x27;] = self.learning_rate * learning_factor</span><br></pre></td></tr></table></figure><p><strong>from</strong><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def update_learning_rate(self):</span><br><span class="line">    if self.iter_step &lt; self.warm_up_end:</span><br><span class="line">        learning_factor = self.iter_step / self.warm_up_end</span><br><span class="line">    else:</span><br><span class="line">        alpha = self.learning_rate_alpha</span><br><span class="line">        progress = (self.iter_step - self.warm_up_end) / (self.end_iter - self.warm_up_end)</span><br><span class="line">        learning_factor = (np.cos(np.pi * progress) + 1.0) * 0.5 * (1 - alpha) + alpha</span><br><span class="line"></span><br><span class="line">    for g in self.optimizer.param_groups:</span><br><span class="line">        g[&#x27;lr&#x27;] = self.learning_rate * learning_factor</span><br></pre></td></tr></table></figure></p><h2 id="lrå­¦ä¹ ç‡"><a href="#lrå­¦ä¹ ç‡" class="headerlink" title="lrå­¦ä¹ ç‡"></a>lrå­¦ä¹ ç‡</h2><blockquote><p><a href="https://zhuanlan.zhihu.com/p/611364321">lr schedulerä»‹ç»å’Œå¯è§†åŒ– - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>lr_scheduler.nameLR</p><div class="table-container"><table><thead><tr><th>nameLR</th><th>Brief</th></tr></thead><tbody><tr><td>ConstantLR</td><td>init_lrä¹˜ä»¥factoræŒç»­total_iters</td></tr><tr><td>CosineAnnealingLR</td><td>æ„é€ ä¸€ä¸ªcoså‡½æ•°ï¼Œå‘¨æœŸä¸º<code>2T_max</code>,å­¦ä¹ ç‡åŒºé—´ä¸º<code>[init_lr,eta_min]</code>ï¼Œcoså‘å·¦å¹³ç§»last_epochä¸ªiter</td></tr><tr><td>CyclicLR</td><td>ä¸‰ç§modeï¼štriangularä¸‰è§’æ³¢amplitudeä¸å˜ï¼Œtriangular2æ¯ä¸ªcycleçš„amplitudeå‡åŠï¼Œexp_rangeæ¯ä¸ªcycle iterationå°†amplitudeç¼©æ”¾ä¸º$gamma^{iteration}$</td></tr><tr><td>ExponentialLR</td><td>æŒ‡æ•°å‡å°lrï¼š$gamma^{iter}$</td></tr><tr><td>LambdaLR</td><td>ä½¿ç”¨è‡ªå®šä¹‰çš„lambdaæ¥å¤„ç†lr</td></tr><tr><td>StepLR</td><td>é˜¶æ¢¯æ¯step_sizeæ­¥å°†lrä¹˜ä»¥gamma</td></tr><tr><td>MultiStepLR</td><td>åœ¨<code>milestones = [30,80]</code>å¤„å°†lrä¹˜ä»¥gamma</td></tr><tr><td>OneCycleLR</td><td>not chainableï¼Œlrå…ˆä¸Šå‡åˆ°max_lr,ç„¶åå‡å°ã€‚æœ€å¤§å€¼å¤„çš„stepä¸º<code>total_step * pct_start = epochs * steps_per_epoch * pct_start</code></td></tr><tr><td>ConstantLR</td><td>å‰total_itersçš„lrä¸º<code>init_lr * factor</code></td></tr><tr><td>LinearLR</td><td>ä»<code>init_lr * start_factor</code>å¼€å§‹çº¿æ€§å¢é•¿total_itersæ­¥åˆ° <code>init_lr * end_factor</code></td></tr><tr><td>MultiplicativeLR</td><td>å­¦ä¹ ç‡ä»init_lr æ ¹æ®<code>lr_lambda = lambda step: factor</code>éçº¿æ€§è¡°å‡ï¼š$lr = factor^{step}$</td></tr></tbody></table></div><p>è¿æ¥å¤šä¸ªlr</p><div class="table-container"><table><thead><tr><th>nameLR</th><th>Brief</th></tr></thead><tbody><tr><td>SequentialLR</td><td><strong>milestones</strong>å‰ä¸ºscheduler1ï¼Œåä¸ºscheduler2</td></tr><tr><td>ChainedScheduler</td><td>å¤šä¸ªschedulerå åŠ </td></tr><tr><td></td></tr></tbody></table></div><h3 id="Tips-1"><a href="#Tips-1" class="headerlink" title="Tips"></a>Tips</h3><p>åœ¨ä½¿ç”¨SequentialLRå°†å¤šä¸ªschedulerè¿æ¥èµ·æ¥æ—¶ï¼ŒSequentialLRçš„æ¯ä¸ªmilestoneséƒ½ä¼šä»æ¯ä¸ªschedulerçš„0å¤„å¼€å§‹ï¼Œå› æ­¤Step_schedulerçš„milestonesè¦è®¾ç½®æˆ<code>milestones=[1]</code>ï¼Œè¿™æ ·è®¾ç½®ä¼šå¯¼è‡´å½“Exp_schedulerç»“æŸæ—¶ï¼Œå…ˆè·³ä¸€ä¸‹åˆ°<code>ori_lr</code>ï¼Œç„¶åstepåˆ°<code>ori_lr * 0.4</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Con_scheduler = optim.lr_scheduler.ConstantLR(optimizer, factor=<span class="number">1.0</span>, total_iters=total_iters)</span><br><span class="line">Exp_scheduler = optim.lr_scheduler.ExponentialLR(optimizer, gamma=gamma)</span><br><span class="line">Step_scheduler = optim.lr_scheduler.MultiStepLR(optimizer, milestones=[<span class="number">1</span>], gamma=<span class="number">0.4</span>)</span><br><span class="line">scheduler = optim.lr_scheduler.SequentialLR(optimizer, schedulers=[Con_scheduler,Exp_scheduler, Step_scheduler], milestones=[total_iters,total_iters+exp_iters])</span><br></pre></td></tr></table></figure><h1 id="EMAæŒ‡æ•°ç§»åŠ¨å¹³å‡"><a href="#EMAæŒ‡æ•°ç§»åŠ¨å¹³å‡" class="headerlink" title="EMAæŒ‡æ•°ç§»åŠ¨å¹³å‡"></a>EMAæŒ‡æ•°ç§»åŠ¨å¹³å‡</h1><blockquote><p><a href="https://zhuanlan.zhihu.com/p/68748778">ã€ç‚¼ä¸¹æŠ€å·§ã€‘æŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼ˆEMAï¼‰çš„åŸç†åŠPyTorchå®ç° - çŸ¥ä¹</a></p></blockquote><p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œç»å¸¸ä¼šä½¿ç”¨EMAï¼ˆæŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼‰è¿™ä¸ªæ–¹æ³•å¯¹æ¨¡å‹çš„å‚æ•°åšå¹³å‡ï¼Œä»¥æ±‚æé«˜æµ‹è¯•æŒ‡æ ‡å¹¶å¢åŠ æ¨¡å‹é²æ£’ã€‚</p><p>æ™®é€šçš„å¹³å‡ï¼š<br>EMAï¼š$v_t=\beta\cdot v_{t-1}+(1-\beta)\cdot\theta_t$ $v_{t}$å‰tæ¡æ•°æ®çš„å¹³å‡å€¼ï¼Œ$\beta$æ˜¯åŠ æƒæƒé‡å€¼ (ä¸€èˆ¬è®¾ä¸º0.9-0.999)ã€‚</p><p>ä¸Šé¢è®²çš„æ˜¯å¹¿ä¹‰çš„emaå®šä¹‰å’Œè®¡ç®—æ–¹æ³•ï¼Œç‰¹åˆ«çš„ï¼Œåœ¨æ·±åº¦å­¦ä¹ çš„ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œ $\theta_{t}$ æ˜¯tæ—¶åˆ»çš„æ¨¡å‹æƒé‡weightsï¼Œ $v_{t}$æ˜¯tæ—¶åˆ»çš„å½±å­æƒé‡ï¼ˆshadow weightsï¼‰ã€‚åœ¨æ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹ä¸­ï¼Œä¼šä¸€ç›´ç»´æŠ¤ç€è¿™ä¸ªå½±å­æƒé‡ï¼Œä½†æ˜¯è¿™ä¸ªå½±å­æƒé‡å¹¶ä¸ä¼šå‚ä¸è®­ç»ƒã€‚åŸºæœ¬çš„å‡è®¾æ˜¯ï¼Œæ¨¡å‹æƒé‡åœ¨æœ€åçš„næ­¥å†…ï¼Œä¼šåœ¨å®é™…çš„æœ€ä¼˜ç‚¹å¤„æŠ–åŠ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å–æœ€ånæ­¥çš„å¹³å‡ï¼Œèƒ½ä½¿å¾—æ¨¡å‹æ›´åŠ çš„é²æ£’ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ema:</span><br><span class="line">  decay: <span class="number">0.995</span></span><br><span class="line">  update_interval: <span class="number">10</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">from</span> ema_pytorch <span class="keyword">import</span> EMA</span><br><span class="line">self.ema = EMA(self.model, beta=ema_decay, update_every=ema_update_every).to(self.device)</span><br><span class="line"></span><br><span class="line"><span class="comment"># train</span></span><br><span class="line">self.ema.update()</span><br><span class="line"></span><br><span class="line"><span class="comment">## self.ema.ema_model == self.model, ç›´æ¥è°ƒç”¨ model ä¸­çš„å‡½æ•°</span></span><br><span class="line">sample = self.ema.ema_model.generate_mts(batch_size=size_every)</span><br></pre></td></tr></table></figure><h1 id="ç§æœ‰æˆå‘˜"><a href="#ç§æœ‰æˆå‘˜" class="headerlink" title="ç§æœ‰æˆå‘˜"></a>ç§æœ‰æˆå‘˜</h1><p>å¸¦åŒä¸‹åˆ’çº¿å‡½æ•°</p><div class="table-container"><table><thead><tr><th>function</th><th>brief description</th></tr></thead><tbody><tr><td><code>nn.module.__repr__</code></td><td>å½“print(model)æ—¶ä¼šè¿è¡Œè¯¥å‡½æ•°</td></tr><tr><td><code>__del__</code></td><td>å½“<code>del object</code>æ—¶è¿è¡Œè¯¥å‡½æ•°</td></tr></tbody></table></div><h1 id="torch-cuda"><a href="#torch-cuda" class="headerlink" title="torch.cuda"></a>torch.cuda</h1><h2 id="cudaäº‹ä»¶è®¡ç®—ç¨‹åºè¿è¡Œæ—¶é—´"><a href="#cudaäº‹ä»¶è®¡ç®—ç¨‹åºè¿è¡Œæ—¶é—´" class="headerlink" title="cudaäº‹ä»¶è®¡ç®—ç¨‹åºè¿è¡Œæ—¶é—´"></a>cudaäº‹ä»¶è®¡ç®—ç¨‹åºè¿è¡Œæ—¶é—´</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">iter_start = torch.cuda.Event(enable_timing = <span class="literal">True</span>)</span><br><span class="line">iter_end = torch.cuda.Event(enable_timing = <span class="literal">True</span>)</span><br><span class="line">iter_start.record()</span><br><span class="line"><span class="comment"># iter 1 code</span></span><br><span class="line">iter_end.record()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;iter time: <span class="subst">&#123;iter_start.elapsed_time(iter_end)&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p>eg:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">iter_start = torch.cuda.Event(enable_timing = <span class="literal">True</span>)</span><br><span class="line">iter_end = torch.cuda.Event(enable_timing = <span class="literal">True</span>)</span><br><span class="line">iter_start.record()</span><br><span class="line"></span><br><span class="line">a = torch.tensor([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]).cuda()</span><br><span class="line"></span><br><span class="line">iter_end.record()</span><br><span class="line"></span><br><span class="line">timestamp = iter_start.elapsed_time(iter_end)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;iter time: <span class="subst">&#123;timestamp:03f&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Scripts</title>
      <link href="/Project/Python%20Scripts/"/>
      <url>/Project/Python%20Scripts/</url>
      
        <content type="html"><![CDATA[<p>Pythonå†™çš„ä¸€äº›å°å·¥å…·</p><span id="more"></span><h1 id="video2image"><a href="#video2image" class="headerlink" title="video2image"></a>video2image</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">split_video_to_images</span>(<span class="params">video_path, output_folder, frame_interval=<span class="number">1</span></span>):</span><br><span class="line">Â  Â  <span class="comment"># åˆ›å»ºè¾“å‡ºæ–‡ä»¶å¤¹</span></span><br><span class="line">Â  Â  os.makedirs(output_folder, exist_ok=<span class="literal">True</span>)</span><br><span class="line">  Â  <span class="comment"># æ‰“å¼€è§†é¢‘æ–‡ä»¶</span></span><br><span class="line">Â  Â  video_capture = cv2.VideoCapture(video_path)</span><br><span class="line">Â  Â  <span class="comment"># è¯»å–è§†é¢‘çš„å¸§</span></span><br><span class="line">Â  Â  frame_count = <span class="number">0</span></span><br><span class="line">  Â  saved_frame_count = <span class="number">0</span></span><br><span class="line">Â  Â  <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">Â  Â  Â  Â  <span class="comment"># è¯»å–ä¸€å¸§</span></span><br><span class="line">Â  Â  Â  Â  ret, frame = video_capture.read()</span><br><span class="line">Â  Â  Â  Â  <span class="comment"># å¦‚æœè§†é¢‘å¸§è¯»å–å¤±è´¥ï¼Œåˆ™é€€å‡ºå¾ªç¯</span></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span> <span class="keyword">not</span> ret:</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">break</span></span><br><span class="line">Â  Â  Â  Â  <span class="comment"># åˆ¤æ–­æ˜¯å¦ä¿å­˜è¯¥å¸§</span></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span> frame_count % frame_interval == <span class="number">0</span>:</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="comment"># ç”Ÿæˆè¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="comment"># output_filename = os.path.join(output_folder, f&quot;frame_&#123;saved_frame_count:05d&#125;.jpg&quot;)</span></span><br><span class="line">Â  Â  Â  Â  Â  Â  output_filename = os.path.join(output_folder, <span class="string">f&quot;<span class="subst">&#123;frame_count:03d&#125;</span>.png&quot;</span>) Â <span class="comment"># like BlendedMVS</span></span><br><span class="line">   Â  Â  Â  Â  Â  <span class="comment"># ä¿å­˜å¸§ä¸ºå›¾åƒæ–‡ä»¶</span></span><br><span class="line"> Â   Â  Â  Â  Â  cv2.imwrite(output_filename, frame)</span><br><span class="line">Â  Â  Â  Â  Â  Â  saved_frame_count += <span class="number">1</span></span><br><span class="line">Â  Â  Â  Â  <span class="comment"># å¢åŠ å¸§è®¡æ•°</span></span><br><span class="line">Â  Â  Â  Â  frame_count += <span class="number">1</span></span><br><span class="line">Â  Â  <span class="comment"># é‡Šæ”¾èµ„æº</span></span><br><span class="line">Â  Â  video_capture.release()</span><br><span class="line">Â  Â  <span class="built_in">print</span>(<span class="string">f&quot;è§†é¢‘åˆ†å‰²å®Œæˆï¼Œæ€»å…±åˆ†å‰²å¾—åˆ° <span class="subst">&#123;saved_frame_count&#125;</span> å¼ å›¾ç‰‡ã€‚&quot;</span>)</span><br><span class="line"><span class="comment"># ç¤ºä¾‹ç”¨æ³•</span></span><br><span class="line">video_path = <span class="string">&quot;wsz.mp4&quot;</span></span><br><span class="line">output_folder = <span class="string">&quot;output_images&quot;</span></span><br><span class="line">frame_interval = <span class="number">1</span> Â <span class="comment"># ä¿å­˜æ¯éš”ä¸€å¸§çš„å›¾åƒ</span></span><br><span class="line">split_video_to_images(video_path, output_folder, frame_interval)</span><br></pre></td></tr></table></figure><h1 id="get-mask-from-image"><a href="#get-mask-from-image" class="headerlink" title="get_mask_from_image"></a>get_mask_from_image</h1><p>To get images dataset like BlendedMVS</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_mask</span>(<span class="params"><span class="built_in">dir</span></span>):</span><br><span class="line">    dir_mask = os.path.join(<span class="built_in">dir</span>,<span class="string">&#x27;mask&#x27;</span>)</span><br><span class="line">    <span class="comment"># print(dir_mask)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dir_mask):</span><br><span class="line">        os.mkdir(dir_mask)</span><br><span class="line">    img_dir = os.path.join(<span class="built_in">dir</span>,<span class="string">&#x27;image&#x27;</span>)</span><br><span class="line">    img_list = os.listdir(img_dir)</span><br><span class="line">    <span class="keyword">for</span> img_file <span class="keyword">in</span> img_list:</span><br><span class="line">        (filename, extension) = os.path.splitext(img_file)</span><br><span class="line">        <span class="keyword">if</span> extension == <span class="string">&#x27;.jpg&#x27;</span> :</span><br><span class="line">            img_file_png = filename + <span class="string">&#x27;.png&#x27;</span></span><br><span class="line">            img_file_png = os.path.join(img_dir, img_file_png)</span><br><span class="line">            img_file_mask = <span class="built_in">dir</span> + <span class="string">&#x27;/mask/&#x27;</span> + filename + <span class="string">&#x27;.png&#x27;</span></span><br><span class="line">            img = cv2.imread(os.path.join(img_dir,img_file))</span><br><span class="line">            img_mask = np.zeros(img.shape, np.uint8)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(img.shape[<span class="number">0</span>]):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(img.shape[<span class="number">1</span>]):</span><br><span class="line">                    img_mask[i,j,:] = [<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>]</span><br><span class="line">            cv2.imwrite(img_file_png, img)  </span><br><span class="line">            cv2.imwrite(img_file_mask, img_mask)  </span><br><span class="line">            os.remove(os.path.join(img_dir,img_file))  <span class="comment"># åˆ é™¤åŸæ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">elif</span> extension == <span class="string">&#x27;.png&#x27;</span> :</span><br><span class="line">            img_file_mask = <span class="built_in">dir</span> + <span class="string">&#x27;/mask/&#x27;</span> + filename + <span class="string">&#x27;.png&#x27;</span></span><br><span class="line">            img = cv2.imread(os.path.join(img_dir,img_file))</span><br><span class="line">            img_mask = np.ones(img.shape, np.uint8)</span><br><span class="line">            img_mask = img_mask * <span class="number">255</span></span><br><span class="line">            cv2.imwrite(img_file_mask, img_mask)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;get mask done!&#x27;</span>)</span><br></pre></td></tr></table></figure><h1 id="åˆ©ç”¨ffmpegçš„å›¾ç‰‡è½¬è§†é¢‘"><a href="#åˆ©ç”¨ffmpegçš„å›¾ç‰‡è½¬è§†é¢‘" class="headerlink" title="åˆ©ç”¨ffmpegçš„å›¾ç‰‡è½¬è§†é¢‘"></a>åˆ©ç”¨ffmpegçš„å›¾ç‰‡è½¬è§†é¢‘</h1><p>NeROçš„Relightåç”Ÿæˆå›¾ç‰‡ï¼Œéœ€è¦ç”Ÿæˆä¸€ä¸ªå¯å¾ªç¯çš„è§†é¢‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">just_video = <span class="literal">True</span></span><br><span class="line"><span class="comment"># è¾“å…¥æ–‡ä»¶å¤¹è·¯å¾„å’Œè¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„</span></span><br><span class="line">input_folder = <span class="string">&quot;E:\\BaiduSyncdisk\\NeRF_Proj\\NeRO\\data\\relight\\bear-neon\\&quot;</span></span><br><span class="line">image_file_suffix = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> just_video:</span><br><span class="line">    <span class="comment"># è·å–è¾“å…¥æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶</span></span><br><span class="line">    image_files = [f <span class="keyword">for</span> f <span class="keyword">in</span> os.listdir(input_folder) <span class="keyword">if</span> f.lower().endswith((<span class="string">&#x27;.jpg&#x27;</span>, <span class="string">&#x27;.jpeg&#x27;</span>, <span class="string">&#x27;.png&#x27;</span>, <span class="string">&#x27;.gif&#x27;</span>))]</span><br><span class="line">    image_files.sort(key=<span class="keyword">lambda</span> x:<span class="built_in">int</span>(x.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]))</span><br><span class="line">    <span class="comment"># print(image_files)</span></span><br><span class="line">    image_num =  <span class="built_in">len</span>(image_files)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;==&gt;å›¾ç‰‡æ•°é‡: &#x27;</span> + <span class="built_in">str</span>(image_num))</span><br><span class="line"></span><br><span class="line">    out_image_th = <span class="number">0</span></span><br><span class="line">    image_file_suffix = image_files[<span class="number">0</span>].split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># å€’åºå¤åˆ¶å›¾ç‰‡</span></span><br><span class="line">    <span class="keyword">for</span> image_file <span class="keyword">in</span> image_files:</span><br><span class="line">        out_image_name = image_num * <span class="number">2</span> - <span class="number">1</span> - out_image_th</span><br><span class="line">        out_image_name = <span class="built_in">str</span>(out_image_name) + <span class="string">&#x27;.&#x27;</span> + image_file_suffix</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;==&gt;æ­£åœ¨å¤„ç†å›¾ç‰‡ï¼š&quot;</span>, image_file , <span class="string">&#x27;--&gt;&#x27;</span> , out_image_name)</span><br><span class="line">        out_image_th += <span class="number">1</span></span><br><span class="line">        input_path = os.path.join(input_folder, image_file)</span><br><span class="line">        output_path = os.path.join(input_folder, out_image_name)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ‰“å¼€å›¾ç‰‡å¹¶å€’åºä¿å­˜</span></span><br><span class="line">        image = Image.<span class="built_in">open</span>(input_path)</span><br><span class="line">        image.save(output_path)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;==&gt;å¤„ç†å®Œæˆ&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="comment"># ffmpeg -r 15 -i %3d.jpg video.avi -vf Â &quot;scale=ih*16/9:ih:force_original_aspect_ratio=decrease,pad=ih*16/9:ih:(ow-iw)/2:(oh-ih)/2&quot;</span></span><br><span class="line">frame = <span class="number">120</span></span><br><span class="line">video_name = <span class="string">&#x27;nero_relight.mp4&#x27;</span></span><br><span class="line"><span class="keyword">if</span> image_file_suffix <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    image_file_suffix = <span class="string">&#x27;png&#x27;</span></span><br><span class="line">cmds=[</span><br><span class="line">    <span class="string">&#x27;ffmpeg&#x27;</span>, <span class="string">&#x27;-r&#x27;</span> , <span class="built_in">str</span>(frame) , <span class="string">&#x27;-i&#x27;</span> , input_folder + <span class="string">&#x27;%d.&#x27;</span>+image_file_suffix ,</span><br><span class="line">    <span class="string">&#x27;-vf&#x27;</span> , <span class="string">&quot;scale=ih*16/9:ih:force_original_aspect_ratio=decrease,pad=ih*16/9:ih:(ow-iw)/2:(oh-ih)/2&quot;</span> , video_name</span><br><span class="line">]</span><br><span class="line">subprocess.run(cmds)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Practise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRFä»£ç ç†è§£</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/NeRF-code/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/NeRF-code/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/yenchenlin/nerf-pytorch">NeRFä»£ç </a>(åŸºäºPytorch)ã€‚æµç¨‹å›¾ï¼š<a href="#trainæµç¨‹">trainæµç¨‹å›¾</a> and <a href="#æ¸²æŸ“æµç¨‹å›¾">æ¸²æŸ“æµç¨‹å›¾</a> (åŸºäºDrawio)</p><span id="more"></span><h1 id="trainæµç¨‹"><a href="#trainæµç¨‹" class="headerlink" title="trainæµç¨‹"></a>trainæµç¨‹</h1><iframe frameborder="0" style="width:100%;height:1724px;" src="https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1&title=train%E6%B5%81%E7%A8%8B.drawio#R7V1bk6O4Ff41rkoe4gKJ6%2BP0TM%2Fmsj1JZVJJ9sklG9kmDYgVcru9vz6SARss2aOYxoIUVVM9Rki2ONJ37jrM4Of0%2FSeK8u0LiXAyA1b0PoNfZgBA13f5f6LlULbYrmeVLRsaR1XbueF7%2FBuuGutuuzjCRasjIyRhcd5uXJEswyvWakOUkn2725ok7V%2FN0QZLDd9XKJFb%2FxVHbFu2BsA%2Ft%2F8Rx5tt%2Fcu2F5Z3UlR3rp6k2KKI7BtN8HkGP1NCWPkpff%2BME0G9mi7luK9X7p4mRnHGdAZ8%2B4ePf8qfQ7b6y28L9mf89PLPT3%2BoJluwQ%2F3AOOLPX10SyrZkQzKUPJ9bnyjZZREW32rxq3OfnwnJeaPNG%2F%2BDGTtUi4l2jPCmLUuT6i5%2Bj9m%2FxfC5W1390rjz5b365uPFob7IGD00BonLX5r3zsOOV%2FW4NclYNRHb49fl84qHvErGqqkgO7rCN2hXb0dEN5jd6AdOi81hgkmK%2Bfz4OIoTxOK39jxQtV03p37nFeUfqkX9Hxa4%2Bt43lOyqX2IUxdnvfi8t%2FHlZxUrstzHD33N0pMCeg7u9hGqyvmHK8PttwsqEqAc4YF6zi4pbBBV09mfk2TVj2DZQ51p9Uc%2BSyDThQxcfQBMf0CQ%2BgIQPLknW8WbBn7jA9CZOLDM4gf4lTmxPARSgAIrXG1CCCSh3AwVqAsW%2BsjEegxQoISUhKFrM4Nfy3yJCDI0DLyeBYQwvRuFiN8Byho4aLj1ue0dz2%2Fsmd72j3vXLBPO1oEPd89Cy5xpb3lNsedjXlvckSkpk4yZSLj6udjQ5PFG0ehUb40f0ayuuPVAT%2BJJmerLqGuRUMZATV%2FlwcvoSOXNS4EWRbzGNuf06wF3pBMPblTYcCyc%2BKy4tteWsxRiwgHVNYNszycNPzzMpp32ucWhyjW3Z0bGiGDG8yDBdD5AZKtRS6JtWS213Qsr9SNF1eNiOUaTILo9v%2BO9fBwgRaEkQcaCrB5HeFAYwuQQ7QETX5jMsTGSrL8NsT%2Bjr4tcdpofFOuN3jzcsussW1c0BQgiEkuniqLzq7kO96v4Eofsh5OlCCBiFkGzu8%2BkucLrEUTRIv7pC2sDAuLQZoXk6HKiEmlABRqECZUfYxA4%2FfI2h0eBJPc0GO4zX4ofoppjT0pdMsoQT7NMMeCgV7C5bFvmJWE1GuSXpclcYYZKh02KQriMzSMD5qCuzyKA3FjlpE%2FfDB%2BjarMA1CZ96mg34VKDJEdsOUZkAkt7tAePKhGzWHHAh0Y4%2FNWsTqGCUvOLPJCGUt2QkExBax0ly0YSSeJPxyxWnEubtT4KGIhjxqbqRxlF0xJ9qRdpr1seiQGlR3FA2hhzFmvQWxgGjSZzokwu5ulzIbBzBvcKFBAP6kdAeIENSOQIeypCgUV%2FayINvQNcRAIz60oDsCGAkWI5DZvvQNESAbDhc8po0TveUE0vsBSK6xhEmg6OuIydR%2BLoakdMbAzIT7%2FogO%2BAeKf6BDCjQzVuEXeNd1dC%2FkZjP8ezbtqzLHRXaFzulfIhq4MVmOc2kQxqfMxbtbYC2J9TNLAiMZojX07zwZFN0KBZZPgLVT5FpoM15e8s0gHI6cSYLrf9bU9R2ZXVcoWs81BSFo0lKHqA2DnUj29BoOnN9OnESWH2usRcYFViym%2B%2Fsphi%2BbAp1DzP1lp%2FgTPmiHUDia4LEsdQ7o6NVAAOvtZ1s61JgljPrzSaAcmZ%2BrS8OEIAQtMkV6uag9ubxcCab6n701Qrjj9Fn1Kaqp9nU%2FqPVCSOlHytJ1uvB48W2jLsIXaPiauR6u6PrxHKMBsA9b2KK%2Fa%2BxZ3SNHdklskRstY3Xh7FoD7ZlPKboTkjpgBTdQLxj9lD2tUD8UHHiSEaJeZxM3r4OONE2co3G3r3JlHrAGntdHRndeKHsbhj2kSSJF9owNM0Lp2OvHXCim4HvGj32Wk9ToV0PECTepWJtHiQemEByN0hc7dDRh3jFP1GuCDc65MLZXTS%2B%2BcJp7l3yZOBfFBO9GOA6twfwD%2BUcPtS17sqRrcZJ3PqIbqMpLQvSDh3cwNK0BnpLhPOMnjMcObg9Xae7Z%2FQMmic73SnaA7Jj%2BY6NwmoGitMaDxaC02GzDjjRTfjr7Ie9SwhKMg0Gt4WgFGq%2BGNCPEKyp2IBxgdI8wYs8GmKhIwnF0DGN4jrGPaH4HhTr%2BojNZkF5so%2BYEbrazleIDQ4jUhzF0dUI%2B8PIdDCx3sI6NWqN%2BjbqaTb2OkqSBcVCWIlcCi8RadRLyj9txCd%2BZ5HEhbg9A0%2Fir3tsi%2BIVm7lfBocPG7hz0E4TtB1VppKjqDzQW56gL0viY3FgkbgyosrAtoKOD63B6gM1HX%2F%2B07fnl79%2BGREpVfbJY0l5pUp79DYeKkJVRtVDqRgY1Q9HHhv1teu6G80hCCZ39gPWODDq8fJV1fuLYla7h%2BN0A9ICD5ArqhQeV2U3P1bhkW2qYxWrYyBNDBaed7bFFEsEZTRG2ebqgbt%2BqelC6c1SKqWnDrE9pGyVbRlNzriztB8YDAfSzc4Iu0qZ%2B3yJtXFyAm%2Flj7gaULsc4F%2B%2Bzu8yZBfeHtCP89GXs004AwV5kQ3xdBkE8quyzHPRYDSelQFqHoF20QCz2qXsGqi9MFH8VrthhDIyX6LV6x7R6FhJ4NiD%2F2Kjk2IcyVmccvrSecFwfn3gwOCoUmo8lSB%2BLBxlk7l5Xm98xR0C3SN8vWUT2JbZhLr7dJvBsDjdAIvZuiiBbAy8oKMFcFyw60CxjQAFeHL9KVV574e%2BXzac0m464ETXBAiMJuEHssqsEOkZ3i8Sik5V3DQ1gV0elWNOKsGYdQHVoZiH6gLhCG3yFhpNOn4D3UTw0KhTsJ7mbTwW6E3AarXFq9e8tLw1Ickfnw9cx3xvjBeKvurFjI%2BFotFznCOHYqhrJYdGTzyHWlZyLoSaFS%2BquqaWsHmLSkxajeKn1f1RYA6EsmdqAJibzoR2wJyu2dbZI91tjWWz7QbmGC5YcUwjaqGuPG0trvAxiShO0Ua8SWAU2FNUIlZjT5Vz0N9L0SyjSQdtW9DSBF%2FbFrQNgk87HGTUFgy1bMEafDktIz4t6LFfo3ReibxRwM1zwkHCzWjVpI%2BAm0HXS6hr6nV2Ud4VfT2V7T8dOfBuB1P9Oghw74DAud3frlUrdf9%2BgrWhlqW7ScgSJQvBZGZlOrDoKeAxWvbi9che%2BCUlhDVXij%2Fm9uV40hQ%2B%2Fxc%3D"></iframe><h2 id="if-use-batching"><a href="#if-use-batching" class="headerlink" title="if use_batching"></a>if use_batching</h2><iframe frameborder="0" style="width:100%;height:1113px;" src="https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1&title=train_batch.drawio#R7Vxbb6M4GP01SO1DK%2B6Qx5CkU612q5VmdjvzFJHgADsEZ4C0yf76tcHmZichbQmwjTSagm3AnO%2Fq7zgIymS9%2BxLZG%2B8P6IBAkEVnJyhTQZYlTZPRH9yyz1pMSc8a3Mh3yKCi4av%2FLyCNImnd%2Bg6IKwMTCIPE31QblzAMwTKptNlRBF%2Brw1YwqD51Y7uAafi6tAO29dl3Eo%2B8hWwU7Y%2FAdz36ZEkfZT1rmw4mbxJ7tgNfS03KTFAmEYRJdrTeTUCAwaO4ZNc9HOjNJxaBMGlygbN2539%2Fc9X5t%2BeV%2BO3fx1dt8nynZXd5sYMteWEy2WRPEXAjuN0IirWCYULkI5nonH0%2BmdILiBKw40nHXtCbFgAgzQFwDZJoj8aRqxSRYEaUxiDTfC0kIBlkiFdGnzbaROpufusCGHRAsDkDJ%2Bk0Tq%2Ben4CvG3uJz1%2BRNSCMvGQdYLzQoR1vMv1c%2BTvgNMLzqMTqILNg7imYLHgqDzy1LfDkAYJHe6uKKHeOpTJcLOUqllLnWKoMlo%2B7550yGEC7t2y9l%2BFj1LfoYfTGaPUDGPc4epgDBK%2Bv0WM0XCx7Fz3oDGrhQx0Mot2btsRLq%2FUAPdeKN3ZYgVH%2FtcUrJWsJAxgJyhh1Ru7iBk0N%2FUOPF0tHt%2FgQAydiLO9W9toP9tk16Eb2epN2KoqKJQGCF5D4S5vpqd4kTiWCbyGZm12tL5sl7gxhtLaDavcrARP3q9k8084AJAmI7tCrLv3Q5V6PRJnc2YHvhln3EukAiKrdfuikmoH7xdLU0s4kssN4hW5Kbx%2BCfMArjJzq08uXL%2BzlTxy8Q%2BeuhrmsmjnWsjoqjrUS8o4fbwKboO6HgV968CqAdlKeEBUuOnLx3yck8hSpTBmQcmX6kPUyFobfFLWfMLS3ZyCHHbyiVbwSz6RkjTUppTWLYrNX4LjgKzmFUeJBF4Z2MCtarVTI2PVMsXyKMb9DuCHY%2FYNUdU%2FAs7cJrCILdn7yvXT8A9%2FqXiNn0x25c3qypychet%2Fv5ZPSVfi0uCw9o9c1lmIMt9ESNHDgiR254JhnJS4dA3lUKSIQ2In%2FUq0cfbyI2WXL1WleneZwnKai9s1pml06TeoZz3OahZ%2F8UXGTrTtNvaHTlLReeU1N7FLGbwuM75NxjESUjDEFglpSj0HaHnwM3VS8jB6oZq%2F0QGJLVtsYzBd2svSwR68rSeTB9WIbd%2BIoZbNWPzBYTynzVmxma57S6NRT5pbzo9TTV0%2BpNnWUer8MhK0R7UF8KHsoSSlOIvgTTLKshzqcFfI1tSaSmE1JVqZY2CBQKhmMScfad5xUcXgWV1WmNoxOqRndiDU6ns3JbdmcfM33r%2Fn%2BkPN9tWpQitZ1vi833vXQ%2BOXP5qhqoV3ROaFdNO45sOSl74%2FHpT%2Fksvwh2xxMjp%2BWWkuOKFrDgq85VXVhNPuz5eZ8NBuQVZdFU2JdXmTv4zmKVDR%2BLCIaOm4iKMhW5OD%2F3MXtrtNdEW8AP3eb3eFNeYHrQun0Qol67pMrJaVfhXg6717b1PmUVpF1EO%2Bli527L%2BVKFF%2FXQLw1kD9H8%2FbD9IIphnwA66E6aazzkq2LLogUNrXqabSqi%2BOt0evt0YpmUqejlfjR0Ypc%2Bif00aRzddJFvjbRO2QTJRfVFCWfxTs20R7fcUCKfoNObSpMCkQxSKgyKXgWjh176ftJ78uFmlaNVblfuRBbpLxBvhinObe709kQO2IguZHZ%2FUJZabAJuwfYyWoT7HiV9fZ%2BS9FgXzYIHWr5iwAuf9a8UuiU2NT8F17cSPUGur%2BJ43mHr2lKPJXko3HkQ9veGceUWtHE1Gtyz16ICWTsjWoFZ7OuQC1HRF0fSjY1jK0Gitk04xr1Kyayv1yw8DYDdPg0R6stJ1vYWLsbNMqSbjn1gP8vyzqS69GAQwvlK56LEK1UfUrySreFzHFVJ19hyjsLC6qer2TKOS%2FGWZ9bnCNOzZsrzvZ%2B3Sez0X2mC%2BMHwXwQZqpgmcJ4DDYQGeRME0aiYM5ib7taIRSzXpSxkQPriZYZagItgJW6KSXI9aRKEjlMIvdnHa0lpBpbrAvh57EFrW8bSLRPt2mr3XxEbZqPaP3iK1Q2HyGvwESz3rITGrMCV7TOyT76jZP3sROEmiC8BJ%2BUKDiIg3zDMbLhMNNwimY4xjEcJhiOswtHqIUmvEJOKuSMwkE6gcslpCRCjU4ombTor20XxIJmhZt7nK3D9f3Sg%2F4S3BDS4VbQpgfJhsKirsK%2FmPDr4jyUdFw%2BUdNrxQ2FU%2FvK94BdJD3W2Iptyl6jTG2SHjiDDgs9IK21BtsMB4OdfNGMdRglbc0Qe4ZbJ9%2FKePcKyeDs3bwobtTx9hw3naFQDF6V5aLIdbJL83zkdAY57obrSyLH%2B1lHfZneKvl0dCneLvVE1aYn1JOhKffGAcs6l30y6s7twvsxdE7WMRsJo3Fa9tSF0USwxrgF5T3mCJc%2BUftIJ4yELOalUSxaZJEBmwbSPFHMkvL8UrwljFMap9nkgeGfpS5o1JYAOqcuyK2Qa625oE6%2BS3a%2B8659zy3ncztz3WyaxSOKiIqfMo8Kc3Q1EOHo%2FpDWDGQ33f71FHm%2F1o%2BKJv4mBbH3hf%2FV10x8%2BPUFXmmnXpXR8UbZel0iBNFqHu%2FDxMP1nKIQg5yxNRHG6cHIEqyZMDOwkzYN6pXRkyZSaWRGS%2BXDi2pUNsHjZZCOVeiAfnC06KDKqLUVGOdTj4qscH9Fd77OoNPia81ZuC6%2Bea3M%2FgM%3D"></iframe><h1 id="config-parser"><a href="#config-parser" class="headerlink" title="config_parser()"></a>config_parser()</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">def config_parser():</span><br><span class="line">    import configargparse</span><br><span class="line">    parser = configargparse.ArgumentParser()</span><br><span class="line">    # æ­¤å¤„å‘½ä»¤è¡Œæ›´æ”¹çš„å‚æ•°ä¸º args.config</span><br><span class="line">    parser.add_argument(&#x27;--config&#x27;, is_config_file=True,</span><br><span class="line">                        help=&#x27;config file path&#x27;)</span><br><span class="line">    parser.add_argument(&quot;--expname&quot;, type=str,</span><br><span class="line">                        help=&#x27;experiment name&#x27;)</span><br><span class="line">    parser.add_argument(&quot;--basedir&quot;, type=str, default=&#x27;./logs/&#x27;,</span><br><span class="line">                        help=&#x27;where to store ckpts and logs&#x27;)</span><br><span class="line">    parser.add_argument(&quot;--datadir&quot;, type=str, default=&#x27;./data/llff/fern&#x27;,</span><br><span class="line">                        help=&#x27;input data directory&#x27;)</span><br><span class="line">    # training options</span><br><span class="line">    parser.add_argument(&quot;--netdepth&quot;, type=int, default=8,</span><br><span class="line">                        help=&#x27;layers in network&#x27;)</span><br><span class="line">    parser.add_argument(&quot;--netwidth&quot;, type=int, default=256,</span><br><span class="line">                        help=&#x27;channels per layer&#x27;)</span><br><span class="line">    parser.add_argument(&quot;--lrate&quot;, type=float, default=5e-4,</span><br><span class="line">                        help=&#x27;learning rate&#x27;)</span><br><span class="line">    parser.add_argument(&quot;--no_batching&quot;, action=&#x27;store_true&#x27;,</span><br><span class="line">                        help=&#x27;only take random rays from 1 image at a time&#x27;)</span><br><span class="line">    parser.add_argument(&quot;--no_reload&quot;, action=&#x27;store_true&#x27;,</span><br><span class="line">                        help=&#x27;do not reload weights from saved ckpt&#x27;)</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">    return parser</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">useï¼šÂ  Â  </span><br><span class="line">parser = config_parser()</span><br><span class="line">args = parser.parse_args()</span><br><span class="line">basedir = args.basedir</span><br></pre></td></tr></table></figure><h1 id="load-data"><a href="#load-data" class="headerlink" title="load_???_data()"></a>load_???_data()</h1><h2 id="load-llff-data"><a href="#load-llff-data" class="headerlink" title="load_llff_data()"></a>load_llff_data()</h2><p>è¾“å…¥ï¼š</p><ul><li>args.datadir ï¼šâ€™./data/llff/fernâ€™</li><li>args.factor,</li><li>recenter=True, </li><li>bd_factor=.75,</li><li>spherify=args.spherify</li><li>path_zflat=False</li></ul><p>è¾“å‡ºï¼š</p><h2 id="load-blender-data-basedir-half-res-False-testskip-1"><a href="#load-blender-data-basedir-half-res-False-testskip-1" class="headerlink" title="load_blender_data(basedir, half_res=False, testskip=1)"></a>load_blender_data(basedir, half_res=False, testskip=1)</h2><p>è¾“å…¥ï¼š</p><ul><li>basedirï¼Œæ•°æ®é›†è·¯å¾„â€™E:\\3\\Work\dataset\\nerf_synthetic\\chairâ€™<blockquote><p>[!info]- chair æ–‡ä»¶å¤¹</p><ul><li>chairï¼š<ul><li>test<ul><li>200å¼ png 800x800x4</li></ul></li><li>train<ul><li>100å¼ png</li></ul></li><li>val<ul><li>100å¼ png</li></ul></li><li>.DS_Store</li><li>transforms_test.json</li><li>transforms_train.json</li><li>transforms_val.json</li></ul></li></ul></blockquote></li><li>half_resï¼Œæ˜¯å¦å°†å›¾åƒç¼©å°ä¸€å€ ï¼ˆä¸‹é‡‡æ ·ï¼‰</li><li>testskipï¼Œæµ‹è¯•é›†è·³ç€è¯»å–å›¾åƒ<br>è¾“å‡ºï¼š </li><li>imgsï¼štrainã€valã€testï¼Œä¸‰ä¸ªé›†çš„å›¾åƒæ•°æ®   imgs.shape : (400, 800, 800, 4)</li><li>posesï¼šç›¸æœºå¤–å‚çŸ©é˜µï¼Œç›¸æœºä½å§¿ poses.shape : (400, 4, 4)  400å¼ å›¾ç‰‡çš„4x4ç›¸æœºå¤–å‚çŸ©é˜µ</li><li>render_posesï¼šæ¸²æŸ“ä½å§¿ï¼Œç”Ÿæˆè§†é¢‘çš„ç›¸æœºä½å§¿ï¼ˆtorch.Size([40, 4, 4])ï¼š40å¸§ï¼‰</li><li>[H, W, focal] å›¾ç‰‡æ•°æ®ï¼Œé«˜ã€å®½ã€ç„¦è·</li><li>i_splitï¼Œä¸‰ä¸ªarrayæ•°ç»„<ol><li>0,1,2,â€¦,99 ï¼ˆ100å¼ trainå›¾åƒï¼‰</li><li>100,101,â€¦,199 ï¼ˆ100å¼ valå›¾åƒï¼‰</li><li>200,201,â€¦399 ï¼ˆ200å¼ testå›¾åƒï¼‰</li></ol></li></ul><h1 id="create-nerf-args"><a href="#create-nerf-args" class="headerlink" title="create_nerf(args)"></a>create_nerf(args)</h1><p>è¾“å…¥ï¼š</p><ul><li>argsï¼Œç”±å‘½ä»¤è¡Œå’Œé»˜è®¤è®¾ç½®çš„argumentså…±åŒç»„æˆçš„å­—å…¸<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">parser = config_parser()</span><br><span class="line">args = parser.parse_args()</span><br></pre></td></tr></table></figure></li></ul><p>è¾“å‡ºï¼š</p><ul><li>render_kwargs_train</li><li>render_kwargs_test<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">render_kwargs_train = &#123;</span><br><span class="line">    &#x27;network_query_fn&#x27; : network_query_fn,</span><br><span class="line">    &#x27;perturb&#x27; : args.perturb, # é»˜è®¤ä¸º1 --perturbï¼šåœ¨è®­ç»ƒæ—¶å¯¹è¾“å…¥è¿›è¡Œæ‰°åŠ¨</span><br><span class="line">    &#x27;N_importance&#x27; : args.N_importance, # --N_importanceï¼šæ¯æ¡å°„çº¿çš„é™„åŠ ç²¾ç»†é‡‡æ ·æ•°</span><br><span class="line">    &#x27;network_fine&#x27; : model_fine,</span><br><span class="line">    &#x27;N_samples&#x27; : args.N_samples, # --N_samplesï¼šæ¯æ¡å°„çº¿çš„ç²—ç•¥é‡‡æ ·æ•°</span><br><span class="line">    &#x27;network_fn&#x27; : model,</span><br><span class="line">    &#x27;use_viewdirs&#x27; : args.use_viewdirs, # --use_viewdirsï¼šä½¿ç”¨å…¨5Dçš„è¾“å…¥ä»£æ›¿3Dçš„è¾“å…¥</span><br><span class="line">    &#x27;white_bkgd&#x27; : args.white_bkgd,</span><br><span class="line">    &#x27;raw_noise_std&#x27; : args.raw_noise_std, # é»˜è®¤0 --raw_noise_stdï¼šæ·»åŠ åˆ°è¾“å…¥çš„å™ªå£°æ ‡å‡†å·®</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># NDC only good for LLFF-style forward facing data</span><br><span class="line"># NDC å…¨ç§°æ˜¯ Normalized Device Coordinatesï¼Œå³å½’ä¸€åŒ–è®¾å¤‡åæ ‡</span><br><span class="line">if args.dataset_type != &#x27;llff&#x27; or args.no_ndc:</span><br><span class="line">    print(&#x27;Not ndc!&#x27;)</span><br><span class="line">    render_kwargs_train[&#x27;ndc&#x27;] = False</span><br><span class="line">    render_kwargs_train[&#x27;lindisp&#x27;] = args.lindisp</span><br><span class="line">    </span><br><span class="line">render_kwargs_test = &#123;k : render_kwargs_train[k] for k in render_kwargs_train&#125;</span><br><span class="line">render_kwargs_test[&#x27;perturb&#x27;] = False</span><br><span class="line">render_kwargs_test[&#x27;raw_noise_std&#x27;] = 0.</span><br></pre></td></tr></table></figure></li><li>start ï¼šglobal step</li><li>grad_varsï¼šmodelçš„å‚æ•°åˆ—è¡¨ï¼ŒåŒ…æ‹¬æƒé‡å’Œåç½®<ul><li><code>grad_vars = list(model.parameters())</code></li><li>if args.N_importance &gt; 0: <code>grad_vars += list(model_fine.parameters())</code></li></ul></li><li>optimizer<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">optimizer = torch.optim.Adam(params=grad_vars, lr=args.lrate, betas=(0.9, 0.999))</span><br><span class="line"></span><br><span class="line">if åŠ è½½äº†ckpt ï¼š Â optimizer.load_state_dict(ckpt[&#x27;optimizer_state_dict&#x27;])</span><br></pre></td></tr></table></figure></li></ul><h2 id="get-embedder-args-multires-args-i-embed"><a href="#get-embedder-args-multires-args-i-embed" class="headerlink" title="get_embedder(args.multires, args.i_embed)"></a>get_embedder(args.multires, args.i_embed)</h2><p>è¾“å…¥ï¼š</p><ul><li>args.multires, è¾“å…¥çš„L</li><li>args.i_embedï¼Œé»˜è®¤ä¸º0ï¼Œä½¿ç”¨ä½ç½®ç¼–ç ï¼Œ-1ä¸ºæ— ä½ç½®ç¼–ç </li></ul><p>è¾“å‡ºï¼š</p><ul><li>embed, ä½ç½®ç¼–ç å‡½æ•°ï¼Œ<code>å°†(1024 * 32 * 64) * 3å¤„ç†ä¸º (1024 * 32 * 64) * 63</code><ul><li>input_ch = 3 , L = 10 å¹¶ä¸”åŒ…æ‹¬è¾“å…¥ç»´åº¦</li></ul></li><li>embedder_obj.out_dim : è¾“å‡ºçš„ç»´åº¦</li></ul><h3 id="Embedder"><a href="#Embedder" class="headerlink" title="Embedder()"></a>Embedder()</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class Embedder:</span><br><span class="line">Â  Â  def __init__(self, **kwargs):</span><br><span class="line">        self.kwargs = kwargs</span><br><span class="line">        self.create_embedding_fn()</span><br><span class="line">    def create_embedding_fn(self):  </span><br><span class="line">    </span><br></pre></td></tr></table></figure><h2 id="NeRF-nn-Module"><a href="#NeRF-nn-Module" class="headerlink" title="NeRF(nn.Module)"></a>NeRF(nn.Module)</h2><p>ç»§æ‰¿nn.Moduleæ„å»ºçš„ç±»</p><p>def <strong>init</strong>(self, D=8, W=256, input_ch=3, input_ch_views=3, output_ch=4, skips=[4], use_viewdirs=False)</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/357021687">Pytorch ä¸­çš„ forwardç†è§£ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">model = NeRF(...) å®ä¾‹åŒ–</span><br><span class="line">model(input) ç›¸å½“äº model.forward(input)</span><br></pre></td></tr></table></figure><ul><li>D=args.netdepth, W=args.netwidth</li><li>input_ch=input_ch, output_ch=output_ch</li><li>skips=skips,</li><li>input_ch_views=input_ch_views</li><li>use_viewdirs=args.use_viewdirs</li></ul><h2 id="network-query-fn"><a href="#network-query-fn" class="headerlink" title="network_query_fn"></a>network_query_fn</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">network_query_fn = lambda inputs, viewdirs, network_fn : run_network(inputs, viewdirs, network_fn,</span><br><span class="line">    embed_fn=embed_fn,</span><br><span class="line">    embeddirs_fn=embeddirs_fn,</span><br><span class="line">    netchunk=args.netchunk)</span><br></pre></td></tr></table></figure><h1 id="if-render-only"><a href="#if-render-only" class="headerlink" title="if render_only:"></a>if render_only:</h1><h2 id="render-path"><a href="#render-path" class="headerlink" title="render_path()"></a>render_path()</h2><p>è¾“å…¥ï¼š</p><ul><li>render_poses, æµ‹è¯•é›†çš„æ¸²æŸ“ç›¸æœºä½å§¿  200 <em> 4 </em> 4 </li><li>hwf, </li><li>K, ç›¸æœºå†…å‚çŸ©é˜µ</li><li>chunk, <code>args.chunk=1024*32</code></li><li>render_kwargs = render_kwargs_test</li><li>gt_imgs=None, </li><li>savedir=None, </li><li>render_factor=0</li></ul><p>è¾“å‡ºï¼š</p><ul><li>rgbs, 200 x W x H x 3</li><li>dispsï¼Œ200xWxH</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">render_path(render_poses, hwf, K, args.chunk, render_kwargs_test, gt_imgs=images, savedir=testsavedir, render_factor=args.render_factor)</span><br></pre></td></tr></table></figure><h3 id="render"><a href="#render" class="headerlink" title="render()"></a>render()</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rgb, disp, acc, _ = render(H, W, K, chunk=chunk, c2w=c2w[:3,:4], **render_kwargs)</span><br></pre></td></tr></table></figure><h1 id="get-rays-np-H-W-K-c2w-numpyç‰ˆæœ¬-narray"><a href="#get-rays-np-H-W-K-c2w-numpyç‰ˆæœ¬-narray" class="headerlink" title="get_rays_np(H, W, K, c2w) numpyç‰ˆæœ¬(narray)"></a>get_rays_np(H, W, K, c2w) numpyç‰ˆæœ¬(narray)</h1><p>é€šè¿‡è¾“å…¥çš„å›¾ç‰‡å¤§å°å’Œç›¸æœºå‚æ•°ï¼Œå¾—åˆ°ä»ç›¸æœºåŸç‚¹åˆ°å›¾ç‰‡æ¯ä¸ªåƒç´ çš„å…‰çº¿ï¼ˆæ–¹å‘å‘é‡då’Œç›¸æœºåŸç‚¹oï¼‰</p><p>è¾“å…¥ï¼š</p><ul><li>Hï¼šå›¾ç‰‡çš„é«˜</li><li>Wï¼šå›¾ç‰‡çš„å®½</li><li>Kï¼šç›¸æœºå†…å‚çŸ©é˜µ<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">K = np.array([</span><br><span class="line">    [focal, 0, 0.5*W],</span><br><span class="line">    [0, focal, 0.5*H],</span><br><span class="line">    [0, 0, 1]</span><br><span class="line">])</span><br></pre></td></tr></table></figure></li><li>c2wï¼šç›¸æœºå¤–å‚çŸ©é˜µ<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">c2w = np.array([</span><br><span class="line">            [ -0.9980267286300659,  0.04609514772891998,  -0.042636688798666, -0.17187398672103882],</span><br><span class="line">            [ -0.06279052048921585,  -0.7326614260673523, 0.6776907444000244, 2.731858730316162],</span><br><span class="line">            [-3.7252898543727042e-09, 0.6790306568145752,0.7341099381446838, 2.959291696548462],</span><br><span class="line">            [ 0.0,0.0,0.0,1.0 ]])</span><br></pre></td></tr></table></figure></li></ul><p>è¾“å‡ºï¼šä»ç›¸æœºåŸç‚¹åˆ°800x800å›¾ç‰‡ä¸­æ¯ä¸ªåƒç´ ç”Ÿæˆçš„å…‰çº¿ $r(t)=\textbf{o}+t\textbf{d}$</p><ul><li>rays_oï¼šå…‰çº¿åŸç‚¹ï¼ˆä¸–ç•Œåæ ‡ç³»ä¸‹ï¼‰(800, 800, 3)</li><li>rays_dï¼šå…‰çº¿çš„æ–¹å‘å‘é‡ï¼ˆä¸–ç•Œåæ ‡ç³»ä¸‹ï¼‰(800, 800, 3)</li></ul><p>éœ€è¦å¯¹renderè¾“å…¥çš„å…‰çº¿åšbatch: <code>rays = batch_rays</code></p><h1 id="render-1"><a href="#render-1" class="headerlink" title="render()"></a>render()</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(H, W, K, chunk=1024*32, rays=None, c2w=None, ndc=True,near=0., far=1.,use_viewdirs=False, c2w_staticcam=None, **kwargs)</span><br></pre></td></tr></table></figure><p>è¾“å…¥</p><ul><li>H</li><li>W</li><li>K</li><li>chunk=args.chunk åŒæ—¶å¤„ç†å…‰çº¿çš„æœ€å¤§æ•°é‡</li><li>rays=batch_rays  <code>[2, batch_size, 3]</code> </li><li>verbose=i &lt; 10   </li><li>retraw=True</li><li>render_kwargs_train</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">render_kwargs_train = &#123;</span><br><span class="line">    &#x27;network_query_fn&#x27; : network_query_fn,</span><br><span class="line">    &#x27;perturb&#x27; : args.perturb, # é»˜è®¤ä¸º1 --perturbï¼šåœ¨è®­ç»ƒæ—¶å¯¹è¾“å…¥è¿›è¡Œæ‰°åŠ¨ï¼Œæ˜¯å¦åˆ†å±‚é‡‡æ ·</span><br><span class="line">    &#x27;N_importance&#x27; : args.N_importance, # --N_importanceï¼šæ¯æ¡å°„çº¿çš„é™„åŠ ç²¾ç»†é‡‡æ ·æ•° = 128</span><br><span class="line">    &#x27;network_fine&#x27; : model_fine,</span><br><span class="line">    &#x27;N_samples&#x27; : args.N_samples, # --N_samplesï¼šæ¯æ¡å°„çº¿çš„ç²—ç•¥é‡‡æ ·æ•° 64</span><br><span class="line">    &#x27;network_fn&#x27; : model,</span><br><span class="line">    &#x27;use_viewdirs&#x27; : args.use_viewdirs, # --use_viewdirsï¼šä½¿ç”¨å…¨5Dçš„è¾“å…¥ä»£æ›¿3Dçš„è¾“å…¥</span><br><span class="line">    &#x27;white_bkgd&#x27; : args.white_bkgd,</span><br><span class="line">    &#x27;raw_noise_std&#x27; : args.raw_noise_std, # é»˜è®¤0 --raw_noise_stdï¼šæ·»åŠ åˆ°è¾“å…¥çš„å™ªå£°æ ‡å‡†å·®</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<code>ret_list + [ret_dict]</code></p><ul><li>rgb: <code>all_ret[&#39;rgb_map&#39;]</code> </li><li>disp: <code>all_ret[&#39;disp_map&#39;]</code></li><li>acc: <code>all_ret[&#39;acc_map&#39;]</code></li><li>extras: <code>[&#123;&#39;raw&#39;: raw , &#39;...&#39;: ...&#125;]</code><br>eg:  <code>all_ret[&#39;raw&#39;] : W * H * N_samples +N_importance * 4</code><br>eg: <code>all_ret[&#39;rgb_map&#39;] : W * H * 3</code></li></ul><h2 id="æ¸²æŸ“æµç¨‹å›¾"><a href="#æ¸²æŸ“æµç¨‹å›¾" class="headerlink" title="æ¸²æŸ“æµç¨‹å›¾"></a>æ¸²æŸ“æµç¨‹å›¾</h2><iframe frameborder="0" style="width:100%;height:1583px;" src="https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1&title=render%E6%B5%81%E7%A8%8B.drawio#R7R1bc6O2%2Btcwm3QmHu7gR1%2BS3Zme7mm7Z7qnTx5sY5uzGFzAcbK%2F%2FkhCAiR9tnECNkncmW6MJJD47jcJxRitnz4n3mb1Wzz3Q0VX50%2BKMVZ0XTMNFf3BLc95i62becMyCeZ0UNnwLfjp00Z633IbzP2UG5jFcZgFG75xFkeRP8u4Ni9J4h0%2FbBGH%2FKwbb%2BlLDd9mXii3fg%2Fm2SpvdXWnbP%2FiB8sVm1mz%2B3nP2mOD6ZukK28e7ypNxr1ijJI4zvJf66eRH2LgMbjk9z3s6S0WlvhRVucG77P%2FFD5Gz9%2F%2BUhePm1%2FT2V9L444uNs2e2Qv7c%2FT%2B9DJOslW8jCMvvC9bh0m8jeY%2BfqqKrsox%2F4rjDWrUUOP%2F%2FCx7psj0tlmMmlbZOqS9%2FlOQ%2FRff3rPo1d%2BVnvETfTK5eGYXUZY8V27Cl39X%2B8rbyBW7bxFHGV2IZqBrGWoUkGm8TWb%2BAVAx6vOSpZ8dGKfn4zAcKxNQnHz247WP1ocGJH7oZcEjT2ceJddlMa7EKPpBkXoCgulzH71wS2dae0GEWkKMLXQz%2Fp0lpE2ghBLPGDW7VZD53zYegdEOMTuP09pwfvSTzH86CBnaa1mUc54Zb9HrXcmIRduqwoSm2hIwzUtyi1bhlZJzjnELxysl67TOLXpNbjE6xS26xC3ozed%2B0n3ecC%2FNG%2FZVk9TlDaMmb1id4g1D4g20%2BkniPaed4w5HFbnDkrjDAZjDaIs5GCdeiDtepDkuxR1WTe5wO8UdlsQd0Xz2Nrij0AkX4w7jqjvqcodbkzs07VLssXncjf%2F8t7P68vB898fU%2FPEzjfw747KO5tkRPPfSVcHijWIbBK9pNo1tcusgQQKsMmATB1GWVp78O24oJYvLCxZDjEgcHq6Z%2FcPjbdU6eAP6ka%2B4pNPi1V8unVxJsk%2B9bLYKFs%2FdFO%2Bia6Bf3DXQLuo3vy35rtUNM2kXizOBEkh337eA5wR6u%2BiG4eu0IuElGWsYYtBNE8RCvlR6W0k1p%2BoKXZjIOCL8xfHFwmprC%2BGGdrQFQ6gUQnobysKwLq4snKuyqC096kZZtW6FkswLO3x6%2B0huS1%2FUxXhLHsFRKevq7agLy3G4eUz3sPQ3hCDHqeMdxzpJuwjjW1IuuqRcIj%2FbxcmPyT9bP3meLCJFt0NEF8NpwvGX%2Fc8W55kJJd6lhBQHaIBmbJ4IPbJ%2B9GtJ%2FuKb1GQbTegEnddcpn5xzXVZE%2Fhtaa66UV7NbkWOnSp%2BHINnd8s8zfgUxrckHuQgtL%2Be%2BnMiFjrGvnZfAJAqs68LcG9rQWj9GoSuz712Te7VLxakOLhuIJaHWpV7S3FdxbWVe1tx%2B8qwr9ybyhC1qLhlMFIG2iK6ma220Y9f0HjbuMW3DExl4OAfQ1VxHzrHaEzyFIxmA3rSADjNao3TNAlIXS%2Bj0Tg%2BO1pG05Lxzyyct%2BbusXULpQNEN3WxuMZ2nR6vnUxNLiBgCqxp7QTnz67lNfXZ5HI%2B8uvYRPbusOGmkp8qc%2FQqTWtabZ1fffX%2FfLjp9Xq3neMny%2BS5yTZkbtL0s6qgy7LTG1ZBdf22jll%2BuuwaYX7pHKuIbpFtyqxyXrfo3Qc12uIUpy6ndMxYcyROmSW%2Bl%2FmTyE8WnWcYC6h2OCvDGLKxe%2FMdXWOP8cst%2FYGYSo1xhFbuwgnERkK4AUKWuk39yWPg7%2BZBIicfEYgzHkFplsQ%2F%2FFEcosUZ4yiOMDcvgjAUmrwwWEbocoYQhwx4Y4gRFsy8cEA71sF8TkQBRBG8eGiBKAyhskiHspo2QBVi8qI5qpDTwnkgQaYIrlmTfeUPgzUwFw0VpraHNbnmnQSJLGVo09jQYIwxRy%2BGmCFxnn%2BC9NnYwB36iDXN86YRseW9hOCODViw6w%2BDa0fg0D6A6%2F5ZcW1KuA6izRYnBdRc0vKc%2BXWSeutN6KN%2BG%2F1AYImmKf6DOw2xkWD6ZLEuyfRSlNM1kSXRFckB7PdLPjWSfzqU%2FGuPfGQHAyQfkXpuS%2BS9njyIypdo5OjECCbDj0U%2Fpi3QDyB%2BikTxeehHTk3Q%2BOi8JiLtRkjoRqShbOUjfA1um3g4%2F0aHX4dh5COQo1h8YgGWjw7laNojR7nqfQ85vor8IL%2BlSQqEng8R4YckOiExaOtAVPa8JlhfIro7dHmE8MzOiz35JaQ3eBNEh6%2FZdAoWWv2%2BqjZEjEJ1tw1tWmmLGOEtVRJSup6kLi7OfdYDy6Md3cRwscMe4NVcK82bR3Hz%2B1ReV2kue%2FWJt9PjbZb7Zh2LZotFra4D6OTzHnkj%2ByVmruuQQhwt0f9THMIaPSjuB%2FIfLcFgdw1ZXZ3VdDJlex3RuQKFiQ4Grhoxpn5O0DLSwzO%2FehIaU70GwgSBAXiO6jkFhiVnOrD9myynkzWCCQl3K7aqWEOKshHBmDXGjbguw9BUajPPg3RDbsIYluOplYdAd3uzWXHz0cE7AppUHkyWVxIuuEx%2Fk60OTgVT44nqpU3rW4jG96G9FJA8c9uyvuXEy9dJsN4ge8uLELwkvb2K19NtehGd7aj8ziTXAnQ2yySdBXjX81RAwxaEFVDPBMNUv5Rde2jZFf7IJdRkM%2B9ejYajuUI9bf%2BcZ1KAAJTN2r%2F9Q%2F6AykMJYAWQZURo%2BtF8gE%2BlRdfTMJ79yJseArx4SufsEFy3sFLYwbPEbmGnyOLBoTf1w6E3%2B7EkCxVMl%2BM8f06WfTmLAsflHeKJoxxKqVLtaRorr6BkeccOJ37pplg2JF4sUp%2Fb7yrvKBN1rkjqOVykjbPHH%2BSqPVXVLNNy%2B4aj9V3%2BsXv2475gDxqIBNkPyb2BCbKTQWO9mbQVs9%2BsYa%2FXQ0YbouHBnYbtLzonbz4KqQu9iSUcNFDerQPiuJJsB6q7dR2wf2yrJdkOpxF4T%2FTN4apF87%2FYs89OSlGBzZit1cvB5pZ1NWHr6kfoTAh44MX2uxxc9%2FU0A8hE1lTgWM7z2sja2wqeOxrviCNgXRyCspuxXw3RMqxKlPSjRTNdTVREQFz9zIpI3g5x2JjYg8Vrjh%2BZGbKMg8LVJmArtoffN%2FMFlAbPn6%2B7j5wN7IjBYF6NwtpGIbT97ExHB7%2FuHFFZ3mZxMlv1Zl7GDtkgB3QMHvBpG3QTxiCXx%2FjcjqEyHJEf98rAUu5dZYhucnBLf4xbuma1SF%2FyADcrndVqAbawJTiapeZ2tOIMP9F03qcipMPl9z6xzF3ZX%2BTy8gE0OVf2s2ydM27K5qePmQePr3oOKQxEr4%2FT6SSQFOa9D%2BTBzc4F7xoRmzAuLIQCb%2FeJBbiIe4Pz%2FeLgQ6tNN14ELhdbJnfUyCDhOmZnKPgDas2AX5wj9BfZy2bY%2Bxr1H2Qw8B0ulyhMO87e48omEKTz9fBrhBGwZ3ADVNQMYAjpS9YtJTE6laryXFH%2F7c%2FLLMupynNLLq8maocWiWUkv0omNTu1TCSq%2BVVS2d2pRf6cpNmcW2VuRqDWm58lS48IkNdoBP5SHr7aRtPAS4lB8OCFqX8LTkt2TVnDr%2FmpztZ435vDPt%2F5rQxN9KyL81YqVoYJ7Xgq3O3mzQy5yIPU7YThpNvmxl6J%2B6p6NvpG%2BQ6H7798aXRnYCMrlO2O6lpfpHaOMnljKrgJ6J1qMenqfpOmEYO1FTyfaLQ0IuJaDDtp4mdmoL3mJrS7rt%2Ba5JMD63JQ8Ro%2FFDftCp6yA50ZYAF4bC14CGz6PqXWtQk392V1sk3NfLTGtqmJjtXnihF4uWK3MWC%2F%2BWrf4uPlhS0IbTeGDk1qrWLVBL6astcfr%2BJ6CMjJRlC9fw%2FDvukbmfa6qyGnM9FbATK5hq71gCNYW4uKQlvJ%2FGwSBimp%2FIsw1nDDPJhl3Y8yW1Bm9axRZmBn2VE7e5aTMfUAb%2BjpSezPbcXaXnjrIHzOh6788NHH5L3fGq905JPinihO1l5Y6dtRuOBOk4pjNfQzxEN3aM2zIFrKd%2B6PdJKeANFFRJ%2BpspWQnizxonSBnsSeSVgXoyxO5vx8xY3Tohj4ToCVjreIYTDpZp%2F%2BsBjEsAERehRaQRQGbKZFGHuZML0osgp%2FvU3%2FoAnzUfQDoE8OQLUFrR3qbF0492zatlLJaPZUU1fa3mluHbBt8GS%2F%2B0mAoIuV0ivLxs26GVDrYl%2BSPrhuQC42lRnA4zF3ezP%2BOaWgrNz6SnsZyZ7CUmaiwqpE9Dj7HAEsX9uZEghnhwaWtBA4ygjmx4IHciAhcBTx2o8FDaQaE49zcknwGwdccz2e%2B0R5TLvX69FmvOXBGfNZiDqA6rqjaji2WDAGmq3QztTWshbATnuBVF4Ydv2S4%2FV7%2FufX%2FM9M3%2B1F6qvRZzWDJvbpuwJJ0BdmINeiNcPKlHeANIMjotDy813vH3ChUX9wQxFG0WdwJ0YJd82P39UOlltkUnH7mQZF16ETCJr4uANsz8nlS21w6CKeIRevPM%2B3POk35k79fWvsqwMiVofC6u35RXI0sHH2PcSkUp8YVb%2F5Oh7hYsT%2BWOnn3wZTFddR7h1laCjDIfts2PD9cDVYlNjWJ1tgopDDb0fDRVIkqEAkApdhClYc36PsS96amLK4PilixHWLQSP9eNyIDTmSVgbjR1wnFEJiA%2BAoEus9EkhSK7EktRJOYrdDEaUCKkJQ6ZjpPStIvBxo4P8WC%2FneMiCfIxzzpK70EXP2MYu6DmXXIWHX%2FkBxTVIbTCqL6ZiHI3Y0JxhesdJKJqG62OE9tNhW10hFh4wJXHHtKgMb3XhHV0hhxg68x%2Bfho2WPKyssxrj4XfoGGzM4ec3NBxObUpoarzSh8yygTxU4rYlH4PzxeuWbUsb4o2SZbGHbswvpuLPWE1j7fcsTUiJlVqRMjHAaqWmNaFxOI5JkynvXh%2F9ZBTi9Tf7xwjRWyPHE6N9iJ64a57sU0LsnN7ftSc%2FGjk80xMCODXkdDQUN0GUSY4gWfZ%2FRW65%2BI59PNO7%2FDw%3D%3D"></iframe><h2 id="get-rays-H-W-K-c2w-torchç‰ˆæœ¬-tensor"><a href="#get-rays-H-W-K-c2w-torchç‰ˆæœ¬-tensor" class="headerlink" title="get_rays(H, W, K, c2w) torchç‰ˆæœ¬(tensor)"></a>get_rays(H, W, K, c2w) torchç‰ˆæœ¬(tensor)</h2><p>é€šè¿‡è¾“å…¥çš„å›¾ç‰‡å¤§å°å’Œç›¸æœºå‚æ•°ï¼Œå¾—åˆ°ä»ç›¸æœºåŸç‚¹åˆ°å›¾ç‰‡æ¯ä¸ªåƒç´ çš„å…‰çº¿ï¼ˆæ–¹å‘å‘é‡då’Œç›¸æœºåŸç‚¹oï¼‰</p><p>è¾“å…¥ï¼š</p><ul><li>Hï¼šå›¾ç‰‡çš„é«˜</li><li>Wï¼šå›¾ç‰‡çš„å®½</li><li>Kï¼šç›¸æœºå†…å‚çŸ©é˜µ<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">K = np.array([</span><br><span class="line">    [focal, 0, 0.5*W],</span><br><span class="line">    [0, focal, 0.5*H],</span><br><span class="line">    [0, 0, 1]</span><br><span class="line">])</span><br></pre></td></tr></table></figure></li><li>c2wï¼šç›¸æœºå¤–å‚çŸ©é˜µ<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">c2w = np.array([</span><br><span class="line">            [ -0.9980267286300659,  0.04609514772891998,  -0.042636688798666, -0.17187398672103882],</span><br><span class="line">            [ -0.06279052048921585,  -0.7326614260673523, 0.6776907444000244, 2.731858730316162],</span><br><span class="line">            [-3.7252898543727042e-09, 0.6790306568145752,0.7341099381446838, 2.959291696548462],</span><br><span class="line">            [ 0.0,0.0,0.0,1.0 ]])</span><br></pre></td></tr></table></figure></li></ul><p>è¾“å‡ºï¼šä»ç›¸æœºåŸç‚¹åˆ°800x800å›¾ç‰‡ä¸­æ¯ä¸ªåƒç´ ç”Ÿæˆçš„å…‰çº¿ $r(t)=\textbf{o}+t\textbf{d}$</p><ul><li>rays_oï¼šå…‰çº¿åŸç‚¹ï¼ˆä¸–ç•Œåæ ‡ç³»ä¸‹ï¼‰(800, 800, 3)</li><li>rays_dï¼šå…‰çº¿çš„æ–¹å‘å‘é‡ï¼ˆä¸–ç•Œåæ ‡ç³»ä¸‹ï¼‰(800, 800, 3)</li></ul><h2 id="ndc-rays-H-W-focal-near-rays-o-rays-d"><a href="#ndc-rays-H-W-focal-near-rays-o-rays-d" class="headerlink" title="ndc_rays(H, W, focal, near, rays_o, rays_d)"></a>ndc_rays(H, W, focal, near, rays_o, rays_d)</h2><p>ä»…éœ€è¦å¯¹LLFFåšProjection å˜æ¢åˆ°NDCåæ ‡ç³»ä¸‹</p><p>è¾“å…¥ï¼š</p><ul><li>H</li><li>W</li><li>focal</li><li>near</li><li>rays_o</li><li>rays_d</li></ul><p>è¾“å‡ºï¼šNDCåæ ‡ç³»ä¸‹</p><ul><li>rays_o</li><li>rays_d</li></ul><h2 id="batchify-rays-rays-flat-chunk-1024-32-kwargs"><a href="#batchify-rays-rays-flat-chunk-1024-32-kwargs" class="headerlink" title="batchify_rays(rays_flat, chunk=1024*32, **kwargs)"></a>batchify_rays(rays_flat, chunk=1024*32, **kwargs)</h2><p>è¾“å…¥ï¼š</p><ul><li>rays_flat: (WxH)x8 or (WxH)x11</li><li>chunk=1024*32</li><li>**kwargs</li></ul><p>è¾“å‡ºï¼š</p><ul><li>all_ret: å°†ret = {â€˜rgb_mapâ€™ : rgb_map, â€˜disp_mapâ€™ : disp_map, â€˜acc_mapâ€™ : acc_map} æ‹¼æ¥èµ·æ¥</li></ul><p><strong>retï¼šchunk(1024 * 32) â€”&gt; all_retï¼š800x800</strong></p><h3 id="render-rays"><a href="#render-rays" class="headerlink" title="render_rays()"></a>render_rays()</h3><p>è¾“å…¥ï¼š</p><ul><li>ray_batch</li><li>ç»§æ‰¿æ¥è‡ªrender()è¾“å…¥çš„å‚æ•°ï¼š</li><li>network_fn,</li><li>network_query_fn,</li><li>N_samples,</li><li>retraw=False,</li><li>lindisp=False,</li><li>perturb=0.,</li><li>N_importance=0, æ¯æ¡å…‰çº¿å¢åŠ çš„é‡‡æ ·æ•°</li><li>network_fine=None,</li><li>white_bkgd=False,</li><li>raw_noise_std=0.,</li><li>verbose=False,</li><li>pytest=False</li></ul><p>è¾“å‡ºï¼š<br>ret = {â€˜rgb_mapâ€™ : rgb_map, â€˜disp_mapâ€™ : disp_map, â€˜acc_mapâ€™ : acc_map}<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if retraw:</span><br><span class="line">    ret[&#x27;raw&#x27;] = raw</span><br><span class="line"></span><br><span class="line">if N_importance &gt; 0:</span><br><span class="line">    ret[&#x27;rgb0&#x27;] = rgb_map_0</span><br><span class="line">    ret[&#x27;disp0&#x27;] = disp_map_0</span><br><span class="line">    ret[&#x27;acc0&#x27;] = acc_map_0</span><br><span class="line">    ret[&#x27;z_std&#x27;] = torch.std(z_samples, dim=-1, unbiased=False) Â # [N_rays]</span><br></pre></td></tr></table></figure></p><h4 id="run-network-inputs-viewdirs-fn-embed-fn-embeddirs-fn-netchunk-1024-64"><a href="#run-network-inputs-viewdirs-fn-embed-fn-embeddirs-fn-netchunk-1024-64" class="headerlink" title="run_network(inputs, viewdirs, fn, embed_fn, embeddirs_fn, netchunk=1024*64)"></a>run_network(inputs, viewdirs, fn, embed_fn, embeddirs_fn, netchunk=1024*64)</h4><p>è¾“å…¥ï¼š</p><ul><li>inputs </li><li>viewdirs</li><li>fnï¼šnetwork_fn = model ï¼Œç»è¿‡ä¸€æ¬¡MLPè®­ç»ƒ</li><li>embed_fn</li><li>embeddirs_fn</li><li>netchunk=1024*64</li></ul><p>è¾“å‡ºï¼š</p><ul><li>outputs: chunk <em> N_samples </em> 4 (æ¯æ¡å…‰çº¿ï¼Œæ¯ä¸ªé‡‡æ ·ç‚¹çš„RGBÏƒ)</li></ul><p>åœ¨è¿™é‡Œè°ƒç”¨äº†run_networkå‡½æ•°<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Â  Â  network_query_fn = lambda inputs, viewdirs, network_fn : run_network(inputs, viewdirs, network_fn,</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  embed_fn=embed_fn,</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  embeddirs_fn=embeddirs_fn,</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  netchunk=args.netchunk)</span><br></pre></td></tr></table></figure></p><h5 id="batchify-fn-chunk"><a href="#batchify-fn-chunk" class="headerlink" title="batchify(fn, chunk)"></a>batchify(fn, chunk)</h5><p>è¾“å…¥ï¼š</p><ul><li>fn : model</li><li>chunk : 1024* 32 </li></ul><p>å¦‚æœchunkæ²¡æœ‰æ•°æ®ï¼Œåˆ™è¿”å›fnï¼Œå¦åˆ™ï¼š<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def ret(inputs):</span><br><span class="line">    return torch.cat([fn(inputs[i:i+chunk]) for i in range(0, inputs.shape[0], chunk)], 0)</span><br><span class="line">    Â  Â  Â  Â  # æ¯ä¸ªchunkçš„å¤§å°ä¸º1024*32ï¼Œå³æ¯æ¬¡fnå¤„ç†1024*32ä¸ªç‚¹ï¼Œæœ€åè¿”å›ç»“æœ</span><br></pre></td></tr></table></figure></p><h4 id="raw2outputs-raw-z-vals-rays-d-raw-noise-std-0-white-bkgd-False-pytest-False"><a href="#raw2outputs-raw-z-vals-rays-d-raw-noise-std-0-white-bkgd-False-pytest-False" class="headerlink" title="raw2outputs(raw, z_vals, rays_d, raw_noise_std=0, white_bkgd=False, pytest=False)"></a>raw2outputs(raw, z_vals, rays_d, raw_noise_std=0, white_bkgd=False, pytest=False)</h4><p>ä½“æ¸²æŸ“åœ¨å…¶ä¸­<br>chunk = N_raysï¼Œå°„çº¿æ•°<br>è¾“å…¥ï¼š</p><ul><li>raw: chunk <em> N_samples </em> 4</li><li>z_vals: chunk * N_samples</li><li>rays_d: chunk * 3</li><li>raw_noise_std=0, </li><li>white_bkgd=False, </li><li>pytest=False)</li></ul><p>è¾“å‡ºï¼š</p><ul><li>rgb_map, <code>[chunk, 3]</code></li><li>disp_map:  <code>[chunk]</code></li><li>acc_map: <code>[chunk]</code></li><li>weights: <code>[chunk, N_samples]</code></li><li>depth_map: <code>[chunk]</code></li></ul><h4 id="sample-pdf-bins-weights-N-samples-det-False-pytest-False"><a href="#sample-pdf-bins-weights-N-samples-det-False-pytest-False" class="headerlink" title="sample_pdf(bins, weights, N_samples, det=False, pytest=False)"></a>sample_pdf(bins, weights, N_samples, det=False, pytest=False)</h4><p>è¾“å…¥ï¼š</p><ul><li>bins, chunk * 63</li><li>weights, chunk * 62</li><li>N_samples = N_importance</li><li>det=False  = (perturb\==0.)</li><li>pytest=False</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230618145142.png" alt="image.png|555"></p><p>è¾“å‡ºï¼š</p><ul><li>samples:  chunk * N_importance</li></ul><h1 id="img2mse-and-mse2psnr"><a href="#img2mse-and-mse2psnr" class="headerlink" title="img2mse() and mse2psnr()"></a>img2mse() and mse2psnr()</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">img2mse = lambda x, y : torch.mean((x - y) ** 2)</span><br><span class="line">mse2psnr = lambda x : -10. * torch.log(x) / torch.log(torch.Tensor([10.]))</span><br></pre></td></tr></table></figure><p> æ•°å­¦å…¬å¼ï¼š </p><p> $\text{MSE}(x, y) = \frac{1}{N}\sum_{i=1}^{N}(x_i - y_i)^2$</p><p> $\text{PSNR}(x) = -10 \cdot \frac{\ln(x)}{\ln(10)}$</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Python </tag>
            
            <tag> Code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nerfstudioâ€”â€”ç®€åŒ–NeRFæµç¨‹</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/NeRF-Studio/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF%20Other%20Research/NeRF-Studio/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>Nerfstudio: A Modular Framework for Neural Radiance Field Development</th></tr></thead><tbody><tr><td>Author</td><td>Tancik, Matthew and Weber, Ethan and Ng, Evonne and Li, Ruilong and Yi, Brentand Kerr, Justin and Wang, Terrance and Kristoffersen, Alexander and Austin,Jake and Salahi, Kamyar and Ahuja, Abhik and McAllister, David and Kanazawa,Angjoo</td></tr><tr><td>Conf/Jour</td><td>ACM SIGGRAPH 2023 Conference Proceedings</td></tr><tr><td>Year</td><td>2023</td></tr><tr><td>Project</td><td><a href="https://github.com/nerfstudio-project/nerfstudio/">nerfstudio-project/nerfstudio: A collaboration friendly studio for NeRFs (github.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4762351665164582913&amp;noteId=1908666225137730048">Nerfstudio: A Modular Framework for Neural Radiance Field Development (readpaper.com)</a></td></tr></tbody></table></div><p><a href="https://github.com/nerfstudio-project/nerfstudio/">Nerfstudio</a>æä¾›äº†ä¸€ä¸ªç®€å•çš„APIï¼Œå¯ä»¥ç®€åŒ–åˆ›å»ºã€è®­ç»ƒå’Œæµ‹è¯•NeRFçš„ç«¯åˆ°ç«¯è¿‡ç¨‹ã€‚è¯¥åº“é€šè¿‡å°†æ¯ä¸ªç»„ä»¶æ¨¡å—åŒ–ï¼Œæ”¯æŒæ›´æ˜“äºç†è§£çš„NeRFå®ç°ã€‚é€šè¿‡æ›´æ¨¡å—åŒ–çš„NeRFï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºæ¢ç´¢è¿™é¡¹æŠ€æœ¯æä¾›æ›´ç”¨æˆ·å‹å¥½çš„ä½“éªŒã€‚</p><span id="more"></span><h1 id="Autodlä½¿ç”¨"><a href="#Autodlä½¿ç”¨" class="headerlink" title="Autodlä½¿ç”¨"></a>Autodlä½¿ç”¨</h1><p>é€‰æ‹©å®ä¾‹ï¼Œpytorch2.0.0ï¼Œpython3.8ï¼Œcuda11.8</p><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p><a href="https://docs.nerf.studio/en/latest/quickstart/installation.html">Installation - nerfstudio</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda create --name nerfstudio -y python=3.8</span><br><span class="line">conda activate nerfstudio</span><br><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure><p>for cuda11.8ï¼Œéœ€è¦å¾ˆé•¿æ—¶é—´<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install torch==2.0.1+cu118 torchvision==0.15.2+cu118 --extra-index-url https://download.pytorch.org/whl/cu118</span><br><span class="line">pip install ninja git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch</span><br></pre></td></tr></table></figure></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip install nerfstudio</span><br><span class="line"></span><br><span class="line">é»˜è®¤æºä¸å¥½ç”¨ï¼Œä½¿ç”¨æ¸…åæº</span><br><span class="line">pip install nerfstudio -iÂ https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…FFmpeg"><a href="#å®‰è£…FFmpeg" class="headerlink" title="å®‰è£…FFmpeg"></a>å®‰è£…FFmpeg</h3><p><a href="https://www.onitroad.com/jc/linux/ubuntu/faq/how-to-install-ffmpeg-on-ubuntu-20-04.html">åœ¨Ubuntu 20.04 ä¸­å®‰è£…FFMPEG-ä¹‹è·¯æ•™ç¨‹ (onitroad.com)</a><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update </span><br><span class="line">sudo apt install ffmpeg</span><br><span class="line"></span><br><span class="line">ffmpeg -version</span><br></pre></td></tr></table></figure></p><h3 id="å®‰è£…Colmap"><a href="#å®‰è£…Colmap" class="headerlink" title="å®‰è£…Colmap"></a>å®‰è£…Colmap</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br><span class="line">sudo apt-get install \</span><br><span class="line">    git \</span><br><span class="line">    cmake \</span><br><span class="line">    build-essential \</span><br><span class="line">    libboost-program-options-dev \</span><br><span class="line">    libboost-filesystem-dev \</span><br><span class="line">    libboost-graph-dev \</span><br><span class="line">    libboost-system-dev \</span><br><span class="line">    libboost-test-dev \</span><br><span class="line">    libeigen3-dev \</span><br><span class="line">    libsuitesparse-dev \</span><br><span class="line">    libfreeimage-dev \</span><br><span class="line">    libmetis-dev \</span><br><span class="line">    libgoogle-glog-dev \</span><br><span class="line">    libgflags-dev \</span><br><span class="line">    libglew-dev \</span><br><span class="line">    qtbase5-dev \</span><br><span class="line">    libqt5opengl5-dev \</span><br><span class="line">    libcgal-dev</span><br><span class="line">å¦‚æœä¸€æ¬¡å®‰è£…ä¸ä¸Šï¼Œå¯ä»¥ç»§ç»­ä¸‹æ­¥ï¼Œç¼ºä»€ä¹ˆè£…ä»€ä¹ˆ</span><br></pre></td></tr></table></figure><p><code>sudo apt install colmap</code></p><h2 id="åŠ è½½æ•°æ®-amp-è®­ç»ƒmodel"><a href="#åŠ è½½æ•°æ®-amp-è®­ç»ƒmodel" class="headerlink" title="åŠ è½½æ•°æ®&amp;è®­ç»ƒmodel"></a>åŠ è½½æ•°æ®&amp;è®­ç»ƒmodel</h2><p><code>ns-train nerfacto --data data/nerfstudio/poster</code></p><h3 id="Download-some-test-data"><a href="#Download-some-test-data" class="headerlink" title="Download some test data:"></a>Download some test data:</h3><p><code>ns-download-data nerfstudio --capture-name=poster</code></p><blockquote><p>[!error]<br>AutoDLè¿æ¥ä¸äº†google driveï¼Œåªèƒ½ä½¿ç”¨è‡ªå·±çš„æ•°æ®é›†orï¼š<br>    ä½¿ç”¨googleçš„colabä¸‹è½½æ•°æ®é›†å¹¶å°†å…¶æ‰“åŒ…æˆzipï¼Œç„¶åå†ä¸Šä¼ åˆ°autodl</p><h3 id="Use-Own-Data"><a href="#Use-Own-Data" class="headerlink" title="Use Own Data"></a>Use Own Data</h3></blockquote><div class="note primary">            <p>é…å¥½ç¯å¢ƒåï¼Œå¯ä»¥åœ¨ä»»æ„åœ°å€åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œæ”¾å…¥éœ€è¦è®­ç»ƒçš„æ•°æ®é›† </p>          </div><p><code>ns-process-data &#123;video,images,polycam,record3d&#125; --data &#123;DATA_PATH&#125; --output-dir &#123;PROCESSED_DATA_DIR&#125;</code></p><p><code>ns-process-data &#123;images, video&#125; --data &#123;DATA_PATH&#125; --output-dir &#123;PROCESSED_DATA_DIR&#125;</code></p><h4 id="eg-Miku"><a href="#eg-Miku" class="headerlink" title="eg: Miku"></a>eg: Miku</h4><p>cd autodl-tmp<br><code>ns-process-data images --data data/images --output-dir data/nerfstudio/images_name</code></p><p>è·³è¿‡å›¾åƒå¤„ç†ï¼šå¤åˆ¶å’Œç¼©æ”¾<br><code>ns-process-data images --data data/Miku/image/ --output-dir data/nerfstudio/Miku --skip-image-processing</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">06.29:</span><br><span class="line">(nerfstudio) root@autodl-container-7092458c99-5f01fa1c:~/autodl-tmp# ns-process-data images  --data data/Miku/image/ --output-dir data/nerfstudio/Miku --skip-image-processing --skip-colmap  </span><br><span class="line">[15:37:47] Only single camera shared for all images is supported.</span><br><span class="line">æ•°æ®é›†å¿…é¡»æ˜¯å•ä¸ªç›¸æœºå»æ‹ç…§ç‰©ä½“ï¼Ÿï¼Ÿï¼Ÿ</span><br><span class="line">æ— æ‰€è°“ï¼šæ— å¡å¼€æœºç”¨cpuç®—</span><br><span class="line">ns-process-data images  --data data/Miku/image/ --output-dir data/nerfstudio/Miku --skip-image-processing --no-gpu</span><br><span class="line">ä¾ç„¶ä¸è¡Œ</span><br><span class="line"></span><br><span class="line">é—®é¢˜&amp;åŸå› ï¼š</span><br><span class="line">qt.qpa.xcb: could not connect to display qt.qpa.plugin: Could not load the Qt platform plugin &quot;xcb&quot; in &quot;&quot; even though it was found.  This application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.</span><br><span class="line">æœ€å¤§çš„å¯èƒ½å°±æ˜¯ --SiftExtraction.use_gpu 1  å¿…é¡»è¦æ±‚GPUå¸¦ä¸€ä¸ªæ˜¾ç¤ºå™¨</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">06.30:</span><br><span class="line">ä½¿ç”¨3090å¼€æœºä½†æ˜¯use no gpu</span><br><span class="line">ns-process-data images  --data data/Miku/image/ --output-dir data/nerfstudio/Miku --skip-image-processing --no-gpu</span><br><span class="line"></span><br><span class="line">[15:32:40] ğŸ‰ Done extracting COLMAP features.                                                       colmap_utils.py:131</span><br><span class="line">[15:49:59] ğŸ‰ Done matching COLMAP features.                                                         colmap_utils.py:145</span><br><span class="line">[15:53:28] ğŸ‰ Done COLMAP bundle adjustment.                                                         colmap_utils.py:167</span><br><span class="line">[15:53:56] ğŸ‰ Done refining intrinsics.                                                              colmap_utils.py:176</span><br><span class="line">           ğŸ‰ ğŸ‰ ğŸ‰ All DONE ğŸ‰ ğŸ‰ ğŸ‰                                                images_to_nerfstudio_dataset.py:100</span><br><span class="line">           Starting with 178 images                                                  images_to_nerfstudio_dataset.py:103</span><br><span class="line">           Colmap matched 178 images                                                 images_to_nerfstudio_dataset.py:103</span><br><span class="line">           COLMAP found poses for all images, CONGRATS!                              images_to_nerfstudio_dataset.py:103</span><br><span class="line">trainï¼š</span><br><span class="line">ns-train nerfacto --data data/nerfstudio/Miku</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>in viewer:  it is easy to view results and process</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630161446.png" alt="image.png"></p><h3 id="Train-model"><a href="#Train-model" class="headerlink" title="Train model"></a>Train model</h3><p><code>ns-train nerfacto --data data/nerfstudio/poster</code></p><h2 id="export"><a href="#export" class="headerlink" title="export"></a>export</h2><h3 id="mesh"><a href="#mesh" class="headerlink" title="mesh"></a>mesh</h3><p>æ‰‹åŠ¨è°ƒæ•´å‚æ•°å¾—åˆ°å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ns-export poisson --load-config outputs/Miku/nerfacto/2023-06-30_155708/config.yml --output-dir exports/mesh/ --target-num-faces 50000 --num-pixels-per-side 2048 --normal-method open3d --num-points 1000000 --remove-outliers True --use-bounding-box True --bounding-box-min -0.5 -0.5 -1 --bounding-box-max 0.5 0.5 0</span><br><span class="line"></span><br><span class="line">output: </span><br><span class="line">Loading latest checkpoint from load_dir  </span><br><span class="line">âœ… Done loading checkpoint from outputs/Miku/nerfacto/2023-06-30_155708/nerfstudio_models/step-000029999.ckpt  </span><br><span class="line">â˜ Computing Point Cloud â˜ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100% 00:05  </span><br><span class="line">âœ… Cleaning Point Cloud  </span><br><span class="line">âœ… Estimating Point Cloud Normals  </span><br><span class="line">âœ… Generated PointCloud with 1008679 points.  </span><br><span class="line">Computing Mesh... this may take a while.</span><br><span class="line"></span><br><span class="line">CPUç”Ÿæˆmeshçš„é€Ÿåº¦å¾ˆæ…¢ å¤§çº¦ç”¨äº†1ä¸ªå°æ—¶å¤šï¼Œæ•ˆæœä¹Ÿä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯nerfactoçš„æ–¹æ³•ï¼Œé›¶æ°´å¹³é›†æœ‰å¾ˆå¤šå‘æ´</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨viewer"><a href="#ä½¿ç”¨viewer" class="headerlink" title="ä½¿ç”¨viewer"></a>ä½¿ç”¨viewer</h2><p><a href="https://viewer.nerf.studio/">nerfstudio viewer</a></p><h3 id="autodl"><a href="#autodl" class="headerlink" title="autodl"></a>autodl</h3><p>æœ¬åœ°è¿è¡Œï¼š<code>ssh -CNg -L 6006:127.0.0.1:6006 root@123.125.240.150 -p 42151</code></p><blockquote><p>[!important]<br>æœ¬åœ°ç«¯å£:localhost:è¿œç¨‹ç«¯å£</p></blockquote><p>ä¸€èˆ¬æœ¬åœ°è¿›å…¥æœåŠ¡å™¨ï¼ˆsshï¼‰<br><code>ssh -p 23394 root@connect.beijinga.seetacloud.com</code></p><p>å°†æœåŠ¡å™¨6006ç«¯å£æ˜ å°„åˆ°æœ¬åœ°çš„6006ç«¯å£ä¸Š<br><code>ssh -CNg -L 6006:127.0.0.1:6006 root@connect.beijinga.seetacloud.com -p 23394</code></p><h3 id="viewer"><a href="#viewer" class="headerlink" title="viewer"></a>viewer</h3><p>ä¸€èˆ¬nerfstudioçš„viewerè¿è¡Œåœ¨æœ¬åœ°çš„7007ç«¯å£ä¸Š<br><code>ssh -L 7007:localhost:7007 &lt;username&gt;@&lt;remote-machine-ip&gt;</code></p><p>éœ€è¦åœ¨æœ¬åœ°å†å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶è¿è¡Œï¼Œå°†æœ¬åœ°çš„6006ç«¯å£ä¸è¿œç¨‹çš„7007è¿›è¡Œç»‘å®š</p><ul><li>eg: <code>ssh -L 7007:localhost:7007 root@connect.beijinga.seetacloud.com -p 23394</code></li><li>ssh -L 7007:localhost:7007 root@<remote-machine-ip> -p port</li></ul><p>æ­¤æ—¶æ‰“å¼€<a href="https://viewer.nerf.studio/">nerfstudio viewer</a>ï¼Œåœ¨Getting startedä¸­è¾“å…¥ws://localhost:7007ï¼Œå³å¯åœ¨viewerä¸­æŸ¥çœ‹</p><h4 id="æ›´æ¢æœåŠ¡å™¨çš„ç«¯å£"><a href="#æ›´æ¢æœåŠ¡å™¨çš„ç«¯å£" class="headerlink" title="æ›´æ¢æœåŠ¡å™¨çš„ç«¯å£"></a>æ›´æ¢æœåŠ¡å™¨çš„ç«¯å£</h4><ul><li>å½“æœåŠ¡å™¨çš„7007è¢«å ç”¨æ—¶ï¼š<br>  é»˜è®¤ä¸º7007ï¼Œä¿®æ”¹ç«¯å£7007ä¸º6006 å¹¶è®­ç»ƒ<br>  <code>ns-train nerfacto --data data/nerfstudio/poster --viewer.websocket-port 6006</code></li><li>æ­¤æ—¶åœ¨æœ¬åœ°éœ€è¿è¡Œ<br>  <code>ssh -L 7007:localhost:6006 root@connect.beijinga.seetacloud.com -p 23394</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
            <tag> Framework </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Instant-nsr-pl</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Neus-Instant-nsr-pl/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/Efficiency/Neus-Instant-nsr-pl/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨<a href="https://github.com/NVlabs/instant-ngp">Instant-ngp</a>ä¸­çš„ç¼–ç æŠ€æœ¯ï¼Œä½¿Neuså¯ä»¥æ›´å¿«çš„è¿›è¡Œinferenceï¼Œå¤§æ¦‚åªéœ€è¦5~10minç”Ÿæˆä¸€ä¸ªæ¨¡å‹</p><blockquote><p><a href="https://github.com/NVlabs/instant-ngp">NVlabs/instant-ngp: Instant neural graphics primitives: lightning fast NeRF and more (github.com)</a><br><a href="https://github.com/zhaofuq/Instant-NSR">zhaofuq/Instant-NSR: Pytorch implementation of fast surface resconstructor (github.com)</a><br><a href="https://github.com/kwea123/ngp_pl">kwea123/ngp_pl: Instant-ngp in pytorch+cuda trained with pytorch-lightning (high quality with high speed, with only few lines of legible code) (github.com)</a></p></blockquote><p><strong><em>neusï¼šå¯¹æ— çº¹ç†çš„åŒºåŸŸå¤„ç†çš„å¾ˆå·®</em></strong></p><span id="more"></span><p>æ— è®ºæ–‡ï¼Œæ¥æºNeusçš„issueï¼š<a href="https://github.com/Totoro97/NeuS/issues/78">Train NeuS in 10min using Instant-NGP acceleration techniques Â· Issue #78 Â· Totoro97/NeuS (github.com)</a><br><a href="https://github.com/bennyguo/instant-nsr-pl">bennyguo/instant-nsr-pl: Neural Surface reconstruction based on Instant-NGP. Efficient and customizable boilerplate for your research projects. Train NeuS in 10min! (github.com)</a></p><h1 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h1><p>autodlé•œåƒï¼š<br>    GPU 3090<br>    PyTorch  1.10.0<br>    Python  3.8(ubuntu20.04)<br>    Cuda  11.3</p><ul><li>å®‰è£…tiny-cuda-nnæ‰©å±•ä¹‹å‰éœ€è¦ç¼–è¯‘å¥½ç¯å¢ƒ<ul><li>å®‰è£…tiny-cuda-nn<code>pip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch</code><ul><li>è¿™ä¸€æ­¥å¯ä»¥å…ˆé€šè¿‡clone tiny-cuda-nnï¼Œç„¶ååœ¨bindings/torchæ–‡ä»¶å¤¹ä¸‹è¿è¡Œ<code>python setup.py</code></li></ul></li><li>éœ€è¦æå‰å‡†å¤‡å¥½cudaã€cmakeã€gccç­‰ç¯å¢ƒ<a href="https://github.com/NVlabs/tiny-cuda-nn#requirements">NVlabs/tiny-cuda-nn: Lightning fast C++/CUDA neural network framework (github.com)</a></li><li>auto-dlç”Ÿæˆå®ä¾‹æ—¶å¯ä»¥é€‰æ‹©pytorch&gt;=1.10.0ï¼Œcuda11.3or higherï¼Œcmakeéœ€è¦å‡çº§ç‰ˆæœ¬<ul><li><a href="https://zhuanlan.zhihu.com/p/588741279">å¸¦ä½ å¤ç°nerfä¹‹instant-ngpï¼ˆä»0å¼€å§‹æ­ç¯å¢ƒï¼‰ - çŸ¥ä¹ (zhihu.com)</a><ul><li><code>wget https://cmake.org/files/v3.21/cmake-3.21.0.tar.gz</code></li><li><code>tar -zxvf cmake-3.21.0.tar.gz</code></li><li><code>cd cmake-3.21.0</code></li><li><code>./bootstrap &amp;&amp; make &amp;&amp; sudo make install</code></li><li><code>cmake --version</code></li></ul></li><li>cmakeç¼–è¯‘å®Œæˆåï¼Œå¦‚æœcmake -versionå¤±è´¥éœ€è¦è¿›è¡Œç¯å¢ƒå˜é‡çš„é…ç½® <code>vim ä¿å­˜å¹¶é€€å‡º :wq</code><ul><li><a href="https://blog.csdn.net/xiaobumi123/article/details/109578993">(18æ¡æ¶ˆæ¯) Cmakeå®‰è£…é‡åˆ°é—®é¢˜_snap cmake_å°å¸ƒç±³çš„åšå®¢-CSDNåšå®¢</a></li></ul></li></ul></li><li>sudo apt-get install build-essential git</li><li>ç„¶åå¯¹tiny-cuda-nnè¿›è¡Œç¼–è¯‘ï¼Œæ­¤å¤„éœ€è¦ç”¨åˆ°cudaï¼Œå› æ­¤éœ€è¦å¸¦GPUæ¨¡å¼å¼€æœº<ul><li><code>$ git clone --recursive https://github.com/nvlabs/tiny-cuda-nn</code></li><li><code>$ cd tiny-cuda-nn</code></li><li><code>tiny-cuda-nn$ cmake . -B build</code></li><li><code>tiny-cuda-nn$ cmake --build build --config RelWithDebInfo -j</code></li></ul></li><li>æœ€åè¿è¡Œsetup.pyï¼Œå¦‚æœä¸åœ¨å…¨å±€ç¯å¢ƒå®‰è£…ï¼Œäº¦å¯åœ¨condaè™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…<ul><li><code>tiny-cuda-nn$ cd bindings/torch</code></li><li><code>tiny-cuda-nn/bindings/torch$ python setup.py install</code></li></ul></li></ul></li><li>ç¼–è¯‘å®Œæˆcmakeå’Œtiny-cuda-nnåï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶åˆ©ç”¨pipå®‰è£…pythonåº“<ul><li><code>conda create -n inneus python=3.8</code></li><li><code>conda init bash</code> åˆå§‹åŒ–bashç»ˆç«¯</li><li><code>conda activate inneus</code></li><li><code>pip install -r requirements.txt</code><ul><li>torch=2.0.1 , torchvision=0.15.2 ,pytorch-lightning= 1.9.5</li></ul></li><li><code>pip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch</code></li><li><code>pip install trimesh -i https://mirrors.ustc.edu.cn/pypi/web/simple/</code></li></ul></li></ul><h1 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h1><h2 id="NeRF-Syntheticï¼Œè§£å‹å¹¶æ”¾åœ¨-loadæ–‡ä»¶å¤¹ä¸‹ï¼ŒThe-file-structure-should-be-like-load-nerf-synthetic-lego"><a href="#NeRF-Syntheticï¼Œè§£å‹å¹¶æ”¾åœ¨-loadæ–‡ä»¶å¤¹ä¸‹ï¼ŒThe-file-structure-should-be-like-load-nerf-synthetic-lego" class="headerlink" title="NeRF-Syntheticï¼Œè§£å‹å¹¶æ”¾åœ¨/loadæ–‡ä»¶å¤¹ä¸‹ï¼ŒThe file structure should be like load/nerf_synthetic/lego."></a>NeRF-Syntheticï¼Œè§£å‹å¹¶æ”¾åœ¨/loadæ–‡ä»¶å¤¹ä¸‹ï¼ŒThe file structure should be like <code>load/nerf_synthetic/lego</code>.</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># train NeRF</span><br><span class="line">python launch.py --config configs/nerf-blender.yaml --gpu 0 --train dataset.scene=lego tag=example</span><br><span class="line"></span><br><span class="line"># train NeuS with mask</span><br><span class="line">python launch.py --config configs/neus-blender.yaml --gpu 0 --train dataset.scene=lego tag=example</span><br><span class="line"># train NeuS without mask</span><br><span class="line">python launch.py --config configs/neus-blender.yaml --gpu 0 --train dataset.scene=lego tag=example system.loss.lambda_mask=0.0</span><br></pre></td></tr></table></figure><p>ä»£ç å¿«ç…§ã€ckptå’Œå®éªŒè¾“å‡ºä¿å­˜åœ¨ exp/[name]/[tag]@[timestamp]ï¼Œè€ŒTensorBoardæ—¥å¿—å¯ä»¥åœ¨ runs/[name]/[tag]@[timestamp] æ‰¾åˆ°ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨YAMLæ–‡ä»¶ä¸­æŒ‡å®šå‚æ•°è€Œæ— éœ€æ·»åŠ â€”æ¥æ›´æ”¹ä»»ä½•é…ç½®ï¼Œä¾‹å¦‚ï¼š<br><code>python launch.py --config configs/nerf-blender.yaml --gpu 0 --train dataset.scene=lego tag=iter50k seed=0 trainer.max_steps=50000</code></p><p>testï¼Œç”Ÿæˆmp4å’Œmeshçš„objæ–‡ä»¶<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python launch.py --config path/to/your/exp/config/parsed.yaml --resume path/to/your/exp/ckpt/epoch=0-step=20000.ckpt --gpu 0 --test</span><br><span class="line"></span><br><span class="line">- eg:</span><br><span class="line">python launch.py --config exp/neus-blender-lego/example@20230601-185640/config/parsed.yaml --resume exp/neus-blender-lego/example@20230601-185640/ckpt/epoch=0-step=20000.ckpt --gpu 0 --test</span><br><span class="line"></span><br><span class="line">orï¼š</span><br><span class="line">### neus-blender-chair/example@20230624-191845/</span><br><span class="line">python launch.py --config exp/neus-blender-chair/example@20230624-191845/config/parsed.yaml --resume exp/neus-blender-chair/example@20230624-191845/ckpt/epoch=0-step=20000.ckpt --gpu 0 --test</span><br></pre></td></tr></table></figure></p><h3 id="eg-neus-chair"><a href="#eg-neus-chair" class="headerlink" title="eg: neus_chair"></a>eg: neus_chair</h3><p>neus_chair_wmask<br><code>python launch.py --config configs/neus-blender.yaml --gpu 0 --train dataset.scene=chair tag=example</code><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601205022.png" alt="Pasted image 20230601205022.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601205055.png" alt="Pasted image 20230601205055.png"></p><p>nerfç”Ÿæˆmeshçš„objæ–‡ä»¶å¾ˆå°ï¼ˆnerf_chairï¼‰ï¼š<br><code>python launch.py --config configs/nerf-blender.yaml --gpu 0 --train dataset.scene=chair tag=example</code><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601202815.png" alt="Pasted image 20230601202815.png|300"></p><p>neus_chair_womask<br><code>python launch.py --config configs/neus-blender.yaml --gpu 0 --train dataset.scene=chair tag=chair system.loss.lambda_mask=0.0</code></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601212157.png" alt="Pasted image 20230601212157.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601212246.png" alt="Pasted image 20230601212246.png"></p><h3 id="eg-neus-lego"><a href="#eg-neus-lego" class="headerlink" title="eg: neus_lego"></a>eg: neus_lego</h3><p>neus_lego_wmask<br><code>python launch.py --config configs/neus-blender.yaml --gpu 0 --train dataset.scene=lego tag=lego</code><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601213938.png" alt="Pasted image 20230601213938.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601214004.png" alt="Pasted image 20230601214004.png"></p><p>neus_lego &amp; w/o mask<br><code>python launch.py --config configs/neus-blender.yaml --gpu 0 --train dataset.scene=lego tag=example system.loss.lambda_mask=0.0</code><br>è¿­ä»£20000æ­¥ï¼Œå¤§è‡´éœ€è¦18åˆ†é’Ÿï¼Œç”Ÿæˆçš„æ¨¡å‹ç»†èŠ‚è¿˜æ˜¯ä¸å¤Ÿç²¾ç»†<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601201131.png" alt="Pasted image 20230601201131.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601201258.png" alt="Pasted image 20230601201258.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601201510.png" alt="Pasted image 20230601201510.png"></p><h2 id="Blended-MVSï¼ŒDTU"><a href="#Blended-MVSï¼ŒDTU" class="headerlink" title="Blended_MVSï¼ŒDTU"></a>Blended_MVSï¼ŒDTU</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># train NeuS on DTU without mask</span><br><span class="line">python launch.py --config configs/neus-dtu.yaml --gpu 0 --train</span><br><span class="line"># train NeuS on DTU with mask</span><br><span class="line">python launch.py --config configs/neus-dtu.yaml --gpu 0 --train system.loss.lambda_mask=0.1</span><br></pre></td></tr></table></figure><blockquote><p>[!note]<br>ä½œè€…åªæä¾›äº†DTUæ•°æ®é›†çš„åŠ è½½æ–¹å¼ï¼Œä½†æ˜¯DTUå’ŒBmvsç›¸å·®ä¸å¤§ï¼Œå› æ­¤åªéœ€è¦ä½œå¾®å°ä¿®æ”¹å³å¯å®Œæˆbmvsæ•°æ®é›†çš„å¤„ç†ï¼š</p></blockquote><p>ä¿®æ”¹config/neus-dtu.yamlæ–‡ä»¶ï¼Œdtuä¿æŒä¸å˜(éœ€è¦ç”¨åˆ°dtu.pyæ•°æ®é›†åŠ è½½æ–‡ä»¶)ï¼Œä¿®æ”¹æ•°æ®é›†çš„æ–‡ä»¶è·¯å¾„ï¼ˆdtuä¸bmvsæ•°æ®é›†å·®åˆ«ä¸å¤§ï¼Œéƒ½æ˜¯ç”±imageã€maskå’Œcameras_sphere.npzç»„æˆ</p><p>åœ¨/datasets/dtu.pyä¸­ä¿®æ”¹æ•°æ®é›†çš„æ–‡ä»¶åï¼Œ</p><ul><li>dtuçš„æ˜¯å‰é¢è¡¥0åˆ°6ä½æ•°.png</li><li>bmvsæ˜¯å‰é¢è¡¥0åˆ°3ä½æ•°.png</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">çµæ´»è°ƒæ•´dtu.py æ–‡ä»¶</span><br><span class="line"># # DTU æ•°æ®é›†</span><br><span class="line"># img_sample = cv2.imread(os.path.join(self.config.root_dir, &#x27;image&#x27;, &#x27;000000.png&#x27;))</span><br><span class="line"># BMVSæ•°æ®é›†</span><br><span class="line">img_sample = cv2.imread(os.path.join(self.config.root_dir, &#x27;image&#x27;, &#x27;000.png&#x27;))</span><br><span class="line"></span><br><span class="line"># bmvs</span><br><span class="line">img_path = os.path.join(self.config.root_dir, &#x27;image&#x27;, f&#x27;&#123;i:03d&#125;.png&#x27;)</span><br><span class="line"># DTU</span><br><span class="line"># img_path = os.path.join(self.config.root_dir, &#x27;image&#x27;, f&#x27;&#123;i:06d&#125;.png&#x27;)</span><br></pre></td></tr></table></figure><h3 id="eg-neus-bmvs-clock-womask"><a href="#eg-neus-bmvs-clock-womask" class="headerlink" title="eg: neus_bmvs_clock_womask"></a>eg: neus_bmvs_clock_womask</h3><p><code>python launch.py --config configs/neus-dtu.yaml --gpu 0 --train</code><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230602160929.png" alt="Pasted image 20230602160929.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230602160959.png" alt="Pasted image 20230602160959.png"></p><p>ä¹Ÿæœ‰å™ªå£°<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230602161034.png" alt="Pasted image 20230602161034.png"></p><h3 id="eg-neus-bmvs-clock-wmask"><a href="#eg-neus-bmvs-clock-wmask" class="headerlink" title="eg: neus_bmvs_clock_wmask"></a>eg: neus_bmvs_clock_wmask</h3><p><code>python launch.py --config configs/neus-dtu.yaml --gpu 0 --train system.loss.lambda_mask=0.1</code></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230602172423.png" alt="Pasted image 20230602172423.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230602172441.png" alt="Pasted image 20230602172441.png"></p><h3 id="eg-neus-bmvs-bear-womask"><a href="#eg-neus-bmvs-bear-womask" class="headerlink" title="eg: neus_bmvs_bear_womask"></a>eg: neus_bmvs_bear_womask</h3><p><code>python launch.py --config configs/neus-dtu.yaml --gpu 0 --train</code></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230602163439.png" alt="Pasted image 20230602163439.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230602163553.png" alt="Pasted image 20230602163553.png"></p><h3 id="eg-neus-bmvs-bear-womask-ç»™æ¯›ç»’ç‰©ä½“æ·»åŠ ç¼ºé™·"><a href="#eg-neus-bmvs-bear-womask-ç»™æ¯›ç»’ç‰©ä½“æ·»åŠ ç¼ºé™·" class="headerlink" title="eg: neus_bmvs_bear_womask ç»™æ¯›ç»’ç‰©ä½“æ·»åŠ ç¼ºé™·"></a>eg: neus_bmvs_bear_womask ç»™æ¯›ç»’ç‰©ä½“æ·»åŠ ç¼ºé™·</h3><ul><li>ä¿®æ”¹imagesä¸­çš„ç…§ç‰‡æ•°æ®orè‡ªå·±åšä¸€ä¸ªç…§ç‰‡æ•°æ®ï¼ˆæ¯›ç»’ç©å…·ï¼‰</li></ul><h2 id="è‡ªå®šä¹‰æ•°æ®é›†"><a href="#è‡ªå®šä¹‰æ•°æ®é›†" class="headerlink" title="è‡ªå®šä¹‰æ•°æ®é›†"></a>è‡ªå®šä¹‰æ•°æ®é›†</h2><h3 id="æœåŠ¡å™¨ç¯å¢ƒé…ç½®colmap-æœªå®Œæˆ"><a href="#æœåŠ¡å™¨ç¯å¢ƒé…ç½®colmap-æœªå®Œæˆ" class="headerlink" title="æœåŠ¡å™¨ç¯å¢ƒé…ç½®colmap (æœªå®Œæˆ)"></a>æœåŠ¡å™¨ç¯å¢ƒé…ç½®colmap (æœªå®Œæˆ)</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git clone https://ceres-solver.googlesource.com/ceres-solver</span><br><span class="line">cd ceres-solver</span><br><span class="line">git checkout $(git describe --tags) # Checkout the latest release</span><br><span class="line">mkdir build</span><br><span class="line">cd build</span><br><span class="line">cmake .. -DBUILD_TESTING=OFF -DBUILD_EXAMPLES=OFF</span><br><span class="line">make -j</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h3 id="æœ¬åœ°å¤„ç†æ•°æ®é›†-åŒneusç±»ä¼¼BMVSæ•°æ®é›†å½¢å¼"><a href="#æœ¬åœ°å¤„ç†æ•°æ®é›†-åŒneusç±»ä¼¼BMVSæ•°æ®é›†å½¢å¼" class="headerlink" title="æœ¬åœ°å¤„ç†æ•°æ®é›†(åŒneusç±»ä¼¼BMVSæ•°æ®é›†å½¢å¼)"></a>æœ¬åœ°å¤„ç†æ•°æ®é›†(åŒneusç±»ä¼¼BMVSæ•°æ®é›†å½¢å¼)</h3><p>åŒneusä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†<a href="NeuS.md#Neusä½¿ç”¨è‡ªåˆ¶æ•°æ®é›†">NeuS</a></p><h4 id="eg-ä½¿ç”¨neusè‡ªå®šä¹‰æ•°æ®é›†å¯¹M590ä¸‰ç»´é‡å»º"><a href="#eg-ä½¿ç”¨neusè‡ªå®šä¹‰æ•°æ®é›†å¯¹M590ä¸‰ç»´é‡å»º" class="headerlink" title="eg: ä½¿ç”¨neusè‡ªå®šä¹‰æ•°æ®é›†å¯¹M590ä¸‰ç»´é‡å»º"></a>eg: ä½¿ç”¨neusè‡ªå®šä¹‰æ•°æ®é›†å¯¹M590ä¸‰ç»´é‡å»º</h4><ul><li>æ‹M590è§†é¢‘</li><li>video2img.pyï¼Œå°†mp4æŒ‰å¸§æ‹†åˆ†æˆpngï¼Œå¹¶ç”Ÿæˆmaskæ–‡ä»¶å¤¹</li><li>ä½¿ç”¨colmapå¯¹imageä¸‹å›¾ç‰‡è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°ç›¸æœºä½å§¿å’Œç‚¹äº‘plyç­‰æ–‡ä»¶</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/%E5%BD%95%E5%88%B6_2023_06_25_16_27_37_917.gif" alt="å½•åˆ¶_2023_06_25_16_27_37_917.gif"></p><ul><li>ä½¿ç”¨img2poses.pyå¾—åˆ°sparse_points.ply<ul><li><code>cd colmap_preprocess       ##neus/preprocess_custom_data/colmap_preprocess/</code></li><li><code>python imgs2poses.py $&#123;data_dir&#125;</code></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230625163416.png" alt="image.png"></p><ul><li>æ ¹æ®sparse_points.plyåœ¨meshlabä¸­è¿›è¡Œcleanæ“ä½œï¼Œåªä¿ç•™intereståŒºåŸŸçš„ç‚¹äº‘ï¼Œå¹¶ä¿å­˜ä¸º${data_dir}/sparse_points_interest.ply</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230625163527.png" alt="image.png"></p><ul><li>ä½¿ç”¨gen_cameras.pyç”Ÿæˆnpzæ–‡ä»¶<ul><li><code>python gen_cameras.py $&#123;data_dir&#125;</code></li><li>åœ¨ ${data_dir}ä¸‹ç”Ÿæˆpreprocessedï¼ŒåŒ…æ‹¬imageã€maskå’Œcameras_sphere.npzï¼Œä½†imageå’Œmaskä¸‹æ— æ–‡ä»¶ï¼Œéœ€è¦è‡ªè¡Œæ‹·è´</li></ul></li><li>æ‰“åŒ…æˆzipï¼Œä¸Šä¼ åˆ°ç™¾åº¦äº‘ç›˜ï¼Œç„¶ååœ¨AutoDLçš„AutoPanelä¸­ä¸‹è½½åˆ°æœåŠ¡å™¨çš„/root/autodl-tmpæ–‡ä»¶å¤¹ä¸‹</li><li>è§£å‹åˆ°/instant-nsr-pl/loadæ–‡ä»¶å¤¹ä¸‹ï¼Œä¿®æ”¹config/neus-dtu.yamlæ–‡ä»¶ä¸­çš„æ•°æ®é›†è·¯å¾„</li><li>è¿è¡Œ<code>python launch.py --config configs/neus-dtu.yaml --gpu 0 --train</code></li><li>trainç»“æŸåå¾—åˆ°objæ–‡ä»¶ï¼Œä¸‹è½½åˆ°æœ¬åœ°ä½¿ç”¨meshlabæ‰“å¼€</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/GIF%202023-6-25%2016-44-37.gif" alt="GIF 2023-6-25 16-44-37.gif"></p><h5 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h5><ul><li>æ•°æ®é›†ä½¿ç”¨xiaomi13å½•åˆ¶æˆè§†é¢‘ç„¶åè·³å¸§é€‰å–å›¾ç‰‡å¾—åˆ°ï¼Œä¼šæœ‰ä¸€äº›åå…‰å’Œé˜´å½±</li><li>M590çš„å³é”®éƒ¨åˆ†æœ‰ä¸€å—å¤§çš„ç¼ºé™·ï¼Œè¿™æ˜¯ç”±äºæ•°æ®é›†åœ¨å³é”®éƒ¨åˆ†ä¿¡æ¯å¤ªå°‘(åå…‰ï¼Œé˜´å½±)</li><li>M590çš„ä¸‹éƒ¨åˆ†æ²¡æœ‰å»ºæ¨¡å‡ºæ¥ï¼Œè¿™æ˜¯ç”±äºæ•°æ®é›†æœªå½•åˆ¶å…¶ä¸‹éƒ¨åˆ†çš„ä¿¡æ¯<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/M590.gif" alt="M590.gif"></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230625165030.png" alt="image.png"></p><h4 id="eg-å¯¹Mikuè¿›è¡Œé‡å»º"><a href="#eg-å¯¹Mikuè¿›è¡Œé‡å»º" class="headerlink" title="eg: å¯¹Mikuè¿›è¡Œé‡å»º"></a>eg: å¯¹Mikuè¿›è¡Œé‡å»º</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python launch.py --config configs/neus-dtu.yaml --gpu 0 --train</span><br><span class="line"></span><br><span class="line">test: è®¾ç½® neus-dtu.yaml ä¸­çš„ resolution ä¸º1024</span><br><span class="line">python launch.py --config configs/neus-dtu.yaml --resume /root/autodl-tmp/instant-nsr-pl/exp/neus-dtu-Miku/@20230629-132903/ckpt/epoch=0-step=20000.ckpt --gpu 0 --test</span><br></pre></td></tr></table></figure><p>æ•ˆæœä¸å¤ªå¥½</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630210349.png" alt="image.png|300"></p><p>æ›´æ”¹resolution=1024 åï¼Œç‚¹æ›´å¤šæ›´ç»†è‡´ï¼Œä½†æ˜¯ç”±äºè®­ç»ƒå‡ºæ¥çš„sdfç½‘ç»œç›¸åŒï¼Œåœ¨ç›¸è¿‘çš„ä¸¤ä¸ªä½ç½®ï¼Œsdfå€¼ç›¸åŒï¼Œå› æ­¤å¤§ä½“è¿˜æ˜¯ä¸€æ ·çš„æ¨¡å‹ï¼Œåªæ˜¯ç»†èŠ‚å¤„æœ‰æ‰€ä¸åŒ(é¢æ•°å¤šäº†)</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630212921.png" alt="images"></p><h5 id="ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†"><a href="#ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†" class="headerlink" title="ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†"></a>ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†</h5><p>å½“ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†(178x1080x1920)æ—¶ï¼Œä¼šçˆ†æ˜¾å­˜(RTX3090-24G)ï¼Œä¸‹é‡‡æ ·åˆ°(540x960)â€¦</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">dtu</span></span><br><span class="line"><span class="attr">root_dir:</span> <span class="string">./load/miku</span> </span><br><span class="line"><span class="attr">cameras_file:</span> <span class="string">cameras_sphere.npz</span></span><br><span class="line"><span class="attr">img_downscale:</span> <span class="number">2</span> <span class="comment"># specify training image size by either img_wh or img_downscale</span></span><br><span class="line"><span class="attr">n_test_traj_steps:</span> <span class="number">60</span></span><br><span class="line"><span class="attr">apply_mask:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>å½“ä½¿ç”¨åŸæ¥çš„cameras_sphere.npzæ–‡ä»¶ï¼Œå³é«˜è´¨é‡æ•°æ®é›†ä½¿ç”¨ä½è´¨é‡ç”Ÿæˆçš„ç›¸æœºå†…å‚çŸ©é˜µå’Œc2wçŸ©é˜µæ—¶ï¼Œå¯¹åº”ä¸ä¸Šï¼Œä¼šå¯¼è‡´ç”Ÿæˆçš„éšå¼æ¨¡å‹é”™ä½(å·¦2,4)ï¼Œç”Ÿæˆçš„èƒŒæ™¯ä¹Ÿå¾ˆæ‚ä¹±(3)</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230712135714.png" alt="image.png"></p><p>ä¸”FFMPEGä¼šæŠ¥é”™<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IMAGEIO FFMPEG_WRITER WARNING: input image is not divisible by macro_block_size=16, resizing from (3240, 960) to (3248, 960) to ensure video compatibility with most codecs and players. To prevent resizing, make your input image divisible by the macro_block_size or <span class="built_in">set</span> the macro_block_size to 1 (risking incompatibility).</span><br><span class="line">[swscaler @ 0x5d9be80] Warning: data is not aligned! This can lead to a speed loss</span><br></pre></td></tr></table></figure></p><p>é‡æ–°ä½¿ç”¨colmapå’Œimg2poses.pyåŠgen_cameras.pyç”Ÿæˆä¸€ä¸‹cameras_sphere.npzï¼š</p><p>cd to colmap_preprocess</p><p><code>python imgs2poses.py ..\Miku</code></p><p><code>python gen_cameras.py ..\Miku</code></p><p>cd to instant-nsr-pl</p><p><code>python launch.py --config configs/neus-dtu.yaml --gpu 0 --train</code></p><p><code>python launch.py --config configs/neus-dtu.yaml --resume exp/neus-dtu-miku_l/@20230712-162601/ckpt/epoch=0-step=20000.ckpt --gpu 0 --test</code></p><p>ä¾ç„¶ä¼šerror: This can lead to a speed lossï¼Œæ•°æ®æœªå¯¹é½<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230712165423.png" alt="image.png"></p><h5 id="ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†ï¼Œå°†stepå¢åŠ ä¸€å€"><a href="#ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†ï¼Œå°†stepå¢åŠ ä¸€å€" class="headerlink" title="ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†ï¼Œå°†stepå¢åŠ ä¸€å€"></a>ä½¿ç”¨æ›´é«˜è´¨é‡çš„æ•°æ®é›†ï¼Œå°†stepå¢åŠ ä¸€å€</h5><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230714165754.png" alt="image.png|999"></p><p><img src="https://raw.githubusercontent.com/qiyun71/Blog_images/main/pictures/it40000-test2.gif" alt="it40000-test2.gif"></p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/Efficiency </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Neus </tag>
            
            <tag> Efficiency </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeuS</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeuS/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeuS/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeuS: Learning Neural Implicit Surfaces by Volume Rendering for Multi-view Reconstruction</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://totoro97.github.io/about.html">Peng Wang</a>    <a href="https://lingjie0206.github.io/">Lingjie Liu</a>    <a href="https://liuyuan-pal.github.io/">Yuan Liu</a>    <a href="http://people.mpi-inf.mpg.de/~theobalt/">Christian Theobalt</a>    <a href="https://www.cs.hku.hk/index.php/people/academic-staff/taku">Taku Komura</a>    <a href="https://www.cs.hku.hk/people/academic-staff/wenping">Wenping Wang</a></td></tr><tr><td>Conf/Jour</td><td>NeurIPS 2021 (Spotlight)</td></tr><tr><td>Year</td><td>2021</td></tr><tr><td>Project</td><td><a href="https://lingjie0206.github.io/papers/NeuS/">NeuS: Learning Neural Implicit Surfaces by Volume Rendering for Multi-view Reconstruction (lingjie0206.github.io)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4718711588576575489&amp;noteId=1791151226962648064">NeuS: Learning Neural Implicit Surfaces by Volume Rendering for Multi-view Reconstruction (readpaper.com)</a></td></tr></tbody></table></div><p>å®ç°äº†ä¸‰ç»´é‡å»ºï¼šä»å¤šè§†è§’å›¾ç‰‡ä¸­é‡å»ºå‡ºäº† mesh æ¨¡å‹</p><span id="more"></span><p><a href="https://github.com/Totoro97/NeuS">Code: Totoro97/NeuS: Code release for NeuS (github.com)</a><br><a href="https://lingjie0206.github.io/papers/NeuS/">Project Page</a></p><p>Neus çš„æ€»ç›®æ ‡æ˜¯å®ç°ä» 2D å›¾åƒè¾“å…¥ä¸­ä»¥é«˜ä¿çœŸåº¦é‡å»ºå¯¹è±¡å’Œåœºæ™¯ã€‚<br>ç°æœ‰çš„ç¥ç»è¡¨é¢é‡å»ºæ–¹æ³•ï¼Œå¦‚ DVR[Niemeyer ç­‰äººï¼Œ2020]å’Œ IDR[Yariv ç­‰äººï¼Œ2020]ï¼Œéœ€è¦å‰æ™¯æ©ç ä½œä¸ºç›‘ç£ï¼Œå¾ˆå®¹æ˜“é™·å…¥å±€éƒ¨æœ€å°å€¼ï¼Œå› æ­¤åœ¨å¯¹å…·æœ‰ä¸¥é‡è‡ªé®æŒ¡æˆ–è–„ç»“æ„çš„å¯¹è±¡è¿›è¡Œé‡å»ºæ—¶é¢ä¸´å›°éš¾ã€‚<br>æœ€è¿‘çš„æ–°è§†è§’åˆæˆç¥ç»æ–¹æ³•ï¼Œå¦‚ NeRF[Mildenhall ç­‰äººï¼Œ2020]åŠå…¶å˜ä½“ï¼Œä½¿ç”¨ä½“ç§¯æ¸²æŸ“æ¥äº§ç”Ÿå…·æœ‰ä¼˜åŒ–é²æ£’æ€§çš„ç¥ç»åœºæ™¯è¡¨ç¤ºï¼Œå³ä½¿å¯¹äºéå¸¸å¤æ‚çš„å¯¹è±¡ä¹Ÿæ˜¯å¦‚æ­¤ã€‚<strong>ç„¶è€Œï¼Œä»è¿™ç§å­¦ä¹ çš„éšå¼è¡¨ç¤ºä¸­æå–é«˜è´¨é‡çš„è¡¨é¢æ˜¯å›°éš¾çš„ï¼Œå› ä¸ºåœ¨è¡¨ç¤ºä¸­æ²¡æœ‰è¶³å¤Ÿçš„è¡¨é¢çº¦æŸã€‚</strong><br>åœ¨ NeuS ä¸­ï¼Œæˆ‘ä»¬æå‡ºå°†è¡¨é¢è¡¨ç¤ºä¸ºæœ‰ç¬¦å·è·ç¦»å‡½æ•°ï¼ˆSDFï¼‰çš„é›¶æ°´å¹³é›†ï¼Œå¹¶å¼€å‘äº†ä¸€ç§æ–°çš„ä½“ç§¯æ¸²æŸ“æ–¹æ³•æ¥è®­ç»ƒç¥ç» SDF è¡¨ç¤ºã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œä¼ ç»Ÿçš„ä½“ç§¯æ¸²æŸ“æ–¹æ³•ä¼šå¯¼è‡´å›ºæœ‰çš„å‡ ä½•è¯¯å·®ï¼ˆå³åå·®ï¼‰å¯¹äºè¡¨é¢é‡å»ºï¼Œå› æ­¤æå‡ºäº†ä¸€ä¸ªæ–°çš„å…¬å¼ï¼Œå®ƒåœ¨ä¸€é˜¶è¿‘ä¼¼ä¸­æ²¡æœ‰åå·®ï¼Œä»è€Œå³ä½¿åœ¨æ²¡æœ‰æ©ç ç›‘ç£çš„æƒ…å†µä¸‹ä¹Ÿèƒ½å®ç°æ›´å‡†ç¡®çš„è¡¨é¢é‡å»ºã€‚<br>åœ¨ DTU æ•°æ®é›†å’Œ BlendedMVS æ•°æ®é›†ä¸Šçš„å®éªŒè¯æ˜ï¼ŒNeuS åœ¨é«˜è´¨é‡è¡¨é¢é‡å»ºæ–¹é¢ä¼˜äºç°æœ‰æŠ€æœ¯ï¼Œå°¤å…¶æ˜¯å¯¹äºå…·æœ‰å¤æ‚ç»“æ„å’Œè‡ªé®æŒ¡çš„å¯¹è±¡å’Œåœºæ™¯ã€‚</p><h1 id="ä¼˜ç‚¹-amp-ä¸è¶³ä¹‹å¤„"><a href="#ä¼˜ç‚¹-amp-ä¸è¶³ä¹‹å¤„" class="headerlink" title="ä¼˜ç‚¹&amp;ä¸è¶³ä¹‹å¤„"></a>ä¼˜ç‚¹&amp;ä¸è¶³ä¹‹å¤„</h1><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><ul><li>é€šè¿‡æ‰‹åŠ¨åœ¨ meshlab ä¸­ clean ç¨€ç–ç‚¹äº‘ ply ä¸­å…¶ä»–å™ªéŸ³ä½ç½®çš„ç‚¹äº‘ï¼Œæ„å»ºäº†ä¸€ä¸ªç²¾ç¡®çš„ boundsï¼Œå¯ä»¥å°†æ¨¡å‹ä¸åŒ…æ‹¬èƒŒæ™¯ä¸”å‡ ä¹æ²¡æœ‰å™ªå£°çš„ç”Ÿæˆå‡ºæ¥</li><li>é€šè¿‡æ„å»º SDF åœºï¼Œå…¶é›¶æ°´å¹³é›†ç›¸æ¯” NeRF çš„å¯†åº¦åœºæ°´å¹³é›†(Threshold = 25)ï¼Œç”Ÿæˆçš„ mesh æ›´åŠ ç²¾ç»†ï¼Œæˆ–è€…è¯´æ›´åŠ å¹³æ»‘<ul><li>å¯¹å›¾ç‰‡ä¸­æ·±åº¦çªç„¶å˜åŒ–çš„éƒ¨åˆ†ï¼Œsdf ä¹Ÿå¯ä»¥å¾ˆå¥½çš„é‡å»ºå‡ºæ¥</li></ul></li></ul><h2 id="ä¸è¶³"><a href="#ä¸è¶³" class="headerlink" title="ä¸è¶³"></a>ä¸è¶³</h2><ul><li>å¯¹äºæ— çº¹ç†ç‰©ä½“(ä¾‹å¦‚åå…‰å’Œé˜´å½±åŒºåŸŸ)çš„é‡å»ºæ•ˆæœå¹¶ä¸ç†æƒ³</li><li>éœ€è¦æ‰‹åŠ¨åœ¨ meshlab ä¸­ clean ç¨€ç–ç‚¹äº‘ ply ä¸­å…¶ä»–å™ªéŸ³ä½ç½®çš„ç‚¹äº‘ï¼Œè¿™ä¹Ÿæ˜¯æœ¬æ–‡æ‰€è¯´ä¸éœ€ mask ç›‘ç£çš„æ–¹æ³•</li><li>(in paper:)ä¸€ä¸ªæœ‰è¶£çš„æœªæ¥ç ”ç©¶æ–¹å‘æ˜¯æ ¹æ®ä¸åŒçš„å±€éƒ¨å‡ ä½•ç‰¹å¾ï¼Œå¯¹ä¸åŒç©ºé—´ä½ç½®å…·æœ‰ä¸åŒæ–¹å·®çš„æ¦‚ç‡ä»¥åŠåœºæ™¯è¡¨ç¤ºçš„ä¼˜åŒ–è¿›è¡Œå»ºæ¨¡</li></ul><p><a href="#Neusä¸NeRFå¯¹æ¯”">Neus ä¸ NeRF å¯¹æ¯”</a></p><h1 id="å¼•è¨€-ç›¸å…³å·¥ä½œ"><a href="#å¼•è¨€-ç›¸å…³å·¥ä½œ" class="headerlink" title="å¼•è¨€+ç›¸å…³å·¥ä½œ"></a>å¼•è¨€+ç›¸å…³å·¥ä½œ</h1><h2 id="SDF-ç®€å•ç†è§£"><a href="#SDF-ç®€å•ç†è§£" class="headerlink" title="SDF ç®€å•ç†è§£"></a>SDF ç®€å•ç†è§£</h2><p>SDFï¼šè¾“å…¥ä¸€ä¸ªç©ºé—´ä¸­çš„ç‚¹ï¼Œè¾“å‡ºä¸ºè¯¥ç‚¹åˆ°æŸä¸ªè¡¨é¢ï¼ˆå¯ä»¥æ˜¯æ›²é¢ï¼‰æœ€è¿‘çš„è·ç¦»ï¼Œç¬¦å·åœ¨è¡¨é¢å¤–éƒ¨ä¸ºæ­£ï¼Œå†…éƒ¨ä¸ºè´Ÿã€‚<br>ç»™å®šä¸€ä¸ªç‰©ä½“çš„å¹³é¢ï¼Œæˆ‘ä»¬å®šä¹‰ SDF ä¸ºç©ºé—´æŸç‚¹åˆ°è¯¥å¹³é¢è·ç¦»ä¸º 0 çš„ä½ç½®çš„ç‚¹çš„é›†åˆï¼ˆä¹Ÿå°±æ˜¯ç‰©ä½“è¡¨é¢çš„ç‚¹ï¼‰ã€‚å¦‚æœç©ºé—´ä¸­æŸç‚¹åœ¨ç‰©ä½“è¡¨é¢ä¹‹å¤–ï¼Œé‚£ä¹ˆ SDF&gt;0ï¼›åä¹‹å¦‚æœç©ºé—´ä¸­æŸç‚¹åœ¨ç‰©ä½“è¡¨é¢ä¹‹å†…ï¼Œé‚£ä¹ˆ SDF&lt;0ã€‚è¿™æ ·å­å°±å¯ä»¥æ‰¾åˆ°ç‰©ä½“è¡¨é¢åœ¨ä¸‰ç»´ç©ºé—´ä¸­çš„ä½ç½®ï¼Œè‡ªç„¶è€Œç„¶çš„ç”Ÿæˆä¸‰ç»´è¡¨é¢ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230629135016.png" alt="image.png"></p><ol><li>mesh æ˜¯ä¸€ç§ç”±å›¾è¡¨ç¤ºçš„æ•°æ®ç»“æ„ï¼ŒåŸºäºé¡¶ç‚¹ã€è¾¹ã€é¢å…±åŒç»„æˆçš„å¤šé¢ä½“ã€‚å®ƒå¯ä»¥ååˆ†çµæ´»çš„è¡¨ç¤ºå¤æ‚ç‰©ä½“çš„è¡¨é¢ï¼Œåœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚ä» nerf è¾“å‡ºçš„ç‰©ç†æ„ä¹‰å°±å¯ä»¥æƒ³åˆ°ï¼Œdensity å¯ä»¥ç”¨æ¥è¡¨ç¤ºç©ºé—´ä¸­æ²¿å…‰çº¿ç…§å°„æ–¹å‘çš„å¯†åº¦ï¼Œ<strong>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡åŸºäºå¯†åº¦çš„é˜ˆå€¼æ¥æ§åˆ¶å¾—åˆ°çš„ mesh</strong>ã€‚è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯ï¼Œè®­ç»ƒå¥½ä¸€ä¸ª nerf çš„æ¨¡å‹å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ª mesh äº†ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼ä¹Ÿæœ‰å¾ˆå¤§çš„ç¼ºç‚¹ï¼šä¸€æ˜¯è®­ç»ƒç»“æœä¼šæœ‰å¾ˆå¤šå™ªéŸ³è€Œä¸”ç”Ÿæˆçš„ mesh ä¼šæœ‰å¾ˆå¤šçš„ç©ºæ´ï¼ŒäºŒæ˜¯å¾ˆéš¾æ§åˆ¶ä¸€ä¸ªåˆç†çš„é˜ˆå€¼ã€‚</li><li>è¿™é‡Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨æœ‰å‘è·ç¦»åœºï¼ˆSigned distance function ç®€ç§° SDFï¼‰æ¥å–ä»£ nerf å»ºæ¨¡ã€‚ä½¿ç”¨ SDF çš„ä¸€å¤§å¥½å¤„æ˜¯ï¼ŒSDF å‡½æ•°æœ¬èº«åœ¨ç©ºé—´æ˜¯è¿ç»­çš„ï¼Œè¿™æ ·å­å°±ä¸éœ€è¦è€ƒè™‘ç¦»æ•£åŒ–çš„é—®é¢˜ã€‚æˆ‘ä»¬ä¹‹åä½¿ç”¨ Marching cubes æ–¹æ³•æ¥ç”Ÿæˆ meshã€‚</li><li>NeRF ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰å¯†åº¦å’Œé¢œè‰²ä¿¡æ¯çš„æ¨¡å‹ï¼Œé€šè¿‡ä½¿ç”¨ SDF æ¥ä»£æ›¿å¯†åº¦ï¼Œåœ¨å¯†åº¦å¤§çš„åœ°æ–¹è¡¨ç¤ºä¸ºç‰©ä½“çš„è¡¨é¢ï¼Œå°±å¯ä»¥ç”Ÿæˆä¸€ä¸ª mesh æ¨¡å‹ã€‚</li></ol><blockquote><p><a href="https://zhuanlan.zhihu.com/p/553474332">æ—·è§† 3d CV master ç³»åˆ—è®­ç»ƒè¥äºŒï¼š åŸºäº NeRF å’Œ SDF çš„ä¸‰ç»´é‡å»ºä¸å®è·µ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><h2 id="ç›¸è¾ƒäºä»¥å¾€çš„å·¥ä½œï¼š"><a href="#ç›¸è¾ƒäºä»¥å¾€çš„å·¥ä½œï¼š" class="headerlink" title="ç›¸è¾ƒäºä»¥å¾€çš„å·¥ä½œï¼š"></a>ç›¸è¾ƒäºä»¥å¾€çš„å·¥ä½œï¼š</h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230531185214.png" alt="Pasted image 20230531185214.png"></p><p>IDR æ— æ³•åº”å¯¹å›¾ç‰‡ä¸­æ·±åº¦çªç„¶å˜åŒ–çš„éƒ¨åˆ†ï¼Œè¿™æ˜¯å› ä¸ºå®ƒå¯¹æ¯æ¡å…‰çº¿åªè¿›è¡Œä¸€æ¬¡è¡¨é¢ç¢°æ’ï¼ˆä¸Šå›¾ï¼ˆaï¼‰ä¸Šï¼‰ï¼Œäºæ˜¯æ¢¯åº¦ä¹Ÿåˆ°æ­¤ä¸ºæ­¢ï¼Œè¿™å¯¹äºåå‘ä¼ æ’­æ¥è¯´è¿‡äºå±€éƒ¨äº†ï¼Œäºæ˜¯å›°äºå±€éƒ¨æœ€å°å€¼ï¼Œå¦‚ä¸‹å›¾ IDR æ— æ³•å¤„ç†å¥½çªç„¶åŠ æ·±çš„å‘ã€‚</p><p>NeRF çš„ä½“ç§¯æ¸²æŸ“æ–¹æ³•æå‡ºæ²¿ç€æ¯æ¡å…‰çº¿è¿›è¡Œå¤šæ¬¡é‡‡æ ·ï¼ˆä¸Šå›¾ï¼ˆaï¼‰ä¸‹ï¼‰ç„¶åè¿›è¡Œ Î± åˆå¹¶ï¼Œå¯ä»¥åº”å¯¹çªç„¶çš„æ·±åº¦å˜åŒ–ä½† NeRF æ˜¯ä¸“æ³¨äºç”Ÿæˆæ–°è§†ç‚¹å›¾åƒè€Œä¸æ˜¯è¡¨é¢é‡å»ºæ‰€ä»¥æœ‰æ˜æ˜¾å™ªå£°ã€‚</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/496752239">NeuS: Learning Neural Implicit Surfaces by Volume Rendering for Multi-view Reconstruction - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p>æ–°çš„ä½“ç§¯æ¸²æŸ“æ–¹æ¡ˆï¼šNeusï¼Œä½¿ç”¨ SDF è¿›è¡Œè¡¨é¢è¡¨ç¤ºï¼Œå¹¶ä½¿ç”¨ä¸€ç§æ–°çš„ä½“ç§¯æ¸²æŸ“æ–¹æ¡ˆæ¥å­¦ä¹ ç¥ç» SDF è¡¨ç¤ºã€‚</p><h2 id="æœ¬æ–‡æ–¹æ³•"><a href="#æœ¬æ–‡æ–¹æ³•" class="headerlink" title="æœ¬æ–‡æ–¹æ³•"></a>æœ¬æ–‡æ–¹æ³•</h2><p>æœ¬æ–‡é›†ä¸­åœ¨é€šè¿‡ç»å…¸çš„ç»˜åˆ¶æŠ€æœ¯ä» 2D å›¾åƒä¸­å­¦ä¹ ç¼–ç  3D ç©ºé—´ä¸­çš„å‡ ä½•å’Œå¤–è§‚çš„éšå¼ç¥ç»è¡¨ç¤ºï¼Œé™åˆ¶åœ¨æ­¤èŒƒå›´å†…ï¼Œç›¸å…³å·¥ä½œå¯ä»¥å¤§è‡´åˆ†ä¸ºåŸºäºè¡¨é¢æ¸²æŸ“çš„æ–¹æ³•å’ŒåŸºäºä½“ç§¯æ¸²æŸ“çš„æ–¹æ³•</p><ul><li>åŸºäºè¡¨é¢æ¸²æŸ“ï¼šå‡è®¾å…‰çº¿çš„é¢œè‰²ä»…ä¾èµ–äºå…‰çº¿ä¸åœºæ™¯å‡ ä½•çš„äº¤ç‚¹çš„é¢œè‰²ï¼Œè¿™ä½¿å¾—æ¢¯åº¦ä»…åå‘ä¼ æ’­åˆ°äº¤ç‚¹é™„è¿‘çš„å±€éƒ¨åŒºåŸŸï¼Œå¾ˆéš¾é‡å»ºå…·æœ‰ä¸¥é‡è‡ªé®æŒ¡å’Œçªç„¶æ·±åº¦å˜åŒ–çš„å¤æ‚ç‰©ä½“ï¼Œå› æ­¤éœ€è¦ç‰©ä½“ mask æ¥è¿›è¡Œç›‘ç£</li><li>åŸºäºä½“ç§¯æ¸²æŸ“ï¼šeg_NeRFï¼Œé€šè¿‡æ²¿æ¯æ¡å°„çº¿çš„é‡‡æ ·ç‚¹çš„ Î±-åˆæˆé¢œè‰²æ¥æ¸²æŸ“å›¾åƒã€‚æ­£å¦‚åœ¨ä»‹ç»ä¸­æ‰€è§£é‡Šçš„ï¼Œå®ƒå¯ä»¥å¤„ç†çªç„¶çš„æ·±åº¦å˜åŒ–å¹¶åˆæˆé«˜è´¨é‡çš„å›¾åƒã€‚æå–å­¦ä¹ åˆ°çš„éšå¼åœºçš„é«˜ä¿çœŸè¡¨é¢æ˜¯å›°éš¾çš„ï¼Œå› ä¸ºåŸºäºå¯†åº¦çš„åœºæ™¯è¡¨ç¤ºå¯¹å…¶ç­‰å€¼é›†ç¼ºä¹è¶³å¤Ÿçš„çº¦æŸã€‚<br>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ç»“åˆäº†åŸºäºè¡¨é¢æ¸²æŸ“å’ŒåŸºäºä½“ç§¯æ¸²æŸ“çš„æ–¹æ³•çš„ä¼˜ç‚¹ï¼Œé€šè¿‡å°†åœºæ™¯ç©ºé—´çº¦æŸä¸ºå¸¦ç¬¦å·è·ç¦»å‡½æ•° SDFï¼Œä½†ä½¿ç”¨ä½“ç§¯æ¸²æŸ“æ¥è®­ç»ƒå…·æœ‰é²æ£’æ€§çš„ representationã€‚</li><li>åŒæ—¶ UNISURF ä¹Ÿé€šè¿‡ä½“ç§¯æ¸²æŸ“å­¦ä¹ éšå¼æ›²é¢ã€‚åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ç¼©å°ä½“ç§¯æ¸²æŸ“çš„æ ·æœ¬åŒºåŸŸæ¥æé«˜é‡å»ºè´¨é‡ã€‚<br><strong>UNISURF ç”¨å ç”¨å€¼æ¥è¡¨ç¤ºè¡¨é¢ï¼Œè€Œæˆ‘ä»¬çš„æ–¹æ³•ç”¨ SDF æ¥è¡¨ç¤ºåœºæ™¯</strong>ï¼Œ(å› æ­¤å¯ä»¥è‡ªç„¶åœ°æå–è¡¨é¢ä½œä¸ºåœºæ™¯çš„é›¶æ°´å¹³é›†ï¼Œäº§ç”Ÿæ¯” UNISURF æ›´å¥½çš„é‡å»ºç²¾åº¦ã€‚)</li></ul><h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><div class="note info">            <p>æ„å»ºäº†ä¸€ä¸ªæ— åï¼Œä¸” collusion-aware çš„æƒé‡å‡½æ•° w(t) = T(t)Ï(t) </p>          </div><p>ç»™å®šä¸€ç»„ä¸‰ç»´ç‰©ä½“çš„ pose å›¾åƒï¼Œç›®æ ‡æ˜¯é‡å»ºè¯¥ç‰©ä½“çš„è¡¨é¢ï¼Œè¯¥è¡¨é¢ç”±ç¥ç»éšå¼ SDF çš„é›¶æ°´å¹³é›†è¡¨ç¤ºã€‚<br>ä¸ºäº†å­¦ä¹ ç¥ç»ç½‘ç»œçš„æƒé‡ï¼Œå¼€å‘äº†ä¸€ç§<strong>æ–°çš„ä½“ç§¯æ¸²æŸ“æ–¹æ³•</strong>æ¥æ¸²æŸ“éšå¼ SDF çš„å›¾åƒï¼Œå¹¶æœ€å°åŒ–æ¸²æŸ“å›¾åƒä¸è¾“å…¥å›¾åƒä¹‹é—´çš„å·®å¼‚ã€‚ç¡®ä¿äº† Neus åœ¨é‡å»ºå¤æ‚ç»“æ„ç‰©ä½“æ—¶çš„é²æ£’æ€§ä¼˜åŒ–ã€‚</p><h2 id="æ¸²æŸ“æ­¥éª¤"><a href="#æ¸²æŸ“æ­¥éª¤" class="headerlink" title="æ¸²æŸ“æ­¥éª¤"></a>æ¸²æŸ“æ­¥éª¤</h2><h3 id="åœºæ™¯è¡¨ç¤º"><a href="#åœºæ™¯è¡¨ç¤º" class="headerlink" title="åœºæ™¯è¡¨ç¤º"></a>åœºæ™¯è¡¨ç¤º</h3><p>è¢«é‡æ„ç‰©ä½“çš„åœºæ™¯è¡¨ç¤ºä¸ºä¸¤ä¸ªå‡½æ•°ï¼š</p><ul><li>fï¼šå°†ç©ºé—´ç‚¹çš„ç©ºé—´åæ ‡æ˜ å°„ä¸ºè¯¥ç‚¹åˆ°ç‰©ä½“çš„ç¬¦å·è·ç¦»</li><li>cï¼šç¼–ç ä¸ç‚¹ x å’Œè§‚å¯Ÿæ–¹å‘ v ç›¸å…³è”çš„é¢œè‰²<br>è¿™ä¸¤ä¸ªå‡½æ•°éƒ½è¢« MLP ç¼–ç ï¼Œç‰©ä½“çš„è¡¨é¢æœ‰ SDF çš„é›¶æ°´å¹³é›†è¡¨ç¤º $\mathcal{S}=\left\{\mathbf{x}\in\mathbb{R}^3|f(\mathbf{x})=0\right\}.$</li></ul><p>å®šä¹‰æ¦‚ç‡å¯†åº¦å‡½æ•° $\phi_s(x) =\frac{se^{-sx}}{(1+e^{-sx})^{2}}$</p><p>å…¶ä¸º sigmoid å‡½æ•°çš„å¯¼æ•° $\Phi_s(x)=(1+e^{-sx})^{-1},\text{i.e.,}\phi_s(x)=\Phi_sâ€™(x)$</p><h3 id="Neus-ä¸-NeRF-å¯¹æ¯”"><a href="#Neus-ä¸-NeRF-å¯¹æ¯”" class="headerlink" title="Neus ä¸ NeRF å¯¹æ¯”"></a>Neus ä¸ NeRF å¯¹æ¯”</h3><p>ç›¸åŒç‚¹ï¼š</p><ul><li>ä½¿ç”¨ NeRF æå‡ºçš„é¢‘ç‡ç¼–ç æ–¹å¼è¿›è¡Œä½ç½®ç¼–ç </li><li>ä½¿ç”¨äº†ä»åƒç´ åæ ‡åˆ°ä¸–ç•Œåæ ‡ç³»è½¬æ¢çš„æ–¹å¼æ¥ç”Ÿæˆå…‰çº¿(o,d)</li></ul><p>ä¸åŒç‚¹ä¹‹ä¸€â€”â€”ä½¿ç”¨äº†ä¸åŒçš„ç›¸æœºåæ ‡å˜æ¢ï¼š</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230703144039.png" alt="image.png"></p><div class="table-container"><table><thead><tr><th>Method</th><th>Pixel to Camera coordinate</th></tr></thead><tbody><tr><td>NeRF</td><td>$\vec d = \begin{pmatrix} \frac{i-\frac{W}{2}}{f} \\ -\frac{j-\frac{H}{2}}{f} \\ -1 \\ \end{pmatrix}$ , $intrinsics = K = \begin{bmatrix} f &amp; 0 &amp; \frac{W}{2}  \\ 0 &amp; f &amp; \frac{H}{2}  \\ 0 &amp; 0 &amp; 1 \\ \end{bmatrix}$</td></tr><tr><td>Neus</td><td>$\vec d = intrinsics^{-1} \times  pixel = \begin{bmatrix} \frac{1}{f} &amp; 0 &amp; -\frac{W}{2 \cdot f}  \\ 0 &amp; \frac{1}{f} &amp; -\frac{H}{2 \cdot f} \\ 0 &amp; 0 &amp; 1 \\ \end{bmatrix} \begin{pmatrix} i \\ j \\ 1 \\ \end{pmatrix} = \begin{pmatrix} \frac{i-\frac{W}{2}}{f} \\ \frac{j-\frac{H}{2}}{f} \\ 1 \\ \end{pmatrix}$</td></tr></tbody></table></div><p>ä¸åŒç‚¹ï¼š</p><p>ä½“æ¸²æŸ“ã€é‡‡æ ·æ–¹å¼ã€è®­ç»ƒå‡ºæ¥çš„ç½‘ç»œæ¨¡å‹ä»¥åŠ nearã€far è®¡ç®—æ–¹å¼</p><div class="table-container"><table><thead><tr><th>Project</th><th>Neus</th><th>NeRF</th></tr></thead><tbody><tr><td>æ¸²æŸ“å‡½æ•°</td><td>$C(\mathbf{o},\mathbf{v})=\int_{0}^{+\infty}w(t)c(\mathbf{p}(t),\mathbf{v})\mathrm{d}t$</td><td>$\mathrm{C}(r)=\int_{\mathrm{t}_{\mathrm{n}}}^{\mathrm{t}_{\mathrm{f}}} \mathrm{T}(\mathrm{t}) \sigma(\mathrm{r}(\mathrm{t})) \mathrm{c}(\mathrm{r}(\mathrm{t}), \mathrm{d}) \mathrm{dt}$</td></tr><tr><td>æƒé‡</td><td>$\omega(t)=T(t)\rho(t),\text{where}T(t)=\exp\left(-\int_0^t\rho(u)\mathrm{d}u\right)$ <strong>æ— åã€ä¸”é®æŒ¡</strong></td><td>$w(t)=T(t)\sigma(t) , \text { where } \mathrm{T}(\mathrm{t})=\exp \left(-\int_{\mathrm{t}_{\mathrm{n}}}^{\mathrm{t}} \sigma(\mathrm{r}(\mathrm{s})) \mathrm{ds}\right)$ <strong>é®æŒ¡ä½†æœ‰å</strong></td></tr><tr><td>ä¸é€æ˜åº¦å¯†åº¦å‡½æ•°</td><td>$\rho(t)=\max\left(\frac{-\frac{\mathrm{d}\Phi_s}{\mathrm{d}t}(f(\mathbf{p}(t)))}{\Phi_s(f(\mathbf{p}(t)))},0\right)$</td><td>$\sigma(t) = \sigma_{i}=raw2alpha(raw[â€¦,3] + noise, dists)$</td></tr><tr><td>ç¦»æ•£åŒ–</td><td>$\hat{C}=\sum_{i=1}^n T_i\alpha_i c_i$ $T_i=\prod_{j=1}^{i-1}(1-\alpha_j)$ $\alpha_i=\max\left(\frac{\Phi_s(f(\mathbf{p}(t_i))))-\Phi_s(f(\mathbf{p}(t_{i+1})))}{\Phi_s(f(\mathbf{p}(t_i)))},0\right)$</td><td>$\hat{C}(\mathbf{r})=\sum_{i=1}^{N} T_{i}\alpha_{i}\mathbf{c}_{i}$ $\hat{C}(\mathbf{r})=\sum_{i=1}^{N} T_{i}\left(1-\exp \left(-\sigma_{i} \delta_{i}\right)\right) \mathbf{c}_{i}$ $T_{i}=\exp \left(-\sum_{j=1}^{i-1} \sigma_{j} \delta_{j}\right)$</td></tr><tr><td>ç²¾é‡‡æ ·</td><td>ä½¿ç”¨ sdf_network å¾—åˆ°çš„ sdf æ±‚å‡º cosï¼Œå¹¶å¾—åˆ°ä¼°è®¡çš„ sdfï¼Œæ±‚å‡º$\alpha$å’Œ weightï¼Œç”¨æƒé‡é€†å˜æ¢é‡‡æ ·</td><td>ç»è¿‡ MLP å¾—åˆ°$\sigma$ï¼Œæ±‚å‡º$\alpha$å’Œ weightï¼Œç”¨æƒé‡é€†å˜æ¢é‡‡æ ·</td></tr><tr><td>ç½‘ç»œæ¨¡å‹</td><td>éšå¼ SDF åœº</td><td>éšå¼å¯†åº¦ç‚¹äº‘åœº</td></tr><tr><td>near_far</td><td>æ ¹æ®å…‰çº¿çš„åŸç‚¹å’Œæ–¹å‘å‘é‡è®¡ç®—</td><td>ä¸åŒçš„æ•°æ®é›†æœ‰ä¸åŒçš„è®¡ç®—æ–¹å¼</td></tr></tbody></table></div><p>æƒé‡å‡½æ•°ï¼ŒNeus(å³)ï¼ŒNeRF(å·¦)<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230606154119.png" alt="Pasted image 20230606154119.png"></p><h2 id="è®­ç»ƒæŸå¤±å‡½æ•°"><a href="#è®­ç»ƒæŸå¤±å‡½æ•°" class="headerlink" title="è®­ç»ƒæŸå¤±å‡½æ•°"></a>è®­ç»ƒæŸå¤±å‡½æ•°</h2><p>loss å‡½æ•°ï¼š</p><script type="math/tex; mode=display">\mathcal L=\mathcal L_{color}+\lambda\mathcal L_{reg}+\beta\mathcal L_{mask}.</script><p>é¢œè‰²æŸå¤±ï¼š$\mathcal{L}_{color}=\frac{1}{m}\sum_k\mathcal{R}(\hat{C}_k,C_k).$<br>Eikonal term,ç±»ä¼¼<a href="https://lioryariv.github.io/idr/">IDR</a>:$\mathcal{L}_{r e g}=\frac{1}{n m}\sum_{k,i}(|\nabla f(\hat{\mathbf{p}}_{k,i})|_{2}-1)^{2}.$<br><a href="https://github.com/amosgropp/IGR">IGR</a>ï¼š$\mathcal{L}_{mask}=\mathrm{BCE}(M_k,\hat{O}_k)$</p><ul><li>æ²¿ç€ç›¸æœº ray çš„æƒé‡ä¹‹å’Œï¼š$\hat{O}_k=\sum_{i=1}^n T_{k,i}\alpha_{k,i}$</li><li>æ˜¯å¦ä½¿ç”¨ mask ç›‘ç£: (BCE æ˜¯äºŒå€¼äº¤å‰ç†µæŸå¤±)ï¼š$M_{k} âˆˆ {0, 1}$</li></ul><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><h2 id="Datasetï¼šDTU-amp-BlendedMVS"><a href="#Datasetï¼šDTU-amp-BlendedMVS" class="headerlink" title="Datasetï¼šDTU&amp;BlendedMVS"></a>Datasetï¼šDTU&amp;BlendedMVS</h2><p>DTU: 15 ä¸ªåœºæ™¯ã€1600 Ã— 1200 åƒç´ <br>BlendedMVSï¼š7 ä¸ªåœºæ™¯ã€768 Ã— 576 åƒç´ </p><h2 id="Baseline"><a href="#Baseline" class="headerlink" title="Baseline"></a>Baseline</h2><p>è¡¨é¢é‡å»ºæ–¹æ³•ï¼š</p><ul><li>IDRï¼šé«˜è´¨é‡è¡¨é¢é‡å»ºï¼Œä½†éœ€è¦å‰æ™¯ mask ç›‘ç£</li><li>DVRï¼Œæ²¡æœ‰æ¯”è¾ƒ<br>ä½“ç§¯æ¸²æŸ“æ–¹æ³•ï¼š</li><li>NeRFï¼šæˆ‘ä»¬ä½¿ç”¨ 25 çš„ threshold ä»å­¦ä¹ çš„å¯†åº¦åœºä¸­æå–ç½‘æ ¼ï¼ˆåœ¨è¡¥å……ææ–™ä¸­éªŒè¯äº†ä¸ºä»€ä¹ˆç”¨ 25 åšé˜ˆå€¼ï¼‰<br>å¹¿æ³›ä½¿ç”¨çš„ç»å…¸ MVS æ–¹æ³•ï¼šï¼ˆMVSï¼šMulti-View Stereo Reconstruction å¤šè§†ç‚¹ç«‹ä½“é‡å»ºï¼‰</li><li>colmapï¼šä» colmap çš„è¾“å‡ºç‚¹äº‘ä¸­ï¼Œä½¿ç”¨ Screened Poisson Surface Reconstruction é‡å»º mesh</li></ul><p>UNISURFï¼šå°†è¡¨é¢æ¸²æŸ“ä¸ä»¥å ç”¨åœºåšåœºæ™¯è¡¨ç¤ºçš„ä½“ç§¯æ¸²æŸ“ç»Ÿä¸€èµ·æ¥</p><h2 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h2><p>è®¾æ„Ÿå…´è¶£çš„ç‰©ä½“åœ¨å•ä½çƒä½“å†…ï¼Œæ¯æ‰¹é‡‡æ · 512 æ¡å…‰çº¿ï¼Œå•ä¸ª RTX2080Tiï¼š14hï¼ˆwith maskï¼‰ï¼Œ16hï¼ˆwithout maskï¼‰<br>å¯¹äº w/o mask ï¼Œä½¿ç”¨ NeRF++å¯¹èƒŒæ™¯è¿›è¡Œå»ºæ¨¡ï¼Œç½‘ç»œæ¶æ„å’Œåˆå§‹åŒ–æ–¹æ¡ˆä¸ IDR ç›¸ä¼¼</p><h2 id="ç¯å¢ƒé…ç½®ï¼š"><a href="#ç¯å¢ƒé…ç½®ï¼š" class="headerlink" title="ç¯å¢ƒé…ç½®ï¼š"></a>ç¯å¢ƒé…ç½®ï¼š</h2><p>autodl é•œåƒï¼š<br>Miniconda  conda3<br>Python  3.8(ubuntu20.04)<br>Cuda  11.8<br><code>conda create -n neus python=3.8</code><br><code>pip install -r requirements.txt</code><br><code>pip --default-timeout=1000 install torch==1.9.0+cu111 torchvision==0.10.0+cu111 torchaudio==0.9.0 -f https://download.pytorch.org/whl/torch_stable.html</code></p><h2 id="å‘½ä»¤è¡Œè¿è¡Œç¨‹åºï¼š"><a href="#å‘½ä»¤è¡Œè¿è¡Œç¨‹åºï¼š" class="headerlink" title="å‘½ä»¤è¡Œè¿è¡Œç¨‹åºï¼š"></a>å‘½ä»¤è¡Œè¿è¡Œç¨‹åºï¼š</h2><p><code>python exp_runner.py --mode train --conf ./confs/wmask.conf --case &lt;case_name&gt;</code> # å¸¦ mask ç›‘ç£<br><code>python exp_runner.py --mode train --conf ./confs/womask.conf --case &lt;case_name&gt;</code> # ä¸å¸¦ mask ç›‘ç£<br>case_name æ˜¯æ‰€é€‰ç‰©ä½“æ•°æ®é›†æ–‡ä»¶å¤¹çš„åç§°<br>å¦‚æœè®­ç»ƒè¿‡ç¨‹ä¸­ä¸­æ–­ï¼Œå¯ä»¥è®¾ç½®<code>--is_continue</code> æ¥è¿›è¡ŒåŠ è½½æœ€åçš„ ckpt ç»§ç»­è®­ç»ƒï¼š<br><code>python exp_runner.py --mode train --conf ./confs/wmask.conf --case &lt;case_name&gt; --is_continue</code></p><p>è®­ç»ƒç”Ÿæˆçš„ç»“æœä¼šä¿å­˜åœ¨æ ¹ç›®å½•ä¸‹ exp æ–‡ä»¶å¤¹ä¸‹ï¼Œå¯ä»¥çœ‹åˆ° meshes æ–‡ä»¶å¤¹ä¸­ä¿å­˜äº†è®­ç»ƒè¿‡ç¨‹ä¸­çš„ mesh æ¨¡å‹ï¼Œä½†é¢ç‰‡è¾ƒå°‘ã€‚éœ€è¦æ¯”è¾ƒç²¾ç»†çš„ mesh æ¨¡å‹éœ€è¦è¿è¡Œ<br><code>python exp_runner.py --mode validate_mesh --conf &lt;config_file&gt; --case &lt;case_name&gt; --is_continue # use latest checkpoint</code><br>å¤šè§†è§’æ¸²æŸ“<br><code>python exp_runner.py --mode interpolate_&lt;img_idx_0&gt;_&lt;img_idx_1&gt; --conf &lt;config_file&gt; --case &lt;case_name&gt; --is_continue # use latest checkpoint</code></p><h3 id="eg1-clock-wmask"><a href="#eg1-clock-wmask" class="headerlink" title="eg1: clock_wmask"></a>eg1: clock_wmask</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python exp_runner.py --mode train --conf ./confs/wmask.conf --case bmvs_clock #å¸¦mask</span><br><span class="line">ä¸­æ–­åç»§ç»­è®­ç»ƒ</span><br><span class="line">python exp_runner.py --mode train --conf ./confs/wmask.conf --case bmvs_clock --is_continue</span><br><span class="line">å°†meshæ¨¡å‹ç²¾ç»†åŒ–</span><br><span class="line">python exp_runner.py --mode validate_mesh --conf ./confs/wmask.conf --case bmvs_clock --is_continue</span><br><span class="line">æ’å€¼å¤šè§†è§’æ¸²æŸ“æˆmp4(0~1ä¹‹é—´æ–°è§†è§’ç”Ÿæˆ)</span><br><span class="line">python exp_runner.py --mode interpolate_000_001 --conf ./confs/wmask.conf --case bmvs_clock --is_continue</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230601130943.png" alt="Pasted image 20230601130943.png"></p><p>é™¤äº†ä¸»ä½“æ¨¡å‹å¤–è¿˜æœ‰ä¸€äº›å™ªéŸ³<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230601131053.png" alt="Pasted image 20230601131053.png"></p><p>Neusï¼š (ç»“æœä¸ resolution æ— å…³)</p><ul><li>ä½¿ç”¨ Neus æ—¶ï¼Œç²¾ç»†åŒ–æ¨¡å‹å‚æ•°è®¾ç½®ä¸º <code>resolution=512</code> å¯èƒ½ä¸æ­¤æœ‰å…³</li><li>æ”¹ä¸º<code>resolution=1024</code> è¿è¡Œä¸€ä¸‹ validate_mesh<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230602165940.png" alt="Pasted image 20230602165940.png"></li></ul><p>è™½ç„¶è¿è¡Œåï¼Œé¢æ•°æ›´å¤šäº†ï¼Œä½†æ˜¯ç»†èŠ‚å¤„ä¾ç„¶ä¸æ¸…æ¥šï¼Œå¯èƒ½éœ€è¦ç»§ç»­å¢åŠ è®­ç»ƒçš„æ­¥æ•°</p><ul><li>çœ‹ä»£ç åï¼šresolution å¯ä»¥å¢åŠ  object çš„åˆ†è¾¨ç‡ï¼Œå†ç¼©æ”¾åˆ°ç‰©ä½“å®é™…å¤§å°<ul><li>å¯ä»¥çœ‹åˆ° vertices å’Œ faces éƒ½å¢åŠ äº†ï¼Œä½†ç”±äº sdf ç”Ÿæˆçš„ç›¸åŒï¼Œå› æ­¤è¡¨é¢å˜å¾—æ›´ç²¾ç»†ï¼Œä½†ç»†èŠ‚å¤„ä¸æ¸…æ¥šçš„åœ°æ–¹ä¾ç„¶ä¸æ¸…æ¥š</li></ul></li></ul><h3 id="eg2-bear-womask"><a href="#eg2-bear-womask" class="headerlink" title="eg2: bear_womask"></a>eg2: bear_womask</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python exp_runner.py --mode train --conf ./confs/womask.conf --case bmvs_bear  #æ²¡æœ‰mask</span><br><span class="line">python exp_runner.py --mode train --conf ./confs/womask.conf --case bmvs_bear  --is_continue</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230601211543.png" alt="Pasted image 20230601211543.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230601211823.png" alt="Pasted image 20230601211823.png"></p><p>è¿è¡Œåï¼Œmesh æ¨¡å‹çš„é¢å¾ˆå°‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å°†meshæ¨¡å‹ç²¾ç»†åŒ–</span><br><span class="line">python exp_runner.py --mode validate_mesh --conf ./confs/womask.conf --case bmvs_bear --is_continue</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230601211901.png" alt="Pasted image 20230601211901.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230601211955.png" alt="Pasted image 20230601211955.png"></p><h3 id="eg3-Miku"><a href="#eg3-Miku" class="headerlink" title="eg3: Miku"></a>eg3: Miku</h3><p>æ¨¡å‹ä¸å¤Ÿç†æƒ³</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python exp_runner.py --mode train --conf ./confs/womask.conf --case Miku</span><br><span class="line">python exp_runner.py --mode validate_mesh --conf ./confs/womask.conf --case Miku --is_continue</span><br><span class="line"></span><br><span class="line">python exp_runner.py --mode interpolate_0_38 --conf ./confs/womask.conf --case Miku --is_continue</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230630141311.png" alt="image.png"></p><ul><li>åº•ä¸‹çš„åœ†ç›˜åœ¨ sparse_points.ply ä¸­æ²¡æœ‰å‰”é™¤å¹²å‡€ï¼Œæ‰€ä»¥ä¼šå‡ºç°é¢å¤–çš„çªå‡º</li><li>é¢éƒ¨è¡¨æƒ…ã€è£™å­è£…é¥°ç­‰ç»†å°éƒ¨ä½ä¸å¤Ÿç»†è‡´ï¼Œè…¿éƒ¨ä¹Ÿä¸å¤Ÿç»†è‡´</li><li>å¤´å‘éƒ¨ä½ and é‹å­ä¹Ÿç”±äºåœ¨ç‚¹äº‘ä¸­æ²¡æœ‰å®Œå…¨å»é™¤å™ªç‚¹ï¼Œå› æ­¤ä¼šæœ‰é¢å¤–çš„å™ªå£°è¢«å»ºæ¨¡å‡ºæ¥</li></ul><p>0 to 38 render videoï¼š</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/00300000_0_38.gif" alt="00300000_0_38.gif"></p><h2 id="Neus-å¦‚ä½•ç»™æ¨¡å‹åŠ çº¹ç†ï¼š"><a href="#Neus-å¦‚ä½•ç»™æ¨¡å‹åŠ çº¹ç†ï¼š" class="headerlink" title="Neus å¦‚ä½•ç»™æ¨¡å‹åŠ çº¹ç†ï¼š"></a>Neus å¦‚ä½•ç»™æ¨¡å‹åŠ çº¹ç†ï¼š</h2><blockquote><p><a href="https://github.com/Totoro97/NeuS/issues/48">How to reconstruct texture after generating mesh ? Â· Issue #48 Â· Totoro97/NeuS (github.com)</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"># get texture or say color</span><br><span class="line">def validate_mesh_vertex_color(self, world_space=False, resolution=64, threshold=0.0, name=None):</span><br><span class="line">    print(&#x27;Start exporting textured mesh&#x27;)</span><br><span class="line"></span><br><span class="line">    bound_min = torch.tensor(self.dataset.object_bbox_min, dtype=torch.float32)</span><br><span class="line">    bound_max = torch.tensor(self.dataset.object_bbox_max, dtype=torch.float32)</span><br><span class="line">    vertices, triangles = self.renderer.extract_geometry(bound_min, bound_max, resolution=resolution,</span><br><span class="line">                                                        threshold=threshold)</span><br><span class="line">    print(f&#x27;Vertices count: &#123;vertices.shape[0]&#125;&#x27;)</span><br><span class="line"></span><br><span class="line">    vertices = torch.tensor(vertices, dtype=torch.float32) # n_t x 3</span><br><span class="line">    vertices_batch = vertices.split(self.batch_size) # n_t / batch_size x batch_size x 3</span><br><span class="line">    render_iter = len(vertices_batch) # n_t / batch_size</span><br><span class="line"></span><br><span class="line">    vertex_colors = []</span><br><span class="line">    for iter in tqdm(range(render_iter)):</span><br><span class="line">        feature_vector = self.sdf_network.sdf_hidden_appearance(vertices_batch[iter])[ : ,1:]</span><br><span class="line">        gradients = self.sdf_network.gradient(vertices_batch[iter]).squeeze()</span><br><span class="line">        dirs = -gradients</span><br><span class="line">        vertex_color = self.color_network(vertices_batch[iter], gradients, dirs,</span><br><span class="line">                                            feature_vector).detach().cpu().numpy()[..., ::-1]  # BGR to RGB</span><br><span class="line">        # .detach() ï¼šå°†å˜é‡ä»ç½‘ç»œä¸­éš”ç¦»å¼€ï¼Œä¸å‚ä¸å‚æ•°æ›´æ–°</span><br><span class="line">        vertex_colors.append(vertex_color)</span><br><span class="line">    vertex_colors = np.concatenate(vertex_colors)</span><br><span class="line">    print(f&#x27;validate point count: &#123;vertex_colors.shape[0]&#125;&#x27;)</span><br><span class="line">    vertices = vertices.detach().cpu().numpy()</span><br><span class="line"></span><br><span class="line">    if world_space:</span><br><span class="line">        vertices = vertices * self.dataset.scale_mats_np[0][0, 0] + self.dataset.scale_mats_np[0][:3, 3][None]</span><br><span class="line"></span><br><span class="line">    os.makedirs(os.path.join(self.base_exp_dir, &#x27;meshes&#x27;), exist_ok=True)</span><br><span class="line">    mesh = trimesh.Trimesh(vertices, triangles, vertex_colors=vertex_colors)</span><br><span class="line">    if name is not None:</span><br><span class="line">        mesh.export(os.path.join(self.base_exp_dir, &#x27;meshes&#x27;, f&#x27;&#123;name&#125;.ply&#x27;))</span><br><span class="line">    else:</span><br><span class="line">        mesh.export(os.path.join(self.base_exp_dir, &#x27;meshes&#x27;, &#x27;&#123;:0&gt;8d&#125;_vertex_color.ply&#x27;.format(self.iter_step)))</span><br><span class="line"></span><br><span class="line">    logging.info(&#x27;End&#x27;)</span><br></pre></td></tr></table></figure><ul><li>è¿™é‡Œé‡‡ç”¨äº†<code>dirs = -gradients</code> æ¥åšæ¸²æŸ“ç½‘ç»œè¾“å…¥çš„è§‚å¯Ÿæ–¹å‘ï¼Œæ¸²æŸ“ç½‘ç»œè¾“å‡ºçš„ color å€¼ä¸æ˜¯å¾ˆå‡†ç¡®<ul><li>ç”±äº Miku çš„è¡¨é¢è¾ƒä¸ºå¤æ‚ï¼Œè®­ç»ƒæ—¶å…¶è¡¨é¢æ³•å‘ä¸è§‚å¯Ÿæ–¹å‘å¹¶ä¸åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œå› æ­¤åœ¨æ¨ç†è¿‡ç¨‹ä¸­è¿™æ ·è®¾ç½®çš„è¯ç”Ÿæˆçš„ color å€¼ä¸å‡†</li></ul></li></ul><h2 id="æ¸²æŸ“è‡ªå®šä¹‰è§†è§’çš„è§†é¢‘"><a href="#æ¸²æŸ“è‡ªå®šä¹‰è§†è§’çš„è§†é¢‘" class="headerlink" title="æ¸²æŸ“è‡ªå®šä¹‰è§†è§’çš„è§†é¢‘"></a>æ¸²æŸ“è‡ªå®šä¹‰è§†è§’çš„è§†é¢‘</h2><p>æ ¹æ®ä¸­é—´ä¸¤ä¸ª img è¿›è¡Œæ’å€¼ï¼Œä¸­é—´æ’å…¥ç”Ÿæˆçš„æ–°è§†å›¾å›¾ç‰‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python exp_runner.py --mode interpolate_&lt;img_idx_0&gt;_&lt;img_idx_1&gt; --conf &lt;config_file&gt; --case &lt;case_name&gt; --is_continue # use latest checkpoint</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">python exp_runner.py --mode train --conf ./confs/womask.conf --case bmvs_bear</span><br><span class="line">python exp_runner.py --mode interpolate_1_2 --conf ./confs/womask.conf --case bmvs_bear --is_continue # use latest checkpoint</span><br></pre></td></tr></table></figure><p>eg: 1 to 2<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/00300000_1_2.gif" alt="00300000_1_2.gif"></p><div style="display: flex; justify-content: center;"> <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/001.png" alt="Image 1" style="width: 50%; height: auto; margin: 10px;"> to <img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/002.png" alt="Image 2" style="width: 50%; height: auto; margin: 10px;"> </div><h1 id="Neus-ä½¿ç”¨è‡ªåˆ¶æ•°æ®é›†"><a href="#Neus-ä½¿ç”¨è‡ªåˆ¶æ•°æ®é›†" class="headerlink" title="Neus ä½¿ç”¨è‡ªåˆ¶æ•°æ®é›†"></a>Neus ä½¿ç”¨è‡ªåˆ¶æ•°æ®é›†</h1><h2 id="è‡ªå®šä¹‰æ•°æ®é›†-colmap-æ“ä½œ"><a href="#è‡ªå®šä¹‰æ•°æ®é›†-colmap-æ“ä½œ" class="headerlink" title="è‡ªå®šä¹‰æ•°æ®é›† colmap æ“ä½œ"></a>è‡ªå®šä¹‰æ•°æ®é›† colmap æ“ä½œ</h2><p>è‡ªå·±æ‹ä¸€ç»„ç…§ç‰‡: <strong>æ‰‹æœºæˆ–è€…ç›¸æœº ç»• ç‰©ä½“æ‹ä¸€å‘¨ï¼Œæ¯å¼ çš„è§’åº¦ä¸è¦è¶…è¿‡ 30Â°ï¼ˆä¿è¯æœ‰ overlap åŒºåŸŸï¼‰</strong></p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/397760339">colmap ç®€ä»‹åŠå…¥é—¨çº§ä½¿ç”¨ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230531192515.png" alt="Pasted image 20230531192515.png"></p><p>æ‰“å¼€ colmap.bat è¿›å…¥ gui ç•Œé¢ï¼Œç‚¹å‡»<strong>Reconstruction</strong>ï¼Œå†ç‚¹å‡»<strong>Automatic reconstruction</strong></p><p><strong>workspace folderï¼šé€‰æ‹© workspace æ–‡ä»¶å¤¹ï¼Œæ³¨æ„ä¸æ”¯æŒä¸­æ–‡è·¯å¾„</strong><br><strong>Image folderï¼šé€‰æ‹©å­˜æ”¾å¤šè§†è§’å›¾åƒçš„æ•°æ®æ–‡ä»¶å¤¹ï¼Œæ³¨æ„ä¸æ”¯æŒä¸­æ–‡è·¯å¾„</strong><br><strong>Data typeï¼šé€‰æ‹© Individual images</strong><br><strong>Qualityï¼šçœ‹éœ€è¦é€‰æ‹©ï¼Œé€‰æ‹© High é‡å»ºèŠ±è´¹çš„æ—¶é—´æœ€é•¿ï¼Œé‡å»ºçš„è´¨é‡ä¸ä¸€å®šæœ€å¥½ï¼›</strong></p><p>åœ¨ COLMAP ä¸­çœ‹ç”Ÿæˆçš„ç¨€ç–ç‚¹äº‘<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230531191938.png" alt="Pasted image 20230531191938.png"></p><p>åœ¨ workspace folder æ–‡ä»¶å¤¹-&gt;dense-&gt;0 æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ° fused.ply æ•°æ®ï¼Œç”¨ meshlab ä¸­æ‰“å¼€å¯ä»¥çœ‹åˆ°ç¨ å¯†çš„ä¸‰ç»´é‡å»ºçš„ç»“æœã€‚<br>åœ¨ Meshlab ä¸­æŸ¥çœ‹ç”Ÿæˆçš„ç¨ å¯†ç‚¹äº‘</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/Pasted%20image%2020230531192204.png" alt="Pasted image 20230531192204.png"></p><h2 id="Neus-å‘½ä»¤æ“ä½œ"><a href="#Neus-å‘½ä»¤æ“ä½œ" class="headerlink" title="Neus å‘½ä»¤æ“ä½œ"></a>Neus å‘½ä»¤æ“ä½œ</h2><blockquote><p><a href="https://blog.csdn.net/mockbird123/article/details/129934066">(18 æ¡æ¶ˆæ¯) åŸºäº Nerf çš„ä¸‰ç»´é‡å»ºç®—æ³• Neus åˆæ¢_Alpha ç‹—è›‹çš„åšå®¢-CSDN åšå®¢</a></p></blockquote><p>ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼šimage å’Œ maskï¼Œä¸€ä¸ªæ–‡ä»¶<br>image æ–‡ä»¶å¤¹å°±æ˜¯ rgb å›¾ç‰‡æ•°æ®ï¼Œç®—æ³•é»˜è®¤æ”¯æŒ png æ ¼å¼ã€‚<br>mask æ–‡ä»¶å¤¹åŒ…å«çš„æ˜¯æ¨¡å‹çš„å‰æ™¯å›¾åƒï¼Œå‰æ™¯å’Œåæ™¯ä»¥é»‘è‰²å’Œç™½è‰²åŒºåˆ†ï¼Œå¦‚æœé…ç½®æ–‡ä»¶é€‰æ‹© withou maskï¼Œå…¶å®è¿™ä¸ªæ–‡ä»¶å¤¹çš„æ•°æ®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ä½†å¿…é¡»æœ‰æ–‡ä»¶ï¼Œä¸”åç§°ã€å›¾åƒåƒç´ è¦å’Œ image çš„å›¾åƒä¸€ä¸€å¯¹åº”ã€‚<br>æœ€åæ˜¯ cameras_sphere.npz æ–‡ä»¶ï¼Œå®ƒåŒ…æ‹¬äº†ç›¸æœºçš„å±æ€§å’Œå›¾åƒçš„ä½å§¿ä¿¡æ¯ç­‰ï¼Œè¿™ä¸ªæ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±è®¡ç®—çš„ã€‚å®˜æ–¹ç»™å‡ºäº†ä¸¤ç§è®¡ç®—æ–¹æ¡ˆï¼Œç¬¬äºŒç§æ˜¯ç”¨ colmap è®¡ç®— npz æ–‡ä»¶ã€‚</p><h3 id="ä½¿ç”¨-Colmap-ç”Ÿæˆ-npz-æ–‡ä»¶"><a href="#ä½¿ç”¨-Colmap-ç”Ÿæˆ-npz-æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨ Colmap ç”Ÿæˆ npz æ–‡ä»¶"></a>ä½¿ç”¨ Colmap ç”Ÿæˆ npz æ–‡ä»¶</h3><p>å¯ä»¥æå‰é€šè¿‡ colmap è¿è¡Œå¾—åˆ° sparse/0/ä¸­çš„æ–‡ä»¶ï¼Œæˆ–è€…é€šè¿‡ img2poses ä¸­çš„ run_colmap()ç”Ÿæˆï¼Œç„¶åå†å¾—åˆ° sparse_points.ply</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd colmap_preprocess</span><br><span class="line">python imgs2poses.py $&#123;data_dir&#125;</span><br></pre></td></tr></table></figure><p>å°†ä¼šç”Ÿæˆï¼š<code>$&#123;data_dir&#125;/sparse_points.ply</code>ï¼Œåœ¨ meshlab ä¸­é€‰æ‹©å¤šä½™éƒ¨åˆ†çš„ Verticesï¼Œå¹¶åˆ é™¤ï¼Œç„¶åä¿å­˜ä¸º<code>$&#123;data_dir&#125;/sparse_points_interest.ply</code>.</p><p>ç„¶å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python gen_cameras.py $&#123;data_dir&#125; </span><br></pre></td></tr></table></figure><p>å°±ä¼šåœ¨ ${data_dir}ä¸‹ç”Ÿæˆ preprocessedï¼ŒåŒ…æ‹¬ imageã€mask å’Œ cameras_sphere.npz</p>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SurfaceReconstruction </tag>
            
            <tag> NeRF </tag>
            
            <tag> NeuS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NeRFåŸç†</title>
      <link href="/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF/"/>
      <url>/3DReconstruction/Multi-view/Implicit%20Function/NeRF-based/NeRF/</url>
      
        <content type="html"><![CDATA[<div class="table-container"><table><thead><tr><th>Title</th><th>NeRF: Representing Scenes as Neural Radiance Fields for View Synthesis</th></tr></thead><tbody><tr><td>Author</td><td><a href="https://bmild.github.io/">Ben Mildenhall*</a><a href="https://pratulsrinivasan.github.io/">Pratul P. Srinivasan*</a><a href="https://www.matthewtancik.com/">Matthew Tancik*</a><a href="https://jonbarron.info/">Jonathan T. Barron</a><a href="http://cseweb.ucsd.edu/~ravir/">Ravi Ramamoorthi</a><a href="https://www2.eecs.berkeley.edu/Faculty/Homepages/yirenng.html">Ren Ng</a></td></tr><tr><td>Conf/Jour</td><td>ECCV 2020 Oral - Best Paper Honorable Mention</td></tr><tr><td>Year</td><td>2020</td></tr><tr><td>Project</td><td><a href="https://www.matthewtancik.com/nerf">NeRF: Neural Radiance Fields (matthewtancik.com)</a></td></tr><tr><td>Paper</td><td><a href="https://readpaper.com/pdf-annotate/note?pdfId=4544709973778259969&amp;noteId=752432474097127424">NeRF: Representing Scenes as Neural Radiance Fields for View Synthesis (readpaper.com)</a></td></tr></tbody></table></div><p>NeRFï¼ˆNeural Radiance Fieldsï¼‰æ˜¯ä¸€ç§ç”¨äºç”Ÿæˆé€¼çœŸä¸‰ç»´åœºæ™¯çš„è®¡ç®—æœºå›¾å½¢å­¦æ–¹æ³•ã€‚é€šè¿‡ç¥ç»ç½‘ç»œå¯¹åœºæ™¯ä¸­çš„æ¯ä¸ªç©ºé—´ç‚¹è¿›è¡Œå»ºæ¨¡ï¼ŒNeRFå¯ä»¥ä¼°è®¡æ¯ä¸ªç‚¹çš„é¢œè‰²å’Œå¯†åº¦ä¿¡æ¯ã€‚åˆ©ç”¨æ¸²æŸ“æ–¹ç¨‹ï¼ŒNeRFèƒ½å¤Ÿåˆæˆé«˜è´¨é‡çš„é€¼çœŸå›¾åƒã€‚ç›¸è¾ƒäºä¼ ç»Ÿçš„æ¸²æŸ“æ–¹æ³•ï¼ŒNeRFèƒ½å¤Ÿå¤„ç†å¤æ‚çš„å…‰ç…§å’Œåå°„æ•ˆæœï¼Œå¹¿æ³›åº”ç”¨äºè™šæ‹Ÿç°å®ã€å¢å¼ºç°å®ã€ç”µå½±åˆ¶ä½œå’Œæ¸¸æˆå¼€å‘ç­‰é¢†åŸŸã€‚ç„¶è€Œï¼ŒNeRFæ–¹æ³•ä»é¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼Œå¦‚è®¡ç®—å¤æ‚åº¦å’Œå¯¹è®­ç»ƒæ•°æ®çš„ä¾èµ–æ€§ã€‚ç ”ç©¶äººå‘˜æ­£åœ¨ä¸æ–­æ”¹è¿›NeRFï¼Œä»¥æé«˜å…¶æ•ˆç‡å’Œæ‰©å±•æ€§ã€‚</p><span id="more"></span><h1 id="å…¶ä»–å‚è€ƒæ–‡çŒ®"><a href="#å…¶ä»–å‚è€ƒæ–‡çŒ®" class="headerlink" title="å…¶ä»–å‚è€ƒæ–‡çŒ®"></a>å…¶ä»–å‚è€ƒæ–‡çŒ®</h1><p><a href="https://zhuanlan.zhihu.com/p/556048189">ã€NeRFã€‘ç¥ç»æ¸²æŸ“ / ç¥ç»è¾å°„åœº ç»¼è¿° - çŸ¥ä¹</a></p><blockquote><p>å¤§ä½¬çš„å…¬å¼æ¨å¯¼+ä»£ç åˆ†æ<a href="https://yconquesty.github.io/blog/ml/nerf/nerf_rendering.html#prerequisites">NeRF: A Volume Rendering Perspective | Will (yconquesty.github.io)</a></p></blockquote><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Network.png" alt="Network.png|666"></p><p>è¾“å…¥å¤šå¼ ä¸åŒè§†è§’çš„å›¾ç‰‡ï¼Œé€šè¿‡è®­ç»ƒå‡ºçš„MLPæ¨¡å‹$F_{\theta}$ï¼Œè¾“å‡ºä¸€ä¸ªéšå¼è¡¨è¾¾çš„æ¨¡å‹ï¼Œè¯¥æ¨¡å‹åŒ…å«ç²’å­çš„åæ ‡ã€é¢œè‰²å’Œä¸é€æ˜åº¦ç­‰ä¿¡æ¯ã€‚é€šè¿‡ä½“æ¸²æŸ“å‡½æ•°ç”Ÿæˆæ–°è§†è§’çš„å›¾ç‰‡ã€‚</p><p>åŸç†ï¼š</p><ol><li>ä»ç›¸æœºåŸç‚¹å‡ºå‘ï¼Œç»è¿‡å›¾ç‰‡ä¸Šçš„æŸç‚¹åƒç´ ï¼Œç”Ÿæˆä¸€æ¡<a href="#å…‰çº¿ç”Ÿæˆ">å…‰çº¿</a>  $r(t)=\textbf{o}+t \textbf{d}$ ï¼Œ$\textbf{o}$ä¸ºç›¸æœºåŸç‚¹ï¼Œ$\textbf{d}$ä¸ºå…‰çº¿çš„æ–¹å‘å‘é‡ã€‚</li><li>åœ¨å…‰çº¿ä¸Šé‡‡æ ·Nä¸ªç‚¹ï¼Œå¹¶å¾—åˆ°è¿™äº›ç‚¹(ç²’å­)çš„ç©ºé—´åæ ‡xyzï¼ŒåŒä¸€æ¡å…‰çº¿ä¸Šï¼Œé€šè¿‡dä¹Ÿå¯å¾—å‡ºç²’å­çš„æ–¹å‘åæ ‡$(\theta,\phi)$ã€‚</li><li>å¯¹ç²’å­åæ ‡$(x,y,z,\theta,\phi)$åš<a href="#ä½ç½®ç¼–ç ">ä½ç½®ç¼–ç </a>ï¼Œå°†ä½ç»´ä¿¡æ¯è½¬åŒ–ä¸ºé«˜ç»´çš„ä¿¡æ¯ã€‚(ç¥ç»ç½‘ç»œåœ¨è¡¨ç¤ºé¢œè‰²å’Œå‡ ä½•å½¢çŠ¶çš„é«˜é¢‘å˜åŒ–æ–¹é¢è¡¨ç°ä¸ä½³ã€‚ä»–äººçš„ç ”ç©¶ä¹Ÿè¡¨æ˜æ·±åº¦ç¥ç»ç½‘ç»œå€¾å‘äºå­¦ä¹ ä½é¢‘ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡åœ¨è¾“å…¥ä¹‹å‰å°†é«˜é¢‘å‡½æ•°æ˜ å°„åˆ°é«˜ç»´ç©ºé—´çš„æ–¹æ³•æ¥å¢å¼ºé«˜é¢‘ä¿¡æ¯çš„æ‹Ÿåˆèƒ½åŠ›ã€‚)</li><li>æ„å»º<a href="#ç¥ç»ç½‘ç»œ">MLPç½‘ç»œ</a>ï¼Œè¾“å…¥ä¸ºç²’å­åæ ‡çš„é«˜ç»´ä¿¡æ¯ï¼Œè¾“å‡ºä¸ºç²’å­çš„RGBé¢œè‰²å’Œä¸é€æ˜åº¦ï¼Œç„¶åæ ¹æ®<a href="#ä½“æ¸²æŸ“å‡½æ•°">ä½“æ¸²æŸ“å‡½æ•°</a>ï¼Œç”±ç²’å­çš„RGBå’Œä¸é€æ˜åº¦è®¡ç®—å‡ºå›¾ç‰‡åƒç´ çš„é¢œè‰²å€¼ã€‚lossä¸ºè¯¥å›¾ç‰‡åƒç´ é¢œè‰²å’Œground truthçš„å‡æ–¹å·®æŸå¤±ã€‚</li><li>æ ¹æ®ç²—é‡‡æ ·åå¾—åˆ°çš„ç½‘ç»œï¼Œè¿›è¡Œ<a href="#åˆ†å±‚é‡‡æ ·">ç²¾é‡‡æ ·</a>ã€‚ç”±ç²—ç½‘ç»œå¾—åˆ°çš„ç‚¹äº‘æ¨¡å‹ï¼Œæ ¹æ®ä½“æ¸²æŸ“å‡½æ•°ï¼Œè®¡ç®—å‡ºæƒé‡ï¼Œå¯¹æƒé‡å¤§çš„åœ°æ–¹ï¼Œé‡‡æ ·çš„ç‚¹å¤šä¸€ç‚¹ï¼Œæ ¹æ®ç²¾é‡‡æ ·+ç²—é‡‡æ ·å¾—åˆ°çš„ç²’å­ï¼Œé‡å¤3ã€4æ­¥ï¼Œæœ€åè®­ç»ƒå‡ºä¸€ä¸ªæ›´ç²¾ç»†çš„ç½‘ç»œæ¨¡å‹ã€‚</li><li>å¤šå¼ ä¸åŒè§†è§’å›¾ç‰‡â€”&gt;MLPç½‘ç»œâ€”&gt;éšå¼ç‚¹äº‘æ¨¡å‹ï¼Œç¡®å®šçš„ç›¸æœºä½å§¿â€”&gt;ç”Ÿæˆå…‰çº¿å¾—åˆ°ç‚¹äº‘çš„åæ ‡â€”&gt;éšå¼ç‚¹äº‘æ¨¡å‹â€”&gt;ç‚¹äº‘çš„å¯†åº¦å’Œé¢œè‰²â€”&gt;æ–°è§†è§’å›¾ç‰‡</li></ol><p>éšå¼è¡¨è¾¾æ¨¡å‹ï¼šè¾“å…¥çš„æ˜¯ç‚¹äº‘çš„ä½ç½®åæ ‡ä¿¡æ¯ï¼Œè¾“å‡ºæ—¶è¯¥ç‚¹çš„ä¸é€æ˜åº¦å’Œé¢œè‰²å€¼ã€‚æ ¹æ®æŸä¸ªç¡®å®šçš„ç›¸æœºä½å§¿ä»¥åŠå›¾ç‰‡çš„å¤§å°ï¼Œæ¯ä¸ªåƒç´ ç”Ÿæˆä¸€æ¡å…‰çº¿ï¼Œå¹¶åœ¨å…‰çº¿ä¸Šè¿›è¡Œé‡‡æ ·å¾—åˆ°ç‚¹äº‘ï¼Œæ ¹æ®ç‚¹äº‘ä¸­æ¯ä¸ªç‚¹çš„ä½ç½®åæ ‡è¿›è¡Œç¼–ç å¹¶è¾“å…¥è¿›ç½‘ç»œå¾—åˆ°è¯¥ç‚¹çš„å¯†åº¦å€¼å’Œé¢œè‰²å€¼ï¼Œç„¶åé€šè¿‡ä½“æ¸²æŸ“å‡½æ•°ï¼Œè®¡ç®—å‡ºæ¯ä¸ªåƒç´ ç‚¹å¤„çš„é¢œè‰²å€¼ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€å¼ æ–°è§†è§’å‡ºçš„å›¾ç‰‡ã€‚</p><h1 id="ä½“æ¸²æŸ“å‡½æ•°"><a href="#ä½“æ¸²æŸ“å‡½æ•°" class="headerlink" title="ä½“æ¸²æŸ“å‡½æ•°"></a>ä½“æ¸²æŸ“å‡½æ•°</h1><script type="math/tex; mode=display">\mathrm{C}(r)=\int_{\mathrm{t}_{\mathrm{n}}}^{\mathrm{t}_{\mathrm{f}}} \mathrm{T}(\mathrm{t}) \sigma(\mathrm{r}(\mathrm{t})) \mathrm{c}(\mathrm{r}(\mathrm{t}), \mathrm{d}) \mathrm{dt}, \text { where } \mathrm{T}(\mathrm{t})=\exp \left(-\int_{\mathrm{t}_{\mathrm{n}}}^{\mathrm{t}} \sigma(\mathrm{r}(\mathrm{s})) \mathrm{ds}\right)</script><p>T(t)ï¼š$t_{n}$åˆ°tçš„é€æ˜åº¦çš„ç´¯è®¡</p><ul><li>å…‰çº¿è·ç¦»è¶Šè¿œ $\int_{t_n}^t\sigma(\mathbf{r}(s))ds$ è¶Šå¤§ï¼ŒT(t)å°±è¶Šå°</li><li>T(t)ä½œç”¨ï¼šç¦»ç›¸æœºè¿‘çš„ä¸é€æ˜çš„ç²’å­ï¼Œä¼šé®æŒ¡ä½åé¢çš„ç²’å­ï¼Œåœ¨æ¸²æŸ“æ—¶çš„æƒé‡è¾ƒå¤§</li><li>ç±»ä¼¼ï¼šæ— åï¼Œç»™å®šä¸€æŸå…‰çº¿ï¼Œåœ¨å…¶è¡¨é¢å¤„çš„ç‚¹ï¼Œå å¾—æƒé‡åº”è¯¥æœ€å¤§ï¼›æ­¤å¤–å¦‚æœä¸¤ä¸ªç‚¹ï¼Œåé¢è¢«å‰é¢å µå¡ï¼Œé‚£ä¹ˆæ¨¡å‹åº”è¯¥å¯ä»¥æ„ŸçŸ¥åˆ°ã€‚å…·ä½“æ¥è¯´ï¼Œå‰é¢çš„æƒé‡åº”è¯¥å¤§äºåé¢çš„æƒé‡ã€‚</li></ul><p><strong>ä¸»è¦æ€æƒ³ï¼šåˆ†æ®µè¿ç»­</strong></p><p>ç¦»æ•£åŒ–ï¼š</p><script type="math/tex; mode=display">\hat{C}(\mathbf{r})=\sum_{i=1}^{N} T_{i}\left(1-\exp \left(-\sigma_{i} \delta_{i}\right)\right) \mathbf{c}_{i} \text {, where } T_{i}=\exp \left(-\sum_{j=1}^{i-1} \sigma_{j} \delta_{j}\right)</script><script type="math/tex; mode=display">t_{i} \sim \mathcal{U}\left[t_{n}+\frac{i-1}{N}\left(t_{f}-t_{n}\right), t_{n}+\frac{i}{N}\left(t_{f}-t_{n}\right)\right]</script><p>æŸä¸ªç‚¹çš„ä¸é€æ˜åº¦  $\sigma_i$</p><p>è¯¥ç‚¹ä¸ç›¸é‚»ç‚¹ä¹‹é—´çš„è·ç¦» $\delta_{i} = t_{i+1} - t_{i}$</p><p>ä½“æ¸²æŸ“å‡½æ•°æ ¹æ®å…‰çº¿ä¸Šé‡‡æ ·ç‚¹çš„RGBå’Œä¸é€æ˜åº¦ï¼Œå¾—åˆ°è¯¥å…‰çº¿æ‰€ç»è¿‡çš„å›¾ç‰‡åƒç´ çš„é¢œè‰²å€¼ã€‚</p><h1 id="ä½ç½®ç¼–ç "><a href="#ä½ç½®ç¼–ç " class="headerlink" title="ä½ç½®ç¼–ç "></a>ä½ç½®ç¼–ç </h1><p>ç¥ç»ç½‘ç»œåœ¨è¡¨ç¤ºé¢œè‰²å’Œå‡ ä½•å½¢çŠ¶çš„é«˜é¢‘å˜åŒ–æ–¹é¢è¡¨ç°ä¸ä½³ã€‚ä»–äººçš„ç ”ç©¶ä¹Ÿè¡¨æ˜æ·±åº¦ç¥ç»ç½‘ç»œå€¾å‘äºå­¦ä¹ ä½é¢‘ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡åœ¨è¾“å…¥ä¹‹å‰å°†é«˜é¢‘å‡½æ•°æ˜ å°„åˆ°é«˜ç»´ç©ºé—´çš„æ–¹æ³•æ¥å¢å¼ºé«˜é¢‘ä¿¡æ¯çš„æ‹Ÿåˆèƒ½åŠ›ã€‚</p><script type="math/tex; mode=display">\gamma(p)=\left(\sin \left(2^{0} \pi p\right), \cos \left(2^{0} \pi p\right), \cdots, \sin \left(2^{L-1} \pi p\right), \cos \left(2^{L-1} \pi p\right)\right)</script><ul><li>ç©ºé—´åæ ‡xyzï¼ŒL=10ï¼Œ10ç»„sinå’Œcosï¼Œæ€»å…±è½¬åŒ–ä¸º<code>20*3</code> =60ä¸ªå‘é‡</li><li>æ–¹å‘ä¸¤é¡¹$\theta \phi$ï¼ŒL=4ï¼Œ4ç»„sinå’Œcosï¼Œæ€»å…±è½¬åŒ–ä¸º<code>8*3</code> =24ä¸ªå‘é‡(ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œä½¿ç”¨ç›¸æœº7çš„xyzå‚æ•°æ›¿ä»£)</li></ul><h1 id="ç¥ç»ç½‘ç»œ"><a href="#ç¥ç»ç½‘ç»œ" class="headerlink" title="ç¥ç»ç½‘ç»œ"></a>ç¥ç»ç½‘ç»œ</h1><p>ç½‘ç»œï¼šMLP<br>è¾“å…¥ï¼š$(x,y,z,\theta,\phi)$ç¼–ç åçš„ä¿¡æ¯</p><ol><li>ç²’å­çš„ç©ºé—´åæ ‡ xyz</li><li>ç²’å­çš„æ–¹å‘åæ ‡ $(\theta,\phi)$</li></ol><p>è¾“å‡ºï¼š$R G B$   ${\sigma}$</p><ol><li>ç²’å­çš„RGBé¢œè‰²ï¼Œç”±ç©ºé—´å’Œæ–¹å‘ä¿¡æ¯å…±åŒå¾—å‡º</li><li>ç²’å­çš„ä¸é€æ˜åº¦${\sigma}$ï¼Œä»…ç”±ç©ºé—´ä¿¡æ¯å¾—å‡ºï¼Œç²’å­çš„ä¸é€æ˜åº¦ä¸è§‚å¯Ÿæ–¹å‘æ— å…³</li></ol><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020221206180113.png" alt="Pasted image 20221206180113.png|600"></p><h1 id="åˆ†å±‚é‡‡æ ·"><a href="#åˆ†å±‚é‡‡æ ·" class="headerlink" title="åˆ†å±‚é‡‡æ ·"></a>åˆ†å±‚é‡‡æ ·</h1><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230615134639.png" alt="image.png"></p><p>ç›®çš„ï¼šç›®æ ‡åŒºåŸŸé‡‡æ ·ç‚¹å¤šï¼Œå…¶ä»–åŒºåŸŸé‡‡æ ·ç‚¹å°‘</p><script type="math/tex; mode=display">t_{i} \sim \mathcal{U}\left[t_{n}+\frac{i-1}{N}\left(t_{f}-t_{n}\right), t_{n}+\frac{i}{N}\left(t_{f}-t_{n}\right)\right]</script><ol><li><p>ç²—ç½‘ç»œé‡‡æ ·ï¼š$N_{c}$</p><script type="math/tex; mode=display">\hat{C}(\mathbf{r})=\sum_{i=1}^{N} T_{i}\left(1-\exp \left(-\sigma_{i} \delta_{i}\right)\right) \mathbf{c}_{i} \text {, where } T_{i}=\exp \left(-\sum_{j=1}^{i-1} \sigma_{j} \delta_{j}\right)</script></li><li><p>é‡‡æ ·$N_{c}$ä¸ªç‚¹ï¼š</p><script type="math/tex; mode=display">\hat{C}_{c}(\mathbf{r})=\sum_{i=1}^{N_{c}} w_{i} c_{i}, \quad w_{i}=T_{i}\left(1-\exp \left(-\sigma_{i} \delta_{i}\right)\right)</script></li><li><p>å¯¹æƒé‡ä½œæ ‡å‡†åŒ–ï¼š</p><script type="math/tex; mode=display">\hat{w}_{i}=w_{i} / \sum_{j=1}^{N_{c}} w_{j}</script><p>äº§ç”Ÿæ²¿å°„çº¿çš„åˆ†æ®µå¸¸æ•°æ¦‚ç‡åˆ†å¸ƒå‡½æ•°(piecewise-constant PDF)ï¼Œä»æ­¤åˆ†å¸ƒä¸­ï¼Œåˆ©ç”¨é€†å˜æ¢é‡‡æ ·é‡‡æ ·å‡º$N_{f}$ä¸ªä½ç½®</p></li><li><p>ç²¾ç½‘ç»œé‡‡æ ·ï¼š<script type="math/tex">N_{c} + N_{f}</script></p></li><li><p>ä½¿ç”¨æ‰€æœ‰çš„$N_{c}$å’Œ$N_{f}$æ¥è®¡ç®—æœ€ç»ˆçš„æ¸²æŸ“é¢œè‰²</p><script type="math/tex; mode=display">\hat{C}(\mathbf{r})=\sum_{i=1}^{N} T_{i}\left(1-\exp \left(-\sigma_{i} \delta_{i}\right)\right) \mathbf{c}_{i} \text {, where } T_{i}=\exp \left(-\sum_{j=1}^{i-1} \sigma_{j} \delta_{j}\right)</script></li></ol><hr><blockquote><p>å‚è€ƒèµ„æ–™</p><ul><li>Video:<br><a href="https://www.bilibili.com/video/BV1d841187tn/">NeRFæºç è§£æ_å“”å“©å“”å“©_bilibili</a><br><a href="https://zhuanlan.zhihu.com/p/628118376">è®ºæ–‡è§£è¯»ï¼šã€ŠNeRF: Representing Scenes as Neural Radiance Fields for View Synthesisã€‹ - çŸ¥ä¹ (zhihu.com)</a><br><a href="https://www.bilibili.com/video/BV1fL4y1T7Ag/">ã€åŸåˆ›ã€‘NeRF ä¸‰ç»´é‡å»º ç¥ç»è¾å°„åœº å»ºæ¨¡ ç®—æ³•è¯¦è§£ NeRFç›¸å…³é¡¹ç›®æ±‡æ€»ä»‹ç»ã€‚_å“”å“©å“”å“©_bilibili</a><br><a href="https://www.bilibili.com/video/BV1Nc411T7Jh/">å…‰çº¿é‡‡é›†+å½’ä¸€åŒ–é‡‡æ ·ç‚¹_å“”å“©å“”å“©_bilibili</a></li><li>Blog:<br><a href="https://dl.acm.org/doi/pdf/10.1145/3503250">NeRF: Representing Scenes as Neural Radiance Fields for View Synthesis</a><br><a href="https://zhuanlan.zhihu.com/p/80726483">é€†å˜æ¢é‡‡æ · - çŸ¥ä¹ (zhihu.com)</a><br><a href="https://zhuanlan.zhihu.com/p/588902982">NeRF çš„å®ç°è¿‡ç¨‹ - çŸ¥ä¹ (zhihu.com)</a><br><a href="https://zhuanlan.zhihu.com/p/486686928">æ–°è§†è§’åˆæˆ (Novel View Synthesis) - (4) NeRF å®ç°ç»†èŠ‚ - çŸ¥ä¹ (zhihu.com)</a><br><a href="https://www.zhihu.com/column/c_1490274731060760576">è®¡ç®—æœºå›¾å½¢å­¦ - çŸ¥ä¹ (zhihu.com)</a></li></ul></blockquote><h1 id="å…‰çº¿ç”Ÿæˆ"><a href="#å…‰çº¿ç”Ÿæˆ" class="headerlink" title="å…‰çº¿ç”Ÿæˆ"></a>å…‰çº¿ç”Ÿæˆ</h1><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230531151815.png" alt="Pasted image 20230531151815.png|666"></p><p>$r(t)=\textbf{o}+t\textbf{d}$  ï¼Œ$\textbf{o}$æ˜¯ç›¸æœºåŸç‚¹ï¼Œ$\textbf{d}$ä¸ºæ–¹å‘å‘é‡</p><p>té€šè¿‡ $t_{i} \sim \mathcal{U}\left[t_{n}+\frac{i-1}{N}\left(t_{f}-t_{n}\right), t_{n}+\frac{i}{N}\left(t_{f}-t_{n}\right)\right]$ ï¼Œåœ¨ $t_{near}$  å’Œ $t_{far}$ ä¹‹é—´ï¼Œç­‰é—´è·è·å–Nä¸ªç‚¹</p><p>æ ¹æ®ç›¸æœºåŸç‚¹å’Œå›¾ç‰‡ä¸Šéšæœºä¸€ç‚¹åƒç´ ï¼Œç”Ÿæˆä¸€æ¡å…‰çº¿ï¼Œå¹¶å°†è¯¥å…‰çº¿çš„åæ ‡è½¬æ¢åˆ°ä¸–ç•Œåæ ‡ç³»ã€‚</p><p>å·²çŸ¥ï¼šå›¾ç‰‡å¤§å°ï¼Œæ‰€é€‰å›¾ç‰‡ä¸Šçš„åƒç´ ä½ç½®ï¼Œç›¸æœºå‚æ•°(ç„¦è·ã€ç›¸æœºä½å§¿)ã€‚å…‰çº¿ç»è¿‡åæ ‡å˜æ¢ï¼šå›¾ç‰‡äºŒç»´çš„åƒç´ åæ ‡æ„å»ºâ€”&gt;ç›¸æœºä¸‰ç»´åæ ‡â€”&gt;ä¸–ç•Œåæ ‡ï¼Œå¾—åˆ°å…‰çº¿åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹çš„åŸç‚¹å’Œæ–¹å‘å‘é‡, ç„¶åå¯¹ray_oå’Œray_dè¿›è¡ŒNDCåæ ‡å˜æ¢ï¼Œå°†é”¥å½¢åŒºåŸŸå˜æ¢ä¸ºä¸€ä¸ª2x2x2çš„æ­£æ–¹ä½“åŒºåŸŸã€‚(LLFFæ•°æ®é›†)</p><blockquote><p><a href="https://blog.csdn.net/weixin_38842821/article/details/125933604?spm=1001.2014.3001.5506">ä¸–ç•Œåæ ‡ç³»ã€ç›¸æœºåæ ‡ç³»å’Œå›¾åƒåæ ‡ç³»çš„è½¬æ¢_ç›¸æœºåæ ‡ç³»åˆ°å›¾åƒåæ ‡ç³»_æ»´æ»´æ»´â€™cvçš„åšå®¢-CSDNåšå®¢</a></p></blockquote><p>ä»ä¸–ç•Œåæ ‡ç³»åˆ°ç›¸æœºåæ ‡ç³»çš„æŠ•å½±æˆ‘ä»¬ç§°ä¸ºç›¸æœºå¤–å‚çŸ©é˜µï¼ˆåä¹‹ä¸ºç›¸æœºå§¿æ€çŸ©é˜µï¼‰ï¼Œè€Œä»ç›¸æœºåæ ‡ç³»åˆ°åƒç´ åæ ‡ç³»çš„æŠ•å½±æˆ‘ä»¬ç§°ä¸ºç›¸æœºå†…å‚çŸ©é˜µï¼ˆç”¨Kæ¥è¡¨ç¤ºï¼Œç”±ç›¸æœºç„¦è·ä¸ä¸­å¿ƒç‚¹å†³å®šï¼‰ã€‚<a href="https://zhuanlan.zhihu.com/p/553665958">æ—·è§†3d CV masterç³»åˆ—è®­ç»ƒè¥ä¸‰ï¼šNeRFåœ¨å®é™…åœºæ™¯ä¸­çš„åº”ç”¨ - çŸ¥ä¹ (zhihu.com)</a></p><h2 id="å›¾ç‰‡äºŒç»´åæ ‡â€”-gt-ç›¸æœºä¸‰ç»´åæ ‡-X-c-Y-c-Z-c"><a href="#å›¾ç‰‡äºŒç»´åæ ‡â€”-gt-ç›¸æœºä¸‰ç»´åæ ‡-X-c-Y-c-Z-c" class="headerlink" title="å›¾ç‰‡äºŒç»´åæ ‡â€”&gt;ç›¸æœºä¸‰ç»´åæ ‡ $X_{c}, Y_{c},Z_{c}$"></a>å›¾ç‰‡äºŒç»´åæ ‡â€”&gt;ç›¸æœºä¸‰ç»´åæ ‡ $X_{c}, Y_{c},Z_{c}$</h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/v2-f5e8824a9163b874e71166425d3e654c_720w.webp" alt="v2-f5e8824a9163b874e71166425d3e654c_720w.webp"></p><script type="math/tex; mode=display">\begin{bmatrix}X_c\\ Y_c\\ Z_c\end{bmatrix}=\mathbf{\begin{bmatrix}f_x&0&c_x\\ 0&f_y&c_y\\ 0&0&1\end{bmatrix}}^{-1} \begin{bmatrix}x\\ y\\ 1\end{bmatrix}</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ç›¸æœºå†…å‚çŸ©é˜µ</span><br><span class="line">K = np.array([</span><br><span class="line">    [focal, <span class="number">0</span>, <span class="number">0.5</span>*W],</span><br><span class="line">    [<span class="number">0</span>, focal, <span class="number">0.5</span>*H],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">])</span><br><span class="line"><span class="comment"># focalä¸ºç„¦è·</span></span><br><span class="line">focal = <span class="number">.5</span> * W / np.tan(<span class="number">.5</span> * camera_angle_x)</span><br><span class="line"><span class="comment">#camera_angle_xåœ¨æ•°æ®é›†çš„jsonæ–‡ä»¶ä¸­</span></span><br></pre></td></tr></table></figure><h2 id="ç›¸æœºä¸‰ç»´åæ ‡â€”-gt-ä¸–ç•Œä¸‰ç»´åæ ‡XYZ"><a href="#ç›¸æœºä¸‰ç»´åæ ‡â€”-gt-ä¸–ç•Œä¸‰ç»´åæ ‡XYZ" class="headerlink" title="ç›¸æœºä¸‰ç»´åæ ‡â€”&gt;ä¸–ç•Œä¸‰ç»´åæ ‡XYZ"></a>ç›¸æœºä¸‰ç»´åæ ‡â€”&gt;ä¸–ç•Œä¸‰ç»´åæ ‡XYZ</h2><script type="math/tex; mode=display">å¤–å‚çŸ©é˜µ^{-1} = \begin{bmatrix}r_{11}&r_{12}&r_{13}&t_x\\ r_{21}&r_{22}&r_{23}&t_y\\ r_{31}&r_{32}&r_{33}&t_z\\ 0&0&0&1\end{bmatrix}</script><script type="math/tex; mode=display">\begin{bmatrix}X\\ Y\\ Z\\ 1\end{bmatrix}=\begin{bmatrix}r_{11}&r_{12}&r_{13}&t_x\\ r_{21}&r_{22}&r_{23}&t_y\\ r_{31}&r_{32}&r_{33}&t_z\\ 0&0&0&1\end{bmatrix}\begin{bmatrix}X_c\\ Y_c\\ Z_c\\ 1\end{bmatrix}</script><blockquote><p><a href="https://yconquesty.github.io/blog/ml/nerf/nerf_ndc.html#background">NeRF: How NDC Works | Will (yconquesty.github.io)</a><br><a href="https://zhuanlan.zhihu.com/p/144329075">è®¡ç®—æœºå›¾å½¢å­¦äºŒï¼šè§†å›¾å˜æ¢(åæ ‡ç³»è½¬åŒ–ï¼Œæ­£äº¤æŠ•å½±ï¼Œé€è§†æŠ•å½±ï¼Œè§†å£å˜æ¢) - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><h2 id="NDC-æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç³»"><a href="#NDC-æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç³»" class="headerlink" title="NDC  æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç³»"></a>NDC  æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç³»</h2><p>ç›¸æœºåæ ‡ç³»ä¸­åæ ‡â€”&gt;æŠ•å½±å˜æ¢â€”&gt;NDCä¸­åæ ‡</p><div class="note info">            <p>NeRFä¸­æ˜¯ç›´æ¥ä»ä¸–ç•Œåæ ‡ç³»è½¬æ¢åˆ°çš„NDCä¸­çš„åæ ‡</p>          </div><p>Projection transformation åˆ†ä¸º <strong>é€è§†å˜æ¢</strong>å’Œ<strong>æ­£äº¤å˜æ¢</strong></p><h3 id="é€è§†æŠ•å½±å˜æ¢"><a href="#é€è§†æŠ•å½±å˜æ¢" class="headerlink" title="é€è§†æŠ•å½±å˜æ¢"></a>é€è§†æŠ•å½±å˜æ¢</h3><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/20230615160229.png" alt="image.png|555"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/Pasted%20image%2020230612205212.png" alt="Pasted image 20230612205212.png|666"></p><h3 id="æ­£äº¤æŠ•å½±å˜æ¢"><a href="#æ­£äº¤æŠ•å½±å˜æ¢" class="headerlink" title="æ­£äº¤æŠ•å½±å˜æ¢"></a>æ­£äº¤æŠ•å½±å˜æ¢</h3><p>å…‰çº¿å¹³è¡Œï¼Œå°†åŸç©ºé—´ä¸­ç‰©ä½“ï¼Œå˜æ¢åˆ°ä¸€ä¸ª2x2x2çš„ç«‹æ–¹ä½“ä¸­</p><h3 id="æŠ•å½±å˜æ¢çŸ©é˜µ"><a href="#æŠ•å½±å˜æ¢çŸ©é˜µ" class="headerlink" title="æŠ•å½±å˜æ¢çŸ©é˜µ"></a>æŠ•å½±å˜æ¢çŸ©é˜µ</h3><script type="math/tex; mode=display">\mathbf{M}_{\text{per}}=\begin{bmatrix}\frac{n}{r}&0&0&0\\ 0&\frac{n}{t}&0&0\\ 0&0&-\frac{f+n}{f-n}&-\frac{2nf}{f-n}\\ 0&0&-1&0\end{bmatrix}</script><p>å°†é½æ¬¡åæ ‡å·¦ä¹˜æŠ•å½±çŸ©é˜µï¼Œå³å¯å¾—åˆ°åœ¨NDCä¸‹çš„åæ ‡ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\begin{pmatrix}\frac{n}{r}&0&0\\ 0&\frac{n}{t}&0&0\\ 0&0&\frac{-(f+n)}{f-n}&\frac{-2fn}{f-n}\\ 0&0&-1&0\end{pmatrix}\begin{pmatrix}x\\ y\\ z\\ 1\end{pmatrix}& =\begin{pmatrix}\frac{n}{r}x\\ \frac{n}{t}y\\ \frac{-(f+n)}{f-n}z-\frac{-2fn}{f-n}\\ -z\end{pmatrix} \\\mathrm{project}& \to\begin{pmatrix}\frac{n}{r}\frac{x}{-z}\\ \frac{n}{t}\frac{y}{-z}\\ \frac{(f+n)}{f-n}-\frac{2fn}{f-n}\frac{1}{-z}\end{pmatrix} \end{aligned}</script><p>å› æ­¤å¯¹äºå…‰çº¿ï¼š</p><p>$\begin{pmatrix}a_x\frac{o_x+td_x}{o_z+td_z}\\ a_y\frac{o_y+td_y}{o_z+td_z}\\ a_z+\frac{b_z}{o_z+td_z}\end{pmatrix}=\begin{pmatrix}o_xâ€™+tâ€™d_xâ€™\\ o_yâ€™+tâ€™d_yâ€™\\ o_zâ€™+tâ€™d_zâ€™\end{pmatrix}.$</p><p>å…¶ä¸­ï¼š<br>$\begin{aligned}&amp;a_{x} :=-\frac{n}{r}  \\&amp;a_y :=-\frac nt  \\&amp;a_z :=\frac{f+n}{f-n}  \\&amp;b_z :=\frac{2nf}{f-n}\end{aligned}$</p><p>$\mathbf{o}â€™=\begin{pmatrix}oâ€™_x\\ oâ€™_y\\ oâ€™_z\end{pmatrix}=\begin{pmatrix}a_x\frac{o_x}{o_z}\\ a_y\frac{o_y}{o_z}\\ a_z+\frac{b_z}{o_z}\end{pmatrix}=\pi(\mathbf{o}).$</p><p>äº¤æ¢é¡ºåºï¼š</p><script type="math/tex; mode=display">\begin{aligned}\begin{pmatrix}t'd'_x\\ t'd'_y\\ t'd'_z\end{pmatrix}& =\begin{pmatrix}a_x\frac{o_x+t d_x}{o_z+t d_z}-a_x\frac{o_x}{o_z}\\ \\ a_y\frac{o_y+t d_y}{o_z+t d_z}-a_y\frac{o_y}{o_z}\\ \\ a_z+\frac{b_z}{o_z+t d_z}-a_z-\frac{b_z}{o_z}\end{pmatrix}  \\&=\begin{pmatrix}a_x\frac{o_z(o_x+td_x)-o_x(o_z+td_z)}{(o_z+td_z)o_z}\\ a_y\frac{o_z(o_y+td_y)-o_y(o_z+td_z)}{(o_z+td_z)o_z}\\ b_z\frac{o_z-(o_z+td_z)}{(o_z+td_z)o_z}\end{pmatrix} \\&=\begin{pmatrix}a_x\frac{td_z}{o_z+td_z}\left(\frac{d_x}{d_z}-\frac{o_x}{o_z}\right)\\ a_y\frac{td_z}{o_z+td_z}\left(\frac{d_y}{d_z}-\frac{o_y}{o_z}\right)\\ -b_z\frac{td_z}{o_z+td_z}\frac{1}{o_z}\end{pmatrix}\end{aligned}</script><p>å¯å¾—ï¼š</p><p>$\begin{aligned}&amp; t^{\prime}=\frac{t d_{z}}{o_{z}+t d_{z}}=1-\frac{o_{z}}{o_{z}+t d_{z}}  \\&amp; \mathbf{d}^{\prime}=\left(\begin{matrix}{a_{x}\left(\frac{d_{x}}{d_{z}}-\frac{o_{x}}{o_{z}}\right)}\\ {o_{y}\left(\frac{d_{y}}{d_{z}}-\frac{o_{y}}{o_{z}}\right)}\\ {-b_{z}\frac{1}{o_{z}}}\end{matrix}\right). \end{aligned}$</p><p>åˆç”±ï¼š</p><p>$\begin{aligned}a_{x}&amp; =-\frac{n}{r}=\frac{f_\mathrm{camera}}{\frac{W}{2}}  \\a_y&amp; =-\frac{n}{t}=\frac{f_{\mathrm{camera}}}{\frac{H}{2}}  \\\lim\limits_{f\to\infty}a_z&amp; =\lim\limits_{f\to\infty}\frac{f+n}{f-n}=1  \\\lim\limits_{f\to\infty}b_z&amp; =\lim\limits_{f\to\infty}-\frac{2nf}{n-f}=2n \end{aligned}$</p><h3 id="ç»“æœï¼š"><a href="#ç»“æœï¼š" class="headerlink" title="ç»“æœï¼š"></a>ç»“æœï¼š</h3><script type="math/tex; mode=display">\begin{aligned}& \mathbf{o}^{\prime}=\left(\begin{matrix}{-\frac{f_{c a m}}{W/2}\frac{o_{x}}{o_{z}}}\\ {-\frac{f_{c a m}}{H/2}\frac{o_{y}}{o_{z}}}\\ {1+\frac{2n}{o_{z}}}\end{matrix}\right)  \\& \mathbf{d}^{\prime}=\left(\begin{matrix}{-\frac{f_{c a m}}{W/2}\left(\frac{d_{x}}{d_{z}}-\frac{o_{x}}{o_{z}}\right)}\\ {-\frac{f_{c a m}}{H/2}\left(\frac{d_{y}}{d_{z}}-\frac{o_{y}}{o_{z}}\right)}\\ {-2n\frac{1}{o_{z}}}\end{matrix}\right). \end{aligned}</script><div class="note info">            <ul><li>in NeRF :<br>One final detail in our implementation: we shift o to the rayâ€™s intersection with the near plane at z = âˆ’n (before this NDC conversion) by taking on = o + tndfor tn = âˆ’(n + oz )/dz . Once we convert to the NDC ray, this allows us to simply sample tâ€² linearly from 0 to 1 in order to get a linear sampling in disparity fromn to âˆ in the original space.</li><li>TL;DR: åœ¨NDCå˜æ¢ä¹‹å‰ï¼Œå°†oç§»åŠ¨åˆ°è¿‘å¹³é¢z=-nçš„åœ°æ–¹ï¼Œä»¤near=0ï¼Œå› æ­¤å¯ä»¥ç®€å•çš„ä»0çº¿æ€§é‡‡æ ·tâ€™åˆ°1ï¼Œä»¥ä¾¿åœ¨åŸå§‹ç©ºé—´ä¸­ä» n åˆ° âˆ çš„è§†å·®ä¸­è·å¾—çº¿æ€§é‡‡æ ·</li><li>å¯¹åº”ä»£ç ä¸­çš„ndc_rayså‡½æ•°</li></ul>          </div>]]></content>
      
      
      <categories>
          
          <category> 3DReconstruction/Multi-view/Implicit Function/NeRF-based </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NeRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo ç®€å•æµç¨‹</title>
      <link href="/Learn/Blog%20Basic/Learn-Hexo2/"/>
      <url>/Learn/Blog%20Basic/Learn-Hexo2/</url>
      
        <content type="html"><![CDATA[<p>Hexoåšå®¢æ­å»ºæ•™ç¨‹ï¼Œå‚è€ƒ<a href="https://space.bilibili.com/384068749">CodeSheep</a>å¤§ä½¬çš„<a href="https://www.bilibili.com/video/BV1Yb411a7ty">è§†é¢‘æ•™ç¨‹</a>ã€‚ä¸»è¦æ˜¯è®°å½•Hexoåšå®¢æ­å»ºå’Œéƒ¨ç½²çš„æ­¥éª¤æµç¨‹ï¼Œæ–¹ä¾¿æ›´åŠ å¿«é€Ÿçš„é…ç½®éƒ¨ç½²ã€‚<br><span id="more"></span></p><blockquote><p><a href="https://www.bilibili.com/video/BV1Yb411a7ty">æ‰‹æŠŠæ‰‹æ•™ä½ ä»0å¼€å§‹æ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢ |æ— å‘ç‰ˆè§†é¢‘æ•™ç¨‹| hexo_å“”å“©å“”å“©_bilibili</a></p></blockquote><h1 id="1-ä¸‹è½½å®‰è£…node-js"><a href="#1-ä¸‹è½½å®‰è£…node-js" class="headerlink" title="1.ä¸‹è½½å®‰è£…node.js"></a>1.ä¸‹è½½å®‰è£…node.js</h1><blockquote><p><a href="http://nodejs.cn/">Node.js ä¸­æ–‡ç½‘ (nodejs.cn)</a></p></blockquote><p><em>å®‰è£…å®Œæˆåï¼ŒæŸ¥çœ‹ç‰ˆæœ¬</em><br><code>npm -v</code><br><code>node -v</code></p><h1 id="2-æ¢é˜¿é‡Œçš„æº"><a href="#2-æ¢é˜¿é‡Œçš„æº" class="headerlink" title="2.æ¢é˜¿é‡Œçš„æº"></a>2.æ¢é˜¿é‡Œçš„æº</h1><p><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p><p><em>å®Œæˆcnpmçš„å®‰è£…ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬</em><br><code>cnpm -v</code></p><h1 id="3-å®‰è£…hexoåšå®¢æ¡†æ¶"><a href="#3-å®‰è£…hexoåšå®¢æ¡†æ¶" class="headerlink" title="3.å®‰è£…hexoåšå®¢æ¡†æ¶"></a>3.å®‰è£…hexoåšå®¢æ¡†æ¶</h1><p><code>cnpm install -g hexo-cli</code> æœ€å¥½ä¸è¦ç”¨ï¼Œæ›¿æ¢ä¸º<code>npm install</code>æ¥æ ¹æ®package-lock.jsonä¸­çš„é…ç½®æ¥å®‰è£…ç¯å¢ƒ</p><div class="note default">            <p>-g å…¨å±€å®‰è£…<br>-v æŸ¥çœ‹ç‰ˆæœ¬</p>          </div><h1 id="4-æ–°å»ºä¸€ä¸ªhexoåšå®¢"><a href="#4-æ–°å»ºä¸€ä¸ªhexoåšå®¢" class="headerlink" title="4.æ–°å»ºä¸€ä¸ªhexoåšå®¢"></a>4.æ–°å»ºä¸€ä¸ªhexoåšå®¢</h1><ul><li>æ–°å»ºæ–‡ä»¶å¤¹<em>Blog</em>(ä»»æ„ä¸€ä¸ªåå­—)</li><li>åœ¨è¯¥ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯è¾“å…¥<code>hexo init</code>å®Œæˆåšå®¢åˆå§‹åŒ–ç”Ÿæˆ</li></ul><h1 id="5-åœ¨æœ¬åœ°å¯åŠ¨åšå®¢"><a href="#5-åœ¨æœ¬åœ°å¯åŠ¨åšå®¢" class="headerlink" title="5.åœ¨æœ¬åœ°å¯åŠ¨åšå®¢"></a>5.åœ¨æœ¬åœ°å¯åŠ¨åšå®¢</h1><p><code>hexo server</code> or <code>hexo s</code></p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p><code>hexo s</code>åæ— æŠ¥é”™ï¼Œä½†æ˜¯æ‰“å¼€æœ¬åœ°ç«¯å£åç½‘é¡µå‡ºç°é”™è¯¯ï¼Œæ˜¾ç¤ºæ­¤ç«™ç‚¹çš„è¿æ¥ä¸å®‰å…¨</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/2022-06-09-09-07-42.png" alt="2022-06-09-09-07-42.png" title="ç”±äºhttpè‡ªåŠ¨å˜æˆhttps"></p><div class="note warning">            <p>æ³¨æ„ï¼šæ˜¯åœ¨<a href="http://localhost:4000/">http://localhost:4000/</a> ä¸Šè¿›è¡Œï¼Œè€Œä¸æ˜¯https </p>          </div><p>æˆ‘çš„é»˜è®¤æµè§ˆå™¨æ—¶Edgeï¼Œä½†æ˜¯Edgeä¼šè‡ªåŠ¨å°†httpè½¬æ¢æˆhttpsï¼Œå¯¼è‡´æ— æ³•åœ¨æœ¬åœ°æŸ¥çœ‹Hexoåšå®¢ï¼Œæ¢æˆChromeåå¯ä»¥è§£å†³ã€‚</p><h1 id="6-æ–°å»ºåšå®¢æ–‡ç« "><a href="#6-æ–°å»ºåšå®¢æ–‡ç« " class="headerlink" title="6.æ–°å»ºåšå®¢æ–‡ç« "></a>6.æ–°å»ºåšå®¢æ–‡ç« </h1><p><code>hexo n &quot;æ–‡ç« é¢˜ç›®&quot;</code></p><p>å†™å®Œä¸€ç¯‡æ–‡ç« å</p><ul><li>æ¸…ç†ä¸€ä¸‹<code>hexo clean</code></li><li>é‡æ–°ç”Ÿæˆ<code>hexo g</code></li></ul><h1 id="7-éƒ¨ç½²åˆ°githubä¸Š"><a href="#7-éƒ¨ç½²åˆ°githubä¸Š" class="headerlink" title="7.éƒ¨ç½²åˆ°githubä¸Š"></a>7.éƒ¨ç½²åˆ°githubä¸Š</h1><h2 id="7-1-åœ¨githubä¸Šæ–°å»ºä¸€ä¸ªä»“åº“"><a href="#7-1-åœ¨githubä¸Šæ–°å»ºä¸€ä¸ªä»“åº“" class="headerlink" title="7.1 åœ¨githubä¸Šæ–°å»ºä¸€ä¸ªä»“åº“"></a>7.1 åœ¨githubä¸Šæ–°å»ºä¸€ä¸ªä»“åº“</h2><p>ä»“åº“åå­—ï¼š<code>ç”¨æˆ·å.github.io</code></p><h2 id="7-2-åœ¨Blogæ–‡ä»¶å¤¹ä¸‹å®‰è£…deployer"><a href="#7-2-åœ¨Blogæ–‡ä»¶å¤¹ä¸‹å®‰è£…deployer" class="headerlink" title="7.2 åœ¨Blogæ–‡ä»¶å¤¹ä¸‹å®‰è£…deployer"></a>7.2 åœ¨Blogæ–‡ä»¶å¤¹ä¸‹å®‰è£…deployer</h2><p><code>cnpm install --save hexo-deployer-git</code></p><h2 id="7-3-åœ¨Blogæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€-config-ymlæ–‡ä»¶"><a href="#7-3-åœ¨Blogæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€-config-ymlæ–‡ä»¶" class="headerlink" title="7.3 åœ¨Blogæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€_config.ymlæ–‡ä»¶"></a>7.3 åœ¨Blogæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€_config.ymlæ–‡ä»¶</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Â Deployment</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##Â Docs:Â https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"></span><br><span class="line">Â Â <span class="string">type:</span>Â <span class="string">&#x27;git&#x27;</span></span><br><span class="line"></span><br><span class="line">Â Â <span class="string">repo:</span>Â <span class="string">&#x27;https://github.com/yq010105/yq010105.github.io.git&#x27;</span></span><br><span class="line"></span><br><span class="line">Â Â <span class="string">branch:</span>Â <span class="string">&#x27;master&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="7-4-ç„¶åå°†Blogéƒ¨ç½²åˆ°githubä¸­"><a href="#7-4-ç„¶åå°†Blogéƒ¨ç½²åˆ°githubä¸­" class="headerlink" title="7.4 ç„¶åå°†Blogéƒ¨ç½²åˆ°githubä¸­"></a>7.4 ç„¶åå°†Blogéƒ¨ç½²åˆ°githubä¸­</h2><p><code>hexo d</code></p><h1 id="Last"><a href="#Last" class="headerlink" title="Last"></a>Last</h1><p>ä½¿ç”¨Hexoåšå®¢æ–¹æ³•<br>åœ¨å†™å®Œæ–‡ç« åï¼š</p><ul><li><code>hexo clean</code>æ¸…é™¤</li><li><code>hexo g</code>ç”Ÿæˆ</li><li><code>hexo s</code>åœ¨æœ¬åœ°é¢„è§ˆï¼Œåœ¨<a href="http://localhost:4000/">http://localhost:4000/</a> ä¸­æŸ¥çœ‹</li><li><code>hexo d</code>æ¨åˆ°githubä¸Šï¼Œåœ¨<a href="https://yq010105.github.io/">Hexo (yq010105.github.io)</a>ä¸­æŸ¥çœ‹</li></ul><h1 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h1><h2 id="Nextä¸»é¢˜å†…ç½®æ ‡ç­¾-Callout"><a href="#Nextä¸»é¢˜å†…ç½®æ ‡ç­¾-Callout" class="headerlink" title="Nextä¸»é¢˜å†…ç½®æ ‡ç­¾ Callout"></a>Nextä¸»é¢˜å†…ç½®æ ‡ç­¾ Callout</h2><p><code>&#123;% note class_name %&#125; Content (md partial supported) &#123;% endnote %&#125;</code><br>å…¶ä¸­ï¼Œclass_name å¯ä»¥æ˜¯ä»¥ä¸‹åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼š</p><ul><li>default</li><li>primary</li><li>success</li><li>info</li><li>warning</li><li>danger</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609172943.png" alt="20220609172943.png" title="å†…ç½®æ ‡ç­¾é¢„è§ˆ"></p><div class="note default">            <p>default</p>          </div><div class="note primary">            <p>primary</p>          </div><div class="note success">            <p>success</p>          </div><div class="note info">            <p>info</p>          </div><div class="note warning">            <p>warning</p>          </div><div class="note danger">            <p>danger</p>          </div>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arduinoå­¦ä¹ </title>
      <link href="/Learn/Embedded%20system/Arduino/"/>
      <url>/Learn/Embedded%20system/Arduino/</url>
      
        <content type="html"><![CDATA[<p>Arduinoå­¦ä¹ </p><span id="more"></span><h1 id="1-å…¥é—¨"><a href="#1-å…¥é—¨" class="headerlink" title="1. å…¥é—¨"></a>1. å…¥é—¨</h1><ul><li>æ•°å­—IO</li><li>æ¨¡æ‹ŸIO</li><li>ä¸²å£IO</li></ul><p><strong>è¾“å…¥è®¾å¤‡ Input</strong></p><ul><li><p>å¼€å…³åŠŸèƒ½:æŸç§çŠ¶æ€ä¸‹æ¥é€šç”µè·¯<br>ç±»å‹:æ•°å­—è¾“å…¥(å¼€æˆ–å…³)</p></li><li><p>ç”µä½è®¡åŠŸèƒ½:è°ƒèŠ‚æ—‹è½¬ç¨‹åº¦<br>ç±»å‹:æ¨¡æ‹Ÿè¾“å…¥(æ—‹è½¬ä¸åŒå€¼ä¸åŒ)</p></li><li><p>è“ç‰™ä»åŠŸèƒ½:æ— çº¿æ¥æ”¶æ•°æ®<br>ç±»å‹:ä¸²å£è¾“å…¥(å‘Arduinoå‘é€ä¿¡æ¯)</p></li></ul><p><strong>è¾“å‡ºè®¾å¤‡ Output</strong></p><ul><li><p>LEDåŠŸèƒ½:æŒ‡ç¤ºäº®æˆ–ç­<br>ç±»å‹:æ•°å­—è¾“å‡º</p></li><li><p>é©¬è¾¾åŠŸèƒ½:è½¬åŠ¨<br>ç±»å‹:æ¨¡æ‹Ÿè¾“å‡º(è°ƒæ•´è½¬é€Ÿ)</p></li><li><p>è“ç‰™ä¸»åŠŸèƒ½:æ— çº¿å‘é€æ•°æ®<br>ç±»å‹:ä¸²å£è¾“å‡º<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/arduino.png" alt="arduino.png"></p></li></ul><h2 id="1-1-æ³¨é‡Š"><a href="#1-1-æ³¨é‡Š" class="headerlink" title="1.1 æ³¨é‡Š"></a>1.1 æ³¨é‡Š</h2><p><code>/* */</code> æ³¨é‡Š<br><code>int a = 0;</code> è¦æœ‰åˆ†å·ç»“å°¾</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">å¯åŠ¨æ—¶/æŒ‰ä¸‹å¤ä½åè¿è¡Œä¸€æ¬¡</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">æ°¸è¿œé‡å¤è¿è¡Œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-2-å˜é‡"><a href="#1-2-å˜é‡" class="headerlink" title="1.2 å˜é‡"></a>1.2 å˜é‡</h2><p><strong>å˜é‡ç±»å‹</strong></p><ol><li><code>int å˜é‡å</code> æ•´æ•° ï¼Œé»˜è®¤å€¼ä¸º0</li></ol><p><code>int current_temperature</code> cduä¸ºæ•´æ•°å˜é‡<br><code>int current_temperature = 18</code> èµ‹å€¼</p><p>æ•´æ•°çš„èŒƒå›´ä¸º-32,768åˆ°32,767ï¼Œè¶…è¿‡ä¸Šé™ï¼Œè¿”å›åˆ°æœ€ä¸‹é™</p><blockquote><p><a href="http://www.taichi-maker.com/homepage/reference-index/arduino-code-reference/">å˜é‡å‚è€ƒèµ„æ–™-å¤ªæåˆ›å®¢</a></p></blockquote><h3 id="1-2-1-å˜é‡çš„ä½œç”¨åŸŸ"><a href="#1-2-1-å˜é‡çš„ä½œç”¨åŸŸ" class="headerlink" title="1.2.1 å˜é‡çš„ä½œç”¨åŸŸ"></a>1.2.1 å˜é‡çš„ä½œç”¨åŸŸ</h3><p>å…¨å±€å˜é‡ setupå’Œloopå¤–<br>å±€éƒ¨å˜é‡ setupä¸­æˆ–loopä¸­ï¼Œä¸¤ä¸ªä¸åŒå‡½æ•°ä¸­ï¼Œä¸èƒ½äº’ç›¸ä½¿ç”¨</p><h2 id="1-3-å‡½æ•°"><a href="#1-3-å‡½æ•°" class="headerlink" title="1.3 å‡½æ•°"></a>1.3 å‡½æ•°</h2><p><code>pinMode(LED_BUILTIN,OUTPUT);</code> åˆå§‹åŒ–ledæ•°å­—å¼•è„šä¸ºè¾“å‡ºæ¨¡å¼<br><code>pinMode(13,OUTPUT)</code>å¦‚æœUNOä¸­LEDæ¥çš„å¼•è„šä¸º13ï¼Œä¹Ÿå¯ä»¥è¿™æ ·å†™<br><code>digitalWrite(LED_BUILTIN,HIGH);</code> å°†æ•°å­—å¼•è„šå†™ä¸ºé«˜ç”µå¹³ /äº®<br><code>digitalWrite(LED_BUILTIN,LOW);</code>  å°†æ•°å­—å¼•è„šå†™ä¸ºä½ç”µå¹³ /ç­<br><code>delay(1000);</code> å»¶æ—¶ç­‰å¾…1ç§’</p><blockquote><p><a href="http://www.taichi-maker.com/homepage/reference-index/arduino-code-reference/">å‡½æ•°å‚è€ƒèµ„æ–™-å¤ªæåˆ›å®¢</a></p></blockquote><h2 id="1-4-æ•°å­—è¾“å‡º"><a href="#1-4-æ•°å­—è¾“å‡º" class="headerlink" title="1.4 æ•°å­—è¾“å‡º"></a>1.4 æ•°å­—è¾“å‡º</h2><p>LEDå‘å…‰äºŒæç®¡<br>OUTPUT</p><h2 id="1-5-æ•°å­—è¾“å…¥"><a href="#1-5-æ•°å­—è¾“å…¥" class="headerlink" title="1.5 æ•°å­—è¾“å…¥"></a>1.5 æ•°å­—è¾“å…¥</h2><p>å¼€å…³ï¼Œè¾“å…¥ä¿¡å·<br>INPUTï¼Œè¯†åˆ«HIGHå’ŒLOWä¸¤ç§çŠ¶æ€<br>å¼•è„šæ‚¬ç©ºfloating</p><p><code>int pushButton = 2;</code> ç»™å¼•è„š2å–ä¸€ä¸ªåå­—<br><code>pinMode(pushButton,INPUT);</code> åˆå§‹åŒ–2æ•°å­—å¼•è„šä¸ºè¾“å…¥æ¨¡å¼</p><p><code>Serial.begin(9600);</code> å¯åŠ¨ä¸²å£é€šè®¯ ï¼Œæ¯ç§’9600ä½<br><code>Serial.println(button);</code>æ˜¾ç¤ºæŒ‰é”®çŠ¶æ€</p><p><code>int buttonState = digitalRead(pushButton);</code></p><p><code>digitalRead(è¢«è¯»å¼•è„šå·ç )</code>è¯»å–æ•°å­—å¼•è„šçš„ç”µå¹³çŠ¶æ€ï¼Œè¿”å›HIGH/LOWå€¼ï¼Œ1/0</p><h2 id="1-6-è¾“å…¥ä¸Šæ‹‰æ¨¡å¼"><a href="#1-6-è¾“å…¥ä¸Šæ‹‰æ¨¡å¼" class="headerlink" title="1.6 è¾“å…¥ä¸Šæ‹‰æ¨¡å¼"></a>1.6 è¾“å…¥ä¸Šæ‹‰æ¨¡å¼</h2><p>INPUT_PULLUP</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pinMode</span>(<span class="number">2</span>, INPUT_PULLUP); - <span class="number">2</span>å¼•è„šä¸ºå¼€å…³è¾“å…¥ä¸Šæ‹‰</span><br><span class="line"><span class="built_in">pinMode</span>(<span class="number">13</span>, OUTPUT); - <span class="number">13</span>å¼•è„šä¸ºè¾“å‡ºLED</span><br></pre></td></tr></table></figure><p><code>int sensorVal = digitalRead(2)</code> å°†å¼€å…³çŠ¶æ€æ•°å€¼è¯»å–åˆ°å˜é‡ä¸­</p><p>ä¸Šæ‹‰æ¨¡å¼:å¼€å…³æ–­å¼€-é«˜ç”µå¹³ï¼Œå¼€å…³é—­åˆ-ä½ç”µå¹³</p><p>sensorVal é«˜ç”µå¹³ - å¼€å…³æ–­å¼€ - 13è¾“å‡ºLOW</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (sensorVal == HIGH) &#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, LOW);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, HIGH);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…³ç³»è¿ç®—ç¬¦ ï¼š <code>==</code>ç­‰äº <code>!=</code>ä¸ç­‰äº</p><h2 id="1-7-booleanè¿ç®—ç¬¦"><a href="#1-7-booleanè¿ç®—ç¬¦" class="headerlink" title="1.7 booleanè¿ç®—ç¬¦"></a>1.7 booleanè¿ç®—ç¬¦</h2><p><code>&amp;&amp;</code> ä¸ ã€ <code>||</code> æˆ– ã€ <code>!</code> é</p><p><strong>é</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">boolean pushButton;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(<span class="number">2</span>,INPUT_PULLUP);</span><br><span class="line">  <span class="built_in">pinMode</span>(<span class="number">13</span>,OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  pushButton = <span class="built_in">digitalRead</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">/*é€»è¾‘éè¿ç®—*/</span></span><br><span class="line">  <span class="keyword">if</span> (!pushButton) &#123;</span><br><span class="line">    <span class="built_in">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="comment">/*pushButton ä¸ºfalse ï¼Œåˆ™ç‚¹äº®LED*/</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">digitalWrite</span>(<span class="number">13</span>, LOW);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ifæ‹¬å·ä¸­å¦‚æœä¸º1.è¿è¡Œifåç¨‹åºï¼Œå¦‚æœä¸º0ï¼Œåˆ™è¿è¡Œelse*/</span></span><br></pre></td></tr></table></figure></p><p><strong>ä¸</strong> ï¼š éƒ½çœŸï¼Œæ‰çœŸ<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">boolean pushButton1;</span><br><span class="line">boolean pushButton2;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(<span class="number">2</span>,INPUT_PULLUP);</span><br><span class="line">  <span class="built_in">pinMode</span>(<span class="number">8</span>,INPUT_PULLUP);</span><br><span class="line">  <span class="built_in">pinMode</span>(<span class="number">13</span>,OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  pushButton1 = <span class="built_in">digitalRead</span>(<span class="number">2</span>);</span><br><span class="line">  pushButton2 = <span class="built_in">digitalRead</span>(<span class="number">8</span>);</span><br><span class="line"><span class="comment">/*é€»è¾‘ä¸è¿ç®—*/</span></span><br><span class="line">  <span class="keyword">if</span> (!pushButton1 &amp;&amp; !push Button) &#123;</span><br><span class="line">    <span class="built_in">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="comment">/*1å’Œ2éƒ½æ˜¯1ï¼Œæ‰ä¼šç‚¹äº®*/</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">digitalWrite</span>(<span class="number">13</span>, LOW);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>æˆ–</strong> ï¼šåªè¦æœ‰ä¸€ä¸ªä¸ºçœŸï¼Œå°±æ˜¯çœŸ</p><h2 id="1-8-LEDæ•°ç ç®¡"><a href="#1-8-LEDæ•°ç ç®¡" class="headerlink" title="1.8 LEDæ•°ç ç®¡"></a>1.8 LEDæ•°ç ç®¡</h2><p>ä¸€ä½8æ®µå…±é˜´ææ•°ç ç®¡</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/led.png" alt="led.png"></p><p>ä¸åŒå¼•è„šç»™å‡ºé«˜ç”µå¹³ï¼Œå°±èƒ½æ˜¾ç¤ºä¸åŒçš„æ•°å­—</p><h1 id="2-åŸºç¡€çŸ¥è¯†å­¦ä¹ "><a href="#2-åŸºç¡€çŸ¥è¯†å­¦ä¹ " class="headerlink" title="2. åŸºç¡€çŸ¥è¯†å­¦ä¹ "></a>2. åŸºç¡€çŸ¥è¯†å­¦ä¹ </h1><h2 id="2-1-å¾ªç¯"><a href="#2-1-å¾ªç¯" class="headerlink" title="2.1 å¾ªç¯"></a>2.1 å¾ªç¯</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> pinNumber = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span>(pinNumber &lt;=<span class="number">9</span>&gt;)&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(pinNumber, OUTPUT);</span><br><span class="line">  pinNumber = pinNumber +<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*do while*/</span></span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;<span class="keyword">while</span>(è¡¨è¾¾å¼);</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> brightness = <span class="number">0</span> ; brightness &lt;=<span class="number">255</span> ; brightness++) &#123;</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-2-if"><a href="#2-2-if" class="headerlink" title="2.2 if"></a>2.2 if</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!pushButton) &#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="comment">/*pushButton ä¸ºfalse ï¼Œåˆ™ç‚¹äº®LED*/</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, LOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!pushButton) &#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, HIGH); <span class="comment">/*pushButton ä¸ºfalse ï¼Œåˆ™ç‚¹äº®LED*/</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> &#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, LOW);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-3-switchâ€¦case"><a href="#2-3-switchâ€¦case" class="headerlink" title="2.3 switchâ€¦case"></a>2.3 switchâ€¦case</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (var) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="comment">//å½“varç­‰äº1æ—¶æ‰§è¡Œè¿™é‡Œçš„ç¨‹åº</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="comment">//å½“varç­‰äº2æ—¶æ‰§è¡Œè¿™é‡Œçš„ç¨‹åº</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">// å¦‚æœvarçš„å€¼ä¸ä»¥ä¸Šcaseä¸­çš„å€¼éƒ½ä¸åŒ¹é…</span></span><br><span class="line">        <span class="comment">// åˆ™æ‰§è¡Œè¿™é‡Œçš„ç¨‹åº</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-4-random"><a href="#2-4-random" class="headerlink" title="2.4 random()"></a>2.4 random()</h2><p><code>random(0,4)</code> 0/1/2/3éšæœºæ•°</p><h2 id="2-5-è‡ªå®šä¹‰å‡½æ•°"><a href="#2-5-è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="2.5 è‡ªå®šä¹‰å‡½æ•°"></a>2.5 è‡ªå®šä¹‰å‡½æ•°</h2><p>ä¸å¸¦å‚æ•°<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayClear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">3</span>,LOW);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">4</span>,LOW);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">5</span>,LOW);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">7</span>,LOW);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">8</span>,LOW);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">9</span>,LOW);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="built_in">displayClear</span>()  <span class="comment">/*è°ƒç”¨å‡½æ•°*/</span></span><br></pre></td></tr></table></figure></p><p>å¸¦å‚æ•°<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayNumber</span><span class="params">(<span class="type">int</span> ledNumber)</span> </span>&#123;</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">displayNumber</span><span class="params">(<span class="type">int</span> ledNumber , <span class="type">long</span> ledNumber2)</span> </span>&#123;</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*è°ƒç”¨*/</span></span><br><span class="line"><span class="built_in">displayNumber</span>(myNumber);</span><br></pre></td></tr></table></figure></p><p>å¸¦å‚æ•°ï¼Œå¸¦è¿”å›å€¼<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">getRandomNumber</span><span class="params">(<span class="type">int</span> minNumber, <span class="type">int</span> maxNumber)</span></span>&#123;</span><br><span class="line">  <span class="type">int</span> randomNumber;</span><br><span class="line">  randomNumber = <span class="built_in">random</span>(minNumber, maxNumber);</span><br><span class="line">  <span class="keyword">return</span> randomNumber</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*è¿”å›randomNumber*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line"><span class="comment">/*è¿”å›0*/</span></span><br></pre></td></tr></table></figure></p><p><code>randomSeed(analogRead(A0))</code>æ¥è‡ªA0å¼•è„šæ¨¡æ‹Ÿè¾“å…¥çš„æ•°å€¼ä½œä¸ºéšæœºç§å­</p><h2 id="2-6-ä¸²å£ç›‘è§†å™¨"><a href="#2-6-ä¸²å£ç›‘è§†å™¨" class="headerlink" title="2.6 ä¸²å£ç›‘è§†å™¨"></a>2.6 ä¸²å£ç›‘è§†å™¨</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Serial.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">Serial.<span class="built_in">print</span>(<span class="string">&quot;å˜é‡çš„å€¼æ˜¯&quot;</span>); <span class="comment">/*å­—ç¬¦ä¸²*/</span></span><br><span class="line">Serial.<span class="built_in">println</span>(bianliang); <span class="comment">/*å˜é‡*/</span></span><br><span class="line">serial.<span class="built_in">println</span>(<span class="string">&quot;&quot;</span>); <span class="comment">/*ç©ºç™½è¡Œ*/</span></span><br></pre></td></tr></table></figure><h2 id="2-7-æ¨¡æ‹Ÿè¾“å‡º"><a href="#2-7-æ¨¡æ‹Ÿè¾“å‡º" class="headerlink" title="2.7 æ¨¡æ‹Ÿè¾“å‡º"></a>2.7 æ¨¡æ‹Ÿè¾“å‡º</h2><p>å¯ä»¥ä¸ç”¨<code>pinMode()</code></p><p><code>analogWrite(ledPin, brightness)</code><br><code>analogWrite(å¼•è„šç¼–å·, å‚æ•°)</code></p><h2 id="2-8-PWM"><a href="#2-8-PWM" class="headerlink" title="2.8 PWM"></a>2.8 PWM</h2><p><code>analogWrite(ledPin, 127)</code> 50%äº®åº¦</p><p>2æ¯«ç§’å†…ï¼Œ50%é«˜ç”µå¹³ï¼Œ50%ä½ç”µå¹³</p><p>PWMè„‰å†²å®½åº¦è°ƒåˆ¶</p><h2 id="2-9-ç”µä½å™¨æ¨¡æ‹Ÿè¾“å…¥"><a href="#2-9-ç”µä½å™¨æ¨¡æ‹Ÿè¾“å…¥" class="headerlink" title="2.9 ç”µä½å™¨æ¨¡æ‹Ÿè¾“å…¥"></a>2.9 ç”µä½å™¨æ¨¡æ‹Ÿè¾“å…¥</h2><p>ç”µä½å™¨ï¼Œæ—‹é’®æ”¹å˜R1ï¼ŒR2æ¯”å€¼<br>R1 + R2 = å›ºå®šå€¼</p><p>3ä¸ªå¼•è„šï¼Œ1æ¥åœ°ï¼Œ2æ¥è¾“å…¥å¼•è„šï¼Œ3æ¥5Vå¼•è„š</p><p>æ—‹é’®æ—‹è½¬æ¥æ”¹å˜ç¬¬2å¼•è„šçš„ç”µä½ï¼Œ</p><p><code>analogRead(å¼•è„šå·ç )</code></p><p><code>analogRead(A0)</code><strong>è¯»å–</strong>æ¨¡æ‹Ÿè¾“å…¥å¼•è„šæ•°å€¼ï¼Œå°†<strong>0-5V</strong>çš„ç”µå‹è¾“å…¥ä¿¡å·æ˜ å°„åˆ°æ•°å€¼<strong>0-1023</strong></p><p>å°†5Våˆ†ä¸º1024ä»½ï¼Œ 2.5V å¯¹åº”æ•°å€¼ 512<br>å¼•è„šè¾“å…¥èŒƒå›´å¯ä»¥ä½¿ç”¨analogReference()è¿›è¡Œè°ƒæ•´</p><blockquote><blockquote><p><a href="http://www.taichi-maker.com/homepage/reference-index/arduino-code-reference/analogread/">å¤ªæåˆ›å®¢è§£é‡Š</a></p></blockquote></blockquote><h2 id="2-10-ç­‰æ¯”æ˜ å°„"><a href="#2-10-ç­‰æ¯”æ˜ å°„" class="headerlink" title="2.10 ç­‰æ¯”æ˜ å°„"></a>2.10 ç­‰æ¯”æ˜ å°„</h2><p><code>map(analogInputVal, 0 ,1023 , 0 , 255);</code></p><p>å°†0-1023æ˜ å°„åˆ°0-255</p><h1 id="3-æ¨¡å—å­¦ä¹ "><a href="#3-æ¨¡å—å­¦ä¹ " class="headerlink" title="3. æ¨¡å—å­¦ä¹ "></a>3. æ¨¡å—å­¦ä¹ </h1><h2 id="3-ESP8266å…¥é—¨"><a href="#3-ESP8266å…¥é—¨" class="headerlink" title="3. ESP8266å…¥é—¨"></a>3. ESP8266å…¥é—¨</h2><p>ä½¿ç”¨arduinoç ”ç©¶esp8266</p><h1 id="4-å¼€å§‹å­¦åº“"><a href="#4-å¼€å§‹å­¦åº“" class="headerlink" title="4. å¼€å§‹å­¦åº“"></a>4. å¼€å§‹å­¦åº“</h1><h2 id="4-1-servo"><a href="#4-1-servo" class="headerlink" title="4.1 servo"></a>4.1 servo</h2>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#-Note</title>
      <link href="/Learn/Other%20Interest/Learn-Csharp/"/>
      <url>/Learn/Other%20Interest/Learn-Csharp/</url>
      
        <content type="html"><![CDATA[<p>å­¦ä¹  C#çš„ç¬”è®°</p><span id="more"></span><blockquote><p>å‚è€ƒ<a href="https://www.bilibili.com/video/BV1wx411K7rb">b ç«™çš„æ¬è¿è§†é¢‘å­¦ä¹ </a><br>åŸè§†é¢‘æ˜¯ YouTube ä¸Šçš„<a href="https://www.youtube.com/watch?v=EgIbwCnQ680&amp;list=PLZX6sKChTg8GQxnABqxYGX2zLs4Hfa4Ca">åˆ˜é“çŒ›è€å¸ˆå½•åˆ¶çš„æ•™ç¨‹</a><br>Timothy Liu è€å¸ˆæ–°ä¸€æœŸ C#æ•™ç¨‹çš„<a href="https://www.youtube.com/watch?v=HF3JGXV07Uo&amp;list=PLZX6sKChTg8HP3MF9d8CEc3nrtEpiQ4Jf">C#è¯­è¨€å…¥é—¨è¯¦è§£ã€‹ç¬¬äºŒå­£</a></p></blockquote><p>è¿˜å‘ç°åˆ˜è€å¸ˆè¿˜åšäº† Python çš„æ•™ç¨‹ï¼Œæœ‰æœºä¼šå»çœ‹çœ‹<a href="https://www.youtube.com/watch?v=i3TYCCY2WSE&amp;list=PLZX6sKChTg8HyHfrmk97iblmsQLrlRHxn">pandas ç©è½¬ excel</a></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609173231.png" alt="20220609173231.png"></p><h1 id="0-C-å­¦ä¹ å‰çš„-bb"><a href="#0-C-å­¦ä¹ å‰çš„-bb" class="headerlink" title="0. C#å­¦ä¹ å‰çš„ bb"></a>0. C#å­¦ä¹ å‰çš„ bb</h1><p>C# çª—ä½“åº”ç”¨ï¼Œæˆ‘çš„åˆæ­¥æ„Ÿå—å°±æ˜¯ VB+Javaï¼ˆç‹—å¤´ï¼‰<br>VB ç°åœ¨æ­£åœ¨å­¦ï¼Œä½†æ˜¯ Java æ˜¯æ²¡å­¦è¿‡ hhh</p><p>C# æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œç„¶è€Œ C# è¿›ä¸€æ­¥æä¾›äº†å¯¹é¢å‘ç»„ä»¶ (component-oriented) ç¼–ç¨‹çš„æ”¯æŒã€‚ç°ä»£è½¯ä»¶è®¾è®¡æ—¥ç›Šä¾èµ–äºè‡ªåŒ…å«å’Œè‡ªæè¿°åŠŸèƒ½åŒ…å½¢å¼çš„è½¯ä»¶ç»„ä»¶ã€‚è¿™ç§ç»„ä»¶çš„å…³é”®åœ¨äºï¼Œå®ƒä»¬é€šè¿‡å±æ€§ã€æ–¹æ³•å’Œäº‹ä»¶æ¥æä¾›ç¼–ç¨‹æ¨¡å‹ï¼›å®ƒä»¬å…·æœ‰æä¾›äº†å…³äºç»„ä»¶çš„å£°æ˜æ€§ä¿¡æ¯çš„ç‰¹æ€§ï¼›åŒæ—¶ï¼Œå®ƒä»¬è¿˜ç¼–å…¥äº†è‡ªå·±çš„æ–‡æ¡£ã€‚C# æä¾›çš„è¯­è¨€æ„é€ ç›´æ¥æ”¯æŒè¿™äº›æ¦‚å¿µï¼Œè¿™ä½¿å¾— C# è¯­è¨€è‡ªç„¶è€Œç„¶æˆä¸ºåˆ›å»ºå’Œä½¿ç”¨è½¯ä»¶ç»„ä»¶ä¹‹é€‰ã€‚ï¼ˆcopy from _csharp language specification 5.0 ä¸­æ–‡_ï¼‰</p><h1 id="1-è¯­è¨€æ ‡å‡†çš„â€”â€”hello-world"><a href="#1-è¯­è¨€æ ‡å‡†çš„â€”â€”hello-world" class="headerlink" title="1. è¯­è¨€æ ‡å‡†çš„â€”â€”hello world!!!"></a>1. è¯­è¨€æ ‡å‡†çš„â€”â€”hello world!!!</h1><h2 id="1-1-Console"><a href="#1-1-Console" class="headerlink" title="1.1 Console"></a>1.1 Console</h2><p>æ§åˆ¶å°.NET Framework</p><p><code>Console.WriteLine(&quot;Hello World!!!&quot;);</code></p><h2 id="1-2-WPF"><a href="#1-2-WPF" class="headerlink" title="1.2 WPF"></a>1.2 WPF</h2><p>æ–°çš„ windows formsï¼ˆå¤§æ¦‚ï¼‰,æ„Ÿè§‰å°±æ˜¯æ›´é«˜çº§çš„ VBï¼Œæ›´è‡ªç”±æ›´ç¾è§‚çš„ç•Œé¢å¼€å‘<br>è·Ÿ windows forms ä¸€æ ·</p><p><code>textBoxShowHello.Text = &quot;Hello World!&quot;;</code></p><h3 id="WPF-App-NET"><a href="#WPF-App-NET" class="headerlink" title="WPF App(.NET)"></a>WPF App(.NET)</h3><p>è·Ÿ VB å¾ˆåƒï¼Œæ‹–æ‹½æ§ä»¶ï¼Œç¼–å†™æ§ä»¶ç¨‹åºï¼Œè®¾è®¡ç•Œé¢ï¼Œæ‰€è§å³æ‰€å¾—ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/2022-06-09-14-56-30.png" alt="2022-06-09-14-56-30.png" title="Visual Studioçš„WPF Appé¡¹ç›®ç•Œé¢"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/2022-06-09-15-00-46.png" alt="2022-06-09-15-00-46.png" title="HelloWorld-program"></p><h2 id="1-3-Windows-Forms-App-old"><a href="#1-3-Windows-Forms-App-old" class="headerlink" title="1.3 Windows Forms App(old)"></a>1.3 Windows Forms App(old)</h2><p>çª—ä½“ç¨‹åºï¼Œå­¦è¿‡ä¸€ç‚¹ VBï¼Œæ— æ‰€ç•æƒ§</p><p>button<br><code>textBoxShowHello.Text = &quot;Hello World!&quot;;</code></p><h2 id="1-4-ASP-NET-Web-Forms-old"><a href="#1-4-ASP-NET-Web-Forms-old" class="headerlink" title="1.4 ASP.NET Web Forms(old)"></a>1.4 ASP.NET Web Forms(old)</h2><p>ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œç½‘é¡µ<br>Controller ä¸­<br><code>&lt;h1&gt;Hello World!&lt;h1&gt;</code></p><h2 id="1-5-ASP-NET-MVC"><a href="#1-5-ASP-NET-MVC" class="headerlink" title="1.5 ASP.NET MVC"></a>1.5 ASP.NET MVC</h2><p>ç¨‹åºå¼€å‘æ¶æ„ï¼Œå¯ä»¥å°†ä¸åŒè¯­è¨€çš„ä»£ç æ”¾åœ¨ä¸åŒçš„ç›®å½•ä¸­<br>Controller ä¸­<br><code>&lt;h1&gt;Hello World!&lt;h1&gt;</code></p><h2 id="1-6-WCF"><a href="#1-6-WCF" class="headerlink" title="1.6 WCF"></a>1.6 WCF</h2><p>çº¯ç½‘ç»œæœåŠ¡ï¼Œè¯»å–æ•°æ®åº“ã€å‘æ•°æ®åº“è¾“å…¥æ•°æ®</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">SayHello</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;hello world!!!&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-7-Windows-Store-Application"><a href="#1-7-Windows-Store-Application" class="headerlink" title="1.7 Windows Store Application"></a>1.7 Windows Store Application</h2><p>å¹³æ¿ç”µè„‘,ä¹Ÿæ˜¯çª—ä½“è®¾è®¡<br><code>textBoxShowHello.Text = &quot;Hello World!!!&quot;;</code></p><h2 id="1-8-Windows-Phone-Application-å·²ç»å‡‰é€äº†ï¼Ÿï¼Ÿï¼Ÿ"><a href="#1-8-Windows-Phone-Application-å·²ç»å‡‰é€äº†ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="1.8 Windows Phone Application(å·²ç»å‡‰é€äº†ï¼Ÿï¼Ÿï¼Ÿ)"></a>1.8 Windows Phone Application(å·²ç»å‡‰é€äº†ï¼Ÿï¼Ÿï¼Ÿ)</h2><p><code>textBoxShowHello.Text = &quot;Hello World!!!&quot;;</code></p><h2 id="1-9-Cloud"><a href="#1-9-Cloud" class="headerlink" title="1.9 Cloud"></a>1.9 Cloud</h2><p>äº‘è®¡ç®— Azure<br><code>&lt;h1&gt;Hello World!&lt;h1&gt;</code></p><h2 id="1-10-WF"><a href="#1-10-WF" class="headerlink" title="1.10 WF"></a>1.10 WF</h2><p>çª—ä½“è®¾è®¡<br>ç›´æ¥åœ¨ writeline æ§ä»¶é‡Œå†™<br><code>&quot;hello world!!!&quot;</code></p><hr><h1 id="2-ç±»ä¸åç§°ç©ºé—´"><a href="#2-ç±»ä¸åç§°ç©ºé—´" class="headerlink" title="2. ç±»ä¸åç§°ç©ºé—´"></a>2. ç±»ä¸åç§°ç©ºé—´</h1><p><strong>class &amp; namespace</strong></p><h2 id="2-1-å‰–æ-Hello-World-ç¨‹åº"><a href="#2-1-å‰–æ-Hello-World-ç¨‹åº" class="headerlink" title="2.1 å‰–æ Hello World ç¨‹åº"></a>2.1 å‰–æ Hello World ç¨‹åº</h2><ul><li>ç±»æ˜¯æ„æˆç¨‹åºçš„ä¸»ä½“</li><li>åç§°ç©ºé—´æ˜¯ä»¥æ ‘å‹ç»“æ„ç»„ç»‡ç±»ï¼ˆå’Œå…¶ä»–ç±»å‹ï¼‰ï¼Œå¦‚ Button ç±»å’Œ Path ç±»</li></ul><p>Console App : <code>Console.WriteLine(&quot;Hello World~&quot;);</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ConsoleApphello</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±» class <code>Program</code>(è‡ªå·±å†™çš„)å’Œ<code>Console</code>(è°ƒç”¨ C#çš„ç±»)<br>ä½¿ç”¨ Console ç±»ä¸­çš„<code>WriteLine</code>æ–¹æ³•æ¥è¿›è¡Œ print</p><p>åç§°ç©ºé—´ namespace <code>HelloWorld</code>ï¼Œé»˜è®¤è·Ÿåˆ›å»º project æ—¶åç§°ä¸€æ ·</p><p><strong>æ ¸å¿ƒç†è§£ï¼š</strong></p><p><strong>åˆå¦‚<code>System</code>åç§°ç©ºé—´ä¸­çš„<code>Console</code>ç±»ï¼Œç±»ä¸­çš„<code>WriteLine</code>æ–¹æ³•</strong></p><p><strong><code>using System</code></strong> è·Ÿ python ä¸­çš„<code>import</code>å·®ä¸å¤šï¼Œå°†ç±»å¼•ç”¨åˆ°è‡ªå·±çš„ç¨‹åºä¸­</p><p>å°±æ˜¯ï¼š<br>æœ‰<code>using System;</code> ç›´æ¥ç”¨<code>Console.WriteLine</code><br>æ²¡æœ‰<code>using System;</code>åˆ™å¿…é¡»ç”¨<code>System.Console.WriteLine</code></p><h2 id="2-2-ç±»åº“"><a href="#2-2-ç±»åº“" class="headerlink" title="2.2 ç±»åº“"></a>2.2 ç±»åº“</h2><p>ç±»åº“çš„å¼•ç”¨å¯ä»¥åˆ†ä¸ºä¸¤ç§</p><ul><li>é»‘ç›’ DLL å¼•ç”¨ï¼ˆæ— æºä»£ç ï¼‰</li><li>ç™½ç›’ é¡¹ç›®ç›´æ¥å¼•ç”¨ï¼ˆæœ‰æºä»£ç ï¼‰</li></ul><h3 id="é»‘ç›’ï¼š"><a href="#é»‘ç›’ï¼š" class="headerlink" title="é»‘ç›’ï¼š"></a>é»‘ç›’ï¼š</h3><h4 id="a-æœ¬åœ°å¼•ç”¨"><a href="#a-æœ¬åœ°å¼•ç”¨" class="headerlink" title="a.æœ¬åœ°å¼•ç”¨"></a>a.æœ¬åœ°å¼•ç”¨</h4><p>ä»å…¶ä»–äººæ‰‹ä¸­è·å¾— dll ç±»åº“å’Œ doc æ–‡æ¡£ï¼Œæ¥è¿›è¡Œå¼•ç”¨</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609192636.png" alt="20220609192636.png"></p><p>æµè§ˆæ‰“å¼€ dll æ–‡ä»¶ï¼Œå³å¯å¼•ç”¨ç±»åº“</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609192848.png" alt="20220609192848.png"></p><h4 id="b-ç½‘ç»œå¼•ç”¨"><a href="#b-ç½‘ç»œå¼•ç”¨" class="headerlink" title="b.ç½‘ç»œå¼•ç”¨"></a>b.ç½‘ç»œå¼•ç”¨</h4><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609194354.png" alt="20220609194354.png"></p><p>é»‘ç›’å¼•ç”¨æ— æ³•ä¿®æ”¹ dll ä¸­çš„é”™è¯¯</p><h4 id="c-NuGet-æ·»åŠ ç±»åº“"><a href="#c-NuGet-æ·»åŠ ç±»åº“" class="headerlink" title="c.NuGet æ·»åŠ ç±»åº“"></a>c.NuGet æ·»åŠ ç±»åº“</h4><p>æ‰‹åŠ¨æ·»åŠ ç½‘ç»œç±»åº“æ—¶ï¼Œå¯èƒ½å¼•ç”¨çš„æŸä¸ªç±»åº“è¿˜ä¾èµ–ç€å…¶ä»–çš„åº•å±‚ç±»åº“ï¼Œéœ€è¦å°†è¯¥ç±»åº“çš„æ‰€æœ‰ä¾èµ–ç±»åº“ä¹Ÿä¸€èµ·å¼•ç”¨è¿›æ¥ï¼Œå¾ˆéº»çƒ¦ã€‚</p><p>ä½¿ç”¨ NuGet å¯ä»¥å°†éœ€è¦å¼•ç”¨çš„ç±»åº“ä¸å…¶ä¾èµ–çš„åº•å±‚ç±»åº“ä¸€èµ·æ‰“åŒ…å¼•ç”¨è¿›æ¥ï¼Œ_æœ‰ç‚¹åƒ Pycharm ä¸­çš„å®‰è£…è½®å­ï¼Œpipï¼Ÿ_<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609200539.png" alt="20220609200539.png"></p><h3 id="ç™½ç›’ï¼š"><a href="#ç™½ç›’ï¼š" class="headerlink" title="ç™½ç›’ï¼š"></a>ç™½ç›’ï¼š</h3><p><strong>ä¸€ä¸ªé¡¹ç›®å¯ä»¥å±äºå¤šä¸ª solutionï¼Œä¸€ä¸ª solution ä¸­å¯ä»¥æœ‰å¤šä¸ªé¡¹ç›®</strong></p><p>æ·»åŠ å·²å­˜åœ¨é¡¹ç›®åˆ° solution<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609201227.png" alt="20220609201227.png"></p><p>ç„¶åå°±å¯ä»¥ç›´æ¥å¼•ç”¨é¡¹ç›®ä¸­çš„ç±»åº“äº†<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609201316.png" alt="20220609201316.png"></p><p>å¯ä»¥é€šè¿‡æ‰“æ–­ç‚¹ï¼Œç„¶å start debuggingï¼Œé€è¯­å¥æ‰§è¡Œæ‰¾é”™è¯¯ï¼Œ<strong>æ‰¾åˆ°çœŸæ­£çš„é”™è¯¯:Root cause!</strong><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609202044.png" alt="20220609202044.png"></p><h3 id="å»ºç«‹è‡ªå·±çš„ç±»åº“é¡¹ç›®"><a href="#å»ºç«‹è‡ªå·±çš„ç±»åº“é¡¹ç›®" class="headerlink" title="å»ºç«‹è‡ªå·±çš„ç±»åº“é¡¹ç›®"></a>å»ºç«‹è‡ªå·±çš„ç±»åº“é¡¹ç›®</h3><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609202321.png" alt="20220609202321.png"></p><p><strong>æ³¨æ„ï¼šä½¿ç”¨.Net Framework åˆ›å»º</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609203808.png" alt="20220609203808.png"></p><h2 id="2-3-ä¾èµ–å…³ç³»"><a href="#2-3-ä¾èµ–å…³ç³»" class="headerlink" title="2.3 ä¾èµ–å…³ç³»"></a>2.3 ä¾èµ–å…³ç³»</h2><p>åœ¨è‡ªå·±å†™çš„ç±»ä¸­å¼•ç”¨äº†åˆ«äººçš„ç±»åº“ï¼Œå³ä¸ºæˆ‘çš„ç±»ä¾èµ–äºåˆ«äººçš„ç±»åº“ï¼Œå¦‚æœè¯¥ç±»åº“å‡ºç°é”™è¯¯ï¼Œåˆ™æˆ‘çš„ç±»ä¹Ÿä¼šæœ‰é—®é¢˜ã€‚</p><p>æå…¶é‡è¦ï¼Œå°½é‡é€‰æ‹©è¾ƒå¼±çš„ä¾èµ–å…³ç³»ï¼Œ<strong>é«˜å†…èšï¼Œä½è€¦åˆ</strong></p><h3 id="UML-ç±»å›¾"><a href="#UML-ç±»å›¾" class="headerlink" title="UML ç±»å›¾"></a>UML ç±»å›¾</h3><p>é€šç”¨å»ºæ¨¡è¯­è¨€ï¼Œç”¨å›¾è¡¨è¾¾ç¨‹åºã€‚</p><h2 id="2-4-ç±»"><a href="#2-4-ç±»" class="headerlink" title="2.4 ç±»"></a>2.4 ç±»</h2><p>ç±»(class)æ˜¯å¯¹ç°å®ä¸–ç•Œäº‹åŠ¡è¿›è¡ŒæŠ½è±¡æ‰€å¾—åˆ°çš„çš„ç»“æœ</p><h3 id="2-4-1-ç±»ä¸å¯¹è±¡"><a href="#2-4-1-ç±»ä¸å¯¹è±¡" class="headerlink" title="2.4.1 ç±»ä¸å¯¹è±¡"></a>2.4.1 ç±»ä¸å¯¹è±¡</h3><p>å¯¹è±¡ï¼ˆç°å®ä¸–ç•Œï¼‰=å®ä¾‹ï¼ˆç¨‹åºä¸–ç•Œï¼‰ï¼Œæ˜¯ç±»ç»è¿‡å®ä¾‹åŒ–åå¾—åˆ°çš„å†…å­˜ä¸­çš„å®ä½“</p><p>å¯ä»¥å°†ç±»çœ‹åšæ¦‚å¿µï¼Œå¯¹è±¡åˆ™æ˜¯æ¦‚å¿µæ‰€æŒ‡çš„å®ä½“</p><p>å”¯ç‰©ä¸»ä¹‰</p><ul><li>ç±»ï¼šè„‘å­ä¸­çš„é£æœºæ¦‚å¿µ</li><li>å¯¹è±¡ï¼šç°å®ä¸–ç•Œçš„é£æœº</li></ul><h3 id="2-4-2-åˆ›å»ºç±»çš„å®ä¾‹"><a href="#2-4-2-åˆ›å»ºç±»çš„å®ä¾‹" class="headerlink" title="2.4.2 åˆ›å»ºç±»çš„å®ä¾‹"></a>2.4.2 åˆ›å»ºç±»çš„å®ä¾‹</h3><p>ä½¿ç”¨ new æ“ä½œç¬¦åˆ›å»ºç±»çš„å®ä¾‹</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220610094719.png" alt="20220610094719"></p><h3 id="2-4-3-å¼•ç”¨å˜é‡å’Œå®ä¾‹çš„å…³ç³»"><a href="#2-4-3-å¼•ç”¨å˜é‡å’Œå®ä¾‹çš„å…³ç³»" class="headerlink" title="2.4.3 å¼•ç”¨å˜é‡å’Œå®ä¾‹çš„å…³ç³»"></a>2.4.3 å¼•ç”¨å˜é‡å’Œå®ä¾‹çš„å…³ç³»</h3><p><strong>å°±æ˜¯ python ä¸­çš„å¼•ç”¨ç±»<code>lol_watcher = LolWatcher(&#39;api-key&#39;)</code>ï¼Œå°†ä¸€ä¸ªç±» new å‡ºå®ä¾‹åå¤åˆ¶ä¸ªä¸€ä¸ªå˜é‡</strong></p><p><code>Form myForm;</code>å¼•ç”¨å˜é‡å®šä¹‰<br><code>myForm = new Form();</code> new å‡ºçš„å®ä¾‹èµ‹å€¼ç»™å¼•ç”¨å˜é‡</p><p>é€šè¿‡å¼•ç”¨å˜é‡å¼•ç”¨å®ä¾‹åï¼Œå¯ä»¥å¤šæ¬¡è®¿é—®è¯¥å®ä¾‹</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220610095236.png" alt="20220610095236"></p><p>åŒä¸€ä¸ªå®ä¾‹å¯ä»¥è¢«å¤šä¸ªå˜é‡å¼•ç”¨</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Form myForm1;</span><br><span class="line">Form myForm2;</span><br><span class="line">myForm1 = <span class="keyword">new</span> Form();</span><br><span class="line">myForm2 = myForm2;</span><br></pre></td></tr></table></figure><h3 id="2-4-4-ç±»çš„ä¸‰å¤§æˆå‘˜"><a href="#2-4-4-ç±»çš„ä¸‰å¤§æˆå‘˜" class="headerlink" title="2.4.4 ç±»çš„ä¸‰å¤§æˆå‘˜"></a>2.4.4 ç±»çš„ä¸‰å¤§æˆå‘˜</h3><ul><li>å±æ€§<ul><li>å­˜å‚¨æ•°æ®ï¼Œç»„åˆèµ·æ¥è¡¨ç¤ºç±»æˆ–å¯¹è±¡å½“å‰çš„çŠ¶æ€</li></ul></li><li>æ–¹æ³•<ul><li>C è¯­è¨€ä¸­çš„å‡½æ•°</li></ul></li><li>äº‹ä»¶<ul><li>ç±»æˆ–å¯¹è±¡é€šçŸ¥å…¶å®ƒç±»æˆ–å¯¹è±¡çš„æœºåˆ¶ï¼ŒC#ç‹¬æœ‰ï¼Œè¦å–„ç”¨äº‹ä»¶æœºåˆ¶</li></ul></li></ul><h4 id="ä¸åŒçš„ç±»æˆ–å¯¹è±¡ä¾§é‡ç‚¹ä¸åŒ"><a href="#ä¸åŒçš„ç±»æˆ–å¯¹è±¡ä¾§é‡ç‚¹ä¸åŒ" class="headerlink" title="ä¸åŒçš„ç±»æˆ–å¯¹è±¡ä¾§é‡ç‚¹ä¸åŒ"></a>ä¸åŒçš„ç±»æˆ–å¯¹è±¡ä¾§é‡ç‚¹ä¸åŒ</h4><ul><li>ä¾§é‡äºå±æ€§ï¼ŒEntity Framework</li><li>ä¾§é‡äºæ–¹æ³•ï¼ŒMathï¼ŒConsole</li><li>ä¾§é‡äºäº‹ä»¶ï¼ŒTimer</li></ul><p><strong>Timer çš„ä½¿ç”¨ï¼Œæ–°å»ºä¸€ä¸ª WPF APP é¡¹ç›®</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Data;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Imaging;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Navigation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Threading;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">EventSample</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Interaction logic for MainWindow.xaml</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">MainWindow</span> : <span class="title">Window</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MainWindow</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            DispatcherTimer timer = <span class="keyword">new</span> DispatcherTimer();</span><br><span class="line">            timer.Interval = TimeSpan.FromSeconds(<span class="number">1</span>);</span><br><span class="line">            timer.Tick += Timer_Tick;</span><br><span class="line">            timer.Start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Timer_Tick</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.timeTextBox.Text = DateTime.Now.ToString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220610105152.png" alt="20220610105152"></p><h3 id="2-4-5-é™æ€æˆå‘˜ä¸å®ä¾‹æˆå‘˜"><a href="#2-4-5-é™æ€æˆå‘˜ä¸å®ä¾‹æˆå‘˜" class="headerlink" title="2.4.5 é™æ€æˆå‘˜ä¸å®ä¾‹æˆå‘˜"></a>2.4.5 é™æ€æˆå‘˜ä¸å®ä¾‹æˆå‘˜</h3><ul><li>é™æ€æˆå‘˜ï¼ˆStaticï¼‰ï¼šç±»çš„æˆå‘˜ï¼Œegï¼šäººç±»çš„æ€»æ•°ï¼Œäººç±»çš„å¹³å‡èº«é«˜<ul><li>ä½¿ç”¨æ—¶ï¼Œä¸éœ€è¦ new ä¸€ä¸ªå®ä¾‹å‡ºæ¥ï¼Œå…¨éƒ¨çš„å®ä¾‹éƒ½å¯ä»¥ä½¿ç”¨ç±»ä¸­çš„æˆå‘˜</li></ul></li><li>å®ä¾‹æˆå‘˜ï¼ˆéé™æ€ï¼‰ï¼šå¯¹è±¡çš„æˆå‘˜ï¼Œegï¼šäººçš„èº«é«˜ï¼Œä½“é‡<ul><li>ä½¿ç”¨æ—¶ï¼Œéœ€è¦å…ˆ new ä¸€ä¸ªå®ä¾‹å‡ºæ¥ï¼Œæˆå‘˜åªèƒ½ç”¨äºæŸä¸€ç‰¹å®šå®ä¾‹ä¸­</li></ul></li></ul><h4 id="ç»‘å®š-Binding"><a href="#ç»‘å®š-Binding" class="headerlink" title="ç»‘å®š Binding"></a>ç»‘å®š Binding</h4><ul><li>æ—©ç»‘å®šè¯­è¨€ï¼ˆå¾®è½¯ C#ï¼‰ï¼Œç¼–è¯‘å™¨ç¼–è¯‘æ—¶å°±å°†ä¸€ä¸ªæˆå‘˜ä¸ç±»æˆ–å¯¹è±¡å…³è”èµ·æ¥</li><li>æ™šç»‘å®šè¯­è¨€ï¼ˆåŠ¨æ€è¯­è¨€ javascriptï¼‰ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œç”±ç¨‹åºå†³å®šæŸä¸ªæˆå‘˜å±äºæŸä¸ªç±»è¿˜æ˜¯æŸä¸ªå¯¹è±¡</li></ul><h4 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦."></a>æ“ä½œç¬¦.</h4><p>æˆå‘˜è®¿é—®æ“ä½œç¬¦ <strong>.</strong></p><hr><h1 id="3-æ„æˆ-C-è¯­è¨€çš„åŸºæœ¬å…ƒç´ "><a href="#3-æ„æˆ-C-è¯­è¨€çš„åŸºæœ¬å…ƒç´ " class="headerlink" title="3. æ„æˆ C#è¯­è¨€çš„åŸºæœ¬å…ƒç´ "></a>3. æ„æˆ C#è¯­è¨€çš„åŸºæœ¬å…ƒç´ </h1><h2 id="3-1-æ ‡è®°-Token"><a href="#3-1-æ ‡è®°-Token" class="headerlink" title="3.1 æ ‡è®° Token"></a>3.1 æ ‡è®° Token</h2><p><strong>ç¼–è¯‘å™¨èƒ½å¤Ÿè¯†åˆ«çš„ä¿¡æ¯</strong></p><h3 id="3-1-1-å…³é”®å­—-Keyword"><a href="#3-1-1-å…³é”®å­—-Keyword" class="headerlink" title="3.1.1 å…³é”®å­— Keyword"></a>3.1.1 å…³é”®å­— Keyword</h3><p><a href="https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/keywords/">C#å…³é”®å­—</a></p><h3 id="3-1-2-æ“ä½œç¬¦-Operator"><a href="#3-1-2-æ“ä½œç¬¦-Operator" class="headerlink" title="3.1.2 æ“ä½œç¬¦ Operator"></a>3.1.2 æ“ä½œç¬¦ Operator</h3><p><a href="https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/">C#æ“ä½œç¬¦</a></p><h3 id="3-1-3-æ ‡è¯†ç¬¦-Identifier"><a href="#3-1-3-æ ‡è¯†ç¬¦-Identifier" class="headerlink" title="3.1.3 æ ‡è¯†ç¬¦ Identifier"></a>3.1.3 æ ‡è¯†ç¬¦ Identifier</h3><p>è‡ªå·±èµ·çš„åå­—ï¼Œå¿…é¡»æœ‰ä¸€å¥—è§„èŒƒ<br><a href="https://docs.microsoft.com/zh-cn/dotnet/csharp/fundamentals/coding-style/identifier-names">C#æ ‡è¯†ç¬¦</a></p><p><strong>å‘½åè§„èŒƒï¼š</strong></p><ul><li>ç±»åï¼šåè¯</li><li>ç±»çš„æˆå‘˜ï¼š<ul><li>å±æ€§ï¼šåè¯</li><li>æ–¹æ³•ï¼šåŠ¨è¯ã€åŠ¨è¯çŸ­è¯­</li></ul></li></ul><p><strong>å¤§å°å†™è§„èŒƒï¼š</strong></p><ul><li>é©¼å³°å‘½åæ³• myVariableï¼ˆå˜é‡åï¼‰</li><li>MyVariableï¼ˆæ–¹æ³•åã€ç±»åâ€¦ï¼‰</li></ul><h3 id="3-1-4-æ ‡ç‚¹ç¬¦å·"><a href="#3-1-4-æ ‡ç‚¹ç¬¦å·" class="headerlink" title="3.1.4 æ ‡ç‚¹ç¬¦å·"></a>3.1.4 æ ‡ç‚¹ç¬¦å·</h3><p>ä¸è¡¨ç¤ºè¿ç®—æ€æƒ³ï¼Œå¦‚ï¼š</p><ul><li>åˆ†å·;è¡¨ç¤ºè¯­å¥ç»“æŸ</li><li>èŠ±æ‹¬å·{}</li></ul><h3 id="3-1-5-æ–‡æœ¬ï¼ˆå­—é¢å€¼ï¼‰"><a href="#3-1-5-æ–‡æœ¬ï¼ˆå­—é¢å€¼ï¼‰" class="headerlink" title="3.1.5 æ–‡æœ¬ï¼ˆå­—é¢å€¼ï¼‰"></a>3.1.5 æ–‡æœ¬ï¼ˆå­—é¢å€¼ï¼‰</h3><p>eg:<code>int x = 2;</code></p><ul><li>æ•´æ•°ï¼Œ_é»˜è®¤ int_<ul><li>intï¼Œ32bit <code>int x = 2;</code></li><li>long é•¿æ•´å‹ï¼Œ64bit <code>long y = 3l;``long y = 3L;</code></li></ul></li><li>å®æ•°ï¼Œ_é»˜è®¤ double_<ul><li>floatï¼Œ32bit <code>float x = 3.0F;</code></li><li>double åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œ64bit <code>double y = 4.0D;</code></li></ul></li><li>å­—ç¬¦<ul><li>char <code>char c = &#39;a&#39;;</code> _å•å¼•å·åªèƒ½å¼•ä¸€ä¸ªå­—ç¬¦_</li></ul></li><li>å­—ç¬¦ä¸²<ul><li>string <code>string str = &quot;abcd&quot;;</code> _åŒå¼•å·å¯ä»¥å¼•å­—ç¬¦ä¸²_</li></ul></li><li>å¸ƒå°”å€¼<ul><li>bool <code>bool b = true;</code></li></ul></li><li>ç©º null<ul><li><code>string str = null;</code></li></ul></li></ul><h2 id="3-2-æ³¨é‡Šä¸ç©ºç™½"><a href="#3-2-æ³¨é‡Šä¸ç©ºç™½" class="headerlink" title="3.2 æ³¨é‡Šä¸ç©ºç™½"></a>3.2 æ³¨é‡Šä¸ç©ºç™½</h2><ul><li>è¡Œæ³¨é‡Š</li><li>å—æ³¨é‡Š</li></ul><p>æ³¨é‡Šå¿«æ·é”® ctrl+k , ctrl+c<br>å–æ¶ˆæ³¨é‡Šå¿«æ·é”® ctrl+k, ctrl+u</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">/*å—æ³¨é‡Š*/</span></span><br></pre></td></tr></table></figure><ul><li>ç©ºç™½<ul><li>ç©ºæ ¼ï¼Œæœ‰çš„åœ°æ–¹å¿…é¡»åŠ ç©ºæ ¼</li><li>å›è½¦</li></ul></li></ul><p>_ä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®è‡ªåŠ¨å¡«è¡¥å¤šä½™ç©ºç™½_ ctrl+k , ctrl+d<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220610120551.png" alt="20220610120551"></p><h2 id="3-3-æ•°æ®ç±»å‹"><a href="#3-3-æ•°æ®ç±»å‹" class="headerlink" title="3.3 æ•°æ®ç±»å‹"></a>3.3 æ•°æ®ç±»å‹</h2><p>var å£°æ˜å˜é‡ï¼ŒC#è‡ªåŠ¨æ¨æ–­å‡ºå˜é‡çš„ç±»å‹<br><code>var x = 1;</code><br>æŸ¥çœ‹å˜é‡ç±»å‹<br><code>Console.WriteLine(x.GetType().Name);</code><br>å¾—åˆ°ï¼š<code>int32</code></p><h2 id="3-4-å˜é‡"><a href="#3-4-å˜é‡" class="headerlink" title="3.4 å˜é‡"></a>3.4 å˜é‡</h2><p>å˜é‡å£°æ˜<code>int x;</code><br>å˜é‡èµ‹å€¼<code>x = 100;</code></p><h2 id="3-5-æ–¹æ³•"><a href="#3-5-æ–¹æ³•" class="headerlink" title="3.5 æ–¹æ³•"></a>3.5 æ–¹æ³•</h2><p>æ–¹æ³•å°±æ˜¯å‡½æ•°ï¼ŒåŠ å·¥æ•°æ®</p><p>ä½¿ç”¨<code>public æ–¹æ³•</code>ç±»å¤–éƒ¨ä¹Ÿèƒ½è®¿é—®è¯¥æ–¹æ³•<br>é»˜è®¤æ˜¯<code>private</code></p><p>æ–¹æ³•çš„è¿”å›å€¼ç±»å‹å†™åœ¨æ–¹æ³•åå‰</p><ul><li>int è¡¨ç¤ºæ–¹æ³•è¿”å›ä¸€ä¸ª int å‹å˜é‡</li><li>void è¡¨ç¤ºæ–¹æ³•ä¸è¿”å›ä»»ä½•å€¼</li></ul><p>eg:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyExample</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Calculator c = <span class="keyword">new</span> Calculator();</span><br><span class="line">            <span class="built_in">int</span> x = c.Add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">            Console.WriteLine(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Calculator</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Add</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> result = a + b;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-6-ç¨‹åº-æ±‰è¯ºå¡”é€’å½’ä¾‹å­"><a href="#3-6-ç¨‹åº-æ±‰è¯ºå¡”é€’å½’ä¾‹å­" class="headerlink" title="3.6 ç¨‹åº(æ±‰è¯ºå¡”é€’å½’ä¾‹å­)"></a>3.6 ç¨‹åº(æ±‰è¯ºå¡”é€’å½’ä¾‹å­)</h2><p>ç¨‹åº = æ•°æ®+ç®—æ³•</p><h3 id="æ±‰è¯ºå¡”é€’å½’æ³•"><a href="#æ±‰è¯ºå¡”é€’å½’æ³•" class="headerlink" title="æ±‰è¯ºå¡”é€’å½’æ³•"></a>æ±‰è¯ºå¡”é€’å½’æ³•</h3><p>å‚è€ƒ<a href="https://www.bilibili.com/video/BV1SP4y137E9">æœ¨å­å–µ neko å¤§ä½¬çš„è§†é¢‘</a></p><p>æ±‰è¯ºå¡”é€’å½’æµç¨‹å›¾</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/hannuota.png" alt="hannuota"></p><p><a href="https://zhangxiaoleiwk.gitee.io/h.html">è‡ªå·±æ‰¾ä¸ªåœ¨çº¿æ¸¸æˆæ“ä½œä¸€ä¸‹è¾ƒå¥½</a><br>è¦ä» A å°† 3 ä¸ªç›˜å­ç§»åˆ° Cï¼š</p><ul><li>å…ˆå°† 1ã€2 å·ç›˜å­ä» A ç§»åŠ¨åˆ° B<ul><li>å…ˆå°† 1 å·ç›˜å­ä» A ç§»åŠ¨åˆ° C <code>A--&gt;C</code></li><li>å†å°† 2 å·ç›˜å­ä» A ç§»åŠ¨åˆ° B <code>A--&gt;B</code></li><li>æœ€åå°† 1 å·ç›˜å­ä» C ç§»åŠ¨åˆ° B <code>C--&gt;B</code></li></ul></li><li>ç„¶åå°†æœ€å¤§çš„ 3 å·ç›˜å­ä» A ç§»åŠ¨åˆ° C <code>A--&gt;C</code></li><li>æœ€åå°† 1ã€2 å·ç›˜å­ä» B ç§»åŠ¨åˆ° C<ul><li>å…ˆå°† 1 å·ç›˜å­ä» B ç§»åŠ¨åˆ° A <code>B--&gt;A</code></li><li>å†å°† 2 å·ç›˜å­ä» B ç§»åŠ¨åˆ° C <code>B--&gt;C</code></li><li>æœ€åå°† 1 å·ç›˜å­ä» A ç§»åŠ¨åˆ° C <code>A--&gt;C</code></li></ul></li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Digui</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">char</span> a = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">            <span class="built_in">char</span> b = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">            <span class="built_in">char</span> c = <span class="string">&#x27;C&#x27;</span>;</span><br><span class="line">            <span class="built_in">int</span> n = <span class="number">3</span>;</span><br><span class="line">            HanNuoTao hnt = <span class="keyword">new</span> HanNuoTao();</span><br><span class="line">            hnt.Move(n, a, b, c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ±‰è¯ºå¡”</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title">HanNuoTao</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Move</span>(<span class="params"><span class="built_in">int</span> n, <span class="built_in">char</span> a, <span class="built_in">char</span> b, <span class="built_in">char</span> c</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Move(n - <span class="number">1</span>, a, c, b);</span><br><span class="line">                Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;a&#125;</span>--&gt;<span class="subst">&#123;c&#125;</span>&quot;</span>);</span><br><span class="line">                Move(n - <span class="number">1</span>, b, a, c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//output:</span></span><br><span class="line">A--&gt;C</span><br><span class="line">A--&gt;B</span><br><span class="line">C--&gt;B</span><br><span class="line">A--&gt;C</span><br><span class="line">B--&gt;A</span><br><span class="line">B--&gt;C</span><br><span class="line">A--&gt;C</span><br></pre></td></tr></table></figure><hr><h1 id="4-ç±»å‹ã€å˜é‡å’Œå¯¹è±¡"><a href="#4-ç±»å‹ã€å˜é‡å’Œå¯¹è±¡" class="headerlink" title="4. ç±»å‹ã€å˜é‡å’Œå¯¹è±¡"></a>4. ç±»å‹ã€å˜é‡å’Œå¯¹è±¡</h1><h2 id="4-1-æ•°æ®ç±»å‹ä½œç”¨"><a href="#4-1-æ•°æ®ç±»å‹ä½œç”¨" class="headerlink" title="4.1 æ•°æ®ç±»å‹ä½œç”¨"></a>4.1 æ•°æ®ç±»å‹ä½œç”¨</h2><ul><li>Data Typeï¼šæ€§è´¨ç›¸åŒå€¼çš„é›†åˆï¼Œé…å¤‡ä¸€ç³»åˆ—é’ˆå¯¹è¿™ç§ç±»å‹å€¼çš„æ“ä½œ<ul><li>å°å†…å­˜å®¹çº³å¤§å°ºå¯¸æ•°æ®ä¼šä¸¢å¤±ç²¾ç¡®åº¦ï¼Œå‘ç”Ÿé”™è¯¯</li><li>å¤§å†…å­˜å®¹çº³å°å°ºå¯¸æ•°æ®ä¼šå¯¼è‡´æµªè´¹</li></ul></li></ul><div class="note primary">            <ul><li>å¼ºç±»å‹ç¼–ç¨‹è¯­è¨€ C#<ul><li>æ•°æ®å—ç±»å‹çš„çº¦æŸå¾ˆå¼º</li></ul></li><li>å¼±ç±»å‹ç¼–ç¨‹è¯­è¨€ C++/JavaScript</li><li>æ•°æ®å—ç±»å‹çš„ çº¦æŸå¾ˆå¼± - c++ä¸­å¯èƒ½å‡ºç° if(x=200)å¯ä»¥ç¼–è¯‘æˆåŠŸçš„é”™è¯¯ï¼Œä¸€èˆ¬åœ¨ c++å†™æˆ <code>if(200==x)</code>çš„å½¢å¼ï¼Œé˜²æ­¢é”™è¯¯</li></ul>          </div><p>æ•°æ®ç±»å‹åŒ…å«çš„ä¿¡æ¯</p><ul><li>å­˜å‚¨æ­¤ç±»å‹å˜é‡æ‰€éœ€çš„å†…å­˜ç©ºé—´å¤§å°</li><li>æ­¤ç±»å‹çš„å€¼å¯è¡¨ç¤ºçš„æœ€å¤§ã€æœ€å°å€¼è¿”å›</li><li>æ­¤ç±»å‹æ‰€åŒ…å«çš„æˆå‘˜ï¼ˆå¦‚æ–¹æ³•ã€å±æ€§ã€æ—¶é—´ç­‰ç­‰ï¼‰</li><li>æ­¤ç±»å‹ç”±ä½•ç§åŸºç±»æ´¾ç”Ÿè€Œæ¥</li><li><p>ç¨‹åºè¿è¡Œæ—¶ï¼Œæ­¤ç±»å‹çš„å˜é‡åˆ†é…åœ¨å†…å­˜ä»€ä¹ˆä½ç½®</p><ul><li>ç¨‹åºåˆ†é…åˆ°å†…å­˜ååˆ†ä¸ºå †æ ˆä¸¤ä¸ªåŒºåŸŸï¼š<ul><li>å †ï¼šå­˜çš„ä¸œè¥¿å¤šï¼Œå­˜å‚¨å¯¹è±¡ï¼ˆå®ä¾‹æ”¾åœ¨å †é‡Œï¼‰ - Heap</li><li>æ ˆï¼šå­˜çš„ä¸œè¥¿å°‘ï¼Œå‡½æ•°è°ƒç”¨ - Stack</li></ul></li><li>Stack overflow ï¼šæ ˆæº¢å‡ºï¼Œå‡½æ•°è°ƒç”¨å¤ªå¤š/ç¨‹åºæœ‰é”™è¯¯ï¼Œæ ˆä¸Šåˆ†é…å¤ªå¤šå†…å­˜</li><li>å†…å­˜æ³„æ¼ï¼šåˆ†é…å¯¹è±¡å¿˜äº†å›æ”¶ï¼Œé€ æˆå†…å­˜æµªè´¹ï¼Œ_c#åƒåœ¾æ”¶é›†å™¨ä¸­å¯ä»¥è‡ªåŠ¨é‡Šæ”¾åƒåœ¾å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼_ï¼Œ_C++ä¸ä¼šè‡ªåŠ¨å›æ”¶_</li></ul></li><li><p>æ­¤ç±»å‹æ‰€å…è®¸çš„è¿ç®—æ“ä½œ</p><ul><li><code>double result = 3.0/4.0</code>ç»“æœä¸º 0.75 _double ç±»å‹åšæµ®ç‚¹é™¤æ³•_</li><li><code>double result = 3/4</code>ç»“æœä¸º 0 _int ç±»å‹åšæ•´æ•°é™¤æ³•_</li></ul></li></ul><div class="note primary">            <p>é™æ€ç¨‹åºï¼šç¡¬ç›˜<br>åŠ¨æ€ç¨‹åºï¼šå†…å­˜</p><p>ç¼–è¯‘:</p><ul><li>buildï¼šç¼–è¯‘è‡ªå·±çš„ä»£ç ç”Ÿæˆ Assemblyï¼Œå¹¶è·Ÿåˆ«äººçš„è£…é…ä»¶ Assembly ç»„åˆåœ¨ä¸€èµ·</li><li>compileï¼šç¼–è¯‘è‡ªå·±çš„ä»£ç ï¼Œç”Ÿæˆ Assembly è£…é…ä»¶</li></ul>          </div><h2 id="4-2-C-äº”å¤§æ•°æ®ç±»å‹"><a href="#4-2-C-äº”å¤§æ•°æ®ç±»å‹" class="headerlink" title="4.2 C#äº”å¤§æ•°æ®ç±»å‹"></a>4.2 C#äº”å¤§æ•°æ®ç±»å‹</h2><p>C#ç±»å‹æ´¾ç”Ÿè°±ç³»<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220611111310.png" alt="20220611111310"></p><ul><li>æ¨ªçº¿ä¸Š<br>object å’Œ string éƒ½æ˜¯ç±» class çš„æ•°æ®ç±»å‹</li><li>æ¨ªçº¿ä¸‹<br>classã€delegateã€interface éƒ½æ˜¯å…³é”®å­—ï¼Œè€Œä¸æ˜¯å…·ä½“çš„æ•°æ®ç±»å‹ï¼Œç”¨è¿™ä¸‰ä¸ªå…³é”®å­—å»å®šä¹‰å…¶ä»–æ•°æ®çš„ç±»å‹</li></ul><p>bool çš„ä¸¤ä¸ªå€¼ï¼štrueã€false<br>voidï¼šå‡½æ•°ä¸è¿”å›å€¼æ—¶ï¼Œç”¨ void å®šä¹‰å‡½æ•°<br>nullï¼šä¸€ä¸ªå˜é‡çš„å€¼æ˜¯ç©ºçš„æ—¶å€™ï¼Œç»™å˜é‡èµ‹å€¼ null<br>varã€dynamicï¼šå£°æ˜å˜é‡ï¼Œdynamic ä»¿ç…§å¼±ç±»å‹è¯­è¨€</p><p>äº”å¤§æ•°æ®ç±»å‹ï¼š</p><ul><li>ç±» Class</li><li>ç»“æ„ä½“ Structures</li><li>æšä¸¾ Enumerations</li><li>æ¥å£ Interfaces</li><li>å§”æ‰˜ Delegates</li></ul><h3 id="4-2-1-ç±»ç±»å‹-class"><a href="#4-2-1-ç±»ç±»å‹-class" class="headerlink" title="4.2.1 ç±»ç±»å‹ class"></a>4.2.1 ç±»ç±»å‹ class</h3><p>Form æ˜¯ç±»ç±»å‹</p><ul><li><code>Type myType = typeof(Form)</code> <code>cw(myType.FullName)</code> <code>cw(myType.IsClass)</code></li><li>å®šä¹‰çš„åœ°æ–¹æœ‰<code>class Form</code></li></ul><h3 id="4-2-2-ç»“æ„ä½“ç±»å‹-struct"><a href="#4-2-2-ç»“æ„ä½“ç±»å‹-struct" class="headerlink" title="4.2.2 ç»“æ„ä½“ç±»å‹ struct"></a>4.2.2 ç»“æ„ä½“ç±»å‹ struct</h3><p>int,double ç­‰ç­‰<br><code>struct Int32</code><br>å°† int32 å¸æ”¶ä¸ºå…³é”®å­— intï¼Œint64 ä¸º long</p><h3 id="4-2-3-æšä¸¾-enum"><a href="#4-2-3-æšä¸¾-enum" class="headerlink" title="4.2.3 æšä¸¾ enum"></a>4.2.3 æšä¸¾ enum</h3><p>é™å®šç”¨æˆ·ä»ä¸€ä¸ªé›†åˆä¸­é€‰å–æœ‰æ•ˆå€¼,ç”¨æˆ·åªèƒ½åœ¨ç»™å®šçš„å‡ ä¸ªå€¼é‡Œé€‰æ‹©</p><p><code>enum FormWindowState</code></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Form f = <span class="keyword">new</span> Form();</span><br><span class="line"><span class="comment">// æšä¸¾ç±»å‹çª—å£å¤§å°:åªç»™å®šäº†Maximized,Normal,Minimized,é€‰æ‹©å…¶ä¸­ä¸€ä¸ª</span></span><br><span class="line">f.WindowState = FormWindowState.Maximized;</span><br><span class="line">f.ShowDialog();</span><br><span class="line"><span class="comment">//çª—å£å¤§å°é»˜è®¤normal</span></span><br></pre></td></tr></table></figure><h2 id="4-3-å˜é‡ã€å¯¹è±¡ä¸å†…å­˜"><a href="#4-3-å˜é‡ã€å¯¹è±¡ä¸å†…å­˜" class="headerlink" title="4.3 å˜é‡ã€å¯¹è±¡ä¸å†…å­˜"></a>4.3 å˜é‡ã€å¯¹è±¡ä¸å†…å­˜</h2><h3 id="4-3-1-å˜é‡"><a href="#4-3-1-å˜é‡" class="headerlink" title="4.3.1 å˜é‡"></a>4.3.1 å˜é‡</h3><ul><li>è¡¨é¢ä¸Šï¼šå˜é‡æ˜¯å­˜å‚¨æ•°æ®</li><li>å®é™…ä¸Šï¼šå˜é‡è¡¨ç¤ºäº†å­˜å‚¨ä½ç½®ï¼Œå¹¶ä¸”æ¯ä¸ªå˜é‡æœ‰ä¸€ä¸ªç±»å‹ï¼Œæ¥å†³å®šä»€ä¹ˆæ ·çš„å€¼èƒ½å­˜å…¥å˜é‡</li></ul><p><strong>å˜é‡å°±æ˜¯ä»¥å˜é‡åæ‰€å¯¹åº”çš„å†…å­˜åœ°å€ä¸ºèµ·ç‚¹ï¼Œä»¥å…¶æ•°æ®ç±»å‹æ‰€è¦æ±‚çš„çš„å­˜å‚¨ç©ºé—´ä¸ºé•¿åº¦çš„ä¸€å—å†…å­˜åŒºåŸŸ</strong></p><ul><li>å˜é‡ä¸€å…±æœ‰ 7 ç§<ul><li>é™æ€å˜é‡ï¼ˆé™æ€æˆå‘˜å˜é‡ï¼‰<ul><li><code>public static int Amount;</code></li></ul></li><li>å®ä¾‹å˜é‡ï¼ˆéé™æ€æˆå‘˜å˜é‡ï¼Œå­—æ®µï¼šå±æ€§é›å½¢ï¼Œå±æ€§å°±æ˜¯è®©å­—æ®µåªèµ‹è§„å®šçš„å€¼ï¼‰<ul><li><code>public int Age;</code></li></ul></li><li>æ•°ç»„å…ƒç´ <ul><li><code>int[] array = new int[100];</code>é•¿åº¦ä¸º 100 çš„æ•´å‹æ•°ç»„</li><li>è®¿é—®æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š<code>array[0]</code>â€˜</li></ul></li><li>å€¼å‚æ•° <code>double c</code></li><li>å¼•ç”¨å‚æ•° <code>ref double a</code></li><li>è¾“å‡ºå½¢å‚ <code>out double b</code></li></ul></li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">Add</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">double</span> a ,<span class="keyword">out</span> <span class="built_in">double</span> b, <span class="built_in">double</span> c</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> a+b+c;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å±€éƒ¨å˜é‡ï¼ˆç‹­ä¹‰çš„å˜é‡ï¼Œå°±æ˜¯å‡½æ•°é‡Œå£°æ˜çš„å˜é‡ï¼‰</p></li><li><p>å˜é‡çš„å£°æ˜<br>&lt;æœ‰æ•ˆä¿®é¥°ç¬¦ç»„åˆ&gt; ç±»å‹ å˜é‡å &lt;åˆå§‹åŒ–å™¨&gt;<br><code>int a;</code><br><code>public static int Amount;</code>æœ‰æ•ˆä¿®é¥°ç¬¦ç»„åˆï¼š<code>public static</code><br><code>int a = 1;</code>åˆå§‹åŒ–å™¨ <code>= 1</code></p></li></ul><h3 id="4-3-2-å€¼ç±»å‹å˜é‡"><a href="#4-3-2-å€¼ç±»å‹å˜é‡" class="headerlink" title="4.3.2 å€¼ç±»å‹å˜é‡"></a>4.3.2 å€¼ç±»å‹å˜é‡</h3><p>ç»“æ„ä½“ç±»å‹å±äºå€¼ç±»å‹<br>byte/sbyte/short/ushort</p><ul><li>å€¼ç±»å‹ï¼ŒæŒ‰è¿™ç§ç±»å‹çš„å®é™…å¤§å°æ¥åˆ†é…å†…å­˜</li><li>å€¼ç±»å‹çš„å˜é‡æ²¡æœ‰å®ä¾‹ï¼Œå®ƒçš„å®ä¾‹ä¸å˜é‡æ˜¯åˆäºŒä¸ºä¸€çš„ï¼Œå°±æ˜¯åœ¨å£°æ˜å˜é‡å¹¶èµ‹å€¼æ—¶ï¼Œå°±åˆ†é…å¥½äº†ä¸€å—å†…å­˜ç»™ä»–<br>å˜é‡åœ°å€çš„å€¼å°±æ˜¯ç»™å˜é‡çš„èµ‹å€¼</li></ul><h3 id="4-3-3-å¼•ç”¨ç±»å‹å˜é‡"><a href="#4-3-3-å¼•ç”¨ç±»å‹å˜é‡" class="headerlink" title="4.3.3 å¼•ç”¨ç±»å‹å˜é‡"></a>4.3.3 å¼•ç”¨ç±»å‹å˜é‡</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">uint</span> ID;</span><br><span class="line">  <span class="built_in">ushort</span> Score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¼•ç”¨ç±»å‹<ul><li><code>Student stu;</code><ul><li>å…ˆç»™å¼•ç”¨ç±»å‹åˆ† 4Byte åœ°å€ï¼Œé‡Œé¢ 32 ä½å…¨è®¾ä¸º 0</li></ul></li><li><code>stu = new Student();</code><ul><li>å…ˆå»å †å†…å­˜é‡Œåˆ›å»º Student å®ä¾‹ï¼Œå¹¶å°†å †å†…å­˜åœ°å€ä¿å­˜åœ¨ stu çš„ 4Byte ä¸­</li><li>åœ¨å †å†…å­˜é‡Œåˆ›å»ºå®ä¾‹ï¼š<ul><li><code>uint ID</code>ç»™ 4Byte</li><li><code>ushort Score</code>ç»™ 2Byte</li></ul></li></ul></li><li><code>Student stu2;</code><ul><li>åœ¨å†…å­˜ä¸­åˆ†é… 4Byte åœ°å€ç»™ stu2</li></ul></li><li><code>stu2 = stu;</code><ul><li>å°† stu ä¸­çš„æ•°æ®èµ‹å€¼ç»™ stu2</li></ul></li></ul></li></ul><p><strong>stu ä¸­è£…çš„æ˜¯ Student ä¸€ä¸ªå®ä¾‹æ‰€åœ¨å †å†…å­˜ä¸­çš„å†…å­˜åœ°å€ï¼Œä¹Ÿå°±æ˜¯ 30000001</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220611152529.png" alt="20220611152529"></p><h3 id="4-3-4-å…¶ä»–å˜é‡çŸ¥è¯†"><a href="#4-3-4-å…¶ä»–å˜é‡çŸ¥è¯†" class="headerlink" title="4.3.4 å…¶ä»–å˜é‡çŸ¥è¯†"></a>4.3.4 å…¶ä»–å˜é‡çŸ¥è¯†</h3><ul><li>å±€éƒ¨å˜é‡åœ¨ stack æ ˆä¸Šåˆ†é…å†…å­˜</li><li>å˜é‡çš„é»˜è®¤å€¼ï¼šæ²¡æœ‰ç»™å˜é‡èµ‹å€¼ï¼Œå˜é‡æœ‰ä¸ªé»˜è®¤å€¼ï¼š0</li><li>å¸¸é‡ï¼šå€¼ä¸å¯ä»¥æ”¹å˜çš„å˜é‡ï¼š<code>const int changliangpi = 3.14;</code>,å¸¸é‡çš„åˆå§‹åŒ–å™¨ä¸èƒ½çœç•¥ï¼Œå¸¸é‡ä¸èƒ½è¢«å†æ¬¡èµ‹å€¼</li><li>è£…ç®±ä¸æ‹†ç®±<code>int x = 100;</code><ul><li>è£…ç®±<code>object obj = x;</code>obj æ‰€å¼•ç”¨çš„å€¼æ˜¯æ ˆä¸Šå€¼ç±»å‹çš„å€¼æ—¶ï¼Œå…ˆæŠŠå€¼ç±»å‹çš„å€¼ copy åˆ°å †ä¸Šï¼Œç„¶åå°†å †å†…å­˜åœ°å€æ”¾åˆ° obj å˜é‡å¯¹åº”çš„å†…å­˜ç©ºé—´ä¸­<ul><li>å°†æ ˆä¸Šçš„å€¼ç±»å‹å€¼ å°è£…æˆ obj çš„å®ä¾‹ï¼Œå¹¶åˆ»åœ¨å †ä¸Š</li></ul></li><li>æ‹†ç®±<code>int y = (int)obj;</code>ï¼Œç°ç»™ y å˜é‡åˆ†é…åœ°å€ï¼Œå°† obj å¼•ç”¨çš„åœ¨å †å†…å­˜ä¸­çš„å€¼ç§»åŠ¨åˆ° y å˜é‡çš„åœ°å€ä¸­<ul><li>å°†å †ä¸Š obj çš„å®ä¾‹é‡Œçš„å€¼ï¼Œå­˜åˆ°æ ˆä¸Š</li></ul></li><li>è£…ç®±æ‹†ç®±æŸå¤±ç¨‹åºæ€§èƒ½</li></ul></li></ul><div class="note primary">            <ul><li>å†…å­˜<ul><li>æ ˆ:å°æ•°æ® 2Mï¼Œå€¼ç±»å‹å˜é‡ï¼Œå¼•ç”¨ç±»å‹å˜é‡<ul><li>å€¼ç±»å‹å˜é‡å’Œå®ä¾‹åˆäºŒä¸ºä¸€</li><li>å¼•ç”¨ç±»å‹å˜é‡ä¸­å­˜æ”¾çš„æ˜¯å®ä¾‹æ‰€åœ¨å †å†…å­˜çš„åœ°å€</li></ul></li><li>å †:å¤§æ•°æ®ï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„å®ä¾‹ - å¼•ç”¨ç±»å‹å˜é‡çš„å®ä¾‹ï¼ˆor å¯¹è±¡ or çœŸæ­£çš„æ•°æ®å€¼ï¼‰å­˜æ”¾åœ¨å †å†…å­˜ä¸­</li></ul></li></ul>          </div><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/heap_stack.png" alt="heap_stack"></p><hr><h1 id="5-æ–¹æ³•"><a href="#5-æ–¹æ³•" class="headerlink" title="5. æ–¹æ³•"></a>5. æ–¹æ³•</h1><h2 id="5-1-æ–¹æ³•çš„ç”±æ¥"><a href="#5-1-æ–¹æ³•çš„ç”±æ¥" class="headerlink" title="5.1 æ–¹æ³•çš„ç”±æ¥"></a>5.1 æ–¹æ³•çš„ç”±æ¥</h2><p>å‡½æ•°(C/C++) â€”&gt; æ–¹æ³•(C#/Java ç­‰é¢å‘å¯¹è±¡çš„è¯­è¨€)</p><p><strong>C ä¸­çš„å‡½æ•°å†™æ³•ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">// å‡½æ•°ï¼š</span></span><br><span class="line"><span class="type">double</span> <span class="title function_">Add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> x = <span class="number">3.0</span>;</span><br><span class="line"><span class="type">double</span> y = <span class="number">5.0</span>;</span><br><span class="line"><span class="type">double</span> result = Add(x, y);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f+%f=%f&quot;</span>, x, y, result);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>C++ä¸­çš„å‡½æ•°å†™æ³•</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> x = <span class="number">3.0</span>;</span><br><span class="line"><span class="type">double</span> y = <span class="number">5.0</span>;</span><br><span class="line"><span class="type">double</span> result = <span class="built_in">Add</span>(x, y);</span><br><span class="line">std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;=&quot;</span> &lt;&lt; result;</span><br><span class="line"><span class="comment">//stdåç§°ç©ºé—´ ::ä¸º.</span></span><br><span class="line"><span class="comment">//std::cout &lt;&lt; &quot;Hello World~&quot;;</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“å‡½æ•°ä»¥ç±»çš„æˆå‘˜å‡ºç°çš„æ—¶å€™ï¼Œå°±å˜æˆäº†æ–¹æ³•</p><p><strong>C++ä¸­æ–¹æ³•çš„å†™æ³•ï¼š</strong></p><p>C++æ·»åŠ ç±»çš„æ–¹æ³•ï¼š<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220612125102.png" alt="20220612125102"><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220612125033.png" alt="20220612125033"></p><p>ç”Ÿæˆ.h å’Œ.cpp ä¸¤ä¸ªæ–‡ä»¶</p><ul><li>åœ¨.h ä¸­å£°æ˜æ–¹æ³•ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SayHello</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>åœ¨.cpp ä¸­å¯¹æ–¹æ³•å®šä¹‰ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Student.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::SayHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Hello I&#x27;m a student~&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Student::Add</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç„¶ååœ¨å…¶ä»– cpp æ–‡ä»¶ä¸­è°ƒç”¨ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Student.h&quot;</span></span></span><br><span class="line"><span class="comment">// æ ‡å‡†çš„ç±»ç”¨&lt;&gt;ï¼Œè‡ªå·±çš„ç±»ç”¨&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//stdåç§°ç©ºé—´ ::ä¸º.</span></span><br><span class="line"><span class="comment">//std::cout &lt;&lt; &quot;Hello World~&quot;;</span></span><br><span class="line">Student *pStu = <span class="keyword">new</span> <span class="built_in">Student</span>();</span><br><span class="line">pStu-&gt;<span class="built_in">SayHello</span>();</span><br><span class="line"><span class="type">double</span> x = <span class="number">3.0</span>;</span><br><span class="line"><span class="type">double</span> y = <span class="number">5.0</span>;</span><br><span class="line"><span class="type">double</span> result = pStu-&gt;<span class="built_in">Add</span>(x, y);</span><br><span class="line">std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;=&quot;</span> &lt;&lt; result;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>C#ä¸­çš„æ–¹æ³•(å‡½æ•°)å†™æ³•</strong></p><div class="note primary">            <ul><li>å‡½æ•°</li><li>æ–¹æ³•ï¼šå‡½æ•°ä»¥ç±»çš„æˆå‘˜å‡ºç°çš„æ—¶å€™å«æ–¹æ³•</li></ul>          </div><p><strong>æ–¹æ³•çš„ä½œç”¨</strong></p><ul><li>éšè—å¤æ‚çš„é€»è¾‘</li><li>å°†å¤§ç®—æ³•åˆ†è§£ä¸ºå°ç®—æ³•</li><li>å¤ç”¨ï¼Œç¤ºä¾‹ï¼š</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">CSharpMethodExample</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Calculator c = <span class="keyword">new</span> Calculator();</span><br><span class="line">            Console.WriteLine(c.GetCircleArea(<span class="number">10</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Calculator</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åœ†é¢ç§¯</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">GetCircleArea</span>(<span class="params"><span class="built_in">double</span> r</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Math.PI * r * r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åœ†æŸ±ä½“ç§¯</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">GetCylinderVolume</span>(<span class="params"><span class="built_in">double</span> r, <span class="built_in">double</span> h</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ–¹æ³•çš„å¤ç”¨</span></span><br><span class="line">            <span class="keyword">return</span> GetCircleArea(r) * h;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åœ†é”¥ä½“ç§¯</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">GetCooneVolume</span>(<span class="params"><span class="built_in">double</span> r, <span class="built_in">double</span> h</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> GetCylinderVolume(r,h) / <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-2-æ–¹æ³•çš„å®šä¹‰ä¸è°ƒç”¨"><a href="#5-2-æ–¹æ³•çš„å®šä¹‰ä¸è°ƒç”¨" class="headerlink" title="5.2 æ–¹æ³•çš„å®šä¹‰ä¸è°ƒç”¨"></a>5.2 æ–¹æ³•çš„å®šä¹‰ä¸è°ƒç”¨</h2><h3 id="5-2-1-æ–¹æ³•çš„å£°æ˜å®šä¹‰ä¸åˆ†å®¶"><a href="#5-2-1-æ–¹æ³•çš„å£°æ˜å®šä¹‰ä¸åˆ†å®¶" class="headerlink" title="5.2.1 æ–¹æ³•çš„å£°æ˜å®šä¹‰ä¸åˆ†å®¶"></a>5.2.1 æ–¹æ³•çš„å£°æ˜å®šä¹‰ä¸åˆ†å®¶</h3><ul><li>æ–¹æ³•çš„å£°æ˜ï¼š<br><code>&lt;attributes&gt; &lt;ä¿®é¥°ç¬¦çš„æœ‰æ•ˆç»„åˆ&gt; &lt;partial&gt;</code>è¿”å›ç±»å‹ æ–¹æ³•å(å½¢å¼å‚æ•°parameter) æ–¹æ³•ä½“<ul><li>ä¿®é¥°ç¬¦ï¼šnew public private async static ç­‰ç­‰</li><li>è¿”å›ç±»å‹ï¼štype void</li><li>æ–¹æ³•åï¼šæ ‡è¯†ç¬¦ï¼ˆåŠ¨è¯æˆ–åŠ¨è¯çŸ­è¯­ï¼‰</li><li>æ–¹æ³•ä½“ï¼šè¯­å¥å—ï¼š{è¯­å¥} æˆ– åˆ†å·ï¼š;</li></ul></li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">double</span> <span class="title">GetCircleArea</span>(<span class="params"><span class="built_in">double</span> r</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> Mati.PI * r * r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é™æ€æ–¹æ³• static ä¸ç±»ç»‘å®š</li><li>å®ä¾‹æ–¹æ³• ä¸å®ä¾‹ç»‘å®š</li></ul><p>ä¾‹å¦‚ä¸€ä¸ªç±»Calculatorï¼Œnewä¸€ä¸ªå®ä¾‹<code>Calculator c = new Calculator();</code>ï¼Œå¦‚æœæ˜¯é™æ€æ–¹æ³•ï¼Œç”¨<code>Calculator.æ–¹æ³•</code>æ¥è°ƒç”¨ï¼Œå¦‚æœæ˜¯å®ä¾‹æ–¹æ³•ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>c.æ–¹æ³•</code>æ¥è°ƒç”¨</p><p>è°ƒç”¨æ–¹æ³•éœ€è¦ä¼ å…¥å¿…è¦çš„å®å‚ï¼šargument<br>è¦å†™æˆ<code>c.GetCircleArea(x,y)</code>ï¼Œè€Œä¸èƒ½å†™æˆ<code>c.GetCircleArea(double x,double y)</code></p><div class="note primary">            <p>å½¢å‚parameteræ˜¯å˜é‡ï¼Œå®å‚argumentæ˜¯å€¼</p>          </div><h2 id="5-3-æ„é€ å™¨-ç‰¹æ®Šçš„æ–¹æ³•"><a href="#5-3-æ„é€ å™¨-ç‰¹æ®Šçš„æ–¹æ³•" class="headerlink" title="5.3 æ„é€ å™¨-ç‰¹æ®Šçš„æ–¹æ³•"></a>5.3 æ„é€ å™¨-ç‰¹æ®Šçš„æ–¹æ³•</h2><p>constructoræ„é€ å™¨ï¼Œæ˜¯ç±»å‹çš„æˆå‘˜ä¹‹ä¸€</p><p>instance constructorå®ä¾‹æ„é€ å™¨ï¼Œæ„é€ å®ä¾‹åœ¨å†…å­˜ä¸­çš„å†…éƒ¨ç»“æ„</p><p><strong>è‡ªå®šä¹‰æ„é€ å™¨</strong><br><code>ctor + tab*2</code></p><ul><li>æ²¡æœ‰å‚æ•°æ„é€ å™¨</li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220629193542.png" alt="20220629193542"></p><ul><li>æœ‰å‚æ•°æ„é€ å™¨<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220629194137.png" alt="20220629194137"></li></ul><h2 id="5-4-æ–¹æ³•çš„é‡è½½-overload"><a href="#5-4-æ–¹æ³•çš„é‡è½½-overload" class="headerlink" title="5.4 æ–¹æ³•çš„é‡è½½ overload"></a>5.4 æ–¹æ³•çš„é‡è½½ overload</h2><p>åŒä¸€ä¸ªç±»ä¸‹ï¼Œæœ‰ä¸¤ä¸ªç›¸åŒçš„æ–¹æ³•åï¼Œä½†ç­¾åä¸åŒ</p><p>å£°æ˜å¸¦æœ‰é‡è½½çš„æ–¹æ³•ï¼š</p><ul><li>æ–¹æ³•ç­¾åmethod signature ï¼Œæ–¹æ³•ç­¾åç”±æ–¹æ³•çš„åç§°ã€ç±»å‹å½¢å‚<code>&lt;T&gt;</code>çš„ä¸ªæ•°å’Œå®ƒçš„æ¯ä¸€ä¸ªå½¢å‚çš„ç±»å‹å’Œ<em>å½¢å‚ä¼ é€’æ¨¡å¼|ç§ç±»</em>ï¼ˆå€¼ã€å¼•ç”¨refæˆ–è¾“å‡ºoutï¼‰ç»„æˆï¼ˆæŒ‰ä»å·¦åˆ°å³çš„é¡ºåºï¼‰ã€‚<strong>ä¸åŒ…å«è¿”å›ç±»å‹</strong></li><li>å®ä¾‹æ„é€ å‡½æ•°ç­¾åç”±å®ƒçš„æ¯ä¸€ä¸ªå½¢å‚çš„ç±»å‹å’Œå½¢å‚ä¼ é€’æ¨¡å¼ï¼ˆå€¼ã€å¼•ç”¨æˆ–è¾“å‡ºï¼‰ç»„æˆï¼ˆæŒ‰ä»å·¦åˆ°å³çš„é¡ºåºï¼‰ã€‚</li><li>é‡è½½å†³ç­–ï¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°ç±»å‹é€‰æ‹©ä¸€ä¸ªæœ€ä½³çš„å‡½æ•°æˆå‘˜æ¥å®æ–½è°ƒç”¨</li></ul><h2 id="5-5-å¦‚ä½•å¯¹æ–¹æ³•è¿›è¡Œdebug"><a href="#5-5-å¦‚ä½•å¯¹æ–¹æ³•è¿›è¡Œdebug" class="headerlink" title="5.5 å¦‚ä½•å¯¹æ–¹æ³•è¿›è¡Œdebug"></a>5.5 å¦‚ä½•å¯¹æ–¹æ³•è¿›è¡Œdebug</h2><ul><li>è®¾ç½®æ–­ç‚¹</li><li>è§‚å¯Ÿå·®æ–¹æ³•è°ƒç”¨æ—¶çš„call stackè°ƒç”¨å †æ ˆï¼šè¯¥ç¨‹åºè¯­å¥çš„çˆ¶çº§ï¼ˆè°è°ƒç”¨çš„å½“å‰è¯­å¥ï¼‰</li><li>Step-intoé€è¯­å¥ï¼ŒStep-overé€è¿‡ç¨‹ï¼ˆä¸ç”¨è¿›å…¥å¦ä¸€ä¸ªæ–¹æ³•ï¼‰ï¼ŒStep-outè·³å‡ºï¼ˆè¿”å›ä¸Šå±‚ï¼‰</li><li>è§‚å¯Ÿå±€éƒ¨å˜é‡çš„å€¼å’Œå˜åŒ–</li></ul><h2 id="5-6-æ–¹æ³•çš„è°ƒç”¨ä¸æ ˆ"><a href="#5-6-æ–¹æ³•çš„è°ƒç”¨ä¸æ ˆ" class="headerlink" title="5.6 æ–¹æ³•çš„è°ƒç”¨ä¸æ ˆ*"></a>5.6 æ–¹æ³•çš„è°ƒç”¨ä¸æ ˆ*</h2><p>å¯¹satck frameï¼ˆæ–¹æ³•è¢«è°ƒç”¨æ—¶åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼‰çš„åˆ†æï¼Œæ–¹æ³•è°ƒç”¨å¦‚ä½•ä½¿ç”¨æ ˆå†…å­˜</p><p>mainï¼ˆä¸»è°ƒè€…callerï¼‰ä¸­è°ƒç”¨otherï¼ˆè¢«è°ƒè€…calleeï¼‰å‡½æ•°ï¼Œéœ€è¦ä¼ å…¥å®å‚æ—¶ï¼Œå®å‚å½’mainç®¡ã€‚</p><h1 id="6-æ“ä½œç¬¦"><a href="#6-æ“ä½œç¬¦" class="headerlink" title="6. æ“ä½œç¬¦"></a>6. æ“ä½œç¬¦</h1><h2 id="6-1-æ“ä½œç¬¦æ¦‚è§ˆ"><a href="#6-1-æ“ä½œç¬¦æ¦‚è§ˆ" class="headerlink" title="6.1 æ“ä½œç¬¦æ¦‚è§ˆ"></a>6.1 æ“ä½œç¬¦æ¦‚è§ˆ</h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220703193132.png" alt="20220703193132"></p><h2 id="6-1-æ“ä½œç¬¦çš„æœ¬è´¨"><a href="#6-1-æ“ä½œç¬¦çš„æœ¬è´¨" class="headerlink" title="6.1 æ“ä½œç¬¦çš„æœ¬è´¨"></a>6.1 æ“ä½œç¬¦çš„æœ¬è´¨</h2><h2 id="6-1-æ“ä½œç¬¦çš„ä¼˜å…ˆçº§"><a href="#6-1-æ“ä½œç¬¦çš„ä¼˜å…ˆçº§" class="headerlink" title="6.1 æ“ä½œç¬¦çš„ä¼˜å…ˆçº§"></a>6.1 æ“ä½œç¬¦çš„ä¼˜å…ˆçº§</h2><h2 id="6-1-åŒçº§æ“ä½œç¬¦çš„è¿ç®—é¡ºåº"><a href="#6-1-åŒçº§æ“ä½œç¬¦çš„è¿ç®—é¡ºåº" class="headerlink" title="6.1 åŒçº§æ“ä½œç¬¦çš„è¿ç®—é¡ºåº"></a>6.1 åŒçº§æ“ä½œç¬¦çš„è¿ç®—é¡ºåº</h2><h2 id="6-1-å„ç±»æ“ä½œç¬¦ç¤ºä¾‹"><a href="#6-1-å„ç±»æ“ä½œç¬¦ç¤ºä¾‹" class="headerlink" title="6.1 å„ç±»æ“ä½œç¬¦ç¤ºä¾‹"></a>6.1 å„ç±»æ“ä½œç¬¦ç¤ºä¾‹</h2><h1 id="7-è¡¨è¾¾å¼ã€è¯­å¥"><a href="#7-è¡¨è¾¾å¼ã€è¯­å¥" class="headerlink" title="7. è¡¨è¾¾å¼ã€è¯­å¥"></a>7. è¡¨è¾¾å¼ã€è¯­å¥</h1>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Threading</title>
      <link href="/Learn/Python/Threading/"/>
      <url>/Learn/Python/Threading/</url>
      
        <content type="html"><![CDATA[<p>Pythonä¸­çš„å¤šçº¿ç¨‹ï¼Œå¦‚ä½•ä½¿ç”¨</p><span id="more"></span><h1 id="1-åˆæ­¥è®¤è¯†å¤šçº¿ç¨‹"><a href="#1-åˆæ­¥è®¤è¯†å¤šçº¿ç¨‹" class="headerlink" title="1. åˆæ­¥è®¤è¯†å¤šçº¿ç¨‹"></a>1. åˆæ­¥è®¤è¯†å¤šçº¿ç¨‹</h1><blockquote><p>å‚è€ƒ<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017627212385376">å»–é›ªå³°è€å¸ˆçš„æ•™ç¨‹</a></p></blockquote><p><strong>å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹</strong><br>æˆ‘çš„ç†è§£å°±æ˜¯<strong>å•ä¸ªCPU</strong>å¯ä»¥æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªä»»åŠ¡æ‰§è¡Œå¾ˆçŸ­æ—¶é—´ï¼Œä»è€Œéª—è¿‡äººçš„æ„Ÿè§‰ï¼Œè®©æˆ‘ä»¬æ„Ÿè§‰å¥½åƒæ˜¯å¤šä¸ªä»»åŠ¡ä¸€èµ·è¿›è¡Œï¼Œè€Œ<strong>å¤šæ ¸CPU</strong>å¯ä»¥å¹¶è¡Œæ‰§è¡Œå¤šä»»åŠ¡ï¼Œå¦‚æœä»»åŠ¡æ•°é‡è¶…è¿‡CPUçš„æ•°é‡ï¼Œåˆ™ä¼šè®©ä¸€ä¸ªCPUè½®æµæ‰§è¡Œå¤šä¸ªä»»åŠ¡<br>æ¯ä¸ªè¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªä»»åŠ¡ä¸­åˆåˆ†ä¸ºå¾ˆå¤šä¸ªå­ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¯åŠ¨å¤šä¸ªçº¿ç¨‹ï¼Œå„ä¸ªçº¿ç¨‹ä¸­çš„ä»»åŠ¡å¯ä»¥åŒæ—¶è¿›è¡Œ</p><p>Pythonä¸­çš„å¤šä»»åŠ¡æ‰§è¡Œæœ‰ä¸‰ç§æ–¹å¼ï¼š</p><ul><li>å¤šè¿›ç¨‹æ¨¡å¼ï¼Œå¤šä¸ªpythonç¨‹åºåŒæ—¶è¿›è¡Œï¼Œæ¯ä¸ªç¨‹åºä¸€ä¸ªçº¿ç¨‹</li><li>å¤šçº¿ç¨‹æ¨¡å¼ï¼Œä¸€ä¸ªpythonç¨‹åºåŒæ—¶è¿›è¡Œå¤šä¸ªçº¿ç¨‹</li><li>å¤šè¿›ç¨‹+å¤šçº¿ç¨‹ï¼Œè¿™ç§æ¨¡å‹éå¸¸å¤æ‚ï¼Œæˆ‘çš„è„‘å­ä¸å¤Ÿç”¨ï¼Œå°±ä¸ç”¨äº†</li></ul><p>æˆ‘ä¹Ÿæƒ³è¦æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œç›´æ¥ç›´å»ï¼Œä½†æ˜¯æ€»æœ‰ç§æƒ…å†µï¼Œæˆ‘è¿«ä¸å¾—å·²è¦å¤šä»»åŠ¡åŒæ—¶è¿›è¡Œï¼Œæˆ‘å¤ªéš¾äº†<br>æ¯”å¦‚æˆ‘åšçš„GUIï¼Œè¦æ±‚å¯ä»¥æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œä½†æ˜¯ä¹Ÿè¦èƒ½å¤Ÿæš‚åœå…¶ä¸­çš„ä¸€ä¸ªä»»åŠ¡ï¼Œå…¶ä»–ä»»åŠ¡ä¸å—å¹²æ‰°ï¼Œå¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´äº†ï¼Œå¼€å§‹å­¦ä¹ </p><h1 id="2-çº¿ç¨‹åŸºç¡€"><a href="#2-çº¿ç¨‹åŸºç¡€" class="headerlink" title="2. çº¿ç¨‹åŸºç¡€"></a>2. çº¿ç¨‹åŸºç¡€</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼•å…¥çº¿ç¨‹å‡½æ•°threading</span></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fund</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ‰§è¡Œçš„ç¨‹åº&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ ä¸€ä¸ªçº¿ç¨‹</span></span><br><span class="line">th = Thread(target=fund)</span><br><span class="line"><span class="comment"># å¼€å§‹è¿›ç¨‹</span></span><br><span class="line">th.start()</span><br><span class="line"><span class="comment"># ç­‰åˆ°ä¸€ä¸ªè¿›ç¨‹ç»“æŸæ—¶é€€å‡º</span></span><br><span class="line">th.join()</span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒçŸ¥ä¹çš„å¤§ä½¬å†™çš„æ•™ç¨‹<br>ä½œè€…ï¼šDwzb<br>é“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/34004179">https://zhuanlan.zhihu.com/p/34004179</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></blockquote><h2 id="2-1-çº¿ç¨‹çš„å¼€å§‹"><a href="#2-1-çº¿ç¨‹çš„å¼€å§‹" class="headerlink" title="2.1 çº¿ç¨‹çš„å¼€å§‹"></a>2.1 çº¿ç¨‹çš„å¼€å§‹</h2><p><code>th.start()</code> å¯ä»¥æ”¾åˆ°å¾ªç¯ä¸­ï¼ŒåŒæ—¶è¿›è¡Œå¤šä¸ªçº¿ç¨‹</p><h2 id="2-2-çº¿ç¨‹ç»“æŸæ—¶åœæ­¢"><a href="#2-2-çº¿ç¨‹ç»“æŸæ—¶åœæ­¢" class="headerlink" title="2.2 çº¿ç¨‹ç»“æŸæ—¶åœæ­¢"></a>2.2 çº¿ç¨‹ç»“æŸæ—¶åœæ­¢</h2><p><code>th.join()</code> åŠ ä¸Šè¿™å¥è¯ï¼Œåˆ™å¤šçº¿ç¨‹åªèƒ½ä¸€ä¸ªç»“æŸåæ‰§è¡Œä¸‹ä¸€ä¸ª<br>å¦‚æœæ²¡æœ‰è¿™å¥è¯­å¥ï¼Œå°±ä¼šç›´æ¥ç”¨å¤šçº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼Œä¸ä¼šç­‰ä¸€ä¸ªç»“æŸå†æ‰§è¡Œä¸‹ä¸€ä¸ª</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line">t = time.time()</span><br><span class="line">ths = []</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    th = Thread(target = myfun)</span><br><span class="line">    th.start()</span><br><span class="line">    ths.append(th)</span><br><span class="line"><span class="keyword">for</span> th <span class="keyword">in</span> ths:</span><br><span class="line">    th.join()</span><br><span class="line"><span class="built_in">print</span>(time.time() - t)</span><br><span class="line"><span class="comment"># ç»“æœä¸º 1.0038363933563232</span></span><br></pre></td></tr></table></figure><h2 id="2-3-çº¿ç¨‹çš„åç§°"><a href="#2-3-çº¿ç¨‹çš„åç§°" class="headerlink" title="2.3 çº¿ç¨‹çš„åç§°"></a>2.3 çº¿ç¨‹çš„åç§°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="built_in">print</span>(threading.current_thread().getName())</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">myfun</span>():</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(threading.current_thread().name)</span><br><span class="line">    a = <span class="number">1</span> + <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    th = threading.Thread(target = myfun, name = <span class="string">&#x27;thread &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(i))</span><br><span class="line">    th.start()</span><br><span class="line"><span class="comment"># è¾“å‡ºç»“æœ</span></span><br><span class="line">MainThread</span><br><span class="line">thread <span class="number">0</span></span><br><span class="line">thread <span class="number">1</span></span><br><span class="line">thread <span class="number">4</span></span><br><span class="line">thread <span class="number">3</span></span><br><span class="line">thread <span class="number">2</span></span><br></pre></td></tr></table></figure><ul><li><code>threading.current_thread()</code>è¡¨ç¤ºå½“å‰çº¿ç¨‹ï¼Œå¯ä»¥è°ƒç”¨<code>name</code>æˆ–<code>getName()</code>è·å–çº¿ç¨‹åç§°</li><li>ä»»ä½•è¿›ç¨‹çš„éƒ½ä¼šæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸æ–°åŠ çš„çº¿ç¨‹æ˜¯ç›¸äº’ç‹¬ç«‹çš„</li><li><code>Thread</code>è¡¨ç¤ºå¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹<code>name</code>å‚æ•°è¡¨ç¤ºçº¿ç¨‹çš„åå­—</li><li><code>threading.current_thread().getName()</code>æ˜¯ä¸»è¿›ç¨‹åå­—<code>MainThread</code>,<code>th.name</code>åˆ™æ˜¯å­threadåå­—</li></ul><h2 id="2-4-Threadå‡½æ•°"><a href="#2-4-Threadå‡½æ•°" class="headerlink" title="2.4 Threadå‡½æ•°"></a>2.4 Threadå‡½æ•°</h2><p>å‚æ•°ä»‹ç»ï¼š</p><ul><li><code>target</code> çº¿ç¨‹æ‰§è¡Œçš„å‡½æ•°</li><li><code>name</code> çº¿ç¨‹çš„åç§°</li><li><code>args</code> targetå¯¹åº”å¾—å‡½æ•°å¾—å‚æ•°ï¼Œç”¨å…ƒç»„ä¼ å…¥ï¼Œæ¯”å¦‚<code>func(age,name)</code> <code>Thread(target = func , args = (13, &#39;name&#39;))</code></li><li><code>daemon</code> ä¸»çº¿ç¨‹é»˜è®¤æ˜¯falseï¼Œï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šåˆ™ç»§æ‰¿çˆ¶çº¿ç¨‹çš„å€¼ã€‚Trueåˆ™å¦‚æœä¸»çº¿ç¨‹è¿è¡Œç»“æŸï¼Œè¯¥çº¿ç¨‹ä¹Ÿåœæ­¢è¿è¡Œï¼›Falseåˆ™è¯¥çº¿ç¨‹ä¼šç»§ç»­è¿è¡Œç›´åˆ°è¿è¡Œç»“æŸï¼Œæ— è§†ä¸»çº¿ç¨‹å¦‚ä½•</li><li><code>group</code> æ˜¯é¢„ç•™çš„ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºä»¥åæ‰©å±•ThreadGroupç±»ï¼Œç°åœ¨æ²¡ç”¨</li></ul><h2 id="2-5-Threadå¯¹è±¡"><a href="#2-5-Threadå¯¹è±¡" class="headerlink" title="2.5 Threadå¯¹è±¡"></a>2.5 Threadå¯¹è±¡</h2><p>å±æ€§å’Œæ–¹æ³•ï¼š</p><ul><li>name çº¿ç¨‹åç§°</li><li>ident çº¿ç¨‹æ ‡è¯†ç¬¦å·</li><li>daemon æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹</li></ul><p><strong>_init</strong>(self, group=None, target=None, name=None, args=(), kwargs=None, *, daemon=None)<br>å‚æ•°ï¼š</p><ul><li>group æ— ç”¨ï¼Œä¿ç•™å‚æ•°</li><li>target å¯è°ƒç”¨çš„ç›®æ ‡</li><li>name çº¿ç¨‹çš„åç§°</li><li>args,kwargs è°ƒç”¨ç›®æ ‡çš„å‚æ•°</li><li>daemon æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹</li><li>start() å¼€å§‹æ‰§è¡Œ</li><li>join(timeout=None) é˜»å¡timeoutç§’ï¼Œå¦åˆ™ç›´åˆ°å¯åŠ¨çš„çº¿ç¨‹ç»ˆæ­¢å‰ä¸€ç›´æŒ‚èµ·</li><li>is_alive () çº¿ç¨‹æ˜¯å¦å­˜æ´»</li><li>isDaemon() æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹</li><li><p>setDaemon(daemonic) è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹</p></li><li><p>getName()  .name  è·å–çº¿ç¨‹å</p></li><li>setName() è®¾ç½®çº¿ç¨‹å</li><li>start()  join()</li><li>join()æœ‰ä¸€ä¸ªtimeoutå‚æ•°ï¼Œè¡¨ç¤ºç­‰å¾…è¿™ä¸ªçº¿ç¨‹ç»“æŸæ—¶ï¼Œå¦‚æœç­‰å¾…æ—¶é—´è¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œå°±ä¸å†ç­‰ï¼Œç»§ç»­è¿›è¡Œä¸‹é¢çš„ä»£ç ï¼Œä½†æ˜¯è¿™ä¸ªçº¿ç¨‹ä¸ä¼šè¢«ä¸­æ–­</li><li>run() ä¹Ÿæ˜¯è¿è¡Œè¿™ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å¿…é¡»ç­‰åˆ°è¿™ä¸ªçº¿ç¨‹è¿è¡Œç»“æŸæ‰ä¼šç»§ç»­æ‰§è¡Œä¹‹åçš„ä»£ç ï¼ˆå¦‚æœå°†ä¸Šé¢çš„startå…¨æ¢æˆrunåˆ™ç›¸å½“äºæ²¡æœ‰å¼€å¤šçº¿ç¨‹ï¼‰</li><li>is_alive()å¦‚æœè¯¥çº¿ç¨‹è¿˜æ²¡è¿è¡Œå®Œï¼Œå°±æ˜¯Trueå¦åˆ™False</li><li>daemon è¿”å›è¯¥çº¿ç¨‹çš„daemon</li><li>setDaemon(True)è®¾ç½®çº¿ç¨‹çš„daemon</li></ul><h2 id="2-6-threading"><a href="#2-6-threading" class="headerlink" title="2.6 threading"></a>2.6 threading</h2><ul><li>threading.currentThread(): è¿”å›å½“å‰çš„çº¿ç¨‹å˜é‡</li><li>threading.enumerate(): è¿”å›ä¸€ä¸ªåŒ…å«æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹çš„list</li><li>threading.activeCount(): è¿”å›æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œä¸len(threading.enumerate())æœ‰ç›¸åŒçš„ç»“æœ</li></ul><p>threadingæ¨¡å—çš„ç±»å¯¹è±¡</p><ul><li>Thread æ‰§è¡Œçº¿ç¨‹</li><li>Timer åœ¨è¿è¡Œå‰ç­‰å¾…ä¸€æ®µæ—¶é—´çš„æ‰§è¡Œçº¿ç¨‹</li><li>Lock åŸè¯­é”ï¼ˆäº’æ–¥é”ï¼Œç®€å•é”ï¼‰</li><li>RLock é‡å…¥é”ï¼Œä½¿å•ä¸€çº¿ç¨‹å¯ä»¥ï¼ˆå†æ¬¡ï¼‰è·å¾—å·²æŒæœ‰çš„é”</li><li>Condition æ¡ä»¶å˜é‡ï¼Œçº¿ç¨‹éœ€è¦ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ»¡è¶³ç‰¹å®šæ¡ä»¶</li><li>Event äº‹ä»¶å˜é‡ï¼ŒNä¸ªçº¿ç¨‹ç­‰å¾…æŸä¸ªäº‹ä»¶å‘ç”Ÿåæ¿€æ´»æ‰€æœ‰çº¿ç¨‹</li><li>Semaphore çº¿ç¨‹é—´å…±äº«èµ„æºçš„å¯„å­˜å™¨</li><li>BoundedSemaphore ä¸Semaphore ç›¸ä¼¼ï¼Œå®ƒä¸å…è®¸è¶…è¿‡åˆå§‹å€¼</li><li>Barrie æ‰§è¡Œçº¿ç¨‹è¾¾åˆ°ä¸€å®šæ•°é‡åæ‰å¯ä»¥ç»§ç»­</li></ul><p>threadingæ¨¡å—çš„å‡½æ•°</p><ul><li>activeCount() è·å–å½“å‰æ´»åŠ¨ä¸­çš„Threadå¯¹è±¡ä¸ªæ•°</li><li>currentThread() è·å–å½“å‰çš„Threadå¯¹è±¡</li><li>enumerate() è·å–å½“å‰æ´»åŠ¨çš„Threadå¯¹è±¡åˆ—è¡¨</li><li>settrace(func) ä¸ºæ‰€æœ‰çº¿ç¨‹è®¾ç½®ä¸€ä¸ªè·Ÿè¸ªï¼ˆtraceï¼‰å‡½æ•°</li><li>setprofile(func) ä¸ºæ‰€æœ‰çº¿ç¨‹è®¾ç½®é…ç½®æ–‡ä»¶ï¼ˆprofileï¼‰å‡½</li><li>stack_size(size=None) è·å–æ–°åˆ›å»ºçº¿ç¨‹çš„æ ˆå¤§å°ï¼Œä¹Ÿå¯è®¾ç½®çº¿ç¨‹æ ˆçš„å¤§å°ä¸ºsizeã€‚</li></ul><h1 id="3-çº¿ç¨‹è¿›é˜¶"><a href="#3-çº¿ç¨‹è¿›é˜¶" class="headerlink" title="3. çº¿ç¨‹è¿›é˜¶"></a>3. çº¿ç¨‹è¿›é˜¶</h1><h2 id="3-1-æ´¾ç”ŸThread-çš„å­ç±»ï¼Œå¹¶åˆ›å»ºå­ç±»çš„å®ä¾‹"><a href="#3-1-æ´¾ç”ŸThread-çš„å­ç±»ï¼Œå¹¶åˆ›å»ºå­ç±»çš„å®ä¾‹" class="headerlink" title="3.1 æ´¾ç”ŸThread çš„å­ç±»ï¼Œå¹¶åˆ›å»ºå­ç±»çš„å®ä¾‹"></a>3.1 æ´¾ç”ŸThread çš„å­ç±»ï¼Œå¹¶åˆ›å»ºå­ç±»çš„å®ä¾‹</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿Threadç±»ï¼Œæ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»ï¼Œä½¿ç”¨å­ç±»æ¥åˆ›å»ºå¤šçº¿ç¨‹</p><p><strong>è®°ä½è¦åœ¨å­ç±»ä¸­åˆå§‹åŒ–çˆ¶ç±»çš„æ–¹æ³•Thread.<strong>init</strong>(self) ã€‚éœ€è¦é‡æ„ run() æ–¹æ³•æ¥æ‰§è¡Œå¤šçº¿ç¨‹çš„ç¨‹åº</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep, ctime</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º Thread çš„å­ç±» </span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span>(<span class="title class_ inherited__">Thread</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, func, args</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        :param func: å¯è°ƒç”¨çš„å¯¹è±¡</span></span><br><span class="line"><span class="string">        :param args: å¯è°ƒç”¨å¯¹è±¡çš„å‚æ•°</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        Thread.__init__(self)   <span class="comment"># ä¸è¦å¿˜è®°è°ƒç”¨Threadçš„åˆå§‹åŒ–æ–¹æ³•</span></span><br><span class="line">        self.func = func</span><br><span class="line">        self.args = args</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        self.func(*self.args)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">name, sec</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;---å¼€å§‹---&#x27;</span>, name, <span class="string">&#x27;æ—¶é—´&#x27;</span>, ctime())</span><br><span class="line">    sleep(sec)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;***ç»“æŸ***&#x27;</span>, name, <span class="string">&#x27;æ—¶é—´&#x27;</span>, ctime())</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># åˆ›å»º Thread å®ä¾‹</span></span><br><span class="line">    t1 = MyThread(func, (<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">    t2 = MyThread(func, (<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">    <span class="comment"># å¯åŠ¨çº¿ç¨‹è¿è¡Œ</span></span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    <span class="comment"># ç­‰å¾…æ‰€æœ‰çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="3-2-è·å–å¯è°ƒç”¨å¯¹è±¡çš„è¿”å›å€¼"><a href="#3-2-è·å–å¯è°ƒç”¨å¯¹è±¡çš„è¿”å›å€¼" class="headerlink" title="3.2 è·å–å¯è°ƒç”¨å¯¹è±¡çš„è¿”å›å€¼"></a>3.2 è·å–å¯è°ƒç”¨å¯¹è±¡çš„è¿”å›å€¼</h2><p>åœ¨å¤šçº¿ç¨‹ä¸­è¿è¡Œçš„ç¨‹åºæ—¶ä¸ä¸»çº¿ç¨‹åˆ†å¼€ï¼Œæˆ‘ä»¬æ²¡æ³•ç›´æ¥è·å–çº¿ç¨‹ä¸­ç¨‹åºçš„è¿”å›å€¼ã€‚è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨æ´¾ç”ŸThread çš„å­ç±»ï¼Œå°†ç»™è¿‡ä¿å­˜çš„å®ä¾‹å±æ€§ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªæ–°æ–¹æ³•è·å–è¿è¡Œç»“æœ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep, ctime</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º Thread çš„å­ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span>(<span class="title class_ inherited__">Thread</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, func, args</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        :param func: å¯è°ƒç”¨çš„å¯¹è±¡</span></span><br><span class="line"><span class="string">        :param args: å¯è°ƒç”¨å¯¹è±¡çš„å‚æ•°</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.func = func</span><br><span class="line">        self.args = args</span><br><span class="line">        self.result = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        self.result = self.func(*self.args)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getResult</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">name, sec</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;---å¼€å§‹---&#x27;</span>, name, <span class="string">&#x27;æ—¶é—´&#x27;</span>, ctime())</span><br><span class="line">    sleep(sec)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;***ç»“æŸ***&#x27;</span>, name, <span class="string">&#x27;æ—¶é—´&#x27;</span>, ctime())</span><br><span class="line">    <span class="keyword">return</span> sec</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># åˆ›å»º Thread å®ä¾‹</span></span><br><span class="line">    t1 = MyThread(func, (<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">    t2 = MyThread(func, (<span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">    <span class="comment"># å¯åŠ¨çº¿ç¨‹è¿è¡Œ</span></span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    <span class="comment"># ç­‰å¾…æ‰€æœ‰çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line">    <span class="comment"># æˆ–çº¿ç¨‹ä¸­ç¨‹åºçš„è¿è¡Œç»“æœ</span></span><br><span class="line">    <span class="built_in">print</span>(t1.getResult())</span><br><span class="line">    <span class="built_in">print</span>(t2.getResult())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="3-3-å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜"><a href="#3-3-å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜" class="headerlink" title="3.3 å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜"></a>3.3 å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜</h2><p>ä¸€èˆ¬åœ¨å¤šçº¿ç¨‹ä»£ç ä¸­ï¼Œæ€»ä¼šæœ‰ä¸€äº›ç‰¹å®šçš„å‡½æ•°æˆ–ä»£ç å—ä¸æƒ³è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼Œå¦‚ï¼šä¿®æ”¹æ•°æ®åº“ã€æ›´æ–°æ–‡ä»¶æˆ–å…¶ä»–ä¼šäº§ç”Ÿç¨‹åºå†²çªçš„ç±»ä¼¼æƒ…å†µ</p><p>å½“ä»»æ„æ•°é‡çš„çº¿ç¨‹å¯ä»¥è®¿é—®ä¸´ç•ŒåŒºçš„ä»£ç ï¼Œå½“åœ¨åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥é€šè¿‡æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨åŒæ­¥ã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©åˆé€‚çš„åŒæ­¥åŸè¯­ï¼Œä¹Ÿå¯ä»¥è®©çº¿ç¨‹æ§åˆ¶æœºåˆ¶æ¥æ‰§è¡ŒåŒæ­¥ã€‚</p><p>æœ€å¸¸ç”¨çš„åŒç†åŸè¯­æœ‰ï¼šé”/äº’æ–¥ï¼Œä»¥åŠä¿¡å·é‡ã€‚é”æ˜¯æœ€ç®€å•æœ€ä½çº§çš„æœºåˆ¶ã€‚ä¿¡å·é‡ç”¨äºå¤šçº¿ç¨‹ç«äº‰æœ‰é™èµ„æºçš„æƒ…å†µã€‚</p><blockquote><p>å¼ºçƒˆæ¨è<a href="https://zhuanlan.zhihu.com/p/94344847">å¤§ä½¬çš„æ•™ç¨‹</a></p></blockquote><h2 id="3-4-Lock-åŒæ­¥é”ï¼ˆåŸè¯­é”ï¼‰"><a href="#3-4-Lock-åŒæ­¥é”ï¼ˆåŸè¯­é”ï¼‰" class="headerlink" title="3.4 Lock åŒæ­¥é”ï¼ˆåŸè¯­é”ï¼‰"></a>3.4 Lock åŒæ­¥é”ï¼ˆåŸè¯­é”ï¼‰</h2><h3 id="3-4-1-åŒæ­¥é”çš„ä½¿ç”¨"><a href="#3-4-1-åŒæ­¥é”çš„ä½¿ç”¨" class="headerlink" title="3.4.1 åŒæ­¥é”çš„ä½¿ç”¨"></a>3.4.1 åŒæ­¥é”çš„ä½¿ç”¨</h3><p><strong>åŠ é” ä¸ è§£é”</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªé”å¯¹è±¡</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å¾—é”ï¼ŒåŠ é”</span></span><br><span class="line">lock.acquire()</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡Šæ”¾é”ï¼Œè§£é”</span></span><br><span class="line">lock.release()</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬é€šè¿‡ lock.acquire() è·å¾—é”åçº¿ç¨‹ç¨‹å°†ä¸€ç›´æ‰§è¡Œä¸ä¼šä¸­æ–­ï¼Œç›´åˆ°è¯¥çº¿ç¨‹ lock.release( )é‡Šæ”¾é”åçº¿ç¨‹æ‰æœ‰å¯èƒ½è¢«é‡Šæ”¾(æ³¨æ„ï¼šé”è¢«é‡Šæ”¾åçº¿ç¨‹ä¸ä¸€å®šä¼šé‡Šæ”¾)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆä¸€ä¸ªé”å¯¹è±¡</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="keyword">global</span> num  <span class="comment"># å…¨å±€å˜é‡</span></span><br><span class="line">    <span class="comment"># lock.acquire()  # è·å¾—é”ï¼ŒåŠ é”</span></span><br><span class="line">    num1 = num</span><br><span class="line">    time.sleep(<span class="number">0.1</span>) </span><br><span class="line"><span class="comment"># sleep()æ“ä½œï¼Œå½“åœ¨æ²¡æœ‰é”çš„æƒ…å†µä¸‹çº¿ç¨‹å°†åœ¨è¿™é‡Œè¢«é‡Šæ”¾å‡ºæ¥ï¼Œè®©ç»™ä¸‹ä¸€çº¿ç¨‹è¿è¡Œï¼Œè€Œæˆ‘ä»¬çš„numå€¼è¿˜æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œæ‰€ä»¥åé¢çº¿ç¨‹çš„num1çš„å–å€¼éƒ½æ˜¯100</span></span><br><span class="line">    num = num1 - <span class="number">1</span></span><br><span class="line">    <span class="comment"># lock.release()  # é‡Šæ”¾é”ï¼Œè§£é”</span></span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">num = <span class="number">100</span></span><br><span class="line">l = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):  <span class="comment"># å¼€å¯100ä¸ªçº¿ç¨‹</span></span><br><span class="line">    t = threading.Thread(target=func, args=())</span><br><span class="line">    t.start()</span><br><span class="line">    l.append(t)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰å¾…çº¿ç¨‹è¿è¡Œç»“æŸ. ç­‰åˆ°çº¿ç¨‹ç»“æŸåå†print num</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> l:</span><br><span class="line">    i.join()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(num)</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä¸Šé¢ä»£ç å…ˆå°†lock.acquire()å’Œlock.release()è¡Œæ³¨é‡Šæ‰è¡¨ç¤ºä¸ä½¿ç”¨é”ï¼Œå–æ¶ˆlock.acquire()å’Œlock.release()è¡Œçš„æ³¨é‡Šè¡¨ç¤ºä½¿ç”¨é”</p><p>ä¸ä½¿ç”¨é”ç¨‹åºè¿è¡Œè¾“å‡ºä¸º 99ï¼›ä½¿ç”¨é”ç¨‹åºè¿è¡Œç»“æœä¸º0</p><p><strong>Lock ä¸GIL(å…¨å±€è§£é‡Šå™¨é”ï¼‰å­˜åœ¨åŒºåˆ«</strong></p><ul><li>Lock é”çš„ç›®çš„ï¼Œå®ƒæ˜¯ä¸ºäº†ä¿æŠ¤å…±äº«çš„æ•°æ®ï¼ŒåŒæ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ¥ä¿®æ”¹å…±äº«çš„æ•°æ®ï¼Œè€Œä¿æŠ¤ä¸åŒçš„æ•°æ®éœ€è¦ä½¿ç”¨ä¸åŒçš„é”</li><li>GILç”¨äºé™åˆ¶ä¸€ä¸ªè¿›ç¨‹ä¸­åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¢«CPUè°ƒåº¦ï¼ŒGILçš„çº§åˆ«æ¯”Locké«˜ï¼ŒGILæ˜¯è§£é‡Šå™¨çº§åˆ«</li></ul><p><strong>GILä¸LockåŒæ—¶å­˜åœ¨ï¼Œç¨‹åºæ‰§è¡Œå¦‚ä¸‹ï¼š</strong></p><blockquote><ol><li>åŒæ—¶å­˜åœ¨ä¸¤ä¸ªçº¿ç¨‹ï¼šçº¿ç¨‹Aï¼Œçº¿ç¨‹B</li><li>çº¿ç¨‹A æŠ¢å åˆ°GILï¼Œè¿›å…¥CPUæ‰§è¡Œï¼Œå¹¶åŠ äº†Lockï¼Œä½†ä¸ºæ‰§è¡Œå®Œæ¯•ï¼Œçº¿ç¨‹è¢«é‡Šæ”¾</li><li>çº¿ç¨‹B æŠ¢å åˆ°GILï¼Œè¿›å…¥CPUæ‰§è¡Œï¼Œæ‰§è¡Œæ—¶å‘ç°æ•°æ®è¢«çº¿ç¨‹A Lockï¼Œäºæ˜¯çº¿ç¨‹Bè¢«é˜»å¡</li><li>çº¿ç¨‹Bçš„GILè¢«å¤ºèµ°ï¼Œæœ‰å¯èƒ½çº¿ç¨‹Aæ‹¿åˆ°GILï¼Œæ‰§è¡Œå®Œæ“ä½œã€è§£é”ï¼Œå¹¶é‡Šæ”¾GIL</li><li>çº¿ç¨‹Bå†æ¬¡æ‹¿åˆ°GILï¼Œæ‰å¯ä»¥æ­£å¸¸æ‰§è¡Œ</li></ol></blockquote><p>é€šè¿‡ä¸Šè¿°åº”è¯¥èƒ½çœ‹åˆ°ï¼ŒLock é€šè¿‡ç‰ºç‰²æ‰§è¡Œçš„æ•ˆç‡æ¢æ•°æ®å®‰å…¨</p><h3 id="3-4-2-æ­»é”"><a href="#3-4-2-æ­»é”" class="headerlink" title="3.4.2 æ­»é”"></a>3.4.2 æ­»é”</h3><p>å¤šçº¿ç¨‹æœ€æ€•çš„æ˜¯é‡åˆ°æ­»é”ï¼Œä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹åœ¨æ‰§è¡Œæ—¶ï¼Œå› äº‰å¤ºèµ„æºè¢«ç›¸äº’é”ä½è€Œç›¸äº’ç­‰å¾…</p><p><em>äº’é”é€ æˆæ­»é”</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆä¸€ä¸ªé”å¯¹è±¡</span></span><br><span class="line">lock1 = threading.Lock()</span><br><span class="line">lock2 = threading.Lock()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span>(threading.Thread):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.fun_A()</span><br><span class="line">        self.fun_B()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_A</span>(<span class="params">self</span>):</span><br><span class="line">        lock1.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A_1 åŠ é”&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        lock2.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A-2 åŠ é”&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        lock2.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A-2 é‡Šæ”¾&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        lock1.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;A-1 é‡Šæ”¾&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_B</span>(<span class="params">self</span>):</span><br><span class="line">        lock2.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B-1 åŠ é”&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        lock1.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B-2 åŠ é”&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">        lock1.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B-1 é‡Šæ”¾&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        lock2.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;B-2 é‡Šæ”¾&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"><span class="comment"># éœ€è¦å››ä¸ªä»¥ä¸Šçº¿ç¨‹ï¼Œæ‰ä¼šå‡ºç°æ­»é”ç°è±¡</span></span><br><span class="line">    t1 = MyThread()</span><br><span class="line">    t2 = MyThread()</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸¤ä¸ªé”åŒæ—¶è¢«å¤šä¸ªçº¿ç¨‹è¿è¡Œï¼Œå°±æœ‰å¯èƒ½å‡ºç°æ­»é”ï¼Œå¦‚æœæ²¡å‡ºç°æ­»é”ï¼Œå°±å¤šè¿è¡Œå‡ éå°±ä¼šå‡ºç°æ­»é”ç°è±¡</p><h3 id="3-4-3-é‡å…¥é”-é€’å½’é”"><a href="#3-4-3-é‡å…¥é”-é€’å½’é”" class="headerlink" title="3.4.3 é‡å…¥é”/é€’å½’é”"></a>3.4.3 é‡å…¥é”/é€’å½’é”</h3><p><code>threading.RLock()</code><br>ä¸ºäº†æ”¯æŒåŒä¸€ä¸ªçº¿ç¨‹ä¸­å¤šæ¬¡è¯·æ±‚åŒä¸€èµ„æºï¼ŒPython æä¾›äº†å¯é‡å…¥é”(RLock)ã€‚è¿™ä¸ªRLockå†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ªé”(Lock)å’Œä¸€ä¸ªè®¡æ•°å™¨(counter)å˜é‡ï¼Œcounter è®°å½•äº†acquire çš„æ¬¡æ•°ï¼Œä»è€Œä½¿å¾—èµ„æºå¯ä»¥è¢«å¤šæ¬¡acquireã€‚ç›´åˆ°ä¸€ä¸ªçº¿ç¨‹æ‰€æœ‰ acquireéƒ½è¢«release(è®¡æ•°å™¨counterå˜ä¸º0)ï¼Œå…¶ä»–çš„çº¿ç¨‹æ‰èƒ½è·å¾—èµ„æºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆä¸€ä¸ªé€’å½’å¯¹è±¡</span></span><br><span class="line">Rlock = threading.RLock()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span>(threading.Thread):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.fun_A()</span><br><span class="line">        self.fun_B()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_A</span>(<span class="params">self</span>):</span><br><span class="line">        Rlock.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;AåŠ é”1&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        Rlock.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;AåŠ é”2&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        Rlock.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Aé‡Šæ”¾1&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        Rlock.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Aé‡Šæ”¾2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_B</span>(<span class="params">self</span>):</span><br><span class="line">        Rlock.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;BåŠ é”1&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        Rlock.acquire()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;BåŠ é”2&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        Rlock.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Bé‡Šæ”¾1&#x27;</span>, end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        Rlock.release()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Bé‡Šæ”¾2&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    t1 = MyThread()</span><br><span class="line">    t2 = MyThread()</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br></pre></td></tr></table></figure><p>å½“è¿è¡Œåˆ°ç¨‹åºBæ—¶ï¼Œå³ä½¿Bä¼‘çœ äº†3ç§’ä¹Ÿä¸ä¼šåˆ‡æ¢çº¿ç¨‹ã€‚</p><p>ä½¿ç”¨é‡å…¥é”æ—¶ï¼Œcounter æ²¡æœ‰å˜ä¸º0(æ‰€æœ‰çš„acquireæ²¡æœ‰è¢«é‡Šæ”¾æ‰)ï¼Œå³ä½¿é‡åˆ°é•¿æ—¶é—´çš„ioæ“ä½œä¹Ÿä¸ä¼šåˆ‡æ¢çº¿ç¨‹ã€‚</p><h1 id="4-çº¿ç¨‹å®æˆ˜"><a href="#4-çº¿ç¨‹å®æˆ˜" class="headerlink" title="4. çº¿ç¨‹å®æˆ˜"></a>4. çº¿ç¨‹å®æˆ˜</h1><h2 id="4-1-åˆæ­¥çš„ç»ƒä¹ å’Œè¯¦ç»†è§£é‡Š"><a href="#4-1-åˆæ­¥çš„ç»ƒä¹ å’Œè¯¦ç»†è§£é‡Š" class="headerlink" title="4.1 åˆæ­¥çš„ç»ƒä¹ å’Œè¯¦ç»†è§£é‡Š"></a>4.1 åˆæ­¥çš„ç»ƒä¹ å’Œè¯¦ç»†è§£é‡Š</h2>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯å¼€å‘çš„åŸºç¡€çŸ¥è¯†</title>
      <link href="/Learn/Blog%20Basic/Learn-HCJ%E5%89%8D%E7%AB%AF/"/>
      <url>/Learn/Blog%20Basic/Learn-HCJ%E5%89%8D%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<p>å­¦ä¹ å‰ç«¯å‰çš„åŸºç¡€çŸ¥è¯†ï¼Œå¯¹ï¼Œæ²¡é”™ï¼Œå°±æ˜¯htmlã€csså’Œjs<br><span id="more"></span></p><p><strong>å‚è€ƒèµ„æ–™</strong>ï¼ˆå¤§ä½¬çš„ç¬”è®°ï¼‰</p><blockquote><p><a href="https://blog.csdn.net/wuyxinu/article/details/103515157">HTML</a><br><a href="https://blog.csdn.net/wuyxinu/article/details/103583618">CSS</a><br><a href="https://blog.csdn.net/wuyxinu/article/details/103642800">JS</a><br><a href="https://blog.csdn.net/wuyxinu/article/details/103646041">JS-ä¸‹</a><br>è¿˜æœ‰ <a href="https://blog.csdn.net/wuyxinu/article/details/103669718">jQuery</a><br><a href="https://blog.csdn.net/wuyxinu/article/details/103774211">Node.js+Gulp</a></p></blockquote><p><strong>å­¦ä¹ æ€è·¯</strong></p><ul><li>[x] HTML å…¥é—¨ </li><li>[ ] CSS å…¥é—¨ </li><li>[ ] HTML è¿›é˜¶ </li><li>[ ] CSS è¿›é˜¶ </li><li>[ ] JavaScript å…¥é—¨</li><li>[ ] jQuery å…¥é—¨ </li><li>[ ] ASP.NET å…¥é—¨ï¼ˆæˆ– PHP å…¥é—¨ï¼‰</li><li>[ ] Ajax</li><li>[ ] ASP.NET è¿›é˜¶ï¼ˆæˆ– PHP è¿›é˜¶ï¼‰</li></ul><h1 id="1-html-html5-çš„åŸºç¡€"><a href="#1-html-html5-çš„åŸºç¡€" class="headerlink" title="1. html/html5 çš„åŸºç¡€"></a>1. html/html5 çš„åŸºç¡€</h1><ul><li><strong>1ã€ä»€ä¹ˆæ˜¯ HTML?</strong><br>HTML æ˜¯ç”¨æ¥æè¿°ç½‘é¡µçš„ä¸€ç§è¯­è¨€<br>HTML æŒ‡è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€( Hyper Text Markup Language)<br>HTML ä¸æ˜¯ç¼–ç¨‹è¯­è¨€,æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€</li><li>2ã€<strong>HTML5 çš„æ–°ç‰¹æ€§</strong><br>ç”¨äºç»˜ç”»çš„ canvas æ ‡ç­¾<br>ç”¨äºåª’ä»‹å›æ”¾çš„ vdeo å’Œ audo å…ƒç´ <br>å¯¹æœ¬åœ°ç¦»çº¿å‚¨å­˜çš„æ›´å¥½æ”¯æŒ<br>æ–°çš„ç‰¹æ®Šå†…å®¹å…ƒç´ ,å¦‚: articleã€ footerã€ headerã€navã€ section<br>æ–°çš„è¡¨å•æ§ä»¶å¦‚: calendarã€dateã€timeã€emaiã€urlã€ search</li></ul><h2 id="1-1-html-åŸºç¡€ç»“æ„"><a href="#1-1-html-åŸºç¡€ç»“æ„" class="headerlink" title="1.1 html åŸºç¡€ç»“æ„"></a>1.1 html åŸºç¡€ç»“æ„</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>  #html file</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span>&gt;</span><span class="tag">&lt;/<span class="name">meta</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> #html main</span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span> = <span class="string">&quot;center&quot;</span>&gt;</span>    <span class="comment">&lt;!--head first    å±…ä¸­center   h1~6--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>#paragraph</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = <span class="string">&quot;http://wfaief.com&quot;</span>&gt;</span>this is a link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-2-é¡µå¤´-head"><a href="#1-2-é¡µå¤´-head" class="headerlink" title="1.2 é¡µå¤´ head"></a>1.2 é¡µå¤´ head</h2><ul><li>title å®šä¹‰ç½‘é¡µçš„æ ‡é¢˜</li><li>meta å®šä¹‰ç½‘é¡µçš„åŸºæœ¬ä¿¡æ¯</li><li>style å®šä¹‰ css æ ·å¼</li><li>link å®šä¹‰é“¾æ¥å¤–éƒ¨ css æ–‡ä»¶æˆ–è„šæœ¬æ–‡ä»¶</li></ul><ul><li>script å®šä¹‰è„šæœ¬è¯­è¨€</li><li>base å®šä¹‰é¡µé¢æ‰€æœ‰é“¾æ¥çš„åŸºæœ¬å®šä½</li></ul><h2 id="1-3-é¡µèº«-body"><a href="#1-3-é¡µèº«-body" class="headerlink" title="1.3 é¡µèº« body"></a>1.3 é¡µèº« body</h2><h3 id="1-3-1-æ®µè½ä¸æ–‡å­—"><a href="#1-3-1-æ®µè½ä¸æ–‡å­—" class="headerlink" title="1.3.1 æ®µè½ä¸æ–‡å­—"></a>1.3.1 æ®µè½ä¸æ–‡å­—</h3><ul><li>æ®µè½<ul><li>h1~h6 å¤šçº§æ ‡é¢˜</li><li>p æ®µè½</li><li>br æ¢è¡Œ<code>&lt;br/&gt;</code></li><li>hr æ°´å¹³çº¿<code>&lt;hr/&gt;</code></li><li>div åˆ†å‰²-å—å…ƒç´ </li><li>span åŒºåŸŸ-è¡Œå†…å…ƒç´ </li></ul></li><li>æ–‡å­—<ul><li>strong åŠ å¼º-ç²—ä½“</li><li>em å¼ºè°ƒ-æ–œä½“</li><li>cite å¼•ç”¨</li><li>sup ä¸Šæ ‡</li><li>sub ä¸‹æ ‡</li></ul></li><li>ç½‘é¡µç‰¹æ®Šç¬¦å·<ul><li><code>&amp;nbsp;</code>ç©ºæ ¼</li></ul></li></ul><p><em>divå’Œspanæ²¡æœ‰ä»»ä½•è¯­ä¹‰,æ­£æ˜¯å› ä¸ºæ²¡æœ‰è¯­ä¹‰ï¼Œè¿™ä¸¤ä¸ªæ ‡ç­¾ä¸€èˆ¬éƒ½æ˜¯é…åˆCSSæ¥å®šä¹‰å…ƒç´  æ ·å¼çš„</em></p><ul><li><p>divæ˜¯å—å…ƒç´ ï¼Œå¯ä»¥åŒ…å«ä»»ä½•å—å…ƒç´ å’Œè¡Œå†…å…ƒç´ ï¼Œä¸ä¼šä¸å…¶ä»–å…ƒç´ ä½äºåŒä¸€è¡Œï¼›span æ˜¯è¡Œå†…å…ƒç´ ï¼Œå¯ä»¥ä¸å…¶ä»–è¡Œå†…å…ƒç´ ä½äºåŒä¸€è¡Œã€‚</p></li><li><p>divå¸¸ç”¨äºé¡µé¢ä¸­è¾ƒå¤§å—çš„ç»“æ„åˆ’åˆ†ï¼Œç„¶åé…åˆCSSæ¥æ“ä½œï¼›span ä¸€èˆ¬ç”¨æ¥åŒ…å«æ–‡å­—ç­‰, å®ƒæ²¡æœ‰ç»“æ„çš„æ„ä¹‰ï¼Œçº¯ç²¹æ˜¯åº”ç”¨æ ·å¼ã€‚å½“å…¶ä»–è¡Œå†…å…ƒç´ éƒ½ä¸é€‚åˆçš„æ—¶å€™ï¼Œå¯ä»¥ç”¨spanæ¥é…åˆCSS æ“ä½œ</p></li></ul><h3 id="1-3-2-åˆ—è¡¨"><a href="#1-3-2-åˆ—è¡¨" class="headerlink" title="1.3.2 åˆ—è¡¨"></a>1.3.2 åˆ—è¡¨</h3><ul><li>ol æœ‰åºåˆ—è¡¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>æœ‰åºåˆ—è¡¨é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>æœ‰åºåˆ—è¡¨é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>æœ‰åºåˆ—è¡¨é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line">type å±æ€§ï¼š æ•°å­— 123--- å°å†™å­—æ¯ abc--- å¤§å†™å­—æ¯ ABC--- å°å†™ç½—é©¬æ•°å­—</span><br><span class="line">iã€iiã€iiiâ€¦â€¦ å¤§å†™ç½—é©¬æ•°å­— Iã€IIã€IIIâ€¦â€¦</span><br></pre></td></tr></table></figure><ul><li>ul æ— åºåˆ—è¡¨ï¼ˆé‡ç‚¹ï¼‰</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">&quot;åˆ—è¡¨é¡¹ç¬¦å·&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ— åºåˆ—è¡¨é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ— åºåˆ—è¡¨é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ— åºåˆ—è¡¨é¡¹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">type å±æ€§å€¼ disc é»˜è®¤å€¼ï¼Œå®å¿ƒåœ†â€œâ—â€ circle ç©ºå¿ƒåœ†â€œâ—‹â€ square å®å¿ƒæ­£æ–¹å½¢â€œâ– â€</span><br></pre></td></tr></table></figure><ul><li>dl å®šä¹‰åˆ—è¡¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>å®šä¹‰åè¯<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>å®šä¹‰æè¿°<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  â€¦â€¦</span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-3-3-è¡¨æ ¼"><a href="#1-3-3-è¡¨æ ¼" class="headerlink" title="1.3.3 è¡¨æ ¼"></a>1.3.3 è¡¨æ ¼</h3><ul><li><p>åŸºæœ¬ç»“æ„</p><ul><li>table è¡¨æ ¼</li><li>tr è¡¨æ ¼è¡Œ</li><li>td å•å…ƒæ ¼</li></ul></li><li><p>å®Œæ•´ç»“æ„</p><ul><li>caption æ ‡é¢˜</li><li>thead è¡¨å¤´</li><li>th è¡¨å¤´å•å…ƒæ ¼</li><li>tbody è¡¨èº«</li><li>tfoot è¡¨è„š</li><li>td rowspan åˆå¹¶è¡Œ<br><code>&lt;td rowspan=&quot;è·¨åº¦çš„è¡Œæ•°&quot;&gt;</code></li><li>td colspan åˆå¹¶åˆ—<br><code>&lt;td colspan=&quot;è·¨åº¦çš„åˆ—æ•°&quot;&gt;</code></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span></span></span><br><span class="line"><span class="tag">Â Â Â Â &lt;<span class="attr">cation</span>&gt;</span>è¡¨æ ¼æ ‡é¢˜<span class="tag">&lt;/<span class="name">cation</span>&gt;</span></span><br><span class="line">Â Â Â Â <span class="comment">&lt;!--å¤´--&gt;</span></span><br><span class="line">Â Â Â Â <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">th</span>&gt;</span>è¡¨å¤´å•å…ƒæ ¼1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">Â Â Â Â <span class="tag">&lt;<span class="name">th</span>&gt;</span>è¡¨å¤´å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">Â Â Â Â <span class="comment">&lt;!--è¡¨èº«--&gt;</span></span><br><span class="line">Â Â Â Â <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">Â Â Â Â <span class="comment">&lt;!--è¡¨è„š--&gt;</span></span><br><span class="line">Â Â Â Â <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â Â Â Â Â <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">Â Â Â Â <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-3-4-å›¾åƒ"><a href="#1-3-4-å›¾åƒ" class="headerlink" title="1.3.4 å›¾åƒ"></a>1.3.4 å›¾åƒ</h3><p><code>&lt;img src=&quot;å›¾ç‰‡åœ°å€&quot; alt=&quot;å›¾ç‰‡æè¿°ï¼ˆç»™æœç´¢å¼•æ“çœ‹ï¼‰&quot; title=&quot;å›¾ç‰‡æè¿°&quot;&gt;</code></p><ul><li>src å›¾åƒçš„æ–‡ä»¶åœ°å€</li><li>alt å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥æ—¶æç¤ºçš„æ–‡å­—</li><li>title é¼ æ ‡ç§»åŠ¨åˆ°å›¾ç‰‡ä¸Šçš„æç¤ºæ–‡å­—</li></ul><h3 id="1-3-5-é“¾æ¥"><a href="#1-3-5-é“¾æ¥" class="headerlink" title="1.3.5 é“¾æ¥"></a>1.3.5 é“¾æ¥</h3><ul><li>href é“¾æ¥</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;é“¾æ¥åœ°å€&quot;</span> <span class="attr">target</span>=<span class="string">&quot;ç›®æ ‡çª—å£çš„æ‰“å¼€æ–¹å¼&quot;</span>&gt;</span></span><br><span class="line">  target å±æ€§å€¼ \_self é»˜è®¤æ–¹å¼ï¼Œå³åœ¨å½“å‰çª—å£æ‰“å¼€é“¾æ¥ \_blank</span><br><span class="line">  åœ¨ä¸€ä¸ªå…¨æ–°çš„ç©ºç™½çª—å£ä¸­æ‰“å¼€é“¾æ¥ \_top åœ¨é¡¶å±‚æ¡†æ¶ä¸­æ‰“å¼€é“¾æ¥ \_parent</span><br><span class="line">  åœ¨å½“å‰æ¡†æ¶çš„ä¸Šä¸€å±‚é‡Œæ‰“å¼€é“¾æ¥&lt;/a</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><ul><li><p>å†…éƒ¨é“¾æ¥</p></li><li><p>é”šç‚¹é“¾æ¥</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#music&quot;</span>&gt;</span>æ¨èéŸ³ä¹<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;music&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>å†…éƒ¨é¡µé¢é“¾æ¥</p></li><li><p>å¤–éƒ¨é“¾æ¥</p></li></ul><h3 id="1-3-6-è¡¨å•"><a href="#1-3-6-è¡¨å•" class="headerlink" title="1.3.6 è¡¨å•"></a>1.3.6 è¡¨å•</h3><ul><li>input çš„ type ä¸­çš„å±æ€§<br><code>&lt;input type=&quot;è¡¨å•ç±»å‹&quot;/&gt;</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- textå•è¡Œæ–‡æœ¬æ¡†</span><br><span class="line">- passwordå¯†ç æ–‡æœ¬æ¡†</span><br><span class="line">- buttonæŒ‰é’®</span><br><span class="line">- reseté‡ç½®æŒ‰é’®</span><br><span class="line">- imageå›¾åƒå½¢å¼çš„æäº¤æŒ‰é’®</span><br><span class="line">- radioå•é€‰æŒ‰é’®</span><br><span class="line">- checkboxå¤é€‰æ¡†</span><br><span class="line">- hiddenéšè—å­—æ®µ</span><br><span class="line">- fileæ–‡ä»¶ä¸Šä¼ </span><br></pre></td></tr></table></figure><ul><li><p>textarea<br><code>&lt;textarea rows=&quot;è¡Œæ•°&quot; cols=&quot;åˆ—æ•°&quot;&gt;å¤šè¡Œæ–‡æœ¬æ¡†å†…å®¹&lt;/textarea&gt;</code> å¤šè¡Œæ–‡æœ¬æ¡†</p></li><li><p>select</p></li><li>option</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">multiple</span>=<span class="string">&quot;mutiple&quot;</span> <span class="attr">size</span>=<span class="string">&quot;å¯è§åˆ—è¡¨é¡¹çš„æ•°ç›®&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;é€‰é¡¹å€¼&quot;</span> <span class="attr">selected</span>=<span class="string">&quot;selected&quot;</span>&gt;</span>é€‰é¡¹æ˜¾ç¤ºçš„å†…å®¹<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  â€¦â€¦</span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;é€‰é¡¹å€¼&quot;</span>&gt;</span>é€‰é¡¹æ˜¾ç¤ºçš„å†…å®¹<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-3-7-å¤šåª’ä½“"><a href="#1-3-7-å¤šåª’ä½“" class="headerlink" title="1.3.7 å¤šåª’ä½“"></a>1.3.7 å¤šåª’ä½“</h3><ul><li><p>embed éŸ³é¢‘è§†é¢‘<br><code>&lt;embed src=&quot;å¤šåª’ä½“æ–‡ä»¶åœ°å€&quot; width=&quot;æ’­æ”¾ç•Œé¢çš„å®½åº¦&quot; height=&quot;æ’­æ”¾ç•Œé¢çš„é«˜åº¦&quot;&gt;&lt;/embed&gt;</code><br>src å¯ä»¥æ˜¯ç»å¯¹åœ°å€ä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹åœ°å€<br>width å’Œ height ä½¿ç”¨ px ä½œä¸ºå•ä½</p></li><li><p>bgsound èƒŒæ™¯éŸ³ä¹-åªé€‚ç”¨ ie æµè§ˆå™¨<br><code>&lt;bgsound src=&quot;èƒŒæ™¯éŸ³ä¹çš„åœ°å€&quot;/&gt;</code></p></li></ul><p>loop=â€2â€è¡¨ç¤ºé‡å¤ 2 æ¬¡ï¼Œloop=â€infiniteâ€è¡¨ç¤ºæ— é™æ¬¡å¾ªç¯æ’­æ”¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ loop=â€-1â€è¡¨ç¤ºæ— é™æ¬¡å¾ªç¯æ’­æ”¾ã€‚</p><h3 id="1-3-8-æµ®åŠ¨æ¡†æ¶"><a href="#1-3-8-æµ®åŠ¨æ¡†æ¶" class="headerlink" title="1.3.8 æµ®åŠ¨æ¡†æ¶"></a>1.3.8 æµ®åŠ¨æ¡†æ¶</h3><p>æµ®åŠ¨æ¡†æ¶æ˜¯ä¸€ç§è¾ƒä¸ºç‰¹æ®Šçš„æ¡†æ¶ï¼Œå®ƒæ˜¯åœ¨æµè§ˆå™¨çª—å£ä¸­åµŒå¥—çš„å­çª—å£ï¼Œæ•´ä¸ªé¡µé¢å¹¶ä¸ä¸€å®šæ˜¯æ¡†æ¶é¡µé¢ï¼Œä½†è¦åŒ…å«ä¸€ä¸ªæ¡†æ¶çª—å£</p><ul><li>iframe</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">&quot;æµ®åŠ¨æ¡†æ¶çš„æºæ–‡ä»¶&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">&quot;æµ®åŠ¨æ¡†æ¶çš„å®½&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">height</span>=<span class="string">&quot;æµ®åŠ¨æ¡†æ¶çš„é«˜&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">widthã€heightå®½é«˜ scrollingæ»šåŠ¨æ¡</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">&quot;æµ®åŠ¨æ¡†æ¶çš„æºæ–‡ä»¶&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">width</span>=<span class="string">&quot;æµ®åŠ¨æ¡†æ¶çš„å®½&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">height</span>=<span class="string">&quot;æµ®åŠ¨æ¡†æ¶çš„é«˜&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">scrolling</span>=<span class="string">&quot;å–å€¼&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å–å€¼</p><ul><li>auto é»˜è®¤æ•´ä¸ªè¡¨æ ¼å·¦å¯¹é½</li><li>yes æ€»æ˜¯æ˜¾ç¤ºæ»šåŠ¨æ¡</li><li>no ä»»ä½•æƒ…å†µä¸æ˜¾ç¤ºæ»šåŠ¨æ¡</li></ul><h2 id="1-4-HTML-XHTML-HTML5-ç®€ä»‹"><a href="#1-4-HTML-XHTML-HTML5-ç®€ä»‹" class="headerlink" title="1.4 HTML XHTML HTML5 ç®€ä»‹"></a>1.4 HTML XHTML HTML5 ç®€ä»‹</h2><h3 id="1-4-1-XHTML"><a href="#1-4-1-XHTML" class="headerlink" title="1.4.1 XHTML"></a>1.4.1 XHTML</h3><p>xhtml æ¯” html æ›´åŠ ä¸¥æ ¼</p><ul><li>1ã€XHTML æ ‡ç­¾å¿…é¡»é—­åˆ</li><li>2ã€XHTML æ ‡ç­¾ä»¥åŠå±æ€§å¿…é¡»å°å†™</li><li>3ã€XHTML æ ‡ç­¾å±æ€§å¿…é¡»ç”¨å¼•å·</li><li>4ã€XHTML æ ‡ç­¾ç”¨ jd å±æ€§ä»£æ›¿ name å±</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      â€œ<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;font-weight:bold;color:Red;&quot;</span>&gt;</span>è§†è§‰åŒ–æ€è€ƒ<span class="tag">&lt;/<span class="name">span</span>&gt;</span>â€èƒ½ä»¥ç‹¬ç‰¹è€Œæœ‰æ•ˆçš„æ–¹å¼ï¼Œè®©ä½ çš„å¿ƒæœ‰æ›´å¤§çš„ç©ºé—´æ¥è§£å†³é—®é¢˜ã€‚</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-4-2-HTML5"><a href="#1-4-2-HTML5" class="headerlink" title="1.4.2 HTML5"></a>1.4.2 HTML5</h3><p>HTML 5 é™¤äº†æ–°å¢éƒ¨åˆ†æ ‡ç­¾ä¹‹å¤–ï¼Œè¿˜å¢åŠ äº†ä¸€ç»„æŠ€æœ¯ï¼ŒåŒ…æ‹¬ canvasã€SVGã€WebSocket.æœ¬åœ°å­˜å‚¨ç­‰ã€‚è¿™äº›æ–°å¢çš„æŠ€æœ¯éƒ½æ˜¯ä½¿ç”¨ JavaScript æ¥æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒHTML 5 ä½¿å¾— HTML ä»ä¸€é—¨â€œæ ‡è®°è¯­è¨€â€ è½¬å˜ä¸ºä¸€é—¨ <strong>â€œç¼–ç¨‹è¯­è¨€â€</strong></p><ul><li>å£°æ˜æ›´ç®€æ´ <code>&lt;!DOCTYPE html&gt;</code></li><li>ä¸å†åŒºåˆ†å¤§å°å†™ <code>&lt;div&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/DIV&gt;</code></li><li>å…è®¸å±æ€§å€¼ä¸åŠ å¼•å· <code>&lt;div id=wrapper style=co1or: red&gt; ç»¿å¶å­¦ä¹ ç½‘ &lt;/div&gt;</code></li><li>å…è®¸éƒ¨åˆ†å±æ€§çš„å±æ€§å€¼çœç•¥<ul><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;ntext&quot;</span> <span class="attr">readonly</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">checked</span>/&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><div class="table-container"><table><thead><tr><th>çœç•¥å½¢å¼</th><th>ç­‰ä»·äº</th></tr></thead><tbody><tr><td>checked</td><td>checked=â€ncheckedâ€</td></tr><tr><td>readonly</td><td>readonly=â€readonlyâ€</td></tr><tr><td>defer</td><td>defer=â€deferâ€</td></tr><tr><td>ismap</td><td>ismap=â€ismapâ€</td></tr><tr><td>nohref</td><td>nohref=â€nohrefâ€</td></tr><tr><td>noshade</td><td>noshade=â€noshadeâ€</td></tr><tr><td>nowrap</td><td>nowrap=â€nowrapâ€</td></tr><tr><td>selected</td><td>selected=â€selectedâ€</td></tr><tr><td>disabled</td><td>ciisabled=â€disableciâ€</td></tr><tr><td>multiple</td><td>multiple=â€multipleâ€</td></tr><tr><td>noresize</td><td>noresize=â€disabledâ€</td></tr></tbody></table></div><h2 id="1-5-çŸ¥è¯†ç‚¹"><a href="#1-5-çŸ¥è¯†ç‚¹" class="headerlink" title="1.5 çŸ¥è¯†ç‚¹"></a>1.5 çŸ¥è¯†ç‚¹</h2><h3 id="1-5-1-classä¸id"><a href="#1-5-1-classä¸id" class="headerlink" title="1.5.1 classä¸id"></a>1.5.1 classä¸id</h3><p>class,é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯â€œç±»â€ã€‚å®ƒé‡†ç”¨çš„æ€æƒ³è·ŸCã€Javaç­‰ç¼–ç¨‹è¯­è¨€ä¸­çš„â€œç±»â€ç›¸ä¼¼ã€‚ æˆ‘ä»¬å¯ä»¥ä¸ºåŒä¸€ä¸ªé¡µé¢çš„ç›¸åŒå…ƒç´ æˆ–è€…ä¸åŒå…ƒç´ è®¾ç½®ç›¸åŒçš„class,ç„¶åä½¿å¾—ç›¸åŒclassçš„å…ƒ ç´ å…·æœ‰ç›¸åŒçš„CSSæ ·å¼</p><p><strong>å¯ä»¥ç”¨å¤šç±»å</strong>ï¼Œ<strong>ç”¨ç©ºæ ¼éš”å¼€</strong><br>eg: <code>&lt;h1 class=&quot;title tac&quot;&gt;æ–‡ç« æ€»æ ‡é¢˜&lt;/h1&gt;</code></p><p>idå±æ€§å…·æœ‰å”¯ä¸€æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€ä¸ªé¡µé¢ä¸­ç›¸åŒçš„idåªå…è®¸å‡ºç°ä¸€æ¬¡<br>W3Cå»ºè®®ï¼Œå¯¹ äºé¡µé¢å…³é”®çš„ç»“æ„æˆ–è€…å¤§ç»“æ„ï¼Œæˆ‘ä»¬æ‰ä½¿ç”¨idã€‚æ‰€è°“çš„å…³é”®ç»“æ„ï¼ŒæŒ‡çš„æ˜¯è¯¸å¦‚LOGOã€å¯¼èˆªã€ ä¸»ä½“å†…å®¹ã€åº•éƒ¨ä¿¡æ¯æ ç­‰ç»“æ„ã€‚å¯¹äºä¸€äº›å°åœ°æ–¹ï¼Œè¿˜æ˜¯å»ºè®®ä½¿ç”¨classå±æ€§</p><h3 id="1-5-2-æµè§ˆå™¨æ ‡é¢˜æ å°å›¾æ ‡"><a href="#1-5-2-æµè§ˆå™¨æ ‡é¢˜æ å°å›¾æ ‡" class="headerlink" title="1.5.2 æµè§ˆå™¨æ ‡é¢˜æ å°å›¾æ ‡"></a>1.5.2 æµè§ˆå™¨æ ‡é¢˜æ å°å›¾æ ‡</h3><p>æ”¾åœ¨headé‡Œé¢</p><p><code>&lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; href=&quot;favicon.icon&quot;/&gt;</code></p><h3 id="1-5-3-è¯­ä¹‰åŒ–"><a href="#1-5-3-è¯­ä¹‰åŒ–" class="headerlink" title="1.5.3 è¯­ä¹‰åŒ–"></a>1.5.3 è¯­ä¹‰åŒ–</h3><p>å³å°½å¯èƒ½åœ°ä¸ä½¿ç”¨divæ¥ç¼–å†™ï¼Œç”¨è‡ªå¸¦çš„è¯­å¥æ¥ç¼–å†™</p><ul><li><p>æ ‡é¢˜è¯­ä¹‰åŒ–</p><ul><li>ï¼ˆ1ï¼‰ä¸€ä¸ªé¡µé¢åªèƒ½æœ‰ä¸€ä¸ªh1æ ‡ç­¾</li><li>ï¼ˆ2ï¼‰hl ~ h6ä¹‹é—´ä¸è¦æ–­å±‚</li><li>ï¼ˆ3ï¼‰ä¸è¦ç”¨h1 ~ h6æ¥å®šä¹‰æ ·å¼</li><li>ï¼ˆ4ï¼‰ä¸è¦ç”¨divæ¥ä»£æ›¿h1 ~ h6.</li></ul></li><li><p>å›¾ç‰‡è¯­ä¹‰åŒ–</p><ul><li>ï¼ˆ1ï¼‰ altå±æ€§å’Œtitleå±æ€§<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;å›¾ç‰‡æè¿°(ç»™æœç´¢å¼•æ“çœ‹)&quot;</span> <span class="attr">title</span>=<span class="string">&quot;å›¾ç‰‡æè¿°(ç»™ç”¨æˆ·çœ‹)&quot;</span>&gt;</span></span><br><span class="line">````</span><br><span class="line">  - ï¼ˆ2ï¼‰ figure å…ƒç´ å’Œ figcaption å…ƒç´ </span><br><span class="line">```html</span><br><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>å›¾æ³¨æ–‡å­—<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>è¡¨æ ¼è¯­ä¹‰åŒ–ï¼ˆåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨è¡¨æ ¼å¸ƒå±€ï¼Œåº”è¯¥ä½¿ç”¨æµ®åŠ¨å¸ƒå±€æˆ–è€…å®šä½å¸ƒå±€ï¼‰</p><ul><li>thè¡¨ç¤ºâ€œè¡¨å¤´å•å…ƒæ ¼â€</li><li>captionè¡¨ç¤ºâ€œè¡¨æ ¼æ ‡é¢˜â€</li><li>theadã€tbodyå’Œtfootè¿™3ä¸ªæ ‡ç­¾æŠŠè¡¨æ ¼ä»è¯­ä¹‰ä¸Šåˆ†ä¸ºä¸‰éƒ¨åˆ†: è¡¨å¤´ã€è¡¨èº«å’Œè¡¨è„š<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">          <span class="selector-class">.body</span> &#123;</span></span><br><span class="line"><span class="language-css">              <span class="attribute">font-family</span>: <span class="string">&quot;å¾®è½¯é›…é»‘&quot;</span>;</span></span><br><span class="line"><span class="language-css">              <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">          &#125;</span></span><br><span class="line"><span class="language-css">      </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">              </span><br><span class="line">              <span class="tag">&lt;<span class="name">caption</span>&gt;</span> è¡¨æ ¼æ ‡é¢˜ <span class="tag">&lt;/<span class="name">caption</span>&gt;</span> </span><br><span class="line">              <span class="comment">&lt;!--è¡¨å¤´--&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">th</span>&gt;</span>è¡¨å¤´å•å…ƒæ ¼l<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">th</span>&gt;</span>è¡¨å¤´å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">th</span>&gt;</span> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!--è¡¨èº«--&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼l<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼l<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!--è¡¨è„š--&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼l<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ ‡å‡†å•å…ƒæ ¼2<span class="tag">&lt;/<span class="name">td</span>&gt;</span> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>è¡¨å•è¯­ä¹‰åŒ–</p><ul><li>ï¼ˆ1ï¼‰label æ ‡ç­¾</li><li>ï¼ˆ2ï¼‰fieldset æ ‡ç­¾å’Œ legend æ ‡ç­¾<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;index.aspx&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">legend</span>&gt;</span>ç™»å½•ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span> è´¦å·ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span> å¯†ç ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span> /&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;remember-me&quot;</span> <span class="attr">name</span>=<span class="string">&quot;remember-me&quot;</span> /&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;remember-me&quot;</span>&gt;</span> è®°ä½æˆ‘ <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span> /&gt;</span></span><br><span class="line">  </span><br><span class="line">          <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>å…¶ä»–è¯­ä¹‰åŒ–</p><ul><li>æ¢è¡Œç¬¦ <code>&lt;br/&gt;</code>åªé€‚åˆç”¨äºpæ ‡ç­¾å†… éƒ¨çš„æ¢è¡Œï¼Œä¸èƒ½ç”¨äºå…¶ä»–æ ‡ç­¾</li><li>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯ä½¿ç”¨æ— åºåˆ—è¡¨ulï¼Œæå°‘æƒ…å†µä¸‹ä¼šä½¿ç”¨æœ‰åºåˆ—è¡¨</li><li>strongæ ‡ç­¾å’Œemæ ‡ç­¾ <strong>åŠ ç²—</strong>å’Œ<em>æ–œä½“</em></li><li>delæ ‡ç­¾å’Œinsæ ‡ç­¾   <del>åˆ é™¤çº¿</del> å’Œ <ins>ä¸‹åˆ’çº¿</ins></li><li>imgæ ‡ç­¾</li></ul></li><li><p>è¯­ä¹‰åŒ–éªŒè¯ï¼šå»æ‰cssï¼Œè¦æœ‰å¥½çš„å¯è¯»æ€§</p></li><li><p>html5åˆ é™¤åœ°æ ‡ç­¾</p></li></ul><div class="table-container"><table><thead><tr><th style="text-align:left">æ ‡ç­¾</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left">basefont</td><td>å®šä¹‰é¡µé¢æ–‡æœ¬é»˜è®¤å­—ä½“ï¼Œé¢œè‰²ï¼Œå°ºå¯¸</td></tr><tr><td style="text-align:left">big</td><td>å®šä¹‰å¤§å­—å·æ–‡æœ¬</td></tr><tr><td style="text-align:left">center</td><td>å®šä¹‰æ–‡æœ¬å±…ä¸­</td></tr><tr><td style="text-align:left">font</td><td>å®šä¹‰æ–‡æœ¬çš„å­—ä½“æ ·å¼</td></tr><tr><td style="text-align:left">strike</td><td>å®šä¹‰åˆ é™¤çº¿æ–‡æœ¬</td></tr><tr><td style="text-align:left">s</td><td>å®šä¹‰åˆ é™¤çº¿æ–‡æœ¬</td></tr><tr><td style="text-align:left">u</td><td>å®šä¹‰ä¸‹åˆ’çº¿æ–‡æœ¬</td></tr><tr><td style="text-align:left">dir</td><td>å®šä¹‰ç›®å½•åˆ—è¡¨ï¼Œåº”è¯¥ç”¨ulä»£æ›¿</td></tr><tr><td style="text-align:left">acronym</td><td>å®šä¹‰é¦–å­—æ¯ç¼©å†™ï¼Œåº”è¯¥ç”¨abbrä»£æ›¿</td></tr><tr><td style="text-align:left">isindex</td><td>å®šä¹‰ä¸æ–‡æ¡£ç›¸å…³çš„å¯æœç´¢ç´¢å¼•</td></tr><tr><td style="text-align:left">applet</td><td>å®šä¹‰åµŒå…¥çš„applet,åº”è¯¥ç”¨objectä»£æ›¿</td></tr><tr><td style="text-align:left">frame</td><td>å®šä¹‰framesetä¸­çš„ä¸€ä¸ªç‰¹å®šçš„æ¡†æ¶</td></tr><tr><td style="text-align:left">frameset</td><td>å®šä¹‰ä¸€ä¸ªæ¡†æ¶é›†</td></tr><tr><td style="text-align:left">noframes</td><td>ä¸ºé‚£äº›ä¸æ”¯æŒæ¡†æ¶çš„æµè§ˆå™¨æ˜¾ç¤ºæ–‡æœ¬</td></tr></tbody></table></div><h2 id="1-6-HTML5"><a href="#1-6-HTML5" class="headerlink" title="1.6 HTML5"></a>1.6 HTML5</h2><h3 id="1-6-1-æ–°çš„è¯­ä¹‰åŒ–æ ‡ç­¾"><a href="#1-6-1-æ–°çš„è¯­ä¹‰åŒ–æ ‡ç­¾" class="headerlink" title="1.6.1 æ–°çš„è¯­ä¹‰åŒ–æ ‡ç­¾"></a>1.6.1 æ–°çš„è¯­ä¹‰åŒ–æ ‡ç­¾</h3><ul><li>headerå¤´éƒ¨æ ‡ç­¾</li><li>navå¯¼èˆªæ ‡ç­¾</li><li>articleå†…å®¹æ ‡ç­¾</li><li>sectionå—çº§æ ‡ç­¾</li><li>asideä¾§è¾¹æ æ ‡ç­¾</li><li>footerå°¾éƒ¨æ ‡ç­¾</li></ul><h3 id="1-6-2-å¤šåª’ä½“éŸ³é¢‘æ ‡ç­¾"><a href="#1-6-2-å¤šåª’ä½“éŸ³é¢‘æ ‡ç­¾" class="headerlink" title="1.6.2 å¤šåª’ä½“éŸ³é¢‘æ ‡ç­¾"></a>1.6.2 å¤šåª’ä½“éŸ³é¢‘æ ‡ç­¾</h3><ul><li>audioéŸ³é¢‘<br>å¯ä»¥åœ¨ä¸ä½¿ç”¨æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½å¤ŸåŸç”Ÿçš„æ”¯æŒéŸ³é¢‘æ ¼å¼æ–‡ä»¶çš„æ’­æ”¾ï¼Œä½†æ˜¯ï¼šæ’­æ”¾æ ¼å¼æ˜¯æœ‰é™çš„<ul><li>autoplayè‡ªåŠ¨æ’­æ”¾</li><li>controlså‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶</li><li>loopæ¯å½“éŸ³é¢‘ç»“æŸæ—¶è‡ªåŠ¨é‡æ–°æ’­æ”¾</li><li>srcéŸ³é¢‘åœ°url</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;./media/snow.mp3&quot;</span> <span class="attr">type</span>=<span class="string">&quot;audio/mpeg&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>videoè§†é¢‘<ul><li>autoplayè‡ªåŠ¨æ’­æ”¾</li><li>controlså‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶</li><li>width px å®½</li><li>height px é«˜</li><li>loopæ¯å½“éŸ³é¢‘ç»“æŸæ—¶è‡ªåŠ¨é‡æ–°æ’­æ”¾</li><li>srcéŸ³é¢‘åœ°url</li><li>preload é¢„å…ˆåŠ è½½</li><li>poster åŠ è½½ç­‰å¾…åœ°ç”»é¢å›¾ç‰‡imgurl</li><li>muted é™éŸ³æ’­æ”¾</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> Â <span class="comment">&lt;!-- &lt;video src=&quot;./media/video.mp4&quot; controls=&quot;controls&quot;&gt;&lt;/video&gt; --&gt;</span></span><br><span class="line">â€‹</span><br><span class="line"> Â <span class="comment">&lt;!-- è°·æ­Œæµè§ˆå™¨ç¦ç”¨äº†è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½ï¼Œå¦‚æœæƒ³è‡ªåŠ¨æ’­æ”¾ï¼Œéœ€è¦æ·»åŠ  muted å±æ€§ --&gt;</span></span><br><span class="line"> Â <span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span> <span class="attr">autoplay</span> <span class="attr">muted</span> <span class="attr">loop</span> <span class="attr">poster</span>=<span class="string">&quot;./media/pig.jpg&quot;</span>&gt;</span></span><br><span class="line"> Â  Â <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;./media/video.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span>&gt;</span></span><br><span class="line"> Â  Â <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;./media/video.ogg&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/ogg&quot;</span>&gt;</span></span><br><span class="line"> Â <span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-6-3-æ–°å¢-input-æ ‡ç­¾"><a href="#1-6-3-æ–°å¢-input-æ ‡ç­¾" class="headerlink" title="1.6.3 æ–°å¢ input æ ‡ç­¾"></a>1.6.3 æ–°å¢ input æ ‡ç­¾</h3><p><img src="https://img-blog.csdnimg.cn/20191229133014181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d1eXhpbnU=,size_16,color_FFFFFF,t_70" alt="inputæ ‡ç­¾"></p><h3 id="1-6-4-æ–°å¢è¡¨å•å±æ€§"><a href="#1-6-4-æ–°å¢è¡¨å•å±æ€§" class="headerlink" title="1.6.4 æ–°å¢è¡¨å•å±æ€§"></a>1.6.4 æ–°å¢è¡¨å•å±æ€§</h3><p><img src="https://img-blog.csdnimg.cn/20191229133048182.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d1eXhpbnU=,size_16,color_FFFFFF,t_70" alt="è¡¨å•å±æ€§"></p><h1 id="2-css-çš„åŸºç¡€"><a href="#2-css-çš„åŸºç¡€" class="headerlink" title="2. css çš„åŸºç¡€"></a>2. css çš„åŸºç¡€</h1><p>CSSæ˜¯ä»€ä¹ˆï¼ŸCSSï¼Œå³â€œCascading Style Sheetï¼ˆå±‚å æ ·å¼è¡¨ï¼‰â€ï¼Œæ˜¯ç”¨æ¥æ§åˆ¶ç½‘é¡µçš„å¤–è§‚çš„ä¸€é—¨æŠ€æœ¯</p><h2 id="2-1-cssçš„å¼•å…¥"><a href="#2-1-cssçš„å¼•å…¥" class="headerlink" title="2.1 cssçš„å¼•å…¥"></a>2.1 cssçš„å¼•å…¥</h2><p>å¤–éƒ¨æ ·å¼è¡¨ã€å†…éƒ¨æ ·å¼è¡¨ã€å†…è”æ ·å¼è¡¨</p><h3 id="2-1-1-å¤–éƒ¨æ ·å¼è¡¨"><a href="#2-1-1-å¤–éƒ¨æ ·å¼è¡¨" class="headerlink" title="2.1.1 å¤–éƒ¨æ ·å¼è¡¨"></a>2.1.1 å¤–éƒ¨æ ·å¼è¡¨</h3><p>æŠŠCSSä»£ç å’ŒHTMLä»£ç éƒ½å•ç‹¬æ”¾åœ¨ä¸åŒæ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨HTMLæ–‡æ¡£ä¸­ä½¿ç”¨linkæ ‡ç­¾æ¥å¼•ç”¨CSSæ ·å¼è¡¨</p><p>å¤–éƒ¨æ ·å¼è¡¨éƒ½æ˜¯åœ¨headæ ‡ç­¾å†…ä½¿ç”¨linkæ ‡ç­¾æ¥å¼•ç”¨çš„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;cssæ–‡ä»¶è·¯å¾„&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-1-2-å†…éƒ¨æ ·å¼è¡¨"><a href="#2-1-2-å†…éƒ¨æ ·å¼è¡¨" class="headerlink" title="2.1.2 å†…éƒ¨æ ·å¼è¡¨"></a>2.1.2 å†…éƒ¨æ ·å¼è¡¨</h3><p>æŒ‡çš„å°±æ˜¯æŠŠCSSä»£ç å’ŒHTMLä»£ç æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå…¶ä¸­CSSä»£ç æ˜¯æ”¾åœ¨<strong>æ ‡ç­¾å¯¹å†…çš„</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span> Â </span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span> Â  Â </span><br><span class="line">    <span class="comment">&lt;!--è¿™æ˜¯å†…éƒ¨æ ·å¼è¡¨ï¼ŒCSSæ ·å¼åœ¨styleæ ‡ç­¾ä¸­å®šä¹‰--&gt;</span> Â  Â </span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"> Â  Â  Â  Â   <span class="selector-tag">p</span>&#123;<span class="attribute">color</span>:Red;&#125; Â  Â  Â </span></span><br><span class="line"><span class="language-css"> Â   </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> Â  </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span> Â </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-1-3-å†…è”æ ·å¼è¡¨-è¡Œå†…å¼"><a href="#2-1-3-å†…è”æ ·å¼è¡¨-è¡Œå†…å¼" class="headerlink" title="2.1.3 å†…è”æ ·å¼è¡¨(è¡Œå†…å¼)"></a>2.1.3 å†…è”æ ·å¼è¡¨(è¡Œå†…å¼)</h3><p>ä¹Ÿæ˜¯æŠŠCSSä»£ç å’ŒHTMLä»£ç æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½†æ˜¯è·Ÿå†…éƒ¨æ ·å¼è¡¨ä¸åŒï¼ŒCSSæ ·å¼ä¸æ˜¯åœ¨<style></style>æ ‡ç­¾å¯¹ä¸­å®šä¹‰ï¼Œè€Œæ˜¯<strong>åœ¨æ ‡ç­¾çš„styleå±æ€§ä¸­å®šä¹‰</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"> Â   <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> Â   <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:Red; &quot;</span>&gt;</span>ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"> Â   <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:Red; &quot;</span>&gt;</span>ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"> Â   <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:Red; &quot;</span>&gt;</span>ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-2-å…ƒç´ çš„idå’Œclass"><a href="#2-2-å…ƒç´ çš„idå’Œclass" class="headerlink" title="2.2 å…ƒç´ çš„idå’Œclass"></a>2.2 å…ƒç´ çš„idå’Œclass</h2><p>idå±æ€§æ˜¯å”¯ä¸€çš„ï¼Œclasså¯ä»¥æœ‰å¤šä¸ª<br><code>&lt;div id=&quot;first&quot;&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/div&gt;</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;first&quot;</span>&gt;</span>ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;first&quot;</span>&gt;</span>ç»¿å¶å­¦ä¹ ç½‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="2-3-CSSé€‰æ‹©å™¨"><a href="#2-3-CSSé€‰æ‹©å™¨" class="headerlink" title="2.3 CSSé€‰æ‹©å™¨"></a>2.3 CSSé€‰æ‹©å™¨</h2><p>å°†æƒ³è¦çš„æ ‡ç­¾é€‰ä¸­ï¼Œç„¶åå†æ“ä½œæ ‡ç­¾</p><p>é€‰æ‹©å™¨<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">é€‰æ‹©å™¨&#123;</span><br><span class="line">    æ ·å¼å±æ€§<span class="number">1</span>:å–å€¼<span class="number">1</span>;</span><br><span class="line">    æ ·å¼å±æ€§<span class="number">2</span>:å–å€¼<span class="number">2</span>;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æ³¨é‡Š*/</span></span><br></pre></td></tr></table></figure></p><h3 id="2-3-1-åŸºæœ¬é€‰æ‹©å™¨"><a href="#2-3-1-åŸºæœ¬é€‰æ‹©å™¨" class="headerlink" title="2.3.1 åŸºæœ¬é€‰æ‹©å™¨"></a>2.3.1 åŸºæœ¬é€‰æ‹©å™¨</h3><h4 id="2-3-1-1-å…ƒç´ é€‰æ‹©å™¨"><a href="#2-3-1-1-å…ƒç´ é€‰æ‹©å™¨" class="headerlink" title="2.3.1.1 å…ƒç´ é€‰æ‹©å™¨"></a>2.3.1.1 å…ƒç´ é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;<span class="attribute">width</span>:<span class="number">100px</span>; <span class="attribute">height</span>:<span class="number">100px</span>;&#125;</span><br><span class="line">å…ƒç´ ç¬¦å· &#123;å±æ€§:å±æ€§å€¼&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-1-2-idé€‰æ‹©å™¨"><a href="#2-3-1-2-idé€‰æ‹©å™¨" class="headerlink" title="2.3.1.2 idé€‰æ‹©å™¨"></a>2.3.1.2 idé€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box</span> &#123;<span class="attribute">width</span>:<span class="number">100px</span>&#125;</span><br><span class="line"><span class="selector-id">#id</span>å±æ€§å€¼ &#123;å±æ€§:å±æ€§å€¼&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-1-3-classé€‰æ‹©å™¨"><a href="#2-3-1-3-classé€‰æ‹©å™¨" class="headerlink" title="2.3.1.3 classé€‰æ‹©å™¨"></a>2.3.1.3 classé€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.red</span> &#123;<span class="attribute">width</span>:<span class="number">100px</span>&#125;</span><br><span class="line"><span class="selector-class">.class</span>å±æ€§å€¼ &#123;å±æ€§:å±æ€§å€¼&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-2-2-å­å…ƒç´ é€‰æ‹©å™¨"><a href="#2-3-2-2-å­å…ƒç´ é€‰æ‹©å™¨" class="headerlink" title="2.3.2.2 å­å…ƒç´ é€‰æ‹©å™¨"></a>2.3.2.2 å­å…ƒç´ é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#father1</span> <span class="selector-id">#p1</span> &#123;<span class="attribute">color</span>:red;&#125;</span><br><span class="line">#çˆ¶å…ƒç´ é€‰æ‹© #å­å…ƒç´ é€‰æ‹© &#123;å±æ€§:å±æ€§å€¼&#125;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">div</span> id=&quot;father1&quot;&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> id=&quot;p1&quot;&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span>&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="2-3-2-5-ç›¸é‚»é€‰æ‹©å™¨"><a href="#2-3-2-5-ç›¸é‚»é€‰æ‹©å™¨" class="headerlink" title="2.3.2.5 ç›¸é‚»é€‰æ‹©å™¨"></a>2.3.2.5 ç›¸é‚»é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#lv</span> + <span class="selector-tag">div</span> &#123;<span class="attribute">color</span>:red;&#125;</span><br><span class="line">#å…ƒç´ <span class="selector-tag">a</span> + å…ƒç´ <span class="selector-tag">a</span>ç›¸é‚»çš„å…„å¼Ÿå…ƒç´  &#123;å±æ€§:å±æ€§å€¼&#125;</span><br><span class="line"></span><br><span class="line">åˆ™æ˜¯ç¬¬ä¸‰ä¸ª<span class="selector-tag">div</span>æ–‡æœ¬ä¸ºçº¢è‰²red</span><br><span class="line">&lt;<span class="selector-tag">div</span>&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span> id=&quot;lv&quot;&gt;</span><br><span class="line">    &lt;<span class="selector-tag">p</span>&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">p</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span>&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span>&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="2-3-2-6-ç¾¤ç»„é€‰æ‹©å™¨"><a href="#2-3-2-6-ç¾¤ç»„é€‰æ‹©å™¨" class="headerlink" title="2.3.2.6 ç¾¤ç»„é€‰æ‹©å™¨"></a>2.3.2.6 ç¾¤ç»„é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h3</span>,<span class="selector-tag">div</span>,<span class="selector-tag">p</span>,<span class="selector-tag">span</span> &#123;<span class="attribute">color</span>:red;&#125;</span><br></pre></td></tr></table></figure><h3 id="2-3-2-å¤åˆé€‰æ‹©å™¨"><a href="#2-3-2-å¤åˆé€‰æ‹©å™¨" class="headerlink" title="2.3.2 å¤åˆé€‰æ‹©å™¨"></a>2.3.2 å¤åˆé€‰æ‹©å™¨</h3><h4 id="2-3-2-1-åä»£é€‰æ‹©å™¨"><a href="#2-3-2-1-åä»£é€‰æ‹©å™¨" class="headerlink" title="2.3.2.1 åä»£é€‰æ‹©å™¨"></a>2.3.2.1 åä»£é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span> <span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h3</span>æ˜¯<span class="selector-tag">div</span>çš„åä»£ï¼Œ<span class="selector-tag">div</span>çš„å…ƒç´ åä¸ºclass</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#father1</span> <span class="selector-id">#p1</span> &#123;<span class="attribute">color</span>:red;&#125;</span><br><span class="line">#çˆ¶å…ƒç´ é€‰æ‹© #å­å…ƒç´ é€‰æ‹© &#123;å±æ€§:å±æ€§å€¼&#125;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">div</span> id=&quot;father1&quot;&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> id=&quot;p1&quot;&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span>&gt;ç»¿å¶å­¦ä¹ ç½‘&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="2-3-2-2-å­å…ƒç´ é€‰æ‹©å™¨-1"><a href="#2-3-2-2-å­å…ƒç´ é€‰æ‹©å™¨-1" class="headerlink" title="2.3.2.2 å­å…ƒç´ é€‰æ‹©å™¨"></a>2.3.2.2 å­å…ƒç´ é€‰æ‹©å™¨</h4><p><strong>åªé€‰æ‹©å„¿å­</strong>ï¼Œ<strong>ä¸ä¼šé€‰æ‹©æ‰€æœ‰çš„åä»£</strong><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å­ä»£é€‰æ‹©å™¨ */</span></span><br><span class="line"><span class="selector-class">.class</span>&gt;<span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="2-3-2-3-äº¤é›†é€‰æ‹©å™¨"><a href="#2-3-2-3-äº¤é›†é€‰æ‹©å™¨" class="headerlink" title="2.3.2.3 äº¤é›†é€‰æ‹©å™¨"></a>2.3.2.3 äº¤é›†é€‰æ‹©å™¨</h4><p>æ—¢æ˜¯pæ ‡ç­¾ åˆæ˜¯.redç±» å…³ç³»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.red</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-2-4-å¹¶é›†é€‰æ‹©å™¨-ç¾¤ç»„é€‰æ‹©å™¨"><a href="#2-3-2-4-å¹¶é›†é€‰æ‹©å™¨-ç¾¤ç»„é€‰æ‹©å™¨" class="headerlink" title="2.3.2.4 å¹¶é›†é€‰æ‹©å™¨(ç¾¤ç»„é€‰æ‹©å™¨)"></a>2.3.2.4 å¹¶é›†é€‰æ‹©å™¨(ç¾¤ç»„é€‰æ‹©å™¨)</h4><p>æ ·å¼ç›¸åŒæ—¶ï¼Œç”¨å¹¶é›†é€‰æ‹©<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>,<span class="selector-tag">span</span>,<span class="selector-class">.red</span>,<span class="selector-id">#id</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="2-3-2-5-é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨"><a href="#2-3-2-5-é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="2.3.2.5 é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨"></a>2.3.2.5 é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨</h4><h5 id="2-3-2-5-1-ä¼ªé€‰æ‹©å™¨"><a href="#2-3-2-5-1-ä¼ªé€‰æ‹©å™¨" class="headerlink" title="2.3.2.5.1 ä¼ªé€‰æ‹©å™¨"></a>2.3.2.5.1 ä¼ªé€‰æ‹©å™¨</h5><p>ç±»é€‰æ‹©å™¨ <code>.demo</code><br>ä¼ªç±»é€‰æ‹©å™¨ <code>:demo</code><br>ä¸ºé“¾æ¥æ·»åŠ ä¸€äº›ç‰¹æ®Šæ•ˆæœ</p><h5 id="2-3-2-5-2-é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨"><a href="#2-3-2-5-2-é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="2.3.2.5.2 é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨"></a>2.3.2.5.2 é“¾æ¥ä¼ªç±»é€‰æ‹©å™¨</h5><ul><li>a:link æœªè®¿é—®é“¾æ¥</li><li>a:visited å·²è®¿é—®é“¾æ¥</li><li>a:hover é¼ æ ‡ç§»åŠ¨åˆ°é“¾æ¥ä¸Š</li><li>a:active é€‰å®šé“¾æ¥</li></ul><p>é¡ºåºä¸èƒ½é¢ å€’ï¼šlvha<br>ä¹Ÿç®—æ˜¯äº¤é›†é€‰æ‹©å™¨çš„å˜ç§<br>å®é™…å¼€å‘ï¼Œéƒ½æ˜¯å…ˆç”¨ä¸€ä¸ªæ€»çš„aé£æ ¼ï¼Œç„¶ååªæ˜¯å†™a:hover</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#9ca7a5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å­ä»£é€‰æ‹©ï¼Œåªæ˜¯navä¸­çš„é“¾æ¥æœ‰hoveræ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-4-CSSçš„fontæ–‡æœ¬æ ·å¼"><a href="#2-4-CSSçš„fontæ–‡æœ¬æ ·å¼" class="headerlink" title="2.4 CSSçš„fontæ–‡æœ¬æ ·å¼"></a>2.4 CSSçš„fontæ–‡æœ¬æ ·å¼</h2><ul><li>font-family å­—ä½“åï¼šå¾®è½¯é›…é»‘ç­‰ç­‰<br><code>font-family:å¾®è½¯é›…é»‘;</code> è¿˜æœ‰ <code>å®‹ä½“</code> <code>Times New Romanç­‰ç­‰</code></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: deeppink;</span><br><span class="line"><span class="attribute">font-size</span>: xx-large;</span><br><span class="line"><span class="attribute">font-family</span>: JetBrains Mono,<span class="string">&quot;å¹¼åœ†&quot;</span>,<span class="string">&quot;microsoft yahei&quot;</span>,<span class="string">&quot;å¾®è½¯é›…é»‘&quot;</span>;</span><br><span class="line"><span class="comment">/*å¤šä¸ªå­—ä½“ç”¨é€—å·éš”å¼€ï¼Œä»å¼€å§‹å¯»æ‰¾å­—ä½“ï¼šå¦‚æœç¬¬ä¸€ä¸ªæ²¡æœ‰ï¼Œç”¨ç¬¬äºŒä¸ªï¼Œå¦‚æœéƒ½æ²¡æœ‰ï¼Œç”¨é»˜è®¤å­—ä½“*/</span></span><br><span class="line"><span class="comment">/*ä¸­æ–‡å­—ä½“éœ€è¦å¼•å·ï¼Œè‹±æ–‡å­—ä½“æ— ç‰¹æ®Šå­—ç¬¦ï¼Œä¸éœ€è¦å¼•å·*/</span></span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;\5FAE\8F6F\96C5\9ED1&quot;</span>   <span class="comment">/*= å¾®è½¯é›…é»‘*/</span></span><br><span class="line">  <span class="comment">/*Unicodeå­—ä½“ï¼Œå¯ä»¥æŸ¥è¡¨*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>font-size å­—ä½“å¤§å°: px/ç™¾åˆ†æ¯”/em<br><code>font-size:15px;</code> ä¸€èˆ¬éƒ½ç”¨pxï¼Œåƒç´ </p></li><li><p>font-weight å­—ä½“ç²—ç»†<br><code>font-weight:bold;</code> <code>normal</code> <code>100~900   400ä¸ºnormalï¼Œ700ä¸ºbold</code><br>ç”¨æ•°å­—æ›´å¥½</p></li><li><p>font-style å­—ä½“æ–œä½“<br><code>font-style:italic;</code>æ–œä½“ <code>oblique</code>ç‰¹æ®Šå­—ä½“ï¼ˆæ— italicå˜é‡ï¼‰ <code>normal</code>é»˜è®¤</p></li><li><p>color é¢œè‰²<br><code>color:blue;</code> <code>color:#000000;</code></p></li></ul><p><strong>ç»¼åˆæ€§fontè¯­æ³•</strong><br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.imporp</span> &#123;</span><br><span class="line"><span class="attribute">font</span>: initial <span class="number">700</span> <span class="number">20px</span> <span class="string">&quot;å¹¼åœ†&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä¹Ÿå°±æ˜¯:</span><br><span class="line">.xuanze &#123;</span><br><span class="line">  <span class="attribute">font</span>: font-style font-weight font-size font-family;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="2-5-CSSçš„å¤–è§‚å±æ€§"><a href="#2-5-CSSçš„å¤–è§‚å±æ€§" class="headerlink" title="2.5 CSSçš„å¤–è§‚å±æ€§"></a>2.5 CSSçš„å¤–è§‚å±æ€§</h2><h3 id="2-5-1-coloræ–‡æœ¬é¢œè‰²"><a href="#2-5-1-coloræ–‡æœ¬é¢œè‰²" class="headerlink" title="2.5.1 coloræ–‡æœ¬é¢œè‰²"></a>2.5.1 coloræ–‡æœ¬é¢œè‰²</h3><ul><li>é¢„å®šä¹‰é¢œè‰²ï¼šredï¼Œgreenï¼Œblueï¼Œpinkç­‰ç­‰</li><li>åå…­è¿›åˆ¶ï¼š#FF0000ï¼Œ#000000é»‘è‰²ï¼Œ#ffffffç™½è‰²ï¼Œ#ff0000çº¢è‰²<ul><li>ç®€å†™ï¼š#ccc   ç”± <code>#cccccc</code>ç®€å†™ï¼Œä¸¤ä¸¤ç›¸åŒ</li></ul></li><li>RGBé¢œè‰²ï¼š<code>rgb(255,0,0)</code> <code>rgb(100%,0%,0%)</code></li></ul><h3 id="2-5-2-æ–‡æœ¬æ°´å¹³å¯¹é½æ–¹å¼"><a href="#2-5-2-æ–‡æœ¬æ°´å¹³å¯¹é½æ–¹å¼" class="headerlink" title="2.5.2 æ–‡æœ¬æ°´å¹³å¯¹é½æ–¹å¼"></a>2.5.2 æ–‡æœ¬æ°´å¹³å¯¹é½æ–¹å¼</h3><p><code>text-align:</code><br>left å·¦å¯¹é½ï¼ˆé»˜è®¤ï¼‰<br>right å³å¯¹é½<br>center å±…ä¸­å¯¹é½</p><h3 id="2-5-3-è¡Œé—´è·"><a href="#2-5-3-è¡Œé—´è·" class="headerlink" title="2.5.3 è¡Œé—´è·"></a>2.5.3 è¡Œé—´è·</h3><p><code>line-height:</code><br>em ç™¾åˆ†æ¯” px<br>ä¸€èˆ¬ç”¨åƒç´ pxï¼Œä½œä¸ºå•ä½ï¼Œä¸€èˆ¬è¡Œè·æ¯”å­—å·å¤§7ã€8åƒç´ </p><h3 id="2-5-4-é¦–è¡Œç¼©è¿›"><a href="#2-5-4-é¦–è¡Œç¼©è¿›" class="headerlink" title="2.5.4 é¦–è¡Œç¼©è¿›"></a>2.5.4 é¦–è¡Œç¼©è¿›</h3><p><code>text-indent:</code> ï¼Œ emä¸ºå¸¸ç”¨å•ä½<br>ä¸ºå­—ç¬¦å•ä½çš„å€æ•°ï¼Œå¦‚1emä¸ºä¸€ä¸ªå­—çš„å®½åº¦</p><h3 id="2-5-5-æ–‡æœ¬çš„è£…é¥°"><a href="#2-5-5-æ–‡æœ¬çš„è£…é¥°" class="headerlink" title="2.5.5 æ–‡æœ¬çš„è£…é¥°"></a>2.5.5 æ–‡æœ¬çš„è£…é¥°</h3><p><code>text-decoration:</code> å»æ‰è¿æ¥ä¸‹åˆ’çº¿<br>none é»˜è®¤ï¼Œæ— è£…é¥°<br>blink é—ªçƒ<br>underline ä¸‹åˆ’çº¿<br>line-through åˆ é™¤çº¿<br>overline ä¸Šåˆ’çº¿</p><h2 id="2-6-æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼"><a href="#2-6-æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼" class="headerlink" title="2.6 æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼"></a>2.6 æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼</h2><p><strong>è¿™èŠ‚æ˜¯é‡ç‚¹</strong></p><h3 id="2-6-1-æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼"><a href="#2-6-1-æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼" class="headerlink" title="2.6.1 æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼"></a>2.6.1 æ ‡ç­¾çš„æ˜¾ç¤ºæ¨¡å¼</h3><p>divåªèƒ½è‡ªå·±å ä¸€è¡Œï¼Œå¯ä»¥æŠŠå¤šä¸ªspanæ”¾åˆ°ä¸€è¡Œï¼Œaé“¾æ¥ä¹Ÿå¯ä»¥ä¸€è¡Œæ”¾å¤šä¸ª</p><p>å—æ ‡ç­¾å’Œè¡Œæ ‡ç­¾</p><h3 id="2-6-2-å—çº§å…ƒç´ "><a href="#2-6-2-å—çº§å…ƒç´ " class="headerlink" title="2.6.2 å—çº§å…ƒç´ "></a>2.6.2 å—çº§å…ƒç´ </h3><p><code>block-level</code></p><p>h1~h6ã€pã€divã€ulã€olã€liç­‰ï¼Œdivæ˜¯å…¸å‹</p><ul><li>é«˜åº¦ã€å®½åº¦ã€å¤–è¾¹è·ã€å†…è¾¹è·éƒ½å¯ä»¥æ§åˆ¶ï¼ˆå¯ä»¥è‡ªå·±è®¾ç½®ï¼‰</li><li>å®½åº¦é»˜è®¤ä¸ºå®¹å™¨ï¼ˆçˆ¶çº§å®½åº¦ï¼‰çš„100%</li><li>é‡Œé¢å¯ä»¥æ”¾è¡Œå†…æˆ–è€…å—çº§å…ƒç´ </li><li>pã€h1~h6ã€dtä¸èƒ½æ”¾å—çº§å…ƒç´ ï¼Œpä¸èƒ½æ”¾div</li></ul><h3 id="2-6-3-è¡Œå†…å…ƒç´ "><a href="#2-6-3-è¡Œå†…å…ƒç´ " class="headerlink" title="2.6.3 è¡Œå†…å…ƒç´ "></a>2.6.3 è¡Œå†…å…ƒç´ </h3><p><code>inline-level</code></p><p>aã€strongã€bã€emã€iã€delã€sã€insã€uã€spanç­‰ï¼Œspanå…¸å‹</p><ul><li>ç›¸é‚»è¡Œå†…å…ƒç´ å†ä¸€è¡Œä¸Šã€ä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ª</li><li>é«˜å®½ä¸èƒ½ç›´æ¥è®¾ç½®</li><li>é»˜è®¤å®½åº¦å°±æ˜¯å®ƒæœ¬èº«çš„å®½åº¦,ä¸æ–‡æœ¬å†…å®¹å¤šå°‘æœ‰å…³</li><li>è¡Œå†…å…ƒç´ åªèƒ½å®¹çº³æ–‡æœ¬æˆ–è€…å…¶ä»–è¡Œå†…å…ƒç´ </li><li>é“¾æ¥é‡Œé¢ä¸èƒ½å†å«æœ‰é“¾æ¥</li><li>ç‰¹æ®Šæƒ…å†µï¼šaå†…å¯ä»¥æ”¾å—çº§å…ƒç´ ï¼Œä½†ç»™aè½¬æ¢ä¸€ä¸‹å—çº§æ¨¡å¼æ›´åŠ å®‰å…¨</li></ul><h3 id="2-6-4-è¡Œå†…å—å…ƒç´ "><a href="#2-6-4-è¡Œå†…å—å…ƒç´ " class="headerlink" title="2.6.4 è¡Œå†…å—å…ƒç´ "></a>2.6.4 è¡Œå†…å—å…ƒç´ </h3><p><code>inline-block</code></p><p>imgã€inputè¡¨å•ç±»ã€tdå•å…ƒæ ¼ç­‰ï¼Œå¯ä»¥å¯¹ä»–ä»¬è®¾ç½®å®½é«˜å’Œå¯¹é½å±æ€§</p><ul><li>å’Œç›¸é‚»çš„è¡Œå†…å…ƒç´ åœ¨ä¸€è¡Œä¸Šã€ä½†ä¼šæœ‰ç©ºç™½ç¼éš™ï¼Œä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ª</li><li>é»˜è®¤å®½åº¦å’Œé«˜åº¦æ˜¯æœ¬èº«å†…å®¹çš„å®½åº¦</li><li>é«˜åº¦ã€è¡Œé«˜ã€å¤–è¾¹è·ã€å†…è¾¹è·å¯ä»¥æ§åˆ¶</li></ul><h3 id="2-6-5-æ˜¾ç¤ºæ¨¡å¼è½¬æ¢display"><a href="#2-6-5-æ˜¾ç¤ºæ¨¡å¼è½¬æ¢display" class="headerlink" title="2.6.5 æ˜¾ç¤ºæ¨¡å¼è½¬æ¢display"></a>2.6.5 æ˜¾ç¤ºæ¨¡å¼è½¬æ¢display</h3><ul><li>å—è½¬æ¢ä¸ºè¡Œï¼š<code>display:inline;</code></li><li>è¡Œè½¬æ¢ä¸ºå—ï¼š<code>display:block;</code></li><li>å—ã€è¡Œè½¬æ¢ä¸ºè¡Œå†…å—ï¼š<code>display:inline-block</code></li></ul><h2 id="2-7-è¡Œé«˜line-height"><a href="#2-7-è¡Œé«˜line-height" class="headerlink" title="2.7 è¡Œé«˜line-height"></a>2.7 è¡Œé«˜line-height</h2><p>å¯ä»¥é—´æ¥è®©æ–‡å­—å‚ç›´å±…ä¸­</p><h3 id="2-7-1-è¡Œé«˜æµ‹é‡"><a href="#2-7-1-è¡Œé«˜æµ‹é‡" class="headerlink" title="2.7.1 è¡Œé«˜æµ‹é‡"></a>2.7.1 è¡Œé«˜æµ‹é‡</h3><p>è¡Œé«˜æµ‹é‡ï¼šæœ‰è‹±æ–‡çš„è¯åŸºçº¿ä¸åŸºçº¿é—´çš„è·ç¦»ã€ä¸­æ–‡å¯ä»¥ç›´æ¥é‡åº•çº¿</p><p><code>![è¡Œé«˜æµ‹é‡](/img/hcj/hgcl.png)</code></p><h3 id="2-7-2-å•è¡Œæ–‡æœ¬å‚ç›´å±…ä¸­"><a href="#2-7-2-å•è¡Œæ–‡æœ¬å‚ç›´å±…ä¸­" class="headerlink" title="2.7.2 å•è¡Œæ–‡æœ¬å‚ç›´å±…ä¸­"></a>2.7.2 å•è¡Œæ–‡æœ¬å‚ç›´å±…ä¸­</h3><p>ä¸Šè·ç¦»+æ–‡å­—é«˜åº¦+ä¸‹è·ç¦» = å—é«˜</p><p><strong>è¡Œé«˜</strong><br><strong>ç­‰äºé«˜åº¦</strong>ï¼Œ<strong>æ–‡å­—å‚ç›´å±…ä¸­</strong><br>å¤§äºé«˜åº¦ï¼Œæ–‡å­—åä¸‹<br>å°äºé«˜åº¦ï¼Œæ–‡å­—åä¸Š</p><h2 id="2-8-CSSèƒŒæ™¯background"><a href="#2-8-CSSèƒŒæ™¯background" class="headerlink" title="2.8 CSSèƒŒæ™¯background"></a>2.8 CSSèƒŒæ™¯background</h2><h3 id="2-8-1-èƒŒæ™¯é¢œè‰²color"><a href="#2-8-1-èƒŒæ™¯é¢œè‰²color" class="headerlink" title="2.8.1 èƒŒæ™¯é¢œè‰²color"></a>2.8.1 èƒŒæ™¯é¢œè‰²color</h3><p><code>-color:</code><br>transparenté€æ˜è‰²â€”é»˜è®¤é€æ˜</p><h3 id="2-8-2-èƒŒæ™¯å›¾ç‰‡image"><a href="#2-8-2-èƒŒæ™¯å›¾ç‰‡image" class="headerlink" title="2.8.2 èƒŒæ™¯å›¾ç‰‡image"></a>2.8.2 èƒŒæ™¯å›¾ç‰‡image</h3><p><code>background-image: url(images/1.jpg)</code><br>é»˜è®¤urlä¸ºnone,urlä¸­çš„åœ°å€ä¸ç”¨åŠ å¼•å·</p><h3 id="2-8-3-èƒŒæ™¯å¹³é“ºrepeat"><a href="#2-8-3-èƒŒæ™¯å¹³é“ºrepeat" class="headerlink" title="2.8.3 èƒŒæ™¯å¹³é“ºrepeat"></a>2.8.3 èƒŒæ™¯å¹³é“ºrepeat</h3><p><code>background-repeat:</code><br>é»˜è®¤repeat å¹³é“º<br>no-repeat ä¸å¹³é“º<br>repeat-x æ¨ªå‘å¹³é“º<br>repeat-y çºµå‘å¹³é“º</p><h3 id="2-8-4-èƒŒæ™¯ä½ç½®positionï¼ˆé‡ç‚¹ï¼‰"><a href="#2-8-4-èƒŒæ™¯ä½ç½®positionï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="2.8.4 èƒŒæ™¯ä½ç½®positionï¼ˆé‡ç‚¹ï¼‰"></a>2.8.4 èƒŒæ™¯ä½ç½®positionï¼ˆé‡ç‚¹ï¼‰</h3><p><code>background-position:</code><br>length ç™¾åˆ†æ•°ï¼Œæµ®ç‚¹æ•°å­å’Œå•ä½æ ‡è¯†ç¬¦ç»„æˆçš„é•¿åº¦å€¼<br>positionåé¢æ˜¯å®Œæ•´çš„ä½ç½®åæ ‡ï¼Œå¯ä»¥åŠ æ–¹ä½åè¯æˆ–è€…æ•°å­—</p><ul><li>æ–¹ä½åè¯ï¼š<code>right top;</code> å³ä¸Šè§’,,left,bottom,center<ul><li><code>left top</code> ä¸ <code>top left</code>æ•ˆæœç›¸åŒï¼Œé¡ºåºæ— å…³</li><li>åªå†™ä¸€ä¸ªçš„è¯ï¼Œå¦ä¸€ä¸ªé»˜è®¤å±…ä¸­</li></ul></li></ul><p>å¸¸ç”¨çš„è¶…å¤§èƒŒæ™¯å›¾ç‰‡<code>center top</code></p><ul><li>æ•°å­—åæ ‡ï¼š <code>xåæ ‡ yåæ ‡;</code>,å¦‚<code>10px 50px;</code><ul><li>ç¬¬ä¸€ä¸ªä¸ºxåæ ‡ï¼Œç¬¬äºŒä¸ªä¸ºyåæ ‡ï¼Œé¡ºåºæœ‰å…³</li><li>åªç»™ä¸€ä¸ªå€¼ï¼Œåˆ™é»˜è®¤ä¸ºxåæ ‡ï¼Œå¦ä¸€ä¸ªé»˜è®¤å±…ä¸­</li><li>å¦‚æœç²¾ç¡®å’Œæ–¹ä½æ··åˆä½¿ç”¨ï¼Œåˆ™ç²¾ç¡®å€¼ç¬¬ä¸€ä¸ªä¸ºxï¼Œç¬¬äºŒä¸ªä¸ºy</li></ul></li></ul><h3 id="2-8-5-èƒŒæ™¯é™„ç€"><a href="#2-8-5-èƒŒæ™¯é™„ç€" class="headerlink" title="2.8.5 èƒŒæ™¯é™„ç€"></a>2.8.5 èƒŒæ™¯é™„ç€</h3><p><code>background-attachment:</code><br><code>scroll</code> æ»šåŠ¨<br><code>fixed</code> å›ºå®š</p><h3 id="2-8-6-èƒŒæ™¯ç®€å†™"><a href="#2-8-6-èƒŒæ™¯ç®€å†™" class="headerlink" title="2.8.6 èƒŒæ™¯ç®€å†™"></a>2.8.6 èƒŒæ™¯ç®€å†™</h3><p><code>background: transparent url(image.jpg) repeat-y scroll center top;</code><br><code>background:</code>èƒŒæ™¯é¢œè‰² å›¾ç‰‡åœ°å€ èƒŒæ™¯å¹³é“º èƒŒæ™¯æ»šåŠ¨ èƒŒæ™¯ä½ç½®;</p><h3 id="2-8-7-èƒŒæ™¯é€æ˜ï¼ˆCSS3ï¼‰"><a href="#2-8-7-èƒŒæ™¯é€æ˜ï¼ˆCSS3ï¼‰" class="headerlink" title="2.8.7 èƒŒæ™¯é€æ˜ï¼ˆCSS3ï¼‰"></a>2.8.7 èƒŒæ™¯é€æ˜ï¼ˆCSS3ï¼‰</h3><p>é»‘è‰²åŠé€æ˜ï¼Œrgba(red,green,blue,alpha)<br>alphaï¼šé€æ˜åº¦0~1</p><p><code>background: rgba(0,0,0,0.3);</code></p><ul><li>ç®€ç•¥æ˜¾ç¤º<code>rgba(0,0,0,.3)</code></li><li>åŠé€æ˜åªæ˜¯ç›’å­åŠé€æ˜ï¼Œå†…å®¹ä¸å—å½±å“</li></ul><h2 id="2-9-CSSä¸‰å¤§ç‰¹æ€§"><a href="#2-9-CSSä¸‰å¤§ç‰¹æ€§" class="headerlink" title="2.9 CSSä¸‰å¤§ç‰¹æ€§"></a>2.9 CSSä¸‰å¤§ç‰¹æ€§</h2><h3 id="2-9-1-CSSå±‚å æ€§"><a href="#2-9-1-CSSå±‚å æ€§" class="headerlink" title="2.9.1 CSSå±‚å æ€§"></a>2.9.1 CSSå±‚å æ€§</h3><p>é€šä¿—ï¼šå‰é¢æœ‰ä¸€ä¸ªdivå±æ€§ï¼Œåé¢å†å†™ä¸€ä¸ªä¸€æ ·çš„ï¼Œåˆ™ä¼šä½¿ç”¨åé¢çš„</p><ul><li>å°±è¿‘åŸåˆ™ï¼Œé‚£ä¸ªæ ·å¼ç¦»ç€ç»“æ„è¿‘ï¼Œå°±æ‰§è¡Œé‚£ä¸ªæ ·å¼</li><li>æ ·å¼ä¸å†²çªï¼Œä¸ä¼šå±‚å </li></ul><h3 id="2-9-2-CSSç»§æ‰¿æ€§"><a href="#2-9-2-CSSç»§æ‰¿æ€§" class="headerlink" title="2.9.2 CSSç»§æ‰¿æ€§"></a>2.9.2 CSSç»§æ‰¿æ€§</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å†…å®¹<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>pä¸­çš„å†…å®¹ä¹Ÿæ˜¯redçº¢è‰²</p><ul><li>æ°å½“çš„ä½¿ç”¨ç»§æ‰¿å¯ä»¥è®©ä»£ç æ›´åŠ ç®€æ´</li><li>text-ï¼Œfont-ï¼Œline-ï¼Œåªæœ‰è¿™äº›å…ƒç´ å¯ä»¥ç»§æ‰¿</li></ul><h3 id="2-9-3-CSSä¼˜å…ˆçº§ï¼ˆé‡ç‚¹ï¼‰"><a href="#2-9-3-CSSä¼˜å…ˆçº§ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="2.9.3 CSSä¼˜å…ˆçº§ï¼ˆé‡ç‚¹ï¼‰"></a>2.9.3 CSSä¼˜å…ˆçº§ï¼ˆé‡ç‚¹ï¼‰</h3><p>åŒä¸€å…ƒç´ ä¸Šæœ‰ä¸åŒçš„è§„åˆ™</p><ul><li>é€‰æ‹©å™¨ç›¸åŒï¼Œæ‰§è¡Œå°±è¿‘åŸåˆ™ï¼ˆå±‚å æ€§ï¼‰</li><li>é€‰æ‹©å™¨ä¸åŒï¼Œå¦‚ä¸€ä¸ª<code>div</code>ï¼Œä¸€ä¸ª<code>.class</code>ï¼Œä¸¤ä¸ªé€‰æ‹©å™¨ï¼Œé€‰æ‹©<code>.class</code></li></ul><h4 id="2-9-3-1-æƒé‡è®¡ç®—å…¬å¼"><a href="#2-9-3-1-æƒé‡è®¡ç®—å…¬å¼" class="headerlink" title="2.9.3.1 æƒé‡è®¡ç®—å…¬å¼"></a>2.9.3.1 æƒé‡è®¡ç®—å…¬å¼</h4><div class="table-container"><table><thead><tr><th>é€‰æ‹©å™¨</th><th>è®¡ç®—æƒé‡å…¬å¼</th></tr></thead><tbody><tr><td>ç»§æ‰¿æˆ–è€…*</td><td>0,0,0,0</td></tr><tr><td>æ¯ä¸ªå…ƒç´ æ ‡ç­¾é€‰æ‹©å™¨</td><td>0,0,0,1</td></tr><tr><td>æ¯ä¸ªå…ƒç´ ç±»é€‰æ‹©å™¨.</td><td>0,0,1,0</td></tr><tr><td>æ¯ä¸ªå…ƒç´ idé€‰æ‹©å™¨#</td><td>0,1,0,0</td></tr><tr><td>æ¯ä¸ªå…ƒç´ è¡Œå†…é€‰æ‹©å™¨style</td><td>1,0,0,0</td></tr><tr><td>ç›´æ¥ç”¨!important</td><td>æƒé‡æœ€é«˜</td></tr></tbody></table></div><p>æœ€é«˜æƒé‡çš„ç”¨æ³•<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>åªè¦æ˜¯ç»§æ‰¿æƒé‡ä¸€å®šä¸º0</strong></p><ul><li>å¦‚æœè¯¥æ ‡ç­¾è¢«é€‰ä¸­ï¼Œåˆ™æ¯”è¾ƒæƒé‡</li><li>å¦‚æœæ ‡ç­¾æ²¡æœ‰è¢«é€‰ä¸­ï¼Œåˆ™å§‹ç»ˆä¸º0</li></ul><h4 id="2-9-3-2-æƒé‡è®¡ç®—å åŠ "><a href="#2-9-3-2-æƒé‡è®¡ç®—å åŠ " class="headerlink" title="2.9.3.2 æƒé‡è®¡ç®—å åŠ "></a>2.9.3.2 æƒé‡è®¡ç®—å åŠ </h4><p>äº¤é›†é€‰æ‹©å™¨ã€åä»£é€‰æ‹©å™¨ä¼šå‡ºç°æƒé‡å åŠ <br>å¦‚ï¼š</p><ul><li><code>div ul li</code>   0,0,0,3</li><li><code>.nav ul li</code>  0,0,1,2</li><li><code>a:hover</code>  0,0,1,1</li><li><code>.nav a</code>  0,0,1,1</li></ul><h2 id="2-10-ç›’å­æ¨¡å‹ï¼ˆCSSé‡ç‚¹ï¼‰"><a href="#2-10-ç›’å­æ¨¡å‹ï¼ˆCSSé‡ç‚¹ï¼‰" class="headerlink" title="2.10 ç›’å­æ¨¡å‹ï¼ˆCSSé‡ç‚¹ï¼‰"></a>2.10 ç›’å­æ¨¡å‹ï¼ˆCSSé‡ç‚¹ï¼‰</h2><h3 id="2-10-1-ç›’å­æ¨¡å‹ä»‹ç»"><a href="#2-10-1-ç›’å­æ¨¡å‹ä»‹ç»" class="headerlink" title="2.10.1 ç›’å­æ¨¡å‹ä»‹ç»"></a>2.10.1 ç›’å­æ¨¡å‹ä»‹ç»</h3><p>ç½‘é¡µå¸ƒå±€æœ¬è´¨</p><ul><li>è®¾ç½®å¥½å„ä¸ªç›’å­çš„å¤§å°ï¼Œæ‘†æ”¾å¥½ç›’å­çš„ä½ç½®</li><li>ç„¶åæ”¾å†…å®¹ï¼ˆå›¾ç‰‡ï¼Œæ–‡å­—ç­‰ç­‰ï¼‰</li></ul><p><strong>ç›’å­æ¨¡å‹Box Model</strong></p><ul><li>ç›’å­ç»„æˆå››éƒ¨åˆ†ï¼šBorderåšåº¦ï¼ˆè¾¹ç¼˜ï¼‰ï¼Œcontentå†…å®¹ï¼ŒPaddingå†…è¾¹è·ï¼ŒMarginç›’å­ä¸ç›’å­é—´çš„è·ç¦»ï¼ˆå¤–è¾¹è·ï¼‰</li></ul><p><code>![ç›’å­æ¨¡å‹](/img/hcj/boxmodel.png)</code></p><h3 id="2-10-2-ç›’å­è¾¹æ¡†border"><a href="#2-10-2-ç›’å­è¾¹æ¡†border" class="headerlink" title="2.10.2 ç›’å­è¾¹æ¡†border"></a>2.10.2 ç›’å­è¾¹æ¡†border</h3><p>ç»¼åˆæ€§å†™æ³•ï¼š<code>border: 1px solid pink;</code>æ²¡æœ‰é¡ºåº </p><p><code>border-width:</code> é»˜è®¤mediumï¼Œè¾¹æ¡†å®½åº¦px<br><code>border-style:</code> è¾¹æ¡†æ ·å¼ï¼Œnoneï¼Œhiddenï¼Œdottedç‚¹çº¿ï¼Œdashedè™šçº¿ï¼Œ<strong>solidå®çº¿</strong><br><code>border-color:</code> é¢œè‰²</p><h4 id="2-10-2-1-è¾¹æ¡†åˆ†å¼€å†™"><a href="#2-10-2-1-è¾¹æ¡†åˆ†å¼€å†™" class="headerlink" title="2.10.2.1 è¾¹æ¡†åˆ†å¼€å†™"></a>2.10.2.1 è¾¹æ¡†åˆ†å¼€å†™</h4><p><code>border-top:</code> ä¸Šè¾¹æ¡†ç»¼åˆå†™æ³•ï¼Œå…·ä½“å†™<code>border-top-width</code>ç­‰ç­‰<br><code>border-bottom:</code> ä¸‹è¾¹æ¡†<br><code>border-right:</code> å³è¾¹æ¡†<br><code>border-left:</code> å·¦è¾¹æ¡†</p><p>ä¾‹å­<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="comment">/* border-top: none;</span></span><br><span class="line"><span class="comment">  border-left: none;</span></span><br><span class="line"><span class="comment">  border-right: none;</span></span><br><span class="line"><span class="comment">  border-bottom: 1px dashed pink;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç”¨æˆ·å: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">å¯†ç ï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-10-2-2-è¡¨æ ¼çš„ç»†çº¿è¾¹æ¡†"><a href="#2-10-2-2-è¡¨æ ¼çš„ç»†çº¿è¾¹æ¡†" class="headerlink" title="2.10.2.2 è¡¨æ ¼çš„ç»†çº¿è¾¹æ¡†"></a>2.10.2.2 è¡¨æ ¼çš„ç»†çº¿è¾¹æ¡†</h4><p>è¡¨æ ¼çš„ä¸¤ä¸ªå•å…ƒæ ¼åœ¨é‡åˆæ—¶ä¼šå‘ç”Ÿé‡å ï¼Œä»è€Œä½¿å¾—è¾¹æ¡†å˜ç²—</p><p>åˆå¹¶å•å…ƒæ ¼ï¼š<code>table &#123;border-collapse:collapse;&#125;</code><br>ç›¸é‚»è¾¹æ¡†åˆå¹¶åœ¨ä¸€èµ·ï¼Œè€Œä¸ä¼šå˜ç²—</p><h3 id="2-10-3-ç›’å­å†…è¾¹è·padding"><a href="#2-10-3-ç›’å­å†…è¾¹è·padding" class="headerlink" title="2.10.3 ç›’å­å†…è¾¹è·padding"></a>2.10.3 ç›’å­å†…è¾¹è·padding</h3><p>å•ä½px<br><code>padding-left:</code><br><code>padding-right:</code><br><code>padding-top:</code><br><code>padding-bottom:</code></p><ul><li>å†…å®¹å’Œè¾¹æ¡†æœ‰äº†è·ç¦»</li><li>æ·»åŠ å†…è¾¹è·ï¼Œç›’å­ä¼šå˜å¤§</li><li>ç®€å†™ï¼š<br><code>padding: 20px;</code> è§£é‡Šï¼šä¸Šä¸‹å·¦å³éƒ½æ˜¯20pxçš„å†…è¾¹è·<br><code>padding: 10px 20px;</code>  ä¸Šä¸‹10pxï¼Œå·¦å³20px<br><code>padding: 10px 20px 30px;</code> ä¸Š10pxï¼Œå·¦å³20pxï¼Œä¸‹30px<br><code>padding: 10px 20px 30px 40px;</code> ä¸Š10 ï¼Œå³20ï¼Œä¸‹30ï¼Œå·¦40ï¼Œé¡ºæ—¶é’ˆ</li></ul><hr><p><code>![æ–°æµªå¯¼èˆª](/img/hcj/xldh.png)</code></p><p>ç»™ç›’å­æŒ‡å®šä¸€ä¸ªpaddingè€Œä¸ç»™å®½åº¦ï¼Œå®ç°ä¸åŒå†…å®¹ï¼Œä¸åŒå®½åº¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>xl<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.nav</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">41px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">252</span>, <span class="number">252</span>, <span class="number">252</span>);</span></span><br><span class="line"><span class="language-css"><span class="attribute">border-top</span>: <span class="number">4px</span> solid <span class="number">#dd5600</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#edefec</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.nav</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">41px</span>;</span></span><br><span class="line"><span class="language-css"><span class="comment">/* background-color: pink; */</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">line-height</span>: <span class="number">41px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: <span class="number">#4c4c4c</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: <span class="number">#eaedea</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>è®¾ä¸ºé¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æ‰‹æœºæ–°æµªç½‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç§»åŠ¨å®¢æˆ·ç«¯<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>åšå®¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å¾®åš<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>å…³æ³¨æˆ‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p><strong>ç›’å­æ¨¡å‹çš„è®¡ç®—</strong></p><p><code>![ç›’å­æ¨¡å‹](/img/hcj/boxmodel.png)</code></p><p><strong>ç›’å­çš„å®é™…å¤§å° = å†…å®¹å®½åº¦ é«˜åº¦ + å†…è¾¹è· + è¾¹æ¡†</strong></p><ul><li><code>padding: 10px</code>ä¼šæŠŠç›’å­çš„å®½é«˜å„å¢åŠ 20px</li><li>è§£å†³æ–¹æ³•ï¼š è¦è®©ç›’å­ä¿æŒåŸå¤§å°ï¼Œåˆ™è¦ä¿®æ”¹widthï¼Œheightï¼Œå‡å»å†…è¾¹è·å³å¯</li></ul><p>ç‰¹æ®Šæƒ…å†µï¼špaddingä¸ä¼šæ’‘å¼€çš„æƒ…å†µ<br>å¦‚æœè¿™ä¸ªç›’å­æ²¡æœ‰å®½åº¦ï¼Œåˆ™paddingä¸ä¼šæ’‘å¼€ç›’å­ï¼Œç›’å­å†…çš„ç›’å­ä¸ä¼šæ’‘å¼€ç›’å­</p><h3 id="2-10-4-ç›’å­çš„å¤–è¾¹è·margin"><a href="#2-10-4-ç›’å­çš„å¤–è¾¹è·margin" class="headerlink" title="2.10.4 ç›’å­çš„å¤–è¾¹è·margin"></a>2.10.4 ç›’å­çš„å¤–è¾¹è·margin</h3><p><code>margin-left:</code><br><code>margin-right:</code><br><code>margin-top:</code><br><code>margin-bottom:</code><br>ç®€å†™ï¼Œä¸paddingä¸€æ ·<br><code>margin: 10px</code> ä¸Šä¸‹å·¦å³</p><h4 id="2-10-4-1-å—çº§ç›’å­å±…ä¸­å¯¹é½"><a href="#2-10-4-1-å—çº§ç›’å­å±…ä¸­å¯¹é½" class="headerlink" title="2.10.4.1 å—çº§ç›’å­å±…ä¸­å¯¹é½"></a>2.10.4.1 å—çº§ç›’å­å±…ä¸­å¯¹é½</h4><p>å±…ä¸­å¯¹é½ï¼šæœ‰å®½åº¦ã€å·¦å³å¤–è¾¹è·è®¾ä¸º<code>auto</code></p><ul><li><p>ç¬¬ä¸€ç§å†™æ³•<br><code>width: 600px;</code><br><code>margin-left: auto;</code><br><code>margin-right: auto;</code></p></li><li><p>ç¬¬äºŒç§å†™æ³•<br><code>margin: auto;</code></p></li><li><p>ç¬¬ä¸‰ç§å†™æ³•<br><code>margin: 0 auto;</code><br>ä¸Šä¸‹ä¸º<code>0</code> ï¼Œå·¦å³<code>auto</code></p></li></ul><h4 id="2-10-4-2-æ–‡å­—å±…ä¸­ï¼Œç›’å­å±…ä¸­"><a href="#2-10-4-2-æ–‡å­—å±…ä¸­ï¼Œç›’å­å±…ä¸­" class="headerlink" title="2.10.4.2 æ–‡å­—å±…ä¸­ï¼Œç›’å­å±…ä¸­"></a>2.10.4.2 æ–‡å­—å±…ä¸­ï¼Œç›’å­å±…ä¸­</h4><ul><li><p>æ–‡å­—æ°´å¹³å±…ä¸­ï¼š<code>text-aligh: center;</code><br>ä¹Ÿå¯ä»¥è®©è¡Œå†…å…ƒç´ å’Œè¡Œå†…å—å…ƒç´ å±…ä¸­å¯¹é½</p></li><li><p>ç›’å­æ°´å¹³å±…ä¸­ï¼š<code>margin: 10px auto;</code></p></li></ul><h4 id="2-10-4-3-æ’å…¥å›¾ç‰‡å’ŒèƒŒæ™¯å›¾ç‰‡"><a href="#2-10-4-3-æ’å…¥å›¾ç‰‡å’ŒèƒŒæ™¯å›¾ç‰‡" class="headerlink" title="2.10.4.3 æ’å…¥å›¾ç‰‡å’ŒèƒŒæ™¯å›¾ç‰‡"></a>2.10.4.3 æ’å…¥å›¾ç‰‡å’ŒèƒŒæ™¯å›¾ç‰‡</h4><p>é€šå¸¸ç”¨æ’å…¥å›¾ç‰‡</p><ul><li>æ’å…¥å›¾ç‰‡<code>&lt;img src=&quot;url&quot; alt=&quot;&quot;&gt;</code><br>ç§»åŠ¨ä½ç½®åªèƒ½é€šè¿‡ç›’æ¨¡å‹<code>padding</code>æˆ–<code>margin</code>å€¼æ¥ç§»åŠ¨</li></ul><p>èƒŒæ™¯å›¾ç‰‡å¾ˆå°‘ç”¨ï¼Œå°å›¾æ ‡æˆ–è€…è¶…å¤§èƒŒæ™¯</p><ul><li>èƒŒæ™¯å›¾ç‰‡<code>background-image: url(url);</code><br>ç§»åŠ¨ä½ç½®åªèƒ½ç”¨<code>background-position: x,y;</code></li></ul><h4 id="2-10-4-4-æ¸…é™¤å…ƒç´ é»˜è®¤çš„å†…å¤–è¾¹è·ï¼ˆå†™cssç¬¬ä¸€å¥ä»£ç ï¼Œå¾ˆé‡è¦ï¼‰"><a href="#2-10-4-4-æ¸…é™¤å…ƒç´ é»˜è®¤çš„å†…å¤–è¾¹è·ï¼ˆå†™cssç¬¬ä¸€å¥ä»£ç ï¼Œå¾ˆé‡è¦ï¼‰" class="headerlink" title="2.10.4.4 æ¸…é™¤å…ƒç´ é»˜è®¤çš„å†…å¤–è¾¹è·ï¼ˆå†™cssç¬¬ä¸€å¥ä»£ç ï¼Œå¾ˆé‡è¦ï¼‰"></a>2.10.4.4 æ¸…é™¤å…ƒç´ é»˜è®¤çš„å†…å¤–è¾¹è·ï¼ˆå†™cssç¬¬ä¸€å¥ä»£ç ï¼Œå¾ˆé‡è¦ï¼‰</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸€äº›å…ƒç´ æœ‰é»˜è®¤çš„å†…å¤–è¾¹è·ï¼Œè¦ç¾è§‚å°±è¦åˆ æ‰</li><li><strong>è¡Œå†…æ ‡ç­¾ï¼Œå°½é‡åªè®¾ç½®å·¦å³å†…å¤–è¾¹è·ï¼Œä¸è®¾ç½®ä¸Šä¸‹å†…å¤–è¾¹è·ï¼ˆä¸ç®¡ç”¨ï¼‰</strong></li></ul><h4 id="2-10-4-5-å¤–è¾¹è·åˆå¹¶"><a href="#2-10-4-5-å¤–è¾¹è·åˆå¹¶" class="headerlink" title="2.10.4.5 å¤–è¾¹è·åˆå¹¶"></a>2.10.4.5 å¤–è¾¹è·åˆå¹¶</h4><ol><li><ul><li>ç›¸é‚»å—å…ƒç´ å‚ç›´å¤–è¾¹è·åˆå¹¶ï¼Œå–ä¸¤ä¸ªå€¼ä¸­çš„è¾ƒå¤§å€¼ï¼ˆå¤–è¾¹è·å¡Œé™·ï¼‰</li><li>è§£å†³æ–¹æ³•ï¼šå°½é‡åªç»™ä¸€ä¸ªç›’å­æ·»åŠ marginå€¼</li></ul></li><li><ul><li>åµŒå¥—å…³ç³»çš„å‚ç›´å¤–è¾¹è·åˆå¹¶ï¼Œï¼ˆå¡Œé™·ï¼‰çˆ¶å­çº§å…³ç³»ï¼Œç»™å„¿å­ä¸€ä¸ªmarginï¼Œçˆ¶äº²ä¹Ÿä¼šæœ‰margin</li><li>è§£å†³æ–¹æ¡ˆ<ul><li>ä¸ºçˆ¶å…ƒç´ æŒ‡å®šå¤–è¾¹æ¡†<code>border-top:</code></li><li>ä¸ºçˆ¶å…ƒç´ æŒ‡å®šä¸€ä¸ªä¸Š<code>padding-top:</code></li><li>ä¸ºçˆ¶å…ƒç´ æ·»åŠ <code>overflow: hidden;</code></li></ul></li></ul></li></ol><h4 id="2-10-4-6-ç›’å­æ¨¡å‹çš„å¸ƒå±€ç¨³å®šæ€§"><a href="#2-10-4-6-ç›’å­æ¨¡å‹çš„å¸ƒå±€ç¨³å®šæ€§" class="headerlink" title="2.10.4.6 ç›’å­æ¨¡å‹çš„å¸ƒå±€ç¨³å®šæ€§"></a>2.10.4.6 ç›’å­æ¨¡å‹çš„å¸ƒå±€ç¨³å®šæ€§</h4><p>ä¼˜å…ˆçº§ä½¿ç”¨ï¼Œå…ˆå®½åº¦widthï¼Œç„¶åå†…è¾¹è·paddingï¼Œæœ€åå¤–è¾¹è·margin</p><h3 id="2-10-5-ç›’å­ç»¼åˆæ¡ˆä¾‹"><a href="#2-10-5-ç›’å­ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="2.10.5 ç›’å­ç»¼åˆæ¡ˆä¾‹"></a>2.10.5 ç›’å­ç»¼åˆæ¡ˆä¾‹</h3><p><code>![ç›’å­ç»¼åˆæ¡ˆä¾‹](/img/hcj/boxlizi.png)</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>ç›’å­ç»¼åˆæ¡ˆä¾‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">* &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">298px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">198px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: <span class="number">100px</span> auto; <span class="comment">/* æ°´å¹³å±…ä¸­ */</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">../images/1.ico</span>);</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="comment">/* å»æ‰åˆ—è¡¨æ ·å¼ */</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">../images/1.ico</span>) no-repeat <span class="number">5px</span> center;</span></span><br><span class="line"><span class="language-css"><span class="comment">/* background-position: 5px center; */</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">padding-left</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: <span class="number">#2a2a29</span>;</span></span><br><span class="line"><span class="language-css"><span class="comment">/* margin-left: 20px; */</span></span></span><br><span class="line"><span class="language-css"><span class="comment">/* padding-left: 20px; */</span></span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">text-decoration</span>: underline;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box</span> <span class="selector-tag">h2</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">18px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>æœ€æ–°æ–‡ç« /New Articles<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>åŒ—äº¬æ‹›è˜<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ä½“éªŒjs<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>jquery<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç½‘é¡µè®¾è®¡å¸ˆ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>é“¾å¼ç¼–ç¨‹<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å»æ‰åˆ—è¡¨é»˜è®¤çš„æ ·å¼ï¼ˆå‰é¢çš„å°ç‚¹ï¼‰</strong><br>æ— åºåˆ—è¡¨å’Œæœ‰åºåˆ—è¡¨åˆ—è¡¨æ ·å¼åœ¨ä¸åŒæµè§ˆå™¨æ˜¾ç¤ºæ ·å¼ä¸ä¸€æ ·æ‰€ä»¥å»æ‰<br><code>li &#123; list-style: none; &#125;</code></p><h3 id="2-10-6-æ‹“å±•CSS3"><a href="#2-10-6-æ‹“å±•CSS3" class="headerlink" title="2.10.6 æ‹“å±•CSS3"></a>2.10.6 æ‹“å±•CSS3</h3><h4 id="2-10-6-1-è¾¹æ¡†åœ†è§’"><a href="#2-10-6-1-è¾¹æ¡†åœ†è§’" class="headerlink" title="2.10.6.1 è¾¹æ¡†åœ†è§’"></a>2.10.6.1 è¾¹æ¡†åœ†è§’</h4><p><code>border-radius: length</code><br>lengthå¯ä»¥ä¸ºæ•°å€¼æˆ–ç™¾åˆ†æ¯”</p><p>æ¨ªå‘çŸ©å½¢ä¸ºé«˜åº¦ä¸€èˆ¬è®¾ç½®ä¸ºé«˜åº¦çš„ä¸€åŠ</p><h4 id="2-10-6-2-ç›’å­é˜´å½±"><a href="#2-10-6-2-ç›’å­é˜´å½±" class="headerlink" title="2.10.6.2 ç›’å­é˜´å½±"></a>2.10.6.2 ç›’å­é˜´å½±</h4><p><code>box-shadow: æ°´å¹³é˜´å½± å‚ç›´é˜´å½± æ¨¡ç³Šè·ç¦»(è™šå®) é˜´å½±å°ºå¯¸(å¤§å°) é˜´å½±é¢œè‰² å†…å¤–é˜´å½±</code><br><code>h-shadow v-shadow</code>å‰ä¸¤ä¸ªå¿…é¡»å†™<br><code>blur spread color inset</code>å¯ä»¥çœç•¥<br>å†…å¤–é˜´å½±é»˜è®¤ä¸ºoutsetï¼Œä¸”ä¸ç”¨å†™</p><p><code>ç¾è§‚çš„</code> <code>box-shadow: 0 15px 30px rgba(0,0,0,.3);</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">background-color</span>: pink;</span><br><span class="line"><span class="attribute">margin-left</span>: auto;</span><br><span class="line"><span class="attribute">margin-right</span>: auto;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line"><span class="comment">/* border-radius: 150px; */</span></span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">20%</span>;</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">#000</span> ;</span><br></pre></td></tr></table></figure><p><code>![picture](/img/hcj/shadow.png)</code></p><h2 id="2-11-CSSä¹¦å†™è§„èŒƒ"><a href="#2-11-CSSä¹¦å†™è§„èŒƒ" class="headerlink" title="2.11 CSSä¹¦å†™è§„èŒƒ"></a>2.11 CSSä¹¦å†™è§„èŒƒ</h2><p><strong>ç©ºæ ¼è§„èŒƒ</strong></p><ul><li><code>é€‰æ‹©å™¨</code>ä¸<code>&#123;&#125;</code>ä¹‹é—´æœ‰ç©ºæ ¼</li><li>å±æ€§çš„<code>å†’å·</code>è·Ÿ<code>å€¼</code>æœ‰ç©ºæ ¼</li></ul><p><strong>é€‰æ‹©å™¨è§„èŒƒ</strong></p><ul><li>å¹¶é›†é€‰æ‹©å™¨ç«–ç€å†™</li><li>èŠ±æ‹¬å·å¯¹é½</li><li>é€‰æ‹©å™¨åµŒå¥—å±‚æ•°æœ€å¥½ä¸è¶…è¿‡3çº§</li></ul><p><strong>å±æ€§è§„èŒƒ</strong></p><ul><li>å±æ€§å¿…é¡»å¦èµ·ä¸€è¡Œ</li><li>å±æ€§å®šä¹‰åå¿…é¡»æœ‰<code>;</code>ç»“æŸ</li></ul><h3 id="2-11-1-CSSå±æ€§ä¹¦å†™é¡ºåºï¼ˆé‡ç‚¹ï¼‰"><a href="#2-11-1-CSSå±æ€§ä¹¦å†™é¡ºåºï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="2.11.1 CSSå±æ€§ä¹¦å†™é¡ºåºï¼ˆé‡ç‚¹ï¼‰"></a>2.11.1 CSSå±æ€§ä¹¦å†™é¡ºåºï¼ˆé‡ç‚¹ï¼‰</h3><p>æŒ‰ç…§é¡ºåºä¹¦å†™</p><ol><li>å¸ƒå±€å®šä½å±æ€§ï¼š<code>display / position / float / clear / visibility / overflow</code> ï¼ˆdisplayç¬¬ä¸€ä¸ªå†™ï¼‰</li><li>è‡ªèº«å±æ€§ï¼š <code>width / height / margin / padding / border / background /</code></li><li>æ–‡æœ¬å±æ€§ï¼š <code>color / font / text-decoration / text-align / vertical-align / white-space / break-word</code></li><li>å…¶ä»–å±æ€§ï¼ˆCSS3ï¼‰ï¼š <code>content / cursor / border-radius / box-shadow / text-shadow / background:linear-gradient ...</code> </li></ol><h2 id="2-12-æµ®åŠ¨float"><a href="#2-12-æµ®åŠ¨float" class="headerlink" title="2.12 æµ®åŠ¨float"></a>2.12 æµ®åŠ¨float</h2><p>å¸ƒå±€é¡µé¢</p><h3 id="2-12-1-CSSå¸ƒå±€çš„ä¸‰ç§æœºåˆ¶"><a href="#2-12-1-CSSå¸ƒå±€çš„ä¸‰ç§æœºåˆ¶" class="headerlink" title="2.12.1 CSSå¸ƒå±€çš„ä¸‰ç§æœºåˆ¶"></a>2.12.1 CSSå¸ƒå±€çš„ä¸‰ç§æœºåˆ¶</h3><p>ç½‘é¡µå¸ƒå±€çš„æ ¸å¿ƒå°±æ˜¯ç”¨CSSæ¥æ‘†æ”¾ç›’å­</p><p>ä¸‰ç§æ–¹æ³•ï¼š</p><ul><li>æ™®é€šæµ</li></ul><p>å—çº§å…ƒç´ ä¼šç‹¬å ä¸€è¡Œï¼Œä»ä¸Šå‘ä¸‹é¡ºåºæ’åº<br><code>divã€hrã€pã€h1~h6ã€ulã€olã€dlã€formã€table</code></p><p>è¡Œå†…å…ƒç´ ä¼šå¤šä¸ªåœ¨ä¸€è¡Œå†…æ˜¾ç¤ºï¼Œä»å·¦åˆ°å³ï¼Œç¢°åˆ°çˆ¶å…ƒç´ è¾¹ç¼˜è‡ªåŠ¨æ¢è¡Œ<br><code>spanã€aã€iã€em</code></p><ul><li>æµ®åŠ¨æµ</li></ul><p>è®©ç›’å­ä»æ™®é€šæµä¸­æµ®åŠ¨èµ·æ¥ï¼Œä¸»è¦ä½œç”¨è®©å¤šä¸ªå—çº§ç›’å­ä¸€è¡Œæ˜¾ç¤º</p><ul><li>å®šä½æµ</li></ul><p>å°†ç›’å­å®šåœ¨æµè§ˆå™¨ä¸­çš„æŸä¸€ä¸ªä½ç½®ï¼ŒCSSç¦»ä¸å¼€å®šä½ï¼Œç‰¹åˆ«æ˜¯åé¢çš„jsç‰¹æ•ˆ</p><h3 id="2-12-2-æµ®åŠ¨"><a href="#2-12-2-æµ®åŠ¨" class="headerlink" title="2.12.2 æµ®åŠ¨"></a>2.12.2 æµ®åŠ¨</h3><h4 id="1-ä¸ºä»€ä¹ˆç”¨æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆç”¨æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="1. ä¸ºä»€ä¹ˆç”¨æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ"></a><strong>1. ä¸ºä»€ä¹ˆç”¨æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ</strong></h4><ul><li>è®©å¤šä¸ªç›’å­æ°´å¹³æ’åˆ—æˆä¸€è¡Œ</li></ul><p>&emsp;è¡Œå†…å—ä¹Ÿå¯ä»¥è®©å¤šä¸ªå—æ°´å¹³æ’åˆ—åœ¨ä¸€è¡Œ<code>display: inline-block</code>ï¼Œ<strong>ä½†ä¸­é—´ä¼šæœ‰ä¸€ä¸ªç©ºéš™ï¼Œè€Œä¸”å¾ˆéš¾å»æ‰ï¼Œä¹Ÿä¸èƒ½ç®€å•åœ°è°ƒæ•´ç©ºéš™å¤§å°,ä½†æµ®åŠ¨å¯ä»¥å®ç°</strong></p><ul><li>å®ç°ç›’å­çš„å·¦å³å¯¹é½</li></ul><h4 id="2-ä»€ä¹ˆæ˜¯æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ"></a><strong>2. ä»€ä¹ˆæ˜¯æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ</strong></h4><p>è®¾ç½®äº†æµ®åŠ¨å±æ€§åœ°å…ƒç´ ï¼š</p><ul><li>è„±ç¦»æ ‡å‡†æ™®é€šæµåœ°æ§åˆ¶</li><li>ç§»åŠ¨åˆ°æŒ‡å®šåœ°ä½ç½®</li></ul><h4 id="3-æµ®åŠ¨çš„ä½œç”¨ï¼š"><a href="#3-æµ®åŠ¨çš„ä½œç”¨ï¼š" class="headerlink" title="3. æµ®åŠ¨çš„ä½œç”¨ï¼š"></a><strong>3. æµ®åŠ¨çš„ä½œç”¨</strong>ï¼š</h4><ul><li>è®©å¤šä¸ªç›’å­divæ°´å¹³æ’åˆ—æˆä¸€è¡Œ</li><li>å¯ä»¥å®ç°ç›’å­åœ°å·¦å³å¯¹é½</li><li>æœ€æ—©æ˜¯ç”¨æ¥æ§åˆ¶å›¾ç‰‡ï¼Œå®ç°<strong>æ–‡å­—ç¯ç»•å›¾ç‰‡</strong>çš„æ•ˆæœ</li></ul><h4 id="4-æµ®åŠ¨çš„è¯­æ³•"><a href="#4-æµ®åŠ¨çš„è¯­æ³•" class="headerlink" title="4. æµ®åŠ¨çš„è¯­æ³•"></a><strong>4. æµ®åŠ¨çš„è¯­æ³•</strong></h4><p>floatå±æ€§å®šä¹‰æµ®åŠ¨<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">é€‰æ‹©å™¨ &#123;</span><br><span class="line">  <span class="attribute">float</span>: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* none ã€ left ã€ right  */</span></span><br><span class="line"><span class="comment">/* ä¸æµ®åŠ¨ ã€ å·¦æµ® ã€ å³æµ® */</span></span><br></pre></td></tr></table></figure></p><h4 id="5-æµ®åŠ¨çš„å£è¯€"><a href="#5-æµ®åŠ¨çš„å£è¯€" class="headerlink" title="5. æµ®åŠ¨çš„å£è¯€"></a><strong>5. æµ®åŠ¨çš„å£è¯€</strong></h4><p><strong>æµ®</strong><br>æ¼‚æµ®åœ¨æ™®é€šæµçš„ä¸Šé¢ï¼Œè„±ç¦»æ ‡å‡†æµï¼Œ<em>è„±æ ‡</em><br>floatè®©ç›’å­æ¼‚æµ®åœ¨æ ‡å‡†æµçš„ä¸Šé¢ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªæ ‡å‡†æµçš„ç›’å­è·‘åˆ°æµ®åŠ¨ç›’å­çš„åœ°ä¸‹</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/float.png" alt="float.png"></p><p><strong>æ¼</strong><br>æµ®åŠ¨çš„ç›’å­åŸæ¥çš„ä½ç½®ç•™ç»™ä¸‹é¢æ ‡å‡†æµçš„ç›’å­ï¼Œä¸å æœ‰åŸæ¥çš„ä½ç½®</p><p><strong>ç‰¹</strong><br>floatç‰¹æ€§ï¼Œfloatä¼šæ”¹å˜å…ƒç´ çš„displayå±æ€§<br>ä»»ä½•å…ƒç´ éƒ½å¯ä»¥æµ®åŠ¨ï¼Œæµ®åŠ¨çš„å…ƒç´ ä¼šç”Ÿæˆä¸€ä¸ªå—çº§æ¡†ï¼Œè€Œä¸è®ºä»–æœ¬èº«æ˜¯ä»€ä¹ˆå…ƒç´ ï¼Œç”Ÿæˆçš„å—çº§æ¡†è·Ÿè¡Œå†…å—ç›¸ä¼¼</p><p>ä¸¤ä¸ªå—å…ƒç´ éƒ½ç»™ä¸Šfloatå±æ€§ï¼Œä¼šéƒ½è½¬åŒ–ä¸º<strong>è¡Œå†…å—å…ƒç´ ï¼Œè€Œä¸”ä¸­é—´æ²¡æœ‰ç©ºéš™</strong></p><p><strong>æµ®åŠ¨çš„ç›’å­ä¼šç›¸äº’é åœ¨ä¸€èµ·ï¼Œå¦‚æœçˆ¶çº§å®½åº¦è£…ä¸ä¸‹è¿™äº›æµ®åŠ¨çš„ç›’å­ï¼Œå¤šå‡ºçš„ç›’å­ä¼šå¦èµ·ä¸€è¡Œå¯¹é½</strong></p><h4 id="6-æµ®åŠ¨çš„åº”ç”¨-é‡ç‚¹"><a href="#6-æµ®åŠ¨çš„åº”ç”¨-é‡ç‚¹" class="headerlink" title="6. æµ®åŠ¨çš„åº”ç”¨(é‡ç‚¹)"></a><strong>6. æµ®åŠ¨çš„åº”ç”¨(é‡ç‚¹)</strong></h4><p>æµ®åŠ¨æµå’Œæ ‡å‡†æµçš„çˆ¶ç›’å­çš„æ­é…<br>å…ˆç»™å®šä¸€ä¸ªæ ‡å‡†æµçš„çˆ¶çº§ç›’å­ï¼Œç„¶åæµ®åŠ¨æµåœ¨æ ‡å‡†æµä¸­æµ®åŠ¨<br><strong>å®Œæ•´çš„ç½‘é¡µ = æ ‡å‡†æµ + æµ®åŠ¨ + å®šä½</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/floatex1.png" alt="floatex1.png"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Float<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">* &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">1226px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">615px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: <span class="number">#CCCCCC</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin-top</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">234px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">615px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: <span class="number">#f7ebcd</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.left</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">234px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">992px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">615px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css"><span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.right</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="comment">/* æ¸…é™¤åˆ—è¡¨æ ·å¼ */</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">234px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css"><span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin-left</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin-bottom</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../images/1.ico&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>6<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>7<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>8<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/floatex2.png" alt="floatex2.png"></p><p><strong>å¯¼èˆªæ ç”¨li+aæ­é…æ›´å¥½</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>å¯¼èˆªæ <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">* &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.banner</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">760px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: <span class="number">#CCCCCC</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.banner</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">760px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.nav</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">760px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">32px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../images/dhl.png</span>) ;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-repeat</span>: repeat-x;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.nav</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="comment">/* å¯ä»¥ç»™aå’Œliå¤§å°,ä½†æ˜¯aè¦æ±‚hover,æ‰€ä»¥è¦ç›´æ¥ç»™aå¤§å° */</span></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.nav</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css"><span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">80px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">32px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">../images/banner0.png</span>) no-repeat; </span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="attribute">line-height</span>: <span class="number">32px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="attribute">color</span>: <span class="number">#3b4300</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.nav</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">../images/banner1.png</span>) no-repeat;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- bannerå¹¿å‘Šæ¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../images/banner.png&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é‡è¦çš„å¯¼èˆªæ ç”¨li+açš„å†™æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç½‘ç«™é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç½‘ç«™é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç½‘ç«™é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç½‘ç«™é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç½‘ç«™é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç½‘ç«™é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="7-æµ®åŠ¨çš„æ‰©å±•"><a href="#7-æµ®åŠ¨çš„æ‰©å±•" class="headerlink" title="7. æµ®åŠ¨çš„æ‰©å±•"></a><strong>7. æµ®åŠ¨çš„æ‰©å±•</strong></h4><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/floatkz.png" alt="floatkz.png"></p><ul><li>æµ®åŠ¨å…ƒç´ ä¸çˆ¶ç›’å­çš„å…³ç³»<ul><li>å­ç›’å­çš„æµ®åŠ¨å‚è€ƒçˆ¶ç›’å­å¯¹é½</li><li>ä¸ä¼šä¸çˆ¶å…ƒç´ çš„è¾¹æ¡†é‡å ï¼Œä¹Ÿä¸ä¼šè¶…è¿‡çˆ¶ç›’å­çš„å†…è¾¹è·</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/floatkz1.png" alt="floatkz1.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/floatkz2.png" alt="floatkz2.png"></p><p>ä¸¤ä¸ªéƒ½ä¸æµ®åŠ¨ï¼Œåˆ™å°±ä¸¤è¡Œæ˜¾ç¤ºï¼Œè·Ÿ1ä¸æµ®åŠ¨ã€2æµ®åŠ¨ä¸€æ ·</p><ul><li>æµ®åŠ¨å…ƒç´ ä¸å…„å¼Ÿç›’å­çš„å…³ç³»ï¼Œåœ¨ä¸€ä¸ªçˆ¶çº§ç›’å­ä¸­ï¼Œå¦‚æœå‰ä¸€ä¸ªå…„å¼Ÿç›’å­æ˜¯<ul><li>æµ®åŠ¨çš„ï¼Œé‚£ä¹ˆå½“å‰ç›’å­ä¼šä¸é’±ä¸€ä¸ªç›’å­é¡¶éƒ¨å¯¹é½ï¼ˆ1ã€2éƒ½æµ®åŠ¨ï¼‰</li><li>æ™®é€šæµçš„ï¼Œé‚£ä¹ˆå½“å‰ç›’å­ä¼šæ˜¾ç¤ºæ­£åœ¨å‰ä¸€ä¸ªå…„å¼Ÿç›’å­çš„ä¸‹æ–¹ï¼ˆ1ä¸æµ®åŠ¨ã€2æµ®åŠ¨ï¼‰</li></ul></li></ul><p><strong>ä¸€ä¸ªçˆ¶ç›’å­ä¸­æœ‰å¾ˆå¤šç›’å­ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªç›’å­æµ®åŠ¨ï¼Œå…¶ä»–ä¹Ÿåº”è¯¥æµ®åŠ¨ï¼Œé˜²æ­¢å‡ºç°é—®é¢˜</strong></p><h3 id="2-12-3-æ¸…é™¤æµ®åŠ¨"><a href="#2-12-3-æ¸…é™¤æµ®åŠ¨" class="headerlink" title="2.12.3 æ¸…é™¤æµ®åŠ¨"></a>2.12.3 æ¸…é™¤æµ®åŠ¨</h3><h4 id="1-ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="1. ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ"></a>1. ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿï¼Ÿï¼Ÿ</h4><p><strong>çˆ¶çº§ç›’å­å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸æ–¹ä¾¿ç»™å‡ºé«˜åº¦</strong>ï¼Œä½†æ˜¯å­ç›’å­å¦‚æœæµ®åŠ¨å°±ä¸ä¼šå ç”¨ä½ç½®ï¼Œæœ€åçˆ¶çº§ç›’å­çš„é«˜åº¦ä¸º0ï¼Œå°±ä¼šå½±å“ä¸‹é¢çš„æ ‡å‡†æµç›’å­</p><p>æ­£å¸¸çš„æ ‡å‡†æµç›’å­ä¼šæŠŠæ²¡æœ‰å›ºå®šé«˜åº¦çš„çˆ¶ç›’å­æ’‘å¼€ï¼Œè€Œæµ®åŠ¨çš„ç›’å­ä¸ä¼šæ’‘å¼€çˆ¶äº²<br>ä¸æ–¹ä¾¿ç»™é«˜åº¦ï¼šå›ºå®šçš„æ ·å¼ï¼Œå†…å®¹ä¸åŒçš„æƒ…å†µä¸‹</p><h4 id="2-æ¸…é™¤æµ®åŠ¨"><a href="#2-æ¸…é™¤æµ®åŠ¨" class="headerlink" title="2. æ¸…é™¤æµ®åŠ¨"></a>2. æ¸…é™¤æµ®åŠ¨</h4><p>ä¸»è¦æ˜¯è§£å†³æµ®åŠ¨å…ƒç´ æ’‘ä¸å¼€<strong>æœªç»™é«˜åº¦çš„çˆ¶ç›’å­</strong>çš„é—®é¢˜ï¼Œæ¸…é™¤æµ®åŠ¨åï¼Œçˆ¶çº§ä¼šæ ¹æ®æµ®åŠ¨çš„å­ç›’å­è‡ªåŠ¨æ£€æµ‹é«˜åº¦</p><h4 id="3-æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"><a href="#3-æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•" class="headerlink" title="3. æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"></a>3. æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•</h4><p><code>clear: å±æ€§å€¼;</code><br><code>leftæ¸…é™¤å·¦ä¾§æµ®åŠ¨å½±å“ right both</code><br>ä¸€èˆ¬ç›´æ¥ç”¨<code>clear: both</code></p><h5 id="â‘ -é¢å¤–æ ‡ç­¾æ³•ï¼ˆéš”å¢™æ³•ï¼‰"><a href="#â‘ -é¢å¤–æ ‡ç­¾æ³•ï¼ˆéš”å¢™æ³•ï¼‰" class="headerlink" title="â‘  é¢å¤–æ ‡ç­¾æ³•ï¼ˆéš”å¢™æ³•ï¼‰"></a>â‘  é¢å¤–æ ‡ç­¾æ³•ï¼ˆéš”å¢™æ³•ï¼‰</h5><p>åœ¨æµ®åŠ¨å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªç©ºçš„æ ‡ç­¾</p><p><code>&lt;div style=&quot;clear: both&quot;&gt;&lt;/div&gt;</code>æˆ–è€…å…¶ä»–å¦‚<code>&lt;br&gt;</code>æ ‡ç­¾ç­‰</p><ul><li>ç¼ºç‚¹ï¼š æ·»åŠ äº†è®¸å¤šæ— æ„ä¹‰æ ‡ç­¾ï¼Œç»“æ„æ€§å·®</li></ul><h5 id="â‘¡-çˆ¶çº§æ·»åŠ overflowå±æ€§æ–¹æ³•"><a href="#â‘¡-çˆ¶çº§æ·»åŠ overflowå±æ€§æ–¹æ³•" class="headerlink" title="â‘¡ çˆ¶çº§æ·»åŠ overflowå±æ€§æ–¹æ³•"></a>â‘¡ çˆ¶çº§æ·»åŠ overflowå±æ€§æ–¹æ³•</h5><p>ç»™çˆ¶çº§æ·»åŠ <code>overflow</code>ä¸º<code>hidden</code> <code>auto</code> <code>scroll</code> éƒ½å¯ä»¥<br><code>overflow: hidden;</code><br>autoç”Ÿæˆæ»šåŠ¨æ¡ï¼Œscrollç”Ÿæˆä¸¤ä¸ªæ»šåŠ¨æ¡</p><p>ä»£ç ç®€æ´ï¼Œä½†æ˜¯å†…å®¹å¢å¤šæ—¶è£ä¸€é€ æˆä¸ä¼šè‡ªåŠ¨æ¢è¡Œè€Œå¯¼è‡´å†…å®¹è¢«éšè—æ‰ï¼Œæ— æ³•æ˜¾ç¤ºéœ€è¦æº¢å‡ºçš„å…ƒç´ </p><h5 id="â‘¢-ä½¿ç”¨afterä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨"><a href="#â‘¢-ä½¿ç”¨afterä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨" class="headerlink" title="â‘¢ ä½¿ç”¨afterä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨"></a>â‘¢ ä½¿ç”¨afterä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨</h5><p>afteræ–¹å¼ä¸ºç©ºå…ƒç´ æ·»åŠ é¢å¤–æ ‡ç­¾çš„å‡çº§ç‰ˆï¼Œä¸ç”¨å•ç‹¬æ·»åŠ æ ‡ç­¾</p><p>ç›¸å½“äºç»™è¿™ä¸ªæ ‡ç­¾åé¢æ·»åŠ äº†ä¸€ä¸ªæ–°çš„æ ‡ç­¾ï¼Œä½†æ˜¯ç»“æ„é‡Œé¢ä¸å¯è§ï¼Œè™šæ‹Ÿï¼Œæ›´å¥½</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å£°æ˜æ¸…é™¤æµ®åŠ¨çš„æ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">visibility</span>: hidden;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* é˜²æ­¢ä½ç‰ˆæœ¬æµè§ˆå™¨ä¸æ”¯æŒafter */</span></span><br><span class="line"><span class="comment">/* ie6ã€7æ¸…é™¤æµ®åŠ¨çš„æ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">  *zoom: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç„¶åç»™éœ€è¦çš„æ ‡ç­¾æ·»åŠ ä¸€ä¸ªç±»åï¼šclearfix */</span></span><br></pre></td></tr></table></figure><h5 id="â‘£-ä½¿ç”¨åŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨"><a href="#â‘£-ä½¿ç”¨åŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨" class="headerlink" title="â‘£ ä½¿ç”¨åŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨"></a>â‘£ ä½¿ç”¨åŒä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨</h5><p>ä»£ç æ›´åŠ ç®€æ´</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">  *zoom: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-æ¸…é™¤æµ®åŠ¨æ€»ç»“"><a href="#4-æ¸…é™¤æµ®åŠ¨æ€»ç»“" class="headerlink" title="4. æ¸…é™¤æµ®åŠ¨æ€»ç»“"></a>4. æ¸…é™¤æµ®åŠ¨æ€»ç»“</h4><p>å½“</p><ul><li>çˆ¶çº§æ²¡é«˜åº¦</li><li>å­ç›’å­æµ®åŠ¨</li><li>å½±å“ä¸‹é¢çš„å¸ƒå±€<br>å°±éœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Œå››ç§æ–¹æ³•æ¸…é™¤æµ®åŠ¨</li></ul><h4 id="5-PSåˆ‡ç‰‡"><a href="#5-PSåˆ‡ç‰‡" class="headerlink" title="5. PSåˆ‡ç‰‡"></a>5. PSåˆ‡ç‰‡</h4><p><strong>PSåˆ‡ç‰‡å¸¸ç”¨åˆ‡ç‰‡å·¥å…·</strong></p><p>å¤§è‡´æ­¥éª¤ï¼šåˆ‡ç‰‡åç„¶åï¼Œå¯¼å‡ºâ€”&gt;å­˜å‚¨ä¸ºwebå¸¸ç”¨â€”&gt;ç„¶åç”¨åˆ‡ç‰‡ä¿å­˜é€‰ä¸­çš„åˆ‡ç‰‡<br>åˆ‡ç‰‡æ–¹æ³•ï¼š</p><ol><li>åˆ‡ç‰‡å·¥å…·ç›´æ¥åˆ‡ç‰‡</li><li>å›¾å±‚â€”&gt;æ–°å»ºåŸºäºå›¾å±‚çš„åˆ‡ç‰‡</li><li>åˆ©ç”¨è¾…åŠ©çº¿<code>ctrl+ R</code>è°ƒå‡ºè¾…åŠ©çº¿</li></ol><p>æ¸…é™¤åˆ‡ç‰‡ï¼šè§†å›¾â€”&gt;æ¸…é™¤åˆ‡ç‰‡</p><p>æˆ–è€…ä½¿ç”¨psåˆ‡ç‰‡çš„æ’ä»¶ï¼ˆå…è´¹ä½†æ˜¯éœ€è¦æ³¨å†Œè‡ªå·±çš„å¸å·ï¼‰<br>Cuttermanåˆ‡å›¾ç¥å™¨</p><hr><h1 id="âœ³å¿«æ·é”®æ“ä½œï¼ˆå¸¸ç”¨ï¼‰"><a href="#âœ³å¿«æ·é”®æ“ä½œï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="âœ³å¿«æ·é”®æ“ä½œï¼ˆå¸¸ç”¨ï¼‰"></a>âœ³å¿«æ·é”®æ“ä½œï¼ˆå¸¸ç”¨ï¼‰</h1><p><strong>htmlç¼–è¾‘çš„å¿«æ·æ–¹æ³•</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/kjj.png" alt="kjj.png"></p><ul><li><code>w200</code> ç”Ÿæˆ <code>width: 200px;</code></li><li><code>h200</code> ç”Ÿæˆ <code>height: 200px;</code></li></ul><p>æˆ‘çš„HBä¸è¡Œhhhè‰</p><ul><li><code>bd+</code> ç”Ÿæˆ <code>border: 1px solid #000;</code></li><li><code>bd-</code> ç”Ÿæˆ <code>border: none;</code></li></ul><hr><h1 id="3-js-çš„åŸºç¡€"><a href="#3-js-çš„åŸºç¡€" class="headerlink" title="3. js çš„åŸºç¡€"></a>3. js çš„åŸºç¡€</h1>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HCJ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Plot Figure</title>
      <link href="/Learn/Python/Figure/"/>
      <url>/Learn/Python/Figure/</url>
      
        <content type="html"><![CDATA[<p>matplotlib | seaborn</p><p><code>import matplotlib.pyplot as plt</code><br><code>import seaborn as sns</code></p><span id="more"></span><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><p>plt.tight_layout()<br>é€šå¸¸åœ¨ç»˜åˆ¶å¤šä¸ªå­å›¾æ—¶ä½¿ç”¨ï¼Œç”¨äºè‡ªåŠ¨è°ƒæ•´å›¾å½¢ä¸­çš„å­å›¾å¸ƒå±€ï¼Œä»¥é¿å…å­å›¾ä¹‹é—´çš„é‡å æˆ–å¤ªè¿‡æ‹¥æŒ¤</p><h1 id="Property"><a href="#Property" class="headerlink" title="Property"></a>Property</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">color: </span><br><span class="line">rcolor = <span class="string">&#x27;#AA232E&#x27;</span></span><br><span class="line">bcolor = <span class="string">&#x27;#3C53A6&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plot parameters</span></span><br><span class="line">plt.rcParams.update(&#123;<span class="string">&#x27;font.size&#x27;</span>: <span class="number">24</span>, <span class="string">&#x27;font.family&#x27;</span>: <span class="string">&#x27;Times New Roman&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">scatter: omega1, omega2, label=<span class="string">&#x27;Target&#x27;</span>,s=<span class="number">140</span>,marker=<span class="string">&#x27;x&#x27;</span>,c=c1,alpha=alpha,linewidths=<span class="number">5</span></span><br><span class="line">- alpha=<span class="number">0.7</span></span><br><span class="line">- c1 = <span class="string">&#x27;r&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;b&#x27;</span></span><br><span class="line">  </span><br><span class="line">label: fontsize=<span class="number">24</span>,labelpad = <span class="number">10</span>,fontname=<span class="string">&#x27;Times New Roman&#x27;</span></span><br><span class="line"></span><br><span class="line">axs.tick_params(labelsize=<span class="number">22</span>, pad=<span class="number">5</span>)</span><br><span class="line">axs.grid(linewidth=<span class="number">1.5</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper center&#x27;</span>,fontsize=<span class="number">26</span>,ncol=<span class="number">4</span>, bbox_to_anchor=(<span class="number">1.25</span>, <span class="number">1.25</span>))</span><br><span class="line">plt.subplots_adjust(wspace=<span class="number">0.3</span>, hspace=<span class="number">0.3</span>, left=<span class="number">0.07</span>, right=<span class="number">0.98</span>, top=<span class="number">0.92</span>, bottom=<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure><h1 id="Seaborn"><a href="#Seaborn" class="headerlink" title="Seaborn"></a>Seaborn</h1><h2 id="distplot"><a href="#distplot" class="headerlink" title="distplot"></a>distplot</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¸å¯†åº¦å‡½æ•°</span></span><br><span class="line">sns.distplot(prep_data, hist=<span class="literal">False</span>, kde=<span class="literal">True</span>, kde_kws=&#123;<span class="string">&#x27;linewidth&#x27;</span>: <span class="number">5</span>&#125;, label=<span class="string">&#x27;Original&#x27;</span>, color=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">sns.distplot(prep_data_hat, hist=<span class="literal">False</span>, kde=<span class="literal">True</span>, kde_kws=&#123;<span class="string">&#x27;linewidth&#x27;</span>: <span class="number">5</span>, <span class="string">&#x27;linestyle&#x27;</span>:<span class="string">&#x27;--&#x27;</span>&#125;, label=<span class="string">&#x27;Synthetic&#x27;</span>, color=<span class="string">&quot;blue&quot;</span>)</span><br></pre></td></tr></table></figure><h1 id="Matplotlib"><a href="#Matplotlib" class="headerlink" title="Matplotlib"></a>Matplotlib</h1><h2 id="plt-clf-åŠ¨æ€å›¾ç‰‡å±•ç¤º"><a href="#plt-clf-åŠ¨æ€å›¾ç‰‡å±•ç¤º" class="headerlink" title="plt.clf åŠ¨æ€å›¾ç‰‡å±•ç¤º"></a>plt.clf åŠ¨æ€å›¾ç‰‡å±•ç¤º</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ¨æ€å›¾ç‰‡å±•ç¤º</span></span><br><span class="line">plt.clf()</span><br><span class="line"></span><br><span class="line">plt.pause(<span class="number">0.01</span>)</span><br><span class="line">plt.ioff()</span><br></pre></td></tr></table></figure><h2 id="plt-plot"><a href="#plt-plot" class="headerlink" title="plt.plot"></a>plt.plot</h2><p><code>format_stringçš„å†…å®¹</code></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/plot1.png" alt="plot1.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/plot2.png" alt="plot2.png"></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/plot3.png" alt="plot3.png"></p><p><code>**kwargs</code></p><p>**kwardsï¼š<br>color é¢œè‰²<br>linestyle çº¿æ¡æ ·å¼<br>marker æ ‡è®°é£æ ¼<br>markerfacecolor æ ‡è®°é¢œè‰²<br>markersize æ ‡è®°å¤§å° ç­‰ç­‰</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># plt.plot(x,y,format_string,**kwargs)</span></span><br><span class="line"><span class="comment"># xè½´æ•°æ®ï¼Œyè½´æ•°æ®ï¼Œæ§åˆ¶æ›²çº¿æ ¼å¼çš„å­—ç¬¦ä¸²format_stringé¢œè‰²å­—ç¬¦ï¼Œé£æ ¼å­—ç¬¦ï¼Œå’Œæ ‡è®°å­—ç¬¦</span></span><br><span class="line">plt.plot([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">1</span>],<span class="string">&#x27;r-s&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><strong>å±•ç¤º</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/plot4.png" alt="plot4.png"></p><h2 id="plt-imshow"><a href="#plt-imshow" class="headerlink" title="plt.imshow"></a>plt.imshow</h2><p><strong>BGR ç”¨ RGB æ‰“å¼€</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img=cv2.imread(<span class="string">&#x27;lena.jpg&#x27;</span>,cv2.IMREAD_COLOR)</span><br><span class="line"></span><br><span class="line"><span class="comment">#method1</span></span><br><span class="line">b,g,r=cv2.split(img)</span><br><span class="line">img2=cv2.merge([r,g,b])</span><br><span class="line">plt.imshow(img2)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#method2</span></span><br><span class="line">img3=img[:,:,::-<span class="number">1</span>]</span><br><span class="line">plt.imshow(img3)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#method3</span></span><br><span class="line">img4=cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</span><br><span class="line">plt.imshow(img4)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="plt-figure"><a href="#plt-figure" class="headerlink" title="plt.figure"></a>plt.figure</h2><p>å®šä¹‰ç”»å¸ƒå¤§å°ï¼Œç„¶åç”¨ plot ç”»å›¾</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># plt.figure() # ç”¨æ¥ç”»å›¾,è‡ªå®šä¹‰ç”»å¸ƒå¤§å°</span></span><br><span class="line">fig1 = plt.figure(num=<span class="string">&#x27;fig111111&#x27;</span>, figsize=(<span class="number">10</span>, <span class="number">3</span>), dpi=<span class="number">75</span>, facecolor=<span class="string">&#x27;#FFFFFF&#x27;</span>, edgecolor=<span class="string">&#x27;#0000FF&#x27;</span>)</span><br><span class="line"><span class="comment"># åå­—,å®½*é«˜ï¼Œdpiå›¾åƒæ¯è‹±å¯¸é•¿åº¦å†…çš„åƒç´ ç‚¹æ•° ä¸€èˆ¬75ï¼Œ</span></span><br><span class="line">plt.plot([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/figure1.png" alt="figure1.png"></p><h2 id="plt-subplot-å­å›¾"><a href="#plt-subplot-å­å›¾" class="headerlink" title="plt.subplot å­å›¾"></a>plt.subplot å­å›¾</h2><p>å°† figure è®¾ç½®çš„ç”»å¸ƒå¤§å°åˆ†æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œå‚æ•°â€˜221â€™è¡¨ç¤º 2(row)x2(colu),å³å°†ç”»å¸ƒåˆ†æˆ 2x2ï¼Œä¸¤è¡Œä¸¤åˆ—çš„ 4 å—åŒºåŸŸï¼Œ1 è¡¨ç¤ºé€‰æ‹©å›¾å½¢è¾“å‡ºçš„åŒºåŸŸåœ¨ç¬¬ä¸€å—ï¼Œå›¾å½¢è¾“å‡ºåŒºåŸŸå‚æ•°å¿…é¡»åœ¨â€œè¡Œ x åˆ—â€èŒƒå›´ï¼Œæ­¤å¤„å¿…é¡»åœ¨ 1 å’Œ 2 ä¹‹é—´é€‰æ‹©â€”â€”å¦‚æœå‚æ•°è®¾ç½®ä¸º subplot(111)ï¼Œåˆ™è¡¨ç¤ºç”»å¸ƒæ•´ä¸ªè¾“å‡ºï¼Œä¸åˆ†å‰²æˆå°å—åŒºåŸŸï¼Œå›¾å½¢ç›´æ¥è¾“å‡ºåœ¨æ•´å—ç”»å¸ƒä¸Š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">plt.subplot(<span class="number">222</span>)Â </span><br><span class="line">plt.plot(y,xx)Â  Â  <span class="comment">#åœ¨2x2ç”»å¸ƒä¸­ç¬¬äºŒå—åŒºåŸŸè¾“å‡ºå›¾å½¢</span></span><br><span class="line">plt.show()</span><br><span class="line">plt.subplot(<span class="number">223</span>)Â  <span class="comment">#åœ¨2x2ç”»å¸ƒä¸­ç¬¬ä¸‰å—åŒºåŸŸè¾“å‡ºå›¾å½¢</span></span><br><span class="line">plt.plot(y,xx)</span><br><span class="line">plt.subplot(<span class="number">224</span>)Â  <span class="comment"># åœ¨åœ¨2x2ç”»å¸ƒä¸­ç¬¬å››å—åŒºåŸŸè¾“å‡ºå›¾å½¢</span></span><br><span class="line">plt.plot(y,xx)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­å›¾</span></span><br><span class="line">plt.add_subplot(<span class="number">221</span>)</span><br><span class="line">plt.add_subplot(<span class="number">222</span>)</span><br></pre></td></tr></table></figure><h2 id="plt-scatter"><a href="#plt-scatter" class="headerlink" title="plt.scatter"></a>plt.scatter</h2><p><code>matplotlib.pyplot.scatter(x, y, s=None, c=None, marker=None, cmap=None, norm=None, vmin=None, vmax=None,alpha=None, linewidths=None, verts=None, edgecolors=None, *, data=None, **kwargs)</code></p><ul><li>xï¼Œyï¼šè¡¨ç¤ºçš„æ˜¯å¤§å°ä¸º(n,)çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å³å°†ç»˜åˆ¶æ•£ç‚¹å›¾çš„æ•°æ®ç‚¹</li><li>s:æ˜¯ä¸€ä¸ªå®æ•°æˆ–è€…æ˜¯ä¸€ä¸ªæ•°ç»„å¤§å°ä¸º(n,)ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªå¯é€‰çš„å‚æ•°</li><li>c:è¡¨ç¤ºçš„æ˜¯é¢œè‰²ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰é¡¹ã€‚é»˜è®¤æ˜¯è“è‰²â€™bâ€™,è¡¨ç¤ºçš„æ˜¯æ ‡è®°çš„é¢œè‰²ï¼Œæˆ–è€…å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºé¢œè‰²çš„å­—ç¬¦ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º n çš„è¡¨ç¤ºé¢œè‰²çš„åºåˆ—ç­‰ç­‰</li><li>marker:è¡¨ç¤ºçš„æ˜¯æ ‡è®°çš„æ ·å¼ï¼Œé»˜è®¤çš„æ˜¯â€™oâ€™</li><li>cmap:Colormap å®ä½“æˆ–è€…æ˜¯ä¸€ä¸ª colormap çš„åå­—ï¼Œcmap ä»…ä»…å½“ c æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„çš„æ—¶å€™æ‰ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰ç”³æ˜å°±æ˜¯ image.cmap</li><li>norm:Normalize å®ä½“æ¥å°†æ•°æ®äº®åº¦è½¬åŒ–åˆ° 0-1 ä¹‹é—´ï¼Œä¹Ÿæ˜¯åªæœ‰ c æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°çš„æ•°ç»„çš„æ—¶å€™æ‰ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰ç”³æ˜ï¼Œå°±æ˜¯é»˜è®¤ä¸º colors.Normalize</li><li>vmin,vmax:å®æ•°ï¼Œå½“ norm å­˜åœ¨çš„æ—¶å€™å¿½ç•¥ã€‚ç”¨æ¥è¿›è¡Œäº®åº¦æ•°æ®çš„å½’ä¸€åŒ–</li><li>alphaï¼šå®æ•°ï¼Œ0-1 ä¹‹é—´</li><li>linewidths:ä¹Ÿå°±æ˜¯æ ‡è®°ç‚¹çš„é•¿åº¦</li></ul><blockquote><p><a href="https://blog.csdn.net/m0_37393514/article/details/81298503">å‚è€ƒæ•™ç¨‹</a></p></blockquote><h2 id="plt-hist"><a href="#plt-hist" class="headerlink" title="plt.hist"></a>plt.hist</h2><p>_å¯ä»¥å°†é«˜æ–¯å‡½æ•°è¿™äº›ç”»å‡ºæ¥_</p><p><code>n, bins, patches = plt.hist(arr, bins=10, normed=0, facecolor=&#39;black&#39;, edgecolor=&#39;black&#39;,alpha=1ï¼Œhisttype=&#39;bar&#39;)</code><br>hist çš„å‚æ•°éå¸¸å¤šï¼Œä½†å¸¸ç”¨çš„å°±è¿™å…­ä¸ªï¼Œåªæœ‰ç¬¬ä¸€ä¸ªæ˜¯å¿…é¡»çš„ï¼Œåé¢å››ä¸ªå¯é€‰</p><ul><li>arr: éœ€è¦è®¡ç®—ç›´æ–¹å›¾çš„ä¸€ç»´æ•°ç»„</li><li>bins: ç›´æ–¹å›¾çš„æŸ±æ•°ï¼Œå¯é€‰é¡¹ï¼Œé»˜è®¤ä¸º 10</li><li>normed: æ˜¯å¦å°†å¾—åˆ°çš„ç›´æ–¹å›¾å‘é‡å½’ä¸€åŒ–ã€‚é»˜è®¤ä¸º 0</li><li>facecolor: ç›´æ–¹å›¾é¢œè‰²</li><li>edgecolor: ç›´æ–¹å›¾è¾¹æ¡†é¢œè‰²</li><li>alpha: é€æ˜åº¦</li><li>histtype: ç›´æ–¹å›¾ç±»å‹ï¼Œâ€˜barâ€™, â€˜barstackedâ€™, â€˜stepâ€™, â€˜stepfilledâ€™<br>è¿”å›å€¼ ï¼š<br>n: ç›´æ–¹å›¾å‘é‡ï¼Œæ˜¯å¦å½’ä¸€åŒ–ç”±å‚æ•° normed è®¾å®š<br>bins: è¿”å›å„ä¸ª bin çš„åŒºé—´èŒƒå›´<br>patches: è¿”å›æ¯ä¸ª bin é‡Œé¢åŒ…å«çš„æ•°æ®ï¼Œæ˜¯ä¸€ä¸ª list</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mu, sigma = 0, .1</span><br><span class="line">s = np.random.normal(loc=mu, scale=sigma, size=1000)</span><br><span class="line">a,b,c = plt.hist(s, bins=3)</span><br><span class="line">print(&quot;a: &quot;,a)</span><br><span class="line">print(&quot;b: &quot;,b)</span><br><span class="line">print(&quot;c: &quot;,c)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">ç»“æœï¼š</span><br><span class="line"></span><br><span class="line">a:Â  [ 85. 720. 195.]Â  Â  Â  Â  Â #æ¯ä¸ªæŸ±å­çš„å€¼</span><br><span class="line">b:Â  [-0.36109509 -0.1357318Â  Â 0.08963149Â  0.31499478]Â  Â #æ¯ä¸ªæŸ±çš„åŒºé—´èŒƒå›´</span><br><span class="line">c:Â  &lt;a list of 3 Patch objects&gt;Â  Â  Â  Â #æ€»å…±å¤šå°‘æŸ±å­</span><br></pre></td></tr></table></figure><h2 id="Property-1"><a href="#Property-1" class="headerlink" title="Property"></a>Property</h2><h3 id="plt-xlim"><a href="#plt-xlim" class="headerlink" title="plt.xlim"></a>plt.xlim</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.xlim(<span class="number">0</span>,<span class="number">1000</span>)  <span class="comment">#  è®¾ç½®xè½´åˆ»åº¦èŒƒå›´ï¼Œä»0~1000         #limä¸ºæé™ï¼ŒèŒƒå›´</span></span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">20</span>)   <span class="comment"># è®¾ç½®yè½´åˆ»åº¦çš„èŒƒå›´ï¼Œä»0~20</span></span><br></pre></td></tr></table></figure><h3 id="plt-xticks"><a href="#plt-xticks" class="headerlink" title="plt.xticks"></a>plt.xticks</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fig2 = plt.figure(num=<span class="string">&#x27;fig222222&#x27;</span>, figsize=(<span class="number">6</span>, <span class="number">3</span>), dpi=<span class="number">75</span>, facecolor=<span class="string">&#x27;#FFFFFF&#x27;</span>, edgecolor=<span class="string">&#x27;#FF0000&#x27;</span>)</span><br><span class="line">plt.plot()</span><br><span class="line"><span class="comment"># np.linspace åˆ›å»ºç­‰å·®æ•°åˆ—</span></span><br><span class="line">plt.xticks(np.linspace(<span class="number">0</span>,<span class="number">1000</span>,<span class="number">15</span>,endpoint=<span class="literal">True</span>))</span><br><span class="line"><span class="comment"># è®¾ç½®xè½´åˆ»åº¦</span></span><br><span class="line">plt.yticks(np.linspace(<span class="number">0</span>,<span class="number">20</span>,<span class="number">10</span>,endpoint=<span class="literal">True</span>))</span><br><span class="line">plt.show()</span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure><p><strong>å±•ç¤º</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/xticks.png" alt="xticks.png"></p><h3 id="ax2-set-title-â€˜xxxâ€™-è®¾ç½®æ ‡é¢˜ï¼Œç”»å›¾"><a href="#ax2-set-title-â€˜xxxâ€™-è®¾ç½®æ ‡é¢˜ï¼Œç”»å›¾" class="headerlink" title="ax2.set_title(â€˜xxxâ€™)è®¾ç½®æ ‡é¢˜ï¼Œç”»å›¾"></a>ax2.set_title(â€˜xxxâ€™)è®¾ç½®æ ‡é¢˜ï¼Œç”»å›¾</h3><p><code>plt.xlabel()</code> <code>plt.ylabel()</code>xy è½´æ ‡ç­¾</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#äº§ç”Ÿ[1,2,3,...,9]çš„åºåˆ—</span></span><br><span class="line">x = np.arange(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">y = x</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">221</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®æ ‡é¢˜</span></span><br><span class="line">ax1.set_title(<span class="string">&#x27;Scatter Plot1&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;M&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;N&#x27;</span>)</span><br><span class="line">ax2 = fig.add_subplot(<span class="number">222</span>)</span><br><span class="line">ax2.set_title(<span class="string">&#x27;Scatter Plot2clf&#x27;</span>)</span><br><span class="line"><span class="comment">#è®¾ç½®Xè½´æ ‡ç­¾</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;X&#x27;</span>) Â  Â  Â  Â  Â  <span class="comment">#è®¾ç½®X/Yè½´æ ‡ç­¾æ˜¯åœ¨å¯¹åº”çš„figureåè¿›è¡Œæ“ä½œæ‰å¯¹åº”åˆ°è¯¥figure</span></span><br><span class="line"><span class="comment">#è®¾ç½®Yè½´æ ‡ç­¾</span></span><br><span class="line">plt.ylabel(<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line"><span class="comment">#ç”»æ•£ç‚¹å›¾</span></span><br><span class="line">ax1.scatter(x,y,c = <span class="string">&#x27;r&#x27;</span>,marker = <span class="string">&#x27;o&#x27;</span>) Â  Â  Â  Â  Â <span class="comment">#å¯ä»¥çœ‹å‡ºç”»æ•£ç‚¹å›¾æ˜¯åœ¨å¯¹figureè¿›è¡Œæ“ä½œ</span></span><br><span class="line">ax2.scatter(x,y,c = <span class="string">&#x27;b&#x27;</span>,marker = <span class="string">&#x27;x&#x27;</span>)</span><br><span class="line"><span class="comment">#è®¾ç½®å›¾æ ‡</span></span><br><span class="line">plt.legend(<span class="string">&#x27;show picture x1 &#x27;</span>)</span><br><span class="line"><span class="comment">#æ˜¾ç¤ºæ‰€ç”»çš„å›¾</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><strong>å±•ç¤º</strong></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/title1.png" alt="title1.png"></p>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>èŒèŠ½æ¯é¡¹ç›®çš„pythonä»£ç </title>
      <link href="/Project/Automatic%20detection%20of%20pointer%20instrument/"/>
      <url>/Project/Automatic%20detection%20of%20pointer%20instrument/</url>
      
        <content type="html"><![CDATA[<p>é¡¹ç›®-è¯†åˆ«è¡¨çš„æŒ‡é’ˆï¼Œpythonä»£ç çš„æ„é€ è¿‡ç¨‹ï¼Œå¹¶æ²¡æœ‰å†™å®Œï¼ˆèŒèŠ½æ¯æ¯”èµ›é¡¹ç›®ï¼‰</p><span id="more"></span><h1 id="1-æµ‹è¯•"><a href="#1-æµ‹è¯•" class="headerlink" title="1. æµ‹è¯•"></a>1. æµ‹è¯•</h1><h2 id="1-1-è§†é¢‘ç»è¿‡æ¢¯åº¦å¤„ç†"><a href="#1-1-è§†é¢‘ç»è¿‡æ¢¯åº¦å¤„ç†" class="headerlink" title="1.1 è§†é¢‘ç»è¿‡æ¢¯åº¦å¤„ç†"></a>1.1 è§†é¢‘ç»è¿‡æ¢¯åº¦å¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">vc = cv2.VideoCapture(<span class="string">&#x27;./video/1.mp4&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> vc.isOpened():</span><br><span class="line">    <span class="built_in">open</span>, frame = vc.read()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">open</span> = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">open</span>:</span><br><span class="line">    ret, frame = vc.read()</span><br><span class="line">    <span class="keyword">if</span> frame <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> ret == <span class="literal">True</span>:</span><br><span class="line">        gray = cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)</span><br><span class="line">        <span class="comment"># sobelx = cv2.Sobel(gray,cv2.CV_64F,1,0)</span></span><br><span class="line">        <span class="comment"># sobely = cv2.Sobel(gray,cv2.CV_64F,0,1)</span></span><br><span class="line">        <span class="comment"># sobelx = cv2.convertScaleAbs(sobelx)</span></span><br><span class="line">        <span class="comment"># sobely = cv2.convertScaleAbs(sobely)</span></span><br><span class="line">        <span class="comment"># sobelxy = cv2.addWeighted(sobelx,0.5,sobely,0.5,0)</span></span><br><span class="line">        v1 = cv2.Canny(gray,<span class="number">10</span>,<span class="number">50</span>)</span><br><span class="line">        cv2.namedWindow(<span class="string">&#x27;result&#x27;</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="comment"># cv2.imshow(&#x27;result&#x27;,sobelxy)</span></span><br><span class="line">        cv2.imshow(<span class="string">&#x27;result&#x27;</span>,v1)</span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">10</span>) &amp; <span class="number">0xFF</span> == <span class="number">27</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">vc.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><h2 id="1-2-æ£€æµ‹æŒ‡é’ˆï¼Œç»˜åˆ¶ç›´çº¿"><a href="#1-2-æ£€æµ‹æŒ‡é’ˆï¼Œç»˜åˆ¶ç›´çº¿" class="headerlink" title="1.2 æ£€æµ‹æŒ‡é’ˆï¼Œç»˜åˆ¶ç›´çº¿"></a>1.2 æ£€æµ‹æŒ‡é’ˆï¼Œç»˜åˆ¶ç›´çº¿</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./img/clock2.jpg&#x27;</span>)    <span class="comment"># + input(&#x27;è¯·è¾“å…¥æ–‡ä»¶è·¯å¾„ï¼š&#x27;)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.namedWindow(name,<span class="number">0</span>)</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">linedraw</span>(<span class="params">image</span>):</span><br><span class="line">    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span><br><span class="line">        <span class="comment"># edges = cv.Canny(gray, 50, 150, apertureSize=3)</span></span><br><span class="line">        <span class="comment"># è‡ªåŠ¨æ£€æµ‹å¯èƒ½çš„ç›´çº¿ï¼Œè¿”å›çš„æ˜¯ä¸€æ¡æ¡çº¿æ®µ</span></span><br><span class="line">    ret, thresohold = cv2.threshold(gray, <span class="number">55</span>, <span class="number">255</span>, cv2.THRESH_BINARY)</span><br><span class="line">    <span class="comment"># aussian = cv2.GaussianBlur(thresohold, (5, 5), 1) é«˜æ–¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># kernel = np.ones((5, 5), np.uint8)  # ï¼ˆ5ï¼Œ5ï¼‰è…èš€å¤§å°</span></span><br><span class="line">    <span class="comment"># erosion = cv2.erode(thresohold, kernel, iterations=1) å»å™ªéŸ³ç‚¹</span></span><br><span class="line"></span><br><span class="line">    edges = cv2.Canny(thresohold, <span class="number">10</span>, <span class="number">150</span>, apertureSize=<span class="number">3</span>)</span><br><span class="line">    lines = cv2.HoughLinesP(edges, <span class="number">1</span>, np.pi / <span class="number">180</span>, <span class="number">80</span>, minLineLength=<span class="number">110</span>, maxLineGap=<span class="number">10</span>)</span><br><span class="line">        <span class="comment"># print(type(lines))</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">        x1, y1, x2, y2 = line[<span class="number">0</span>]</span><br><span class="line">        cv2.line(image, (x1, y1), (x2, y2), (<span class="number">0</span>, <span class="number">255</span>,<span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">    cv_show(<span class="string">&#x27;result&#x27;</span>,image)</span><br><span class="line"></span><br><span class="line">linedraw(img)</span><br><span class="line">os.system(<span class="string">&quot;pause&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="1-3-å°ç»¼åˆï¼›æ ¹æ®è¡¨ç›˜è¯†åˆ«æŒ‡é’ˆå¹¶æ±‚å‡ºæ–œç‡"><a href="#1-3-å°ç»¼åˆï¼›æ ¹æ®è¡¨ç›˜è¯†åˆ«æŒ‡é’ˆå¹¶æ±‚å‡ºæ–œç‡" class="headerlink" title="1.3 å°ç»¼åˆï¼›æ ¹æ®è¡¨ç›˜è¯†åˆ«æŒ‡é’ˆå¹¶æ±‚å‡ºæ–œç‡"></a>1.3 å°ç»¼åˆï¼›æ ¹æ®è¡¨ç›˜è¯†åˆ«æŒ‡é’ˆå¹¶æ±‚å‡ºæ–œç‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./img/clock1.jpg&#x27;</span>, cv2.IMREAD_UNCHANGED)</span><br><span class="line"><span class="comment"># è£å‰ªå›¾ç‰‡  å…·ä½“æŒ‡é’ˆè¦æ”¹</span></span><br><span class="line">imgbufen = img[<span class="number">70</span>:<span class="number">566</span>,<span class="number">0</span>:<span class="number">1000</span>]</span><br><span class="line"><span class="comment"># å°†å›¾åƒçš„é˜ˆå€¼åŒ– å°äºé˜ˆå€¼çš„ä¸ºmax å¤§äºé˜ˆå€¼çš„ä¸º0ï¼Œ</span></span><br><span class="line"><span class="comment"># ä¸»è¦æ˜¯å› ä¸ºè¿™ä¸ªæŒ‡é’ˆæ˜¯é»‘çš„,åœ†å½¢é®ç½©ä¹Ÿæ˜¯é»‘çš„ï¼Œæ‰€ä»¥å…ˆæŠŠæŒ‡é’ˆåè½¬ä¸ºç™½çš„</span></span><br><span class="line"><span class="comment"># å…·ä½“æŒ‡é’ˆè¦æ”¹</span></span><br><span class="line">imgfan = cv2.threshold(imgbufen,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY_INV)[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºå›¾åƒ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.namedWindow(name,<span class="number">0</span>)</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾—åˆ°ä¸€ä¸ªåœ†å½¢é®ç½©ï¼Œè¿”å›ä¸­é—´åœ†å½¢</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_zhezhao</span>(<span class="params">imgfan</span>):</span><br><span class="line">    <span class="comment">#è·å–å›¾ç‰‡å°ºå¯¸</span></span><br><span class="line">    height, width = imgfan.shape[:<span class="number">2</span>]</span><br><span class="line">    height = <span class="built_in">int</span>(height)</span><br><span class="line">    width = <span class="built_in">int</span>(width)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ç”Ÿæˆå†…æ˜¾ç¤ºæ¨¡æ¿</span></span><br><span class="line">    circleIn = np.zeros((height, width, <span class="number">1</span>), np.uint8)</span><br><span class="line">    circleIn = cv2.circle(circleIn, (width // <span class="number">2</span>, height // <span class="number">2</span>), <span class="built_in">min</span>(height, width) // <span class="number">2</span>, (<span class="number">1</span>), -<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#åŸå›¾ä¸å†…æ˜¾ç¤ºæ¨¡æ¿èåˆ</span></span><br><span class="line">    <span class="comment">#ç”Ÿæˆç©ºç™½å›¾ç‰‡</span></span><br><span class="line">    imgIn = np.zeros((height, width, <span class="number">4</span>), np.uint8)</span><br><span class="line">    <span class="comment">#å¤åˆ¶å‰3ä¸ªé€šé“</span></span><br><span class="line">    imgIn[:, :, <span class="number">0</span>] = np.multiply(imgfan[:, :, <span class="number">0</span>], circleIn[:, :, <span class="number">0</span>])</span><br><span class="line">    imgIn[:, :, <span class="number">1</span>] = np.multiply(imgfan[:, :, <span class="number">1</span>], circleIn[:, :, <span class="number">0</span>])</span><br><span class="line">    imgIn[:, :, <span class="number">2</span>] = np.multiply(imgfan[:, :, <span class="number">2</span>], circleIn[:, :, <span class="number">0</span>])</span><br><span class="line">    <span class="comment">#è®¾ç½®Î±é€šé“çš„ä¸é€æ˜éƒ¨åˆ†</span></span><br><span class="line">    circleIn[circleIn == <span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    imgIn[:, :, <span class="number">3</span>] = circleIn[:, :, <span class="number">0</span>]</span><br><span class="line">    <span class="comment"># cv2.imwrite(&#x27;./img/result1.jpg&#x27;, imgIn)</span></span><br><span class="line">    <span class="comment"># cv_show(&#x27;imgin&#x27;,imgIn)</span></span><br><span class="line">    <span class="keyword">return</span> imgIn</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾—åˆ°çº¿ï¼Œéœå¤«ç›´çº¿</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getlines</span>(<span class="params">imgIn</span>):</span><br><span class="line">    gray = cv2.cvtColor(imgIn,cv2.COLOR_BGR2GRAY)</span><br><span class="line">    <span class="comment"># cv_show(&quot;gray&quot;,gray)</span></span><br><span class="line">    edges = cv2.Canny(gray, <span class="number">10</span>, <span class="number">150</span>, apertureSize=<span class="number">3</span>)</span><br><span class="line">    lines = cv2.HoughLinesP(edges, <span class="number">1</span>, np.pi / <span class="number">180</span>, <span class="number">80</span>, minLineLength=<span class="number">110</span>, maxLineGap=<span class="number">10</span>)</span><br><span class="line">            <span class="comment"># print(type(lines))</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">        x1, y1, x2, y2 = line[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># print(x1,y1,x2,y2)</span></span><br><span class="line">        cv2.line(imgbufen, (x1, y1), (x2, y2), (<span class="number">0</span>, <span class="number">255</span>,<span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">        <span class="comment"># cv_show(&#x27;img&#x27;,imgbufen)</span></span><br><span class="line">        floatx1.append(<span class="built_in">float</span>(x1))</span><br><span class="line">        floaty1.append(<span class="built_in">float</span>(y1))</span><br><span class="line">        floatx2.append(<span class="built_in">float</span>(x2))</span><br><span class="line">        floaty2.append(<span class="built_in">float</span>(y2))</span><br><span class="line">    <span class="comment"># cv_show(&#x27;imgline&#x27;,imgbufen)</span></span><br><span class="line">    <span class="keyword">return</span> floatx1,floaty1,floatx2,floaty2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_thr_k</span>():</span><br><span class="line">    thrs = []</span><br><span class="line">    ks = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(floatx1)):</span><br><span class="line">        x1 = floatx1[i]</span><br><span class="line">        y1 = floaty1[i]</span><br><span class="line">        x2 = floatx2[i]</span><br><span class="line">        y2 = floaty2[i]</span><br><span class="line">        k = (y1-y2)/(x2-x1)</span><br><span class="line">        thr = math.atan(k)</span><br><span class="line">        thr = math.degrees(thr)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        ks.append(k)</span><br><span class="line">        thrs.append(thr)</span><br><span class="line">    <span class="keyword">return</span> ks,thrs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">imgIn = get_zhezhao(imgfan)</span><br><span class="line">floatx1,floaty1,floatx2,floaty2 = [],[],[],[]</span><br><span class="line">getlines(imgIn)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(floatx1,floaty1,floatx2,floaty2)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤šæ¡ç›´çº¿çš„è§’åº¦åˆ—è¡¨ï¼Œå•æ¡ç›´çº¿ç›´æ¥thrs[0]</span></span><br><span class="line">thrs = get_thr_k()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;ç›´çº¿çš„æ–œç‡ä¸ºï¼š<span class="subst">&#123;thrs[<span class="number">0</span>][<span class="number">0</span>]&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;ç›´çº¿ä¸æ¨ªçº¿é—´è§’åº¦å€¼ï¼š<span class="subst">&#123;thrs[<span class="number">1</span>][<span class="number">0</span>]&#125;</span>&#x27;</span>)</span><br><span class="line">cv_show(<span class="string">&#x27;imgline&#x27;</span>,imgbufen)</span><br></pre></td></tr></table></figure><h2 id="1-4-æ›´é«˜çº§çš„æ£€æµ‹æŒ‡é’ˆï¼Œç„¶åè¿”å›æŒ‡é’ˆæ–œç‡"><a href="#1-4-æ›´é«˜çº§çš„æ£€æµ‹æŒ‡é’ˆï¼Œç„¶åè¿”å›æŒ‡é’ˆæ–œç‡" class="headerlink" title="1.4 æ›´é«˜çº§çš„æ£€æµ‹æŒ‡é’ˆï¼Œç„¶åè¿”å›æŒ‡é’ˆæ–œç‡"></a>1.4 æ›´é«˜çº§çš„æ£€æµ‹æŒ‡é’ˆï¼Œç„¶åè¿”å›æŒ‡é’ˆæ–œç‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> linekthr <span class="keyword">as</span> lt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_pointer_rad</span>(<span class="params">img</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;è·å–è§’åº¦&#x27;&#x27;&#x27;</span></span><br><span class="line">    shape = img.shape</span><br><span class="line">    c_y, c_x, depth = <span class="built_in">int</span>(shape[<span class="number">0</span>] / <span class="number">2</span>), <span class="built_in">int</span>(shape[<span class="number">1</span>] / <span class="number">2</span>), shape[<span class="number">2</span>]    <span class="comment"># h,w,cute</span></span><br><span class="line">    x1=c_x+c_x*<span class="number">1.5</span>  <span class="comment"># æŒ‡é’ˆé•¿åº¦--å®½ 2.5å€</span></span><br><span class="line">    src = img.copy()</span><br><span class="line">    freq_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">361</span>):        <span class="comment"># ç®—æ³•</span></span><br><span class="line">        x = (x1 - c_x) * math.cos(i * math.pi / <span class="number">180</span>) + c_x</span><br><span class="line">        y = (x1 - c_x) * math.sin(i * math.pi / <span class="number">180</span>) + c_y</span><br><span class="line">        temp = src.copy()   <span class="comment"># å¤‡ä»½</span></span><br><span class="line">        cv2.line(temp, (c_x, c_y), (<span class="built_in">int</span>(x), <span class="built_in">int</span>(y)), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), thickness=<span class="number">1</span>)  <span class="comment"># åœ¨tempä¸Šç”»çº¿</span></span><br><span class="line">        t1 = img.copy()</span><br><span class="line">        t1[temp[:, :, <span class="number">1</span>] == <span class="number">255</span>] = <span class="number">255</span></span><br><span class="line">        c = img[temp[:, :, <span class="number">1</span>] == <span class="number">255</span>]</span><br><span class="line">        points = c[c == <span class="number">0</span>]</span><br><span class="line">        freq_list.append((<span class="built_in">len</span>(points), i))</span><br><span class="line">        cv2.imshow(<span class="string">&#x27;d&#x27;</span>, temp)</span><br><span class="line">        <span class="comment"># cv2.imshow(&#x27;d1&#x27;, t1)</span></span><br><span class="line">        cv2.waitKey(<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># key = lambda x: float(x[0])</span></span><br><span class="line">    <span class="comment"># keytup = max(freq_list, key=key)</span></span><br><span class="line">    <span class="comment"># thrth = keytup[1]</span></span><br><span class="line">    <span class="comment"># print(f&#x27;å½“å‰è§’åº¦:&#123;thrth&#125;åº¦&#x27;)</span></span><br><span class="line">    <span class="comment"># print(&#x27;å½“å‰è§’åº¦ï¼š&#x27;,max(freq_list, key=key),&#x27;åº¦&#x27;)</span></span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(freq_list, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./img/clock_re.png&#x27;</span>)</span><br><span class="line">imgc = img[<span class="number">0</span>:<span class="number">165</span>,<span class="number">6</span>:<span class="number">171</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getthr</span>():</span><br><span class="line">    thres = np.random.randint(<span class="number">40</span>,<span class="number">100</span>)   <span class="comment"># éšæœºæ•°èŒƒå›´</span></span><br><span class="line">    <span class="comment"># print(thres)</span></span><br><span class="line">    imgfan = cv2.threshold(imgc, thres, <span class="number">255</span>, cv2.THRESH_BINARY)[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">max</span> = get_pointer_rad(imgfan)</span><br><span class="line">    <span class="comment"># lt.cv_show(&#x27;imgfan&#x27;,imgfan)</span></span><br><span class="line">    <span class="comment"># print(max)</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    thrs = []</span><br><span class="line">    thr = <span class="built_in">max</span>[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> thr</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_averg</span>():</span><br><span class="line">    tol = <span class="number">0</span></span><br><span class="line">    h = <span class="number">20</span>          <span class="comment"># ç»Ÿè®¡æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(h):</span><br><span class="line">        thr = getthr()</span><br><span class="line">        tol = tol + thr</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;ç¬¬<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>æ¬¡çš„è§’åº¦:<span class="subst">&#123;thr&#125;</span>&#x27;</span>)</span><br><span class="line">    averg = tol / h</span><br><span class="line">    <span class="keyword">return</span> averg</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;è§’åº¦çš„å¹³å‡å€¼ï¼š<span class="subst">&#123;get_averg()&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><h1 id="2-åˆæ­¥å®Œæˆæ ¸å¿ƒ"><a href="#2-åˆæ­¥å®Œæˆæ ¸å¿ƒ" class="headerlink" title="2. åˆæ­¥å®Œæˆæ ¸å¿ƒ"></a>2. åˆæ­¥å®Œæˆ<del>æ ¸å¿ƒ</del></h1><p><code>line_get.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡é’ˆè§’åº¦å€¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_pointer_rad</span>(<span class="params">img</span>):</span><br><span class="line">    shape = img.shape</span><br><span class="line">    c_y, c_x, depth = <span class="built_in">int</span>(shape[<span class="number">0</span>] / <span class="number">2</span>), <span class="built_in">int</span>(shape[<span class="number">1</span>] / <span class="number">2</span>), shape[<span class="number">2</span>]    <span class="comment"># h,w,cute</span></span><br><span class="line">    x1=c_x+c_x*<span class="number">1.5</span>  <span class="comment"># æŒ‡é’ˆé•¿åº¦--å®½ 2.5å€</span></span><br><span class="line">    src = img.copy()</span><br><span class="line">    freq_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">361</span>):        <span class="comment"># ç®—æ³•</span></span><br><span class="line">        x = (x1 - c_x) * math.cos(i * math.pi / <span class="number">180</span>) + c_x</span><br><span class="line">        y = (x1 - c_x) * math.sin(i * math.pi / <span class="number">180</span>) + c_y</span><br><span class="line">        temp = src.copy()   <span class="comment"># å¤‡ä»½</span></span><br><span class="line">        cv2.line(temp, (c_x, c_y), (<span class="built_in">int</span>(x), <span class="built_in">int</span>(y)), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), thickness=<span class="number">1</span>)  <span class="comment"># åœ¨tempä¸Šç”»çº¿</span></span><br><span class="line">        t1 = img.copy()</span><br><span class="line">        t1[temp[:, :, <span class="number">1</span>] == <span class="number">255</span>] = <span class="number">255</span></span><br><span class="line">        c = img[temp[:, :, <span class="number">1</span>] == <span class="number">255</span>]</span><br><span class="line">        points = c[c == <span class="number">0</span>]</span><br><span class="line">        freq_list.append((<span class="built_in">len</span>(points), i))</span><br><span class="line">        <span class="comment"># å¯ä»¥å±•ç¤ºåŒ¹é…è¿‡ç¨‹</span></span><br><span class="line">        <span class="comment"># cv2.imshow(&#x27;d&#x27;, temp)</span></span><br><span class="line">        <span class="comment"># cv2.imshow(&#x27;d1&#x27;, t1)</span></span><br><span class="line">        <span class="comment"># å¦‚æœè¦æ±‚å›ºå®šæ£€æµ‹æ—¶é—´ä¸è¦å¤ªå¿«ï¼Œå¯ä»¥åœ¨è¿™é‡Œè°ƒæ…¢</span></span><br><span class="line">        cv2.waitKey(<span class="number">1</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(freq_list, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getthr</span>(<span class="params">imgc</span>):</span><br><span class="line">    thres = np.random.randint(<span class="number">40</span>,<span class="number">100</span>)   <span class="comment"># éšæœºæ•°èŒƒå›´</span></span><br><span class="line">    imgfan = cv2.threshold(imgc, thres, <span class="number">255</span>, cv2.THRESH_BINARY)[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">max</span> = get_pointer_rad(imgfan)</span><br><span class="line">    thr = <span class="built_in">max</span>[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> thr</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_averg</span>(<span class="params">imgc,h</span>):</span><br><span class="line">    tol = <span class="number">0</span></span><br><span class="line">    h = <span class="built_in">int</span>(h)          <span class="comment"># ç»Ÿè®¡æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(h):</span><br><span class="line">        thr = getthr(imgc)</span><br><span class="line">        tol = tol + thr</span><br><span class="line">        <span class="comment"># debug çœ‹çœ‹è§’åº¦æ˜¯å¦æ­£ç¡®ç»Ÿè®¡</span></span><br><span class="line">        <span class="comment"># print(f&#x27;ç¬¬&#123;i+1&#125;æ¬¡çš„è§’åº¦:&#123;thr&#125;&#x27;)</span></span><br><span class="line">        <span class="built_in">print</span>(i+<span class="number">1</span>,end=<span class="string">&#x27;ã€&#x27;</span>)</span><br><span class="line">    averg = tol / h</span><br><span class="line">    <span class="keyword">return</span> averg</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    img = cv2.imread(<span class="string">&#x27;./img/clock_re.png&#x27;</span>)</span><br><span class="line">    imgc = img[<span class="number">0</span>:<span class="number">165</span>, <span class="number">6</span>:<span class="number">171</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;è§’åº¦çš„å¹³å‡å€¼ï¼š<span class="subst">&#123;get_averg(imgc,<span class="number">5</span>)&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p><code>xlsx_get.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> Workbook</span><br><span class="line"><span class="keyword">import</span> openpyxl <span class="keyword">as</span> xl</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> line_get <span class="keyword">as</span> lg</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_xlsx</span>():</span><br><span class="line">    <span class="comment"># æ–°å»ºxlsxæˆ–æ‰“å¼€å·²æœ‰xlsx</span></span><br><span class="line">    filex = <span class="string">&#x27;data.xlsx&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filex):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--åœ¨result.xlsxä¸­å†™å…¥æ•°æ®--&#x27;</span>)</span><br><span class="line">        wb = xl.load_workbook(<span class="string">&#x27;data.xlsx&#x27;</span>)</span><br><span class="line">        <span class="comment"># æ–‡ä»¶è¡¨å•å®šä½</span></span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        wb = Workbook()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--æ–°å»ºä¸€ä¸ªdata.xlsx--&#x27;</span>)</span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‚¨å­˜æ•°æ®</span></span><br><span class="line">    ws = wb.active</span><br><span class="line">    ws[<span class="string">&#x27;A1&#x27;</span>] = <span class="string">&#x27;æŒ‡é’ˆè§’åº¦&#x27;</span></span><br><span class="line">    ws[<span class="string">&#x27;B1&#x27;</span>] = <span class="string">&#x27;è½¬æ¢è§’åº¦&#x27;</span></span><br><span class="line">    ws[<span class="string">&#x27;C1&#x27;</span>] = <span class="string">&#x27;æµ‹è¯•æ—¶é—´&#x27;</span></span><br><span class="line">    img = cv2.imread(<span class="string">&#x27;./img/clock_re.png&#x27;</span>)</span><br><span class="line">    imgh = img[<span class="number">0</span>:<span class="number">165</span>,<span class="number">6</span>:<span class="number">171</span>]</span><br><span class="line"></span><br><span class="line">    cishu = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥éœ€è¦å¤šå°‘ç»„æ•°æ®--ä¸€ç›´æµ‹åˆ™è¾“å…¥0--ï¼š&#x27;</span>))</span><br><span class="line">    pingjun = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥å¤šå°‘ç»„ç®—ä¸€æ¬¡å¹³å‡å€¼--æ¨è10--:&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    row = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> cishu == <span class="number">0</span> <span class="keyword">or</span> cishu &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">while</span> row &gt;= cishu :</span><br><span class="line">            maxrow = sheet.max_row</span><br><span class="line">            <span class="comment"># print(f&#x27;excelä¸­ç¬¬&#123;maxrow + 1&#125;è¡Œè¾“å…¥æ•°æ®-----&#x27;)</span></span><br><span class="line">            <span class="comment"># æµ‹å‡ æ¬¡æ¥ç®—å¹³å‡å€¼ imgh,10--10æ¬¡</span></span><br><span class="line">            thr = lg.get_averg(imgh,pingjun)</span><br><span class="line">            ws.cell(row=maxrow+<span class="number">1</span>,column=<span class="number">1</span>,value=thr)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;ç¬¬<span class="subst">&#123;row + <span class="number">1</span>&#125;</span>ç»„-----è§’åº¦å¹³å‡å€¼æ•°æ®ï¼š<span class="subst">&#123;thr&#125;</span>ï¼Œè¾“å…¥åˆ°ç¬¬<span class="subst">&#123;maxrow + <span class="number">1</span>&#125;</span>è¡Œä¸­&#x27;</span>)</span><br><span class="line">            <span class="keyword">if</span> thr&gt;<span class="number">0</span> <span class="keyword">and</span> thr&lt;=<span class="number">45</span>:</span><br><span class="line">                cdu = thr/<span class="number">2.25</span> +<span class="number">100</span></span><br><span class="line">            <span class="keyword">elif</span> thr&gt;=<span class="number">135</span> <span class="keyword">and</span> thr &lt;= <span class="number">360</span>:</span><br><span class="line">                cdu = (thr - <span class="number">135</span>)/<span class="number">2.25</span></span><br><span class="line">            <span class="keyword">else</span> :</span><br><span class="line">                cdu = <span class="string">&#x27;æ•…éšœ&#x27;</span></span><br><span class="line">            ws.cell(row=maxrow+<span class="number">1</span>,column=<span class="number">2</span>,value=cdu)</span><br><span class="line">            timed = time.strftime(<span class="string">&quot;%H:%M:%S&quot;</span>, time.localtime())  <span class="comment"># %Y-%m-%d</span></span><br><span class="line">            ws.cell(row=maxrow+<span class="number">1</span>,column=<span class="number">3</span>,value=timed)</span><br><span class="line">            row += <span class="number">1</span></span><br><span class="line">            wb.save(<span class="string">&#x27;result.xlsx&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">while</span> row &lt; cishu :</span><br><span class="line">            maxrow = sheet.max_row</span><br><span class="line">            <span class="comment"># print(f&#x27;excelä¸­ç¬¬&#123;maxrow + 1&#125;è¡Œè¾“å…¥æ•°æ®-----&#x27;)</span></span><br><span class="line">            <span class="comment"># æµ‹å‡ æ¬¡æ¥ç®—å¹³å‡å€¼ imgh,10--10æ¬¡</span></span><br><span class="line">            thr = lg.get_averg(imgh,pingjun)</span><br><span class="line">            ws.cell(row=maxrow+<span class="number">1</span>,column=<span class="number">1</span>,value=thr)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;ç¬¬<span class="subst">&#123;row + <span class="number">1</span>&#125;</span>ç»„-----è§’åº¦å¹³å‡å€¼æ•°æ®ï¼š<span class="subst">&#123;thr&#125;</span>ï¼Œè¾“å…¥åˆ°ç¬¬<span class="subst">&#123;maxrow + <span class="number">1</span>&#125;</span>è¡Œä¸­&#x27;</span>)</span><br><span class="line">            <span class="keyword">if</span> thr&gt;<span class="number">0</span> <span class="keyword">and</span> thr&lt;=<span class="number">45</span>:</span><br><span class="line">                cdu = thr/<span class="number">2.25</span> +<span class="number">100</span></span><br><span class="line">            <span class="keyword">elif</span> thr&gt;=<span class="number">135</span> <span class="keyword">and</span> thr &lt;= <span class="number">360</span>:</span><br><span class="line">                cdu = (thr - <span class="number">135</span>)/<span class="number">2.25</span></span><br><span class="line">            <span class="keyword">else</span> :</span><br><span class="line">                cdu = <span class="string">&#x27;æ•…éšœ&#x27;</span></span><br><span class="line">            ws.cell(row=maxrow+<span class="number">1</span>,column=<span class="number">2</span>,value=cdu)</span><br><span class="line">            timed = time.strftime(<span class="string">&quot;%H:%M:%S&quot;</span>, time.localtime())  <span class="comment"># %Y-%m-%d</span></span><br><span class="line">            ws.cell(row=maxrow+<span class="number">1</span>,column=<span class="number">3</span>,value=timed)</span><br><span class="line">            row += <span class="number">1</span></span><br><span class="line">            wb.save(<span class="string">&#x27;data.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    get_xlsx()</span><br></pre></td></tr></table></figure><p><code>keshihua_data.py</code><br><strong>ä¸»è¦è¿è¡Œæ–‡ä»¶</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> plotly.offline <span class="keyword">as</span> ptly</span><br><span class="line"><span class="keyword">import</span> plotly.graph_objs <span class="keyword">as</span> go</span><br><span class="line"><span class="keyword">import</span> openpyxl <span class="keyword">as</span> xl</span><br><span class="line"><span class="keyword">import</span> xlsx_get <span class="keyword">as</span> xg</span><br><span class="line"></span><br><span class="line">xg.get_xlsx()</span><br><span class="line">data=[]</span><br><span class="line">wb = xl.load_workbook(<span class="string">&#x27;data.xlsx&#x27;</span>)</span><br><span class="line">sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">ws = wb.active</span><br><span class="line"></span><br><span class="line">cdu = []</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> ws.iter_rows(min_row=<span class="number">2</span>, min_col=<span class="number">2</span>,max_col=<span class="number">2</span>,max_row=sheet.max_row ):</span><br><span class="line">    <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">        cdu.append(cell.value)</span><br><span class="line">timed = []</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> ws.iter_rows(min_row=<span class="number">2</span>, min_col=<span class="number">3</span>,max_col=<span class="number">3</span>,max_row=sheet.max_row ):</span><br><span class="line">    <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">        timed.append(cell.value)</span><br><span class="line"></span><br><span class="line">trace1 = go.Scatter(x = timed,</span><br><span class="line">                    y = cdu,</span><br><span class="line">                    mode = <span class="string">&#x27;lines+markers&#x27;</span>,   <span class="comment">#modeå¯é€‰&#x27;markers&#x27;,&#x27;lines&#x27;,&#x27;lines+markers&#x27;</span></span><br><span class="line">                    name = <span class="string">&#x27;data&#x27;</span>,</span><br><span class="line">                    marker = <span class="built_in">dict</span>(size = <span class="number">10</span>,        <span class="comment">#è‹¥è®¾ä¸ºå˜é‡åˆ™å¯ç”¨æ•£ç‚¹å¤§å°è¡¨ç¤ºå˜é‡å¤§å°</span></span><br><span class="line">                                  color = <span class="string">&#x27;rgba(152, 0, 0, .8)&#x27;</span>,</span><br><span class="line">                                  line = <span class="built_in">dict</span>(width = <span class="number">2</span>,</span><br><span class="line">                                              color = <span class="string">&#x27;rgb(0, 0, 0)&#x27;</span></span><br><span class="line">                                              ),</span><br><span class="line">                                  opacity=[]</span><br><span class="line">                                )</span><br><span class="line">            )</span><br><span class="line">data.append(trace1)</span><br><span class="line">layout = go.Layout(font=<span class="built_in">dict</span>(family=<span class="string">&#x27;Courier New, monospace&#x27;</span>, size=<span class="number">18</span>, color=<span class="string">&#x27;#3D3D3D&#x27;</span>),</span><br><span class="line">                   title=<span class="string">&#x27;æ¸©åº¦å€¼&#x27;</span></span><br><span class="line">    )</span><br><span class="line">fig = go.Figure(data=data, layout=layout)</span><br><span class="line">ptly.plot(fig, filename = <span class="string">&#x27;data.html&#x27;</span>)</span><br></pre></td></tr></table></figure><h1 id="3-è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œç›´æ¥å†å­˜åˆ°-excel-åŒæ—¶ç»˜åˆ¶å›¾çº¿ï¼Œè¾¾åˆ°ç²—ç•¥å¾—å®æ—¶"><a href="#3-è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œç›´æ¥å†å­˜åˆ°-excel-åŒæ—¶ç»˜åˆ¶å›¾çº¿ï¼Œè¾¾åˆ°ç²—ç•¥å¾—å®æ—¶" class="headerlink" title="3. è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œç›´æ¥å†å­˜åˆ° excel åŒæ—¶ç»˜åˆ¶å›¾çº¿ï¼Œè¾¾åˆ°ç²—ç•¥å¾—å®æ—¶"></a>3. è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œç›´æ¥å†å­˜åˆ° excel åŒæ—¶ç»˜åˆ¶å›¾çº¿ï¼Œè¾¾åˆ°ç²—ç•¥å¾—å®æ—¶</h1><p><code>keshihua_data_shishi.py</code></p><ul><li>1.å®æ—¶æ˜¾ç¤ºï¼Œä½†ä¸å¤ªç¾è§‚ï¼Œè€Œä¸”ä¸ä¸æ»‘</li><li>2.ç•Œé¢ç¾è§‚ï¼Œä½†ä¸ä¼šå®æ—¶æ˜¾ç¤º</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import plotly.offline as ptly</span></span><br><span class="line"><span class="comment"># import plotly.graph_objs as go</span></span><br><span class="line"><span class="keyword">import</span> openpyxl <span class="keyword">as</span> xl</span><br><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> Workbook</span><br><span class="line"><span class="keyword">import</span> line_get <span class="keyword">as</span> lg</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_xlsx</span>(<span class="params">thr,cdu,timed</span>):</span><br><span class="line">    filex = <span class="string">&#x27;ssdata.xlsx&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filex):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;--åœ¨ssdata.xlsxä¸­å†™å…¥æ•°æ®--&#x27;</span>)</span><br><span class="line">        wb = xl.load_workbook(<span class="string">&#x27;ssdata.xlsx&#x27;</span>)</span><br><span class="line">        <span class="comment"># æ–‡ä»¶è¡¨å•å®šä½</span></span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        wb = Workbook()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--æ–°å»ºä¸€ä¸ªssdata.xlsx--&#x27;</span>)</span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    ws = wb.active</span><br><span class="line">    ws[<span class="string">&#x27;A1&#x27;</span>] = <span class="string">&#x27;æŒ‡é’ˆè§’åº¦&#x27;</span></span><br><span class="line">    ws[<span class="string">&#x27;B1&#x27;</span>] = <span class="string">&#x27;è½¬æ¢è§’åº¦&#x27;</span></span><br><span class="line">    ws[<span class="string">&#x27;C1&#x27;</span>] = <span class="string">&#x27;æµ‹è¯•æ—¶é—´&#x27;</span></span><br><span class="line"></span><br><span class="line">    maxrow = sheet.max_row + <span class="number">1</span></span><br><span class="line">    ws.cell(row=maxrow,column=<span class="number">1</span>,value=thr)</span><br><span class="line">    ws.cell(row=maxrow,column=<span class="number">2</span>,value=cdu)</span><br><span class="line">    ws.cell(row=maxrow,column=<span class="number">3</span>,value=timed)</span><br><span class="line"></span><br><span class="line">    wb.save(<span class="string">&#x27;ssdata.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_cts</span>():</span><br><span class="line">    filex = <span class="string">&#x27;ssdata.xlsx&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filex):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;--åœ¨ssdata.xlsxä¸­å†™å…¥æ•°æ®--&#x27;</span>)</span><br><span class="line">        wb = xl.load_workbook(<span class="string">&#x27;ssdata.xlsx&#x27;</span>)</span><br><span class="line">        <span class="comment"># æ–‡ä»¶è¡¨å•å®šä½</span></span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        wb = Workbook()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--æ–°å»ºä¸€ä¸ªssdata.xlsx--&#x27;</span>)</span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">    ws = wb.active</span><br><span class="line">    cdu = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> ws.iter_rows(min_row=<span class="number">2</span>, min_col=<span class="number">2</span>,max_col=<span class="number">2</span>,max_row=sheet.max_row ):</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            cdu.append(<span class="built_in">str</span>(cell.value))</span><br><span class="line">    timed = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> ws.iter_rows(min_row=<span class="number">2</span>, min_col=<span class="number">3</span>,max_col=<span class="number">3</span>,max_row=sheet.max_row ):</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            timed.append(cell.value)</span><br><span class="line">    <span class="keyword">return</span> cdu,timed</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_shishi</span>(<span class="params">cishu,pingjun</span>):</span><br><span class="line">    img = cv2.imread(<span class="string">&#x27;./img/clock_re.png&#x27;</span>)</span><br><span class="line">    imgh = img[<span class="number">0</span>:<span class="number">165</span>,<span class="number">6</span>:<span class="number">171</span>]</span><br><span class="line"></span><br><span class="line">    row = <span class="number">0</span></span><br><span class="line">    cts = get_cts()</span><br><span class="line">    cdus = cts[<span class="number">0</span>]</span><br><span class="line">    timeds = cts[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> row &gt;= cishu :</span><br><span class="line">        thr = lg.get_averg(imgh,pingjun)</span><br><span class="line">        <span class="keyword">if</span> thr &gt; <span class="number">0</span> <span class="keyword">and</span> thr &lt;= <span class="number">45</span>:</span><br><span class="line">            cdu = thr / <span class="number">2.25</span> + <span class="number">100</span></span><br><span class="line">        <span class="keyword">elif</span> thr &gt;= <span class="number">135</span> <span class="keyword">and</span> thr &lt;= <span class="number">360</span>:</span><br><span class="line">            cdu = (thr - <span class="number">135</span>) / <span class="number">2.25</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            cdu = <span class="string">&#x27;æµ‹è¯•æ•…éšœ&#x27;</span></span><br><span class="line">        cdus.append(<span class="built_in">str</span>(cdu))</span><br><span class="line">        timed = time.strftime(<span class="string">&quot;%H:%M:%S&quot;</span>, time.localtime())</span><br><span class="line">        timeds.append(timed)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä¿å­˜æ•°æ®</span></span><br><span class="line">        save_xlsx(thr,cdu,timed)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># plt.figure(1)</span></span><br><span class="line">        plt.clf()  <span class="comment"># æ¸…ç©ºç”»å¸ƒä¸Šçš„æ‰€æœ‰å†…å®¹</span></span><br><span class="line">        fig1 = plt.figure(num=<span class="string">&#x27;æ¸©åº¦-æ—¶é—´&#x27;</span>, figsize=(<span class="number">20</span>, <span class="number">10</span>), dpi=<span class="number">75</span>, facecolor=<span class="string">&#x27;#FFFFFF&#x27;</span>, edgecolor=<span class="string">&#x27;#0000FF&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;Time&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;Temp&#x27;</span>)</span><br><span class="line">        plt.plot(timeds, cdus, <span class="string">&#x27;r-s&#x27;</span>)</span><br><span class="line">        <span class="comment"># plt.draw()  # æ³¨æ„æ­¤å‡½æ•°éœ€è¦è°ƒç”¨</span></span><br><span class="line">        <span class="comment"># time.sleep(0.01)</span></span><br><span class="line">        plt.pause(<span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(timeds) &gt;= <span class="number">22</span>:</span><br><span class="line">            timeds = []</span><br><span class="line">            cdus = []</span><br><span class="line">            plt.clf()</span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># # plotly æ•°æ®å¯è§†åŒ– ç¾è§‚ï¼Œå¯æ˜¯ä¸ä¼šåŠ¨æ€</span></span><br><span class="line">        <span class="comment"># data = []</span></span><br><span class="line">        <span class="comment"># namee = str(round(cdu,1)) + &#x27;Â°C&#x27;</span></span><br><span class="line">        <span class="comment"># trace1 = go.Scatter(x=timeds,</span></span><br><span class="line">        <span class="comment">#                     y=cdus,</span></span><br><span class="line">        <span class="comment">#                     mode=&#x27;lines+markers&#x27;,  # modeå¯é€‰&#x27;markers&#x27;,&#x27;lines&#x27;,&#x27;lines+markers&#x27;</span></span><br><span class="line">        <span class="comment">#                     name= namee,</span></span><br><span class="line">        <span class="comment">#                     marker=dict(size=10,  # è‹¥è®¾ä¸ºå˜é‡åˆ™å¯ç”¨æ•£ç‚¹å¤§å°è¡¨ç¤ºå˜é‡å¤§å°</span></span><br><span class="line">        <span class="comment">#                                 color=&#x27;rgba(152, 0, 0, .8)&#x27;,</span></span><br><span class="line">        <span class="comment">#                                 line=dict(width=2,</span></span><br><span class="line">        <span class="comment">#                                           color=&#x27;rgb(0, 0, 0)&#x27;</span></span><br><span class="line">        <span class="comment">#                                           ),</span></span><br><span class="line">        <span class="comment">#                                 opacity=[]</span></span><br><span class="line">        <span class="comment">#                                 )</span></span><br><span class="line">        <span class="comment">#                     )</span></span><br><span class="line">        <span class="comment"># data.append(trace1)</span></span><br><span class="line">        <span class="comment"># axis_template = dict(</span></span><br><span class="line">        <span class="comment">#     showgrid=True,  # ç½‘æ ¼</span></span><br><span class="line">        <span class="comment">#     zeroline=True,  # æ˜¯å¦æ˜¾ç¤ºåŸºçº¿,å³æ²¿ç€(0,0)ç”»å‡ºxè½´å’Œyè½´</span></span><br><span class="line">        <span class="comment">#     nticks=20,</span></span><br><span class="line">        <span class="comment">#     showline=True,</span></span><br><span class="line">        <span class="comment">#     title=&#x27;Time&#x27;,</span></span><br><span class="line">        <span class="comment">#     mirror=&#x27;all&#x27;,</span></span><br><span class="line">        <span class="comment">#     zerolinecolor=&quot;#FF0000&quot;</span></span><br><span class="line">        <span class="comment"># )</span></span><br><span class="line">        <span class="comment"># ayis_template = dict(</span></span><br><span class="line">        <span class="comment">#     showgrid=True,  # ç½‘æ ¼</span></span><br><span class="line">        <span class="comment">#     zeroline=True,  # æ˜¯å¦æ˜¾ç¤ºåŸºçº¿,å³æ²¿ç€(0,0)ç”»å‡ºxè½´å’Œyè½´</span></span><br><span class="line">        <span class="comment">#     nticks=20,</span></span><br><span class="line">        <span class="comment">#     showline=True,</span></span><br><span class="line">        <span class="comment">#     title=&#x27;Temp&#x27;,</span></span><br><span class="line">        <span class="comment">#     mirror=&#x27;all&#x27;,</span></span><br><span class="line">        <span class="comment">#     zerolinecolor=&quot;#FF0000&quot;</span></span><br><span class="line">        <span class="comment"># )</span></span><br><span class="line">        <span class="comment"># layout = go.Layout(font=dict(family=&#x27;Courier New, monospace&#x27;, size=18, color=&#x27;#3D3D3D&#x27;),</span></span><br><span class="line">        <span class="comment">#                    title=&#x27;æ¸©åº¦å€¼&#x27; ,xaxis=axis_template,yaxis=ayis_template</span></span><br><span class="line">        <span class="comment">#                    )</span></span><br><span class="line">        <span class="comment"># fig = go.Figure(data=data, layout=layout)</span></span><br><span class="line">        <span class="comment"># ptly.plot(fig, filename=&#x27;ssdata.html&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    get_shishi(<span class="number">0</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p><code>keshihua_shishi.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> keshihua_data_shishi <span class="keyword">as</span> kds</span><br><span class="line"></span><br><span class="line">cishu = <span class="number">0</span>   <span class="comment"># 0 - ä¸€ç›´æµ‹</span></span><br><span class="line">pingjun = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥å¤šå°‘ç»„ç®—ä¸€æ¬¡å¹³å‡æ•°--å»ºè®®10ç»„--:&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    kds.get_shishi(cishu,pingjun)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="4-ç²—ç³™çš„æ•´åˆâ€”å¾…ä¼˜åŒ–"><a href="#4-ç²—ç³™çš„æ•´åˆâ€”å¾…ä¼˜åŒ–" class="headerlink" title="4. ç²—ç³™çš„æ•´åˆâ€”å¾…ä¼˜åŒ–"></a>4. ç²—ç³™çš„æ•´åˆâ€”å¾…ä¼˜åŒ–</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> openpyxl <span class="keyword">as</span> xl</span><br><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> Workbook</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> plotly.offline <span class="keyword">as</span> ptly</span><br><span class="line"><span class="keyword">import</span> plotly.graph_objs <span class="keyword">as</span> go</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡é’ˆè§’åº¦å€¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_pointer_rad</span>(<span class="params">img</span>):</span><br><span class="line">    shape = img.shape</span><br><span class="line">    c_y, c_x, depth = <span class="built_in">int</span>(shape[<span class="number">0</span>] / <span class="number">2</span>), <span class="built_in">int</span>(shape[<span class="number">1</span>] / <span class="number">2</span>), shape[<span class="number">2</span>]    <span class="comment"># h,w,cute</span></span><br><span class="line">    x1=c_x+c_x*<span class="number">1.5</span>  <span class="comment"># æŒ‡é’ˆé•¿åº¦--å®½ 2.5å€</span></span><br><span class="line">    src = img.copy()</span><br><span class="line">    freq_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">361</span>):        <span class="comment"># ç®—æ³•</span></span><br><span class="line">        x = (x1 - c_x) * math.cos(i * math.pi / <span class="number">180</span>) + c_x</span><br><span class="line">        y = (x1 - c_x) * math.sin(i * math.pi / <span class="number">180</span>) + c_y</span><br><span class="line">        temp = src.copy()   <span class="comment"># å¤‡ä»½</span></span><br><span class="line">        cv2.line(temp, (c_x, c_y), (<span class="built_in">int</span>(x), <span class="built_in">int</span>(y)), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), thickness=<span class="number">1</span>)  <span class="comment"># åœ¨tempä¸Šç”»çº¿</span></span><br><span class="line">        t1 = img.copy()</span><br><span class="line">        t1[temp[:, :, <span class="number">1</span>] == <span class="number">255</span>] = <span class="number">255</span></span><br><span class="line">        c = img[temp[:, :, <span class="number">1</span>] == <span class="number">255</span>]</span><br><span class="line">        points = c[c == <span class="number">0</span>]</span><br><span class="line">        freq_list.append((<span class="built_in">len</span>(points), i))</span><br><span class="line">        <span class="comment"># å¯ä»¥å±•ç¤ºåŒ¹é…è¿‡ç¨‹</span></span><br><span class="line">        <span class="comment"># cv2.imshow(&#x27;d&#x27;, temp)</span></span><br><span class="line">        <span class="comment"># cv2.imshow(&#x27;d1&#x27;, t1)</span></span><br><span class="line">        <span class="comment"># å¦‚æœè¦æ±‚å›ºå®šæ£€æµ‹æ—¶é—´ä¸è¦å¤ªå¿«ï¼Œå¯ä»¥åœ¨è¿™é‡Œè°ƒæ…¢</span></span><br><span class="line">        cv2.waitKey(<span class="number">1</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(freq_list, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getthr</span>(<span class="params">imgc</span>):</span><br><span class="line">    thres = np.random.randint(<span class="number">40</span>,<span class="number">100</span>)   <span class="comment"># éšæœºæ•°èŒƒå›´</span></span><br><span class="line">    imgfan = cv2.threshold(imgc, thres, <span class="number">255</span>, cv2.THRESH_BINARY)[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">max</span> = get_pointer_rad(imgfan)</span><br><span class="line">    thr = <span class="built_in">max</span>[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> thr</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_averg</span>(<span class="params">imgc,h</span>):</span><br><span class="line">    tol = <span class="number">0</span></span><br><span class="line">    h = <span class="built_in">int</span>(h)          <span class="comment"># ç»Ÿè®¡æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(h):</span><br><span class="line">        thr = getthr(imgc)</span><br><span class="line">        tol = tol + thr</span><br><span class="line">        <span class="comment"># debug çœ‹çœ‹è§’åº¦æ˜¯å¦æ­£ç¡®ç»Ÿè®¡</span></span><br><span class="line">        <span class="comment"># print(f&#x27;ç¬¬&#123;i+1&#125;æ¬¡çš„è§’åº¦:&#123;thr&#125;&#x27;)</span></span><br><span class="line">        <span class="built_in">print</span>(i+<span class="number">1</span>,end=<span class="string">&#x27;ã€&#x27;</span>)</span><br><span class="line">    averg = tol / h</span><br><span class="line">    <span class="keyword">return</span> averg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_xlsx</span>(<span class="params">thr,cdu,timed</span>):</span><br><span class="line">    filex = <span class="string">&#x27;ssdata.xlsx&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filex):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;--åœ¨ssdata.xlsxä¸­å†™å…¥æ•°æ®--&#x27;</span>)</span><br><span class="line">        wb = xl.load_workbook(<span class="string">&#x27;ssdata.xlsx&#x27;</span>)</span><br><span class="line">        <span class="comment"># æ–‡ä»¶è¡¨å•å®šä½</span></span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        wb = Workbook()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--æ–°å»ºä¸€ä¸ªssdata.xlsx--&#x27;</span>)</span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    ws = wb.active</span><br><span class="line">    ws[<span class="string">&#x27;A1&#x27;</span>] = <span class="string">&#x27;æŒ‡é’ˆè§’åº¦&#x27;</span></span><br><span class="line">    ws[<span class="string">&#x27;B1&#x27;</span>] = <span class="string">&#x27;è½¬æ¢è§’åº¦&#x27;</span></span><br><span class="line">    ws[<span class="string">&#x27;C1&#x27;</span>] = <span class="string">&#x27;æµ‹è¯•æ—¶é—´&#x27;</span></span><br><span class="line"></span><br><span class="line">    maxrow = sheet.max_row + <span class="number">1</span></span><br><span class="line">    ws.cell(row=maxrow,column=<span class="number">1</span>,value=thr)</span><br><span class="line">    ws.cell(row=maxrow,column=<span class="number">2</span>,value=cdu)</span><br><span class="line">    ws.cell(row=maxrow,column=<span class="number">3</span>,value=timed)</span><br><span class="line"></span><br><span class="line">    wb.save(<span class="string">&#x27;ssdata.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_cts</span>():</span><br><span class="line">    filex = <span class="string">&#x27;ssdata.xlsx&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(filex):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;--åœ¨ssdata.xlsxä¸­å†™å…¥æ•°æ®--&#x27;</span>)</span><br><span class="line">        wb = xl.load_workbook(<span class="string">&#x27;ssdata.xlsx&#x27;</span>)</span><br><span class="line">        <span class="comment"># æ–‡ä»¶è¡¨å•å®šä½</span></span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        wb = Workbook()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;--æ–°å»ºä¸€ä¸ªssdata.xlsx--&#x27;</span>)</span><br><span class="line">        sheet = wb[<span class="string">&#x27;Sheet&#x27;</span>]</span><br><span class="line">    ws = wb.active</span><br><span class="line">    cdu = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> ws.iter_rows(min_row=<span class="number">2</span>, min_col=<span class="number">2</span>,max_col=<span class="number">2</span>,max_row=sheet.max_row ):</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            cdu.append(<span class="built_in">str</span>(cell.value))</span><br><span class="line">    timed = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> ws.iter_rows(min_row=<span class="number">2</span>, min_col=<span class="number">3</span>,max_col=<span class="number">3</span>,max_row=sheet.max_row ):</span><br><span class="line">        <span class="keyword">for</span> cell <span class="keyword">in</span> row:</span><br><span class="line">            timed.append(cell.value)</span><br><span class="line">    <span class="keyword">return</span> cdu,timed</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_shishi</span>(<span class="params">cishu,pingjun</span>):</span><br><span class="line">    <span class="comment"># img = cv2.imread(&#x27;./img/clock_re.png&#x27;)</span></span><br><span class="line">    imgh = cv2.imread(<span class="string">&#x27;frame.jpg&#x27;</span>)</span><br><span class="line">    <span class="comment"># imgh = img[0:165,6:171]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¯»å–excleä¸­æ•°æ®</span></span><br><span class="line">    cts = get_cts()</span><br><span class="line">    cdus = cts[<span class="number">0</span>]</span><br><span class="line">    timeds = cts[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    row = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">while</span> row:</span><br><span class="line">        thr = get_averg(imgh,pingjun)</span><br><span class="line">        <span class="keyword">if</span> thr &gt; <span class="number">0</span> <span class="keyword">and</span> thr &lt;= <span class="number">45</span>:</span><br><span class="line">            cdu = thr / <span class="number">2.25</span> + <span class="number">100</span></span><br><span class="line">        <span class="keyword">elif</span> thr &gt;= <span class="number">135</span> <span class="keyword">and</span> thr &lt;= <span class="number">360</span>:</span><br><span class="line">            cdu = (thr - <span class="number">135</span>) / <span class="number">2.25</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            cdu = <span class="string">&#x27;æµ‹è¯•æ•…éšœ&#x27;</span></span><br><span class="line">        cdus.append(<span class="built_in">str</span>(cdu))</span><br><span class="line">        timed = time.strftime(<span class="string">&quot;%H:%M:%S&quot;</span>, time.localtime())</span><br><span class="line">        timeds.append(timed)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä¿å­˜æ•°æ®</span></span><br><span class="line">        save_xlsx(thr,cdu,timed)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># # plotly æ•°æ®å¯è§†åŒ– ç¾è§‚ï¼Œå¯æ˜¯ä¸ä¼šåŠ¨æ€</span></span><br><span class="line">        <span class="comment"># data = []</span></span><br><span class="line">        <span class="comment"># cdu1 = round(cdu ,1)</span></span><br><span class="line">        <span class="comment"># namee = str(cdu1) + &#x27;Â°C&#x27;</span></span><br><span class="line">        <span class="comment"># trace1 = go.Scatter(x=timeds,</span></span><br><span class="line">        <span class="comment">#                     y=cdus,</span></span><br><span class="line">        <span class="comment">#                     mode=&#x27;lines+markers&#x27;,  # modeå¯é€‰&#x27;markers&#x27;,&#x27;lines&#x27;,&#x27;lines+markers&#x27;</span></span><br><span class="line">        <span class="comment">#                     name= namee,</span></span><br><span class="line">        <span class="comment">#                     marker=dict(size=10,  # è‹¥è®¾ä¸ºå˜é‡åˆ™å¯ç”¨æ•£ç‚¹å¤§å°è¡¨ç¤ºå˜é‡å¤§å°</span></span><br><span class="line">        <span class="comment">#                                 color=&#x27;rgba(152, 0, 0, .8)&#x27;,</span></span><br><span class="line">        <span class="comment">#                                 line=dict(width=2,</span></span><br><span class="line">        <span class="comment">#                                           color=&#x27;rgb(0, 0, 0)&#x27;</span></span><br><span class="line">        <span class="comment">#                                           ),</span></span><br><span class="line">        <span class="comment">#                                 opacity=[]</span></span><br><span class="line">        <span class="comment">#                                 )</span></span><br><span class="line">        <span class="comment">#                     )</span></span><br><span class="line">        <span class="comment"># data.append(trace1)</span></span><br><span class="line">        <span class="comment"># axis_template = dict(</span></span><br><span class="line">        <span class="comment">#     showgrid=True,  # ç½‘æ ¼</span></span><br><span class="line">        <span class="comment">#     zeroline=True,  # æ˜¯å¦æ˜¾ç¤ºåŸºçº¿,å³æ²¿ç€(0,0)ç”»å‡ºxè½´å’Œyè½´</span></span><br><span class="line">        <span class="comment">#     nticks=20,</span></span><br><span class="line">        <span class="comment">#     showline=True,</span></span><br><span class="line">        <span class="comment">#     title=&#x27;Time&#x27;,</span></span><br><span class="line">        <span class="comment">#     mirror=&#x27;all&#x27;,</span></span><br><span class="line">        <span class="comment">#     zerolinecolor=&quot;#FF0000&quot;</span></span><br><span class="line">        <span class="comment"># )</span></span><br><span class="line">        <span class="comment"># ayis_template = dict(</span></span><br><span class="line">        <span class="comment">#     showgrid=True,  # ç½‘æ ¼</span></span><br><span class="line">        <span class="comment">#     zeroline=True,  # æ˜¯å¦æ˜¾ç¤ºåŸºçº¿,å³æ²¿ç€(0,0)ç”»å‡ºxè½´å’Œyè½´</span></span><br><span class="line">        <span class="comment">#     nticks=20,</span></span><br><span class="line">        <span class="comment">#     showline=True,</span></span><br><span class="line">        <span class="comment">#     title=&#x27;Temp&#x27;,</span></span><br><span class="line">        <span class="comment">#     mirror=&#x27;all&#x27;,</span></span><br><span class="line">        <span class="comment">#     zerolinecolor=&quot;#FF0000&quot;</span></span><br><span class="line">        <span class="comment"># )</span></span><br><span class="line">        <span class="comment"># layout = go.Layout(font=dict(family=&#x27;Courier New, monospace&#x27;, size=18, color=&#x27;#3D3D3D&#x27;),</span></span><br><span class="line">        <span class="comment">#                    title=&#x27;æ¸©åº¦å€¼&#x27; ,xaxis=axis_template,yaxis=ayis_template</span></span><br><span class="line">        <span class="comment">#                    )</span></span><br><span class="line">        <span class="comment"># fig = go.Figure(data=data, layout=layout)</span></span><br><span class="line">        <span class="comment"># ptly.plot(fig, filename=&#x27;ssdata.html&#x27;)</span></span><br><span class="line">        <span class="comment"># break</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å®æ—¶æ•°æ®ï¼Œåœä¸ä¸‹æ¥</span></span><br><span class="line">        <span class="comment"># plt.figure(1)</span></span><br><span class="line">        plt.clf()  <span class="comment"># æ¸…ç©ºç”»å¸ƒä¸Šçš„æ‰€æœ‰å†…å®¹</span></span><br><span class="line">        fig1 = plt.figure(num=<span class="string">&#x27;æ¸©åº¦-æ—¶é—´&#x27;</span>, figsize=(<span class="number">20</span>, <span class="number">10</span>), dpi=<span class="number">75</span>, facecolor=<span class="string">&#x27;#FFFFFF&#x27;</span>, edgecolor=<span class="string">&#x27;#0000FF&#x27;</span>)</span><br><span class="line">        plt.xlabel(<span class="string">&#x27;Time&#x27;</span>)</span><br><span class="line">        plt.ylabel(<span class="string">&#x27;Temp&#x27;</span>)</span><br><span class="line">        plt.plot(timeds, cdus, <span class="string">&#x27;r-s&#x27;</span>)</span><br><span class="line">        <span class="comment"># plt.draw()  # æ³¨æ„æ­¤å‡½æ•°éœ€è¦è°ƒç”¨</span></span><br><span class="line">        <span class="comment"># time.sleep(0.01)</span></span><br><span class="line">        plt.pause(<span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(timeds) &gt;= <span class="number">22</span>:</span><br><span class="line">            timeds = []</span><br><span class="line">            cdus = []</span><br><span class="line">            plt.clf()</span><br><span class="line">            row = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">video_show</span>(<span class="params">video,ci</span>):</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        ret1,frame = video.read()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ret1:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;è§†é¢‘è·å–å¤±è´¥ï¼&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        framegray = cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line">        template = cv2.imread(<span class="string">&#x27;./img/moban_c.jpg&#x27;</span>)</span><br><span class="line">        <span class="comment"># print(template.shape)</span></span><br><span class="line">        <span class="comment"># exit()</span></span><br><span class="line">        theight , twidth = template.shape[<span class="number">0</span>] , template.shape[<span class="number">1</span>]</span><br><span class="line">        result = cv2.matchTemplate(frame,template,cv2.TM_SQDIFF_NORMED)</span><br><span class="line">        cv2.normalize(result,result,<span class="number">0</span>,<span class="number">1</span>,cv2.NORM_MINMAX,-<span class="number">1</span>)</span><br><span class="line">        min_val,max_val,min_loc,max_loc = cv2.minMaxLoc(result)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # min_locï¼šçŸ©å½¢å®šç‚¹</span></span><br><span class="line">        <span class="comment"># # (min_loc[0]+twidth,min_loc[1]+theight)ï¼šçŸ©å½¢çš„å®½é«˜</span></span><br><span class="line">        <span class="comment"># # (0,0,225)ï¼šçŸ©å½¢çš„è¾¹æ¡†é¢œè‰²ï¼›2ï¼šçŸ©å½¢è¾¹æ¡†å®½åº¦</span></span><br><span class="line">        cv2.rectangle(frame ,min_loc ,(min_loc[<span class="number">0</span>] + twidth ,min_loc[<span class="number">1</span>] + theight) ,(<span class="number">255</span> ,<span class="number">0</span> ,<span class="number">0</span>) ,<span class="number">2</span>)</span><br><span class="line">        cv2.imshow(<span class="string">&quot;Video_show&quot;</span>,frame)</span><br><span class="line"></span><br><span class="line">        choose_data = framegray[min_loc[<span class="number">0</span>]:(min_loc[<span class="number">0</span>] + twidth ),min_loc[<span class="number">1</span>]: (min_loc[<span class="number">1</span>] + theight)]</span><br><span class="line">        <span class="comment"># choose_datafan = cv2.threshold(choose_data ,110,255 ,cv2.THRESH_BINARY_INV)[1]</span></span><br><span class="line">        cv2.imshow(<span class="string">&quot;choose_video&quot;</span>,choose_data)</span><br><span class="line">        <span class="keyword">if</span> i%ci == <span class="number">0</span> :</span><br><span class="line">            cv2.imwrite(<span class="string">f&#x27;frame.jpg&#x27;</span>,choose_data)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;ç…§ç‰‡å·²ä¿å­˜--frame.jpg--ï¼š&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xff</span> == <span class="built_in">ord</span>(<span class="string">&quot;e&quot;</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    video.release()</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span> :</span><br><span class="line">    cishu = <span class="number">0</span>  <span class="comment"># 0 - ä¸€ç›´æµ‹</span></span><br><span class="line">    <span class="comment"># pingjun = int(input(&#x27;è¯·è¾“å…¥å¤šå°‘ç»„ç®—ä¸€æ¬¡å¹³å‡æ•°--å»ºè®®2ç»„--:&#x27;))</span></span><br><span class="line">    pingjun = <span class="number">5</span></span><br><span class="line">    ci = <span class="number">100</span></span><br><span class="line">    <span class="comment"># ci = int(input(&#x27;è¯·è¾“å…¥å¤šå°‘æ—¶é—´æ¢ä¸€ç»„ç…§ç‰‡--100å¤§æ¦‚3.638så·¦å³--ï¼š&#x27;))</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        video = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">        video_show(video ,ci)</span><br><span class="line">        get_shishi(cishu ,pingjun)</span><br></pre></td></tr></table></figure><h1 id="5-è¿›ä¸€æ­¥ä¼˜åŒ–"><a href="#5-è¿›ä¸€æ­¥ä¼˜åŒ–" class="headerlink" title="5. è¿›ä¸€æ­¥ä¼˜åŒ–"></a>5. è¿›ä¸€æ­¥ä¼˜åŒ–</h1><h2 id="5-1-åˆ†æè¯¯å·®çš„å‡†å¤‡"><a href="#5-1-åˆ†æè¯¯å·®çš„å‡†å¤‡" class="headerlink" title="5.1 åˆ†æè¯¯å·®çš„å‡†å¤‡"></a>5.1 åˆ†æè¯¯å·®çš„å‡†å¤‡</h2><h3 id="5-1-1-æ„é€ ä¸€ä¸ªæ¡Œé¢æŒ‡é’ˆ"><a href="#5-1-1-æ„é€ ä¸€ä¸ªæ¡Œé¢æŒ‡é’ˆ" class="headerlink" title="5.1.1 æ„é€ ä¸€ä¸ªæ¡Œé¢æŒ‡é’ˆ"></a>5.1.1 æ„é€ ä¸€ä¸ªæ¡Œé¢æŒ‡é’ˆ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawuse</span>():</span><br><span class="line">    <span class="comment"># background</span></span><br><span class="line">    game = t.Screen()</span><br><span class="line">    game.bgcolor(<span class="string">&#x27;#A4D3EE&#x27;</span>)</span><br><span class="line">    game.setup(<span class="number">500</span>,<span class="number">500</span>,<span class="number">0</span>,<span class="number">10</span>)</span><br><span class="line">    game.tracer(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    pen = t.Turtle()</span><br><span class="line">    pen.ht()</span><br><span class="line">    pen.speed(<span class="number">0</span>)</span><br><span class="line">    pen.up()</span><br><span class="line">    pen.pensize(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw</span>():</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            pen.clear()</span><br><span class="line">            <span class="comment"># åœ†</span></span><br><span class="line">            pen.pensize(<span class="number">3</span>)</span><br><span class="line">            pen.up()</span><br><span class="line">            pen.color(<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">            pen.goto(<span class="number">0</span>,-<span class="number">200</span>)</span><br><span class="line">            pen.down()</span><br><span class="line">            pen.seth(<span class="number">0</span>)</span><br><span class="line">            pen.circle(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># åˆ»åº¦</span></span><br><span class="line">            pen.up()</span><br><span class="line">            pen.goto(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">            pen.seth(<span class="number">225</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">13</span>):</span><br><span class="line">                pen.fd(<span class="number">180</span>)</span><br><span class="line">                pen.down()</span><br><span class="line">                pen.fd(<span class="number">20</span>)</span><br><span class="line">                pen.up()</span><br><span class="line">                pen.goto(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">                pen.right(<span class="number">22.5</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># æŒ‡é’ˆ</span></span><br><span class="line">            pen.up()</span><br><span class="line">            pen.goto(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">            pen.down()</span><br><span class="line">            pen.seth(<span class="number">225</span> - i)</span><br><span class="line">            pen.color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">            pen.pensize(<span class="number">6</span>)</span><br><span class="line">            pen.fd(<span class="number">120</span>)</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i &gt;= <span class="number">271</span>:</span><br><span class="line">                i = <span class="number">0</span></span><br><span class="line">            game.update()</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">drawgd</span>(<span class="params">thr</span>):</span><br><span class="line">        pen.clear()</span><br><span class="line">        <span class="comment"># åœ†</span></span><br><span class="line">        pen.up()</span><br><span class="line">        pen.color(<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">        pen.goto(<span class="number">0</span>,-<span class="number">200</span>)</span><br><span class="line">        pen.down()</span><br><span class="line">        pen.seth(<span class="number">0</span>)</span><br><span class="line">        pen.circle(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ»åº¦</span></span><br><span class="line">        pen.up()</span><br><span class="line">        pen.goto(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">        pen.seth(<span class="number">225</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">13</span>):</span><br><span class="line">            pen.fd(<span class="number">180</span>)</span><br><span class="line">            pen.down()</span><br><span class="line">            pen.fd(<span class="number">20</span>)</span><br><span class="line">            pen.up()</span><br><span class="line">            pen.goto(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">            pen.right(<span class="number">22.5</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æŒ‡é’ˆ</span></span><br><span class="line">        pen.up()</span><br><span class="line">        pen.goto(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">        pen.down()</span><br><span class="line">        pen.seth(<span class="number">225</span> - thr)</span><br><span class="line">        pen.color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">        pen.pensize(<span class="number">6</span>)</span><br><span class="line">        pen.fd(<span class="number">120</span>)</span><br><span class="line">        game.update()</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ¨¡å¼ä¸€--åŠ¨æ€</span></span><br><span class="line">    draw()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># # æ¨¡å¼äºŒ--å›ºå®š</span></span><br><span class="line">    <span class="comment"># thr = int(input(&quot;è¾“å…¥æŒ‡é’ˆåº¦æ•°:--è§’åº¦--&quot;))</span></span><br><span class="line">    <span class="comment"># drawgd(thr)</span></span><br><span class="line"></span><br><span class="line">    game.mainloop()</span><br></pre></td></tr></table></figure><h3 id="5-1-2-æ‰‹æœºä¸Šä¸‹è½½ä¸€ä¸ªæ¨¡æ‹Ÿæ—¶é’Ÿ"><a href="#5-1-2-æ‰‹æœºä¸Šä¸‹è½½ä¸€ä¸ªæ¨¡æ‹Ÿæ—¶é’Ÿ" class="headerlink" title="5.1.2 æ‰‹æœºä¸Šä¸‹è½½ä¸€ä¸ªæ¨¡æ‹Ÿæ—¶é’Ÿ"></a>5.1.2 æ‰‹æœºä¸Šä¸‹è½½ä¸€ä¸ªæ¨¡æ‹Ÿæ—¶é’Ÿ</h3><h3 id="5-1-3-è·å–ä¸¤è€…æ•°æ®å¯¹æ¯”æ¥åˆ†æè¯¯å·®"><a href="#5-1-3-è·å–ä¸¤è€…æ•°æ®å¯¹æ¯”æ¥åˆ†æè¯¯å·®" class="headerlink" title="5.1.3 è·å–ä¸¤è€…æ•°æ®å¯¹æ¯”æ¥åˆ†æè¯¯å·®"></a>5.1.3 è·å–ä¸¤è€…æ•°æ®å¯¹æ¯”æ¥åˆ†æè¯¯å·®</h3>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Practise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python OpenCV</title>
      <link href="/Learn/CG%20or%20CV/OpenCV/"/>
      <url>/Learn/CG%20or%20CV/OpenCV/</url>
      
        <content type="html"><![CDATA[<p>Pythonä¸­opencvçš„å­¦ä¹ å’Œä½¿ç”¨ï¼Œå¯ä»¥æ“ä½œå›¾ç‰‡ï¼Œè·Ÿpsä¸­çŸ¥è¯†æŒºåƒçš„hhh<br><span id="more"></span></p><h1 id="0-åŸºæœ¬çŸ¥è¯†çš„å­¦ä¹ "><a href="#0-åŸºæœ¬çŸ¥è¯†çš„å­¦ä¹ " class="headerlink" title="0.åŸºæœ¬çŸ¥è¯†çš„å­¦ä¹ "></a>0.åŸºæœ¬çŸ¥è¯†çš„å­¦ä¹ </h1><h2 id="0-1-åŸºæœ¬æ“ä½œ"><a href="#0-1-åŸºæœ¬æ“ä½œ" class="headerlink" title="0.1 åŸºæœ¬æ“ä½œ"></a>0.1 åŸºæœ¬æ“ä½œ</h2><p>å¼•ç”¨åº“<br><code>import cv2</code></p><p>cv2.IMREAD_COLOR:å½©è‰²å›¾åƒ RGB ä¸‰é€šé“<br>cv2.IMREAD_GRAYSCALEï¼šç°åº¦å›¾åƒ ç°åº¦ä¸€ä¸ªé€šé“</p><ul><li><code>img = cv2.imread(&#39;1.jpg&#39;)</code>æ‰“å¼€å›¾åƒâ€”â€”type(img) = numpy.ndarry</li><li><code>img = cv2.imread(&#39;1.jpg&#39;,cv2.IMREAD_GRAYSCALE)</code>æ‰“å¼€ä¸ºç°åº¦å›¾åƒ</li><li><code>cv2.imshow(&#39;image&#39;,img)</code>å±•ç¤ºå›¾åƒï¼Œçª—å£ image</li><li><code>cv2.waitKey(0)</code>çª—å£åœç•™æ—¶é—´æ¯«ç§’çº§ï¼Œ0 è¡¨ç¤ºæŒ‰ä»»æ„é”®é€€å‡º</li><li><code>cv2.destroyALLWindows()</code>é”€æ¯çª—å£</li><li><code>cv2.imwrite(&#39;result.jpg&#39;,img)</code>ä¿å­˜å›¾åƒï¼Œï¼ˆæ–‡ä»¶åï¼Œå›¾ç‰‡ï¼‰</li></ul><p>_å¯ä»¥ç›´æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°_</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyALLWindows()</span><br></pre></td></tr></table></figure><h3 id="0-1-1-ç”»ç›´çº¿"><a href="#0-1-1-ç”»ç›´çº¿" class="headerlink" title="0.1.1 ç”»ç›´çº¿"></a>0.1.1 ç”»ç›´çº¿</h3><p>åƒç´ ç‚¹åæ ‡ï¼Œå·¦ä¸ºé›¶ï¼Œä¸Šä¸ºé›¶<br>å·¦ä¸Šè§’ä¸ºåæ ‡åŸç‚¹ï¼Œè€Œåæ ‡ç³»æ˜¯ä»å·¦åˆ°å³ x ç¬¦åˆï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œy è¦å–è´Ÿ</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">img = np.zeros((<span class="number">320</span>, <span class="number">320</span>, <span class="number">3</span>), np.uint8) <span class="comment">#ç”Ÿæˆä¸€ä¸ªç©ºç°åº¦å›¾åƒ</span></span><br><span class="line"><span class="built_in">print</span>(img.shape) <span class="comment"># è¾“å‡ºï¼š(320, 320, 3)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.namedWindow(name,<span class="number">0</span>)</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å›¾ç‰‡ï¼Œåˆå§‹åæ ‡ï¼Œç»“æŸåæ ‡ï¼Œå›¾çº¿é¢œè‰²ï¼Œå›¾çº¿ç²—ç»†</span></span><br><span class="line">cv2.line(img,(<span class="number">0</span>,<span class="number">100</span>),(<span class="number">100</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line">cv2.line(img,(<span class="number">0</span>,<span class="number">200</span>),(<span class="number">100</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br><span class="line">cv_show(<span class="string">&#x27;line&#x27;</span>,img)</span><br></pre></td></tr></table></figure><h3 id="0-1-2-è°ƒç”¨ç¬”è®°æœ¬æ‘„åƒå¤´"><a href="#0-1-2-è°ƒç”¨ç¬”è®°æœ¬æ‘„åƒå¤´" class="headerlink" title="0.1.2 è°ƒç”¨ç¬”è®°æœ¬æ‘„åƒå¤´"></a>0.1.2 è°ƒç”¨ç¬”è®°æœ¬æ‘„åƒå¤´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">video = cv2.VideoCapture(<span class="number">0</span>) <span class="comment"># å‚æ•°æ˜¯0ï¼Œè¡¨ç¤ºæ‰“å¼€ç¬”è®°æœ¬çš„å†…ç½®æ‘„åƒå¤´ï¼Œå‚æ•°æ˜¯è§†é¢‘æ–‡ä»¶è·¯å¾„åˆ™æ‰“å¼€è§†é¢‘ï¼Œå¦‚cap = cv2.VideoCapture(&quot;../test.avi&quot;)</span></span><br><span class="line">ret,frame = video.read() <span class="comment"># ret,frameæ˜¯è·cap.read()æ–¹æ³•çš„ä¸¤ä¸ªè¿”å›å€¼ã€‚å…¶ä¸­retæ˜¯å¸ƒå°”å€¼ï¼Œå¦‚æœè¯»å–å¸§æ˜¯æ­£ç¡®çš„åˆ™è¿”å›Trueï¼Œå¦‚æœæ–‡ä»¶è¯»å–åˆ°ç»“å°¾ï¼Œå®ƒçš„è¿”å›å€¼å°±ä¸ºFalse</span></span><br><span class="line"></span><br><span class="line">cv2.waitKey(<span class="number">0</span>) <span class="comment"># å¦‚cv2.waitKey(0)åªæ˜¾ç¤ºå½“å‰å¸§å›¾åƒï¼Œç›¸å½“äºè§†é¢‘æš‚åœ</span></span><br><span class="line">cv2.waitKey(<span class="number">1</span>) <span class="comment"># è¡¨ç¤ºå»¶æ—¶1msåˆ‡æ¢åˆ°ä¸‹ä¸€å¸§å›¾åƒï¼Œå¯¹äºè§†é¢‘è€Œè¨€</span></span><br><span class="line">cv2.waitKey(<span class="number">1000</span>) <span class="comment"># ä¼šå› ä¸ºå»¶æ—¶è¿‡ä¹…è€Œå¡é¡¿æ„Ÿè§‰åˆ°å¡é¡¿</span></span><br><span class="line"></span><br><span class="line">cv2.release()</span><br><span class="line">è°ƒç”¨release()é‡Šæ”¾æ‘„åƒå¤´ï¼Œè°ƒç”¨destroyAllWindows()å…³é—­æ‰€æœ‰å›¾åƒçª—å£</span><br></pre></td></tr></table></figure><h2 id="0-2-åŸºæœ¬å±æ€§-å‡½æ•°"><a href="#0-2-åŸºæœ¬å±æ€§-å‡½æ•°" class="headerlink" title="0.2 åŸºæœ¬å±æ€§/å‡½æ•°"></a>0.2 åŸºæœ¬å±æ€§/å‡½æ•°</h2><p>img.shape # (414.500.3) (h,w,rgb=3)<br>img.size # h*w*rgb<br>img.dtype # uint8</p><h2 id="0-3-è¯»å–è§†é¢‘"><a href="#0-3-è¯»å–è§†é¢‘" class="headerlink" title="0.3 è¯»å–è§†é¢‘"></a>0.3 è¯»å–è§†é¢‘</h2><p>cv2.VideoCapture æ•è·æ‘„åƒå¤´</p><ul><li><code>vc = cv2.VideoCapture(&#39;test.mp4&#39;)</code> æ‰“å¼€è§†é¢‘</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æ˜¯å¦æ­£ç¡®æ‰“å¼€</span></span><br><span class="line"><span class="keyword">if</span> vc.isOpened():</span><br><span class="line">    <span class="built_in">open</span>. frame = vc.read()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">open</span> = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">open</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ’­æ”¾è§†é¢‘ å¾ªç¯æ¯ä¸€å¸§</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">open</span>:</span><br><span class="line">    ret, frame = vc.read()</span><br><span class="line">    <span class="keyword">if</span> frame <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> ret == <span class="literal">True</span>:</span><br><span class="line">        gray = cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)   <span class="comment">#è½¬åŒ–ä¸ºç°åº¦</span></span><br><span class="line">        cv2.namedWindow(<span class="string">&#x27;result&#x27;</span>,<span class="number">0</span>)</span><br><span class="line">        cv2.imshow(<span class="string">&#x27;result&#x27;</span>,gray)</span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">10</span>) &amp; <span class="number">0xFF</span> == <span class="number">27</span>: <span class="comment"># 10åˆšåˆšå¥½é€Ÿåº¦ï¼Œ27æŒ‰escé€€å‡º</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">vc.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><h2 id="0-4-æ„Ÿå…´è¶£åŒºåŸŸ"><a href="#0-4-æ„Ÿå…´è¶£åŒºåŸŸ" class="headerlink" title="0.4 æ„Ÿå…´è¶£åŒºåŸŸ"></a>0.4 æ„Ÿå…´è¶£åŒºåŸŸ</h2><p>å›¾åƒæˆªå–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img = cv.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line">cat = img[<span class="number">0</span>:<span class="number">200</span>,<span class="number">0</span>:<span class="number">200</span>]</span><br><span class="line">cv.show(<span class="string">&#x27;cat&#x27;</span>,cat)</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡æˆªå–ï¼Œï¼ˆè¯†åˆ«æŠ€æœ¯å°†åŒ¹é…åˆ°çš„æ•°æ®å±•ç¤ºï¼‰<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">image_clip = image_rgb[<span class="built_in">int</span>(top):(<span class="built_in">int</span>(top) + <span class="built_in">int</span>(height)), <span class="built_in">int</span>(left):(<span class="built_in">int</span>(left) + <span class="built_in">int</span>(width))]</span><br><span class="line">é¡ºåºä¸º[y0:y1, x0:x1]</span><br></pre></td></tr></table></figure></p><h2 id="0-5-ç‰¹æ®Šé€‰å–-åˆ‡åˆ†é€šé“"><a href="#0-5-ç‰¹æ®Šé€‰å–-åˆ‡åˆ†é€šé“" class="headerlink" title="0.5 ç‰¹æ®Šé€‰å–,åˆ‡åˆ†é€šé“"></a>0.5 ç‰¹æ®Šé€‰å–,åˆ‡åˆ†é€šé“</h2><p>bï¼š::0<br>gï¼š::1<br>rï¼š::2</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">b,g,r = cv2.split(img)  <span class="comment"># åˆ‡åˆ†</span></span><br><span class="line">b.shape == g.shape == r.shape</span><br><span class="line"></span><br><span class="line">img = cv2.merge((b,g,r))    <span class="comment"># åˆå¹¶</span></span><br><span class="line">img.shape</span><br></pre></td></tr></table></figure><h2 id="0-6-è¾¹ç•Œå¡«å……"><a href="#0-6-è¾¹ç•Œå¡«å……" class="headerlink" title="0.6 è¾¹ç•Œå¡«å……"></a>0.6 è¾¹ç•Œå¡«å……</h2><p>å›¾åƒçš„è¾¹ç•Œ</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸Šä¸‹å·¦å³å¡«å……å¤§å°</span></span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyALLWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./img/1.jpg&#x27;</span>)</span><br><span class="line"><span class="comment"># å®šä¹‰è¾¹ç•Œå¤§å°</span></span><br><span class="line">top_size, bottom_size, left_size,right_size = (<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>)</span><br><span class="line"><span class="comment"># å¤åˆ¶æ³•ï¼Œå¤åˆ¶æœ€è¾¹ç¼˜åƒç´ </span></span><br><span class="line">replicate = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,borderType = cv2.BORDER_REPLICATE)</span><br><span class="line"><span class="comment"># åå°„æ³• å¯¹æ„Ÿå…´è¶£çš„å›¾åƒä¸­çš„åƒç´ åœ¨ä¸¤è¾¹è¿›è¡Œå¤åˆ¶  ba|abc|cb</span></span><br><span class="line">reflect = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,borderType = cv2.BORDER_REFLECT)</span><br><span class="line"><span class="comment"># åå°„æ³•   edcb|abcdefgh|gfedc</span></span><br><span class="line">reflect2 = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,borderType = cv2.BORDER_REFLECT_101)</span><br><span class="line"><span class="comment"># å¤–åŒ…è£…æ³•  cdefgh|abcdefgh|abcdef</span></span><br><span class="line">wrap = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,borderType = cv2.BORDER_WRAP)</span><br><span class="line"><span class="comment"># å¸¸é‡æ³•   å¸¸æ•°å€¼è¡¥å……</span></span><br><span class="line">constant = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,borderType = cv2.BORDER_CONSTANT)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0-7-æ•°å€¼è®¡ç®—-å›¾åƒèåˆ-å¤§å°æ”¾ç¼©"><a href="#0-7-æ•°å€¼è®¡ç®—-å›¾åƒèåˆ-å¤§å°æ”¾ç¼©" class="headerlink" title="0.7 æ•°å€¼è®¡ç®—\å›¾åƒèåˆ\å¤§å°æ”¾ç¼©"></a>0.7 æ•°å€¼è®¡ç®—\å›¾åƒèåˆ\å¤§å°æ”¾ç¼©</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">img1 = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line">img2 = cv2.imread(<span class="string">&#x27;2.jpg&#x27;</span>)</span><br><span class="line"></span><br><span class="line">img11 = img1 + <span class="number">10</span>  <span class="comment"># [500,500,3] ä¸­æ¯ä¸€å—éƒ½åŠ 10</span></span><br><span class="line">img1[:<span class="number">5</span>,:,<span class="number">0</span>].shape åªæ‰“å°å‰äº”è¡Œ</span><br><span class="line">img11[:<span class="number">5</span>,:,<span class="number">0</span>]</span><br><span class="line">(img1+img11)[:<span class="number">5</span>,:,<span class="number">0</span>]    å¦‚æœè¶…å‡ºï¼Œåˆ™ç»“æœå–ä½™</span><br><span class="line">cv2.add(img1,img11)[:<span class="number">5</span>,:,<span class="number">0</span>] å¦‚æœè¶…å‡º<span class="number">255</span>ï¼Œåˆ™ä¸å–ä½™ç›´æ¥ç”¨<span class="number">255</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å›¾åƒèåˆ</span></span><br><span class="line"></span><br><span class="line">img1+img2 <span class="comment">#shapeä¸åŒï¼Œåˆ™åŠ ä¸äº†</span></span><br><span class="line">img1.shape  <span class="comment"># (414,500,3)</span></span><br><span class="line">img2.shape  <span class="comment"># (419,499,3)</span></span><br><span class="line">img2 = cv2.resize(img2,(<span class="number">500</span>,<span class="number">414</span>))   <span class="comment"># æ”¹å˜å¤§å°</span></span><br><span class="line">img2.shape  <span class="comment"># (414,500,3)</span></span><br><span class="line"></span><br><span class="line">res = cv2.addWeighted(img1,<span class="number">0.4</span>,img2,<span class="number">0.6</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># res = img1*0.4+img2*0.6+0     æƒé‡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å›¾åƒå¤§å°æ”¾ç¼©</span></span><br><span class="line">res = cv2.resize(img,(<span class="number">0</span>,<span class="number">0</span>),fx=<span class="number">0.5</span>,fy=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h2 id="0-8-å›¾åƒé˜ˆå€¼"><a href="#0-8-å›¾åƒé˜ˆå€¼" class="headerlink" title="0.8 å›¾åƒé˜ˆå€¼"></a>0.8 å›¾åƒé˜ˆå€¼</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">cv2.threshold():</span><br><span class="line">å‚æ•°ï¼š</span><br><span class="line">    img:å›¾åƒå¯¹è±¡ï¼Œå¿…é¡»æ˜¯ç°åº¦å›¾</span><br><span class="line">    thresh:é˜ˆå€¼ <span class="number">0</span>~<span class="number">255</span>   eg:<span class="number">127</span></span><br><span class="line">    maxvalï¼šæœ€å¤§å€¼  <span class="number">255</span></span><br><span class="line">    <span class="built_in">type</span>:</span><br><span class="line">        cv2.THRESH_BINARY:     å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸º<span class="number">0</span>ï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸ºmaxval</span><br><span class="line">            è¶…è¿‡é˜ˆå€¼éƒ¨åˆ†å–æœ€å¤§å€¼maxval=<span class="number">255</span> whiteï¼Œå¦åˆ™å–<span class="number">0</span> black</span><br><span class="line">            äº®çš„åœ°æ–¹ç™½ï¼Œæš—çš„åœ°æ–¹é»‘</span><br><span class="line">        cv2.THRESH_BINARY_INVï¼š å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸ºmaxvalï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸º<span class="number">0</span></span><br><span class="line">            äº®çš„åœ°æ–¹é»‘ï¼Œæš—çš„åœ°æ–¹ç™½</span><br><span class="line">        cv2.THRESH_TRUNCï¼š      å°äºé˜ˆå€¼çš„åƒç´ ä¸å˜ï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸ºthresh</span><br><span class="line">            æŒ‡å®šä¸€ä¸ªæˆªæ–­å€¼ï¼Œå¤§äºé˜ˆå€¼éƒ¨åˆ†å˜æˆé˜ˆå€¼ï¼Œå°äºçš„ä¸å˜</span><br><span class="line">        cv2.THRESH_TOZERO       å°äºé˜ˆå€¼çš„åƒç´ ç½®<span class="number">0</span>ï¼Œå¤§äºé˜ˆå€¼çš„ä¸å˜</span><br><span class="line">            å¤§äºé˜ˆå€¼éƒ¨åˆ†ä¸å˜ï¼Œå°äºçš„å…¨å˜ä¸º<span class="number">0</span></span><br><span class="line">        cv2.THRESH_TOZERO_INV   å°äºé˜ˆå€¼çš„ä¸å˜ï¼Œå¤§äºé˜ˆå€¼çš„åƒç´ ç½®<span class="number">0</span></span><br><span class="line">            å¤§äºé˜ˆå€¼å˜ä¸º<span class="number">0</span>   ï¼Œå°äºé˜ˆå€¼çš„ä¸å˜</span><br><span class="line">è¿”å›ä¸¤ä¸ªå€¼</span><br><span class="line">    ret:é˜ˆå€¼</span><br><span class="line">    imgï¼šé˜ˆå€¼åŒ–å¤„ç†åçš„å›¾åƒ</span><br><span class="line"></span><br><span class="line">cv2.adaptiveThreshold() è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œå›¾åƒä¸åŒéƒ¨ä½é‡‡ç”¨ä¸åŒçš„é˜ˆå€¼è¿›è¡Œå¤„ç†</span><br><span class="line">å‚æ•°ï¼š</span><br><span class="line">    img: å›¾åƒå¯¹è±¡ï¼Œ<span class="number">8</span>-bitå•é€šé“å›¾</span><br><span class="line">    maxValue:æœ€å¤§å€¼</span><br><span class="line">    adaptiveMethod: è‡ªé€‚åº”æ–¹æ³•</span><br><span class="line">        cv2.ADAPTIVE_THRESH_MEAN_C     ï¼šé˜ˆå€¼ä¸ºå‘¨å›´åƒç´ çš„å¹³å‡å€¼</span><br><span class="line">        cv2.ADAPTIVE_THRESH_GAUSSIAN_C : é˜ˆå€¼ä¸ºå‘¨å›´åƒç´ çš„é«˜æ–¯å‡å€¼ï¼ˆæŒ‰æƒé‡ï¼‰</span><br><span class="line">    threshType:</span><br><span class="line">        cv2.THRESH_BINARY:     å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸º<span class="number">0</span>ï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸ºmaxValuel</span><br><span class="line">        cv2.THRESH_BINARY_INV:  å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸ºmaxValueï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸º<span class="number">0</span></span><br><span class="line">    blocksize: è®¡ç®—é˜ˆå€¼æ—¶ï¼Œè‡ªé€‚åº”çš„çª—å£å¤§å°,å¿…é¡»ä¸ºå¥‡æ•° ï¼ˆå¦‚<span class="number">3</span>ï¼šè¡¨ç¤ºé™„è¿‘<span class="number">3</span>ä¸ªåƒç´ èŒƒå›´å†…çš„åƒç´ ç‚¹ï¼Œè¿›è¡Œè®¡ç®—é˜ˆå€¼ï¼‰</span><br><span class="line">    Cï¼š å¸¸æ•°å€¼ï¼Œé€šè¿‡è‡ªé€‚åº”æ–¹æ³•è®¡ç®—çš„å€¼ï¼Œå‡å»è¯¥å¸¸æ•°å€¼</span><br><span class="line">(mean value of the blocksize*blocksize neighborhood of (x, y) minus C)</span><br></pre></td></tr></table></figure><h2 id="0-9-å›¾åƒå¹³æ»‘-å»æ‰å™ªéŸ³ç‚¹"><a href="#0-9-å›¾åƒå¹³æ»‘-å»æ‰å™ªéŸ³ç‚¹" class="headerlink" title="0.9 å›¾åƒå¹³æ»‘-å»æ‰å™ªéŸ³ç‚¹"></a>0.9 å›¾åƒå¹³æ»‘-å»æ‰å™ªéŸ³ç‚¹</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./img/1.jpg&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.namedWindow(name,<span class="number">0</span>)</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyALLWindows()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡å€¼æ»¤æ³¢</span></span><br><span class="line"><span class="comment"># ç®€å•çš„å¹³å‡å·ç§¯æ“ä½œ # (3,3)å·ç§¯ç›’</span></span><br><span class="line">blur = cv2.blur(img,(<span class="number">3</span>,<span class="number">3</span>))  <span class="comment"># ï¼ˆå¥‡æ•°ï¼Œå¥‡æ•°ï¼‰ ä¸­å¿ƒçš„å€¼æ ¹æ®å‘¨å›´æ•°æ”¹å˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ¡†æ»¤æ³¢</span></span><br><span class="line"><span class="comment"># ä¸å‡å€¼æ»¤æ³¢ç›¸ä¼¼   normalize æ˜¯å¦åšå½’ä¸€åŒ–ï¼Œtrueä¸å‡å€¼ä¸€æ ·</span></span><br><span class="line"><span class="comment">#                                       false ä¼šè¶Šç•Œ&gt;255 ï¼Œæ‰€æœ‰è¶Šç•Œå€¼å…¨ä¸º255</span></span><br><span class="line">box = cv2.boxFilter(img,-<span class="number">1</span>,(<span class="number">3</span>,<span class="number">3</span>),normalize =<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é«˜æ–¯æ»¤æ³¢</span></span><br><span class="line"><span class="comment"># é«˜æ–¯æ¨¡ç³Š---æ­£æ€åˆ†å¸ƒï¼Œç¦»ä¸­å¿ƒå€¼è¶Šè¿œï¼Œå€¼è¶Šå°</span></span><br><span class="line">aussian = cv2.GaussianBlur(img,(<span class="number">5</span>,<span class="number">5</span>),<span class="number">1</span>)     <span class="comment"># (5,5)çš„ç›’</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸­å€¼æ»¤æ³¢</span></span><br><span class="line"><span class="comment"># ä¸­é—´çš„å€¼</span></span><br><span class="line">median = cv2.medianBlur(img,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•ç¤ºæ‰€æœ‰çš„</span></span><br><span class="line"><span class="comment"># ä¸‰å¼ å›¾ç‰‡æ‹¼æ¥åœ¨ä¸€èµ·</span></span><br><span class="line">res = np.hstack((blur,aussian,median))</span><br><span class="line">resv = np.vstack((blur,aussian,median))</span><br><span class="line"></span><br><span class="line">cv_show(<span class="string">&#x27;res&#x27;</span>,res)</span><br></pre></td></tr></table></figure><h2 id="0-10-å½¢æ€å­¦-è…èš€æ“ä½œ-å»æ‰æ¯›åˆº"><a href="#0-10-å½¢æ€å­¦-è…èš€æ“ä½œ-å»æ‰æ¯›åˆº" class="headerlink" title="0.10 å½¢æ€å­¦-è…èš€æ“ä½œ-å»æ‰æ¯›åˆº"></a>0.10 å½¢æ€å­¦-è…èš€æ“ä½œ-å»æ‰æ¯›åˆº</h2><p>è¾¹ç•Œé‡Œçš„ç›’å­å¦‚æœæœ‰ 0 æœ‰ 255ï¼Œåˆ™å…¨å˜ä¸º 0</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># å»æ¯›åˆºï¼Œré€šé“</span></span><br><span class="line">kernel = np.ones((<span class="number">5</span>,<span class="number">5</span>),np.uint8)    <span class="comment"># ï¼ˆ5ï¼Œ5ï¼‰è…èš€å¤§å°</span></span><br><span class="line">erosion = cv2.erode(img,kernel,iterations = <span class="number">2</span>)  <span class="comment"># iterations åšå‡ æ¬¡è…èš€</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0-11-å½¢æ€å­¦-è†¨èƒ€æ“ä½œ"><a href="#0-11-å½¢æ€å­¦-è†¨èƒ€æ“ä½œ" class="headerlink" title="0.11 å½¢æ€å­¦-è†¨èƒ€æ“ä½œ"></a>0.11 å½¢æ€å­¦-è†¨èƒ€æ“ä½œ</h2><p>_è…èš€åå›¾åƒå¤ªç»†ï¼Œä½¿ç”¨è†¨èƒ€_<br>è¾¹ç•Œé‡Œçš„ç›’å­å¦‚æœæœ‰ 0 æœ‰ 255ï¼Œåˆ™å…¨å˜ä¸º 255 ç™½</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kernel = np.ones((<span class="number">3</span>,<span class="number">3</span>),np.uint8)</span><br><span class="line">dilate = cv2.dilate(erosion,kernel,iterations=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="0-12-å¼€è¿ç®—ä¸é—­è¿ç®—"><a href="#0-12-å¼€è¿ç®—ä¸é—­è¿ç®—" class="headerlink" title="0.12 å¼€è¿ç®—ä¸é—­è¿ç®—"></a>0.12 å¼€è¿ç®—ä¸é—­è¿ç®—</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€è¿ç®—--å…ˆè…èš€åè†¨èƒ€</span></span><br><span class="line">kernel = np.ones((<span class="number">5</span>,<span class="number">5</span>),np.uint8)</span><br><span class="line">opening = cv2.morphologyEx(img,cv2.MORPH_OPEN,KERNEL)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é—­è¿ç®—--å…ˆè†¨èƒ€åè…èš€</span></span><br><span class="line">kernel = np.ones((<span class="number">5</span>,<span class="number">5</span>),np.uint8)</span><br><span class="line">closing = cv2.morphologyEx(img,cv2.MORPH_CLOSE,kernel)</span><br></pre></td></tr></table></figure><h2 id="0-13-æ¢¯åº¦è¿ç®—"><a href="#0-13-æ¢¯åº¦è¿ç®—" class="headerlink" title="0.13 æ¢¯åº¦è¿ç®—"></a>0.13 æ¢¯åº¦è¿ç®—</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¢¯åº¦è¿ç®— = è†¨èƒ€-è…èš€ = è½®å»“</span></span><br><span class="line">kernel = np.ones((<span class="number">7</span>,<span class="number">7</span>),np.uint8)</span><br><span class="line">gradient = cv2.morphologyEx(img,cv2.MORPH_GRADIENT,kernel)  <span class="comment"># è½®å»“</span></span><br></pre></td></tr></table></figure><h2 id="0-14-ç¤¼å¸½-é»‘å¸½"><a href="#0-14-ç¤¼å¸½-é»‘å¸½" class="headerlink" title="0.14 ç¤¼å¸½ é»‘å¸½"></a>0.14 ç¤¼å¸½ é»‘å¸½</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤¼å¸½ = åŸå§‹è¾“å…¥ - å¼€è¿ç®— = æ¯›åˆº</span></span><br><span class="line">tophat = cv2.morphologyEx(img,cv2.MORPH_TOPHAT,kernel)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é»‘å¸½ = é—­è¿ç®— - åŸå§‹è¾“å…¥ = æ¯›åˆº+æ›´èƒ–æ•´ä½“ - æ¯›åˆº</span></span><br><span class="line">blackhat = cv2.morphologyEx(img,cv2.MORPH_BLACKHAT,kernel)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0-15-å›¾åƒæ¢¯åº¦-Sobel-ç®—å­"><a href="#0-15-å›¾åƒæ¢¯åº¦-Sobel-ç®—å­" class="headerlink" title="0.15 å›¾åƒæ¢¯åº¦-Sobel ç®—å­"></a>0.15 å›¾åƒæ¢¯åº¦-Sobel ç®—å­</h2><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/1.jpg" alt="1.jpg"></p><p>æ¢¯åº¦ï¼šè¾¹ç¼˜ä½ç½®çš„åƒç´ æ•°å€¼ä¸åŒï¼Œæ•°å€¼å·®è¶Šå¤§ï¼Œæ¢¯åº¦è¶Šå¤§<br>è¾¹ç¼˜æ£€æµ‹ï¼Œç‰©ä½“åˆ†è¾¨<br>å³å‡å·¦ï¼Œä¸‹å‡ä¸Š &emsp; ä»å³åˆ°å·¦ï¼Œä»ä¸‹è‡³ä¸Š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dst = cv2.Sobel(img,ddepth,dx,dy,ksize)</span></span><br><span class="line"><span class="comment"># ddepth:å›¾åƒæ·±åº¦ -1</span></span><br><span class="line"><span class="comment"># dx dyï¼šæ°´å¹³ï¼Œç«–ç›´ 1 0</span></span><br><span class="line"><span class="comment"># ksizeï¼šç›’çš„å¤§å°</span></span><br><span class="line"></span><br><span class="line">sobelx = cv2.Sobel(img,cv2.CV_64F,<span class="number">1</span>,<span class="number">0</span>,ksize = <span class="number">3</span>)</span><br><span class="line"><span class="comment"># cv2.CV_64F è´Ÿæ•°å½¢å¼</span></span><br><span class="line"><span class="comment"># ç™½-é»‘æ˜¯æ­£æ•°ï¼Œé»‘-ç™½æ˜¯è´Ÿæ•°ï¼Œæ‰€æœ‰è´Ÿæ•°ä¼šè¢«æˆªæ–­ä¸º0ï¼Œæ‰€ä»¥è¦å–ç»å¯¹å€¼</span></span><br><span class="line"></span><br><span class="line">sobelx = cv2.convertScaleAbs(sobelx)</span><br><span class="line"><span class="comment"># å–ç»å¯¹å€¼</span></span><br><span class="line"></span><br><span class="line">sobely = cv2.Sobel(img,cv2.CV_64F,<span class="number">0</span>,<span class="number">1</span>,ksize = <span class="number">3</span>)</span><br><span class="line"><span class="comment"># yæ–¹å‘</span></span><br><span class="line">sobely = cv2.convertScaleAbs(sobely)</span><br><span class="line"></span><br><span class="line"><span class="comment"># x,yåˆ†åˆ«æ±‚å‡ºï¼Œå†æ±‚å’Œ</span></span><br><span class="line">sobelxy = cv2.addWeighted(sobelx,<span class="number">0.5</span>,sobely,<span class="number">0.5</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸å»ºè®®ç›´æ¥è®¡ç®—ï¼ŒåŠdxï¼Œdyéƒ½ä¸º 1</span></span><br><span class="line"><span class="comment"># è½®å»“ä¼šæ›´åŠ çš„è™š</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0-16-å›¾åƒæ¢¯åº¦-Scharr-amp-amp-Laplacian-ç®—å­"><a href="#0-16-å›¾åƒæ¢¯åº¦-Scharr-amp-amp-Laplacian-ç®—å­" class="headerlink" title="0.16 å›¾åƒæ¢¯åº¦ Scharr&amp;&amp;Laplacian ç®—å­"></a>0.16 å›¾åƒæ¢¯åº¦ Scharr&amp;&amp;Laplacian ç®—å­</h2><p>scharr â€” æ›´æ•æ„Ÿ â€” æç»˜è½®å»“æ›´ç»†è‡´<br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/2.jpg" alt="2.jpg"></p><p>laplacian â€” äºŒé˜¶å¯¼ â€” æ›´æ›´æ•æ„Ÿï¼Œå¯¹å™ªéŸ³ç‚¹æ•æ„Ÿï¼Œå¾ˆå°‘å•ç‹¬ä½¿ç”¨</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/3.png" alt="3.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scharrx = cv2.Scharr(img,cv2.CV_64F,1,0)</span><br><span class="line">scharry = cv2.Scharr(img,cv2.CV_64F,0,1)</span><br><span class="line">scharrx = cv2.convertScaleAbs(scharrx)</span><br><span class="line">scharry = cv2.convertScaleAbs(scharry)</span><br><span class="line">scharrxy = cv2.addWeighted(scharrx,0.5,scharry,0.5,0)</span><br><span class="line"></span><br><span class="line">laplacian = cv2.Laplacian(img,cv2.CV_64F)</span><br><span class="line">laplacian = cv2.convertScaleAbs(laplacian)</span><br><span class="line"></span><br><span class="line">res = np.hstack((scharrxy,laplacian))</span><br></pre></td></tr></table></figure><p>ä¸‰ç§ç®—å­åŒºåˆ«</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/123%E5%8C%BA%E5%88%AB.png" alt="123åŒºåˆ«.png"></p><h2 id="0-17-Canny-è¾¹ç¼˜æ£€æµ‹â€”ç»¼åˆ"><a href="#0-17-Canny-è¾¹ç¼˜æ£€æµ‹â€”ç»¼åˆ" class="headerlink" title="0.17 Canny è¾¹ç¼˜æ£€æµ‹â€”ç»¼åˆ"></a>0.17 Canny è¾¹ç¼˜æ£€æµ‹â€”ç»¼åˆ</h2><ul><li>é«˜æ–¯æ»¤æ³¢å™¨ï¼Œå¹³æ»‘å¤„ç†ï¼Œæ»¤é™¤å™ªå£°</li><li>è®¡ç®—å›¾åƒä¸­æ¯ä¸ªåƒç´ ç‚¹çš„æ¢¯åº¦å¼ºåº¦å’Œæ–¹å‘</li><li>åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼Œæ¶ˆé™¤å°çš„ä¸æ˜æ˜¾çš„åœ°æ–¹<br>a æ£€æµ‹å‡ºç›®æ ‡å¯èƒ½æ€§ 90%ï¼Œb æ˜¯ 80%ï¼Œåˆ™ä¼šæŠ‘åˆ¶æ‰ bï¼ŒæŠŠ b ä¸¢æ‰</li><li>åº”ç”¨åŒé˜ˆå€¼ï¼Œæ£€æµ‹æ¥ç¡®å®šçœŸå®çš„å’Œæ½œåœ¨çš„è¾¹ç¼˜</li><li>é€šè¿‡æŠ‘åˆ¶å­¤ç«‹çš„å¼±è¾¹ç¼˜æœ€ç»ˆå®Œæˆè¾¹ç¼˜æ£€æµ‹</li></ul><p>â‘  é«˜æ–¯æ»¤æ³¢å™¨<br>å½’ä¸€åŒ–å¹³æ»‘å¤„ç†<br>â‘¡ æ¢¯åº¦å’Œæ–¹å‘ï¼ŒSobel ç®—å­<br>â‘¢ éæå¤§å€¼æŠ‘åˆ¶<br>a. çº¿æ€§æ’å€¼æ³•<br>b. ç®€ä¾¿ç®—æ³•;å…«ä¸ªæ–¹å‘åˆ†åˆ«æ¯”è¾ƒ<br>â‘£ åŒé˜ˆå€¼æ£€æµ‹<br>maxVal|minVal<br>æ¢¯åº¦å€¼&gt;maxVal è¾¹ç•Œ<br>minVal &lt; æ¢¯åº¦ &lt; maxVal è¿æœ‰è¾¹ç•Œï¼Œä¿ç•™ï¼Œå¦åˆ™èˆå¼ƒ<br>æ¢¯åº¦ &lt; minVal èˆå¼ƒ<br>â‘¤ æœ€ç»ˆç»“æœ<br>canny å‡½æ•°</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">img = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>,cv2.IMREAD_GRAYSCALE)</span><br><span class="line"></span><br><span class="line">v1 = cv2.Canny(img,<span class="number">80</span>,<span class="number">150</span>)  <span class="comment"># minVal,maxVal</span></span><br><span class="line">v2 = cv2.Canny(img,<span class="number">50</span>,<span class="number">150</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="0-18-å›¾åƒé‡‘å­—å¡”"><a href="#0-18-å›¾åƒé‡‘å­—å¡”" class="headerlink" title="0.18 å›¾åƒé‡‘å­—å¡”"></a>0.18 å›¾åƒé‡‘å­—å¡”</h2><p>è¶Šå¾€ä¸Šèµ°å›¾åƒè¶Šå°<br>å›¾åƒ 800*800 å˜ä¸º 400*400<br>å„å±‚åˆ†åˆ«æå–</p><ul><li>é«˜æ–¯é‡‘å­—å¡”ï¼ˆé«˜æ–¯æ»¤æ³¢ï¼‰</li></ul><ol><li>å‘ä¸‹é‡‡æ ·ï¼Œç¼©å°ï¼Œå¾€é‡‘å­—å¡”é¡¶èµ°<br>å°†å¶æ•°è¡Œå’Œåˆ—å»æ‰ï¼Œ1234 å»æ‰ 24ï¼Œè¡Œåˆ—å˜ä¸ºåŸæ¥çš„ä¸€åŠ<br>4*4 â€”- 2*2</li><li>å‘ä¸Šé‡‡æ ·ï¼Œæ”¾å¤§<br>å°†æ•°æ®é«˜æ–¯åˆ†å¸ƒç»™å‘¨è¾¹æ–°åŠ åˆ—è¡Œ<br>2*2 â€”- 4*4</li></ol><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">img = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line"><span class="comment"># å‘ä¸Š</span></span><br><span class="line">up = cv2.pyrUp(img)</span><br><span class="line"><span class="comment"># å‘ä¸‹</span></span><br><span class="line">down = cv2.pyrDown(img)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆä¸Š å†ä¸‹ï¼Œï¼Œä¼šå˜æ¨¡ç³Š</span></span><br><span class="line">down_up = cv2.pyrDown(up)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/%E6%8B%89%E6%99%AE%E6%8B%89%E6%96%AF.png" alt="æ‹‰æ™®æ‹‰æ–¯.png"></p><ul><li>æ‹‰æ™®æ‹‰æ–¯é‡‘å­—å¡”<br>åŸå§‹ - å…ˆ down å† up = result<br>result - down up = reslt1</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">down = cv2.pyrDown(img)</span><br><span class="line">down_up = cv2.pyrUp(down)</span><br><span class="line">result = img - down_up</span><br></pre></td></tr></table></figure><h2 id="0-19-å›¾åƒè½®å»“"><a href="#0-19-å›¾åƒè½®å»“" class="headerlink" title="0.19 å›¾åƒè½®å»“"></a>0.19 å›¾åƒè½®å»“</h2><p>å›¾åƒè¾¹ç¼˜â€”é›¶æ•£<br>å›¾åƒè½®å»“â€”å®Œæ•´<br>cv2.findContours(img,mode,method)</p><ul><li>mode:è½®å»“æ£€æµ‹æ¨¡å¼<br>RETR_EXTERNAL åªæ£€æµ‹å¤–è½®å»“<br>RETR_LIST æ£€ç´¢æ‰€æœ‰çš„è½®å»“ï¼Œå°†å…¶ä¿å­˜åˆ°ä¸€æ¡é“¾è¡¨ä¸­<br>RETR_CCOMP æ£€ç´¢æ‰€æœ‰è½®å»“ï¼Œå¹¶å°†ä»–ä»¬ç»„ç»‡ä¸ºä¸¤å±‚ï¼Œé¡¶å±‚æ˜¯å„éƒ¨åˆ†çš„å¤–éƒ¨è¾¹ç•Œï¼Œç¬¬äºŒå±‚ç©ºæ´è¾¹ç•Œ<br>RETR_TREEï¼ˆå¸¸ç”¨ï¼‰æ£€æµ‹æ‰€æœ‰è½®å»“ï¼Œå¹¶é‡æ„åµŒå¥—è½®å»“çš„æ•´ä¸ªå±‚æ¬¡</li><li>method:è½®å»“é€¼è¿‘æ–¹æ³•<br>CHAIN_APPROX_NONEï¼šä»¥ freeman é“¾ç æ–¹å¼è¾“å‡ºè½®å»“ï¼Œå…¶ä»–æ–¹æ³•è¾“å‡ºå¤šè¾¹å½¢<br>CHAIN_APPROX_SIMPLEï¼šå‹ç¼©æ°´å¹³ï¼Œå‚ç›´ï¼Œæ–œçš„éƒ¨åˆ†</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">img = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line">gray = cv2.cvColor(img,cv2.COLOR_BGR2GRAY)</span><br><span class="line"><span class="comment"># ä½¿ç”¨äºŒå€¼å›¾åƒ---æ›´å¥½çš„è¾¹ç¼˜æ£€æµ‹</span></span><br><span class="line">ret, thresh = cv2.threshold(gray,<span class="number">122</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line"><span class="comment"># cv2.imshow(&#x27;result&#x27;,thresh)</span></span><br><span class="line"></span><br><span class="line">binary,contours,hierarchy = cv2.findContours(thresh,cv2.RETR_TREE,cv2.CHAIN_APPROX_NONE)</span><br><span class="line"><span class="comment"># binary äºŒå€¼å›¾åƒ</span></span><br><span class="line"><span class="comment"># contours è½®å»“ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># hierarchy å±‚çº§</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶è½®å»“,å¿…é¡»å…ˆå¤‡ä»½</span></span><br><span class="line">draw_img = img.copy()</span><br><span class="line">res = cv2.drawContours(draw_img,contours,-<span class="number">1</span>,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line"><span class="comment"># draw_img åŸå›¾åƒä¸Šç»˜åˆ¶</span></span><br><span class="line"><span class="comment"># contours è½®å»“ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># -1 æ‰€æœ‰è½®å»“ï¼Œï¼ˆå‡ ä¸ªè½®å»“ï¼‰ 0 ç¬¬ä¸€ä¸ªè½®å»“å¤–åœˆï¼Œ1 è½®å»“é‡Œåœˆ</span></span><br><span class="line"><span class="comment"># (0,0,255) BGR çº¢è‰²çš„çº¿</span></span><br><span class="line"><span class="comment"># 2 çº¿æ¡å®½åº¦--ä¸èƒ½å¤ªå¤§ï¼Œèƒ½çœ‹å‡ºè½®å»“å†…å¤–å±‚å·®å¼‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è½®å»“å¾—åˆ°ä»¥å,å…·ä½“è½®å»“æ‹¿å‡ºæ¥ï¼Œcontoursä¸ºlist</span></span><br><span class="line">cnt = contours[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç®—é¢ç§¯</span></span><br><span class="line">cv2.contourArea(cnt)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘¨é•¿ true é—­åˆ</span></span><br><span class="line">cu2.arcLength(cnt,<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><strong>è½®å»“è¿‘ä¼¼</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è½®å»“è¿‘ä¼¼ï¼Œå°†è½®å»“å˜å¾—è§„åˆ™èµ·æ¥</span></span><br><span class="line"><span class="comment"># ç”¨ç›´çº¿è¿‘ä¼¼æ›²çº¿,æ›²çº¿ä¸Šæ‰¾ä¸€ç‚¹ï¼Œåˆ°ç›´çº¿çš„è·ç¦»æœ€å¤§ï¼Œ</span></span><br><span class="line"><span class="comment"># d&lt;T å¯ä»¥è¿‘ä¼¼     d&gt;T,ä¸å¯ä»¥ç›´æ¥ç”¨ä¸€æ¡ç›´çº¿è¿‘ä¼¼ï¼Œè€Œæ˜¯åˆ†å‰²å¼€æ¥ï¼Œç»§ç»­åˆ¤æ–­</span></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line">gray = cv2.cvColor(img,cv2.COLOR_BGR2GRAY)</span><br><span class="line">ret, thresh = cv2.threshold(gray,<span class="number">122</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">binary,contours,hierarchy = cv2.findContours(thresh,cv2.RETR_TREE,cv2.CHAIN_APPROX_NONE)</span><br><span class="line">cnt = contours[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">draw_img = img.copy()</span><br><span class="line">res = cv2.drawContours(draw_img,[cnt],-<span class="number">1</span>,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">epsilon = <span class="number">0.1</span>*cv2.arcLength(cnt,<span class="literal">True</span>)   <span class="comment"># å‘¨é•¿ç™¾åˆ†æ¯”åšé˜ˆå€¼</span></span><br><span class="line"><span class="comment"># 0.1ç™¾åˆ†æ¯”ï¼Œè¶Šå¤§ï¼Œè½®å»“å˜åŒ–è¶Šå¤§</span></span><br><span class="line">approx = cv2.approxPolyDP(cnt,epsilon,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">draw_img = img.copy()</span><br><span class="line">res = cv2.drawContours(draw_img,[approx],-<span class="number">1</span>,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¾¹ç•ŒçŸ©å½¢(å¤–æ¥çŸ©å½¢)</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cnt = contours[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># å¤–æ¥çŸ©å½¢</span></span><br><span class="line">x,y,w,h = cv2.boundingRect(cnt)</span><br><span class="line">img = cv2.rectangle(img,(x,y),(x+w,y+h),(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># çŸ©å½¢é¢ç§¯</span></span><br><span class="line">area = cv2.contourArea(cnt)</span><br><span class="line">x,y,w,h = cv2.boundingRect(cnt)</span><br><span class="line">rect_area = w*h</span><br><span class="line">extent = <span class="built_in">float</span>(area) / rect_area</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;è½®å»“é¢ç§¯ä¸è¾¹ç•ŒçŸ©å½¢æ¯”:<span class="subst">&#123;extent&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¤–æ¥åœ†</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(x,y).radius = cv2.minEnclosingCircle(cnt)</span><br><span class="line">center = (<span class="built_in">int</span>(x),<span class="built_in">int</span>(y))</span><br><span class="line">radius = <span class="built_in">int</span>(radius)</span><br><span class="line">img = cv2.circle(img,center,radius,(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h2 id="0-20-æ¨¡æ¿åŒ¹é…â€”â€”åŒ¹é…å¯¹è±¡åœ¨å¦ä¸€ä¸ªå›¾åƒå“ªé‡Œ"><a href="#0-20-æ¨¡æ¿åŒ¹é…â€”â€”åŒ¹é…å¯¹è±¡åœ¨å¦ä¸€ä¸ªå›¾åƒå“ªé‡Œ" class="headerlink" title="0.20 æ¨¡æ¿åŒ¹é…â€”â€”åŒ¹é…å¯¹è±¡åœ¨å¦ä¸€ä¸ªå›¾åƒå“ªé‡Œ"></a>0.20 æ¨¡æ¿åŒ¹é…â€”â€”åŒ¹é…å¯¹è±¡åœ¨å¦ä¸€ä¸ªå›¾åƒå“ªé‡Œ</h2><p>ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œè¿›è¡ŒåŒ¹é…<br>åŒ¹é…è®¡ç®—æ–¹æ³•</p><ul><li>TM_SQDIFFâ€”â€”å¹³æ–¹é¡¹åŒ¹é…ï¼Œå€¼è¶Šå°ï¼Œè¶Šç›¸å…³</li><li>TM_CCORRâ€”â€”-è®¡ç®—ç›¸å…³æ€§ï¼Œå€¼è¶Šå¤§ï¼Œè¶Šç›¸å…³</li><li>TM_CCOEFFâ€”â€”è®¡ç®—ç›¸å…³ç³»æ•°ï¼Œå€¼è¶Šå¤§ï¼Œè¶Šç›¸å…³</li><li>TM_SQDIFF_NORMED:è®¡ç®—å½’ä¸€åŒ–å¹³æ–¹ä¸åŒï¼Œè¶Šæ¥è¿‘ 0ï¼Œè¶Šç›¸å…³</li><li>TM_CCORR_NORMED:è®¡ç®—å½’ä¸€åŒ–ç›¸å…³æ€§ï¼Œè¶Šæ¥è¿‘ 1ï¼Œè¶Šç›¸å…³</li><li>TM_CCOEFF_NORMED:è®¡ç®—å½’ä¸€åŒ–çš„ç›¸å…³ç³»æ•°ï¼Œè¶Šæ¥è¿‘ 1ï¼Œè¶Šç›¸å…³</li><li>æœ€å¥½ç”¨å½’ä¸€åŒ–çš„æ–¹æ³•<br>è¿”å›ç»“æœ<br>åŒ¹é…çš„åœ°æ–¹å¤§å°ï¼š<br>åŸå›¾ç»“æœ A*B,æ¨¡æ¿å¤§å° a*b,è¿”å›ç»“æœçŸ©é˜µï¼š(A-a+1)*(B-b+1)</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">img = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># (263,263)</span></span><br><span class="line">template = cv2.imread(<span class="string">&#x27;11.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># (110,85)</span></span><br><span class="line">h,w = template.shape[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">res = cv2.matchTemplate(img,template,cv2.TM_SQDIFE)</span><br><span class="line"><span class="comment"># (154,179)</span></span><br><span class="line"></span><br><span class="line">min_val,max_val,min_loc,max_loc = cv2.minMaxLoc(res)</span><br><span class="line"><span class="comment"># æœ€å°å€¼ï¼Œæœ€å¤§å€¼ï¼Œæœ€å°å€¼ä½ç½®ï¼Œæœ€å¤§å€¼ä½ç½®</span></span><br><span class="line"><span class="comment"># è¯¥æ–¹æ³•å…³æ³¨æœ€å°å€¼ä½ç½® æ¡†å·¦ä¸Šè§’çš„ç‚¹ï¼Œæ ¹æ®res.shapeç”»å‡ºå›¾åƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># top_left &amp; res.shapeå¾—åˆ°æœ€å¥½åŒ¹é…ç»“æœ</span></span><br><span class="line">top_left = min_loc</span><br><span class="line">bottom_right = (top_left[<span class="number">0</span>] + w,top_left[<span class="number">1</span>] + h)</span><br><span class="line">img2 = img.copy()</span><br><span class="line">cv2.rectangle(img2,top_left,bottom_right,<span class="number">255</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment"># å±•ç¤ºå‡ºæ¥</span></span><br><span class="line">cv_show(<span class="string">&#x27;res&#x27;</span>,img2)</span><br></pre></td></tr></table></figure><p>åŒ¹é…å¤šä¸ªå¯¹è±¡</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒ¹é…å¤šä¸ªå¯¹è±¡</span></span><br><span class="line">img_rgb = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line">img_gray = cv2.cvtColor(img_rgb,cv2.COLOR_BGR2GRAY)</span><br><span class="line">template = cv2.imread(<span class="string">&#x27;11.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line">h,w = template.shape[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">res = cv2.matchTemplate(img_gray,template,cv2.TM_CCOEFF_NORMED)</span><br><span class="line">threshold = <span class="number">0.8</span></span><br><span class="line"><span class="comment"># å–åŒ¹é…ç¨‹åº¦å¤§äº0.8çš„åæ ‡</span></span><br><span class="line">loc = np.where(res&gt;= threshold)</span><br><span class="line"><span class="keyword">for</span> pt <span class="keyword">in</span> <span class="built_in">zip</span>(*loc[::<span class="number">1</span>]):   <span class="comment"># * è¡¨ç¤ºå¯é€‰å‚æ•°</span></span><br><span class="line">    bottom_right = (pt[<span class="number">0</span>]+w,pt[<span class="number">1</span>]+h)</span><br><span class="line">    cv2.rectangle(img_rgb,pt,bootom_right,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line">cv2.imshow(<span class="string">&#x27;img&#x27;</span>,img_rgb)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h2 id="0-21-ç›´æ–¹å›¾"><a href="#0-21-ç›´æ–¹å›¾" class="headerlink" title="0.21 ç›´æ–¹å›¾"></a>0.21 ç›´æ–¹å›¾</h2><p>å›¾ç‰‡åƒç´ çš„ç»Ÿè®¡ç›´æ–¹å›¾<br>cv2.calcHist(img,channels,mask,histSize,ranges)<br>img â€” å›¾ç‰‡<br>channelsâ€”é€šé“ 0 â€” è‡ªåŠ¨ç°åº¦å›¾ â€˜bâ€™ â€˜gâ€™ â€˜râ€™<br>maskâ€”æ·¹æ¨¡å›¾åƒï¼Œæ©ç ï¼Œç»Ÿè®¡æŸä¸€éƒ¨åˆ†<br>åˆ›å»ºæ©ç <br>mask = np.zeros(img,shape[:2],np.uint8)<br>é€‰æ‹©æ©ç ä¿å­˜éƒ¨åˆ†<br>mask[100:300,100:400] = 255 ç™½è‰²ä¿å­˜éƒ¨åˆ† # masked_img = cv2.bitwise_and(img,img,mask=mask)<br>hisSize â€” BIN çš„æ•°ç›®ï¼Œç›´æ–¹å›¾èŒƒå›´<br>ranges â€” åƒç´ å€¼å–å€¼åå›´</p><p><code>hist = cv2.calcHist([img],[0],None,[256],[0,256])</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">img =cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line">hist = cv2.calcHist([img],[<span class="number">0</span>],<span class="literal">None</span>,[<span class="number">256</span>],[<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line"><span class="comment"># ç”»å‡ºç›´æ–¹å›¾</span></span><br><span class="line">plt.hist(img,ravel(),<span class="number">256</span>):</span><br><span class="line">plt.show</span><br></pre></td></tr></table></figure><p>ç›´æ–¹å›¾å‡è¡¡åŒ–</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœç»Ÿè®¡å‡ºæ¥çš„ç›´æ–¹å›¾ ä¸å¤ªå¹³å‡</span></span><br><span class="line"><span class="comment"># å¹³å‡åŒ–</span></span><br><span class="line">equ = cv2.equalizeHist(img)</span><br><span class="line">plt.hist(equ,ravel(),<span class="number">256</span>)</span><br><span class="line">plt.show</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœæ›´åŠ çš„æ˜æ˜¾</span></span><br><span class="line"><span class="comment"># ä¸€ä¸ªéƒ¨åˆ†åˆ†ç»™å…¶ä»–éƒ¨åˆ†ï¼Œè¿›è¡Œå‡è¡¡</span></span><br><span class="line"><span class="comment"># åˆ†æ¨¡å—è¿›è¡Œå‡è¡¡åŒ–</span></span><br><span class="line"><span class="comment"># ä½†æœ‰çš„å›¾ä¼šå‡ºç°è¾¹ç•Œ</span></span><br></pre></td></tr></table></figure><p>è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡åŒ–</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">clahe = cv2.createCLAHE(clipLimit = <span class="number">2.0</span>,tileGridSize = (<span class="number">8</span>ï¼Œ<span class="number">8</span>))</span><br><span class="line">res_clahe = clahe.apply(img)</span><br><span class="line">cv2.imshow(<span class="string">&#x27;result&#x27;</span>,res_clahe)</span><br></pre></td></tr></table></figure><h2 id="0-22-å‚…é‡Œå¶å˜æ¢"><a href="#0-22-å‚…é‡Œå¶å˜æ¢" class="headerlink" title="0.22 å‚…é‡Œå¶å˜æ¢"></a>0.22 å‚…é‡Œå¶å˜æ¢</h2><p>ç°å®ä¸­çš„äº‹ç‰©éƒ½æ˜¯è¿åŠ¨çš„<br>è€Œå‚…é‡Œå¶çš„é¢‘åŸŸä¸­ä¸€åˆ‡éƒ½æ˜¯é™æ­¢çš„ï¼Œç°å®ä¸­çš„ä¸œè¥¿åœ¨é¢‘åŸŸä¸­åˆ†ä¸ºé«˜é¢‘ï¼Œä½é¢‘</p><ul><li>é«˜é¢‘ï¼šå˜åŒ–å‰§çƒˆçš„ç°åº¦åˆ†é‡ï¼Œegï¼šè¾¹ç•Œ</li><li><p>ä½é¢‘ï¼šå˜åŒ–ç¼“æ…¢çš„ç°åº¦å˜é‡ï¼Œegï¼šä¸€ç‰‡å¤§æµ·</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/%E5%82%85%E9%87%8C%E5%8F%B6.png" alt="å‚…é‡Œå¶.png"></p><p>æ»¤æ³¢<br>ä½é€šæ»¤æ³¢å™¨ï¼šåªä¿ç•™ä½é¢‘ï¼Œå›¾åƒå˜å¾—æ¨¡ç³Š<br>é«˜é€šæ»¤æ³¢å™¨ï¼šåªä¿ç•™é«˜é¢‘ï¼Œå›¾åƒç»†èŠ‚å¢å¼º</p></li></ul><p>åœ¨ é¢‘åŸŸä¸­å¤„ç†ï¼Œæ›´åŠ æ–¹ä¾¿</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cv2.dft()</span><br><span class="line"><span class="comment"># é€†å˜æ¢</span></span><br><span class="line">cv2.idft()</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;1.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># è¾“å…¥å›¾åƒå¿…é¡»å…ˆè½¬æ¢æˆfloat32æ ¼å¼</span></span><br><span class="line">img_float32 = np.float32(img)</span><br><span class="line"><span class="comment"># å¾—åˆ°çš„ç»“æœä¸­ é¢‘ç‡ä¸º0çš„éƒ¨åˆ†åœ¨å·¦ä¸Šè§’ï¼Œé€šå¸¸è¦è½¬æ¢åˆ°ä¸­å¿ƒä½ç½®ï¼Œç”¨shiftå˜æ¢</span></span><br><span class="line">dft = cv2.dft(img_float32,flags = cv2.DFT_COMPLEX_OUTPUT)</span><br><span class="line">dft_shift = np.fft.fftshift(dft)</span><br><span class="line"><span class="comment"># cv2.dft()è¿”å›ç»“æœæ˜¯åŒé€šé“çš„ï¼Œé€šå¸¸è¿˜è¦è½¬æ¢ä¸ºå›¾åƒæ ¼å¼</span></span><br><span class="line">magnitude_spectrum = <span class="number">20</span>*np.log(cv2.magnitude(dft_shift[:,:,<span class="number">0</span>],dft_shift[:,:,<span class="number">1</span>]))</span><br></pre></td></tr></table></figure><p>ä½é€šï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.namedWindow(name,<span class="number">0</span>)</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./img/clock1.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># è¾“å…¥å›¾åƒå¿…é¡»å…ˆè½¬æ¢æˆfloat32æ ¼å¼</span></span><br><span class="line">img_float32 = np.float32(img)</span><br><span class="line"><span class="comment"># å¾—åˆ°çš„ç»“æœä¸­ é¢‘ç‡ä¸º0çš„éƒ¨åˆ†åœ¨å·¦ä¸Šè§’ï¼Œé€šå¸¸è¦è½¬æ¢åˆ°ä¸­å¿ƒä½ç½®ï¼Œç”¨shiftå˜æ¢</span></span><br><span class="line">dft = cv2.dft(img_float32,flags = cv2.DFT_COMPLEX_OUTPUT)</span><br><span class="line">dft_shift = np.fft.fftshift(dft)</span><br><span class="line"><span class="comment"># cv2.dft()è¿”å›ç»“æœæ˜¯åŒé€šé“çš„ï¼Œé€šå¸¸è¿˜è¦è½¬æ¢ä¸ºå›¾åƒæ ¼å¼</span></span><br><span class="line"><span class="comment"># magnitude_spectrum = 20*np.log(cv2.magnitude(dft_shift[:,:,0],dft_shift[:,:,1]))</span></span><br><span class="line"></span><br><span class="line">rows,cols = img.shape</span><br><span class="line">crow,ccol = <span class="built_in">int</span>(rows/<span class="number">2</span>) , <span class="built_in">int</span>(cols/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¦magné‡Œé¢</span></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæ©ç   zeros å…¨ä¸º0 å…¨ä¸è¦</span></span><br><span class="line">mask = np.zeros((rows,cols,<span class="number">2</span>),np.uint8)</span><br><span class="line">mask[crow-<span class="number">30</span>:crow+<span class="number">30</span>,ccol-<span class="number">30</span>:ccol+<span class="number">30</span>] = <span class="number">1</span>   <span class="comment"># ä¸­é—´ä¸ºä½é¢‘ï¼Œä½é¢‘è¦</span></span><br><span class="line">fshift = dft_shift*mask</span><br><span class="line"><span class="comment"># shift å›å»</span></span><br><span class="line">f_ishift = np.fft.ifftshift(fshift)</span><br><span class="line"></span><br><span class="line">img_back = cv2.idft(f_ishift)</span><br><span class="line">img_back = cv2.magnitude(img_back[:,:,<span class="number">0</span>],img_back[:,:,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">121</span>), plt.imshow(img,cmap = <span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;input image&#x27;</span>), plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.subplot(<span class="number">122</span>), plt.imshow(img_back, cmap = <span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;magnitude spectrum&#x27;</span>), plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.show()</span><br><span class="line">å›¾åƒæ¨¡ç³Š</span><br></pre></td></tr></table></figure><p>é«˜é€š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.namedWindow(name,<span class="number">0</span>)</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;./img/clock1.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># è¾“å…¥å›¾åƒå¿…é¡»å…ˆè½¬æ¢æˆfloat32æ ¼å¼</span></span><br><span class="line">img_float32 = np.float32(img)</span><br><span class="line"><span class="comment"># å¾—åˆ°çš„ç»“æœä¸­ é¢‘ç‡ä¸º0çš„éƒ¨åˆ†åœ¨å·¦ä¸Šè§’ï¼Œé€šå¸¸è¦è½¬æ¢åˆ°ä¸­å¿ƒä½ç½®ï¼Œç”¨shiftå˜æ¢</span></span><br><span class="line">dft = cv2.dft(img_float32,flags = cv2.DFT_COMPLEX_OUTPUT)</span><br><span class="line">dft_shift = np.fft.fftshift(dft)</span><br><span class="line"><span class="comment"># cv2.dft()è¿”å›ç»“æœæ˜¯åŒé€šé“çš„ï¼Œé€šå¸¸è¿˜è¦è½¬æ¢ä¸ºå›¾åƒæ ¼å¼</span></span><br><span class="line"><span class="comment"># magnitude_spectrum = 20*np.log(cv2.magnitude(dft_shift[:,:,0],dft_shift[:,:,1]))</span></span><br><span class="line"></span><br><span class="line">rows,cols = img.shape</span><br><span class="line">crow,ccol = <span class="built_in">int</span>(rows/<span class="number">2</span>) , <span class="built_in">int</span>(cols/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨ä¸º1 å…¨è¦</span></span><br><span class="line">mask = np.ones((rows,cols,<span class="number">2</span>),np.uint8)</span><br><span class="line">mask[crow-<span class="number">30</span>:crow+<span class="number">30</span>,ccol-<span class="number">30</span>:ccol+<span class="number">30</span>] = <span class="number">0</span>   <span class="comment"># ä¸­é—´ä¸º0ï¼Œä¸­é—´ä¸è¦ï¼Œå³ä½é¢‘ä¸è¦</span></span><br><span class="line">fshift = dft_shift*mask</span><br><span class="line"><span class="comment"># shift å›å»</span></span><br><span class="line">f_ishift = np.fft.ifftshift(fshift)</span><br><span class="line"></span><br><span class="line">img_back = cv2.idft(f_ishift)</span><br><span class="line">img_back = cv2.magnitude(img_back[:,:,<span class="number">0</span>],img_back[:,:,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•ç¤º</span></span><br><span class="line">plt.subplot(<span class="number">121</span>), plt.imshow(img,cmap = <span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;input image&#x27;</span>), plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.subplot(<span class="number">122</span>), plt.imshow(img_back, cmap = <span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;magnitude spectrum&#x27;</span>), plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="0-23-æ‘„åƒå¤´è·å–è§†é¢‘æˆ–å›¾ç‰‡è·å–æ„Ÿå…´è¶£éƒ¨åˆ†"><a href="#0-23-æ‘„åƒå¤´è·å–è§†é¢‘æˆ–å›¾ç‰‡è·å–æ„Ÿå…´è¶£éƒ¨åˆ†" class="headerlink" title="0.23 æ‘„åƒå¤´è·å–è§†é¢‘æˆ–å›¾ç‰‡è·å–æ„Ÿå…´è¶£éƒ¨åˆ†"></a>0.23 æ‘„åƒå¤´è·å–è§†é¢‘æˆ–å›¾ç‰‡è·å–æ„Ÿå…´è¶£éƒ¨åˆ†</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">video_show</span>():</span><br><span class="line">    choose_video = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        ret1,frame = video.read()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ret1:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;è§†é¢‘è·å–å¤±è´¥ï¼&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        cv2.imshow(<span class="string">&quot;Video_show&quot;</span>,frame)</span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xff</span> == <span class="built_in">ord</span>(<span class="string">&quot;q&quot;</span>):</span><br><span class="line">            <span class="comment"># rects = []</span></span><br><span class="line">            <span class="comment"># fromCenter = False</span></span><br><span class="line">            <span class="comment"># Select multiple rectangles</span></span><br><span class="line">            <span class="comment"># select_data = cv2.selectROI(&quot;Image&quot;, frame, rects, fromCenter)</span></span><br><span class="line">            select_data = cv2.selectROI(<span class="string">&quot;Video_show&quot;</span>,frame)</span><br><span class="line">            choose_video = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> choose_video :</span><br><span class="line">            <span class="comment">#è·å–é€‰æ‹©æ¡†å†…çš„å›¾åƒ</span></span><br><span class="line">            choose_data = frame[select_data[<span class="number">1</span>]:select_data[<span class="number">1</span>]+select_data[<span class="number">3</span>],select_data[<span class="number">0</span>]:select_data[<span class="number">0</span>]+select_data[<span class="number">2</span>]]</span><br><span class="line">            cv2.imshow(<span class="string">&quot;choose_video&quot;</span>,choose_data)</span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xff</span> == <span class="built_in">ord</span>(<span class="string">&quot;p&quot;</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    video.release()</span><br><span class="line">    <span class="comment"># cv2.destroyAllWindows()</span></span><br><span class="line">    <span class="keyword">return</span> choose_data</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    video = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">    video_show()</span><br></pre></td></tr></table></figure><h3 id="0-23-1-é€‰å–-roi-åŒºåŸŸå®šä¹‰"><a href="#0-23-1-é€‰å–-roi-åŒºåŸŸå®šä¹‰" class="headerlink" title="0.23.1 é€‰å– roi åŒºåŸŸå®šä¹‰"></a>0.23.1 é€‰å– roi åŒºåŸŸå®šä¹‰</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹æ³•1ï¼šä½¿ç”¨è¡¨ç¤ºçŸ©å½¢åŒºåŸŸçš„Rectï¼Œå‚æ•°æœ‰çŸ©å½¢å·¦ä¸Šè§’åæ ‡ã€çŸ©å½¢çš„é•¿å’Œå®½</span></span><br><span class="line"><span class="comment"># Mat imageROI;</span></span><br><span class="line">imageROI = image(Rect(<span class="number">500</span>,<span class="number">250</span>,logo.cols,logo.rows));</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ³•2ï¼šæŒ‡å®šæ„Ÿå…´è¶£çš„è¡Œæˆ–åˆ—çš„èŒƒå›´ï¼ˆRangeï¼‰ï¼ŒRangeæ˜¯æŒ‡ä»èµ·å§‹ç´¢å¼•åˆ°ç»ˆæ­¢ç´¢å¼•ï¼ˆä¸åŒ…æ‹¬ç»ˆæ­¢ç´¢å¼•ï¼‰çš„ä¸€æ®µè¿ç»­åºåˆ—</span></span><br><span class="line"><span class="comment"># Mat imageROI;</span></span><br><span class="line">imageROI = image(Range(<span class="number">250</span>,<span class="number">250</span>+logoImage.rows),Range(<span class="number">200</span>,<span class="number">200</span>+logoImage.cols));</span><br></pre></td></tr></table></figure><h1 id="1-å›¾åƒè¯†åˆ«ç›¸å…³"><a href="#1-å›¾åƒè¯†åˆ«ç›¸å…³" class="headerlink" title="1. å›¾åƒè¯†åˆ«ç›¸å…³"></a>1. å›¾åƒè¯†åˆ«ç›¸å…³</h1><h2 id="1-1-ä¸¤å¼ å›¾ç‰‡å¯¹æ¯”"><a href="#1-1-ä¸¤å¼ å›¾ç‰‡å¯¹æ¯”" class="headerlink" title="1.1 ä¸¤å¼ å›¾ç‰‡å¯¹æ¯”"></a>1.1 ä¸¤å¼ å›¾ç‰‡å¯¹æ¯”</h2><p><strong>è¿”å›ä¸€å¼ å¯¹æ¯”åçš„å›¾ç‰‡</strong></p><p>è½®å­å®‰è£…<br><code>pip install pillow</code><br><code>pip install PIL</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> ImageChops</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compare_images</span>(<span class="params">path_one, path_two, diff_save_location</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æ¯”è¾ƒå›¾ç‰‡ï¼Œå¦‚æœæœ‰ä¸åŒåˆ™ç”Ÿæˆå±•ç¤ºä¸åŒçš„å›¾ç‰‡</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    @å‚æ•°ä¸€: path_one: ç¬¬ä¸€å¼ å›¾ç‰‡çš„è·¯å¾„</span></span><br><span class="line"><span class="string">    @å‚æ•°äºŒ: path_two: ç¬¬äºŒå¼ å›¾ç‰‡çš„è·¯å¾„</span></span><br><span class="line"><span class="string">    @å‚æ•°ä¸‰: diff_save_location: ä¸åŒå›¾çš„ä¿å­˜è·¯å¾„</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    image_one = Image.<span class="built_in">open</span>(path_one)</span><br><span class="line">    image_two = Image.<span class="built_in">open</span>(path_two)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        diff = ImageChops.difference(image_one, image_two)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> diff.getbbox() <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="comment"># å›¾ç‰‡é—´æ²¡æœ‰ä»»ä½•ä¸åŒåˆ™ç›´æ¥é€€å‡º</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;ã€+ã€‘We are the same!&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            diff.save(diff_save_location)</span><br><span class="line">    <span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">        text = (<span class="string">&quot;è¡¨ç¤ºå›¾ç‰‡å¤§å°å’Œboxå¯¹åº”çš„å®½åº¦ä¸ä¸€è‡´ï¼Œå‚è€ƒAPIè¯´æ˜ï¼šPastes another image into this image.&quot;</span></span><br><span class="line">                <span class="string">&quot;The box argument is either a 2-tuple giving the upper left corner, a 4-tuple defining the left, upper, &quot;</span></span><br><span class="line">                <span class="string">&quot;right, and lower pixel coordinate, or None (same as (0, 0)). If a 4-tuple is given, the size of the pasted &quot;</span></span><br><span class="line">                <span class="string">&quot;image must match the size of the region.ä½¿ç”¨2çº¬çš„boxé¿å…ä¸Šè¿°é—®é¢˜&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ã€&#123;0&#125;ã€‘&#123;1&#125;&quot;</span>.<span class="built_in">format</span>(e, text))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    name1 = <span class="string">&#x27;./å¯¹æ¯”å›¾ç‰‡/&#x27;</span> + <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥è¦å¯¹æ¯”çš„å›¾ç‰‡åå­—---å¸¦åç¼€æ ¼å¼----ï¼š&#x27;</span>)</span><br><span class="line">    name2 = <span class="string">&#x27;./å¯¹æ¯”å›¾ç‰‡/&#x27;</span> + <span class="built_in">input</span>(<span class="string">&#x27;ç¬¬äºŒå¼ å›¾ç‰‡çš„åå­—ï¼š&#x27;</span>)</span><br><span class="line">    name = <span class="string">&#x27;å¯¹æ¯”ç»“æœ&#x27;</span> + <span class="built_in">input</span>(<span class="string">&#x27;ä½ çš„å¯¹æ¯”ç»“æœåç¼€æ˜¯ä»€ä¹ˆï¼š&#x27;</span>)</span><br><span class="line">    compare_images(name1, name2, name)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-------å·²å®Œæˆ-------&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://www.cnblogs.com/botoo/p/8416315.html">å‚è€ƒæ•™ç¨‹</a></p></blockquote><h1 id="2-æ ¹æ®æ•°æ®ç”Ÿæˆè¡¨æ ¼ï¼Œå›¾çº¿"><a href="#2-æ ¹æ®æ•°æ®ç”Ÿæˆè¡¨æ ¼ï¼Œå›¾çº¿" class="headerlink" title="2. æ ¹æ®æ•°æ®ç”Ÿæˆè¡¨æ ¼ï¼Œå›¾çº¿"></a>2. æ ¹æ®æ•°æ®ç”Ÿæˆè¡¨æ ¼ï¼Œå›¾çº¿</h1><p><strong><a href="https://yq010105.github.io/2020/02/22/python-openpyxl/">openpyxl</a> and <a href="https://yq010105.github.io/2020/02/22/python-plotly/">plotly</a> or <a href="https://yq010105.github.io/2020/02/21/python-plt/">plt</a></strong></p><h1 id="3-æ…¢æ…¢å­¦-opencv"><a href="#3-æ…¢æ…¢å­¦-opencv" class="headerlink" title="3. æ…¢æ…¢å­¦ opencv"></a>3. æ…¢æ…¢å­¦ opencv</h1><p><a href="https://www.cnblogs.com/silence-cho/p/10926248.html">å…ˆè¡Œæ•™ç¨‹</a></p><h2 id="3-1-åœ¨æ–°çª—å£æ‰“å¼€å›¾ç‰‡ï¼Œä¿å­˜å›¾ç‰‡ï¼ŒåŸºæ“"><a href="#3-1-åœ¨æ–°çª—å£æ‰“å¼€å›¾ç‰‡ï¼Œä¿å­˜å›¾ç‰‡ï¼ŒåŸºæ“" class="headerlink" title="3.1 åœ¨æ–°çª—å£æ‰“å¼€å›¾ç‰‡ï¼Œä¿å­˜å›¾ç‰‡ï¼ŒåŸºæ“"></a>3.1 åœ¨æ–°çª—å£æ‰“å¼€å›¾ç‰‡ï¼Œä¿å­˜å›¾ç‰‡ï¼ŒåŸºæ“</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">img_path = <span class="string">&#x27;./img/&#x27;</span> + <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥å›¾åƒè·¯å¾„ï¼š--å¸¦åç¼€--&#x27;</span>)</span><br><span class="line"><span class="comment"># è¯»å–å›¾ç‰‡</span></span><br><span class="line">h = cv2.imread(img_path,cv2.IMREAD_GRAYSCALE)</span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªçª—å£</span></span><br><span class="line">cv2.namedWindow(<span class="string">&#x27;printwindow&#x27;</span>)</span><br><span class="line">cv2.namedWindow(<span class="string">&#x27;window&#x27;</span>,<span class="number">0</span>)    <span class="comment"># 0 è‡ªç”±æ”¹å˜çª—å£å¤§å°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¹å˜å›¾ç‰‡é¢œè‰²</span></span><br><span class="line">imgviewx = cv2.cvtColor(imgviewx,cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾ç‰‡ï¼Œï¼ˆçª—å£åï¼Œè¯»å…¥çš„å›¾åƒï¼‰</span></span><br><span class="line">cv2.imshow(<span class="string">&#x27;printwindow&#x27;</span>,h)</span><br><span class="line"><span class="comment"># çª—å£ç­‰å¾…ä»»æ„é”®ç›˜æŒ‰é”®è¾“å…¥ï¼Œ0ä¸ºä¸€ç›´ç­‰å¾…</span></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line"><span class="comment"># ä¿å­˜å›¾ç‰‡</span></span><br><span class="line">cv2.imwrite(<span class="string">&#x27;./img/result.jpg&#x27;</span>,imgviewx)</span><br><span class="line"><span class="comment"># é”€æ¯çª—å£</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure><h2 id="3-2-å›¾åƒé˜ˆå€¼åŒ–"><a href="#3-2-å›¾åƒé˜ˆå€¼åŒ–" class="headerlink" title="3.2 å›¾åƒé˜ˆå€¼åŒ–"></a>3.2 å›¾åƒé˜ˆå€¼åŒ–</h2><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">cv2.threshold():</span><br><span class="line">å‚æ•°ï¼š</span><br><span class="line">    img:å›¾åƒå¯¹è±¡ï¼Œå¿…é¡»æ˜¯ç°åº¦å›¾</span><br><span class="line">    thresh:é˜ˆå€¼</span><br><span class="line">    maxvalï¼šæœ€å¤§å€¼</span><br><span class="line">    <span class="built_in">type</span>:</span><br><span class="line">        cv2.THRESH_BINARY:     å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸º<span class="number">0</span>ï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸ºmaxval</span><br><span class="line">        cv2.THRESH_BINARY_INVï¼š å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸ºmaxvalï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸º<span class="number">0</span></span><br><span class="line">        cv2.THRESH_TRUNCï¼š      å°äºé˜ˆå€¼çš„åƒç´ ä¸å˜ï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸ºthresh</span><br><span class="line">        cv2.THRESH_TOZERO       å°äºé˜ˆå€¼çš„åƒç´ ç½®<span class="number">0</span>ï¼Œå¤§äºé˜ˆå€¼çš„ä¸å˜</span><br><span class="line">        cv2.THRESH_TOZERO_INV   å°äºé˜ˆå€¼çš„ä¸å˜ï¼Œå¤§äºé˜ˆå€¼çš„åƒç´ ç½®<span class="number">0</span></span><br><span class="line">è¿”å›ä¸¤ä¸ªå€¼</span><br><span class="line">    ret:é˜ˆå€¼</span><br><span class="line">    imgï¼šé˜ˆå€¼åŒ–å¤„ç†åçš„å›¾åƒ</span><br><span class="line"></span><br><span class="line">cv2.adaptiveThreshold() è‡ªé€‚åº”é˜ˆå€¼å¤„ç†ï¼Œå›¾åƒä¸åŒéƒ¨ä½é‡‡ç”¨ä¸åŒçš„é˜ˆå€¼è¿›è¡Œå¤„ç†</span><br><span class="line">å‚æ•°ï¼š</span><br><span class="line">    img: å›¾åƒå¯¹è±¡ï¼Œ<span class="number">8</span>-bitå•é€šé“å›¾</span><br><span class="line">    maxValue:æœ€å¤§å€¼</span><br><span class="line">    adaptiveMethod: è‡ªé€‚åº”æ–¹æ³•</span><br><span class="line">        cv2.ADAPTIVE_THRESH_MEAN_C     ï¼šé˜ˆå€¼ä¸ºå‘¨å›´åƒç´ çš„å¹³å‡å€¼</span><br><span class="line">        cv2.ADAPTIVE_THRESH_GAUSSIAN_C : é˜ˆå€¼ä¸ºå‘¨å›´åƒç´ çš„é«˜æ–¯å‡å€¼ï¼ˆæŒ‰æƒé‡ï¼‰</span><br><span class="line">    threshType:</span><br><span class="line">        cv2.THRESH_BINARY:     å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸º<span class="number">0</span>ï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸ºmaxValuel</span><br><span class="line">        cv2.THRESH_BINARY_INV:  å°äºé˜ˆå€¼çš„åƒç´ ç½®ä¸ºmaxValueï¼Œå¤§äºé˜ˆå€¼çš„ç½®ä¸º<span class="number">0</span></span><br><span class="line">    blocksize: è®¡ç®—é˜ˆå€¼æ—¶ï¼Œè‡ªé€‚åº”çš„çª—å£å¤§å°,å¿…é¡»ä¸ºå¥‡æ•° ï¼ˆå¦‚<span class="number">3</span>ï¼šè¡¨ç¤ºé™„è¿‘<span class="number">3</span>ä¸ªåƒç´ èŒƒå›´å†…çš„åƒç´ ç‚¹ï¼Œè¿›è¡Œè®¡ç®—é˜ˆå€¼ï¼‰</span><br><span class="line">    Cï¼š å¸¸æ•°å€¼ï¼Œé€šè¿‡è‡ªé€‚åº”æ–¹æ³•è®¡ç®—çš„å€¼ï¼Œå‡å»è¯¥å¸¸æ•°å€¼</span><br><span class="line">(mean value of the blocksize*blocksize neighborhood of (x, y) minus C)</span><br></pre></td></tr></table></figure><p><strong>ä¾‹å­</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">imgpath = <span class="string">&#x27;./img/&#x27;</span> + <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥å›¾åƒè·¯å¾„&#x27;</span>)</span><br><span class="line">imgviewx = cv2.imread(imgpath)</span><br><span class="line"><span class="comment"># å°†å›¾åƒè½¬åŒ–ä¸ºç°åº¦</span></span><br><span class="line">imgviewx = cv2.cvtColor(imgviewx,cv2.COLOR_BGR2GRAY)</span><br><span class="line"><span class="comment"># è¾¹ç•Œè®¾ç½®</span></span><br><span class="line">imgresult = cv2.copyMakeBorder(imgviewx,<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>,cv2.BORDER_DEFAULT)</span><br><span class="line"></span><br><span class="line">ret,threl = cv2.threshold(imgviewx,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line"></span><br><span class="line">cv2.namedWindow(<span class="string">&#x27;window2&#x27;</span>,<span class="number">0</span>)</span><br><span class="line">cv2.imshow(<span class="string">&#x27;window2&#x27;</span>,threl)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyALLWindows()</span><br></pre></td></tr></table></figure><h2 id="3-3-å›¾åƒå½¢çŠ¶å˜åŒ–"><a href="#3-3-å›¾åƒå½¢çŠ¶å˜åŒ–" class="headerlink" title="3.3 å›¾åƒå½¢çŠ¶å˜åŒ–"></a>3.3 å›¾åƒå½¢çŠ¶å˜åŒ–</h2><h3 id="3-3-1-cv2-resize-å›¾åƒç¼©æ”¾"><a href="#3-3-1-cv2-resize-å›¾åƒç¼©æ”¾" class="headerlink" title="3.3.1 cv2.resize() å›¾åƒç¼©æ”¾"></a>3.3.1 cv2.resize() å›¾åƒç¼©æ”¾</h3><p>å‚æ•°</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cv2.resize() æ”¾å¤§å’Œç¼©å°å›¾åƒ</span><br><span class="line">    å‚æ•°ï¼š</span><br><span class="line">        src: è¾“å…¥å›¾åƒå¯¹è±¡</span><br><span class="line">        dsizeï¼šè¾“å‡ºçŸ©é˜µ/å›¾åƒçš„å¤§å°ï¼Œä¸º<span class="number">0</span>æ—¶è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼šdsize = Size(<span class="built_in">round</span>(fx*src.cols),<span class="built_in">round</span>(fy*src.rows))</span><br><span class="line">        fx: æ°´å¹³è½´çš„ç¼©æ”¾å› å­ï¼Œä¸º<span class="number">0</span>æ—¶è®¡ç®—æ–¹å¼ï¼š  (double)dsize.width/src.cols</span><br><span class="line">        fy: å‚ç›´è½´çš„ç¼©æ”¾å› å­ï¼Œä¸º<span class="number">0</span>æ—¶è®¡ç®—æ–¹å¼ï¼š  (double)dsize.heigh/src.rows</span><br><span class="line">        interpolationï¼šæ’å€¼ç®—æ³•</span><br><span class="line">            cv2.INTER_NEAREST : æœ€è¿‘é‚»æ’å€¼æ³•</span><br><span class="line">            cv2.INTER_LINEAR   é»˜è®¤å€¼ï¼ŒåŒçº¿æ€§æ’å€¼æ³•</span><br><span class="line">            cv2.INTER_AREA        åŸºäºå±€éƒ¨åƒç´ çš„é‡é‡‡æ ·ï¼ˆresampling using pixel area relationï¼‰ã€‚å¯¹äºå›¾åƒæŠ½å–ï¼ˆimage decimationï¼‰æ¥è¯´ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ã€‚ä½†å¦‚æœæ˜¯æ”¾å¤§å›¾åƒæ—¶ï¼Œå®ƒå’Œæœ€è¿‘é‚»æ³•çš„æ•ˆæœç±»ä¼¼ã€‚</span><br><span class="line">            cv2.INTER_CUBIC        åŸºäº4x4åƒç´ é‚»åŸŸçš„<span class="number">3</span>æ¬¡æ’å€¼æ³•</span><br><span class="line">            cv2.INTER_LANCZOS4     åŸºäº8x8åƒç´ é‚»åŸŸçš„Lanczosæ’å€¼</span><br><span class="line"></span><br><span class="line">    cv2.INTER_AREA é€‚åˆäºå›¾åƒç¼©å°ï¼Œ cv2.INTER_CUBIC (slow) &amp; cv2.INTER_LINEAR é€‚åˆäºå›¾åƒæ”¾å¤§</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼©å°å›¾åƒä¸ºåŸæ¥çš„ä¸€åŠ</span></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;messi5.jpg&#x27;</span>)</span><br><span class="line"></span><br><span class="line">res = cv2.resize(img,<span class="literal">None</span>,fx=<span class="number">2</span>, fy=<span class="number">2</span>, interpolation = cv2.INTER_CUBIC)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"></span><br><span class="line">height, width = img.shape[:<span class="number">2</span>]</span><br><span class="line">res = cv2.resize(img,(<span class="number">2</span>*width, <span class="number">2</span>*height), interpolation = cv2.INTER_CUBIC)</span><br></pre></td></tr></table></figure><h3 id="3-3-2-ä»¿å°„å˜æ¢"><a href="#3-3-2-ä»¿å°„å˜æ¢" class="headerlink" title="3.3.2 ä»¿å°„å˜æ¢"></a>3.3.2 ä»¿å°„å˜æ¢</h3><p>ä»¿å°„å˜æ¢ï¼ˆä»äºŒç»´åæ ‡åˆ°äºŒç»´åæ ‡ä¹‹é—´çš„çº¿æ€§å˜æ¢ï¼Œä¸”ä¿æŒäºŒç»´å›¾å½¢çš„â€œå¹³ç›´æ€§â€å’Œâ€œå¹³è¡Œæ€§â€ã€‚ä»¿å°„å˜æ¢å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—çš„åŸå­å˜æ¢çš„å¤åˆæ¥å®ç°ï¼ŒåŒ…æ‹¬å¹³ç§»ï¼Œç¼©æ”¾ï¼Œç¿»è½¬ï¼Œæ—‹è½¬å’Œå‰ªåˆ‡ï¼‰<br><strong>å‚æ•°</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cv2.warpAffine()   ä»¿å°„å˜æ¢ï¼ˆä»äºŒç»´åæ ‡åˆ°äºŒç»´åæ ‡ä¹‹é—´çš„çº¿æ€§å˜æ¢ï¼Œä¸”ä¿æŒäºŒç»´å›¾å½¢çš„â€œå¹³ç›´æ€§â€å’Œâ€œå¹³è¡Œæ€§â€ã€‚ä»¿å°„å˜æ¢å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—çš„åŸå­å˜æ¢çš„å¤åˆæ¥å®ç°ï¼ŒåŒ…æ‹¬å¹³ç§»ï¼Œç¼©æ”¾ï¼Œç¿»è½¬ï¼Œæ—‹è½¬å’Œå‰ªåˆ‡ï¼‰</span><br><span class="line">    å‚æ•°ï¼š</span><br><span class="line">        img: å›¾åƒå¯¹è±¡</span><br><span class="line">        Mï¼š<span class="number">2</span>*<span class="number">3</span> transformation matrix (è½¬å˜çŸ©é˜µ)</span><br><span class="line">        dsizeï¼šè¾“å‡ºçŸ©é˜µçš„å¤§å°,æ³¨æ„æ ¼å¼ä¸ºï¼ˆcolsï¼Œrowsï¼‰  å³widthå¯¹åº”colsï¼Œheightå¯¹åº”rows</span><br><span class="line">        flagsï¼šå¯é€‰ï¼Œæ’å€¼ç®—æ³•æ ‡è¯†ç¬¦ï¼Œæœ‰é»˜è®¤å€¼INTER_LINEARï¼Œ</span><br><span class="line">               å¦‚æœæ’å€¼ç®—æ³•ä¸ºWARP_INVERSE_MAP, warpAffineå‡½æ•°ä½¿ç”¨å¦‚ä¸‹çŸ©é˜µè¿›è¡Œå›¾åƒè½¬dst(x,y)=src(M11*x+M12*y+M13,M21*x+M22*y+M23)</span><br><span class="line">        borderModeï¼šå¯é€‰ï¼Œ è¾¹ç•Œåƒç´ æ¨¡å¼ï¼Œæœ‰é»˜è®¤å€¼BORDER_CONSTANT</span><br><span class="line">        borderValue:å¯é€‰ï¼Œè¾¹ç•Œå–å€¼ï¼Œæœ‰é»˜è®¤å€¼Scalar()å³<span class="number">0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Learn API (Python)</title>
      <link href="/Project/Python%20API/"/>
      <url>/Project/Python%20API/</url>
      
        <content type="html"><![CDATA[<p>Python è°ƒç”¨APIç»“æ„</p><span id="more"></span><h1 id="Bilibili"><a href="#Bilibili" class="headerlink" title="Bilibili"></a>Bilibili</h1><p><strong>bilibili æä¾›çš„ api æ¥å£(ä¸€ä¸² json å­—ç¬¦)</strong><br>_è®©åŸºäº bilibili çš„å¼€å‘æ›´ç®€å•_<br><strong>æˆ‘åŸºäº python å†™çš„å‡ ä¸ªä½¿ç”¨ api è·å–ä¿¡æ¯çš„ä¾‹å­</strong></p><h2 id="1-bilibili-ç”¨æˆ·åŸºæœ¬ä¿¡æ¯-nameï¼Œlevelï¼Œå…³æ³¨ï¼Œç²‰ä¸-è·å–"><a href="#1-bilibili-ç”¨æˆ·åŸºæœ¬ä¿¡æ¯-nameï¼Œlevelï¼Œå…³æ³¨ï¼Œç²‰ä¸-è·å–" class="headerlink" title="1. bilibili ç”¨æˆ·åŸºæœ¬ä¿¡æ¯(nameï¼Œlevelï¼Œå…³æ³¨ï¼Œç²‰ä¸)è·å–"></a>1. bilibili ç”¨æˆ·åŸºæœ¬ä¿¡æ¯(nameï¼Œlevelï¼Œå…³æ³¨ï¼Œç²‰ä¸)è·å–</h2><p><code>https://api.bilibili.com/x/space/upstat?mid=UUID&amp;jsonp=jsonp</code>_up ä¿¡æ¯ï¼Œåå­—ï¼Œç­‰çº§ï¼Œè§†é¢‘æ€»æ’­æ”¾é‡ï¼Œæ–‡ç« æ€»æµè§ˆæ•°_<br><code>https://api.bilibili.com/x/relation/stat?vmid=UUID&amp;jsonp=jsonp</code>_up ä¿¡æ¯ï¼Œå…³æ³¨æ•°ï¼Œé»‘åå•ï¼Œç²‰ä¸æ•°_</p><p><strong>ç®€å•çš„ä»£ç è·å– up ä¿¡æ¯</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">mid = <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥è¦æŸ¥è¯¢çš„upçš„uidï¼š&#x27;</span>)</span><br><span class="line">url_space = <span class="string">&#x27;https://api.bilibili.com/x/space/acc/info?mid=&#x27;</span> + mid</span><br><span class="line">url_relation = <span class="string">&#x27;https://api.bilibili.com/x/relation/stat?vmid=&#x27;</span>+mid</span><br><span class="line">space = requests.get(url_space).content.decode()</span><br><span class="line">relation =requests.get(url_relation).content.decode()</span><br><span class="line"><span class="comment"># print(type(html))</span></span><br><span class="line">dict_space = json.loads(space)</span><br><span class="line">dict_rela = json.loads(relation)</span><br><span class="line"><span class="comment"># print(dict)</span></span><br><span class="line">up_name = dict_space[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;name&quot;</span>]</span><br><span class="line">up_level = dict_space[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;level&#x27;</span>]</span><br><span class="line"></span><br><span class="line">up_following_num = dict_rela[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;following&#x27;</span>]</span><br><span class="line">up_follower_num = dict_rela[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;follower&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;upåå­—æ˜¯:<span class="subst">&#123;up_name&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;upç­‰çº§è¾¾åˆ°:<span class="subst">&#123;up_level&#125;</span>çº§&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">int</span>(up_level)&gt;=<span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;----å“‡æ˜¯ä¸ªå¤§ä½¬ï¼ï¼ï¼----&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;upå…³æ³¨äº†<span class="subst">&#123;up_following_num&#125;</span>ä¸ªäºº&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">int</span>(up_following_num)&gt;=<span class="number">700</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;----é“å®šæ˜¯ä¸ªddï¼ï¼ï¼----&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;upæœ‰<span class="subst">&#123;up_follower_num&#125;</span>ä¸ªç²‰ä¸&#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥è¦æŸ¥è¯¢çš„upçš„uidï¼š<span class="number">2</span></span><br><span class="line">upåå­—æ˜¯:ç¢§è¯—</span><br><span class="line">upç­‰çº§è¾¾åˆ°:<span class="number">6</span>çº§</span><br><span class="line">----å“‡æ˜¯ä¸ªå¤§ä½¬ï¼ï¼ï¼----</span><br><span class="line">upå…³æ³¨äº†<span class="number">191</span>ä¸ªäºº</span><br><span class="line">upæœ‰<span class="number">804598</span>ä¸ªç²‰ä¸</span><br></pre></td></tr></table></figure><h2 id="2-bilibili-ç»Ÿè®¡æŸè§†é¢‘è¯„è®ºåŒºï¼Œå¹¶ç”Ÿæˆè¯äº‘"><a href="#2-bilibili-ç»Ÿè®¡æŸè§†é¢‘è¯„è®ºåŒºï¼Œå¹¶ç”Ÿæˆè¯äº‘" class="headerlink" title="2. bilibili ç»Ÿè®¡æŸè§†é¢‘è¯„è®ºåŒºï¼Œå¹¶ç”Ÿæˆè¯äº‘"></a>2. bilibili ç»Ÿè®¡æŸè§†é¢‘è¯„è®ºåŒºï¼Œå¹¶ç”Ÿæˆè¯äº‘</h2><ul><li><strong>è·å–æŸè§†é¢‘è¯„è®ºåŒºè¯„è®º</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> multiprocessing.dummy <span class="keyword">import</span> Pool</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">av = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥è§†é¢‘çš„avå·:&#x27;</span>)</span><br><span class="line">p_total = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥è¯„è®ºè¦å‡ é¡µ:&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_urls</span>():</span><br><span class="line">    urls = []</span><br><span class="line">    p = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> p &lt;= <span class="built_in">int</span>(p_total):</span><br><span class="line">        url = <span class="string">&#x27;http://api.bilibili.com/x/v2/reply?jsonp=jsonp&amp;;pn=&#x27;</span> + <span class="built_in">str</span>(p) + <span class="string">&#x27;&amp;type=1&amp;oid=&#x27;</span> + av</span><br><span class="line">        urls.append(url)</span><br><span class="line">        p += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> urls</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_name_con</span>(<span class="params">url</span>):</span><br><span class="line">    html = requests.get(url).content.decode()</span><br><span class="line">    yh_names = re.findall(<span class="string">r&#x27;&quot;uname&quot;:&quot;(.*?)&quot;,&quot;sex&quot;:&#x27;</span>,html,re.S)</span><br><span class="line">    yh_contents = re.findall(<span class="string">r&#x27;&quot;message&quot;:&quot;(.*?)&quot;,&quot;plat&quot;&#x27;</span>,html,re.S)</span><br><span class="line">    <span class="keyword">del</span> yh_contents[<span class="number">0</span>]</span><br><span class="line">    yh_contents2 = []</span><br><span class="line">    <span class="keyword">for</span> yh_content <span class="keyword">in</span> yh_contents:</span><br><span class="line">        yh_contents2.append(yh_content.replace(<span class="string">&#x27;\\n&#x27;</span>,<span class="string">&#x27; &#x27;</span>))</span><br><span class="line">    <span class="comment"># print(yh_contents2)</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    <span class="keyword">return</span> yh_names,yh_contents2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_names_cons</span>():</span><br><span class="line">    pool = Pool(<span class="number">5</span>)</span><br><span class="line">    urls = get_urls()</span><br><span class="line">    namecons = pool.<span class="built_in">map</span>(get_name_con,urls)</span><br><span class="line">    names = []</span><br><span class="line">    cons = []</span><br><span class="line">    <span class="keyword">for</span> namecon <span class="keyword">in</span> namecons:</span><br><span class="line">        name = namecon[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> name :</span><br><span class="line">            names.append(n)</span><br><span class="line">        con = namecon[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> con:</span><br><span class="line">            cons.append(c)</span><br><span class="line">    <span class="keyword">return</span> names,cons</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save</span>():</span><br><span class="line">    tumple = get_names_cons()</span><br><span class="line">    namelst = tumple[<span class="number">0</span>]</span><br><span class="line">    conlst = tumple[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># print(len(conlst))</span></span><br><span class="line">    <span class="comment"># # print(type(namelst))</span></span><br><span class="line">    <span class="comment"># print(len(namelst))</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(namelst) != <span class="built_in">len</span>(conlst):</span><br><span class="line">        tot = <span class="built_in">len</span>(conlst)</span><br><span class="line">    g = <span class="number">0</span></span><br><span class="line">    main_path = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\txt&#x27;</span> <span class="comment">#ä¿®æ”¹è·¯å¾„-è‡ªå®šä¹‰</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">        os.makedirs(main_path)</span><br><span class="line"></span><br><span class="line">    dir1 = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\txt\\&#x27;</span> + <span class="string">&#x27;comment&#x27;</span>  + <span class="string">&#x27;.txt&#x27;</span>  <span class="comment"># è‡ªå®šä¹‰æ–‡ä»¶å</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(dir1,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fb:</span><br><span class="line">        <span class="keyword">for</span> g <span class="keyword">in</span> <span class="built_in">range</span>(tot):</span><br><span class="line">            <span class="comment"># fb.write(namelst[g])</span></span><br><span class="line">            <span class="comment"># fb.write(&#x27;\t\t\t&#x27;)</span></span><br><span class="line">            fb.write(conlst[g])</span><br><span class="line">            <span class="comment"># fb.write(&#x27;\n&#x27;)</span></span><br><span class="line">            g += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    save()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;----å·²å®Œæˆ----&#x27;</span>,end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;æ­¤è§†é¢‘å·²è·å¾— <span class="subst">&#123;p_total&#125;</span> é¡µçš„è¯„è®º&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li><strong>å°†ç”Ÿæˆçš„è¯„è®º txt æ–‡ä»¶ç»Ÿè®¡ä¸ºè¯äº‘</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> WordCloud</span><br><span class="line"><span class="keyword">import</span> PIL .Image <span class="keyword">as</span> image</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">trans_cn</span>(<span class="params">text</span>):</span><br><span class="line">    word_list = jieba.cut(text)</span><br><span class="line">    result = <span class="string">&#x27; &#x27;</span>.join(word_list)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wc</span>():</span><br><span class="line">    dir1 = <span class="string">&#x27;./txt/comment.txt&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(dir1,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        text = f.read()</span><br><span class="line">        text = trans_cn(text)</span><br><span class="line">        WordCloud2 = WordCloud(</span><br><span class="line">            font_path = <span class="string">&#x27;C:\\windows\\Fonts\\simfang.ttf&#x27;</span></span><br><span class="line">        ).generate(text)</span><br><span class="line">        image_produce = WordCloud2.to_image()</span><br><span class="line">        image_produce.show()</span><br><span class="line">        WordCloud2.to_file(<span class="string">&#x27;./txt/comment.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line">wc()</span><br></pre></td></tr></table></figure><h2 id="3-è·å–-bilibili-ä¸»é¡µå„ä¸ªåˆ†åŒºçš„è§†é¢‘å°é¢å’Œ-av-å·"><a href="#3-è·å–-bilibili-ä¸»é¡µå„ä¸ªåˆ†åŒºçš„è§†é¢‘å°é¢å’Œ-av-å·" class="headerlink" title="3. è·å– bilibili ä¸»é¡µå„ä¸ªåˆ†åŒºçš„è§†é¢‘å°é¢å’Œ av å·"></a>3. è·å– bilibili ä¸»é¡µå„ä¸ªåˆ†åŒºçš„è§†é¢‘å°é¢å’Œ av å·</h2><p><code>https://www.bilibili.com/index/ding.json</code>_é¦–é¡µ apiï¼Œæ¯åˆ·æ–°ä¸€æ¬¡ï¼Œä¿¡æ¯å°±ä¼šæ”¹å˜ä¸€æ¬¡_<br>_è·å–çš„è§†é¢‘ä¿¡æ¯ä¹Ÿå°±ä¸åŒï¼Œæ‰€ä»¥å¯ä»¥ä¸€ç›´è·å–ä¿¡æ¯(ç†è®ºä¸Šæ¥è¯´)_<br>_ç¼ºç‚¹æ˜¯æ¯æ¬¡åªèƒ½è·å–åå¼ å›¾ç‰‡ä¿¡æ¯_<br>_ç”¨çš„æ˜¯ wb å†™å…¥æ–‡ä»¶ï¼Œæ‰€ä»¥å³ä½¿æ–‡ä»¶æœ‰ä¸€æ ·çš„ä¹Ÿä¼šè¢«è¦†ç›–â€¦_</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-douga-teleplay-kichiku-dance-bangumi-fashion-life-ad-guochuang-movie-music-technology-game-ent--&#x27;</span>)</span><br><span class="line">fenqu = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥çˆ¬å–åˆ†åŒº:&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> fenqu == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">    fenqu1 = <span class="string">&#x27;shuma&#x27;</span></span><br><span class="line"><span class="keyword">else</span> :</span><br><span class="line">    fenqu1 = fenqu</span><br><span class="line"></span><br><span class="line">html = requests.get(</span><br><span class="line">    <span class="string">&#x27;https://www.bilibili.com/index/ding.json&#x27;</span>).content.decode()</span><br><span class="line"></span><br><span class="line">dict_html = json.loads(html)</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">aids = []</span><br><span class="line">pics = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    aid = dict_html[fenqu][<span class="built_in">str</span>(i)][<span class="string">&#x27;aid&#x27;</span>]</span><br><span class="line">    pic = dict_html[fenqu][<span class="built_in">str</span>(i)][<span class="string">&#x27;pic&#x27;</span>]</span><br><span class="line">    aids.append(aid)</span><br><span class="line">    pics.append(pic)</span><br><span class="line"></span><br><span class="line">j = <span class="number">1</span></span><br><span class="line">h = j-<span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    main_path = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\pic\\&#x27;</span>+fenqu1</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">        os.makedirs(main_path)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        piccc = requests.get(pics[h])</span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.ReadTimeout:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;requests.exceptions.ReadTimeout&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="built_in">dir</span> = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\pic\\&#x27;</span> + \</span><br><span class="line">         fenqu1 + <span class="string">&#x27;\\&#x27;</span>  +<span class="string">&#x27;av&#x27;</span> + <span class="built_in">str</span>(aids[h]) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;æ­£åœ¨çˆ¬å–ç¬¬<span class="subst">&#123;j&#125;</span>å¼ å›¾&#x27;</span>)</span><br><span class="line">        f.write(piccc.content)</span><br><span class="line">    j += <span class="number">1</span></span><br><span class="line">    h += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;----å®Œæˆå›¾ç‰‡çˆ¬å–----&#x27;</span>)</span><br></pre></td></tr></table></figure><p>_ç•¥å¾®ä¿®æ”¹å_<br>_å¯èƒ½å°±æ˜¯å› ä¸ºæœ‰é‡å¤çš„ï¼Œä¼šè¦†ç›–å‰é¢å·²ä¸‹è½½çš„_<br>_çˆ¬ä¸ª 5 æ¬¡æœ¬è¯¥æœ‰ 50 å¼ ï¼Œä½†æ‰æœ‰ 20 å‡ å¼ (dance åŒº)_<br>_å¯èƒ½ dance åŒºé¦–é¡µè§†é¢‘æ¯”è¾ƒå°‘å§ï¼Œæ¸¸æˆåŒºå¾ˆå¤š_<br><strong>ä¸ç®¡äº†åæ­£è¿™ä¸ªçˆ¬è™«ä¹Ÿæ²¡ä»€ä¹ˆç”¨ hhh</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_pic</span>():</span><br><span class="line">    <span class="keyword">if</span> fenqu == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        fenqu1 = <span class="string">&#x27;shuma&#x27;</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        fenqu1 = fenqu</span><br><span class="line"></span><br><span class="line">    html = requests.get(</span><br><span class="line">        <span class="string">&#x27;https://www.bilibili.com/index/ding.json&#x27;</span>).content.decode()</span><br><span class="line"></span><br><span class="line">    dict_html = json.loads(html)</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    aids = []</span><br><span class="line">    pics = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        aid = dict_html[fenqu][<span class="built_in">str</span>(i)][<span class="string">&#x27;aid&#x27;</span>]</span><br><span class="line">        pic = dict_html[fenqu][<span class="built_in">str</span>(i)][<span class="string">&#x27;pic&#x27;</span>]</span><br><span class="line">        aids.append(aid)</span><br><span class="line">        pics.append(pic)</span><br><span class="line"></span><br><span class="line">    j = <span class="number">1</span></span><br><span class="line">    h = j-<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        main_path = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\pic\\&#x27;</span>+fenqu1</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">            os.makedirs(main_path)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            piccc = requests.get(pics[h])</span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ReadTimeout:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;requests.exceptions.ReadTimeout&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="built_in">dir</span> = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\pic\\&#x27;</span> + \</span><br><span class="line">            fenqu1 + <span class="string">&#x27;\\&#x27;</span>  +<span class="string">&#x27;av&#x27;</span> + <span class="built_in">str</span>(aids[h]) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;æ­£åœ¨çˆ¬å–ç¬¬<span class="subst">&#123;j&#125;</span>å¼ å›¾&#x27;</span>)</span><br><span class="line">            f.write(piccc.content)</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">        h += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">to = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥ä½ è¦çˆ¬å¤šå°‘æ¬¡---ä¸€æ¬¡æœ€å¤šåå¼ ï¼š&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-douga-teleplay-kichiku-dance-bangumi-fashion-life-ad-guochuang-movie-music-technology-game-ent--&#x27;</span>)</span><br><span class="line">fenqu = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥çˆ¬å–åˆ†åŒº:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(to):</span><br><span class="line">    get_pic()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;----å®Œæˆç¬¬<span class="subst">&#123;i&#125;</span>æ¬¡å›¾ç‰‡çˆ¬å–----&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/yq010105/spider_learn/tree/master/bilibili/bilibili_api">Github æºç é“¾æ¥</a></p></blockquote><h2 id="4-ä¸»ç«™ä¸Šçš„å®æ—¶äººæ•°"><a href="#4-ä¸»ç«™ä¸Šçš„å®æ—¶äººæ•°" class="headerlink" title="4. ä¸»ç«™ä¸Šçš„å®æ—¶äººæ•°"></a>4. ä¸»ç«™ä¸Šçš„å®æ—¶äººæ•°</h2><p>_æ‰€ç”¨ api æ¥å£_<code>https://api.bilibili.com/x/web-interface/online?&amp;;jsonp=jsonp</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_num</span>():</span><br><span class="line">    index = requests.get(</span><br><span class="line">    <span class="string">&#x27;https://api.bilibili.com/x/web-interface/online?&amp;;jsonp=jsonp&#x27;</span>).content.decode()</span><br><span class="line">    dict_index = json.loads(index)</span><br><span class="line">    all_count = dict_index[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;all_count&#x27;</span>]</span><br><span class="line">    web_online = dict_index[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;web_online&#x27;</span>]</span><br><span class="line">    play_online = dict_index[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;play_online&#x27;</span>]</span><br><span class="line"><span class="comment"># åº”è¯¥æ˜¯äººæ•°å’Œå®æ—¶åœ¨çº¿äººæ•°</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;all_count:<span class="subst">&#123;all_count&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;web_online:<span class="subst">&#123;web_online&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;play_online:<span class="subst">&#123;play_online&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;ç¬¬<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>æ¬¡è®¡æ•°&#x27;</span>)</span><br><span class="line">    print_num()</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h2 id="5-ç”¨æˆ·çš„ç²‰ä¸æ•°"><a href="#5-ç”¨æˆ·çš„ç²‰ä¸æ•°" class="headerlink" title="5. ç”¨æˆ·çš„ç²‰ä¸æ•°"></a>5. ç”¨æˆ·çš„ç²‰ä¸æ•°</h2><p>_åªèƒ½è·å–ä¸€é¡µï¼Œb ç«™æœ€å¤šæ˜¯äº”é¡µï¼Œå¤šäº†å°±ä¼šæœ‰é™åˆ¶_</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">uid = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥æŸ¥æ‰¾çš„upä¸»çš„uid:&#x27;</span>)</span><br><span class="line">url = <span class="string">&#x27;https://api.bilibili.com/x/relation/followers?vmid=&#x27;</span> + \</span><br><span class="line">    uid + <span class="string">&#x27;&amp;ps=0&amp;order=desc&amp;jsonp=jsonp&#x27;</span></span><br><span class="line"></span><br><span class="line">html = requests.get(url).content.decode()</span><br><span class="line">dic_html = json.loads(html)</span><br><span class="line"></span><br><span class="line">index_order = dic_html[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;list&#x27;</span>]</span><br><span class="line">mids, mtimes, unames, signs = [], [], [], []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> index_order:</span><br><span class="line">    mid = i[<span class="string">&#x27;mid&#x27;</span>]</span><br><span class="line">    mids.append(mid)</span><br><span class="line">    mtime = i[<span class="string">&#x27;mtime&#x27;</span>]</span><br><span class="line">    mmtime = time.asctime(time.localtime(mtime))</span><br><span class="line">    mtimes.append(mmtime)</span><br><span class="line">    uname = i[<span class="string">&#x27;uname&#x27;</span>]</span><br><span class="line">    unames.append(uname)</span><br><span class="line">    sign = i[<span class="string">&#x27;sign&#x27;</span>]</span><br><span class="line">    signs.append(sign)</span><br><span class="line"><span class="comment"># print(index_order)</span></span><br><span class="line"><span class="comment"># print(mids)</span></span><br><span class="line">headers = [<span class="string">&#x27;uid&#x27;</span>, <span class="string">&#x27;æ³¨å†Œæ—¶é—´&#x27;</span>, <span class="string">&#x27;upå§“å&#x27;</span>, <span class="string">&#x27;ä¸ªæ€§ç­¾å&#x27;</span>]</span><br><span class="line">rows = []</span><br><span class="line">j = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(mids)):</span><br><span class="line">    rows.append([mids[j], mtimes[j], unames[j], signs[j]])</span><br><span class="line"></span><br><span class="line">main_path = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\csv&#x27;</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">    os.makedirs(main_path)</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> = <span class="string">&#x27;E:\\learn\\py\\git\\spider\\spider_learn\\bilibili\\bilibili_api\\csv\\&#x27;</span> + \</span><br><span class="line">    <span class="string">&#x27;follers&#x27;</span> + <span class="string">&#x27;.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    fb = csv.writer(f)</span><br><span class="line">    fb.writerow(headers)</span><br><span class="line">    fb.writerows(rows)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;----æœ€å¤šåªæ˜¾ç¤ºä¸€é¡µçš„ç²‰ä¸æ•°ï¼Œä¹Ÿå°±æ˜¯50ä¸ª----&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;å…±æœ‰<span class="subst">&#123;<span class="built_in">len</span>(mids)&#125;</span>ä¸ªç²‰ä¸&#x27;</span>)</span><br></pre></td></tr></table></figure><h1 id="LOL"><a href="#LOL" class="headerlink" title="LOL"></a>LOL</h1><p>LOLæä¾›äº†ä¸°å¯Œçš„æ¥å£ï¼Œå¯ä»¥åˆ©ç”¨è¿™äº›æ¥å£æ¥å®Œæˆä¸€äº›æ“ä½œã€‚ä½¿ç”¨Pythonæ¥è°ƒç”¨LOLæä¾›çš„APIï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›å¤§ä½¬é€ çš„è½®å­ã€‚</p><p>æ‹³å¤´æä¾›çš„APIæ¥å£è¯´æ˜å¯ä»¥åœ¨<a href="https://developer.riotgames.com/">å¼€å‘è€…ç½‘ç«™</a>ä¸­æŸ¥çœ‹ï¼Œå¯ä»¥ä½¿ç”¨æ‹³å¤´è´¦å·è·å¾—ä¸€ä¸ªapi keyæ¥è°ƒç”¨apiï¼Œä¸”keyéœ€è¦æ¯å¤©è¿›è¡Œæ›´æ¢ã€‚</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/riot_developer.png" alt="riot_developer.png"><br><img src="" alt="Uploading file...i2f0f"></p><p><a href="https://developer.riotgames.com/apis">ç½‘ç«™API</a></p><ul><li><a href="http://www.mingweisamuel.com/lcu-schema/tool/#/">æŠ“åŒ…å¾—åˆ°çš„API</a></li></ul><p>æ‹³å¤´çš„å¼€å‘è€…ç½‘ç«™æ–‡æ¡£ï¼š<br>åœ¨<a href="https://developer.riotgames.com/docs/lol">å¼€å‘è€…ç½‘ç«™doc</a>å¯ä»¥å¾—åˆ°ä¸€äº›jsonæ•°æ®ï¼Œå¦‚å½“å‰ç‰ˆæœ¬å…¨éƒ¨è‹±é›„çš„ä¿¡æ¯ï¼Œå…¨éƒ¨è£…å¤‡çš„ä¿¡æ¯ç­‰ç­‰</p><h2 id="1-RiotWatcher"><a href="#1-RiotWatcher" class="headerlink" title="1.RiotWatcher"></a>1.RiotWatcher</h2><p><a href="https://riot-watcher.readthedocs.io/en/latest/">RiotWatcher</a>å‚è€ƒçŸ¥ä¹å¤§ä½¬<a href="https://www.zhihu.com/people/luo-po-gong-zi">äº¬æš®ç ”Shinra</a>çš„<a href="https://www.zhihu.com/column/c_1376912368698499072">æ•™ç¨‹</a>æ¥è¿›è¡Œåˆæ­¥å­¦ä¹ </p><h3 id="1-1-ä½¿ç”¨æ–¹å¼"><a href="#1-1-ä½¿ç”¨æ–¹å¼" class="headerlink" title="1.1 ä½¿ç”¨æ–¹å¼"></a>1.1 ä½¿ç”¨æ–¹å¼</h3><ul><li>å®‰è£…<code>pip install riotwatcher</code></li><li>ä½¿ç”¨</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> riotwatcher <span class="keyword">import</span> LolWatcher</span><br><span class="line"><span class="comment"># api-keyéœ€è¦è‡ªå·±å»å®˜ç½‘ä¸Šè·å¾—</span></span><br><span class="line">lol_watcher = LolWatcher(<span class="string">&#x27;&lt;your-api-key&gt;&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å®šä¹‰å®Œæˆåï¼Œå°±å¯ä»¥ä½¿ç”¨lol_watcheræ¥è°ƒç”¨å…¶ä»–çš„ç±»åº“</p><ul><li><a href="https://riot-watcher.readthedocs.io/en/latest/riotwatcher/LeagueOfLegends/index.html">League of Legends Watcher</a></li><li>Legends Of Runeterra Watcher</li><li>Riot Watcher</li><li>Team Fight Tactics Watcher</li><li>Valorant Watcher</li><li>Handlers</li><li>Testing</li></ul><p>æ¯ä¸ªç±»ä¸‹æ‹¥æœ‰å¾ˆå¤šä¸ªå‡½æ•°ï¼Œè°ƒç”¨ä¸åŒçš„API</p><h3 id="1-2-League-of-Legends-Watcher"><a href="#1-2-League-of-Legends-Watcher" class="headerlink" title="1.2 League of Legends Watcher"></a>1.2 League of Legends Watcher</h3><p>championï¼šè‹±é›„<br>summonerï¼šå¬å”¤å¸ˆ</p><h4 id="è·å¾—æŸä¸ªåŒºæœçš„å…è´¹è‹±é›„"><a href="#è·å¾—æŸä¸ªåŒºæœçš„å…è´¹è‹±é›„" class="headerlink" title="è·å¾—æŸä¸ªåŒºæœçš„å…è´¹è‹±é›„"></a>è·å¾—æŸä¸ªåŒºæœçš„å…è´¹è‹±é›„</h4><p><a href="https://riot-watcher.readthedocs.io/en/latest/riotwatcher/LeagueOfLegends/ChampionApiV3.html#riotwatcher._apis.league_of_legends.ChampionApiV3">champion</a></p><p>ä½¿ç”¨<code>ChampionInfo = lol_watcher.champion.rotations(region: str)</code><br>éœ€è¦è¾“å…¥ä¸€ä¸ªæœåŠ¡å™¨åœ°åŒºåç§°regionï¼Œå¦‚æ—¥æœjp1ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªChampionInfoå€¼</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">region = [<span class="string">&#x27;kr&#x27;</span>,<span class="string">&#x27;jp1&#x27;</span>,<span class="string">&#x27;br1&#x27;</span>,<span class="string">&#x27;eun1&#x27;</span>,<span class="string">&#x27;euw1&#x27;</span>,<span class="string">&#x27;la1&#x27;</span>,<span class="string">&#x27;la2&#x27;</span>,<span class="string">&#x27;na1&#x27;</span>,<span class="string">&#x27;oc1&#x27;</span>,<span class="string">&#x27;tr1&#x27;</span>,<span class="string">&#x27;ru&#x27;</span>]</span><br><span class="line">lol_region = region[<span class="number">1</span>]</span><br><span class="line">champion_kr = lol_watcher.champion.rotations(lol_region)</span><br><span class="line"><span class="built_in">print</span>(champion_kr)</span><br><span class="line"></span><br><span class="line"><span class="comment">#return:</span></span><br><span class="line">&#123;<span class="string">&#x27;freeChampionIds&#x27;</span>: [<span class="number">21</span>, <span class="number">33</span>, <span class="number">50</span>, <span class="number">57</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">107</span>, <span class="number">111</span>, <span class="number">113</span>, <span class="number">202</span>, <span class="number">240</span>, <span class="number">246</span>, <span class="number">350</span>, <span class="number">497</span>, <span class="number">518</span>, <span class="number">875</span>], <span class="string">&#x27;freeChampionIdsForNewPlayers&#x27;</span>: [<span class="number">222</span>, <span class="number">254</span>, <span class="number">427</span>, <span class="number">82</span>, <span class="number">131</span>, <span class="number">147</span>, <span class="number">54</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">37</span>], <span class="string">&#x27;maxNewPlayerLevel&#x27;</span>: <span class="number">10</span>&#125;</span><br></pre></td></tr></table></figure><p>è¿”å›çš„ChampionInfoä¸­</p><ul><li>freeChampionIds å…è´¹è‹±é›„çš„ID</li><li>freeChampionIdsForNewPlayers ç»™æ–°æ‰‹ç©å®¶çš„å…è´¹è‹±é›„</li></ul><p>å¯ä»¥é€šè¿‡IDæ¥æŸ¥çœ‹è‹±é›„çš„åå­—ï¼Œä½¿ç”¨<a href="http://ddragon.leagueoflegends.com/cdn/12.9.1/data/zh_CN/champion.json">æ‹³å¤´å®˜ç½‘çš„jsonæ–‡ä»¶</a><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/2022-06-09-10-02-03.png" alt="2022-06-09-10-02-03.png"></p><p>å®ç°æ€è·¯ï¼š</p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/blogs/pictures/20220609214627.png" alt="20220609214627" title="å®ç°æ€è·¯"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å®˜ç½‘è·å–è‹±é›„çš„jsonæ•°æ®ï¼Œzh_CNï¼šä¸­æ–‡æ•°æ®</span></span><br><span class="line">champion_json_url = <span class="string">&quot;http://ddragon.leagueoflegends.com/cdn/12.9.1/data/zh_CN/champion.json&quot;</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨requestçš„getè·å¾—</span></span><br><span class="line">r1 = requests.get(champion_json_url)</span><br><span class="line"><span class="comment"># åªéœ€è¦dataä¸­çš„æ•°æ®</span></span><br><span class="line">champ_data = r1.json()[<span class="string">&quot;data&quot;</span>]</span><br><span class="line"><span class="comment"># å¤„ç†jsonæ•°æ®ï¼Œä½¿ç”¨pandasçš„json_normalize</span></span><br><span class="line">champ_df = pd.json_normalize(champ_data.values(),sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å–å‡ºchampionè¿”å›å€¼ä¸­çš„freeChampionIds </span></span><br><span class="line">champions_kr_free = champion_kr[<span class="string">&#x27;freeChampionIds&#x27;</span>]</span><br><span class="line"><span class="comment"># å°†freeChampionIdsåˆ—è¡¨ä¸­çš„intæ•°æ®è½¬æ¢æˆå­—ç¬¦ä¸²å¹¶ä¿å­˜åœ¨champions_kr_free_strä¸­</span></span><br><span class="line">champions_kr_free_str = []</span><br><span class="line"><span class="keyword">for</span> champion_kr_free <span class="keyword">in</span> champions_kr_free:</span><br><span class="line">    champion_kr_free_str = <span class="built_in">str</span>(champion_kr_free)</span><br><span class="line">    champions_kr_free_str.append(champion_kr_free_str)</span><br><span class="line"><span class="comment"># åœ¨jsonæ–‡ä»¶çš„keyå€¼ä¸­æœç´¢champions_kr_free_strï¼Œæœç´¢åˆ°åå°†å…¶æå–å‡ºæ¥ï¼Œå¹¶æ‰“å°nameå’Œtitleä¸¤åˆ—</span></span><br><span class="line"><span class="built_in">print</span>(champ_df[champ_df[<span class="string">&#x27;key&#x27;</span>].isin(champions_kr_free_str)][[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;title&#x27;</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">        name    title</span><br><span class="line"><span class="number">28</span>      æ¢é™©å®¶  ä¼Šæ³½ç‘å°”</span><br><span class="line"><span class="number">48</span>      æˆå‘½å¸ˆ     çƒ¬</span><br><span class="line"><span class="number">61</span>     æš´æ€’éª‘å£«    å…‹çƒˆ</span><br><span class="line"><span class="number">73</span>     æ‰­æ›²æ ‘ç²¾    èŒ‚å‡¯</span><br><span class="line"><span class="number">75</span>     èµé‡‘çŒäºº  å„è¿å°å§</span><br><span class="line"><span class="number">81</span>     æ·±æµ·æ³°å¦  è¯ºæå‹’æ–¯</span><br><span class="line"><span class="number">82</span>     ä¸‡èŠ±é€šçµ    å¦®è”»</span><br><span class="line"><span class="number">89</span>     ä¸å±ˆä¹‹æª    æ½˜æ£®</span><br><span class="line"><span class="number">92</span>     å…ƒç´ å¥³çš‡   å¥‡äºšå¨œ</span><br><span class="line"><span class="number">94</span>       å¹»ç¿     æ´›</span><br><span class="line"><span class="number">95</span>     æŠ«ç”²é¾™é¾Ÿ   æ‹‰è«æ–¯</span><br><span class="line"><span class="number">100</span>   å‚²ä¹‹è¿½çŒè€…  é›·æ©åŠ å°”</span><br><span class="line"><span class="number">105</span>    åŒ—åœ°ä¹‹æ€’   ç‘Ÿåº„å¦®</span><br><span class="line"><span class="number">108</span>      è…•è±ª    ç‘Ÿæ</span><br><span class="line"><span class="number">118</span>  è¯ºå…‹è¨æ–¯ç»Ÿé¢†   æ–¯ç»´å› </span><br><span class="line"><span class="number">151</span>    é­”æ³•çŒ«å’ª    æ‚ ç±³</span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜</strong></p><p>pandasåœ¨pycharmä¸­ä½¿ç”¨æ—¶ï¼Œåœ¨æ‰“å°åˆ—è¡¨å¼ï¼Œå•å…ƒæ ¼å†…å®¹ä¼šæ˜¾ç¤ºä¸å…¨ï¼Œé‡‡ç”¨å¦‚ä¸‹æ–¹æ³•æ¥å¤„ç†<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pd.set_option(<span class="string">&#x27;display.max_columns&#x27;</span>, <span class="literal">None</span>)   <span class="comment"># æ˜¾ç¤ºå®Œæ•´çš„åˆ—</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_rows&#x27;</span>, <span class="literal">None</span>)  <span class="comment"># æ˜¾ç¤ºå®Œæ•´çš„è¡Œ</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.expand_frame_repr&#x27;</span>, <span class="literal">False</span>)  <span class="comment"># è®¾ç½®ä¸æŠ˜å æ•°æ®</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.max_colwidth&#x27;</span>, <span class="number">200</span>)</span><br></pre></td></tr></table></figure></p><h4 id="è·å¾—æŸä¸ªå¬å”¤å¸ˆçš„è‹±é›„ç†Ÿç»ƒåº¦ç­‰ä¿¡æ¯"><a href="#è·å¾—æŸä¸ªå¬å”¤å¸ˆçš„è‹±é›„ç†Ÿç»ƒåº¦ç­‰ä¿¡æ¯" class="headerlink" title="è·å¾—æŸä¸ªå¬å”¤å¸ˆçš„è‹±é›„ç†Ÿç»ƒåº¦ç­‰ä¿¡æ¯"></a>è·å¾—æŸä¸ªå¬å”¤å¸ˆçš„è‹±é›„ç†Ÿç»ƒåº¦ç­‰ä¿¡æ¯</h4><p><a href="https://riot-watcher.readthedocs.io/en/latest/riotwatcher/LeagueOfLegends/ChampionMasteryApiV4.html#riotwatcher._apis.league_of_legends.ChampionMasteryApiV4">champion_mastery</a></p><p><strong>æœ‰ä¸‰ç§è·å–æ–¹æ³•å¯ä»¥é€‰æ‹©</strong></p><h5 id="â… -by-summoner"><a href="#â… -by-summoner" class="headerlink" title="â… .by_summoner"></a>â… .by_summoner</h5><p><em>è·å¾—æ‰€æœ‰è‹±é›„çš„ç†Ÿç»ƒåº¦ä¿¡æ¯</em></p><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/2022-06-09-11-21-43.png" alt="2022-06-09-11-21-43.png"></p><p>ä½¿ç”¨ï¼š<code>lol_watcher.champion_mastery.by_summoner(region,summoner_id)</code><br>return: List[ChampionMasteryDTO]: This object contains a list of Champion Mastery information for player and champion combination.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">faker_champion_master = lol_watcher.champion_mastery.by_summoner(region,faker_id)</span><br><span class="line"><span class="built_in">print</span>(faker_champion_master)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;championId&quot;</span>: <span class="number">7</span>,</span><br><span class="line">        <span class="string">&quot;championLevel&quot;</span>: <span class="number">7</span>,</span><br><span class="line">        <span class="string">&quot;championPoints&quot;</span>: <span class="number">493741</span>,</span><br><span class="line">        <span class="string">&quot;lastPlayTime&quot;</span>: <span class="number">1653499775000</span>,</span><br><span class="line">        <span class="string">&quot;championPointsSinceLastLevel&quot;</span>: <span class="number">472141</span>,</span><br><span class="line">        <span class="string">&quot;championPointsUntilNextLevel&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&quot;chestGranted&quot;</span>: true,</span><br><span class="line">        <span class="string">&quot;tokensEarned&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">&quot;summonerId&quot;</span>: <span class="string">&quot;ht4SB4hyU2CyiERUxtIE6ZD4bQbG4Djo0Hbrl2hU0ilBxg&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;&#125;,...&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>è¿”å›æ•°æ®åŒ…æ‹¬</p><ul><li>è‹±é›„id</li><li>è‹±é›„ç†Ÿç»ƒåº¦ç­‰çº§</li><li>è‹±é›„åˆ†æ•°</li><li>æœ€åä½¿ç”¨æ—¶é—´</li><li>æ˜¯å¦æœ‰æˆ˜åˆ©å“å¥–åŠ±ï¼ˆä½¿ç”¨è¯¥è‹±é›„çš„å¯¹å±€ä¸­æœ‰äººè·å¾—S-ä»¥ä¸Šè¯„åˆ†ï¼‰<br>ç­‰ç­‰</li></ul><h5 id="â…¡-by-summoner-by-champion"><a href="#â…¡-by-summoner-by-champion" class="headerlink" title="â…¡.by_summoner_by_champion"></a>â…¡.by_summoner_by_champion</h5><p><em>è·å¾—ç‰¹å®šè‹±é›„çš„ç†Ÿç»ƒåº¦ä¿¡æ¯</em></p><p>ä½¿ç”¨ï¼š<code>lol_watcher.champion_mastery.by_summoner_by_champion(region,summoner_id,champion_id)</code><br>return: ChampionMasteryDTO: This object contains single Champion Mastery information for player and champion combination.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">faker_champion_master_7 = lol_watcher.champion_mastery.by_summoner_by_champion(region,faker_id,<span class="number">7</span>)</span><br><span class="line"><span class="built_in">print</span>(faker_champion_master_7)</span><br><span class="line"></span><br><span class="line"><span class="comment">#output</span></span><br><span class="line">&#123;<span class="string">&#x27;championId&#x27;</span>: <span class="number">7</span>, <span class="string">&#x27;championLevel&#x27;</span>: <span class="number">7</span>, <span class="string">&#x27;championPoints&#x27;</span>: <span class="number">493741</span>, <span class="string">&#x27;lastPlayTime&#x27;</span>: <span class="number">1653499775000</span>, <span class="string">&#x27;championPointsSinceLastLevel&#x27;</span>: <span class="number">472141</span>, <span class="string">&#x27;championPointsUntilNextLevel&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;chestGranted&#x27;</span>: <span class="literal">True</span>, <span class="string">&#x27;tokensEarned&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;summonerId&#x27;</span>: <span class="string">&#x27;ht4SB4hyU2CyiERUxtIE6ZD4bQbG4Djo0Hbrl2hU0ilBxg&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><h5 id="â…¢-scores-by-summoner"><a href="#â…¢-scores-by-summoner" class="headerlink" title="â…¢.scores_by_summoner"></a>â…¢.scores_by_summoner</h5><p><em>è·å¾—ç©å®¶çš„æ€»å† å†›ç²¾é€šåˆ†æ•°ï¼Œå³æ¯ä¸ªå† å†›ç²¾é€šç­‰çº§çš„æ€»å’Œ</em></p><p>ä½¿ç”¨ï¼š<code>lol_watcher.champion_mastery.scores_by_summoner(region,summoner_id)</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">faker_champion_master_scores = lol_watcher.champion_mastery.scores_by_summoner(region,faker_id)</span><br><span class="line"><span class="built_in">print</span>(faker_champion_master_scores)</span><br><span class="line"></span><br><span class="line"><span class="comment">#output</span></span><br><span class="line"><span class="number">675</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥è¯¢ä¸€åå¬å”¤å¸ˆçš„ä¿¡æ¯"><a href="#æŸ¥è¯¢ä¸€åå¬å”¤å¸ˆçš„ä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢ä¸€åå¬å”¤å¸ˆçš„ä¿¡æ¯"></a>æŸ¥è¯¢ä¸€åå¬å”¤å¸ˆçš„ä¿¡æ¯</h4><p><a href="https://riot-watcher.readthedocs.io/en/latest/riotwatcher/LeagueOfLegends/SummonerApiV4.html#riotwatcher._apis.league_of_legends.SummonerApiV4">summoner</a></p><p><strong>å¯ä»¥é€šè¿‡å››ç§æ–¹å¼æŸ¥è¯¢</strong></p><p>ä½¿ç”¨ï¼š<code>summonerDTO = lol_watcher.summoner.by_xxxx(region,xxxx)</code><br>return:    SummonerDTO: represents a summoner</p><h5 id="â… -by-account"><a href="#â… -by-account" class="headerlink" title="â… .by_account"></a>â… .by_account</h5><h5 id="â…¡-by-id"><a href="#â…¡-by-id" class="headerlink" title="â…¡.by_id"></a>â…¡.by_id</h5><h5 id="â…¢-by-name"><a href="#â…¢-by-name" class="headerlink" title="â…¢.by_name"></a>â…¢.by_name</h5><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/2022-06-09-11-06-41.png" alt="2022-06-09-11-06-41.png"></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">region = <span class="string">&quot;kr&quot;</span></span><br><span class="line">summoner_name = <span class="string">&#x27;Hide on bush&#x27;</span></span><br><span class="line"></span><br><span class="line">summoner_faker = lol_watcher.summoner.by_name(region, summoner_name)</span><br><span class="line"><span class="built_in">print</span>(summoner_faker)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">&#123;<span class="string">&#x27;id&#x27;</span>: <span class="string">&#x27;ht4SB4hyU2CyiERUxtIE6ZD4bQbG4Djo0Hbrl2hU0ilBxg&#x27;</span>, <span class="string">&#x27;accountId&#x27;</span>: <span class="string">&#x27;U9Wyp4etrbQuDFz3dqh8pA9HvqhLm1t7tKcwJbK13q1S&#x27;</span>, <span class="string">&#x27;puuid&#x27;</span>: <span class="string">&#x27;f51LYPjnONGFBPsvPdcXZVLr8JvlvVTb4SvGH0xZqGVe3sVsrUKoKZvlKciTh9xkLVl4npQ83zFLWQ&#x27;</span>, <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Hide on bush&#x27;</span>, <span class="string">&#x27;profileIconId&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;revisionDate&#x27;</span>: <span class="number">1654345192719</span>, <span class="string">&#x27;summonerLevel&#x27;</span>: <span class="number">571</span>&#125;</span><br></pre></td></tr></table></figure><h5 id="â…£-by-puuid"><a href="#â…£-by-puuid" class="headerlink" title="â…£.by_puuid"></a>â…£.by_puuid</h5><h2 id="2-lcu-driver"><a href="#2-lcu-driver" class="headerlink" title="2.lcu-driver"></a>2.lcu-driver</h2><p><a href="https://lcu-driver.readthedocs.io/en/latest/index.html">lcu-driver</a></p>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Practise </tag>
            
            <tag> Bilibili </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå·±å†™çš„å‡ ä¸ªçˆ¬è™«ç¨‹åº(å…¥é—¨)</title>
      <link href="/Project/Python%20Spider/"/>
      <url>/Project/Python%20Spider/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>è‡ªå·±åŠ¨æ‰‹åšçš„ python çˆ¬è™«</strong>&emsp;&emsp;&emsp;<a href="https://github.com/yq010105/spider_learn" title="github">GitHub é“¾æ¥</a></p></blockquote><span id="more"></span><h1 id="1-çˆ¬å–-bilibili-æ¯æ—¥æ’è¡Œæ¦œæ•°æ®"><a href="#1-çˆ¬å–-bilibili-æ¯æ—¥æ’è¡Œæ¦œæ•°æ®" class="headerlink" title="1. çˆ¬å– bilibili æ¯æ—¥æ’è¡Œæ¦œæ•°æ®"></a>1. çˆ¬å– bilibili æ¯æ—¥æ’è¡Œæ¦œæ•°æ®</h1><ul><li><strong>ä½¿ç”¨ XPath çˆ¬å–,å¹¶å°†æ•°æ®ä¿å­˜åˆ° csv æ–‡ä»¶ä¸­</strong></li><li><strong>æ–‡ä»¶åä½¿ç”¨è¯¥æ’è¡Œæ¦œæ‰€åœ¨æ—¶é—´æ®µ</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> lxml.html</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;https://www.bilibili.com/ranking/&#x27;</span></span><br><span class="line">html = requests.get(url).content.decode()</span><br><span class="line"><span class="comment"># print(html)</span></span><br><span class="line"></span><br><span class="line">selector = lxml.html.fromstring(html)</span><br><span class="line"></span><br><span class="line">title = selector.xpath(<span class="string">&#x27;//*[@id=&quot;app&quot;]/div[1]/div/div[1]/div[2]/div[3]/ul/li/div[2]/div[2]/a/text()&#x27;</span>)</span><br><span class="line"><span class="comment"># print(len(title))</span></span><br><span class="line"></span><br><span class="line">link = selector.xpath(<span class="string">&#x27;//*[@id=&quot;app&quot;]/div[1]/div/div[1]/div[2]/div[3]/ul/li/div[2]/div[1]/a/@href&#x27;</span>)</span><br><span class="line"><span class="comment"># print(link[0])</span></span><br><span class="line"><span class="comment"># cover = selector.xpath(&#x27;//*[@id=&quot;app&quot;]/div[1]/div/div[1]/div[2]/div[3]/ul/li/div[2]/div[1]/a/div/img/@src&#x27;)</span></span><br><span class="line"><span class="comment"># print(cover[0])</span></span><br><span class="line"></span><br><span class="line">up_name = selector.xpath(<span class="string">&#x27;//*[@id=&quot;app&quot;]/div[1]/div/div[1]/div[2]/div[3]/ul/li/div[2]/div[2]/div[1]/a/span/text()&#x27;</span>)</span><br><span class="line"><span class="comment"># print(up_name[5])</span></span><br><span class="line">up_videoplay = selector.xpath(<span class="string">&#x27;//*[@id=&quot;app&quot;]/div[1]/div/div[1]/div[2]/div[3]/ul/li/div[2]/div[2]/div[1]/span[1]/text()&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time = selector.xpath(<span class="string">&#x27;//*[@id=&quot;app&quot;]/div[1]/div/div[1]/div[2]/div[2]/div/span/text()&#x27;</span>)</span><br><span class="line">time_num = time[<span class="number">0</span>]</span><br><span class="line">str1 = time_num.replace(<span class="string">&#x27; çš„æ•°æ®ç»¼åˆå¾—åˆ†ï¼Œæ¯æ—¥æ›´æ–°ä¸€æ¬¡&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">str2 = str1.replace(<span class="string">&#x27;ç»Ÿè®¡æ‰€æœ‰æŠ•ç¨¿åœ¨ &#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">time_num2 = str2</span><br><span class="line"></span><br><span class="line">headers = [<span class="string">&#x27;up_name&#x27;</span>,<span class="string">&#x27;title&#x27;</span>,<span class="string">&#x27;link&#x27;</span>]</span><br><span class="line">rows = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    rows.append([up_name[i],title[i],link[i]])</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&#x27;<span class="subst">&#123;time_num2&#125;</span>.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.writer(f)</span><br><span class="line">    f_csv.writerow(headers)</span><br><span class="line">    f_csv.writerows(rows)</span><br></pre></td></tr></table></figure><ul><li><strong>csv éƒ¨åˆ†å±•ç¤º</strong><br><code>2020å¹´02æœˆ07æ—¥ - 2020å¹´02æœˆ10æ—¥</code></li></ul><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/master/img/bilibili_csv.png" alt="bilibili_csv"></p><h1 id="2-çˆ¬å–-baidu-ä¸Šæœåˆ°çš„å›¾ç‰‡-åˆçº§"><a href="#2-çˆ¬å–-baidu-ä¸Šæœåˆ°çš„å›¾ç‰‡-åˆçº§" class="headerlink" title="2. çˆ¬å– baidu ä¸Šæœåˆ°çš„å›¾ç‰‡(åˆçº§)"></a>2. çˆ¬å– baidu ä¸Šæœåˆ°çš„å›¾ç‰‡(åˆçº§)</h1><h2 id="2-1-thumbURL"><a href="#2-1-thumbURL" class="headerlink" title="2.1 thumbURL"></a>2.1 thumbURL</h2><ul><li>_åˆ†è¾¨ç‡æä½_</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">html</span>):</span><br><span class="line">    <span class="comment">#é€šè¿‡æ­£åˆ™åŒ¹é…</span></span><br><span class="line">    pic_url = re.findall(<span class="string">&#x27;&quot;thumbURL&quot;:&quot;(.*?)&quot;,&#x27;</span>,html, re.S)</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> pic_url:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¼€å§‹ä¸‹è½½å›¾ç‰‡ï¼š&quot;</span>+key +<span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            pic = requests.get(key, timeout=<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment">#ä¿å­˜å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">        main_path=<span class="string">&quot;E:/baidu/&quot;</span> <span class="comment">#æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œå¦‚æœä¸å­˜åœ¨å°±ä¼šè¢«é‡å»º</span></span><br><span class="line">        <span class="keyword">if</span>  <span class="keyword">not</span> os.path.exists(main_path):<span class="comment">#å¦‚æœè·¯å¾„ä¸å­˜åœ¨</span></span><br><span class="line">            os.makedirs(main_path)</span><br><span class="line">        <span class="built_in">dir</span> = <span class="string">&quot;E:/baidu/&quot;</span> + <span class="built_in">str</span>(i) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">        fp = <span class="built_in">open</span>(<span class="built_in">dir</span>, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">        fp.write(pic.content)</span><br><span class="line">        fp.close()</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">        url = <span class="string">&#x27;https://image.baidu.com/search/index?tn=baiduimage&amp;ipn=r&amp;ct=201326592&amp;cl=2&amp;lm=-1&amp;st=-1&amp;sf=1&amp;fmq=&amp;pv=&amp;ic=0&amp;nc=1&amp;z=&amp;se=1&amp;showtab=0&amp;fb=0&amp;width=&amp;height=&amp;face=0&amp;istype=2&amp;ie=utf-8&amp;fm=result&amp;pos=history&amp;word=siyueshinide&#x27;</span></span><br><span class="line">        result = requests.get(url)</span><br><span class="line">        download(result.text)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure><h2 id="2-2-objURL"><a href="#2-2-objURL" class="headerlink" title="2.2 objURL"></a>2.2 objURL</h2><p>_åˆ†è¾¨ç‡è¾ƒé«˜ï¼Œä½†æœ‰çš„å›¾çˆ¬ä¸äº†_</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">html</span>):</span><br><span class="line">    <span class="comment">#é€šè¿‡æ­£åˆ™åŒ¹é…</span></span><br><span class="line">    pic_url = re.findall(<span class="string">&#x27;&quot;objURL&quot;:&quot;(.*?)&quot;,&#x27;</span>,html, re.S)</span><br><span class="line">    <span class="comment"># for pic_url_li in pic_url:</span></span><br><span class="line">        <span class="comment"># pic_url_js = &#x27;&#123;&#x27;+&#x27;&quot;link&quot;&#x27;+&#x27;:&#x27; +pic_url_li+&#x27;&#125;&#x27;</span></span><br><span class="line">        <span class="comment"># pic_url_py = json.loads(pic_url_li)</span></span><br><span class="line">    <span class="comment"># print(pic_url)</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> pic_url:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¼€å§‹ä¸‹è½½å›¾ç‰‡ï¼š&quot;</span>+key +<span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            pic = requests.get(key, timeout=<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ReadTimeout:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;requests.exceptions.ReadTimeout&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment">#ä¿å­˜å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">        main_path=<span class="string">&quot;E:/baidu/&quot;</span> <span class="comment">#æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œå¦‚æœä¸å­˜åœ¨å°±ä¼šè¢«é‡å»º</span></span><br><span class="line">        <span class="keyword">if</span>  <span class="keyword">not</span> os.path.exists(main_path):<span class="comment">#å¦‚æœè·¯å¾„ä¸å­˜åœ¨</span></span><br><span class="line">            os.makedirs(main_path)</span><br><span class="line">        <span class="built_in">dir</span> = <span class="string">&quot;E:/baidu/&quot;</span> + <span class="built_in">str</span>(i) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">        fp = <span class="built_in">open</span>(<span class="built_in">dir</span>, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">        fp.write(pic.content)</span><br><span class="line">        fp.close()</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">        url = <span class="string">&#x27;https://image.baidu.com/search/index?tn=baiduimage&amp;ipn=r&amp;ct=201326592&amp;cl=2&amp;lm=-1&amp;st=-1&amp;sf=1&amp;fmq=&amp;pv=&amp;ic=0&amp;nc=1&amp;z=&amp;se=1&amp;showtab=0&amp;fb=0&amp;width=&amp;height=&amp;face=0&amp;istype=2&amp;ie=utf-8&amp;fm=result&amp;pos=history&amp;word=siyueshinide&#x27;</span></span><br><span class="line">        result = requests.get(url)</span><br><span class="line">        download(result.text)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">        main()</span><br></pre></td></tr></table></figure><h2 id="2-3-baidu-é¢å‘å¯¹è±¡"><a href="#2-3-baidu-é¢å‘å¯¹è±¡" class="headerlink" title="2.3 baidu é¢å‘å¯¹è±¡"></a>2.3 baidu é¢å‘å¯¹è±¡</h2><ul><li>è¾“å…¥æƒ³çˆ¬å–çš„å…³é”®è¯ï¼Œè‡ªåŠ¨çˆ¬å–(åªèƒ½ä¸‹ 30 å¼ )</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_id</span>(<span class="params">search_id</span>):</span><br><span class="line">    url = <span class="string">&#x27;http://image.baidu.com/search/index?tn=baiduimage&amp;ps=1&amp;ct=201326592&amp;lm=-1&amp;cl=2&amp;nc=1&amp;ie=utf-8&amp;word=&#x27;</span> + search_id</span><br><span class="line">    <span class="keyword">return</span> url</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_obj</span>():</span><br><span class="line">    url = get_id(search_id)</span><br><span class="line">    html = requests.get(url).content.decode()</span><br><span class="line">    obj_URL = re.findall(<span class="string">&#x27;&quot;objURL&quot;:&quot;(.*?)&quot;,&#x27;</span>,html,re.S)</span><br><span class="line">    <span class="keyword">return</span> obj_URL</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_pic</span>():</span><br><span class="line">    obj_url = get_obj()</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> objurl <span class="keyword">in</span> obj_url:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;å¼€å§‹ä¸‹è½½å›¾ç‰‡&#x27;</span>+<span class="string">&#x27;\t&#x27;</span>+<span class="string">&#x27;ç¬¬&#x27;</span>+<span class="built_in">str</span>(i)+<span class="string">&#x27;å¼ &#x27;</span>)</span><br><span class="line">        <span class="keyword">try</span> :</span><br><span class="line">            pic = requests.get(objurl,timeout = <span class="number">10</span>)</span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ReadTimeout:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;requests.exceptions.ReadTimeout&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">global</span> search_id</span><br><span class="line">        main_path = <span class="string">r&#x27;E:\learn\py\git\spider\spider_learn\baidu\pic\\&#x27;</span> + search_id +<span class="string">&#x27;\\&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">            os.makedirs(main_path)</span><br><span class="line">        <span class="built_in">dir</span> = <span class="string">&quot;E:\learn\py\git\spider\spider_learn\\baidu\pic\\&quot;</span> +search_id +<span class="string">&#x27;\\&#x27;</span>+ search_id+ <span class="built_in">str</span>(i) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(pic.content)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    search_id = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥è¦ä¸‹è½½çš„å†…å®¹:&#x27;</span>)</span><br><span class="line">    save_pic()</span><br></pre></td></tr></table></figure><h2 id="2-4-baidu-more"><a href="#2-4-baidu-more" class="headerlink" title="2.4 baidu_more"></a>2.4 baidu_more</h2><ul><li><strong>è¿›ä¸€æ­¥å‡çº§ï¼Œå¯ä»¥çˆ¬ä»»æ„æ•°é‡å›¾ç‰‡</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> multiprocessing.dummy <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_urls</span>(<span class="params">search_id</span>):</span><br><span class="line">    total = (<span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥è¦å‡ é¡µ----30å¼ ä¸€é¡µ----ï¼š&#x27;</span>))</span><br><span class="line">    url = <span class="string">&#x27;http://image.baidu.com/search/index?tn=baiduimage&amp;ps=1&amp;ct=201326592&amp;lm=-1&amp;cl=2&amp;nc=1&amp;ie=utf-8&amp;word=&#x27;</span> + search_id+ <span class="string">&#x27;&amp;pn=&#x27;</span></span><br><span class="line">    t = <span class="number">0</span></span><br><span class="line">    URLS = []</span><br><span class="line">    <span class="keyword">while</span> t &lt; <span class="built_in">int</span>(total)*<span class="number">30</span>:</span><br><span class="line">        URL = url + <span class="built_in">str</span>(t)</span><br><span class="line">        t = t + <span class="number">30</span></span><br><span class="line">        URLS.append(URL)</span><br><span class="line">    <span class="keyword">return</span> URLS</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_obj</span>(<span class="params">url</span>):</span><br><span class="line">    html = requests.get(url).content.decode()</span><br><span class="line">    obj_URL = re.findall(<span class="string">&#x27;&quot;objURL&quot;:&quot;(.*?)&quot;,&#x27;</span>,html,re.S)</span><br><span class="line">    <span class="keyword">return</span> obj_URL</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_pic</span>():</span><br><span class="line">    pool=Pool(<span class="number">5</span>)</span><br><span class="line">    objurls = pool.<span class="built_in">map</span>(get_obj,URLS)</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> objurl <span class="keyword">in</span> objurls:</span><br><span class="line">        <span class="keyword">for</span> obj <span class="keyword">in</span> objurl:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å¼€å§‹ä¸‹è½½å›¾ç‰‡&#x27;</span>+<span class="string">&#x27;\t&#x27;</span>+<span class="string">&#x27;ç¬¬&#x27;</span>+<span class="built_in">str</span>(i)+<span class="string">&#x27;å¼ &#x27;</span>)</span><br><span class="line">            <span class="keyword">try</span> :</span><br><span class="line">                pic = requests.get(obj,timeout = <span class="number">10</span>)</span><br><span class="line">            <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">except</span> requests.exceptions.ReadTimeout:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;requests.exceptions.ReadTimeout&#x27;</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">global</span> search_id</span><br><span class="line">            main_path = patha +<span class="string">&#x27;\\&#x27;</span> + search_id +<span class="string">&#x27;\\&#x27;</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">                os.makedirs(main_path)</span><br><span class="line">            <span class="built_in">dir</span> = main_path + search_id+ <span class="built_in">str</span>(i) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(pic.content)</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    search_id = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥è¦ä¸‹è½½çš„å†…å®¹:&#x27;</span>)</span><br><span class="line">    URLS = get_urls(search_id)</span><br><span class="line">    patha = <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥æ–‡ä»¶ä¿å­˜è·¯å¾„----ç¤ºä¾‹:E:\\baidu----:&#x27;</span>)</span><br><span class="line">    save_pic()</span><br></pre></td></tr></table></figure><h1 id="3-çˆ¬å–-ins-ä¸Šçš„å›¾ç‰‡-åˆçº§ç‰ˆ"><a href="#3-çˆ¬å–-ins-ä¸Šçš„å›¾ç‰‡-åˆçº§ç‰ˆ" class="headerlink" title="3. çˆ¬å– ins ä¸Šçš„å›¾ç‰‡(åˆçº§ç‰ˆ)"></a>3. çˆ¬å– ins ä¸Šçš„å›¾ç‰‡(åˆçº§ç‰ˆ)</h1><ul><li>_åˆ†è¾¨ç‡ä½_</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> lxml.html</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–src</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_src</span>():</span><br><span class="line">    url = <span class="string">&#x27;https://www.instagram.com/baaaakuuuu&#x27;</span></span><br><span class="line">    html = requests.get(url).content.decode()</span><br><span class="line">    selector = lxml.html.fromstring(html)</span><br><span class="line">    script = selector.xpath(<span class="string">&#x27;/html/body/script[1]/text()&#x27;</span>)[<span class="number">0</span>].strip()</span><br><span class="line">    <span class="comment"># print(script)</span></span><br><span class="line">    <span class="comment"># print(type(script))       #str</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    <span class="comment"># for script_in in script :</span></span><br><span class="line">        <span class="comment"># try:</span></span><br><span class="line">        <span class="comment">#     script_dic = json.loads(script_in)</span></span><br><span class="line">        <span class="comment"># print(script_dic)</span></span><br><span class="line">    src = re.findall(<span class="string">r&#x27;&quot;thumbnail_resources&quot;:\[(.*?)\]&#x27;</span>,script,re.S)</span><br><span class="line">    <span class="comment"># print(src[0]) #str</span></span><br><span class="line">    <span class="comment"># print(type(src[0]))</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    <span class="keyword">return</span> src</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å›¾ç‰‡é“¾æ¥</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_picurl</span>():</span><br><span class="line">    src = get_src()</span><br><span class="line">    <span class="comment"># print(src)</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    pic_url_lst = []</span><br><span class="line">    <span class="keyword">for</span> src_ls <span class="keyword">in</span> src :         <span class="comment">#&quot;config_height&quot;:480&#125;,&#123; ... ,&quot;config_width&quot;:640,&quot;config_height&quot;:640&#125;</span></span><br><span class="line">        thumb = re.findall(<span class="string">r&#x27;&quot;config_height&quot;:480&#125;,&#123;(.*?),&quot;config_width&quot;:640,&quot;config_height&quot;:640&#125;&#x27;</span>,src_ls)[<span class="number">0</span>]</span><br><span class="line">        thumb_json = <span class="string">&#x27;&#123;&#x27;</span> + thumb + <span class="string">&#x27;&#125;&#x27;</span></span><br><span class="line">        <span class="comment"># print(thumb_json)</span></span><br><span class="line">        <span class="comment"># exit()</span></span><br><span class="line">        thumb_py = json.loads(thumb_json)</span><br><span class="line">        pic_url = thumb_py[<span class="string">&#x27;src&#x27;</span>]</span><br><span class="line">        <span class="comment"># print(pic_url)</span></span><br><span class="line">        <span class="comment"># exit()</span></span><br><span class="line">        pic_url_lst.append(pic_url)</span><br><span class="line">    <span class="comment"># print(pic_url_lst)</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    <span class="keyword">return</span> pic_url_lst</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å›¾ç‰‡é“¾æ¥ä¿å­˜</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_pic</span>():</span><br><span class="line">    pic_url_lst = get_picurl()</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="comment"># print(pic_url_lst)</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">    <span class="keyword">for</span> pic_con <span class="keyword">in</span> pic_url_lst:</span><br><span class="line">        <span class="comment"># print(pic_con)</span></span><br><span class="line">        <span class="comment"># exit()</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            pic = requests.get(pic_con, timeout=<span class="number">10</span>)</span><br><span class="line">            main_path = <span class="string">&#x27;E:/ins/&#x27;</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">                os.makedirs(main_path)</span><br><span class="line">            path = <span class="string">&#x27;E:/ins/&#x27;</span> + <span class="string">&#x27;baku&#x27;</span> + <span class="built_in">str</span>(i) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(path,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(pic.content)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&#x27;ç¬¬<span class="subst">&#123;i&#125;</span>å¼ å·²ä¸‹è½½&#x27;</span>)</span><br><span class="line">            i +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ConnectionError:        <span class="comment">#requests.exceptions.ConnectionError</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">save_pic()</span><br></pre></td></tr></table></figure><h1 id="4-çˆ¬å–-Wallhaven-ä¸Šçš„å›¾ç‰‡"><a href="#4-çˆ¬å–-Wallhaven-ä¸Šçš„å›¾ç‰‡" class="headerlink" title="4. çˆ¬å– Wallhaven ä¸Šçš„å›¾ç‰‡"></a>4. çˆ¬å– Wallhaven ä¸Šçš„å›¾ç‰‡</h1><h2 id="4-1-é¾Ÿé€Ÿçˆ¬å–-åªæ˜¯ç”¨æ¥çˆ¬äº†ä¸€ä¸‹åšå®¢éœ€è¦çš„å›¾ç‰‡-hhh"><a href="#4-1-é¾Ÿé€Ÿçˆ¬å–-åªæ˜¯ç”¨æ¥çˆ¬äº†ä¸€ä¸‹åšå®¢éœ€è¦çš„å›¾ç‰‡-hhh" class="headerlink" title="4.1 é¾Ÿé€Ÿçˆ¬å–,åªæ˜¯ç”¨æ¥çˆ¬äº†ä¸€ä¸‹åšå®¢éœ€è¦çš„å›¾ç‰‡ hhh"></a>4.1 é¾Ÿé€Ÿçˆ¬å–,åªæ˜¯ç”¨æ¥çˆ¬äº†ä¸€ä¸‹åšå®¢éœ€è¦çš„å›¾ç‰‡ hhh</h2><p>_çˆ¬å–é€Ÿåº¦æ…¢ï¼Œè¦ç­‰åŠå¤©æ‰èƒ½å¼€å§‹ä¿å­˜æ–‡ä»¶ï¼Œåº”è¯¥æ˜¯æˆ‘ä»£ç ç»“æ„çš„é—®é¢˜ï¼Œä»¥åå†åšä¼˜åŒ–_</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lxml.html</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&quot;User-Agent&quot;</span>:<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.116 Safari/537.36&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_url</span>():</span><br><span class="line">    pages = <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥é¡µæ•°ï¼š&#x27;</span>)</span><br><span class="line">    <span class="comment"># pages = &#x27;1&#x27;</span></span><br><span class="line">    url_pics = []</span><br><span class="line">    page = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> page &lt;= <span class="built_in">int</span>(pages):</span><br><span class="line">        url = <span class="string">&#x27;https://wallhaven.cc/search?categories=010&amp;purity=100&amp;resolutions=1280x800&amp;sorting=relevance&amp;order=desc&amp;page=&#x27;</span> + <span class="built_in">str</span>(page)</span><br><span class="line">        html = requests.get(url,headers = headers).content.decode()</span><br><span class="line">    <span class="comment"># print(html)</span></span><br><span class="line">    <span class="comment"># exit()</span></span><br><span class="line">        selector = lxml.html.fromstring(html)</span><br><span class="line"></span><br><span class="line">        url_pic = selector.xpath(<span class="string">&#x27;//*[@id=&quot;thumbs&quot;]/section/ul/li/figure/a/@href&#x27;</span>)</span><br><span class="line">        url_pics.append(url_pic)</span><br><span class="line">        page += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å¾—åˆ°äº†å†…å±‚url&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> url_pics</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_pic</span>():</span><br><span class="line">    url_pics = get_url()</span><br><span class="line">    img_urls = []</span><br><span class="line">    <span class="keyword">for</span> urlst <span class="keyword">in</span> url_pics:</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> urlst:</span><br><span class="line">            htmlp = requests.get(url,headers = headers).content.decode()</span><br><span class="line">            <span class="comment"># print(htmlp)</span></span><br><span class="line">            <span class="comment"># exit()</span></span><br><span class="line">            img_url = re.findall(<span class="string">r&#x27;&quot;wallpaper&quot; src=&quot;(.*?)&quot;&#x27;</span>,htmlp,re.S)[<span class="number">0</span>]</span><br><span class="line">            img_urls.append(img_url)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å¾—åˆ°å›¾ç‰‡çš„url&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> img_urls</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_img</span>(<span class="params">imgurl_list</span>):</span><br><span class="line">    i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> imgurl_list:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;å¼€å§‹ä¸‹è½½å›¾ç‰‡&#x27;</span>+<span class="string">&#x27;\t&#x27;</span>+<span class="string">&#x27;ç¬¬&#x27;</span>+<span class="built_in">str</span>(i)+<span class="string">&#x27;å¼ &#x27;</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            pic = requests.get(url, timeout=<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;å›¾ç‰‡æ— æ³•ä¸‹è½½&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">except</span> requests.exceptions.ReadTimeout:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;requests.exceptions.ReadTimeout&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        main_path = <span class="string">r&#x27;E:\\wallhaven\\&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):</span><br><span class="line">            os.makedirs(main_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">dir</span> = <span class="string">&#x27;E:\\wallhaven\\&#x27;</span> + <span class="built_in">str</span>(i) +<span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(pic.content)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    imgurl_list = get_pic()</span><br><span class="line">    get_img(imgurl_list)</span><br></pre></td></tr></table></figure><h2 id="4-2-å¤šçº¿ç¨‹çˆ¬å–"><a href="#4-2-å¤šçº¿ç¨‹çˆ¬å–" class="headerlink" title="4.2 å¤šçº¿ç¨‹çˆ¬å–"></a>4.2 å¤šçº¿ç¨‹çˆ¬å–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é‡åˆ°äº†ä¸€ä¸ªbugï¼Œç­‰åˆ°bugè§£å†³å†å†™ä¸Šæ¥</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Practise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-Note</title>
      <link href="/Learn/Python/Python%20Basic/"/>
      <url>/Learn/Python/Python%20Basic/</url>
      
        <content type="html"><![CDATA[<p>PythonæŸ¥ç¼ºè¡¥æ¼</p><span id="more"></span><h1 id="Python-with-matlab"><a href="#Python-with-matlab" class="headerlink" title="Python (with matlab)"></a>Python (with matlab)</h1><blockquote><p><a href="https://ww2.mathworks.cn/help/matlab/matlab_external/install-the-matlab-engine-for-python.html">å®‰è£…ç”¨äº Python çš„ MATLAB Engine API - MATLAB &amp; Simulink - MathWorks ä¸­å›½</a></p></blockquote><ul><li>è¦ä» MATLAB æ–‡ä»¶å¤¹å®‰è£…ï¼Œè¯·åœ¨ WindowsÂ® ä¸Šé”®å…¥ï¼š<ul><li><code>cd &quot;_matlabroot_\extern\engines\python&quot;</code></li><li><code>python -m pip install .</code></li></ul></li><li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä» <a href="https://pypi.org/project/matlabengine">https://pypi.org/project/matlabengine</a> å®‰è£…å¼•æ“ APIï¼š<ul><li><code>python -m pip install matlabengine</code></li></ul></li></ul><h3 id="å¯åŠ¨-MATLAB-Engine"><a href="#å¯åŠ¨-MATLAB-Engine" class="headerlink" title="å¯åŠ¨ MATLAB Engine"></a>å¯åŠ¨ MATLAB Engine</h3><p>å¯åŠ¨ Pythonã€‚åœ¨ Python æç¤ºç¬¦ä¸‹é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä»¥å¯¼å…¥ MATLAB æ¨¡å—å¹¶å¯åŠ¨å¼•æ“ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matlab.engine</span><br><span class="line">eng = matlab.engine.start_matlab()</span><br></pre></td></tr></table></figure><p>matlab2023 æœ€ä½pythonç‰ˆæœ¬ä¸º 3.9<br>matlab2019 æœ€é«˜pythonç‰ˆæœ¬ä¸º 3.7</p><h1 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h1><div class="table-container"><table><thead><tr><th>Project introduction</th><th>Link</th></tr></thead><tbody><tr><td>è®¸å¤š <strong>Linux</strong> å‘è¡Œç‰ˆéƒ½ç”¨ <strong>systemd æ¥ç®¡ç†ç³»ç»Ÿçš„æœåŠ¡</strong>ï¼Œæ¯”å¦‚å¼€æœºå¯åŠ¨ã€è‡ªåŠ¨é‡å¯ã€å®ˆæŠ¤è¿›ç¨‹ç­‰ã€‚è¯¥é¡¹ç›®è®²è§£äº†å¦‚ä½•å…¥é—¨ systemdï¼Œå¹¶æä¾›äº†ä¸€ä¸ª Python è„šæœ¬å’Œ systemd unit æ–‡ä»¶ï¼Œå¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå¿«é€Ÿå¼€å‘å‡º systemd æœåŠ¡ã€‚</td><td><a href="https://github.com/torfsen/python-systemd-tutorial">torfsen/python-systemd-tutorial: A tutorial for writing a systemd service in Python</a></td></tr><tr><td>åŸºäº OpenCV çš„æ‹¼æ¥æ¨¡å—å¼€å‘çš„ç”¨äº<strong>å¿«é€Ÿæ‹¼æ¥å›¾ç‰‡çš„ Python åº“</strong></td><td><a href="https://github.com/OpenStitching/stitching">OpenStitching/stitching: A Python package for fast and robust Image Stitching</a></td></tr><tr><td>æ‰‹å†™å®ç°æèˆªã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ä¹¦ä¸­å…¨éƒ¨ç®—æ³•</td><td><a href="https://github.com/Dod-o/Statistical-Learning-Method_Code">Dod-o/Statistical-Learning-Method_Code: æ‰‹å†™å®ç°æèˆªã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹ä¹¦ä¸­å…¨éƒ¨ç®—æ³•</a></td></tr><tr><td>ä½¿ç”¨ Python å’Œ Matplotlib è¿›è¡Œç§‘å­¦å¯è§†åŒ–çš„å¼€æºä¹¦ç±</td><td><a href="https://github.com/rougier/scientific-visualization-book">rougier/scientific-visualization-book: An open access book on scientific visualization using python and matplotlib</a></td></tr><tr><td>Python å†™çš„äººè„¸è¯†åˆ«å’Œé¢éƒ¨å±æ€§åˆ†ææ¡†æ¶ï¼Œå¯æ ¹æ®äººè„¸å›¾åƒæ™ºèƒ½è¯†åˆ«å¹´é¾„ã€æ€§åˆ«ã€æƒ…ç»ªç­‰ä¿¡æ¯</td><td><a href="https://github.com/serengil/deepface">serengil/deepface: A Lightweight Face Recognition and Facial Attribute Analysis (Age, Gender, Emotion and Race) Library for Python</a></td></tr></tbody></table></div><h1 id="ç§¯ç´¯ç¼–å†™æŠ€å·§"><a href="#ç§¯ç´¯ç¼–å†™æŠ€å·§" class="headerlink" title="ç§¯ç´¯ç¼–å†™æŠ€å·§"></a>ç§¯ç´¯ç¼–å†™æŠ€å·§</h1><h2 id="å…ƒç»„ç´¢å¼•åˆ—è¡¨"><a href="#å…ƒç»„ç´¢å¼•åˆ—è¡¨" class="headerlink" title="å…ƒç»„ç´¢å¼•åˆ—è¡¨"></a>å…ƒç»„ç´¢å¼•åˆ—è¡¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">topk_freq</span>(<span class="params">self, x_freq</span>):</span><br><span class="line">  length = x_freq.shape[<span class="number">1</span>]</span><br><span class="line">  top_k = <span class="built_in">int</span>(self.factor * math.log(length))</span><br><span class="line">  <span class="comment"># print(top_k)</span></span><br><span class="line">  values, indices = torch.topk(x_freq.<span class="built_in">abs</span>(), top_k, dim=<span class="number">1</span>, largest=<span class="literal">True</span>, <span class="built_in">sorted</span>=<span class="literal">True</span>) <span class="comment"># (b, top_k, d)</span></span><br><span class="line">  <span class="comment"># print(values.shape, indices.shape); print(values); print(indices)</span></span><br><span class="line">  mesh_a, mesh_b = torch.meshgrid(torch.arange(x_freq.size(<span class="number">0</span>)), torch.arange(x_freq.size(<span class="number">2</span>)), indexing=<span class="string">&#x27;ij&#x27;</span>) <span class="comment"># (b, d)</span></span><br><span class="line">  index_tuple = (mesh_a.unsqueeze(<span class="number">1</span>), indices, mesh_b.unsqueeze(<span class="number">1</span>)) <span class="comment"># (b, 1, d) (b, top_k, d) (b, 1, d)</span></span><br><span class="line">  x_freq = x_freq[index_tuple] <span class="comment"># (b, top_k, d)</span></span><br><span class="line"><span class="keyword">return</span> x_freq, index_tuple</span><br></pre></td></tr></table></figure><ul><li>å˜é‡çš„äº¤æ¢<code>a,b = b,a</code></li><li>å­—ç¬¦ä¸²æ ¼å¼åŒ–</li></ul><p><code>print(&quot;Hi, I&#39;m %s . I&#39;m from %s . And I&#39;m %d&quot; % (name,country,age))</code><br><code>print(&quot;Hi, I&#39;m &#123;&#125; . I&#39;m from &#123;&#125; . And I&#39;m &#123;&#125;&quot;.format(name,country,age))</code><br><code>print(f&quot;Hi, I&#39;m &#123;name&#125; . I&#39;m from &#123;country&#125; . And I&#39;m &#123;age+1&#125;&quot;</code></p><p><a href="https://www.bilibili.com/video/BV1Ux4y1179J/?vd_source=1dba7493016a36a32b27a14ed2891088">[åŒå­—] {Python}ä¸­5ä¸ªå¥½ç”¨çš„&lt;å­—ç¬¦ä¸²æ ¼å¼åŒ–&gt;æŠ€å·§_å“”å“©å“”å“©_bilibili</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">n: <span class="built_in">int</span> = <span class="number">1000000000</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:_&#125;</span>&#x27;</span>) <span class="comment"># 1_000_000_000</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:,&#125;</span>&#x27;</span>) <span class="comment"># 1,000,000,000</span></span><br><span class="line"></span><br><span class="line">var: <span class="built_in">str</span> = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:&gt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># ä¸€å…±20ä¸ªç©ºæ ¼ï¼Œå³å¯¹é½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># å·¦å¯¹é½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:&lt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># å·¦å¯¹é½</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:^<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># å±…ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:_&gt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># ç©ºæ ¼å˜æˆä¸‹åˆ’çº¿</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:#&gt;<span class="number">20</span>&#125;</span>&#x27;</span>) <span class="comment"># ç©ºæ ¼å˜æˆ#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">now: datetime = datetime.now()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%d.%m.%y (%H:%M:%S)&#125;</span>&#x27;</span>) <span class="comment"># 17.02.24 (11:20:56)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%c&#125;</span>&#x27;</span>) <span class="comment"># Sat Feb 17 11:20:56 2024</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%I%p&#125;</span>&#x27;</span>) <span class="comment"># 11AM</span></span><br><span class="line"></span><br><span class="line">n: <span class="built_in">float</span> = <span class="number">1234.5678</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:<span class="number">.2</span>f&#125;</span>&#x27;</span>) <span class="comment"># 1234.57</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:<span class="number">.0</span>f&#125;</span>&#x27;</span>) <span class="comment"># 1235</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:,<span class="number">.3</span>f&#125;</span>&#x27;</span>) <span class="comment"># 123,4.568</span></span><br><span class="line"></span><br><span class="line">a: <span class="built_in">int</span> = <span class="number">5</span></span><br><span class="line">b: <span class="built_in">int</span> = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;a+b=&#125;</span>&#x27;</span>) <span class="comment"># a+b=15</span></span><br><span class="line"></span><br><span class="line">my_var: <span class="built_in">str</span> = <span class="string">&#x27;my variable&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;my_var=&#125;</span>&#x27;</span>) <span class="comment"># my_var=&#x27;my variable&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;my_var=<span class="subst">&#123;my_var&#125;</span>&#x27;</span>) <span class="comment"># my_var=my variable</span></span><br></pre></td></tr></table></figure><h2 id="Yield"><a href="#Yield" class="headerlink" title="Yield"></a>Yield</h2><p>yieldä¸éœ€è¦æ•´ä¸ªåˆ—è¡¨ç”Ÿæˆå®Œæ¯•åå†è¾“å‡ºï¼Œå¯ä»¥ä¸€ä¸ªä¸€ä¸ªè¾“å‡ºã€‚æ¯å½“ä¸€ä¸ªæ•°æ®ç”Ÿæˆæ—¶ï¼Œå¯ä»¥ç›´æ¥è¾“å‡º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fibonacci</span>(<span class="params">n</span>):</span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    b = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">yield</span> a</span><br><span class="line">        a, b = b, a+b</span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> fibonacci(<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure><h2 id="mapå’Œzip"><a href="#mapå’Œzip" class="headerlink" title="mapå’Œzip"></a>mapå’Œzip</h2><p><code>map(function,sequence)</code><br>å¯¹åºåˆ—sequenceä¸­æ¯ä¸ªå…ƒç´ éƒ½æ‰§è¡Œå‡½æ•°functionæ“ä½œï¼Œå¦‚<code>map(str,mylist)</code>ï¼šå°†åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚<br>list()å°†æ¯ä¸€é¡¹è½¬æ¢æˆåˆ—è¡¨</p><p><code>zip(*list)</code>è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œè½¬ç½®<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line">t = <span class="built_in">zip</span>(*<span class="built_in">list</span>)</span><br><span class="line"><span class="built_in">print</span> t</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>), (<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>), (<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>)]</span><br><span class="line"></span><br><span class="line">x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">y = [<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line">a = <span class="built_in">zip</span>(x,y)</span><br><span class="line"><span class="built_in">print</span> a</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">[(<span class="number">1</span>, <span class="number">6</span>), (<span class="number">2</span>, <span class="number">7</span>), (<span class="number">3</span>, <span class="number">8</span>), (<span class="number">4</span>, <span class="number">9</span>), (<span class="number">5</span>, <span class="number">10</span>)]</span><br></pre></td></tr></table></figure></p><p>egï¼šå°†å¤šä¸ªåˆ—è¡¨åˆå¹¶åˆ›å»ºjsonæ•°ç»„</p><p>new_list = list(map(list, zip(address, temp)))<br>jsonify({<br>    â€˜dataâ€™: new_list<br>})</p><h2 id="partial"><a href="#partial" class="headerlink" title="partial"></a>partial</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœ clip_x_start åˆ™åˆ›å»ºä¸€ä¸ªmaybe_clipå‡½æ•°ï¼Œæ ¹æ®è¾“å…¥çš„x_ è¾“å‡º torch.clamp(x_, min=-1., max=1.)</span></span><br><span class="line">maybe_clip = partial(torch.clamp, <span class="built_in">min</span>=-<span class="number">1.</span>, <span class="built_in">max</span>=<span class="number">1.</span>) <span class="keyword">if</span> clip_x_start <span class="keyword">else</span> identity</span><br></pre></td></tr></table></figure><h1 id="PythonåŸºç¡€"><a href="#PythonåŸºç¡€" class="headerlink" title="PythonåŸºç¡€"></a>PythonåŸºç¡€</h1><h2 id="tryâ€¦except"><a href="#tryâ€¦except" class="headerlink" title="tryâ€¦except"></a>tryâ€¦except</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#python å¼‚å¸¸å¤„ç†</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">&lt;è¯­å¥&gt;        <span class="comment">#è¿è¡Œåˆ«çš„ä»£ç </span></span><br><span class="line"><span class="keyword">except</span> &lt;åå­—&gt;ï¼š</span><br><span class="line">&lt;è¯­å¥&gt;        <span class="comment">#å¦‚æœåœ¨tryéƒ¨ä»½å¼•å‘äº†&#x27;name&#x27;å¼‚å¸¸</span></span><br><span class="line"><span class="keyword">except</span> &lt;åå­—&gt;ï¼Œ&lt;æ•°æ®&gt;:</span><br><span class="line">&lt;è¯­å¥&gt;        <span class="comment">#å¦‚æœå¼•å‘äº†&#x27;name&#x27;å¼‚å¸¸ï¼Œè·å¾—é™„åŠ çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">&lt;è¯­å¥&gt;        <span class="comment">#å¦‚æœæ²¡æœ‰å¼‚å¸¸å‘ç”Ÿ</span></span><br></pre></td></tr></table></figure><p>å•ä¸ª try-except è¯­å¥æ•è·æ‰€æœ‰å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ªexceptå¼‚å¸¸è¯­å¥</p><ul><li>finally é€€å‡ºtryæ—¶æ€»ä¼šæ‰§è¡Œ<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">&lt;è¯­å¥&gt;</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">&lt;è¯­å¥&gt;    <span class="comment">#é€€å‡ºtryæ—¶æ€»ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">raise</span></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    æ­£å¸¸çš„æ“ä½œ</span><br><span class="line">   ......................</span><br><span class="line"><span class="keyword">except</span> ExceptionType, Argument:</span><br><span class="line">    ä½ å¯ä»¥åœ¨è¿™è¾“å‡º Argument çš„å€¼...</span><br></pre></td></tr></table></figure><h3 id="ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸"><a href="#ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸"></a>ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸</h3><ul><li>é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„å¼‚å¸¸ç±»ï¼Œç¨‹åºå¯ä»¥å‘½åå®ƒä»¬è‡ªå·±çš„å¼‚å¸¸ã€‚å¼‚å¸¸åº”è¯¥æ˜¯å…¸å‹çš„ç»§æ‰¿è‡ª Exception ç±»ï¼Œé€šè¿‡ç›´æ¥æˆ–é—´æ¥çš„æ–¹å¼</li><li>ä»¥ä¸‹ä¸ºä¸ RuntimeError ç›¸å…³çš„å®ä¾‹,å®ä¾‹ä¸­åˆ›å»ºäº†ä¸€ä¸ªç±»ï¼ŒåŸºç±»ä¸º RuntimeErrorï¼Œç”¨äºåœ¨å¼‚å¸¸è§¦å‘æ—¶è¾“å‡ºæ›´å¤šçš„ä¿¡æ¯</li><li>åœ¨ try è¯­å¥å—ä¸­ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„å¼‚å¸¸åæ‰§è¡Œ except å—è¯­å¥ï¼Œå˜é‡ e æ˜¯ç”¨äºåˆ›å»º Networkerror ç±»çš„å®ä¾‹</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Networkerror</span>(<span class="title class_ inherited__">RuntimeError</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, arg</span>):</span><br><span class="line">        self.args = arg</span><br></pre></td></tr></table></figure><ul><li><strong>åœ¨ä½ å®šä¹‰ä»¥ä¸Šç±»åï¼Œä½ å¯ä»¥è§¦å‘è¯¥å¼‚å¸¸ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">raise</span> Networkerror(<span class="string">&quot;Bad hostname&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> Networkerror,e:</span><br><span class="line">    <span class="built_in">print</span> e.args</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">å¼‚å¸¸åç§°</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center">BaseException</td><td style="text-align:center">æ‰€æœ‰å¼‚å¸¸çš„åŸºç±»</td></tr><tr><td style="text-align:center">SystemExit</td><td style="text-align:center">è§£é‡Šå™¨è¯·æ±‚é€€å‡º</td></tr><tr><td style="text-align:center">KeyboardInterrupt</td><td style="text-align:center">ç”¨æˆ·ä¸­æ–­æ‰§è¡Œ(é€šå¸¸æ˜¯è¾“å…¥^C)</td></tr><tr><td style="text-align:center">Exception</td><td style="text-align:center">å¸¸è§„é”™è¯¯çš„åŸºç±»</td></tr><tr><td style="text-align:center">StopIteration</td><td style="text-align:center">è¿­ä»£å™¨æ²¡æœ‰æ›´å¤šçš„å€¼</td></tr><tr><td style="text-align:center">GeneratorExit</td><td style="text-align:center">ç”Ÿæˆå™¨(generator)å‘ç”Ÿå¼‚å¸¸æ¥é€šçŸ¥é€€å‡º</td></tr><tr><td style="text-align:center">StandardError</td><td style="text-align:center">æ‰€æœ‰çš„å†…å»ºæ ‡å‡†å¼‚å¸¸çš„åŸºç±»</td></tr><tr><td style="text-align:center">ArithmeticError</td><td style="text-align:center">æ‰€æœ‰æ•°å€¼è®¡ç®—é”™è¯¯çš„åŸºç±»</td></tr><tr><td style="text-align:center">FloatingPointError</td><td style="text-align:center">æµ®ç‚¹è®¡ç®—é”™è¯¯</td></tr><tr><td style="text-align:center">OverflowError</td><td style="text-align:center">æ•°å€¼è¿ç®—è¶…å‡ºæœ€å¤§é™åˆ¶</td></tr><tr><td style="text-align:center">ZeroDivisionError</td><td style="text-align:center">é™¤(æˆ–å–æ¨¡)é›¶ (æ‰€æœ‰æ•°æ®ç±»å‹)</td></tr><tr><td style="text-align:center">AssertionError</td><td style="text-align:center">æ–­è¨€è¯­å¥å¤±è´¥</td></tr><tr><td style="text-align:center">AttributeError</td><td style="text-align:center">å¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§</td></tr><tr><td style="text-align:center">EOFError</td><td style="text-align:center">æ²¡æœ‰å†…å»ºè¾“å…¥,åˆ°è¾¾ EOF æ ‡è®°</td></tr><tr><td style="text-align:center">EnvironmentError</td><td style="text-align:center">æ“ä½œç³»ç»Ÿé”™è¯¯çš„åŸºç±»</td></tr><tr><td style="text-align:center">IOError</td><td style="text-align:center">è¾“å…¥/è¾“å‡ºæ“ä½œå¤±è´¥</td></tr><tr><td style="text-align:center">OSError</td><td style="text-align:center">æ“ä½œç³»ç»Ÿé”™è¯¯</td></tr><tr><td style="text-align:center">WindowsError</td><td style="text-align:center">ç³»ç»Ÿè°ƒç”¨å¤±è´¥</td></tr><tr><td style="text-align:center">ImportError</td><td style="text-align:center">å¯¼å…¥æ¨¡å—/å¯¹è±¡å¤±è´¥</td></tr><tr><td style="text-align:center">LookupError</td><td style="text-align:center">æ— æ•ˆæ•°æ®æŸ¥è¯¢çš„åŸºç±»</td></tr><tr><td style="text-align:center">IndexError</td><td style="text-align:center">åºåˆ—ä¸­æ²¡æœ‰æ­¤ç´¢å¼•(index)</td></tr><tr><td style="text-align:center">KeyError</td><td style="text-align:center">æ˜ å°„ä¸­æ²¡æœ‰è¿™ä¸ªé”®</td></tr><tr><td style="text-align:center">MemoryError</td><td style="text-align:center">å†…å­˜æº¢å‡ºé”™è¯¯(å¯¹äº Python è§£é‡Šå™¨ä¸æ˜¯è‡´å‘½çš„)</td></tr><tr><td style="text-align:center">NameError</td><td style="text-align:center">æœªå£°æ˜/åˆå§‹åŒ–å¯¹è±¡ (æ²¡æœ‰å±æ€§)</td></tr><tr><td style="text-align:center">UnboundLocalError</td><td style="text-align:center">è®¿é—®æœªåˆå§‹åŒ–çš„æœ¬åœ°å˜é‡</td></tr><tr><td style="text-align:center">ReferenceError</td><td style="text-align:center">å¼±å¼•ç”¨(Weak reference)è¯•å›¾è®¿é—®å·²ç»åƒåœ¾å›æ”¶äº†çš„å¯¹è±¡</td></tr><tr><td style="text-align:center">RuntimeError</td><td style="text-align:center">ä¸€èˆ¬çš„è¿è¡Œæ—¶é”™è¯¯</td></tr><tr><td style="text-align:center">NotImplementedError</td><td style="text-align:center">å°šæœªå®ç°çš„æ–¹æ³•</td></tr><tr><td style="text-align:center">SyntaxError Python</td><td style="text-align:center">è¯­æ³•é”™è¯¯</td></tr><tr><td style="text-align:center">IndentationError</td><td style="text-align:center">ç¼©è¿›é”™è¯¯</td></tr><tr><td style="text-align:center">TabError Tab</td><td style="text-align:center">å’Œç©ºæ ¼æ··ç”¨</td></tr><tr><td style="text-align:center">SystemError</td><td style="text-align:center">ä¸€èˆ¬çš„è§£é‡Šå™¨ç³»ç»Ÿé”™è¯¯</td></tr><tr><td style="text-align:center">TypeError</td><td style="text-align:center">å¯¹ç±»å‹æ— æ•ˆçš„æ“ä½œ</td></tr><tr><td style="text-align:center">ValueError</td><td style="text-align:center">ä¼ å…¥æ— æ•ˆçš„å‚æ•°</td></tr><tr><td style="text-align:center">UnicodeError Unicode</td><td style="text-align:center">ç›¸å…³çš„é”™è¯¯</td></tr><tr><td style="text-align:center">UnicodeDecodeError Unicode</td><td style="text-align:center">è§£ç æ—¶çš„é”™è¯¯</td></tr><tr><td style="text-align:center">UnicodeEncodeError Unicode</td><td style="text-align:center">ç¼–ç æ—¶é”™è¯¯</td></tr><tr><td style="text-align:center">UnicodeTranslateError Unicode</td><td style="text-align:center">è½¬æ¢æ—¶é”™è¯¯</td></tr><tr><td style="text-align:center">Warning</td><td style="text-align:center">è­¦å‘Šçš„åŸºç±»</td></tr><tr><td style="text-align:center">DeprecationWarning</td><td style="text-align:center">å…³äºè¢«å¼ƒç”¨çš„ç‰¹å¾çš„è­¦å‘Š</td></tr><tr><td style="text-align:center">FutureWarning</td><td style="text-align:center">å…³äºæ„é€ å°†æ¥è¯­ä¹‰ä¼šæœ‰æ”¹å˜çš„è­¦å‘Š</td></tr><tr><td style="text-align:center">OverflowWarning</td><td style="text-align:center">æ—§çš„å…³äºè‡ªåŠ¨æå‡ä¸ºé•¿æ•´å‹(long)çš„è­¦å‘Š</td></tr><tr><td style="text-align:center">PendingDeprecationWarning</td><td style="text-align:center">å…³äºç‰¹æ€§å°†ä¼šè¢«åºŸå¼ƒçš„è­¦å‘Š</td></tr><tr><td style="text-align:center">RuntimeWarning</td><td style="text-align:center">å¯ç–‘çš„è¿è¡Œæ—¶è¡Œä¸º(runtime behavior)çš„è­¦å‘Š</td></tr><tr><td style="text-align:center">SyntaxWarning</td><td style="text-align:center">å¯ç–‘çš„è¯­æ³•çš„è­¦å‘Š</td></tr><tr><td style="text-align:center">UserWarning</td><td style="text-align:center">ç”¨æˆ·ä»£ç ç”Ÿæˆçš„è­¦å‘Š</td></tr></tbody></table></div><blockquote><p>å‚è€ƒ<a href="https://www.runoob.com/python/python-exceptions.html">æ•™ç¨‹</a></p></blockquote><h2 id="åŠ å‡ä¹˜é™¤"><a href="#åŠ å‡ä¹˜é™¤" class="headerlink" title="åŠ å‡ä¹˜é™¤"></a>åŠ å‡ä¹˜é™¤</h2><h3 id="python-ä¿ç•™å°æ•°ä½"><a href="#python-ä¿ç•™å°æ•°ä½" class="headerlink" title="python ä¿ç•™å°æ•°ä½"></a>python ä¿ç•™å°æ•°ä½</h3><p>ä¿ç•™ä¸¤ä½å°æ•° <code>a=2.32424</code><br><code>round(a,2)</code><br><code>&quot;%.2f&quot; %a</code><br><code>f&#39;&#123;a:.2f&#125;&#39;</code></p><h3 id="é™¤æ³•å’Œå–æ¨¡"><a href="#é™¤æ³•å’Œå–æ¨¡" class="headerlink" title="é™¤æ³•å’Œå–æ¨¡"></a>é™¤æ³•å’Œå–æ¨¡</h3><p>Pythonä¸­<br>// ï¼šåœ°æ¿é™¤ï¼Œå³å‘è´Ÿæ— ç©·å–æ•´</p><ul><li>8//3 ç»“æœä¸º2</li><li>-8//3 ç»“æœä¸º-3</li></ul><p>Pythonä¸­ï¼š% å–æ¨¡ï¼ˆmodulusï¼‰<strong>ä¸å–ä½™æ•°æœ‰å¾ˆå¤§åŒºåˆ«</strong></p><ul><li>-10%3 ç»“æœä¸º2</li><li>-90%8ç»“æœä¸º6</li></ul><p>C++ä¸­ï¼š% å–ä½™</p><ul><li>-10%3 ç»“æœä¸º-1</li><li>-90%8ç»“æœä¸º-2</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># å–æ¨¡ï¼ŒPythonä¸­å¯ç›´æ¥ç”¨%ï¼Œè®¡ç®—æ¨¡ï¼Œr = a % b</span><br><span class="line">def mod(a, b):    </span><br><span class="line">    c = a // b</span><br><span class="line">    r = a - c * b</span><br><span class="line">    return r</span><br><span class="line"> </span><br><span class="line"># å–ä½™ </span><br><span class="line">def rem(a, b):</span><br><span class="line">    c = int(a / b)</span><br><span class="line">    r = a - c * b</span><br><span class="line">    return r</span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²æ“ä½œ"><a href="#å­—ç¬¦ä¸²æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²æ“ä½œ"></a>å­—ç¬¦ä¸²æ“ä½œ</h2><ul><li><code>str.split()</code> å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡â€”è¿”å›ä¸€ä¸ªåˆ—è¡¨<ul><li>è¯­æ³•<code>str.split(str=&quot;&quot;, num=string.count(str)).</code><ul><li>strï¼šåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºæ‰€æœ‰çš„ç©ºå­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€æ¢è¡Œã€æŒ‡æ ‡</li><li>numï¼šåˆ†å‰²æ¬¡æ•°ï¼Œé»˜è®¤ä¸º-1ï¼Œå³åˆ†å‰²æ‰€æœ‰</li></ul></li></ul></li></ul><ul><li><code>str.find()</code> <strong>æ£€æµ‹å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«å­å­—ç¬¦ä¸² str</strong><ul><li>_å¦‚æœåŒ…å«å­å­—ç¬¦ä¸²è¿”å›å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›-1_</li></ul><ul><li>è¯­æ³•<code>str.find(str, beg=0, end=len(string))</code><ul><li>str â€” æŒ‡å®šæ£€ç´¢çš„å­—ç¬¦ä¸²</li><li>beg â€” å¼€å§‹ç´¢å¼•ï¼Œé»˜è®¤ä¸º 0</li><li>end â€” ç»“æŸç´¢å¼•ï¼Œé»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦</li></ul></li></ul></li></ul><ul><li><code>string.join()</code><ul><li>è¯­æ³• <code>&#39;sep&#39;.join(seq)</code>ä»¥ sep ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°† seq æ‰€æœ‰çš„å…ƒç´ åˆå¹¶æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² è¿”å›å€¼ï¼šè¿”å›ä¸€ä¸ªä»¥åˆ†éš”ç¬¦ sep è¿æ¥å„ä¸ªå…ƒç´ åç”Ÿæˆçš„å­—ç¬¦ä¸²<ul><li>sepï¼šåˆ†éš”ç¬¦ã€‚å¯ä»¥ä¸ºç©º</li><li>seqï¼šè¦è¿æ¥çš„å…ƒç´ åºåˆ—ã€å­—ç¬¦ä¸²ã€å…ƒç»„ã€å­—å…¸</li></ul></li></ul></li><li>ord() &amp; chr()<ul><li>ord()å°†å­—ç¬¦è½¬åŒ–ä¸ºasciiç </li><li>chr()å°†asciiç è½¬åŒ–ä¸ºå­—æ¯æˆ–å®é™…æ•°å­—</li></ul></li></ul><h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><h3 id="txtæ–‡ä»¶"><a href="#txtæ–‡ä»¶" class="headerlink" title="txtæ–‡ä»¶"></a>txtæ–‡ä»¶</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fd = <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)      <span class="comment">#utf-8 or GBK</span></span><br><span class="line">fd.write(content)</span><br><span class="line">fd.close()</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ content å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå˜é‡ï¼Œ\t â€¦â€¦</p><hr/><div class="table-container"><table><thead><tr><th style="text-align:center">r</th><th style="text-align:center">w</th><th style="text-align:center">a</th></tr></thead><tbody><tr><td style="text-align:center">åªè¯»</td><td style="text-align:center">è¦†ç›–å†™</td><td style="text-align:center">æ·»åŠ å†™</td></tr></tbody></table></div><h4 id="è¯»å–txtè¡Œ"><a href="#è¯»å–txtè¡Œ" class="headerlink" title="è¯»å–txtè¡Œ"></a>è¯»å–txtè¡Œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f.readlines()<span class="comment"># å…¨éƒ¨è¯»å–æœ€åè¿”å›ä¸€ä¸ªåˆ—è¡¨å­˜æ‰€æœ‰çš„ç±»,æ¯è¡Œåé¢éƒ½ä¼šå¸¦æœ‰â€œ\nâ€</span></span><br><span class="line">f.readline()<span class="comment"># è¯»å–ä¸€åˆ—æ•°æ®</span></span><br></pre></td></tr></table></figure><h3 id="csvæ–‡ä»¶"><a href="#csvæ–‡ä»¶" class="headerlink" title="csvæ–‡ä»¶"></a>csvæ–‡ä»¶</h3><h4 id="å†™å…¥åˆ—è¡¨"><a href="#å†™å…¥åˆ—è¡¨" class="headerlink" title="å†™å…¥åˆ—è¡¨"></a>å†™å…¥åˆ—è¡¨</h4><ul><li>headers :è¡¨å¤´</li><li>rows :å†…å®¹</li><li><code>f*csv = csv.writer(f)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\_f ä¸º open(&#39;file.txt&#39;,&#39;w&#39;,encoding=&#39;utf-8&#39;)*</code></li><li>f_csv.writerow(headers)</li><li>f_csv.writerows(rows)</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">headers = [<span class="string">&#x27;class&#x27;</span>,<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;height&#x27;</span>,<span class="string">&#x27;year&#x27;</span>]</span><br><span class="line"></span><br><span class="line">rows = [</span><br><span class="line">        [<span class="number">1</span>,<span class="string">&#x27;xiaoming&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">168</span>,<span class="number">23</span>],</span><br><span class="line">        [<span class="number">1</span>,<span class="string">&#x27;xiaohong&#x27;</span>,<span class="string">&#x27;female&#x27;</span>,<span class="number">162</span>,<span class="number">22</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="string">&#x27;xiaozhang&#x27;</span>,<span class="string">&#x27;female&#x27;</span>,<span class="number">163</span>,<span class="number">21</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="string">&#x27;xiaoli&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">158</span>,<span class="number">21</span>]</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.writer(f)</span><br><span class="line">    f_csv.writerow(headers)</span><br><span class="line">    f_csv.writerows(rows)</span><br></pre></td></tr></table></figure><p>_æ³¨æ„ï¼šå¦‚æœæ‰“å¼€ csv æ–‡ä»¶å‡ºç°ç©ºè¡Œçš„æƒ…å†µï¼Œé‚£ä¹ˆéœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•° newline=â€_<br><code>with open(&#39;test.csv&#39;,&#39;w&#39;,newline=&#39;&#39;)as f:</code></p><div class="table-container"><table><thead><tr><th style="text-align:center">class</th><th style="text-align:center">name</th><th style="text-align:center">sex</th><th style="text-align:center">height</th><th style="text-align:center">year</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">xiaoming</td><td style="text-align:center">male</td><td style="text-align:center">168</td><td style="text-align:center">23</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">xiaohong</td><td style="text-align:center">female</td><td style="text-align:center">162</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">xiaozhang</td><td style="text-align:center">female</td><td style="text-align:center">163</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">xiaoli</td><td style="text-align:center">male</td><td style="text-align:center">158</td><td style="text-align:center">21</td></tr></tbody></table></div><h4 id="å†™å…¥å­—å…¸"><a href="#å†™å…¥å­—å…¸" class="headerlink" title="å†™å…¥å­—å…¸"></a>å†™å…¥å­—å…¸</h4><ul><li>headers :è¡¨å¤´</li><li>rows :å†…å®¹</li><li>f_csv = DictWriter(f,headers)</li><li>f_csv.writeheader()</li><li>f_csv.writerows(rows)</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">headers = [<span class="string">&#x27;class&#x27;</span>,<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;height&#x27;</span>,<span class="string">&#x27;year&#x27;</span>]</span><br><span class="line"></span><br><span class="line">rows = [</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaoming&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">168</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">23</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaohong&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;female&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">162</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">22</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaozhang&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;female&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">163</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">21</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;class&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;xiaoli&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>:<span class="string">&#x27;male&#x27;</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">158</span>,<span class="string">&#x27;year&#x27;</span>:<span class="number">21</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test2.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.DictWriter(f,headers)</span><br><span class="line">    f_csv.writeheader()</span><br><span class="line">    f_csv.writerows(rows)</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:center">class</th><th style="text-align:center">name</th><th style="text-align:center">sex</th><th style="text-align:center">height</th><th style="text-align:center">year</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">xiaoming</td><td style="text-align:center">male</td><td style="text-align:center">168</td><td style="text-align:center">23</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">xiaohong</td><td style="text-align:center">female</td><td style="text-align:center">162</td><td style="text-align:center">22</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">xiaozhang</td><td style="text-align:center">female</td><td style="text-align:center">163</td><td style="text-align:center">21</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">xiaoli</td><td style="text-align:center">male</td><td style="text-align:center">158</td><td style="text-align:center">21</td></tr></tbody></table></div><h4 id="csvè¯»å–"><a href="#csvè¯»å–" class="headerlink" title="# csvè¯»å–"></a># csvè¯»å–</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.csv&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.reader(f)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_csv:</span><br><span class="line">        <span class="built_in">print</span>(row)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;result</span></span><br><span class="line"><span class="string">[&#x27;class&#x27;, &#x27;name&#x27;, &#x27;sex&#x27;, &#x27;height&#x27;, &#x27;year&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;1&#x27;, &#x27;xiaoming&#x27;, &#x27;male&#x27;, &#x27;168&#x27;, &#x27;23&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;1&#x27;, &#x27;xiaohong&#x27;, &#x27;female&#x27;, &#x27;162&#x27;, &#x27;22&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;2&#x27;, &#x27;xiaozhang&#x27;, &#x27;female&#x27;, &#x27;163&#x27;, &#x27;21&#x27;]</span></span><br><span class="line"><span class="string">[&#x27;2&#x27;, &#x27;xiaoli&#x27;, &#x27;male&#x27;, &#x27;158&#x27;, &#x27;21&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;test.csv&#x27;</span>)<span class="keyword">as</span> f:</span><br><span class="line">    f_csv = csv.reader(f)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> f_csv:</span><br><span class="line">        <span class="built_in">print</span>(row[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;result</span></span><br><span class="line"><span class="string">class</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒ<a href="https://blog.csdn.net/katyusha1/article/details/81606175" title="CSDN">ç½‘ç«™</a></p></blockquote><ul><li>with open () as è¯»å†™æ–‡ä»¶</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read())</span><br><span class="line"><span class="comment"># ä¸éœ€è°ƒç”¨f.close()</span></span><br><span class="line"><span class="comment"># å¦‚æœæ–‡ä»¶è¿‡å¤§åˆ™ç”¨read(size)æ¯”è¾ƒä¿é™©</span></span><br><span class="line"><span class="comment"># å¦‚æœæ–‡ä»¶æ˜¯é…ç½®æ–‡ä»¶readlines()è¾ƒä¸ºæ–¹ä¾¿</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&#x27;Hello World !&#x27;</span>)</span><br><span class="line"><span class="comment"># æ–‡æœ¬æ–‡ä»¶    encoding å­—ç¬¦ç¼–ç ï¼šgbkï¼Œutf-8</span></span><br><span class="line"><span class="comment"># äºŒè¿›åˆ¶æ–‡ä»¶  rbæ¨¡å¼è¯»å–:å›¾ç‰‡,è§†é¢‘</span></span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒ<a href="https://blog.csdn.net/xrinosvip/article/details/82019844" title="CSDN">ç½‘ç«™</a></p></blockquote><h3 id="osæ–‡ä»¶å¤¹"><a href="#osæ–‡ä»¶å¤¹" class="headerlink" title="osæ–‡ä»¶å¤¹"></a>osæ–‡ä»¶å¤¹</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">main_path = <span class="string">&#x27;E:/os/&#x27;</span>    <span class="comment">#åˆ›å»ºä¸€ä¸ªè·¯å¾„</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(main_path):   <span class="comment">#å¦‚æœè¯¥è·¯å¾„ä¸å­˜åœ¨</span></span><br><span class="line">    os.makedirs(main_path)  <span class="comment">#åˆ™æ–°å»ºä¸€ä¸ªè·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…ç›´æ¥</span></span><br><span class="line">os.makedirs(path, exist_ok=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><ul><li>åˆ é™¤æ–‡ä»¶: <code>os.remove(path)</code></li><li>è·å–ç»å¯¹è·¯å¾„: <code>os.path.abspath</code></li><li>è·¯å¾„æ‹¼æ¥ï¼š<code>os.path.join()</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(os.path.abspath(&#x27;.&#x27;))</span><br><span class="line"></span><br><span class="line">è¿è¡ŒPS E:\BaiduSyncdisk\NeRF_Proj\NeRO&gt; &amp; F:/miniconda/envs/nero/python.exe e:/BaiduSyncdisk/NeRF_Proj/NeRO/blender_backend/relight_backend.py</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼šE:\BaiduSyncdisk\NeRF_Proj\NeRO</span><br></pre></td></tr></table></figure><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><blockquote><p><a href="https://blog.csdn.net/qq_39478403/article/details/105746952">ã€Pythonã€‘è¯¦è§£ collections.defaultdict-CSDNåšå®¢</a></p></blockquote><p><strong>collections</strong> ä½œä¸º Python çš„å†…å»ºé›†åˆæ¨¡å—ï¼Œå®ç°äº†è®¸å¤šååˆ†é«˜æ•ˆçš„ç‰¹æ®Šå®¹å™¨æ•°æ®ç±»å‹ï¼Œå³é™¤äº† Python é€šç”¨å†…ç½®å®¹å™¨ï¼š dictã€listã€set å’Œ tuple ç­‰çš„æ›¿ä»£æ–¹æ¡ˆ</p><h1 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h1><blockquote><p><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017451662295584">è£…é¥°å™¨ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)</a></p></blockquote><p>egï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def metric(fn):</span><br><span class="line">    # print(&#x27;%s executed in %s ms&#x27; % (fn.__name__, 10.24))</span><br><span class="line">    @functools.wraps(fn)</span><br><span class="line">    def wrapper(*args, **kw):</span><br><span class="line">        start = time.time()</span><br><span class="line">        res = fn(*args, **kw)</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(&#x27;&#123;:s&#125; executed in &#123;:5f&#125; ms, &#x27; &#x27;and the result is &#123;:d&#125;&#x27;.format(fn.__name__, (end - start), res))</span><br><span class="line">        return fn(*args, **kw)</span><br><span class="line">    return wrapper</span><br><span class="line"></span><br><span class="line"># æµ‹è¯•</span><br><span class="line">@metric</span><br><span class="line">def fast(x, y):</span><br><span class="line">    time.sleep(0.0012)</span><br><span class="line">    return x + y;</span><br><span class="line"></span><br><span class="line">@metric</span><br><span class="line">def slow(x, y, z):</span><br><span class="line">    time.sleep(0.1234)</span><br><span class="line">    return x * y * z;</span><br><span class="line"></span><br><span class="line">f = fast(11, 22)</span><br><span class="line">s = slow(11, 22, 33)</span><br><span class="line">if f != 33:</span><br><span class="line">    print(&#x27;æµ‹è¯•å¤±è´¥!&#x27;)</span><br><span class="line">elif s != 7986:</span><br><span class="line">    print(&#x27;æµ‹è¯•å¤±è´¥!&#x27;)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">print(fast.__name__)</span><br><span class="line">å¦‚æœæœ‰@functools.wraps(fn)ï¼Œåˆ™è¿”å›fast</span><br><span class="line">å¦‚æœæ²¡æœ‰@functools.wraps(fn)ï¼Œåˆ™è¿”å›wrapper</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">print(fast.__name__)</span><br><span class="line"></span><br><span class="line">output: </span><br><span class="line">fast executed in 0.013472 ms, and the result is 33</span><br><span class="line">slow executed in 0.124733 ms, and the result is 7986</span><br><span class="line">fast</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def log(func):</span><br><span class="line">    def wrapper(*args, **kw):</span><br><span class="line">        print(&#x27;call %s():&#x27; % func.__name__)</span><br><span class="line">        return func(*args, **kw)</span><br><span class="line">    return wrapper</span><br><span class="line"></span><br><span class="line">@log</span><br><span class="line">def now():</span><br><span class="line">    print(&#x27;2015-3-25&#x27;)</span><br><span class="line"></span><br><span class="line">æ‰§è¡Œï¼šnow()</span><br><span class="line">output:</span><br><span class="line">call now():</span><br><span class="line">2015-3-25</span><br></pre></td></tr></table></figure><p>æŠŠ<code>@log</code>æ”¾åˆ°<code>now()</code>å‡½æ•°çš„å®šä¹‰å¤„ï¼Œç›¸å½“äºæ‰§è¡Œäº†è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">now = log(now)</span><br></pre></td></tr></table></figure><p>ç”±äºlog()æ˜¯ä¸€ä¸ªdecoratorï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ï¼ŒåŸæ¥çš„now()å‡½æ•°ä»ç„¶å­˜åœ¨ï¼Œåªæ˜¯ç°åœ¨åŒåçš„nowå˜é‡æŒ‡å‘äº†æ–°çš„å‡½æ•°ï¼Œäºæ˜¯è°ƒç”¨now()å°†æ‰§è¡Œæ–°å‡½æ•°ï¼Œå³åœ¨log()å‡½æ•°ä¸­è¿”å›çš„wrapper()å‡½æ•°ã€‚</p><h2 id="è£…é¥°å™¨éœ€è¦å‚æ•°"><a href="#è£…é¥°å™¨éœ€è¦å‚æ•°" class="headerlink" title="è£…é¥°å™¨éœ€è¦å‚æ•°"></a>è£…é¥°å™¨éœ€è¦å‚æ•°</h2><p>å¦‚æœdecoratoræœ¬èº«éœ€è¦ä¼ å…¥å‚æ•°ï¼Œé‚£å°±éœ€è¦ç¼–å†™ä¸€ä¸ªè¿”å›decoratorçš„é«˜é˜¶å‡½æ•°ï¼Œå†™å‡ºæ¥ä¼šæ›´å¤æ‚ã€‚æ¯”å¦‚ï¼Œè¦è‡ªå®šä¹‰logçš„æ–‡æœ¬ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def log(text):</span><br><span class="line">    def decorator(func):</span><br><span class="line">        def wrapper(*args, **kw):</span><br><span class="line">            print(&#x27;%s %s():&#x27; % (text, func.__name__))</span><br><span class="line">            return func(*args, **kw)</span><br><span class="line">        return wrapper</span><br><span class="line">    return decorator</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª3å±‚åµŒå¥—çš„decoratorç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@log(&#x27;execute&#x27;)</span><br><span class="line">def now():</span><br><span class="line">    print(&#x27;2015-3-25&#x27;)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; now()</span><br><span class="line">execute now():</span><br><span class="line">2015-3-25</span><br></pre></td></tr></table></figure><p>å’Œä¸¤å±‚åµŒå¥—çš„decoratorç›¸æ¯”ï¼Œ3å±‚åµŒå¥—çš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; now = log(&#x27;execute&#x27;)(now)</span><br></pre></td></tr></table></figure><h2 id="åŸå§‹å‡½æ•°å±æ€§å¤åˆ¶åˆ°è£…é¥°åçš„å‡½æ•°ä¸­"><a href="#åŸå§‹å‡½æ•°å±æ€§å¤åˆ¶åˆ°è£…é¥°åçš„å‡½æ•°ä¸­" class="headerlink" title="åŸå§‹å‡½æ•°å±æ€§å¤åˆ¶åˆ°è£…é¥°åçš„å‡½æ•°ä¸­"></a>åŸå§‹å‡½æ•°å±æ€§å¤åˆ¶åˆ°è£…é¥°åçš„å‡½æ•°ä¸­</h2><p>ä»¥ä¸Šä¸¤ç§decoratorçš„å®šä¹‰éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†è¿˜å·®æœ€åä¸€æ­¥ã€‚å› ä¸ºæˆ‘ä»¬è®²äº†å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒæœ‰<code>__name__</code>ç­‰å±æ€§ï¼Œä½†ä½ å»çœ‹ç»è¿‡decoratorè£…é¥°ä¹‹åçš„å‡½æ•°ï¼Œå®ƒä»¬çš„<code>__name__</code>å·²ç»ä»åŸæ¥çš„<code>&#39;now&#39;</code>å˜æˆäº†<code>&#39;wrapper&#39;</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; now.__name__</span><br><span class="line">&#x27;wrapper&#x27;</span><br></pre></td></tr></table></figure><p>å› ä¸ºè¿”å›çš„é‚£ä¸ª<code>wrapper()</code>å‡½æ•°åå­—å°±æ˜¯<code>&#39;wrapper&#39;</code>ï¼Œæ‰€ä»¥ï¼Œéœ€è¦æŠŠåŸå§‹å‡½æ•°çš„<code>__name__</code>ç­‰å±æ€§å¤åˆ¶åˆ°<code>wrapper()</code>å‡½æ•°ä¸­ï¼Œå¦åˆ™ï¼Œæœ‰äº›ä¾èµ–å‡½æ•°ç­¾åçš„ä»£ç æ‰§è¡Œå°±ä¼šå‡ºé”™ã€‚</p><p>ä¸éœ€è¦ç¼–å†™<code>wrapper.__name__ = func.__name__</code>è¿™æ ·çš„ä»£ç ï¼ŒPythonå†…ç½®çš„<code>functools.wraps</code>å°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ï¼Œæ‰€ä»¥ï¼Œä¸€ä¸ªå®Œæ•´çš„decoratorçš„å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def log(func):</span><br><span class="line">    @functools.wraps(func)</span><br><span class="line">    def wrapper(*args, **kw):</span><br><span class="line">        print(&#x27;call %s():&#x27; % func.__name__)</span><br><span class="line">        return func(*args, **kw)</span><br><span class="line">    return wrapper</span><br></pre></td></tr></table></figure><p>æˆ–è€…é’ˆå¯¹å¸¦å‚æ•°çš„decoratorï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import functools</span><br><span class="line"></span><br><span class="line">def log(text):</span><br><span class="line">    def decorator(func):</span><br><span class="line">        @functools.wraps(func)</span><br><span class="line">        def wrapper(*args, **kw):</span><br><span class="line">            print(&#x27;%s %s():&#x27; % (text, func.__name__))</span><br><span class="line">            return func(*args, **kw)</span><br><span class="line">        return wrapper</span><br><span class="line">    return decorator</span><br></pre></td></tr></table></figure><p><code>import functools</code>æ˜¯å¯¼å…¥<code>functools</code>æ¨¡å—ã€‚æ¨¡å—çš„æ¦‚å¿µç¨å€™è®²è§£ã€‚ç°åœ¨ï¼Œåªéœ€è®°ä½åœ¨å®šä¹‰<code>wrapper()</code>çš„å‰é¢åŠ ä¸Š<code>@functools.wraps(func)</code>å³å¯ã€‚</p><h2 id="ç±»çš„å®šä¹‰å’Œå®ä¾‹åˆ›å»º"><a href="#ç±»çš„å®šä¹‰å’Œå®ä¾‹åˆ›å»º" class="headerlink" title="ç±»çš„å®šä¹‰å’Œå®ä¾‹åˆ›å»º"></a>ç±»çš„å®šä¹‰å’Œå®ä¾‹åˆ›å»º</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ç±»ï¼Œç±»åä¸ºCname</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºcname1å®ä¾‹</span></span><br><span class="line">cname1 = Cname()</span><br></pre></td></tr></table></figure><h2 id="ç±»ä¸­çš„å®ä¾‹å±æ€§ä¸ç±»å±æ€§"><a href="#ç±»ä¸­çš„å®ä¾‹å±æ€§ä¸ç±»å±æ€§" class="headerlink" title="ç±»ä¸­çš„å®ä¾‹å±æ€§ä¸ç±»å±æ€§"></a>ç±»ä¸­çš„å®ä¾‹å±æ€§ä¸ç±»å±æ€§</h2><ul><li>å®ä¾‹å±æ€§ï¼šç”¨äºåŒºåˆ†ä¸åŒçš„å®ä¾‹ï¼Œä¸åŒçš„ç±»æœ‰ä¸åŒçš„å®ä¾‹å±æ€§</li><li>ç±»å±æ€§ï¼šæ˜¯æ¯ä¸ªå®ä¾‹å…±æœ‰çš„å±æ€§ï¼Œæ¯ä¸ªå®ä¾‹å…±æœ‰çš„å±æ€§</li></ul><p>å®ä¾‹å±æ€§ï¼Œæ¯ä¸ªå®ä¾‹æœ‰å„è‡ªçš„å±æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®ä¾‹å±æ€§ï¼ˆå¤æ‚ï¼‰</span></span><br><span class="line">cname1.name = y</span><br><span class="line">cname2.name = q</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹å±æ€§ï¼ˆç»Ÿä¸€æ·»åŠ ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):  <span class="comment"># åˆå§‹åŒ–ä¸€ä¸ªå±æ€§r</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">cname1 = Cname(y)</span><br><span class="line"><span class="built_in">print</span>(cname1.name)</span><br></pre></td></tr></table></figure><p>ç±»çš„å±æ€§ç»‘å®šåï¼Œæ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥è®¿é—®ï¼Œè€Œä¸”<strong>å®ä¾‹è®¿é—®çš„ç±»å±æ€§éƒ½ç›¸åŒ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    zhongz = <span class="string">&#x27;people&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">cname1 = Cname(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">cname2 = Cname(<span class="string">&#x27;q&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># people</span></span><br><span class="line"><span class="built_in">print</span>(cname2.zhongz)    <span class="comment"># people</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡ç±»åä¿®æ”¹äº†ç±»å±æ€§å</span></span><br><span class="line">Cname.zhongz = <span class="string">&#x27;tenshi&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># tenshi</span></span><br><span class="line"><span class="built_in">print</span>(cname2.zhongz)    <span class="comment"># tenshi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡å®ä¾‹åä¿®æ”¹äº†ç±»å±æ€§</span></span><br><span class="line">cname1.zhongz = <span class="string">&#x27;mea&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># mea</span></span><br><span class="line"><span class="built_in">print</span>(cname2.zhongz)    <span class="comment"># tenshi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤äº†cname1çš„ç±»å±æ€§zhongzå</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># mea</span></span><br><span class="line"><span class="keyword">del</span> cname1.zhongz</span><br><span class="line"><span class="built_in">print</span>(cname1.zhongz)    <span class="comment"># tenshi</span></span><br></pre></td></tr></table></figure><p><strong>è¦ä¿®æ”¹ç±»å±æ€§ï¼Œä¸è¦å†å®ä¾‹ä¸Šä¿®æ”¹ï¼Œè€Œæ˜¯åœ¨ç±»åä¸Šä¿®æ”¹</strong></p><h2 id="ç±»çš„å®ä¾‹æ–¹æ³•"><a href="#ç±»çš„å®ä¾‹æ–¹æ³•" class="headerlink" title="ç±»çš„å®ä¾‹æ–¹æ³•"></a>ç±»çš„å®ä¾‹æ–¹æ³•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    zhongz = <span class="string">&#x27;people&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printname</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name) <span class="comment"># æ‰“å°åå­—</span></span><br><span class="line"></span><br><span class="line">cname1 = Cname(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">cname2 = Cname(<span class="string">&#x27;q&#x27;</span>)</span><br><span class="line">cname1.printname()  <span class="comment"># y</span></span><br><span class="line">cname2.printname()  <span class="comment"># q</span></span><br></pre></td></tr></table></figure><p><code>printname(self)</code>å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æ–¹æ³•</p><h2 id="ç±»ä¸­çš„è®¿é—®é™åˆ¶"><a href="#ç±»ä¸­çš„è®¿é—®é™åˆ¶" class="headerlink" title="ç±»ä¸­çš„è®¿é—®é™åˆ¶"></a>ç±»ä¸­çš„è®¿é—®é™åˆ¶</h2><h3 id="å±æ€§çš„è®¿é—®é™åˆ¶"><a href="#å±æ€§çš„è®¿é—®é™åˆ¶" class="headerlink" title="å±æ€§çš„è®¿é—®é™åˆ¶"></a>å±æ€§çš„è®¿é—®é™åˆ¶</h3><p>pythonçš„ç±»ä¸­çš„å±æ€§ï¼Œå¦‚æœæœ‰äº›å±æ€§ä¸å¸Œæœ›è¢«å¤–éƒ¨è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥å±æ€§å‘½åæ—¶ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ <code>__</code>ï¼Œå¦‚ <code>__age</code></p><blockquote><p>ä½†ï¼Œå¦‚æœä¸€ä¸ªå±æ€§ä»¥â€__xxx__â€œçš„å½¢å¼å®šä¹‰ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥è¢«å¤–éƒ¨è®¿é—®ã€‚ä»¥â€__xxx__â€œå®šä¹‰çš„å±æ€§åœ¨Pythonçš„ç±»ä¸­è¢«ç§°ä¸ºç‰¹æ®Šå±æ€§ï¼Œæœ‰å¾ˆå¤šé¢„å®šä¹‰çš„ç‰¹æ®Šå±æ€§æ˜¯ä»¥â€œ__xxx__â€å®šä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸è¦æŠŠæ™®é€šå±æ€§ç”¨â€__xxx__â€œå®šä¹‰ã€‚</p><p><strong>åŠ åŒä¸‹åˆ’çº¿__xx çš„å±æ€§ï¼Œå¯ä»¥é€šè¿‡â€œ _ç±»å__xx â€å¯ä»¥è®¿é—®åˆ°å±æ€§çš„å€¼ å¦‚<code>Cname._Cname__age</code></strong></p></blockquote><h3 id="æ–¹æ³•çš„è®¿é—®é™åˆ¶"><a href="#æ–¹æ³•çš„è®¿é—®é™åˆ¶" class="headerlink" title="æ–¹æ³•çš„è®¿é—®é™åˆ¶"></a>æ–¹æ³•çš„è®¿é—®é™åˆ¶</h3><p>åŒä¸‹åˆ’çº¿ï¼Œå¦‚<code>def __printage():</code></p><ul><li>æ­¤æ—¶ï¼Œè¯¥æ–¹æ³•åªèƒ½åœ¨ç±»çš„å†…éƒ¨ä½¿ç”¨ï¼Œè€Œæ— æ³•è¢«å¤–éƒ¨è°ƒç”¨</li></ul><p>å•ä¸‹åˆ’çº¿ï¼Œä¸èƒ½é€šè¿‡ from module import * è¿™ç§æ–¹å¼å¯¼å…¥ï¼Œå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼ï¼š</p><ul><li>import A</li><li><code>b = A._B()</code></li></ul><h2 id="ç±»ä¸­çš„è£…é¥°æ–¹æ³•"><a href="#ç±»ä¸­çš„è£…é¥°æ–¹æ³•" class="headerlink" title="ç±»ä¸­çš„è£…é¥°æ–¹æ³•"></a>ç±»ä¸­çš„è£…é¥°æ–¹æ³•</h2><ul><li><code>@classmethod</code>    ç”¨æ¥ä¿®é¥°ç±»æ–¹æ³•ã€‚ä½¿ç”¨åœ¨ä¸ç±»è¿›è¡Œäº¤äº’ï¼Œä½†ä¸å’Œå…¶å®ä¾‹è¿›è¡Œäº¤äº’çš„å‡½æ•°æ–¹æ³•ä¸Š</li><li><code>@staticmethod</code>   ç”¨æ¥ä¿®é¥°é™æ€æ–¹æ³•ã€‚ä½¿ç”¨åœ¨æœ‰äº›ä¸ç±»ç›¸å…³å‡½æ•°ï¼Œä½†ä¸ä½¿ç”¨è¯¥ç±»æˆ–è¯¥ç±»çš„å®ä¾‹ã€‚å¦‚æ›´æ”¹ç¯å¢ƒå˜é‡ã€ä¿®æ”¹å…¶ä»–ç±»çš„å±æ€§ç­‰</li></ul><p><em>classmethodå¿…é¡»ä½¿ç”¨ç±»çš„å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œstaticmethodåˆ™å¯ä»¥ä¸ä¼ é€’ä»»ä½•å‚æ•°</em></p><h3 id="classmethod-ä¿®é¥°æ–¹æ³•â€”â€”ç±»æ–¹æ³•"><a href="#classmethod-ä¿®é¥°æ–¹æ³•â€”â€”ç±»æ–¹æ³•" class="headerlink" title="@classmethod ä¿®é¥°æ–¹æ³•â€”â€”ç±»æ–¹æ³•"></a>@classmethod ä¿®é¥°æ–¹æ³•â€”â€”ç±»æ–¹æ³•</h3><p>ç±»æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸ç”¨é€šè¿‡å®ä¾‹åŒ–ç±»å°±èƒ½è®¿é—®çš„æ–¹æ³•ã€‚è€Œä¸”@classmethod è£…é¥°çš„æ–¹æ³•ä¸èƒ½ä½¿ç”¨å®ä¾‹å±æ€§ï¼Œåªèƒ½æ˜¯ç±»å±æ€§ã€‚å®ƒä¸»è¦ä½¿ç”¨åœ¨å’Œç±»è¿›è¡Œäº¤äº’ï¼Œä½†ä¸å’Œå…¶å®ä¾‹è¿›è¡Œäº¤äº’çš„å‡½æ•°æ–¹æ³•ä¸Šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cname</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    zhongz = <span class="string">&#x27;people&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printname</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name)</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">printwe</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="built_in">print</span>(cls.zhongz)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cname.printname()   # æ²¡æœ‰å®ä¾‹åŒ– ï¼Œä¼šå‘ç”Ÿé”™è¯¯</span></span><br><span class="line">Cname.printwe()     <span class="comment"># æ²¡æœ‰å®ä¾‹åŒ–ä¹Ÿå¯ä»¥è®¿é—®</span></span><br></pre></td></tr></table></figure><blockquote><p>printwe(cls)ä¸­clsè¡¨ç¤ºçš„æ˜¯ç±»ï¼Œå®ƒå’Œselfç±»å®ä¾‹æœ‰ä¸€å®šçš„å·®åˆ«ã€‚ç±»æ–¹æ³•ä¸­éƒ½æ˜¯ä½¿ç”¨clsï¼Œå®ä¾‹æ–¹æ³•ä¸­ä½¿ç”¨self</p></blockquote><h3 id="staticmethod-ä¿®é¥°æ–¹æ³•â€”â€”é™æ€æ–¹æ³•"><a href="#staticmethod-ä¿®é¥°æ–¹æ³•â€”â€”é™æ€æ–¹æ³•" class="headerlink" title="@staticmethod ä¿®é¥°æ–¹æ³•â€”â€”é™æ€æ–¹æ³•"></a>@staticmethod ä¿®é¥°æ–¹æ³•â€”â€”é™æ€æ–¹æ³•</h3><p><code>@staticmethod</code> ä¸å¼ºåˆ¶è¦æ±‚ä¼ é€’å‚æ•°ï¼ˆå®ƒåšçš„äº‹ä¸ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•ä¸€æ ·ï¼‰<br><code>@staticmethod</code> ä½¿ç”¨åœ¨æœ‰äº›å’Œç±»ç›¸å…³å‡½æ•°ï¼Œä½†ä¸ä½¿ç”¨è¯¥ç±»æˆ–è€…è¯¥ç±»çš„å®ä¾‹ã€‚å¦‚æ›´æ”¹ç¯å¢ƒå˜é‡ã€ä¿®æ”¹å…¶ä»–ç±»çš„å±æ€§ç­‰<br><code>@staticmethod</code> ä¿®é¥°çš„æ–¹æ³•æ˜¯æ”¾åœ¨ç±»å¤–çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿å°†ä»–ç§»åŠ¨åˆ°äº†ç±»é‡Œé¢ï¼Œå®ƒå¯¹ç±»çš„è¿è¡Œæ— å½±å“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   day = <span class="number">0</span></span><br><span class="line">   month = <span class="number">0</span></span><br><span class="line">   year = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, year=<span class="number">0</span>, month=<span class="number">0</span>, day=<span class="number">0</span></span>):</span><br><span class="line">       self.day = day</span><br><span class="line">       self.month = month</span><br><span class="line">       self.year = year</span><br><span class="line"></span><br><span class="line"><span class="meta">   @classmethod</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">from_string</span>(<span class="params">cls, date_as_string</span>):</span><br><span class="line">       year, month, day = date_as_string.split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">       date = cls(year, month, day)</span><br><span class="line">       <span class="keyword">return</span> date</span><br><span class="line">    <span class="comment"># è¿”å›çš„æ˜¯ç±»çš„å®ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="meta">   @staticmethod</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">is_date_valid</span>(<span class="params">date_as_string</span>):</span><br><span class="line">       <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">      ç”¨æ¥æ ¡éªŒæ—¥æœŸçš„æ ¼å¼æ˜¯å¦æ­£ç¡®</span></span><br><span class="line"><span class="string">       &quot;&quot;&quot;</span></span><br><span class="line">       year, month, day = date_as_string.split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">int</span>(year) &lt;= <span class="number">3999</span> <span class="keyword">and</span> <span class="built_in">int</span>(month) &lt;= <span class="number">12</span> <span class="keyword">and</span> <span class="built_in">int</span>(day) &lt;= <span class="number">31</span></span><br><span class="line"></span><br><span class="line">date1 = Date.from_string(<span class="string">&#x27;2012-05-10&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.year, date1.month, date1.day)</span><br><span class="line">is_date = Date.is_date_valid(<span class="string">&#x27;2012-09-18&#x27;</span>) <span class="comment"># æ ¼å¼æ­£ç¡® è¿”å›True</span></span><br></pre></td></tr></table></figure><p>is_date_valid(date_as_string) åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå®ƒçš„è¿è¡Œä¸ä¼šå½±å“ç±»çš„å±æ€§</p><blockquote><p>@staticmethodä¿®é¥°æ–¹æ³• is_date_valid(date_as_string)ä¸­æ— å®ä¾‹åŒ–å‚æ•°selfæˆ–è€…clsï¼›è€Œ@classmethodä¿®é¥°çš„æ–¹æ³•ä¸­æœ‰from_string(cls, date_as_string) ç±»å‚æ•°cls</p></blockquote><h2 id="pythonä¸­çš„propertyçš„ä½¿ç”¨"><a href="#pythonä¸­çš„propertyçš„ä½¿ç”¨" class="headerlink" title="pythonä¸­çš„propertyçš„ä½¿ç”¨"></a>pythonä¸­çš„propertyçš„ä½¿ç”¨</h2><p>propertyçš„ä½œç”¨</p><ul><li>ä½œä¸ºè£…é¥°å™¨ @propertyå°†ç±»æ–¹æ³•è½¬æ¢ä¸ºç±»å±æ€§ï¼ˆåªè¯»ï¼‰</li><li>propertyé‡æ–°å®ç°ä¸€ä¸ªå±æ€§çš„setterå’Œgetteræ–¹æ³•</li></ul><h3 id="propertyå°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§"><a href="#propertyå°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§" class="headerlink" title="@propertyå°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§"></a>@propertyå°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§</h3><p>ç»å¸¸ä½¿ç”¨ï¼Œå°†ç±»çš„å±æ€§è®¾ç½®ä¸ºä¸å¯ä¿®æ”¹</p><p>å°†ä¸€ä¸ªç±»æ–¹æ³•è½¬å˜æˆä¸€ä¸ªç±»å±æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   __pi = <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, r</span>):</span><br><span class="line">       self.r = r</span><br><span class="line"></span><br><span class="line"><span class="meta">   @property</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">pi</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self.__pi</span><br><span class="line"></span><br><span class="line">circle1 = Circle(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(circle1.pi)</span><br><span class="line">circle1.pi=<span class="number">3.14159</span>  <span class="comment"># å‡ºç°AttributeErrorå¼‚å¸¸</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºå®ä¾‹åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨circle1.pi è‡ªå·±è·å–æ–¹æ³•çš„è¿”å›å€¼ï¼Œè€Œä¸”ä»–åªèƒ½è¯»ä¸èƒ½ä¿®æ”¹</p><h3 id="propertyé‡æ–°å®ç°setterå’Œgetteræ–¹æ³•"><a href="#propertyé‡æ–°å®ç°setterå’Œgetteræ–¹æ³•" class="headerlink" title="propertyé‡æ–°å®ç°setterå’Œgetteræ–¹æ³•"></a>propertyé‡æ–°å®ç°setterå’Œgetteræ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   __pi = <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, r</span>):</span><br><span class="line">       self.r = r</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">get_pi</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self.__pi</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">set_pi</span>(<span class="params">self, pi</span>):</span><br><span class="line">       Circle.__pi = pi</span><br><span class="line"></span><br><span class="line">   pi = <span class="built_in">property</span>(get_pi, set_pi)</span><br><span class="line"></span><br><span class="line">circle1 = Circle(<span class="number">2</span>)</span><br><span class="line">circle1.pi = <span class="number">3.14</span>  <span class="comment"># è®¾ç½® piçš„å€¼</span></span><br><span class="line"><span class="built_in">print</span>(circle1.pi)  <span class="comment"># è®¿é—® piçš„å€¼</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å±æ€§å‡½æ•°æ—¶ï¼Œå®ƒå…è®¸piå±æ€§è®¾ç½®å¹¶è·å–å€¼æœ¬èº«è€Œä¸ç ´ååŸæœ‰ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   __pi = <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, r</span>):</span><br><span class="line">       self.r = r</span><br><span class="line"></span><br><span class="line"><span class="meta">   @property</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">pi</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="keyword">return</span> self.__pi</span><br><span class="line"></span><br><span class="line"><span class="meta">   @pi.setter</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">pi</span>(<span class="params">self, pi</span>):</span><br><span class="line">       Circle.__pi = pi</span><br><span class="line"></span><br><span class="line">circle1 = Circle(<span class="number">2</span>)</span><br><span class="line">circle1.pi = <span class="number">3.14</span>  <span class="comment"># è®¾ç½® piçš„å€¼</span></span><br><span class="line"><span class="built_in">print</span>(circle1.pi)  <span class="comment"># è®¿é—® piçš„å€¼</span></span><br></pre></td></tr></table></figure><p>æŠŠä¸€ä¸ªgetteræ–¹æ³•å˜æˆå±æ€§ï¼Œåªéœ€è¦åŠ ä¸Š@propertyå°±å¯ä»¥äº†ï¼Œå¦‚ä¸Šæ­¤æ—¶pi(self)æ–¹æ³•ï¼Œ@propertyæœ¬èº«åˆåˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨@pi.setterï¼Œè´Ÿè´£æŠŠä¸€ä¸ªsetteræ–¹æ³•å˜æˆå±æ€§èµ‹å€¼ï¼Œäºæ˜¯ï¼Œå°†@pi.setteråŠ åˆ°pi(self, pi)ä¸Šï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰ä¸€ä¸ªå¯æ§çš„å±æ€§æ“ä½œ</p><blockquote><p>å‚è€ƒ<a href="https://www.zhihu.com/people/lyzf">çŸ¥ä¹å¤§ä½¬</a>çš„<a href="https://zhuanlan.zhihu.com/p/30223570">æ•™ç¨‹</a><br>æ„Ÿè°¢å¤§ä½¬è®©æˆ‘ææ‡‚äº†pythonçš„ç±»ï¼Œè™½ç„¶æœ€åçš„ä¸å¤ªæ‡‚ï¼Œä½†æ˜¯åŸºç¡€æ˜¯æ‡‚äº†</p></blockquote><h2 id="ç±»çš„ç»§æ‰¿"><a href="#ç±»çš„ç»§æ‰¿" class="headerlink" title="ç±»çš„ç»§æ‰¿"></a>ç±»çš„ç»§æ‰¿</h2><h3 id="ç±»çš„ç»§æ‰¿-1"><a href="#ç±»çš„ç»§æ‰¿-1" class="headerlink" title="ç±»çš„ç»§æ‰¿"></a>ç±»çš„ç»§æ‰¿</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):  <span class="comment">#  python3ä¸­æ‰€æœ‰ç±»éƒ½å¯ä»¥ç»§æ‰¿äºobjectåŸºç±»</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">       self.name = name</span><br><span class="line">       self.age = age</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;ä¼šå«&#x27;</span>)</span><br><span class="line"><span class="comment"># ç°åœ¨æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªCatçŒ«ç±»ç»§æ‰¿äºAnimalï¼ŒçŒ«ç±»æ¯”åŠ¨ç‰©ç±»å¤šä¸€ä¸ªsexå±æ€§ã€‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age,sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Cat, self).__init__(name,age)  <span class="comment"># ä¸è¦å¿˜è®°ä»Animalç±»å¼•å…¥å±æ€§</span></span><br><span class="line">       self.sex=sex</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:  <span class="comment"># å•æ¨¡å—è¢«å¼•ç”¨æ—¶ä¸‹é¢ä»£ç ä¸ä¼šå—å½±å“ï¼Œç”¨äºè°ƒè¯•</span></span><br><span class="line">    c = Cat(<span class="string">&#x27;å–µå–µ&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;ç”·&#x27;</span>)  <span class="comment">#  Catç»§æ‰¿äº†çˆ¶ç±»Animalçš„å±æ€§</span></span><br><span class="line">    c.call()  <span class="comment"># è¾“å‡º å–µå–µ ä¼šå« ï¼ŒCatç»§æ‰¿äº†çˆ¶ç±»Animalçš„æ–¹æ³• </span></span><br></pre></td></tr></table></figure><p>ç±»çš„ç»§æ‰¿ä¸€èˆ¬éƒ½æ˜¯objectï¼Œç„¶åå¦‚æœæƒ³è¦ç»§æ‰¿è‡ªå·±çš„ç±»ï¼Œåˆ™å¯ä»¥æŠŠobjectç»§æ‰¿å¯¹è±¡æ”¹ä¸€ä¸‹ï¼ŒåŸæ¥ç±»ååæ‹¬å·é‡Œçš„ä¸œè¥¿æ˜¯ç»§æ‰¿å¯¹è±¡</p><p>ä¸€å®šè¦ç”¨ <code>super(Cat, self).__init__(name,age)</code> å»åˆå§‹åŒ–çˆ¶ç±»ï¼Œå¦åˆ™ï¼Œç»§æ‰¿è‡ª Animalçš„ Catå­ç±»å°†æ²¡æœ‰ <code>name</code> å’Œ <code>age</code> ä¸¤ä¸ªå±æ€§</p><p>å‡½æ•°<code>super(Cat, self)</code>å°†è¿”å›å½“å‰ç±»ç»§æ‰¿çš„çˆ¶ç±»ï¼Œå³ Animalï¼Œç„¶åè°ƒç”¨<code>__init__()</code>æ–¹æ³•ï¼Œæ³¨æ„selfå‚æ•°å·²åœ¨<code>super()</code>ä¸­ä¼ å…¥ï¼Œåœ¨<code>__init__()</code>ä¸­å°†éšå¼ä¼ é€’ï¼Œä¸èƒ½å†å†™å‡ºself</p><h3 id="Pythonå¯¹å­ç±»æ–¹æ³•çš„é‡æ„"><a href="#Pythonå¯¹å­ç±»æ–¹æ³•çš„é‡æ„" class="headerlink" title="Pythonå¯¹å­ç±»æ–¹æ³•çš„é‡æ„"></a>Pythonå¯¹å­ç±»æ–¹æ³•çš„é‡æ„</h3><p>å­ç±»ä¸­çš„æ–¹æ³•è¦æ±‚è·Ÿçˆ¶ç±»ä¸­çš„æ–¹æ³•ä¸åŒæ—¶ï¼Œå¯ä»¥åœ¨å­ç±»ä¸­é‡æ„æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Cat, self).__init__(name,age)</span><br><span class="line">       self.sex = sex</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name,<span class="string">&#x27;ä¼šâ€œå–µå–µâ€å«&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">   c = Cat(<span class="string">&#x27;å–µå–µ&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;ç”·&#x27;</span>)</span><br><span class="line">   c.call()  <span class="comment"># è¾“å‡ºï¼šå–µå–µ ä¼šâ€œå–µå–µâ€å«</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬åœ¨å­ç±»ä¸­é‡æ„çˆ¶ç±»çš„æ–¹æ³•åï¼ŒCatå­ç±»çš„å®ä¾‹å…ˆä¼šåœ¨è‡ªå·±çš„ç±»Catä¸­æŸ¥æ‰¾è¯¥æ–¹æ³•ï¼Œå½“æ‰¾ä¸åˆ°è¯¥æ–¹æ³•æ—¶æ‰ä¼šå»çˆ¶ç±»Animalä¸­æŸ¥æ‰¾å¯¹åº”çš„æ–¹æ³•</p><h3 id="Pythonä¸­å­ç±»ä¸çˆ¶ç±»çš„å…³ç³»"><a href="#Pythonä¸­å­ç±»ä¸çˆ¶ç±»çš„å…³ç³»" class="headerlink" title="Pythonä¸­å­ç±»ä¸çˆ¶ç±»çš„å…³ç³»"></a>Pythonä¸­å­ç±»ä¸çˆ¶ç±»çš„å…³ç³»</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">A= Animal()</span><br><span class="line">C = Cat()</span><br></pre></td></tr></table></figure><ul><li>â€œAâ€æ˜¯Animalç±»çš„å®ä¾‹ï¼Œä½†ï¼Œâ€œAâ€ä¸æ˜¯Catç±»çš„å®ä¾‹ã€‚</li><li>â€œCâ€æ˜¯Animalç±»çš„å®ä¾‹ï¼Œâ€œCâ€ä¹Ÿæ˜¯Catç±»çš„å®ä¾‹ã€‚</li></ul><p>å‡½æ•° <code>isinstance(å˜é‡,ç±»å‹)</code><br>åˆ¤æ–­å˜é‡çš„ç±»å‹ï¼Œåˆ¤æ–­å¯¹è±¡ä¹‹é—´çš„å…³ç³»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;A&quot; IS Animal?&#x27;</span>, <span class="built_in">isinstance</span>(A, Animal))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;A&quot; IS Cat?&#x27;</span>, <span class="built_in">isinstance</span>(A, Cat))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;C&quot; IS Animal?&#x27;</span>, <span class="built_in">isinstance</span>(C, Animal))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&quot;C&quot; IS Cat?&#x27;</span>, <span class="built_in">isinstance</span>(C, Cat))</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡º</span></span><br><span class="line"><span class="string">&quot;A&quot;</span> IS Animal? <span class="literal">True</span></span><br><span class="line"><span class="string">&quot;A&quot;</span> IS Cat? <span class="literal">False</span></span><br><span class="line"><span class="string">&quot;C&quot;</span> IS Animal? <span class="literal">True</span></span><br><span class="line"><span class="string">&quot;C&quot;</span> IS Cat? <span class="literal">True</span></span><br></pre></td></tr></table></figure><h3 id="pythonä¸­å¤šæ€"><a href="#pythonä¸­å¤šæ€" class="headerlink" title="pythonä¸­å¤šæ€"></a>pythonä¸­å¤šæ€</h3><p>ç±»å…·æœ‰ç»§æ‰¿å…³ç³»ï¼Œå¹¶ä¸”å­ç±»ç±»å‹å¯ä»¥å‘ä¸Šè½¬å‹çœ‹åšçˆ¶ç±»ç±»å‹ï¼Œå¦‚æœæˆ‘ä»¬ä» Animalæ´¾ç”Ÿå‡º Catå’ŒDogï¼Œå¹¶éƒ½å†™äº†ä¸€ä¸ª call() æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):  </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">       self.name = name</span><br><span class="line">       self.age = age</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;ä¼šå«&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Cat, self).__init__(name, age)</span><br><span class="line">       self.sex = sex</span><br><span class="line"></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;ä¼šâ€œå–µå–µâ€å«&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, sex</span>):</span><br><span class="line">       <span class="built_in">super</span>(Dog, self).__init__(name, age)</span><br><span class="line">       self.sex = sex</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self</span>):</span><br><span class="line">       <span class="built_in">print</span>(self.name, <span class="string">&#x27;ä¼šâ€œæ±ªæ±ªâ€å«&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªdoå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå˜é‡ â€˜allâ€™,å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">do</span>(<span class="params"><span class="built_in">all</span></span>):</span><br><span class="line">   <span class="built_in">all</span>.call()</span><br><span class="line"></span><br><span class="line">A = Animal(<span class="string">&#x27;å°é»‘&#x27;</span>,<span class="number">4</span>)</span><br><span class="line">C = Cat(<span class="string">&#x27;å–µå–µ&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;ç”·&#x27;</span>)</span><br><span class="line">D = Dog(<span class="string">&#x27;æ—ºè´¢&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;å¥³&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> (A,C,D):</span><br><span class="line">   do(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="comment"># å°é»‘ ä¼šå«</span></span><br><span class="line"><span class="comment"># å–µå–µ ä¼šâ€œå–µå–µâ€å«</span></span><br><span class="line"><span class="comment"># æ—ºè´¢ ä¼šâ€œæ±ªæ±ªâ€å«</span></span><br></pre></td></tr></table></figure><p>è¿™ç§è¡Œä¸ºç§°ä¸ºå¤šæ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•è°ƒç”¨å°†ä½œç”¨åœ¨ all çš„å®é™…ç±»å‹ä¸Šã€‚C æ˜¯ Cat ç±»å‹ï¼Œå®ƒå®é™…ä¸Šæ‹¥æœ‰è‡ªå·±çš„ call() æ–¹æ³•ä»¥åŠä» Animal ç»§æ‰¿çš„ call æ–¹æ³•<br><strong>è€Œè°ƒç”¨ C .call() æ€»æ˜¯å…ˆæŸ¥æ‰¾å®ƒè‡ªèº«çš„å®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ï¼Œåˆ™é¡ºç€ç»§æ‰¿é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°åœ¨æŸä¸ªçˆ¶ç±»ä¸­æ‰¾åˆ°ä¸ºæ­¢</strong></p><blockquote><p>æ³¨æ„äº‹é¡¹</p><ul><li>åœ¨ç»§æ‰¿ä¸­åŸºç±»çš„æ„é€ æ–¹æ³•ï¼ˆ<code>__init__()æ–¹æ³•</code>ï¼‰ä¸ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œå®ƒéœ€è¦åœ¨å…¶æ´¾ç”Ÿç±»çš„æ„é€ æ–¹æ³•ä¸­äº²è‡ªä¸“é—¨è°ƒç”¨ã€‚</li><li>åœ¨è°ƒç”¨åŸºç±»çš„æ–¹æ³•æ—¶ï¼Œéœ€è¦åŠ ä¸ŠåŸºç±»çš„ç±»åå‰ç¼€ï¼Œä¸”éœ€è¦å¸¦ä¸Šselfå‚æ•°å˜é‡ã€‚è€Œåœ¨ç±»ä¸­è°ƒç”¨æ™®é€šå‡½æ•°æ—¶å¹¶ä¸éœ€è¦å¸¦ä¸Šselfå‚æ•°</li><li>Pythonæ€»æ˜¯é¦–å…ˆæŸ¥æ‰¾å¯¹åº”ç±»çš„æ–¹æ³•ï¼Œå¦‚æœå®ƒä¸èƒ½åœ¨æ´¾ç”Ÿç±»ä¸­æ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ï¼Œå®ƒæ‰å¼€å§‹åˆ°åŸºç±»ä¸­é€ä¸ªæŸ¥æ‰¾ã€‚ï¼ˆå…ˆåœ¨æœ¬ç±»ä¸­æŸ¥æ‰¾è°ƒç”¨çš„æ–¹æ³•ï¼Œæ‰¾ä¸åˆ°æ‰å»åŸºç±»ä¸­æ‰¾ï¼‰</li></ul></blockquote><h2 id="ç±»çš„å®ä¾‹å¯è°ƒç”¨"><a href="#ç±»çš„å®ä¾‹å¯è°ƒç”¨" class="headerlink" title="ç±»çš„å®ä¾‹å¯è°ƒç”¨"></a>ç±»çš„å®ä¾‹å¯è°ƒç”¨</h2><p><a href="https://zhuanlan.zhihu.com/p/609832956">ã€pythonã€‘ç‰¹æ®Šå‡½æ•° <strong>call</strong> - çŸ¥ä¹</a></p><p>å¯ä»¥æ¨¡ç³Šå¯¹è±¡å’Œå‡½æ•°çš„å…³ç³»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name=name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;hello &quot;</span>+self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    a = People(<span class="string">&#x27;abc!&#x27;</span>)</span><br><span class="line">    a.__call__()</span><br><span class="line">    a()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MarkdownåŸºæœ¬çŸ¥è¯†</title>
      <link href="/Learn/Blog%20Basic/Learn-Markdown/"/>
      <url>/Learn/Blog%20Basic/Learn-Markdown/</url>
      
        <content type="html"><![CDATA[<p>å…³äºæˆ‘ä½¿ç”¨ Markdown ä»¥æ¥å­¦åˆ°çš„çŸ¥è¯†ï¼Œå³markdownçš„æ“ä½œæ–¹æ³•<br><span id="more"></span></p><h2 id="1-ç©ºæ ¼"><a href="#1-ç©ºæ ¼" class="headerlink" title="1. ç©ºæ ¼"></a>1. ç©ºæ ¼</h2><div class="table-container"><table><thead><tr><th style="text-align:center">è¯­æ³•</th><th style="text-align:center">example</th><th style="text-align:center">è§£é‡Š</th></tr></thead><tbody><tr><td style="text-align:center"><code>ok&amp;nbsp;ok</code>&nbsp;</td><td style="text-align:center">ok&nbsp;ok</td><td style="text-align:center">å®ƒæ˜¯æŒ‰ä¸‹ space é”®äº§ç”Ÿçš„ç©ºæ ¼,å«ä¸æ¢è¡Œç©ºæ ¼ï¼Œå…¨ç§°æ˜¯ No-Break Space</td></tr><tr><td style="text-align:center"><code>ok&amp;ensp;ok</code>&ensp;</td><td style="text-align:center">ok&ensp;ok</td><td style="text-align:center">ç­‰åŒäºå­—ä½“åº¦çš„ä¸€åŠ,å«â€œåŠè§’ç©ºæ ¼â€ï¼Œå…¨ç§°æ˜¯ En Space</td></tr><tr><td style="text-align:center"><code>ok&amp;emsp;ok</code>&emsp;</td><td style="text-align:center">ok&emsp;ok</td><td style="text-align:center">1 em åœ¨ 16px çš„å­—ä½“ä¸­å°±æ˜¯ 16px,å®ƒå«â€œå…¨è§’ç©ºæ ¼â€ï¼Œå…¨ç§°æ˜¯ Em Space</td></tr><tr><td style="text-align:center"><code>ok&amp;thinsp;ok</code>&thinsp;</td><td style="text-align:center">ok&thinsp;ok</td><td style="text-align:center">â€œçª„ç©ºæ ¼â€ï¼Œå…¨ç§°æ˜¯ Thin Spaceã€‚å æ®çš„å®½åº¦æ¯”è¾ƒå°ã€‚å®ƒæ˜¯ em ä¹‹å…­åˆ†ä¹‹ä¸€å®½</td></tr><tr><td style="text-align:center"><code>ok&amp;zwj;ok</code>&zwj;</td><td style="text-align:center">ok&zwj;ok</td><td style="text-align:center">å®ƒå«é›¶å®½è¿å­—ï¼Œå…¨ç§°æ˜¯ Zero Width Joinerï¼Œç®€ç§°â€œZWJâ€ï¼Œæ˜¯ä¸€ä¸ªä¸æ‰“å°å­—ç¬¦</td></tr></tbody></table></div><blockquote><p>å‚è€ƒ<a href="https://www.jianshu.com/p/31eade263e7a" title="ç®€ä¹¦">ç½‘ç«™</a></p></blockquote><h2 id="2-é“¾æ¥"><a href="#2-é“¾æ¥" class="headerlink" title="2. é“¾æ¥"></a>2. é“¾æ¥</h2><h3 id="2-1-è¡Œå†…å¼-æ–¹ä¾¿ç®€æ´"><a href="#2-1-è¡Œå†…å¼-æ–¹ä¾¿ç®€æ´" class="headerlink" title="2.1 è¡Œå†…å¼(æ–¹ä¾¿ç®€æ´)"></a>2.1 è¡Œå†…å¼(æ–¹ä¾¿ç®€æ´)</h3><p><code>[é“¾æ¥æ–‡å­—](é“¾æ¥ç½‘å€ &quot;æ ‡é¢˜&quot;)</code><br><code>This is an [example link](https://www.jianshu.com/p/31eade263e7a)</code><br>ä¼šæ˜¾ç¤ºä¸º:&nbsp;This is an <a href="https://www.jianshu.com/p/31eade263e7a">example link</a></p><h3 id="2-2-é”šç‚¹ï¼ˆæœ‰äº†ç›®å½•çš„è¯ï¼ŒåŸºæœ¬ä¸ç”¨äº†ï¼‰"><a href="#2-2-é”šç‚¹ï¼ˆæœ‰äº†ç›®å½•çš„è¯ï¼ŒåŸºæœ¬ä¸ç”¨äº†ï¼‰" class="headerlink" title="2.2 é”šç‚¹ï¼ˆæœ‰äº†ç›®å½•çš„è¯ï¼ŒåŸºæœ¬ä¸ç”¨äº†ï¼‰"></a>2.2 é”šç‚¹ï¼ˆæœ‰äº†ç›®å½•çš„è¯ï¼ŒåŸºæœ¬ä¸ç”¨äº†ï¼‰</h3><ul><li>ç¬¬ä¸€ç§</li></ul><p><code>- [æµ‹è¯•](#æµ‹è¯•)</code><br><code>### &lt;a id=&quot;æµ‹è¯•&quot;&gt;æµ‹è¯•&lt;/a&gt;</code></p><ul><li><a href="#æµ‹è¯•">æµ‹è¯•</a></li></ul><ul><li>ç¬¬äºŒç§</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">### <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#æµ‹è¯•2&quot;</span>&gt;</span>æµ‹è¯•2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">h</span><br><span class="line">t</span><br><span class="line">m</span><br><span class="line">l</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;æµ‹è¯•2&quot;</span>&gt;</span>æµ‹è¯•2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><a href="#æµ‹è¯•2">æµ‹è¯• 2</a></li></ul><blockquote><p>å‚è€ƒ<a href="https://blog.csdn.net/wangzhibo666/article/details/88731227" title="CSDN">link</a></p></blockquote><h2 id="3-å›¾ç‰‡"><a href="#3-å›¾ç‰‡" class="headerlink" title="3. å›¾ç‰‡"></a>3. å›¾ç‰‡</h2><h3 id="3-1-ç½‘ç»œå›¾ç‰‡çš„æ·»åŠ "><a href="#3-1-ç½‘ç»œå›¾ç‰‡çš„æ·»åŠ " class="headerlink" title="3.1 ç½‘ç»œå›¾ç‰‡çš„æ·»åŠ "></a>3.1 ç½‘ç»œå›¾ç‰‡çš„æ·»åŠ </h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">alt å±æ€§æ–‡æœ¬</span>](<span class="link">å›¾ç‰‡åœ°å€</span>)</span><br><span class="line"></span><br><span class="line">![<span class="string">alt å±æ€§æ–‡æœ¬</span>](<span class="link">å›¾ç‰‡åœ°å€ &quot;å¯é€‰æ ‡é¢˜&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![å››æœˆæ˜¯ä½ çš„è°è¨€](https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=905665511,4125694826&amp;fm=26&amp;gp=0.jpg &quot;å››è°&quot;)</span><br></pre></td></tr></table></figure><p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=905665511,4125694826&amp;fm=26&amp;gp=0.jpg" alt="å››æœˆæ˜¯ä½ çš„è°è¨€" title="å››è°"></p><h3 id="3-2-æœ¬åœ°å›¾ç‰‡çš„æ·»åŠ "><a href="#3-2-æœ¬åœ°å›¾ç‰‡çš„æ·»åŠ " class="headerlink" title="3.2 æœ¬åœ°å›¾ç‰‡çš„æ·»åŠ "></a>3.2 æœ¬åœ°å›¾ç‰‡çš„æ·»åŠ </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">![avatar](/img/picture_exam.jpeg &quot;example&quot;)</span><br><span class="line">--or--</span><br><span class="line">&lt;!-- &lt;img src=&quot;/img/picture_exam.jpeg &quot; width = 10% height = 10% div align=right /&gt; --&gt;</span><br><span class="line">æˆ–è€…æ˜¯</span><br><span class="line">&lt;!-- &lt;img src=&quot;url&quot; width = &quot;100&quot; height = &quot;100&quot; div align=center /&gt; --&gt;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/main/pictures/picture_exam.jpeg" alt="picture_exam.jpeg"></p><p><code>![avatar](/img/picture_exam.jpeg &quot;example&quot;)</code><br><code>&lt;img src=&quot;/img/picture_exam.jpeg &quot; width = 10% height = 10% div align=center /&gt;</code></p><h2 id="4-è¡¨æ ¼"><a href="#4-è¡¨æ ¼" class="headerlink" title="4. è¡¨æ ¼"></a>4. è¡¨æ ¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| å·¦å¯¹é½ | å³å¯¹é½ | å±…ä¸­å¯¹é½ |</span><br><span class="line">| :----- | -----: | :------: |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ |  å•å…ƒæ ¼  |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ |  å•å…ƒæ ¼  |</span><br></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th style="text-align:left">å·¦å¯¹é½</th><th style="text-align:right">å³å¯¹é½</th><th style="text-align:center">å±…ä¸­å¯¹é½</th></tr></thead><tbody><tr><td style="text-align:left">å•å…ƒæ ¼</td><td style="text-align:right">å•å…ƒæ ¼</td><td style="text-align:center">å•å…ƒæ ¼</td></tr><tr><td style="text-align:left">å•å…ƒæ ¼</td><td style="text-align:right">å•å…ƒæ ¼</td><td style="text-align:center">å•å…ƒæ ¼</td></tr></tbody></table></div><blockquote><p>å‚è€ƒæ•™ç¨‹:<a href="https://www.runoob.com/markdown/md-tutorial.html">markdown</a></p></blockquote><h2 id="5-è®¾ç½®å­—ä½“å¤§å°é¢œè‰²"><a href="#5-è®¾ç½®å­—ä½“å¤§å°é¢œè‰²" class="headerlink" title="5. è®¾ç½®å­—ä½“å¤§å°é¢œè‰²"></a>5. è®¾ç½®å­—ä½“å¤§å°é¢œè‰²</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;é»‘ä½“&quot;</span>&gt;</span>æˆ‘æ˜¯é»‘ä½“å­—<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;å¾®è½¯é›…é»‘&quot;</span>&gt;</span>æˆ‘æ˜¯å¾®è½¯é›…é»‘<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;STCAIYUN&quot;</span>&gt;</span>æˆ‘æ˜¯åæ–‡å½©äº‘<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#0099ff</span> <span class="attr">size</span>=<span class="string">7</span> <span class="attr">face</span>=<span class="string">&quot;é»‘ä½“&quot;</span>&gt;</span>color=#0099ff size=72 face=&quot;é»‘ä½“&quot;<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#00ffff</span> <span class="attr">size</span>=<span class="string">72</span>&gt;</span>color=#00ffff<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">gray</span> <span class="attr">size</span>=<span class="string">72</span>&gt;</span>color=gray<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br></pre></td></tr></table></figure><font face="é»‘ä½“">æˆ‘æ˜¯é»‘ä½“å­—</font><font face="å¾®è½¯é›…é»‘">æˆ‘æ˜¯å¾®è½¯é›…é»‘</font><font face="STCAIYUN">æˆ‘æ˜¯åæ–‡å½©äº‘</font><font color=#0099ff size=7 face="é»‘ä½“">color=#0099ff size=72 face="é»‘ä½“"</font><font color=#00ffff size=72>color=#00ffff</font><font color=gray size=72>color=gray</font><ul><li><p>æµ‹è¯•ç”¨çš„é”šç‚¹ï¼š</p><ul><li><a id="æµ‹è¯•">é”šç‚¹æµ‹è¯•</a></li><li><a id="æµ‹è¯•2">é”šç‚¹æµ‹è¯• 2</a></li></ul><blockquote><p>å‚è€ƒç½‘ç«™:<a href="https://blog.csdn.net/weixin_37998647/article/details/79428290" title="CSDN">CSDN</a></p></blockquote></li></ul><h2 id="6-å¾…åŠæ¸…å•"><a href="#6-å¾…åŠæ¸…å•" class="headerlink" title="6. å¾…åŠæ¸…å•"></a>6. å¾…åŠæ¸…å•</h2><p>å¯èƒ½æ˜¯æˆ‘çš„è¿™ä¸ªhexoä¸»é¢˜ä¸é€‚é…è¿™ç§è¯­æ³•ï¼Œä½†æ˜¯å†typoraä¸­å°±å¯ä»¥æ˜¾ç¤º<br><em>æœ‰çš„markdownæ”¯æŒæœ‰çš„ä¸æ”¯æŒ</em></p><ul><li>[ ] ä»»åŠ¡ä¸€</li><li>[x] ä»»åŠ¡äºŒ</li></ul><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> [ ] ä»»åŠ¡ä¸€</span><br><span class="line"><span class="bullet">-</span> [x] ä»»åŠ¡äºŒ</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spider-Note</title>
      <link href="/Learn/Python/Spider/"/>
      <url>/Learn/Python/Spider/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‚è€ƒ Github ä¸Šçš„<a href="https://github.com/kingname/SourceCodeOfBook" title="Github">æ•™ç¨‹</a>å­¦ä¹ <br>ä¸€ä¸ªè¿ python éƒ½æ²¡æœ‰å®Œå…¨å­¦ä¼šçš„èœé¸¡æ¥å­¦çˆ¬è™«</p></blockquote><span id="more"></span><h1 id="1-çº¿ç¨‹"><a href="#1-çº¿ç¨‹" class="headerlink" title="1. çº¿ç¨‹"></a>1. çº¿ç¨‹</h1><h2 id="1-1-çº¿ç¨‹-Pool"><a href="#1-1-çº¿ç¨‹-Pool" class="headerlink" title="1.1 çº¿ç¨‹ Pool"></a>1.1 çº¿ç¨‹ Pool</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing.dummy <span class="keyword">import</span> Pool</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calc_power2</span>(<span class="params">num</span>):</span><br><span class="line"><span class="keyword">return</span> num*num</span><br><span class="line">pool = Pool(<span class="number">5</span>)</span><br><span class="line">origin_num = [x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">result = pool.<span class="built_in">map</span>(calc_power2,origin_num)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;0~9çš„å¹³æ–¹åˆ†åˆ«ä¸ºï¼š<span class="subst">&#123;result&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p><code>Pool(5)</code> &emsp;äº”ä¸ªçº¿ç¨‹</p><hr/><h2 id="1-2-æ‰€ç”¨å‡½æ•°"><a href="#1-2-æ‰€ç”¨å‡½æ•°" class="headerlink" title="1.2 æ‰€ç”¨å‡½æ•°"></a>1.2 æ‰€ç”¨å‡½æ•°</h2><p><code>time.time()</code> &nbsp; ç¨‹åºå½“å‰æ—¶é—´<br>egï¼šç”¨æ¥å¯¹æ¯”å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹è®¿é—® baidu çš„é€Ÿåº¦</p><h1 id="2-request-åº“"><a href="#2-request-åº“" class="headerlink" title="2. request åº“"></a>2. request åº“</h1><h2 id="2-1-åŸºç¡€ç”¨æ³•"><a href="#2-1-åŸºç¡€ç”¨æ³•" class="headerlink" title="2.1 åŸºç¡€ç”¨æ³•"></a>2.1 åŸºç¡€ç”¨æ³•</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">&#x27;&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;UserAgent&quot;</span>:<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like\ Gecko) Chrome/80.0.3987.87 Safari/537.36 Edg/80.0.361.48&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url,headers=headers)</span><br><span class="line">response.encoding = <span class="string">&#x27;utf-8&#x27;</span>  <span class="comment">#æˆ–è€…GBK</span></span><br><span class="line">html = response.text</span><br></pre></td></tr></table></figure><h2 id="2-2-è¿›é˜¶ç”¨æ³•"><a href="#2-2-è¿›é˜¶ç”¨æ³•" class="headerlink" title="2.2 è¿›é˜¶ç”¨æ³•"></a>2.2 è¿›é˜¶ç”¨æ³•</h2><ul><li><strong>ä½¿ç”¨ requests æ¨¡æ‹Ÿå‘é€ get è¯·æ±‚</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://exercise.kingname.info/ajax_1_backend&#x27;</span></span><br><span class="line">html = requests.get(url).content.decode()</span><br><span class="line"><span class="built_in">print</span>(html)</span><br><span class="line"><span class="comment"># å¦‚æœä½ çœ‹åˆ°è¿™ä¸€æ®µæ–‡å­—ï¼Œè¯´æ˜ä½ å·²ç»æˆåŠŸè®¿é—®äº†è¿™ä¸ªé¡µé¢,å¹¶è·å–äº†GETæ–¹å¼çš„å¼‚æ­¥åŠ è½½æ•°æ®ã€‚</span></span><br></pre></td></tr></table></figure><ul><li><strong>ä½¿ç”¨ requests æ¨¡æ‹Ÿå‘é€ post è¯·æ±‚</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://exercise.kingname.info/ajax_1_postbackend&#x27;</span></span><br><span class="line">html = requests.post(url,json=&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yunq&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">24</span>&#125;).content.decode()</span><br><span class="line"><span class="built_in">print</span>(html)</span><br><span class="line"><span class="comment"># å¦‚æœä½ çœ‹åˆ°è¿™ä¸€æ®µæ–‡å­—ï¼Œè¯´æ˜ä½ å·²ç»æˆåŠŸè®¿é—®äº†è¿™ä¸ªé¡µé¢ï¼Œå¹¶è·å–äº†POSTæ–¹å¼çš„å¼‚æ­¥åŠ è½½æ•°æ®ã€‚ä½ å‘æœåŠ¡å™¨æäº¤çš„ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºnameï¼š yunq, ageï¼š24</span></span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒ<a href="http://exercise.kingname.info/exercise_ajax_1.html">å­¦ä¹ ç½‘ç«™</a>ï¼Œ(<a href="#å¼‚æ­¥GETä¸POSTè¯·æ±‚">å¼‚æ­¥ GET ä¸ POST è¯·æ±‚</a>)</p></blockquote><h1 id="3-re-åº“"><a href="#3-re-åº“" class="headerlink" title="3. re åº“"></a>3. re åº“</h1><h2 id="3-1-åŸºç¡€ç”¨æ³•"><a href="#3-1-åŸºç¡€ç”¨æ³•" class="headerlink" title="3.1 åŸºç¡€ç”¨æ³•"></a>3.1 åŸºç¡€ç”¨æ³•</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">re.findall(<span class="string">r&#x27;&#x27;</span>,html,re.S)   <span class="comment">#è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ—è¡¨æ‰€ä»¥å¯ä»¥å–ç¬¬ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">                            <span class="comment">#re.findall(r&#x27;&#x27;,html,re.S)[0]</span></span><br><span class="line"></span><br><span class="line">re.search(<span class="string">r&#x27;&#x27;</span>,html,re.S)    <span class="comment">#è¿”å›ä¸€ä¸ªre.Matchç±»å‹æ•°æ®</span></span><br><span class="line">                            <span class="comment">#&lt;re.Match object; span=(214, 297), match=&#x27;secret = \&#x27;&#123;&quot;code&quot;: &quot;\\u884c\\u52a8\\u4ee3\\u53f7&gt;</span></span><br><span class="line"></span><br><span class="line">re.search(<span class="string">r&#x27;href=&quot;sf&quot;&gt;(.*?)&lt;&#x27;</span>).group()</span><br><span class="line">                            <span class="comment">#è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²             #.*?æ˜¯åŒ¹é…åˆ°çš„å†…å®¹</span></span><br><span class="line">                            <span class="comment">#group()è¿”å›çš„æ˜¯&#x27;&#x27;å†…çš„å­—ç¬¦ä¸²å†…å®¹:href=&quot;sf&quot;&gt;(.*?)&lt;</span></span><br><span class="line">                            <span class="comment">#group(1)è¿”å›çš„æ˜¯()ä¸­çš„å­—ç¬¦ä¸²å†…å®¹:.*?</span></span><br><span class="line">                            <span class="comment">#å¦‚æœ(.*?)æœ‰å¤šä¸ªï¼Œåˆ™ä½¿ç”¨group(1),group(2)........</span></span><br></pre></td></tr></table></figure><h1 id="4-æ­£åˆ™è¡¨è¾¾å¼"><a href="#4-æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="4. æ­£åˆ™è¡¨è¾¾å¼"></a>4. æ­£åˆ™è¡¨è¾¾å¼</h1><p><code>.*?</code></p><h1 id="5-Xpathâ€”lxml-åº“"><a href="#5-Xpathâ€”lxml-åº“" class="headerlink" title="5. Xpathâ€”lxml åº“"></a>5. Xpathâ€”lxml åº“</h1><ul><li>XPath æ˜¯ä¸€ç§æŸ¥è¯¢è¯­è¨€ï¼Œèƒ½ä» XML\HTML çš„æ ‘çŠ¶ç»“æ„ä¸­å¯»æ‰¾èŠ‚ç‚¹</li></ul><h2 id="5-1-XPath-è¯­æ³•"><a href="#5-1-XPath-è¯­æ³•" class="headerlink" title="5.1 XPath è¯­æ³•"></a>5.1 XPath è¯­æ³•</h2><h3 id="5-1-1-XPath-è¯­æ³•è§£æ"><a href="#5-1-1-XPath-è¯­æ³•è§£æ" class="headerlink" title="5.1.1 XPath è¯­æ³•è§£æ"></a>5.1.1 XPath è¯­æ³•è§£æ</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">example_html</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æµ‹è¯•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;useful&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span>æˆ‘éœ€è¦çš„ä¿¡æ¯1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span>æˆ‘éœ€è¦çš„ä¿¡æ¯2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span>æˆ‘éœ€è¦çš„ä¿¡æ¯3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;useless&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span>åƒåœ¾1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span>åƒåœ¾2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>info = selector.xpath(&#39;//div[@class=&quot;useful&quot;]/ul/li/text()&#39;)</code><br>å°±å¯ä»¥æå–å‡º class=â€userfulâ€ä¸­çš„ä¸‰å¥è¯ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨</p><h3 id="5-1-2-åŸºæœ¬æ¡†æ¶"><a href="#5-1-2-åŸºæœ¬æ¡†æ¶" class="headerlink" title="5.1.2 åŸºæœ¬æ¡†æ¶"></a>5.1.2 åŸºæœ¬æ¡†æ¶</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lxml.html</span><br><span class="line">selector = lxml.html.fromstring(<span class="string">&#x27;ç½‘é¡µæºä»£ç &#x27;</span>)    <span class="comment">#ç½‘é¡µæºä»£ç å¯ç”¨requestsæ¥è·å–</span></span><br><span class="line">info = selector.xpath(<span class="string">&#x27;ä¸€æ®µXPathè¯­å¥&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="5-1-3-example"><a href="#5-1-3-example" class="headerlink" title="5.1.3 example"></a>5.1.3 example</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lxml.html</span><br><span class="line"></span><br><span class="line">source = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string">    &lt;head&gt;</span></span><br><span class="line"><span class="string">Â Â Â       &lt;title&gt;æµ‹è¯•&lt;/title&gt;</span></span><br><span class="line"><span class="string">Â    &lt;/head&gt;</span></span><br><span class="line"><span class="string">Â    &lt;body&gt;</span></span><br><span class="line"><span class="string">Â Â Â       &lt;div class=&quot;useful&quot;&gt;</span></span><br><span class="line"><span class="string"> &lt;ul&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â Â Â Â             &lt;li class=&quot;info&quot;&gt;æˆ‘éœ€è¦çš„ä¿¡æ¯1&lt;/li&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â Â Â Â             &lt;li class=&quot;info&quot;&gt;æˆ‘éœ€è¦çš„ä¿¡æ¯2&lt;/li&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â Â Â Â             &lt;li class=&quot;info&quot;&gt;æˆ‘éœ€è¦çš„ä¿¡æ¯3&lt;/li&gt;</span></span><br><span class="line"><span class="string"> &lt;/ul&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â      &lt;/div&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â      &lt;div class=&quot;useless&quot;&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â Â          &lt;ul&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â Â Â Â Â            &lt;li class=&quot;info&quot;&gt;åƒåœ¾1&lt;/li&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â Â Â Â Â            &lt;li class=&quot;info&quot;&gt;åƒåœ¾2&lt;/li&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â Â          &lt;/ul&gt;</span></span><br><span class="line"><span class="string">Â Â Â Â      &lt;/div&gt;</span></span><br><span class="line"><span class="string">Â     &lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">selector = lxml.html.fromstring(source)</span><br><span class="line">info = selector.xpath(<span class="string">&#x27;//div[@class=&quot;useful&quot;]/ul/li/text()&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(info)         <span class="comment">#[&#x27;æˆ‘éœ€è¦çš„ä¿¡æ¯1&#x27;, &#x27;æˆ‘éœ€è¦çš„ä¿¡æ¯2&#x27;, &#x27;æˆ‘éœ€è¦çš„ä¿¡æ¯3&#x27;]</span></span><br></pre></td></tr></table></figure><hr/><ul><li>a.<strong>XPath è¯­å¥æ ¼å¼</strong><br><code>info = selector.xpath(&#39;ä¸€æ®µXPathè¯­å¥&#39;)</code>ä¸­â€™ä¸€æ®µ XPath è¯­å¥â€™çš„æ ¼å¼<br>æ ¸å¿ƒæ€æƒ³ï¼šXPath å°±æ˜¯å†™åœ°å€<br>è·å–æ–‡æœ¬ï¼š<code>//æ ‡ç­¾1[@å±æ€§1=&quot;å±æ€§å€¼1&quot;]/æ ‡ç­¾2[@å±æ€§2=&quot;å±æ€§å€¼2&quot;]/..../text()</code><br>è·å–å±æ€§å€¼ï¼š<code>//æ ‡ç­¾1[@å±æ€§1=&quot;å±æ€§å€¼1&quot;]/æ ‡ç­¾2[@å±æ€§2=&quot;å±æ€§å€¼2&quot;]/..../@å±æ€§n</code><br>å…¶ä¸­çš„<code>[@å±æ€§=&quot;å±æ€§å€¼&quot;]</code>ä¸æ˜¯å¿…éœ€çš„ï¼Œå…¶ä½œç”¨æ˜¯å¸®åŠ©è¿‡æ»¤ç›¸åŒçš„æ ‡ç­¾ï¼Œæ— ç›¸åŒæ ‡ç­¾å¯çœç•¥</li><li>b.<strong>æ ‡ç­¾ 1 çš„é€‰å–</strong><br>æ ‡ç­¾ 1 å¯ä»¥ç›´æ¥ä» html è¿™ä¸ªæœ€å¤–å±‚çš„æ ‡ç­¾å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚å¾€ä¸‹æ‰¾ï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒXPath è¯­å¥æ˜¯è¿™æ ·çš„ï¼š<br><code>/html/body/div[@class=&quot;useful&quot;]/ul/li/text()</code><br>ä½†æ˜¯ç”±äºå‰é¢çš„â€™/html/bodyâ€™æ˜¯æ‰€æœ‰ HTML é€šç”¨çš„ï¼Œè€Œä¸”æ²¡æœ‰å±æ€§ï¼Œæ‰€ä»¥å¯ä¸å†™ï¼Œå³å¸¦å±æ€§æ ‡ç­¾å‰çš„æ ‡ç­¾éƒ½å¯ä»¥çœç•¥</li><li>c.<strong>å¯ä»¥çœç•¥çš„å±æ€§</strong><br>1ã€æœ¬èº«æ ‡ç­¾æ²¡æœ‰å±æ€§<br>2ã€è¿™ä¸ªæ ‡ç­¾æ‰€æœ‰çš„å±æ€§å€¼ç›¸åŒ</li><li>d.<strong>XPath çš„ç‰¹æ®Šæƒ…å†µ</strong><br>1ã€ä»¥ç›¸åŒå­—ç¬¦ä¸²å¼€å¤´<code>æ ‡ç­¾[starts-with(@å±æ€§,&quot;å¼€å¤´å­—ç¬¦ä¸²&quot;)]</code></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="built_in">id</span>=<span class="string">&quot;test-1&quot;</span>&gt;éœ€è¦çš„å†…å®¹<span class="number">1</span>&lt;/div&gt;</span><br><span class="line">&lt;div <span class="built_in">id</span>=<span class="string">&quot;test-2&quot;</span>&gt;éœ€è¦çš„å†…å®¹<span class="number">2</span>&lt;/div&gt;</span><br><span class="line">&lt;div <span class="built_in">id</span>=<span class="string">&quot;testfault&quot;</span>&gt;éœ€è¦çš„å†…å®¹<span class="number">3</span>&lt;/div&gt;</span><br><span class="line">&lt;div <span class="built_in">id</span>=<span class="string">&quot;useless&quot;</span>&gt;è¿™æ˜¯æˆ‘ä¸éœ€è¦çš„å†…å®¹&lt;/div&gt;</span><br><span class="line">content = selector.xpath(<span class="string">&#x27;//div[starts-with(@id,&quot;test&quot;)]/text()&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content)      <span class="comment">#[&#x27;éœ€è¦çš„å†…å®¹1&#x27;,&#x27;éœ€è¦çš„å†…å®¹3&#x27;,&#x27;éœ€è¦çš„å†…å®¹2&#x27;]</span></span><br></pre></td></tr></table></figure><p>2ã€å±æ€§å€¼åŒ…å«ç›¸åŒå­—ç¬¦ä¸²<code>æ ‡ç­¾[contains(@å±æ€§,&quot;ç›¸åŒå­—ç¬¦ä¸²&quot;)]</code><br>3ã€å¯¹ XPath è¿”å›çš„å¯¹è±¡æ‰§è¡Œ XPath</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useful = selector.xpath(<span class="string">&#x27;//div[@class=&quot;useful&quot;]&#x27;</span>)   <span class="comment">#è¿™é‡Œè¿”å›ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line">info_list = useful[<span class="number">0</span>].xpath(<span class="string">&#x27;ul/li/text()&#x27;</span>)         <span class="comment">#useful[0]å³ä¸ºåˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(info_list)</span><br></pre></td></tr></table></figure><p>4ã€ä¸åŒæ ‡ç­¾ä¸‹çš„æ–‡å­—</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lxml.html</span><br><span class="line"></span><br><span class="line">html = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head lang=&quot;en&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;title&gt;&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;div id=&quot;test3&quot;&gt;</span></span><br><span class="line"><span class="string">        æˆ‘å·¦é’é¾™ï¼Œ</span></span><br><span class="line"><span class="string">        &lt;span id=&quot;tiger&quot;&gt;</span></span><br><span class="line"><span class="string">        å³ç™½è™ï¼Œ</span></span><br><span class="line"><span class="string">            &lt;ul&gt;ä¸Šæœ±é›€ï¼Œ</span></span><br><span class="line"><span class="string">                &lt;li&gt;ä¸‹ç„æ­¦ã€‚&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;/ul&gt;</span></span><br><span class="line"><span class="string">        è€ç‰›åœ¨å½“ä¸­ï¼Œ</span></span><br><span class="line"><span class="string">        &lt;/span&gt;</span></span><br><span class="line"><span class="string">        é¾™å¤´åœ¨èƒ¸å£ã€‚</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#å¦‚æœç›´æ¥æå–id=&quot;test3&quot;</span></span><br><span class="line">selector = lxml.html.fromstring(html)</span><br><span class="line">content_1 = selector.xpath(<span class="string">&#x27;//div[@id=&quot;test3&quot;]/text()&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content_1)   <span class="comment">#[&#x27;\n        æˆ‘å·¦é’é¾™ï¼Œ\n        &#x27;, &#x27;\n        é¾™å¤´åœ¨èƒ¸å£ã€‚\n    &#x27;]</span></span><br><span class="line"><span class="comment">#åªä¼šæå–åˆ°divæ ‡ç­¾ä¸­çš„æ–‡å­—ä¿¡æ¯ï¼Œè€Œä¸ä¼šè‡ªåŠ¨æå–å­æ ‡ç­¾ä¸­çš„ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿™æ—¶å°±éœ€è¦ç”¨string(.)å…³é”®å­—äº†</span></span><br><span class="line">selector = lxml.html.fromstring(html)</span><br><span class="line">data = selector.xpath(<span class="string">&#x27;//div[@id=&quot;test3&quot;]&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">info = data.xpath(<span class="string">&#x27;string(.)&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(info)     <span class="comment">#å°±å¯ä»¥æå–å‡ºæ‰€æœ‰çš„æ–‡æœ¬ä¿¡æ¯äº†</span></span><br></pre></td></tr></table></figure><h2 id="5-2-XPath-é€šè¿‡-chrome-è¾…åŠ©æ„é€ "><a href="#5-2-XPath-é€šè¿‡-chrome-è¾…åŠ©æ„é€ " class="headerlink" title="5.2 XPath é€šè¿‡ chrome è¾…åŠ©æ„é€ "></a>5.2 XPath é€šè¿‡ chrome è¾…åŠ©æ„é€ </h2><p>åœ¨ä¸€è¡Œæºç å•å‡»å³é”®ï¼Œé€‰æ‹©â€œCopyâ€â†’â€œCopy XPathâ€å‘½ä»¤<br>æŠŠç»“æœç²˜è´´ä¸‹æ¥ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„ XPath è¯­å¥ï¼š<br><code>//*[@id=&quot;thread_list&quot;]/li[2]/div/div[2]/div[1]/div[1]/a</code><br>_å…¶ä¸­æ–¹æ‹¬å·ä¸­çš„æ•°å­—ï¼Œè¡¨ç¤ºè¿™æ˜¯ç¬¬å‡ ä¸ªè¯¥æ ‡ç­¾ï¼Œä½†éœ€è¦æ³¨æ„ï¼Œè¿™é‡Œçš„æ•°å­—æ˜¯ä» 1 å¼€å§‹_</p><h1 id="6-Beautiful-Soup4-åº“-BS4"><a href="#6-Beautiful-Soup4-åº“-BS4" class="headerlink" title="6. Beautiful Soup4 åº“(BS4)"></a>6. Beautiful Soup4 åº“(BS4)</h1><p>_BS4 åœ¨æŸäº›æ–¹é¢æ¯” XPath æ˜“æ‡‚ï¼Œä½†æ˜¯ä¸å¦‚ XPath ç®€æ´ï¼Œè€Œä¸”ç”±äºå®ƒæ˜¯ä½¿ç”¨ Python å¼€å‘çš„ï¼Œå› æ­¤é€Ÿåº¦æ¯” XPath æ…¢ã€‚_<br>ä½¿ç”¨ Beautiful Soup4 æå– HTML å†…å®¹ï¼Œä¸€èˆ¬è¦ç»è¿‡ä»¥ä¸‹ä¸¤æ­¥ã€‚</p><h2 id="6-1-bs4-å¤„ç†æ­¥éª¤"><a href="#6-1-bs4-å¤„ç†æ­¥éª¤" class="headerlink" title="6.1 bs4 å¤„ç†æ­¥éª¤"></a>6.1 bs4 å¤„ç†æ­¥éª¤</h2><ul><li>1)å¤„ç†æºä»£ç ç”Ÿæˆ BeautifulSoup å¯¹è±¡ã€‚<br>è§£ææºä»£ç ç”Ÿæˆ BeautifulSoup å¯¹è±¡ï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š<br><code>soup = BeautifulSoup(ç½‘é¡µæºä»£ç , &#39;è§£æå™¨&#39;)</code><br>è§£æå™¨ï¼š<br>è¿™é‡Œçš„â€œè§£æå™¨â€ï¼Œå¯ä»¥ä½¿ç”¨ html.parserï¼š<br><code>soup = BeautifulSoup(source, &#39;html.parser&#39;)</code><br>å¦‚æœå®‰è£…äº† lxmlï¼Œè¿˜å¯ä»¥ä½¿ç”¨ lxmlï¼š<br><code>soup = BeautifulSoup(source, &#39;lxml&#39;)</code></li><li>2)ä½¿ç”¨ find<em>all()æˆ–è€… find()æ¥æŸ¥æ‰¾å†…å®¹ã€‚<br>`soup.find(class</em>=â€™å±æ€§å€¼â€™)`<br>_ç”±äº HTML ä¸­çš„ class å±æ€§ä¸ Python çš„ class å…³é”®å­—ç›¸åŒï¼Œå› æ­¤ä¸ºäº†ä¸äº§ç”Ÿå†²çªï¼ŒBS4 è§„å®šï¼Œå¦‚æœé‡åˆ°è¦æŸ¥è¯¢ class çš„æƒ…å†µï¼Œä½¿ç”¨â€œclass_â€æ¥ä»£æ›¿_</li></ul><h2 id="6-2-example"><a href="#6-2-example" class="headerlink" title="6.2 example"></a>6.2 <a href="http://exercise.kingname.info/exercise_bs_1.html">example</a></h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">html = requests.get(<span class="string">&#x27;http://exercise.kingname.info/exercise_bs_1.html&#x27;</span>).content.decode()</span><br><span class="line"><span class="comment"># 1ã€è§£ææºä»£ç </span></span><br><span class="line">soup = BeautifulSoup(html,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line"><span class="comment"># 2ã€æŸ¥æ‰¾å†…å®¹</span></span><br><span class="line">info = soup.find(class_= <span class="string">&#x27;test&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(info.string)      <span class="comment">#æˆ‘éœ€è¦çš„ä¿¡æ¯2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆæŠ“å¤§ï¼Œå†æŠ“å°</span></span><br><span class="line">useful = soup.find(class_=<span class="string">&#x27;useful&#x27;</span>)</span><br><span class="line">all_content = useful.find_all(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> li <span class="keyword">in</span> all_content:</span><br><span class="line">    <span class="built_in">print</span>(li.string)        <span class="comment">#æˆ‘éœ€è¦çš„ä¿¡æ¯1</span></span><br><span class="line">                            <span class="comment">#æˆ‘éœ€è¦çš„ä¿¡æ¯2</span></span><br><span class="line">                            <span class="comment">#æˆ‘éœ€è¦çš„ä¿¡æ¯3</span></span><br><span class="line">    <span class="built_in">print</span>(li)               <span class="comment">#&lt;li class=&quot;info&quot;&gt;æˆ‘éœ€è¦çš„ä¿¡æ¯1&lt;/li&gt;</span></span><br><span class="line">                            <span class="comment">#&lt;li class=&quot;test&quot;&gt;æˆ‘éœ€è¦çš„ä¿¡æ¯2&lt;/li&gt;</span></span><br><span class="line">                            <span class="comment">#&lt;li class=&quot;iamstrange&quot;&gt;æˆ‘éœ€è¦çš„ä¿¡æ¯3&lt;/li&gt;</span></span><br><span class="line">    <span class="built_in">print</span>(li[<span class="string">&#x27;class&#x27;</span>])      <span class="comment">#[&#x27;info&#x27;]</span></span><br><span class="line">                            <span class="comment">#[&#x27;test&#x27;]</span></span><br><span class="line">                            <span class="comment">#[&#x27;iamstrange&#x27;]</span></span><br></pre></td></tr></table></figure><ul><li>å…¶ä»–æŸ¥æ‰¾æ–¹æ³•<br><strong>ä»¥â€˜æˆ‘éœ€è¦â€™ä¸ºå¼€å¤´çš„ä¿¡æ¯</strong><br><code>content = soup.find_all(text = re.compile(&#39;æˆ‘éœ€è¦&#39;))</code><br><strong>å¯¹å±æ€§å€¼æœç´ ä½¿ç”¨æ­£åˆ™,å³å¯¹ iamstrang å±æ€§å€¼æœç´¢</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">content = soup.find_all(class_=re.<span class="built_in">compile</span>(<span class="string">&#x27;iam&#x27;</span>))[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(content.string)       <span class="comment">#æˆ‘éœ€è¦çš„ä¿¡æ¯3</span></span><br></pre></td></tr></table></figure><h1 id="7-å¼‚æ­¥åŠ è½½ä¸è¯·æ±‚å¤´"><a href="#7-å¼‚æ­¥åŠ è½½ä¸è¯·æ±‚å¤´" class="headerlink" title="7. å¼‚æ­¥åŠ è½½ä¸è¯·æ±‚å¤´"></a>7. å¼‚æ­¥åŠ è½½ä¸è¯·æ±‚å¤´</h1><h2 id="7-1-å¼‚æ­¥åŠ è½½"><a href="#7-1-å¼‚æ­¥åŠ è½½" class="headerlink" title="7.1 å¼‚æ­¥åŠ è½½"></a>7.1 å¼‚æ­¥åŠ è½½</h2><p>_å¼‚æ­¥åŠ è½½ï¼šä¸€ä¸ªé¡µé¢ï¼Œç‚¹å‡»åç½‘å€ä¸å˜ï¼Œé¡µé¢æ”¹å˜_</p><h3 id="7-1-1-AJAX-æŠ€æœ¯"><a href="#7-1-1-AJAX-æŠ€æœ¯" class="headerlink" title="7.1.1 AJAX æŠ€æœ¯"></a>7.1.1 AJAX æŠ€æœ¯</h3><ul><li>AJAX æ˜¯ Asynchronous JavaScript And XML çš„é¦–å­—æ¯ç¼©å†™ï¼Œæ„ä¸ºå¼‚æ­¥ JavaScript ä¸ XML</li><li>ä½¿ç”¨ AJAX æŠ€æœ¯ï¼Œå¯ä»¥åœ¨ä¸åˆ·æ–°ç½‘é¡µçš„æƒ…å†µä¸‹æ›´æ–°ç½‘é¡µæ•°æ®ã€‚ä½¿ç”¨ AJAX æŠ€æœ¯çš„ç½‘é¡µï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ HTML ç¼–å†™ç½‘é¡µçš„æ¡†æ¶ã€‚</li><li>åœ¨æ‰“å¼€ç½‘é¡µçš„æ—¶å€™ï¼Œé¦–å…ˆåŠ è½½çš„æ˜¯è¿™ä¸ªæ¡†æ¶ã€‚å‰©ä¸‹çš„éƒ¨åˆ†å°†ä¼šåœ¨æ¡†æ¶åŠ è½½å®Œæˆä»¥åå†é€šè¿‡ JavaScript ä»åå°åŠ è½½ã€‚</li></ul><h3 id="7-1-2-JSON"><a href="#7-1-2-JSON" class="headerlink" title="7.1.2 JSON"></a>7.1.2 JSON</h3><ul><li>JSON çš„å…¨ç§°æ˜¯ JavaScript Object Notationï¼Œæ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚ç½‘ç»œä¹‹é—´ä½¿ç”¨ HTTP æ–¹å¼ä¼ é€’æ•°æ®çš„æ—¶å€™ï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ä¼ é€’çš„éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</li><li>å› æ­¤ï¼Œå½“éœ€è¦æŠŠ Python é‡Œé¢çš„æ•°æ®å‘é€ç»™ç½‘é¡µæˆ–è€…å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆå°† Python çš„æ•°æ®è½¬åŒ–ä¸º JSON æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œç„¶åå°†å­—ç¬¦ä¸²ä¼ é€’ç»™å…¶ä»–è¯­è¨€ï¼Œå…¶ä»–è¯­è¨€å†å°† JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå®ƒè‡ªå·±çš„æ•°æ®æ ¼å¼</li><li><strong>åˆ—è¡¨\å­—å…¸ä¸å­—ç¬¦ä¸²ç›¸äº’è½¬åŒ–</strong></li><li>_python ä¸­å­—å…¸ or åˆ—è¡¨ ä¸ json æ ¼å¼å­—ç¬¦ä¸²çš„ç›¸äº’è½¬åŒ–_</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span> : <span class="string">&#x27;Connor&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sex&#x27;</span> : <span class="string">&#x27;boy&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;age&#x27;</span> : <span class="number">26</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(data)     <span class="comment">#dict   #&#123;&#x27;name&#x27;: &#x27;Connor&#x27;, &#x27;sex&#x27;: &#x27;boy&#x27;, &#x27;age&#x27;: 26&#125;</span></span><br><span class="line">data1=json.dumps(data)</span><br><span class="line"><span class="built_in">print</span>(data1)    <span class="comment">#str    #&#123;&quot;name&quot;: &quot;Connor&quot;, &quot;sex&quot;: &quot;boy&quot;, &quot;age&quot;: 26&#125;</span></span><br><span class="line">data2=json.loads(data1)</span><br><span class="line"><span class="built_in">print</span>(data2)    <span class="comment">#dict   #&#123;&#x27;name&#x27;: &#x27;Connor&#x27;, &#x27;sex&#x27;: &#x27;boy&#x27;, &#x27;age&#x27;: 26&#125;</span></span><br><span class="line"><span class="comment"># å¦‚æœåŠ ä¸Šindent=4å‚æ•°</span></span><br><span class="line">data3 = json.dumps(data,indent=<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(data3)    <span class="comment">#str</span></span><br><span class="line"><span class="comment">#ç»“æœæ›´åŠ çš„ç¾è§‚æ˜“è¯»</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    &quot;name&quot;: &quot;Connor&quot;,</span></span><br><span class="line"><span class="string">    &quot;sex&quot;: &quot;boy&quot;,</span></span><br><span class="line"><span class="string">    &quot;age&quot;: 26</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><strong>str=json.dumps(dict)</strong></li><li><strong>dict=json.loads(str)</strong></li></ul><h3 id="7-1-3-å¼‚æ­¥-GET-ä¸-POST-è¯·æ±‚"><a href="#7-1-3-å¼‚æ­¥-GET-ä¸-POST-è¯·æ±‚" class="headerlink" title="7.1.3 å¼‚æ­¥ GET ä¸ POST è¯·æ±‚"></a>7.1.3 å¼‚æ­¥ GET ä¸ POST è¯·æ±‚</h3><ul><li>ä½¿ç”¨å¼‚æ­¥åŠ è½½æŠ€æœ¯çš„ç½‘ç«™ï¼Œè¢«åŠ è½½çš„å†…å®¹æ˜¯ä¸èƒ½åœ¨æºä»£ç ä¸­æ‰¾åˆ°çš„ã€‚</li><li>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦ä½¿ç”¨ Google Chrome æµè§ˆå™¨çš„å¼€å‘è€…æ¨¡å¼ã€‚åœ¨ç½‘é¡µä¸Šå•å‡»å³é”®ï¼Œé€‰æ‹©â€œæ£€æŸ¥â€å‘½ä»¤ï¼Œç„¶åå®šä½åˆ°â€œNetworkâ€é€‰é¡¹å¡</li><li>æ¥ä¸‹æ¥éœ€è¦åˆ·æ–°ç½‘é¡µã€‚åœ¨ Windows ä¸‹ï¼ŒæŒ‰ F5 é”®æˆ–è€…å•å‡»åœ°å€æ å·¦è¾¹çš„â€œåˆ·æ–°â€æŒ‰é’®</li><li>å•å‡»â€œNetworkâ€é€‰é¡¹å¡ä¸‹é¢å‡ºç°çš„â€œajax_1_backendâ€å’Œâ€œajax_1_postbackendâ€ï¼Œå¹¶å®šä½åˆ°â€œResponseâ€é€‰é¡¹å¡ï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œå‡ºç°äº†ç½‘é¡µä¸Šé¢çš„å†…å®¹</li><li>å†é€‰æ‹©â€œHeadersâ€é€‰é¡¹å¡ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªè¯·æ±‚ä½¿ç”¨ GET æ–¹å¼ï¼Œå‘é€åˆ°<a href="http://exercise.kingname.info/ajax_1_backend">http://exercise.kingname.info/ajax_1_backend</a></li><li>å¯¹äºç½‘é¡µä¸­çš„ç¬¬ 2 æ¡å†…å®¹ï¼ŒæŸ¥çœ‹â€œHeadersâ€é€‰é¡¹å¡ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™æ˜¯ä½¿ç”¨ POST æ–¹å¼å‘<a href="http://exercise.kingname.info/ajax_1_postbackend">http://exercise.kingname.info/ajax_1_postbackend</a> å‘é€è¯·æ±‚ï¼Œå¹¶ä»¥ JSON æ ¼å¼æäº¤æ•°æ®<blockquote><p>å…·ä½“ä»£ç å®ç°çœ‹<em>request</em>&nbsp;&nbsp;çš„<strong><a href="#è¿›é˜¶ç”¨æ³•">è¿›é˜¶ç”¨æ³•</a></strong></p></blockquote></li></ul><h3 id="7-1-4-ç‰¹æ®Šçš„å¼‚æ­¥åŠ è½½"><a href="#7-1-4-ç‰¹æ®Šçš„å¼‚æ­¥åŠ è½½" class="headerlink" title="7.1.4 ç‰¹æ®Šçš„å¼‚æ­¥åŠ è½½"></a>7.1.4 ç‰¹æ®Šçš„å¼‚æ­¥åŠ è½½</h3><ul><li><strong><a href="http://exercise.kingname.info/exercise_ajax_2.html">ç»ƒä¹ é¡µé¢</a></strong></li></ul><ul><li>ä¼ªè£…æˆå¼‚æ­¥åŠ è½½çš„åç«¯æ¸²æŸ“,æ•°æ®å°±åœ¨æºä»£ç é‡Œï¼Œä½†å´ä¸ç›´æ¥æ˜¾ç¤ºå‡ºæ¥</li><li>æºä»£ç æœ€ä¸‹é¢çš„ JavaScript ä»£ç ï¼Œå…¶ä¸­æœ‰ä¸€æ®µï¼š<br><code>&#123;&quot;code&quot;: &quot;\u884c\u52a8\u4ee3\u53f7\uff1a\u5929\u738b\u76d6\u5730\u864e&quot;&#125;</code></li><li>ä½¿ç”¨ Python å»è§£æï¼Œå‘ç°å¯ä»¥å¾—åˆ°ç½‘é¡µä¸Šé¢çš„å†…å®¹</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">html_json = <span class="string">&#x27;&#123;&quot;code&quot;: &quot;\u884c\u52a8\u4ee3\u53f7\uff1a\u5929\u738b\u76d6\u5730\u864e&quot;&#125;&#x27;</span></span><br><span class="line">html_dic = json.loads(html_json)</span><br><span class="line"><span class="built_in">print</span>(html_dic)      <span class="comment">#&#123;&#x27;code&#x27;: &#x27;è¡ŒåŠ¨ä»£å·ï¼šå¤©ç‹ç›–åœ°è™&#x27;&#125;</span></span><br></pre></td></tr></table></figure><ul><li><strong>è¿™ç§å‡çš„å¼‚æ­¥åŠ è½½é¡µé¢ï¼Œå…¶å¤„ç†æ€è·¯ä¸€èˆ¬æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä»é¡µé¢ä¸­æŠŠæ•°æ®æå–å‡ºæ¥ï¼Œç„¶åç›´æ¥è§£æ</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://exercise.kingname.info/exercise_ajax_2.html&#x27;</span></span><br><span class="line">html = requests.get(url).content.decode()</span><br><span class="line">code_json = re.search(<span class="string">&quot;secret = &#x27;(.*?)&#x27;&quot;</span>, html, re.S).group(<span class="number">1</span>)</span><br><span class="line">code_dict = json.loads(code_json)</span><br><span class="line"><span class="built_in">print</span>(code_dict[<span class="string">&#x27;code&#x27;</span>])</span><br><span class="line"><span class="comment">#è¡ŒåŠ¨ä»£å·ï¼šå¤©ç‹ç›–åœ°è™</span></span><br></pre></td></tr></table></figure><h3 id="7-1-5-å¤šæ¬¡è¯·æ±‚çš„å¼‚æ­¥åŠ è½½"><a href="#7-1-5-å¤šæ¬¡è¯·æ±‚çš„å¼‚æ­¥åŠ è½½" class="headerlink" title="7.1.5 å¤šæ¬¡è¯·æ±‚çš„å¼‚æ­¥åŠ è½½"></a>7.1.5 å¤šæ¬¡è¯·æ±‚çš„å¼‚æ­¥åŠ è½½</h3><ul><li><strong><a href="http://exercise.kingname.info/exercise_ajax_3.html">ç»ƒä¹ é¡µé¢</a></strong></li></ul><ul><li>è¿˜æœ‰ä¸€äº›ç½‘é¡µï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šçš„å†…å®¹è¦ç»è¿‡å¤šæ¬¡å¼‚æ­¥è¯·æ±‚æ‰èƒ½å¾—åˆ°ã€‚</li><li>ç¬¬ 1 ä¸ª AJAX è¯·æ±‚è¿”å›çš„æ˜¯ç¬¬ 2 ä¸ªè¯·æ±‚çš„å‚æ•°ï¼Œç¬¬ 2 ä¸ªè¯·æ±‚çš„è¿”å›å†…å®¹åˆæ˜¯ç¬¬ 3 ä¸ªè¯·æ±‚çš„å‚æ•°ï¼Œåªæœ‰å¾—åˆ°äº†ä¸Šä¸€ä¸ªè¯·æ±‚é‡Œé¢çš„æœ‰ç”¨ä¿¡æ¯ï¼Œæ‰èƒ½å‘èµ·ä¸‹ä¸€ä¸ªè¯·æ±‚</li><li>åœ¨â€œHeadersâ€é€‰é¡¹å¡æŸ¥çœ‹è¿™ä¸ª POST è¯·æ±‚çš„å…·ä½“å‚æ•°ï¼Œåœ¨ body é‡Œé¢å‘ç°ä¸¤ä¸ªå¥‡æ€ªçš„å‚æ•° secret1 å’Œ secret2</li><li>å°è¯•ä¿®æ”¹ secret1 å’Œ secret2ï¼Œå‘ç° POST è¯·æ±‚æ— æ³•å¾—åˆ°æƒ³è¦çš„ç»“æœ<br><strong>å¥‡æ€ªçš„å‚æ•°</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name: &quot;xx&quot;</span><br><span class="line">age: 24</span><br><span class="line">secret1: &quot;kingname is genius.&quot;</span><br><span class="line">secret2: &quot;kingname&quot;</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœä¿®æ”¹è¿™ä¸¤ä¸ªå‚æ•°</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://exercise.kingname.info/ajax_3_postbackend&#x27;</span></span><br><span class="line">return_json_1 = requests.post(url,json=&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;xx&quot;</span>,</span><br><span class="line"><span class="string">&quot;age&quot;</span>:<span class="string">&quot;24&quot;</span>,<span class="string">&quot;secret1&quot;</span>:<span class="string">&quot;123&quot;</span>,<span class="string">&quot;secret2&quot;</span>:<span class="string">&quot;456&quot;</span>&#125;)</span><br><span class="line">return_json_2 = requests.post(url,json=&#123;<span class="string">&quot;name&quot;</span> :<span class="string">&quot;xx&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">23</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(json.loads(return_json_1.content.decode()))   <span class="comment">#&#123;&#x27;success&#x27;: False, &#x27;reason&#x27;: &#x27;å‚æ•°é”™è¯¯&#x27;&#125;</span></span><br><span class="line"><span class="built_in">print</span>(json.loads(return_json_2.content.decode()))   <span class="comment">#&#123;&#x27;success&#x27;: False, &#x27;reason&#x27;: &#x27;å‚æ•°ä¸å…¨&#x27;&#125;</span></span><br></pre></td></tr></table></figure><ul><li>æ‰“å¼€è¿™ä¸ªç»ƒä¹ é¡µçš„æºä»£ç ï¼Œåœ¨æºä»£ç ä¸­å¯ä»¥æ‰¾åˆ° secret_2</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>exercise ajax load<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> secret_2 = <span class="string">&quot;kingname&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;static/js/jquery-3.2.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;static/js/loaddata_3.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>è™½ç„¶åœ¨ POST å‚æ•°ä¸­ï¼Œåå­—æ˜¯ secret2ï¼Œè€Œæºä»£ç ä¸­çš„åå­—æ˜¯ secret_2ï¼Œä¸è¿‡ä»å€¼å¯ä»¥çœ‹å‡ºè¿™å°±æ˜¯åŒä¸€ä¸ªå‚æ•°</li><li>æºä»£ç é‡Œé¢æ²¡æœ‰ secret1ï¼Œå› æ­¤å°±è¦è€ƒè™‘è¿™ä¸ªå‚æ•°æ˜¯ä¸æ˜¯æ¥è‡ªäºå¦ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚</li><li>ç»§ç»­åœ¨å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹å…¶ä»–è¯·æ±‚ï¼Œå¯ä»¥æˆåŠŸæ‰¾åˆ° secret1,æ³¨æ„ï¼Œå®ƒçš„åå­—å˜ä¸ºäº†â€œcodeâ€ï¼Œä½†æ˜¯ä»å€¼å¯ä»¥çœ‹å‡ºè¿™å°±æ˜¯ secret1</li></ul><ul><li><strong>ä¸å°‘ç½‘ç«™ä¹Ÿä¼šä½¿ç”¨è¿™ç§æ”¹åå­—çš„æ–¹å¼æ¥è¿·æƒ‘çˆ¬è™«å¼€å‘è€…</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">code</span>: <span class="string">&quot;kingname is genius.&quot;</span>, <span class="attr">success</span>: <span class="literal">true</span>&#125;</span><br><span class="line"><span class="attr">code</span>: <span class="string">&quot;kingname is genius.&quot;</span></span><br><span class="line"><span class="attr">success</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>è¿™ä¸€æ¡è¯·æ±‚å°±æ˜¯ä¸€ä¸ªä¸å¸¦ä»»ä½•å‚æ•°çš„ GET è¯·æ±‚</li><li>_å¯¹äºè¿™ç§å¤šæ¬¡è¯·æ±‚æ‰èƒ½å¾—åˆ°æ•°æ®çš„æƒ…å†µï¼Œè§£å†³åŠæ³•å°±æ˜¯é€ä¸€è¯·æ±‚ï¼Œå¾—åˆ°è¿”å›ç»“æœä»¥åå†å‘èµ·ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚å…·ä½“åˆ°è¿™ä¸ªä¾‹å­ä¸­ï¼Œé‚£å°±æ˜¯å…ˆä»æºä»£ç é‡Œé¢è·å¾— secret2ï¼Œå†é€šè¿‡ GET è¯·æ±‚å¾—åˆ° secret1ï¼Œæœ€åä½¿ç”¨ secret1 å’Œ secret2 æ¥è·å–é¡µé¢ä¸Šæ˜¾ç¤ºçš„å†…å®¹_</li></ul><ul><li><strong>[çˆ¬å–ç½‘ç«™]<a href="http://exercise.kingname.info/exercise_ajax_3.html">http://exercise.kingname.info/exercise_ajax_3.html</a>)</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://exercise.kingname.info/exercise_ajax_3.html&#x27;</span></span><br><span class="line">first_ajax_url = <span class="string">&#x27;http://exercise.kingname.info/ajax_3_backend&#x27;</span></span><br><span class="line">second_ajax_url = <span class="string">&#x27;http://exercise.kingname.info/ajax_3_postbackend&#x27;</span></span><br><span class="line"></span><br><span class="line">page_html = requests.get(url).content.decode()</span><br><span class="line">secret_2 = re.search(<span class="string">&quot;secret_2 = &#x27;(.*?)&#x27;;&quot;</span>,page_html,re.S).group(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(secret_2)           <span class="comment">#kingname</span></span><br><span class="line"></span><br><span class="line">ajax_1_json = requests.get(first_ajax_url).content.decode()</span><br><span class="line"><span class="built_in">print</span>(ajax_1_json)        <span class="comment">#&#123;&quot;code&quot;: &quot;kingname is genius.&quot;, &quot;success&quot;: true&#125;</span></span><br><span class="line">ajax_1_dict = json.loads(ajax_1_json)</span><br><span class="line">secret_1 = ajax_1_dict[<span class="string">&#x27;code&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(secret_1)           <span class="comment">#kingname is genius.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–äº†secret_1å’Œsecret_2åpostè¯·æ±‚second_ajax_url</span></span><br><span class="line"></span><br><span class="line">ajax_2_json = requests.post(second_ajax_url,json=&#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;yq&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">24</span>,<span class="string">&#x27;secret1&#x27;</span>:secret_1,<span class="string">&#x27;secret2&#x27;</span>:secret_2</span><br><span class="line">&#125;).content.decode()</span><br><span class="line"><span class="built_in">print</span>(ajax_2_json)          <span class="comment">#&#123;&quot;code&quot;: &quot;\u884c\u52a8\u4ee3\u53f7\uff1a\u54ce\u54df\u4e0d\u9519\u54e6&quot;, &quot;success&quot;: true&#125;</span></span><br><span class="line"></span><br><span class="line">ajax_2_dict = json.loads(ajax_2_json)</span><br><span class="line"><span class="built_in">print</span>(ajax_2_dict)          <span class="comment">#&#123;&#x27;code&#x27;: &#x27;è¡ŒåŠ¨ä»£å·ï¼šå“å“Ÿä¸é”™å“¦&#x27;, &#x27;success&#x27;: True&#125;</span></span><br><span class="line"></span><br><span class="line">code = ajax_2_dict[<span class="string">&#x27;code&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(code)                 <span class="comment">#è¡ŒåŠ¨ä»£å·ï¼šå“å“Ÿä¸é”™å“¦</span></span><br></pre></td></tr></table></figure><h3 id="7-1-6-åŸºäºå¼‚æ­¥åŠ è½½çš„ç®€å•ç™»å½•"><a href="#7-1-6-åŸºäºå¼‚æ­¥åŠ è½½çš„ç®€å•ç™»å½•" class="headerlink" title="7.1.6 åŸºäºå¼‚æ­¥åŠ è½½çš„ç®€å•ç™»å½•"></a>7.1.6 åŸºäºå¼‚æ­¥åŠ è½½çš„ç®€å•ç™»å½•</h3><ul><li><strong><a href="http://exercise.kingname.info/exercise_ajax_4.html">ç»ƒä¹ é¡µé¢</a></strong></li></ul><ul><li>ç½‘ç«™çš„ç™»å½•æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå…¶ä¸­æœ‰ä¸€ç§æ¯”è¾ƒç®€å•çš„æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨ AJAX å‘é€è¯·æ±‚æ¥è¿›è¡Œç™»å½•</li><li>åœ¨<a href="http://exercise.kingname.info/exercise_ajax_4.html">ç»ƒä¹ é¡µé¢</a>ä¸­æ ¹æ®è¾“å…¥æ¡†ä¸­çš„æç¤ºï¼Œä½¿ç”¨ç”¨æˆ·åâ€œkingnameâ€å’Œå¯†ç â€œgeniusâ€è¿›è¡Œç™»å½•,ç™»å½•æˆåŠŸä»¥åå¼¹å‡ºæç¤ºæ¡†</li><li><strong>å¯¹äºè¿™ç§ç®€å•çš„ç™»å½•åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨æŠ“å–å¼‚æ­¥åŠ è½½ç½‘é¡µçš„æ–¹å¼æ¥è¿›è¡Œå¤„ç†</strong></li><li>åœ¨ Chrome å¼€å‘è€…å·¥å…·ä¸­å¯ä»¥å‘ç°ï¼Œå½“å•å‡»â€œç™»å½•â€æŒ‰é’®æ—¶ï¼Œç½‘é¡µå‘åå°å‘é€äº†ä¸€æ¡è¯·æ±‚<br><strong><code>&#123;&quot;code&quot;: &quot;kingname is genius&quot;, &quot;success&quot;: true&#125;</code></strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://exercise.kingname.info/ajax_4_backend&#x27;</span></span><br><span class="line">code_json = requests.post(url,json=&#123;</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;kingname&#x27;</span>,<span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;genius&#x27;</span>&#125;).content.decode()</span><br><span class="line">code__dict = json.loads(code_json)</span><br><span class="line"><span class="built_in">print</span>(code__dict[<span class="string">&#x27;code&#x27;</span>])</span><br><span class="line"><span class="comment"># kingname is genius</span></span><br></pre></td></tr></table></figure><ul><li>è¿™å°±æ˜¯ä½¿ç”¨ POST æ–¹å¼çš„æœ€ç®€å•çš„ AJAX è¯·æ±‚ã€‚ä½¿ç”¨è·å– POST æ–¹å¼çš„ AJAX è¯·æ±‚çš„ä»£ç ï¼Œå°±èƒ½æˆåŠŸè·å–åˆ°ç™»å½•ä»¥åè¿”å›çš„å†…å®¹</li></ul><h2 id="7-2-è¯·æ±‚å¤´"><a href="#7-2-è¯·æ±‚å¤´" class="headerlink" title="7.2 è¯·æ±‚å¤´"></a>7.2 è¯·æ±‚å¤´</h2><h3 id="7-2-1-è¯·æ±‚å¤´çš„ä½œç”¨"><a href="#7-2-1-è¯·æ±‚å¤´çš„ä½œç”¨" class="headerlink" title="7.2.1 è¯·æ±‚å¤´çš„ä½œç”¨"></a>7.2.1 è¯·æ±‚å¤´çš„ä½œç”¨</h3><ul><li>ä½¿ç”¨è®¡ç®—æœºç½‘é¡µç‰ˆå¤–å–ç½‘ç«™çš„è¯»è€…åº”è¯¥ä¼šå‘ç°è¿™æ ·ä¸€ä¸ªç°è±¡ï¼šç¬¬ä¸€æ¬¡ç™»å½•å¤–å–ç½‘é¡µçš„æ—¶å€™ä¼šè®©ä½ é€‰æ‹©å½“å‰æ‰€åœ¨çš„å•†ä¸šåœˆï¼Œä¸€æ—¦é€‰å®šå¥½ä¹‹åå…³é—­æµè§ˆå™¨å†æ‰“å¼€ï¼Œç½‘é¡µå°±ä¼šè‡ªåŠ¨å®šä½åˆ°å…ˆå‰é€‰æ‹©çš„å•†ä¸šåœˆ</li><li>åˆæ¯”å¦‚ï¼Œä¾‹å¦‚æºç¨‹çš„ç½‘ç«™ï¼Œä½¿ç”¨è®¡ç®—æœºæµè§ˆå™¨æ‰“å¼€çš„æ—¶å€™ï¼Œé¡µé¢çœ‹èµ·æ¥éå¸¸å¤æ‚å¤šæ ·</li><li>åŒä¸€ä¸ªç½‘å€ï¼Œä½¿ç”¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€æ—¶ï¼Œç½‘å€ä¼šè‡ªåŠ¨å‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸”å¾—åˆ°çš„é¡µé¢ç«Ÿç„¶å®Œå…¨ä¸åŒ<br><strong>åŒä¸€ä¸ªç½‘å€ï¼ŒPC ç«¯å’Œæ‰‹æœºç«¯é¡µé¢ä¸åŒ</strong></li></ul><ul><li>Headers ç§°ä¸ºè¯·æ±‚å¤´ï¼Œæµè§ˆå™¨å¯ä»¥å°†ä¸€äº›ä¿¡æ¯é€šè¿‡ Headers ä¼ é€’ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥å°†ä¸€äº›ä¿¡æ¯é€šè¿‡ Headers ä¼ é€’ç»™æµè§ˆå™¨ï¼Œç”µå•†ç½‘ç«™å¸¸å¸¸åº”ç”¨çš„ Cookies å°±æ˜¯ Headers é‡Œé¢çš„ä¸€ä¸ªéƒ¨åˆ†</li></ul><h3 id="7-2-2-ä¼ªé€ è¯·æ±‚å¤´"><a href="#7-2-2-ä¼ªé€ è¯·æ±‚å¤´" class="headerlink" title="7.2.2 ä¼ªé€ è¯·æ±‚å¤´"></a>7.2.2 ä¼ªé€ è¯·æ±‚å¤´</h3><ul><li>æ‰“å¼€<a href="http://exercise.kingname.info/exercise_headers.html">ç»ƒä¹ é¡µ</a>ï¼Œä½¿ç”¨ Chrome çš„å¼€å‘è€…å·¥å…·ç›‘æ§è¿™ä¸ªé¡µé¢çš„ç½‘é¡µè¯·æ±‚</li><li>é¡µé¢çœ‹èµ·æ¥åƒæ˜¯å‘èµ·äº†ä¸€ä¸ªæ™®é€šçš„ GET æ–¹å¼çš„å¼‚æ­¥è¯·æ±‚ç»™<a href="http://exercise.kingname.info/exercise_headers_backend">http://exercise.kingname.info/exercise_headers_backend</a></li><li>ä½¿ç”¨ requests å°è¯•è·å–è¿™ä¸ªç½‘å€çš„è¿”å›ä¿¡æ¯,ç»“æœå‘ç°å¤±è´¥</li><li>ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç½‘ç«™çš„æ—¶å€™ï¼Œç½‘ç«™å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåç§°ä¸º Headersï¼ˆè¯·æ±‚å¤´ï¼‰çš„ä¸œè¥¿</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">headers = &#123;</span><br><span class="line">            <span class="title class_">Accept</span>: *<span class="comment">/*</span></span><br><span class="line"><span class="comment">            Accept-Encoding: gzip, deflate</span></span><br><span class="line"><span class="comment">            Accept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7</span></span><br><span class="line"><span class="comment">            anhao: kingname</span></span><br><span class="line"><span class="comment">            Content-Type: application/json; charset=utf-8</span></span><br><span class="line"><span class="comment">            Cookie: __cfduid=d513aff6c34f63c4c2971cdf1e19780051581303763</span></span><br><span class="line"><span class="comment">            Host: exercise.kingname.info</span></span><br><span class="line"><span class="comment">            Proxy-Connection: keep-alive</span></span><br><span class="line"><span class="comment">            Referer: http://exercise.kingname.info/exercise_headers.html</span></span><br><span class="line"><span class="comment">            User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.79 Safari/537.36</span></span><br><span class="line"><span class="comment">            X-Requested-With: XMLHttpRequest</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br></pre></td></tr></table></figure><ul><li>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦ç»™çˆ¬è™«â€œæ¢å¤´â€ã€‚æŠŠæµè§ˆå™¨çš„å¤´å®‰è£…åˆ°çˆ¬è™«çš„èº«ä¸Šï¼Œè¿™æ ·ç½‘ç«™å°±ä¸çŸ¥é“è°æ˜¯è°äº†</li><li>è¦æ¢å¤´ï¼Œé¦–å…ˆå°±éœ€è¦çŸ¥é“æµè§ˆå™¨çš„å¤´æ˜¯ä»€ä¹ˆæ ·çš„ã€‚å› æ­¤éœ€è¦åœ¨ Chrome æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„â€œNetworkâ€é€‰é¡¹å¡çš„ Request Headers é‡Œé¢è§‚å¯Ÿè¿™ä¸€æ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´</li><li>åœ¨ requests é‡Œé¢ï¼Œè®¾ç½®è¯·æ±‚å¤´çš„å‚æ•°åç§°ä¸ºâ€œheadersâ€ï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªå­—å…¸<br><strong>å¸¦æœ‰è¯·æ±‚å¤´çš„è¯·æ±‚ï¼Œä½¿ç”¨ requests çš„å‘é€æ ¼å¼ä¸ºï¼š</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">html = requests.get(url, headers=å­—å…¸).content.decode()</span><br><span class="line">html = requests.post(url, json=xxx, headers=å­—å…¸).content.decode()</span><br></pre></td></tr></table></figure><ul><li>ä»£ç ä¸­çš„å­—å…¸å°±å¯¹åº”äº†æµè§ˆå™¨ä¸­çš„è¯·æ±‚å¤´</li><li>åœ¨çˆ¬è™«é‡Œé¢åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œå°† Chrome çš„è¯·æ±‚å¤´çš„å†…å®¹å¤åˆ¶è¿›å»ï¼Œå¹¶è°ƒæ•´å¥½æ ¼å¼ï¼Œå‘èµ·ä¸€ä¸ªå¸¦æœ‰ Chrome è¯·æ±‚å¤´çš„çˆ¬è™«è¯·æ±‚ï¼Œå¯ä»¥å‘ç°è¯·æ±‚è·å¾—æˆåŠŸ</li><li>è™½ç„¶å¯¹äºæŸäº›ç½‘ç«™ï¼Œåœ¨è¯·æ±‚å¤´é‡Œé¢åªéœ€è¦è®¾ç½® User-Agent å°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ï¼Œä½†æ˜¯ä¸ºäº†ä¿é™©èµ·è§ï¼Œè¿˜æ˜¯å»ºè®®æŠŠæ‰€æœ‰é¡¹ç›®éƒ½å¸¦ä¸Šï¼Œè¿™æ ·å¯ä»¥è®©çˆ¬è™«æ›´â€œåƒâ€æµè§ˆå™¨</li></ul><h2 id="7-3-æ¨¡æ‹Ÿæµè§ˆå™¨"><a href="#7-3-æ¨¡æ‹Ÿæµè§ˆå™¨" class="headerlink" title="7.3 æ¨¡æ‹Ÿæµè§ˆå™¨"></a>7.3 æ¨¡æ‹Ÿæµè§ˆå™¨</h2><ul><li><strong><a href="http://exercise.kingname.info/exercise_advanced_ajax.html">ç»ƒä¹ é¡µé¢</a></strong></li><li>_é—®é¢˜ï¼š_</li><li>æœ‰ä¸€äº›ç½‘ç«™åœ¨å‘èµ· AJAX è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šå¸¦ä¸Šç‰¹æ®Šçš„å­—ç¬¦ä¸²ç”¨äºèº«ä»½éªŒè¯ã€‚è¿™ç§å­—ç¬¦ä¸²ç§°ä¸º Token</li><li>æ‰“å¼€ç»ƒä¹ é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢åœ¨å‘èµ· AJAX è¯·æ±‚çš„æ—¶å€™ä¼šåœ¨ Headers ä¸­å¸¦ä¸Šä¸€ä¸ªå‚æ•° ReqTimeï¼›åœ¨ POST å‘é€çš„æ•°æ®ä¸­ä¼šæœ‰ä¸€ä¸ªå‚æ•° sum</li><li>å¤šæ¬¡åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥å‘ç° ReqTime å’Œ sum ä¸€ç›´åœ¨å˜åŒ–</li><li>ä¸éš¾çœ‹å‡º ReqTime æ˜¯ç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´æˆ³ï¼Œå³ä½¿ä½¿ç”¨ Python ç”Ÿæˆäº†ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œä¹Ÿä¸èƒ½å¾—åˆ°ç½‘é¡µä¸Šé¢çš„å†…å®¹</li></ul><h3 id="7-3-1-Selenium-ä»‹ç»"><a href="#7-3-1-Selenium-ä»‹ç»" class="headerlink" title="7.3.1 Selenium ä»‹ç»"></a>7.3.1 Selenium ä»‹ç»</h3><ul><li>è™½ç„¶åœ¨ç½‘é¡µçš„æºä»£ç ä¸­æ— æ³•çœ‹åˆ°è¢«å¼‚æ­¥åŠ è½½çš„å†…å®¹ï¼Œä½†æ˜¯åœ¨ Chrome çš„å¼€å‘è€…å·¥å…·çš„â€œElementsâ€é€‰é¡¹å¡ä¸‹å´å¯ä»¥çœ‹åˆ°ç½‘é¡µä¸Šçš„å†…å®¹</li></ul><h3 id="7-3-2-selenium-å®‰è£…"><a href="#7-3-2-selenium-å®‰è£…" class="headerlink" title="7.3.2 selenium å®‰è£…"></a>7.3.2 selenium å®‰è£…</h3><ul><li>å®‰è£… selenium <code>pip install selenium</code></li><li>ä¸‹è½½ ChromeDriver</li></ul><h3 id="7-3-3-selenium-çš„ä½¿ç”¨"><a href="#7-3-3-selenium-çš„ä½¿ç”¨" class="headerlink" title="7.3.3 selenium çš„ä½¿ç”¨"></a>7.3.3 selenium çš„ä½¿ç”¨</h3><h4 id="7-3-3-1-è·å–æºä»£ç "><a href="#7-3-3-1-è·å–æºä»£ç " class="headerlink" title="7.3.3.1 è·å–æºä»£ç "></a>7.3.3.1 è·å–æºä»£ç </h4><ul><li><strong>å°† chromedriver ä¸ä»£ç æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ä»¥æ–¹ä¾¿ä»£ç ç›´æ¥è°ƒç”¨</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–selenium</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver = webdriver.Chrome(<span class="string">&#x27;./chromedriver&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>æŒ‡å®šäº† Selenium ä½¿ç”¨ ChromeDriver æ¥æ“ä½œ Chrome è§£æç½‘é¡µï¼Œæ‹¬å·é‡Œçš„å‚æ•°å°±æ˜¯ ChromeDriver å¯æ‰§è¡Œæ–‡ä»¶çš„åœ°å€</li></ul><ul><li>å¦‚æœè¦ä½¿ç”¨ PhantomJSï¼Œåªéœ€è¦ä¿®æ”¹ç¬¬ 3 è¡Œä»£ç å³å¯ï¼šdriver = webdriver.PhantomJS(â€˜./phantomjsâ€™)ï¼Œéœ€è¦å°† PhantomJS çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸ä»£ç æ”¾åœ¨ä¸€èµ·</li><li>éœ€è¦ç‰¹åˆ«æé†’çš„æ˜¯ï¼Œå¦‚æœ chromedriver ä¸ä»£ç ä¸åœ¨ä¸€èµ·ï¼Œå¯ä»¥é€šè¿‡ç»å¯¹è·¯å¾„æ¥æŒ‡å®šï¼Œä¾‹å¦‚ï¼šdriver = webdriver.Chrome(â€˜/usr/bin/chromedriverâ€™)</li><li>ä½¿ç”¨ Windows çš„è¯»è€…å¯åœ¨è·¯å¾„å­—ç¬¦ä¸²å·¦å¼•å·çš„å·¦è¾¹åŠ ä¸€ä¸ªâ€œrâ€ç¬¦å·ï¼Œå°†ä»£ç å†™ä¸ºï¼šdriver = webdriver.Chrome(râ€™C:\server\chromedriver.exeâ€™)</li><li>åˆå§‹åŒ–å®Œæˆä»¥åï¼Œå°±å¯ä»¥ä½¿ç”¨ Selenium æ‰“å¼€ç½‘é¡µäº†ã€‚è¦æ‰“å¼€ä¸€ä¸ªç½‘é¡µåªéœ€è¦ä¸€è¡Œä»£ç ï¼š<br><code>driver.get(&#39;http://exercise.kingname.info/exercise_advanced_ajax.html&#39;)</code></li><li>ä»£ç è¿è¡Œä»¥åä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ª Chrome çª—å£ï¼Œå¹¶åœ¨çª—å£é‡Œé¢è‡ªåŠ¨è¿›å…¥è¿™ä¸ªç½‘å€å¯¹åº”çš„é¡µé¢ã€‚ä¸€æ—¦è¢«å¼‚æ­¥åŠ è½½çš„å†…å®¹å·²ç»å‡ºç°åœ¨äº†è¿™ä¸ªè‡ªåŠ¨æ‰“å¼€çš„ Chrome çª—å£ä¸­ï¼Œé‚£ä¹ˆæ­¤æ—¶ä½¿ç”¨ä¸‹åˆ—ä»£ç ï¼š<br><code>html = driver.page_source</code></li><li>å°±èƒ½å¾—åˆ°åœ¨ Chrome å¼€å‘è€…å·¥å…·ä¸­å‡ºç°çš„ HTML ä»£ç <br><strong>ç»¼åˆï¼š</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome(<span class="string">r&#x27;C:\Program Files (x86)\Google\Chrome\Application\chromedriver&#x27;</span>)</span><br><span class="line">driver.get(<span class="string">&#x27;http://exercise.kingname.info/exercise_advanced_ajax.html&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line">html = driver.page_source</span><br><span class="line"><span class="built_in">print</span>(html)</span><br><span class="line"><span class="built_in">input</span>(<span class="string">&#x27;æŒ‰ä»»æ„é”®ç»“æŸï¼š&#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç¨‹åºä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢</strong><br><img src="https://raw.githubusercontent.com/yq010105/Blog_images/master/img/selenium.png" alt="selenium" title="selenium"></p><h4 id="7-3-3-2-ç­‰å¾…ä¿¡æ¯å‡ºç°"><a href="#7-3-3-2-ç­‰å¾…ä¿¡æ¯å‡ºç°" class="headerlink" title="7.3.3.2 ç­‰å¾…ä¿¡æ¯å‡ºç°"></a>7.3.3.2 ç­‰å¾…ä¿¡æ¯å‡ºç°</h4><ul><li>è®¾ç½®äº†ä¸€ä¸ª 5s çš„å»¶è¿Ÿï¼Œè¿™æ˜¯ç”±äº Selenium å¹¶ä¸ä¼šç­‰å¾…ç½‘é¡µåŠ è½½å®Œæˆå†æ‰§è¡Œåé¢çš„ä»£ç ã€‚å®ƒåªæ˜¯å‘ ChromeDriver å‘é€äº†ä¸€ä¸ªå‘½ä»¤ï¼Œè®© ChromeDriver æ‰“å¼€æŸä¸ªç½‘é¡µ</li><li>è‡³äºç½‘é¡µè¦å¼€å¤šä¹…ï¼ŒSelenium å¹¶ä¸å…³å¿ƒã€‚ç”±äºè¢«å¼‚æ­¥åŠ è½½çš„å†…å®¹ä¼šå»¶è¿Ÿå‡ºç°ï¼Œå› æ­¤éœ€è¦ç­‰å¾…å®ƒå‡ºç°ä»¥åå†å¼€å§‹æŠ“å–</li></ul><h4 id="7-3-3-3-åœ¨ç½‘é¡µä¸­è·å–å…ƒç´ "><a href="#7-3-3-3-åœ¨ç½‘é¡µä¸­è·å–å…ƒç´ " class="headerlink" title="7.3.3.3 åœ¨ç½‘é¡µä¸­è·å–å…ƒç´ "></a>7.3.3.3 åœ¨ç½‘é¡µä¸­è·å–å…ƒç´ </h4><p>_åœ¨ç½‘é¡µä¸­å¯»æ‰¾éœ€è¦çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼äº Beautiful Soup4 çš„è¯­æ³•ï¼š_</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element = driver.find_element_by_id(<span class="string">&quot;passwd-id&quot;</span>) <span class="comment">#å¦‚æœæœ‰å¤šä¸ªç¬¦åˆæ¡ä»¶çš„ï¼Œè¿”å›ç¬¬1ä¸ª</span></span><br><span class="line">element = driver.find_element_by_name(<span class="string">&quot;passwd&quot;</span>) <span class="comment">#å¦‚æœæœ‰å¤šä¸ªç¬¦åˆæ¡ä»¶çš„ï¼Œè¿”å›ç¬¬1ä¸ª</span></span><br><span class="line">element_list = driver.find_elements_by_id(<span class="string">&quot;passwd-id&quot;</span>) <span class="comment">#ä»¥åˆ—è¡¨å½¢å¼è¿”å›æ‰€æœ‰çš„ç¬¦åˆæ¡ä»¶çš„element</span></span><br><span class="line">element_list = driver.find_elements_by_name(<span class="string">&quot;passwd&quot;</span>) <span class="comment">#ä»¥åˆ—è¡¨å½¢å¼è¿”å›æ‰€æœ‰çš„ç¬¦åˆæ¡ä»¶çš„element</span></span><br></pre></td></tr></table></figure><p><strong>ä¹Ÿå¯ä»¥ä½¿ç”¨ XPath</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element = driver.find_element_by_xpath(<span class="string">&quot;//input[@id=&#x27;passwd-id&#x27;]&quot;</span>)</span><br><span class="line"><span class="comment">#å¦‚æœæœ‰å¤šä¸ªç¬¦åˆæ¡ä»¶çš„ï¼Œè¿”å›ç¬¬1ä¸ª</span></span><br><span class="line">element = driver.find_elements_by_xpath(<span class="string">&quot;//div[@id=&#x27;passwd-id&#x27;]&quot;</span>)</span><br><span class="line"><span class="comment">#ä»¥åˆ—è¡¨å½¢å¼è¿”å›æ‰€æœ‰çš„ç¬¦åˆæ¡ä»¶çš„element</span></span><br></pre></td></tr></table></figure><p><a href="http://exercise.kingname.info/exercise_advanced_ajax.html">ç»ƒä¹ ç½‘ç«™</a></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome(<span class="string">r&#x27;C:\Program Files (x86)\Google\Chrome\Application\chromedriver&#x27;</span>)</span><br><span class="line">driver.get(<span class="string">&#x27;http://exercise.kingname.info/exercise_advanced_ajax.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">try</span> :</span><br><span class="line">    WebDriverWait(driver,<span class="number">30</span>).until(EC.text_to_be_present_in_element(By.CLASS_NAME,<span class="string">&quot;content&quot;</span>),<span class="string">&#x27;é€šå…³&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> _:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;ç½‘é¡µåŠ è½½å¤ªæ…¢ï¼Œçˆ¬&#x27;</span>)</span><br><span class="line"><span class="comment"># ä½†æ˜¯ä¹Ÿå¯èƒ½ä¼šçˆ¬ï¼Œä¸çŸ¥åˆ°åŸå› </span></span><br><span class="line">element = driver.find_element_by_xpath(<span class="string">&#x27;//div[@class=&quot;content&quot;]&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;å¼‚æ­¥åŠ è½½çš„å†…å®¹æ˜¯ï¼š<span class="subst">&#123;element.text&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼‚æ­¥åŠ è½½çš„å†…å®¹æ˜¯ï¼šé€šå…³æˆåŠŸï¼Œé€šå…³å£ä»¤ï¼šè¿™æ˜¯æœ€ç»ˆæ•°æ®ã€‚</span></span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><h2 id="7-4-å®ä¾‹ï¼šä¹è§†çˆ¬å–è§†é¢‘è¯„è®º"><a href="#7-4-å®ä¾‹ï¼šä¹è§†çˆ¬å–è§†é¢‘è¯„è®º" class="headerlink" title="7.4 å®ä¾‹ï¼šä¹è§†çˆ¬å–è§†é¢‘è¯„è®º"></a>7.4 å®ä¾‹ï¼š<a href="http://www.le.com">ä¹è§†</a>çˆ¬å–è§†é¢‘è¯„è®º</h2><ul><li>_1&gt;åˆ†æç½‘ç«™çš„å¼‚æ­¥åŠ è½½è¯·æ±‚_</li><li>_2&gt;ä½¿ç”¨ requests å‘é€è¯·æ±‚_<hr/></li><li>é€šè¿‡ä½¿ç”¨ Chrome çš„å¼€å‘è€…å·¥å…·åˆ†æé¡µé¢çš„å¼‚æ­¥åŠ è½½è¯·æ±‚ï¼Œå¯ä»¥å‘ç°è¯„è®ºæ‰€åœ¨çš„è¯·æ±‚</li><li>å¯ä»¥ä½¿ç”¨ Python æ¥æ¨¡æ‹Ÿè¿™ä¸ªè¯·æ±‚ï¼Œä»è€Œè·å–è§†é¢‘çš„è¯„è®ºä¿¡æ¯</li><li><p>åœ¨è¯·æ±‚çš„ URL é‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°ï¼švid å’Œ pid,è¿™ä¸¤ä¸ªå‚æ•°åœ¨ç½‘é¡µçš„æºä»£ç é‡Œé¢éƒ½å¯ä»¥æ‰¾åˆ°</p><hr/></li><li><p>çˆ¬è™«é¦–å…ˆè®¿é—®è§†é¢‘é¡µé¢ï¼Œé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è·å– vid å’Œ pidï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°â€œnecessary_infoâ€è¿™ä¸ªç±»å±æ€§å¯¹åº”çš„å­—å…¸ä¸­</p></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¸å¿ƒä»£ç </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_necessary_id</span>(<span class="params">self</span>):</span><br><span class="line">  source = self.get_source(self.url, self.HEADERS)</span><br><span class="line">  vid = re.search(<span class="string">&#x27;vid: (\d+)&#x27;</span>, source).group(<span class="number">1</span>)</span><br><span class="line">  pid = re.search(<span class="string">&#x27;pid: (\d+)&#x27;</span>, source).group(<span class="number">1</span>)</span><br><span class="line">  self.necessary_info[<span class="string">&#x27;xid&#x27;</span>] = vid</span><br><span class="line">  self.necessary_info[<span class="string">&#x27;pid&#x27;</span>] = pid</span><br></pre></td></tr></table></figure><ul><li>è®¿é—®è¯„è®ºçš„æ¥å£ï¼Œç”¨ Python å‘èµ·è¯·æ±‚ï¼Œè·å¾—è¯„è®ºæ•°æ®</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_comment</span>(<span class="params">self</span>):</span><br><span class="line">    url = self.COMMENT_URL.<span class="built_in">format</span>(xid=self.necessary_info[<span class="string">&#x27;xid&#x27;</span>],</span><br><span class="line">                             pid=self.necessary_info[<span class="string">&#x27;pid&#x27;</span>])</span><br><span class="line">    source = self.get_source(url, self.HEADERS)</span><br><span class="line">    source_json = source[source.find(<span class="string">&#x27;&#123;&quot;&#x27;</span>): -<span class="number">1</span>]</span><br><span class="line">    comment_dict = json.loads(source_json)</span><br><span class="line">    comments = comment_dict[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">    <span class="keyword">for</span> comment <span class="keyword">in</span> comments:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;å‘å¸–äººï¼š <span class="subst">&#123;comment[<span class="string">&quot;user&quot;</span>][<span class="string">&quot;username&quot;</span>]&#125;</span>, è¯„è®ºå†…å®¹ï¼š<span class="subst">&#123;comment[<span class="string">&quot;content&quot;</span>]&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>ä»£ç ä¸­ï¼Œæå‰å®šä¹‰çš„ self.COMMENT_URL å’Œ self.HEADERS</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»¼åˆ</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LetvSpider</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    COMMENT_URL = <span class="string">&#x27;http://api-my.le.com/vcm/api/list?jsonp=jQuery19100358 \</span></span><br><span class="line"><span class="string">    8935956887496_1581419682085&amp;type=video&amp;rows=20&amp;page=1&amp;sort=&amp;cid=2&amp;sourc\</span></span><br><span class="line"><span class="string">    e=1&amp;xid=27576461&amp;pid=10022394&amp;ctype=cmt%2Cimg%2Cvote&amp;listType=1&amp;_=1581419682087&#x27;</span></span><br><span class="line"></span><br><span class="line">    HEADERS = &#123;<span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;*/*&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept-Encoding&#x27;</span>: <span class="string">&#x27;gzip, deflate&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;tj_lc=d551d3996ae75055e97c1f22ac9aa002; tj_uuid=-_15814196222976075472; tj_env=1; ssoCookieSynced=1; language=zh-cn; sso_curr_country=CN; vjuids=-75eba524.17033f49d1f.0.d645e0a5d3aa1; vjlast=1581419634.1581419634.30; tj_v2c=-27576461_2&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;api-my.le.com&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Proxy-Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;Referer&#x27;</span>:<span class="string">&#x27;http://www.le.com/ptv/vplay/27576461.html&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36&#x27;</span></span><br><span class="line">             &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,url</span>):</span><br><span class="line">        self.necessary_info = &#123;&#125;</span><br><span class="line">        self.url = url</span><br><span class="line">        self.get_necessary_id()</span><br><span class="line">        self.get_comment()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¾—åˆ°requestè¿”å›çš„html--str</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_source</span>(<span class="params">self,url,headers</span>):</span><br><span class="line">        <span class="keyword">return</span> requests.get(url,headers).content.decode()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_necessary_id</span>(<span class="params">self</span>):</span><br><span class="line">        source = self.get_source(self.url,self.HEADERS) <span class="comment"># å¾—åˆ°html</span></span><br><span class="line">        vid = re.search(<span class="string">&#x27;vid: (\d+)&#x27;</span>,source).group(<span class="number">1</span>)   <span class="comment">#reåˆ°vidã€pid</span></span><br><span class="line">        pid = re.search(<span class="string">&#x27;pid: (\d+)&#x27;</span>,source).group(<span class="number">1</span>)</span><br><span class="line">        self.necessary_info[<span class="string">&#x27;xid&#x27;</span>] = vid        <span class="comment">#ä¼ å…¥vidã€pidåˆ°å­—å…¸</span></span><br><span class="line">        self.necessary_info[<span class="string">&#x27;pid&#x27;</span>] = pid</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_comment</span>(<span class="params">self</span>):</span><br><span class="line">        url = self.COMMENT_URL.<span class="built_in">format</span>(xid=self.necessary_info[<span class="string">&#x27;xid&#x27;</span>],</span><br><span class="line">        pid=self.necessary_info[<span class="string">&#x27;pid&#x27;</span>])     <span class="comment"># formatæ ¼å¼åŒ–  url è¯„è®ºlistçš„request_url</span></span><br><span class="line">        source = self.get_source(url,self.HEADERS)  <span class="comment"># è°ƒç”¨get_source()</span></span><br><span class="line">        source_json = source[source.find(<span class="string">&#x27;&#123;&quot;&#x27;</span>): -<span class="number">1</span>] <span class="comment"># stråˆ‡ç‰‡</span></span><br><span class="line">        comment_dict = json.loads(source_json)  <span class="comment">#ä¸€ä¸ªå­—å…¸</span></span><br><span class="line">        comments = comment_dict[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">        <span class="keyword">for</span> comment <span class="keyword">in</span> comments:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;å‘å¸–äººï¼š<span class="subst">&#123;comment[<span class="string">&quot;user&quot;</span>][<span class="string">&quot;username&quot;</span>]&#125;</span>,è¯„è®ºå†…å®¹:<span class="subst">&#123;comment[<span class="string">&quot;content&quot;</span>]&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    spider = LetvSpider(<span class="string">&#x27;http://www.le.com/ptv/vplay/27576461.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šç¦å»ºä¹è¿·,è¯„è®ºå†…å®¹:å¥½å–œæ¬¢ä¸œåå¸å›</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šæ²³åŒ—ä¹è¿·,è¯„è®ºå†…å®¹:å</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šæ²³åŒ—ä¹è¿·,è¯„è®ºå†…å®¹:ç‘¶å…‰ä¸Šç¥å¥½æ¼‚äº®ã€‚</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šæ²³åŒ—ä¹è¿·,è¯„è®ºå†…å®¹:å¤ªå¥½çœ‹äº†ã€‚</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šæ²³åŒ—ä¹è¿·,è¯„è®ºå†…å®¹:çœŸæ°´æ— é¦™ã€‚</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šæ²³åŒ—ä¹è¿·,è¯„è®ºå†…å®¹:å–œæ¬¢ç™½æµ…</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šå¤©è«é‚ª,è¯„è®ºå†…å®¹:æ¨å¹‚çœŸä¸å¥½çœ‹</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šå‘†èŒå°ç”œå¿ƒ,è¯„è®ºå†…å®¹:çˆ±å¹‚å¹‚</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šG_,è¯„è®ºå†…å®¹:æœ‰è°æ˜¯çœ‹äº†æ•ä¸Šä¹¦åˆæ¥çœ‹åé‡Œæ¡ƒèŠ±æˆ‘æµ…æµ…çš„</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šé»‘åå•,è¯„è®ºå†…å®¹:æˆ‘æ¥å•¦</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šå‡‰è¾°æ¢¦ç‘¾ç©ºäººå¿ƒ_702_210,è¯„è®ºå†…å®¹:ä¸ºå•¥åªèƒ½éš”ä¹è§†çœ‹äº† å¥½ä¼¤å¿ƒï¿½ğŸ˜­</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šä¸Šæµ·ä¹è¿·,è¯„è®ºå†…å®¹:äº§ç§‘åŒ»ç”Ÿ</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šçº¢_,è¯„è®ºå†…å®¹:è¿™ä¸ªå¾ˆå¥½çœ‹</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šå­ç’‡,è¯„è®ºå†…å®¹:å¢¨æ¸Šéœ¸æ°”ï¼Œç™½æµ…è·Ÿå¥¹åœ¨ä¸€èµ·æ‰ä¸ä¼šå—ä¼¤å®³</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šè‚èŠ³è‹±,è¯„è®ºå†…å®¹:ä¸ºä»€ä¹ˆå…¶ä»–çš„APPä¸Šçœ‹ä¸åˆ°</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šæœˆè‰²ä¸é”™,è¯„è®ºå†…å®¹:è¿™ä¸ªæ˜¯ç‰å¸è¿˜æ˜¯ç‹æ¯</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šMythæ©™å­,è¯„è®ºå†…å®¹:æ¯ä¸ªå¹³å°çœ‹ä¸€éæˆ‘æ˜¯æœ‰å¤šé—²</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šä¸Šæµ·ä¹è¿·,è¯„è®ºå†…å®¹:æ€ä¹ˆè¿™ä¹ˆéš¾æ‰¾ã€ˆäº§ç§‘åŒ»ç”Ÿï¼‰çš„ç”µè§†å‰§</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šä¸Šæµ·ä¹è¿·,è¯„è®ºå†…å®¹:æˆ‘æƒ³çœ‹äº§ç§‘åŒ»ç”Ÿçš„ç”µè§†å‰§</span></span><br><span class="line"><span class="string">å‘å¸–äººï¼šä¸Šæµ·ä¹è¿·,è¯„è®ºå†…å®¹:äº§ç§‘åŒ»ç”Ÿ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç½‘ç«™åï¼š&#123;name&#125;, åœ°å€ &#123;url&#125;&quot;</span>.<span class="built_in">format</span>(name=<span class="string">&quot;èœé¸Ÿæ•™ç¨‹&quot;</span>, url=<span class="string">&quot;www.runoob.com&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡å­—å…¸è®¾ç½®å‚æ•°</span></span><br><span class="line">site = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;èœé¸Ÿæ•™ç¨‹&quot;</span>, <span class="string">&quot;url&quot;</span>: <span class="string">&quot;www.runoob.com&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç½‘ç«™åï¼š&#123;name&#125;, åœ°å€ &#123;url&#125;&quot;</span>.<span class="built_in">format</span>(**site))</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡åˆ—è¡¨ç´¢å¼•è®¾ç½®å‚æ•°</span></span><br><span class="line">my_list = [<span class="string">&#x27;èœé¸Ÿæ•™ç¨‹&#x27;</span>, <span class="string">&#x27;www.runoob.com&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç½‘ç«™åï¼š&#123;0[0]&#125;, åœ°å€ &#123;0[1]&#125;&quot;</span>.<span class="built_in">format</span>(my_list))  <span class="comment"># &quot;0&quot; æ˜¯å¿…é¡»çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç«™åï¼šèœé¸Ÿæ•™ç¨‹, åœ°å€ www.runoob.com</span></span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AssignValue</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):</span><br><span class="line">        self.value = value</span><br><span class="line">my_value = AssignValue(<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;value ä¸º: &#123;0.value&#125;&#x27;</span>.<span class="built_in">format</span>(my_value))  <span class="comment"># &quot;0&quot; æ˜¯å¯é€‰çš„</span></span><br><span class="line"><span class="comment"># value ä¸º: 6</span></span><br></pre></td></tr></table></figure><h1 id="8-æ¨¡æ‹Ÿç™»å½•ä¸éªŒè¯ç "><a href="#8-æ¨¡æ‹Ÿç™»å½•ä¸éªŒè¯ç " class="headerlink" title="8. æ¨¡æ‹Ÿç™»å½•ä¸éªŒè¯ç "></a>8. æ¨¡æ‹Ÿç™»å½•ä¸éªŒè¯ç </h1><ul><li>å¯¹äºä¸€ä¸ªéœ€è¦ç™»å½•æ‰èƒ½è®¿é—®çš„ç½‘ç«™ï¼Œå®ƒçš„é¡µé¢åœ¨ç™»å½•å‰å’Œç™»å½•åå¯èƒ½æ˜¯ä¸ä¸€æ ·çš„</li><li>å¦‚æœç›´æ¥ä½¿ç”¨ requests å»è·å–æºä»£ç ï¼Œåªèƒ½å¾—åˆ°ç™»å½•ä»¥å‰çš„é¡µé¢æºä»£ç </li></ul><h2 id="8-1-æ¨¡æ‹Ÿç™»å½•"><a href="#8-1-æ¨¡æ‹Ÿç™»å½•" class="headerlink" title="8.1 æ¨¡æ‹Ÿç™»å½•"></a>8.1 æ¨¡æ‹Ÿç™»å½•</h2><ul><li>1.ä½¿ç”¨ Selenium æ“ä½œæµè§ˆå™¨ç™»å½•å’Œä½¿ç”¨ Cookies ç™»å½•è™½ç„¶ç®€å•ç²—æš´ï¼Œä½†æ˜¯æœ‰æ•ˆ</li><li>2.ä½¿ç”¨æ¨¡æ‹Ÿæäº¤è¡¨å•ç™»å½•è™½ç„¶è¾ƒä¸ºéº»çƒ¦ï¼Œä½†å¯ä»¥å®ç°è‡ªåŠ¨åŒ–</li></ul><h3 id="8-1-1-ä½¿ç”¨-Selenium-æ¨¡æ‹Ÿç™»å½•"><a href="#8-1-1-ä½¿ç”¨-Selenium-æ¨¡æ‹Ÿç™»å½•" class="headerlink" title="8.1.1 ä½¿ç”¨ Selenium æ¨¡æ‹Ÿç™»å½•"></a>8.1.1 ä½¿ç”¨ Selenium æ¨¡æ‹Ÿç™»å½•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">     ä½¿ç”¨Seleniumæ¥è¿›è¡Œæ¨¡æ‹Ÿç™»å½•ï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ã€‚æµç¨‹å¦‚ä¸‹ã€‚</span><br><span class="line">ï¼ˆ1ï¼‰åˆå§‹åŒ–ChromeDriverã€‚</span><br><span class="line">ï¼ˆ2ï¼‰æ‰“å¼€çŸ¥ä¹ç™»å½•é¡µé¢ã€‚</span><br><span class="line">ï¼ˆ3ï¼‰æ‰¾åˆ°ç”¨æˆ·åçš„è¾“å…¥æ¡†ï¼Œè¾“å…¥ç”¨æˆ·åã€‚</span><br><span class="line">ï¼ˆ4ï¼‰æ‰¾åˆ°å¯†ç è¾“å…¥æ¡†ï¼Œè¾“å…¥ç”¨æˆ·åã€‚</span><br><span class="line">ï¼ˆ5ï¼‰æ‰‹åŠ¨å•å‡»éªŒè¯ç ã€‚</span><br><span class="line">ï¼ˆ6ï¼‰æŒ‰ä¸‹Enteré”®ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ç¨‹åºé¦–å…ˆæ‰“å¼€çŸ¥ä¹çš„ç™»å½•é¡µé¢ï¼Œç„¶åä½¿ç”¨â€œfind<em>element_by</em> nameâ€åˆ†åˆ«æ‰¾åˆ°è¾“å…¥è´¦å·å’Œå¯†ç çš„ä¸¤ä¸ªè¾“å…¥æ¡†</li><li>è¿™ä¸¤ä¸ªè¾“å…¥æ¡†çš„ name å±æ€§å€¼åˆ†åˆ«ä¸ºâ€œaccountâ€(æˆ‘çš„æ˜¯ username)å’Œâ€œpasswordâ€</li><li>åœ¨ Selenium ä¸­å¯ä»¥ä½¿ç”¨ send_keys()æ–¹æ³•å¾€è¾“å…¥æ¡†ä¸­è¾“å…¥å­—ç¬¦ä¸²</li><li>åœ¨è¾“å…¥äº†å¯†ç ä»¥åï¼ŒéªŒè¯ç æ¡†å°±ä¼šå¼¹å‡ºæ¥ã€‚çŸ¥ä¹ä½¿ç”¨çš„éªŒè¯ç ä¸ºç‚¹å‡»å€’ç«‹çš„æ–‡å­—ï¼Œè¿™ç§éªŒè¯ç ä¸å®¹æ˜“è‡ªåŠ¨åŒ–å¤„ç†ï¼Œå› æ­¤åœ¨è¿™ä¸ªåœ°æ–¹è®©çˆ¬è™«å…ˆæš‚åœï¼Œæ‰‹åŠ¨ç‚¹å‡»å€’ç«‹æ–‡å­—</li><li>çˆ¬è™«ä¸­çš„ input()è¯­å¥ä¼šé˜»å¡ç¨‹åºï¼Œç›´åˆ°åœ¨æ§åˆ¶å°æŒ‰ä¸‹ Enter é”®ï¼Œçˆ¬è™«æ‰ä¼šç»§ç»­è¿è¡Œ</li></ul><h3 id="8-1-2-ä½¿ç”¨-Cookies-ç™»å½•"><a href="#8-1-2-ä½¿ç”¨-Cookies-ç™»å½•" class="headerlink" title="8.1.2 ä½¿ç”¨ Cookies ç™»å½•"></a>8.1.2 ä½¿ç”¨ Cookies ç™»å½•</h3><ul><li>_Cookie æ˜¯ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç½‘ç«™çš„æ—¶å€™ç½‘ç«™å­˜æ”¾åœ¨æµè§ˆå™¨ä¸­çš„ä¸€å°æ®µæ•°æ®_</li><li>Cookie çš„å¤æ•°å½¢å¼ Cookies ç”¨æ¥è¡¨ç¤ºå„ç§å„æ ·çš„ Cookieã€‚å®ƒä»¬æœ‰äº›ç”¨æ¥è®°å½•ç”¨æˆ·çš„çŠ¶æ€ä¿¡æ¯ï¼›æœ‰äº›ç”¨æ¥è®°å½•ç”¨æˆ·çš„æ“ä½œè¡Œä¸ºï¼›è¿˜æœ‰ä¸€äº›ï¼Œå…·æœ‰ç°ä»£ç½‘ç»œæœ€é‡è¦çš„åŠŸèƒ½ï¼šè®°å½•æˆæƒä¿¡æ¯â€”â€”ç”¨æˆ·æ˜¯å¦ç™»å½•ä»¥åŠç”¨æˆ·ç™»å½•å“ªä¸ªè´¦å·</li><li>ä¸ºäº†ä¸è®©ç”¨æˆ·æ¯æ¬¡è®¿é—®ç½‘ç«™éƒ½è¿›è¡Œç™»å½•æ“ä½œï¼Œæµè§ˆå™¨ä¼šåœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æˆåŠŸä»¥åæ”¾ä¸€æ®µåŠ å¯†çš„ä¿¡æ¯åœ¨ Cookies ä¸­ã€‚ä¸‹æ¬¡ç”¨æˆ·è®¿é—®ï¼Œç½‘ç«™å…ˆæ£€æŸ¥ Cookies æœ‰æ²¡æœ‰è¿™ä¸ªåŠ å¯†ä¿¡æ¯ï¼Œå¦‚æœæœ‰å¹¶ä¸”åˆæ³•ï¼Œé‚£ä¹ˆå°±è·³è¿‡ç™»å½•æ“ä½œï¼Œç›´æ¥è¿›å…¥ç™»å½•åçš„é¡µé¢</li><li>é€šè¿‡å·²ç»ç™»å½•çš„ Cookiesï¼Œå¯ä»¥è®©çˆ¬è™«ç»•è¿‡ç™»å½•è¿‡ç¨‹ï¼Œç›´æ¥è¿›å…¥ç™»å½•ä»¥åçš„é¡µé¢</li><li>åœ¨å·²ç»ç™»å½•çŸ¥ä¹çš„æƒ…å†µä¸‹ï¼Œæ‰“å¼€ Chrome çš„å¼€å‘è€…å·¥å…·ï¼Œå®šä½åˆ°â€œNetworkâ€é€‰é¡¹å¡ï¼Œç„¶ååˆ·æ–°ç½‘é¡µï¼Œåœ¨åŠ è½½çš„å†…å®¹ä¸­éšä¾¿é€‰æ‹©ä¸€é¡¹ï¼Œç„¶åçœ‹å³ä¾§çš„æ•°æ®ï¼Œä» Request Headers ä¸­å¯ä»¥æ‰¾åˆ° Cookie</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cookie: _zap=56180d87-245a-4b79-83e2-711f4629644e; d_c0=&quot;AMAY69ZKzRCPTh5KJj9edoIQ4_BiQS3iqwM=|1581434842&quot;; _xsrf=jzLzeCfZignAw6qDdNqO85UOdCrRcB3C; Hm_lvt_98beee57fd2ef70ccdd5ca52b9740c49=1581485103,1581492629,1581492650,1581494278; capsion_ticket=&quot;2|1:0|10:1581494284|14:capsion_ticket|44:ZjQyY2FjMmZkZTJmNDJkNGI5NmYxMDNkMzc3MTVlNGI=|e2f4eb7e3652b2f1f3e439d7ff4275e4e15bdfbfbed8ce423dceded2da4235cf&quot;; z_c0=&quot;2|1:0|10:1581494646|4:z_c0|92:Mi4xY2R0cUJRQUFBQUFBd0JqcjFrck5FQ1lBQUFCZ0FsVk5kdjh3WHdBMEczY0dBVm5MNUFmV1V4cmtja0p1Rm1kMGtn|560b73b3b5f052f6151d4a02e62f1f645f01ad7826d8c183d7152fb2fcf8456d&quot;; Hm_lpvt_98beee57fd2ef70ccdd5ca52b9740c49=1581494647; tst=r; KLBRSID=81978cf28cf03c58e07f705c156aa833|1581494650|1581494278</span><br></pre></td></tr></table></figure><ul><li><strong>è¯·æ³¨æ„è¿™é‡Œä¸€å®šæ˜¯â€œRequest Headersâ€ï¼Œä¸è¦é€‰æˆäº†â€œResponse Headersâ€</strong></li></ul><ul><li>åªè¦æŠŠè¿™ä¸ª Request Headers çš„å†…å®¹é€šè¿‡ requests æäº¤ï¼Œå°±èƒ½ç›´æ¥è¿›å…¥ç™»å½•ä»¥åçš„çŸ¥ä¹é¡µé¢äº†</li><li>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ Cookie æ¥ç™»å½•ç½‘é¡µï¼Œä¸ä»…å¯ä»¥ç»•è¿‡ç™»å½•æ­¥éª¤ï¼Œè¿˜å¯ä»¥ç»•è¿‡ç½‘ç«™çš„éªŒè¯ç </li><li>Sessionï¼Œæ˜¯æŒ‡ä¸€æ®µä¼šè¯ã€‚ç½‘ç«™ä¼šæŠŠæ¯ä¸€ä¸ªä¼šè¯çš„ IDï¼ˆSession IDï¼‰ä¿å­˜åœ¨æµè§ˆå™¨çš„ Cookies ä¸­ç”¨æ¥æ ‡è¯†ç”¨æˆ·çš„èº«ä»½</li><li>requests çš„ Session æ¨¡å—å¯ä»¥è‡ªåŠ¨ä¿å­˜ç½‘ç«™è¿”å›çš„ä¸€äº›ä¿¡æ¯</li><li>å…¶å®åœ¨å‰é¢ç« èŠ‚ä¸­ä½¿ç”¨çš„ requests.get()ï¼Œåœ¨åº•å±‚è¿˜æ˜¯ä¼šå…ˆåˆ›å»ºä¸€ä¸ª Sessionï¼Œç„¶åç”¨ Session å»è®¿é—®</li><li>å¯¹äº HTTPS çš„ç½‘ç«™ï¼Œåœ¨ requests å‘é€è¯·æ±‚çš„æ—¶å€™éœ€è¦å¸¦ä¸Š verify=False è¿™ä¸ªå‚æ•°ï¼Œå¦åˆ™çˆ¬è™«ä¼šæŠ¥é”™</li><li>å¸¦ä¸Šè¿™ä¸ªå‚æ•°ä»¥åï¼Œçˆ¬è™«ä¾ç„¶ä¼šæŠ¥ä¸€ä¸ªè­¦å‘Šï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰ HTTPS çš„è¯ä¹¦</li><li>ä¸è¿‡è¿™ä¸ªè­¦å‘Šä¸ä¼šå½±å“çˆ¬è™«çš„è¿è¡Œç»“æœã€‚å¯¹äºæœ‰å¼ºè¿«ç—‡çš„è¯»è€…ï¼Œå¯ä»¥å‚è€ƒç›¸å…³å†…å®¹ä¸º requests è®¾ç½®è¯ä¹¦ï¼Œä»è€Œè§£é™¤è¿™ä¸ªè­¦å‘Š</li></ul><h3 id="8-1-3-æ¨¡æ‹Ÿè¡¨å•ç™»å½•"><a href="#8-1-3-æ¨¡æ‹Ÿè¡¨å•ç™»å½•" class="headerlink" title="8.1.3 æ¨¡æ‹Ÿè¡¨å•ç™»å½•"></a>8.1.3 æ¨¡æ‹Ÿè¡¨å•ç™»å½•</h3><p><strong><a href="http://exercise.kingname.info/exercise_login?next=%2Fexercise_login_success">ç»ƒä¹ é¡µé¢</a></strong></p><ul><li>è¿™ä¸ªç™»å½•é¡µé¢å¤šäº†ä¸€ä¸ªâ€œè‡ªåŠ¨ç™»å½•â€å¤é€‰æ¡†è¾“å…¥ç”¨æˆ·å kingnameï¼Œå¯†ç  geniusï¼Œå‹¾é€‰â€œè‡ªåŠ¨ç™»å½•â€å¤é€‰æ¡†å¹¶å•å‡»â€œç™»å½•â€æŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ°ç™»å½•æˆåŠŸåçš„é¡µé¢</li><li>æ‰“å¼€ Chrome çš„å¼€å‘è€…å·¥å…·å¹¶ç›‘æ§ç™»å½•è¿‡ç¨‹</li><li>ç„¶è€Œï¼Œä»”ç»†è§‚å¯Ÿä¼šå‘ç°ç™»å½•è¯·æ±‚çš„é‚£ä¸ªç½‘å€åªä¼šåœ¨â€œNetworkâ€é€‰é¡¹å¡ä¸­å­˜åœ¨ 1sï¼Œç„¶åå°±æ¶ˆå¤±äº†</li><li>Networkâ€é€‰é¡¹å¡ä¸‹é¢åªå‰©ä¸‹ç™»å½•æˆåŠŸåçš„é¡µé¢æ‰€å‘èµ·çš„å„ç§ç½‘ç»œè¯·æ±‚</li><li>è¿™æ˜¯å› ä¸ºè¡¨å•ç™»å½•æˆåŠŸä»¥åä¼šè¿›è¡Œé¡µé¢è·³è½¬ï¼Œç›¸å½“äºå¼€äº†ä¸€ä¸ªæ–°çš„ç½‘é¡µï¼Œäºæ˜¯æ–°çš„è¯·æ±‚å°±ä¼šç›´æ¥æŠŠæ—§çš„è¯·æ±‚è¦†ç›–ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œéœ€è¦åœ¨ Chrome çš„å¼€å‘è€…å·¥å…·çš„â€œNetworkâ€é€‰é¡¹å¡ä¸­å‹¾é€‰â€œPreserve logâ€å¤é€‰æ¡†ï¼Œå†ä¸€æ¬¡ç™»å½•å°±å¯ä»¥çœ‹åˆ°ç™»å½•è¿‡ç¨‹</li><li>æ­¤æ—¶å¯ä»¥çœ‹åˆ° Status Code æ˜¯ 302ï¼Œè¯´æ˜è¿™é‡Œæœ‰ä¸€ä¸ªç½‘é¡µè·³è½¬ï¼Œä¹Ÿå°±è¯æ˜äº†ä¹‹å‰ä¸ºä»€ä¹ˆç™»å½•ä»¥åçœ‹ä¸åˆ°ç™»å½•çš„è¯·æ±‚</li><li><strong>ä½¿ç”¨ requests çš„ Session æ¨¡å—æ¥æ¨¡æ‹Ÿè¿™ä¸ªç™»å½•</strong></li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">login_url = <span class="string">&#x27;http://exercise.kingname.info/exercise_login&#x27;</span></span><br><span class="line">login_sucess_url = <span class="string">&#x27;http://exercise.kingname.info/exercise_login_success&#x27;</span></span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;kingname&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;genius&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;remember&#x27;</span>:<span class="string">&#x27;Yes&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">session = requests.Session()</span><br><span class="line">before_login = session.get(login_sucess_url).text</span><br><span class="line"><span class="built_in">print</span>(before_login)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;============å¼€å§‹ç™»é™†==============&#x27;</span>)</span><br><span class="line">session.post(login_url,data=data).text</span><br><span class="line">after_login = session.get(login_sucess_url).text</span><br><span class="line"><span class="built_in">print</span>(after_login)</span><br></pre></td></tr></table></figure><p><strong>ç»“æœ</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>exercise login<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">label</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: auto;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.content</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.login</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-left</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/exercise_login&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>ç”¨æˆ·å:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">              <span class="attr">name</span>=<span class="string">&quot;username&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥:kingname&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>å¯† ç  :<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">              <span class="attr">name</span>=<span class="string">&quot;password&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">type</span>=<span class="string">&quot;password&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥:genius&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;checkbox pull-right&quot;</span></span></span><br><span class="line"><span class="tag">            &gt;</span>è‡ªåŠ¨ç™»å½•</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">              <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">name</span>=<span class="string">&quot;rememberme&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">&quot;Yes&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">data-toggle</span>=<span class="string">&quot;checkbox&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;login&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;static/js/jquery-3.2.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">============å¼€å§‹ç™»é™†==============</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Login Success<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      å¦‚æœä½ çœ‹åˆ°è¿™ä¸€è¡Œå†…å®¹ï¼Œè¯´æ˜ä½ å·²ç»ç™»å½•æˆåŠŸã€‚<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/exercise_logout&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span>é€€å‡ºç™»å½•&lt;/a</span><br><span class="line">      &gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="8-2-éªŒè¯ç "><a href="#8-2-éªŒè¯ç " class="headerlink" title="8.2 éªŒè¯ç "></a>8.2 éªŒè¯ç </h2><h3 id="8-2-1-è‚‰çœ¼æ‰“ç "><a href="#8-2-1-è‚‰çœ¼æ‰“ç " class="headerlink" title="8.2.1 è‚‰çœ¼æ‰“ç "></a>8.2.1 è‚‰çœ¼æ‰“ç </h3><ul><li>å¯¹äºä¸€æ¬¡ç™»å½•å°±å¯ä»¥é•¿æ—¶é—´ä½¿ç”¨çš„æƒ…å†µï¼Œåªéœ€è¦è¯†åˆ«ä¸€æ¬¡éªŒè¯ç å³å¯</li><li>è¿™ç§æƒ…å†µä¸‹ï¼Œä¸å…¶èŠ±æ—¶é—´å¼€å‘ä¸€ä¸ªè‡ªåŠ¨è¯†åˆ«éªŒè¯ç çš„ç¨‹åºï¼Œä¸å¦‚ç›´æ¥è‚‰çœ¼è¯†åˆ«</li><li><p><strong>è‚‰çœ¼è¯†åˆ«éªŒè¯ç æœ‰ä¸¤ç§æƒ…å†µï¼Œå€ŸåŠ©æµè§ˆå™¨ä¸ä¸å€ŸåŠ©æµè§ˆå™¨</strong></p></li><li><p>1ã€å€ŸåŠ©æµè§ˆå™¨<br>åœ¨æ¨¡æ‹Ÿç™»å½•ä¸­è®²åˆ°è¿‡ Cookiesï¼Œé€šè¿‡ Cookies èƒ½å®ç°ç»•è¿‡ç™»å½•ï¼Œä»è€Œç›´æ¥è®¿é—®éœ€è¦ç™»å½•çš„ç½‘ç«™ã€‚å› æ­¤ï¼Œå¯¹äºéœ€è¦è¾“å…¥éªŒè¯ç æ‰èƒ½è¿›è¡Œç™»å½•çš„ç½‘ç«™ï¼Œå¯ä»¥æ‰‹åŠ¨åœ¨æµè§ˆå™¨ç™»å½•ç½‘ç«™ï¼Œå¹¶é€šè¿‡ Chrome è·å– Cookiesï¼Œç„¶åä½¿ç”¨ Cookies æ¥è®¿é—®ç½‘ç«™<br>è¿™æ ·å°±å¯ä»¥å®ç°äººå·¥è¾“å…¥ä¸€æ¬¡éªŒè¯ç ï¼Œç„¶åå¾ˆé•¿æ—¶é—´ä¸å†ç™»å½•ã€‚</p></li><li>2ã€ä¸å€ŸåŠ©æµè§ˆå™¨<br>å¯¹äºä»…ä»…éœ€è¦è¯†åˆ«å›¾ç‰‡çš„éªŒè¯ç ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼â€”â€”å…ˆæŠŠéªŒè¯ç ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åè‚‰çœ¼å»è¯†åˆ«å¹¶æ‰‹åŠ¨è¾“å…¥ç»™çˆ¬è™«</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ‰‹åŠ¨è¾“å…¥éªŒè¯ç çš„ä¸€èˆ¬æµç¨‹å¦‚ä¸‹:</span><br><span class="line">ï¼ˆ1ï¼‰çˆ¬è™«è®¿é—®ç™»å½•é¡µé¢</span><br><span class="line">ï¼ˆ2ï¼‰åˆ†æç½‘é¡µæºä»£ç ï¼Œè·å–éªŒè¯ç åœ°å€</span><br><span class="line">ï¼ˆ3ï¼‰ä¸‹è½½éªŒè¯ç åˆ°æœ¬åœ°</span><br><span class="line">ï¼ˆ4ï¼‰æ‰“å¼€éªŒè¯ç ï¼Œäººçœ¼è¯»å–å†…å®¹</span><br><span class="line">ï¼ˆ5ï¼‰æ„é€ POSTçš„æ•°æ®ï¼Œå¡«å…¥éªŒè¯ç </span><br><span class="line">ï¼ˆ6ï¼‰POSTæäº¤</span><br></pre></td></tr></table></figure><ul><li>_éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…¶ä¸­çš„ï¼ˆ2ï¼‰ã€ï¼ˆ3ï¼‰ã€ï¼ˆ4ï¼‰ã€ï¼ˆ5ï¼‰ã€ï¼ˆ6ï¼‰æ­¥æ˜¯ä¸€æ°”å‘µæˆçš„ï¼Œæ˜¯åœ¨çˆ¬è™«è¿è¡Œçš„æ—¶å€™åšçš„ã€‚ç»å¯¹ä¸èƒ½å…ˆæŠŠçˆ¬è™«ç¨‹åºå…³é—­ï¼Œè‚‰çœ¼è¯†åˆ«éªŒè¯ç ä»¥åå†é‡æ–°è¿è¡Œ_</li></ul><p><strong><a href="http://exercise.kingname.info/exercise_captcha.html">ç»ƒä¹ é¡µé¢</a></strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> lxml.html</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://exercise.kingname.info/exercise_captcha.html&#x27;</span></span><br><span class="line">url_check = <span class="string">&#x27;http://exercise.kingname.info/exercise_captcha_check&#x27;</span></span><br><span class="line"></span><br><span class="line">session = requests.session()</span><br><span class="line">html = session.get(url).content</span><br><span class="line">selector = lxml.html.fromstring(html)</span><br><span class="line">captcha_url = selector.xpath(<span class="string">&#x27;//img/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">image = requests.get(<span class="string">&#x27;http://exercise.kingname.info/&#x27;</span>+captcha_url).content</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;captcha.png&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(image)</span><br><span class="line"></span><br><span class="line">captcha = <span class="built_in">input</span>(<span class="string">&#x27;è¯·æŸ¥çœ‹å›¾ç‰‡ï¼Œç„¶åè¾“å…¥åœ¨è¿™é‡Œï¼š&#x27;</span>)</span><br><span class="line">after_check = session.post(url_check,data=&#123;<span class="string">&#x27;captcha&#x27;</span>:captcha&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;è¯·è¾“å…¥éªŒè¯ç åï¼Œç½‘ç«™è¿”å›ï¼š<span class="subst">&#123;after_check.content.decode()&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>ç»“æœ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¯·æŸ¥çœ‹å›¾ç‰‡ï¼Œç„¶åè¾“å…¥åœ¨è¿™é‡Œï¼š1595</span><br><span class="line">è¯·è¾“å…¥éªŒè¯ç åï¼Œç½‘ç«™è¿”å›ï¼šçœ‹åˆ°è¿™ä¸ªé¡µé¢ï¼Œè¯´æ˜ä½ çš„éªŒè¯ç è¾“å…¥æ­£ç¡®</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/yq010105/Blog_images/master/img/captcha.png" alt="éªŒè¯ç "></p><h3 id="8-2-2-è‡ªåŠ¨æ‰“ç "><a href="#8-2-2-è‡ªåŠ¨æ‰“ç " class="headerlink" title="8.2.2 è‡ªåŠ¨æ‰“ç "></a>8.2.2 è‡ªåŠ¨æ‰“ç </h3><p>1ã€Python å›¾åƒè¯†åˆ«</p><ul><li>å¯¹äºéªŒè¯ç è¯†åˆ«ï¼ŒPython ä¹Ÿæœ‰ç°æˆçš„åº“æ¥ä½¿ç”¨</li><li>å¼€æºçš„ OCR åº“ pytesseract é…åˆå›¾åƒè¯†åˆ«å¼•æ“ tesseractï¼Œå¯ä»¥ç”¨æ¥å°†å›¾ç‰‡ä¸­çš„æ–‡å­—è½¬æ¢ä¸ºæ–‡æœ¬</li><li>è¿™ç§æ–¹å¼åœ¨çˆ¬è™«ä¸­çš„åº”ç”¨å¹¶ä¸å¤šè§ã€‚å› ä¸ºç°åœ¨å¤§éƒ¨åˆ†çš„éªŒè¯ç éƒ½åŠ ä¸Šäº†å¹²æ‰°çš„çº¹ç†ï¼Œå·²ç»å¾ˆå°‘èƒ½ç”¨å•æœºç‰ˆçš„å›¾ç‰‡è¯†åˆ«æ–¹å¼æ¥è¯†åˆ«äº†ã€‚æ‰€ä»¥å¦‚æœä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œåªæœ‰ä¸¤ç§æƒ…å†µï¼šç½‘ç«™çš„éªŒè¯ç æå…¶ç®€å•å·¥æ•´ï¼Œä½¿ç”¨å¤§é‡çš„éªŒè¯ç æ¥è®­ç»ƒ tesseract<br>_å®‰è£… tesseract_<br>æ‰“å¼€ç½‘é¡µä¸‹è½½å®‰è£…åŒ…ï¼š<a href="https://github.com/tesseract-ocr/tesseract/wiki/Downloads">https://github.com/tesseract-ocr/tesseract/wiki/Downloads</a> ,åœ¨â€œ3rd party Windows exeâ€™s/ installerâ€ä¸‹é¢å¯ä»¥æ‰¾åˆ°.exe å®‰è£…åŒ…<br>_å®‰è£… Python åº“_<br>pip install Pillow<br>pip install pytesseract<br>å…¶ä¸­ï¼ŒPillow æ˜¯ Python ä¸­ä¸“é—¨ç”¨æ¥å¤„ç†å›¾åƒçš„ç¬¬ä¸‰æ–¹åº“ï¼Œpytesseract æ˜¯ä¸“é—¨ç”¨æ¥æ“ä½œ tesseract çš„ç¬¬ä¸‰æ–¹åº“<br>_tesseract çš„ä½¿ç”¨_</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">          tesseractçš„ä½¿ç”¨éå¸¸ç®€å•ã€‚</span><br><span class="line">â‘  å¯¼å…¥pytesseractå’ŒPillowã€‚</span><br><span class="line">â‘¡ æ‰“å¼€å›¾ç‰‡ã€‚</span><br><span class="line">â‘¢ è¯†åˆ«ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡ä»¥ä¸‹ä»£ç æ¥å®ç°æœ€ç®€å•çš„å›¾ç‰‡è¯†åˆ«ï¼š</span></span><br><span class="line"><span class="keyword">import</span> pytesseract</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">image = Image.<span class="built_in">open</span>(<span class="string">&#x27;éªŒè¯ç .png&#x27;</span>)</span><br><span class="line">code = pytesseract.image_to_string(image)</span><br><span class="line"><span class="built_in">print</span>(code)</span><br></pre></td></tr></table></figure><p>2ã€æ‰“ç ç½‘ç«™<br>åœ¨çº¿éªŒè¯ç è¯†åˆ«çš„ç½‘ç«™ï¼Œç®€ç§°æ‰“ç ç½‘ç«™ã€‚è¿™äº›ç½‘ç«™æœ‰ä¸€äº›æ˜¯ä½¿ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯è¯†åˆ«éªŒè¯ç ï¼Œæœ‰ä¸€äº›æ˜¯é›‡ä½£äº†å¾ˆå¤šäººæ¥äººè‚‰è¯†åˆ«éªŒè¯ç <br>ç½‘ç«™æä¾›äº†æ¥å£æ¥å®ç°éªŒè¯ç è¯†åˆ«æœåŠ¡ã€‚ä½¿ç”¨æ‰“ç ç½‘ç«™ç†è®ºä¸Šå¯ä»¥è¯†åˆ«ä»»ä½•ä½¿ç”¨è¾“å…¥æ–¹å¼æ¥éªŒè¯çš„éªŒè¯ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¿™ç§æ‰“ç ç½‘ç«™çš„æµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„ã€‚</span><br><span class="line">â‘  å°†éªŒè¯ç ä¸Šä¼ åˆ°ç½‘ç«™æœåŠ¡å™¨ã€‚</span><br><span class="line">â‘¡ ç½‘ç«™æœåŠ¡å™¨å°†éªŒè¯ç åˆ†å‘ç»™æ‰“ç å·¥äººã€‚</span><br><span class="line">â‘¢ æ‰“ç å·¥äººè‚‰çœ¼è¯†åˆ«éªŒè¯ç å¹¶ä¸Šä¼ ç»“æœã€‚</span><br><span class="line">â‘£ ç½‘ç«™å°†ç»“æœè¿”å›ã€‚</span><br></pre></td></tr></table></figure><p>_ä½¿ç”¨åœ¨çº¿æ‰“ç _<br>åœ¨ç™¾åº¦æˆ–è€…è°·æ­Œä¸Šé¢æœç´¢â€œéªŒè¯ç åœ¨çº¿è¯†åˆ«â€ï¼Œå°±å¯ä»¥æ‰¾åˆ°å¾ˆå¤šæä¾›åœ¨çº¿æ‰“ç çš„ç½‘ç«™ã€‚ä½†æ˜¯ç”±äºä¸€èˆ¬è¿™ç§æ‰“ç ç½‘ç«™æ˜¯éœ€è¦äº¤è´¹æ‰èƒ½ä½¿ç”¨çš„ï¼Œæ‰€ä»¥è¦æ³¨æ„è´¢äº§å®‰å…¨</p><h2 id="8-3-æ¡ˆä¾‹-è‡ªåŠ¨ç™»å½•æœå£³ç½‘"><a href="#8-3-æ¡ˆä¾‹-è‡ªåŠ¨ç™»å½•æœå£³ç½‘" class="headerlink" title="8.3 æ¡ˆä¾‹-è‡ªåŠ¨ç™»å½•æœå£³ç½‘"></a>8.3 æ¡ˆä¾‹-è‡ªåŠ¨ç™»å½•æœå£³ç½‘</h2><p><a href="https://www.guokr.com">ç›®æ ‡ç½‘ç«™</a><br>ä½¿ç”¨æ¨¡æ‹Ÿç™»å½•ä¸éªŒè¯ç è¯†åˆ«çš„æŠ€æœ¯å®ç°è‡ªåŠ¨ç™»å½•æœå£³ç½‘ã€‚ æœå£³ç½‘çš„ç™»å½•ç•Œé¢æœ‰éªŒè¯ç ï¼Œè¯·ä½¿ç”¨äººå·¥æˆ–è€…åœ¨çº¿æ‰“ç çš„æ–¹å¼è¯†åˆ«éªŒè¯ç ï¼Œå¹¶è®©çˆ¬è™«ç™»å½•ã€‚ç™»å½•ä»¥åå¯ä»¥æ­£ç¡®æ˜¾ç¤ºâ€œä¸ªäººèµ„æ–™è®¾ç½®â€ç•Œé¢çš„æºä»£ç </p><ul><li>æ¶‰åŠçš„çŸ¥è¯†ç‚¹ï¼š</li><li>ï¼ˆ1ï¼‰çˆ¬è™«è¯†åˆ«éªŒè¯ç ã€‚</li><li>ï¼ˆ2ï¼‰çˆ¬è™«æ¨¡æ‹Ÿç™»å½•ã€‚<blockquote><p>æ¥è‡ª<a href="https://github.com/kingname/SourceCodeOfBook/tree/master/%E7%AC%AC8%E7%AB%A0/program">ç¬¬å…«ç« </a>ï¼Œéœ€è¦ä½¿ç”¨å†æ¥æ·±åº¦å­¦ä¹ </p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python Spider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoæ­å»ºåšå®¢çš„åŸºæœ¬çŸ¥è¯†</title>
      <link href="/Learn/Blog%20Basic/Learn-Hexo/"/>
      <url>/Learn/Blog%20Basic/Learn-Hexo/</url>
      
        <content type="html"><![CDATA[<p>Hexoåšå®¢åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬ä¸»é¢˜çš„ä¿®æ”¹å’Œåšå®¢æ–‡ä»¶çš„å¤‡ä»½ç­‰ç­‰</p><blockquote><p><strong>å»ºç«‹ hexo_blogï¼Œå‚è€ƒ b ç«™ up:<a href="https://space.bilibili.com/384068749">CodeSheep</a>çš„<a href="https://www.bilibili.com/video/av44544186">è§†é¢‘</a></strong><br><span id="more"></span></p></blockquote><iframe src="//player.bilibili.com/player.html?aid=44544186&bvid=BV1Yb411a7ty&cid=158772893&page=1" width="730px" height="500px" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><blockquote><blockquote><p><strong>æ‰€ç”¨ä¸»é¢˜ :<a href="https://github.com/litten/hexo-theme-yilia">yilia</a>ï¼Œä¸»è¦æŒ‰ç…§<a href="http://yansheng836.coding.me/">å¤§ä½¬åšå®¢</a>ä¸­çš„<a href="http://yansheng836.coding.me/tags/hexo/">è¿™ä¸€åˆ†ç±»</a>è¿›è¡Œä¿®æ”¹</strong></p></blockquote></blockquote><!-- more --><h2 id="1-hexo-åŸºæ“"><a href="#1-hexo-åŸºæ“" class="headerlink" title="1. hexo åŸºæ“"></a>1. hexo åŸºæ“</h2><h3 id="1-1-master-åˆ†æ”¯"><a href="#1-1-master-åˆ†æ”¯" class="headerlink" title="1.1 master åˆ†æ”¯"></a>1.1 master åˆ†æ”¯</h3><div class="table-container"><table><thead><tr><th style="text-align:center">æè¿°</th><th style="text-align:center">ä»£ç </th></tr></thead><tbody><tr><td style="text-align:center">æ–°å»ºé¡µé¢&emsp;type:â€™tagsâ€™</td><td style="text-align:center"><code>hexo new page &#39;title&#39;</code></td></tr><tr><td style="text-align:center">æ–°å»º md</td><td style="text-align:center"><code>hexo n &quot;title&quot;</code></td></tr><tr><td style="text-align:center">æ¸…ç†</td><td style="text-align:center"><code>hexo clean</code></td></tr><tr><td style="text-align:center">ç”Ÿæˆ</td><td style="text-align:center"><code>hexo g</code></td></tr><tr><td style="text-align:center">éƒ¨ç½²åˆ°è¿œç«¯ï¼›æ¨åˆ° github</td><td style="text-align:center"><code>hexo d</code></td></tr><tr><td style="text-align:center">å¯åŠ¨é¢„è§ˆ,blog</td><td style="text-align:center"><code>hexo s</code></td></tr></tbody></table></div><h3 id="1-2-blog-åˆ†æ”¯"><a href="#1-2-blog-åˆ†æ”¯" class="headerlink" title="1.2 blog åˆ†æ”¯"></a>1.2 blog åˆ†æ”¯</h3><ul><li><p>6ã€å°†å½“å‰ç›®å½•ä¸‹ä¿®æ”¹çš„æ‰€æœ‰ä»£ç ä»å·¥ä½œåŒºæ·»åŠ åˆ°æš‚å­˜åŒº . ä»£è¡¨å½“å‰ç›®å½•</p><p><code>git add .</code></p></li><li><p>7ã€å°†ç¼“å­˜åŒºå†…å®¹æ·»åŠ åˆ°æœ¬åœ°ä»“åº“</p><p><code>git commit -m &quot;æäº¤ä¿¡æ¯&quot;</code></p></li><li><p>8ã€å°†æœ¬åœ°ç‰ˆæœ¬åº“æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨,å°†æœ¬åœ°åº“å¦‚æœè®¾ç½®äº† blog ä¸ºé»˜è®¤åˆ†æ”¯ï¼Œå¯ä»¥ç›´æ¥ git push</p><p><code>git push origin blog</code></p></li><li><p>9ã€å…ˆå°†è¿œç¨‹ä»“åº“ master ä¸­çš„ä¿¡æ¯åŒæ­¥åˆ°æœ¬åœ°ä»“åº“ master ä¸­</p><p><code>git pull origin master</code></p></li><li><p>10ã€æŸ¥çœ‹å·¥ä½œåŒºä»£ç ç›¸å¯¹äºæš‚å­˜åŒºçš„å·®åˆ«</p><p><code>git status</code></p></li></ul><blockquote><p>å‚è€ƒ<a href="https://www.jianshu.com/p/2e1d551b8261" title="ç®€ä¹¦">ç®€ä¹¦ç½‘ç«™</a></p></blockquote><h2 id="2-source-md-blog-ç›®å½•ä¸‹"><a href="#2-source-md-blog-ç›®å½•ä¸‹" class="headerlink" title="2. source/md-(blog ç›®å½•ä¸‹)"></a>2. source/md-(blog ç›®å½•ä¸‹)</h2><ul><li>æ²¡æœ‰è·³è¿‡çš„ä¼šè½¬åŒ–ä¸º HTMLï¼Œåœ¨ blog ä¸­ä½“ç°</li></ul><h2 id="3-æ·»åŠ èƒŒæ™¯å›¾ç‰‡å’Œå·¦ä¾§å›¾ç‰‡"><a href="#3-æ·»åŠ èƒŒæ™¯å›¾ç‰‡å’Œå·¦ä¾§å›¾ç‰‡" class="headerlink" title="3. æ·»åŠ èƒŒæ™¯å›¾ç‰‡å’Œå·¦ä¾§å›¾ç‰‡"></a>3. æ·»åŠ èƒŒæ™¯å›¾ç‰‡å’Œå·¦ä¾§å›¾ç‰‡</h2><p>ä¸»è¦åœ¨<code>source/main.0cf68a.css</code> æ–‡ä»¶ä¸­ä¿®æ”¹</p><blockquote><p>å…·ä½“ä¿®æ”¹å‚è€ƒ<a href="http://yansheng836.coding.me/">å¤§ä½¬åšå®¢</a>ä¸­çš„<a href="http://yansheng836.coding.me/article/72a91df5.html">è¿™ä¸€ç¯‡</a></p></blockquote><h3 id="3-1-å·¦ä¾§èƒŒæ™¯"><a href="#3-1-å·¦ä¾§èƒŒæ™¯" class="headerlink" title="3.1 å·¦ä¾§èƒŒæ™¯"></a>3.1 å·¦ä¾§èƒŒæ™¯</h3><p><code>themes/yilia/layout/_partial/left-col.ejs</code>æ–‡ä»¶ä¸­æ³¨é‡Šæ‰åŸæ¥ä»£ç ï¼Œæ·»åŠ æ–°çš„æ— å±æ€§ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- &lt;div class=&quot;overlay&quot; style=&quot;background: &lt;%= theme.style &amp;&amp; theme.style.header ? theme.style.header : defaultBg %&gt;&quot;&gt; --&gt;</span><br><span class="line">&lt;!-- å·¦ä¾§è¾¹æ ï¼ˆä¸ŠåŠéƒ¨åˆ†ï¼‰ä¸è®¾ç½®èƒŒæ™¯é¢œè‰² --&gt;</span><br><span class="line">&lt;div class=&quot;overlay&quot; &gt;</span><br></pre></td></tr></table></figure><p><code>themes\yilia\source\main.0cf68a.css</code>ä¸­ä¿®æ”¹æ·»åŠ èƒŒæ™¯å›¾ç‰‡</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span> &#123;</span><br><span class="line">  <span class="comment">/* background:#fff; æ³¨é‡Šæ‰åŸæ¥çš„ä¿®æ”¹èƒŒæ™¯*/</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">      <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>),</span><br><span class="line">      <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>)</span><br><span class="line">    ),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&quot;http://bucket836.oss-cn-shenzhen.aliyuncs.com/wallpaper/381535373.jpeg&quot;</span>)</span><br><span class="line">      no-repeat <span class="number">0%</span> <span class="number">20%</span> / cover;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease-in;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: all <span class="number">0.3s</span> ease-in;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„èƒŒæ™¯å›¾ç‰‡è·Ÿæ–‡å­—é¢œè‰²ä¸åŒ¹é…(å­—çœ‹ä¸æ¸…)ï¼Œå¯ä»¥ä¿®æ”¹ä¸­æ–‡ä»¶</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">   <span class="attribute">color</span>:<span class="number">#696969</span></span><br><span class="line">   color:<span class="number">#673ab7</span>^M</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">   <span class="attribute">color</span>:<span class="number">#b0a0aa</span></span><br><span class="line">   color: <span class="number">#03A9F4</span>^M</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left-col</span> <span class="selector-id">#header</span> <span class="selector-class">.header-subtitle</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">   <span class="attribute">color</span>:<span class="number">#999</span>;</span><br><span class="line">   <span class="attribute">color</span>:<span class="number">#673ab7</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br></pre></td></tr></table></figure><h3 id="3-2-æ–‡ç« èƒŒæ™¯"><a href="#3-2-æ–‡ç« èƒŒæ™¯" class="headerlink" title="3.2 æ–‡ç« èƒŒæ™¯"></a>3.2 æ–‡ç« èƒŒæ™¯</h3><p>å…ˆå°†æ–‡ç« èƒŒæ™¯è°ƒæˆé€æ˜è‰²,æœç´¢<code>.article &#123;</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>); <span class="comment">/*è°ƒæˆé€æ˜è‰²ï¼Œæ‰èƒ½çœ‹æ¸…èƒŒæ™¯å›¾ç‰‡*/</span></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå†æ·»åŠ èƒŒæ™¯å›¾ç‰‡ï¼Œæœç´¢<code>body &#123;</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="comment">/*background-color:rgb(85, 144, 161); */</span></span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">      <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>),</span><br><span class="line">      <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>)</span><br><span class="line">    ), <span class="built_in">url</span>(<span class="string">./img/1_.jpg</span>) no-repeat <span class="number">0%</span> <span class="number">20%</span> / cover; <span class="comment">/*æ·»åŠ èƒŒæ™¯å›¾ç‰‡*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœä¿®æ”¹å®Œä»£ç ï¼ŒèƒŒæ™¯è¿˜æ²¡æœ‰å˜ï¼Œå¯èƒ½ä½ çš„ body æˆ–è€… article å®šä¹‰äº†ä¸¤æ¬¡ï¼Œå‰é¢æœ‰ä¸€ä¸ª body{},åé¢è¿˜æœ‰ä¸€ä¸ªï¼Œåªè¦åˆ æ‰åé¢çš„å°±å¯ä»¥äº†</strong><br>_éœ€è¦è‡ªå·±å¥½å¥½çš„æ‰¾ä¸€æ‰¾_</p><p><strong>å¦‚æœä½ çš„ main.0cf68a.css,æ–‡ä»¶ä»£ç å¾ˆä¹±ï¼Œå¯ä»¥åœ¨<a href="https://github.com/yq010105/hexo_themes/blob/master/yilia/source/main.0cf68a.css">æˆ‘çš„ Github</a>ä¸­å¤åˆ¶</strong> _åˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„_</p><h3 id="3-3-copy-ä»£ç å—"><a href="#3-3-copy-ä»£ç å—" class="headerlink" title="3.3 copy ä»£ç å—"></a>3.3 copy ä»£ç å—</h3><blockquote><p>æŒ‰ç…§<a href="http://yansheng836.coding.me/">å¤§ä½¬åšå®¢</a>ä¸­çš„<a href="http://yansheng836.coding.me/article/e9d1b881.html">è¿™ä¸€ç¯‡</a></p></blockquote><h2 id="4-æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´"><a href="#4-æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´" class="headerlink" title="4. æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´"></a>4. æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´</h2><p>_ç®€å•é…ç½®_<br>ä¿®æ”¹<code>\themes\yilia\layout\_partial\footer.ejs</code>ï¼Œåœ¨<code>&lt;/footer&gt;</code>ä¸Šé¢æ·»åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--ã€Šæ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´ --&gt;</span><br><span class="line">&lt;!--<span class="language-xml"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span>--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;timeDate&quot;</span>&gt;</span>è½½å…¥å¤©æ•°...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;times&quot;</span>&gt;</span>è½½å…¥æ—¶åˆ†ç§’...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">function</span> <span class="title function_">createtime</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">var</span> grt = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;07/25/2019 12:00:00&quot;</span>); <span class="comment">//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        now.<span class="title function_">setTime</span>(now.<span class="title function_">getTime</span>() + <span class="number">250</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        days = (now - grt) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        dnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(days);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        hours = (now - grt) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> - (<span class="number">24</span> * dnum);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        hnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(hours);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="title class_">String</span>(hnum).<span class="property">length</span> == <span class="number">1</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            hnum = <span class="string">&quot;0&quot;</span> + hnum;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        minutes = (now - grt) / <span class="number">1000</span> / <span class="number">60</span> - (<span class="number">24</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * hnum);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        mnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(minutes);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="title class_">String</span>(mnum).<span class="property">length</span> == <span class="number">1</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            mnum = <span class="string">&quot;0&quot;</span> + mnum;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        seconds = (now - grt) / <span class="number">1000</span> - (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * <span class="number">60</span> * hnum) - (<span class="number">60</span> * mnum);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        snum = <span class="title class_">Math</span>.<span class="title function_">round</span>(seconds);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="title class_">String</span>(snum).<span class="property">length</span> == <span class="number">1</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            snum = <span class="string">&quot;0&quot;</span> + snum;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;timeDate&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot; | æœ¬ç«™å·²å®‰å…¨è¿è¡Œ &quot;</span> + dnum + <span class="string">&quot; å¤© &quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;times&quot;</span>).<span class="property">innerHTML</span> = hnum + <span class="string">&quot; å°æ—¶ &quot;</span> + mnum + <span class="string">&quot; åˆ† &quot;</span> + snum + <span class="string">&quot; ç§’&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="built_in">setInterval</span>(<span class="string">&quot;createtime()&quot;</span>, <span class="number">250</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- æ·»åŠ ç½‘ç«™è¿è¡Œæ—¶é—´ã€‹ --&gt;</span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒ<a href="http://yansheng836.coding.me/article/50902a4.html">è¿™ä¸€ç¯‡</a></p></blockquote><h2 id="5-çœ‹æ¿å¨˜-ã‹ã‚“ã°ã‚“ã‚€ã™ã‚"><a href="#5-çœ‹æ¿å¨˜-ã‹ã‚“ã°ã‚“ã‚€ã™ã‚" class="headerlink" title="5. çœ‹æ¿å¨˜(ã‹ã‚“ã°ã‚“ã‚€ã™ã‚)"></a>5. çœ‹æ¿å¨˜(ã‹ã‚“ã°ã‚“ã‚€ã™ã‚)</h2><ul><li><strong>å®‰è£…æ’ä»¶:</strong> <code>npm install --save hexo-helper-live2d</code> <strong><a href="https://github.com/EYHN/hexo-helper-live2d">github é¡¹ç›®</a></strong></li><li><strong>å®‰è£…æ¨¡å‹:</strong> <code>npm install live2d-widget-model-æ¨¡å‹å</code> <strong><a href="https://huaji8.top/post/live2d-plugin-2.0/">æ¨¡å‹åå‚è€ƒ</a></strong></li><li><strong>åœ¨ blog/_config.yml ä¸­æ·»åŠ </strong></li><li>_æˆ‘åœ¨ yilia ä¸­é…ç½®æ²¡æœ‰æ•ˆæœï¼Œä½†åœ¨ blog ä¸­æœ‰æ•ˆæœ_</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-æ¨¡å‹å</span> <span class="comment"># æ¨¡å‹ï¼šhttps://huaji8.top/post/live2d-plugin-2.0/</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><strong>å…³é—­ live2D:</strong> <code>enable:false</code></li><li><strong>å¸è½½æ¨¡å‹:</strong> <code>npm uninstall live2d-widget-model-æ¨¡å‹å</code></li><li><strong>å¸è½½æ’ä»¶:</strong> <code>npm uninstall hexo-helper-live2d</code></li><li><strong>åˆ æ‰ yilia/_config.yml ä¸­é…ç½®</strong></li><li><del>_è¿‡äºå å†…å­˜ï¼Œå·²å¸è½½_</del>ã€_33 çœŸæ˜¯å¤ªå¯çˆ±äº†_<blockquote><p><a href="https://github.com/52cik/bilibili-haruna">2233 å¨˜çš„ model</a><br>å‚è€ƒ<a href="http://yansheng836.coding.me/article/e239dc63.html">è¿™ä¸€ç¯‡</a></p></blockquote></li></ul><h2 id="6-ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶"><a href="#6-ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶" class="headerlink" title="6. ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶"></a>6. ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶</h2><ul><li>åœ¨<code>/yilia/layout/_partial/post/left-col.ejs</code>ä¸­æœ€åçš„<code>&lt;/nav&gt;</code>æ ‡ç­¾ä¸Šæ–¹æ·»åŠ </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">music</span> &amp;&amp; theme.<span class="property">music</span>.<span class="property">enable</span>)&#123; %&gt;</span><br><span class="line">&lt;%# <span class="string">&quot;ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶&quot;</span> %&gt;</span><br><span class="line">&lt;%# <span class="string">&quot;bottom:120px; left:auto;position:absolute;  width:85%&quot;</span> %&gt;</span><br><span class="line">&lt;% <span class="keyword">var</span> defaultHeight = theme.<span class="property">music</span>.<span class="property">type</span> == <span class="number">1</span> ? <span class="string">&#x27;32&#x27;</span> : <span class="string">&#x27;66&#x27;</span>; %&gt;</span><br><span class="line">&lt;% <span class="keyword">var</span> defaultIframeHeight = theme.<span class="property">music</span>.<span class="property">type</span> == <span class="number">1</span> ? <span class="string">&#x27;52&#x27;</span> : <span class="string">&#x27;86&#x27;</span>; %&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginwidth</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginheight</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;240&quot;</span> <span class="attr">height</span>=<span class="string">&quot;&lt;%=defaultIframeHeight%&gt;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//music.163.com/outchain/player?type=2&amp;id=&lt;%=theme.music.id||1400594005%&gt;&amp;auto=&lt;%=theme.music.autoPlay?1:0%&gt;&amp;height=&lt;%=defaultHeight%&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">music</span>.<span class="property">text</span> || theme.<span class="property">music</span>.<span class="property">text</span> == <span class="literal">null</span>)&#123; %&gt;</span><br><span class="line">&lt;% <span class="keyword">var</span> musicText = ( theme.<span class="property">music</span>.<span class="property">text</span> == <span class="literal">null</span> || theme.<span class="property">music</span>.<span class="property">text</span> == <span class="literal">true</span> ) ? <span class="string">&quot;è¿™ä¼¼ä¹æ˜¯é¦–çº¯éŸ³ä¹ï¼Œè¯·å°½æƒ…çš„æ¬£èµå®ƒå§ï¼&quot;</span> : theme.<span class="property">music</span>.<span class="property">text</span>; %&gt;</span><br><span class="line">&lt;p style=&quot;font-size: 24px;font-family: &#x27;Times New Roman&#x27;, Times, serif;&quot;&gt;&lt;%-musicText%&gt;&lt;p&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><ul><li>ç„¶ååœ¨ yilia é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ·»åŠ </li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶</span></span><br><span class="line"><span class="attr">music:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># æ’­æ”¾å™¨å°ºå¯¸ç±»å‹(1ï¼šé•¿å°ºå¯¸ã€2ï¼šçŸ­å°ºå¯¸)</span></span><br><span class="line">  <span class="attr">type:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">#id: 1334445174  # ç½‘æ˜“äº‘åˆ†äº«çš„éŸ³ä¹ID(æ›´æ¢éŸ³ä¹è¯·æ›´æ”¹æ­¤é…ç½®é¡¹)</span></span><br><span class="line">  <span class="attr">autoPlay:</span> <span class="literal">false</span> <span class="comment"># æ˜¯å¦å¼€å¯è‡ªåŠ¨æ’­æ”¾</span></span><br><span class="line">  <span class="comment"># æç¤ºæ–‡æœ¬(å…³é—­è¯·è®¾ç½®ä¸ºfalse)</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">&quot;åº•éƒ¨æ–‡å­—&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>å‚è€ƒå¤§ä½¬åšçš„<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus">yilia-plus</a>ä¸­çš„é…ç½®</p></blockquote><h2 id="7-æ·»åŠ èƒŒæ™¯ç‰¹æ•ˆ"><a href="#7-æ·»åŠ èƒŒæ™¯ç‰¹æ•ˆ" class="headerlink" title="7. æ·»åŠ èƒŒæ™¯ç‰¹æ•ˆ"></a>7. æ·»åŠ èƒŒæ™¯ç‰¹æ•ˆ</h2><h3 id="7-1-ç‚¹å‡»çˆ±å¿ƒ"><a href="#7-1-ç‚¹å‡»çˆ±å¿ƒ" class="headerlink" title="7.1 ç‚¹å‡»çˆ±å¿ƒ"></a>7.1 ç‚¹å‡»çˆ±å¿ƒ</h3><ul><li>åœ¨<code>/yilia/source/js/</code>ä¸‹æ·»åŠ <code>love.js</code>æ–‡ä»¶,ä¹¦å†™ä»£ç </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"><span class="variable language_">window</span>, <span class="variable language_">document</span>, <span class="literal">undefined</span></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> hearts = [];</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> ||</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">oRequestAnimationFrame</span> ||</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span> ||</span><br><span class="line">      <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;)();</span><br><span class="line">  <span class="title function_">init</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">css</span>(</span><br><span class="line">      <span class="string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="title function_">attachEvent</span>();</span><br><span class="line">    <span class="title function_">gameloop</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">gameloop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hearts.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (hearts[i].<span class="property">alpha</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(hearts[i].<span class="property">el</span>);</span><br><span class="line">        hearts.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      hearts[i].<span class="property">y</span>--;</span><br><span class="line">      hearts[i].<span class="property">scale</span> += <span class="number">0.004</span>;</span><br><span class="line">      hearts[i].<span class="property">alpha</span> -= <span class="number">0.013</span>;</span><br><span class="line">      hearts[i].<span class="property">el</span>.<span class="property">style</span>.<span class="property">cssText</span> =</span><br><span class="line">        <span class="string">&quot;left:&quot;</span> +</span><br><span class="line">        hearts[i].<span class="property">x</span> +</span><br><span class="line">        <span class="string">&quot;px;top:&quot;</span> +</span><br><span class="line">        hearts[i].<span class="property">y</span> +</span><br><span class="line">        <span class="string">&quot;px;opacity:&quot;</span> +</span><br><span class="line">        hearts[i].<span class="property">alpha</span> +</span><br><span class="line">        <span class="string">&quot;;transform:scale(&quot;</span> +</span><br><span class="line">        hearts[i].<span class="property">scale</span> +</span><br><span class="line">        <span class="string">&quot;,&quot;</span> +</span><br><span class="line">        hearts[i].<span class="property">scale</span> +</span><br><span class="line">        <span class="string">&quot;) rotate(45deg);background:&quot;</span> +</span><br><span class="line">        hearts[i].<span class="property">color</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">requestAnimationFrame</span>(gameloop);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">attachEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> old = <span class="keyword">typeof</span> <span class="variable language_">window</span>.<span class="property">onclick</span> === <span class="string">&quot;function&quot;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">onclick</span>;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">      old &amp;&amp; <span class="title function_">old</span>();</span><br><span class="line">      <span class="title function_">createHeart</span>(event);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">createHeart</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> d = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">    d.<span class="property">className</span> = <span class="string">&quot;heart&quot;</span>;</span><br><span class="line">    hearts.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">el</span>: d,</span><br><span class="line">      <span class="attr">x</span>: event.<span class="property">clientX</span> - <span class="number">5</span>,</span><br><span class="line">      <span class="attr">y</span>: event.<span class="property">clientY</span> - <span class="number">5</span>,</span><br><span class="line">      <span class="attr">scale</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">alpha</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">color</span>: <span class="title function_">randomColor</span>()</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(d);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">css</span>(<span class="params">css</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>);</span><br><span class="line">    style.<span class="property">type</span> = <span class="string">&quot;text/css&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      style.<span class="title function_">appendChild</span>(<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(css));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">      style.<span class="property">styleSheet</span>.<span class="property">cssText</span> = css;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;head&quot;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(style);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">randomColor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="string">&quot;rgb(&quot;</span> +</span><br><span class="line">      ~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>) +</span><br><span class="line">      <span class="string">&quot;,&quot;</span> +</span><br><span class="line">      ~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>) +</span><br><span class="line">      <span class="string">&quot;,&quot;</span> +</span><br><span class="line">      ~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>) +</span><br><span class="line">      <span class="string">&quot;)&quot;</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)(<span class="variable language_">window</span>, <span class="variable language_">document</span>);</span><br></pre></td></tr></table></figure><ul><li>åœ¨<code>yilia/layout/layout.ejs</code>ä¸­æ·»åŠ ä»£ç (åˆ‡è®°åœ¨&lt;/body&gt;æ ‡ç­¾å‰æ·»åŠ )</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ã€Šé¡µé¢ç‚¹å‡»å°çº¢å¿ƒ --&gt;</span><br><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">love</span>)&#123; %&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/love.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒã€‹ --&gt;</span><br></pre></td></tr></table></figure><ul><li>åœ¨<code>yilia/_config.yml</code>ä¸­æ·»åŠ é…ç½®</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç‚¹å‡»å°çº¢å¿ƒ</span></span><br><span class="line"><span class="attr">love:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="7-2-èƒŒæ™¯çº¿æ¡"><a href="#7-2-èƒŒæ™¯çº¿æ¡" class="headerlink" title="7.2 èƒŒæ™¯çº¿æ¡"></a>7.2 èƒŒæ™¯çº¿æ¡</h3><ul><li>åœ¨<code>yilia/layout/layout.ejs</code>ä¸­æ·»åŠ ä»£ç </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--åŠ¨æ€çº¿æ¡èƒŒæ™¯--&gt;</span><br><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">canvas_nest</span>.<span class="property">enable</span>)&#123; %&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">color</span>=<span class="string">&quot;&lt;%=theme.canvas_nest.color %&gt;&quot;</span> <span class="attr">opacity</span>=<span class="string">&quot;&lt;%=theme.canvas_nest.opacity %&gt;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">zIndex</span>=<span class="string">&quot;&lt;%=theme.canvas_nest.zIndex %&gt;&quot;</span> <span class="attr">count</span>=<span class="string">&quot;&lt;%=theme.canvas_nest.count %&gt;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><ul><li>åœ¨<code>yilia/_config.yml</code>ä¸­æ·»åŠ é…ç½®</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ¨æ€çº¿æ¡æ•ˆæœï¼Œä¼šå‘é¼ æ ‡é›†ä¸­</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;255, 235, 59&quot;</span> <span class="comment"># color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">pointColor:</span> <span class="string">&quot;156,39,176&quot;</span> <span class="comment"># color of points, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="string">&quot;0.8&quot;</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="string">&quot;99&quot;</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="string">&quot;-1&quot;</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br></pre></td></tr></table></figure><h3 id="7-3-èƒŒæ™¯ç‚¹å‡»æ–‡å­—"><a href="#7-3-èƒŒæ™¯ç‚¹å‡»æ–‡å­—" class="headerlink" title="7.3 èƒŒæ™¯ç‚¹å‡»æ–‡å­—"></a>7.3 èƒŒæ™¯ç‚¹å‡»æ–‡å­—</h3><ul><li>åœ¨<code>yilia/source/js/</code>ä¸‹æ·»åŠ <code>click_show_text.js</code>æ–‡ä»¶ï¼Œæ·»åŠ ä»£ç </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a_idx = <span class="number">0</span>;</span><br><span class="line"><span class="title function_">jQuery</span>(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params">$</span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>(</span><br><span class="line">      <span class="string">&quot;å¯Œå¼º&quot;</span>,</span><br><span class="line">      <span class="string">&quot;æ°‘ä¸»&quot;</span>,</span><br><span class="line">      <span class="string">&quot;æ–‡æ˜&quot;</span>,</span><br><span class="line">      <span class="string">&quot;å’Œè°&quot;</span>,</span><br><span class="line">      <span class="string">&quot;è‡ªç”±&quot;</span>,</span><br><span class="line">      <span class="string">&quot;å¹³ç­‰&quot;</span>,</span><br><span class="line">      <span class="string">&quot;å…¬æ­£&quot;</span>,</span><br><span class="line">      <span class="string">&quot;æ³•æ²»&quot;</span>,</span><br><span class="line">      <span class="string">&quot;çˆ±å›½&quot;</span>,</span><br><span class="line">      <span class="string">&quot;æ•¬ä¸š&quot;</span>,</span><br><span class="line">      <span class="string">&quot;è¯šä¿¡&quot;</span>,</span><br><span class="line">      <span class="string">&quot;å‹å–„&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">var</span> $i = $(<span class="string">&quot;&lt;span/&gt;&quot;</span>).<span class="title function_">text</span>(a[a_idx]);</span><br><span class="line">    a_idx = (a_idx + <span class="number">1</span>) % a.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">var</span> x = e.<span class="property">pageX</span>,</span><br><span class="line">      y = e.<span class="property">pageY</span>;</span><br><span class="line">    $i.<span class="title function_">css</span>(&#123;</span><br><span class="line">      <span class="string">&quot;z-index&quot;</span>: <span class="number">5</span>,</span><br><span class="line">      <span class="attr">top</span>: y - <span class="number">20</span>,</span><br><span class="line">      <span class="attr">left</span>: x,</span><br><span class="line">      <span class="attr">position</span>: <span class="string">&quot;absolute&quot;</span>,</span><br><span class="line">      <span class="string">&quot;font-weight&quot;</span>: <span class="string">&quot;bold&quot;</span>,</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&quot;#FF0000&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($i);</span><br><span class="line">    $i.<span class="title function_">animate</span>(</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">top</span>: y - <span class="number">180</span>,</span><br><span class="line">        <span class="attr">opacity</span>: <span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">3000</span>,</span><br><span class="line">      <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        $i.<span class="title function_">remove</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="string">&quot;delay()&quot;</span>, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">delay</span>(<span class="params"></span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;.buryit&quot;</span>).<span class="title function_">removeAttr</span>(<span class="string">&quot;onclick&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨<code>yilia/layout/layout.ejs</code>ä¸­æ·»åŠ ä»£ç </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--å•å‡»æ˜¾ç¤ºæ–‡å­—--&gt;</span><br><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">click_show_text</span>)&#123; %&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/click_show_text.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><ul><li>åœ¨<code>yilia/_config.yml</code>ä¸­æ·»åŠ é…ç½®</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¼ æ ‡ç‚¹å‡»æ˜¾ç¤ºæ–‡å­—</span></span><br><span class="line"><span class="attr">click_show_text:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="http://yansheng836.coding.me/article/cf9c6a5e.html">å‚è€ƒåšå®¢</a></p></blockquote><h2 id="8-ä¿®æ”¹æ‰‹æœºç«¯çš„é¡µé¢èƒŒæ™¯é¢œè‰²ï¼Œæ–‡ç« çš„èƒŒæ™¯é¢œè‰²ä»¥åŠå¤´åƒä¸Šæ–¹é¢œè‰²"><a href="#8-ä¿®æ”¹æ‰‹æœºç«¯çš„é¡µé¢èƒŒæ™¯é¢œè‰²ï¼Œæ–‡ç« çš„èƒŒæ™¯é¢œè‰²ä»¥åŠå¤´åƒä¸Šæ–¹é¢œè‰²" class="headerlink" title="8. ä¿®æ”¹æ‰‹æœºç«¯çš„é¡µé¢èƒŒæ™¯é¢œè‰²ï¼Œæ–‡ç« çš„èƒŒæ™¯é¢œè‰²ä»¥åŠå¤´åƒä¸Šæ–¹é¢œè‰²"></a>8. ä¿®æ”¹æ‰‹æœºç«¯çš„é¡µé¢èƒŒæ™¯é¢œè‰²ï¼Œæ–‡ç« çš„èƒŒæ™¯é¢œè‰²ä»¥åŠå¤´åƒä¸Šæ–¹é¢œè‰²</h2><p>_åœ¨<code>main.0cf68a.css</code>ä¸­ä¿®æ”¹@media ä¸‹çš„æ¨¡å—_</p><h3 id="8-1-é¡µé¢èƒŒæ™¯é¢œè‰²-å›¾ç‰‡"><a href="#8-1-é¡µé¢èƒŒæ™¯é¢œè‰²-å›¾ç‰‡" class="headerlink" title="8.1 é¡µé¢èƒŒæ™¯é¢œè‰²(å›¾ç‰‡)"></a>8.1 é¡µé¢èƒŒæ™¯é¢œè‰²(å›¾ç‰‡)</h3><p>æ·»åŠ ä¸‹åˆ—ä»£ç ï¼Œå³ä¸ºä¿®æ”¹é¡µé¢çš„èƒŒæ™¯æ‰˜ i æŒ‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">800px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">        <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">127</span>, <span class="number">127</span>, <span class="number">0.212</span>),</span><br><span class="line">        <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>)</span><br><span class="line">      ), <span class="built_in">url</span>(<span class="string">./img/phone2.jpg</span>) no-repeat <span class="number">0%</span> <span class="number">20%</span> / cover;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-2-æ–‡ç« èƒŒæ™¯é¢œè‰²"><a href="#8-2-æ–‡ç« èƒŒæ™¯é¢œè‰²" class="headerlink" title="8.2 æ–‡ç« èƒŒæ™¯é¢œè‰²"></a>8.2 æ–‡ç« èƒŒæ™¯é¢œè‰²</h3><p>æ‰¾åˆ°<code>@media</code>ä¸‹çš„ article</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">85</span>, <span class="number">185</span>, <span class="number">185</span>, <span class="number">0.425</span>);</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.2s</span> ease-in;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ®è‡ªå·±å–œå¥½æ”¹å˜<code>background</code>å±æ€§å€¼</p><h3 id="8-3-å¤´åƒå›¾ç‰‡"><a href="#8-3-å¤´åƒå›¾ç‰‡" class="headerlink" title="8.3 å¤´åƒå›¾ç‰‡"></a>8.3 å¤´åƒå›¾ç‰‡</h3><p>ç›´æ¥åœ¨<code>_config.yml</code>ä¸­ä¿®æ”¹ï¼Œæˆ‘æ”¹æˆäº†é€æ˜å³<code>header: &#39;rgba(255, 127, 127, 0)&#39;</code></p><h2 id="9-ç»™ä½ çš„ç½‘é¡µæ·»åŠ åŠ¨æ€æ ‡é¢˜"><a href="#9-ç»™ä½ çš„ç½‘é¡µæ·»åŠ åŠ¨æ€æ ‡é¢˜" class="headerlink" title="9. ç»™ä½ çš„ç½‘é¡µæ·»åŠ åŠ¨æ€æ ‡é¢˜"></a>9. ç»™ä½ çš„ç½‘é¡µæ·»åŠ åŠ¨æ€æ ‡é¢˜</h2><p>åœ¨ç½‘ç«™çš„å¼€å¤´æˆ–è€…ç»“å°¾æ·»åŠ ä»£ç ï¼Œæˆ‘æ˜¯åœ¨<code>layout.ejs</code>ä¸Šæ·»åŠ çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">OriginTitile</span>=<span class="variable language_">document</span>.<span class="property">title</span>;</span><br><span class="line">  <span class="keyword">var</span> st;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="property">hidden</span>)&#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">title</span>=<span class="string">&quot;(ã¤ã‚§âŠ‚)çœ‹ä¸æƒ¹~&quot;</span>+<span class="title class_">OriginTitile</span>;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(st);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">title</span>=<span class="string">&#x27;(*Â´âˆ‡ï½€*)è¢«ä½ å‘ç°äº†~ &#x27;</span>+<span class="title class_">OriginTitile</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;show&#x27;</span>);</span><br><span class="line">      st=<span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">title</span>=<span class="title class_">OriginTitile</span>;</span><br><span class="line">      &#125;,<span class="number">6000</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;endChange=&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
